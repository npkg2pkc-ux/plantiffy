function a$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AA={exports:{}},am={},OA={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),s$=Symbol.for("react.portal"),i$=Symbol.for("react.fragment"),o$=Symbol.for("react.strict_mode"),l$=Symbol.for("react.profiler"),c$=Symbol.for("react.provider"),u$=Symbol.for("react.context"),d$=Symbol.for("react.forward_ref"),f$=Symbol.for("react.suspense"),h$=Symbol.for("react.memo"),p$=Symbol.for("react.lazy"),hw=Symbol.iterator;function m$(e){return e===null||typeof e!="object"?null:(e=hw&&e[hw]||e["@@iterator"],typeof e=="function"?e:null)}var EA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CA=Object.assign,_A={};function ec(e,t,r){this.props=e,this.context=t,this.refs=_A,this.updater=r||EA}ec.prototype.isReactComponent={};ec.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DA(){}DA.prototype=ec.prototype;function ib(e,t,r){this.props=e,this.context=t,this.refs=_A,this.updater=r||EA}var ob=ib.prototype=new DA;ob.constructor=ib;CA(ob,ec.prototype);ob.isPureReactComponent=!0;var pw=Array.isArray,MA=Object.prototype.hasOwnProperty,lb={current:null},$A={key:!0,ref:!0,__self:!0,__source:!0};function RA(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)MA.call(t,n)&&!$A.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Gd,type:e,key:i,ref:o,props:s,_owner:lb.current}}function g$(e,t){return{$$typeof:Gd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gd}function x$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mw=/\/+/g;function Eg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x$(""+e.key):t.toString(36)}function nh(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gd:case s$:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Eg(o,0):n,pw(s)?(r="",e!=null&&(r=e.replace(mw,"$&/")+"/"),nh(s,t,r,"",function(u){return u})):s!=null&&(cb(s)&&(s=g$(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",pw(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Eg(i,l);o+=nh(i,t,r,c,s)}else if(c=m$(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Eg(i,l++),o+=nh(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xf(e,t,r){if(e==null)return e;var n=[],s=0;return nh(e,n,"","",function(i){return t.call(r,i,s++)}),n}function v$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},ah={transition:null},y$={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:ah,ReactCurrentOwner:lb};function IA(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:xf,forEach:function(e,t,r){xf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xf(e,function(){t++}),t},toArray:function(e){return xf(e,function(t){return t})||[]},only:function(e){if(!cb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=ec;et.Fragment=i$;et.Profiler=l$;et.PureComponent=ib;et.StrictMode=o$;et.Suspense=f$;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y$;et.act=IA;et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=CA({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=lb.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)MA.call(t,c)&&!$A.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Gd,type:e.type,key:s,ref:i,props:n,_owner:o}};et.createContext=function(e){return e={$$typeof:u$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c$,_context:e},e.Consumer=e};et.createElement=RA;et.createFactory=function(e){var t=RA.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:d$,render:e}};et.isValidElement=cb;et.lazy=function(e){return{$$typeof:p$,_payload:{_status:-1,_result:e},_init:v$}};et.memo=function(e,t){return{$$typeof:h$,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=ah.transition;ah.transition={};try{e()}finally{ah.transition=t}};et.unstable_act=IA;et.useCallback=function(e,t){return en.current.useCallback(e,t)};et.useContext=function(e){return en.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return en.current.useDeferredValue(e)};et.useEffect=function(e,t){return en.current.useEffect(e,t)};et.useId=function(){return en.current.useId()};et.useImperativeHandle=function(e,t,r){return en.current.useImperativeHandle(e,t,r)};et.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return en.current.useMemo(e,t)};et.useReducer=function(e,t,r){return en.current.useReducer(e,t,r)};et.useRef=function(e){return en.current.useRef(e)};et.useState=function(e){return en.current.useState(e)};et.useSyncExternalStore=function(e,t,r){return en.current.useSyncExternalStore(e,t,r)};et.useTransition=function(){return en.current.useTransition()};et.version="18.3.1";OA.exports=et;var b=OA.exports;const re=pt(b),LA=a$({__proto__:null,default:re},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$=b,k$=Symbol.for("react.element"),j$=Symbol.for("react.fragment"),w$=Object.prototype.hasOwnProperty,S$=b$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N$={key:!0,ref:!0,__self:!0,__source:!0};function BA(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)w$.call(t,n)&&!N$.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:k$,type:e,key:i,ref:o,props:s,_owner:S$.current}}am.Fragment=j$;am.jsx=BA;am.jsxs=BA;AA.exports=am;var a=AA.exports,m0={},FA={exports:{}},Tn={},KA={exports:{}},zA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,F){var X=V.length;V.push(F);e:for(;0<X;){var q=X-1>>>1,oe=V[q];if(0<s(oe,F))V[q]=F,V[X]=oe,X=q;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var F=V[0],X=V.pop();if(X!==F){V[0]=X;e:for(var q=0,oe=V.length,Q=oe>>>1;q<Q;){var ce=2*(q+1)-1,se=V[ce],ie=ce+1,xe=V[ie];if(0>s(se,X))ie<oe&&0>s(xe,se)?(V[q]=xe,V[ie]=X,q=ie):(V[q]=se,V[ce]=X,q=ce);else if(ie<oe&&0>s(xe,X))V[q]=xe,V[ie]=X,q=ie;else break e}}return F}function s(V,F){var X=V.sortIndex-F.sortIndex;return X!==0?X:V.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=V)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function w(V){if(m=!1,x(V),!g)if(r(c)!==null)g=!0,L(j);else{var F=r(u);F!==null&&I(w,F.startTime-V)}}function j(V,F){g=!1,m&&(m=!1,y(P),P=-1),p=!0;var X=h;try{for(x(F),f=r(c);f!==null&&(!(f.expirationTime>F)||V&&!M());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var oe=q(f.expirationTime<=F);F=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===r(c)&&n(c),x(F)}else n(c);f=r(c)}if(f!==null)var Q=!0;else{var ce=r(u);ce!==null&&I(w,ce.startTime-F),Q=!1}return Q}finally{f=null,h=X,p=!1}}var S=!1,N=null,P=-1,O=5,C=-1;function M(){return!(e.unstable_now()-C<O)}function E(){if(N!==null){var V=e.unstable_now();C=V;var F=!0;try{F=N(!0,V)}finally{F?_():(S=!1,N=null)}}else S=!1}var _;if(typeof v=="function")_=function(){v(E)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=E,_=function(){G.postMessage(null)}}else _=function(){k(E,0)};function L(V){N=V,S||(S=!0,_())}function I(V,F){P=k(function(){V(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(j))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var X=h;h=F;try{return V()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=h;h=V;try{return F()}finally{h=X}},e.unstable_scheduleCallback=function(V,F,X){var q=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=X+oe,V={id:d++,callback:F,priorityLevel:V,startTime:X,expirationTime:oe,sortIndex:-1},X>q?(V.sortIndex=X,t(u,V),r(c)===null&&V===r(u)&&(m?(y(P),P=-1):m=!0,I(w,X-q))):(V.sortIndex=oe,t(c,V),g||p||(g=!0,L(j))),V},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(V){var F=h;return function(){var X=h;h=F;try{return V.apply(this,arguments)}finally{h=X}}}})(zA);KA.exports=zA;var P$=KA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T$=b,Nn=P$;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VA=new Set,Lu={};function bo(e,t){vl(e,t),vl(e+"Capture",t)}function vl(e,t){for(Lu[e]=t,e=0;e<t.length;e++)VA.add(t[e])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g0=Object.prototype.hasOwnProperty,A$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gw={},xw={};function O$(e){return g0.call(xw,e)?!0:g0.call(gw,e)?!1:A$.test(e)?xw[e]=!0:(gw[e]=!0,!1)}function E$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C$(e,t,r,n){if(t===null||typeof t>"u"||E$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pr[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pr[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pr[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pr[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pr[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pr[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pr[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pr[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pr[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ub=/[\-:]([a-z])/g;function db(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ub,db);Pr[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ub,db);Pr[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ub,db);Pr[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pr[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pr[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function fb(e,t,r,n){var s=Pr.hasOwnProperty(t)?Pr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C$(t,r,s,n)&&(r=null),n||s===null?O$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cs=T$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vf=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),HA=Symbol.for("react.context"),pb=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),mb=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),WA=Symbol.for("react.offscreen"),vw=Symbol.iterator;function jc(e){return e===null||typeof e!="object"?null:(e=vw&&e[vw]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,Cg;function ou(e){if(Cg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cg=t&&t[1]||""}return`
`+Cg+e}var _g=!1;function Dg(e,t){if(!e||_g)return"";_g=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{_g=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ou(e):""}function _$(e){switch(e.tag){case 5:return ou(e.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 2:case 15:return e=Dg(e.type,!1),e;case 11:return e=Dg(e.type.render,!1),e;case 1:return e=Dg(e.type,!0),e;default:return""}}function b0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lo:return"Fragment";case Io:return"Portal";case x0:return"Profiler";case hb:return"StrictMode";case v0:return"Suspense";case y0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HA:return(e.displayName||"Context")+".Consumer";case UA:return(e._context.displayName||"Context")+".Provider";case pb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mb:return t=e.displayName||null,t!==null?t:b0(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return b0(e(t))}catch{}}return null}function D$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(t);case 8:return t===hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M$(e){var t=GA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yf(e){e._valueTracker||(e._valueTracker=M$(e))}function qA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=GA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k0(e,t){var r=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YA(e,t){t=t.checked,t!=null&&fb(e,"checked",t,!1)}function j0(e,t){YA(e,t);var r=hi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?w0(e,t.type,r):t.hasOwnProperty("defaultValue")&&w0(e,t.type,hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function w0(e,t,r){(t!=="number"||yh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lu=Array.isArray;function sl(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function S0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(lu(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hi(r)}}function JA(e,t){var r=hi(t.value),n=hi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bf,QA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$$=["Webkit","ms","Moz","O"];Object.keys(gu).forEach(function(e){$$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gu[t]=gu[e]})});function ZA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gu.hasOwnProperty(e)&&gu[e]?(""+t).trim():t+"px"}function eO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ZA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var R$=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P0(e,t){if(t){if(R$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function T0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=null;function gb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var O0=null,il=null,ol=null;function ww(e){if(e=Jd(e)){if(typeof O0!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=cm(t),O0(e.stateNode,e.type,t))}}function tO(e){il?ol?ol.push(e):ol=[e]:il=e}function rO(){if(il){var e=il,t=ol;if(ol=il=null,ww(e),t)for(e=0;e<t.length;e++)ww(t[e])}}function nO(e,t){return e(t)}function aO(){}var Mg=!1;function sO(e,t,r){if(Mg)return e(t,r);Mg=!0;try{return nO(e,t,r)}finally{Mg=!1,(il!==null||ol!==null)&&(aO(),rO())}}function Fu(e,t){var r=e.stateNode;if(r===null)return null;var n=cm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var E0=!1;if(ts)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){E0=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{E0=!1}function I$(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xu=!1,bh=null,kh=!1,C0=null,L$={onError:function(e){xu=!0,bh=e}};function B$(e,t,r,n,s,i,o,l,c){xu=!1,bh=null,I$.apply(L$,arguments)}function F$(e,t,r,n,s,i,o,l,c){if(B$.apply(this,arguments),xu){if(xu){var u=bh;xu=!1,bh=null}else throw Error(Se(198));kh||(kh=!0,C0=u)}}function ko(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sw(e){if(ko(e)!==e)throw Error(Se(188))}function K$(e){var t=e.alternate;if(!t){if(t=ko(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Sw(s),e;if(i===n)return Sw(s),t;i=i.sibling}throw Error(Se(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function oO(e){return e=K$(e),e!==null?lO(e):null}function lO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lO(e);if(t!==null)return t;e=e.sibling}return null}var cO=Nn.unstable_scheduleCallback,Nw=Nn.unstable_cancelCallback,z$=Nn.unstable_shouldYield,V$=Nn.unstable_requestPaint,Yt=Nn.unstable_now,U$=Nn.unstable_getCurrentPriorityLevel,xb=Nn.unstable_ImmediatePriority,uO=Nn.unstable_UserBlockingPriority,jh=Nn.unstable_NormalPriority,H$=Nn.unstable_LowPriority,dO=Nn.unstable_IdlePriority,sm=null,Pa=null;function W$(e){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(sm,e,void 0,(e.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:Y$,G$=Math.log,q$=Math.LN2;function Y$(e){return e>>>=0,e===0?32:31-(G$(e)/q$|0)|0}var kf=64,jf=4194304;function cu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=cu(l):(i&=o,i!==0&&(n=cu(i)))}else o=r&~s,o!==0?n=cu(o):i!==0&&(n=cu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-da(t),s=1<<r,n|=e[r],t&=~s;return n}function J$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-da(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=J$(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fO(){var e=kf;return kf<<=1,!(kf&4194240)&&(kf=64),e}function $g(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-da(t),e[t]=r}function Q$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-da(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function vb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-da(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var mt=0;function hO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pO,yb,mO,gO,xO,D0=!1,wf=[],Qs=null,Zs=null,ei=null,Ku=new Map,zu=new Map,Us=[],Z$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(e,t){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(t.pointerId)}}function Sc(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Jd(t),t!==null&&yb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function e5(e,t,r,n,s){switch(t){case"focusin":return Qs=Sc(Qs,e,t,r,n,s),!0;case"dragenter":return Zs=Sc(Zs,e,t,r,n,s),!0;case"mouseover":return ei=Sc(ei,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ku.set(i,Sc(Ku.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,zu.set(i,Sc(zu.get(i)||null,e,t,r,n,s)),!0}return!1}function vO(e){var t=Wi(e.target);if(t!==null){var r=ko(t);if(r!==null){if(t=r.tag,t===13){if(t=iO(r),t!==null){e.blockedOn=t,xO(e.priority,function(){mO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=M0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);A0=n,r.target.dispatchEvent(n),A0=null}else return t=Jd(r),t!==null&&yb(t),e.blockedOn=r,!1;t.shift()}return!0}function Tw(e,t,r){sh(e)&&r.delete(t)}function t5(){D0=!1,Qs!==null&&sh(Qs)&&(Qs=null),Zs!==null&&sh(Zs)&&(Zs=null),ei!==null&&sh(ei)&&(ei=null),Ku.forEach(Tw),zu.forEach(Tw)}function Nc(e,t){e.blockedOn===t&&(e.blockedOn=null,D0||(D0=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,t5)))}function Vu(e){function t(s){return Nc(s,e)}if(0<wf.length){Nc(wf[0],e);for(var r=1;r<wf.length;r++){var n=wf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qs!==null&&Nc(Qs,e),Zs!==null&&Nc(Zs,e),ei!==null&&Nc(ei,e),Ku.forEach(t),zu.forEach(t),r=0;r<Us.length;r++)n=Us[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Us.length&&(r=Us[0],r.blockedOn===null);)vO(r),r.blockedOn===null&&Us.shift()}var ll=cs.ReactCurrentBatchConfig,Sh=!0;function r5(e,t,r,n){var s=mt,i=ll.transition;ll.transition=null;try{mt=1,bb(e,t,r,n)}finally{mt=s,ll.transition=i}}function n5(e,t,r,n){var s=mt,i=ll.transition;ll.transition=null;try{mt=4,bb(e,t,r,n)}finally{mt=s,ll.transition=i}}function bb(e,t,r,n){if(Sh){var s=M0(e,t,r,n);if(s===null)Hg(e,t,n,Nh,r),Pw(e,n);else if(e5(s,e,t,r,n))n.stopPropagation();else if(Pw(e,n),t&4&&-1<Z$.indexOf(e)){for(;s!==null;){var i=Jd(s);if(i!==null&&pO(i),i=M0(e,t,r,n),i===null&&Hg(e,t,n,Nh,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Hg(e,t,n,null,r)}}var Nh=null;function M0(e,t,r,n){if(Nh=null,e=gb(n),e=Wi(e),e!==null)if(t=ko(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nh=e,null}function yO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U$()){case xb:return 1;case uO:return 4;case jh:case H$:return 16;case dO:return 536870912;default:return 16}default:return 16}}var Gs=null,kb=null,ih=null;function bO(){if(ih)return ih;var e,t=kb,r=t.length,n,s="value"in Gs?Gs.value:Gs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ih=s.slice(e,1<n?1-n:void 0)}function oh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sf(){return!0}function Aw(){return!1}function An(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sf:Aw,this.isPropagationStopped=Aw,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),t}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jb=An(tc),Yd=Vt({},tc,{view:0,detail:0}),a5=An(Yd),Rg,Ig,Pc,im=Vt({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pc&&(Pc&&e.type==="mousemove"?(Rg=e.screenX-Pc.screenX,Ig=e.screenY-Pc.screenY):Ig=Rg=0,Pc=e),Rg)},movementY:function(e){return"movementY"in e?e.movementY:Ig}}),Ow=An(im),s5=Vt({},im,{dataTransfer:0}),i5=An(s5),o5=Vt({},Yd,{relatedTarget:0}),Lg=An(o5),l5=Vt({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),c5=An(l5),u5=Vt({},tc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d5=An(u5),f5=Vt({},tc,{data:0}),Ew=An(f5),h5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m5[e])?!!t[e]:!1}function wb(){return g5}var x5=Vt({},Yd,{key:function(e){if(e.key){var t=h5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wb,charCode:function(e){return e.type==="keypress"?oh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v5=An(x5),y5=Vt({},im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cw=An(y5),b5=Vt({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wb}),k5=An(b5),j5=Vt({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),w5=An(j5),S5=Vt({},im,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N5=An(S5),P5=[9,13,27,32],Sb=ts&&"CompositionEvent"in window,vu=null;ts&&"documentMode"in document&&(vu=document.documentMode);var T5=ts&&"TextEvent"in window&&!vu,kO=ts&&(!Sb||vu&&8<vu&&11>=vu),_w=" ",Dw=!1;function jO(e,t){switch(e){case"keyup":return P5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function A5(e,t){switch(e){case"compositionend":return wO(t);case"keypress":return t.which!==32?null:(Dw=!0,_w);case"textInput":return e=t.data,e===_w&&Dw?null:e;default:return null}}function O5(e,t){if(Bo)return e==="compositionend"||!Sb&&jO(e,t)?(e=bO(),ih=kb=Gs=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kO&&t.locale!=="ko"?null:t.data;default:return null}}var E5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E5[e.type]:t==="textarea"}function SO(e,t,r,n){tO(n),t=Ph(t,"onChange"),0<t.length&&(r=new jb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yu=null,Uu=null;function C5(e){$O(e,0)}function om(e){var t=zo(e);if(qA(t))return e}function _5(e,t){if(e==="change")return t}var NO=!1;if(ts){var Bg;if(ts){var Fg="oninput"in document;if(!Fg){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),Fg=typeof $w.oninput=="function"}Bg=Fg}else Bg=!1;NO=Bg&&(!document.documentMode||9<document.documentMode)}function Rw(){yu&&(yu.detachEvent("onpropertychange",PO),Uu=yu=null)}function PO(e){if(e.propertyName==="value"&&om(Uu)){var t=[];SO(t,Uu,e,gb(e)),sO(C5,t)}}function D5(e,t,r){e==="focusin"?(Rw(),yu=t,Uu=r,yu.attachEvent("onpropertychange",PO)):e==="focusout"&&Rw()}function M5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return om(Uu)}function $5(e,t){if(e==="click")return om(t)}function R5(e,t){if(e==="input"||e==="change")return om(t)}function I5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ga=typeof Object.is=="function"?Object.is:I5;function Hu(e,t){if(ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!g0.call(t,s)||!ga(e[s],t[s]))return!1}return!0}function Iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lw(e,t){var r=Iw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Iw(r)}}function TO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AO(){for(var e=window,t=yh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yh(e.document)}return t}function Nb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L5(e){var t=AO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&TO(r.ownerDocument.documentElement,r)){if(n!==null&&Nb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Lw(r,i);var o=Lw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B5=ts&&"documentMode"in document&&11>=document.documentMode,Fo=null,$0=null,bu=null,R0=!1;function Bw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R0||Fo==null||Fo!==yh(n)||(n=Fo,"selectionStart"in n&&Nb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bu&&Hu(bu,n)||(bu=n,n=Ph($0,"onSelect"),0<n.length&&(t=new jb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fo)))}function Nf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ko={animationend:Nf("Animation","AnimationEnd"),animationiteration:Nf("Animation","AnimationIteration"),animationstart:Nf("Animation","AnimationStart"),transitionend:Nf("Transition","TransitionEnd")},Kg={},OO={};ts&&(OO=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function lm(e){if(Kg[e])return Kg[e];if(!Ko[e])return e;var t=Ko[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OO)return Kg[e]=t[r];return e}var EO=lm("animationend"),CO=lm("animationiteration"),_O=lm("animationstart"),DO=lm("transitionend"),MO=new Map,Fw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(e,t){MO.set(e,t),bo(t,[e])}for(var zg=0;zg<Fw.length;zg++){var Vg=Fw[zg],F5=Vg.toLowerCase(),K5=Vg[0].toUpperCase()+Vg.slice(1);vi(F5,"on"+K5)}vi(EO,"onAnimationEnd");vi(CO,"onAnimationIteration");vi(_O,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(DO,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function Kw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,F$(n,t,void 0,e),e.currentTarget=null}function $O(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Kw(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Kw(s,l,u),i=c}}}if(kh)throw e=C0,kh=!1,C0=null,e}function Ot(e,t){var r=t[K0];r===void 0&&(r=t[K0]=new Set);var n=e+"__bubble";r.has(n)||(RO(t,e,2,!1),r.add(n))}function Ug(e,t,r){var n=0;t&&(n|=4),RO(r,e,n,t)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[Pf]){e[Pf]=!0,VA.forEach(function(r){r!=="selectionchange"&&(z5.has(r)||Ug(r,!1,e),Ug(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pf]||(t[Pf]=!0,Ug("selectionchange",!1,t))}}function RO(e,t,r,n){switch(yO(t)){case 1:var s=r5;break;case 4:s=n5;break;default:s=bb}r=s.bind(null,t,r,e),s=void 0,!E0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hg(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Wi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}sO(function(){var u=i,d=gb(r),f=[];e:{var h=MO.get(e);if(h!==void 0){var p=jb,g=e;switch(e){case"keypress":if(oh(r)===0)break e;case"keydown":case"keyup":p=v5;break;case"focusin":g="focus",p=Lg;break;case"focusout":g="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=i5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k5;break;case EO:case CO:case _O:p=c5;break;case DO:p=w5;break;case"scroll":p=a5;break;case"wheel":p=N5;break;case"copy":case"cut":case"paste":p=d5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cw}var m=(t&4)!==0,k=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,y!==null&&(w=Fu(v,y),w!=null&&m.push(Gu(v,w,x)))),k)break;v=v.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==A0&&(g=r.relatedTarget||r.fromElement)&&(Wi(g)||g[rs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Wi(g):null,g!==null&&(k=ko(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Ow,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=Cw,w="onPointerLeave",y="onPointerEnter",v="pointer"),k=p==null?h:zo(p),x=g==null?h:zo(g),h=new m(w,v+"leave",p,r,d),h.target=k,h.relatedTarget=x,w=null,Wi(d)===u&&(m=new m(y,v+"enter",g,r,d),m.target=x,m.relatedTarget=k,w=m),k=w,p&&g)t:{for(m=p,y=g,v=0,x=m;x;x=Co(x))v++;for(x=0,w=y;w;w=Co(w))x++;for(;0<v-x;)m=Co(m),v--;for(;0<x-v;)y=Co(y),x--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Co(m),y=Co(y)}m=null}else m=null;p!==null&&zw(f,h,p,m,!1),g!==null&&k!==null&&zw(f,k,g,m,!0)}}e:{if(h=u?zo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=_5;else if(Mw(h))if(NO)j=R5;else{j=M5;var S=D5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=$5);if(j&&(j=j(e,u))){SO(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&w0(h,"number",h.value)}switch(S=u?zo(u):window,e){case"focusin":(Mw(S)||S.contentEditable==="true")&&(Fo=S,$0=u,bu=null);break;case"focusout":bu=$0=Fo=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,Bw(f,r,d);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":Bw(f,r,d)}var N;if(Sb)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Bo?jO(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(kO&&r.locale!=="ko"&&(Bo||P!=="onCompositionStart"?P==="onCompositionEnd"&&Bo&&(N=bO()):(Gs=d,kb="value"in Gs?Gs.value:Gs.textContent,Bo=!0)),S=Ph(u,P),0<S.length&&(P=new Ew(P,e,null,r,d),f.push({event:P,listeners:S}),N?P.data=N:(N=wO(r),N!==null&&(P.data=N)))),(N=T5?A5(e,r):O5(e,r))&&(u=Ph(u,"onBeforeInput"),0<u.length&&(d=new Ew("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}$O(f,t)})}function Gu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ph(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fu(e,r),i!=null&&n.unshift(Gu(e,i,s)),i=Fu(e,t),i!=null&&n.push(Gu(e,i,s))),e=e.return}return n}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zw(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Fu(r,i),c!=null&&o.unshift(Gu(r,c,l))):s||(c=Fu(r,i),c!=null&&o.push(Gu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V5=/\r\n?/g,U5=/\u0000|\uFFFD/g;function Vw(e){return(typeof e=="string"?e:""+e).replace(V5,`
`).replace(U5,"")}function Tf(e,t,r){if(t=Vw(t),Vw(e)!==t&&r)throw Error(Se(425))}function Th(){}var I0=null,L0=null;function B0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var F0=typeof setTimeout=="function"?setTimeout:void 0,H5=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,W5=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(e){return Uw.resolve(null).then(e).catch(G5)}:F0;function G5(e){setTimeout(function(){throw e})}function Wg(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vu(t)}function ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rc=Math.random().toString(36).slice(2),wa="__reactFiber$"+rc,qu="__reactProps$"+rc,rs="__reactContainer$"+rc,K0="__reactEvents$"+rc,q5="__reactListeners$"+rc,Y5="__reactHandles$"+rc;function Wi(e){var t=e[wa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rs]||r[wa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hw(e);e!==null;){if(r=e[wa])return r;e=Hw(e)}return t}e=r,r=e.parentNode}return null}function Jd(e){return e=e[wa]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function cm(e){return e[qu]||null}var z0=[],Vo=-1;function yi(e){return{current:e}}function _t(e){0>Vo||(e.current=z0[Vo],z0[Vo]=null,Vo--)}function St(e,t){Vo++,z0[Vo]=e.current,e.current=t}var pi={},Fr=yi(pi),un=yi(!1),oo=pi;function yl(e,t){var r=e.type.contextTypes;if(!r)return pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dn(e){return e=e.childContextTypes,e!=null}function Ah(){_t(un),_t(Fr)}function Ww(e,t,r){if(Fr.current!==pi)throw Error(Se(168));St(Fr,t),St(un,r)}function IO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Se(108,D$(e)||"Unknown",s));return Vt({},r,n)}function Oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,oo=Fr.current,St(Fr,e),St(un,un.current),!0}function Gw(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=IO(e,t,oo),n.__reactInternalMemoizedMergedChildContext=e,_t(un),_t(Fr),St(Fr,e)):_t(un),St(un,r)}var za=null,um=!1,Gg=!1;function LO(e){za===null?za=[e]:za.push(e)}function J5(e){um=!0,LO(e)}function bi(){if(!Gg&&za!==null){Gg=!0;var e=0,t=mt;try{var r=za;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}za=null,um=!1}catch(s){throw za!==null&&(za=za.slice(e+1)),cO(xb,bi),s}finally{mt=t,Gg=!1}}return null}var Uo=[],Ho=0,Eh=null,Ch=0,Rn=[],In=0,lo=null,Va=1,Ua="";function Mi(e,t){Uo[Ho++]=Ch,Uo[Ho++]=Eh,Eh=e,Ch=t}function BO(e,t,r){Rn[In++]=Va,Rn[In++]=Ua,Rn[In++]=lo,lo=e;var n=Va;e=Ua;var s=32-da(n)-1;n&=~(1<<s),r+=1;var i=32-da(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Va=1<<32-da(t)+s|r<<s|n,Ua=i+e}else Va=1<<i|r<<s|n,Ua=e}function Pb(e){e.return!==null&&(Mi(e,1),BO(e,1,0))}function Tb(e){for(;e===Eh;)Eh=Uo[--Ho],Uo[Ho]=null,Ch=Uo[--Ho],Uo[Ho]=null;for(;e===lo;)lo=Rn[--In],Rn[In]=null,Ua=Rn[--In],Rn[In]=null,Va=Rn[--In],Rn[In]=null}var jn=null,kn=null,Mt=!1,ca=null;function FO(e,t){var r=Bn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jn=e,kn=ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lo!==null?{id:Va,overflow:Ua}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,jn=e,kn=null,!0):!1;default:return!1}}function V0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function U0(e){if(Mt){var t=kn;if(t){var r=t;if(!qw(e,t)){if(V0(e))throw Error(Se(418));t=ti(r.nextSibling);var n=jn;t&&qw(e,t)?FO(n,r):(e.flags=e.flags&-4097|2,Mt=!1,jn=e)}}else{if(V0(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Mt=!1,jn=e}}}function Yw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jn=e}function Af(e){if(e!==jn)return!1;if(!Mt)return Yw(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!B0(e.type,e.memoizedProps)),t&&(t=kn)){if(V0(e))throw KO(),Error(Se(418));for(;t;)FO(e,t),t=ti(t.nextSibling)}if(Yw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kn=ti(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=jn?ti(e.stateNode.nextSibling):null;return!0}function KO(){for(var e=kn;e;)e=ti(e.nextSibling)}function bl(){kn=jn=null,Mt=!1}function Ab(e){ca===null?ca=[e]:ca.push(e)}var X5=cs.ReactCurrentBatchConfig;function Tc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function Of(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jw(e){var t=e._init;return t(e._payload)}function zO(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=si(y,v),y.index=0,y.sibling=null,y}function i(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,x,w){return v===null||v.tag!==6?(v=ex(x,y.mode,w),v.return=y,v):(v=s(v,x),v.return=y,v)}function c(y,v,x,w){var j=x.type;return j===Lo?d(y,v,x.props.children,w,x.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fs&&Jw(j)===v.type)?(w=s(v,x.props),w.ref=Tc(y,v,x),w.return=y,w):(w=ph(x.type,x.key,x.props,null,y.mode,w),w.ref=Tc(y,v,x),w.return=y,w)}function u(y,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=tx(x,y.mode,w),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function d(y,v,x,w,j){return v===null||v.tag!==7?(v=ro(x,y.mode,w,j),v.return=y,v):(v=s(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ex(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vf:return x=ph(v.type,v.key,v.props,null,y.mode,x),x.ref=Tc(y,null,v),x.return=y,x;case Io:return v=tx(v,y.mode,x),v.return=y,v;case Fs:var w=v._init;return f(y,w(v._payload),x)}if(lu(v)||jc(v))return v=ro(v,y.mode,x,null),v.return=y,v;Of(y,v)}return null}function h(y,v,x,w){var j=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(y,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vf:return x.key===j?c(y,v,x,w):null;case Io:return x.key===j?u(y,v,x,w):null;case Fs:return j=x._init,h(y,v,j(x._payload),w)}if(lu(x)||jc(x))return j!==null?null:d(y,v,x,w,null);Of(y,x)}return null}function p(y,v,x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(x)||null,l(v,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vf:return y=y.get(w.key===null?x:w.key)||null,c(v,y,w,j);case Io:return y=y.get(w.key===null?x:w.key)||null,u(v,y,w,j);case Fs:var S=w._init;return p(y,v,x,S(w._payload),j)}if(lu(w)||jc(w))return y=y.get(x)||null,d(v,y,w,j,null);Of(v,w)}return null}function g(y,v,x,w){for(var j=null,S=null,N=v,P=v=0,O=null;N!==null&&P<x.length;P++){N.index>P?(O=N,N=null):O=N.sibling;var C=h(y,N,x[P],w);if(C===null){N===null&&(N=O);break}e&&N&&C.alternate===null&&t(y,N),v=i(C,v,P),S===null?j=C:S.sibling=C,S=C,N=O}if(P===x.length)return r(y,N),Mt&&Mi(y,P),j;if(N===null){for(;P<x.length;P++)N=f(y,x[P],w),N!==null&&(v=i(N,v,P),S===null?j=N:S.sibling=N,S=N);return Mt&&Mi(y,P),j}for(N=n(y,N);P<x.length;P++)O=p(N,y,P,x[P],w),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?P:O.key),v=i(O,v,P),S===null?j=O:S.sibling=O,S=O);return e&&N.forEach(function(M){return t(y,M)}),Mt&&Mi(y,P),j}function m(y,v,x,w){var j=jc(x);if(typeof j!="function")throw Error(Se(150));if(x=j.call(x),x==null)throw Error(Se(151));for(var S=j=null,N=v,P=v=0,O=null,C=x.next();N!==null&&!C.done;P++,C=x.next()){N.index>P?(O=N,N=null):O=N.sibling;var M=h(y,N,C.value,w);if(M===null){N===null&&(N=O);break}e&&N&&M.alternate===null&&t(y,N),v=i(M,v,P),S===null?j=M:S.sibling=M,S=M,N=O}if(C.done)return r(y,N),Mt&&Mi(y,P),j;if(N===null){for(;!C.done;P++,C=x.next())C=f(y,C.value,w),C!==null&&(v=i(C,v,P),S===null?j=C:S.sibling=C,S=C);return Mt&&Mi(y,P),j}for(N=n(y,N);!C.done;P++,C=x.next())C=p(N,y,P,C.value,w),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?P:C.key),v=i(C,v,P),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(E){return t(y,E)}),Mt&&Mi(y,P),j}function k(y,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Lo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vf:e:{for(var j=x.key,S=v;S!==null;){if(S.key===j){if(j=x.type,j===Lo){if(S.tag===7){r(y,S.sibling),v=s(S,x.props.children),v.return=y,y=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fs&&Jw(j)===S.type){r(y,S.sibling),v=s(S,x.props),v.ref=Tc(y,S,x),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}x.type===Lo?(v=ro(x.props.children,y.mode,w,x.key),v.return=y,y=v):(w=ph(x.type,x.key,x.props,null,y.mode,w),w.ref=Tc(y,v,x),w.return=y,y=w)}return o(y);case Io:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=tx(x,y.mode,w),v.return=y,y=v}return o(y);case Fs:return S=x._init,k(y,v,S(x._payload),w)}if(lu(x))return g(y,v,x,w);if(jc(x))return m(y,v,x,w);Of(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,x),v.return=y,y=v):(r(y,v),v=ex(x,y.mode,w),v.return=y,y=v),o(y)):r(y,v)}return k}var kl=zO(!0),VO=zO(!1),_h=yi(null),Dh=null,Wo=null,Ob=null;function Eb(){Ob=Wo=Dh=null}function Cb(e){var t=_h.current;_t(_h),e._currentValue=t}function H0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cl(e,t){Dh=e,Ob=Wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(Ob!==e)if(e={context:e,memoizedValue:t,next:null},Wo===null){if(Dh===null)throw Error(Se(308));Wo=e,Dh.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return t}var Gi=null;function _b(e){Gi===null?Gi=[e]:Gi.push(e)}function UO(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_b(t)):(r.next=s.next,s.next=r),t.interleaved=r,ns(e,n)}function ns(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ks=!1;function Db(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ri(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ot&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ns(e,r)}return s=n.interleaved,s===null?(t.next=t,_b(n)):(t.next=s.next,s.next=t),n.interleaved=t,ns(e,r)}function lh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vb(e,r)}}function Xw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mh(e,t,r,n){var s=e.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Vt({},f,h);break e;case 2:Ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);uo|=o,e.lanes=o,e.memoizedState=f}}function Qw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Se(191,s));s.call(n)}}}var Xd={},Ta=yi(Xd),Yu=yi(Xd),Ju=yi(Xd);function qi(e){if(e===Xd)throw Error(Se(174));return e}function Mb(e,t){switch(St(Ju,t),St(Yu,e),St(Ta,Xd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:N0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=N0(t,e)}_t(Ta),St(Ta,t)}function jl(){_t(Ta),_t(Yu),_t(Ju)}function WO(e){qi(Ju.current);var t=qi(Ta.current),r=N0(t,e.type);t!==r&&(St(Yu,e),St(Ta,r))}function $b(e){Yu.current===e&&(_t(Ta),_t(Yu))}var Lt=yi(0);function $h(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qg=[];function Rb(){for(var e=0;e<qg.length;e++)qg[e]._workInProgressVersionPrimary=null;qg.length=0}var ch=cs.ReactCurrentDispatcher,Yg=cs.ReactCurrentBatchConfig,co=0,Ft=null,lr=null,vr=null,Rh=!1,ku=!1,Xu=0,Q5=0;function Er(){throw Error(Se(321))}function Ib(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ga(e[r],t[r]))return!1;return!0}function Lb(e,t,r,n,s,i){if(co=i,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ch.current=e===null||e.memoizedState===null?rR:nR,e=r(n,s),ku){i=0;do{if(ku=!1,Xu=0,25<=i)throw Error(Se(301));i+=1,vr=lr=null,t.updateQueue=null,ch.current=aR,e=r(n,s)}while(ku)}if(ch.current=Ih,t=lr!==null&&lr.next!==null,co=0,vr=lr=Ft=null,Rh=!1,t)throw Error(Se(300));return e}function Bb(){var e=Xu!==0;return Xu=0,e}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Ft.memoizedState=vr=e:vr=vr.next=e,vr}function Vn(){if(lr===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=lr.next;var t=vr===null?Ft.memoizedState:vr.next;if(t!==null)vr=t,lr=e;else{if(e===null)throw Error(Se(310));lr=e,e={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},vr===null?Ft.memoizedState=vr=e:vr=vr.next=e}return vr}function Qu(e,t){return typeof t=="function"?t(e):t}function Jg(e){var t=Vn(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=lr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((co&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ft.lanes|=d,uo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ga(n,t.memoizedState)||(on=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ft.lanes|=i,uo|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xg(e){var t=Vn(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ga(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function GO(){}function qO(e,t){var r=Ft,n=Vn(),s=t(),i=!ga(n.memoizedState,s);if(i&&(n.memoizedState=s,on=!0),n=n.queue,Fb(XO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||vr!==null&&vr.memoizedState.tag&1){if(r.flags|=2048,Zu(9,JO.bind(null,r,n,s,t),void 0,null),br===null)throw Error(Se(349));co&30||YO(r,t,s)}return s}function YO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function JO(e,t,r,n){t.value=r,t.getSnapshot=n,QO(t)&&ZO(e)}function XO(e,t,r){return r(function(){QO(t)&&ZO(e)})}function QO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ga(e,r)}catch{return!0}}function ZO(e){var t=ns(e,1);t!==null&&fa(t,e,1,-1)}function Zw(e){var t=ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:e},t.queue=e,e=e.dispatch=tR.bind(null,Ft,e),[t.memoizedState,e]}function Zu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function eE(){return Vn().memoizedState}function uh(e,t,r,n){var s=ja();Ft.flags|=e,s.memoizedState=Zu(1|t,r,void 0,n===void 0?null:n)}function dm(e,t,r,n){var s=Vn();n=n===void 0?null:n;var i=void 0;if(lr!==null){var o=lr.memoizedState;if(i=o.destroy,n!==null&&Ib(n,o.deps)){s.memoizedState=Zu(t,r,i,n);return}}Ft.flags|=e,s.memoizedState=Zu(1|t,r,i,n)}function e1(e,t){return uh(8390656,8,e,t)}function Fb(e,t){return dm(2048,8,e,t)}function tE(e,t){return dm(4,2,e,t)}function rE(e,t){return dm(4,4,e,t)}function nE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aE(e,t,r){return r=r!=null?r.concat([e]):null,dm(4,4,nE.bind(null,t,e),r)}function Kb(){}function sE(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ib(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iE(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ib(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oE(e,t,r){return co&21?(ga(r,t)||(r=fO(),Ft.lanes|=r,uo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=r)}function Z5(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=Yg.transition;Yg.transition={};try{e(!1),t()}finally{mt=r,Yg.transition=n}}function lE(){return Vn().memoizedState}function eR(e,t,r){var n=ai(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cE(e))uE(t,r);else if(r=UO(e,t,r,n),r!==null){var s=Zr();fa(r,e,n,s),dE(r,t,n)}}function tR(e,t,r){var n=ai(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cE(e))uE(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ga(l,o)){var c=t.interleaved;c===null?(s.next=s,_b(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=UO(e,t,s,n),r!==null&&(s=Zr(),fa(r,e,n,s),dE(r,t,n))}}function cE(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function uE(e,t){ku=Rh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vb(e,r)}}var Ih={readContext:zn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},rR={readContext:zn,useCallback:function(e,t){return ja().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:e1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uh(4194308,4,nE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uh(4194308,4,e,t)},useInsertionEffect:function(e,t){return uh(4,2,e,t)},useMemo:function(e,t){var r=ja();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ja();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eR.bind(null,Ft,e),[n.memoizedState,e]},useRef:function(e){var t=ja();return e={current:e},t.memoizedState=e},useState:Zw,useDebugValue:Kb,useDeferredValue:function(e){return ja().memoizedState=e},useTransition:function(){var e=Zw(!1),t=e[0];return e=Z5.bind(null,e[1]),ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ft,s=ja();if(Mt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),br===null)throw Error(Se(349));co&30||YO(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,e1(XO.bind(null,n,i,e),[e]),n.flags|=2048,Zu(9,JO.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ja(),t=br.identifierPrefix;if(Mt){var r=Ua,n=Va;r=(n&~(1<<32-da(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Q5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nR={readContext:zn,useCallback:sE,useContext:zn,useEffect:Fb,useImperativeHandle:aE,useInsertionEffect:tE,useLayoutEffect:rE,useMemo:iE,useReducer:Jg,useRef:eE,useState:function(){return Jg(Qu)},useDebugValue:Kb,useDeferredValue:function(e){var t=Vn();return oE(t,lr.memoizedState,e)},useTransition:function(){var e=Jg(Qu)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:GO,useSyncExternalStore:qO,useId:lE,unstable_isNewReconciler:!1},aR={readContext:zn,useCallback:sE,useContext:zn,useEffect:Fb,useImperativeHandle:aE,useInsertionEffect:tE,useLayoutEffect:rE,useMemo:iE,useReducer:Xg,useRef:eE,useState:function(){return Xg(Qu)},useDebugValue:Kb,useDeferredValue:function(e){var t=Vn();return lr===null?t.memoizedState=e:oE(t,lr.memoizedState,e)},useTransition:function(){var e=Xg(Qu)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:GO,useSyncExternalStore:qO,useId:lE,unstable_isNewReconciler:!1};function sa(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function W0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Vt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fm={isMounted:function(e){return(e=e._reactInternals)?ko(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zr(),s=ai(e),i=Ya(n,s);i.payload=t,r!=null&&(i.callback=r),t=ri(e,i,s),t!==null&&(fa(t,e,s,n),lh(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zr(),s=ai(e),i=Ya(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ri(e,i,s),t!==null&&(fa(t,e,s,n),lh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zr(),n=ai(e),s=Ya(r,n);s.tag=2,t!=null&&(s.callback=t),t=ri(e,s,n),t!==null&&(fa(t,e,n,r),lh(t,e,n))}};function t1(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hu(r,n)||!Hu(s,i):!0}function fE(e,t,r){var n=!1,s=pi,i=t.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=dn(t)?oo:Fr.current,n=t.contextTypes,i=(n=n!=null)?yl(e,s):pi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function r1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fm.enqueueReplaceState(t,t.state,null)}function G0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Db(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=dn(t)?oo:Fr.current,s.context=yl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(W0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fm.enqueueReplaceState(s,s.state,null),Mh(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wl(e,t){try{var r="",n=t;do r+=_$(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function q0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sR=typeof WeakMap=="function"?WeakMap:Map;function hE(e,t,r){r=Ya(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bh||(Bh=!0,av=n),q0(e,t)},r}function pE(e,t,r){r=Ya(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){q0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){q0(e,t),typeof n!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function n1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sR;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=yR.bind(null,e,t,r),t.then(e,e))}function a1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function s1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ya(-1,1),t.tag=2,ri(r,t,1))),r.lanes|=1),e)}var iR=cs.ReactCurrentOwner,on=!1;function Yr(e,t,r,n){t.child=e===null?VO(t,null,r,n):kl(t,e.child,r,n)}function i1(e,t,r,n,s){r=r.render;var i=t.ref;return cl(t,s),n=Lb(e,t,r,n,i,s),r=Bb(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(Mt&&r&&Pb(t),t.flags|=1,Yr(e,t,n,s),t.child)}function o1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Yb(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,mE(e,t,i,n,s)):(e=ph(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hu,r(o,n)&&e.ref===t.ref)return as(e,t,s)}return t.flags|=1,e=si(i,n),e.ref=t.ref,e.return=t,t.child=e}function mE(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Hu(i,n)&&e.ref===t.ref)if(on=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,as(e,t,s)}return Y0(e,t,r,n,s)}function gE(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(qo,xn),xn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(qo,xn),xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,St(qo,xn),xn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,St(qo,xn),xn|=n;return Yr(e,t,s,r),t.child}function xE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Y0(e,t,r,n,s){var i=dn(r)?oo:Fr.current;return i=yl(t,i),cl(t,s),r=Lb(e,t,r,n,i,s),n=Bb(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(Mt&&n&&Pb(t),t.flags|=1,Yr(e,t,r,s),t.child)}function l1(e,t,r,n,s){if(dn(r)){var i=!0;Oh(t)}else i=!1;if(cl(t,s),t.stateNode===null)dh(e,t),fE(t,r,n),G0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=dn(r)?oo:Fr.current,u=yl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&r1(t,o,n,u),Ks=!1;var h=t.memoizedState;o.state=h,Mh(t,n,o,s),c=t.memoizedState,l!==n||h!==c||un.current||Ks?(typeof d=="function"&&(W0(t,r,d,n),c=t.memoizedState),(l=Ks||t1(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,HO(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=dn(r)?oo:Fr.current,c=yl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&r1(t,o,n,c),Ks=!1,h=t.memoizedState,o.state=h,Mh(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||un.current||Ks?(typeof p=="function"&&(W0(t,r,p,n),g=t.memoizedState),(u=Ks||t1(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return J0(e,t,r,n,i,s)}function J0(e,t,r,n,s,i){xE(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Gw(t,r,!1),as(e,t,i);n=t.stateNode,iR.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=kl(t,e.child,null,i),t.child=kl(t,null,l,i)):Yr(e,t,l,i),t.memoizedState=n.state,s&&Gw(t,r,!0),t.child}function vE(e){var t=e.stateNode;t.pendingContext?Ww(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ww(e,t.context,!1),Mb(e,t.containerInfo)}function c1(e,t,r,n,s){return bl(),Ab(s),t.flags|=256,Yr(e,t,r,n),t.child}var X0={dehydrated:null,treeContext:null,retryLane:0};function Q0(e){return{baseLanes:e,cachePool:null,transitions:null}}function yE(e,t,r){var n=t.pendingProps,s=Lt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),St(Lt,s&1),e===null)return U0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mm(o,n,0,null),e=ro(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Q0(r),t.memoizedState=X0,e):zb(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return oR(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=si(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=si(l,i):(i=ro(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Q0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=X0,n}return i=e.child,e=i.sibling,n=si(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zb(e,t){return t=mm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ef(e,t,r,n){return n!==null&&Ab(n),kl(t,e.child,null,r),e=zb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oR(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Qg(Error(Se(422))),Ef(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=mm({mode:"visible",children:n.children},s,0,null),i=ro(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&kl(t,e.child,null,o),t.child.memoizedState=Q0(o),t.memoizedState=X0,i);if(!(t.mode&1))return Ef(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Se(419)),n=Qg(i,n,void 0),Ef(e,t,o,n)}if(l=(o&e.childLanes)!==0,on||l){if(n=br,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ns(e,s),fa(n,e,s,-1))}return qb(),n=Qg(Error(Se(421))),Ef(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kn=ti(s.nextSibling),jn=t,Mt=!0,ca=null,e!==null&&(Rn[In++]=Va,Rn[In++]=Ua,Rn[In++]=lo,Va=e.id,Ua=e.overflow,lo=t),t=zb(t,n.children),t.flags|=4096,t)}function u1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),H0(e.return,t,r)}function Zg(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bE(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Yr(e,t,n.children,r),n=Lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u1(e,r,t);else if(e.tag===19)u1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(St(Lt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$h(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zg(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$h(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zg(t,!0,r,null,i);break;case"together":Zg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),uo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lR(e,t,r){switch(t.tag){case 3:vE(t),bl();break;case 5:WO(t);break;case 1:dn(t.type)&&Oh(t);break;case 4:Mb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;St(_h,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(St(Lt,Lt.current&1),t.flags|=128,null):r&t.child.childLanes?yE(e,t,r):(St(Lt,Lt.current&1),e=as(e,t,r),e!==null?e.sibling:null);St(Lt,Lt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bE(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),St(Lt,Lt.current),n)break;return null;case 22:case 23:return t.lanes=0,gE(e,t,r)}return as(e,t,r)}var kE,Z0,jE,wE;kE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Z0=function(){};jE=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qi(Ta.current);var i=null;switch(r){case"input":s=k0(e,s),n=k0(e,n),i=[];break;case"select":s=Vt({},s,{value:void 0}),n=Vt({},n,{value:void 0}),i=[];break;case"textarea":s=S0(e,s),n=S0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Th)}P0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};wE=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ac(e,t){if(!Mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cR(e,t,r){var n=t.pendingProps;switch(Tb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(t),null;case 1:return dn(t.type)&&Ah(),Cr(t),null;case 3:return n=t.stateNode,jl(),_t(un),_t(Fr),Rb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Af(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ca!==null&&(ov(ca),ca=null))),Z0(e,t),Cr(t),null;case 5:$b(t);var s=qi(Ju.current);if(r=t.type,e!==null&&t.stateNode!=null)jE(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return Cr(t),null}if(e=qi(Ta.current),Af(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wa]=t,n[qu]=i,e=(t.mode&1)!==0,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<uu.length;s++)Ot(uu[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":yw(n,i),Ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",n);break;case"textarea":kw(n,i),Ot("invalid",n)}P0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Tf(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Tf(n.textContent,l,e),s=["children",""+l]):Lu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ot("scroll",n)}switch(r){case"input":yf(n),bw(n,i,!0);break;case"textarea":yf(n),jw(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Th)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wa]=t,e[qu]=n,kE(e,t,!1,!1),t.stateNode=e;e:{switch(o=T0(r,n),r){case"dialog":Ot("cancel",e),Ot("close",e),s=n;break;case"iframe":case"object":case"embed":Ot("load",e),s=n;break;case"video":case"audio":for(s=0;s<uu.length;s++)Ot(uu[s],e);s=n;break;case"source":Ot("error",e),s=n;break;case"img":case"image":case"link":Ot("error",e),Ot("load",e),s=n;break;case"details":Ot("toggle",e),s=n;break;case"input":yw(e,n),s=k0(e,n),Ot("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Vt({},n,{value:void 0}),Ot("invalid",e);break;case"textarea":kw(e,n),s=S0(e,n),Ot("invalid",e);break;default:s=n}P0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?eO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QA(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bu(e,c):typeof c=="number"&&Bu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ot("scroll",e):c!=null&&fb(e,i,c,o))}switch(r){case"input":yf(e),bw(e,n,!1);break;case"textarea":yf(e),jw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?sl(e,!!n.multiple,i,!1):n.defaultValue!=null&&sl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Th)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cr(t),null;case 6:if(e&&t.stateNode!=null)wE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=qi(Ju.current),qi(Ta.current),Af(t)){if(n=t.stateNode,r=t.memoizedProps,n[wa]=t,(i=n.nodeValue!==r)&&(e=jn,e!==null))switch(e.tag){case 3:Tf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wa]=t,t.stateNode=n}return Cr(t),null;case 13:if(_t(Lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&kn!==null&&t.mode&1&&!(t.flags&128))KO(),bl(),t.flags|=98560,i=!1;else if(i=Af(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[wa]=t}else bl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cr(t),i=!1}else ca!==null&&(ov(ca),ca=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?ur===0&&(ur=3):qb())),t.updateQueue!==null&&(t.flags|=4),Cr(t),null);case 4:return jl(),Z0(e,t),e===null&&Wu(t.stateNode.containerInfo),Cr(t),null;case 10:return Cb(t.type._context),Cr(t),null;case 17:return dn(t.type)&&Ah(),Cr(t),null;case 19:if(_t(Lt),i=t.memoizedState,i===null)return Cr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ac(i,!1);else{if(ur!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$h(e),o!==null){for(t.flags|=128,Ac(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return St(Lt,Lt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Yt()>Sl&&(t.flags|=128,n=!0,Ac(i,!1),t.lanes=4194304)}else{if(!n)if(e=$h(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ac(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Mt)return Cr(t),null}else 2*Yt()-i.renderingStartTime>Sl&&r!==1073741824&&(t.flags|=128,n=!0,Ac(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Yt(),t.sibling=null,r=Lt.current,St(Lt,n?r&1|2:r&1),t):(Cr(t),null);case 22:case 23:return Gb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?xn&1073741824&&(Cr(t),t.subtreeFlags&6&&(t.flags|=8192)):Cr(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function uR(e,t){switch(Tb(t),t.tag){case 1:return dn(t.type)&&Ah(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jl(),_t(un),_t(Fr),Rb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $b(t),null;case 13:if(_t(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Lt),null;case 4:return jl(),null;case 10:return Cb(t.type._context),null;case 22:case 23:return Gb(),null;case 24:return null;default:return null}}var Cf=!1,Ir=!1,dR=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ht(e,t,n)}else r.current=null}function ev(e,t,r){try{r()}catch(n){Ht(e,t,n)}}var d1=!1;function fR(e,t){if(I0=Sh,e=AO(),Nb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(L0={focusedElem:e,selectionRange:r},Sh=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,k=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:sa(t.type,m),k);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(w){Ht(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=d1,d1=!1,g}function ju(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ev(t,r,i)}s=s.next}while(s!==n)}}function hm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function SE(e){var t=e.alternate;t!==null&&(e.alternate=null,SE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[qu],delete t[K0],delete t[q5],delete t[Y5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NE(e){return e.tag===5||e.tag===3||e.tag===4}function f1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Th));else if(n!==4&&(e=e.child,e!==null))for(rv(e,t,r),e=e.sibling;e!==null;)rv(e,t,r),e=e.sibling}function nv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nv(e,t,r),e=e.sibling;e!==null;)nv(e,t,r),e=e.sibling}var Sr=null,ia=!1;function Ms(e,t,r){for(r=r.child;r!==null;)PE(e,t,r),r=r.sibling}function PE(e,t,r){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(sm,r)}catch{}switch(r.tag){case 5:Ir||Go(r,t);case 6:var n=Sr,s=ia;Sr=null,Ms(e,t,r),Sr=n,ia=s,Sr!==null&&(ia?(e=Sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sr.removeChild(r.stateNode));break;case 18:Sr!==null&&(ia?(e=Sr,r=r.stateNode,e.nodeType===8?Wg(e.parentNode,r):e.nodeType===1&&Wg(e,r),Vu(e)):Wg(Sr,r.stateNode));break;case 4:n=Sr,s=ia,Sr=r.stateNode.containerInfo,ia=!0,Ms(e,t,r),Sr=n,ia=s;break;case 0:case 11:case 14:case 15:if(!Ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ev(r,t,o),s=s.next}while(s!==n)}Ms(e,t,r);break;case 1:if(!Ir&&(Go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ht(r,t,l)}Ms(e,t,r);break;case 21:Ms(e,t,r);break;case 22:r.mode&1?(Ir=(n=Ir)||r.memoizedState!==null,Ms(e,t,r),Ir=n):Ms(e,t,r);break;default:Ms(e,t,r)}}function h1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dR),t.forEach(function(n){var s=kR.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function na(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Sr=l.stateNode,ia=!1;break e;case 3:Sr=l.stateNode.containerInfo,ia=!0;break e;case 4:Sr=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(Sr===null)throw Error(Se(160));PE(i,o,s),Sr=null,ia=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ht(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TE(t,e),t=t.sibling}function TE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(na(t,e),ka(e),n&4){try{ju(3,e,e.return),hm(3,e)}catch(m){Ht(e,e.return,m)}try{ju(5,e,e.return)}catch(m){Ht(e,e.return,m)}}break;case 1:na(t,e),ka(e),n&512&&r!==null&&Go(r,r.return);break;case 5:if(na(t,e),ka(e),n&512&&r!==null&&Go(r,r.return),e.flags&32){var s=e.stateNode;try{Bu(s,"")}catch(m){Ht(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&YA(s,i),T0(l,o);var u=T0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?eO(s,f):d==="dangerouslySetInnerHTML"?QA(s,f):d==="children"?Bu(s,f):fb(s,d,f,u)}switch(l){case"input":j0(s,i);break;case"textarea":JA(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?sl(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?sl(s,!!i.multiple,i.defaultValue,!0):sl(s,!!i.multiple,i.multiple?[]:"",!1))}s[qu]=i}catch(m){Ht(e,e.return,m)}}break;case 6:if(na(t,e),ka(e),n&4){if(e.stateNode===null)throw Error(Se(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Ht(e,e.return,m)}}break;case 3:if(na(t,e),ka(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vu(t.containerInfo)}catch(m){Ht(e,e.return,m)}break;case 4:na(t,e),ka(e);break;case 13:na(t,e),ka(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hb=Yt())),n&4&&h1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ir=(u=Ir)||d,na(t,e),Ir=u):na(t,e),ka(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(h=Ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:ju(4,h,h.return);break;case 1:Go(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ht(n,r,m)}}break;case 5:Go(h,h.return);break;case 22:if(h.memoizedState!==null){m1(f);continue}}p!==null?(p.return=h,Ee=p):m1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ZA("display",o))}catch(m){Ht(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ht(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:na(t,e),ka(e),n&4&&h1(e);break;case 21:break;default:na(t,e),ka(e)}}function ka(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(NE(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Bu(s,""),n.flags&=-33);var i=f1(e);nv(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=f1(e);rv(e,l,o);break;default:throw Error(Se(161))}}catch(c){Ht(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hR(e,t,r){Ee=e,AE(e)}function AE(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var s=Ee,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Cf;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ir;l=Cf;var u=Ir;if(Cf=o,(Ir=c)&&!u)for(Ee=s;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?g1(s):c!==null?(c.return=o,Ee=c):g1(s);for(;i!==null;)Ee=i,AE(i),i=i.sibling;Ee=s,Cf=l,Ir=u}p1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ee=i):p1(e)}}function p1(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ir||hm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ir)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:sa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qw(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}Ir||t.flags&512&&tv(t)}catch(h){Ht(t,t.return,h)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function m1(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function g1(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hm(4,t)}catch(c){Ht(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ht(t,s,c)}}var i=t.return;try{tv(t)}catch(c){Ht(t,i,c)}break;case 5:var o=t.return;try{tv(t)}catch(c){Ht(t,o,c)}}}catch(c){Ht(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var pR=Math.ceil,Lh=cs.ReactCurrentDispatcher,Vb=cs.ReactCurrentOwner,Kn=cs.ReactCurrentBatchConfig,ot=0,br=null,tr=null,Nr=0,xn=0,qo=yi(0),ur=0,ed=null,uo=0,pm=0,Ub=0,wu=null,sn=null,Hb=0,Sl=1/0,Fa=null,Bh=!1,av=null,ni=null,_f=!1,qs=null,Fh=0,Su=0,sv=null,fh=-1,hh=0;function Zr(){return ot&6?Yt():fh!==-1?fh:fh=Yt()}function ai(e){return e.mode&1?ot&2&&Nr!==0?Nr&-Nr:X5.transition!==null?(hh===0&&(hh=fO()),hh):(e=mt,e!==0||(e=window.event,e=e===void 0?16:yO(e.type)),e):1}function fa(e,t,r,n){if(50<Su)throw Su=0,sv=null,Error(Se(185));qd(e,r,n),(!(ot&2)||e!==br)&&(e===br&&(!(ot&2)&&(pm|=r),ur===4&&Hs(e,Nr)),fn(e,n),r===1&&ot===0&&!(t.mode&1)&&(Sl=Yt()+500,um&&bi()))}function fn(e,t){var r=e.callbackNode;X$(e,t);var n=wh(e,e===br?Nr:0);if(n===0)r!==null&&Nw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Nw(r),t===1)e.tag===0?J5(x1.bind(null,e)):LO(x1.bind(null,e)),W5(function(){!(ot&6)&&bi()}),r=null;else{switch(hO(n)){case 1:r=xb;break;case 4:r=uO;break;case 16:r=jh;break;case 536870912:r=dO;break;default:r=jh}r=RE(r,OE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function OE(e,t){if(fh=-1,hh=0,ot&6)throw Error(Se(327));var r=e.callbackNode;if(ul()&&e.callbackNode!==r)return null;var n=wh(e,e===br?Nr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kh(e,n);else{t=n;var s=ot;ot|=2;var i=CE();(br!==e||Nr!==t)&&(Fa=null,Sl=Yt()+500,to(e,t));do try{xR();break}catch(l){EE(e,l)}while(!0);Eb(),Lh.current=i,ot=s,tr!==null?t=0:(br=null,Nr=0,t=ur)}if(t!==0){if(t===2&&(s=_0(e),s!==0&&(n=s,t=iv(e,s))),t===1)throw r=ed,to(e,0),Hs(e,n),fn(e,Yt()),r;if(t===6)Hs(e,n);else{if(s=e.current.alternate,!(n&30)&&!mR(s)&&(t=Kh(e,n),t===2&&(i=_0(e),i!==0&&(n=i,t=iv(e,i))),t===1))throw r=ed,to(e,0),Hs(e,n),fn(e,Yt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:$i(e,sn,Fa);break;case 3:if(Hs(e,n),(n&130023424)===n&&(t=Hb+500-Yt(),10<t)){if(wh(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Zr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=F0($i.bind(null,e,sn,Fa),t);break}$i(e,sn,Fa);break;case 4:if(Hs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-da(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pR(n/1960))-n,10<n){e.timeoutHandle=F0($i.bind(null,e,sn,Fa),n);break}$i(e,sn,Fa);break;case 5:$i(e,sn,Fa);break;default:throw Error(Se(329))}}}return fn(e,Yt()),e.callbackNode===r?OE.bind(null,e):null}function iv(e,t){var r=wu;return e.current.memoizedState.isDehydrated&&(to(e,t).flags|=256),e=Kh(e,t),e!==2&&(t=sn,sn=r,t!==null&&ov(t)),e}function ov(e){sn===null?sn=e:sn.push.apply(sn,e)}function mR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ga(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hs(e,t){for(t&=~Ub,t&=~pm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-da(t),n=1<<r;e[r]=-1,t&=~n}}function x1(e){if(ot&6)throw Error(Se(327));ul();var t=wh(e,0);if(!(t&1))return fn(e,Yt()),null;var r=Kh(e,t);if(e.tag!==0&&r===2){var n=_0(e);n!==0&&(t=n,r=iv(e,n))}if(r===1)throw r=ed,to(e,0),Hs(e,t),fn(e,Yt()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,sn,Fa),fn(e,Yt()),null}function Wb(e,t){var r=ot;ot|=1;try{return e(t)}finally{ot=r,ot===0&&(Sl=Yt()+500,um&&bi())}}function fo(e){qs!==null&&qs.tag===0&&!(ot&6)&&ul();var t=ot;ot|=1;var r=Kn.transition,n=mt;try{if(Kn.transition=null,mt=1,e)return e()}finally{mt=n,Kn.transition=r,ot=t,!(ot&6)&&bi()}}function Gb(){xn=qo.current,_t(qo)}function to(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H5(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(Tb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ah();break;case 3:jl(),_t(un),_t(Fr),Rb();break;case 5:$b(n);break;case 4:jl();break;case 13:_t(Lt);break;case 19:_t(Lt);break;case 10:Cb(n.type._context);break;case 22:case 23:Gb()}r=r.return}if(br=e,tr=e=si(e.current,null),Nr=xn=t,ur=0,ed=null,Ub=pm=uo=0,sn=wu=null,Gi!==null){for(t=0;t<Gi.length;t++)if(r=Gi[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Gi=null}return e}function EE(e,t){do{var r=tr;try{if(Eb(),ch.current=Ih,Rh){for(var n=Ft.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Rh=!1}if(co=0,vr=lr=Ft=null,ku=!1,Xu=0,Vb.current=null,r===null||r.return===null){ur=1,ed=t,tr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=a1(o);if(p!==null){p.flags&=-257,s1(p,o,l,i,t),p.mode&1&&n1(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){n1(i,u,t),qb();break e}c=Error(Se(426))}}else if(Mt&&l.mode&1){var k=a1(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),s1(k,o,l,i,t),Ab(wl(c,l));break e}}i=c=wl(c,l),ur!==4&&(ur=2),wu===null?wu=[i]:wu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=hE(i,c,t);Xw(i,y);break e;case 1:l=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ni===null||!ni.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=pE(i,l,t);Xw(i,w);break e}}i=i.return}while(i!==null)}DE(r)}catch(j){t=j,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function CE(){var e=Lh.current;return Lh.current=Ih,e===null?Ih:e}function qb(){(ur===0||ur===3||ur===2)&&(ur=4),br===null||!(uo&268435455)&&!(pm&268435455)||Hs(br,Nr)}function Kh(e,t){var r=ot;ot|=2;var n=CE();(br!==e||Nr!==t)&&(Fa=null,to(e,t));do try{gR();break}catch(s){EE(e,s)}while(!0);if(Eb(),ot=r,Lh.current=n,tr!==null)throw Error(Se(261));return br=null,Nr=0,ur}function gR(){for(;tr!==null;)_E(tr)}function xR(){for(;tr!==null&&!z$();)_E(tr)}function _E(e){var t=$E(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?DE(e):tr=t,Vb.current=null}function DE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uR(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ur=6,tr=null;return}}else if(r=cR(r,t,xn),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);ur===0&&(ur=5)}function $i(e,t,r){var n=mt,s=Kn.transition;try{Kn.transition=null,mt=1,vR(e,t,r,n)}finally{Kn.transition=s,mt=n}return null}function vR(e,t,r,n){do ul();while(qs!==null);if(ot&6)throw Error(Se(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Q$(e,i),e===br&&(tr=br=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_f||(_f=!0,RE(jh,function(){return ul(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=mt;mt=1;var l=ot;ot|=4,Vb.current=null,fR(e,r),TE(r,e),L5(L0),Sh=!!I0,L0=I0=null,e.current=r,hR(r),V$(),ot=l,mt=o,Kn.transition=i}else e.current=r;if(_f&&(_f=!1,qs=e,Fh=s),i=e.pendingLanes,i===0&&(ni=null),W$(r.stateNode),fn(e,Yt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Bh)throw Bh=!1,e=av,av=null,e;return Fh&1&&e.tag!==0&&ul(),i=e.pendingLanes,i&1?e===sv?Su++:(Su=0,sv=e):Su=0,bi(),null}function ul(){if(qs!==null){var e=hO(Fh),t=Kn.transition,r=mt;try{if(Kn.transition=null,mt=16>e?16:e,qs===null)var n=!1;else{if(e=qs,qs=null,Fh=0,ot&6)throw Error(Se(331));var s=ot;for(ot|=4,Ee=e.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:ju(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var h=d.sibling,p=d.return;if(SE(d),d===u){Ee=null;break}if(h!==null){h.return=p,Ee=h;break}Ee=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var k=m.sibling;m.sibling=null,m=k}while(m!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ju(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ee=y;break e}Ee=i.return}}var v=e.current;for(Ee=v;Ee!==null;){o=Ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ee=x;else e:for(o=v;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hm(9,l)}}catch(j){Ht(l,l.return,j)}if(l===o){Ee=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ee=w;break e}Ee=l.return}}if(ot=s,bi(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(sm,e)}catch{}n=!0}return n}finally{mt=r,Kn.transition=t}}return!1}function v1(e,t,r){t=wl(r,t),t=hE(e,t,1),e=ri(e,t,1),t=Zr(),e!==null&&(qd(e,1,t),fn(e,t))}function Ht(e,t,r){if(e.tag===3)v1(e,e,r);else for(;t!==null;){if(t.tag===3){v1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ni===null||!ni.has(n))){e=wl(r,e),e=pE(t,e,1),t=ri(t,e,1),e=Zr(),t!==null&&(qd(t,1,e),fn(t,e));break}}t=t.return}}function yR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zr(),e.pingedLanes|=e.suspendedLanes&r,br===e&&(Nr&r)===r&&(ur===4||ur===3&&(Nr&130023424)===Nr&&500>Yt()-Hb?to(e,0):Ub|=r),fn(e,t)}function ME(e,t){t===0&&(e.mode&1?(t=jf,jf<<=1,!(jf&130023424)&&(jf=4194304)):t=1);var r=Zr();e=ns(e,t),e!==null&&(qd(e,t,r),fn(e,r))}function bR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ME(e,r)}function kR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),ME(e,r)}var $E;$E=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)on=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return on=!1,lR(e,t,r);on=!!(e.flags&131072)}else on=!1,Mt&&t.flags&1048576&&BO(t,Ch,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;dh(e,t),e=t.pendingProps;var s=yl(t,Fr.current);cl(t,r),s=Lb(null,t,n,e,s,r);var i=Bb();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(n)?(i=!0,Oh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Db(t),s.updater=fm,t.stateNode=s,s._reactInternals=t,G0(t,n,e,r),t=J0(null,t,n,!0,i,r)):(t.tag=0,Mt&&i&&Pb(t),Yr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(dh(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=wR(n),e=sa(n,e),s){case 0:t=Y0(null,t,n,e,r);break e;case 1:t=l1(null,t,n,e,r);break e;case 11:t=i1(null,t,n,e,r);break e;case 14:t=o1(null,t,n,sa(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sa(n,s),Y0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sa(n,s),l1(e,t,n,s,r);case 3:e:{if(vE(t),e===null)throw Error(Se(387));n=t.pendingProps,i=t.memoizedState,s=i.element,HO(e,t),Mh(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=wl(Error(Se(423)),t),t=c1(e,t,n,r,s);break e}else if(n!==s){s=wl(Error(Se(424)),t),t=c1(e,t,n,r,s);break e}else for(kn=ti(t.stateNode.containerInfo.firstChild),jn=t,Mt=!0,ca=null,r=VO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bl(),n===s){t=as(e,t,r);break e}Yr(e,t,n,r)}t=t.child}return t;case 5:return WO(t),e===null&&U0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,B0(n,s)?o=null:i!==null&&B0(n,i)&&(t.flags|=32),xE(e,t),Yr(e,t,o,r),t.child;case 6:return e===null&&U0(t),null;case 13:return yE(e,t,r);case 4:return Mb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kl(t,null,n,r):Yr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sa(n,s),i1(e,t,n,s,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,St(_h,n._currentValue),n._currentValue=o,i!==null)if(ga(i.value,o)){if(i.children===s.children&&!un.current){t=as(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ya(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),H0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),H0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,cl(t,r),s=zn(s),n=n(s),t.flags|=1,Yr(e,t,n,r),t.child;case 14:return n=t.type,s=sa(n,t.pendingProps),s=sa(n.type,s),o1(e,t,n,s,r);case 15:return mE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sa(n,s),dh(e,t),t.tag=1,dn(n)?(e=!0,Oh(t)):e=!1,cl(t,r),fE(t,n,s),G0(t,n,s,r),J0(null,t,n,!0,e,r);case 19:return bE(e,t,r);case 22:return gE(e,t,r)}throw Error(Se(156,t.tag))};function RE(e,t){return cO(e,t)}function jR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,r,n){return new jR(e,t,r,n)}function Yb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wR(e){if(typeof e=="function")return Yb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pb)return 11;if(e===mb)return 14}return 2}function si(e,t){var r=e.alternate;return r===null?(r=Bn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ph(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Yb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lo:return ro(r.children,s,i,t);case hb:o=8,s|=8;break;case x0:return e=Bn(12,r,t,s|2),e.elementType=x0,e.lanes=i,e;case v0:return e=Bn(13,r,t,s),e.elementType=v0,e.lanes=i,e;case y0:return e=Bn(19,r,t,s),e.elementType=y0,e.lanes=i,e;case WA:return mm(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UA:o=10;break e;case HA:o=9;break e;case pb:o=11;break e;case mb:o=14;break e;case Fs:o=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=Bn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ro(e,t,r,n){return e=Bn(7,e,n,t),e.lanes=r,e}function mm(e,t,r,n){return e=Bn(22,e,n,t),e.elementType=WA,e.lanes=r,e.stateNode={isHidden:!1},e}function ex(e,t,r){return e=Bn(6,e,null,t),e.lanes=r,e}function tx(e,t,r){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SR(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jb(e,t,r,n,s,i,o,l,c){return e=new SR(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Db(i),e}function NR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function IE(e){if(!e)return pi;e=e._reactInternals;e:{if(ko(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(dn(r))return IO(e,r,t)}return t}function LE(e,t,r,n,s,i,o,l,c){return e=Jb(r,n,!0,e,s,i,o,l,c),e.context=IE(null),r=e.current,n=Zr(),s=ai(r),i=Ya(n,s),i.callback=t??null,ri(r,i,s),e.current.lanes=s,qd(e,s,n),fn(e,n),e}function gm(e,t,r,n){var s=t.current,i=Zr(),o=ai(s);return r=IE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ya(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ri(s,t,o),e!==null&&(fa(e,s,o,i),lh(e,s,o)),o}function zh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function y1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xb(e,t){y1(e,t),(e=e.alternate)&&y1(e,t)}function PR(){return null}var BE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qb(e){this._internalRoot=e}xm.prototype.render=Qb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));gm(e,t,null,null)};xm.prototype.unmount=Qb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fo(function(){gm(null,e,null,null)}),t[rs]=null}};function xm(e){this._internalRoot=e}xm.prototype.unstable_scheduleHydration=function(e){if(e){var t=gO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Us.length&&t!==0&&t<Us[r].priority;r++);Us.splice(r,0,e),r===0&&vO(e)}};function Zb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b1(){}function TR(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zh(o);i.call(u)}}var o=LE(t,n,e,0,null,!1,!1,"",b1);return e._reactRootContainer=o,e[rs]=o.current,Wu(e.nodeType===8?e.parentNode:e),fo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=zh(c);l.call(u)}}var c=Jb(e,0,!1,null,null,!1,!1,"",b1);return e._reactRootContainer=c,e[rs]=c.current,Wu(e.nodeType===8?e.parentNode:e),fo(function(){gm(t,c,r,n)}),c}function ym(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=zh(o);l.call(c)}}gm(t,o,e,s)}else o=TR(r,t,e,s,n);return zh(o)}pO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cu(t.pendingLanes);r!==0&&(vb(t,r|1),fn(t,Yt()),!(ot&6)&&(Sl=Yt()+500,bi()))}break;case 13:fo(function(){var n=ns(e,1);if(n!==null){var s=Zr();fa(n,e,1,s)}}),Xb(e,1)}};yb=function(e){if(e.tag===13){var t=ns(e,134217728);if(t!==null){var r=Zr();fa(t,e,134217728,r)}Xb(e,134217728)}};mO=function(e){if(e.tag===13){var t=ai(e),r=ns(e,t);if(r!==null){var n=Zr();fa(r,e,t,n)}Xb(e,t)}};gO=function(){return mt};xO=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};O0=function(e,t,r){switch(t){case"input":if(j0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=cm(n);if(!s)throw Error(Se(90));qA(n),j0(n,s)}}}break;case"textarea":JA(e,r);break;case"select":t=r.value,t!=null&&sl(e,!!r.multiple,t,!1)}};nO=Wb;aO=fo;var AR={usingClientEntryPoint:!1,Events:[Jd,zo,cm,tO,rO,Wb]},Oc={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OR={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oO(e),e===null?null:e.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{sm=Df.inject(OR),Pa=Df}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;Tn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zb(t))throw Error(Se(200));return NR(e,t,null,r)};Tn.createRoot=function(e,t){if(!Zb(e))throw Error(Se(299));var r=!1,n="",s=BE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jb(e,1,!1,null,null,r,!1,n,s),e[rs]=t.current,Wu(e.nodeType===8?e.parentNode:e),new Qb(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=oO(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return fo(e)};Tn.hydrate=function(e,t,r){if(!vm(t))throw Error(Se(200));return ym(null,e,t,!0,r)};Tn.hydrateRoot=function(e,t,r){if(!Zb(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=BE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=LE(t,null,e,1,r??null,s,!1,i,o),e[rs]=t.current,Wu(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xm(t)};Tn.render=function(e,t,r){if(!vm(t))throw Error(Se(200));return ym(null,e,t,!1,r)};Tn.unmountComponentAtNode=function(e){if(!vm(e))throw Error(Se(40));return e._reactRootContainer?(fo(function(){ym(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};Tn.unstable_batchedUpdates=Wb;Tn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vm(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return ym(e,t,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function FE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FE)}catch(e){console.error(e)}}FE(),FA.exports=Tn;var KE=FA.exports,k1=KE;m0.createRoot=k1.createRoot,m0.hydrateRoot=k1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const j1="popstate";function ER(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return lv("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Vh(s)}return _R(t,r,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ek(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CR(){return Math.random().toString(36).substr(2,8)}function w1(e,t){return{usr:e.state,key:e.key,idx:t}}function lv(e,t,r,n){return r===void 0&&(r=null),td({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nc(t):t,{state:r,key:t&&t.key||n||CR()})}function Vh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _R(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ys.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(td({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ys.Pop;let k=d(),y=k==null?null:k-u;u=k,c&&c({action:l,location:m.location,delta:y})}function h(k,y){l=Ys.Push;let v=lv(m.location,k,y);u=d()+1;let x=w1(v,u),w=m.createHref(v);try{o.pushState(x,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(w)}i&&c&&c({action:l,location:m.location,delta:1})}function p(k,y){l=Ys.Replace;let v=lv(m.location,k,y);u=d();let x=w1(v,u),w=m.createHref(v);o.replaceState(x,"",w),i&&c&&c({action:l,location:m.location,delta:0})}function g(k){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof k=="string"?k:Vh(k);return v=v.replace(/ $/,"%20"),Xt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(j1,f),c=k,()=>{s.removeEventListener(j1,f),c=null}},createHref(k){return t(s,k)},createURL:g,encodeLocation(k){let y=g(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(k){return o.go(k)}};return m}var S1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(S1||(S1={}));function DR(e,t,r){return r===void 0&&(r="/"),MR(e,t,r)}function MR(e,t,r,n){let s=typeof t=="string"?nc(t):t,i=tk(s.pathname||"/",r);if(i==null)return null;let o=zE(e);$R(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=GR(i);l=UR(o[c],u)}return l}function zE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ii([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zR(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of VE(i.path))s(i,o,c)}),t}function VE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=VE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $R(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const RR=/^:[\w-]+$/,IR=3,LR=2,BR=1,FR=10,KR=-2,N1=e=>e==="*";function zR(e,t){let r=e.split("/"),n=r.length;return r.some(N1)&&(n+=KR),t&&(n+=LR),r.filter(s=>!N1(s)).reduce((s,i)=>s+(RR.test(i)?IR:i===""?BR:FR),n)}function VR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function UR(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=HR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ii([i,f.pathname]),pathnameBase:QR(ii([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ii([i,f.pathnameBase]))}return o}function HR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function WR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ek(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function GR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ek(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const qR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YR=e=>qR.test(e);function JR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?nc(e):e,i;if(r)if(YR(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ek(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=P1(r.substring(1),"/"):i=P1(r,t)}else i=t;return{pathname:i,search:ZR(n),hash:eI(s)}}function P1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rk(e,t){let r=XR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nk(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=nc(e):(s=td({},e),Xt(!s.pathname||!s.pathname.includes("?"),rx("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),rx("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),rx("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=JR(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),QR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const UE=["post","put","patch","delete"];new Set(UE);const rI=["get",...UE];new Set(rI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}const ak=b.createContext(null),nI=b.createContext(null),ki=b.createContext(null),bm=b.createContext(null),us=b.createContext({outlet:null,matches:[],isDataRoute:!1}),HE=b.createContext(null);function aI(e,t){let{relative:r}=t===void 0?{}:t;ac()||Xt(!1);let{basename:n,navigator:s}=b.useContext(ki),{hash:i,pathname:o,search:l}=GE(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ii([n,o])),s.createHref({pathname:c,search:l,hash:i})}function ac(){return b.useContext(bm)!=null}function sc(){return ac()||Xt(!1),b.useContext(bm).location}function WE(e){b.useContext(ki).static||b.useLayoutEffect(e)}function Qd(){let{isDataRoute:e}=b.useContext(us);return e?yI():sI()}function sI(){ac()||Xt(!1);let e=b.useContext(ak),{basename:t,future:r,navigator:n}=b.useContext(ki),{matches:s}=b.useContext(us),{pathname:i}=sc(),o=JSON.stringify(rk(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return WE(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=nk(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ii([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const iI=b.createContext(null);function oI(e){let t=b.useContext(us).outlet;return t&&b.createElement(iI.Provider,{value:e},t)}function GE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(ki),{matches:s}=b.useContext(us),{pathname:i}=sc(),o=JSON.stringify(rk(s,n.v7_relativeSplatPath));return b.useMemo(()=>nk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function lI(e,t){return cI(e,t)}function cI(e,t,r,n){ac()||Xt(!1);let{navigator:s}=b.useContext(ki),{matches:i}=b.useContext(us),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=sc(),d;if(t){var f;let k=typeof t=="string"?nc(t):t;c==="/"||(f=k.pathname)!=null&&f.startsWith(c)||Xt(!1),d=k}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let k=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let g=DR(e,{pathname:p}),m=pI(g&&g.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:ii([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:ii([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&m?b.createElement(bm.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ys.Pop}},m):m}function uI(){let e=vI(),t=tI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const dI=b.createElement(uI,null);class fI extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(us.Provider,{value:this.props.routeContext},b.createElement(HE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hI(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(ak);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(us.Provider,{value:t},n)}function pI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Xt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,k=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||dI,c&&(u<0&&h===0?(bI("route-fallback"),g=!0,k=null):u===h&&(g=!0,k=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),v=()=>{let x;return p?x=m:g?x=k:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,b.createElement(hI,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(fI,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var qE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qE||{}),YE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(YE||{});function mI(e){let t=b.useContext(ak);return t||Xt(!1),t}function gI(e){let t=b.useContext(nI);return t||Xt(!1),t}function xI(e){let t=b.useContext(us);return t||Xt(!1),t}function JE(e){let t=xI(),r=t.matches[t.matches.length-1];return r.route.id||Xt(!1),r.route.id}function vI(){var e;let t=b.useContext(HE),r=gI(),n=JE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yI(){let{router:e}=mI(qE.UseNavigateStable),t=JE(YE.UseNavigateStable),r=b.useRef(!1);return WE(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rd({fromRouteId:t},i)))},[e,t])}const T1={};function bI(e,t,r){T1[e]||(T1[e]=!0)}function kI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ho(e){let{to:t,replace:r,state:n,relative:s}=e;ac()||Xt(!1);let{future:i,static:o}=b.useContext(ki),{matches:l}=b.useContext(us),{pathname:c}=sc(),u=Qd(),d=nk(t,rk(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function jI(e){return oI(e.context)}function Ue(e){Xt(!1)}function wI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ys.Pop,navigator:i,static:o=!1,future:l}=e;ac()&&Xt(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:rd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=nc(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=b.useMemo(()=>{let k=tk(d,c);return k==null?null:{location:{pathname:k,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return m==null?null:b.createElement(ki.Provider,{value:u},b.createElement(bm.Provider,{children:r,value:m}))}function SI(e){let{children:t,location:r}=e;return lI(cv(t),r)}new Promise(()=>{});function cv(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,cv(n.props.children,i));return}n.type!==Ue&&Xt(!1),!n.props.index||!n.props.children||Xt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(this,arguments)}function NI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function PI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TI(e,t){return e.button===0&&(!t||t==="_self")&&!PI(e)}const AI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OI="6";try{window.__reactRouterVersion=OI}catch{}const EI="startTransition",A1=LA[EI];function CI(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=ER({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&A1?A1(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>kI(n),[n]),b.createElement(wI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const _I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mf=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=NI(t,AI),{basename:p}=b.useContext(ki),g,m=!1;if(typeof u=="string"&&DI.test(u)&&(g=u,_I))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=tk(w.pathname,p);w.origin===x.origin&&j!=null?u=j+w.search+w.hash:m=!0}catch{}let k=aI(u,{relative:s}),y=MI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(x){n&&n(x),x.defaultPrevented||y(x)}return b.createElement("a",uv({},h,{href:g||k,onClick:m||i?n:v,ref:r,target:c}))});var O1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O1||(O1={}));var E1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(E1||(E1={}));function MI(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Qd(),u=sc(),d=GE(e,{relative:o});return b.useCallback(f=>{if(TI(f,r)){f.preventDefault();let h=n!==void 0?n:Vh(u)===Vh(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}const $I={},C1=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{($I?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},RI=e=>e?C1(e):C1;var XE={exports:{}},QE={},ZE={exports:{}},eC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=b;function II(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LI=typeof Object.is=="function"?Object.is:II,BI=Nl.useState,FI=Nl.useEffect,KI=Nl.useLayoutEffect,zI=Nl.useDebugValue;function VI(e,t){var r=t(),n=BI({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return KI(function(){s.value=r,s.getSnapshot=t,nx(s)&&i({inst:s})},[e,r,t]),FI(function(){return nx(s)&&i({inst:s}),e(function(){nx(s)&&i({inst:s})})},[e]),zI(r),r}function nx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!LI(e,r)}catch{return!0}}function UI(e,t){return t()}var HI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UI:VI;eC.useSyncExternalStore=Nl.useSyncExternalStore!==void 0?Nl.useSyncExternalStore:HI;ZE.exports=eC;var WI=ZE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=b,GI=WI;function qI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YI=typeof Object.is=="function"?Object.is:qI,JI=GI.useSyncExternalStore,XI=km.useRef,QI=km.useEffect,ZI=km.useMemo,eL=km.useDebugValue;QE.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=XI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ZI(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return f=g}return f=p}if(g=f,YI(d,p))return g;var m=n(p);return s!==void 0&&s(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=JI(e,i[0],i[1]);return QI(function(){o.hasValue=!0,o.value=l},[l]),eL(l),l};XE.exports=QE;var tL=XE.exports;const rL=pt(tL),tC={},{useDebugValue:nL}=re,{useSyncExternalStoreWithSelector:aL}=rL;let _1=!1;const sL=e=>e;function iL(e,t=sL,r){(tC?"production":void 0)!=="production"&&r&&!_1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_1=!0);const n=aL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return nL(n),n}const D1=e=>{(tC?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?RI(e):e,r=(n,s)=>iL(t,n,s);return Object.assign(r,t),r},Zd=e=>e?D1(e):D1,oL={};function lL(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const nd=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return nd(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return nd(n)(r)}}}},cL=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,y)=>({...y,...k}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...k)},n,s);const d=nd(i.serialize),f=()=>{const k=i.partialize({...n()});let y;const v=d({state:k,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{y=x});if(y)throw y;return v},h=s.setState;s.setState=(k,y)=>{h(k,y),f()};const p=e((...k)=>{r(...k),f()},n,s);let g;const m=()=>{var k;if(!u)return;o=!1,l.forEach(v=>v(n()));const y=((k=i.onRehydrateStorage)==null?void 0:k.call(i,n()))||void 0;return nd(u.getItem.bind(u))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var x;return g=i.merge(v,(x=n())!=null?x:p),r(g,!0),f()}).then(()=>{y==null||y(g,void 0),o=!0,c.forEach(v=>v(g))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:k=>(l.add(k),()=>{l.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},m(),g||p},uL=(e,t)=>(r,n,s)=>{let i={storage:lL(()=>localStorage),partialize:m=>m,version:0,merge:(m,k)=>({...k,...m}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,s);const d=()=>{const m=i.partialize({...n()});return u.setItem(i.name,{state:m,version:i.version})},f=s.setState;s.setState=(m,k)=>{f(m,k),d()};const h=e((...m)=>{r(...m),d()},n,s);s.getInitialState=()=>h;let p;const g=()=>{var m,k;if(!u)return;o=!1,l.forEach(v=>{var x;return v((x=n())!=null?x:h)});const y=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(m=n())!=null?m:h))||void 0;return nd(u.getItem.bind(u))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[w,j]=v;if(p=i.merge(j,(x=n())!=null?x:h),r(p,!0),w)return d()}).then(()=>{y==null||y(p,void 0),p=n(),o=!0,c.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||g(),p||h},dL=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((oL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),cL(e,t)):uL(e,t),sk=dL,st=Zd()(sk(e=>({isLoggedIn:!1,user:null,sessionId:null,deviceId:null,login:(t,r,n)=>e({isLoggedIn:!0,user:t,sessionId:r,deviceId:n}),logout:()=>e({isLoggedIn:!1,user:null,sessionId:null,deviceId:null}),updateUser:t=>e(r=>({user:r.user?{...r.user,...t}:null}))}),{name:"auth-storage"})),jm=Zd()(sk(e=>({sidebarOpen:!1,sidebarCollapsed:!1,activeTab:"dashboard",dashboardPlantFilter:"ALL",dashboardYear:new Date().getFullYear(),darkMode:!1,forceDesktopView:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSidebarCollapse:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setActiveTab:t=>e({activeTab:t}),setDashboardPlantFilter:t=>e({dashboardPlantFilter:t}),setDashboardYear:t=>e({dashboardYear:t}),toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleForceDesktopView:()=>e(t=>({forceDesktopView:!t.forceDesktopView}))}),{name:"ui-storage",partialize:e=>({darkMode:e.darkMode,forceDesktopView:e.forceDesktopView})})),fL=Zd((e,t)=>({notifications:[],unreadCount:0,isMarkingAllAsRead:!1,lastMarkedAllReadTimestamp:null,addNotification:r=>e(n=>({notifications:[r,...n.notifications],unreadCount:n.unreadCount+1})),markAsRead:r=>e(n=>({notifications:n.notifications.map(s=>s.id===r?{...s,read:!0}:s),unreadCount:Math.max(0,n.unreadCount-1)})),markAllAsRead:()=>e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0,lastMarkedAllReadTimestamp:Date.now()})),setMarkingAllAsRead:r=>e({isMarkingAllAsRead:r}),clearNotifications:()=>e({notifications:[],unreadCount:0}),setNotifications:r=>{const n=t();if(n.lastMarkedAllReadTimestamp&&Date.now()-n.lastMarkedAllReadTimestamp<3e3){const s=r.map(i=>{const o=n.notifications.find(l=>l.id===i.id);return o&&o.read?{...i,read:!0}:i});e({notifications:s,unreadCount:s.filter(i=>!i.read).length})}else e({notifications:r,unreadCount:r.filter(s=>!s.read).length})}})),Uh=Zd()(sk(e=>({messages:[],isOpen:!1,unreadChatCount:0,lastReadTimestamp:null,lastFetchTimestamp:null,toggleChat:()=>e(t=>({isOpen:!t.isOpen})),addMessage:t=>e(r=>r.messages.some(s=>s.id===t.id)?r:{messages:[...r.messages,t]}),addOptimisticMessage:t=>e(r=>({messages:[...r.messages,t]})),removeOptimisticMessage:t=>e(r=>({messages:r.messages.filter(n=>n.id!==t)})),setMessages:t=>e(r=>{const s=r.messages.filter(o=>o.id&&o.id.startsWith("temp_")).filter(o=>!t.some(c=>c.sender===o.sender&&c.message===o.message&&Math.abs(new Date(c.timestamp).getTime()-new Date(o.timestamp).getTime())<5e3)),i=[...t,...s];return i.sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),{messages:i}}),setUnreadChatCount:t=>e({unreadChatCount:t}),markChatAsRead:()=>e({unreadChatCount:0,lastReadTimestamp:new Date().toISOString()}),setLastFetchTimestamp:t=>e({lastFetchTimestamp:t})}),{name:"chat-storage",partialize:e=>({messages:e.messages.slice(-100),lastFetchTimestamp:e.lastFetchTimestamp})}));Zd(e=>({loading:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t})}));const hL="modulepreload",pL=function(e){return"/"+e},M1={},Ie=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=pL(c),c in M1)return;M1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hL,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function rC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=rC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=rC(e))&&(n&&(n+=" "),n+=t);return n}const ik="-",mL=e=>{const t=xL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ik);return l[0]===""&&l.length!==1&&l.shift(),nC(l,t)||gL(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},nC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?nC(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ik);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},$1=/^\[(.+)\]$/,gL=e=>{if($1.test(e)){const t=$1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},xL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return yL(Object.entries(e.classGroups),r).forEach(([i,o])=>{dv(o,n,i,t)}),n},dv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:R1(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(vL(s)){dv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{dv(o,R1(t,i),r,n)})})},R1=(e,t)=>{let r=e;return t.split(ik).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},vL=e=>e.isThemeGetter,yL=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,bL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},aC="!",kL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let k=0;k<l.length;k++){let y=l[k];if(u===0){if(y===s&&(n||l.slice(k,k+i)===t)){c.push(l.slice(d,k)),d=k+i;continue}if(y==="/"){f=k;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(aC),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},jL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},wL=e=>({cache:bL(e.cacheSize),parseClassName:kL(e),...mL(e)}),SL=/\s+/,NL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(SL);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const k=jL(d).join(":"),y=f?k+aC:k,v=y+m;if(i.includes(v))continue;i.push(v);const x=s(m,g);for(let w=0;w<x.length;++w){const j=x[w];i.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function PL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sC(t))&&(n&&(n+=" "),n+=r);return n}const sC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sC(e[n]))&&(r&&(r+=" "),r+=t);return r};function TL(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=wL(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=NL(c,r);return s(c,d),d}return function(){return i(PL.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iC=/^\[(?:([a-z-]+):)?(.+)\]$/i,AL=/^\d+\/\d+$/,OL=new Set(["px","full","screen"]),EL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_L=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ML=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ia=e=>dl(e)||OL.has(e)||AL.test(e),$s=e=>ic(e,"length",zL),dl=e=>!!e&&!Number.isNaN(Number(e)),ax=e=>ic(e,"number",dl),Ec=e=>!!e&&Number.isInteger(Number(e)),$L=e=>e.endsWith("%")&&dl(e.slice(0,-1)),Je=e=>iC.test(e),Rs=e=>EL.test(e),RL=new Set(["length","size","percentage"]),IL=e=>ic(e,RL,oC),LL=e=>ic(e,"position",oC),BL=new Set(["image","url"]),FL=e=>ic(e,BL,UL),KL=e=>ic(e,"",VL),Cc=()=>!0,ic=(e,t,r)=>{const n=iC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},zL=e=>CL.test(e)&&!_L.test(e),oC=()=>!1,VL=e=>DL.test(e),UL=e=>ML.test(e),HL=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),s=At("borderColor"),i=At("borderRadius"),o=At("borderSpacing"),l=At("borderWidth"),c=At("contrast"),u=At("grayscale"),d=At("hueRotate"),f=At("invert"),h=At("gap"),p=At("gradientColorStops"),g=At("gradientColorStopPositions"),m=At("inset"),k=At("margin"),y=At("opacity"),v=At("padding"),x=At("saturate"),w=At("scale"),j=At("sepia"),S=At("skew"),N=At("space"),P=At("translate"),O=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Je,t],E=()=>[Je,t],_=()=>["",Ia,$s],B=()=>["auto",dl,Je],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Je],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[dl,Je];return{cacheSize:500,separator:":",theme:{colors:[Cc],spacing:[Ia,$s],blur:["none","",Rs,Je],brightness:q(),borderColor:[e],borderRadius:["none","","full",Rs,Je],borderSpacing:E(),borderWidth:_(),contrast:q(),grayscale:F(),hueRotate:q(),invert:F(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[$L,$s],inset:M(),margin:M(),opacity:q(),padding:E(),saturate:q(),scale:q(),sepia:F(),skew:q(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Je]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ec,Je]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ec,Je]}],"grid-cols":[{"grid-cols":[Cc]}],"col-start-end":[{col:["auto",{span:["full",Ec,Je]},Je]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Cc]}],"row-start-end":[{row:["auto",{span:[Ec,Je]},Je]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,t]}],"min-w":[{"min-w":[Je,t,"min","max","fit"]}],"max-w":[{"max-w":[Je,t,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[Je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ax]}],"font-family":[{font:[Cc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",dl,ax]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ia,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ia,$s]}],"underline-offset":[{"underline-offset":["auto",Ia,Je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),LL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Ia,Je]}],"outline-w":[{outline:[Ia,$s]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ia,$s]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,KL]}],"shadow-color":[{shadow:[Cc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rs,Je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ec,Je]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ia,$s,ax]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WL=TL(HL);function Ae(...e){return WL(qe(e))}function We(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"}function lC(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function ln(e){if(e==null||e===""||e===0||e==="0")return"-";const t=String(e).trim();if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(t)){const n=t.split(":"),s=n[0].padStart(2,"0"),i=n[1];return`${s}:${i}`}const r=parseFloat(t);if(!isNaN(r)&&r>=0&&(r<1||r>0&&t.includes("."))){const n=r%1,s=Math.round(n*24*60),i=Math.floor(s/60)%24,o=s%60;return`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}try{const n=new Date(t);if(!isNaN(n.getTime())){if(n.getFullYear()===1899)return"-";const s=n.getHours(),i=n.getMinutes();return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}catch{}return t||"-"}function H(e){return e==null?"0":e.toLocaleString("id-ID",{maximumFractionDigits:2})}function ne(e){if(e==null||e==="")return 0;if(typeof e=="number")return isNaN(e)?0:e;const r=String(e).trim().match(/^[\d.,\-]+/);if(!r)return 0;const n=r[0].replace(/\./g,"").replace(",","."),s=parseFloat(n);return isNaN(s)?0:s}function cC(e,t){if(!e||!t)return 0;const[r,n]=e.split(":").map(Number),[s,i]=t.split(":").map(Number);let o=r*60+n,l=s*60+i;return l<o&&(l+=24*60),Number(((l-o)/60).toFixed(2))}function ad(e,t){return cC(e,t)}function GL(e=""){const t=Date.now(),r=Math.random().toString(36).substring(2,9);return`${e}${e?"_":""}${t}_${r}`}function It(){return new Date().toISOString().split("T")[0]}function kr(e){return["admin","supervisor","avp","user"].includes(e)}function ok(e){return["admin","avp","supervisor"].includes(e)}function lk(e){return["admin","avp","supervisor"].includes(e)}function Tr(e){return e==="user"}function Ar(e){return e==="user"}function hr(e){return["manager","eksternal"].includes(e)}function uC(e,t){return!!(e==="admin"&&t==="ALL"||e==="admin"||["avp","supervisor"].includes(e))}function dC(e,t){return e==="admin"&&t==="ALL"}function fC(e){return!["user","manager","eksternal"].includes(e)}const hC=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),wm=b.createContext({}),Sm=b.createContext(null),Nm=typeof document<"u",ck=Nm?b.useLayoutEffect:b.useEffect,pC=b.createContext({strict:!1}),uk=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qL="framerAppearId",mC="data-"+uk(qL);function YL(e,t,r,n){const{visualElement:s}=b.useContext(wm),i=b.useContext(pC),o=b.useContext(Sm),l=b.useContext(hC).reducedMotion,c=b.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(r,o)});const d=b.useRef(!!(r[mC]&&!window.HandoffComplete));return ck(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Yo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JL(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Yo(r)&&(r.current=n))},[t])}function sd(e){return typeof e=="string"||Array.isArray(e)}function Pm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const dk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fk=["initial",...dk];function Tm(e){return Pm(e.animate)||fk.some(t=>sd(e[t]))}function gC(e){return!!(Tm(e)||e.variants)}function XL(e,t){if(Tm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||sd(r)?r:void 0,animate:sd(n)?n:void 0}}return e.inherit!==!1?t:{}}function QL(e){const{initial:t,animate:r}=XL(e,b.useContext(wm));return b.useMemo(()=>({initial:t,animate:r}),[I1(t),I1(r)])}function I1(e){return Array.isArray(e)?e.join(" "):e}const L1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},id={};for(const e in L1)id[e]={isEnabled:t=>L1[e].some(r=>!!t[r])};function ZL(e){for(const t in e)id[t]={...id[t],...e[t]}}const hk=b.createContext({}),xC=b.createContext({}),eB=Symbol.for("motionComponentSymbol");function tB({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&ZL(e);function i(l,c){let u;const d={...b.useContext(hC),...l,layoutId:rB(l)},{isStatic:f}=d,h=QL(l),p=n(l,f);if(!f&&Nm){h.visualElement=YL(s,p,d,t);const g=b.useContext(xC),m=b.useContext(pC).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,g))}return b.createElement(wm.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...d}):null,r(s,l,JL(p,h.visualElement,c),p,f,h.visualElement))}const o=b.forwardRef(i);return o[eB]=s,o}function rB({layoutId:e}){const t=b.useContext(hk).id;return t&&e!==void 0?t+"-"+e:e}function nB(e){function t(n,s={}){return tB(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const aB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pk(e){return typeof e!="string"||e.includes("-")?!1:!!(aB.indexOf(e)>-1||/[A-Z]/.test(e))}const Hh={};function sB(e){Object.assign(Hh,e)}const ef=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(ef);function vC(e,{layout:t,layoutId:r}){return jo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hh[e]||e==="opacity")}const hn=e=>!!(e&&e.getVelocity),iB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oB=ef.length;function lB(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<oB;o++){const l=ef[o];if(e[l]!==void 0){const c=iB[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const yC=e=>t=>typeof t=="string"&&t.startsWith(e),bC=yC("--"),fv=yC("var(--"),cB=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,uB=(e,t)=>t&&typeof e=="number"?t.transform(e):e,mi=(e,t,r)=>Math.min(Math.max(r,e),t),wo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nu={...wo,transform:e=>mi(0,1,e)},$f={...wo,default:1},Pu=e=>Math.round(e*1e5)/1e5,Am=/(-)?([\d]*\.?[\d])+/g,kC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function tf(e){return typeof e=="string"}const rf=e=>({test:t=>tf(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bs=rf("deg"),Aa=rf("%"),ze=rf("px"),fB=rf("vh"),hB=rf("vw"),B1={...Aa,parse:e=>Aa.parse(e)/100,transform:e=>Aa.transform(e*100)},F1={...wo,transform:Math.round},jC={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,size:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:$f,scaleX:$f,scaleY:$f,scaleZ:$f,skew:Bs,skewX:Bs,skewY:Bs,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Nu,originX:B1,originY:B1,originZ:ze,zIndex:F1,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:F1};function mk(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(bC(f)){i[f]=h;continue}const p=jC[f],g=uB(h,p);if(jo.has(f)){if(c=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):s[f]=g}if(t.transform||(c||n?s.transform=lB(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const gk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wC(e,t,r){for(const n in t)!hn(t[n])&&!vC(n,r)&&(e[n]=t[n])}function pB({transformTemplate:e},t,r){return b.useMemo(()=>{const n=gk();return mk(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function mB(e,t,r){const n=e.style||{},s={};return wC(s,n,e),Object.assign(s,pB(e,t,r)),e.transformValues?e.transformValues(s):s}function gB(e,t,r){const n={},s=mB(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const xB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xB.has(e)}let SC=e=>!Wh(e);function vB(e){e&&(SC=t=>t.startsWith("on")?!Wh(t):e(t))}try{vB(require("@emotion/is-prop-valid").default)}catch{}function yB(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(SC(s)||r===!0&&Wh(s)||!t&&!Wh(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function K1(e,t,r){return typeof e=="string"?e:ze.transform(t+r*e)}function bB(e,t,r){const n=K1(t,e.x,e.width),s=K1(r,e.y,e.height);return`${n} ${s}`}const kB={offset:"stroke-dashoffset",array:"stroke-dasharray"},jB={offset:"strokeDashoffset",array:"strokeDasharray"};function wB(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?kB:jB;e[i.offset]=ze.transform(-n);const o=ze.transform(t),l=ze.transform(r);e[i.array]=`${o} ${l}`}function xk(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(mk(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=bB(m,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&wB(p,o,l,c,!1)}const NC=()=>({...gk(),attrs:{}}),vk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function SB(e,t,r,n){const s=b.useMemo(()=>{const i=NC();return xk(i,t,{enableHardwareAcceleration:!1},vk(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wC(i,e.style,e),s.style={...i,...s.style}}return s}function NB(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(pk(r)?SB:gB)(n,i,o,r),d={...yB(n,typeof r=="string",e),...c,ref:s},{children:f}=n,h=b.useMemo(()=>hn(f)?f.get():f,[f]);return b.createElement(r,{...d,children:h})}}function PC(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const TC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AC(e,t,r,n){PC(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(TC.has(s)?s:uk(s),t.attrs[s])}function yk(e,t){const{style:r}=e,n={};for(const s in r)(hn(r[s])||t.style&&hn(t.style[s])||vC(s,e))&&(n[s]=r[s]);return n}function OC(e,t){const r=yk(e,t);for(const n in e)if(hn(e[n])||hn(t[n])){const s=ef.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function bk(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function EC(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Gh=e=>Array.isArray(e),PB=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),TB=e=>Gh(e)?e[e.length-1]||0:e;function mh(e){const t=hn(e)?e.get():e;return PB(t)?t.toValue():t}function AB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:OB(n,s,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const CC=e=>(t,r)=>{const n=b.useContext(wm),s=b.useContext(Sm),i=()=>AB(e,t,n,s);return r?i():EC(i)};function OB(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=mh(i[h]);let{initial:o,animate:l}=e;const c=Tm(e),u=gC(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!Pm(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=bk(e,p);if(!g)return;const{transitionEnd:m,transition:k,...y}=g;for(const v in y){let x=y[v];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(s[v]=x)}for(const v in m)s[v]=m[v]}),s}const Jt=e=>e;class z1{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function EB(e){let t=new z1,r=new z1,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Rf=["prepare","read","update","preRender","render","postRender"],CB=40;function _B(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Rf.reduce((f,h)=>(f[h]=EB(()=>r=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(f-s.timestamp,CB),1),s.timestamp=f,s.isProcessing=!0,Rf.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:Rf.reduce((f,h)=>{const p=i[h];return f[h]=(g,m=!1,k=!1)=>(r||c(),p.schedule(g,m,k)),f},{}),cancel:f=>Rf.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:Nt,cancel:ss,state:_r,steps:sx}=_B(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0),DB={useVisualState:CC({scrapeMotionValuesFromProps:OC,createRenderState:NC,onMount:(e,t,{renderState:r,latestValues:n})=>{Nt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Nt.render(()=>{xk(r,n,{enableHardwareAcceleration:!1},vk(t.tagName),e.transformTemplate),AC(t,r)})}})},MB={useVisualState:CC({scrapeMotionValuesFromProps:yk,createRenderState:gk})};function $B(e,{forwardMotionProps:t=!1},r,n){return{...pk(e)?DB:MB,preloadedFeatures:r,useRender:NB(t),createVisualElement:n,Component:e}}function Ha(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const _C=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Om(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const RB=e=>t=>_C(t)&&e(t,Om(t));function Ja(e,t,r,n){return Ha(e,t,RB(r),n)}const IB=(e,t)=>r=>t(e(r)),oi=(...e)=>e.reduce(IB);function DC(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const V1=DC("dragHorizontal"),U1=DC("dragVertical");function MC(e){let t=!1;if(e==="y")t=U1();else if(e==="x")t=V1();else{const r=V1(),n=U1();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function $C(){const e=MC(!0);return e?(e(),!1):!0}class ji{constructor(t){this.isMounted=!1,this.node=t}update(){}}function H1(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||$C())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&Nt.update(()=>l[n](i,o))};return Ja(e.current,r,s,{passive:!e.getProps()[n]})}class LB extends ji{mount(){this.unmount=oi(H1(this.node,!0),H1(this.node,!1))}unmount(){}}class BB extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oi(Ha(this.node.current,"focus",()=>this.onFocus()),Ha(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RC=(e,t)=>t?e===t?!0:RC(e,t.parentElement):!1;function ix(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Om(r))}class FB extends ji{constructor(){super(...arguments),this.removeStartListeners=Jt,this.removeEndListeners=Jt,this.removeAccessibleListeners=Jt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Ja(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Nt.update(()=>{!f&&!RC(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ja(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=oi(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ix("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Nt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ha(this.node.current,"keyup",o),ix("down",(l,c)=>{this.startPress(l,c)})},r=Ha(this.node.current,"keydown",t),n=()=>{this.isPressing&&ix("cancel",(i,o)=>this.cancelPress(i,o))},s=Ha(this.node.current,"blur",n);this.removeAccessibleListeners=oi(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Nt.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$C()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Nt.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Ja(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ha(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=oi(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hv=new WeakMap,ox=new WeakMap,KB=e=>{const t=hv.get(e.target);t&&t(e)},zB=e=>{e.forEach(KB)};function VB({root:e,...t}){const r=e||document;ox.has(r)||ox.set(r,{});const n=ox.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(zB,{root:e,...t})),n[s]}function UB(e,t,r){const n=VB(t);return hv.set(e,r),n.observe(e),()=>{hv.delete(e),n.unobserve(e)}}const HB={some:0,all:1};class WB extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:HB[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return UB(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(GB(t,r))&&this.startObserver()}unmount(){}}function GB({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const qB={inView:{Feature:WB},tap:{Feature:FB},focus:{Feature:BB},hover:{Feature:LB}};function IC(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function YB(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function JB(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Em(e,t,r){const n=e.getProps();return bk(n,t,r!==void 0?r:n.custom,YB(e),JB(e))}let kk=Jt;const no=e=>e*1e3,Xa=e=>e/1e3,XB={current:!1},LC=e=>Array.isArray(e)&&typeof e[0]=="number";function BC(e){return!!(!e||typeof e=="string"&&FC[e]||LC(e)||Array.isArray(e)&&e.every(BC))}const du=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,FC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function KC(e){if(e)return LC(e)?du(e):Array.isArray(e)?e.map(KC):FC[e]}function QB(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=KC(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ZB(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const zC=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,e6=1e-7,t6=12;function r6(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=zC(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>e6&&++l<t6);return o}function nf(e,t,r,n){if(e===t&&r===n)return Jt;const s=i=>r6(i,0,1,e,r);return i=>i===0||i===1?i:zC(s(i),t,n)}const n6=nf(.42,0,1,1),a6=nf(0,0,.58,1),VC=nf(.42,0,.58,1),s6=e=>Array.isArray(e)&&typeof e[0]!="number",UC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HC=e=>t=>1-e(1-t),jk=e=>1-Math.sin(Math.acos(e)),WC=HC(jk),i6=UC(jk),GC=nf(.33,1.53,.69,.99),wk=HC(GC),o6=UC(wk),l6=e=>(e*=2)<1?.5*wk(e):.5*(2-Math.pow(2,-10*(e-1))),c6={linear:Jt,easeIn:n6,easeInOut:VC,easeOut:a6,circIn:jk,circInOut:i6,circOut:WC,backIn:wk,backInOut:o6,backOut:GC,anticipate:l6},W1=e=>{if(Array.isArray(e)){kk(e.length===4);const[t,r,n,s]=e;return nf(t,r,n,s)}else if(typeof e=="string")return c6[e];return e},Sk=(e,t)=>r=>!!(tf(r)&&dB.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),qC=(e,t,r)=>n=>{if(!tf(n))return n;const[s,i,o,l]=n.match(Am);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},u6=e=>mi(0,255,e),lx={...wo,transform:e=>Math.round(u6(e))},Yi={test:Sk("rgb","red"),parse:qC("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+lx.transform(e)+", "+lx.transform(t)+", "+lx.transform(r)+", "+Pu(Nu.transform(n))+")"};function d6(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const pv={test:Sk("#"),parse:d6,transform:Yi.transform},Jo={test:Sk("hsl","hue"),parse:qC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Aa.transform(Pu(t))+", "+Aa.transform(Pu(r))+", "+Pu(Nu.transform(n))+")"},qr={test:e=>Yi.test(e)||pv.test(e)||Jo.test(e),parse:e=>Yi.test(e)?Yi.parse(e):Jo.test(e)?Jo.parse(e):pv.parse(e),transform:e=>tf(e)?e:e.hasOwnProperty("red")?Yi.transform(e):Jo.transform(e)},Bt=(e,t,r)=>-r*e+r*t+e;function cx(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function f6({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=cx(c,l,e+1/3),i=cx(c,l,e),o=cx(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const ux=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},h6=[pv,Yi,Jo],p6=e=>h6.find(t=>t.test(e));function G1(e){const t=p6(e);let r=t.parse(e);return t===Jo&&(r=f6(r)),r}const YC=(e,t)=>{const r=G1(e),n=G1(t),s={...r};return i=>(s.red=ux(r.red,n.red,i),s.green=ux(r.green,n.green,i),s.blue=ux(r.blue,n.blue,i),s.alpha=Bt(r.alpha,n.alpha,i),Yi.transform(s))};function m6(e){var t,r;return isNaN(e)&&tf(e)&&(((t=e.match(Am))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(kC))===null||r===void 0?void 0:r.length)||0)>0}const JC={regex:cB,countKey:"Vars",token:"${v}",parse:Jt},XC={regex:kC,countKey:"Colors",token:"${c}",parse:qr.parse},QC={regex:Am,countKey:"Numbers",token:"${n}",parse:wo.parse};function dx(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function qh(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&dx(r,JC),dx(r,XC),dx(r,QC),r}function ZC(e){return qh(e).values}function e_(e){const{values:t,numColors:r,numVars:n,tokenised:s}=qh(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<n?l=l.replace(JC.token,o[c]):c<n+r?l=l.replace(XC.token,qr.transform(o[c])):l=l.replace(QC.token,Pu(o[c]));return l}}const g6=e=>typeof e=="number"?0:e;function x6(e){const t=ZC(e);return e_(e)(t.map(g6))}const gi={test:m6,parse:ZC,createTransformer:e_,getAnimatableNone:x6},t_=(e,t)=>r=>`${r>0?t:e}`;function r_(e,t){return typeof e=="number"?r=>Bt(e,t,r):qr.test(e)?YC(e,t):e.startsWith("var(")?t_(e,t):a_(e,t)}const n_=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>r_(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},v6=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=r_(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},a_=(e,t)=>{const r=gi.createTransformer(t),n=qh(e),s=qh(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?oi(n_(n.values,s.values),r):t_(e,t)},od=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},q1=(e,t)=>r=>Bt(e,t,r);function y6(e){return typeof e=="number"?q1:typeof e=="string"?qr.test(e)?YC:a_:Array.isArray(e)?n_:typeof e=="object"?v6:q1}function b6(e,t,r){const n=[],s=r||y6(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Jt:t;l=oi(c,l)}n.push(l)}return n}function s_(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(kk(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=b6(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=od(e[d],e[d+1],u);return o[d](f)};return r?u=>c(mi(e[0],e[i-1],u)):c}function k6(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=od(0,t,n);e.push(Bt(r,1,s))}}function j6(e){const t=[0];return k6(t,e.length-1),t}function w6(e,t){return e.map(r=>r*t)}function S6(e,t){return e.map(()=>t||VC).splice(0,e.length-1)}function Yh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=s6(n)?n.map(W1):W1(n),i={done:!1,value:t[0]},o=w6(r&&r.length===t.length?r:j6(t),e),l=s_(o,t,{ease:Array.isArray(s)?s:S6(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function i_(e,t){return t?e*(1e3/t):0}const N6=5;function o_(e,t,r){const n=Math.max(t-N6,0);return i_(r-e(n),t-n)}const fx=.001,P6=.01,T6=10,A6=.05,O6=1;function E6({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=mi(A6,O6,o),e=mi(P6,T6,Xa(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,p=mv(u,o),g=Math.exp(-f);return fx-h/p*g},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=mv(Math.pow(u,2),o);return(-s(u)+fx>0?-1:1)*((h-p)*g)/m}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-fx+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=_6(s,i,l);if(e=no(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const C6=12;function _6(e,t,r){let n=r;for(let s=1;s<C6;s++)n=n-e(n)/t(n);return n}function mv(e,t){return e*Math.sqrt(1-t*t)}const D6=["duration","bounce"],M6=["stiffness","damping","mass"];function Y1(e,t){return t.some(r=>e[r]!==void 0)}function $6(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Y1(e,M6)&&Y1(e,D6)){const r=E6(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function l_({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=$6({...n,velocity:-Xa(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),m=i-s,k=Xa(Math.sqrt(l/u)),y=Math.abs(m)<5;r||(r=y?.01:2),t||(t=y?.005:.5);let v;if(g<1){const x=mv(k,g);v=w=>{const j=Math.exp(-g*k*w);return i-j*((p+g*k*m)/x*Math.sin(x*w)+m*Math.cos(x*w))}}else if(g===1)v=x=>i-Math.exp(-k*x)*(m+(p+k*m)*x);else{const x=k*Math.sqrt(g*g-1);v=w=>{const j=Math.exp(-g*k*w),S=Math.min(x*w,300);return i-j*((p+g*k*m)*Math.sinh(S)+x*m*Math.cosh(S))/x}}return{calculatedDuration:h&&d||null,next:x=>{const w=v(x);if(h)o.done=x>=d;else{let j=p;x!==0&&(g<1?j=o_(v,x,w):j=0);const S=Math.abs(j)<=r,N=Math.abs(i-w)<=t;o.done=S&&N}return o.value=o.done?i:w,o}}}function J1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let m=r*t;const k=f+m,y=o===void 0?k:o(k);y!==k&&(m=y-f);const v=P=>-m*Math.exp(-P/n),x=P=>y+v(P),w=P=>{const O=v(P),C=x(P);h.done=Math.abs(O)<=u,h.value=h.done?y:C};let j,S;const N=P=>{p(h.value)&&(j=P,S=l_({keyframes:[h.value,g(h.value)],velocity:o_(x,P,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let O=!1;return!S&&j===void 0&&(O=!0,w(P),N(P)),j!==void 0&&P>j?S.next(P-j):(!O&&w(P),h)}}}const R6=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Nt.update(t,!0),stop:()=>ss(t),now:()=>_r.isProcessing?_r.timestamp:performance.now()}},X1=2e4;function Q1(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<X1;)t+=r,n=e.next(t);return t>=X1?1/0:t}const I6={decay:J1,inertia:J1,tween:Yh,keyframes:Yh,spring:l_};function Jh({autoplay:e=!0,delay:t=0,driver:r=R6,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,m,k;const y=()=>{k=new Promise(q=>{m=q})};y();let v;const x=I6[s]||Yh;let w;x!==Yh&&typeof n[0]!="number"&&(w=s_([0,100],n,{clamp:!1}),n=[0,100]);const j=x({...h,keyframes:n});let S;l==="mirror"&&(S=x({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let N="idle",P=null,O=null,C=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=Q1(j));const{calculatedDuration:M}=j;let E=1/0,_=1/0;M!==null&&(E=M+o,_=E*(i+1)-o);let B=0;const G=q=>{if(O===null)return;p>0&&(O=Math.min(O,q)),p<0&&(O=Math.min(q-_/p,O)),P!==null?B=P:B=Math.round(q-O)*p;const oe=B-t*(p>=0?1:-1),Q=p>=0?oe<0:oe>_;B=Math.max(oe,0),N==="finished"&&P===null&&(B=_);let ce=B,se=j;if(i){const ue=Math.min(B,_)/E;let fe=Math.floor(ue),me=ue%1;!me&&ue>=1&&(me=1),me===1&&fe--,fe=Math.min(fe,i+1),!!(fe%2)&&(l==="reverse"?(me=1-me,o&&(me-=o/E)):l==="mirror"&&(se=S)),ce=mi(0,1,me)*E}const ie=Q?{done:!1,value:n[0]}:se.next(ce);w&&(ie.value=w(ie.value));let{done:xe}=ie;!Q&&M!==null&&(xe=p>=0?B>=_:B<=0);const be=P===null&&(N==="finished"||N==="running"&&xe);return f&&f(ie.value),be&&V(),ie},L=()=>{v&&v.stop(),v=void 0},I=()=>{N="idle",L(),m(),y(),O=C=null},V=()=>{N="finished",d&&d(),L(),m()},F=()=>{if(g)return;v||(v=r(G));const q=v.now();c&&c(),P!==null?O=q-P:(!O||N==="finished")&&(O=q),N==="finished"&&y(),C=O,P=null,N="running",v.start()};e&&F();const X={then(q,oe){return k.then(q,oe)},get time(){return Xa(B)},set time(q){q=no(q),B=q,P!==null||!v||p===0?P=q:O=v.now()-q/p},get duration(){const q=j.calculatedDuration===null?Q1(j):j.calculatedDuration;return Xa(q)},get speed(){return p},set speed(q){q===p||!v||(p=q,X.time=Xa(B))},get state(){return N},play:F,pause:()=>{N="paused",P=B},stop:()=>{g=!0,N!=="idle"&&(N="idle",u&&u(),I())},cancel:()=>{C!==null&&G(C),I()},complete:()=>{N="finished"},sample:q=>(O=0,G(q))};return X}function L6(e){let t;return()=>(t===void 0&&(t=e()),t)}const B6=L6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),F6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),If=10,K6=2e4,z6=(e,t)=>t.type==="spring"||e==="backgroundColor"||!BC(t.ease);function V6(e,t,{onUpdate:r,onComplete:n,...s}){if(!(B6()&&F6.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:f,duration:h=300,ease:p,times:g}=s;if(z6(t,s)){const x=Jh({...s,repeat:0,delay:0});let w={done:!1,value:f[0]};const j=[];let S=0;for(;!w.done&&S<K6;)w=x.sample(S),j.push(w.value),S+=If;g=void 0,f=j,h=S-If,p="linear"}const m=QB(e.owner.current,t,f,{...s,duration:h,ease:p,times:g}),k=()=>{u=!1,m.cancel()},y=()=>{u=!0,Nt.update(k),l(),d()};return m.onfinish=()=>{u||(e.set(ZB(f,s)),n&&n(),y())},{then(x,w){return c.then(x,w)},attachTimeline(x){return m.timeline=x,m.onfinish=null,Jt},get time(){return Xa(m.currentTime||0)},set time(x){m.currentTime=no(x)},get speed(){return m.playbackRate},set speed(x){m.playbackRate=x},get duration(){return Xa(h)},play:()=>{o||(m.play(),ss(k))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:x}=m;if(x){const w=Jh({...s,autoplay:!1});e.setWithVelocity(w.sample(x-If).value,w.sample(x).value,If)}y()},complete:()=>{u||m.finish()},cancel:y}}function U6({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Jt,pause:Jt,stop:Jt,then:i=>(i(),Promise.resolve()),cancel:Jt,complete:Jt});return t?Jh({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const H6={type:"spring",stiffness:500,damping:25,restSpeed:10},W6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G6={type:"keyframes",duration:.8},q6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y6=(e,{keyframes:t})=>t.length>2?G6:jo.has(e)?e.startsWith("scale")?W6(t[1]):H6:q6,gv=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gi.test(t)||t==="0")&&!t.startsWith("url(")),J6=new Set(["brightness","contrast","saturate","opacity"]);function X6(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Am)||[];if(!n)return e;const s=r.replace(n,"");let i=J6.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const Q6=/([a-z-]*)\(.*?\)/g,xv={...gi,getAnimatableNone:e=>{const t=e.match(Q6);return t?t.map(X6).join(" "):e}},Z6={...jC,color:qr,backgroundColor:qr,outlineColor:qr,fill:qr,stroke:qr,borderColor:qr,borderTopColor:qr,borderRightColor:qr,borderBottomColor:qr,borderLeftColor:qr,filter:xv,WebkitFilter:xv},Nk=e=>Z6[e];function c_(e,t){let r=Nk(e);return r!==xv&&(r=gi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const u_=e=>/^0[^.\s]+$/.test(e);function eF(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||u_(e)}function tF(e,t,r,n){const s=gv(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),eF(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=c_(t,l)}return i}function rF({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Pk(e,t){return e[t]||e.default||e}const nF={skipAnimations:!1},Tk=(e,t,r,n={})=>s=>{const i=Pk(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-no(o);const c=tF(t,e,r,i),u=c[0],d=c[c.length-1],f=gv(e,u),h=gv(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(rF(i)||(p={...p,...Y6(e,p)}),p.duration&&(p.duration=no(p.duration)),p.repeatDelay&&(p.repeatDelay=no(p.repeatDelay)),!f||!h||XB.current||i.type===!1||nF.skipAnimations)return U6(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=V6(t,e,p);if(g)return g}return Jh(p)};function Xh(e){return!!(hn(e)&&e.add)}const d_=e=>/^\-?\d*\.?\d+$/.test(e);function Ak(e,t){e.indexOf(t)===-1&&e.push(t)}function Ok(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Ek{constructor(){this.subscriptions=[]}add(t){return Ak(this.subscriptions,t),()=>Ok(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aF=e=>!isNaN(parseFloat(e));class sF{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=_r;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Nt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Nt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aF(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Ek);const n=this.events[t].add(r);return t==="change"?()=>{n(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?i_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pl(e,t){return new sF(e,t)}const f_=e=>t=>t.test(e),iF={test:e=>e==="auto",parse:e=>e},h_=[wo,ze,Aa,Bs,hB,fB,iF],_c=e=>h_.find(f_(e)),oF=[...h_,qr,gi],lF=e=>oF.find(f_(e));function cF(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Pl(r))}function uF(e,t){const r=Em(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=TB(i[o]);cF(e,o,l)}}function dF(e,t,r){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(d_(d)||u_(d))?d=parseFloat(d):!lF(d)&&gi.test(u)&&(d=c_(c,u)),e.addValue(c,Pl(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function fF(e,t){return t?(t[e]||t.default||t).from:void 0}function hF(e,t,r){const n={};for(const s in e){const i=fF(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function pF({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function mF(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function p_(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&pF(d,f))continue;const g={delay:r,elapsed:0,...Pk(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[mC];if(y){const v=window.HandoffAppearAnimations(y,f,h,Nt);v!==null&&(g.elapsed=v,g.isHandoff=!0)}}let m=!g.isHandoff&&!mF(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(Tk(f,h,p,e.shouldReduceMotion&&jo.has(f)?{type:!1}:g));const k=h.animation;Xh(c)&&(c.add(f),k.then(()=>c.remove(f))),u.push(k)}return o&&Promise.all(u).then(()=>{o&&uF(e,o)}),u}function vv(e,t,r={}){const n=Em(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(p_(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return gF(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function gF(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(xF).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(vv(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function xF(e,t){return e.sortNodePosition(t)}function vF(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>vv(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=vv(e,t,r);else{const s=typeof t=="function"?Em(e,t,r.custom):t;n=Promise.all(p_(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const yF=[...dk].reverse(),bF=dk.length;function kF(e){return t=>Promise.all(t.map(({animation:r,options:n})=>vF(e,r,n)))}function jF(e){let t=kF(e);const r=SF();let n=!0;const s=(c,u)=>{const d=Em(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let y=0;y<bF;y++){const v=yF[y],x=r[v],w=d[v]!==void 0?d[v]:f[v],j=sd(w),S=v===u?x.isActive:null;S===!1&&(m=y);let N=w===f[v]&&w!==d[v]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),x.protectedKeys={...g},!x.isActive&&S===null||!w&&!x.prevProp||Pm(w)||typeof w=="boolean")continue;let O=wF(x.prevProp,w)||v===u&&x.isActive&&!N&&j||y>m&&j,C=!1;const M=Array.isArray(w)?w:[w];let E=M.reduce(s,{});S===!1&&(E={});const{prevResolvedValues:_={}}=x,B={..._,...E},G=L=>{O=!0,p.has(L)&&(C=!0,p.delete(L)),x.needsAnimating[L]=!0};for(const L in B){const I=E[L],V=_[L];if(g.hasOwnProperty(L))continue;let F=!1;Gh(I)&&Gh(V)?F=!IC(I,V):F=I!==V,F?I!==void 0?G(L):p.add(L):I!==void 0&&p.has(L)?G(L):x.protectedKeys[L]=!0}x.prevProp=w,x.prevResolvedValues=E,x.isActive&&(g={...g,...E}),n&&e.blockInitialAnimation&&(O=!1),O&&(!N||C)&&h.push(...M.map(L=>({animation:L,options:{type:v,...c}})))}if(p.size){const y={};p.forEach(v=>{const x=e.getBaseTarget(v);x!==void 0&&(y[v]=x)}),h.push({animation:y})}let k=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(k=!1),n=!1,k?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function wF(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IC(t,e):!1}function Ai(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SF(){return{animate:Ai(!0),whileInView:Ai(),whileHover:Ai(),whileTap:Ai(),whileDrag:Ai(),whileFocus:Ai(),exit:Ai()}}class NF extends ji{constructor(t){super(t),t.animationState||(t.animationState=jF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Pm(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let PF=0;class TF extends ji{constructor(){super(...arguments),this.id=PF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const AF={animation:{Feature:NF},exit:{Feature:TF}},Z1=(e,t)=>Math.abs(e-t);function OF(e,t){const r=Z1(e.x,t.x),n=Z1(e.y,t.y);return Math.sqrt(r**2+n**2)}class m_{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=px(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=OF(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=_r;this.history.push({...g,timestamp:m});const{onStart:k,onMove:y}=this.handlers;h||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=hx(h,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=px(f.type==="pointercancel"?this.lastMoveEventInfo:hx(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,k),g&&g(f,k)},!_C(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Om(t),l=hx(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=_r;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,px(l,this.history)),this.removeListeners=oi(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function hx(e,t){return t?{point:t(e.point)}:e}function eS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function px({point:e},t){return{point:e,delta:eS(e,g_(t)),offset:eS(e,EF(t)),velocity:CF(t,.1)}}function EF(e){return e[0]}function g_(e){return e[e.length-1]}function CF(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=g_(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>no(t)));)r--;if(!n)return{x:0,y:0};const i=Xa(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pn(e){return e.max-e.min}function yv(e,t=0,r=.01){return Math.abs(e-t)<=r}function tS(e,t,r,n=.5){e.origin=n,e.originPoint=Bt(t.min,t.max,e.origin),e.scale=Pn(r)/Pn(t),(yv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Bt(r.min,r.max,e.origin)-e.originPoint,(yv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tu(e,t,r,n){tS(e.x,t.x,r.x,n?n.originX:void 0),tS(e.y,t.y,r.y,n?n.originY:void 0)}function rS(e,t,r){e.min=r.min+t.min,e.max=e.min+Pn(t)}function _F(e,t,r){rS(e.x,t.x,r.x),rS(e.y,t.y,r.y)}function nS(e,t,r){e.min=t.min-r.min,e.max=e.min+Pn(t)}function Au(e,t,r){nS(e.x,t.x,r.x),nS(e.y,t.y,r.y)}function DF(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Bt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Bt(r,e,n.max):Math.min(e,r)),e}function aS(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function MF(e,{top:t,left:r,bottom:n,right:s}){return{x:aS(e.x,r,s),y:aS(e.y,t,n)}}function sS(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function $F(e,t){return{x:sS(e.x,t.x),y:sS(e.y,t.y)}}function RF(e,t){let r=.5;const n=Pn(e),s=Pn(t);return s>n?r=od(t.min,t.max-n,e.min):n>s&&(r=od(e.min,e.max-s,t.min)),mi(0,1,r)}function IF(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const bv=.35;function LF(e=bv){return e===!1?e=0:e===!0&&(e=bv),{x:iS(e,"left","right"),y:iS(e,"top","bottom")}}function iS(e,t,r){return{min:oS(e,t),max:oS(e,r)}}function oS(e,t){return typeof e=="number"?e:e[t]||0}const lS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:lS(),y:lS()}),cS=()=>({min:0,max:0}),Zt=()=>({x:cS(),y:cS()});function $n(e){return[e("x"),e("y")]}function x_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function BF({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FF(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function mx(e){return e===void 0||e===1}function kv({scale:e,scaleX:t,scaleY:r}){return!mx(e)||!mx(t)||!mx(r)}function Ri(e){return kv(e)||v_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function v_(e){return uS(e.x)||uS(e.y)}function uS(e){return e&&e!=="0%"}function Qh(e,t,r){const n=e-r,s=t*n;return r+s}function dS(e,t,r,n,s){return s!==void 0&&(e=Qh(e,s,n)),Qh(e,r,n)+t}function jv(e,t=0,r=1,n,s){e.min=dS(e.min,t,r,n,s),e.max=dS(e.max,t,r,n,s)}function y_(e,{x:t,y:r}){jv(e.x,t.translate,t.scale,t.originPoint),jv(e.y,r.translate,r.scale,r.originPoint)}function KF(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,y_(e,o)),n&&Ri(i.latestValues)&&Qo(e,i.latestValues))}t.x=fS(t.x),t.y=fS(t.y)}function fS(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zs(e,t){e.min=e.min+t,e.max=e.max+t}function hS(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=Bt(e.min,e.max,i);jv(e,t[r],t[n],o,t.scale)}const zF=["x","scaleX","originX"],VF=["y","scaleY","originY"];function Qo(e,t){hS(e.x,t,zF),hS(e.y,t,VF)}function b_(e,t){return x_(FF(e.getBoundingClientRect(),t))}function UF(e,t,r){const n=b_(e,r),{scroll:s}=t;return s&&(zs(n.x,s.offset.x),zs(n.y,s.offset.y)),n}const k_=({current:e})=>e?e.ownerDocument.defaultView:null,HF=new WeakMap;class WF{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Om(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=MC(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(k=>{let y=this.getAxisMotionValue(k).get()||0;if(Aa.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[k];x&&(y=Pn(x)*(parseFloat(y)/100))}}this.originPoint[k]=y}),g&&Nt.update(()=>g(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:k}=f;if(p&&this.currentDirection===null){this.currentDirection=GF(k),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>$n(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new m_(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:k_(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Nt.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Lf(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=DF(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Yo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=MF(s.layoutBox,r):this.constraints=!1,this.elastic=LF(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$n(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=IF(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Yo(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=UF(n,s.root,this.visualElement.getTransformPagePoint());let o=$F(s.layout.layoutBox,i);if(r){const l=r(BF(o));this.hasMutatedConstraints=!!l,l&&(o=x_(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=$n(d=>{if(!Lf(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Tk(t,n,0,r))}stopAnimation(){$n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$n(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){$n(r=>{const{drag:n}=this.getProps();if(!Lf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-Bt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yo(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$n(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=RF({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$n(o=>{if(!Lf(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Bt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;HF.set(this.visualElement,this);const t=this.visualElement.current,r=Ja(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Yo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Ha(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&($n(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=bv,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Lf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function GF(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class qF extends ji{constructor(t){super(t),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new WF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const pS=e=>(t,r)=>{e&&Nt.update(()=>e(t,r))};class YF extends ji{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(t){this.session=new m_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:pS(t),onStart:pS(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Nt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function JF(){const e=b.useContext(Sm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=b.useId();return b.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ze.test(e))e=parseFloat(e);else return e;const r=mS(e,t.target.x),n=mS(e,t.target.y);return`${r}% ${n}%`}},XF={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=gi.parse(e);if(s.length>5)return n;const i=gi.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Bt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class QF extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;sB(ZF),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Nt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function j_(e){const[t,r]=JF(),n=b.useContext(hk);return re.createElement(QF,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(xC),isPresent:t,safeToRemove:r})}const ZF={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:XF},w_=["TopLeft","TopRight","BottomLeft","BottomRight"],eK=w_.length,gS=e=>typeof e=="string"?parseFloat(e):e,xS=e=>typeof e=="number"||ze.test(e);function tK(e,t,r,n,s,i){s?(e.opacity=Bt(0,r.opacity!==void 0?r.opacity:1,rK(n)),e.opacityExit=Bt(t.opacity!==void 0?t.opacity:1,0,nK(n))):i&&(e.opacity=Bt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<eK;o++){const l=`border${w_[o]}Radius`;let c=vS(t,l),u=vS(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||xS(c)===xS(u)?(e[l]=Math.max(Bt(gS(c),gS(u),n),0),(Aa.test(u)||Aa.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Bt(t.rotate||0,r.rotate||0,n))}function vS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rK=S_(0,.5,WC),nK=S_(.5,.95,Jt);function S_(e,t,r){return n=>n<e?0:n>t?1:r(od(e,t,n))}function yS(e,t){e.min=t.min,e.max=t.max}function Cn(e,t){yS(e.x,t.x),yS(e.y,t.y)}function bS(e,t,r,n,s){return e-=t,e=Qh(e,1/r,n),s!==void 0&&(e=Qh(e,1/s,n)),e}function aK(e,t=0,r=1,n=.5,s,i=e,o=e){if(Aa.test(t)&&(t=parseFloat(t),t=Bt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Bt(i.min,i.max,n);e===i&&(l-=t),e.min=bS(e.min,t,r,l,s),e.max=bS(e.max,t,r,l,s)}function kS(e,t,[r,n,s],i,o){aK(e,t[r],t[n],t[s],t.scale,i,o)}const sK=["x","scaleX","originX"],iK=["y","scaleY","originY"];function jS(e,t,r,n){kS(e.x,t,sK,r?r.x:void 0,n?n.x:void 0),kS(e.y,t,iK,r?r.y:void 0,n?n.y:void 0)}function wS(e){return e.translate===0&&e.scale===1}function N_(e){return wS(e.x)&&wS(e.y)}function oK(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function P_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function SS(e){return Pn(e.x)/Pn(e.y)}class lK{constructor(){this.members=[]}add(t){Ak(this.members,t),t.scheduleRender()}remove(t){if(Ok(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NS(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const cK=(e,t)=>e.depth-t.depth;class uK{constructor(){this.children=[],this.isDirty=!1}add(t){Ak(this.children,t),this.isDirty=!0}remove(t){Ok(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cK),this.isDirty=!1,this.children.forEach(t)}}function dK(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(ss(n),e(i-t))};return Nt.read(n,!0),()=>ss(n)}function fK(e){window.MotionDebug&&window.MotionDebug.record(e)}function hK(e){return e instanceof SVGElement&&e.tagName!=="svg"}function pK(e,t,r){const n=hn(e)?e:Pl(e);return n.start(Tk("",n,t,r)),n.animation}const PS=["","X","Y","Z"],mK={visibility:"hidden"},TS=1e3;let gK=0;const Ii={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function T_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=gK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ii.totalNodes=Ii.resolvedTargetDeltas=Ii.recalculatedProjection=0,this.nodes.forEach(yK),this.nodes.forEach(SK),this.nodes.forEach(NK),this.nodes.forEach(bK),fK(Ii)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new uK)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ek),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hK(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=dK(h,250),gh.hasAnimatedSinceResize&&(gh.hasAnimatedSinceResize=!1,this.nodes.forEach(OS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||EK,{onLayoutAnimationStart:k,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!P_(this.targetLayout,g)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const w={...Pk(m,"layout"),onPlay:k,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||OS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AS);return}this.isUpdating||this.nodes.forEach(jK),this.isUpdating=!1,this.nodes.forEach(wK),this.nodes.forEach(xK),this.nodes.forEach(vK),this.clearAllSnapshots();const l=performance.now();_r.delta=mi(0,1e3/60,l-_r.timestamp),_r.timestamp=l,_r.isProcessing=!0,sx.update.process(_r),sx.preRender.process(_r),sx.render.process(_r),_r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kK),this.sharedNodes.forEach(TK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!N_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Ri(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),CK(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Zt();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(zs(l.x,c.offset.x),zs(l.y,c.offset.y)),l}removeElementScroll(o){const l=Zt();Cn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Cn(l,o);const{scroll:h}=this.root;h&&(zs(l.x,-h.offset.x),zs(l.y,-h.offset.y))}zs(l.x,d.offset.x),zs(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Zt();Cn(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ri(d.latestValues)&&Qo(c,d.latestValues)}return Ri(this.latestValues)&&Qo(c,this.latestValues),c}removeTransform(o){const l=Zt();Cn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ri(u.latestValues))continue;kv(u.latestValues)&&u.updateSnapshot();const d=Zt(),f=u.measurePageBox();Cn(d,f),jS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ri(this.latestValues)&&jS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_r.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Au(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_F(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),y_(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Au(this.relativeTargetOrigin,this.target,p.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ii.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kv(this.parent.latestValues)||v_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_r.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Cn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;KF(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Xo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo());const m=this.projectionTransform;Tu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=NS(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ii.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Zt(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,k=this.getStack(),y=!k||k.members.length<=1,v=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(OK));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const j=w/1e3;ES(f.x,o.x,j),ES(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Au(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AK(this.relativeTarget,this.relativeTargetOrigin,h,j),x&&oK(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Zt()),Cn(x,this.relativeTarget)),m&&(this.animationValues=d,tK(d,u,this.latestValues,j,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{gh.hasAnimatedSinceResize=!0,this.currentAnimation=pK(0,TS,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&A_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Zt();const f=Pn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Pn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Cn(l,c),Qo(l,d),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lK),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<PS.length;d++){const f="rotate"+PS[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mK;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=mh(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=mh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=NS(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Hh){if(h[m]===void 0)continue;const{correct:k,applyTo:y}=Hh[m],v=u.transform==="none"?h[m]:k(h[m],f);if(y){const x=y.length;for(let w=0;w<x;w++)u[y[w]]=v}else u[m]=v}return this.options.layoutId&&(u.pointerEvents=f===this?mh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(AS),this.root.sharedNodes.clear()}}}function xK(e){e.updateLayout()}function vK(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?$n(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Pn(h);h.min=n[f].min,h.max=h.min+p}):A_(i,r.layoutBox,n)&&$n(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Pn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Xo();Tu(l,n,r.layoutBox);const c=Xo();o?Tu(c,e.applyTransform(s,!0),r.measuredBox):Tu(c,n,r.layoutBox);const u=!N_(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Zt();Au(g,r.layoutBox,h.layoutBox);const m=Zt();Au(m,n,p.layoutBox),P_(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function yK(e){Ii.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kK(e){e.clearSnapshot()}function AS(e){e.clearMeasurements()}function jK(e){e.isLayoutDirty=!1}function wK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function SK(e){e.resolveTargetDelta()}function NK(e){e.calcProjection()}function PK(e){e.resetRotation()}function TK(e){e.removeLeadSnapshot()}function ES(e,t,r){e.translate=Bt(t.translate,0,r),e.scale=Bt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function CS(e,t,r,n){e.min=Bt(t.min,r.min,n),e.max=Bt(t.max,r.max,n)}function AK(e,t,r,n){CS(e.x,t.x,r.x,n),CS(e.y,t.y,r.y,n)}function OK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const EK={duration:.45,ease:[.4,0,.1,1]},_S=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),DS=_S("applewebkit/")&&!_S("chrome/")?Math.round:Jt;function MS(e){e.min=DS(e.min),e.max=DS(e.max)}function CK(e){MS(e.x),MS(e.y)}function A_(e,t,r){return e==="position"||e==="preserve-aspect"&&!yv(SS(t),SS(r),.2)}const _K=T_({attachResizeListener:(e,t)=>Ha(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gx={current:void 0},O_=T_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gx.current){const e=new _K({});e.mount(window),e.setOptions({layoutScroll:!0}),gx.current=e}return gx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),DK={pan:{Feature:YF},drag:{Feature:qF,ProjectionNode:O_,MeasureLayout:j_}},MK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $K(e){const t=MK.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function wv(e,t,r=1){const[n,s]=$K(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return d_(o)?parseFloat(o):o}else return fv(s)?wv(s,t,r+1):s}function RK(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!fv(i))return;const o=wv(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!fv(i))continue;const o=wv(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const IK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),E_=e=>IK.has(e),LK=e=>Object.keys(e).some(E_),$S=e=>e===wo||e===ze,RS=(e,t)=>parseFloat(e.split(", ")[t]),IS=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return RS(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?RS(i[1],e):0}},BK=new Set(["x","y","z"]),FK=ef.filter(e=>!BK.has(e));function KK(e){const t=[];return FK.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Tl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:IS(4,13),y:IS(5,14)};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const zK=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Tl[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Tl[u](c,i)}),e},VK=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(E_);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=_c(d);const h=t[c];let p;if(Gh(h)){const g=h.length,m=h[0]===null?1:0;d=h[m],f=_c(d);for(let k=m;k<g&&h[k]!==null;k++)p?kk(_c(h[k])===p):p=_c(h[k])}else p=_c(h);if(f!==p)if($S(f)&&$S(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===ze&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(i=KK(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=zK(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Nm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function UK(e,t,r,n){return LK(t)?VK(e,t,r,n):{target:t,transitionEnd:n}}const HK=(e,t,r,n)=>{const s=RK(e,t,n);return t=s.target,n=s.transitionEnd,UK(e,t,r,n)},Sv={current:null},C_={current:!1};function WK(){if(C_.current=!0,!!Nm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sv.current=e.matches;e.addListener(t),t()}else Sv.current=!1}function GK(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(hn(i))e.addValue(s,i),Xh(n)&&n.add(s);else if(hn(o))e.addValue(s,Pl(i,{owner:e})),Xh(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Pl(l!==void 0?l:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const LS=new WeakMap,__=Object.keys(id),qK=__.length,BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],YK=fk.length;class JK{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Nt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Tm(r),this.isVariantNode=gC(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&hn(h)&&(h.set(l[f],!1),Xh(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,LS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),C_.current||WK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){LS.delete(this.current),this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=jo.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Nt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,l;for(let c=0;c<qK;c++){const u=__[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=id[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Yo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<BS.length;n++){const s=BS[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=GK(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<YK;n++){const s=fk[n],i=this.props[s];(sd(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Pl(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=bk(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!hn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Ek),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class D_ extends JK{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=hF(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){dF(this,n,o);const l=HK(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function XK(e){return window.getComputedStyle(e)}class QK extends D_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(jo.has(r)){const n=Nk(r);return n&&n.default||0}else{const n=XK(t),s=(bC(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return b_(t,r)}build(t,r,n,s){mk(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return yk(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){PC(t,r,n,s)}}class ZK extends D_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(jo.has(r)){const n=Nk(r);return n&&n.default||0}return r=TC.has(r)?r:uk(r),t.getAttribute(r)}measureInstanceViewportBox(){return Zt()}scrapeMotionValuesFromProps(t,r){return OC(t,r)}build(t,r,n,s){xk(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){AC(t,r,n,s)}mount(t){this.isSVGTag=vk(t.tagName),super.mount(t)}}const e8=(e,t)=>pk(e)?new ZK(t,{enableHardwareAcceleration:!1}):new QK(t,{enableHardwareAcceleration:!0}),t8={layout:{ProjectionNode:O_,MeasureLayout:j_}},r8={...AF,...qB,...DK,...t8},bt=nB((e,t)=>$B(e,t,r8,e8));function M_(){const e=b.useRef(!1);return ck(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function n8(){const e=M_(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>Nt.postRender(n),[n]),t]}class a8 extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function s8({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(a8,{isPresent:t,childRef:n,sizeRef:s},b.cloneElement(e,{ref:n}))}const xx=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=EC(i8),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return b.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=b.createElement(s8,{isPresent:r},e)),b.createElement(Sm.Provider,{value:u},e)};function i8(){return new Map}function o8(e){return b.useEffect(()=>()=>e(),[])}const Li=e=>e.key||"";function l8(e,t){e.forEach(r=>{const n=Li(r);t.set(n,r)})}function c8(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const li=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=b.useContext(hk).forceRender||n8()[0],c=M_(),u=c8(e);let d=u;const f=b.useRef(new Map).current,h=b.useRef(d),p=b.useRef(new Map).current,g=b.useRef(!0);if(ck(()=>{g.current=!1,l8(u,p),h.current=d}),o8(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return b.createElement(b.Fragment,null,d.map(v=>b.createElement(xx,{key:Li(v),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},v)));d=[...d];const m=h.current.map(Li),k=u.map(Li),y=m.length;for(let v=0;v<y;v++){const x=m[v];k.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((v,x)=>{if(k.indexOf(x)!==-1)return;const w=p.get(x);if(!w)return;const j=m.indexOf(x);let S=v;if(!S){const N=()=>{f.delete(x);const P=Array.from(p.keys()).filter(O=>!k.includes(O));if(P.forEach(O=>p.delete(O)),h.current=u.filter(O=>{const C=Li(O);return C===x||P.includes(C)}),!f.size){if(c.current===!1)return;l(),n&&n()}};S=b.createElement(xx,{key:Li(w),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:i,mode:o},w),f.set(x,S)}d.splice(j,0,S)}),d=d.map(v=>{const x=v.key;return f.has(x)?v:b.createElement(xx,{key:Li(v),isPresent:!0,presenceAffectsLayout:i,mode:o},v)}),b.createElement(b.Fragment,null,f.size?d:d.map(v=>b.cloneElement(v)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...u8,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${d8(e)}`,l].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Pe("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Pe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Pe("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Pe("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Pe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Pe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Pe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Pe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=Pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Pe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Pe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Pe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=Pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=Pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Pe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Pe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Pe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Pe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Pe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Pe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=Pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=Pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function XS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function D8(...e){return t=>{let r=!1;const n=e.map(s=>{const i=XS(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():XS(e[s],null)}}}}var M8=Symbol.for("react.lazy"),ep=LA[" use ".trim().toString()];function $8(e){return typeof e=="object"&&e!==null&&"then"in e}function z_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===M8&&"_payload"in e&&$8(e._payload)}function R8(e){const t=L8(e),r=b.forwardRef((n,s)=>{let{children:i,...o}=n;z_(i)&&typeof ep=="function"&&(i=ep(i._payload));const l=b.Children.toArray(i),c=l.find(F8);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var I8=R8("Slot");function L8(e){const t=b.forwardRef((r,n)=>{let{children:s,...i}=r;if(z_(s)&&typeof ep=="function"&&(s=ep(s._payload)),b.isValidElement(s)){const o=z8(s),l=K8(i,s.props);return s.type!==b.Fragment&&(l.ref=n?D8(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B8=Symbol("radix.slottable");function F8(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B8}function K8(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function z8(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const QS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ZS=qe,V_=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ZS(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=QS(d)||QS(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,k]=g;return Array.isArray(k)?k.includes({...i,...l}[m]):{...i,...l}[m]===k})?[...u,f,h]:u},[]);return ZS(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},V8=V_("inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-secondary text-secondary-foreground border border-border hover:bg-muted active:bg-muted/80",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",success:"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800",outline:"border border-border bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"text-muted-foreground hover:bg-accent hover:text-accent-foreground",link:"text-primary-600 underline-offset-4 hover:underline p-0 h-auto",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800"},size:{sm:"h-8 rounded-md px-3 text-xs gap-1.5",md:"h-9 rounded-lg px-4 gap-2",lg:"h-11 rounded-lg px-6 text-base gap-2",icon:"h-9 w-9 rounded-lg"}},defaultVariants:{variant:"primary",size:"md"}}),ae=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,isLoading:s,children:i,disabled:o,...l},c)=>{const u=n?I8:"button";return a.jsxs(u,{ref:c,className:Ae(V8({variant:t,size:r,className:e})),disabled:o||s,...l,children:[s&&a.jsxs("svg",{className:"animate-spin h-4 w-4 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});ae.displayName="Button";const ge=b.forwardRef(({className:e,label:t,error:r,helperText:n,id:s,type:i,...o},l)=>{const c=s||o.name;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),a.jsx("input",{id:c,type:i,ref:l,className:Ae("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","file:border-0 file:bg-transparent file:text-sm file:font-medium",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o}),r&&a.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r}),n&&!r&&a.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground",children:n})]})});ge.displayName="Input";const De=b.forwardRef(({className:e,label:t,error:r,options:n,placeholder:s,id:i,...o},l)=>{const c=i||o.name;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:c,ref:l,className:Ae("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","[&>option]:bg-background [&>option]:text-foreground",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o,children:[s&&a.jsx("option",{value:"",disabled:!0,children:s}),n.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))]}),a.jsx(Dm,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),r&&a.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r})]})});De.displayName="Select";const ke=b.forwardRef(({children:e,className:t,...r},n)=>a.jsx("div",{ref:n,className:Ae("bg-card text-card-foreground rounded-lg border border-border shadow-soft",t),...r,children:e}));ke.displayName="Card";const nt=b.forwardRef(({children:e,className:t,...r},n)=>a.jsx("div",{ref:n,className:Ae("flex flex-col gap-1 px-5 py-4",t),...r,children:e}));nt.displayName="CardHeader";const at=b.forwardRef(({children:e,className:t,...r},n)=>a.jsx("h3",{ref:n,className:Ae("text-sm font-semibold text-foreground leading-none tracking-tight",t),...r,children:e}));at.displayName="CardTitle";const U8=b.forwardRef(({children:e,className:t,...r},n)=>a.jsx("p",{ref:n,className:Ae("text-xs text-muted-foreground",t),...r,children:e}));U8.displayName="CardDescription";const Mr=b.forwardRef(({children:e,className:t,...r},n)=>a.jsx("div",{ref:n,className:Ae("px-5 pb-5",t),...r,children:e}));Mr.displayName="CardContent";const H8=b.forwardRef(({children:e,className:t,...r},n)=>a.jsx("div",{ref:n,className:Ae("flex items-center px-5 py-3 border-t border-border",t),...r,children:e}));H8.displayName="CardFooter";const Xe=({isOpen:e,onClose:t,title:r,description:n,children:s,size:i="md",showCloseButton:o=!0,closeOnOverlayClick:l=!0,className:c})=>{const u=b.useRef(null),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl"};b.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const f=h=>{l&&h.target===h.currentTarget&&t()};return typeof window>"u"?null:KE.createPortal(a.jsx(li,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm",onClick:f}),a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",onClick:f,children:a.jsxs(bt.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:Ae("relative w-full bg-card rounded-lg shadow-soft-xl border border-border",d[i],c),onClick:h=>h.stopPropagation(),children:[(r||o)&&a.jsxs("div",{className:"flex items-start justify-between px-5 py-4 border-b border-border",children:[a.jsxs("div",{children:[r&&a.jsx("h2",{className:"text-sm font-semibold text-foreground",children:r}),n&&a.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:n})]}),o&&a.jsx("button",{onClick:t,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:a.jsx(Un,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"px-5 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:s})]})})]})}),document.body)},Qt=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Konfirmasi",cancelText:o="Batal",variant:l="danger",isLoading:c=!1})=>{const u={danger:"bg-red-600 text-white hover:bg-red-700",warning:"bg-amber-600 text-white hover:bg-amber-700",info:"bg-primary-600 text-white hover:bg-primary-700"};return a.jsx(Xe,{isOpen:e,onClose:t,size:"sm",showCloseButton:!1,children:a.jsxs("div",{className:"text-center py-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:n}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:s}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-foreground bg-secondary border border-border rounded-lg hover:bg-muted transition-colors",disabled:c,children:o}),a.jsx("button",{onClick:r,className:Ae("px-4 py-2 text-sm font-medium rounded-lg transition-colors",u[l]),disabled:c,children:c?"Loading...":i})]})]})})},Or=({isOpen:e,onClose:t,onSubmit:r,action:n,itemName:s="data ini",loading:i=!1})=>{const[o,l]=b.useState(""),c=()=>{if(!o.trim()){alert("Mohon isi alasan permintaan");return}r(o),l("")},u=()=>{l(""),t()};return a.jsx(Xe,{isOpen:e,onClose:u,title:`Permintaan ${n==="edit"?"Edit":"Hapus"} Data`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsx(Vi,{className:"h-5 w-5 text-amber-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsx("p",{className:"font-medium",children:"Perlu Persetujuan"}),a.jsxs("p",{className:"mt-1",children:["Anda akan mengajukan permintaan untuk"," ",a.jsx("strong",{children:n==="edit"?"mengedit":"menghapus"})," ",s,". Permintaan ini akan dikirim ke AVP, Supervisor, atau Admin untuk disetujui."]})]})]}),a.jsx(ge,{label:"Alasan Permintaan",placeholder:`Jelaskan alasan mengapa Anda ingin ${n==="edit"?"mengedit":"menghapus"} data ini...`,value:o,onChange:d=>l(d.target.value),required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[a.jsx(ae,{variant:"secondary",onClick:u,disabled:i,children:"Batal"}),a.jsxs(ae,{onClick:c,disabled:i,children:[a.jsx(L_,{className:"h-4 w-4 mr-2"}),i?"Mengirim...":"Kirim Permintaan"]})]})]})})},W8=V_("inline-flex items-center font-medium transition-colors",{variants:{variant:{default:"bg-secondary text-secondary-foreground",primary:"bg-primary-50 text-primary-700 dark:bg-primary-950/50 dark:text-primary-300",success:"bg-emerald-50 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-300",warning:"bg-amber-50 text-amber-700 dark:bg-amber-950/50 dark:text-amber-300",danger:"bg-red-50 text-red-700 dark:bg-red-950/50 dark:text-red-300",info:"bg-cyan-50 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-300",outline:"border border-border text-foreground"},size:{sm:"px-1.5 py-0.5 text-[10px] rounded",md:"px-2 py-0.5 text-xs rounded-md",lg:"px-2.5 py-1 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"md"}}),Te=({className:e,variant:t,size:r,...n})=>a.jsx("span",{className:Ae(W8({variant:t,size:r,className:e})),...n}),G8=({children:e,className:t})=>a.jsx("div",{className:Ae("w-full overflow-x-auto",t),children:a.jsx("table",{className:"w-full border-collapse",children:e})}),q8=({children:e,className:t})=>a.jsx("thead",{className:Ae("bg-muted/50 border-b border-border",t),children:e}),Y8=({children:e,className:t})=>a.jsx("tbody",{className:Ae("divide-y divide-border",t),children:e}),eN=({children:e,className:t,onClick:r,isClickable:n})=>a.jsx("tr",{className:Ae("transition-colors",n&&"cursor-pointer hover:bg-muted/50",t),onClick:r,children:e}),tN=({children:e,className:t,sortable:r,sorted:n,onSort:s,style:i})=>a.jsx("th",{className:Ae("px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",r&&"cursor-pointer select-none hover:text-foreground",t),onClick:r?s:void 0,style:i,children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[e,r&&a.jsxs("span",{className:"flex flex-col",children:[a.jsx($_,{className:Ae("h-3 w-3 -mb-1",n==="asc"?"text-primary-600":"text-muted-foreground/30")}),a.jsx(Dm,{className:Ae("h-3 w-3",n==="desc"?"text-primary-600":"text-muted-foreground/30")})]})]})}),rN=({children:e,className:t})=>a.jsx("td",{className:Ae("px-4 py-3 text-sm text-foreground whitespace-nowrap",t),children:e}),J8=({message:e="Tidak ada data",icon:t})=>a.jsx("tr",{children:a.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t,a.jsx("p",{className:"text-sm",children:e})]})})}),X8=()=>a.jsx("tr",{children:a.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Memuat data..."})]})})}),Q8=({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,itemsPerPage:s=10})=>{const i=(e-1)*s+1,o=Math.min(e*s,n||0),l=()=>{const c=[];if(t<=5)for(let d=1;d<=t;d++)c.push(d);else if(e<=3){for(let d=1;d<=4;d++)c.push(d);c.push("..."),c.push(t)}else if(e>=t-2){c.push(1),c.push("...");for(let d=t-3;d<=t;d++)c.push(d)}else{c.push(1),c.push("...");for(let d=e-1;d<=e+1;d++)c.push(d);c.push("..."),c.push(t)}return c};return t<=1?null:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[n&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",i," - ",o," dari ",n," data"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Ck,{className:"h-4 w-4"})}),l().map((c,u)=>a.jsx("button",{onClick:()=>typeof c=="number"&&r(c),disabled:c==="...",className:Ae("min-w-[36px] h-9 px-2.5 text-sm font-medium rounded-lg transition-colors",c===e?"bg-primary-600 text-white":c==="..."?"text-muted-foreground cursor-default":"text-foreground hover:bg-muted"),children:c},u)),a.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(_k,{className:"h-4 w-4"})})]})]})},Z8=({value:e,onChange:t,placeholder:r="Cari..."})=>a.jsxs("div",{className:"relative w-full max-w-xs",children:[a.jsx(Mm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx(ge,{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"pl-10"})]});function nr({data:e,columns:t,loading:r=!1,emptyMessage:n="Tidak ada data",searchable:s=!0,searchKeys:i=[],searchPlaceholder:o="Cari...",pagination:l=!0,itemsPerPage:c=10,onRowClick:u,actions:d}){const[f,h]=b.useState(""),[p,g]=b.useState(1),[m,k]=b.useState(null),[y,v]=b.useState("asc"),x=f?e.filter(P=>i.some(O=>{const C=P[O];return typeof C=="string"?C.toLowerCase().includes(f.toLowerCase()):typeof C=="number"?C.toString().includes(f):!1})):e,w=m?[...x].sort((P,O)=>{const C=P[m],M=O[m];if(C===M)return 0;if(C==null)return 1;if(M==null)return-1;const E=C<M?-1:1;return y==="asc"?E:-E}):x,j=Math.ceil(w.length/c),S=l?w.slice((p-1)*c,p*c):w,N=P=>{m===P?v(y==="asc"?"desc":"asc"):(k(P),v("asc"))};return a.jsxs("div",{className:"card",children:[s&&a.jsx("div",{className:"px-4 py-3 border-b border-border",children:a.jsx(Z8,{value:f,onChange:h,placeholder:o})}),a.jsxs(G8,{children:[a.jsx(q8,{children:a.jsxs(eN,{children:[t.map(P=>a.jsx(tN,{sortable:P.sortable,sorted:m===P.key?y:null,onSort:()=>P.sortable&&N(P.key),style:{width:P.width},children:P.header},P.key)),d&&a.jsx(tN,{children:"Aksi"})]})}),a.jsx(Y8,{children:r?a.jsx(X8,{}):S.length===0?a.jsx(J8,{message:n}):S.map((P,O)=>a.jsxs(eN,{onClick:()=>u==null?void 0:u(P),isClickable:!!u,children:[t.map(C=>a.jsx(rN,{children:C.render?C.render(P[C.key],P):String(P[C.key]??"-")},C.key)),d&&a.jsx(rN,{children:d(P)})]},O))})]}),l&&a.jsx(Q8,{currentPage:p,totalPages:j,onPageChange:g,totalItems:w.length,itemsPerPage:c})]})}const tp=({size:e="md",className:t})=>{const r={sm:"h-4 w-4 border-2",md:"h-5 w-5 border-2",lg:"h-8 w-8 border-[3px]"};return a.jsx("div",{className:Ae("border-primary-600 border-t-transparent rounded-full animate-spin",r[e],t)})},Gt=({isVisible:e,message:t="Berhasil!",onClose:r,autoCloseDelay:n=1500})=>(b.useEffect(()=>{if(e&&r&&n>0){const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)}},[e,r,n]),e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-foreground/20 backdrop-blur-sm",onClick:r,children:a.jsxs("div",{className:"bg-card rounded-lg p-8 shadow-soft-xl text-center animate-scale-in border border-border",children:[a.jsx("div",{className:"w-14 h-14 mx-auto mb-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-base font-semibold text-foreground",children:t})]})}):null),oc=({isOpen:e,onClose:t,title:r,data:n,columns:s,signatures:i,filters:o,summaryRows:l,plant:c,compactMode:u=!1})=>{const d=b.useRef(null),[f,h]=b.useState(It()),[p,g]=b.useState(It()),[m,k]=b.useState("ALL"),[y,v]=b.useState("ALL"),[x,w]=b.useState("ALL"),[j,S]=b.useState({});if(b.useEffect(()=>{const E={};i.forEach(_=>{E[_.role]={jabatan:"",nama:"",noBadge:""}}),S(E)},[i]),!e)return null;const N=n.filter(E=>{const _=new Date(E.tanggal),B=new Date(f),G=new Date(p);return G.setHours(23,59,59,999),!(_<B||_>G||o!=null&&o.kategori&&m!=="ALL"&&E.kategori!==m||o!=null&&o.forklift&&y!=="ALL"&&E.forklift!==y||o!=null&&o.shift&&x!=="ALL"&&E.shift!==x)}).sort((E,_)=>new Date(E.tanggal).getTime()-new Date(_.tanggal).getTime()),P=()=>{const E=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],_=new Date;return`${_.getDate()} ${E[_.getMonth()]} ${_.getFullYear()}`},O=()=>{const E=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],_=new Date(f),B=new Date(p);return`${_.getDate()} ${E[_.getMonth()]} ${_.getFullYear()} - ${B.getDate()} ${E[B.getMonth()]} ${B.getFullYear()}`},C=()=>{const E=d.current;if(!E)return;const _=window.open("","_blank");_&&(_.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${r}</title>
        <style>
          @page {
            size: A4;
            margin: ${u?"8mm 10mm":"12mm"};
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Times New Roman', Times, serif;
            font-size: ${u?"9pt":"10pt"};
            line-height: ${u?"1.2":"1.4"};
            color: #000;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
          }
          .header {
            text-align: center;
            margin-bottom: ${u?"8px":"15px"};
          }
          .header h1 {
            font-size: ${u?"12pt":"14pt"};
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: ${u?"3px":"4px"};
            letter-spacing: 1px;
            color: #000;
          }
          .header .periode {
            font-size: ${u?"10pt":"11pt"};
            font-weight: bold;
            text-transform: uppercase;
            color: #000;
          }
          .filter-info {
            font-size: ${u?"8pt":"9pt"};
            margin-bottom: ${u?"5px":"10px"};
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: ${u?"6px":"8px"};
            font-size: ${u?"8pt":"9pt"};
          }
          th, td {
            border: 1px solid #000;
            padding: ${u?"2px 4px":"5px 6px"};
            text-align: center;
            line-height: ${u?"1.2":"1.4"};
          }
          thead tr:first-child th {
            background-color: transparent;
            font-weight: bold;
            border: 1px solid #000;
            padding: ${u?"3px 4px":"5px 6px"};
          }
          thead tr:nth-child(2) th {
            background-color: transparent;
            font-weight: bold;
          }
          tbody td {
            text-align: center;
            white-space: nowrap;
          }
          td.number, .number {
            text-align: right;
            white-space: nowrap;
          }
          td.left {
            text-align: left;
          }
          .summary-row td {
            font-weight: bold;
            border: 1px solid #000;
          }
          .subtotal-label {
            text-align: center;
            font-weight: bold;
          }
          .footer {
            margin-top: ${u?"10px":"20px"};
            text-align: right;
            font-size: ${u?"9pt":"10pt"};
            color: #000;
            font-style: italic;
          }
          .signatures {
            display: flex;
            justify-content: flex-end;
            margin-top: ${u?"12px":"30px"};
            padding-right: 20px;
          }
          .signature-box {
            text-align: center;
            min-width: ${u?"140px":"180px"};
          }
          .signature-box .label {
            font-size: ${u?"9pt":"10pt"};
            margin-bottom: ${u?"3px":"5px"};
          }
          .signature-box .position {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            margin-bottom: ${u?"35px":"60px"};
          }
          .signature-box .name {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            text-decoration: underline;
            margin-bottom: 2px;
          }
          .signature-box .badge {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
          }
          .multi-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: ${u?"12px":"30px"};
            gap: ${u?"10px":"20px"};
          }
          .multi-signatures .signature-box {
            flex: 1;
            text-align: center;
          }
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${E.innerHTML}
      </body>
      </html>
    `),_.document.close(),_.focus(),setTimeout(()=>{_.print(),_.close()},250))},M=(E,_,B)=>{S(G=>({...G,[E]:{...G[E],[_]:B}}))};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h2",{className:"text-lg font-bold text-dark-900",children:["Cetak ",r]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 rounded-lg",children:a.jsx(Un,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 border-b bg-dark-50 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[a.jsx(ha,{className:"inline h-4 w-4 mr-1"}),"Tanggal Mulai"]}),a.jsx("input",{type:"date",value:f,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[a.jsx(ha,{className:"inline h-4 w-4 mr-1"}),"Tanggal Akhir"]}),a.jsx("input",{type:"date",value:p,onChange:E=>g(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),((o==null?void 0:o.kategori)||(o==null?void 0:o.forklift)||(o==null?void 0:o.shift))&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(o==null?void 0:o.kategori)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.kategori.label}),a.jsxs("select",{value:m,onChange:E=>k(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.kategori.options.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),(o==null?void 0:o.forklift)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.forklift.label}),a.jsxs("select",{value:y,onChange:E=>v(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.forklift.options.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),(o==null?void 0:o.shift)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.shift.label}),a.jsxs("select",{value:x,onChange:E=>w(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.shift.options.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-dark-700",children:"Data Tanda Tangan"}),a.jsx("div",{className:"space-y-3",children:i.map(E=>{var _,B,G;return a.jsxs("div",{className:"p-3 bg-white rounded-lg border border-dark-200",children:[a.jsx("h4",{className:"text-xs font-semibold text-dark-600 mb-2",children:E.label}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:((_=j[E.role])==null?void 0:_.jabatan)||"",onChange:L=>M(E.role,"jabatan",L.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),a.jsx("input",{type:"text",placeholder:"Nama",value:((B=j[E.role])==null?void 0:B.nama)||"",onChange:L=>M(E.role,"nama",L.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),E.role!=="operator"&&a.jsx("input",{type:"text",placeholder:"No. Badge",value:((G=j[E.role])==null?void 0:G.noBadge)||"",onChange:L=>M(E.role,"noBadge",L.target.value),className:"flex-1 min-w-[120px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"})]})]},E.role)})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-dark-500",children:[N.length," data ditemukan"]}),a.jsxs("button",{onClick:C,disabled:N.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Br,{className:"h-4 w-4"}),"Cetak"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:a.jsx("div",{ref:d,className:"bg-white p-6 shadow-lg mx-auto",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsxs("h1",{children:["LAPORAN ",r.toUpperCase()]}),a.jsxs("div",{className:"periode",children:["PERIODE : ",O().toUpperCase()]})]}),(m!=="ALL"||y!=="ALL"||x!=="ALL")&&a.jsxs("div",{className:"filter-info",children:[m!=="ALL"&&a.jsxs("span",{children:["Kategori: ",m," | "]}),y!=="ALL"&&a.jsxs("span",{children:["Forklift: ",y," | "]}),x!=="ALL"&&a.jsxs("span",{children:["Shift: ",x]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"30px"},children:"No"}),s.map(E=>a.jsx("th",{style:{width:E.width},children:E.header},E.key))]})}),a.jsxs("tbody",{children:[N.map((E,_)=>a.jsxs("tr",{children:[a.jsx("td",{className:"center",children:_+1}),s.map(B=>{const G=B.render?B.render(E[B.key],E):E[B.key];return a.jsx("td",{className:B.align==="right"?"number":B.align==="center"?"center":"",children:G},B.key)})]},_)),l&&l.map((E,_)=>a.jsxs("tr",{className:"summary-row",children:[a.jsx("td",{colSpan:s.length,style:{textAlign:"right",paddingRight:"10px"},children:E.label}),a.jsx("td",{className:"number",children:E.getValue(N)})]},`summary-${_}`))]})]}),a.jsxs("div",{className:"footer",children:["Cikampek, ",P()]}),a.jsx("div",{className:i.length>1?"multi-signatures":"signatures",children:i.map(E=>{var _,B,G,L;return a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"label",children:E.label}),a.jsx("div",{className:"position",children:((_=j[E.role])==null?void 0:_.jabatan)||""}),E.role!=="operator"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"name",children:((B=j[E.role])==null?void 0:B.nama)||""}),a.jsx("div",{className:"badge",children:((G=j[E.role])==null?void 0:G.noBadge)||""})]}):a.jsx("div",{className:"name",children:((L=j[E.role])==null?void 0:L.nama)||""})]},E.role)})})]})})})]})})},ez=({isOpen:e,onClose:t,data:r,plant:n})=>{const s=b.useRef(null),[i,o]=b.useState(It()),[l,c]=b.useState(It()),[u,d]=b.useState({nama:"",noBadge:"",jabatan:""}),[f,h]=b.useState({nama:"",noBadge:"",jabatan:""});if(b.useEffect(()=>{if(e){const w=new Date,j=new Date(w.getFullYear(),w.getMonth(),1),S=new Date(w.getFullYear(),w.getMonth()+1,0);o(j.toISOString().split("T")[0]),c(S.toISOString().split("T")[0])}},[e]),!e)return null;const p=r.filter(w=>{const j=new Date(w.tanggal),S=new Date(i),N=new Date(l);return N.setHours(23,59,59,999),j>=S&&j<=N}).sort((w,j)=>new Date(w.tanggal).getTime()-new Date(j.tanggal).getTime()),g=p.reduce((w,j)=>w+(j.pengajuanSolar||0),0),m=p.reduce((w,j)=>w+(j.realisasiPengisian||0),0),k=m-g,y=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],j=new Date;return`${j.getDate()} ${w[j.getMonth()]} ${j.getFullYear()}`},v=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],j=new Date(i),S=new Date(l);return`${j.getDate()} ${w[j.getMonth()]} ${j.getFullYear()} - ${S.getDate()} ${w[S.getMonth()]} ${S.getFullYear()}`},x=()=>{const w=s.current;if(!w)return;const j=window.open("","_blank");j&&(j.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Rekap BBM Alat Berat - ${n}</title>
        <style>
          @page {
            size: A4 portrait;
            margin: 6mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 7pt;
            line-height: 1.1;
            color: #1a1a2e;
            background: #fff;
          }
          .print-container {
            width: 100%;
            max-width: 200mm;
            padding: 3px;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 2px solid #2563eb;
          }
          .header h1 {
            font-size: 12pt;
            font-weight: 700;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 8pt;
            font-weight: 600;
            margin: 3px 0;
          }
          .header .periode {
            font-size: 8pt;
            color: #64748b;
            margin-top: 3px;
          }
          .header .periode span {
            font-weight: 600;
            color: #334155;
          }
          
          /* Table Styles */
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 6px;
            font-size: 6pt;
          }
          thead th {
            background: linear-gradient(180deg, #1e40af, #1e3a8a);
            color: white;
            font-weight: 600;
            padding: 3px 2px;
            text-align: center;
            border: 1px solid #1e3a8a;
            text-transform: uppercase;
            font-size: 6pt;
            letter-spacing: 0.2px;
          }
          tbody td {
            padding: 2px 3px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 6pt;
          }
          tbody tr:nth-child(even) {
            background-color: #f8fafc;
          }
          tbody tr:hover {
            background-color: #e0e7ff;
          }
          .text-left {
            text-align: left !important;
          }
          .text-right {
            text-align: right !important;
          }
          .font-mono {
            font-family: 'Consolas', monospace;
          }
          
          /* Number formatting */
          .number-positive {
            color: #059669;
            font-weight: 600;
          }
          .number-negative {
            color: #dc2626;
            font-weight: 600;
          }
          
          /* Summary Row */
          .summary-row td {
            background: linear-gradient(180deg, #f59e0b, #d97706) !important;
            color: white !important;
            font-weight: 700 !important;
            border-color: #b45309 !important;
            padding: 3px 2px !important;
            font-size: 6pt !important;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 10px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 30px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 140px;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 30px;
            min-height: 12px;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            text-decoration: underline;
            text-underline-offset: 2px;
            margin-bottom: 1px;
            min-height: 12px;
          }
          
          .signature-badge {
            font-size: 7pt;
            color: #475569;
            font-weight: 500;
            min-height: 10px;
          }
          
          /* Summary Cards */
          .summary-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 6px;
          }
          
          .summary-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 4px;
            padding: 4px 10px;
            text-align: center;
            min-width: 90px;
          }
          
          .summary-card.pengajuan {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-color: #f59e0b;
          }
          
          .summary-card.realisasi {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-positive {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-negative {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #ef4444;
          }
          
          .summary-card-label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 1px;
          }
          
          .summary-card-value {
            font-size: 9pt;
            font-weight: 700;
            color: #1e40af;
          }
          
          .summary-card.pengajuan .summary-card-value { color: #b45309; }
          .summary-card.realisasi .summary-card-value { color: #16a34a; }
          .summary-card.selisih-positive .summary-card-value { color: #16a34a; }
          .summary-card.selisih-negative .summary-card-value { color: #dc2626; }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${w.innerHTML}
      </body>
      </html>
    `),j.document.close(),j.focus(),setTimeout(()=>{j.print(),j.close()},300))};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-amber-500 to-orange-500",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Zh,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Rekap BBM Alat Berat"}),a.jsxs("p",{className:"text-amber-100 text-sm",children:["Plant ",n]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(Un,{className:"h-6 w-6 text-white"})})]}),a.jsxs("div",{className:"p-5 border-b bg-gradient-to-b from-amber-50 to-white space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[a.jsx(ha,{className:"h-4 w-4 text-amber-600"}),"Tanggal Mulai"]}),a.jsx("input",{type:"date",value:i,onChange:w=>o(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[a.jsx(ha,{className:"h-4 w-4 text-amber-600"}),"Tanggal Akhir"]}),a.jsx("input",{type:"date",value:l,onChange:w=>c(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-bold text-dark-700 flex items-center gap-2",children:[a.jsx(cd,{className:"h-4 w-4 text-amber-600"}),"Data Tanda Tangan"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[a.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Mengetahui"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:u.jabatan,onChange:w=>d({...u,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:u.nama,onChange:w=>d({...u,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsxs("div",{className:"relative",children:[a.jsx(US,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"No. Badge",value:u.noBadge,onChange:w=>d({...u,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]}),a.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[a.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Dibuat Oleh"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:f.jabatan,onChange:w=>h({...f,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:f.nama,onChange:w=>h({...f,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsxs("div",{className:"relative",children:[a.jsx(US,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"No. Badge",value:f.noBadge,onChange:w=>h({...f,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("span",{className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-full font-medium",children:[p.length," data"]}),a.jsx("span",{className:"text-dark-500",children:"ditemukan dalam periode ini"})]}),a.jsxs("button",{onClick:x,disabled:p.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-amber-500/30 transition-all",children:[a.jsx(Br,{className:"h-5 w-5"}),"Cetak Laporan"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:a.jsx("div",{ref:s,className:"bg-white p-6 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsx("h1",{children:"LAPORAN REKAP BBM ALAT BERAT"}),a.jsxs("div",{className:"plant-badge",children:["PLANT ",n]}),a.jsxs("div",{className:"periode",children:["Periode: ",a.jsx("span",{children:v()})]})]}),a.jsxs("div",{className:"summary-cards",children:[a.jsxs("div",{className:"summary-card pengajuan",children:[a.jsx("div",{className:"summary-card-label",children:"Total Pengajuan"}),a.jsxs("div",{className:"summary-card-value",children:[H(g)," L"]})]}),a.jsxs("div",{className:"summary-card realisasi",children:[a.jsx("div",{className:"summary-card-label",children:"Total Realisasi"}),a.jsxs("div",{className:"summary-card-value",children:[H(m)," L"]})]}),a.jsxs("div",{className:`summary-card ${k>=0?"selisih-positive":"selisih-negative"}`,children:[a.jsx("div",{className:"summary-card-label",children:"Selisih"}),a.jsxs("div",{className:"summary-card-value",children:[k>=0?"+":"",H(k)," L"]})]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"40px"},children:"No"}),a.jsx("th",{style:{width:"100px"},children:"Tanggal"}),a.jsx("th",{children:"Nama Alat Berat"}),a.jsx("th",{style:{width:"120px"},children:"Pengajuan (L)"}),a.jsx("th",{style:{width:"120px"},children:"Realisasi (L)"}),a.jsx("th",{style:{width:"100px"},children:"Selisih (L)"}),a.jsx("th",{children:"Keterangan"})]})}),a.jsxs("tbody",{children:[p.map((w,j)=>{const S=(w.realisasiPengisian||0)-(w.pengajuanSolar||0);return a.jsxs("tr",{children:[a.jsx("td",{children:j+1}),a.jsx("td",{children:We(w.tanggal)}),a.jsx("td",{className:"text-left",children:w.namaAlatBerat}),a.jsx("td",{className:"text-right font-mono",children:H(w.pengajuanSolar)}),a.jsx("td",{className:"text-right font-mono",children:H(w.realisasiPengisian)}),a.jsxs("td",{className:`text-right font-mono ${S>=0?"number-positive":"number-negative"}`,children:[S>=0?"+":"",H(S)]}),a.jsx("td",{className:"text-left",children:w.keterangan||"-"})]},w.id||j)}),a.jsxs("tr",{className:"summary-row",children:[a.jsx("td",{colSpan:3,style:{textAlign:"center",fontWeight:"bold"},children:"TOTAL"}),a.jsx("td",{className:"text-right font-mono",children:H(g)}),a.jsx("td",{className:"text-right font-mono",children:H(m)}),a.jsxs("td",{className:`text-right font-mono ${k>=0?"number-positive":"number-negative"}`,children:[k>=0?"+":"",H(k)]}),a.jsx("td",{})]})]})]}),a.jsxs("div",{className:"footer",children:[a.jsxs("div",{className:"print-date",children:["Cikampek, ",y()]}),a.jsxs("div",{className:"signatures-container",children:[a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Mengetahui,"}),a.jsx("div",{className:"signature-jabatan",children:u.jabatan||""}),a.jsx("div",{className:"signature-name",children:u.nama||""}),a.jsx("div",{className:"signature-badge",children:u.noBadge||""})]}),a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Dibuat Oleh,"}),a.jsx("div",{className:"signature-jabatan",children:f.jabatan||""}),a.jsx("div",{className:"signature-name",children:f.nama||""}),a.jsx("div",{className:"signature-badge",children:f.noBadge||""})]})]})]})]})})})]})})},tz=({isOpen:e,onClose:t,data:r,plant:n})=>{const s=b.useRef(null);if(!e)return null;const i=()=>{const c=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=new Date;return`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`},o=c=>{const u=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],d=new Date(c);return`${d.getDate()} ${u[d.getMonth()]} ${d.getFullYear()}`},l=()=>{const c=s.current;if(!c)return;const u=window.open("","_blank");u&&(u.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Gate Pass - ${r.nomorGatePass}</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 8pt;
            line-height: 1.2;
            color: #1a1a2e;
            background: #fff;
          }
          .page-wrapper {
            width: 100%;
            height: 287mm;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
            padding: 5px 8px;
            height: 140mm;
            overflow: hidden;
          }
          .divider-line {
            width: 100%;
            border-top: 1px dashed #94a3b8;
            margin: 2mm 0;
            position: relative;
          }
          .divider-line::before {
            content: ' potong di sini';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 10px;
            font-size: 7pt;
            color: #94a3b8;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #1e40af;
            position: relative;
          }
          .header::after {
            content: '';
            position: absolute;
            bottom: -1.5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1.5px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
          }
          .header h1 {
            font-size: 13pt;
            font-weight: 800;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2px;
          }
          .header .subtitle {
            font-size: 7pt;
            color: #64748b;
            font-weight: 500;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 7pt;
            font-weight: 600;
            margin-top: 3px;
            box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
          }
          
          /* Gate Pass Number */
          .gatepass-number {
            text-align: center;
            margin: 6px 0;
            padding: 5px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1.5px solid #f59e0b;
            border-radius: 6px;
          }
          .gatepass-number label {
            font-size: 6pt;
            color: #92400e;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 1px;
          }
          .gatepass-number .number {
            font-size: 11pt;
            font-weight: 800;
            color: #92400e;
            font-family: 'Consolas', monospace;
            letter-spacing: 2px;
          }
          
          /* Info Grid */
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
          }
          .info-item {
            padding: 4px 6px;
            background: #f8fafc;
            border-radius: 4px;
            border-left: 2px solid #3b82f6;
          }
          .info-item.full-width {
            grid-column: span 2;
          }
          .info-item label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 1px;
            font-weight: 600;
          }
          .info-item .value {
            font-size: 8pt;
            color: #1e293b;
            font-weight: 500;
          }
          
          /* Description Section */
          .description-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 5px;
            border: 1px solid #7dd3fc;
          }
          .description-section h3 {
            font-size: 7pt;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #7dd3fc;
          }
          .description-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Reason Section */
          .reason-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #fef3c7, #fef9c3);
            border-radius: 5px;
            border: 1px solid #fcd34d;
          }
          .reason-section h3 {
            font-size: 7pt;
            color: #a16207;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #fcd34d;
          }
          .reason-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 6px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            padding: 0 10px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 120px;
            padding: 5px;
            background: #fafafa;
            border-radius: 5px;
            border: 1px dashed #cbd5e1;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
            font-weight: 500;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 20px;
            min-height: 10px;
          }
          
          .signature-space {
            height: 25px;
            margin-bottom: 3px;
          }
          
          .signature-line {
            width: 100px;
            height: 1px;
            background: #1e293b;
            margin: 0 auto 3px auto;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 1px;
            min-height: 10px;
          }
          
          .signature-badge {
            font-size: 6pt;
            color: #475569;
            font-weight: 500;
            min-height: 8px;
          }
          
          /* Stamp/Seal Style (Optional visual) */
          .official-stamp {
            text-align: center;
            margin-top: 5px;
            padding-top: 4px;
            border-top: 1px dashed #e2e8f0;
          }
          .official-stamp p {
            font-size: 6pt;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          /* Copy Label */
          .copy-label {
            position: absolute;
            top: 3px;
            right: 5px;
            font-size: 6pt;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
          }
          .print-container {
            position: relative;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="page-wrapper">
          <div class="print-container">
            <div class="copy-label">Lembar 1 - Arsip</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
          <div class="divider-line"></div>
          <div class="print-container">
            <div class="copy-label">Lembar 2 - Pembawa</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
        </div>
      </body>
      </html>
    `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},300))};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-blue-600 to-indigo-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(xa,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Gate Pass"}),a.jsx("p",{className:"text-blue-100 text-sm",children:r.nomorGatePass})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(Un,{className:"h-6 w-6 text-white"})})]}),a.jsx("div",{className:"p-5 border-b bg-gradient-to-b from-blue-50 to-white flex items-center justify-end",children:a.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 font-semibold shadow-lg shadow-blue-500/30 transition-all",children:[a.jsx(Br,{className:"h-5 w-5"}),"Cetak Gate Pass"]})}),a.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:a.jsx("div",{ref:s,className:"bg-white p-10 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsx("h1",{children:"GATE PASS"}),a.jsx("div",{className:"subtitle",children:"Surat Izin Keluar Barang"}),a.jsxs("div",{className:"plant-badge",children:["PT. PUPUK KUJANG CIKAMPEK - ",n]})]}),a.jsxs("div",{className:"gatepass-number",children:[a.jsx("label",{children:"Nomor Gate Pass"}),a.jsx("div",{className:"number",children:r.nomorGatePass})]}),a.jsxs("div",{className:"info-grid",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Tanggal"}),a.jsx("div",{className:"value",children:o(r.tanggal)})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"No Polisi"}),a.jsx("div",{className:"value",children:r.noPolisi||"-"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Pemilik Barang"}),a.jsx("div",{className:"value",children:r.pemilikBarang||"-"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Nama Pembawa"}),a.jsx("div",{className:"value",children:r.namaPembawa||"-"})]})]}),a.jsxs("div",{className:"description-section",children:[a.jsx("h3",{children:"Deskripsi Barang"}),a.jsx("p",{children:r.deskripsiBarang||"-"})]}),a.jsxs("div",{className:"reason-section",children:[a.jsx("h3",{children:"Alasan Mengeluarkan"}),a.jsx("p",{children:r.alasanKeluar||"-"})]}),a.jsxs("div",{className:"footer",children:[a.jsxs("div",{className:"print-date",children:["Cikampek, ",i()]}),a.jsxs("div",{className:"signatures-container",children:[a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Pembawa,"}),a.jsx("div",{className:"signature-space"}),a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-name",children:r.namaPembawa||""})]}),a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Mengetahui,"}),a.jsx("div",{className:"signature-space"}),a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-name",children:r.mengetahui||""})]})]}),a.jsx("div",{className:"official-stamp",children:a.jsx("p",{children:"Dokumen ini tidak sah tanpa tanda tangan basah"})})]})]})})})]})})};function rz(){const[e,t]=b.useState(null),[r,n]=b.useState(!1),[s,i]=b.useState(!1);return b.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0?(i(!0),!0):!1)return;const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{i(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:s,install:async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;return l==="accepted"?(i(!0),n(!1),t(null),!0):!1}catch(l){return console.error("Error installing PWA:",l),!1}}}}function nz(){const{isInstallable:e,isInstalled:t,install:r}=rz(),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1);b.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;c(f);const h=setTimeout(()=>{const p=localStorage.getItem("pwa-install-dismissed"),g=p?parseInt(p):0,m=(Date.now()-g)/(1e3*60*60*24);!t&&(e||f)&&m>7&&s(!0)},3e3);return()=>clearTimeout(h)},[e,t]);const u=async()=>{l?o(!0):await r()&&s(!1)},d=()=>{s(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return!n||t?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-slide-up",children:a.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-2xl border border-gray-200 dark:border-dark-600 p-4 max-w-md mx-auto",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:a.jsx(F_,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Install Plantiffy"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Akses lebih cepat langsung dari layar utama HP Anda"}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[a.jsx(R_,{className:"w-4 h-4"}),"Install"]}),a.jsx("button",{onClick:d,className:"px-3 py-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:"Nanti"})]})]}),a.jsx("button",{onClick:d,className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 p-1",children:a.jsx(Un,{className:"w-4 h-4"})})]})})}),i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:a.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-scale-up",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("img",{src:"/icons/icon-96x96.png",alt:"PlantIQ",className:"w-10 h-10 rounded-lg"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Install Plantiffy di iPhone"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Ikuti langkah berikut untuk menambahkan aplikasi ke layar utama:"})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"1"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ikon ",a.jsx("strong",{children:"Share"})," (kotak dengan panah ke atas) di bagian bawah Safari"]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"2"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Scroll ke bawah dan ketuk"," ",a.jsx("strong",{children:'"Add to Home Screen"'})]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"3"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ",a.jsx("strong",{children:'"Add"'})," di pojok kanan atas"]})})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-xl transition-colors",children:"Mengerti"})]})}),a.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes scale-up {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        
        .animate-scale-up {
          animation: scale-up 0.2s ease-out;
        }
      `})]})}const Dk=6e4,dd=new Map,Bf=new Map;function az(e){const t=dd.get(e);return t?Date.now()-t.timestamp>t.ttl?(dd.delete(e),null):t.data:null}function sz(e,t,r=Dk){dd.set(e,{data:t,timestamp:Date.now(),ttl:r})}function U_(e){const t=[];dd.forEach((r,n)=>{n.includes(e)&&t.push(n)}),t.forEach(r=>dd.delete(r))}async function H_(e,t,r=Dk){const n=az(e);if(n!==null)return{success:!0,data:n};const s=Bf.get(e);if(s)return s;const i=t().then(o=>(Bf.delete(e),o.success&&o.data&&sz(e,o.data,r),o)).catch(o=>{throw Bf.delete(e),o});return Bf.set(e,i),i}function Mk(e){U_(e)}const W_={DEFAULT:Dk},G_={readData:e=>`read:${e}`,fetchByPlant:e=>`plant:${e}`,dashboard:()=>"dashboard:all"},q_="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",Y_=3e4,iz=15e3,oz=6e4;function J_(e){const t=new AbortController;return setTimeout(()=>t.abort(),e),t}async function $m(e,t=Y_){const r=J_(t);try{const n=await fetch(`${q_}${e}`,{method:"GET",redirect:"follow",signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return{success:!0,data:s.data||s}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API GET Timeout:",e),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API GET Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function Kr(e,t=Y_){const r=J_(t);try{const n=await fetch(q_,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e),signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return s.success===!1?{success:!1,error:s.error||"Unknown error"}:{success:!0,data:s.data!==void 0?s.data:s}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API POST Timeout"),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API POST Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function lz(e){return Kr(e,iz)}function cz(e){return Kr(e,oz)}async function rp(e){return $m(`?action=read&sheet=${e}`)}async function X_(e,t=!0){if(!t)return rp(e);const r=G_.readData(e);return H_(r,()=>rp(e),W_.DEFAULT)}async function uz(e,t){const r=await Kr({action:"create",sheet:e,data:t});return r.success&&Mk(e),r}async function dz(e,t){const r=await Kr({action:"update",sheet:e,data:t});return r.success&&Mk(e),r}async function fz(e,t){const r=await Kr({action:"delete",sheet:e,data:{id:t}});return r.success&&Mk(e),r}async function Q_(e,t){return lz({action:"login",data:{username:e,password:t}})}function hz(e,t){cz({action:"update",sheet:dr.ACTIVE_USERS,data:{id:t||"",username:e,status:"offline",lastActive:new Date(0).toISOString()}}).catch(r=>console.error("Background offline update failed:",r))}async function pz(e,t=!0){const r=G_.fetchByPlant(e);return t?H_(r,()=>nN(e),W_.DEFAULT):nN(e)}async function nN(e){const[t,r]=await Promise.all([rp(e),rp(`${e}_NPK1`)]),n=[];return t.success&&t.data&&n.push(...t.data.map(s=>({...s,_plant:"NPK2"}))),r.success&&r.data&&n.push(...r.data.map(s=>({...s,_plant:"NPK1"}))),{success:!0,data:n}}function Z_(e,t){return t==="NPK1"?`${e}_NPK1`:e}const dr={PRODUKSI_NPK:"produksi_npk",PRODUKSI_BLENDING:"produksi_blending",PRODUKSI_NPK_MINI:"produksi_npk_mini",TIMESHEET_FORKLIFT:"timesheet_forklift",TIMESHEET_LOADER:"timesheet_loader",DOWNTIME:"downtime",WORK_REQUEST:"workrequest",BAHAN_BAKU:"bahanbaku",BAHAN_BAKU_NPK:"bahanbaku_npk",VIBRASI:"vibrasi",GATE_PASS:"gatepass",PERTA:"perta",PERBAIKAN_TAHUNAN:"perbaikan_tahunan",TROUBLE_RECORD:"trouble_record",KOP:"kop",REKAP_BBM:"rekap_bbm",PEMANTAUAN_BAHAN_BAKU:"pemantauan_bahan_baku",RIKSA_TIMB_PORTABEL:"riksa_timb_portabel",USERS:"users",SESSIONS:"sessions",APPROVAL_REQUESTS:"approval_requests",MONTHLY_NOTES:"monthly_notes",NOTIFICATIONS:"notifications",CHAT_MESSAGES:"chat_messages",AKUN:"akun",RKAP:"rkap",DOKUMENTASI_FOTO:"dokumentasi_foto",ACTIVE_USERS:"active_users",MATERIALS:"materials",MATERIAL_TRANSACTIONS:"material_transactions"};async function e4(e){return Kr({action:"uploadPhoto",data:e})}async function t4(e){return Kr({action:"deletePhoto",data:e})}async function mz(){return $m("?action=getExchangeRate")}async function r4(){return $m("?action=getMaterials")}async function n4(e){let t="?action=getMaterialTransactions";return e&&(e.material_id&&(t+=`&material_id=${encodeURIComponent(e.material_id)}`),e.start_date&&(t+=`&start_date=${encodeURIComponent(e.start_date)}`),e.end_date&&(t+=`&end_date=${encodeURIComponent(e.end_date)}`)),$m(t)}async function a4(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return Kr({action:"createWithLog",sheet:n,data:t,userInfo:r})}async function s4(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return Kr({action:"updateWithLog",sheet:n,data:t,userInfo:r})}async function i4(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return Kr({action:"deleteWithLog",sheet:n,data:{id:t.id},userInfo:r})}async function $k(e,t){return Kr({action:"getActivityLogs",filters:{sheet_name:e,record_id:t}})}function Rk(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Ik(e){return{create:"Menambahkan",update:"Mengubah",delete:"Menghapus"}[e]||e}function Lk(e){return{create:"",update:"",delete:""}[e]||""}async function o4(e,t){return Kr({action:"addMaterialWithLog",data:e,userInfo:t})}async function l4(e,t){return Kr({action:"updateMaterialWithLog",data:e,userInfo:t})}async function c4(e,t){return Kr({action:"deleteMaterialWithLog",data:{id:e},userInfo:t})}async function u4(e,t,r,n){return Kr({action:"updateStockMasukWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}async function d4(e,t,r,n){return Kr({action:"updateStockKeluarWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}const Le=Object.freeze(Object.defineProperty({__proto__:null,SHEETS:dr,addMaterialWithLog:o4,clearCacheByPattern:U_,createData:uz,createDataWithLog:a4,deleteData:fz,deleteDataWithLog:i4,deleteMaterialWithLog:c4,deletePhoto:t4,fetchDataByPlant:pz,getActionDisplayText:Ik,getActionIcon:Lk,getExchangeRate:mz,getMaterialTransactions:n4,getMaterials:r4,getRecordActivityLogs:$k,getSheetNameByPlant:Z_,loginUser:Q_,parseActivityLogChanges:Rk,readData:X_,setUserOfflineBackground:hz,updateData:dz,updateDataWithLog:s4,updateMaterialWithLog:l4,updateStockKeluarWithLog:d4,updateStockMasukWithLog:u4,uploadPhoto:e4},Symbol.toStringTag,{value:"Module"}));function gz({isVisible:e,onClose:t,notification:r}){const[n,s]=b.useState([]),[i,o]=b.useState(!1),[l,c]=b.useState(null);b.useEffect(()=>{e&&(r!=null&&r.sheetName)&&(r!=null&&r.recordId)&&u()},[e,r]);const u=async()=>{if(!(!(r!=null&&r.sheetName)||!(r!=null&&r.recordId))){o(!0),c(null);try{const p=await $k(r.sheetName,r.recordId);p.success&&p.data?s(p.data):c(p.error||"Gagal memuat log aktivitas")}catch{c("Terjadi kesalahan saat memuat data")}finally{o(!1)}}},d=p=>{try{return new Date(p).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return p}},f=p=>{switch(p){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},h=p=>{const g=Rk(p);if(!g)return null;if(g.deleted_data)return a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),a.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(g.deleted_data,null,2)})]});const m=Object.entries(g);return m.length===0?null:a.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),a.jsx("div",{className:"space-y-1",children:m.map(([k,y])=>a.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[k,":"]}),a.jsx("span",{className:"text-red-500 line-through",children:String(y.old||"-")}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(y.new||"-")})]},k))})]})};return a.jsx(Xe,{isOpen:e,onClose:t,title:"Detail Log Aktivitas",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[a.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:r.message}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d(r.timestamp)})]}),i&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(tp,{})}),l&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),!i&&!l&&n.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-sm",children:"Tidak ada log aktivitas"})]}),!i&&!l&&n.length>0&&a.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Riwayat perubahan data:"}),n.map(p=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:Lk(p.action)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:f(p.action),children:Ik(p.action)}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:p.user_name||p.user_id})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[p.user_role,"  ",p.plant]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(p.timestamp)})]}),p.record_preview&&a.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Data: "}),p.record_preview]}),h(p.changes)]},p.id))]})]})})}function ar({isOpen:e,onClose:t,sheetName:r,recordId:n,title:s="Log Aktivitas"}){const[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(null);b.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0),d(null);try{const m=await $k(r,n);m.success&&m.data?o(m.data):d(m.error||"Gagal memuat log aktivitas")}catch{d("Terjadi kesalahan saat memuat data")}finally{c(!1)}}},h=m=>{try{return new Date(m).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return m}},p=m=>{switch(m){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},g=m=>{const k=Rk(m);if(!k)return null;if(k.deleted_data)return a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),a.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(k.deleted_data,null,2)})]});const y=Object.entries(k);return y.length===0?null:a.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),a.jsx("div",{className:"space-y-1",children:y.map(([v,x])=>a.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[v,":"]}),a.jsx("span",{className:"text-red-500 line-through",children:String(x.old||"-")}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(x.new||"-")})]},v))})]})};return a.jsx(Xe,{isOpen:e,onClose:t,title:s,size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[l&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(tp,{})}),u&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),!l&&!u&&i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-sm",children:"Belum ada log aktivitas untuk data ini"})]}),!l&&!u&&i.length>0&&a.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Riwayat perubahan data (",i.length," aktivitas):"]}),i.map(m=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:Lk(m.action)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:p(m.action),children:Ik(m.action)}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.user_name||m.user_id})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[m.user_role,"  ",m.plant]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(m.timestamp)})]}),m.record_preview&&a.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Data: "}),m.record_preview]}),g(m.changes)]},m.id))]})]})})}const Ff=e=>e.toLocaleString("id-ID",{maximumFractionDigits:0}),f4=e=>{Ie(async()=>{const{setUserOfflineBackground:t}=await Promise.resolve().then(()=>Le);return{setUserOfflineBackground:t}},void 0).then(({setUserOfflineBackground:t})=>{t(e)}).catch(t=>{console.error("Error setting offline status:",t)})},xz=()=>{const{user:e}=st(),[t,r]=b.useState([]),[n,s]=b.useState({totalProduksiNPK:0,totalProduksiBlending:0,totalProduksiNPKMini:0,totalDowntime:0,workRequestPending:0,troubleRecordOpen:0,vibrasiWarnings:0,gatePassToday:0,bahanBakuToday:0}),[i,o]=b.useState(!1),[l,c]=b.useState(new Date);b.useEffect(()=>{const w=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(w)},[]);const u=b.useCallback(async()=>{try{const{fetchDataByPlant:w,SHEETS:j}=await Ie(async()=>{const{fetchDataByPlant:D,SHEETS:z}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:D,SHEETS:z}},void 0),S=new Date().getFullYear(),N=new Date().toISOString().split("T")[0],P=D=>{if(typeof D=="number")return D;if(typeof D=="string"){const z=parseFloat(D.replace(/,/g,""));return isNaN(z)?0:z}return 0},[O,C,M,E,_,B,G,L,I]=await Promise.all([w(j.PRODUKSI_NPK),w(j.PRODUKSI_BLENDING),w(j.PRODUKSI_NPK_MINI),w(j.DOWNTIME),w(j.WORK_REQUEST),w(j.TROUBLE_RECORD),w(j.VIBRASI),w(j.GATE_PASS),w(j.BAHAN_BAKU)]),V=D=>D.filter(z=>z.tanggal?new Date(z.tanggal).getFullYear()===S:!1),F=D=>D.filter(z=>z.tanggal?z.tanggal.startsWith(N):!1),X=V(O.data||[]),q=V(C.data||[]),oe=V(M.data||[]),Q=V(E.data||[]),ce=_.data||[],se=B.data||[],ie=G.data||[],xe=F(L.data||[]),be=F(I.data||[]),ue=X.reduce((D,z)=>{const T=z.total!==void 0&&z.total!==null?P(z.total):P(z.shiftMalamOnspek)+P(z.shiftMalamOffspek)+P(z.shiftPagiOnspek)+P(z.shiftPagiOffspek)+P(z.shiftSoreOnspek)+P(z.shiftSoreOffspek);return D+T},0),fe=q.reduce((D,z)=>D+P(z.tonase),0),me=oe.reduce((D,z)=>D+P(z.tonase),0),de=Q.reduce((D,z)=>D+P(z.downtime),0),je=ce.filter(D=>!D.eksekutor||D.eksekutor==="").length,J=se.filter(D=>D.status==="Open"||D.status==="In Progress").length,A=ie.filter(D=>D.status==="Warning"||D.status==="Critical"||D.status==="Alert").length;s({totalProduksiNPK:ue,totalProduksiBlending:fe,totalProduksiNPKMini:me,totalDowntime:de,workRequestPending:je,troubleRecordOpen:J,vibrasiWarnings:A,gatePassToday:xe.length,bahanBakuToday:be.length})}catch(w){console.error("Error fetching dashboard metrics:",w)}},[]);b.useEffect(()=>{u();const w=setInterval(u,6e4);return()=>clearInterval(w)},[u]);const d=b.useCallback(async()=>{if(e)try{const{readData:w,createData:j,updateData:S,SHEETS:N}=await Ie(async()=>{const{readData:E,createData:_,updateData:B,SHEETS:G}=await Promise.resolve().then(()=>Le);return{readData:E,createData:_,updateData:B,SHEETS:G}},void 0),C=((await w(N.ACTIVE_USERS)).data||[]).find(E=>E.username===e.username),M=new Date().toISOString();C?await S(N.ACTIVE_USERS,{id:C.id,lastActive:M,status:"online"}):await j(N.ACTIVE_USERS,{username:e.username,namaLengkap:e.namaLengkap||e.nama||e.username,role:e.role,plant:e.plant,lastActive:M,status:"online"})}catch(w){console.error("Error updating active status:",w)}},[e]),f=b.useCallback(async()=>{try{const{readData:w,SHEETS:j}=await Ie(async()=>{const{readData:N,SHEETS:P}=await Promise.resolve().then(()=>Le);return{readData:N,SHEETS:P}},void 0),S=await w(j.ACTIVE_USERS);if(S.success&&S.data){const N=S.data,P=new Date().getTime(),O=45*1e3,C=N.filter(_=>{const B=new Date(_.lastActive).getTime();return P-B<O&&_.status==="online"}),M=new Map;C.forEach(_=>{const B=M.get(_.username);if(!B)M.set(_.username,_);else{const G=new Date(B.lastActive).getTime();new Date(_.lastActive).getTime()>G&&M.set(_.username,_)}});const E=Array.from(M.values()).sort((_,B)=>(_.namaLengkap||_.username).localeCompare(B.namaLengkap||B.username));r(E)}}catch(w){console.error("Error fetching active users:",w)}},[]);b.useEffect(()=>{if(e){d(),f();const w=setInterval(d,15e3),j=setInterval(f,5e3);return()=>{clearInterval(w),clearInterval(j)}}},[e,d,f]),b.useEffect(()=>{const w=()=>{e&&e.username&&f4(e.username)},j=()=>{w()},S=()=>{document.visibilityState==="hidden"?w():document.visibilityState==="visible"&&e&&d()};return window.addEventListener("beforeunload",j),document.addEventListener("visibilitychange",S),()=>{window.removeEventListener("beforeunload",j),document.removeEventListener("visibilitychange",S)}},[e,d]);const h=w=>{switch(w){case"admin":return"bg-red-500";case"supervisor":return"bg-blue-500";case"manager":return"bg-purple-500";case"avp":return"bg-emerald-500";default:return"bg-gray-500"}},p=w=>{switch(w){case"NPK1":return"bg-orange-500";case"NPK2":return"bg-cyan-500";case"ALL":return"bg-gradient-to-r from-orange-500 to-cyan-500";default:return"bg-gray-500"}},g=w=>w.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),m=w=>w.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),y=[{id:"greeting",icon:"",text:`${(()=>{const w=l.getHours();return w>=5&&w<11?"Selamat Pagi":w>=11&&w<15?"Selamat Siang":w>=15&&w<18?"Selamat Sore":"Selamat Malam"})()}! ${g(l)}  ${m(l)} WIB`,bgColor:"bg-white/15"},{id:"produksi",icon:"",text:`Produksi NPK ${new Date().getFullYear()}: ${Ff(n.totalProduksiNPK)} Ton`,bgColor:"bg-green-500/20"},{id:"blending",icon:"",text:`Produksi Blending: ${Ff(n.totalProduksiBlending)} Ton`,bgColor:"bg-blue-500/20"},...n.totalProduksiNPKMini>0?[{id:"npkmini",icon:"",text:`Produksi NPK Mini: ${Ff(n.totalProduksiNPKMini)} Ton`,bgColor:"bg-teal-500/20"}]:[],...n.totalDowntime>0?[{id:"downtime",icon:"",text:`Total Downtime: ${Ff(n.totalDowntime)} Jam`,bgColor:"bg-amber-500/20"}]:[],...n.workRequestPending>0?[{id:"wr-pending",icon:"",text:`Work Request Pending: ${n.workRequestPending} item`,bgColor:"bg-orange-500/20"}]:[],...n.troubleRecordOpen>0?[{id:"trouble",icon:"",text:`Trouble Record Open: ${n.troubleRecordOpen} masalah`,bgColor:"bg-red-500/20"}]:[],...n.vibrasiWarnings>0?[{id:"vibrasi",icon:"",text:`Vibrasi Warning/Critical: ${n.vibrasiWarnings} alat`,bgColor:"bg-yellow-500/20"}]:[],...n.gatePassToday>0?[{id:"gatepass",icon:"",text:`Gate Pass Hari Ini: ${n.gatePassToday} kendaraan`,bgColor:"bg-cyan-500/20"}]:[],...n.bahanBakuToday>0?[{id:"bahanbaku",icon:"",text:`Penerimaan BB Hari Ini: ${n.bahanBakuToday} batch`,bgColor:"bg-purple-500/20"}]:[]],v=y.length+t.length,x=Math.max(v*4,30);return a.jsx("div",{className:"bg-dark-900 text-white overflow-hidden relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a.jsxs("div",{className:"flex items-center h-8 relative z-10",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 bg-dark-800 h-full border-r border-dark-700 z-10",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ld,{className:"h-4 w-4"}),a.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full"})]}),a.jsx("span",{className:"text-[10px] font-semibold whitespace-nowrap tracking-widest text-dark-400 uppercase",children:"LIVE"})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative h-full flex items-center",children:a.jsx("div",{className:Ae("marquee-wrapper",i&&"paused"),children:a.jsxs("div",{className:"marquee-inner",style:{animationDuration:`${x}s`},children:[y.map(w=>a.jsxs("div",{className:Ae("inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 rounded-md","transition-all duration-150 cursor-default","bg-dark-800/80 border border-dark-700/50"),children:[a.jsx("span",{className:"text-xs drop-shadow-sm",children:w.icon}),a.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.text})]},w.id)),t.length>0&&a.jsx("div",{className:"inline-flex items-center mx-4",children:a.jsx("span",{className:"text-white/30",children:""})}),t.length>0&&a.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 bg-dark-800 border border-dark-700/50 rounded-md",children:[a.jsx(ud,{className:"h-3 w-3 text-dark-400"}),a.jsxs("span",{className:"text-[11px] font-semibold whitespace-nowrap text-dark-300",children:["Online (",t.length,")"]})]}),t.map(w=>a.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1 bg-dark-800/80 border border-dark-700/50 rounded-md cursor-default",children:[a.jsxs("div",{className:"relative",children:[a.jsx(KS,{className:"h-2 w-2 fill-green-400 text-green-400"}),a.jsx(KS,{className:"absolute inset-0 h-2 w-2 fill-green-400 text-green-400 animate-ping opacity-75"})]}),a.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.namaLengkap}),a.jsx("span",{className:Ae("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold uppercase shadow-sm",h(w.role)),children:w.role}),a.jsx("span",{className:Ae("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold shadow-sm",p(w.plant)),children:w.plant})]},w.username))]})})}),a.jsx("div",{className:"hidden lg:flex items-center gap-2 px-3 border-l border-dark-700 h-full bg-dark-800",children:a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-dark-700 rounded text-dark-300",children:[a.jsx(ud,{className:"h-3 w-3"}),a.jsx("span",{className:"text-[11px] font-semibold",children:t.length})]})})]})})},vz=[{name:"Dashboard",path:"/dashboard",icon:a.jsx(y8,{className:"h-5 w-5"})},{name:"Produksi",path:"/produksi",icon:a.jsx(ld,{className:"h-5 w-5"}),children:[{name:"NPK Granul 1",path:"/produksi/npk1"},{name:"NPK Granul 2",path:"/produksi/npk2"},{name:"Blending",path:"/produksi/blending"},{name:"NPK Mini",path:"/produksi/npk-mini"},{name:"Retail",path:"/produksi/retail"}]},{name:"Laporan",path:"/laporan",icon:a.jsx(xa,{className:"h-5 w-5"}),children:[{name:"KOP NPK1",path:"/laporan/kop-npk1"},{name:"KOP NPK2",path:"/laporan/kop-npk2"},{name:"Timesheet Forklift NPK1",path:"/laporan/timesheet-forklift-npk1"},{name:"Timesheet Forklift NPK2",path:"/laporan/timesheet-forklift-npk2"},{name:"Timesheet Loader NPK1",path:"/laporan/timesheet-loader-npk1"},{name:"Timesheet Loader NPK2",path:"/laporan/timesheet-loader-npk2"},{name:"Downtime NPK1",path:"/laporan/downtime-npk1"},{name:"Downtime NPK2",path:"/laporan/downtime-npk2"},{name:"Pemantauan BB NPK1",path:"/laporan/pemantauan-bb-npk1"},{name:"Pemantauan BB NPK2",path:"/laporan/pemantauan-bb-npk2"}]},{name:"Data",path:"/data",icon:a.jsx(g8,{className:"h-5 w-5"}),children:[{name:"Inventaris Material",path:"/data/inventaris"},{name:"Work Request NPK1",path:"/data/work-request-npk1"},{name:"Work Request NPK2",path:"/data/work-request-npk2"},{name:"Penerimaan Bahan Baku NPK1",path:"/data/bahan-baku-npk1"},{name:"Penerimaan Bahan Baku NPK2",path:"/data/bahan-baku-npk2"},{name:"Vibrasi NPK1",path:"/data/vibrasi-npk1"},{name:"Vibrasi NPK2",path:"/data/vibrasi-npk2"},{name:"Gate Pass NPK1",path:"/data/gate-pass-npk1"},{name:"Gate Pass NPK2",path:"/data/gate-pass-npk2"},{name:"Perbaikan Tahunan NPK1",path:"/data/perbaikan-tahunan-npk1"},{name:"Perbaikan Tahunan NPK2",path:"/data/perbaikan-tahunan-npk2"},{name:"Trouble Record NPK1",path:"/data/trouble-record-npk1"},{name:"Trouble Record NPK2",path:"/data/trouble-record-npk2"},{name:"Dokumentasi Foto NPK1",path:"/data/dokumentasi-foto-npk1"},{name:"Dokumentasi Foto NPK2",path:"/data/dokumentasi-foto-npk2"},{name:"Rekap BBM NPK1",path:"/data/rekap-bbm-npk1"},{name:"Rekap BBM NPK2",path:"/data/rekap-bbm-npk2"},{name:"Riksa Timb Portabel",path:"/data/riksa-timb-portabel"}]},{name:"Pengaturan",path:"/settings",icon:a.jsx(A8,{className:"h-5 w-5"}),children:[{name:"Profil",path:"/settings/akun"},{name:"RKAP",path:"/settings/rkap"},{name:"Users",path:"/settings/users"},{name:"Approval",path:"/settings/approval"}]}],yz=()=>{const e=sc(),{user:t}=st(),[r,n]=b.useState([]),{sidebarCollapsed:s,toggleSidebarCollapse:i,sidebarOpen:o,toggleSidebar:l,forceDesktopView:c}=jm(),[u,d]=b.useState(!1);b.useEffect(()=>{const v=()=>{d(window.innerWidth<1024&&!c)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[c]);const f=()=>{u&&o&&!c&&l()},p=(()=>{const v=t==null?void 0:t.plant,x=(t==null?void 0:t.role)||"";return vz.map(w=>{if(w.name==="Pengaturan"){if(!uC(x,v))return null;if(w.children){const j=w.children.filter(S=>S.path==="/settings/users"?dC(x,v):S.path==="/settings/rkap"?fC(x):!0);return j.length===0?null:{...w,children:j}}return w}if(w.name==="Produksi"&&w.children){let j=w.children;return v==="NPK1"?j=w.children.filter(S=>S.path==="/produksi/npk1"||S.path==="/produksi/retail"):v==="NPK2"&&(j=w.children.filter(S=>S.path==="/produksi/npk2"||S.path==="/produksi/blending"||S.path==="/produksi/npk-mini")),{...w,children:j}}if(w.name==="Laporan"&&w.children){let j=w.children;return v==="NPK1"?j=w.children.filter(S=>S.path.includes("npk1")):v==="NPK2"&&(j=w.children.filter(S=>S.path.includes("npk2"))),{...w,children:j}}if(w.name==="Data"&&w.children){let j=w.children;return v==="NPK1"?j=w.children.filter(S=>S.path.includes("npk1")):v==="NPK2"&&(j=w.children.filter(S=>S.path.includes("npk2")||S.path==="/data/riksa-timb-portabel"||S.path==="/data/inventaris")),{...w,children:j}}return w}).filter(Boolean)})(),g=v=>{n(x=>x.includes(v)?x.filter(w=>w!==v):[...x,v])},m=v=>e.pathname===v,k=v=>v.children?v.children.some(x=>e.pathname===x.path):e.pathname===v.path,y=u&&!c;return a.jsxs(a.Fragment,{children:[y&&o&&a.jsx(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:l}),a.jsxs("aside",{className:Ae("fixed left-0 top-0 z-50 h-screen transition-all duration-300","bg-card dark:bg-dark-800","border-r border-border","shadow-soft",y?o?"translate-x-0 w-64":"-translate-x-full w-64":s?"w-20":"w-64"),children:[a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-border",children:[(!s||y)&&a.jsxs(Mf,{to:"/dashboard",className:"flex items-center gap-3 group",onClick:f,children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 group-hover:scale-105"})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-display font-semibold text-base text-foreground",children:"Plantiffy"}),a.jsx("span",{className:"block text-[10px] text-muted-foreground -mt-0.5 tracking-wide",children:"Plant Intelligence"})]})]}),s&&!y&&a.jsx(Mf,{to:"/dashboard",className:"mx-auto",onClick:f,children:a.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 hover:scale-105"})}),!y&&!s&&a.jsx(bt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:i,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:a.jsx(Ck,{className:"h-4 w-4"})}),s&&!y&&a.jsx(bt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:i,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:a.jsx(_k,{className:"h-4 w-4"})}),y&&a.jsx("button",{onClick:l,className:"p-1.5 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:a.jsx(Un,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"p-2 space-y-0.5 overflow-y-auto h-[calc(100vh-7.5rem)] scrollbar-thin",children:p.map(v=>a.jsx("div",{children:v.children?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>(!s||y)&&g(v.name),className:Ae("w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150","group relative",k(v)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[k(v)&&a.jsx(bt.div,{layoutId:"activeParentIndicator",className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 bg-primary-500 rounded-r"}),a.jsx("span",{className:Ae("p-1.5 rounded-md transition-colors",k(v)?"bg-primary-100 dark:bg-primary-800/40 text-primary-600":"text-muted-foreground"),children:v.icon}),(!s||y)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"flex-1 text-left",children:v.name}),a.jsx(Dm,{className:Ae("h-4 w-4 transition-transform duration-300",r.includes(v.name)&&"rotate-180")})]})]}),(!s||y)&&a.jsx(li,{children:r.includes(v.name)&&a.jsx(bt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden",children:a.jsx("div",{className:"ml-4 pl-4 py-1 space-y-0.5 border-l border-border",children:v.children.map(x=>a.jsx(Mf,{to:x.path,onClick:f,className:Ae("block px-3 py-1.5 text-[13px] rounded-md transition-all duration-150 relative",m(x.path)?"bg-primary-500 text-white font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:x.name},x.path))})})})]}):a.jsxs(Mf,{to:v.path,onClick:f,className:Ae("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150 relative group",m(v.path)?"bg-primary-500 text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[a.jsx("span",{className:Ae("p-1.5 rounded-md transition-colors",m(v.path)?"bg-white/20":"text-muted-foreground"),children:v.icon}),(!s||y)&&a.jsx("span",{children:v.name})]})},v.name))}),(!s||y)&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-border",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:" 2025 Plantiffy"}),a.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground rounded font-medium text-[10px]",children:"v2.4.2"})]})})]})]})},bz=()=>{const e=Qd(),{user:t,logout:r}=st(),{sidebarCollapsed:n,toggleSidebar:s,darkMode:i,toggleDarkMode:o,forceDesktopView:l,toggleForceDesktopView:c}=jm(),{notifications:u,unreadCount:d,markAsRead:f,markAllAsRead:h,setNotifications:p}=fL(),{isOpen:g,toggleChat:m,unreadChatCount:k,setUnreadChatCount:y}=Uh(),[v,x]=b.useState(!1),[w,j]=b.useState(!1),S=b.useRef(null),[N,P]=b.useState(!1),[O,C]=b.useState(!1),[M,E]=b.useState(null),_=I=>{B(I.id),I.sheetName&&I.recordId&&(E(I),C(!0),j(!1))};b.useEffect(()=>{const I=()=>{const V=window.innerWidth<1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);P(V)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const B=async I=>{try{f(I);const{updateData:V,SHEETS:F}=await Ie(async()=>{const{updateData:X,SHEETS:q}=await Promise.resolve().then(()=>Le);return{updateData:X,SHEETS:q}},void 0);await V(F.NOTIFICATIONS,{id:I,read:!0})}catch(V){console.error("Error marking notification as read:",V)}},G=async()=>{try{const I=u.filter(X=>!X.read);h();const{updateData:V,SHEETS:F}=await Ie(async()=>{const{updateData:X,SHEETS:q}=await Promise.resolve().then(()=>Le);return{updateData:X,SHEETS:q}},void 0);await Promise.all(I.map(X=>V(F.NOTIFICATIONS,{id:X.id,read:!0})))}catch(I){console.error("Error marking all notifications as read:",I)}};b.useEffect(()=>{const I=async()=>{try{const{readData:V,SHEETS:F}=await Ie(async()=>{const{readData:q,SHEETS:oe}=await Promise.resolve().then(()=>Le);return{readData:q,SHEETS:oe}},void 0),X=await V(F.NOTIFICATIONS);if(X.success&&X.data){const oe=X.data.filter(Q=>Q.fromUser===(t==null?void 0:t.username)?!1:Q.toUser==="ALL"||Q.toUser===(t==null?void 0:t.username)||Q.fromPlant===(t==null?void 0:t.plant)).sort((Q,ce)=>new Date(ce.timestamp).getTime()-new Date(Q.timestamp).getTime());p(oe)}}catch(V){console.error("Error loading notifications:",V)}};if(t){I();const V=setInterval(I,1e4);return()=>clearInterval(V)}},[t,p]),b.useEffect(()=>{const I=async()=>{if(t)try{const{readData:V,SHEETS:F}=await Ie(async()=>{const{readData:q,SHEETS:oe}=await Promise.resolve().then(()=>Le);return{readData:q,SHEETS:oe}},void 0),X=await V(F.CHAT_MESSAGES);if(X.success&&X.data){const q=X.data,oe=[...q].sort((fe,me)=>new Date(fe.timestamp).getTime()-new Date(me.timestamp).getTime()),{setMessages:Q,setLastFetchTimestamp:ce}=Uh.getState();Q(oe),ce(new Date().toISOString());const se=`chat_last_read_${t.username}`,ie=localStorage.getItem(se),xe=ie?new Date(ie).getTime():0,be=t.namaLengkap||t.nama||t.username,ue=q.filter(fe=>fe.sender===be?!1:new Date(fe.timestamp).getTime()>xe).length;y(ue)}}catch(V){console.error("Error loading chat messages:",V)}};if(t){I();const V=setInterval(I,3e3);return()=>clearInterval(V)}},[t,y]),b.useEffect(()=>{const I=V=>{S.current&&!S.current.contains(V.target)&&j(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const L=()=>{t&&t.username&&f4(t.username),r(),e("/login")};return a.jsxs("header",{className:Ae("fixed top-8 right-0 z-30 h-14 transition-all duration-300","bg-card/95 dark:bg-dark-800/95 backdrop-blur-sm","border-b border-border",l?"left-64":"left-0 lg:left-64",n&&(l?"left-20":"lg:left-20")),children:[a.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[!l&&a.jsx("button",{onClick:s,className:"lg:hidden p-2 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:a.jsx(j8,{className:"h-5 w-5"})}),a.jsx("div",{className:l?"block":"hidden lg:block"}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1 p-0.5 bg-muted rounded-lg",children:[N&&a.jsx("button",{onClick:c,className:Ae("p-2 rounded-md transition-all duration-150",l?"bg-background shadow-sm text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:l?"Tampilan HP":"Tampilan Desktop",children:l?a.jsx(F_,{className:"h-4 w-4"}):a.jsx(S8,{className:"h-4 w-4"})}),a.jsx("button",{onClick:o,className:Ae("p-2 rounded-md transition-all duration-150","text-muted-foreground hover:text-foreground"),title:i?"Switch to Light Mode":"Switch to Dark Mode",children:a.jsx(bt.div,{initial:!1,animate:{rotate:i?180:0},transition:{duration:.3},children:i?a.jsx(O8,{className:"h-4 w-4"}):a.jsx(N8,{className:"h-4 w-4"})})})]}),a.jsxs("button",{onClick:m,className:Ae("relative p-2 rounded-lg transition-all duration-150",g?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[a.jsx(Ov,{className:"h-5 w-5"}),k>0&&!g&&a.jsx(bt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:k>9?"9+":k})]}),a.jsxs("div",{className:"relative",ref:S,children:[a.jsxs("button",{onClick:()=>j(!w),className:Ae("relative p-2 rounded-lg transition-all duration-150",w?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[a.jsx(Ou,{className:"h-5 w-5"}),d>0&&a.jsx(bt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),a.jsx(li,{children:w&&a.jsxs(bt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border z-50 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[a.jsxs("h3",{className:"font-semibold text-sm text-foreground flex items-center gap-2",children:[a.jsx(Ou,{className:"h-4 w-4 text-primary-500"}),"Notifikasi"]}),d>0&&a.jsx("button",{onClick:G,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Tandai semua dibaca"})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length===0?a.jsxs("div",{className:"px-4 py-8 text-center text-muted-foreground",children:[a.jsx(Ou,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),a.jsx("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):u.slice(0,10).map(I=>a.jsx("div",{className:Ae("px-4 py-3 border-b border-border hover:bg-muted/50 transition-colors",!I.read&&"bg-primary-50 dark:bg-primary-900/30"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:Ae("mt-1 h-2 w-2 rounded-full flex-shrink-0",I.read?"bg-muted-foreground/30":"bg-primary-500")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:I.message}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:lC(I.timestamp)}),a.jsxs("div",{className:"flex items-center gap-2",children:[I.sheetName&&I.recordId&&a.jsxs("button",{onClick:()=>_(I),className:"flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[a.jsx(wi,{className:"h-3 w-3"}),"Lihat Log"]}),!I.read&&a.jsx("button",{onClick:()=>B(I.id),className:"text-xs text-muted-foreground hover:text-foreground",children:"Tandai dibaca"})]})]})]})]})},I.id))})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>x(!v),className:Ae("flex items-center gap-2.5 px-2.5 py-1.5 rounded-lg transition-all duration-150","hover:bg-muted",v&&"ring-1 ring-border bg-muted"),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((t==null?void 0:t.namaLengkap)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})}),a.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 bg-emerald-500 border-2 border-card dark:border-dark-800 rounded-full"})]}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-foreground leading-tight",children:t==null?void 0:t.namaLengkap}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize flex items-center gap-1",children:[a.jsx("span",{className:Ae("inline-block h-1.5 w-1.5 rounded-full",(t==null?void 0:t.role)==="admin"?"bg-red-500":(t==null?void 0:t.role)==="supervisor"?"bg-blue-500":(t==null?void 0:t.role)==="manager"?"bg-purple-500":(t==null?void 0:t.role)==="avp"?"bg-emerald-500":"bg-gray-500")}),t==null?void 0:t.role,"  ",t==null?void 0:t.plant]})]}),a.jsx(Dm,{className:Ae("h-3.5 w-3.5 text-muted-foreground transition-transform duration-200",v&&"rotate-180")})]}),a.jsx(li,{children:v&&a.jsxs(bt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 z-50 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[a.jsx("p",{className:"text-sm font-semibold text-foreground",children:t==null?void 0:t.namaLengkap}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["@",t==null?void 0:t.username]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Te,{variant:"primary",size:"sm",children:t==null?void 0:t.role}),a.jsx(Te,{variant:"info",size:"sm",children:t==null?void 0:t.plant})]})]}),a.jsxs("button",{onClick:L,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(k8,{className:"h-4 w-4"}),"Keluar"]})]})})]})]})]}),a.jsx(gz,{isVisible:O,onClose:()=>{C(!1),E(null)},notification:M})]})},kz=()=>{const{user:e}=st(),{messages:t,isOpen:r,toggleChat:n,addOptimisticMessage:s,removeOptimisticMessage:i,setMessages:o,setUnreadChatCount:l}=Uh(),[c,u]=b.useState(""),[d,f]=b.useState(!1),h=b.useRef(null),p=b.useRef(null),[g,m]=b.useState(!1),k=b.useRef(0),[y,v]=b.useState(null),[x,w]=b.useState(null),j=b.useRef(null),S=b.useRef(null);b.useEffect(()=>{const F=X=>{S.current&&!S.current.contains(X.target)&&v(null)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const N=()=>{const F=p.current;return F?F.scrollHeight-F.scrollTop-F.clientHeight<100:!0},P=()=>{m(!N())},O=(F="smooth")=>{var X;(X=h.current)==null||X.scrollIntoView({behavior:F})};b.useEffect(()=>{if(r&&e){const F=`chat_last_read_${e.username}`,X=new Date().toISOString();localStorage.setItem(F,X),l(0),setTimeout(()=>O("auto"),100)}},[r,e,l]),b.useEffect(()=>{if(r&&e&&t.length>0){const F=`chat_last_read_${e.username}`;localStorage.setItem(F,new Date().toISOString())}},[r,e,t.length]),b.useEffect(()=>{const F=t.length>k.current;k.current=t.length,F&&!g&&O()},[t,g]),b.useEffect(()=>{if(r){const F=setInterval(C,3e3);return()=>clearInterval(F)}},[r]);const C=async()=>{try{const{readData:F,SHEETS:X}=await Ie(async()=>{const{readData:oe,SHEETS:Q}=await Promise.resolve().then(()=>Le);return{readData:oe,SHEETS:Q}},void 0),q=await F(X.CHAT_MESSAGES);if(q.success&&q.data){const oe=[...q.data].sort((Q,ce)=>new Date(Q.timestamp).getTime()-new Date(ce.timestamp).getTime());o(oe)}}catch(F){console.error("Error fetching messages:",F)}},M=(F,X,q)=>{q&&(F.preventDefault(),v({visible:!0,x:F.clientX,y:F.clientY,messageId:X.id,messageText:X.message}))},E=(F,X)=>{X&&(j.current=setTimeout(()=>{v({visible:!0,x:window.innerWidth/2,y:window.innerHeight-200,messageId:F.id,messageText:F.message})},500))},_=()=>{j.current&&(clearTimeout(j.current),j.current=null)},B=async()=>{if(!(!x||!x.text.trim()))try{const{updateData:F,SHEETS:X}=await Ie(async()=>{const{updateData:q,SHEETS:oe}=await Promise.resolve().then(()=>Le);return{updateData:q,SHEETS:oe}},void 0);await F(X.CHAT_MESSAGES,{id:x.id,message:x.text.trim(),edited:!0}),o(t.map(q=>q.id===x.id?{...q,message:x.text.trim(),edited:!0}:q)),w(null)}catch(F){console.error("Error editing message:",F)}},G=async F=>{try{const{deleteData:X,SHEETS:q}=await Ie(async()=>{const{deleteData:oe,SHEETS:Q}=await Promise.resolve().then(()=>Le);return{deleteData:oe,SHEETS:Q}},void 0);await X(q.CHAT_MESSAGES,F),o(t.filter(oe=>oe.id!==F)),v(null)}catch(X){console.error("Error deleting message:",X)}},L=()=>{y&&(w({id:y.messageId,text:y.messageText}),v(null))},I=async()=>{if(!c.trim()||!e)return;const F=e.namaLengkap||e.nama||e.username,X=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,q=new Date().toISOString(),oe=c.trim(),Q={id:X,sender:F,role:e.role,message:oe,timestamp:q};s(Q),u("");const ce=`chat_last_read_${e.username}`;localStorage.setItem(ce,q);try{const{createData:se,SHEETS:ie}=await Ie(async()=>{const{createData:ue,SHEETS:fe}=await Promise.resolve().then(()=>Le);return{createData:ue,SHEETS:fe}},void 0),xe={sender:F,role:e.role,message:oe,timestamp:q};(await se(ie.CHAT_MESSAGES,xe)).success||(i(X),console.error("Failed to send message"))}catch(se){i(X),console.error("Error sending message:",se)}},V=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),x?B():I()),F.key==="Escape"&&x&&w(null)};return r?a.jsxs(bt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:Ae("fixed left-4 bottom-4 z-50 w-80 md:w-96","bg-card dark:bg-dark-800","rounded-lg shadow-soft-xl","border border-border","overflow-hidden"),children:[a.jsx("div",{className:"relative px-4 py-3 bg-primary-500 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 bg-white/15 rounded-md",children:a.jsx(Ov,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Chat Tim"}),a.jsxs("p",{className:"text-[11px] text-white/60",children:[t.length," pesan"]})]})]}),a.jsx("button",{onClick:n,className:"p-1.5 hover:bg-white/15 rounded-md transition-colors",children:a.jsx(Un,{className:"h-4 w-4"})})]})}),(y==null?void 0:y.visible)&&a.jsxs("div",{ref:S,className:"fixed z-[100] bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 min-w-[140px]",style:{left:Math.min(y.x,window.innerWidth-160),top:Math.min(y.y,window.innerHeight-100)},children:[a.jsxs("button",{onClick:L,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:[a.jsx(bx,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>G(y.messageId),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Rt,{className:"h-4 w-4"}),"Hapus"]})]}),a.jsxs("div",{ref:p,onScroll:P,className:"h-80 overflow-y-auto p-4 space-y-3 bg-muted/30 dark:bg-dark-900/40",children:[t.length===0?a.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[a.jsx("div",{className:"w-14 h-14 mx-auto mb-3 rounded-lg bg-muted flex items-center justify-center",children:a.jsx(Ov,{className:"h-7 w-7 opacity-40"})}),a.jsx("p",{className:"text-sm font-medium",children:"Belum ada pesan"}),a.jsx("p",{className:"text-xs mt-1",children:"Mulai percakapan dengan tim!"})]}):t.map((F,X)=>{const q=F.sender===((e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||(e==null?void 0:e.username)),oe=X===0||t[X-1].sender!==F.sender;return a.jsxs(bt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Ae("flex gap-2",q?"justify-end":"justify-start"),children:[!q&&oe&&a.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-md bg-primary-100 dark:bg-primary-900/40 flex items-center justify-center text-primary-600 dark:text-primary-400 text-xs font-semibold",children:F.sender.charAt(0).toUpperCase()}),!q&&!oe&&a.jsx("div",{className:"w-7"}),a.jsxs("div",{onContextMenu:Q=>M(Q,F,q),onTouchStart:()=>E(F,q),onTouchEnd:_,onTouchMove:_,className:Ae("max-w-[75%] rounded-lg px-3 py-2 select-none","transition-all duration-150",q?"bg-primary-500 text-white rounded-br-sm cursor-pointer":"bg-card dark:bg-dark-700 text-foreground border border-border rounded-bl-sm"),children:[!q&&oe&&a.jsxs("p",{className:"text-xs font-semibold text-primary-600 dark:text-primary-400 mb-1",children:[F.sender,a.jsxs("span",{className:"ml-1 font-normal text-muted-foreground capitalize",children:[" ",F.role]})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:F.message}),a.jsxs("div",{className:Ae("flex items-center gap-1 mt-1",q?"justify-end":"justify-start"),children:[a.jsx("p",{className:Ae("text-[10px]",q?"text-white/60":"text-muted-foreground"),children:new Date(F.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}),F.edited&&a.jsx("span",{className:Ae("text-[10px] italic",q?"text-white/50":"text-muted-foreground"),children:"(diedit)"})]})]})]},F.id||X)}),a.jsx("div",{ref:h})]}),x&&a.jsxs("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/30 border-t border-amber-200 dark:border-amber-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-300",children:[a.jsx(bx,{className:"h-4 w-4"}),a.jsx("span",{children:"Mengedit pesan"})]}),a.jsx("button",{onClick:()=>w(null),className:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:a.jsx(Un,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"p-3 border-t border-border bg-card dark:bg-dark-800",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 relative",children:a.jsx("input",{type:"text",value:x?x.text:c,onChange:F=>x?w({...x,text:F.target.value}):u(F.target.value),onKeyDown:V,placeholder:x?"Edit pesan...":"Ketik pesan...",className:Ae("w-full px-3 py-2 bg-muted dark:bg-dark-900 border rounded-lg text-sm","focus:outline-none focus:ring-1 focus:ring-ring transition-all duration-150","text-foreground placeholder-muted-foreground",x?"border-amber-400 dark:border-amber-500 bg-amber-50/50 dark:bg-amber-900/20":"border-border focus:border-primary-500")})}),a.jsx(bt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x?B:I,disabled:x?!x.text.trim():!c.trim()||d,className:Ae("p-2.5 text-white rounded-lg transition-all duration-150","disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",x?"bg-amber-500 hover:bg-amber-600":"bg-primary-500 hover:bg-primary-600"),children:x?a.jsx(bx,{className:"h-5 w-5"}):a.jsx(L_,{className:"h-5 w-5"})})]})})]}):null},jz=({children:e})=>{const{sidebarCollapsed:t,darkMode:r,forceDesktopView:n}=jm(),{isOpen:s}=Uh();return b.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),b.useEffect(()=>{n?document.documentElement.classList.add("force-desktop"):document.documentElement.classList.remove("force-desktop")},[n]),a.jsxs("div",{className:Ae("min-h-screen bg-background transition-colors duration-200",n&&"force-desktop-view"),children:[a.jsx("div",{className:Ae("fixed top-0 right-0 z-40 transition-all duration-300",n?"left-64":"left-0 lg:left-64",t&&(n?"left-20":"lg:left-20")),children:a.jsx(xz,{})}),a.jsx(yz,{}),a.jsx(bz,{}),a.jsx("main",{className:Ae("pt-[5.5rem] min-h-screen transition-all duration-300",n?"pl-64":"pl-0 lg:pl-64",t&&(n?"pl-20":"lg:pl-20")),children:a.jsx("div",{className:"p-4 lg:p-6",children:e||a.jsx(jI,{})})}),a.jsx(li,{children:s&&a.jsx(kz,{})})]})},wz=()=>{Ie(async()=>{const{fetchDataByPlant:e,SHEETS:t}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:e,SHEETS:t}},void 0).then(({fetchDataByPlant:e,SHEETS:t})=>{Promise.all([e(t.PRODUKSI_NPK),e(t.PRODUKSI_BLENDING),e(t.DOWNTIME),e(t.WORK_REQUEST)]).catch(()=>{})})},Sz=()=>{const e=Qd(),{login:t}=st(),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(""),h=b.useCallback(async p=>{p.preventDefault(),f("");const g=r.trim();if(!g||!s){f("Username dan password harus diisi");return}u(!0);try{const m=await Q_(g,s);if(m.success&&m.data){const k=m.data.user,y=m.data.session,v=GL("device");t(k,y.id,v),wz(),e("/dashboard",{replace:!0})}else f(m.error||"Username atau password salah"),u(!1)}catch(m){console.error("Login error:",m),f("Terjadi kesalahan. Silakan coba lagi."),u(!1)}},[r,s,t,e]);return a.jsxs("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-500/5 rounded-full blur-3xl"})]}),a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(bt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center h-14 w-14 rounded-xl bg-primary-500 mb-4",children:a.jsx(ld,{className:"h-8 w-8 text-white"})}),a.jsx("h1",{className:"text-xl font-display font-semibold text-white",children:"NPK Production"}),a.jsx("p",{className:"text-dark-400 text-sm mt-1",children:"Management System"})]}),a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-6 text-center",children:"Selamat Datang"}),a.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),a.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan username",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Av,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),a.jsx("input",{type:o?"text":"password",value:s,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan password",required:!0}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-500 hover:text-white transition-colors",children:o?a.jsx(x8,{className:"h-5 w-5"}):a.jsx(wi,{className:"h-5 w-5"})})]})]}),d&&a.jsx(bt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/15 border border-red-500/30 rounded-lg text-red-300 text-sm text-center",children:d}),a.jsx(ae,{type:"submit",className:"w-full py-3",isLoading:c,children:"Masuk"})]})]}),a.jsx("p",{className:"text-center text-dark-500 text-xs mt-6",children:" 2025 NPK Production Management System"})]})]})};var Nz=Array.isArray,pn=Nz,Pz=typeof gf=="object"&&gf&&gf.Object===Object&&gf,h4=Pz,Tz=h4,Az=typeof self=="object"&&self&&self.Object===Object&&self,Oz=Tz||Az||Function("return this")(),$a=Oz,Ez=$a,Cz=Ez.Symbol,af=Cz,aN=af,p4=Object.prototype,_z=p4.hasOwnProperty,Dz=p4.toString,Mc=aN?aN.toStringTag:void 0;function Mz(e){var t=_z.call(e,Mc),r=e[Mc];try{e[Mc]=void 0;var n=!0}catch{}var s=Dz.call(e);return n&&(t?e[Mc]=r:delete e[Mc]),s}var $z=Mz,Rz=Object.prototype,Iz=Rz.toString;function Lz(e){return Iz.call(e)}var Bz=Lz,sN=af,Fz=$z,Kz=Bz,zz="[object Null]",Vz="[object Undefined]",iN=sN?sN.toStringTag:void 0;function Uz(e){return e==null?e===void 0?Vz:zz:iN&&iN in Object(e)?Fz(e):Kz(e)}var ds=Uz;function Hz(e){return e!=null&&typeof e=="object"}var fs=Hz,Wz=ds,Gz=fs,qz="[object Symbol]";function Yz(e){return typeof e=="symbol"||Gz(e)&&Wz(e)==qz}var lc=Yz,Jz=pn,Xz=lc,Qz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zz=/^\w*$/;function eV(e,t){if(Jz(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Xz(e)?!0:Zz.test(e)||!Qz.test(e)||t!=null&&e in Object(t)}var Bk=eV;function tV(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Si=tV;const cc=pt(Si);var rV=ds,nV=Si,aV="[object AsyncFunction]",sV="[object Function]",iV="[object GeneratorFunction]",oV="[object Proxy]";function lV(e){if(!nV(e))return!1;var t=rV(e);return t==sV||t==iV||t==aV||t==oV}var Fk=lV;const He=pt(Fk);var cV=$a,uV=cV["__core-js_shared__"],dV=uV,jx=dV,oN=function(){var e=/[^.]+$/.exec(jx&&jx.keys&&jx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fV(e){return!!oN&&oN in e}var hV=fV,pV=Function.prototype,mV=pV.toString;function gV(e){if(e!=null){try{return mV.call(e)}catch{}try{return e+""}catch{}}return""}var m4=gV,xV=Fk,vV=hV,yV=Si,bV=m4,kV=/[\\^$.*+?()[\]{}|]/g,jV=/^\[object .+?Constructor\]$/,wV=Function.prototype,SV=Object.prototype,NV=wV.toString,PV=SV.hasOwnProperty,TV=RegExp("^"+NV.call(PV).replace(kV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AV(e){if(!yV(e)||vV(e))return!1;var t=xV(e)?TV:jV;return t.test(bV(e))}var OV=AV;function EV(e,t){return e==null?void 0:e[t]}var CV=EV,_V=OV,DV=CV;function MV(e,t){var r=DV(e,t);return _V(r)?r:void 0}var So=MV,$V=So,RV=$V(Object,"create"),Rm=RV,lN=Rm;function IV(){this.__data__=lN?lN(null):{},this.size=0}var LV=IV;function BV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var FV=BV,KV=Rm,zV="__lodash_hash_undefined__",VV=Object.prototype,UV=VV.hasOwnProperty;function HV(e){var t=this.__data__;if(KV){var r=t[e];return r===zV?void 0:r}return UV.call(t,e)?t[e]:void 0}var WV=HV,GV=Rm,qV=Object.prototype,YV=qV.hasOwnProperty;function JV(e){var t=this.__data__;return GV?t[e]!==void 0:YV.call(t,e)}var XV=JV,QV=Rm,ZV="__lodash_hash_undefined__";function e7(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=QV&&t===void 0?ZV:t,this}var t7=e7,r7=LV,n7=FV,a7=WV,s7=XV,i7=t7;function uc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uc.prototype.clear=r7;uc.prototype.delete=n7;uc.prototype.get=a7;uc.prototype.has=s7;uc.prototype.set=i7;var o7=uc;function l7(){this.__data__=[],this.size=0}var c7=l7;function u7(e,t){return e===t||e!==e&&t!==t}var Kk=u7,d7=Kk;function f7(e,t){for(var r=e.length;r--;)if(d7(e[r][0],t))return r;return-1}var Im=f7,h7=Im,p7=Array.prototype,m7=p7.splice;function g7(e){var t=this.__data__,r=h7(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():m7.call(t,r,1),--this.size,!0}var x7=g7,v7=Im;function y7(e){var t=this.__data__,r=v7(t,e);return r<0?void 0:t[r][1]}var b7=y7,k7=Im;function j7(e){return k7(this.__data__,e)>-1}var w7=j7,S7=Im;function N7(e,t){var r=this.__data__,n=S7(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var P7=N7,T7=c7,A7=x7,O7=b7,E7=w7,C7=P7;function dc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dc.prototype.clear=T7;dc.prototype.delete=A7;dc.prototype.get=O7;dc.prototype.has=E7;dc.prototype.set=C7;var Lm=dc,_7=So,D7=$a,M7=_7(D7,"Map"),zk=M7,cN=o7,$7=Lm,R7=zk;function I7(){this.size=0,this.__data__={hash:new cN,map:new(R7||$7),string:new cN}}var L7=I7;function B7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var F7=B7,K7=F7;function z7(e,t){var r=e.__data__;return K7(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Bm=z7,V7=Bm;function U7(e){var t=V7(this,e).delete(e);return this.size-=t?1:0,t}var H7=U7,W7=Bm;function G7(e){return W7(this,e).get(e)}var q7=G7,Y7=Bm;function J7(e){return Y7(this,e).has(e)}var X7=J7,Q7=Bm;function Z7(e,t){var r=Q7(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var e9=Z7,t9=L7,r9=H7,n9=q7,a9=X7,s9=e9;function fc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fc.prototype.clear=t9;fc.prototype.delete=r9;fc.prototype.get=n9;fc.prototype.has=a9;fc.prototype.set=s9;var Vk=fc,g4=Vk,i9="Expected a function";function Uk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(i9);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Uk.Cache||g4),r}Uk.Cache=g4;var x4=Uk;const o9=pt(x4);var l9=x4,c9=500;function u9(e){var t=l9(e,function(n){return r.size===c9&&r.clear(),n}),r=t.cache;return t}var d9=u9,f9=d9,h9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p9=/\\(\\)?/g,m9=f9(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h9,function(r,n,s,i){t.push(s?i.replace(p9,"$1"):n||r)}),t}),g9=m9;function x9(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Hk=x9,uN=af,v9=Hk,y9=pn,b9=lc,dN=uN?uN.prototype:void 0,fN=dN?dN.toString:void 0;function v4(e){if(typeof e=="string")return e;if(y9(e))return v9(e,v4)+"";if(b9(e))return fN?fN.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var k9=v4,j9=k9;function w9(e){return e==null?"":j9(e)}var y4=w9,S9=pn,N9=Bk,P9=g9,T9=y4;function A9(e,t){return S9(e)?e:N9(e,t)?[e]:P9(T9(e))}var b4=A9,O9=lc;function E9(e){if(typeof e=="string"||O9(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Fm=E9,C9=b4,_9=Fm;function D9(e,t){t=C9(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_9(t[r++])];return r&&r==n?e:void 0}var Wk=D9,M9=Wk;function $9(e,t,r){var n=e==null?void 0:M9(e,t);return n===void 0?r:n}var k4=$9;const wn=pt(k4);function R9(e){return e==null}var I9=R9;const Ge=pt(I9);var L9=ds,B9=pn,F9=fs,K9="[object String]";function z9(e){return typeof e=="string"||!B9(e)&&F9(e)&&L9(e)==K9}var V9=z9;const po=pt(V9);var j4={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk=Symbol.for("react.element"),qk=Symbol.for("react.portal"),Km=Symbol.for("react.fragment"),zm=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),Um=Symbol.for("react.provider"),Hm=Symbol.for("react.context"),U9=Symbol.for("react.server_context"),Wm=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),Ym=Symbol.for("react.memo"),Jm=Symbol.for("react.lazy"),H9=Symbol.for("react.offscreen"),w4;w4=Symbol.for("react.module.reference");function Wn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gk:switch(e=e.type,e){case Km:case Vm:case zm:case Gm:case qm:return e;default:switch(e=e&&e.$$typeof,e){case U9:case Hm:case Wm:case Jm:case Ym:case Um:return e;default:return t}}case qk:return t}}}gt.ContextConsumer=Hm;gt.ContextProvider=Um;gt.Element=Gk;gt.ForwardRef=Wm;gt.Fragment=Km;gt.Lazy=Jm;gt.Memo=Ym;gt.Portal=qk;gt.Profiler=Vm;gt.StrictMode=zm;gt.Suspense=Gm;gt.SuspenseList=qm;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(e){return Wn(e)===Hm};gt.isContextProvider=function(e){return Wn(e)===Um};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gk};gt.isForwardRef=function(e){return Wn(e)===Wm};gt.isFragment=function(e){return Wn(e)===Km};gt.isLazy=function(e){return Wn(e)===Jm};gt.isMemo=function(e){return Wn(e)===Ym};gt.isPortal=function(e){return Wn(e)===qk};gt.isProfiler=function(e){return Wn(e)===Vm};gt.isStrictMode=function(e){return Wn(e)===zm};gt.isSuspense=function(e){return Wn(e)===Gm};gt.isSuspenseList=function(e){return Wn(e)===qm};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Km||e===Vm||e===zm||e===Gm||e===qm||e===H9||typeof e=="object"&&e!==null&&(e.$$typeof===Jm||e.$$typeof===Ym||e.$$typeof===Um||e.$$typeof===Hm||e.$$typeof===Wm||e.$$typeof===w4||e.getModuleId!==void 0)};gt.typeOf=Wn;j4.exports=gt;var W9=j4.exports,G9=ds,q9=fs,Y9="[object Number]";function J9(e){return typeof e=="number"||q9(e)&&G9(e)==Y9}var S4=J9;const X9=pt(S4);var Q9=S4;function Z9(e){return Q9(e)&&e!=+e}var eU=Z9;const sf=pt(eU);var Jr=function(t){return t===0?0:t>0?1:-1},Xi=function(t){return po(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return X9(t)&&!sf(t)},tU=function(t){return Ge(t)},fr=function(t){return Ne(t)||po(t)},rU=0,hc=function(t){var r=++rU;return"".concat(t||"").concat(r)},Xr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!po(t))return n;var i;if(Xi(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return sf(i)&&(i=n),s&&i>r&&(i=r),i},Ws=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},nU=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},yn=function(t,r){return Ne(t)&&Ne(r)?function(n){return t+n*(r-t)}:function(){return r}};function np(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):wn(n,t))===r})}var aU=function(t,r){return Ne(t)&&Ne(r)?t-r:po(t)&&po(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function pl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}var sU=["viewBox","children"],iU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hN=["points","pathLength"],wx={svg:sU,polygon:hN,polyline:hN},Yk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ap=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!cc(n))return null;var s={};return Object.keys(n).forEach(function(i){Yk.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},oU=function(t,r,n){return function(s){return t(r,n,s),null}},mo=function(t,r,n){if(!cc(t)||Ev(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Yk.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=oU(o,r,n))}),s},lU=["children"],cU=["children"];function pN(e,t){if(e==null)return{};var r=uU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}var mN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Za=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},gN=null,Sx=null,Jk=function e(t){if(t===gN&&Array.isArray(Sx))return Sx;var r=[];return b.Children.forEach(t,function(n){Ge(n)||(W9.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Sx=r,gN=t,r};function Sn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Za(s)}):n=[Za(t)],Jk(e).forEach(function(s){var i=wn(s,"type.displayName")||wn(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function vn(e,t){var r=Sn(e,t);return r&&r[0]}var xN=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Ne(n)||n<=0||!Ne(s)||s<=0)},dU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fU=function(t){return t&&t.type&&po(t.type)&&dU.indexOf(t.type)>=0},hU=function(t){return t&&Cv(t)==="object"&&"clipDot"in t},pU=function(t,r,n,s){var i,o=(i=wx==null?void 0:wx[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!He(t)&&(s&&o.includes(r)||iU.includes(r))||n&&Yk.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!cc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;pU((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},_v=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return vN(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!vN(i,o))return!1}return!0},vN=function(t,r){if(Ge(t)&&Ge(r))return!0;if(!Ge(t)&&!Ge(r)){var n=t.props||{},s=n.children,i=pN(n,lU),o=r.props||{},l=o.children,c=pN(o,cU);return s&&l?pl(i,c)&&_v(s,l):!s&&!l?pl(i,c):!1}return!1},yN=function(t,r){var n=[],s={};return Jk(t).forEach(function(i,o){if(fU(i))n.push(i);else if(i){var l=Za(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},mU=function(t){var r=t&&t.type;return r&&mN[r]?mN[r]:null},gU=function(t,r){return Jk(r).indexOf(t)},xU=["children","width","height","viewBox","className","style","title","desc"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function vU(e,t){if(e==null)return{};var r=yU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mv(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=vU(e,xU),d=s||{width:r,height:n,x:0,y:0},f=qe("recharts-surface",i);return re.createElement("svg",Dv({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),re.createElement("title",null,l),re.createElement("desc",null,c),t)}var bU=["children","className"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function kU(e,t){if(e==null)return{};var r=jU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ct=re.forwardRef(function(e,t){var r=e.children,n=e.className,s=kU(e,bU),i=qe("recharts-layer",n);return re.createElement("g",$v({className:i},Re(s,!0),{ref:t}),r)}),pa=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function wU(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var SU=wU,NU=SU;function PU(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:NU(e,t,r)}var TU=PU,AU="\\ud800-\\udfff",OU="\\u0300-\\u036f",EU="\\ufe20-\\ufe2f",CU="\\u20d0-\\u20ff",_U=OU+EU+CU,DU="\\ufe0e\\ufe0f",MU="\\u200d",$U=RegExp("["+MU+AU+_U+DU+"]");function RU(e){return $U.test(e)}var N4=RU;function IU(e){return e.split("")}var LU=IU,P4="\\ud800-\\udfff",BU="\\u0300-\\u036f",FU="\\ufe20-\\ufe2f",KU="\\u20d0-\\u20ff",zU=BU+FU+KU,VU="\\ufe0e\\ufe0f",UU="["+P4+"]",Rv="["+zU+"]",Iv="\\ud83c[\\udffb-\\udfff]",HU="(?:"+Rv+"|"+Iv+")",T4="[^"+P4+"]",A4="(?:\\ud83c[\\udde6-\\uddff]){2}",O4="[\\ud800-\\udbff][\\udc00-\\udfff]",WU="\\u200d",E4=HU+"?",C4="["+VU+"]?",GU="(?:"+WU+"(?:"+[T4,A4,O4].join("|")+")"+C4+E4+")*",qU=C4+E4+GU,YU="(?:"+[T4+Rv+"?",Rv,A4,O4,UU].join("|")+")",JU=RegExp(Iv+"(?="+Iv+")|"+YU+qU,"g");function XU(e){return e.match(JU)||[]}var QU=XU,ZU=LU,eH=N4,tH=QU;function rH(e){return eH(e)?tH(e):ZU(e)}var nH=rH,aH=TU,sH=N4,iH=nH,oH=y4;function lH(e){return function(t){t=oH(t);var r=sH(t)?iH(t):void 0,n=r?r[0]:t.charAt(0),s=r?aH(r,1).join(""):t.slice(1);return n[e]()+s}}var cH=lH,uH=cH,dH=uH("toUpperCase"),fH=dH;const Xm=pt(fH);function wt(e){return function(){return e}}const _4=Math.cos,sp=Math.sin,va=Math.sqrt,ip=Math.PI,Qm=2*ip,Lv=Math.PI,Bv=2*Lv,Bi=1e-6,hH=Bv-Bi;function D4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function pH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return D4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class mH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?D4:pH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Bi)if(!(Math.abs(f*c-u*d)>Bi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,k=p*p+g*g,y=Math.sqrt(m),v=Math.sqrt(h),x=i*Math.tan((Lv-Math.acos((m+h-k)/(2*y*v)))/2),w=x/v,j=x/y;Math.abs(w-1)>Bi&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Bi||Math.abs(this._y1-d)>Bi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Bv+Bv),h>hH?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Bi&&this._append`A${n},${n},0,${+(h>=Lv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Xk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new mH(t)}function Qk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function M4(e){this._context=e}M4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zm(e){return new M4(e)}function $4(e){return e[0]}function R4(e){return e[1]}function I4(e,t){var r=wt(!0),n=null,s=Zm,i=null,o=Xk(l);e=typeof e=="function"?e:e===void 0?$4:wt(e),t=typeof t=="function"?t:t===void 0?R4:wt(t);function l(c){var u,d=(c=Qk(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:wt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:wt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Kf(e,t,r){var n=null,s=wt(!0),i=null,o=Zm,l=null,c=Xk(u);e=typeof e=="function"?e:e===void 0?$4:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?R4:wt(+r);function u(f){var h,p,g,m=(f=Qk(f)).length,k,y=!1,v,x=new Array(m),w=new Array(m);for(i==null&&(l=o(v=c())),h=0;h<=m;++h){if(!(h<m&&s(k=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(x[g],w[g]);l.lineEnd(),l.areaEnd()}y&&(x[h]=+e(k,h,f),w[h]=+t(k,h,f),l.point(n?+n(k,h,f):x[h],r?+r(k,h,f):w[h]))}if(v)return l=null,v+""||null}function d(){return I4().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class L4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gH(e){return new L4(e,!0)}function xH(e){return new L4(e,!1)}const Zk={draw(e,t){const r=va(t/ip);e.moveTo(r,0),e.arc(0,0,r,0,Qm)}},vH={draw(e,t){const r=va(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},B4=va(1/3),yH=B4*2,bH={draw(e,t){const r=va(t/yH),n=r*B4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kH={draw(e,t){const r=va(t),n=-r/2;e.rect(n,n,r,r)}},jH=.8908130915292852,F4=sp(ip/10)/sp(7*ip/10),wH=sp(Qm/10)*F4,SH=-_4(Qm/10)*F4,NH={draw(e,t){const r=va(t*jH),n=wH*r,s=SH*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Qm*i/5,l=_4(o),c=sp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Nx=va(3),PH={draw(e,t){const r=-va(t/(Nx*3));e.moveTo(0,r*2),e.lineTo(-Nx*r,-r),e.lineTo(Nx*r,-r),e.closePath()}},_n=-.5,Dn=va(3)/2,Fv=1/va(12),TH=(Fv/2+1)*3,AH={draw(e,t){const r=va(t/TH),n=r/2,s=r*Fv,i=n,o=r*Fv+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(_n*n-Dn*s,Dn*n+_n*s),e.lineTo(_n*i-Dn*o,Dn*i+_n*o),e.lineTo(_n*l-Dn*c,Dn*l+_n*c),e.lineTo(_n*n+Dn*s,_n*s-Dn*n),e.lineTo(_n*i+Dn*o,_n*o-Dn*i),e.lineTo(_n*l+Dn*c,_n*c-Dn*l),e.closePath()}};function OH(e,t){let r=null,n=Xk(s);e=typeof e=="function"?e:wt(e||Zk),t=typeof t=="function"?t:wt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:wt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:wt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function op(){}function lp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function K4(e){this._context=e}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EH(e){return new K4(e)}function z4(e){this._context=e}z4.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CH(e){return new z4(e)}function V4(e){this._context=e}V4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _H(e){return new V4(e)}function U4(e){this._context=e}U4.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function DH(e){return new U4(e)}function bN(e){return e<0?-1:1}function kN(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(bN(i)+bN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function jN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Px(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function cp(e){this._context=e}cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Px(this,this._t0,jN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Px(this,jN(this,r=kN(this,e,t)),r);break;default:Px(this,this._t0,r=kN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function H4(e){this._context=new W4(e)}(H4.prototype=Object.create(cp.prototype)).point=function(e,t){cp.prototype.point.call(this,t,e)};function W4(e){this._context=e}W4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function MH(e){return new cp(e)}function $H(e){return new H4(e)}function G4(e){this._context=e}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wN(e),s=wN(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wN(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function RH(e){return new G4(e)}function eg(e,t){this._context=e,this._t=t}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function IH(e){return new eg(e,.5)}function LH(e){return new eg(e,0)}function BH(e){return new eg(e,1)}function Ol(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Kv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function FH(e,t){return e[t]}function KH(e){const t=[];return t.key=e,t}function zH(){var e=wt([]),t=Kv,r=Ol,n=FH;function s(i){var o=Array.from(e.apply(this,arguments),KH),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Qk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Kv:typeof i=="function"?i:wt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ol,s):r},s}function VH(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ol(e,t)}}function UH(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ol(e,t)}}function HH(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],k=m[n][1]||0,y=m[n-1][1]||0;p+=k-y}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Ol(e,t)}}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}var WH=["type","size","sizeType"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(this,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){GH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GH(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=YH(e,"string");return fd(t)=="symbol"?t:t+""}function YH(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JH(e,t){if(e==null)return{};var r=XH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var q4={symbolCircle:Zk,symbolCross:vH,symbolDiamond:bH,symbolSquare:kH,symbolStar:NH,symbolTriangle:PH,symbolWye:AH},QH=Math.PI/180,ZH=function(t){var r="symbol".concat(Xm(t));return q4[r]||Zk},eW=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*QH;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tW=function(t,r){q4["symbol".concat(Xm(t))]=r},ej=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=JH(t,WH),u=NN(NN({},c),{},{type:n,size:i,sizeType:l}),d=function(){var k=ZH(n),y=OH().type(k).size(eW(i,l,n));return y()},f=u.className,h=u.cx,p=u.cy,g=Re(u,!0);return h===+h&&p===+p&&i===+i?re.createElement("path",zv({},g,{className:qe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};ej.registerSymbol=tW;function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(this,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J4(n.key),n)}}function sW(e,t,r){return t&&aW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iW(e,t,r){return t=up(t),oW(e,Y4()?Reflect.construct(t,r||[],up(e).constructor):t.apply(e,r))}function oW(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lW(e)}function lW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!e})()}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},up(e)}function cW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uv(e,t)}function Uv(e,t){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Uv(e,t)}function hd(e,t,r){return t=J4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4(e){var t=uW(e,"string");return El(t)=="symbol"?t:t+""}function uW(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mn=32,tj=function(e){function t(){return nW(this,t),iW(this,t,arguments)}return cW(t,e),sW(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Mn/2,o=Mn/6,l=Mn/3,c=n.inactive?s:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Mn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Mn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var u=rW({},n);return delete u.legendIcon,re.cloneElement(n.legendIcon,u)}return re.createElement(ej,{fill:c,cx:i,cy:i,size:Mn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Mn,height:Mn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,k=qe(hd(hd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=He(p.value)?null:p.value;pa(!He(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return re.createElement("li",Vv({className:k,style:f,key:"legend-item-".concat(g)},mo(n.props,p,g)),re.createElement(Mv,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);hd(tj,"displayName","Legend");hd(tj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dW=Lm;function fW(){this.__data__=new dW,this.size=0}var hW=fW;function pW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var mW=pW;function gW(e){return this.__data__.get(e)}var xW=gW;function vW(e){return this.__data__.has(e)}var yW=vW,bW=Lm,kW=zk,jW=Vk,wW=200;function SW(e,t){var r=this.__data__;if(r instanceof bW){var n=r.__data__;if(!kW||n.length<wW-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jW(n)}return r.set(e,t),this.size=r.size,this}var NW=SW,PW=Lm,TW=hW,AW=mW,OW=xW,EW=yW,CW=NW;function pc(e){var t=this.__data__=new PW(e);this.size=t.size}pc.prototype.clear=TW;pc.prototype.delete=AW;pc.prototype.get=OW;pc.prototype.has=EW;pc.prototype.set=CW;var X4=pc,_W="__lodash_hash_undefined__";function DW(e){return this.__data__.set(e,_W),this}var MW=DW;function $W(e){return this.__data__.has(e)}var RW=$W,IW=Vk,LW=MW,BW=RW;function dp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new IW;++t<r;)this.add(e[t])}dp.prototype.add=dp.prototype.push=LW;dp.prototype.has=BW;var Q4=dp;function FW(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Z4=FW;function KW(e,t){return e.has(t)}var eD=KW,zW=Q4,VW=Z4,UW=eD,HW=1,WW=2;function GW(e,t,r,n,s,i){var o=r&HW,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&WW?new zW:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var k=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(k!==void 0){if(k)continue;h=!1;break}if(p){if(!VW(t,function(y,v){if(!UW(p,v)&&(g===y||s(g,y,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var tD=GW,qW=$a,YW=qW.Uint8Array,JW=YW;function XW(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var QW=XW;function ZW(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var rj=ZW,TN=af,AN=JW,eG=Kk,tG=tD,rG=QW,nG=rj,aG=1,sG=2,iG="[object Boolean]",oG="[object Date]",lG="[object Error]",cG="[object Map]",uG="[object Number]",dG="[object RegExp]",fG="[object Set]",hG="[object String]",pG="[object Symbol]",mG="[object ArrayBuffer]",gG="[object DataView]",ON=TN?TN.prototype:void 0,Tx=ON?ON.valueOf:void 0;function xG(e,t,r,n,s,i,o){switch(r){case gG:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mG:return!(e.byteLength!=t.byteLength||!i(new AN(e),new AN(t)));case iG:case oG:case uG:return eG(+e,+t);case lG:return e.name==t.name&&e.message==t.message;case dG:case hG:return e==t+"";case cG:var l=rG;case fG:var c=n&aG;if(l||(l=nG),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=sG,o.set(e,t);var d=tG(l(e),l(t),n,s,i,o);return o.delete(e),d;case pG:if(Tx)return Tx.call(e)==Tx.call(t)}return!1}var vG=xG;function yG(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var rD=yG,bG=rD,kG=pn;function jG(e,t,r){var n=t(e);return kG(e)?n:bG(n,r(e))}var wG=jG;function SG(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var NG=SG;function PG(){return[]}var TG=PG,AG=NG,OG=TG,EG=Object.prototype,CG=EG.propertyIsEnumerable,EN=Object.getOwnPropertySymbols,_G=EN?function(e){return e==null?[]:(e=Object(e),AG(EN(e),function(t){return CG.call(e,t)}))}:OG,DG=_G;function MG(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $G=MG,RG=ds,IG=fs,LG="[object Arguments]";function BG(e){return IG(e)&&RG(e)==LG}var FG=BG,CN=FG,KG=fs,nD=Object.prototype,zG=nD.hasOwnProperty,VG=nD.propertyIsEnumerable,UG=CN(function(){return arguments}())?CN:function(e){return KG(e)&&zG.call(e,"callee")&&!VG.call(e,"callee")},nj=UG,fp={exports:{}};function HG(){return!1}var WG=HG;fp.exports;(function(e,t){var r=$a,n=WG,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(fp,fp.exports);var aD=fp.exports,GG=9007199254740991,qG=/^(?:0|[1-9]\d*)$/;function YG(e,t){var r=typeof e;return t=t??GG,!!t&&(r=="number"||r!="symbol"&&qG.test(e))&&e>-1&&e%1==0&&e<t}var aj=YG,JG=9007199254740991;function XG(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JG}var sj=XG,QG=ds,ZG=sj,eq=fs,tq="[object Arguments]",rq="[object Array]",nq="[object Boolean]",aq="[object Date]",sq="[object Error]",iq="[object Function]",oq="[object Map]",lq="[object Number]",cq="[object Object]",uq="[object RegExp]",dq="[object Set]",fq="[object String]",hq="[object WeakMap]",pq="[object ArrayBuffer]",mq="[object DataView]",gq="[object Float32Array]",xq="[object Float64Array]",vq="[object Int8Array]",yq="[object Int16Array]",bq="[object Int32Array]",kq="[object Uint8Array]",jq="[object Uint8ClampedArray]",wq="[object Uint16Array]",Sq="[object Uint32Array]",Et={};Et[gq]=Et[xq]=Et[vq]=Et[yq]=Et[bq]=Et[kq]=Et[jq]=Et[wq]=Et[Sq]=!0;Et[tq]=Et[rq]=Et[pq]=Et[nq]=Et[mq]=Et[aq]=Et[sq]=Et[iq]=Et[oq]=Et[lq]=Et[cq]=Et[uq]=Et[dq]=Et[fq]=Et[hq]=!1;function Nq(e){return eq(e)&&ZG(e.length)&&!!Et[QG(e)]}var Pq=Nq;function Tq(e){return function(t){return e(t)}}var sD=Tq,hp={exports:{}};hp.exports;(function(e,t){var r=h4,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(hp,hp.exports);var Aq=hp.exports,Oq=Pq,Eq=sD,_N=Aq,DN=_N&&_N.isTypedArray,Cq=DN?Eq(DN):Oq,iD=Cq,_q=$G,Dq=nj,Mq=pn,$q=aD,Rq=aj,Iq=iD,Lq=Object.prototype,Bq=Lq.hasOwnProperty;function Fq(e,t){var r=Mq(e),n=!r&&Dq(e),s=!r&&!n&&$q(e),i=!r&&!n&&!s&&Iq(e),o=r||n||s||i,l=o?_q(e.length,String):[],c=l.length;for(var u in e)(t||Bq.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rq(u,c)))&&l.push(u);return l}var Kq=Fq,zq=Object.prototype;function Vq(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||zq;return e===r}var Uq=Vq;function Hq(e,t){return function(r){return e(t(r))}}var oD=Hq,Wq=oD,Gq=Wq(Object.keys,Object),qq=Gq,Yq=Uq,Jq=qq,Xq=Object.prototype,Qq=Xq.hasOwnProperty;function Zq(e){if(!Yq(e))return Jq(e);var t=[];for(var r in Object(e))Qq.call(e,r)&&r!="constructor"&&t.push(r);return t}var eY=Zq,tY=Fk,rY=sj;function nY(e){return e!=null&&rY(e.length)&&!tY(e)}var of=nY,aY=Kq,sY=eY,iY=of;function oY(e){return iY(e)?aY(e):sY(e)}var tg=oY,lY=wG,cY=DG,uY=tg;function dY(e){return lY(e,uY,cY)}var fY=dY,MN=fY,hY=1,pY=Object.prototype,mY=pY.hasOwnProperty;function gY(e,t,r,n,s,i){var o=r&hY,l=MN(e),c=l.length,u=MN(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:mY.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var k=o;++f<c;){h=l[f];var y=e[h],v=t[h];if(n)var x=o?n(v,y,h,t,e,i):n(y,v,h,e,t,i);if(!(x===void 0?y===v||s(y,v,r,n,i):x)){m=!1;break}k||(k=h=="constructor")}if(m&&!k){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var xY=gY,vY=So,yY=$a,bY=vY(yY,"DataView"),kY=bY,jY=So,wY=$a,SY=jY(wY,"Promise"),NY=SY,PY=So,TY=$a,AY=PY(TY,"Set"),lD=AY,OY=So,EY=$a,CY=OY(EY,"WeakMap"),_Y=CY,Hv=kY,Wv=zk,Gv=NY,qv=lD,Yv=_Y,cD=ds,mc=m4,$N="[object Map]",DY="[object Object]",RN="[object Promise]",IN="[object Set]",LN="[object WeakMap]",BN="[object DataView]",MY=mc(Hv),$Y=mc(Wv),RY=mc(Gv),IY=mc(qv),LY=mc(Yv),Fi=cD;(Hv&&Fi(new Hv(new ArrayBuffer(1)))!=BN||Wv&&Fi(new Wv)!=$N||Gv&&Fi(Gv.resolve())!=RN||qv&&Fi(new qv)!=IN||Yv&&Fi(new Yv)!=LN)&&(Fi=function(e){var t=cD(e),r=t==DY?e.constructor:void 0,n=r?mc(r):"";if(n)switch(n){case MY:return BN;case $Y:return $N;case RY:return RN;case IY:return IN;case LY:return LN}return t});var BY=Fi,Ax=X4,FY=tD,KY=vG,zY=xY,FN=BY,KN=pn,zN=aD,VY=iD,UY=1,VN="[object Arguments]",UN="[object Array]",zf="[object Object]",HY=Object.prototype,HN=HY.hasOwnProperty;function WY(e,t,r,n,s,i){var o=KN(e),l=KN(t),c=o?UN:FN(e),u=l?UN:FN(t);c=c==VN?zf:c,u=u==VN?zf:u;var d=c==zf,f=u==zf,h=c==u;if(h&&zN(e)){if(!zN(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Ax),o||VY(e)?FY(e,t,r,n,s,i):KY(e,t,c,r,n,s,i);if(!(r&UY)){var p=d&&HN.call(e,"__wrapped__"),g=f&&HN.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,k=g?t.value():t;return i||(i=new Ax),s(m,k,r,n,i)}}return h?(i||(i=new Ax),zY(e,t,r,n,s,i)):!1}var GY=WY,qY=GY,WN=fs;function uD(e,t,r,n,s){return e===t?!0:e==null||t==null||!WN(e)&&!WN(t)?e!==e&&t!==t:qY(e,t,r,n,uD,s)}var ij=uD,YY=X4,JY=ij,XY=1,QY=2;function ZY(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new YY;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?JY(d,u,XY|QY,n,f):h))return!1}}return!0}var eJ=ZY,tJ=Si;function rJ(e){return e===e&&!tJ(e)}var dD=rJ,nJ=dD,aJ=tg;function sJ(e){for(var t=aJ(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,nJ(s)]}return t}var iJ=sJ;function oJ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fD=oJ,lJ=eJ,cJ=iJ,uJ=fD;function dJ(e){var t=cJ(e);return t.length==1&&t[0][2]?uJ(t[0][0],t[0][1]):function(r){return r===e||lJ(r,e,t)}}var fJ=dJ;function hJ(e,t){return e!=null&&t in Object(e)}var pJ=hJ,mJ=b4,gJ=nj,xJ=pn,vJ=aj,yJ=sj,bJ=Fm;function kJ(e,t,r){t=mJ(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=bJ(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&yJ(s)&&vJ(o,s)&&(xJ(e)||gJ(e)))}var jJ=kJ,wJ=pJ,SJ=jJ;function NJ(e,t){return e!=null&&SJ(e,t,wJ)}var PJ=NJ,TJ=ij,AJ=k4,OJ=PJ,EJ=Bk,CJ=dD,_J=fD,DJ=Fm,MJ=1,$J=2;function RJ(e,t){return EJ(e)&&CJ(t)?_J(DJ(e),t):function(r){var n=AJ(r,e);return n===void 0&&n===t?OJ(r,e):TJ(t,n,MJ|$J)}}var IJ=RJ;function LJ(e){return e}var gc=LJ;function BJ(e){return function(t){return t==null?void 0:t[e]}}var FJ=BJ,KJ=Wk;function zJ(e){return function(t){return KJ(t,e)}}var VJ=zJ,UJ=FJ,HJ=VJ,WJ=Bk,GJ=Fm;function qJ(e){return WJ(e)?UJ(GJ(e)):HJ(e)}var YJ=qJ,JJ=fJ,XJ=IJ,QJ=gc,ZJ=pn,eX=YJ;function tX(e){return typeof e=="function"?e:e==null?QJ:typeof e=="object"?ZJ(e)?XJ(e[0],e[1]):JJ(e):eX(e)}var Ra=tX;function rX(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var hD=rX;function nX(e){return e!==e}var aX=nX;function sX(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var iX=sX,oX=hD,lX=aX,cX=iX;function uX(e,t,r){return t===t?cX(e,t,r):oX(e,lX,r)}var dX=uX,fX=dX;function hX(e,t){var r=e==null?0:e.length;return!!r&&fX(e,t,0)>-1}var pX=hX;function mX(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var gX=mX;function xX(){}var vX=xX,Ox=lD,yX=vX,bX=rj,kX=1/0,jX=Ox&&1/bX(new Ox([,-0]))[1]==kX?function(e){return new Ox(e)}:yX,wX=jX,SX=Q4,NX=pX,PX=gX,TX=eD,AX=wX,OX=rj,EX=200;function CX(e,t,r){var n=-1,s=NX,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=PX;else if(i>=EX){var u=t?null:AX(e);if(u)return OX(u);o=!1,s=TX,c=new SX}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var _X=CX,DX=Ra,MX=_X;function $X(e,t){return e&&e.length?MX(e,DX(t)):[]}var RX=$X;const GN=pt(RX);function pD(e,t,r){return t===!0?GN(e,r):He(t)?GN(e,t):e}function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}var IX=["ref"];function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){rg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gD(n.key),n)}}function BX(e,t,r){return t&&YN(e.prototype,t),r&&YN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FX(e,t,r){return t=pp(t),KX(e,mD()?Reflect.construct(t,r||[],pp(e).constructor):t.apply(e,r))}function KX(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zX(e)}function zX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!e})()}function pp(e){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jv(e,t)}function Jv(e,t){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Jv(e,t)}function rg(e,t,r){return t=gD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gD(e){var t=UX(e,"string");return Cl(t)=="symbol"?t:t+""}function UX(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HX(e,t){if(e==null)return{};var r=WX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GX(e){return e.value}function qX(e,t){if(re.isValidElement(e))return re.cloneElement(e,t);if(typeof e=="function")return re.createElement(e,t);t.ref;var r=HX(t,IX);return re.createElement(tj,r)}var JN=1,Sa=function(e){function t(){var r;LX(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=FX(this,t,[].concat(s)),rg(r,"lastBoundingBox",{width:-1,height:-1}),r}return VX(t,e),BX(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>JN||Math.abs(s.height-this.lastBoundingBox.height)>JN)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?La({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return La(La({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=La(La({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},qX(i,La(La({},this.props),{},{payload:pD(d,u,GX)})))}}],[{key:"getWithHeight",value:function(n,s){var i=La(La({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ne(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(b.PureComponent);rg(Sa,"displayName","Legend");rg(Sa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XN=af,YX=nj,JX=pn,QN=XN?XN.isConcatSpreadable:void 0;function XX(e){return JX(e)||YX(e)||!!(QN&&e&&e[QN])}var QX=XX,ZX=rD,eQ=QX;function xD(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=eQ),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?xD(l,t-1,r,n,s):ZX(s,l):n||(s[s.length]=l)}return s}var vD=xD;function tQ(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var rQ=tQ,nQ=rQ,aQ=nQ(),sQ=aQ,iQ=sQ,oQ=tg;function lQ(e,t){return e&&iQ(e,t,oQ)}var yD=lQ,cQ=of;function uQ(e,t){return function(r,n){if(r==null)return r;if(!cQ(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var dQ=uQ,fQ=yD,hQ=dQ,pQ=hQ(fQ),oj=pQ,mQ=oj,gQ=of;function xQ(e,t){var r=-1,n=gQ(e)?Array(e.length):[];return mQ(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var bD=xQ;function vQ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var yQ=vQ,ZN=lc;function bQ(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=ZN(e),o=t!==void 0,l=t===null,c=t===t,u=ZN(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var kQ=bQ,jQ=kQ;function wQ(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=jQ(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var SQ=wQ,Ex=Hk,NQ=Wk,PQ=Ra,TQ=bD,AQ=yQ,OQ=sD,EQ=SQ,CQ=gc,_Q=pn;function DQ(e,t,r){t.length?t=Ex(t,function(i){return _Q(i)?function(o){return NQ(o,i.length===1?i[0]:i)}:i}):t=[CQ];var n=-1;t=Ex(t,OQ(PQ));var s=TQ(e,function(i,o,l){var c=Ex(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return AQ(s,function(i,o){return EQ(i,o,r)})}var MQ=DQ;function $Q(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var RQ=$Q,IQ=RQ,eP=Math.max;function LQ(e,t,r){return t=eP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=eP(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),IQ(e,this,l)}}var BQ=LQ;function FQ(e){return function(){return e}}var KQ=FQ,zQ=So,VQ=function(){try{var e=zQ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),kD=VQ,UQ=KQ,tP=kD,HQ=gc,WQ=tP?function(e,t){return tP(e,"toString",{configurable:!0,enumerable:!1,value:UQ(t),writable:!0})}:HQ,GQ=WQ,qQ=800,YQ=16,JQ=Date.now;function XQ(e){var t=0,r=0;return function(){var n=JQ(),s=YQ-(n-r);if(r=n,s>0){if(++t>=qQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var QQ=XQ,ZQ=GQ,eZ=QQ,tZ=eZ(ZQ),rZ=tZ,nZ=gc,aZ=BQ,sZ=rZ;function iZ(e,t){return sZ(aZ(e,t,nZ),e+"")}var oZ=iZ,lZ=Kk,cZ=of,uZ=aj,dZ=Si;function fZ(e,t,r){if(!dZ(r))return!1;var n=typeof t;return(n=="number"?cZ(r)&&uZ(t,r.length):n=="string"&&t in r)?lZ(r[t],e):!1}var ng=fZ,hZ=vD,pZ=MQ,mZ=oZ,rP=ng,gZ=mZ(function(e,t){if(e==null)return[];var r=t.length;return r>1&&rP(e,t[0],t[1])?t=[]:r>2&&rP(t[0],t[1],t[2])&&(t=[t[0]]),pZ(e,hZ(t,1),[])}),xZ=gZ;const lj=pt(xZ);function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function vZ(e,t){return jZ(e)||kZ(e,t)||bZ(e,t)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(e,t){if(e){if(typeof e=="string")return nP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nP(e,t)}}function nP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jZ(e){if(Array.isArray(e))return e}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){wZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wZ(e,t,r){return t=SZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=NZ(e,"string");return pd(t)=="symbol"?t:t+""}function NZ(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e){return Array.isArray(e)&&fr(e[0])&&fr(e[1])?e.join(" ~ "):e}var TZ=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,k=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,x=function(){if(d&&d.length){var E={padding:0,margin:0},_=(h?lj(d,h):d).map(function(B,G){if(B.type==="none")return null;var L=Cx({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),I=B.formatter||f||PZ,V=B.value,F=B.name,X=V,q=F;if(I&&X!=null&&q!=null){var oe=I(V,F,B,G,d);if(Array.isArray(oe)){var Q=vZ(oe,2);X=Q[0],q=Q[1]}else X=oe}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:L},fr(q)?re.createElement("span",{className:"recharts-tooltip-item-name"},q):null,fr(q)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},X),re.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:E},_)}return null},w=Cx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Cx({margin:0},u),S=!Ge(m),N=S?m:"",P=qe("recharts-default-tooltip",p),O=qe("recharts-tooltip-label",g);S&&k&&d!==void 0&&d!==null&&(N=k(m,d));var C=v?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",Xv({className:P,style:w},C),re.createElement("p",{className:O,style:j},re.isValidElement(N)?N:"".concat(N)),x())};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function Vf(e,t,r){return t=AZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AZ(e){var t=OZ(e,"string");return md(t)=="symbol"?t:t+""}function OZ(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $c="recharts-tooltip-wrapper",EZ={visibility:"hidden"};function CZ(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qe($c,Vf(Vf(Vf(Vf({},"".concat($c,"-right"),Ne(r)&&t&&Ne(t.x)&&r>=t.x),"".concat($c,"-left"),Ne(r)&&t&&Ne(t.x)&&r<t.x),"".concat($c,"-bottom"),Ne(n)&&t&&Ne(t.y)&&n>=t.y),"".concat($c,"-top"),Ne(n)&&t&&Ne(t.y)&&n<t.y))}function sP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ne(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function _Z(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function DZ(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=sP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=sP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_Z({translateX:d,translateY:f,useTranslate3d:l})):u=EZ,{cssProperties:u,cssClasses:CZ({translateX:d,translateY:f,coordinate:r})}}function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wD(n.key),n)}}function RZ(e,t,r){return t&&$Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IZ(e,t,r){return t=mp(t),LZ(e,jD()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function LZ(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BZ(e)}function BZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function FZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qv(e,t)}function Zv(e,t,r){return t=wD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=KZ(e,"string");return _l(t)=="symbol"?t:t+""}function KZ(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lP=1,zZ=function(e){function t(){var r;MZ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=IZ(this,t,[].concat(s)),Zv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Zv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return FZ(t,e),RZ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>lP||Math.abs(n.height-this.state.lastBoundingBox.height)>lP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,k=s.useTranslate3d,y=s.viewBox,v=s.wrapperStyle,x=DZ({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:k,viewBox:y}),w=x.cssClasses,j=x.cssProperties,S=oP(oP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return re.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(P){n.wrapperNode=P}},u)}}])}(b.PureComponent),VZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},No={isSsr:VZ()};function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){cj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ND(n.key),n)}}function WZ(e,t,r){return t&&HZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GZ(e,t,r){return t=gp(t),qZ(e,SD()?Reflect.construct(t,r||[],gp(e).constructor):t.apply(e,r))}function qZ(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YZ(e)}function YZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!e})()}function gp(e){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(e)}function JZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ey(e,t)}function cj(e,t,r){return t=ND(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ND(e){var t=XZ(e,"string");return Dl(t)=="symbol"?t:t+""}function XZ(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QZ(e){return e.dataKey}function ZZ(e,t){return re.isValidElement(e)?re.cloneElement(e,t):typeof e=="function"?re.createElement(e,t):re.createElement(TZ,t)}var Rr=function(e){function t(){return UZ(this,t),GZ(this,t,arguments)}return JZ(t,e),WZ(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,k=s.position,y=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,w=s.wrapperStyle,j=g??[];f&&j.length&&(j=pD(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,QZ));var S=j.length>0;return re.createElement(zZ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:k,reverseDirection:y,useTranslate3d:v,viewBox:x,wrapperStyle:w},ZZ(u,uP(uP({},this.props),{},{payload:j})))}}])}(b.PureComponent);cj(Rr,"displayName","Tooltip");cj(Rr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!No.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eee=$a,tee=function(){return eee.Date.now()},ree=tee,nee=/\s/;function aee(e){for(var t=e.length;t--&&nee.test(e.charAt(t)););return t}var see=aee,iee=see,oee=/^\s+/;function lee(e){return e&&e.slice(0,iee(e)+1).replace(oee,"")}var cee=lee,uee=cee,dP=Si,dee=lc,fP=NaN,fee=/^[-+]0x[0-9a-f]+$/i,hee=/^0b[01]+$/i,pee=/^0o[0-7]+$/i,mee=parseInt;function gee(e){if(typeof e=="number")return e;if(dee(e))return fP;if(dP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uee(e);var r=hee.test(e);return r||pee.test(e)?mee(e.slice(2),r?2:8):fee.test(e)?fP:+e}var PD=gee,xee=Si,_x=ree,hP=PD,vee="Expected a function",yee=Math.max,bee=Math.min;function kee(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(vee);t=hP(t)||0,xee(r)&&(d=!!r.leading,f="maxWait"in r,i=f?yee(hP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var N=n,P=s;return n=s=void 0,u=S,o=e.apply(P,N),o}function g(S){return u=S,l=setTimeout(y,t),d?p(S):o}function m(S){var N=S-c,P=S-u,O=t-N;return f?bee(O,i-P):O}function k(S){var N=S-c,P=S-u;return c===void 0||N>=t||N<0||f&&P>=i}function y(){var S=_x();if(k(S))return v(S);l=setTimeout(y,m(S))}function v(S){return l=void 0,h&&n?p(S):(n=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function w(){return l===void 0?o:v(_x())}function j(){var S=_x(),N=k(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=x,j.flush=w,j}var jee=kee,wee=jee,See=Si,Nee="Expected a function";function Pee(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Nee);return See(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),wee(e,t,{leading:n,maxWait:t,trailing:s})}var Tee=Pee;const TD=pt(Tee);function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return t=Oee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oee(e){var t=Eee(e,"string");return gd(t)=="symbol"?t:t+""}function Eee(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cee(e,t){return $ee(e)||Mee(e,t)||Dee(e,t)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(e,t){if(e){if(typeof e=="string")return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $ee(e){if(Array.isArray(e))return e}var Ki=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,k=e.id,y=e.className,v=e.onResize,x=e.style,w=x===void 0?{}:x,j=b.useRef(null),S=b.useRef();S.current=v,b.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=b.useState({containerWidth:s.width,containerHeight:s.height}),P=Cee(N,2),O=P[0],C=P[1],M=b.useCallback(function(_,B){C(function(G){var L=Math.round(_),I=Math.round(B);return G.containerWidth===L&&G.containerHeight===I?G:{containerWidth:L,containerHeight:I}})},[]);b.useEffect(function(){var _=function(F){var X,q=F[0].contentRect,oe=q.width,Q=q.height;M(oe,Q),(X=S.current)===null||X===void 0||X.call(S,oe,Q)};m>0&&(_=TD(_,m,{trailing:!0,leading:!1}));var B=new ResizeObserver(_),G=j.current.getBoundingClientRect(),L=G.width,I=G.height;return M(L,I),B.observe(j.current),function(){B.disconnect()}},[M,m]);var E=b.useMemo(function(){var _=O.containerWidth,B=O.containerHeight;if(_<0||B<0)return null;pa(Xi(o)||Xi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),pa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Xi(o)?_:o,L=Xi(c)?B:c;r&&r>0&&(G?L=G/r:L&&(G=L*r),h&&L>h&&(L=h)),pa(G>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,L,o,c,d,f,r);var I=!Array.isArray(p)&&Za(p.type).endsWith("Chart");return re.Children.map(p,function(V){return re.isValidElement(V)?b.cloneElement(V,Uf({width:G,height:L},I?{style:Uf({height:"100%",width:"100%",maxHeight:L,maxWidth:G},V.props.style)}:{})):V})},[r,p,c,h,f,d,O,o]);return re.createElement("div",{id:k?"".concat(k):void 0,className:qe("recharts-responsive-container",y),style:Uf(Uf({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),ao=function(t){return null};ao.displayName="Cell";function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return t=Iee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iee(e){var t=Lee(e,"string");return xd(t)=="symbol"?t:t+""}function Lee(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _o={widthCache:{},cacheCount:0},Bee=2e3,Fee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xP="recharts_measurement_span";function Kee(e){var t=ty({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Eu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||No.isSsr)return{width:0,height:0};var n=Kee(r),s=JSON.stringify({text:t,copyStyle:n});if(_o.widthCache[s])return _o.widthCache[s];try{var i=document.getElementById(xP);i||(i=document.createElement("span"),i.setAttribute("id",xP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ty(ty({},Fee),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return _o.widthCache[s]=c,++_o.cacheCount>Bee&&(_o.cacheCount=0,_o.widthCache={}),c}catch{return{width:0,height:0}}},zee=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function xp(e,t){return Wee(e)||Hee(e,t)||Uee(e,t)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(e,t){if(e){if(typeof e=="string")return vP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(e,t)}}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wee(e){if(Array.isArray(e))return e}function Gee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yee(n.key),n)}}function qee(e,t,r){return t&&yP(e.prototype,t),r&&yP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yee(e){var t=Jee(e,"string");return vd(t)=="symbol"?t:t+""}function Jee(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zee=Object.keys(AD),el="NaN";function ete(e,t){return e*AD[t]}var Hf=function(){function e(t,r){Gee(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Xee.test(r)&&(this.num=NaN,this.unit=""),Zee.includes(r)&&(this.num=ete(t,r),this.unit="px")}return qee(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Qee.exec(r))!==null&&n!==void 0?n:[],i=xp(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function OD(e){if(e.includes(el))return el;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=bP.exec(t))!==null&&r!==void 0?r:[],s=xp(n,4),i=s[1],o=s[2],l=s[3],c=Hf.parse(i??""),u=Hf.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return el;t=t.replace(bP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=kP.exec(t))!==null&&f!==void 0?f:[],p=xp(h,4),g=p[1],m=p[2],k=p[3],y=Hf.parse(g??""),v=Hf.parse(k??""),x=m==="+"?y.add(v):y.subtract(v);if(x.isNaN())return el;t=t.replace(kP,x.toString())}return t}var jP=/\(([^()]*)\)/;function tte(e){for(var t=e;t.includes("(");){var r=jP.exec(t),n=xp(r,2),s=n[1];t=t.replace(jP,OD(s))}return t}function rte(e){var t=e.replace(/\s+/g,"");return t=tte(t),t=OD(t),t}function nte(e){try{return rte(e)}catch{return el}}function Dx(e){var t=nte(e.slice(5,-1));return t===el?"":t}var ate=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ste=["dx","dy","angle","className","breakAll"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}function wP(e,t){if(e==null)return{};var r=ite(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SP(e,t){return ute(e)||cte(e,t)||lte(e,t)||ote()}function ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(e,t){if(e){if(typeof e=="string")return NP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NP(e,t)}}function NP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ute(e){if(Array.isArray(e))return e}var ED=/[ \f\n\r\t\v\u2028\u2029]+/,CD=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];Ge(r)||(n?i=r.toString().split(""):i=r.toString().split(ED));var o=i.map(function(c){return{word:c,width:Eu(c,s).width}}),l=n?0:Eu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},dte=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ne(o),f=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(L,I){var V=I.word,F=I.width,X=L[L.length-1];if(X&&(s==null||i||X.width+F+n<Number(s)))X.words.push(V),X.width+=F+n;else{var q={words:[V],width:F};L.push(q)}return L},[])},p=h(r),g=function(G){return G.reduce(function(L,I){return L.width>I.width?L:I})};if(!d)return p;for(var m="",k=function(G){var L=f.slice(0,G),I=CD({breakAll:u,style:c,children:L+m}).wordsWithComputedWidth,V=h(I),F=V.length>o||g(V).width>Number(s);return[F,V]},y=0,v=f.length-1,x=0,w;y<=v&&x<=f.length-1;){var j=Math.floor((y+v)/2),S=j-1,N=k(S),P=SP(N,2),O=P[0],C=P[1],M=k(j),E=SP(M,1),_=E[0];if(!O&&!_&&(y=j+1),O&&_&&(v=j-1),!O&&_){w=C;break}x++}return w||p},PP=function(t){var r=Ge(t)?[]:t.toString().split(ED);return[{words:r}]},fte=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!No.isSsr){var c,u,d=CD({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return PP(s);return dte({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return PP(s)},TP="#808080",go=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,k=t.fill,y=k===void 0?TP:k,v=wP(t,ate),x=b.useMemo(function(){return fte({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),w=v.dx,j=v.dy,S=v.angle,N=v.className,P=v.breakAll,O=wP(v,ste);if(!fr(n)||!fr(i))return null;var C=n+(Ne(w)?w:0),M=i+(Ne(j)?j:0),E;switch(m){case"start":E=Dx("calc(".concat(u,")"));break;case"middle":E=Dx("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Dx("calc(".concat(x.length-1," * -").concat(l,")"));break}var _=[];if(f){var B=x[0].width,G=v.width;_.push("scale(".concat((Ne(G)?G/B:1)/B,")"))}return S&&_.push("rotate(".concat(S,", ").concat(C,", ").concat(M,")")),_.length&&(O.transform=_.join(" ")),re.createElement("text",ry({},Re(O,!0),{x:C,y:M,className:qe("recharts-text",N),textAnchor:p,fill:y.includes("url")?TP:y}),x.map(function(L,I){var V=L.words.join(P?"":" ");return re.createElement("tspan",{x:C,dy:I===0?E:l,key:"".concat(V,"-").concat(I)},V)}))};function ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uj(e){let t,r,n;e.length!==2?(t=ui,r=(l,c)=>ui(e(l),c),n=(l,c)=>e(l)-c):(t=e===ui||e===hte?e:pte,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function pte(){return 0}function _D(e){return e===null?NaN:+e}function*mte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const gte=uj(ui),lf=gte.right;uj(_D).center;class AP extends Map{constructor(t,r=yte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(OP(this,t))}has(t){return super.has(OP(this,t))}set(t,r){return super.set(xte(this,t),r)}delete(t){return super.delete(vte(this,t))}}function OP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xte({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vte({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yte(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bte(e=ui){if(e===ui)return DD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function DD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kte=Math.sqrt(50),jte=Math.sqrt(10),wte=Math.sqrt(2);function vp(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=kte?10:i>=jte?5:i>=wte?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?vp(e,t,r*2):[l,c,u]}function ny(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?vp(t,e,r):vp(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function ay(e,t,r){return t=+t,e=+e,r=+r,vp(e,t,r)[2]}function sy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?ay(t,e,r):ay(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function EP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MD(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?DD:bte(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));MD(e,t,p,g,s)}const i=e[t];let o=r,l=n;for(Rc(e,r,t),s(e[n],i)>0&&Rc(e,r,n);o<l;){for(Rc(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Rc(e,r,l):(++l,Rc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Rc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ste(e,t,r){if(e=Float64Array.from(mte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CP(e);if(t>=1)return EP(e);var n,s=(n-1)*t,i=Math.floor(s),o=EP(MD(e,i).subarray(0,i+1)),l=CP(e.subarray(i+1));return o+(l-o)*(s-i)}}function Nte(e,t,r=_D){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Pte(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iy=Symbol("implicit");function dj(){var e=new AP,t=[],r=[],n=iy;function s(i){let o=e.get(i);if(o===void 0){if(n!==iy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new AP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return dj(t,r).unknown(n)},Gn.apply(s,arguments),s}function yd(){var e=dj().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var k=Pte(h).map(function(y){return g+i*y});return r(p?k.reverse():k)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return yd(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gn.apply(f(),arguments)}function $D(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $D(t())},e}function Cu(){return $D(yd.apply(null,arguments).paddingInner(1))}function fj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cf(){}var bd=.7,yp=1/bd,ml="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tte=/^#([0-9a-f]{3,8})$/,Ate=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),Ote=new RegExp(`^rgb\\(${Oa},${Oa},${Oa}\\)$`),Ete=new RegExp(`^rgba\\(${ml},${ml},${ml},${kd}\\)$`),Cte=new RegExp(`^rgba\\(${Oa},${Oa},${Oa},${kd}\\)$`),_te=new RegExp(`^hsl\\(${kd},${Oa},${Oa}\\)$`),Dte=new RegExp(`^hsla\\(${kd},${Oa},${Oa},${kd}\\)$`),_P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fj(cf,jd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DP,formatHex:DP,formatHex8:Mte,formatHsl:$te,formatRgb:MP,toString:MP});function DP(){return this.rgb().formatHex()}function Mte(){return this.rgb().formatHex8()}function $te(){return ID(this).formatHsl()}function MP(){return this.rgb().formatRgb()}function jd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Tte.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$P(t):r===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ate.exec(e))?new cn(t[1],t[2],t[3],1):(t=Ote.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ete.exec(e))?Wf(t[1],t[2],t[3],t[4]):(t=Cte.exec(e))?Wf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_te.exec(e))?LP(t[1],t[2]/100,t[3]/100,1):(t=Dte.exec(e))?LP(t[1],t[2]/100,t[3]/100,t[4]):_P.hasOwnProperty(e)?$P(_P[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function $P(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function Wf(e,t,r,n){return n<=0&&(e=t=r=NaN),new cn(e,t,r,n)}function Rte(e){return e instanceof cf||(e=jd(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function oy(e,t,r,n){return arguments.length===1?Rte(e):new cn(e,t,r,n??1)}function cn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fj(cn,oy,RD(cf,{brighter(e){return e=e==null?yp:Math.pow(yp,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bd:Math.pow(bd,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(so(this.r),so(this.g),so(this.b),bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RP,formatHex:RP,formatHex8:Ite,formatRgb:IP,toString:IP}));function RP(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function Ite(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function IP(){const e=bp(this.opacity);return`${e===1?"rgb(":"rgba("}${so(this.r)}, ${so(this.g)}, ${so(this.b)}${e===1?")":`, ${e})`}`}function bp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function so(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qi(e){return e=so(e),(e<16?"0":"")+e.toString(16)}function LP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ua(e,t,r,n)}function ID(e){if(e instanceof ua)return new ua(e.h,e.s,e.l,e.opacity);if(e instanceof cf||(e=jd(e)),!e)return new ua;if(e instanceof ua)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ua(o,l,c,e.opacity)}function Lte(e,t,r,n){return arguments.length===1?ID(e):new ua(e,t,r,n??1)}function ua(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fj(ua,Lte,RD(cf,{brighter(e){return e=e==null?yp:Math.pow(yp,e),new ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bd:Math.pow(bd,e),new ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new cn(Mx(e>=240?e-240:e+120,s,n),Mx(e,s,n),Mx(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ua(BP(this.h),Gf(this.s),Gf(this.l),bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bp(this.opacity);return`${e===1?"hsl(":"hsla("}${BP(this.h)}, ${Gf(this.s)*100}%, ${Gf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BP(e){return e=(e||0)%360,e<0?e+360:e}function Gf(e){return Math.max(0,Math.min(1,e||0))}function Mx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hj=e=>()=>e;function Bte(e,t){return function(r){return e+r*t}}function Fte(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Kte(e){return(e=+e)==1?LD:function(t,r){return r-t?Fte(t,r,e):hj(isNaN(t)?r:t)}}function LD(e,t){var r=t-e;return r?Bte(e,r):hj(isNaN(e)?t:e)}const FP=function e(t){var r=Kte(t);function n(s,i){var o=r((s=oy(s)).r,(i=oy(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=LD(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function zte(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Vte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ute(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=xc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Hte(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function kp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Wte(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=xc(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var ly=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$x=new RegExp(ly.source,"g");function Gte(e){return function(){return e}}function qte(e){return function(t){return e(t)+""}}function Yte(e,t){var r=ly.lastIndex=$x.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ly.exec(e))&&(s=$x.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:kp(n,s)})),r=$x.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?qte(c[0].x):Gte(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function xc(e,t){var r=typeof t,n;return t==null||r==="boolean"?hj(t):(r==="number"?kp:r==="string"?(n=jd(t))?(t=n,FP):Yte:t instanceof jd?FP:t instanceof Date?Hte:Vte(t)?zte:Array.isArray(t)?Ute:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Wte:kp)(e,t)}function pj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jte(e,t){t===void 0&&(t=e,e=xc);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Xte(e){return function(){return e}}function jp(e){return+e}var KP=[0,1];function Qr(e){return e}function cy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Xte(isNaN(t)?NaN:.5)}function Qte(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Zte(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=cy(s,n),i=r(o,i)):(n=cy(n,s),i=r(i,o)),function(l){return i(n(l))}}function ere(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=cy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=lf(e,l,1,n)-1;return i[c](s[c](l))}}function uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ag(){var e=KP,t=KP,r=xc,n,s,i,o=Qr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qr&&(o=Qte(e[0],e[h-1])),l=h>2?ere:Zte,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),kp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,jp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=pj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qr,d()):o!==Qr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function mj(){return ag()(Qr,Qr)}function tre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ml(e){return e=wp(Math.abs(e)),e?e[1]:NaN}function rre(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function nre(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var are=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(e){if(!(t=are.exec(e)))throw new Error("invalid format: "+e);var t;return new gj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wd.prototype=gj.prototype;function gj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sre(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var BD;function ire(e,t){var r=wp(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(BD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+wp(e,Math.max(0,t+i-1))[0]}function zP(e,t){var r=wp(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const VP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zP(e*100,t),r:zP,s:ire,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UP(e){return e}var HP=Array.prototype.map,WP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ore(e){var t=e.grouping===void 0||e.thousands===void 0?UP:rre(HP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?UP:nre(HP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=wd(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,k=f.zero,y=f.width,v=f.comma,x=f.precision,w=f.trim,j=f.type;j==="n"?(v=!0,j="g"):VP[j]||(x===void 0&&(x=12),w=!0,j="g"),(k||h==="0"&&p==="=")&&(k=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=m==="$"?n:/[%p]/.test(j)?o:"",P=VP[j],O=/[defgprs%]/.test(j);x=x===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(M){var E=S,_=N,B,G,L;if(j==="c")_=P(M)+_,M="";else{M=+M;var I=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),x),w&&(M=sre(M)),I&&+M==0&&g!=="+"&&(I=!1),E=(I?g==="("?g:l:g==="-"||g==="("?"":g)+E,_=(j==="s"?WP[8+BD/3]:"")+_+(I&&g==="("?")":""),O){for(B=-1,G=M.length;++B<G;)if(L=M.charCodeAt(B),48>L||L>57){_=(L===46?s+M.slice(B+1):M.slice(B))+_,M=M.slice(0,B);break}}}v&&!k&&(M=t(M,1/0));var V=E.length+M.length+_.length,F=V<y?new Array(y-V+1).join(h):"";switch(v&&k&&(M=t(F+M,F.length?y-_.length:1/0),F=""),p){case"<":M=E+M+_+F;break;case"=":M=E+F+M+_;break;case"^":M=F.slice(0,V=F.length>>1)+E+M+_+F.slice(V);break;default:M=F+E+M+_;break}return i(M)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=wd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ml(h)/3)))*3,m=Math.pow(10,-g),k=WP[8+g/3];return function(y){return p(m*y)+k}}return{format:u,formatPrefix:d}}var qf,xj,FD;lre({thousands:",",grouping:[3],currency:["$",""]});function lre(e){return qf=ore(e),xj=qf.format,FD=qf.formatPrefix,qf}function cre(e){return Math.max(0,-Ml(Math.abs(e)))}function ure(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ml(t)/3)))*3-Ml(Math.abs(e)))}function dre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ml(t)-Ml(e))+1}function KD(e,t,r,n){var s=sy(e,t,r),i;switch(n=wd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ure(s,o))&&(n.precision=i),FD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dre(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cre(s))&&(n.precision=i-(n.type==="%")*2);break}}return xj(n)}function Ni(e){var t=e.domain;return e.ticks=function(r){var n=t();return ny(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return KD(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=ay(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Sp(){var e=mj();return e.copy=function(){return uf(e,Sp())},Gn.apply(e,arguments),Ni(e)}function zD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zD(e).unknown(t)},e=arguments.length?Array.from(e,jp):[0,1],Ni(r)}function VD(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function GP(e){return Math.log(e)}function qP(e){return Math.exp(e)}function fre(e){return-Math.log(-e)}function hre(e){return-Math.exp(-e)}function pre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mre(e){return e===10?pre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YP(e){return(t,r)=>-e(-t,r)}function vj(e){const t=e(GP,qP),r=t.domain;let n=10,s,i;function o(){return s=gre(n),i=mre(n),r()[0]<0?(s=YP(s),i=YP(i),e(fre,hre)):e(GP,qP),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const k=l==null?10:+l;let y=[];if(!(n%1)&&p-h<k){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<k&&(y=ny(u,d,k))}else y=ny(h,p,Math.min(p-h,k)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=wd(c)).precision==null&&(c.trim=!0),c=xj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(VD(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function UD(){const e=vj(ag()).domain([1,10]);return e.copy=()=>uf(e,UD()).base(e.base()),Gn.apply(e,arguments),e}function JP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yj(e){var t=1,r=e(JP(t),XP(t));return r.constant=function(n){return arguments.length?e(JP(t=+n),XP(t)):t},Ni(r)}function HD(){var e=yj(ag());return e.copy=function(){return uf(e,HD()).constant(e.constant())},Gn.apply(e,arguments)}function QP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vre(e){return e<0?-e*e:e*e}function bj(e){var t=e(Qr,Qr),r=1;function n(){return r===1?e(Qr,Qr):r===.5?e(xre,vre):e(QP(r),QP(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ni(t)}function kj(){var e=bj(ag());return e.copy=function(){return uf(e,kj()).exponent(e.exponent())},Gn.apply(e,arguments),e}function yre(){return kj.apply(null,arguments).exponent(.5)}function ZP(e){return Math.sign(e)*e*e}function bre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WD(){var e=mj(),t=[0,1],r=!1,n;function s(i){var o=bre(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(ZP(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,jp)).map(ZP)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return WD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(s,arguments),Ni(s)}function GD(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Nte(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[lf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ui),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return GD().domain(e).range(t).unknown(n)},Gn.apply(i,arguments)}function qD(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[lf(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return qD().domain([e,t]).range(s).unknown(i)},Gn.apply(Ni(o),arguments)}function YD(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[lf(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return YD().domain(e).range(t).unknown(r)},Gn.apply(s,arguments)}const Rx=new Date,Ix=new Date;function pr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>pr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Rx.setTime(+i),Ix.setTime(+o),e(Rx),e(Ix),Math.floor(r(Rx,Ix))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Np=pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Np.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Np);Np.range;const Wa=1e3,Fn=Wa*60,Ga=Fn*60,is=Ga*24,jj=is*7,e2=is*30,Lx=is*365,Zi=pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCSeconds());Zi.range;const wj=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());wj.range;const Sj=pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());Sj.range;const Nj=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getHours());Nj.range;const Pj=pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCHours());Pj.range;const df=pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/is,e=>e.getDate()-1);df.range;const sg=pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/is,e=>e.getUTCDate()-1);sg.range;const JD=pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/is,e=>Math.floor(e/is));JD.range;function Po(e){return pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/jj)}const ig=Po(0),Pp=Po(1),kre=Po(2),jre=Po(3),$l=Po(4),wre=Po(5),Sre=Po(6);ig.range;Pp.range;kre.range;jre.range;$l.range;wre.range;Sre.range;function To(e){return pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jj)}const og=To(0),Tp=To(1),Nre=To(2),Pre=To(3),Rl=To(4),Tre=To(5),Are=To(6);og.range;Tp.range;Nre.range;Pre.range;Rl.range;Tre.range;Are.range;const Tj=pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Tj.range;const Aj=pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Aj.range;const os=pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());os.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});os.range;const ls=pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ls.range;function XD(e,t,r,n,s,i){const o=[[Zi,1,Wa],[Zi,5,5*Wa],[Zi,15,15*Wa],[Zi,30,30*Wa],[i,1,Fn],[i,5,5*Fn],[i,15,15*Fn],[i,30,30*Fn],[s,1,Ga],[s,3,3*Ga],[s,6,6*Ga],[s,12,12*Ga],[n,1,is],[n,2,2*is],[r,1,jj],[t,1,e2],[t,3,3*e2],[e,1,Lx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=uj(([,,k])=>k).right(o,h);if(p===o.length)return e.every(sy(u/Lx,d/Lx,f));if(p===0)return Np.every(Math.max(sy(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Ore,Ere]=XD(ls,Aj,og,JD,Pj,Sj),[Cre,_re]=XD(os,Tj,ig,df,Nj,wj);function Bx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ic(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Dre(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Lc(s),d=Bc(s),f=Lc(i),h=Bc(i),p=Lc(o),g=Bc(o),m=Lc(l),k=Bc(l),y=Lc(c),v=Bc(c),x={a:I,A:V,b:F,B:X,c:null,d:i2,e:i2,f:rne,g:fne,G:pne,H:Zre,I:ene,j:tne,L:QD,m:nne,M:ane,p:q,q:oe,Q:c2,s:u2,S:sne,u:ine,U:one,V:lne,w:cne,W:une,x:null,X:null,y:dne,Y:hne,Z:mne,"%":l2},w={a:Q,A:ce,b:se,B:ie,c:null,d:o2,e:o2,f:yne,g:One,G:Cne,H:gne,I:xne,j:vne,L:eM,m:bne,M:kne,p:xe,q:be,Q:c2,s:u2,S:jne,u:wne,U:Sne,V:Nne,w:Pne,W:Tne,x:null,X:null,y:Ane,Y:Ene,Z:_ne,"%":l2},j={a:C,A:M,b:E,B:_,c:B,d:a2,e:a2,f:Yre,g:n2,G:r2,H:s2,I:s2,j:Hre,L:qre,m:Ure,M:Wre,p:O,q:Vre,Q:Xre,s:Qre,S:Gre,u:Lre,U:Bre,V:Fre,w:Ire,W:Kre,x:G,X:L,y:n2,Y:r2,Z:zre,"%":Jre};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(ue,fe){return function(me){var de=[],je=-1,J=0,A=ue.length,D,z,K;for(me instanceof Date||(me=new Date(+me));++je<A;)ue.charCodeAt(je)===37&&(de.push(ue.slice(J,je)),(z=t2[D=ue.charAt(++je)])!=null?D=ue.charAt(++je):z=D==="e"?" ":"0",(K=fe[D])&&(D=K(me,z)),de.push(D),J=je+1);return de.push(ue.slice(J,je)),de.join("")}}function N(ue,fe){return function(me){var de=Ic(1900,void 0,1),je=P(de,ue,me+="",0),J,A;if(je!=me.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(fe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(J=Fx(Ic(de.y,0,1)),A=J.getUTCDay(),J=A>4||A===0?Tp.ceil(J):Tp(J),J=sg.offset(J,(de.V-1)*7),de.y=J.getUTCFullYear(),de.m=J.getUTCMonth(),de.d=J.getUTCDate()+(de.w+6)%7):(J=Bx(Ic(de.y,0,1)),A=J.getDay(),J=A>4||A===0?Pp.ceil(J):Pp(J),J=df.offset(J,(de.V-1)*7),de.y=J.getFullYear(),de.m=J.getMonth(),de.d=J.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),A="Z"in de?Fx(Ic(de.y,0,1)).getUTCDay():Bx(Ic(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(A+5)%7:de.w+de.U*7-(A+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Fx(de)):Bx(de)}}function P(ue,fe,me,de){for(var je=0,J=fe.length,A=me.length,D,z;je<J;){if(de>=A)return-1;if(D=fe.charCodeAt(je++),D===37){if(D=fe.charAt(je++),z=j[D in t2?fe.charAt(je++):D],!z||(de=z(ue,me,de))<0)return-1}else if(D!=me.charCodeAt(de++))return-1}return de}function O(ue,fe,me){var de=u.exec(fe.slice(me));return de?(ue.p=d.get(de[0].toLowerCase()),me+de[0].length):-1}function C(ue,fe,me){var de=p.exec(fe.slice(me));return de?(ue.w=g.get(de[0].toLowerCase()),me+de[0].length):-1}function M(ue,fe,me){var de=f.exec(fe.slice(me));return de?(ue.w=h.get(de[0].toLowerCase()),me+de[0].length):-1}function E(ue,fe,me){var de=y.exec(fe.slice(me));return de?(ue.m=v.get(de[0].toLowerCase()),me+de[0].length):-1}function _(ue,fe,me){var de=m.exec(fe.slice(me));return de?(ue.m=k.get(de[0].toLowerCase()),me+de[0].length):-1}function B(ue,fe,me){return P(ue,t,fe,me)}function G(ue,fe,me){return P(ue,r,fe,me)}function L(ue,fe,me){return P(ue,n,fe,me)}function I(ue){return o[ue.getDay()]}function V(ue){return i[ue.getDay()]}function F(ue){return c[ue.getMonth()]}function X(ue){return l[ue.getMonth()]}function q(ue){return s[+(ue.getHours()>=12)]}function oe(ue){return 1+~~(ue.getMonth()/3)}function Q(ue){return o[ue.getUTCDay()]}function ce(ue){return i[ue.getUTCDay()]}function se(ue){return c[ue.getUTCMonth()]}function ie(ue){return l[ue.getUTCMonth()]}function xe(ue){return s[+(ue.getUTCHours()>=12)]}function be(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var fe=S(ue+="",x);return fe.toString=function(){return ue},fe},parse:function(ue){var fe=N(ue+="",!1);return fe.toString=function(){return ue},fe},utcFormat:function(ue){var fe=S(ue+="",w);return fe.toString=function(){return ue},fe},utcParse:function(ue){var fe=N(ue+="",!0);return fe.toString=function(){return ue},fe}}}var t2={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,Mre=/^%/,$re=/[\\^$*+?|[\]().{}]/g;function dt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Rre(e){return e.replace($re,"\\$&")}function Lc(e){return new RegExp("^(?:"+e.map(Rre).join("|")+")","i")}function Bc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ire(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Lre(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Bre(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Fre(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kre(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function r2(e,t,r){var n=jr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function n2(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zre(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Vre(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ure(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function a2(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Hre(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function s2(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Wre(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Gre(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qre(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Yre(e,t,r){var n=jr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jre(e,t,r){var n=Mre.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Xre(e,t,r){var n=jr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Qre(e,t,r){var n=jr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function i2(e,t){return dt(e.getDate(),t,2)}function Zre(e,t){return dt(e.getHours(),t,2)}function ene(e,t){return dt(e.getHours()%12||12,t,2)}function tne(e,t){return dt(1+df.count(os(e),e),t,3)}function QD(e,t){return dt(e.getMilliseconds(),t,3)}function rne(e,t){return QD(e,t)+"000"}function nne(e,t){return dt(e.getMonth()+1,t,2)}function ane(e,t){return dt(e.getMinutes(),t,2)}function sne(e,t){return dt(e.getSeconds(),t,2)}function ine(e){var t=e.getDay();return t===0?7:t}function one(e,t){return dt(ig.count(os(e)-1,e),t,2)}function ZD(e){var t=e.getDay();return t>=4||t===0?$l(e):$l.ceil(e)}function lne(e,t){return e=ZD(e),dt($l.count(os(e),e)+(os(e).getDay()===4),t,2)}function cne(e){return e.getDay()}function une(e,t){return dt(Pp.count(os(e)-1,e),t,2)}function dne(e,t){return dt(e.getFullYear()%100,t,2)}function fne(e,t){return e=ZD(e),dt(e.getFullYear()%100,t,2)}function hne(e,t){return dt(e.getFullYear()%1e4,t,4)}function pne(e,t){var r=e.getDay();return e=r>=4||r===0?$l(e):$l.ceil(e),dt(e.getFullYear()%1e4,t,4)}function mne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function o2(e,t){return dt(e.getUTCDate(),t,2)}function gne(e,t){return dt(e.getUTCHours(),t,2)}function xne(e,t){return dt(e.getUTCHours()%12||12,t,2)}function vne(e,t){return dt(1+sg.count(ls(e),e),t,3)}function eM(e,t){return dt(e.getUTCMilliseconds(),t,3)}function yne(e,t){return eM(e,t)+"000"}function bne(e,t){return dt(e.getUTCMonth()+1,t,2)}function kne(e,t){return dt(e.getUTCMinutes(),t,2)}function jne(e,t){return dt(e.getUTCSeconds(),t,2)}function wne(e){var t=e.getUTCDay();return t===0?7:t}function Sne(e,t){return dt(og.count(ls(e)-1,e),t,2)}function tM(e){var t=e.getUTCDay();return t>=4||t===0?Rl(e):Rl.ceil(e)}function Nne(e,t){return e=tM(e),dt(Rl.count(ls(e),e)+(ls(e).getUTCDay()===4),t,2)}function Pne(e){return e.getUTCDay()}function Tne(e,t){return dt(Tp.count(ls(e)-1,e),t,2)}function Ane(e,t){return dt(e.getUTCFullYear()%100,t,2)}function One(e,t){return e=tM(e),dt(e.getUTCFullYear()%100,t,2)}function Ene(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function Cne(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rl(e):Rl.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function _ne(){return"+0000"}function l2(){return"%"}function c2(e){return+e}function u2(e){return Math.floor(+e/1e3)}var Do,rM,nM;Dne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dne(e){return Do=Dre(e),rM=Do.format,Do.parse,nM=Do.utcFormat,Do.utcParse,Do}function Mne(e){return new Date(e)}function $ne(e){return e instanceof Date?+e:+new Date(+e)}function Oj(e,t,r,n,s,i,o,l,c,u){var d=mj(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),k=u("%I %p"),y=u("%a %d"),v=u("%b %d"),x=u("%B"),w=u("%Y");function j(S){return(c(S)<S?p:l(S)<S?g:o(S)<S?m:i(S)<S?k:n(S)<S?s(S)<S?y:v:r(S)<S?x:w)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,$ne)):h().map(Mne)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(VD(N,S)):d},d.copy=function(){return uf(d,Oj(e,t,r,n,s,i,o,l,c,u))},d}function Rne(){return Gn.apply(Oj(Cre,_re,os,Tj,ig,df,Nj,wj,Zi,rM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ine(){return Gn.apply(Oj(Ore,Ere,ls,Aj,og,sg,Pj,Sj,Zi,nM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lg(){var e=0,t=1,r,n,s,i,o=Qr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(xc),u.rangeRound=d(pj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Pi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aM(){var e=Ni(lg()(Qr));return e.copy=function(){return Pi(e,aM())},hs.apply(e,arguments)}function sM(){var e=vj(lg()).domain([1,10]);return e.copy=function(){return Pi(e,sM()).base(e.base())},hs.apply(e,arguments)}function iM(){var e=yj(lg());return e.copy=function(){return Pi(e,iM()).constant(e.constant())},hs.apply(e,arguments)}function Ej(){var e=bj(lg());return e.copy=function(){return Pi(e,Ej()).exponent(e.exponent())},hs.apply(e,arguments)}function Lne(){return Ej.apply(null,arguments).exponent(.5)}function oM(){var e=[],t=Qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((lf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ui),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Ste(e,i/n))},r.copy=function(){return oM(t).domain(e)},hs.apply(r,arguments)}function cg(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Qr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(k){var y,v,x;return arguments.length?([y,v,x]=k,u=Jte(m,[y,v,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(xc),p.rangeRound=g(pj),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function lM(){var e=Ni(cg()(Qr));return e.copy=function(){return Pi(e,lM())},hs.apply(e,arguments)}function cM(){var e=vj(cg()).domain([.1,1,10]);return e.copy=function(){return Pi(e,cM()).base(e.base())},hs.apply(e,arguments)}function uM(){var e=yj(cg());return e.copy=function(){return Pi(e,uM()).constant(e.constant())},hs.apply(e,arguments)}function Cj(){var e=bj(cg());return e.copy=function(){return Pi(e,Cj()).exponent(e.exponent())},hs.apply(e,arguments)}function Bne(){return Cj.apply(null,arguments).exponent(.5)}const d2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yd,scaleDiverging:lM,scaleDivergingLog:cM,scaleDivergingPow:Cj,scaleDivergingSqrt:Bne,scaleDivergingSymlog:uM,scaleIdentity:zD,scaleImplicit:iy,scaleLinear:Sp,scaleLog:UD,scaleOrdinal:dj,scalePoint:Cu,scalePow:kj,scaleQuantile:GD,scaleQuantize:qD,scaleRadial:WD,scaleSequential:aM,scaleSequentialLog:sM,scaleSequentialPow:Ej,scaleSequentialQuantile:oM,scaleSequentialSqrt:Lne,scaleSequentialSymlog:iM,scaleSqrt:yre,scaleSymlog:HD,scaleThreshold:YD,scaleTime:Rne,scaleUtc:Ine,tickFormat:KD},Symbol.toStringTag,{value:"Module"}));var Fne=lc;function Kne(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Fne(o):r(o,l)))var l=o,c=i}return c}var ug=Kne;function zne(e,t){return e>t}var dM=zne,Vne=ug,Une=dM,Hne=gc;function Wne(e){return e&&e.length?Vne(e,Hne,Une):void 0}var Gne=Wne;const dg=pt(Gne);function qne(e,t){return e<t}var fM=qne,Yne=ug,Jne=fM,Xne=gc;function Qne(e){return e&&e.length?Yne(e,Xne,Jne):void 0}var Zne=Qne;const fg=pt(Zne);var eae=Hk,tae=Ra,rae=bD,nae=pn;function aae(e,t){var r=nae(e)?eae:rae;return r(e,tae(t))}var sae=aae,iae=vD,oae=sae;function lae(e,t){return iae(oae(e,t),1)}var cae=lae;const uae=pt(cae);var dae=ij;function fae(e,t){return dae(e,t)}var hae=fae;const ff=pt(hae);var vc=1e9,pae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dj,$t=!0,Hn="[DecimalError] ",io=Hn+"Invalid argument: ",_j=Hn+"Exponent out of range: ",yc=Math.floor,zi=Math.pow,mae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,xr=1e7,Ct=7,hM=9007199254740991,Ap=yc(hM/Ct),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ct;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return es(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return kt(es(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return rr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bn))throw Error(Hn+"NaN");if(r.s<1)throw Error(Hn+(r.s?"NaN":"-Infinity"));return r.eq(bn)?new n(0):($t=!1,t=es(Sd(r,i),Sd(e,i),i),$t=!0,kt(t,s))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gM(t,e):pM(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Hn+"NaN");return r.s?($t=!1,t=es(r,e,0,1).times(e),$t=!0,r.minus(t)):kt(new n(r),s)};Ce.naturalExponential=Ce.exp=function(){return mM(this)};Ce.naturalLogarithm=Ce.ln=function(){return Sd(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pM(t,e):gM(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(io+e);if(t=rr(s)+1,n=s.d.length-1,r=n*Ct+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Hn+"NaN")}for(e=rr(l),$t=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Na(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=yc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(es(l,i,o+2)).times(.5),Na(i.d).slice(0,o)===(t=Na(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(kt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return $t=!0,kt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%xr|0,t=l/xr|0;i[s]=(i[s]+t)%xr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,$t?kt(e,f.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Da(e,0,vc),t===void 0?t=n.rounding:Da(t,0,8),kt(r,e+rr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=xo(n,!0):(Da(e,0,vc),t===void 0?t=s.rounding:Da(t,0,8),n=kt(new s(n),e+1,t),r=xo(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?xo(s):(Da(e,0,vc),t===void 0?t=i.rounding:Da(t,0,8),n=kt(new i(s),e+rr(s)+1,t),r=xo(n.abs(),!1,e+rr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return kt(new t(e),rr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(bn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Hn+"Infinity");return l}if(l.eq(bn))return l;if(n=c.precision,e.eq(bn))return kt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=hM){for(s=new c(bn),t=Math.ceil(n/Ct+4),$t=!1;r%2&&(s=s.times(l),h2(s.d,t)),r=yc(r/2),r!==0;)l=l.times(l),h2(l.d,t);return $t=!0,e.s<0?new c(bn).div(s):kt(s,n)}}else if(i<0)throw Error(Hn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,$t=!1,s=e.times(Sd(l,n+u)),$t=!0,s=mM(s),s.s=i,s};Ce.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=rr(s),n=xo(s,r<=i.toExpNeg||r>=i.toExpPos)):(Da(e,1,vc),t===void 0?t=i.rounding:Da(t,0,8),s=kt(new i(s),e,t),r=rr(s),n=xo(s,e<=r||r<=i.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Da(e,1,vc),t===void 0?t=n.rounding:Da(t,0,8)),kt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function pM(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),$t?kt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Ct),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/xr|0,c[i]%=xr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,$t?kt(t,f):t}function Da(e,t,r){if(e!==~~e||e<t||e>r)throw Error(io+e)}function Na(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ct-n.length,r&&(i+=Vs(r)),i+=n;o=e[t],n=o+"",r=Ct-n.length,r&&(i+=Vs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var es=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%xr|0,o=i/xr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*xr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,g,m,k,y,v,x,w,j,S,N,P,O=n.constructor,C=n.s==s.s?1:-1,M=n.d,E=s.d;if(!n.s)return new O(n);if(!s.s)throw Error(Hn+"Division by zero");for(c=n.e-s.e,N=E.length,j=M.length,p=new O(C),g=p.d=[],u=0;E[u]==(M[u]||0);)++u;if(E[u]>(M[u]||0)&&--c,i==null?v=i=O.precision:o?v=i+(rr(n)-rr(s))+1:v=i,v<0)return new O(0);if(v=v/Ct+2|0,u=0,N==1)for(d=0,E=E[0],v++;(u<j||d)&&v--;u++)x=d*xr+(M[u]||0),g[u]=x/E|0,d=x%E|0;else{for(d=xr/(E[0]+1)|0,d>1&&(E=e(E,d),M=e(M,d),N=E.length,j=M.length),w=N,m=M.slice(0,N),k=m.length;k<N;)m[k++]=0;P=E.slice(),P.unshift(0),S=E[0],E[1]>=xr/2&&++S;do d=0,l=t(E,m,N,k),l<0?(y=m[0],N!=k&&(y=y*xr+(m[1]||0)),d=y/S|0,d>1?(d>=xr&&(d=xr-1),f=e(E,d),h=f.length,k=m.length,l=t(f,m,h,k),l==1&&(d--,r(f,N<h?P:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<k&&f.unshift(0),r(m,f,k),l==-1&&(k=m.length,l=t(E,m,N,k),l<1&&(d++,r(m,N<k?P:E,k))),k=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[k++]=M[w]||0:(m=[M[w]],k=1);while((w++<j||m[0]!==void 0)&&v--)}return g[0]||g.shift(),p.e=c,kt(p,o?i+rr(p)+1:i)}}();function mM(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(rr(e)>16)throw Error(_j+rr(e));if(!e.s)return new d(bn);for($t=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(zi(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(bn),d.precision=l;;){if(s=kt(s.times(e),l),r=r.times(++c),o=i.plus(es(s,r,l)),Na(o.d).slice(0,l)===Na(i.d).slice(0,l)){for(;u--;)i=kt(i.times(i),l);return d.precision=f,t==null?($t=!0,kt(i,f)):i}i=o}}function rr(e){for(var t=e.e*Ct,r=e.d[0];r>=10;r/=10)t++;return t}function Kx(e,t,r){if(t>e.LN10.sd())throw $t=!0,r&&(e.precision=r),Error(Hn+"LN10 precision limit exceeded");return kt(new e(e.LN10),t)}function Vs(e){for(var t="";e--;)t+="0";return t}function Sd(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,k=m.precision;if(p.s<1)throw Error(Hn+(p.s?"NaN":"-Infinity"));if(p.eq(bn))return new m(0);if(t==null?($t=!1,u=k):u=t,p.eq(10))return t==null&&($t=!0),Kx(m,u);if(u+=h,m.precision=u,r=Na(g),n=r.charAt(0),i=rr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Na(p.d),n=r.charAt(0),f++;i=rr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Kx(m,u+2,k).times(i+""),p=Sd(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=k,t==null?($t=!0,kt(p,k)):p;for(l=o=p=es(p.minus(bn),p.plus(bn),u),d=kt(p.times(p),u),s=3;;){if(o=kt(o.times(d),u),c=l.plus(es(o,new m(s),u)),Na(c.d).slice(0,u)===Na(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Kx(m,u+2,k).times(i+""))),l=es(l,new m(f),u),m.precision=k,t==null?($t=!0,kt(l,k)):l;l=c,s+=2}}function f2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=yc(r/Ct),e.d=[],n=(r+1)%Ct,r<0&&(n+=Ct),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ct;n<s;)e.d.push(+t.slice(n,n+=Ct));t=t.slice(n),n=Ct-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),$t&&(e.e>Ap||e.e<-Ap))throw Error(_j+r)}else e.s=0,e.e=0,e.d=[0];return e}function kt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ct,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ct),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ct,s=n-Ct+o}if(r!==void 0&&(i=zi(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/zi(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=rr(e),f.length=1,t=t-i-1,f[0]=zi(10,(Ct-t%Ct)%Ct),e.e=yc(-t/Ct)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=zi(10,Ct-n),f[d]=s>0?(u/zi(10,o-s)%zi(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==xr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=xr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if($t&&(e.e>Ap||e.e<-Ap))throw Error(_j+rr(e));return e}function gM(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$t?kt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Ct),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=xr-1;--c[i],c[s]+=xr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,$t?kt(t,p):t):new h(0)}function xo(e,t,r){var n,s=rr(e),i=Na(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Vs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Vs(-s-1)+i,r&&(n=r-o)>0&&(i+=Vs(n))):s>=o?(i+=Vs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Vs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Vs(n))),e.s<0?"-"+i:i}function h2(e,t){if(e.length>t)return e.length=t,!0}function xM(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(io+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return f2(o,i.toString())}else if(typeof i!="string")throw Error(io+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,mae.test(i))f2(o,i);else throw Error(io+i)}if(s.prototype=Ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=xM,s.config=s.set=gae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function gae(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,r,n,s=["precision",1,vc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(yc(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(io+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(io+r+": "+n);return this}var Dj=xM(pae);bn=new Dj(1);const yt=Dj;function xae(e){return kae(e)||bae(e)||yae(e)||vae()}function vae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yae(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function bae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kae(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jae=function(t){return t},vM={},yM=function(t){return t===vM},p2=function(t){return function r(){return arguments.length===0||arguments.length===1&&yM(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wae=function e(t,r){return t===1?r:p2(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==vM}).length;return o>=t?r.apply(void 0,s):e(t-o,p2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return yM(f)?c.shift():f});return r.apply(void 0,xae(d).concat(c))}))})},hg=function(t){return wae(t.length,t)},dy=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Sae=hg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Nae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jae;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},fy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bM=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Pae(e){var t;return e===0?t=1:t=Math.floor(new yt(e).abs().log(10).toNumber())+1,t}function Tae(e,t,r){for(var n=new yt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var Aae=hg(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Oae=hg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Eae=hg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const pg={rangeStep:Tae,getDigitCount:Pae,interpolateNumber:Aae,uninterpolateNumber:Oae,uninterpolateTruncation:Eae};function hy(e){return Dae(e)||_ae(e)||kM(e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dae(e){if(Array.isArray(e))return py(e)}function Nd(e,t){return Rae(e)||$ae(e,t)||kM(e,t)||Mae()}function Mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kM(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ae(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Rae(e){if(Array.isArray(e))return e}function jM(e){var t=Nd(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function wM(e,t,r){if(e.lte(0))return new yt(0);var n=pg.getDigitCount(e.toNumber()),s=new yt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new yt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new yt(Math.ceil(c))}function Iae(e,t,r){var n=1,s=new yt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new yt(10).pow(pg.getDigitCount(e)-1),s=new yt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new yt(Math.floor(e)))}else e===0?s=new yt(Math.floor((t-1)/2)):r||(s=new yt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Nae(Sae(function(c){return s.add(new yt(c-o).mul(n)).toNumber()}),dy);return l(0,t)}function SM(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var i=wM(new yt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new yt(0):(o=new yt(e).add(t).div(2),o=o.sub(new yt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new yt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?SM(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new yt(l).mul(i)),tickMax:o.add(new yt(c).mul(i))})}function Lae(e){var t=Nd(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=jM([r,n]),c=Nd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hy(dy(0,s-1).map(function(){return 1/0}))):[].concat(hy(dy(0,s-1).map(function(){return-1/0})),[d]);return r>n?fy(f):f}if(u===d)return Iae(u,s,i);var h=SM(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,k=pg.rangeStep(g,m.add(new yt(.1).mul(p)),p);return r>n?fy(k):k}function Bae(e,t){var r=Nd(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jM([n,s]),l=Nd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=wM(new yt(u).sub(c).div(d-1),i,0),h=[].concat(hy(pg.rangeStep(new yt(c),new yt(u).sub(new yt(.99).mul(f)),f)),[u]);return n>s?fy(h):h}var Fae=bM(Lae),Kae=bM(Bae),zae="Invariant failed";function vo(e,t){throw new Error(zae)}var Vae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function Uae(e,t){return qae(e)||Gae(e,t)||Wae(e,t)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wae(e,t){if(e){if(typeof e=="string")return m2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(e,t)}}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qae(e){if(Array.isArray(e))return e}function Yae(e,t){if(e==null)return{};var r=Jae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TM(n.key),n)}}function Zae(e,t,r){return t&&Qae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ese(e,t,r){return t=Ep(t),tse(e,NM()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function tse(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(e)}function rse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NM=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},my(e,t)}function PM(e,t,r){return t=TM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TM(e){var t=ase(e,"string");return Il(t)=="symbol"?t:t+""}function ase(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hf=function(e){function t(){return Xae(this,t),ese(this,t,arguments)}return nse(t,e),Zae(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Yae(n,Vae),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&vo();var g=c.map(function(m){var k=u(m,l),y=k.x,v=k.y,x=k.value,w=k.errorVal;if(!w)return null;var j=[],S,N;if(Array.isArray(w)){var P=Uae(w,2);S=P[0],N=P[1]}else S=N=w;if(i==="vertical"){var O=d.scale,C=v+s,M=C+o,E=C-o,_=O(x-S),B=O(x+N);j.push({x1:B,y1:M,x2:B,y2:E}),j.push({x1:_,y1:C,x2:B,y2:C}),j.push({x1:_,y1:M,x2:_,y2:E})}else if(i==="horizontal"){var G=f.scale,L=y+s,I=L-o,V=L+o,F=G(x-S),X=G(x+N);j.push({x1:I,y1:X,x2:V,y2:X}),j.push({x1:L,y1:F,x2:L,y2:X}),j.push({x1:I,y1:F,x2:V,y2:F})}return re.createElement(ct,Op({className:"recharts-errorBar",key:"bar-".concat(j.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),j.map(function(q){return re.createElement("line",Op({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return re.createElement(ct,{className:"recharts-errorBars"},g)}}])}(re.Component);PM(hf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});PM(hf,"displayName","ErrorBar");function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t,r){return t=ise(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ise(e){var t=ose(e,"string");return Pd(t)=="symbol"?t:t+""}function ose(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AM=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=vn(r,Sa);if(!o)return null;var l=Sa.defaultProps,c=l!==void 0?Oi(Oi({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Oi(Oi({},h),f.props):{},g=p.dataKey,m=p.name,k=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:c.iconType||k||"square",color:Mj(f),value:m||g,payload:p}}),Oi(Oi(Oi({},c),Sa.getWithHeight(o,s)),{},{payload:u,item:o})};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function x2(e){return dse(e)||use(e)||cse(e)||lse()}function lse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function use(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dse(e){if(Array.isArray(e))return gy(e)}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gl(e,t,r){return t=fse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fse(e){var t=hse(e,"string");return Td(t)=="symbol"?t:t+""}function hse(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cr(e,t,r){return Ge(e)||Ge(t)?r:fr(t)?wn(e,t,r):He(t)?t(e):r}function _u(e,t,r,n){var s=uae(e,function(l){return cr(l,t)});if(r==="number"){var i=s.filter(function(l){return Ne(l)||parseFloat(l)});return i.length?[fg(i),dg(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Ge(l)}):s;return o.map(function(l){return fr(l)||l instanceof Date?l:""})}var pse=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Jr(f-d)!==Jr(h-f)){var g=[];if(Jr(h-f)===Jr(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var k=h+c[1]-c[0];g[0]=Math.min(f,(k+f)/2),g[1]=Math.max(f,(k+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var v=Math.min(d,h),x=Math.max(d,h);if(t>(v+f)/2&&t<=(x+f)/2){o=s[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},Mj=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Wt(Wt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},mse=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,k=g.cateAxisId,y=m.filter(function(N){return Za(N.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,x=v!==void 0?Wt(Wt({},v),y[0].props):y[0].props,w=x.barSize,j=x[k];o[j]||(o[j]=[]);var S=Ge(w)?r:w;o[j].push({item:y[0],stackList:y.slice(1),barSize:Ge(S)?void 0:Xr(S,n,0)})}}return o},gse=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Xr(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(w,j){return w+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,k={offset:m-u,size:0};d=o.reduce(function(w,j){var S={item:j.item,position:{offset:k.offset+k.size+u,size:h?p:j.barSize}},N=[].concat(x2(w),[S]);return k=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){N.push({item:P,position:k})}),N},f)}else{var y=Xr(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var v=(s-2*y-(c-1)*u)/c;v>1&&(v>>=0);var x=l===+l?Math.min(v,l):v;d=o.reduce(function(w,j,S){var N=[].concat(x2(w),[{item:j.item,position:{offset:y+(v+u)*S+(v-x)/2,size:x}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){N.push({item:P,position:N[N.length-1].position})}),N},f)}return d},xse=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=AM({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ne(t[p]))return Wt(Wt({},t),{},gl({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ne(t[g]))return Wt(Wt({},t),{},gl({},g,t[g]+(h||0)))}return t},vse=function(t,r,n){return Ge(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OM=function(t,r,n,s,i){var o=r.props.children,l=Sn(o,hf).filter(function(u){return vse(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=cr(d,n);if(Ge(f))return u;var h=Array.isArray(f)?[fg(f),dg(f)]:[f,f],p=c.reduce(function(g,m){var k=cr(d,m,0),y=h[0]-Math.abs(Array.isArray(k)?k[0]:k),v=h[1]+Math.abs(Array.isArray(k)?k[1]:k);return[Math.min(y,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},yse=function(t,r,n,s,i){var o=r.map(function(l){return OM(t,l,n,i,s)}).filter(function(l){return!Ge(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},EM=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&OM(t,c,u,s)||_u(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},CM=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},_M=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},qa=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Jr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!sf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},zx=new WeakMap,Yf=function(t,r){if(typeof r!="function")return t;zx.has(t)||zx.set(t,new WeakMap);var n=zx.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},DM=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:yd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Sp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cu(),realScaleType:"point"}:i==="category"?{scale:yd(),realScaleType:"band"}:{scale:Sp(),realScaleType:"linear"};if(po(s)){var c="scale".concat(Xm(s));return{scale:(d2[c]||Cu)(),realScaleType:d2[c]?c:"point"}}return He(s)?{scale:s}:{scale:Cu(),realScaleType:"point"}},y2=1e-4,MM=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-y2,o=Math.max(s[0],s[1])+y2,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},bse=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},kse=function(t,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},jse=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=sf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},wse=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=sf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Sse={sign:jse,expand:VH,none:Ol,silhouette:UH,wiggle:HH,positive:wse},Nse=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=Sse[n],o=zH().keys(s).value(function(l,c){return+cr(l,c,0)}).order(Kv).offset(i);return o(t)},Pse=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Wt(Wt({},h.type.defaultProps),h.props):h.props,m=g.stackId,k=g.hide;if(k)return f;var y=g[n],v=f[y]||{hasStack:!1,stackGroups:{}};if(fr(m)){var x=v.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};x.items.push(h),v.hasStack=!0,v.stackGroups[m]=x}else v.stackGroups[hc("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Wt(Wt({},f),{},gl({},y,v))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,k){var y=p.stackGroups[k];return Wt(Wt({},m),{},gl({},k,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:Nse(t,y.items,i)}))},g)}return Wt(Wt({},f),{},gl({},h,p))},d)},$M=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Fae(u,i,l);return t.domain([fg(d),dg(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=Kae(f,i,l);return{niceTicks:h}}return null};function b2(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ge(s[t.dataKey])){var l=np(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=cr(s,Ge(o)?t.dataKey:o);return Ge(c)?null:t.scale(c)}var k2=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=cr(o,r.dataKey,r.domain[l]);return Ge(c)?null:r.scale(c)-i/2+s},Tse=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Ase=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Wt(Wt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(fr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Ose=function(t){return t.reduce(function(r,n){return[fg(n.concat([r[0]]).filter(Ne)),dg(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},RM=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Ose(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},j2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=function(t,r,n){if(He(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Ne(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(j2.test(t[0])){var i=+j2.exec(t[0])[1];s[0]=r[0]-i}else He(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Ne(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(w2.test(t[1])){var o=+w2.exec(t[1])[1];s[1]=r[1]+o}else He(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Cp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=lj(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},S2=function(t,r,n){return!t||!t.length||ff(t,wn(n,"type.defaultProps.domain"))?r:t},IM=function(t,r){var n=t.type.defaultProps?Wt(Wt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Wt(Wt({},Re(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Mj(t),value:cr(r,s),type:c,payload:r,chartType:u,hide:d})};function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){LM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LM(e,t,r){return t=Ese(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Cse(e,"string");return Ad(t)=="symbol"?t:t+""}function Cse(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _se(e,t){return Rse(e)||$se(e,t)||Mse(e,t)||Dse()}function Dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mse(e,t){if(e){if(typeof e=="string")return P2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P2(e,t)}}function P2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $se(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rse(e){if(Array.isArray(e))return e}var _p=Math.PI/180,Ise=function(t){return t*180/Math.PI},Pt=function(t,r,n,s){return{x:t+Math.cos(-_p*s)*n,y:r+Math.sin(-_p*s)*n}},BM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Lse=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Xr(t.cx,o,o/2),f=Xr(t.cy,l,l/2),h=BM(o,l,n),p=Xr(t.innerRadius,h,0),g=Xr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(k,y){var v=r[y],x=v.domain,w=v.reversed,j;if(Ge(v.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[p,g]),w&&(j=[j[1],j[0]]);else{j=v.range;var S=j,N=_se(S,2);c=N[0],u=N[1]}var P=DM(v,i),O=P.realScaleType,C=P.scale;C.domain(x).range(j),MM(C);var M=$M(C,Ka(Ka({},v),{},{realScaleType:O})),E=Ka(Ka(Ka({},v),M),{},{range:j,radius:g,realScaleType:O,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Ka(Ka({},k),{},LM({},y,E))},{})},Bse=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Fse=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=Bse({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Ise(u),angleInRadian:u}},Kse=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},zse=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},T2=function(t,r){var n=t.x,s=t.y,i=Fse({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Kse(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Ka(Ka({},r),{},{radius:o,angle:zse(p,r)}):null},FM=function(t){return!b.isValidElement(t)&&!He(t)&&typeof t!="boolean"?t.className:""};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}var Vse=["offset"];function Use(e){return qse(e)||Gse(e)||Wse(e)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(e,t){if(e){if(typeof e=="string")return vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vy(e,t)}}function Gse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qse(e){if(Array.isArray(e))return vy(e)}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yse(e,t){if(e==null)return{};var r=Jse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t,r){return t=Qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Zse(e,"string");return Od(t)=="symbol"?t:t+""}function Zse(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}var eie=function(t){var r=t.value,n=t.formatter,s=Ge(t.children)?r:t.children;return He(n)?n(s):s},tie=function(t,r){var n=Jr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},rie=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,k=(f+h)/2,y=tie(p,g),v=y>=0?1:-1,x,w;s==="insideStart"?(x=p+v*o,w=m):s==="insideEnd"?(x=g-v*o,w=!m):s==="end"&&(x=g+v*o,w=m),w=y<=0?w:!w;var j=Pt(u,d,k,x),S=Pt(u,d,k,x+(w?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),P=Ge(t.id)?hc("recharts-radial-line-"):t.id;return re.createElement("text",Ed({},n,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",l)}),re.createElement("defs",null,re.createElement("path",{id:P,d:N})),re.createElement("textPath",{xlinkHref:"#".concat(P)},r))},nie=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=Pt(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var k=(c+u)/2,y=Pt(o,l,k,h),v=y.x,x=y.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},aie=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,k=m*s,y=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var x={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return or(or({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return or(or({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-k,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return or(or({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+k,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return or(or({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?or({x:l+k,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?or({x:l+u-k,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideTop"?or({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?or({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?or({x:l+k,y:c+h,textAnchor:v,verticalAnchor:g},N):i==="insideTopRight"?or({x:l+u-k,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideBottomLeft"?or({x:l+k,y:c+d-h,textAnchor:v,verticalAnchor:p},N):i==="insideBottomRight"?or({x:l+u-k,y:c+d-h,textAnchor:y,verticalAnchor:p},N):cc(i)&&(Ne(i.x)||Xi(i.x))&&(Ne(i.y)||Xi(i.y))?or({x:l+Xr(i.x,u),y:c+Xr(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):or({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},sie=function(t){return"cx"in t&&Ne(t.cx)};function yr(e){var t=e.offset,r=t===void 0?5:t,n=Yse(e,Vse),s=or({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Ge(l)&&Ge(c)&&!b.isValidElement(u)&&!He(u))return null;if(b.isValidElement(u))return b.cloneElement(u,s);var p;if(He(u)){if(p=b.createElement(u,s),b.isValidElement(p))return p}else p=eie(s);var g=sie(i),m=Re(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return rie(s,p,m);var k=g?nie(s):aie(s);return re.createElement(go,Ed({className:qe("recharts-label",f)},m,k,{breakAll:h}),p)}yr.displayName="Label";var KM=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,k=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(Ne(m)&&Ne(k)){if(Ne(f)&&Ne(h))return{x:f,y:h,width:m,height:k};if(Ne(p)&&Ne(g))return{x:p,y:g,width:m,height:k}}return Ne(f)&&Ne(h)?{x:f,y:h,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},iie=function(t,r){return t?t===!0?re.createElement(yr,{key:"label-implicit",viewBox:r}):fr(t)?re.createElement(yr,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===yr?b.cloneElement(t,{key:"label-implicit",viewBox:r}):re.createElement(yr,{key:"label-implicit",content:t,viewBox:r}):He(t)?re.createElement(yr,{key:"label-implicit",content:t,viewBox:r}):cc(t)?re.createElement(yr,Ed({viewBox:r},t,{key:"label-implicit"})):null:null},oie=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=KM(t),o=Sn(s,yr).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=iie(t.label,r||i);return[l].concat(Use(o))};yr.parseViewBox=KM;yr.renderCallByParent=oie;function lie(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var cie=lie;const uie=pt(cie);function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}var die=["valueAccessor"],fie=["data","dataKey","clockWise","id","textBreakAll"];function hie(e){return xie(e)||gie(e)||mie(e)||pie()}function pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(e,t){if(e){if(typeof e=="string")return yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yy(e,t)}}function gie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xie(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){vie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vie(e,t,r){return t=yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yie(e){var t=bie(e,"string");return Cd(t)=="symbol"?t:t+""}function bie(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C2(e,t){if(e==null)return{};var r=kie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jie=function(t){return Array.isArray(t.value)?uie(t.value):t.value};function Ea(e){var t=e.valueAccessor,r=t===void 0?jie:t,n=C2(e,die),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=C2(n,fie);return!s||!s.length?null:re.createElement(ct,{className:"recharts-label-list"},s.map(function(d,f){var h=Ge(i)?r(d,f):cr(d&&d.payload,i),p=Ge(l)?{}:{id:"".concat(l,"-").concat(f)};return re.createElement(yr,Dp({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:yr.parseViewBox(Ge(o)?d:E2(E2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ea.displayName="LabelList";function wie(e,t){return e?e===!0?re.createElement(Ea,{key:"labelList-implicit",data:t}):re.isValidElement(e)||He(e)?re.createElement(Ea,{key:"labelList-implicit",data:t,content:e}):cc(e)?re.createElement(Ea,Dp({data:t},e,{key:"labelList-implicit"})):null:null}function Sie(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Sn(n,Ea).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=wie(e.label,t);return[i].concat(hie(s))}Ea.renderCallByParent=Sie;function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){Nie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nie(e,t,r){return t=Pie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Tie(e,"string");return _d(t)=="symbol"?t:t+""}function Tie(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aie=function(t,r){var n=Jr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Jf=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/_p,h=u?i:i+o*f,p=Pt(r,n,d,h),g=Pt(r,n,s,h),m=u?i-o*f:i,k=Pt(r,n,d*Math.cos(f*_p),m);return{center:p,circleTangency:g,lineTangency:k,theta:f}},zM=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Aie(o,l),u=o+c,d=Pt(r,n,i,o),f=Pt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Pt(r,n,s,o),g=Pt(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Oie=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Jr(d-u),h=Jf({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,k=Jf({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=k.circleTangency,v=k.lineTangency,x=k.theta,w=c?Math.abs(u-d):Math.abs(u-d)-m-x;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):zM({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var S=Jf({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,P=S.lineTangency,O=S.theta,C=Jf({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=C.circleTangency,E=C.lineTangency,_=C.theta,B=c?Math.abs(u-d):Math.abs(u-d)-O-_;if(B<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Eie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VM=function(t){var r=D2(D2({},Eie),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=qe("recharts-sector",h),g=o-i,m=Xr(l,g,0,!0),k;return m>0&&Math.abs(d-f)<360?k=Oie({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):k=zM({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),re.createElement("path",by({},Re(r,!0),{className:p,d:k,role:"img"}))};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(this,arguments)}function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return t=_ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ie(e){var t=Die(e,"string");return Dd(t)=="symbol"?t:t+""}function Die(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R2={curveBasisClosed:CH,curveBasisOpen:_H,curveBasis:EH,curveBumpX:gH,curveBumpY:xH,curveLinearClosed:DH,curveLinear:Zm,curveMonotoneX:MH,curveMonotoneY:$H,curveNatural:RH,curveStep:IH,curveStepAfter:BH,curveStepBefore:LH},Xf=function(t){return t.x===+t.x&&t.y===+t.y},Fc=function(t){return t.x},Kc=function(t){return t.y},Mie=function(t,r){if(He(t))return t;var n="curve".concat(Xm(t));return(n==="curveMonotone"||n==="curveBump")&&r?R2["".concat(n).concat(r==="vertical"?"Y":"X")]:R2[n]||Zm},$ie=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Mie(n,l),f=u?i.filter(function(m){return Xf(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Xf(m)}):o,g=f.map(function(m,k){return $2($2({},m),{},{base:p[k]})});return l==="vertical"?h=Kf().y(Kc).x1(Fc).x0(function(m){return m.base.x}):h=Kf().x(Fc).y1(Kc).y0(function(m){return m.base.y}),h.defined(Xf).curve(d),h(g)}return l==="vertical"&&Ne(o)?h=Kf().y(Kc).x1(Fc).x0(o):Ne(o)?h=Kf().x(Fc).y1(Kc).y0(o):h=I4().x(Fc).y(Kc),h.defined(Xf).curve(d),h(f)},Mp=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?$ie(t):s;return b.createElement("path",ky({},Re(t,!1),ap(t),{className:qe("recharts-curve",r),d:o,ref:i}))},UM={exports:{}},Rie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Iie=Rie,Lie=Iie;function HM(){}function WM(){}WM.resetWarningCache=HM;var Bie=function(){function e(n,s,i,o,l,c){if(c!==Lie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WM,resetWarningCache:HM};return r.PropTypes=r,r};UM.exports=Bie();var Fie=UM.exports;const ht=pt(Fie),{getOwnPropertyNames:Kie,getOwnPropertySymbols:zie}=Object,{hasOwnProperty:Vie}=Object.prototype;function I2(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Qf(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Uie(e){return e!=null?e[Symbol.toStringTag]:void 0}function L2(e){return Kie(e).concat(zie(e))}const Hie=Object.hasOwn||((e,t)=>Vie.call(e,t));function Ao(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Wie="__v",Gie="__o",qie="_owner",{getOwnPropertyDescriptor:B2,keys:F2}=Object;function Yie(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Jie(e,t){return Ao(e.getTime(),t.getTime())}function Xie(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Qie(e,t){return e===t}function K2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Zie=Ao;function eoe(e,t,r){const n=F2(e);let s=n.length;if(F2(t).length!==s)return!1;for(;s-- >0;)if(!GM(e,t,r,n[s]))return!1;return!0}function zc(e,t,r){const n=L2(e);let s=n.length;if(L2(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!GM(e,t,r,i)||(o=B2(e,i),l=B2(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function toe(e,t){return Ao(e.valueOf(),t.valueOf())}function roe(e,t){return e.source===t.source&&e.flags===t.flags}function z2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function noe(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function aoe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function GM(e,t,r,n){return(n===qie||n===Gie||n===Wie)&&(e.$$typeof||t.$$typeof)?!0:Hie(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const soe="[object Arguments]",ioe="[object Boolean]",ooe="[object Date]",loe="[object Error]",coe="[object Map]",uoe="[object Number]",doe="[object Object]",foe="[object RegExp]",hoe="[object Set]",poe="[object String]",moe="[object URL]",{isArray:goe}=Array,V2=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:U2}=Object,xoe=Object.prototype.toString.call.bind(Object.prototype.toString);function voe({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:s,areNumbersEqual:i,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,k){if(g===m)return!0;if(g==null||m==null)return!1;const y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?i(g,m,k):y==="function"?n(g,m,k):!1;const v=g.constructor;if(v!==m.constructor)return!1;if(v===Object)return o(g,m,k);if(goe(g))return e(g,m,k);if(V2!=null&&V2(g))return d(g,m,k);if(v===Date)return t(g,m,k);if(v===RegExp)return c(g,m,k);if(v===Map)return s(g,m,k);if(v===Set)return u(g,m,k);const x=xoe(g);if(x===ooe)return t(g,m,k);if(x===foe)return c(g,m,k);if(x===coe)return s(g,m,k);if(x===hoe)return u(g,m,k);if(x===doe)return typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,k);if(x===moe)return f(g,m,k);if(x===loe)return r(g,m,k);if(x===soe)return o(g,m,k);if(x===ioe||x===uoe||x===poe)return l(g,m,k);if(h){let w=h[x];if(!w){const j=Uie(g);j&&(w=h[j])}if(w)return w(g,m,k)}return!1}}function yoe({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?zc:Yie,areDatesEqual:Jie,areErrorsEqual:Xie,areFunctionsEqual:Qie,areMapsEqual:r?I2(K2,zc):K2,areNumbersEqual:Zie,areObjectsEqual:r?zc:eoe,arePrimitiveWrappersEqual:toe,areRegExpsEqual:roe,areSetsEqual:r?I2(z2,zc):z2,areTypedArraysEqual:r?zc:noe,areUrlsEqual:aoe,unknownTagComparators:void 0};if(t&&(n=U2({},n,t(n))),e){const s=Qf(n.areArraysEqual),i=Qf(n.areMapsEqual),o=Qf(n.areObjectsEqual),l=Qf(n.areSetsEqual);n=U2({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function boe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function koe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const joe=Ti();Ti({strict:!0});Ti({circular:!0});Ti({circular:!0,strict:!0});Ti({createInternalComparator:()=>Ao});Ti({strict:!0,createInternalComparator:()=>Ao});Ti({circular:!0,createInternalComparator:()=>Ao});Ti({circular:!0,createInternalComparator:()=>Ao,strict:!0});function Ti(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=yoe(e),o=voe(i),l=r?r(o):boe(o);return koe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function woe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function H2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):woe(s)};requestAnimationFrame(n)}function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function Soe(e){return Aoe(e)||Toe(e)||Poe(e)||Noe()}function Noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(e,t){if(e){if(typeof e=="string")return W2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W2(e,t)}}function W2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Toe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aoe(e){if(Array.isArray(e))return e}function Ooe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Soe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){H2(s.bind(null,u),c);return}s(c),H2(s.bind(null,u));return}jy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){qM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qM(e,t,r){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=Coe(e,"string");return Md(t)==="symbol"?t:String(t)}function Coe(e,t){if(Md(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _oe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Doe=function(t){return t},Moe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Du=function(t,r){return Object.keys(r).reduce(function(n,s){return q2(q2({},n),{},qM({},s,t(s,r[s])))},{})},Y2=function(t,r,n){return t.map(function(s){return"".concat(Moe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function $oe(e,t){return Loe(e)||Ioe(e,t)||YM(e,t)||Roe()}function Roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Loe(e){if(Array.isArray(e))return e}function Boe(e){return zoe(e)||Koe(e)||YM(e)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YM(e,t){if(e){if(typeof e=="string")return wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wy(e,t)}}function Koe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zoe(e){if(Array.isArray(e))return wy(e)}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $p=1e-4,JM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},XM=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},J2=function(t,r){return function(n){var s=JM(t,r);return XM(s,n)}},Voe=function(t,r){return function(n){var s=JM(t,r),i=[].concat(Boe(s.map(function(o,l){return o*l}).slice(1)),[0]);return XM(i,n)}},X2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(k){return parseFloat(k)}),d=$oe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=J2(s,o),h=J2(i,l),p=Voe(s,o),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var v=y>1?1:y,x=v,w=0;w<8;++w){var j=f(x)-v,S=p(x);if(Math.abs(j-v)<$p||S<$p)return h(x);x=g(x-j/S)}return h(x)};return m.isStepper=!1,m},Uoe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,k=h*l/1e3+d;return Math.abs(k-f)<$p&&Math.abs(m)<$p?[f,0]:[k,m]};return c.isStepper=!0,c.dt=l,c},Hoe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return X2(s);case"spring":return Uoe();default:if(s.split("(")[0]==="cubic-bezier")return X2(s)}return typeof s=="function"?s:null};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function Q2(e){return qoe(e)||Goe(e)||QM(e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qoe(e){if(Array.isArray(e))return Ny(e)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){Sy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sy(e,t,r){return t=Yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yoe(e){var t=Joe(e,"string");return $d(t)==="symbol"?t:String(t)}function Joe(e,t){if($d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xoe(e,t){return ele(e)||Zoe(e,t)||QM(e,t)||Qoe()}function Qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(e,t){if(e){if(typeof e=="string")return Ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ny(e,t)}}function Ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ele(e){if(Array.isArray(e))return e}var Rp=function(t,r,n){return t+(r-t)*n},Py=function(t){var r=t.from,n=t.to;return r!==n},tle=function e(t,r,n){var s=Du(function(i,o){if(Py(o)){var l=t(o.from,o.to,o.velocity),c=Xoe(l,2),u=c[0],d=c[1];return wr(wr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Du(function(i,o){return Py(o)?wr(wr({},o),{},{velocity:Rp(o.velocity,s[i].velocity,n),from:Rp(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const rle=function(e,t,r,n,s){var i=_oe(e,t),o=i.reduce(function(k,y){return wr(wr({},k),{},Sy({},y,[e[y],t[y]]))},{}),l=i.reduce(function(k,y){return wr(wr({},k),{},Sy({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Du(function(y,v){return v.from},l)},p=function(){return!Object.values(l).filter(Py).length},g=function(y){u||(u=y);var v=y-u,x=v/r.dt;l=tle(r,l,x),s(wr(wr(wr({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var v=(y-d)/n,x=Du(function(j,S){return Rp.apply(void 0,Q2(S).concat([r(v)]))},o);if(s(wr(wr(wr({},e),t),x)),v<1)c=requestAnimationFrame(f);else{var w=Du(function(j,S){return Rp.apply(void 0,Q2(S).concat([r(1)]))},o);s(wr(wr(wr({},e),t),w))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}var nle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ale(e,t){if(e==null)return{};var r=sle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sle(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Vx(e){return cle(e)||lle(e)||ole(e)||ile()}function ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ole(e,t){if(e){if(typeof e=="string")return Ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ty(e,t)}}function lle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cle(e){if(Array.isArray(e))return Ty(e)}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pu(e,t,r){return t=ZM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZM(n.key),n)}}function fle(e,t,r){return t&&dle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZM(e){var t=hle(e,"string");return Ll(t)==="symbol"?t:String(t)}function hle(e,t){if(Ll(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ple(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ay(e,t)}function mle(e){var t=gle();return function(){var n=Ip(e),s;if(t){var i=Ip(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Oy(this,s)}}function Oy(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ey(e)}function Ey(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}var Ma=function(e){ple(r,e);var t=mle(r);function r(n,s){var i;ule(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ey(i)),i.changeStyle=i.changeStyle.bind(Ey(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Oy(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Oy(i);i.state={style:c?pu({},c,u):u}}else i.state={style:{}};return i}return fle(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?pu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(joe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var k={style:c?pu({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(k)}this.runAnimation(aa(aa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=rle(o,l,Hoe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,k,y){if(y===0)return m;var v=k.duration,x=k.easing,w=x===void 0?"ease":x,j=k.style,S=k.properties,N=k.onAnimationEnd,P=y>0?o[y-1]:k,O=S||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat(Vx(m),[i.runJSAnimation.bind(i,{from:P.style,to:j,duration:v,easing:w}),v]);var C=Y2(O,v,w),M=aa(aa(aa({},P.style),j),{},{transition:C});return[].concat(Vx(m),[M,v,N]).filter(Doe)};return this.manager.start([c].concat(Vx(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Ooe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?pu({},l,c):c,k=Y2(Object.keys(m),o,u);g.start([d,i,aa(aa({},m),{},{transition:k}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=ale(s,nle),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,k=m===void 0?{}:m,y=g.className,v=b.cloneElement(p,aa(aa({},c),{},{style:aa(aa({},k),d),className:y}));return v};return u===1?f(b.Children.only(i)):re.createElement("div",null,b.Children.map(i,function(h){return f(h)}))}}]),r}(b.PureComponent);Ma.displayName="Animate";Ma.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ma.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function xle(e,t){return kle(e)||ble(e,t)||yle(e,t)||vle()}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(e,t){if(e){if(typeof e=="string")return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ble(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kle(e){if(Array.isArray(e))return e}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){jle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jle(e,t,r){return t=wle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wle(e){var t=Sle(e,"string");return Rd(t)=="symbol"?t:t+""}function Sle(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aT=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},Nle=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},Ple={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$j=function(t){var r=nT(nT({},Ple),t),n=b.useRef(),s=b.useState(-1),i=xle(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,k=r.animationBegin,y=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=qe("recharts-rectangle",p);return v?re.createElement(Ma,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:v},function(w){var j=w.width,S=w.height,N=w.x,P=w.y;return re.createElement(Ma,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:m,isActive:y,easing:g},re.createElement("path",Lp({},Re(r,!0),{className:x,d:aT(N,P,j,S,h),ref:n})))}):re.createElement("path",Lp({},Re(r,!0),{className:x,d:aT(c,u,d,f,h)}))},Tle=["points","className","baseLinePoints","connectNulls"];function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}function Ale(e,t){if(e==null)return{};var r=Ole(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ole(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sT(e){return Dle(e)||_le(e)||Cle(e)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(e,t){if(e){if(typeof e=="string")return Cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(e,t)}}function _le(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dle(e){if(Array.isArray(e))return Cy(e)}function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iT=function(t){return t&&t.x===+t.x&&t.y===+t.y},Mle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){iT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),iT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Mu=function(t,r){var n=Mle(t);r&&(n=[n.reduce(function(i,o){return[].concat(sT(i),sT(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},$le=function(t,r,n){var s=Mu(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Mu(r.reverse(),n).slice(1))},Rle=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=Ale(t,Tle);if(!r||!r.length)return null;var l=qe("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=$le(r,s,i);return re.createElement("g",{className:l},re.createElement("path",tl({},Re(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?re.createElement("path",tl({},Re(o,!0),{fill:"none",d:Mu(r,i)})):null,c?re.createElement("path",tl({},Re(o,!0),{fill:"none",d:Mu(s,i)})):null)}var d=Mu(r,i);return re.createElement("path",tl({},Re(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}var mg=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=qe("recharts-dot",i);return r===+r&&n===+n&&s===+s?b.createElement("circle",_y({},Re(t,!1),ap(t),{className:o,cx:r,cy:n,r:s})):null};function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}var Ile=["x","y","top","left","width","height","className"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Ble(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ble(e,t,r){return t=Fle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fle(e){var t=Kle(e,"string");return Id(t)=="symbol"?t:t+""}function Kle(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zle(e,t){if(e==null)return{};var r=Vle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ule=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Hle=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=zle(t,Ile),k=Lle({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Ne(n)||!Ne(i)||!Ne(f)||!Ne(p)||!Ne(l)||!Ne(u)?null:re.createElement("path",Dy({},Re(k,!0),{className:qe("recharts-cross",g),d:Ule(n,i,f,p,l,u)}))},Wle=ug,Gle=dM,qle=Ra;function Yle(e,t){return e&&e.length?Wle(e,qle(t),Gle):void 0}var Jle=Yle;const Xle=pt(Jle);var Qle=ug,Zle=Ra,ece=fM;function tce(e,t){return e&&e.length?Qle(e,Zle(t),ece):void 0}var rce=tce;const nce=pt(rce);var ace=["cx","cy","angle","ticks","axisLine"],sce=["ticks","tick","angle","tickFormatter","stroke"];function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$u.apply(this,arguments)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cT(e,t){if(e==null)return{};var r=ice(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ice(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t3(n.key),n)}}function lce(e,t,r){return t&&uT(e.prototype,t),r&&uT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=Bp(t),uce(e,e3()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function uce(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},My(e,t)}function gg(e,t,r){return t=t3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=hce(e,"string");return Bl(t)=="symbol"?t:t+""}function hce(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xg=function(e){function t(){return oce(this,t),cce(this,t,arguments)}return fce(t,e),lce(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Pt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Xle(l,function(d){return d.coordinate||0}),u=nce(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=cT(n,ace),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Pt(s,i,d[0],o),h=Pt(s,i,d[1],o),p=Ei(Ei(Ei({},Re(u,!1)),{},{fill:"none"},Re(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return re.createElement("line",$u({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=cT(s,sce),f=this.getTickTextAnchor(),h=Re(d,!1),p=Re(o,!1),g=i.map(function(m,k){var y=n.getTickValueCoord(m),v=Ei(Ei(Ei(Ei({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:k},y),{},{payload:m});return re.createElement(ct,$u({className:qe("recharts-polar-radius-axis-tick",FM(o)),key:"tick-".concat(m.coordinate)},mo(n.props,m,k)),t.renderTickItem(o,v,c?c(m.value,k):m.value))});return re.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:re.createElement(ct,{className:qe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),yr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return re.isValidElement(n)?o=re.cloneElement(n,s):He(n)?o=n(s):o=re.createElement(go,$u({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);gg(xg,"displayName","PolarRadiusAxis");gg(xg,"axisType","radiusAxis");gg(xg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n3(n.key),n)}}function mce(e,t,r){return t&&fT(e.prototype,t),r&&fT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gce(e,t,r){return t=Fp(t),xce(e,r3()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function xce(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vce(e)}function vce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function yce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$y(e,t)}function vg(e,t,r){return t=n3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3(e){var t=bce(e,"string");return Fl(t)=="symbol"?t:t+""}function bce(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kce=Math.PI/180,hT=1e-5,yg=function(e){function t(){return pce(this,t),gce(this,t,arguments)}return yce(t,e),mce(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Pt(i,o,l,n.coordinate),h=Pt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*kce),o;return i>hT?o=s==="outer"?"start":"end":i<-hT?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ci(Ci({},Re(this.props,!1)),{},{fill:"none"},Re(l,!1));if(c==="circle")return re.createElement(mg,Hi({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Pt(s,i,o,h.coordinate)});return re.createElement(Rle,Hi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Re(this.props,!1),f=Re(o,!1),h=Ci(Ci({},d),{},{fill:"none"},Re(l,!1)),p=i.map(function(g,m){var k=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),v=Ci(Ci(Ci({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:k.x2,y:k.y2});return re.createElement(ct,Hi({className:qe("recharts-polar-angle-axis-tick",FM(o)),key:"tick-".concat(g.coordinate)},mo(n.props,g,m)),l&&re.createElement("line",Hi({className:"recharts-polar-angle-axis-tick-line"},h,k)),o&&t.renderTickItem(o,v,c?c(g.value,m):g.value))});return re.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:re.createElement(ct,{className:qe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return re.isValidElement(n)?o=re.cloneElement(n,s):He(n)?o=n(s):o=re.createElement(go,Hi({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);vg(yg,"displayName","PolarAngleAxis");vg(yg,"axisType","angleAxis");vg(yg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jce=oD,wce=jce(Object.getPrototypeOf,Object),Sce=wce,Nce=ds,Pce=Sce,Tce=fs,Ace="[object Object]",Oce=Function.prototype,Ece=Object.prototype,a3=Oce.toString,Cce=Ece.hasOwnProperty,_ce=a3.call(Object);function Dce(e){if(!Tce(e)||Nce(e)!=Ace)return!1;var t=Pce(e);if(t===null)return!0;var r=Cce.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&a3.call(r)==_ce}var Mce=Dce;const $ce=pt(Mce);var Rce=ds,Ice=fs,Lce="[object Boolean]";function Bce(e){return e===!0||e===!1||Ice(e)&&Rce(e)==Lce}var Fce=Bce;const Kce=pt(Fce);function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(this,arguments)}function zce(e,t){return Wce(e)||Hce(e,t)||Uce(e,t)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(e,t){if(e){if(typeof e=="string")return pT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pT(e,t)}}function pT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wce(e){if(Array.isArray(e))return e}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){Gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gce(e,t,r){return t=qce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qce(e){var t=Yce(e,"string");return Ld(t)=="symbol"?t:t+""}function Yce(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xT=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Jce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xce=function(t){var r=gT(gT({},Jce),t),n=b.useRef(),s=b.useState(-1),i=zce(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,k=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=qe("recharts-trapezoid",p);return y?re.createElement(Ma,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(x){var w=x.upperWidth,j=x.lowerWidth,S=x.height,N=x.x,P=x.y;return re.createElement(Ma,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:m,easing:g},re.createElement("path",Kp({},Re(r,!0),{className:v,d:xT(N,P,w,j,S),ref:n})))}):re.createElement("g",null,re.createElement("path",Kp({},Re(r,!0),{className:v,d:xT(c,u,d,f,h)})))},Qce=["option","shapeType","propTransformer","activeClassName","isActive"];function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function Zce(e,t){if(e==null)return{};var r=eue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return Bd(t)=="symbol"?t:t+""}function nue(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aue(e,t){return zp(zp({},t),e)}function sue(e,t){return e==="symbols"}function yT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return re.createElement($j,r);case"trapezoid":return re.createElement(Xce,r);case"sector":return re.createElement(VM,r);case"symbols":if(sue(t))return re.createElement(ej,r);break;default:return null}}function iue(e){return b.isValidElement(e)?e.props:e}function s3(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?aue:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Zce(e,Qce),u;if(b.isValidElement(t))u=b.cloneElement(t,zp(zp({},c),iue(t)));else if(He(t))u=t(c);else if($ce(t)&&!Kce(t)){var d=s(t,c);u=re.createElement(yT,{shapeType:r,elementProps:d})}else{var f=c;u=re.createElement(yT,{shapeType:r,elementProps:f})}return l?re.createElement(ct,{className:o},u):u}function bg(e,t){return t!=null&&"trapezoids"in e.props}function kg(e,t){return t!=null&&"sectors"in e.props}function Fd(e,t){return t!=null&&"points"in e.props}function oue(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function lue(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function cue(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function uue(e,t){var r;return bg(e,t)?r=oue:kg(e,t)?r=lue:Fd(e,t)&&(r=cue),r}function due(e,t){var r;return bg(e,t)?r="trapezoids":kg(e,t)?r="sectors":Fd(e,t)&&(r="points"),r}function fue(e,t){if(bg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(kg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fd(e,t)?t.payload:{}}function hue(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=due(r,t),i=fue(r,t),o=n.filter(function(c,u){var d=ff(i,c),f=r.props[s].filter(function(g){var m=uue(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var vh;function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(this,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Ln(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function mue(e,t,r){return t&&kT(e.prototype,t),r&&kT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gue(e,t,r){return t=Vp(t),xue(e,i3()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function xue(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(e)}function vue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function yue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ry(e,t)}function Ln(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=bue(e,"string");return Kl(t)=="symbol"?t:t+""}function bue(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ma=function(e){function t(r){var n;return pue(this,t),n=gue(this,t,[r]),Ln(n,"pieRef",null),Ln(n,"sectorRefs",[]),Ln(n,"id",hc("recharts-pie-")),Ln(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),He(s)&&s()}),Ln(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),He(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yue(t,e),mue(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Re(this.props,!1),f=Re(o,!1),h=Re(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,k){var y=(m.startAngle+m.endAngle)/2,v=Pt(m.cx,m.cy,m.outerRadius+p,y),x=jt(jt(jt(jt({},d),m),{},{stroke:"none"},f),{},{index:k,textAnchor:t.getTextAnchor(v.x,m.cx)},v),w=jt(jt(jt(jt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:k,points:[Pt(m.cx,m.cy,m.outerRadius,y),v]}),j=c;return Ge(c)&&Ge(u)?j="value":Ge(c)&&(j=u),re.createElement(ct,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(k)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,x,cr(m,j)))});return re.createElement(ct,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,g=jt(jt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return re.createElement(ct,rl({ref:function(k){k&&!s.sectorRefs.includes(k)&&s.sectorRefs.push(k)},tabIndex:-1,className:"recharts-pie-sector"},mo(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),re.createElement(s3,rl({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return re.createElement(Ma,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,k=[],y=i&&i[0],v=y.startAngle;return i.forEach(function(x,w){var j=h&&h[w],S=w>0?wn(x,"paddingAngle",0):0;if(j){var N=yn(j.endAngle-j.startAngle,x.endAngle-x.startAngle),P=jt(jt({},x),{},{startAngle:v+S,endAngle:v+N(m)+S});k.push(P),v=P.endAngle}else{var O=x.endAngle,C=x.startAngle,M=yn(0,O-C),E=M(m),_=jt(jt({},x),{},{startAngle:v+S,endAngle:v+E+S});k.push(_),v=_.endAngle}}),re.createElement(ct,null,n.renderSectorsStatically(k))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!ff(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Ne(u)||!Ne(d)||!Ne(f)||!Ne(h))return null;var m=qe("recharts-pie",l);return re.createElement(ct,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),yr.renderCallByParent(this.props,null,!1),(!p||g)&&Ea.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(re.isValidElement(n))return re.cloneElement(n,s);if(He(n))return n(s);var o=qe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return re.createElement(Mp,rl({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(re.isValidElement(n))return re.cloneElement(n,s);var o=i;if(He(n)&&(o=n(s),re.isValidElement(o)))return o;var l=qe("recharts-pie-label-text",typeof n!="boolean"&&!He(n)?n.className:"");return re.createElement(go,rl({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);vh=ma;Ln(ma,"displayName","Pie");Ln(ma,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!No.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ln(ma,"parseDeltaAngle",function(e,t){var r=Jr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ln(ma,"getRealPieData",function(e){var t=e.data,r=e.children,n=Re(e,!1),s=Sn(r,ao);return t&&t.length?t.map(function(i,o){return jt(jt(jt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return jt(jt({},n),i.props)}):[]});Ln(ma,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=BM(s,i),l=n+Xr(e.cx,s,s/2),c=r+Xr(e.cy,i,i/2),u=Xr(e.innerRadius,o,0),d=Xr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ln(ma,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,s=vh.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=vh.parseCoordinateOfPie(n,r),m=vh.parseDeltaAngle(o,l),k=Math.abs(m),y=u;Ge(u)&&Ge(f)?(pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ge(u)&&(pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var v=s.filter(function(P){return cr(P,y,0)!==0}).length,x=(k>=360?v:v-1)*c,w=k-v*p-x,j=s.reduce(function(P,O){var C=cr(O,y,0);return P+(Ne(C)?C:0)},0),S;if(j>0){var N;S=s.map(function(P,O){var C=cr(P,y,0),M=cr(P,d,O),E=(Ne(C)?C:0)/j,_;O?_=N.endAngle+Jr(m)*c*(C!==0?1:0):_=o;var B=_+Jr(m)*((C!==0?p:0)+E*w),G=(_+B)/2,L=(g.innerRadius+g.outerRadius)/2,I=[{name:M,value:C,payload:P,dataKey:y,type:h}],V=Pt(g.cx,g.cy,L,G);return N=jt(jt(jt({percent:E,cornerRadius:i,name:M,tooltipPayload:I,midAngle:G,middleRadius:L,tooltipPosition:V},P),g),{},{value:cr(P,y),startAngle:_,endAngle:B,payload:P,paddingAngle:Jr(m)*c}),N})}return jt(jt({},g),{},{sectors:S,data:s})});var kue=Math.ceil,jue=Math.max;function wue(e,t,r,n){for(var s=-1,i=jue(kue((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Sue=wue,Nue=PD,jT=1/0,Pue=17976931348623157e292;function Tue(e){if(!e)return e===0?e:0;if(e=Nue(e),e===jT||e===-jT){var t=e<0?-1:1;return t*Pue}return e===e?e:0}var l3=Tue,Aue=Sue,Oue=ng,Ux=l3;function Eue(e){return function(t,r,n){return n&&typeof n!="number"&&Oue(t,r,n)&&(r=n=void 0),t=Ux(t),r===void 0?(r=t,t=0):r=Ux(r),n=n===void 0?t<r?1:-1:Ux(n),Aue(t,r,n,e)}}var Cue=Eue,_ue=Cue,Due=_ue(),Mue=Due;const Up=pt(Mue);function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c3(e,t,r){return t=$ue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ue(e){var t=Rue(e,"string");return Kd(t)=="symbol"?t:t+""}function Rue(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iue=["Webkit","Moz","O","ms"],Lue=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Iue.reduce(function(i,o){return ST(ST({},i),{},c3({},o+n,r))},{});return s[t]=r,s};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d3(n.key),n)}}function Fue(e,t,r){return t&&PT(e.prototype,t),r&&PT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kue(e,t,r){return t=Wp(t),zue(e,u3()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function zue(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(e)}function Vue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u3=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function Uue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Iy(e,t)}function gn(e,t,r){return t=d3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e){var t=Hue(e,"string");return zl(t)=="symbol"?t:t+""}function Hue(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wue=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Cu().domain(Up(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},TT=function(t){return t.changedTouches&&!!t.changedTouches.length},Vl=function(e){function t(r){var n;return Bue(this,t),n=Kue(this,t,[r]),gn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),gn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),gn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),gn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),gn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),gn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),gn(n,"handleSlideDragStart",function(s){var i=TT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Uue(t,e),Fue(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=cr(i[n],l,n);return He(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var k=this.getIndex({startX:o+m,endX:l+m});(k.startIndex!==h||k.endIndex!==p)&&g&&g(k),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=TT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,k=d.data,y={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),y[o]=u+v;var x=this.getIndex(y),w=x.startIndex,j=x.endIndex,S=function(){var P=k.length-1;return o==="startX"&&(l>c?w%m===0:j%m===0)||l<c&&j===P||o==="endX"&&(l>c?j%m===0:w%m===0)||l>c&&j===P};this.setState(gn(gn({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(gn({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return re.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?re.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,k=c.endIndex,y=Math.max(n,this.props.x),v=Hx(Hx({},Re(this.props,!1)),{},{x:y,y:u,width:d,height:f}),x=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[k])===null||o===void 0?void 0:o.name);return re.createElement(ct,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return re.createElement(ct,{className:"recharts-brush-texts"},re.createElement(go,Hp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),re.createElement(go,Hp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,k=h.isSlideMoving,y=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!Ne(l)||!Ne(c)||!Ne(u)||!Ne(d)||u<=0||d<=0)return null;var x=qe("recharts-brush",i),w=re.Children.count(o)===1,j=Lue("userSelect","none");return re.createElement(ct,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||k||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),re.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return re.isValidElement(n)?i=re.cloneElement(n,s):He(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Hx({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Wue({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(b.PureComponent);gn(Vl,"displayName","Brush");gn(Vl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Gue=oj;function que(e,t){var r;return Gue(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var Yue=que,Jue=Z4,Xue=Ra,Que=Yue,Zue=pn,ede=ng;function tde(e,t,r){var n=Zue(e)?Jue:Que;return r&&ede(e,t,r)&&(t=void 0),n(e,Xue(t))}var rde=tde;const nde=pt(rde);var Ca=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},AT=kD;function ade(e,t,r){t=="__proto__"&&AT?AT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var sde=ade,ide=sde,ode=yD,lde=Ra;function cde(e,t){var r={};return t=lde(t),ode(e,function(n,s,i){ide(r,s,t(n,s,i))}),r}var ude=cde;const dde=pt(ude);function fde(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hde=fde,pde=oj;function mde(e,t){var r=!0;return pde(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var gde=mde,xde=hde,vde=gde,yde=Ra,bde=pn,kde=ng;function jde(e,t,r){var n=bde(e)?xde:vde;return r&&kde(e,t,r)&&(t=void 0),n(e,yde(t))}var wde=jde;const f3=pt(wde);var Sde=["x","y"];function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nde(e,t,r){return t=Pde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Tde(e,"string");return zd(t)=="symbol"?t:t+""}function Tde(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ade(e,t){if(e==null)return{};var r=Ode(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ode(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ede(e,t){var r=e.x,n=e.y,s=Ade(e,Sde),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Vc(Vc(Vc(Vc(Vc({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function ET(e){return re.createElement(s3,Ly({shapeType:"rectangle",propTransformer:Ede,activeClassName:"recharts-active-bar"},e))}var Cde=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Ne(n)||tU(n);return i?t(n,s):(i||vo(),r)}},_de=["value","background"],h3;function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Dde(e,t){if(e==null)return{};var r=Mde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m3(n.key),n)}}function Rde(e,t,r){return t&&_T(e.prototype,t),r&&_T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ide(e,t,r){return t=qp(t),Lde(e,p3()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function Lde(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(e)}function Bde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function Fde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},By(e,t)}function Js(e,t,r){return t=m3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m3(e){var t=Kde(e,"string");return Ul(t)=="symbol"?t:t+""}function Kde(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _a=function(e){function t(){var r;$de(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Ide(this,t,[].concat(s)),Js(r,"state",{isAnimationFinished:!1}),Js(r,"id",hc("recharts-bar-")),Js(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Js(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Fde(t,e),Rde(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=er(er(er({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return re.createElement(ct,Gp({className:"recharts-bar-rectangle"},mo(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),re.createElement(ET,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return re.createElement(Ma,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(k,y){var v=h&&h[y];if(v){var x=yn(v.x,k.x),w=yn(v.y,k.y),j=yn(v.width,k.width),S=yn(v.height,k.height);return er(er({},k),{},{x:x(g),y:w(g),width:j(g),height:S(g)})}if(o==="horizontal"){var N=yn(0,k.height),P=N(g);return er(er({},k),{},{y:k.y+k.height-P,height:P})}var O=yn(0,k.width),C=O(g);return er(er({},k),{},{width:C})});return re.createElement(ct,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!ff(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Re(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Dde(u,_de);if(!f)return null;var p=er(er(er(er(er({},h),{},{fill:"#eee"},f),c),mo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return re.createElement(ET,Gp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Sn(d,hf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(k,y){var v=Array.isArray(k.value)?k.value[1]:k.value;return{x:k.x,y:k.y,value:v,errorVal:cr(k,y)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return re.createElement(ct,g,f.map(function(m){return re.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!i||!i.length)return null;var k=this.state.isAnimationFinished,y=qe("recharts-bar",o),v=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,w=v||x,j=Ge(m)?this.id:m;return re.createElement(ct,{className:y},v||x?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(j)},re.createElement("rect",{x:v?u:u-f/2,y:x?d:d-h/2,width:v?f:f*2,height:x?h:h*2}))):null,re.createElement(ct,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!p||k)&&Ea.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(b.PureComponent);h3=_a;Js(_a,"displayName","Bar");Js(_a,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!No.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Js(_a,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=bse(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,k=m!==void 0?er(er({},m),r.props):r.props,y=k.dataKey,v=k.children,x=k.minPointSize,w=g==="horizontal"?o:i,j=u?w.scale.domain():null,S=Tse({numericAxis:w}),N=Sn(v,ao),P=f.map(function(O,C){var M,E,_,B,G,L;u?M=kse(u[d+C],j):(M=cr(O,y),Array.isArray(M)||(M=[S,M]));var I=Cde(x,h3.defaultProps.minPointSize)(M[1],C);if(g==="horizontal"){var V,F=[o.scale(M[0]),o.scale(M[1])],X=F[0],q=F[1];E=k2({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:O,index:C}),_=(V=q??X)!==null&&V!==void 0?V:void 0,B=p.size;var oe=X-q;if(G=Number.isNaN(oe)?0:oe,L={x:E,y:o.y,width:B,height:o.height},Math.abs(I)>0&&Math.abs(G)<Math.abs(I)){var Q=Jr(G||I)*(Math.abs(I)-Math.abs(G));_-=Q,G+=Q}}else{var ce=[i.scale(M[0]),i.scale(M[1])],se=ce[0],ie=ce[1];if(E=se,_=k2({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:O,index:C}),B=ie-se,G=p.size,L={x:i.x,y:_,width:i.width,height:G},Math.abs(I)>0&&Math.abs(B)<Math.abs(I)){var xe=Jr(B||I)*(Math.abs(I)-Math.abs(B));B+=xe}}return er(er(er({},O),{},{x:E,y:_,width:B,height:G,value:u?M:M[1],payload:O,background:L},N&&N[C]&&N[C].props),{},{tooltipPayload:[IM(r,O)],tooltipPosition:{x:E+B/2,y:_+G/2}})});return er({data:P,layout:g},h)});function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function zde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g3(n.key),n)}}function Vde(e,t,r){return t&&DT(e.prototype,t),r&&DT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jg(e,t,r){return t=g3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=Ude(e,"string");return Vd(t)=="symbol"?t:t+""}function Ude(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x3=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!vn(u,_a);return d.reduce(function(p,g){var m=r[g],k=m.orientation,y=m.domain,v=m.padding,x=v===void 0?{}:v,w=m.mirror,j=m.reversed,S="".concat(k).concat(w?"Mirror":""),N,P,O,C,M;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=y[1]-y[0],_=1/0,B=m.categoricalDomain.sort(aU);if(B.forEach(function(ce,se){se>0&&(_=Math.min((ce||0)-(B[se-1]||0),_))}),Number.isFinite(_)){var G=_/E,L=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=G*L/2),m.padding==="no-gap"){var I=Xr(t.barCategoryGap,G*L),V=G*L/2;N=V-I-(V-I)/L*I}}}s==="xAxis"?P=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:s==="yAxis"?P=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:P=m.range,j&&(P=[P[1],P[0]]);var F=DM(m,i,h),X=F.scale,q=F.realScaleType;X.domain(y).range(P),MM(X);var oe=$M(X,oa(oa({},m),{},{realScaleType:q}));s==="xAxis"?(M=k==="top"&&!w||k==="bottom"&&w,O=n.left,C=f[S]-M*m.height):s==="yAxis"&&(M=k==="left"&&!w||k==="right"&&w,O=f[S]-M*m.width,C=n.top);var Q=oa(oa(oa({},m),oe),{},{realScaleType:q,x:O,y:C,scale:X,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return Q.bandSize=Cp(Q,oe),!m.hide&&s==="xAxis"?f[S]+=(M?-1:1)*Q.height:m.hide||(f[S]+=(M?-1:1)*Q.width),oa(oa({},p),{},jg({},g,Q))},{})},v3=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Hde=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return v3({x:r,y:n},{x:s,y:i})},y3=function(){function e(t){zde(this,e),this.scale=t}return Vde(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();jg(y3,"EPS",1e-4);var Rj=function(t){var r=Object.keys(t).reduce(function(n,s){return oa(oa({},n),{},jg({},s,y3.create(t[s])))},{});return oa(oa({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return dde(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return f3(s,function(i,o){return r[o].isInRange(i)})}})};function Wde(e){return(e%180+180)%180}var Gde=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Wde(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},qde=Ra,Yde=of,Jde=tg;function Xde(e){return function(t,r,n){var s=Object(t);if(!Yde(t)){var i=qde(r);t=Jde(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Qde=Xde,Zde=l3;function efe(e){var t=Zde(e),r=t%1;return t===t?r?t-r:t:0}var tfe=efe,rfe=hD,nfe=Ra,afe=tfe,sfe=Math.max;function ife(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:afe(r);return s<0&&(s=sfe(n+s,0)),rfe(e,nfe(t),s)}var ofe=ife,lfe=Qde,cfe=ofe,ufe=lfe(cfe),dfe=ufe;const ffe=pt(dfe);var hfe=o9(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ij=b.createContext(void 0),Lj=b.createContext(void 0),b3=b.createContext(void 0),k3=b.createContext({}),j3=b.createContext(void 0),w3=b.createContext(0),S3=b.createContext(0),$T=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=hfe(i);return re.createElement(Ij.Provider,{value:n},re.createElement(Lj.Provider,{value:s},re.createElement(k3.Provider,{value:i},re.createElement(b3.Provider,{value:d},re.createElement(j3.Provider,{value:o},re.createElement(w3.Provider,{value:u},re.createElement(S3.Provider,{value:c},l)))))))},pfe=function(){return b.useContext(j3)},N3=function(t){var r=b.useContext(Ij);r==null&&vo();var n=r[t];return n==null&&vo(),n},mfe=function(){var t=b.useContext(Ij);return Ws(t)},gfe=function(){var t=b.useContext(Lj),r=ffe(t,function(n){return f3(n.domain,Number.isFinite)});return r||Ws(t)},P3=function(t){var r=b.useContext(Lj);r==null&&vo();var n=r[t];return n==null&&vo(),n},xfe=function(){var t=b.useContext(b3);return t},vfe=function(){return b.useContext(k3)},Bj=function(){return b.useContext(S3)},Fj=function(){return b.useContext(w3)};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function yfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A3(n.key),n)}}function kfe(e,t,r){return t&&bfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jfe(e,t,r){return t=Yp(t),wfe(e,T3()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function wfe(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sfe(e)}function Sfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T3=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function Nfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fy(e,t)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){Kj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kj(e,t,r){return t=A3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3(e){var t=Pfe(e,"string");return Hl(t)=="symbol"?t:t+""}function Pfe(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tfe(e,t){return Cfe(e)||Efe(e,t)||Ofe(e,t)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(e,t){if(e){if(typeof e=="string")return LT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(e,t)}}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Efe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Cfe(e){if(Array.isArray(e))return e}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}var _fe=function(t,r){var n;return re.isValidElement(t)?n=re.cloneElement(t,r):He(t)?n=t(r):n=re.createElement("line",Ky({},r,{className:"recharts-reference-line-line"})),n},Dfe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Ca(u,"discard")&&!t.y.isInRange(m))return null;var k=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?k.reverse():k}if(r){var y=u.x,v=t.x.apply(y,{position:o});if(Ca(u,"discard")&&!t.x.isInRange(v))return null;var x=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?x.reverse():x}if(s){var w=u.segment,j=w.map(function(S){return t.apply(S,{position:o})});return Ca(u,"discard")&&nde(j,function(S){return!t.isInRange(S)})?null:j}return null};function Mfe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=pfe(),d=N3(s),f=P3(i),h=xfe();if(!u||!h)return null;pa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Rj({x:d.scale,y:f.scale}),g=fr(t),m=fr(r),k=n&&n.length===2,y=Dfe(p,g,m,k,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var v=Tfe(y,2),x=v[0],w=x.x,j=x.y,S=v[1],N=S.x,P=S.y,O=Ca(e,"hidden")?"url(#".concat(u,")"):void 0,C=IT(IT({clipPath:O},Re(e,!0)),{},{x1:w,y1:j,x2:N,y2:P});return re.createElement(ct,{className:qe("recharts-reference-line",l)},_fe(o,C),yr.renderCallByParent(e,Hde({x1:w,y1:j,x2:N,y2:P})))}var wg=function(e){function t(){return yfe(this,t),jfe(this,t,arguments)}return Nfe(t,e),kfe(t,[{key:"render",value:function(){return re.createElement(Mfe,this.props)}}])}(re.Component);Kj(wg,"displayName","ReferenceLine");Kj(wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E3(n.key),n)}}function Ife(e,t,r){return t&&Rfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lfe(e,t,r){return t=Jp(t),Bfe(e,O3()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function Bfe(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ffe(e)}function Ffe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function Kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vy(e,t)}function Sg(e,t,r){return t=E3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3(e){var t=zfe(e,"string");return Wl(t)=="symbol"?t:t+""}function zfe(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vfe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Rj({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ca(t,"discard")&&!o.isInRange(l)?null:l},Ng=function(e){function t(){return $fe(this,t),Lfe(this,t,arguments)}return Kfe(t,e),Ife(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=fr(s),d=fr(i);if(pa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Vfe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,k=g.className,y=Ca(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=FT(FT({clipPath:y},Re(this.props,!0)),{},{cx:h,cy:p});return re.createElement(ct,{className:qe("recharts-reference-dot",k)},t.renderDot(m,v),yr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(re.Component);Sg(Ng,"displayName","ReferenceDot");Sg(Ng,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Sg(Ng,"renderDot",function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):He(e)?r=e(t):r=re.createElement(mg,zy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ufe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_3(n.key),n)}}function Wfe(e,t,r){return t&&Hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gfe(e,t,r){return t=Xp(t),qfe(e,C3()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function qfe(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(e)}function Yfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function Jfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hy(e,t)}function Pg(e,t,r){return t=_3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _3(e){var t=Xfe(e,"string");return Gl(t)=="symbol"?t:t+""}function Xfe(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qfe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Rj({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ca(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:v3(p,g)},Tg=function(e){function t(){return Ufe(this,t),Gfe(this,t,arguments)}return Jfe(t,e),Wfe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;pa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fr(s),h=fr(i),p=fr(o),g=fr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var k=Qfe(f,h,p,g,this.props);if(!k&&!m)return null;var y=Ca(this.props,"hidden")?"url(#".concat(d,")"):void 0;return re.createElement(ct,{className:qe("recharts-reference-area",c)},t.renderRect(m,zT(zT({clipPath:y},Re(this.props,!0)),k)),yr.renderCallByParent(this.props,k))}}])}(re.Component);Pg(Tg,"displayName","ReferenceArea");Pg(Tg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pg(Tg,"renderRect",function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):He(e)?r=e(t):r=re.createElement($j,Uy({},t,{className:"recharts-reference-area-rect"})),r});function D3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Zfe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Gde(n,r)}function ehe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Qp(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function the(e,t){return D3(e,t+1)}function rhe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:D3(n,u)};var m=c,k,y=function(){return k===void 0&&(k=r(g,m)),k},v=g.coordinate,x=c===0||Qp(e,v,y,d,l);x||(c=0,d=o,u+=1),x&&(d=v+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){nhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nhe(e,t,r){return t=ahe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ahe(e){var t=she(e,"string");return Ud(t)=="symbol"?t:t+""}function she(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ihe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var k=e*(p.coordinate+e*m()/2-c);i[h]=p=Dr(Dr({},p),{},{tickCoord:k>0?p.coordinate-k*e:p.coordinate})}else i[h]=p=Dr(Dr({},p),{},{tickCoord:p.coordinate});var y=Qp(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+s),i[h]=Dr(Dr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function ohe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Dr(Dr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Qp(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Dr(Dr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(v){var x=o[v],w,j=function(){return w===void 0&&(w=r(x,v)),w};if(v===0){var S=e*(x.coordinate-e*j()/2-c);o[v]=x=Dr(Dr({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[v]=x=Dr(Dr({},x),{},{tickCoord:x.coordinate});var N=Qp(e,x.tickCoord,j,c,u);N&&(c=x.tickCoord+e*(j()/2+s),o[v]=Dr(Dr({},x),{},{isShow:!0}))},k=0;k<g;k++)m(k);return o}function zj(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(Ne(c)||No.isSsr)return the(s,typeof c=="number"&&Ne(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Eu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,w){var j=He(u)?u(x.value,w):x.value;return p==="width"?Zfe(Eu(j,{fontSize:t,letterSpacing:r}),g,f):Eu(j,{fontSize:t,letterSpacing:r})[p]},k=s.length>=2?Jr(s[1].coordinate-s[0].coordinate):1,y=ehe(i,k,p);return c==="equidistantPreserveStart"?rhe(k,y,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=ohe(k,y,m,s,o,c==="preserveStartEnd"):h=ihe(k,y,m,s,o),h.filter(function(v){return v.isShow}))}var lhe=["viewBox"],che=["viewBox"],uhe=["ticks"];function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nl.apply(this,arguments)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wx(e,t){if(e==null)return{};var r=dhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$3(n.key),n)}}function hhe(e,t,r){return t&&HT(e.prototype,t),r&&HT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function phe(e,t,r){return t=Zp(t),mhe(e,M3()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function mhe(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ghe(e)}function ghe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M3=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function xhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wy(e,t)}function Vj(e,t,r){return t=$3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3(e){var t=vhe(e,"string");return ql(t)=="symbol"?t:t+""}function vhe(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bc=function(e){function t(r){var n;return fhe(this,t),n=phe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return xhe(t,e),hhe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Wx(n,lhe),l=this.props,c=l.viewBox,u=Wx(l,che);return!pl(i,c)||!pl(o,u)||!pl(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,k,y,v,x=f?-1:1,w=n.tickSize||d,j=Ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,k=o+ +!f*c,m=k-x*w,v=m-x*h,y=j;break;case"left":m=k=n.coordinate,g=i+ +!f*l,p=g-x*w,y=p-x*h,v=j;break;case"right":m=k=n.coordinate,g=i+ +f*l,p=g+x*w,y=p+x*h,v=j;break;default:p=g=n.coordinate,k=o+ +f*c,m=k+x*w,v=m+x*h,y=j;break}return{line:{x1:p,y1:m,x2:g,y2:k},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ir(ir(ir({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ir(ir({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ir(ir({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return re.createElement("line",nl({},f,{className:qe("recharts-cartesian-axis-line",wn(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=zj(ir(ir({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),k=Re(this.props,!1),y=Re(d,!1),v=ir(ir({},k),{},{fill:"none"},Re(c,!1)),x=p.map(function(w,j){var S=o.getTickLineCoord(w),N=S.line,P=S.tick,O=ir(ir(ir(ir({textAnchor:g,verticalAnchor:m},k),{},{stroke:"none",fill:u},y),P),{},{index:j,payload:w,visibleTicksCount:p.length,tickFormatter:f});return re.createElement(ct,nl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},mo(o.props,w,j)),c&&re.createElement("line",nl({},v,N,{className:qe("recharts-cartesian-axis-tick-line",wn(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(He(f)?f(w.value,j):w.value).concat(h||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Wx(f,uhe),g=h;return He(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:re.createElement(ct,{className:qe("recharts-cartesian-axis",u),ref:function(k){n.layerReference=k}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=qe(s.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(n)?o=re.cloneElement(n,ir(ir({},s),{},{className:l})):He(n)?o=n(ir(ir({},s),{},{className:l})):o=re.createElement(go,nl({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);Vj(bc,"displayName","CartesianAxis");Vj(bc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yhe=["x1","y1","x2","y2","key"],bhe=["offset"];function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){khe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function khe(e,t,r){return t=jhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jhe(e){var t=whe(e,"string");return yo(t)=="symbol"?t:t+""}function whe(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(this,arguments)}function GT(e,t){if(e==null)return{};var r=She(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function She(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nhe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return re.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function R3(e,t){var r;if(re.isValidElement(e))r=re.cloneElement(e,t);else if(He(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=GT(t,yhe),u=Re(c,!1);u.offset;var d=GT(u,bhe);r=re.createElement("line",eo({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Phe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Lr(Lr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return R3(s,u)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function The(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Lr(Lr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return R3(s,u)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ahe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var k=p%t.length;return re.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ohe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var k=p%n.length;return re.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[k],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ehe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return _M(zj(Lr(Lr(Lr({},bc.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Che=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return _M(zj(Lr(Lr(Lr({},bc.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Mo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ru(e){var t,r,n,s,i,o,l=Bj(),c=Fj(),u=vfe(),d=Lr(Lr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Mo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Mo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Mo.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Mo.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Mo.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Mo.verticalFill,x:Ne(e.x)?e.x:u.left,y:Ne(e.y)?e.y:u.top,width:Ne(e.width)?e.width:u.width,height:Ne(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,k=d.horizontalValues,y=d.verticalValues,v=mfe(),x=gfe();if(!Ne(p)||p<=0||!Ne(g)||g<=0||!Ne(f)||f!==+f||!Ne(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||Ehe,j=d.horizontalCoordinatesGenerator||Che,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&He(j)){var P=k&&k.length,O=j({yAxis:x?Lr(Lr({},x),{},{ticks:P?k:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);pa(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yo(O),"]")),Array.isArray(O)&&(S=O)}if((!N||!N.length)&&He(w)){var C=y&&y.length,M=w({xAxis:v?Lr(Lr({},v),{},{ticks:C?y:v.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);pa(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yo(M),"]")),Array.isArray(M)&&(N=M)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(Nhe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),re.createElement(Phe,eo({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:x})),re.createElement(The,eo({},d,{offset:u,verticalPoints:N,xAxis:v,yAxis:x})),re.createElement(Ahe,eo({},d,{horizontalPoints:S})),re.createElement(Ohe,eo({},d,{verticalPoints:N})))}Ru.displayName="CartesianGrid";var _he=["type","layout","connectNulls","ref"],Dhe=["key"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function qT(e,t){if(e==null)return{};var r=Mhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(this,arguments)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){la(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $o(e){return Lhe(e)||Ihe(e)||Rhe(e)||$he()}function $he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function Ihe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lhe(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L3(n.key),n)}}function Fhe(e,t,r){return t&&JT(e.prototype,t),r&&JT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Khe(e,t,r){return t=em(t),zhe(e,I3()?Reflect.construct(t,r||[],em(e).constructor):t.apply(e,r))}function zhe(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vhe(e)}function Vhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(e)}function Uhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qy(e,t)}function la(e,t,r){return t=L3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=Hhe(e,"string");return Yl(t)=="symbol"?t:t+""}function Hhe(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xs=function(e){function t(){var r;Bhe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Khe(this,t,[].concat(s)),la(r,"state",{isAnimationFinished:!0,totalLength:0}),la(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),la(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,v){return y+v});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat($o(c.slice(0,g)),[f-m]);break}var k=p.length%2===0?[0,h]:[h];return[].concat($o(t.repeat(c,d)),$o(p),k).map(function(y){return"".concat(y,"px")}).join(", ")}),la(r,"id",hc("recharts-line-")),la(r,"pathRef",function(o){r.mainCurve=o}),la(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),la(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Uhe(t,e),Fhe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Sn(d,hf);if(!f)return null;var h=function(m,k){return{x:m.x,y:m.y,value:m.value,errorVal:cr(m.payload,k)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return re.createElement(ct,p,f.map(function(g){return re.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Re(this.props,!1),h=Re(c,!0),p=u.map(function(m,k){var y=mn(mn(mn({key:"dot-".concat(k),r:3},f),h),{},{index:k,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return re.createElement(ct,Iu({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=qT(l,_he),h=mn(mn(mn({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return re.createElement(Mp,Iu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,k=o.height,y=this.state,v=y.prevPoints,x=y.totalLength;return re.createElement(Ma,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(v){var S=v.length/l.length,N=l.map(function(E,_){var B=Math.floor(_*S);if(v[B]){var G=v[B],L=yn(G.x,E.x),I=yn(G.y,E.y);return mn(mn({},E),{},{x:L(j),y:I(j)})}if(g){var V=yn(m*2,E.x),F=yn(k/2,E.y);return mn(mn({},E),{},{x:V(j),y:F(j)})}return mn(mn({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(N,n,s)}var P=yn(0,x),O=P(j),C;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});C=i.getStrokeDasharray(O,x,M)}else C=i.generateSimpleStrokeDasharray(x,O);return i.renderCurveStatically(l,n,s,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ff(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,g=s.height,m=s.isAnimationActive,k=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,x=qe("recharts-line",c),w=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=w||j,N=Ge(k)?this.id:k,P=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,C=O===void 0?3:O,M=P.strokeWidth,E=M===void 0?2:M,_=hU(o)?o:{},B=_.clipDot,G=B===void 0?!0:B,L=C*2+E;return re.createElement(ct,{className:x},w||j?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(N)},re.createElement("rect",{x:w?h:h-p/2,y:j?f:f-g/2,width:w?p:p*2,height:j?g:g*2})),!G&&re.createElement("clipPath",{id:"clipPath-dots-".concat(N)},re.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:g+L}))):null,!v&&this.renderCurve(S,N),this.renderErrorBar(S,N),(v||o)&&this.renderDots(S,G,N),(!m||y)&&Ea.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat($o(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat($o(o),$o(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(re.isValidElement(n))i=re.cloneElement(n,s);else if(He(n))i=n(s);else{var o=s.key,l=qT(s,Dhe),c=qe("recharts-line-dot",typeof n!="boolean"?n.className:"");i=re.createElement(mg,Iu({key:o},l,{className:c}))}return i}}])}(b.PureComponent);la(Xs,"displayName","Line");la(Xs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!No.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});la(Xs,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=cr(h,o);return d==="horizontal"?{x:b2({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:Ge(g)?null:n.scale(g),value:g,payload:h}:{x:Ge(g)?null:r.scale(g),y:b2({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return mn({points:f,layout:d},u)});function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function Whe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ghe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K3(n.key),n)}}function qhe(e,t,r){return t&&Ghe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yhe(e,t,r){return t=tm(t),Jhe(e,B3()?Reflect.construct(t,r||[],tm(e).constructor):t.apply(e,r))}function Jhe(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(e)}function Xhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B3=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(e)}function Qhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yy(e,t)}function F3(e,t,r){return t=K3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3(e){var t=Zhe(e,"string");return Jl(t)=="symbol"?t:t+""}function Zhe(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function epe(e){var t=e.xAxisId,r=Bj(),n=Fj(),s=N3(t);return s==null?null:b.createElement(bc,Jy({},s,{className:qe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return qa(o,!0)}}))}var di=function(e){function t(){return Whe(this,t),Yhe(this,t,arguments)}return Qhe(t,e),qhe(t,[{key:"render",value:function(){return b.createElement(epe,this.props)}}])}(b.Component);F3(di,"displayName","XAxis");F3(di,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function tpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U3(n.key),n)}}function npe(e,t,r){return t&&rpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ape(e,t,r){return t=rm(t),spe(e,z3()?Reflect.construct(t,r||[],rm(e).constructor):t.apply(e,r))}function spe(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ipe(e)}function ipe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!e})()}function rm(e){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(e)}function ope(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xy(e,t)}function V3(e,t,r){return t=U3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3(e){var t=lpe(e,"string");return Xl(t)=="symbol"?t:t+""}function lpe(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}var cpe=function(t){var r=t.yAxisId,n=Bj(),s=Fj(),i=P3(r);return i==null?null:b.createElement(bc,Qy({},i,{className:qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return qa(l,!0)}}))},fi=function(e){function t(){return tpe(this,t),ape(this,t,arguments)}return ope(t,e),npe(t,[{key:"render",value:function(){return b.createElement(cpe,this.props)}}])}(b.Component);V3(fi,"displayName","YAxis");V3(fi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XT(e){return hpe(e)||fpe(e)||dpe(e)||upe()}function upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(e,t){if(e){if(typeof e=="string")return Zy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(e,t)}}function fpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hpe(e){if(Array.isArray(e))return Zy(e)}function Zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eb=function(t,r,n,s,i){var o=Sn(t,wg),l=Sn(t,Ng),c=[].concat(XT(o),XT(l)),u=Sn(t,Tg),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,k){if(k.props[d]===n&&Ca(k.props,"extendDomain")&&Ne(k.props[f])){var y=k.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,k){if(k.props[d]===n&&Ca(k.props,"extendDomain")&&Ne(k.props[p])&&Ne(k.props[g])){var y=k.props[p],v=k.props[g];return[Math.min(m[0],y,v),Math.max(m[1],y,v)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,k){return Ne(k)?[Math.min(m[0],k),Math.max(m[1],k)]:m},h)),h},H3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var k=this._events[m],y=arguments.length,v,x;if(k.fn){switch(k.once&&this.removeListener(u,k.fn,void 0,!0),y){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,f),!0;case 4:return k.fn.call(k.context,d,f,h),!0;case 5:return k.fn.call(k.context,d,f,h,p),!0;case 6:return k.fn.call(k.context,d,f,h,p,g),!0}for(x=1,v=new Array(y-1);x<y;x++)v[x-1]=arguments[x];k.fn.apply(k.context,v)}else{var w=k.length,j;for(x=0;x<w;x++)switch(k[x].once&&this.removeListener(u,k[x].fn,void 0,!0),y){case 1:k[x].fn.call(k[x].context);break;case 2:k[x].fn.call(k[x].context,d);break;case 3:k[x].fn.call(k[x].context,d,f);break;case 4:k[x].fn.call(k[x].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(y-1);j<y;j++)v[j-1]=arguments[j];k[x].fn.apply(k[x].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,k=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&k.push(g[m]);k.length?this._events[p]=k.length===1?k[0]:k:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(H3);var ppe=H3.exports;const mpe=pt(ppe);var Gx=new mpe,qx="recharts.syncMouseEvents";function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W3(n.key),n)}}function vpe(e,t,r){return t&&xpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yx(e,t,r){return t=W3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3(e){var t=ype(e,"string");return Hd(t)=="symbol"?t:t+""}function ype(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bpe=function(){function e(){gpe(this,e),Yx(this,"activeIndex",0),Yx(this,"coordinateList",[]),Yx(this,"layout","horizontal")}return vpe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kpe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Ne(n)&&Ne(s))return!0}return!1}function jpe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function G3(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Pt(t,r,n,s),l=Pt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function wpe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Pt(l,c,u,f),p=Pt(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return G3(t);return[{x:n,y:s},{x:i,y:o}]}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){Spe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Spe(e,t,r){return t=Npe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Npe(e){var t=Ppe(e,"string");return Wd(t)=="symbol"?t:t+""}function Ppe(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tpe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Mp;if(h==="ScatterChart")g=o,m=Hle;else if(h==="BarChart")g=jpe(f,o,c,d),m=$j;else if(f==="radial"){var k=G3(o),y=k.cx,v=k.cy,x=k.radius,w=k.startAngle,j=k.endAngle;g={cx:y,cy:v,startAngle:w,endAngle:j,innerRadius:x,outerRadius:x},m=VM}else g={points:wpe(f,o,c)},m=Mp;var S=Zf(Zf(Zf(Zf({stroke:"#ccc",pointerEvents:"none"},c),g),Re(p,!1)),{},{payload:l,payloadIndex:u,className:qe("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,S):b.createElement(m,S)}var Ape=["item"],Ope=["children","className","width","height","style","compact","title","desc"];function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function ZT(e,t){return _pe(e)||Cpe(e,t)||Y3(e,t)||Epe()}function Epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _pe(e){if(Array.isArray(e))return e}function eA(e,t){if(e==null)return{};var r=Dpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J3(n.key),n)}}function Rpe(e,t,r){return t&&$pe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ipe(e,t,r){return t=nm(t),Lpe(e,q3()?Reflect.construct(t,r||[],nm(e).constructor):t.apply(e,r))}function Lpe(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bpe(e)}function Bpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!e})()}function nm(e){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(e)}function Fpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tb(e,t)}function tb(e,t){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tb(e,t)}function Zl(e){return Vpe(e)||zpe(e)||Y3(e)||Kpe()}function Kpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3(e,t){if(e){if(typeof e=="string")return rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(e,t)}}function zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vpe(e){if(Array.isArray(e))return rb(e)}function rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){Ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ke(e,t,r){return t=J3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3(e){var t=Upe(e,"string");return Ql(t)=="symbol"?t:t+""}function Upe(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hpe={xAxis:["bottom","top"],yAxis:["left","right"]},Wpe={width:"100%",height:"100%"},X3={x:0,y:0};function eh(e){return e}var Gpe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},qpe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ve(ve(ve({},s),Pt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ve(ve(ve({},s),Pt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return X3},Ag=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Zl(l),Zl(u)):l},[]);return o.length>0?o:t&&t.length&&Ne(s)&&Ne(i)?t.slice(s,i+1):[]};function Q3(e){return e==="number"?[0,"auto"]:void 0}var nb=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Ag(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=np(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Zl(c),[IM(u,h)]):c},[])},rA=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Gpe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=pse(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=nb(t,r,d,f),p=qpe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Ype=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=CM(d,i);return n.reduce(function(g,m){var k,y=m.type.defaultProps!==void 0?ve(ve({},m.type.defaultProps),m.props):m.props,v=y.type,x=y.dataKey,w=y.allowDataOverflow,j=y.allowDuplicatedCategory,S=y.scale,N=y.ticks,P=y.includeHidden,O=y[o];if(g[O])return g;var C=Ag(t.data,{graphicalItems:s.filter(function(oe){var Q,ce=o in oe.props?oe.props[o]:(Q=oe.type.defaultProps)===null||Q===void 0?void 0:Q[o];return ce===O}),dataStartIndex:c,dataEndIndex:u}),M=C.length,E,_,B;kpe(y.domain,w,v)&&(E=xy(y.domain,null,w),p&&(v==="number"||S!=="auto")&&(B=_u(C,x,"category")));var G=Q3(v);if(!E||E.length===0){var L,I=(L=y.domain)!==null&&L!==void 0?L:G;if(x){if(E=_u(C,x,v),v==="category"&&p){var V=nU(E);j&&V?(_=E,E=Up(0,M)):j||(E=S2(I,E,m).reduce(function(oe,Q){return oe.indexOf(Q)>=0?oe:[].concat(Zl(oe),[Q])},[]))}else if(v==="category")j?E=E.filter(function(oe){return oe!==""&&!Ge(oe)}):E=S2(I,E,m).reduce(function(oe,Q){return oe.indexOf(Q)>=0||Q===""||Ge(Q)?oe:[].concat(Zl(oe),[Q])},[]);else if(v==="number"){var F=yse(C,s.filter(function(oe){var Q,ce,se=o in oe.props?oe.props[o]:(Q=oe.type.defaultProps)===null||Q===void 0?void 0:Q[o],ie="hide"in oe.props?oe.props.hide:(ce=oe.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return se===O&&(P||!ie)}),x,i,d);F&&(E=F)}p&&(v==="number"||S!=="auto")&&(B=_u(C,x,"category"))}else p?E=Up(0,M):l&&l[O]&&l[O].hasStack&&v==="number"?E=h==="expand"?[0,1]:RM(l[O].stackGroups,c,u):E=EM(C,s.filter(function(oe){var Q=o in oe.props?oe.props[o]:oe.type.defaultProps[o],ce="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return Q===O&&(P||!ce)}),v,d,!0);if(v==="number")E=eb(f,E,O,i,N),I&&(E=xy(I,E,w));else if(v==="category"&&I){var X=I,q=E.every(function(oe){return X.indexOf(oe)>=0});q&&(E=X)}}return ve(ve({},g),{},Ke({},O,ve(ve({},y),{},{axisType:i,domain:E,categoricalDomain:B,duplicateDomain:_,originalDomain:(k=y.domain)!==null&&k!==void 0?k:G,isCategorical:p,layout:d})))},{})},Jpe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Ag(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=CM(d,i),m=-1;return n.reduce(function(k,y){var v=y.type.defaultProps!==void 0?ve(ve({},y.type.defaultProps),y.props):y.props,x=v[o],w=Q3("number");if(!k[x]){m++;var j;return g?j=Up(0,p):l&&l[x]&&l[x].hasStack?(j=RM(l[x].stackGroups,c,u),j=eb(f,j,x,i)):(j=xy(w,EM(h,n.filter(function(S){var N,P,O=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],C="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return O===x&&!C}),"number",d),s.defaultProps.allowDataOverflow),j=eb(f,j,x,i)),ve(ve({},k),{},Ke({},x,ve(ve({axisType:i},s.defaultProps),{},{hide:!0,orientation:wn(Hpe,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:w,isCategorical:g,layout:d})))}return k},{})},Xpe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Sn(d,i),p={};return h&&h.length?p=Ype(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Jpe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Qpe=function(t){var r=Ws(t),n=qa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lj(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cp(r,n)}},nA=function(t){var r=t.children,n=t.defaultShowTooltip,s=vn(r,Vl),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Zpe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Za(r&&r.type);return n&&n.indexOf("Bar")>=0})},aA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},eme=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=vn(f,Vl),g=vn(f,Sa),m=Object.keys(c).reduce(function(j,S){var N=c[S],P=N.orientation;return!N.mirror&&!N.hide?ve(ve({},j),{},Ke({},P,j[P]+N.width)):j},{left:h.left||0,right:h.right||0}),k=Object.keys(o).reduce(function(j,S){var N=o[S],P=N.orientation;return!N.mirror&&!N.hide?ve(ve({},j),{},Ke({},P,wn(j,"".concat(P))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=ve(ve({},k),m),v=y.bottom;p&&(y.bottom+=p.props.height||Vl.defaultProps.height),g&&r&&(y=xse(y,s,n,r));var x=u-y.left-y.right,w=d-y.top-y.bottom;return ve(ve({brushBottom:v},y),{},{width:Math.max(x,0),height:Math.max(w,0)})},tme=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Uj=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,v){var x=v.graphicalItems,w=v.stackGroups,j=v.offset,S=v.updateId,N=v.dataStartIndex,P=v.dataEndIndex,O=y.barSize,C=y.layout,M=y.barGap,E=y.barCategoryGap,_=y.maxBarSize,B=aA(C),G=B.numericAxisName,L=B.cateAxisName,I=Zpe(x),V=[];return x.forEach(function(F,X){var q=Ag(y.data,{graphicalItems:[F],dataStartIndex:N,dataEndIndex:P}),oe=F.type.defaultProps!==void 0?ve(ve({},F.type.defaultProps),F.props):F.props,Q=oe.dataKey,ce=oe.maxBarSize,se=oe["".concat(G,"Id")],ie=oe["".concat(L,"Id")],xe={},be=c.reduce(function(ee,$){var Y=v["".concat($.axisType,"Map")],Z=oe["".concat($.axisType,"Id")];Y&&Y[Z]||$.axisType==="zAxis"||vo();var W=Y[Z];return ve(ve({},ee),{},Ke(Ke({},$.axisType,W),"".concat($.axisType,"Ticks"),qa(W)))},xe),ue=be[L],fe=be["".concat(L,"Ticks")],me=w&&w[se]&&w[se].hasStack&&Ase(F,w[se].stackGroups),de=Za(F.type).indexOf("Bar")>=0,je=Cp(ue,fe),J=[],A=I&&mse({barSize:O,stackGroups:w,totalSize:tme(be,L)});if(de){var D,z,K=Ge(ce)?_:ce,T=(D=(z=Cp(ue,fe,!0))!==null&&z!==void 0?z:K)!==null&&D!==void 0?D:0;J=gse({barGap:M,barCategoryGap:E,bandSize:T!==je?T:je,sizeList:A[ie],maxBarSize:K}),T!==je&&(J=J.map(function(ee){return ve(ve({},ee),{},{position:ve(ve({},ee.position),{},{offset:ee.position.offset-T/2})})}))}var R=F&&F.type&&F.type.getComposedData;R&&V.push({props:ve(ve({},R(ve(ve({},be),{},{displayedData:q,props:y,dataKey:Q,item:F,bandSize:je,barPosition:J,offset:j,stackedData:me,layout:C,dataStartIndex:N,dataEndIndex:P}))),{},Ke(Ke(Ke({key:F.key||"item-".concat(X)},G,be[G]),L,be[L]),"animationId",S)),childIndex:gU(F,y.children),item:F})}),V},p=function(y,v){var x=y.props,w=y.dataStartIndex,j=y.dataEndIndex,S=y.updateId;if(!xN({props:x}))return null;var N=x.children,P=x.layout,O=x.stackOffset,C=x.data,M=x.reverseStackOrder,E=aA(P),_=E.numericAxisName,B=E.cateAxisName,G=Sn(N,n),L=Pse(C,G,"".concat(_,"Id"),"".concat(B,"Id"),O,M),I=c.reduce(function(oe,Q){var ce="".concat(Q.axisType,"Map");return ve(ve({},oe),{},Ke({},ce,Xpe(x,ve(ve({},Q),{},{graphicalItems:G,stackGroups:Q.axisType===_&&L,dataStartIndex:w,dataEndIndex:j}))))},{}),V=eme(ve(ve({},I),{},{props:x,graphicalItems:G}),v==null?void 0:v.legendBBox);Object.keys(I).forEach(function(oe){I[oe]=d(x,I[oe],V,oe.replace("Map",""),r)});var F=I["".concat(B,"Map")],X=Qpe(F),q=h(x,ve(ve({},I),{},{dataStartIndex:w,dataEndIndex:j,updateId:S,graphicalItems:G,stackGroups:L,offset:V}));return ve(ve({formattedGraphicalItems:q,graphicalItems:G,offset:V,stackGroups:L},X),I)},g=function(k){function y(v){var x,w,j;return Mpe(this,y),j=Ipe(this,y,[v]),Ke(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(j,"accessibilityManager",new bpe),Ke(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,P=N.dataStartIndex,O=N.dataEndIndex,C=N.updateId;j.setState(ve({legendBBox:S},p({props:j.props,dataStartIndex:P,dataEndIndex:O,updateId:C},ve(ve({},j.state),{},{legendBBox:S}))))}}),Ke(j,"handleReceiveSyncEvent",function(S,N,P){if(j.props.syncId===S){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ke(j,"handleBrushChange",function(S){var N=S.startIndex,P=S.endIndex;if(N!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var O=j.state.updateId;j.setState(function(){return ve({dataStartIndex:N,dataEndIndex:P},p({props:j.props,dataStartIndex:N,dataEndIndex:P,updateId:O},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:P})}}),Ke(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var P=ve(ve({},N),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var O=j.props.onMouseEnter;He(O)&&O(P,S)}}),Ke(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),P=N?ve(ve({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var O=j.props.onMouseMove;He(O)&&O(P,S)}),Ke(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ke(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ke(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ke(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var P=j.props.onMouseLeave;He(P)&&P(N,S)}),Ke(j,"handleOuterEvent",function(S){var N=mU(S),P=wn(j.props,"".concat(N));if(N&&He(P)){var O,C;/.*touch.*/i.test(N)?C=j.getMouseInfo(S.changedTouches[0]):C=j.getMouseInfo(S),P((O=C)!==null&&O!==void 0?O:{},S)}}),Ke(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var P=ve(ve({},N),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var O=j.props.onClick;He(O)&&O(P,S)}}),Ke(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(He(N)){var P=j.getMouseInfo(S);N(P,S)}}),Ke(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(He(N)){var P=j.getMouseInfo(S);N(P,S)}}),Ke(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ke(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ke(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ke(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(He(N)){var P=j.getMouseInfo(S);N(P,S)}}),Ke(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(He(N)){var P=j.getMouseInfo(S);N(P,S)}}),Ke(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Gx.emit(qx,j.props.syncId,S,j.eventEmitterSymbol)}),Ke(j,"applySyncEvent",function(S){var N=j.props,P=N.layout,O=N.syncMethod,C=j.state.updateId,M=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ve({dataStartIndex:M,dataEndIndex:E},p({props:j.props,dataStartIndex:M,dataEndIndex:E,updateId:C},j.state)));else if(S.activeTooltipIndex!==void 0){var _=S.chartX,B=S.chartY,G=S.activeTooltipIndex,L=j.state,I=L.offset,V=L.tooltipTicks;if(!I)return;if(typeof O=="function")G=O(V,S);else if(O==="value"){G=-1;for(var F=0;F<V.length;F++)if(V[F].value===S.activeLabel){G=F;break}}var X=ve(ve({},I),{},{x:I.left,y:I.top}),q=Math.min(_,X.x+X.width),oe=Math.min(B,X.y+X.height),Q=V[G]&&V[G].value,ce=nb(j.state,j.props.data,G),se=V[G]?{x:P==="horizontal"?V[G].coordinate:q,y:P==="horizontal"?oe:V[G].coordinate}:X3;j.setState(ve(ve({},S),{},{activeLabel:Q,activeCoordinate:se,activePayload:ce,activeTooltipIndex:G}))}else j.setState(S)}),Ke(j,"renderCursor",function(S){var N,P=j.state,O=P.isTooltipActive,C=P.activeCoordinate,M=P.activePayload,E=P.offset,_=P.activeTooltipIndex,B=P.tooltipAxisBandSize,G=j.getTooltipEventType(),L=(N=S.props.active)!==null&&N!==void 0?N:O,I=j.props.layout,V=S.key||"_recharts-cursor";return re.createElement(Tpe,{key:V,activeCoordinate:C,activePayload:M,activeTooltipIndex:_,chartName:r,element:S,isActive:L,layout:I,offset:E,tooltipAxisBandSize:B,tooltipEventType:G})}),Ke(j,"renderPolarAxis",function(S,N,P){var O=wn(S,"type.axisType"),C=wn(j.state,"".concat(O,"Map")),M=S.type.defaultProps,E=M!==void 0?ve(ve({},M),S.props):S.props,_=C&&C[E["".concat(O,"Id")]];return b.cloneElement(S,ve(ve({},_),{},{className:qe(O,_.className),key:S.key||"".concat(N,"-").concat(P),ticks:qa(_,!0)}))}),Ke(j,"renderPolarGrid",function(S){var N=S.props,P=N.radialLines,O=N.polarAngles,C=N.polarRadius,M=j.state,E=M.radiusAxisMap,_=M.angleAxisMap,B=Ws(E),G=Ws(_),L=G.cx,I=G.cy,V=G.innerRadius,F=G.outerRadius;return b.cloneElement(S,{polarAngles:Array.isArray(O)?O:qa(G,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(C)?C:qa(B,!0).map(function(X){return X.coordinate}),cx:L,cy:I,innerRadius:V,outerRadius:F,key:S.key||"polar-grid",radialLines:P})}),Ke(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,P=N.children,O=N.width,C=N.height,M=j.props.margin||{},E=O-(M.left||0)-(M.right||0),_=AM({children:P,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!_)return null;var B=_.item,G=eA(_,Ape);return b.cloneElement(B,ve(ve({},G),{},{chartWidth:O,chartHeight:C,margin:M,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ke(j,"renderTooltip",function(){var S,N=j.props,P=N.children,O=N.accessibilityLayer,C=vn(P,Rr);if(!C)return null;var M=j.state,E=M.isTooltipActive,_=M.activeCoordinate,B=M.activePayload,G=M.activeLabel,L=M.offset,I=(S=C.props.active)!==null&&S!==void 0?S:E;return b.cloneElement(C,{viewBox:ve(ve({},L),{},{x:L.left,y:L.top}),active:I,label:G,payload:I?B:[],coordinate:_,accessibilityLayer:O})}),Ke(j,"renderBrush",function(S){var N=j.props,P=N.margin,O=N.data,C=j.state,M=C.offset,E=C.dataStartIndex,_=C.dataEndIndex,B=C.updateId;return b.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Yf(j.handleBrushChange,S.props.onChange),data:O,x:Ne(S.props.x)?S.props.x:M.left,y:Ne(S.props.y)?S.props.y:M.top+M.height+M.brushBottom-(P.bottom||0),width:Ne(S.props.width)?S.props.width:M.width,startIndex:E,endIndex:_,updateId:"brush-".concat(B)})}),Ke(j,"renderReferenceElement",function(S,N,P){if(!S)return null;var O=j,C=O.clipPathId,M=j.state,E=M.xAxisMap,_=M.yAxisMap,B=M.offset,G=S.type.defaultProps||{},L=S.props,I=L.xAxisId,V=I===void 0?G.xAxisId:I,F=L.yAxisId,X=F===void 0?G.yAxisId:F;return b.cloneElement(S,{key:S.key||"".concat(N,"-").concat(P),xAxis:E[V],yAxis:_[X],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:C})}),Ke(j,"renderActivePoints",function(S){var N=S.item,P=S.activePoint,O=S.basePoint,C=S.childIndex,M=S.isRange,E=[],_=N.props.key,B=N.item.type.defaultProps!==void 0?ve(ve({},N.item.type.defaultProps),N.item.props):N.item.props,G=B.activeDot,L=B.dataKey,I=ve(ve({index:C,dataKey:L,cx:P.x,cy:P.y,r:4,fill:Mj(N.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Re(G,!1)),ap(G));return E.push(y.renderActiveDot(G,I,"".concat(_,"-activePoint-").concat(C))),O?E.push(y.renderActiveDot(G,ve(ve({},I),{},{cx:O.x,cy:O.y}),"".concat(_,"-basePoint-").concat(C))):M&&E.push(null),E}),Ke(j,"renderGraphicChild",function(S,N,P){var O=j.filterFormatItem(S,N,P);if(!O)return null;var C=j.getTooltipEventType(),M=j.state,E=M.isTooltipActive,_=M.tooltipAxis,B=M.activeTooltipIndex,G=M.activeLabel,L=j.props.children,I=vn(L,Rr),V=O.props,F=V.points,X=V.isRange,q=V.baseLine,oe=O.item.type.defaultProps!==void 0?ve(ve({},O.item.type.defaultProps),O.item.props):O.item.props,Q=oe.activeDot,ce=oe.hide,se=oe.activeBar,ie=oe.activeShape,xe=!!(!ce&&E&&I&&(Q||se||ie)),be={};C!=="axis"&&I&&I.props.trigger==="click"?be={onClick:Yf(j.handleItemMouseEnter,S.props.onClick)}:C!=="axis"&&(be={onMouseLeave:Yf(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Yf(j.handleItemMouseEnter,S.props.onMouseEnter)});var ue=b.cloneElement(S,ve(ve({},O.props),be));function fe($){return typeof _.dataKey=="function"?_.dataKey($.payload):null}if(xe)if(B>=0){var me,de;if(_.dataKey&&!_.allowDuplicatedCategory){var je=typeof _.dataKey=="function"?fe:"payload.".concat(_.dataKey.toString());me=np(F,je,G),de=X&&q&&np(q,je,G)}else me=F==null?void 0:F[B],de=X&&q&&q[B];if(ie||se){var J=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[b.cloneElement(S,ve(ve(ve({},O.props),be),{},{activeIndex:J})),null,null]}if(!Ge(me))return[ue].concat(Zl(j.renderActivePoints({item:O,activePoint:me,basePoint:de,childIndex:B,isRange:X})))}else{var A,D=(A=j.getItemByXY(j.state.activeCoordinate))!==null&&A!==void 0?A:{graphicalItem:ue},z=D.graphicalItem,K=z.item,T=K===void 0?S:K,R=z.childIndex,ee=ve(ve(ve({},O.props),be),{},{activeIndex:R});return[b.cloneElement(T,ee),null,null]}return X?[ue,null,null]:[ue,null]}),Ke(j,"renderCustomized",function(S,N,P){return b.cloneElement(S,ve(ve({key:"recharts-customized-".concat(P)},j.props),j.state))}),Ke(j,"renderMap",{CartesianGrid:{handler:eh,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:eh},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:eh},YAxis:{handler:eh},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:hc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=TD(j.triggeredAfterMouseMove,(w=v.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return Fpe(y,k),Rpe(y,[{key:"componentDidMount",value:function(){var x,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,w=x.children,j=x.data,S=x.height,N=x.layout,P=vn(w,Rr);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=nb(this.state,j,O,C),E=this.state.tooltipTicks[O].coordinate,_=(this.state.offset.top+S)/2,B=N==="horizontal",G=B?{x:E,y:_}:{y:E,x:_},L=this.state.formattedGraphicalItems.find(function(V){var F=V.item;return F.type.name==="Scatter"});L&&(G=ve(ve({},G),L.props.points[O].tooltipPosition),M=L.props.points[O].tooltipPayload);var I={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:M,activeCoordinate:G};this.setState(I),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){_v([vn(x.children,Rr)],[vn(this.props.children,Rr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=vn(this.props.children,Rr);if(x&&typeof x.props.shared=="boolean"){var w=x.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),S=zee(j),N={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},P=j.width/w.offsetWidth||1,O=this.inRange(N.chartX,N.chartY,P);if(!O)return null;var C=this.state,M=C.xAxisMap,E=C.yAxisMap,_=this.getTooltipEventType(),B=rA(this.state,this.props.data,this.props.layout,O);if(_!=="axis"&&M&&E){var G=Ws(M).scale,L=Ws(E).scale,I=G&&G.invert?G.invert(N.chartX):null,V=L&&L.invert?L.invert(N.chartY):null;return ve(ve({},N),{},{xValue:I,yValue:V},B)}return B?ve(ve({},N),B):null}},{key:"inRange",value:function(x,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=x/j,P=w/j;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,C=N>=O.left&&N<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return C?{x:N,y:P}:null}var M=this.state,E=M.angleAxisMap,_=M.radiusAxisMap;if(E&&_){var B=Ws(E);return T2({x:N,y:P},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,w=this.getTooltipEventType(),j=vn(x,Rr),S={};j&&w==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=ap(this.props,this.handleOuterEvent);return ve(ve({},N),S)}},{key:"addListener",value:function(){Gx.on(qx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gx.removeListener(qx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,w,j){for(var S=this.state.formattedGraphicalItems,N=0,P=S.length;N<P;N++){var O=S[N];if(O.item===x||O.props.key===x.key||w===Za(O.item.type)&&j===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,w=this.state.offset,j=w.left,S=w.top,N=w.height,P=w.width;return re.createElement("defs",null,re.createElement("clipPath",{id:x},re.createElement("rect",{x:j,y:S,height:N,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(w,j){var S=ZT(j,2),N=S[0],P=S[1];return ve(ve({},w),{},Ke({},N,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(w,j){var S=ZT(j,2),N=S[0],P=S[1];return ve(ve({},w),{},Ke({},N,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(x){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(x){var w=this.state,j=w.formattedGraphicalItems,S=w.activeItem;if(j&&j.length)for(var N=0,P=j.length;N<P;N++){var O=j[N],C=O.props,M=O.item,E=M.type.defaultProps!==void 0?ve(ve({},M.type.defaultProps),M.props):M.props,_=Za(M.type);if(_==="Bar"){var B=(C.data||[]).find(function(V){return Nle(x,V)});if(B)return{graphicalItem:O,payload:B}}else if(_==="RadialBar"){var G=(C.data||[]).find(function(V){return T2(x,V)});if(G)return{graphicalItem:O,payload:G}}else if(bg(O,S)||kg(O,S)||Fd(O,S)){var L=hue({graphicalItem:O,activeTooltipItem:S,itemData:E.data}),I=E.activeIndex===void 0?L:E.activeIndex;return{graphicalItem:ve(ve({},O),{},{childIndex:I}),payload:Fd(O,S)?E.data[L]:O.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!xN(this))return null;var w=this.props,j=w.children,S=w.className,N=w.width,P=w.height,O=w.style,C=w.compact,M=w.title,E=w.desc,_=eA(w,Ope),B=Re(_,!1);if(C)return re.createElement($T,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(Mv,al({},B,{width:N,height:P,title:M,desc:E}),this.renderClipPath(),yN(j,this.renderMap)));if(this.props.accessibilityLayer){var G,L;B.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,B.role=(L=this.props.role)!==null&&L!==void 0?L:"application",B.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},B.onFocus=function(){x.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return re.createElement($T,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",al({className:qe("recharts-wrapper",S),style:ve({position:"relative",cursor:"default",width:N,height:P},O)},I,{ref:function(F){x.container=F}}),re.createElement(Mv,al({},B,{width:N,height:P,title:M,desc:E,style:Wpe}),this.renderClipPath(),yN(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ke(g,"displayName",r),Ke(g,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ke(g,"getDerivedStateFromProps",function(k,y){var v=k.dataKey,x=k.data,w=k.children,j=k.width,S=k.height,N=k.layout,P=k.stackOffset,O=k.margin,C=y.dataStartIndex,M=y.dataEndIndex;if(y.updateId===void 0){var E=nA(k);return ve(ve(ve({},E),{},{updateId:0},p(ve(ve({props:k},E),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:x,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:P,prevMargin:O,prevChildren:w})}if(v!==y.prevDataKey||x!==y.prevData||j!==y.prevWidth||S!==y.prevHeight||N!==y.prevLayout||P!==y.prevStackOffset||!pl(O,y.prevMargin)){var _=nA(k),B={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=ve(ve({},rA(y,x,N)),{},{updateId:y.updateId+1}),L=ve(ve(ve({},_),B),G);return ve(ve(ve({},L),p(ve({props:k},L),y)),{},{prevDataKey:v,prevData:x,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:P,prevMargin:O,prevChildren:w})}if(!_v(w,y.prevChildren)){var I,V,F,X,q=vn(w,Vl),oe=q&&(I=(V=q.props)===null||V===void 0?void 0:V.startIndex)!==null&&I!==void 0?I:C,Q=q&&(F=(X=q.props)===null||X===void 0?void 0:X.endIndex)!==null&&F!==void 0?F:M,ce=oe!==C||Q!==M,se=!Ge(x),ie=se&&!ce?y.updateId:y.updateId+1;return ve(ve({updateId:ie},p(ve(ve({props:k},y),{},{updateId:ie,dataStartIndex:oe,dataEndIndex:Q}),y)),{},{prevChildren:w,dataStartIndex:oe,dataEndIndex:Q})}return null}),Ke(g,"renderActiveDot",function(k,y,v){var x;return b.isValidElement(k)?x=b.cloneElement(k,y):He(k)?x=k(y):x=re.createElement(mg,y),re.createElement(ct,{className:"recharts-active-dot",key:v},x)});var m=b.forwardRef(function(y,v){return re.createElement(g,al({},y,{ref:v}))});return m.displayName=g.displayName,m},rme=Uj({chartName:"LineChart",GraphicalChild:Xs,axisComponents:[{axisType:"xAxis",AxisComp:di},{axisType:"yAxis",AxisComp:fi}],formatAxisMap:x3}),ab=Uj({chartName:"BarChart",GraphicalChild:_a,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:di},{axisType:"yAxis",AxisComp:fi}],formatAxisMap:x3}),Jx=Uj({chartName:"PieChart",GraphicalChild:ma,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yg},{axisType:"radiusAxis",AxisComp:xg}],formatAxisMap:Lse,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const nme=["Urea","DAP","KCL","ZA","Dolomite","Clay"],Ro=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],mu=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Uc=["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],ame=({isOpen:e,onClose:t,monthName:r,year:n,totalHours:s,details:i,isHighest:o,rank:l,averageHours:c})=>{const u=b.useMemo(()=>{const f={};return i.forEach(h=>{const p=h.item||"Unknown";f[p]||(f[p]={total:0,count:0,details:[]}),f[p].total+=ne(h.downtime),f[p].count+=1,f[p].details.push(h)}),Object.entries(f).map(([h,p])=>({item:h,...p})).sort((h,p)=>p.total-h.total)},[i]),d=c>0?((s-c)/c*100).toFixed(1):"0";return a.jsx(Xe,{isOpen:e,onClose:t,size:"full",title:"",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:["Detail Downtime ",r," ",n]}),o&&a.jsxs(Te,{variant:"danger",className:"animate-pulse",children:[a.jsx(Al,{className:"h-3 w-3 mr-1"}),"Tertinggi"]}),l<=3&&!o&&a.jsxs(Te,{variant:"warning",children:["Top ",l]})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Analisis detail downtime per equipment untuk bulan ",r]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(Un,{className:"h-5 w-5 text-dark-500 dark:text-dark-400"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:Ae("p-4 rounded-xl",o?"bg-gradient-to-br from-red-500 to-rose-600 text-white":"bg-gradient-to-br from-amber-500 to-orange-500 text-white"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Qa,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Total Downtime"})]}),a.jsx("p",{className:"text-3xl font-bold",children:H(s)}),a.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Cm,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Jumlah Kejadian"})]}),a.jsx("p",{className:"text-3xl font-bold",children:i.length}),a.jsx("p",{className:"text-sm opacity-80",children:"Kejadian"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(fl,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Rata-rata/Kejadian"})]}),a.jsx("p",{className:"text-3xl font-bold",children:i.length>0?(s/i.length).toFixed(1):"0"}),a.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),a.jsxs("div",{className:Ae("p-4 rounded-xl",Number(d)>0?"bg-gradient-to-br from-red-400 to-red-500 text-white":"bg-gradient-to-br from-green-500 to-emerald-500 text-white"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Number(d)>0?a.jsx(ci,{className:"h-4 w-4 opacity-80"}):a.jsx(hl,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"vs Rata-rata Bulanan"})]}),a.jsxs("p",{className:"text-3xl font-bold",children:[Number(d)>0?"+":"",d,"%"]}),a.jsx("p",{className:"text-sm opacity-80",children:Number(d)>0?"Di atas rata-rata":"Di bawah rata-rata"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(h8,{className:"h-5 w-5 text-amber-500"}),"Breakdown per Equipment"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,6).map((f,h)=>{const p=s>0?(f.total/s*100).toFixed(1):"0";return a.jsxs(bt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:Ae("p-4 rounded-xl border transition-all duration-300 hover:shadow-lg",h===0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-dark-800 border-dark-100 dark:border-dark-700"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:Ae("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",h===0?"bg-red-500 text-white":"bg-dark-200 dark:bg-dark-600 text-dark-700 dark:text-dark-200"),children:h+1}),a.jsx("h4",{className:Ae("font-semibold",h===0?"text-red-700 dark:text-red-400":"text-dark-900 dark:text-white"),children:f.item})]}),a.jsxs(Te,{variant:h===0?"danger":"warning",size:"sm",children:[p,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total:"}),a.jsxs("span",{className:Ae("ml-1 font-bold",h===0?"text-red-600 dark:text-red-400":"text-dark-900 dark:text-white"),children:[H(f.total)," Jam"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kejadian:"}),a.jsxs("span",{className:"ml-1 font-medium text-dark-700 dark:text-dark-200",children:[f.count,"x"]})]})]}),a.jsx("div",{className:"mt-3 h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:a.jsx(bt.div,{initial:{width:0},animate:{width:`${p}%`},transition:{delay:h*.1+.3,duration:.5},className:Ae("h-full rounded-full",h===0?"bg-gradient-to-r from-red-500 to-rose-500":"bg-gradient-to-r from-amber-400 to-orange-500")})})]},f.item)})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4",children:["Detail Kejadian (",i.length," record)"]}),a.jsx("div",{className:"overflow-x-auto rounded-xl border border-dark-100 dark:border-dark-700",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"No"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Tanggal"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Equipment"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Deskripsi"}),a.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Off"}),a.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Start"}),a.jsx("th",{className:"px-4 py-3 text-right font-semibold text-dark-700 dark:text-dark-200",children:"Downtime (Jam)"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:i.sort((f,h)=>ne(h.downtime)-ne(f.downtime)).slice(0,20).map((f,h)=>a.jsxs("tr",{className:Ae("hover:bg-dark-50 dark:hover:bg-dark-700/50 transition-colors",h===0&&"bg-red-50 dark:bg-red-900/10"),children:[a.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300",children:h+1}),a.jsx("td",{className:"px-4 py-3 text-dark-900 dark:text-white font-medium",children:new Date(f.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(Te,{variant:h===0?"danger":"default",size:"sm",children:f.item})}),a.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300 max-w-xs truncate",children:f.deskripsi||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamOff||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamStart||"-"}),a.jsx("td",{className:Ae("px-4 py-3 text-right font-bold",h===0?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:H(ne(f.downtime))})]},h))}),i.length>20&&a.jsx("tfoot",{className:"bg-dark-50 dark:bg-dark-800",children:a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-4 py-3 text-center text-dark-500 dark:text-dark-400",children:["... dan ",i.length-20," record lainnya"]})})})]})})]})]})})},sme=({downtimeData:e,year:t,plantLabel:r})=>{const[n,s]=b.useState(null),i=b.useMemo(()=>{const d=mu.map((h,p)=>{const g=e.filter(k=>k.tanggal?new Date(k.tanggal).getMonth()===p:!1),m=g.reduce((k,y)=>k+ne(y.downtime),0);return{month:h,monthIndex:p,hours:m,count:g.length,isHighest:!1,rank:0,details:g.map(k=>({item:k.item,deskripsi:k.deskripsi,tanggal:k.tanggal,jamOff:k.jamOff,jamStart:k.jamStart,downtime:ne(k.downtime)}))}});return[...d].filter(h=>h.hours>0).sort((h,p)=>p.hours-h.hours).forEach((h,p)=>{const g=d.find(m=>m.monthIndex===h.monthIndex);g&&(g.rank=p+1,p===0&&(g.isHighest=!0))}),d},[e]),o=b.useMemo(()=>{const d=i.reduce((m,k)=>m+k.hours,0),f=i.filter(m=>m.hours>0).length,h=f>0?d/f:0,p=i.find(m=>m.isHighest),g=(p==null?void 0:p.hours)||0;return{totalHours:d,averageHours:h,highestMonth:p,maxHours:g,monthsWithData:f}},[i]),l=d=>{d.hours>0&&s(d)},c=d=>d.isHighest?"#ef4444":d.rank===2?"#f97316":d.rank===3?"#f59e0b":"#3b82f6",u=d=>{const{x:f,y:h,width:p,value:g,index:m}=d,k=i[m];return g===0?null:a.jsxs("g",{children:[a.jsx("text",{x:f+p/2,y:h-10,fill:k.isHighest?"#ef4444":"#64748b",textAnchor:"middle",fontSize:11,fontWeight:k.isHighest?"bold":"normal",children:H(g)}),k.isHighest&&a.jsx("text",{x:f+p/2,y:h-24,fill:"#ef4444",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:" TERTINGGI"})]})};return a.jsxs(a.Fragment,{children:[a.jsxs(ke,{className:"overflow-hidden",children:[a.jsx(nt,{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white py-5",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Al,{className:"h-5 w-5"}),a.jsxs(at,{className:"text-white text-lg",children:["Analisis Downtime Bulanan ",t]})]}),a.jsxs("p",{className:"text-red-100 text-sm",children:[r,"  Klik bar untuk melihat detail"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-red-100 text-xs",children:"Total Tahunan"}),a.jsxs("p",{className:"text-xl font-bold",children:[H(o.totalHours)," Jam"]})]}),o.highestMonth&&a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm border-2 border-white/30",children:[a.jsxs("p",{className:"text-red-100 text-xs flex items-center gap-1",children:[a.jsx($_,{className:"h-3 w-3"})," Bulan Tertinggi"]}),a.jsx("p",{className:"text-xl font-bold",children:o.highestMonth.month}),a.jsxs("p",{className:"text-red-100 text-xs",children:[H(o.highestMonth.hours)," Jam"]})]})]})]})}),a.jsxs(Mr,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Total Kejadian"}),a.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.length})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 uppercase tracking-wider mb-1",children:"Rata-rata/Bulan"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:[H(o.averageHours)," Jam"]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Bulan Dengan Data"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[o.monthsWithData," / 12"]})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-1",children:"Rata-rata/Kejadian"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[e.length>0?(o.totalHours/e.length).toFixed(1):"0"," ","Jam"]})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(Ki,{width:"100%",height:"100%",children:a.jsxs(ab,{data:i,margin:{top:40,right:30,left:20,bottom:20},children:[a.jsx(Ru,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(di,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1}),a.jsx(fi,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Jam",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#64748b"}}}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px 16px"},content:({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload;return a.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-100 dark:border-dark-700 p-4 min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[h.month," ",t]}),h.isHighest&&a.jsx(Te,{variant:"danger",size:"sm",children:"Tertinggi"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Downtime:"}),a.jsxs("span",{className:Ae("ml-2 font-bold",h.isHighest?"text-red-600":"text-amber-600"),children:[H(h.hours)," Jam"]})]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian:"}),a.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:[h.count," kejadian"]})]}),h.rank>0&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Peringkat:"}),a.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:["#",h.rank," dari ",o.monthsWithData," bulan"]})]})]}),h.hours>0&&a.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-3 pt-2 border-t border-dark-100 dark:border-dark-700",children:"Klik untuk melihat detail "})]})}return null}}),o.averageHours>0&&a.jsx(wg,{y:o.averageHours,stroke:"#22c55e",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Rata-rata: ${H(o.averageHours)} Jam`,position:"right",fill:"#22c55e",fontSize:11}}),a.jsxs(_a,{dataKey:"hours",radius:[8,8,0,0],cursor:"pointer",onClick:d=>l(d),children:[i.map((d,f)=>a.jsx(ao,{fill:c(d),className:"hover:opacity-80 transition-opacity"},`cell-${f}`)),a.jsx(Ea,{dataKey:"hours",content:u})]})]})})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mt-4 pt-4 border-t border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Tertinggi"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 3"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Lainnya"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-0.5 bg-green-500",style:{backgroundImage:"repeating-linear-gradient(to right, #22c55e, #22c55e 5px, transparent 5px, transparent 10px)"}}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Rata-rata"})]})]})]})]}),n&&a.jsx(ame,{isOpen:!!n,onClose:()=>s(null),monthName:n.month,monthIndex:n.monthIndex,year:t,totalHours:n.hours,details:n.details,isHighest:n.isHighest,rank:n.rank,averageHours:o.averageHours})]})},ime=()=>{const{user:e}=st(),{dashboardPlantFilter:t,dashboardYear:r,setDashboardPlantFilter:n,setDashboardYear:s}=jm(),i=Qd(),[o,l]=b.useState(!0),[c,u]=b.useState(new Date().getMonth()),[d,f]=b.useState("tahunan"),[h,p]=b.useState("jam"),[g,m]=b.useState(new Date().getMonth()),[k,y]=b.useState("Urea"),[v,x]=b.useState([]),[w,j]=b.useState({produksiNPK:[],produksiBlending:[],produksiNPKMini:[],downtime:[],workRequest:[],bahanBaku:[],vibrasi:[],gatePass:[],timesheetForklift:[],timesheetLoader:[],troubleRecord:[],rkap:[],rekapBBM:[]}),S=e==null?void 0:e.plant,N=e==null?void 0:e.role,P=S==="ALL"||N==="manager"||N==="eksternal";b.useEffect(()=>{!P&&S&&n(S)},[S,P,n]);const O=P?t:S||"NPK2";b.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:ce,readData:se,SHEETS:ie}=await Ie(async()=>{const{fetchDataByPlant:R,readData:ee,SHEETS:$}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:R,readData:ee,SHEETS:$}},void 0),[xe,be,ue,fe,me,de,je,J,A,D,z,K,T]=await Promise.all([ce(ie.PRODUKSI_NPK),ce(ie.PRODUKSI_BLENDING),ce(ie.PRODUKSI_NPK_MINI),ce(ie.DOWNTIME),ce(ie.WORK_REQUEST),ce(ie.BAHAN_BAKU),ce(ie.VIBRASI),ce(ie.GATE_PASS),ce(ie.TIMESHEET_FORKLIFT),ce(ie.TIMESHEET_LOADER),ce(ie.TROUBLE_RECORD),se(ie.RKAP),ce(ie.REKAP_BBM)]);j({produksiNPK:xe.success&&xe.data?xe.data:[],produksiBlending:be.success&&be.data?be.data:[],produksiNPKMini:ue.success&&ue.data?ue.data:[],downtime:fe.success&&fe.data?fe.data:[],workRequest:me.success&&me.data?me.data:[],bahanBaku:de.success&&de.data?de.data:[],vibrasi:je.success&&je.data?je.data:[],gatePass:J.success&&J.data?J.data:[],timesheetForklift:A.success&&A.data?A.data:[],timesheetLoader:D.success&&D.data?D.data:[],troubleRecord:z.success&&z.data?z.data:[],rkap:K.success&&K.data?K.data:[],rekapBBM:T.success&&T.data?T.data:[]})}catch(ce){console.error("Error fetching dashboard data:",ce)}finally{l(!1)}})()},[]),b.useEffect(()=>{(async()=>{try{const{fetchDataByPlant:ce,SHEETS:se}=await Ie(async()=>{const{fetchDataByPlant:ie,SHEETS:xe}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:ie,SHEETS:xe}},void 0);if(se.PEMANTAUAN_BAHAN_BAKU){const ie=await ce(se.PEMANTAUAN_BAHAN_BAKU);ie.success&&ie.data&&x(ie.data)}}catch(ce){console.error("Error fetching pemantauan bahan baku:",ce)}})()},[]);const C=b.useCallback(Q=>O==="ALL"?Q:Q.filter(ce=>ce._plant===O),[O]),M=b.useCallback(Q=>O==="ALL"?Q:Q.filter(ce=>ce.plant===O),[O]),E=b.useCallback(Q=>Q.filter(ce=>ce.tanggal?new Date(ce.tanggal).getFullYear()===r:!1),[r]),_=b.useMemo(()=>({produksiNPK:E(C(w.produksiNPK)),produksiBlending:E(C(w.produksiBlending)),produksiNPKMini:E(C(w.produksiNPKMini)),downtime:E(C(w.downtime)),workRequest:E(C(w.workRequest)),bahanBaku:E(C(w.bahanBaku)),vibrasi:E(C(w.vibrasi)),gatePass:E(C(w.gatePass)),timesheetForklift:E(C(w.timesheetForklift)),timesheetLoader:E(C(w.timesheetLoader)),troubleRecord:E(C(w.troubleRecord)),rekapBBM:E(C(w.rekapBBM)),rkap:M(w.rkap).filter(Q=>Number(Q.tahun)===r)}),[w,C,E,M,r]),B=b.useMemo(()=>{const Q=_.produksiNPK.reduce((W,le)=>{const he=le.total!==void 0&&le.total!==null?ne(le.total):ne(le.shiftMalamOnspek)+ne(le.shiftMalamOffspek)+ne(le.shiftPagiOnspek)+ne(le.shiftPagiOffspek)+ne(le.shiftSoreOnspek)+ne(le.shiftSoreOffspek);return W+he},0),ce=_.produksiNPK.reduce((W,le)=>{const U=le.totalOnspek!==void 0&&le.totalOnspek!==null;return W+(U?ne(le.totalOnspek):ne(le.shiftMalamOnspek)+ne(le.shiftPagiOnspek)+ne(le.shiftSoreOnspek))},0),se=_.produksiNPK.reduce((W,le)=>{const U=le.totalOffspek!==void 0&&le.totalOffspek!==null;return W+(U?ne(le.totalOffspek):ne(le.shiftMalamOffspek)+ne(le.shiftPagiOffspek)+ne(le.shiftSoreOffspek))},0),ie=_.produksiBlending.reduce((W,le)=>W+ne(le.tonase),0),xe=_.produksiNPKMini.reduce((W,le)=>W+ne(le.tonase),0),be=_.rkap.reduce((W,le)=>{const he=le.total!==void 0&&le.total!==null?ne(le.total):Uc.reduce((ye,$e)=>ye+ne(le[$e]),0);return W+he},0),ue=w.rkap.filter(W=>W.plant==="NPK1"&&Number(W.tahun)===r).reduce((W,le)=>{const U=le.total!==void 0&&le.total!==null;return W+(U?ne(le.total):Uc.reduce((he,ye)=>he+ne(le[ye]),0))},0),fe=w.rkap.filter(W=>W.plant==="NPK2"&&Number(W.tahun)===r).reduce((W,le)=>{const U=le.total!==void 0&&le.total!==null;return W+(U?ne(le.total):Uc.reduce((he,ye)=>he+ne(le[ye]),0))},0),me=w.produksiNPK.filter(W=>W._plant==="NPK1"&&new Date(W.tanggal).getFullYear()===r).reduce((W,le)=>{const U=le.total!==void 0&&le.total!==null;return W+(U?ne(le.total):ne(le.shiftMalamOnspek)+ne(le.shiftMalamOffspek)+ne(le.shiftPagiOnspek)+ne(le.shiftPagiOffspek)+ne(le.shiftSoreOnspek)+ne(le.shiftSoreOffspek))},0),de=w.produksiNPK.filter(W=>W._plant==="NPK2"&&new Date(W.tanggal).getFullYear()===r).reduce((W,le)=>{const U=le.total!==void 0&&le.total!==null;return W+(U?ne(le.total):ne(le.shiftMalamOnspek)+ne(le.shiftMalamOffspek)+ne(le.shiftPagiOnspek)+ne(le.shiftPagiOffspek)+ne(le.shiftSoreOnspek)+ne(le.shiftSoreOffspek))},0),je=_.downtime.reduce((W,le)=>W+ne(le.downtime),0),J=_.workRequest.length,A=_.workRequest.filter(W=>!W.eksekutor||W.eksekutor==="").length,D=_.bahanBaku.reduce((W,le)=>W+ne(le.jumlah),0),z=_.vibrasi.filter(W=>W.status==="Warning"||W.status==="Critical"||W.status==="Alert").length,K=_.gatePass.length,T=_.troubleRecord.filter(W=>W.status==="Open"||W.status==="In Progress").length,R=_.timesheetForklift.reduce((W,le)=>W+ne(le.jamOperasi),0),ee=_.timesheetLoader.reduce((W,le)=>W+ne(le.jamOperasi),0),$=_.rekapBBM.reduce((W,le)=>W+ne(le.pengajuanSolar),0),Y=_.rekapBBM.reduce((W,le)=>W+ne(le.realisasiPengisian),0),Z=Y-$;return{totalProduksiNPK:Q,totalOnspek:ce,totalOffspek:se,totalProduksiBlending:ie,totalProduksiNPKMini:xe,totalRKAP:be,totalDowntime:je,workRequestTotal:J,workRequestPending:A,totalBahanBaku:D,vibrasiWarnings:z,gatePassCount:K,troubleRecordOpen:T,forkliftHours:R,loaderHours:ee,bbmPengajuan:$,bbmRealisasi:Y,bbmSelisih:Z,bbmRecordCount:_.rekapBBM.length,percentage:be>0?(Q/be*100).toFixed(1):"0",rkapNPK1:ue,rkapNPK2:fe,produksiNPK1:me,produksiNPK2:de,percentageNPK1:ue>0?(me/ue*100).toFixed(1):"0",percentageNPK2:fe>0?(de/fe*100).toFixed(1):"0"}},[_,w,r]),G=b.useMemo(()=>mu.map((ce,se)=>{const ie=_.produksiNPK.filter(J=>new Date(J.tanggal).getMonth()===se),xe=ie.reduce((J,A)=>{const D=A.total!==void 0&&A.total!==null;return J+(D?ne(A.total):ne(A.shiftMalamOnspek)+ne(A.shiftMalamOffspek)+ne(A.shiftPagiOnspek)+ne(A.shiftPagiOffspek)+ne(A.shiftSoreOnspek)+ne(A.shiftSoreOffspek))},0),be=ie.reduce((J,A)=>{const D=A.totalOnspek!==void 0&&A.totalOnspek!==null;return J+(D?ne(A.totalOnspek):ne(A.shiftMalamOnspek)+ne(A.shiftPagiOnspek)+ne(A.shiftSoreOnspek))},0),ue=ie.reduce((J,A)=>{const D=A.totalOffspek!==void 0&&A.totalOffspek!==null;return J+(D?ne(A.totalOffspek):ne(A.shiftMalamOffspek)+ne(A.shiftPagiOffspek)+ne(A.shiftSoreOffspek))},0),fe=Uc[se],me=_.rkap.reduce((J,A)=>J+ne(A[fe]),0),de=w.rkap.filter(J=>J.plant==="NPK1"&&Number(J.tahun)===r).reduce((J,A)=>J+ne(A[fe]),0),je=w.rkap.filter(J=>J.plant==="NPK2"&&Number(J.tahun)===r).reduce((J,A)=>J+ne(A[fe]),0);return{bulan:ce,produksi:xe,rkap:me,rkapNPK1:de,rkapNPK2:je,onspek:be,offspek:ue}}),[_,w,r]),L=b.useMemo(()=>{const Q=c,ce=mu[Q],se=Uc[Q],ie=_.produksiNPK.filter(D=>new Date(D.tanggal).getMonth()===Q),xe=ie.reduce((D,z)=>{const K=z.total!==void 0&&z.total!==null;return D+(K?ne(z.total):ne(z.shiftMalamOnspek)+ne(z.shiftMalamOffspek)+ne(z.shiftPagiOnspek)+ne(z.shiftPagiOffspek)+ne(z.shiftSoreOnspek)+ne(z.shiftSoreOffspek))},0),be=ie.reduce((D,z)=>{const K=z.totalOnspek!==void 0&&z.totalOnspek!==null;return D+(K?ne(z.totalOnspek):ne(z.shiftMalamOnspek)+ne(z.shiftPagiOnspek)+ne(z.shiftSoreOnspek))},0),ue=ie.reduce((D,z)=>{const K=z.totalOffspek!==void 0&&z.totalOffspek!==null;return D+(K?ne(z.totalOffspek):ne(z.shiftMalamOffspek)+ne(z.shiftPagiOffspek)+ne(z.shiftSoreOffspek))},0),me=_.produksiBlending.filter(D=>new Date(D.tanggal).getMonth()===Q).reduce((D,z)=>D+ne(z.tonase),0),je=_.produksiNPKMini.filter(D=>new Date(D.tanggal).getMonth()===Q).reduce((D,z)=>D+ne(z.tonase),0),J=_.rkap.reduce((D,z)=>D+ne(z[se]),0),A=J>0?(xe/J*100).toFixed(1):"0";return{monthName:ce,npkProduksi:xe,npkOnspek:be,npkOffspek:ue,blendingProduksi:me,npkMiniProduksi:je,rkapThisMonth:J,percentageRkap:A,totalProduksi:xe+me+je}},[_,c]),I=b.useMemo(()=>{let Q=_.downtime;d==="bulanan"&&(Q=_.downtime.filter(se=>se.tanggal?new Date(se.tanggal).getMonth()===g:!1));const ce={};return Q.forEach(se=>{const ie=se.item||"Unknown";ce[ie]||(ce[ie]={jam:0,frekuensi:0}),ce[ie].jam+=ne(se.downtime),ce[ie].frekuensi+=1}),Object.entries(ce).map(([se,ie])=>({item:se,downtime:h==="jam"?ie.jam:ie.frekuensi,jam:ie.jam,frekuensi:ie.frekuensi})).sort((se,ie)=>ie.downtime-se.downtime).slice(0,8)},[_,d,h,g]),V=b.useMemo(()=>{let Q=_.downtime;return d==="bulanan"&&(Q=_.downtime.filter(ce=>ce.tanggal?new Date(ce.tanggal).getMonth()===g:!1)),h==="jam"?Q.reduce((ce,se)=>ce+ne(se.downtime),0):Q.length},[_,d,h,g]),F=b.useMemo(()=>{const Q={};return _.workRequest.forEach(ce=>{const se=ce.eksekutor||"Belum Ditentukan";Q[se]=(Q[se]||0)+1}),Object.entries(Q).map(([ce,se])=>({eksekutor:ce,count:se})).sort((ce,se)=>se.count-ce.count).slice(0,6)},[_]),X=b.useMemo(()=>{const Q={};return _.vibrasi.forEach(ce=>{const se=ce.status||"Unknown";Q[se]=(Q[se]||0)+1}),Object.entries(Q).map(([ce,se])=>({status:ce,count:se}))},[_]),q=b.useMemo(()=>[{name:"NPK Granul",value:B.totalProduksiNPK},{name:"Blending/Retail",value:B.totalProduksiBlending},{name:"NPK Mini",value:B.totalProduksiNPKMini}].filter(Q=>Q.value>0),[B]),oe=O==="ALL"?"Semua Plant":O==="NPK1"?"NPK Plant 1":"NPK Plant 2";return o?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(b8,{className:"h-10 w-10 animate-spin text-primary-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Memuat data dashboard..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-display font-semibold text-foreground",children:["Dashboard - ",oe]}),a.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:["Selamat datang, ",(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama),"! Berikut ringkasan data ",oe.toLowerCase()," tahun ",r,"."]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[P&&a.jsx(De,{value:O,onChange:Q=>n(Q.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),a.jsx(De,{value:r.toString(),onChange:Q=>s(Number(Q.target.value)),options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],className:"w-32"})]})]}),a.jsxs(bt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-primary-500 rounded-xl p-5 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{onClick:()=>i(`/produksi/${O==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-80 transition-opacity",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_m,{className:"h-6 w-6"}),a.jsxs("h2",{className:"text-xl font-bold",children:["Produksi Bulan ",L.monthName," ",r]}),a.jsx(Ba,{className:"h-5 w-5 opacity-60 ml-2"})]}),a.jsxs("p",{className:"text-primary-100 text-sm",children:["Ringkasan produksi ",oe.toLowerCase()," bulan ini"]})]}),a.jsx("div",{className:"flex items-center gap-2",onClick:Q=>Q.stopPropagation(),children:a.jsx("select",{value:c,onChange:Q=>u(Number(Q.target.value)),className:"bg-white/20 backdrop-blur-sm text-white border-0 rounded-lg px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/30 cursor-pointer",children:mu.map((Q,ce)=>a.jsx("option",{value:ce,className:"text-dark-900",children:Q},ce))})})]}),a.jsx("div",{onClick:()=>i(`/produksi/${O==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-90 transition-opacity",children:a.jsxs("div",{className:"flex flex-wrap gap-4 lg:gap-8 mt-4",children:[a.jsxs("div",{className:"bg-white/15 rounded-lg px-5 py-3 min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-[10px] uppercase tracking-wider mb-1",children:"NPK Produksi"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:H(L.npkProduksi)}),a.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/15 rounded-lg px-5 py-3 min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-[10px] uppercase tracking-wider mb-1",children:"Target RKAP"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:H(L.rkapThisMonth)}),a.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/15 rounded-lg px-5 py-3 min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"Pencapaian"}),a.jsxs("p",{className:"text-2xl lg:text-3xl font-bold",children:[L.percentageRkap,"%"]}),a.jsx("p",{className:"text-primary-100 text-xs",children:Number(L.percentageRkap)>=100?" Target Tercapai":"dari target"})]})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Onspek"}),a.jsxs("p",{className:"font-semibold",children:[H(L.npkOnspek)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Offspek"}),a.jsxs("p",{className:"font-semibold",children:[H(L.npkOffspek)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Blending"}),a.jsxs("p",{className:"font-semibold",children:[H(L.blendingProduksi)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"NPK Mini"}),a.jsxs("p",{className:"font-semibold",children:[H(L.npkMiniProduksi)," Ton"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>i(`/produksi/${O==="NPK1"?"npk1":"npk2"}`),className:"bg-blue-500 rounded-xl p-5 text-white cursor-pointer hover:bg-blue-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"h-5 w-5"}),a.jsxs("h3",{className:"font-bold",children:["Produksi Tahunan ",r]})]}),a.jsx(Ba,{className:"h-4 w-4 opacity-60"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK Granul"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.totalProduksiNPK)}),a.jsxs("p",{className:"text-blue-100 text-[10px]",children:["Ton (",B.percentage,"% RKAP)"]})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Onspek"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.totalOnspek)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Offspek"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.totalOffspek)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Target RKAP"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.totalRKAP)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]})]}),O==="ALL"&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 1"}),a.jsxs(Te,{variant:Number(B.percentageNPK1)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[B.percentageNPK1,"%"]})]}),a.jsxs("p",{className:"font-semibold",children:[H(B.produksiNPK1)," /"," ",H(B.rkapNPK1)," Ton"]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 2"}),a.jsxs(Te,{variant:Number(B.percentageNPK2)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[B.percentageNPK2,"%"]})]}),a.jsxs("p",{className:"font-semibold",children:[H(B.produksiNPK2)," /"," ",H(B.rkapNPK2)," Ton"]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Blending/Retail"}),a.jsxs("p",{className:"font-semibold",children:[H(B.totalProduksiBlending)," Ton"]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsx("p",{className:"text-blue-100 text-[10px]",children:"NPK Mini"}),a.jsxs("p",{className:"font-semibold",children:[H(B.totalProduksiNPKMini)," Ton"]})]})]})]}),a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-slate-600 to-slate-700 rounded-2xl p-5 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K_,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Operasional & Logistik"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{onClick:()=>i(`/laporan/timesheet-forklift-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Forklift"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.forkliftHours)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",_.timesheetForklift.length," rec)"]})]}),a.jsxs("div",{onClick:()=>i(`/laporan/timesheet-loader-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Loader"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.loaderHours)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",_.timesheetLoader.length," rec)"]})]}),a.jsxs("div",{onClick:()=>i(`/data/gate-pass-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Gate Pass"}),a.jsx("p",{className:"text-xl font-bold",children:B.gatePassCount}),a.jsx("p",{className:"text-slate-200 text-[10px]",children:"Transaksi"})]}),a.jsxs("div",{onClick:()=>i(`/data/bahan-baku-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Bahan Baku"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.totalBahanBaku)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:[_.bahanBaku.length," item"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl p-5 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qa,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Downtime & Issues"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{onClick:()=>i(`/laporan/downtime-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Total Downtime"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.totalDowntime)}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["Jam (",_.downtime.length," kejadian)"]})]}),a.jsxs("div",{onClick:()=>i(`/data/work-request-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Work Request"}),a.jsx("p",{className:"text-xl font-bold",children:B.workRequestTotal}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:[B.workRequestPending," pending"]})]}),a.jsxs("div",{onClick:()=>i(`/data/trouble-record-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Trouble Open"}),a.jsx("p",{className:"text-xl font-bold",children:B.troubleRecordOpen}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",_.troubleRecord.length," total"]})]}),a.jsxs("div",{onClick:()=>i(`/data/vibrasi-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Vibrasi Alert"}),a.jsx("p",{className:"text-xl font-bold",children:B.vibrasiWarnings}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",_.vibrasi.length," ukur"]})]})]})]}),a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>i(`/data/rekap-bbm-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zh,{className:"h-5 w-5"}),a.jsxs("h3",{className:"font-bold",children:["Rekap BBM Alat Berat ",r]})]}),a.jsx(Ba,{className:"h-4 w-4 opacity-60"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Pengajuan"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.bbmPengajuan)}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold",children:H(B.bbmRealisasi)}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Selisih"}),a.jsxs("p",{className:"text-xl font-bold",children:[B.bbmSelisih>=0?"+":"",H(B.bbmSelisih)]}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:B.bbmSelisih>=0?"Surplus":"Defisit"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Record"}),a.jsx("p",{className:"text-xl font-bold",children:B.bbmRecordCount}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Pengajuan"})]})]})]})]}),a.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},onClick:()=>i(`/laporan/pemantauan-bb-${O==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xi,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Pemantauan Stok Bahan Baku"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(De,{value:k,onChange:Q=>{Q.stopPropagation(),y(Q.target.value)},onClick:Q=>Q.stopPropagation(),className:"w-full sm:w-40 bg-white/20 border-white/30 text-white text-sm",options:nme.map(Q=>({value:Q,label:Q}))}),a.jsx(Ba,{className:"h-4 w-4 opacity-60"})]})]}),(()=>{const ce=v.filter(fe=>fe._plant===O||O==="ALL").filter(fe=>fe.bahanBaku===k).sort((fe,me)=>new Date(me.tanggal).getTime()-new Date(fe.tanggal).getTime()),se=ce[0],ie=ce.length,xe=ce.filter(fe=>new Date(fe.tanggal).getFullYear()===r),be=xe.reduce((fe,me)=>fe+(me.bahanBakuIn||0),0),ue=xe.reduce((fe,me)=>fe+(me.bahanBakuOut||0),0);return a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Stok Terakhir"}),a.jsx("p",{className:"text-xl font-bold",children:H((se==null?void 0:se.stockAkhir)||0)}),a.jsxs("p",{className:"text-emerald-100 text-[10px]",children:["Ton (",(se==null?void 0:se.tanggal)||"-",")"]})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Masuk ",r]}),a.jsx("p",{className:"text-xl font-bold",children:H(be)}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Keluar ",r]}),a.jsx("p",{className:"text-xl font-bold",children:H(ue)}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Total Record"}),a.jsx("p",{className:"text-xl font-bold",children:ie}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Pencatatan"})]})]})})()]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(at,{children:"Produksi vs RKAP"}),a.jsx(Te,{variant:"primary",children:r})]})}),a.jsx(Mr,{children:a.jsx(Ki,{width:"100%",height:300,children:a.jsxs(rme,{data:G,children:[a.jsx(Ru,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(di,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),a.jsx(fi,{stroke:"#64748b",fontSize:12}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:Q=>[H(Q)+" Ton",""]}),a.jsx(Sa,{}),a.jsx(Xs,{type:"monotone",dataKey:"produksi",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},name:"Produksi"}),O==="ALL"?a.jsxs(a.Fragment,{children:[a.jsx(Xs,{type:"monotone",dataKey:"rkapNPK1",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP NPK 1"}),a.jsx(Xs,{type:"monotone",dataKey:"rkapNPK2",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP NPK 2"})]}):a.jsx(Xs,{type:"monotone",dataKey:"rkap",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP"})]})})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(at,{children:"Produksi Onspek vs Offspek"}),a.jsx(Te,{variant:"success",children:"Monthly"})]})}),a.jsx(Mr,{children:a.jsx(Ki,{width:"100%",height:300,children:a.jsxs(ab,{data:G,children:[a.jsx(Ru,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(di,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),a.jsx(fi,{stroke:"#64748b",fontSize:12}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:Q=>[H(Q)+" Ton",""]}),a.jsx(Sa,{}),a.jsx(_a,{dataKey:"onspek",fill:"#3b82f6",radius:[4,4,0,0],name:"Onspek"}),a.jsx(_a,{dataKey:"offspek",fill:"#ef4444",radius:[4,4,0,0],name:"Offspek"})]})})})]})]}),a.jsx(sme,{downtimeData:_.downtime,year:r,plantLabel:oe}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ke,{className:"lg:col-span-2",children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(at,{children:"Downtime per Equipment"}),a.jsxs(Te,{variant:"warning",children:[H(V)," ",h==="jam"?"Jam":"Kejadian"," Total"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(De,{value:d,onChange:Q=>f(Q.target.value),options:[{value:"tahunan",label:"Tahunan"},{value:"bulanan",label:"Bulanan"}],className:"w-28"}),d==="bulanan"&&a.jsx(De,{value:g.toString(),onChange:Q=>m(Number(Q.target.value)),options:mu.map((Q,ce)=>({value:ce.toString(),label:Q})),className:"w-24"}),a.jsx(De,{value:h,onChange:Q=>p(Q.target.value),options:[{value:"jam",label:"Jam"},{value:"frekuensi",label:"Frekuensi"}],className:"w-28"})]})]})}),a.jsx(Mr,{children:I.length>0?a.jsx(Ki,{width:"100%",height:350,children:a.jsxs(ab,{data:I,layout:"vertical",children:[a.jsx(Ru,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(di,{type:"number",stroke:"#64748b",fontSize:12}),a.jsx(fi,{type:"category",dataKey:"item",stroke:"#64748b",fontSize:12,width:120}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:(Q,ce,se)=>{var be,ue;const ie=h==="jam"?" Jam":" Kejadian",xe=h==="jam"?`(${((be=se.payload)==null?void 0:be.frekuensi)||0} kejadian)`:`(${H(((ue=se.payload)==null?void 0:ue.jam)||0)} jam)`;return[`${H(Q)}${ie} ${xe}`,"Downtime"]}}),a.jsx(_a,{dataKey:"downtime",fill:"#f59e0b",radius:[0,8,8,0],name:h==="jam"?"Downtime (Jam)":"Downtime (Frekuensi)"})]})}):a.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data downtime"})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx(at,{children:"Breakdown Produksi"})}),a.jsx(Mr,{children:q.length>0?a.jsx(Ki,{width:"100%",height:350,children:a.jsxs(Jx,{children:[a.jsx(ma,{data:q,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:Q,percent:ce})=>`${Q} ${(ce*100).toFixed(0)}%`,children:q.map((Q,ce)=>a.jsx(ao,{fill:Ro[ce%Ro.length]},`cell-${ce}`))}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:Q=>[H(Q)+" Ton",""]})]})}):a.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data produksi"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(at,{children:"Work Request by Eksekutor"}),a.jsxs(Te,{variant:"danger",children:[B.workRequestTotal," Total"]})]})}),a.jsx(Mr,{children:F.length>0?a.jsx(Ki,{width:"100%",height:300,children:a.jsxs(Jx,{children:[a.jsx(ma,{data:F,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"eksekutor",label:({eksekutor:Q,count:ce})=>`${Q}: ${ce}`,children:F.map((Q,ce)=>a.jsx(ao,{fill:Ro[ce%Ro.length]},`cell-${ce}`))}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),a.jsx(Sa,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data work request"})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(at,{children:"Status Vibrasi Equipment"}),a.jsxs(Te,{variant:B.vibrasiWarnings>0?"danger":"success",children:[B.vibrasiWarnings," Alert"]})]})}),a.jsx(Mr,{children:X.length>0?a.jsx(Ki,{width:"100%",height:300,children:a.jsxs(Jx,{children:[a.jsx(ma,{data:X,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"status",children:X.map((Q,ce)=>{const se={Normal:"#22c55e",Warning:"#f59e0b",Critical:"#ef4444",Alert:"#ef4444"};return a.jsx(ao,{fill:se[Q.status]||Ro[ce%Ro.length]},`cell-${ce}`)})}),a.jsx(Rr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),a.jsx(Sa,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data vibrasi"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx(at,{children:"Aksi Cepat"})}),a.jsxs(Mr,{className:"space-y-3",children:[a.jsxs("a",{href:"/produksi/npk2",className:"flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ld,{className:"h-5 w-5 text-primary-600"}),a.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Input Produksi"})]}),a.jsx(Ba,{className:"h-4 w-4 text-primary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/laporan/downtime-npk2",className:"flex items-center justify-between p-3 bg-amber-50 hover:bg-amber-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qa,{className:"h-5 w-5 text-amber-600"}),a.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Input Downtime"})]}),a.jsx(Ba,{className:"h-4 w-4 text-amber-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/data/work-request-npk2",className:"flex items-center justify-between p-3 bg-secondary-50 hover:bg-secondary-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xa,{className:"h-5 w-5 text-secondary-600"}),a.jsx("span",{className:"text-sm font-medium text-secondary-900",children:"Work Request"})]}),a.jsx(Ba,{className:"h-4 w-4 text-secondary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/data/vibrasi-npk2",className:"flex items-center justify-between p-3 bg-red-50 hover:bg-red-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Tv,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-sm font-medium text-red-900",children:"Data Vibrasi"})]}),a.jsx(Ba,{className:"h-4 w-4 text-red-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),a.jsxs(ke,{className:"lg:col-span-2",children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Ringkasan Data ",oe]}),a.jsx(Te,{variant:"info",children:r})]})}),a.jsx(Mr,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:_.produksiNPK.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Produksi NPK"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary-600",children:_.produksiBlending.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Blending"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:_.downtime.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Downtime"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.workRequest.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Work Request"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:_.bahanBaku.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Bahan Baku"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:_.vibrasi.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Data Vibrasi"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:_.gatePass.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Gate Pass"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-pink-600",children:_.troubleRecord.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Trouble Record"})]})]})})]})]})]})};function ome(e,t,r={}){const{altKey:n=!1,ctrlKey:s=!1,shiftKey:i=!1,enabled:o=!0}=r,l=b.useCallback(c=>{if(!o)return;const u=n?c.altKey:!c.altKey,d=s?c.ctrlKey:!c.ctrlKey,f=i?c.shiftKey:!c.shiftKey;c.key.toLowerCase()===e.toLowerCase()&&u&&d&&f&&(c.preventDefault(),t())},[e,t,n,s,i,o]);b.useEffect(()=>(o&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l,o])}function sr(e,t=!0){ome("s",e,{ctrlKey:!0,enabled:t})}function lme(){const{user:e}=st(),[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,o]=b.useState(null),l=b.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),c=b.useCallback(async()=>{s(!0),o(null);try{const g=await r4();if(g.success&&g.data){const m=[...g.data].sort((k,y)=>k.nama_material.localeCompare(y.nama_material));r(m)}else o(g.error||"Gagal mengambil data material"),r([])}catch(g){o(g instanceof Error?g.message:"Terjadi kesalahan"),r([])}finally{s(!1)}},[]),u=b.useCallback(async g=>{s(!0),o(null);try{const m=l(),k=await o4(g,m);return k.success&&k.data?(r(y=>[...y,k.data].sort((v,x)=>v.nama_material.localeCompare(x.nama_material))),{success:!0,data:k.data}):(o(k.error||"Gagal menambah material"),{success:!1,error:k.error})}catch(m){const k=m instanceof Error?m.message:"Terjadi kesalahan";return o(k),{success:!1,error:k}}finally{s(!1)}},[l]),d=b.useCallback(async g=>{s(!0),o(null);try{const m=l(),k=await l4(g,m);return k.success?(r(y=>y.map(v=>v.id===g.id?{...v,...g}:v).sort((v,x)=>v.nama_material.localeCompare(x.nama_material))),{success:!0}):(o(k.error||"Gagal mengupdate material"),{success:!1,error:k.error})}catch(m){const k=m instanceof Error?m.message:"Terjadi kesalahan";return o(k),{success:!1,error:k}}finally{s(!1)}},[l]),f=b.useCallback(async g=>{s(!0),o(null);try{const m=l(),k=await c4(g,m);return k.success?(r(y=>y.filter(v=>v.id!==g)),{success:!0}):(o(k.error||"Gagal menghapus material"),{success:!1,error:k.error})}catch(m){const k=m instanceof Error?m.message:"Terjadi kesalahan";return o(k),{success:!1,error:k}}finally{s(!1)}},[l]),h=b.useCallback(async(g,m,k)=>{s(!0),o(null);try{const y=l(),v=await u4(g,m,k,y);return v.success&&v.data?(r(x=>x.map(w=>w.id===g?{...w,stok:v.data.stok_baru}:w)),{success:!0,data:v.data}):(o(v.error||"Gagal menambah stok"),{success:!1,error:v.error})}catch(y){const v=y instanceof Error?y.message:"Terjadi kesalahan";return o(v),{success:!1,error:v}}finally{s(!1)}},[l]),p=b.useCallback(async(g,m,k)=>{s(!0),o(null);try{const y=l(),v=await d4(g,m,k,y);return v.success&&v.data?(r(x=>x.map(w=>w.id===g?{...w,stok:v.data.stok_baru}:w)),{success:!0,data:v.data}):(o(v.error||"Gagal mengurangi stok"),{success:!1,error:v.error})}catch(y){const v=y instanceof Error?y.message:"Terjadi kesalahan";return o(v),{success:!1,error:v}}finally{s(!1)}},[l]);return b.useEffect(()=>{c()},[c]),{materials:t,loading:n,error:i,refetch:c,addMaterial:u,updateMaterial:d,deleteMaterial:f,stockMasuk:h,stockKeluar:p}}function cme(e){const[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState(e),u=b.useCallback(async h=>{s(!0),o(null);try{const p=await n4(h||l);p.success&&p.data?r(p.data):(o(p.error||"Gagal mengambil data transaksi"),r([]))}catch(p){o(p instanceof Error?p.message:"Terjadi kesalahan"),r([])}finally{s(!1)}},[l]),d=b.useCallback(h=>{c(h),u(h)},[u]),f=b.useCallback(()=>{c(void 0),u(void 0)},[u]);return b.useEffect(()=>{u()},[]),{transactions:t,loading:n,error:i,filters:l,refetch:u,updateFilters:d,clearFilters:f}}function mr(){const{user:e}=st(),t=b.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),r=b.useCallback(async(i,o)=>{const l=t();return a4(i,o,l)},[t]),n=b.useCallback(async(i,o)=>{const l=t();return s4(i,o,l)},[t]),s=b.useCallback(async(i,o)=>{const l=t();return i4(i,o,l)},[t]);return{createWithLog:r,updateWithLog:n,deleteWithLog:s,getUserInfo:t}}function Z3(){const[e,t]=b.useState([]),r=b.useCallback((l,c,u)=>({newItems:[{...c,id:u,_isPending:!0},...l],rollback:()=>l}),[]),n=b.useCallback((l,c)=>{const u=l.find(f=>f.id===c.id);return{newItems:l.map(f=>f.id===c.id?{...c,_isPending:!0}:f),rollback:()=>l,previousItem:u}},[]),s=b.useCallback((l,c)=>{const u=l.find(f=>f.id===c);return{newItems:l.filter(f=>f.id!==c),rollback:()=>l,deletedItem:u}},[]),i=b.useCallback((l,c,u)=>l.map(d=>d.id===c?{...d,id:u,_isPending:void 0}:d),[]),o=b.useCallback((l,c)=>l.map(u=>u.id===c?{...u,_isPending:void 0}:u),[]);return{pendingActions:e,setPendingActions:t,optimisticAdd:r,optimisticUpdate:n,optimisticDelete:s,confirmAdd:i,confirmUpdate:o}}function e$(){return`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const Hc={tanggal:It(),shiftMalamOnspek:0,shiftMalamOffspek:0,shiftPagiOnspek:0,shiftPagiOffspek:0,shiftSoreOnspek:0,shiftSoreOffspek:0,totalOnspek:0,totalOffspek:0,total:0},sA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),{optimisticAdd:i,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=Z3(),[d,f]=b.useState([]),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,y]=b.useState(!1),[v,x]=b.useState(!1),[w,j]=b.useState(!1),[S,N]=b.useState(null),[P,O]=b.useState(null),[C,M]=b.useState(Hc),[E,_]=b.useState(new Date().getFullYear()),[B,G]=b.useState(new Date().getMonth()),[L,I]=b.useState(!1),[V,F]=b.useState("edit"),[X,q]=b.useState(null),[oe,Q]=b.useState(!1),[ce,se]=b.useState(""),ie=Z=>{se(Z),Q(!0)},xe=(t==null?void 0:t.role)||"",be=kr(xe),ue=b.useCallback(()=>{if(g&&!h){const Z=document.querySelector("form");Z&&Z.requestSubmit()}},[g,h]);sr(ue,g);const fe=Tr(xe),me=Ar(xe),de=hr(xe);b.useEffect(()=>{(async()=>{p(!0);try{const{readData:W,SHEETS:le,getSheetNameByPlant:U}=await Ie(async()=>{const{readData:$e,SHEETS:Be,getSheetNameByPlant:Fe}=await Promise.resolve().then(()=>Le);return{readData:$e,SHEETS:Be,getSheetNameByPlant:Fe}},void 0),he=U(le.PRODUKSI_NPK,e),ye=await W(he);if(ye.success&&ye.data){const $e=ye.data.map(Be=>({...Be,_plant:e})).sort((Be,Fe)=>new Date(Fe.tanggal).getTime()-new Date(Be.tanggal).getTime());f($e)}else f([])}catch(W){console.error("Error fetching data:",W),f([])}finally{p(!1)}})()},[e]);const je=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],J=b.useMemo(()=>{const Z=new Date().getFullYear(),W=d.map(he=>{const ye=new Date(he.tanggal);return isNaN(ye.getTime())?Z:ye.getFullYear()}),le=[Z,Z-1,Z-2];return[...new Set([...W,...le])].sort((he,ye)=>ye-he)},[d]),A=b.useMemo(()=>d.filter(Z=>{const W=new Date(Z.tanggal);return!isNaN(W.getTime())&&W.getFullYear()===E}),[d,E]),D=b.useMemo(()=>{const Z=A.filter(he=>new Date(he.tanggal).getMonth()===B),W=Z.reduce((he,ye)=>he+ne(ye.totalOnspek),0),le=Z.reduce((he,ye)=>he+ne(ye.totalOffspek),0),U=Z.reduce((he,ye)=>he+ne(ye.total),0);return{monthName:je[B],year:E,totalOnspek:W,totalOffspek:le,total:U,entryCount:Z.length}},[A,E,B]);b.useEffect(()=>{const Z=(C.shiftMalamOnspek||0)+(C.shiftPagiOnspek||0)+(C.shiftSoreOnspek||0),W=(C.shiftMalamOffspek||0)+(C.shiftPagiOffspek||0)+(C.shiftSoreOffspek||0);M(le=>({...le,totalOnspek:Z,totalOffspek:W,total:Z+W}))},[C.shiftMalamOnspek,C.shiftMalamOffspek,C.shiftPagiOnspek,C.shiftPagiOffspek,C.shiftSoreOnspek,C.shiftSoreOffspek]);const z=async Z=>{if(Z.preventDefault(),m(!1),x(!0),S){const W={...C,id:S,_plant:e},{rollback:le}=o(d,W);f(U=>U.map(he=>he.id===S?{...W,_isPending:!0}:he)),n("produksi_npk",{...C,id:S,_plant:e}).then(U=>{U.success?f(he=>u(he,S)):(f(le()),alert(U.error||"Gagal mengupdate data"))}).catch(()=>{f(le()),alert("Terjadi kesalahan saat mengupdate data")})}else{const W=e$(),le={...C,id:W,_plant:e,_isPending:!0},{rollback:U}=i(d,le,W);f(he=>[le,...he]),r("produksi_npk",{...C,_plant:e}).then(he=>{he.success&&he.data?f(ye=>c(ye,W,he.data.id||W)):(f(U()),alert(he.error||"Gagal menyimpan data"))}).catch(()=>{f(U()),alert("Terjadi kesalahan saat menyimpan data")})}M(Hc),N(null),setTimeout(()=>x(!1),1500)},K=Z=>{if(fe){q(Z),F("edit"),I(!0);return}M(Z),N(Z.id||null),m(!0)},T=Z=>{if(me){const W=d.find(le=>le.id===Z);W&&(q(W),F("delete"),I(!0));return}O(Z),y(!0)},R=async Z=>{if(!(!X||!t)){p(!0);try{const W="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",le={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:V,targetSheet:`PRODUKSI_NPK_${e}`,targetId:X.id,targetData:JSON.stringify(X),reason:Z,status:"pending",requestedAt:new Date().toISOString()}};await fetch(W,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),I(!1),q(null)}catch(W){console.error("Error submitting approval:",W),alert("Gagal mengirim permintaan approval")}finally{p(!1)}}},ee=async()=>{if(!P)return;const{rollback:Z}=l(d,P);f(W=>W.filter(le=>le.id!==P)),y(!1),x(!0),s("produksi_npk",{id:P,_plant:e}).then(W=>{W.success||(f(Z()),alert(W.error||"Gagal menghapus data"))}).catch(()=>{f(Z()),alert("Terjadi kesalahan saat menghapus data")}),O(null),setTimeout(()=>x(!1),1500)},$=()=>{M(Hc),N(null),m(!0)},Y=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Z=>We(Z)},{key:"shiftMalamOnspek",header:"Malam Onspek",render:Z=>H(ne(Z))},{key:"shiftMalamOffspek",header:"Malam Offspek",render:Z=>H(ne(Z))},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:Z=>H(ne(Z))},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:Z=>H(ne(Z))},{key:"shiftSoreOnspek",header:"Sore Onspek",render:Z=>H(ne(Z))},{key:"shiftSoreOffspek",header:"Sore Offspek",render:Z=>H(ne(Z))},{key:"total",header:"Total",render:Z=>a.jsx("span",{className:"font-semibold text-primary-600",children:H(ne(Z))})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Granul"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data produksi NPK Granul untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>j(!0),children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),be&&a.jsxs(ae,{onClick:$,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx("div",{className:`rounded-xl p-5 text-white shadow-md ${e==="NPK1"?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_m,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold",children:["Produksi Bulan ",D.monthName," ",D.year]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[D.entryCount," entry data"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[a.jsx("select",{value:B,onChange:Z=>G(Number(Z.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:je.map((Z,W)=>a.jsx("option",{value:W,className:"text-dark-900",children:Z},W))}),a.jsx("select",{value:E,onChange:Z=>_(Number(Z.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:J.map(Z=>a.jsx("option",{value:Z,className:"text-dark-900",children:Z},Z))}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Onspek"}),a.jsxs("p",{className:"text-xl font-bold",children:[H(D.totalOnspek)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Offspek"}),a.jsxs("p",{className:"text-xl font-bold",children:[H(D.totalOffspek)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold",children:[H(D.total)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Onspek (",E,")"]}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:H(A.reduce((Z,W)=>Z+ne(W.totalOnspek),0))})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Offspek (",E,")"]}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:H(A.reduce((Z,W)=>Z+ne(W.totalOffspek),0))})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Produksi (",E,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:H(A.reduce((Z,W)=>Z+ne(W.total),0))})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Entry (",E,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:A.length})]})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(at,{children:"Data Produksi"})})}),a.jsx(nr,{data:d,columns:Y,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, shift, total produksi...",searchKeys:["tanggal","shiftMalamOnspek","shiftMalamOffspek","shiftPagiOnspek","shiftPagiOffspek","shiftSoreOnspek","shiftSoreOffspek","total"],actions:de?Z=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ie(Z.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):Z=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ie(Z.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),K(Z)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),T(Z.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:g,onClose:()=>{m(!1),M(Hc),N(null)},title:S?"Edit Data Produksi":"Tambah Data Produksi",size:"lg",children:a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsx("div",{children:a.jsx(ge,{label:"Tanggal",type:"date",value:C.tanggal,onChange:Z=>M(W=>({...W,tanggal:Z.target.value})),required:!0})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Malam"}),a.jsx(ge,{label:"Onspek (Ton)",type:"number",value:C.shiftMalamOnspek,onChange:Z=>M(W=>({...W,shiftMalamOnspek:Number(Z.target.value)})),min:"0",step:"0.01"}),a.jsx(ge,{label:"Offspek (Ton)",type:"number",value:C.shiftMalamOffspek,onChange:Z=>M(W=>({...W,shiftMalamOffspek:Number(Z.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Pagi"}),a.jsx(ge,{label:"Onspek (Ton)",type:"number",value:C.shiftPagiOnspek,onChange:Z=>M(W=>({...W,shiftPagiOnspek:Number(Z.target.value)})),min:"0",step:"0.01"}),a.jsx(ge,{label:"Offspek (Ton)",type:"number",value:C.shiftPagiOffspek,onChange:Z=>M(W=>({...W,shiftPagiOffspek:Number(Z.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Sore"}),a.jsx(ge,{label:"Onspek (Ton)",type:"number",value:C.shiftSoreOnspek,onChange:Z=>M(W=>({...W,shiftSoreOnspek:Number(Z.target.value)})),min:"0",step:"0.01"}),a.jsx(ge,{label:"Offspek (Ton)",type:"number",value:C.shiftSoreOffspek,onChange:Z=>M(W=>({...W,shiftSoreOffspek:Number(Z.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Total (Auto)"}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Onspek:"}),a.jsxs("span",{className:"font-semibold text-primary-600",children:[H(C.totalOnspek||0)," Ton"]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Offspek:"}),a.jsxs("span",{className:"font-semibold text-red-600",children:[H(C.totalOffspek||0)," Ton"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"font-medium text-dark-700",children:"Total:"}),a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[H(C.total||0)," Ton"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{m(!1),M(Hc),N(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:h,children:S?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:k,onClose:()=>{y(!1),O(null)},onConfirm:ee,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:h}),a.jsx(Or,{isOpen:L,onClose:()=>{I(!1),q(null)},onSubmit:R,action:V,itemName:"data produksi NPK",loading:h}),a.jsx(Gt,{isVisible:v,message:S?"Data berhasil diupdate!":"Data berhasil disimpan!",onClose:()=>x(!1)}),a.jsx(oc,{isOpen:w,onClose:()=>j(!1),title:`Produksi NPK Granul ${e==="NPK1"?"1":"2"}`,plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",compactMode:!0,data:d,columns:[{key:"tanggal",header:"Tanggal",render:Z=>We(Z),width:"80px"},{key:"shiftMalamOnspek",header:"Malam Onspek",render:Z=>H(ne(Z)),align:"right",width:"70px"},{key:"shiftMalamOffspek",header:"Malam Offspek",render:Z=>H(ne(Z)),align:"right",width:"70px"},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:Z=>H(ne(Z)),align:"right",width:"65px"},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:Z=>H(ne(Z)),align:"right",width:"65px"},{key:"shiftSoreOnspek",header:"Sore Onspek",render:Z=>H(ne(Z)),align:"right",width:"65px"},{key:"shiftSoreOffspek",header:"Sore Offspek",render:Z=>H(ne(Z)),align:"right",width:"45px"},{key:"totalOnspek",header:"Total Onspek",render:Z=>H(ne(Z)),align:"right",width:"70px"},{key:"totalOffspek",header:"Total Offspek",render:Z=>H(ne(Z)),align:"right",width:"70px"},{key:"total",header:"S. Total",render:Z=>H(ne(Z)),align:"right",width:"60px"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Onspek:",getValue:Z=>H(Z.reduce((W,le)=>W+ne(le.totalOnspek),0))+" Ton"},{label:"Total Offspek:",getValue:Z=>H(Z.reduce((W,le)=>W+ne(le.totalOffspek),0))+" Ton"},{label:"Grand Total:",getValue:Z=>H(Z.reduce((W,le)=>W+ne(le.total),0))+" Ton"}]}),a.jsx(ar,{isOpen:oe,onClose:()=>{Q(!1),se("")},sheetName:e==="NPK1"?"ProduksiNPK_NPK1":"ProduksiNPK",recordId:ce,title:"Log Aktivitas Produksi NPK"})]})},Wc={tanggal:It(),kategori:"Fresh",formula:"",tonase:0},iA=({type:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[y,v]=b.useState(null),[x,w]=b.useState(null),[j,S]=b.useState(!1),[N,P]=b.useState(""),[O,C]=b.useState(Wc),[M,E]=b.useState("all"),[_,B]=b.useState(new Date().getMonth()),[G,L]=b.useState(new Date().getFullYear()),I=e==="blending"?"NPK2":"NPK1",V=e==="blending"?"Produksi Blending":"Produksi Retail",[F,X]=b.useState(!1),[q,oe]=b.useState("edit"),[Q,ce]=b.useState(null),[se,ie]=b.useState(!1),[xe,be]=b.useState(""),ue=pe=>{be(pe),ie(!0)},fe=(t==null?void 0:t.role)||"",me=kr(fe),de=b.useCallback(()=>{if(u&&!l){const pe=document.querySelector("form");pe&&pe.requestSubmit()}},[u,l]);sr(de,u);const je=Tr(fe),J=Ar(fe),A=hr(fe),D=e==="blending"?[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]:[{value:"Retail",label:"Retail"}],z=["NPK 15-15-15","NPK 16-16-16","NPK 20-10-10","NPK 12-12-17","NPK 15-15-15-4S"],K=b.useMemo(()=>{const pe=[...new Set(i.map(ft=>ft.formula).filter(ft=>ft&&ft!=="Tanpa Formula"))],Ve=[...new Set([...z,...pe])].sort().map(ft=>({value:ft,label:ft}));return Ve.push({value:"Custom",label:"Custom (Tambah Baru)"}),Ve},[i]);b.useEffect(()=>{(async()=>{var we,Ve;c(!0);try{const{readData:ft,SHEETS:zr,getSheetNameByPlant:Vr}=await Ie(async()=>{const{readData:Oo,SHEETS:On,getSheetNameByPlant:Me}=await Promise.resolve().then(()=>Le);return{readData:Oo,SHEETS:On,getSheetNameByPlant:Me}},void 0),Tt=Vr(zr.PRODUKSI_BLENDING,I),qt=await ft(Tt);if(console.log("Raw data from backend:",(we=qt.data)==null?void 0:we.slice(0,2)),console.log("Data keys:",(Ve=qt.data)!=null&&Ve[0]?Object.keys(qt.data[0]):"No data"),qt.success&&qt.data){const On=qt.data.map(Me=>{qt.data&&qt.data.indexOf(Me)===0&&console.log("First item raw:",Me);const Eo=Me.tonase??Me.Tonase??Me.total??Me.Total??Me.jumlah??Me.Jumlah??Me.ton??Me.Ton??Me.qty??Me.Qty??Me.quantity??Me.Quantity??0,pf=Me.formula??Me.Formula??Me.formulasi??Me.Formulasi??Me.jenis??Me.Jenis??Me.produk??Me.Produk??"",mf=Me.kategori??Me.Kategori??Me.tipe??Me.Tipe??Me.jenis??Me.Jenis??(e==="retail"?"Retail":"Fresh");return{...Me,id:Me.id??Me.ID??Me.Id??Me.no??Me.No,tanggal:Me.tanggal??Me.Tanggal??Me.tgl??Me.Tgl??Me.date??Me.Date??"",kategori:mf,formula:(pf||"Tanpa Formula").trim(),tonase:ne(Eo),_plant:I}}).sort((Me,Eo)=>new Date(Eo.tanggal).getTime()-new Date(Me.tanggal).getTime());o(On),console.log("Normalized data sample:",On.slice(0,3)),console.log("Total tonase check:",On.slice(0,5).map(Me=>({formula:Me.formula,tonase:Me.tonase})))}else o([])}catch(ft){console.error("Error fetching data:",ft),o([])}finally{c(!1)}})()},[e,I]);const T=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],R=b.useMemo(()=>[...new Set(i.map(we=>we.formula).filter(we=>we&&we.trim()!==""))].sort(),[i]),ee=b.useMemo(()=>{const pe=new Date().getFullYear(),we=i.map(zr=>{const Vr=new Date(zr.tanggal);return isNaN(Vr.getTime())?pe:Vr.getFullYear()}),Ve=[pe,pe-1,pe-2];return[...new Set([...we,...Ve])].sort((zr,Vr)=>Vr-zr)},[i]),$=b.useMemo(()=>i.filter(pe=>{const we=new Date(pe.tanggal);if(isNaN(we.getTime()))return!1;const Ve=G==="all"||we.getFullYear()===G,ft=_==="all"||we.getMonth()===_;return Ve&&ft}),[i,_,G]),Y=b.useMemo(()=>M==="all"?$:$.filter(pe=>pe.formula===M),[$,M]),Z=pe=>{const we=pe.tonase;return typeof we=="number"&&!isNaN(we)?we:ne(we)},W=b.useMemo(()=>{const pe=$.reduce((Tt,qt)=>Tt+Z(qt),0),we=$.filter(Tt=>Tt.kategori==="Fresh").reduce((Tt,qt)=>Tt+Z(qt),0),Ve=$.filter(Tt=>Tt.kategori==="Oversack").reduce((Tt,qt)=>Tt+Z(qt),0),ft=$.filter(Tt=>Tt.kategori==="Retail").reduce((Tt,qt)=>Tt+Z(qt),0);let zr=0,Vr=0;if(_!=="all"&&G!=="all"){const Tt=_===0?11:_-1,qt=_===0?G-1:G;Vr=i.filter(On=>{const Me=new Date(On.tanggal);return isNaN(Me.getTime())?!1:Me.getMonth()===Tt&&Me.getFullYear()===qt}).reduce((On,Me)=>On+Z(Me),0),zr=Vr>0?(pe-Vr)/Vr*100:0}return{totalTonase:pe,totalFresh:we,totalOversack:Ve,totalRetail:ft,entryCount:$.length,uniqueFormulas:new Set($.map(Tt=>Tt.formula).filter(Tt=>Tt&&Tt.trim()!=="")).size,growthPercent:zr,prevTotalTonase:Vr,avgPerEntry:$.length>0?pe/$.length:0}},[$,_,G,i]),le=b.useMemo(()=>{const pe={};return $.forEach(we=>{const Ve=we.formula&&we.formula.trim()!==""?we.formula:"Tanpa Formula";pe[Ve]||(pe[Ve]={total:0,fresh:0,oversack:0,retail:0,count:0,percentage:0});const ft=Z(we);pe[Ve].total+=ft,pe[Ve].count+=1,we.kategori==="Fresh"?pe[Ve].fresh+=ft:we.kategori==="Oversack"?pe[Ve].oversack+=ft:we.kategori==="Retail"&&(pe[Ve].retail+=ft)}),Object.keys(pe).forEach(we=>{pe[we].percentage=W.totalTonase>0?pe[we].total/W.totalTonase*100:0}),pe},[$,W.totalTonase]),U=b.useMemo(()=>Object.entries(le).sort(([,pe],[,we])=>we.total-pe.total).slice(0,10),[le]),he=()=>{if(_==="all"||G==="all"){const pe=new Date;B(pe.getMonth()===0?11:pe.getMonth()-1),L(pe.getMonth()===0?pe.getFullYear()-1:pe.getFullYear())}else _===0?(B(11),L(pe=>pe-1)):B(pe=>pe-1)},ye=()=>{if(_==="all"||G==="all"){const pe=new Date;B(pe.getMonth()===11?0:pe.getMonth()+1),L(pe.getMonth()===11?pe.getFullYear()+1:pe.getFullYear())}else _===11?(B(0),L(pe=>pe+1)):B(pe=>pe+1)},$e=async pe=>{pe.preventDefault(),c(!0);try{if(y){const we=await n("produksi_blending",{...O,id:y,_plant:I});if(we.success)o(Ve=>Ve.map(ft=>ft.id===y?{...O,id:y,_plant:I}:ft));else throw new Error(we.error||"Gagal mengupdate data")}else{const we={...O,_plant:I},Ve=await r("produksi_blending",we);if(Ve.success&&Ve.data){const ft={...Ve.data,_plant:I};o(zr=>[ft,...zr])}else throw new Error(Ve.error||"Gagal menyimpan data")}d(!1),C(Wc),v(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(we){console.error("Error saving data:",we),alert(we instanceof Error?we.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Be=pe=>{if(je){ce(pe),oe("edit"),X(!0);return}C(pe),v(pe.id||null);const we=K.some(Ve=>Ve.value===pe.formula&&Ve.value!=="Custom");S(!we&&pe.formula!==""),P(!we&&pe.formula!==""?pe.formula:""),d(!0)},Fe=pe=>{if(J){const we=i.find(Ve=>Ve.id===pe);we&&(ce(we),oe("delete"),X(!0));return}w(pe),h(!0)},Qe=async pe=>{if(!(!Q||!t)){c(!0);try{const we="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",Ve={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:q,targetSheet:e==="retail"?"PRODUKSI_BLENDING_NPK1":"PRODUKSI_BLENDING",targetId:Q.id,targetData:JSON.stringify(Q),reason:pe,status:"pending",requestedAt:new Date().toISOString()}};await fetch(we,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),X(!1),ce(null)}catch(we){console.error("Error submitting approval:",we),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Ye=async()=>{if(x){c(!0);try{const pe=await s("produksi_blending",{id:x,_plant:I});if(pe.success)o(we=>we.filter(Ve=>Ve.id!==x)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(pe.error||"Gagal menghapus data")}catch(pe){console.error("Error deleting data:",pe),alert(pe instanceof Error?pe.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Dt=()=>{C(Wc),v(null),S(!1),P(""),d(!0)},ya=[{key:"tanggal",header:"Tanggal",sortable:!0,render:pe=>We(pe)},{key:"kategori",header:"Kategori",render:pe=>a.jsx(Te,{variant:pe==="Fresh"?"success":pe==="Oversack"?"warning":"primary",children:pe})},{key:"formula",header:"Formula"},{key:"tonase",header:"Tonase",render:pe=>a.jsxs("span",{className:"font-semibold",children:[H(ne(pe))," Ton"]})}],ba=pe=>{const we=["from-blue-500 to-blue-600","from-emerald-500 to-emerald-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600","from-rose-500 to-rose-600","from-cyan-500 to-cyan-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600"];return we[pe%we.length]};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:V}),a.jsx(Te,{variant:I==="NPK1"?"primary":"success",children:I})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data ",V.toLowerCase()," untuk ",I]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),me&&a.jsxs(ae,{onClick:Dt,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(ke,{className:"overflow-hidden",children:a.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-900 dark:from-dark-700 dark:to-dark-800 p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:a.jsx(_m,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Laporan Produksi"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("button",{onClick:he,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(Ck,{className:"h-5 w-5 text-white"})}),a.jsxs("h2",{className:"text-2xl font-bold text-white min-w-[200px] text-center",children:[_==="all"?"Semua Bulan":T[_]," ",G==="all"?"Semua Tahun":G]}),a.jsx("button",{onClick:ye,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(_k,{className:"h-5 w-5 text-white"})})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{value:_.toString(),onChange:pe=>B(pe.target.value==="all"?"all":Number(pe.target.value)),options:[{value:"all",label:"Semua Bulan"},...T.map((pe,we)=>({value:we.toString(),label:pe}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"}),a.jsx(De,{value:G.toString(),onChange:pe=>L(pe.target.value==="all"?"all":Number(pe.target.value)),options:[{value:"all",label:"Semua Tahun"},...ee.map(pe=>({value:pe.toString(),label:pe.toString()}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(xi,{className:"h-4 w-4 text-white/70"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Total Produksi"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[H(W.totalTonase),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),W.growthPercent!==0&&a.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${W.growthPercent>0?"text-green-300":"text-red-300"}`,children:[W.growthPercent>0?a.jsx(Ba,{className:"h-3 w-3"}):a.jsx(f8,{className:"h-3 w-3"}),a.jsxs("span",{children:[Math.abs(W.growthPercent).toFixed(1),"% dari bulan lalu"]})]})]}),e==="blending"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(vx,{className:"h-4 w-4 text-green-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Fresh"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[H(W.totalFresh),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[W.totalTonase>0?(W.totalFresh/W.totalTonase*100).toFixed(1):0,"% dari total"]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fu,{className:"h-4 w-4 text-amber-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Oversack"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[H(W.totalOversack),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[W.totalTonase>0?(W.totalOversack/W.totalTonase*100).toFixed(1):0,"% dari total"]})]})]}):a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(vx,{className:"h-4 w-4 text-blue-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Retail"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[H(W.totalRetail),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(P8,{className:"h-4 w-4 text-violet-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Jenis Formula"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:W.uniqueFormulas}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Formula berbeda"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fl,{className:"h-4 w-4 text-cyan-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Rata-rata"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[H(W.avgPerEntry),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Per entry (",W.entryCount," data)"]})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I_,{className:"h-5 w-5 text-dark-500"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Statistik per Formula"})]}),a.jsx(De,{value:M,onChange:pe=>E(pe.target.value),options:[{value:"all",label:"Semua Formula"},...R.map(pe=>({value:pe,label:pe}))],className:"min-w-[200px]"})]}),U.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:U.map(([pe,we],Ve)=>a.jsxs(ke,{className:`overflow-hidden cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg ${M===pe?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onClick:()=>E(M===pe?"all":pe),children:[a.jsxs("div",{className:`bg-gradient-to-br ${ba(Ve)} p-4`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"bg-white/20 rounded-lg px-2 py-1",children:a.jsxs("span",{className:"text-white text-xs font-medium",children:["#",Ve+1]})}),a.jsx(Cm,{className:"h-5 w-5 text-white/70"})]}),a.jsx("h4",{className:"text-white font-bold text-lg mt-3 truncate",title:pe,children:pe}),a.jsxs("p",{className:"text-white/70 text-sm",children:[we.count," entry data"]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400 text-sm",children:"Total Tonase"}),a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[H(we.total)," Ton"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kontribusi"}),a.jsxs("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:[we.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${ba(Ve)} rounded-full transition-all duration-500`,style:{width:`${Math.min(we.percentage,100)}%`}})})]}),e==="blending"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Fresh"}),a.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400 text-sm",children:[H(we.fresh)," T"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Oversack"}),a.jsxs("p",{className:"font-semibold text-amber-600 dark:text-amber-400 text-sm",children:[H(we.oversack)," T"]})]})]})]})]},pe))}):a.jsxs(ke,{className:"p-8 text-center",children:[a.jsx(xi,{className:"h-12 w-12 text-dark-300 mx-auto mb-3"}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Tidak ada data produksi untuk bulan"," ",T[_]," ",G]})]})]}),M!=="all"&&le[M]&&a.jsxs(ke,{className:"overflow-hidden",children:[a.jsx(nt,{className:"bg-gradient-to-r from-primary-500 to-primary-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:a.jsx(vx,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(at,{className:"text-white",children:["Detail Formula: ",M]}),a.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["Data untuk"," ",_==="all"?"semua bulan":`bulan ${T[_]}`," ",G==="all"?"semua tahun":G]})]})]}),a.jsx(ae,{variant:"secondary",size:"sm",onClick:()=>E("all"),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:"Lihat Semua"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Total Tonase"}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[H(le[M].total),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:le[M].count})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Rata-rata/Entry"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[H(le[M].total/le[M].count),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Kontribusi"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[le[M].percentage.toFixed(1),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"%"})]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs(at,{children:["Data ",V," - Semua Data",M!=="all"&&a.jsx(Te,{variant:"primary",className:"ml-2",children:M})]}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:[i.length," data total"]})]})}),a.jsx(nr,{data:i.filter(pe=>M==="all"||pe.formula===M),columns:ya,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, formula, kategori, tonase...",searchKeys:["tanggal","formula","kategori","tonase"],actions:A?pe=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:we=>{we.stopPropagation(),ue(pe.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):pe=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:we=>{we.stopPropagation(),ue(pe.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:we=>{we.stopPropagation(),Be(pe)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:we=>{we.stopPropagation(),Fe(pe.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),C(Wc),v(null)},title:y?`Edit Data ${V}`:`Tambah Data ${V}`,size:"md",children:a.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:O.tanggal,onChange:pe=>C(we=>({...we,tanggal:pe.target.value})),required:!0}),a.jsx(De,{label:"Kategori",value:O.kategori,onChange:pe=>C(we=>({...we,kategori:pe.target.value})),options:D,required:!0}),a.jsx(De,{label:"Formula",value:j?"Custom":O.formula,onChange:pe=>{const we=pe.target.value;we==="Custom"?(S(!0),P("")):(S(!1),C(Ve=>({...Ve,formula:we})))},options:K,placeholder:"Pilih formula",required:!0}),j&&a.jsx(ge,{label:"Formula Custom",type:"text",value:N,onChange:pe=>{P(pe.target.value),C(we=>({...we,formula:pe.target.value}))},placeholder:"Masukkan formula custom (contoh: NPK 18-18-18)",required:!0}),a.jsx(ge,{label:"Tonase (Ton)",type:"number",value:O.tonase,onChange:pe=>C(we=>({...we,tonase:Number(pe.target.value)})),min:"0",step:"0.01",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),C(Wc),v(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:y?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:Ye,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:F,onClose:()=>{X(!1),ce(null)},onSubmit:Qe,action:q,itemName:"data produksi blending",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(oc,{isOpen:m,onClose:()=>k(!1),title:`${V} - ${T[_]} ${G}${M!=="all"?` (${M})`:""}`,plant:I==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:Y,columns:[{key:"tanggal",header:"Tanggal",render:pe=>We(pe),width:"80px"},{key:"kategori",header:"Kategori",width:"70px"},{key:"formula",header:"Formula",width:"120px"},{key:"tonase",header:"Tonase (Ton)",render:pe=>H(ne(pe)),align:"right",width:"80px"}],filters:e==="blending"?{kategori:{label:"Kategori",options:[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]}}:void 0,signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:pe=>H(pe.reduce((we,Ve)=>we+ne(Ve.tonase),0))+" Ton"}]}),a.jsx(ar,{isOpen:se,onClose:()=>{ie(!1),be("")},sheetName:e==="blending"?"produksi_blending":"produksi_blending_NPK1",recordId:xe,title:`Log Aktivitas ${V}`})]})},Gc={tanggal:It(),formulasi:"",tonase:0},ume=()=>{const{user:e}=st(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=mr(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,y]=b.useState(null),[v,x]=b.useState(null),[w,j]=b.useState(Gc),[S,N]=b.useState(new Date().getFullYear()),[P,O]=b.useState(new Date().getMonth()),[C,M]=b.useState(!1),[E,_]=b.useState("edit"),[B,G]=b.useState(null),[L,I]=b.useState(!1),[V,F]=b.useState(""),X=K=>{F(K),I(!0)},q=(e==null?void 0:e.role)||"",oe=kr(q),Q=b.useCallback(()=>{if(c&&!o){const K=document.querySelector("form");K&&K.requestSubmit()}},[c,o]);sr(Q,c);const ce=Tr(q),se=Ar(q),ie=hr(q);b.useEffect(()=>{(async()=>{l(!0);try{const{readData:T,SHEETS:R}=await Ie(async()=>{const{readData:$,SHEETS:Y}=await Promise.resolve().then(()=>Le);return{readData:$,SHEETS:Y}},void 0),ee=await T(R.PRODUKSI_NPK_MINI);if(ee.success&&ee.data){const $=ee.data.map(Y=>({...Y,_plant:"NPK2"})).sort((Y,Z)=>new Date(Z.tanggal).getTime()-new Date(Y.tanggal).getTime());i($)}else i([])}catch(T){console.error("Error fetching data:",T),i([])}finally{l(!1)}})()},[]);const xe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],be=b.useMemo(()=>{const K=new Date().getFullYear(),T=s.map($=>{const Y=new Date($.tanggal);return isNaN(Y.getTime())?K:Y.getFullYear()}),R=[K,K-1,K-2];return[...new Set([...T,...R])].sort(($,Y)=>Y-$)},[s]),ue=b.useMemo(()=>s.filter(K=>{const T=new Date(K.tanggal);return!isNaN(T.getTime())&&T.getFullYear()===S}),[s,S]),fe=b.useMemo(()=>{const K=ue.filter(ee=>new Date(ee.tanggal).getMonth()===P),T=K.reduce((ee,$)=>ee+ne($.tonase),0),R=new Set(K.map(ee=>ee.formulasi)).size;return{monthName:xe[P],year:S,total:T,formulasiCount:R,entryCount:K.length}},[ue,S,P]),me=async K=>{K.preventDefault(),l(!0);try{if(k){const T=await r("produksi_npk_mini",{...w,id:k,_plant:"NPK2"});if(T.success)i(R=>R.map(ee=>ee.id===k?{...w,id:k,_plant:"NPK2"}:ee));else throw new Error(T.error||"Gagal mengupdate data")}else{const T={...w,_plant:"NPK2"},R=await t("produksi_npk_mini",T);if(R.success&&R.data){const ee={...R.data,_plant:"NPK2"};i($=>[ee,...$])}else throw new Error(R.error||"Gagal menyimpan data")}u(!1),j(Gc),y(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(T){console.error("Error saving data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},de=K=>{if(ce){G(K),_("edit"),M(!0);return}j(K),y(K.id||null),u(!0)},je=K=>{if(se){const T=s.find(R=>R.id===K);T&&(G(T),_("delete"),M(!0));return}x(K),f(!0)},J=async K=>{if(!(!B||!e)){l(!0);try{const T="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",R={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:e.nama,requestedByRole:e.role,requestedByPlant:e.plant,actionType:E,targetSheet:"PRODUKSI_NPK_MINI",targetId:B.id,targetData:JSON.stringify(B),reason:K,status:"pending",requestedAt:new Date().toISOString()}},ee=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R),mode:"no-cors"});console.log("Approval response:",ee.status),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),M(!1),G(null)}catch(T){console.error("Error submitting approval:",T),alert("Gagal mengirim permintaan approval")}finally{l(!1)}}},A=async()=>{if(v){l(!0);try{const K=await n("produksi_npk_mini",{id:v,_plant:"NPK2"});if(K.success)i(T=>T.filter(R=>R.id!==v)),f(!1),x(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(K.error||"Gagal menghapus data")}catch(K){console.error("Error deleting data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},D=()=>{j(Gc),y(null),u(!0)},z=[{key:"tanggal",header:"Tanggal",sortable:!0,render:K=>We(K)},{key:"formulasi",header:"Formulasi"},{key:"tonase",header:"Tonase",render:K=>a.jsxs("span",{className:"font-semibold text-primary-600",children:[H(ne(K))," Ton"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Mini"}),a.jsx(Te,{variant:"success",children:"NPK2"})]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data produksi NPK Mini untuk NPK2"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),oe&&a.jsxs(ae,{onClick:D,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx("div",{className:"rounded-xl p-5 text-white shadow-md bg-gradient-to-r from-green-500 to-green-600",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_m,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold",children:["Produksi Bulan ",fe.monthName," ",fe.year]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[fe.entryCount," entry data"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[a.jsx("select",{value:P,onChange:K=>O(Number(K.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:xe.map((K,T)=>a.jsx("option",{value:T,className:"text-dark-900",children:K},T))}),a.jsx("select",{value:S,onChange:K=>N(Number(K.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:be.map(K=>a.jsx("option",{value:K,className:"text-dark-900",children:K},K))}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold",children:[H(fe.total)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Formulasi"}),a.jsxs("p",{className:"text-xl font-bold",children:[fe.formulasiCount," ",a.jsx("span",{className:"text-sm font-normal",children:"Jenis"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Tonase (",S,")"]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[H(ue.reduce((K,T)=>K+ne(T.tonase),0))," ","Ton"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Formulasi (",S,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(ue.map(K=>K.formulasi)).size})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Entry (",S,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:ue.length})]})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(at,{children:"Data Produksi NPK Mini"})})}),a.jsx(nr,{data:s,columns:z,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, formulasi, tonase...",searchKeys:["tanggal","formulasi","tonase"],actions:ie?K=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),X(K.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):K=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),X(K.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),de(K)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),je(K.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:c,onClose:()=>{u(!1),j(Gc),y(null)},title:k?"Edit Data NPK Mini":"Tambah Data NPK Mini",size:"md",children:a.jsxs("form",{onSubmit:me,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:w.tanggal,onChange:K=>j(T=>({...T,tanggal:K.target.value})),required:!0}),a.jsx(ge,{label:"Formulasi",type:"text",value:w.formulasi,onChange:K=>j(T=>({...T,formulasi:K.target.value})),placeholder:"Masukkan formulasi (contoh: NPK Mini 15-15-15)",required:!0}),a.jsx(ge,{label:"Tonase (Ton)",type:"number",value:w.tonase,onChange:K=>j(T=>({...T,tonase:Number(K.target.value)})),min:"0",step:"0.01",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{u(!1),j(Gc),y(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:o,children:k?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:d,onClose:()=>{f(!1),x(null)},onConfirm:A,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Or,{isOpen:C,onClose:()=>{M(!1),G(null)},onSubmit:J,action:E,itemName:"data produksi NPK Mini",loading:o}),a.jsx(Gt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),a.jsx(oc,{isOpen:g,onClose:()=>m(!1),title:"Produksi NPK Mini",plant:"NPK Plant 2",data:s,columns:[{key:"tanggal",header:"Tanggal",render:K=>We(K),width:"100px"},{key:"formulasi",header:"Formulasi",width:"150px"},{key:"tonase",header:"Tonase (Ton)",render:K=>H(ne(K)),align:"right",width:"100px"}],signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:K=>H(K.reduce((T,R)=>T+ne(R.tonase),0))+" Ton"}]}),a.jsx(ar,{isOpen:L,onClose:()=>{I(!1),F("")},sheetName:"produksi_npk_mini",recordId:V,title:"Log Aktivitas Produksi NPK Mini"})]})},Xx=new Date().getFullYear(),dme=[...Array.from({length:Xx-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(Xx+1),label:String(Xx+1)}],qc={tanggal:It(),item:"",deskripsi:"",jamOff:"",jamStart:"",downtime:0},oA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(qc),[j,S]=b.useState(String(new Date().getFullYear())),[N,P]=b.useState(!1),[O,C]=b.useState("edit"),[M,E]=b.useState(null),[_,B]=b.useState(!1),[G,L]=b.useState(!1),[I,V]=b.useState(""),F=A=>{V(A),L(!0)},X=(t==null?void 0:t.role)||"",q=kr(X),oe=b.useCallback(()=>{if(u&&!l){const A=document.querySelector("form");A&&A.requestSubmit()}},[u,l]);sr(oe,u);const Q=Tr(X),ce=Ar(X),se=hr(X);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:D,SHEETS:z,getSheetNameByPlant:K}=await Ie(async()=>{const{readData:ee,SHEETS:$,getSheetNameByPlant:Y}=await Promise.resolve().then(()=>Le);return{readData:ee,SHEETS:$,getSheetNameByPlant:Y}},void 0),T=K(z.DOWNTIME,e),R=await D(T);if(R.success&&R.data){const ee=R.data.map($=>({...$,_plant:e})).sort(($,Y)=>new Date(Y.tanggal).getTime()-new Date($.tanggal).getTime());o(ee)}else o([])}catch(D){console.error("Error fetching data:",D),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(x.jamOff&&x.jamStart){const A=cC(x.jamOff,x.jamStart);w(D=>({...D,downtime:A}))}},[x.jamOff,x.jamStart]);const ie=async A=>{A.preventDefault(),c(!0);try{if(m){const D={...x,id:m,_plant:e},z=await n("downtime",D);if(z.success)o(K=>K.map(T=>T.id===m?{...x,id:m,_plant:e}:T));else throw new Error(z.error||"Gagal mengupdate data")}else{const D={...x,_plant:e},z=await r("downtime",D);if(z.success&&z.data){const K={...z.data,_plant:e};o(T=>[K,...T])}else throw new Error(z.error||"Gagal menyimpan data")}d(!1),w(qc),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(D){console.error("Error saving data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},xe=A=>{if(Q){E(A),C("edit"),P(!0);return}w(A),k(A.id||null),d(!0)},be=A=>{if(ce){const D=i.find(z=>z.id===A);D&&(E(D),C("delete"),P(!0));return}v(A),h(!0)},ue=async A=>{if(!(!M||!t)){c(!0);try{const D="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",z={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:O,targetSheet:"DOWNTIME",targetId:M.id,targetData:JSON.stringify(M),reason:A,status:"pending",requestedAt:new Date().toISOString()}};await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),P(!1),E(null)}catch(D){console.error("Error submitting approval:",D),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},fe=async()=>{if(y){c(!0);try{const A=await s("downtime",{id:y,_plant:e});if(A.success)o(D=>D.filter(z=>z.id!==y)),h(!1),v(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(A.error||"Gagal menghapus data")}catch(A){console.error("Error deleting data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},me=()=>{w(qc),k(null),d(!0)},de=i.filter(A=>new Date(A.tanggal).getFullYear()===parseInt(j)),je=de.reduce((A,D)=>A+ne(D.downtime),0),J=[{key:"tanggal",header:"Tanggal",sortable:!0,render:A=>We(A)},{key:"item",header:"Equipment"},{key:"deskripsi",header:"Deskripsi"},{key:"jamOff",header:"Jam Off",render:A=>ln(A)},{key:"jamStart",header:"Jam Start",render:A=>ln(A)},{key:"downtime",header:"Downtime (Jam)",render:A=>a.jsxs("span",{className:"font-semibold text-amber-600",children:[H(ne(A))," Jam"]})},{key:"_plant",header:"Plant",render:A=>a.jsx(Te,{variant:A==="NPK1"?"primary":"success",children:A})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Downtime"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data downtime equipment untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>B(!0),children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),q&&a.jsxs(ae,{onClick:me,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Downtime"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[H(je)," Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:de.length})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rata-rata Downtime"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[H(de.length>0?je/de.length:0)," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Equipment Terdampak"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(de.map(A=>A.item)).size})]})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Downtime - Tahun ",j]}),a.jsx(De,{value:j,onChange:A=>S(A.target.value),options:dme,className:"w-32"})]})}),a.jsx(nr,{data:de,columns:J,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, deskripsi, plant...",searchKeys:["tanggal","item","deskripsi","jamOff","jamStart","downtime","_plant"],actions:se?A=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),F(A.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):A=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),F(A.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),xe(A)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),be(A.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),w(qc),k(null)},title:m?"Edit Data Downtime":"Tambah Data Downtime",size:"md",children:a.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:A=>w(D=>({...D,tanggal:A.target.value})),required:!0}),a.jsx(ge,{label:"Equipment",type:"text",value:x.item,onChange:A=>w(D=>({...D,item:A.target.value})),placeholder:"Nama equipment",required:!0}),a.jsx(ge,{label:"Deskripsi",type:"text",value:x.deskripsi,onChange:A=>w(D=>({...D,deskripsi:A.target.value})),placeholder:"Deskripsi kejadian downtime",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Jam Off",type:"time",value:x.jamOff,onChange:A=>w(D=>({...D,jamOff:A.target.value})),required:!0}),a.jsx(ge,{label:"Jam Start",type:"time",value:x.jamStart,onChange:A=>w(D=>({...D,jamStart:A.target.value})),required:!0})]}),a.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:a.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[a.jsx("span",{className:"font-medium",children:"Downtime (Auto):"})," ",H(x.downtime||0)," Jam"]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(qc),k(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:fe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:N,onClose:()=>{P(!1),E(null)},onSubmit:ue,action:O,loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(oc,{isOpen:_,onClose:()=>B(!1),title:`Downtime ${e}`,data:i,columns:[{key:"tanggal",header:"Tanggal",render:A=>We(A),align:"center"},{key:"item",header:"Equipment",align:"left"},{key:"deskripsi",header:"Deskripsi",align:"left"},{key:"jamOff",header:"Jam Off",render:A=>ln(A),align:"center"},{key:"jamStart",header:"Jam Start",render:A=>ln(A),align:"center"},{key:"downtime",header:"Downtime (Jam)",render:A=>H(ne(A)),align:"right"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Downtime",getValue:A=>H(A.reduce((D,z)=>D+ne(z.downtime),0))+" Jam"}],plant:e,compactMode:!0}),a.jsx(ar,{isOpen:G,onClose:()=>{L(!1),V("")},sheetName:e==="NPK1"?"downtime_NPK1":"downtime",recordId:I,title:"Log Aktivitas Downtime"})]})},Qx=new Date().getFullYear(),fme=[...Array.from({length:Qx-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(Qx+1),label:String(Qx+1)}],Yc={tanggal:It(),forklift:"",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},lA=(e,t)=>{let r=e.keterangan;return!r&&e.jamOff&&e.jamStart&&(r=ad(e.jamOff,e.jamStart)<=2?"Operasi":"Grounded"),{...e,_plant:t,keterangan:r}},cA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[y,v]=b.useState(null),[x,w]=b.useState(null),[j,S]=b.useState(Yc),[N,P]=b.useState(String(new Date().getFullYear())),[O,C]=b.useState(!1),[M,E]=b.useState("edit"),[_,B]=b.useState(null),[G,L]=b.useState(!1),[I,V]=b.useState(""),F=A=>{V(A),L(!0)},X=(t==null?void 0:t.role)||"",q=kr(X),oe=b.useCallback(()=>{if(u&&!l){const A=document.querySelector("form");A&&A.requestSubmit()}},[u,l]);sr(oe,u);const Q=Tr(X),ce=Ar(X),se=hr(X),ie=e==="NPK1"?[{value:"F15",label:"F15"},{value:"F16",label:"F16"},{value:"F17",label:"F17"},{value:"F18",label:"F18"},{value:"ALL",label:"Semua Forklift"}]:[{value:"F19",label:"F19"},{value:"F20",label:"F20"},{value:"F21",label:"F21"},{value:"F22",label:"F22"},{value:"F23",label:"F23"},{value:"ALL",label:"Semua Forklift"}];b.useEffect(()=>{(async()=>{c(!0);try{const{readData:D,SHEETS:z,getSheetNameByPlant:K}=await Ie(async()=>{const{readData:ee,SHEETS:$,getSheetNameByPlant:Y}=await Promise.resolve().then(()=>Le);return{readData:ee,SHEETS:$,getSheetNameByPlant:Y}},void 0),T=K(z.TIMESHEET_FORKLIFT,e),R=await D(T);if(R.success&&R.data){const ee=R.data.map($=>lA($,e)).sort(($,Y)=>new Date(Y.tanggal).getTime()-new Date($.tanggal).getTime());o(ee)}else o([])}catch(D){console.error("Error fetching data:",D),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(j.jamOff&&j.jamStart){const A=ad(j.jamOff,j.jamStart),D=Math.max(0,20-A);S(z=>({...z,jamGrounded:A,jamOperasi:D,keterangan:A<=2?"Operasi":"Grounded"}))}},[j.jamOff,j.jamStart]);const xe=async A=>{A.preventDefault(),c(!0);try{const{readData:D,SHEETS:z,getSheetNameByPlant:K}=await Ie(async()=>{const{readData:R,SHEETS:ee,getSheetNameByPlant:$}=await Promise.resolve().then(()=>Le);return{readData:R,SHEETS:ee,getSheetNameByPlant:$}},void 0),T=K(z.TIMESHEET_FORKLIFT,e);if(j.forklift==="ALL"&&!y){const R=e==="NPK1"?["F15","F16","F17","F18"]:["F19","F20","F21","F22","F23"];for(const $ of R){const Y={...j,forklift:$,_plant:e};await r("timesheet_forklift",Y)}const ee=await D(T);if(ee.success&&ee.data){const $=ee.data.map(Y=>lA(Y,e)).sort((Y,Z)=>new Date(Z.tanggal).getTime()-new Date(Y.tanggal).getTime());o($)}}else if(y){const R={...j,id:y,_plant:e},ee=await n("timesheet_forklift",R);if(ee.success)o($=>$.map(Y=>Y.id===y?{...j,id:y,_plant:e}:Y));else throw new Error(ee.error||"Gagal mengupdate data")}else{const R={...j,_plant:e},ee=await r("timesheet_forklift",R);if(ee.success&&ee.data){const $={...ee.data,_plant:e};o(Y=>[$,...Y])}else throw new Error(ee.error||"Gagal menyimpan data")}d(!1),S(Yc),v(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(D){console.error("Error saving data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},be=A=>{if(Q){B(A),E("edit"),C(!0);return}S(A),v(A.id||null),d(!0)},ue=A=>{if(ce){const D=i.find(z=>z.id===A);D&&(B(D),E("delete"),C(!0));return}w(A),h(!0)},fe=async A=>{if(!(!_||!t)){c(!0);try{const D="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",z={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:M,targetSheet:"TIMESHEET_FORKLIFT",targetId:_.id,targetData:JSON.stringify(_),reason:A,status:"pending",requestedAt:new Date().toISOString()}};await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),C(!1),B(null)}catch(D){console.error("Error submitting approval:",D),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},me=async()=>{if(x){c(!0);try{const A=await s("timesheet_forklift",{id:x,_plant:e});if(A.success)o(D=>D.filter(z=>z.id!==x)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(A.error||"Gagal menghapus data")}catch(A){console.error("Error deleting data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},de=()=>{S(Yc),v(null),d(!0)},je=i.filter(A=>new Date(A.tanggal).getFullYear()===parseInt(N)),J=[{key:"tanggal",header:"Tanggal",sortable:!0,render:A=>We(A)},{key:"forklift",header:"Forklift",render:A=>a.jsx(Te,{variant:"primary",children:A})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:A=>ln(A)},{key:"jamStart",header:"Jam Start",render:A=>ln(A)},{key:"jamGrounded",header:"Jam Grounded",render:A=>a.jsx("span",{className:"font-semibold text-amber-600",children:H(ne(A))})},{key:"jamOperasi",header:"Jam Operasi",render:A=>a.jsx("span",{className:"font-semibold text-secondary-600",children:H(ne(A))})},{key:"keterangan",header:"Status",render:A=>a.jsx(Te,{variant:A==="Operasi"?"success":"warning",children:A})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Forklift"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet forklift harian untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),q&&a.jsxs(ae,{onClick:de,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Grounded"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[H(je.reduce((A,D)=>A+ne(D.jamGrounded),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Operasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[H(je.reduce((A,D)=>A+ne(D.jamOperasi),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Forklift Aktif"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(je.map(A=>A.forklift)).size})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:je.length})]})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(at,{children:"Data Timesheet Forklift"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:a.jsx(De,{value:N,onChange:A=>P(A.target.value),options:fme,className:"w-full sm:w-28"})})]})}),a.jsx(nr,{data:je,columns:J,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, forklift, deskripsi, status...",searchKeys:["tanggal","forklift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi","keterangan"],actions:se?A=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),F(A.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):A=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),F(A.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),be(A)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),ue(A.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),S(Yc),v(null)},title:y?"Edit Timesheet Forklift":"Tambah Timesheet Forklift",size:"md",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:j.tanggal,onChange:A=>S(D=>({...D,tanggal:A.target.value})),required:!0}),a.jsx(De,{label:"Forklift",value:j.forklift,onChange:A=>S(D=>({...D,forklift:A.target.value})),options:y?ie.filter(A=>A.value!=="ALL"):ie,placeholder:"Pilih forklift",required:!0}),a.jsx(ge,{label:"Deskripsi Temuan",type:"text",value:j.deskripsiTemuan,onChange:A=>S(D=>({...D,deskripsiTemuan:A.target.value})),placeholder:"Deskripsi temuan/kejadian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Jam Off",type:"time",value:j.jamOff,onChange:A=>S(D=>({...D,jamOff:A.target.value})),required:!0}),a.jsx(ge,{label:"Jam Start",type:"time",value:j.jamStart,onChange:A=>S(D=>({...D,jamStart:A.target.value})),required:!0})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),a.jsxs("span",{className:"font-semibold text-amber-600",children:[H(j.jamGrounded||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),a.jsxs("span",{className:"font-semibold text-secondary-600",children:[H(j.jamOperasi||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),a.jsx(Te,{variant:j.keterangan==="Operasi"?"success":"warning",children:j.keterangan||"-"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),S(Yc),v(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:y?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:me,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:O,onClose:()=>{C(!1),B(null)},onSubmit:fe,action:M,loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(oc,{isOpen:m,onClose:()=>k(!1),title:"Timesheet Forklift",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:A=>We(A),width:"65px"},{key:"forklift",header:"Forklift",width:"45px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Off",render:A=>ln(A),width:"40px"},{key:"jamStart",header:"Start",render:A=>ln(A),width:"40px"},{key:"jamGrounded",header:"Grounded",render:A=>H(ne(A)),align:"right",width:"50px"},{key:"jamOperasi",header:"Operasi",render:A=>H(ne(A)),align:"right",width:"45px"},{key:"keterangan",header:"Status",width:"55px"}],filters:{forklift:{label:"Forklift",options:ie.filter(A=>A.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Jam Grounded:",getValue:A=>H(A.reduce((D,z)=>D+ne(z.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:A=>H(A.reduce((D,z)=>D+ne(z.jamOperasi),0))+" Jam"}]}),a.jsx(ar,{isOpen:G,onClose:()=>{L(!1),V("")},sheetName:e==="NPK1"?"timesheet_forklift_NPK1":"timesheet_forklift",recordId:I,title:"Log Aktivitas Timesheet Forklift"})]})},Zx=new Date().getFullYear(),hme=[...Array.from({length:Zx-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(Zx+1),label:String(Zx+1)}],Jc={tanggal:It(),shift:"Malam",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},e0=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"},{value:"ALL",label:"Semua Shift"}],sb=e=>e==="Malam"?8:7,uA=(e,t)=>{let r=e.keterangan;if(!r&&e.jamOff&&e.jamStart){const n=ad(e.jamOff,e.jamStart),s=sb(e.shift||"Malam");r=Math.max(0,s-n)<s?"Grounded":"Operasi"}return{...e,_plant:t,keterangan:r}},dA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[y,v]=b.useState(null),[x,w]=b.useState(null),[j,S]=b.useState(Jc),[N,P]=b.useState(String(new Date().getFullYear())),[O,C]=b.useState(!1),[M,E]=b.useState("edit"),[_,B]=b.useState(null),[G,L]=b.useState(!1),[I,V]=b.useState(""),F=J=>{V(J),L(!0)},X=(t==null?void 0:t.role)||"",q=kr(X),oe=b.useCallback(()=>{if(u&&!l){const J=document.querySelector("form");J&&J.requestSubmit()}},[u,l]);sr(oe,u);const Q=Tr(X),ce=Ar(X),se=hr(X);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:A,SHEETS:D,getSheetNameByPlant:z}=await Ie(async()=>{const{readData:R,SHEETS:ee,getSheetNameByPlant:$}=await Promise.resolve().then(()=>Le);return{readData:R,SHEETS:ee,getSheetNameByPlant:$}},void 0),K=z(D.TIMESHEET_LOADER,e),T=await A(K);if(T.success&&T.data){const R=T.data.map(ee=>uA(ee,e)).sort((ee,$)=>new Date($.tanggal).getTime()-new Date(ee.tanggal).getTime());o(R)}else o([])}catch(A){console.error("Error fetching data:",A),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(j.jamOff&&j.jamStart){const J=ad(j.jamOff,j.jamStart),A=sb(j.shift),D=Math.max(0,A-J),z=D<A?"Grounded":"Operasi";S(K=>({...K,jamGrounded:J,jamOperasi:D,keterangan:z}))}},[j.jamOff,j.jamStart,j.shift]);const ie=async J=>{J.preventDefault(),c(!0);try{const{readData:A,SHEETS:D,getSheetNameByPlant:z}=await Ie(async()=>{const{readData:T,SHEETS:R,getSheetNameByPlant:ee}=await Promise.resolve().then(()=>Le);return{readData:T,SHEETS:R,getSheetNameByPlant:ee}},void 0),K=z(D.TIMESHEET_LOADER,e);if(j.shift==="ALL"&&!y){const T=["Malam","Pagi","Sore"];for(const ee of T){const $=sb(ee),Y=ad(j.jamOff,j.jamStart),Z=Math.max(0,$-Y),W=Z<$?"Grounded":"Operasi",le={...j,shift:ee,jamGrounded:Y,jamOperasi:Z,keterangan:W,_plant:e};await r("timesheet_loader",le)}const R=await A(K);if(R.success&&R.data){const ee=R.data.map($=>uA($,e)).sort(($,Y)=>new Date(Y.tanggal).getTime()-new Date($.tanggal).getTime());o(ee)}}else if(y){const T={...j,id:y,_plant:e},R=await n("timesheet_loader",T);if(R.success)o(ee=>ee.map($=>$.id===y?{...j,id:y,_plant:e}:$));else throw new Error(R.error||"Gagal mengupdate data")}else{const T={...j,_plant:e},R=await r("timesheet_loader",T);if(R.success&&R.data){const ee={...R.data,_plant:e};o($=>[ee,...$])}else throw new Error(R.error||"Gagal menyimpan data")}d(!1),S(Jc),v(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(A){console.error("Error saving data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},xe=J=>{if(Q){B(J),E("edit"),C(!0);return}S(J),v(J.id||null),d(!0)},be=J=>{if(ce){const A=i.find(D=>D.id===J);A&&(B(A),E("delete"),C(!0));return}w(J),h(!0)},ue=async J=>{if(!(!_||!t)){c(!0);try{const A="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",D={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:M,targetSheet:"TIMESHEET_LOADER",targetId:_.id,targetData:JSON.stringify(_),reason:J,status:"pending",requestedAt:new Date().toISOString()}};await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),C(!1),B(null)}catch(A){console.error("Error submitting approval:",A),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},fe=async()=>{if(x){c(!0);try{const J=await s("timesheet_loader",{id:x,_plant:e});if(J.success)o(A=>A.filter(D=>D.id!==x)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(J.error||"Gagal menghapus data")}catch(J){console.error("Error deleting data:",J),alert(J instanceof Error?J.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},me=()=>{S(Jc),v(null),d(!0)},de=i.filter(J=>new Date(J.tanggal).getFullYear()===parseInt(N)),je=[{key:"tanggal",header:"Tanggal",sortable:!0,render:J=>We(J)},{key:"shift",header:"Shift",render:J=>a.jsx(Te,{variant:J==="Malam"?"primary":J==="Pagi"?"success":"warning",children:J})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:J=>ln(J)},{key:"jamStart",header:"Jam Start",render:J=>ln(J)},{key:"jamGrounded",header:"Jam Grounded",render:J=>a.jsx("span",{className:"font-semibold text-amber-600",children:H(ne(J))})},{key:"jamOperasi",header:"Jam Operasi",render:J=>a.jsx("span",{className:"font-semibold text-secondary-600",children:H(ne(J))})},{key:"keterangan",header:"Status",render:J=>a.jsx(Te,{variant:J==="Operasi"?"success":"warning",children:J})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Loader"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet loader harian untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),q&&a.jsxs(ae,{onClick:me,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Grounded"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[H(de.reduce((J,A)=>J+ne(A.jamGrounded),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Operasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[H(de.reduce((J,A)=>J+ne(A.jamOperasi),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Shift"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:de.length})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:de.length})]})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(at,{children:"Data Timesheet Loader"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:a.jsx(De,{value:N,onChange:J=>P(J.target.value),options:hme,className:"w-full sm:w-28"})})]})}),a.jsx(nr,{data:de,columns:je,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, shift, deskripsi, jam...",searchKeys:["tanggal","shift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi"],actions:se?J=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),F(J.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):J=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),F(J.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),xe(J)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),be(J.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),S(Jc),v(null)},title:y?"Edit Timesheet Loader":"Tambah Timesheet Loader",size:"md",children:a.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:j.tanggal,onChange:J=>S(A=>({...A,tanggal:J.target.value})),required:!0}),a.jsx(De,{label:"Shift",value:j.shift,onChange:J=>S(A=>({...A,shift:J.target.value})),options:y?e0.filter(J=>J.value!=="ALL"):e0,required:!0}),a.jsx(ge,{label:"Deskripsi Temuan",type:"text",value:j.deskripsiTemuan,onChange:J=>S(A=>({...A,deskripsiTemuan:J.target.value})),placeholder:"Deskripsi temuan/kejadian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Jam Off",type:"time",value:j.jamOff,onChange:J=>S(A=>({...A,jamOff:J.target.value})),required:!0}),a.jsx(ge,{label:"Jam Start",type:"time",value:j.jamStart,onChange:J=>S(A=>({...A,jamStart:J.target.value})),required:!0})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),a.jsxs("span",{className:"font-semibold text-amber-600",children:[H(j.jamGrounded||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),a.jsxs("span",{className:"font-semibold text-secondary-600",children:[H(j.jamOperasi||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),a.jsx(Te,{variant:j.keterangan==="Operasi"?"success":"warning",children:j.keterangan||"-"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),S(Jc),v(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:y?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:fe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:O,onClose:()=>{C(!1),B(null)},onSubmit:ue,action:M,loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(oc,{isOpen:m,onClose:()=>k(!1),title:"Timesheet Loader",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:J=>We(J),width:"75px"},{key:"shift",header:"Shift",width:"55px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Jam Off",render:J=>ln(J),width:"55px"},{key:"jamStart",header:"Jam Start",render:J=>ln(J),width:"60px"},{key:"jamGrounded",header:"Grounded",render:J=>H(ne(J)),align:"right",width:"60px"},{key:"jamOperasi",header:"Operasi",render:J=>H(ne(J)),align:"right",width:"55px"},{key:"keterangan",header:"Status",width:"65px"}],filters:{shift:{label:"Shift",options:e0.filter(J=>J.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"menyetujui",label:"Menyetujui"},{role:"operator",label:"Operator Loader"}],summaryRows:[{label:"Total Jam Grounded:",getValue:J=>H(J.reduce((A,D)=>A+ne(D.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:J=>H(J.reduce((A,D)=>A+ne(D.jamOperasi),0))+" Jam"}]}),a.jsx(ar,{isOpen:G,onClose:()=>{L(!1),V("")},sheetName:e==="NPK1"?"timesheet_loader_NPK1":"timesheet_loader",recordId:I,title:"Log Aktivitas Timesheet Loader"})]})},t0={sectionHead:"",operatorPanel:""},$r={malam:"",pagi:"",sore:""},rt={awal:"",akhir:""},r0={tanggal:It(),jenisOperasi:"NORMAL OPERASI",shiftMalam:{...t0},shiftPagi:{...t0},shiftSore:{...t0},steamMalam:{...rt},steamPagi:{...rt},steamSore:{...rt},gasMalam:{...rt},gasPagi:{...rt},gasSore:{...rt},kursDollar:"16000",dryerTempProdukOut:{...$r},produkN:{...$r},produkP:{...$r},produkK:{...$r},produkMoisture:{...$r},produkKekerasan:{...$r},produkTimbangan:{...$r},produkTonase:{...$r}},n0=new Date().getFullYear(),pme=[...Array.from({length:n0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(n0+1),label:String(n0+1)}],t$=["shiftMalam","shiftPagi","shiftSore","steamMalam","steamPagi","steamSore","gasMalam","gasPagi","gasSore","dryerTempProdukOut","produkN","produkP","produkK","produkMoisture","produkKekerasan","produkTimbangan","produkTonase"],fA=e=>{const t={...e};return t$.forEach(r=>{t[r]&&typeof t[r]=="object"&&(t[r]=JSON.stringify(t[r]))}),t},mme=e=>{const t={...e};return t$.forEach(r=>{if(t[r]&&typeof t[r]=="string")try{t[r]=JSON.parse(t[r])}catch{const n=t[r];if(n.startsWith("{")&&n.includes("=")){const s={};n.slice(1,-1).split(", ").forEach(l=>{const[c,u]=l.split("=");c&&u!==void 0&&(s[c.trim()]=u.trim())}),t[r]=s}}}),t},vt={folwSteam:{label:"0.5 - 2.5"},flowGas:{label:"200 - 300"},tempProdukOut:{label:"55 - 70"},produkN:{label:"13.8 - 16.2"},produkP:{label:"9.2 - 10.2"},produkK:{label:"11.04 - 12.96"},moisture:{label:"Maks. 3"},kekerasan:{label:"Min. 1"},timbangan:{label:"50.00 - 50.3"},tonase:{label:"Min 110 Ton/Shift"}},Ur=e=>{const t=ne(e.awal||"0"),n=ne(e.akhir||"0")-t,s=n/8/1e3;return{selisih:n,flowPerHour:s,costRp:0}},Hr=e=>{const t=ne(e.awal||"0"),n=ne(e.akhir||"0")-t,s=n/8;return{selisih:n,flowPerHour:s,costRp:0}},Wr=e=>e/1e3*266263,Gr=(e,t)=>e*.02831*1043.3294/1e6*5.65*t*8,xl=(e,t,r=2)=>(Math.random()*(t-e)+e).toFixed(r),hA=()=>({malam:xl(55,70,1),pagi:xl(55,70,1),sore:xl(55,70,1)}),pA=()=>({malam:xl(50,50.3,2),pagi:xl(50,50.3,2),sore:xl(50,50.3,2)}),Is=({label:e,target:t,value:r,onChange:n,indikator:s,satuan:i})=>a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:e}),a.jsxs("p",{className:"text-xs text-dark-400",children:[s," | ",i]})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:t})}),a.jsx("div",{children:a.jsx(ge,{type:"text",placeholder:"Malam",value:r.malam,onChange:o=>n({...r,malam:o.target.value}),className:"text-sm"})}),a.jsx("div",{children:a.jsx(ge,{type:"text",placeholder:"Pagi",value:r.pagi,onChange:o=>n({...r,pagi:o.target.value}),className:"text-sm"})}),a.jsx("div",{children:a.jsx(ge,{type:"text",placeholder:"Sore",value:r.sore,onChange:o=>n({...r,sore:o.target.value}),className:"text-sm"})}),a.jsx("div",{})]}),mA=({plant:e})=>{var Ve,ft,zr,Vr,Tt,qt,Oo,On,Me,Eo,pf,mf,Og,Hj,Wj,Gj,qj,Yj,Jj,Xj,Qj,Zj;const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[y,v]=b.useState(null),[x,w]=b.useState(null),[j,S]=b.useState(null),[N,P]=b.useState(r0),[O,C]=b.useState(""),[M,E]=b.useState(""),[_,B]=b.useState(String(new Date().getFullYear())),[G,L]=b.useState(!1),[I,V]=b.useState(null),[F,X]=b.useState(!1),[q,oe]=b.useState(""),Q=te=>{oe(te),X(!0)},[ce,se]=b.useState(!1),[ie,xe]=b.useState(""),[be,ue]=b.useState(!1),[fe,me]=b.useState("edit"),[de,je]=b.useState(null),[J,A]=b.useState({steamMalam:{selisih:0,flowPerHour:0,costRp:0},steamPagi:{selisih:0,flowPerHour:0,costRp:0},steamSore:{selisih:0,flowPerHour:0,costRp:0},gasMalam:{selisih:0,flowPerHour:0,costRp:0},gasPagi:{selisih:0,flowPerHour:0,costRp:0},gasSore:{selisih:0,flowPerHour:0,costRp:0},totalSteamRp:0,totalGasRp:0}),[D,z]=b.useState(!1),[K,T]=b.useState(""),R=(t==null?void 0:t.role)||"",ee=kr(R),$=Tr(R),Y=Ar(R),Z=hr(R),W=b.useCallback(async()=>{z(!0),T("");try{const{getExchangeRate:te}=await Ie(async()=>{const{getExchangeRate:_e}=await Promise.resolve().then(()=>Le);return{getExchangeRate:_e}},void 0),Oe=await te();Oe.success&&Oe.data?(P(_e=>({..._e,kursDollar:Oe.data.rate.toString()})),T(` Kurs diupdate: ${Oe.data.formatted}`)):T(" Gagal mengambil kurs, gunakan manual")}catch(te){console.error("Error fetching exchange rate:",te),T(" Gagal mengambil kurs, gunakan manual")}finally{z(!1)}},[]);b.useEffect(()=>{u&&!x&&W()},[u,x,W]);const le=b.useCallback(()=>{if(u&&!l){const te=document.querySelector("form");te&&te.requestSubmit()}},[u,l]);sr(le,u);const U=[{value:"NORMAL OPERASI",label:"NORMAL OPERASI"},{value:"ABNORMAL",label:"ABNORMAL"},{value:"SHUTDOWN",label:"SHUTDOWN"},{value:"START UP",label:"START UP"}];b.useEffect(()=>{const te=ne(N.kursDollar||"16000"),Oe=Ur(N.steamMalam||rt),_e=Ur(N.steamPagi||rt),Ze=Ur(N.steamSore||rt),tt=Hr(N.gasMalam||rt),lt=Hr(N.gasPagi||rt),it=Hr(N.gasSore||rt);Oe.costRp=Wr(Oe.selisih),_e.costRp=Wr(_e.selisih),Ze.costRp=Wr(Ze.selisih),tt.costRp=Gr(tt.selisih,te),lt.costRp=Gr(lt.selisih,te),it.costRp=Gr(it.selisih,te);const xt=Oe.costRp+_e.costRp+Ze.costRp,Ut=tt.costRp+lt.costRp+it.costRp;A({steamMalam:Oe,steamPagi:_e,steamSore:Ze,gasMalam:tt,gasPagi:lt,gasSore:it,totalSteamRp:xt,totalGasRp:Ut})},[N.steamMalam,N.steamPagi,N.steamSore,N.gasMalam,N.gasPagi,N.gasSore,N.kursDollar]),b.useEffect(()=>{var te;(te=N.steamMalam)!=null&&te.akhir&&P(Oe=>{var _e;return{...Oe,steamPagi:{...Oe.steamPagi,awal:((_e=Oe.steamMalam)==null?void 0:_e.akhir)||""}}})},[(Ve=N.steamMalam)==null?void 0:Ve.akhir]),b.useEffect(()=>{var te;(te=N.steamPagi)!=null&&te.akhir&&P(Oe=>{var _e;return{...Oe,steamSore:{...Oe.steamSore,awal:((_e=Oe.steamPagi)==null?void 0:_e.akhir)||""}}})},[(ft=N.steamPagi)==null?void 0:ft.akhir]),b.useEffect(()=>{var te;(te=N.gasMalam)!=null&&te.akhir&&P(Oe=>{var _e;return{...Oe,gasPagi:{...Oe.gasPagi,awal:((_e=Oe.gasMalam)==null?void 0:_e.akhir)||""}}})},[(zr=N.gasMalam)==null?void 0:zr.akhir]),b.useEffect(()=>{var te;(te=N.gasPagi)!=null&&te.akhir&&P(Oe=>{var _e;return{...Oe,gasSore:{...Oe.gasSore,awal:((_e=Oe.gasPagi)==null?void 0:_e.akhir)||""}}})},[(Vr=N.gasPagi)==null?void 0:Vr.akhir]);const he=()=>{P(te=>({...te,dryerTempProdukOut:hA(),produkTimbangan:pA()}))};b.useEffect(()=>{(async()=>{c(!0);try{const{readData:Oe,SHEETS:_e,getSheetNameByPlant:Ze}=await Ie(async()=>{const{readData:it,SHEETS:xt,getSheetNameByPlant:Ut}=await Promise.resolve().then(()=>Le);return{readData:it,SHEETS:xt,getSheetNameByPlant:Ut}},void 0),tt=Ze(_e.KOP,e),lt=await Oe(tt);if(lt.success&&lt.data){const it=lt.data.map(xt=>({...mme(xt),_plant:e})).sort((xt,Ut)=>new Date(Ut.tanggal).getTime()-new Date(xt.tanggal).getTime());o(it)}else o([])}catch(Oe){console.error("Error fetching KOP data:",Oe),o([])}finally{c(!1)}})()},[e]);const ye=async te=>{te.preventDefault(),c(!0);try{if(x){const Oe=fA({...N,id:x,_plant:e}),_e=await n("kop",Oe);if(_e.success)o(Ze=>Ze.map(tt=>tt.id===x?{...N,id:x,_plant:e}:tt));else throw new Error(_e.error||"Gagal mengupdate data")}else{const Oe=fA({...N,_plant:e}),_e=await r("kop",Oe);if(_e.success&&_e.data){const Ze={...N,_plant:e};_e.data.id&&(Ze.id=_e.data.id),o(tt=>[Ze,...tt])}else throw new Error(_e.error||"Gagal menyimpan data")}d(!1),P(r0),w(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Oe){console.error("Error saving KOP data:",Oe),alert(Oe instanceof Error?Oe.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},$e=te=>{V(te),L(!0)},Be=te=>{if($){je(te),me("edit"),ue(!0);return}P(te),w(te.id||null),d(!0)},Fe=te=>{if(Y){const Oe=i.find(_e=>_e.id===te);Oe&&(je(Oe),me("delete"),ue(!0));return}S(te),h(!0)},Qe=async()=>{if(j){c(!0);try{const te=await s("kop",{id:j,_plant:e});if(te.success)o(Oe=>Oe.filter(_e=>_e.id!==j)),h(!1),S(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(te.error||"Gagal menghapus data")}catch(te){console.error("Error deleting KOP data:",te),alert(te instanceof Error?te.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Ye=async te=>{if(!(!de||!t)){c(!0);try{const{createData:Oe,SHEETS:_e}=await Ie(async()=>{const{createData:Ze,SHEETS:tt}=await Promise.resolve().then(()=>Le);return{createData:Ze,SHEETS:tt}},void 0);await Oe(_e.APPROVAL_REQUESTS,{requestedBy:t.nama||t.namaLengkap,requestedByRole:t.role,requestedByPlant:t.plant,actionType:fe,targetSheet:"KOP",targetId:de.id,targetData:JSON.stringify(de),reason:te,status:"pending",requestedAt:new Date().toISOString()}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),ue(!1),je(null)}catch(Oe){console.error("Error submitting approval:",Oe),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Dt=()=>{P({...r0,tanggal:It(),dryerTempProdukOut:hA(),produkTimbangan:pA()}),w(null),d(!0)},ya=te=>{v(te),k(!0)},ba=()=>{var gr,nn,an,qn,Yn,Jn,Xn,Qn,Zn,ea,ta,ra,ps,ms,gs,xs,vs,ys,bs,ks,js,ws,Ss,Ns,Ps,Ts,As,Os,Es,Cs,_s,Ds,kc;if(!y)return;const te=window.open("","_blank");if(!te)return;const Oe=ne(y.kursDollar||"16000"),_e=Ur(y.steamMalam||rt),Ze=Ur(y.steamPagi||rt),tt=Ur(y.steamSore||rt);_e.costRp=Wr(_e.selisih),Ze.costRp=Wr(Ze.selisih),tt.costRp=Wr(tt.selisih);const lt=Hr(y.gasMalam||rt),it=Hr(y.gasPagi||rt),xt=Hr(y.gasSore||rt);lt.costRp=Gr(lt.selisih,Oe),it.costRp=Gr(it.selisih,Oe),xt.costRp=Gr(xt.selisih,Oe);const Ut=_e.costRp+Ze.costRp+tt.costRp,rn=lt.costRp+it.costRp+xt.costRp,En=ne(((gr=y.produkTonase)==null?void 0:gr.malam)||"0")+ne(((nn=y.produkTonase)==null?void 0:nn.pagi)||"0")+ne(((an=y.produkTonase)==null?void 0:an.sore)||"0");te.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>KOP - ${We(y.tanggal)}</title>
        <style>
          @page { size: A4 landscape; margin: 10mm; }
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 9pt; color: #000; }
          .container { width: 100%; }
          .header { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .header-left { font-weight: bold; }
          .header-right { text-align: right; }
          .title { font-size: 11pt; font-weight: bold; margin-bottom: 3px; }
          .subtitle { font-size: 9pt; color: #333; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 8px; }
          th, td { border: 1px solid #000; padding: 3px 5px; text-align: center; font-size: 8pt; }
          th { background-color: #f0f0f0; font-weight: bold; }
          .section-header { background-color: #e8e8e8; font-weight: bold; text-align: left !important; }
          .param-name { text-align: left !important; }
          .number { text-align: right !important; }
          .highlight-cyan { background-color: #E0F7FA; }
          .highlight-blue { background-color: #E3F2FD; }
          .highlight-orange { background-color: #FFF3E0; }
          .summary { margin-top: 15px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-left">
              <div class="title">KEY OPERATING PARAMETER (KOP)</div>
              <div class="subtitle">${y.jenisOperasi}</div>
              <div class="subtitle">PABRIK NPK GRANULAR ${e==="NPK1"?"1":"2"}</div>
            </div>
            <div class="header-right">
              <div class="title">${We(y.tanggal)}</div>
              <table style="width: auto; margin-left: auto;">
                <tr>
                  <th></th>
                  <th>23:00 - 07:00</th>
                  <th>07:00 - 15:00</th>
                  <th>15:00 - 23:00</th>
                </tr>
                <tr>
                  <td class="param-name"><strong>Section Head</strong></td>
                  <td class="highlight-cyan">${((qn=y.shiftMalam)==null?void 0:qn.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((Yn=y.shiftPagi)==null?void 0:Yn.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((Jn=y.shiftSore)==null?void 0:Jn.sectionHead)||""}</td>
                </tr>
                <tr>
                  <td class="param-name"><strong>Operator Panel</strong></td>
                  <td class="highlight-cyan">${((Xn=y.shiftMalam)==null?void 0:Xn.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Qn=y.shiftPagi)==null?void 0:Qn.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Zn=y.shiftSore)==null?void 0:Zn.operatorPanel)||""}</td>
                </tr>
              </table>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 30px;">NO</th>
                <th style="width: 150px;">PARAMETER</th>
                <th style="width: 80px;">INDIKATOR</th>
                <th style="width: 70px;">SATUAN</th>
                <th style="width: 90px;">TARGET</th>
                <th colspan="3">AKTUAL</th>
              </tr>
              <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>MALAM</th>
                <th>PAGI</th>
                <th>SORE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td class="section-header" colspan="7">Granulator</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">1.1. Flow Steam</td>
                <td>FI</td>
                <td>M3/H</td>
                <td>${vt.folwSteam.label}</td>
                <td class="highlight-blue"><strong>${_e.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Ze.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${tt.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td>2</td>
                <td class="section-header" colspan="7">Dryer</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.1. Flow Gas</td>
                <td>FT-202</td>
                <td>NM3/H</td>
                <td>${vt.flowGas.label}</td>
                <td class="highlight-orange"><strong>${lt.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${it.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${xt.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.2. Temperatur Produk Out</td>
                <td>Temp R-002</td>
                <td>Deg.C</td>
                <td>${vt.tempProdukOut.label}</td>
                <td>${((ea=y.dryerTempProdukOut)==null?void 0:ea.malam)||""}</td>
                <td>${((ta=y.dryerTempProdukOut)==null?void 0:ta.pagi)||""}</td>
                <td>${((ra=y.dryerTempProdukOut)==null?void 0:ra.sore)||""}</td>
              </tr>
              <tr>
                <td>3</td>
                <td class="section-header" colspan="7">Produk NPK (15-10-12)</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.1. N</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${vt.produkN.label}</td>
                <td>${((ps=y.produkN)==null?void 0:ps.malam)||""}</td>
                <td>${((ms=y.produkN)==null?void 0:ms.pagi)||""}</td>
                <td>${((gs=y.produkN)==null?void 0:gs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.2. P</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${vt.produkP.label}</td>
                <td>${((xs=y.produkP)==null?void 0:xs.malam)||""}</td>
                <td>${((vs=y.produkP)==null?void 0:vs.pagi)||""}</td>
                <td>${((ys=y.produkP)==null?void 0:ys.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.3. K</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${vt.produkK.label}</td>
                <td>${((bs=y.produkK)==null?void 0:bs.malam)||""}</td>
                <td>${((ks=y.produkK)==null?void 0:ks.pagi)||""}</td>
                <td>${((js=y.produkK)==null?void 0:js.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.4. Moisture (H2O)</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${vt.moisture.label}</td>
                <td>${((ws=y.produkMoisture)==null?void 0:ws.malam)||""}</td>
                <td>${((Ss=y.produkMoisture)==null?void 0:Ss.pagi)||""}</td>
                <td>${((Ns=y.produkMoisture)==null?void 0:Ns.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.5. Kekerasan</td>
                <td>Laporan LAB</td>
                <td>Kgf</td>
                <td>${vt.kekerasan.label}</td>
                <td>${((Ps=y.produkKekerasan)==null?void 0:Ps.malam)||""}</td>
                <td>${((Ts=y.produkKekerasan)==null?void 0:Ts.pagi)||""}</td>
                <td>${((As=y.produkKekerasan)==null?void 0:As.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.6. Timbangan</td>
                <td>Laporan Shift</td>
                <td>Kg / Karung</td>
                <td>${vt.timbangan.label}</td>
                <td>${((Os=y.produkTimbangan)==null?void 0:Os.malam)||""}</td>
                <td>${((Es=y.produkTimbangan)==null?void 0:Es.pagi)||""}</td>
                <td>${((Cs=y.produkTimbangan)==null?void 0:Cs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.7. Tonase</td>
                <td>Laporan Shift</td>
                <td>Tonase / Shift</td>
                <td>${vt.tonase.label}</td>
                <td><strong>${((_s=y.produkTonase)==null?void 0:_s.malam)||""} TON</strong></td>
                <td><strong>${((Ds=y.produkTonase)==null?void 0:Ds.pagi)||""} TON</strong></td>
                <td><strong>${((kc=y.produkTonase)==null?void 0:kc.sore)||""} TON</strong></td>
              </tr>
            </tbody>
          </table>

          <!-- Konsumsi Energi Detail -->
          <table style="margin-top: 15px; width: 48%; display: inline-table;">
            <tr>
              <th colspan="4" style="background-color: #E3F2FD;">KONSUMSI STEAM (M3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (M3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${H(_e.selisih)}</td>
              <td>${_e.flowPerHour.toFixed(2)}</td>
              <td class="number">${H(_e.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${H(Ze.selisih)}</td>
              <td>${Ze.flowPerHour.toFixed(2)}</td>
              <td class="number">${H(Ze.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${H(tt.selisih)}</td>
              <td>${tt.flowPerHour.toFixed(2)}</td>
              <td class="number">${H(tt.costRp)}</td>
            </tr>
            <tr style="background-color: #E3F2FD;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${H(Ut)}</strong></td>
            </tr>
          </table>

          <table style="margin-top: 15px; width: 48%; display: inline-table; margin-left: 2%;">
            <tr>
              <th colspan="4" style="background-color: #FFF3E0;">KONSUMSI GAS (Nm3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (Nm3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${H(lt.selisih)}</td>
              <td>${lt.flowPerHour.toFixed(2)}</td>
              <td class="number">${H(lt.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${H(it.selisih)}</td>
              <td>${it.flowPerHour.toFixed(2)}</td>
              <td class="number">${H(it.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${H(xt.selisih)}</td>
              <td>${xt.flowPerHour.toFixed(2)}</td>
              <td class="number">${H(xt.costRp)}</td>
            </tr>
            <tr style="background-color: #FFF3E0;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${H(rn)}</strong></td>
            </tr>
          </table>

          <div class="summary">
            <table style="width: auto;">
              <tr>
                <td style="border: none;"><strong>* Total Steam Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${H(Ut)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Gas Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${H(rn)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Tonase</strong></td>
                <td style="border: none;"></td>
                <td style="border: none; text-align: right;"><strong>${H(En)} TON</strong></td>
              </tr>
              <tr>
                <td style="border: none; font-size: 7pt; color: #666;">Kurs Dollar: Rp ${H(Oe)}</td>
                <td style="border: none;"></td>
                <td style="border: none;"></td>
              </tr>
            </table>
          </div>
        </div>
      </body>
      </html>
    `),te.document.close(),te.focus(),setTimeout(()=>{te.print(),te.close()},250),k(!1)},pe=()=>{var nn,an,qn,Yn,Jn,Xn,Qn,Zn,ea,ta,ra,ps,ms,gs,xs,vs,ys,bs,ks,js,ws,Ss,Ns,Ps,Ts,As,Os,Es,Cs,_s,Ds,kc,ew,tw,rw,nw,aw,sw,iw,ow,lw,cw,uw,dw,fw;if(!ie){alert("Pilih tanggal terlebih dahulu");return}const te=i.find(n$=>n$.tanggal===ie);if(!te){alert("Data tidak ditemukan untuk tanggal tersebut");return}const Oe=ne(te.kursDollar||"16000"),_e=Ur(te.steamMalam||rt),Ze=Ur(te.steamPagi||rt),tt=Ur(te.steamSore||rt);_e.costRp=Wr(_e.selisih),Ze.costRp=Wr(Ze.selisih),tt.costRp=Wr(tt.selisih);const lt=Hr(te.gasMalam||rt),it=Hr(te.gasPagi||rt),xt=Hr(te.gasSore||rt);lt.costRp=Gr(lt.selisih,Oe),it.costRp=Gr(it.selisih,Oe),xt.costRp=Gr(xt.selisih,Oe);const Ut=_e.costRp+Ze.costRp+tt.costRp,rn=lt.costRp+it.costRp+xt.costRp,En=ne(((nn=te.produkTonase)==null?void 0:nn.malam)||"0")+ne(((an=te.produkTonase)==null?void 0:an.pagi)||"0")+ne(((qn=te.produkTonase)==null?void 0:qn.sore)||"0"),gr=window.open("","_blank");gr&&(gr.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan KOP - ${We(te.tanggal)}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 10px; padding: 15px; }
          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }
          .header h1 { font-size: 16px; margin-bottom: 5px; }
          .header h2 { font-size: 12px; font-weight: normal; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 11px; }
          .section { margin-bottom: 15px; }
          .section-title { background: #f0f0f0; padding: 5px 10px; font-weight: bold; font-size: 11px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; font-size: 10px; }
          th, td { border: 1px solid #333; padding: 4px 6px; text-align: center; }
          th { background: #e0e0e0; font-weight: bold; }
          .text-left { text-align: left; }
          .text-right { text-align: right; }
          .highlight { background: #fffde7; }
          .total-row { background: #e3f2fd; font-weight: bold; }
          .cost { color: #2e7d32; }
          .footer { margin-top: 20px; display: flex; justify-content: space-between; }
          .signature { width: 30%; text-align: center; }
          .signature-line { border-top: 1px solid #000; margin-top: 50px; padding-top: 5px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>LAPORAN KEY OPERATING PARAMETER (KOP)</h1>
          <h2>PT PUPUK KUJANG CIKAMPEK - Pabrik NPK Granular ${e==="NPK1"?"1":"2"}</h2>
        </div>

        <div class="info-row">
          <div><strong>Tanggal:</strong> ${We(te.tanggal)}</div>
          <div><strong>Jenis Operasi:</strong> ${te.jenisOperasi}</div>
          <div><strong>Kurs Dollar:</strong> Rp ${H(Oe)}</div>
        </div>

        <!-- Personel Section -->
        <div class="section">
          <div class="section-title">PERSONEL</div>
          <table>
            <thead>
              <tr>
                <th>Shift</th>
                <th>Section Head</th>
                <th>Operator Panel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Malam (23:00 - 07:00)</td>
                <td>${((Yn=te.shiftMalam)==null?void 0:Yn.sectionHead)||"-"}</td>
                <td>${((Jn=te.shiftMalam)==null?void 0:Jn.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Pagi (07:00 - 15:00)</td>
                <td>${((Xn=te.shiftPagi)==null?void 0:Xn.sectionHead)||"-"}</td>
                <td>${((Qn=te.shiftPagi)==null?void 0:Qn.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Sore (15:00 - 23:00)</td>
                <td>${((Zn=te.shiftSore)==null?void 0:Zn.sectionHead)||"-"}</td>
                <td>${((ea=te.shiftSore)==null?void 0:ea.operatorPanel)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Konsumsi Energi Section -->
        <div class="section">
          <div class="section-title">KONSUMSI ENERGI</div>
          <table>
            <thead>
              <tr>
                <th rowspan="2">Parameter</th>
                <th colspan="3">Shift Malam</th>
                <th colspan="3">Shift Pagi</th>
                <th colspan="3">Shift Sore</th>
                <th rowspan="2">Total Biaya (Rp)</th>
              </tr>
              <tr>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left"><strong>Steam (M3)</strong></td>
                <td>${H(ne(((ta=te.steamMalam)==null?void 0:ta.awal)||"0"))}</td>
                <td>${H(ne(((ra=te.steamMalam)==null?void 0:ra.akhir)||"0"))}</td>
                <td>${_e.flowPerHour.toFixed(2)}</td>
                <td>${H(ne(((ps=te.steamPagi)==null?void 0:ps.awal)||"0"))}</td>
                <td>${H(ne(((ms=te.steamPagi)==null?void 0:ms.akhir)||"0"))}</td>
                <td>${Ze.flowPerHour.toFixed(2)}</td>
                <td>${H(ne(((gs=te.steamSore)==null?void 0:gs.awal)||"0"))}</td>
                <td>${H(ne(((xs=te.steamSore)==null?void 0:xs.akhir)||"0"))}</td>
                <td>${tt.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${H(Ut)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Gas (Nm3)</strong></td>
                <td>${H(ne(((vs=te.gasMalam)==null?void 0:vs.awal)||"0"))}</td>
                <td>${H(ne(((ys=te.gasMalam)==null?void 0:ys.akhir)||"0"))}</td>
                <td>${lt.flowPerHour.toFixed(2)}</td>
                <td>${H(ne(((bs=te.gasPagi)==null?void 0:bs.awal)||"0"))}</td>
                <td>${H(ne(((ks=te.gasPagi)==null?void 0:ks.akhir)||"0"))}</td>
                <td>${it.flowPerHour.toFixed(2)}</td>
                <td>${H(ne(((js=te.gasSore)==null?void 0:js.awal)||"0"))}</td>
                <td>${H(ne(((ws=te.gasSore)==null?void 0:ws.akhir)||"0"))}</td>
                <td>${xt.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${H(rn)}</td>
              </tr>
              <tr class="total-row">
                <td colspan="10" class="text-right">Total Biaya Energi:</td>
                <td class="cost">Rp ${H(Ut+rn)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Parameter Operasi Section -->
        <div class="section">
          <div class="section-title">PARAMETER OPERASI</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">Temperatur Produk Out (C)</td>
                <td>55 - 70</td>
                <td>${((Ss=te.dryerTempProdukOut)==null?void 0:Ss.malam)||"-"}</td>
                <td>${((Ns=te.dryerTempProdukOut)==null?void 0:Ns.pagi)||"-"}</td>
                <td>${((Ps=te.dryerTempProdukOut)==null?void 0:Ps.sore)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Produk NPK Section -->
        <div class="section">
          <div class="section-title">PRODUK NPK (15-10-12)</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">N (%)</td>
                <td>13.8 - 16.2</td>
                <td>${((Ts=te.produkN)==null?void 0:Ts.malam)||"-"}</td>
                <td>${((As=te.produkN)==null?void 0:As.pagi)||"-"}</td>
                <td>${((Os=te.produkN)==null?void 0:Os.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">P (%)</td>
                <td>9.2 - 10.2</td>
                <td>${((Es=te.produkP)==null?void 0:Es.malam)||"-"}</td>
                <td>${((Cs=te.produkP)==null?void 0:Cs.pagi)||"-"}</td>
                <td>${((_s=te.produkP)==null?void 0:_s.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">K (%)</td>
                <td>11.04 - 12.96</td>
                <td>${((Ds=te.produkK)==null?void 0:Ds.malam)||"-"}</td>
                <td>${((kc=te.produkK)==null?void 0:kc.pagi)||"-"}</td>
                <td>${((ew=te.produkK)==null?void 0:ew.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Moisture (%)</td>
                <td>Maks. 3</td>
                <td>${((tw=te.produkMoisture)==null?void 0:tw.malam)||"-"}</td>
                <td>${((rw=te.produkMoisture)==null?void 0:rw.pagi)||"-"}</td>
                <td>${((nw=te.produkMoisture)==null?void 0:nw.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Kekerasan (Kgf)</td>
                <td>Min. 1</td>
                <td>${((aw=te.produkKekerasan)==null?void 0:aw.malam)||"-"}</td>
                <td>${((sw=te.produkKekerasan)==null?void 0:sw.pagi)||"-"}</td>
                <td>${((iw=te.produkKekerasan)==null?void 0:iw.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Timbangan (Kg/Karung)</td>
                <td>50.00 - 50.3</td>
                <td>${((ow=te.produkTimbangan)==null?void 0:ow.malam)||"-"}</td>
                <td>${((lw=te.produkTimbangan)==null?void 0:lw.pagi)||"-"}</td>
                <td>${((cw=te.produkTimbangan)==null?void 0:cw.sore)||"-"}</td>
              </tr>
              <tr class="highlight">
                <td class="text-left"><strong>Tonase (Ton/Shift)</strong></td>
                <td>Min 110</td>
                <td><strong>${((uw=te.produkTonase)==null?void 0:uw.malam)||"-"}</strong></td>
                <td><strong>${((dw=te.produkTonase)==null?void 0:dw.pagi)||"-"}</strong></td>
                <td><strong>${((fw=te.produkTonase)==null?void 0:fw.sore)||"-"}</strong></td>
              </tr>
              <tr class="total-row">
                <td colspan="2" class="text-right"><strong>Total Tonase:</strong></td>
                <td colspan="3"><strong>${H(En)} Ton</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary Section -->
        <div class="section">
          <div class="section-title">RINGKASAN</div>
          <table>
            <tbody>
              <tr>
                <td class="text-left" style="width: 40%"><strong>Total Produksi</strong></td>
                <td><strong>${H(En)} Ton</strong></td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Steam</strong></td>
                <td class="cost">Rp ${H(Ut)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Gas</strong></td>
                <td class="cost">Rp ${H(rn)}</td>
              </tr>
              <tr class="total-row">
                <td class="text-left"><strong>Total Biaya Energi</strong></td>
                <td class="cost"><strong>Rp ${H(Ut+rn)}</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer Signatures -->
        <div class="footer">
          <div class="signature">
            <div>Dibuat oleh:</div>
            <div class="signature-line">Operator</div>
          </div>
          <div class="signature">
            <div>Diperiksa oleh:</div>
            <div class="signature-line">Section Head</div>
          </div>
          <div class="signature">
            <div>Disetujui oleh:</div>
            <div class="signature-line">Manager</div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #666;">
          Dicetak pada: ${new Date().toLocaleString("id-ID")}
        </div>
      </body>
      </html>
    `),gr.document.close(),gr.focus(),setTimeout(()=>{gr.print(),gr.close()},250),se(!1),xe(""))},we=i.filter(te=>{var it,xt,Ut,rn,En,gr,nn,an,qn,Yn,Jn,Xn,Qn,Zn,ea,ta,ra;const Oe=O.toLowerCase(),_e=((it=te.tanggal)==null?void 0:it.includes(O))||((xt=te.jenisOperasi)==null?void 0:xt.toLowerCase().includes(Oe))||((Ut=te.formulaBiaya)==null?void 0:Ut.toLowerCase().includes(Oe))||((rn=te.kursDollar)==null?void 0:rn.toString().includes(O))||((gr=(En=te.steamMalamCalc)==null?void 0:En.selisih)==null?void 0:gr.toString().includes(O))||((an=(nn=te.steamPagiCalc)==null?void 0:nn.selisih)==null?void 0:an.toString().includes(O))||((Yn=(qn=te.steamSoreCalc)==null?void 0:qn.selisih)==null?void 0:Yn.toString().includes(O))||((Xn=(Jn=te.gasMalamCalc)==null?void 0:Jn.selisih)==null?void 0:Xn.toString().includes(O))||((Zn=(Qn=te.gasPagiCalc)==null?void 0:Qn.selisih)==null?void 0:Zn.toString().includes(O))||((ta=(ea=te.gasSoreCalc)==null?void 0:ea.selisih)==null?void 0:ta.toString().includes(O)),Ze=M?(ra=te.tanggal)==null?void 0:ra.startsWith(M):!0,lt=new Date(te.tanggal).getFullYear()===parseInt(_);return _e&&Ze&&lt});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Key Operating Parameter (KOP)"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Pabrik NPK Granular ",e==="NPK1"?"1":"2"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ae,{variant:"secondary",onClick:()=>se(!0),className:"gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),"Print Laporan"]}),!Z&&ee&&a.jsxs(ae,{onClick:Dt,className:"gap-2",children:[a.jsx(zt,{className:"h-4 w-4"}),"Tambah KOP"]})]})]}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Mm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(ge,{placeholder:"Cari tanggal, jenis operasi, formula, kurs...",value:O,onChange:te=>C(te.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-full md:w-32",children:a.jsx(De,{value:_,onChange:te=>B(te.target.value),options:pme})}),a.jsx("div",{className:"w-full md:w-48",children:a.jsx(ge,{type:"month",value:M,onChange:te=>E(te.target.value),placeholder:"Filter Bulan"})})]})}),a.jsx(ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-dark-50 dark:bg-dark-700 border-b border-dark-100 dark:border-dark-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Tanggal"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Jenis Operasi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Total Tonase"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Steam (Rp)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Gas (Rp)"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-dark-600 uppercase",children:"Aksi"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100",children:l?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"Memuat data..."]})})}):we.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:[a.jsx(xa,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"Tidak ada data KOP"]})}):we.map(te=>{var gr,nn,an;const Oe=ne(((gr=te.produkTonase)==null?void 0:gr.malam)||"0")+ne(((nn=te.produkTonase)==null?void 0:nn.pagi)||"0")+ne(((an=te.produkTonase)==null?void 0:an.sore)||"0"),_e=ne(te.kursDollar||"16000"),Ze=Ur(te.steamMalam||rt),tt=Ur(te.steamPagi||rt),lt=Ur(te.steamSore||rt),it=Hr(te.gasMalam||rt),xt=Hr(te.gasPagi||rt),Ut=Hr(te.gasSore||rt),rn=Wr(Ze.selisih)+Wr(tt.selisih)+Wr(lt.selisih),En=Gr(it.selisih,_e)+Gr(xt.selisih,_e)+Gr(Ut.selisih,_e);return a.jsxs("tr",{className:"hover:bg-dark-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"font-medium text-dark-900 dark:text-white",children:We(te.tanggal)})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(Te,{variant:te.jenisOperasi==="NORMAL OPERASI"?"success":"warning",children:te.jenisOperasi})}),a.jsxs("td",{className:"px-4 py-3 font-semibold text-primary-600",children:[H(Oe)," TON"]}),a.jsxs("td",{className:"px-4 py-3 text-blue-700",children:["Rp ",H(rn)]}),a.jsxs("td",{className:"px-4 py-3 text-orange-700",children:["Rp ",H(En)]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>$e(te),className:"p-2 text-dark-400 hover:text-dark-600 hover:bg-dark-100 rounded-lg transition-colors",title:"Lihat Detail",children:a.jsx(wi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>ya(te),className:"p-2 text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Print",children:a.jsx(Br,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Q(te.id),className:"p-2 text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4"})}),!Z&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Be(te),className:"p-2 text-dark-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Fe(te.id),className:"p-2 text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4"})})]})]})})]},te.id)})})]})})}),a.jsx(Xe,{isOpen:u,onClose:()=>d(!1),title:x?"Edit KOP":"Tambah KOP Baru",size:"full",children:a.jsxs("form",{onSubmit:ye,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:N.tanggal,onChange:te=>P({...N,tanggal:te.target.value}),required:!0}),a.jsx(De,{label:"Jenis Operasi",value:N.jenisOperasi,onChange:te=>P({...N,jenisOperasi:te.target.value}),options:U})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ud,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Malam (23:00 - 07:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Section Head",value:((Tt=N.shiftMalam)==null?void 0:Tt.sectionHead)||"",onChange:te=>P({...N,shiftMalam:{...N.shiftMalam,sectionHead:te.target.value}}),placeholder:"Nama Section Head"}),a.jsx(ge,{label:"Operator Panel",value:((qt=N.shiftMalam)==null?void 0:qt.operatorPanel)||"",onChange:te=>P({...N,shiftMalam:{...N.shiftMalam,operatorPanel:te.target.value}}),placeholder:"Nama Operator Panel"})]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 dark:text-dark-200 mb-3 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Pagi (07:00 - 15:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Section Head",value:((Oo=N.shiftPagi)==null?void 0:Oo.sectionHead)||"",onChange:te=>P({...N,shiftPagi:{...N.shiftPagi,sectionHead:te.target.value}}),placeholder:"Nama Section Head"}),a.jsx(ge,{label:"Operator Panel",value:((On=N.shiftPagi)==null?void 0:On.operatorPanel)||"",onChange:te=>P({...N,shiftPagi:{...N.shiftPagi,operatorPanel:te.target.value}}),placeholder:"Nama Operator Panel"})]})]}),a.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(ha,{className:"h-4 w-4"})," Sore (15:00 - 23:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Section Head",value:((Me=N.shiftSore)==null?void 0:Me.sectionHead)||"",onChange:te=>P({...N,shiftSore:{...N.shiftSore,sectionHead:te.target.value}}),placeholder:"Nama Section Head"}),a.jsx(ge,{label:"Operator Panel",value:((Eo=N.shiftSore)==null?void 0:Eo.operatorPanel)||"",onChange:te=>P({...N,shiftSore:{...N.shiftSore,operatorPanel:te.target.value}}),placeholder:"Nama Operator Panel"})]})]})]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(C8,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Steam (M3)"})]}),a.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zS,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),a.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"Kurs Dollar (Rp)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",value:N.kursDollar,onChange:te=>P({...N,kursDollar:te.target.value}),placeholder:"Contoh: 16000",className:"flex-1"}),a.jsx(ae,{type:"button",variant:"outline",onClick:W,disabled:D,className:"whitespace-nowrap",children:D?a.jsx(Ji,{className:"h-4 w-4 animate-spin"}):a.jsx(a.Fragment,{children:a.jsx(Ji,{className:"h-4 w-4 mr-1"})})})]}),K&&a.jsx("p",{className:`text-xs mt-1 ${K.startsWith("")?"text-green-600":"text-amber-600"}`,children:K}),a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'* Kurs digunakan untuk perhitungan biaya Steam & Gas. Klik "Auto" untuk ambil kurs real-time.'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Awal Shift (M3)",type:"text",value:((pf=N.steamMalam)==null?void 0:pf.awal)||"",onChange:te=>P({...N,steamMalam:{...N.steamMalam,awal:te.target.value}})}),a.jsx(ge,{label:"Akhir Shift (M3)",type:"text",value:((mf=N.steamMalam)==null?void 0:mf.akhir)||"",onChange:te=>P({...N,steamMalam:{...N.steamMalam,akhir:te.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[H(J.steamMalam.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:J.steamMalam.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",H(J.steamMalam.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Awal Shift (M3)",type:"text",value:((Og=N.steamPagi)==null?void 0:Og.awal)||"",onChange:te=>P({...N,steamPagi:{...N.steamPagi,awal:te.target.value}}),placeholder:"Auto dari akhir malam"}),a.jsx(ge,{label:"Akhir Shift (M3)",type:"text",value:((Hj=N.steamPagi)==null?void 0:Hj.akhir)||"",onChange:te=>P({...N,steamPagi:{...N.steamPagi,akhir:te.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[H(J.steamPagi.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:J.steamPagi.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",H(J.steamPagi.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Awal Shift (M3)",type:"text",value:((Wj=N.steamSore)==null?void 0:Wj.awal)||"",onChange:te=>P({...N,steamSore:{...N.steamSore,awal:te.target.value}}),placeholder:"Auto dari akhir pagi"}),a.jsx(ge,{label:"Akhir Shift (M3)",type:"text",value:((Gj=N.steamSore)==null?void 0:Gj.akhir)||"",onChange:te=>P({...N,steamSore:{...N.steamSore,akhir:te.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[H(J.steamSore.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:J.steamSore.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",H(J.steamSore.costRp)]})]})]})]})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total Steam Dalam Satu Hari"}),a.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["Rp ",H(J.totalSteamRp)]})]})})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(yx,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Gas (Nm3)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Awal Shift (Nm3)",type:"text",value:((qj=N.gasMalam)==null?void 0:qj.awal)||"",onChange:te=>P({...N,gasMalam:{...N.gasMalam,awal:te.target.value}})}),a.jsx(ge,{label:"Akhir Shift (Nm3)",type:"text",value:((Yj=N.gasMalam)==null?void 0:Yj.akhir)||"",onChange:te=>P({...N,gasMalam:{...N.gasMalam,akhir:te.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[H(J.gasMalam.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:J.gasMalam.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",H(J.gasMalam.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Awal Shift (Nm3)",type:"text",value:((Jj=N.gasPagi)==null?void 0:Jj.awal)||"",onChange:te=>P({...N,gasPagi:{...N.gasPagi,awal:te.target.value}}),placeholder:"Auto dari akhir malam"}),a.jsx(ge,{label:"Akhir Shift (Nm3)",type:"text",value:((Xj=N.gasPagi)==null?void 0:Xj.akhir)||"",onChange:te=>P({...N,gasPagi:{...N.gasPagi,akhir:te.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[H(J.gasPagi.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:J.gasPagi.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",H(J.gasPagi.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{label:"Awal Shift (Nm3)",type:"text",value:((Qj=N.gasSore)==null?void 0:Qj.awal)||"",onChange:te=>P({...N,gasSore:{...N.gasSore,awal:te.target.value}}),placeholder:"Auto dari akhir pagi"}),a.jsx(ge,{label:"Akhir Shift (Nm3)",type:"text",value:((Zj=N.gasSore)==null?void 0:Zj.akhir)||"",onChange:te=>P({...N,gasSore:{...N.gasSore,akhir:te.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[H(J.gasSore.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:J.gasSore.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",H(J.gasSore.costRp)]})]})]})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-orange-800",children:"Total Gas Dalam Satu Hari"}),a.jsxs("span",{className:"text-xl font-bold text-orange-900",children:["Rp ",H(J.totalGasRp)]})]}),a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"* Rumus: BTU/h = gas  0.02831  1043.3294, MMBTU = BTU/1,000,000, $/h = MMBTU  5.65, Rp = $  kurs  8 jam"})]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tv,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Parameter Operasi"})]}),a.jsx(ae,{type:"button",variant:"secondary",size:"sm",onClick:he,children:"Auto-Fill Temp & Timbangan"})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 py-2 bg-dark-100 rounded-lg mb-2 px-2",children:[a.jsx("div",{className:"col-span-2 text-xs font-semibold text-dark-600",children:"PARAMETER"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"TARGET"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"MALAM"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"PAGI"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"SORE"}),a.jsx("div",{})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"1. Granulator"}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"1.1. Flow Steam"}),a.jsx("p",{className:"text-xs text-dark-400",children:"FI | M3/H"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:vt.folwSteam.label})}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:J.steamMalam.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:J.steamPagi.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:J.steamSore.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 text-secondary-700 dark:text-secondary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"2. Dryer"}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"2.1. Flow Gas"}),a.jsx("p",{className:"text-xs text-dark-400",children:"FT-202 | NM3/H"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:vt.flowGas.label})}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:J.gasMalam.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:J.gasPagi.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:J.gasSore.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]}),a.jsx(Is,{label:"2.2. Temperatur Produk Out",indikator:"Temp R-002",satuan:"Deg.C",target:vt.tempProdukOut.label,value:N.dryerTempProdukOut||$r,onChange:te=>P({...N,dryerTempProdukOut:te})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"3. Produk NPK (15-10-12)"}),a.jsx(Is,{label:"3.1. N",indikator:"Laporan LAB",satuan:"%",target:vt.produkN.label,value:N.produkN||$r,onChange:te=>P({...N,produkN:te})}),a.jsx(Is,{label:"3.2. P",indikator:"Laporan LAB",satuan:"%",target:vt.produkP.label,value:N.produkP||$r,onChange:te=>P({...N,produkP:te})}),a.jsx(Is,{label:"3.3. K",indikator:"Laporan LAB",satuan:"%",target:vt.produkK.label,value:N.produkK||$r,onChange:te=>P({...N,produkK:te})}),a.jsx(Is,{label:"3.4. Moisture (H2O)",indikator:"Laporan LAB",satuan:"%",target:vt.moisture.label,value:N.produkMoisture||$r,onChange:te=>P({...N,produkMoisture:te})}),a.jsx(Is,{label:"3.5. Kekerasan",indikator:"Laporan LAB",satuan:"Kgf",target:vt.kekerasan.label,value:N.produkKekerasan||$r,onChange:te=>P({...N,produkKekerasan:te})}),a.jsx(Is,{label:"3.6. Timbangan",indikator:"Laporan Shift",satuan:"Kg/Karung",target:vt.timbangan.label,value:N.produkTimbangan||$r,onChange:te=>P({...N,produkTimbangan:te})}),a.jsx(Is,{label:"3.7. Tonase",indikator:"Laporan Shift",satuan:"Ton/Shift",target:vt.tonase.label,value:N.produkTonase||$r,onChange:te=>P({...N,produkTonase:te})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100 dark:border-dark-700",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),a.jsxs(ae,{type:"submit",disabled:l,className:"gap-2",children:[a.jsx(xh,{className:"h-4 w-4"}),l?"Menyimpan...":x?"Perbarui":"Simpan"]})]})]})}),a.jsx(Xe,{isOpen:m,onClose:()=>k(!1),title:"Preview Print KOP",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-dark-600",children:["Anda akan mencetak KOP untuk tanggal"," ",a.jsx("strong",{children:y&&We(y.tanggal)})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(ae,{variant:"secondary",onClick:()=>k(!1),children:"Batal"}),a.jsxs(ae,{onClick:ba,className:"gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),"Cetak Sekarang"]})]})]})}),a.jsx(Xe,{isOpen:ce,onClose:()=>{se(!1),xe("")},title:"Print Laporan KOP",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-dark-600",children:"Pilih tanggal untuk mencetak laporan KOP lengkap"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tanggal"}),a.jsxs("select",{value:ie,onChange:te=>xe(te.target.value),className:"w-full px-3 py-2 border border-dark-200 dark:border-dark-600 bg-white dark:bg-dark-800 text-dark-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"",children:"-- Pilih Tanggal --"}),i.sort((te,Oe)=>new Date(Oe.tanggal).getTime()-new Date(te.tanggal).getTime()).map(te=>a.jsxs("option",{value:te.tanggal,children:[We(te.tanggal)," - ",te.jenisOperasi]},te.id))]})]}),ie&&a.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[a.jsx("strong",{children:"Preview:"})," Laporan akan dicetak untuk tanggal"," ",a.jsx("strong",{children:We(ie)})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(ae,{variant:"secondary",onClick:()=>{se(!1),xe("")},children:"Batal"}),a.jsxs(ae,{onClick:pe,disabled:!ie,className:"gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),"Cetak Laporan"]})]})]})}),a.jsx(Xe,{isOpen:G,onClose:()=>{L(!1),V(null)},title:"Detail Key Operating Parameter",size:"full",children:I&&(()=>{var En,gr,nn,an,qn,Yn,Jn,Xn,Qn,Zn,ea,ta,ra,ps,ms,gs,xs,vs,ys,bs,ks,js,ws,Ss,Ns,Ps,Ts,As,Os,Es,Cs,_s,Ds;const te=ne(I.kursDollar||"16000"),Oe=Ur(I.steamMalam||rt),_e=Ur(I.steamPagi||rt),Ze=Ur(I.steamSore||rt);Oe.costRp=Wr(Oe.selisih),_e.costRp=Wr(_e.selisih),Ze.costRp=Wr(Ze.selisih);const tt=Hr(I.gasMalam||rt),lt=Hr(I.gasPagi||rt),it=Hr(I.gasSore||rt);tt.costRp=Gr(tt.selisih,te),lt.costRp=Gr(lt.selisih,te),it.costRp=Gr(it.selisih,te);const xt=Oe.costRp+_e.costRp+Ze.costRp,Ut=tt.costRp+lt.costRp+it.costRp,rn=ne(((En=I.produkTonase)==null?void 0:En.malam)||"0")+ne(((gr=I.produkTonase)==null?void 0:gr.pagi)||"0")+ne(((nn=I.produkTonase)==null?void 0:nn.sore)||"0");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Key Operating Parameter"}),a.jsxs("h2",{className:"text-2xl font-bold mt-1",children:["NPK GRANULAR ",e==="NPK1"?"1":"2"]}),a.jsx("p",{className:"text-primary-100 text-sm mt-1",children:We(I.tanggal)})]}),a.jsx(Te,{variant:I.jenisOperasi==="NORMAL OPERASI"?"success":"warning",className:"bg-white/20 text-white border-0 text-base px-4 py-2",children:I.jenisOperasi})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-4 border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-lg",children:a.jsx(Tv,{className:"h-6 w-6 text-green-700 dark:text-green-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Total Tonase"}),a.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[H(rn)," TON"]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-lg",children:a.jsx(Ui,{className:"h-6 w-6 text-blue-700 dark:text-blue-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium",children:"Biaya Steam"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:["Rp ",H(xt)]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-orange-200 dark:bg-orange-800 rounded-lg",children:a.jsx(yx,{className:"h-6 w-6 text-orange-700 dark:text-orange-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium",children:"Biaya Gas"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["Rp ",H(Ut)]})]})]})})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ud,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Posisi"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam (23:00-07:00)"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi (07:00-15:00)"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore (15:00-23:00)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Section Head"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((an=I.shiftMalam)==null?void 0:an.sectionHead)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((qn=I.shiftPagi)==null?void 0:qn.sectionHead)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Yn=I.shiftSore)==null?void 0:Yn.sectionHead)||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Operator Panel"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Jn=I.shiftMalam)==null?void 0:Jn.operatorPanel)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Xn=I.shiftPagi)==null?void 0:Xn.operatorPanel)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Qn=I.shiftSore)==null?void 0:Qn.operatorPanel)||"-"})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ui,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Konsumsi Steam (M3)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50",children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-700 dark:text-blue-300",children:"Shift"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Selisih"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Flow (M3/H)"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Biaya (Rp)"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Malam"}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(Oe.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Oe.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(Oe.costRp)})]}),a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Pagi"}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(_e.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:_e.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(_e.costRp)})]}),a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Sore"}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(Ze.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Ze.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(Ze.costRp)})]}),a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50 font-semibold text-blue-800 dark:text-blue-200",children:[a.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),a.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",H(xt)]})]})]})]})})]}),a.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(yx,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300",children:"Konsumsi Gas (Nm3)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50",children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-orange-700 dark:text-orange-300",children:"Shift"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Selisih"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Flow (Nm3/H)"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Biaya (Rp)"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Malam"}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(tt.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:tt.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(tt.costRp)})]}),a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Pagi"}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(lt.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:lt.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(lt.costRp)})]}),a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Sore"}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(it.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:it.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:H(it.costRp)})]}),a.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50 font-semibold text-orange-800 dark:text-orange-200",children:[a.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),a.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",H(Ut)]})]})]})]})})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xa,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Parameter Produk NPK (15-10-12)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Parameter"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Target"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E8,{className:"h-4 w-4 text-red-500"}),"Temp Produk Out (C)"]})}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.tempProdukOut.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Zn=I.dryerTempProdukOut)==null?void 0:Zn.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ea=I.dryerTempProdukOut)==null?void 0:ea.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ta=I.dryerTempProdukOut)==null?void 0:ta.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"N (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.produkN.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ra=I.produkN)==null?void 0:ra.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ps=I.produkN)==null?void 0:ps.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ms=I.produkN)==null?void 0:ms.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"P (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.produkP.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((gs=I.produkP)==null?void 0:gs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((xs=I.produkP)==null?void 0:xs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((vs=I.produkP)==null?void 0:vs.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"K (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.produkK.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ys=I.produkK)==null?void 0:ys.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((bs=I.produkK)==null?void 0:bs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ks=I.produkK)==null?void 0:ks.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Moisture (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.moisture.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((js=I.produkMoisture)==null?void 0:js.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ws=I.produkMoisture)==null?void 0:ws.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ss=I.produkMoisture)==null?void 0:Ss.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Kekerasan (Kgf)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.kekerasan.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ns=I.produkKekerasan)==null?void 0:Ns.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ps=I.produkKekerasan)==null?void 0:Ps.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ts=I.produkKekerasan)==null?void 0:Ts.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Timbangan (Kg/Karung)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.timbangan.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((As=I.produkTimbangan)==null?void 0:As.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Os=I.produkTimbangan)==null?void 0:Os.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Es=I.produkTimbangan)==null?void 0:Es.sore)||"-"})]}),a.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/30",children:[a.jsx("td",{className:"px-4 py-3 font-semibold text-green-700 dark:text-green-300",children:"Tonase (Ton/Shift)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:vt.tonase.label}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Cs=I.produkTonase)==null?void 0:Cs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((_s=I.produkTonase)==null?void 0:_s.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Ds=I.produkTonase)==null?void 0:Ds.sore)||"-"})]})]})]})})]}),a.jsxs("div",{className:"bg-dark-100 dark:bg-dark-700 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zS,{className:"h-5 w-5 text-dark-500"}),a.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Kurs Dollar yang digunakan:"})]}),a.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:["Rp ",H(te)]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-dark-200 dark:border-dark-700",children:[a.jsx(ae,{variant:"secondary",onClick:()=>{L(!1),V(null)},children:"Tutup"}),a.jsxs(ae,{onClick:()=>{L(!1),ya(I)},className:"gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),"Cetak"]})]})]})})()}),a.jsx(Qt,{isOpen:f,onClose:()=>h(!1),onConfirm:Qe,title:"Hapus Data KOP",message:"Apakah Anda yakin ingin menghapus data KOP ini? Tindakan ini tidak dapat dibatalkan.",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:be,onClose:()=>{ue(!1),je(null)},onSubmit:Ye,action:fe,itemName:"data KOP",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!"}),a.jsx(ar,{isOpen:F,onClose:()=>{X(!1),oe("")},sheetName:e==="NPK1"?"kop_NPK1":"kop",recordId:q,title:"Log Aktivitas KOP"})]})},a0=new Date().getFullYear(),gme=[...Array.from({length:a0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(a0+1),label:String(a0+1)}],Ls=e=>e==null?"0.00":e.toFixed(2),s0=e=>{if(!e||e==="")return 0;const t=parseFloat(e);return isNaN(t)?0:t},r$=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Dolomite",label:"Dolomite"},{value:"Clay",label:"Clay"}],xme=[...r$],Xc={tanggal:It(),bahanBaku:"",stockAwal:0,bahanBakuIn:0,bahanBakuOut:0,stockAkhir:0},gA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(Xc),[j,S]=b.useState("Urea"),[N,P]=b.useState(String(new Date().getFullYear())),[O,C]=b.useState({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),[M,E]=b.useState(!1),[_,B]=b.useState("edit"),[G,L]=b.useState(null),[I,V]=b.useState(!1),[F,X]=b.useState(""),q=T=>{X(T),V(!0)},oe=(t==null?void 0:t.role)||"",Q=kr(oe),ce=b.useCallback(()=>{if(u&&!l){const T=document.querySelector("form");T&&T.requestSubmit()}},[u,l]);sr(ce,u);const se=Tr(oe),ie=Ar(oe),xe=hr(oe);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:R,SHEETS:ee,getSheetNameByPlant:$}=await Ie(async()=>{const{readData:W,SHEETS:le,getSheetNameByPlant:U}=await Promise.resolve().then(()=>Le);return{readData:W,SHEETS:le,getSheetNameByPlant:U}},void 0),Y=$(ee.PEMANTAUAN_BAHAN_BAKU,e),Z=await R(Y);if(Z.success&&Z.data){const W=Z.data.map(le=>({...le,_plant:e})).sort((le,U)=>new Date(U.tanggal).getTime()-new Date(le.tanggal).getTime());o(W)}else o([])}catch(R){console.error("Error fetching data:",R),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{const T=s0(O.stockAwal),R=s0(O.bahanBakuIn),ee=s0(O.bahanBakuOut),$=T+R-ee;w(Y=>({...Y,stockAwal:T,bahanBakuIn:R,bahanBakuOut:ee,stockAkhir:$>=0?$:0}))},[O.stockAwal,O.bahanBakuIn,O.bahanBakuOut]),b.useEffect(()=>{if(x.bahanBaku&&!m){const T=i.filter(R=>R.bahanBaku===x.bahanBaku).sort((R,ee)=>new Date(ee.tanggal).getTime()-new Date(R.tanggal).getTime())[0];T&&(w(R=>({...R,stockAwal:T.stockAkhir})),C(R=>({...R,stockAwal:String(T.stockAkhir)})))}},[x.bahanBaku,i,m]);const be=async T=>{T.preventDefault(),c(!0);try{if(m){const R={...x,id:m,_plant:e},ee=await n("pemantauan_bahan_baku",R);if(ee.success)o($=>$.map(Y=>Y.id===m?{...x,id:m,_plant:e}:Y));else throw new Error(ee.error||"Gagal mengupdate data")}else{const R={...x,_plant:e},ee=await r("pemantauan_bahan_baku",R);if(ee.success&&ee.data){const $={...ee.data,_plant:e};o(Y=>[$,...Y].sort((Z,W)=>new Date(W.tanggal).getTime()-new Date(Z.tanggal).getTime()))}else throw new Error(ee.error||"Gagal menambah data")}d(!1),k(null),w(Xc),C({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),g(!0)}catch(R){console.error("Error saving data:",R),alert(R instanceof Error?R.message:"Gagal menyimpan data")}finally{c(!1)}},ue=T=>{xe||(se?(L(T),B("edit"),E(!0)):(w(T),C({stockAwal:String(T.stockAwal||""),bahanBakuIn:String(T.bahanBakuIn||""),bahanBakuOut:String(T.bahanBakuOut||"")}),k(T.id||null),d(!0)))},fe=T=>{xe||(ie?(v(T),B("delete"),E(!0)):(v(T),h(!0)))},me=async()=>{if(y){c(!0);try{const T=await s("pemantauan_bahan_baku",{id:y,_plant:e});if(T.success)o(R=>R.filter(ee=>ee.id!==y));else throw new Error(T.error||"Gagal menghapus data");h(!1),v(null),g(!0)}catch(T){console.error("Error deleting data:",T),alert(T instanceof Error?T.message:"Gagal menghapus data")}finally{c(!1)}}},de=async T=>{try{const{createData:R,SHEETS:ee}=await Ie(async()=>{const{createData:Z,SHEETS:W}=await Promise.resolve().then(()=>Le);return{createData:Z,SHEETS:W}},void 0),$=_==="edit"?G:i.find(Z=>Z.id===y),Y={requestBy:(t==null?void 0:t.username)||"",requestByName:(t==null?void 0:t.nama)||(t==null?void 0:t.username)||"",requestDate:new Date().toISOString(),action:_,sheetType:`pemantauan_bahan_baku${e==="NPK1"?"_NPK1":""}`,dataId:($==null?void 0:$.id)||"",dataPreview:JSON.stringify({tanggal:$==null?void 0:$.tanggal,bahanBaku:$==null?void 0:$.bahanBaku,stockAkhir:$==null?void 0:$.stockAkhir}),reason:T,status:"pending",requesterPlant:e};await R(ee.APPROVAL_REQUESTS,Y),E(!1),L(null),v(null),alert("Permintaan approval telah dikirim")}catch(R){console.error("Error submitting approval:",R),alert("Gagal mengirim permintaan approval")}},J=(()=>{const T=i.filter(le=>le.bahanBaku===j),R=T.filter(le=>le.tanggal===It()),ee=T.sort((le,U)=>new Date(U.tanggal).getTime()-new Date(le.tanggal).getTime())[0],$=(ee==null?void 0:ee.stockAkhir)||0,Y=R.reduce((le,U)=>le+U.bahanBakuIn,0),Z=R.reduce((le,U)=>le+U.bahanBakuOut,0),W=T.length;return{totalStockAkhir:$,totalBahanBakuIn:Y,totalBahanBakuOut:Z,totalRecords:W,lastDate:(ee==null?void 0:ee.tanggal)||"-"}})(),A=i.filter(T=>{const R=j?T.bahanBaku===j:!0,$=new Date(T.tanggal).getFullYear()===parseInt(N);return R&&$}),z=(()=>{if(!j)return null;const T=i.filter(ee=>ee.bahanBaku===j),R=T.sort((ee,$)=>new Date($.tanggal).getTime()-new Date(ee.tanggal).getTime())[0];return{currentStock:(R==null?void 0:R.stockAkhir)||0,totalRecords:T.length}})(),K=[{key:"tanggal",header:"Tanggal",sortable:!0,render:T=>We(T)},{key:"bahanBaku",header:"Bahan Baku",render:T=>a.jsx(Te,{variant:"default",children:T})},{key:"stockAwal",header:"Stock Awal",render:T=>a.jsxs("span",{className:"font-medium",children:[Ls(T)," Ton"]})},{key:"bahanBakuIn",header:"Bahan Baku In",render:T=>a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["+",Ls(T)," Ton"]})},{key:"bahanBakuOut",header:"Bahan Baku Out",render:T=>a.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",Ls(T)," Ton"]})},{key:"stockAkhir",header:"Stock Akhir",render:T=>a.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[Ls(T)," Ton"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Pemantauan Bahan Baku - ",e]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Monitor stok bahan baku harian"})]}),Q&&a.jsxs(ae,{onClick:()=>{w(Xc),C({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),k(null),d(!0)},children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:["Stock Akhir ",j]}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:[Ls(J.totalStockAkhir)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:a.jsx(xi,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-2",children:["Update terakhir: ",J.lastDate]})]})}),a.jsx(ke,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:[j," Masuk Hari Ini"]}),a.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:["+",Ls(J.totalBahanBakuIn)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:a.jsx(ci,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-green-500 dark:text-green-400 mt-2",children:["Total ",j," yang masuk"]})]})}),a.jsx(ke,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:[j," Keluar Hari Ini"]}),a.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:["-",Ls(J.totalBahanBakuOut)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:a.jsx(hl,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-red-500 dark:text-red-400 mt-2",children:["Total ",j," yang digunakan"]})]})}),a.jsx(ke,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:["Total Record ",j]}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:[J.totalRecords," ",a.jsx("span",{className:"text-sm font-normal",children:"Data"})]})]}),a.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:a.jsx(Cm,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-2",children:["Jumlah pencatatan ",j]})]})})]}),a.jsx(ke,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-800 rounded-lg",children:a.jsx(xi,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Informasi Pemantauan Bahan Baku"}),a.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2 space-y-1 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Stock Awal:"})," Input manual di awal bulan, selanjutnya otomatis terisi dari stock akhir terakhir"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Stock Akhir:"})," Dihitung otomatis = Stock Awal + Bahan Baku In - Bahan Baku Out"]}),a.jsxs("li",{children:["Gunakan ",a.jsx("strong",{children:"Filter Bahan Baku"})," di atas tabel untuk melihat data per jenis bahan baku"]}),a.jsx("li",{children:"Bahan baku yang dipantau: Urea, DAP, KCL, ZA, Dolomite, dan Clay"})]})]})]})})}),a.jsxs(ke,{children:[a.jsxs(nt,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(at,{children:"Data Pemantauan Bahan Baku"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(De,{value:N,onChange:T=>P(T.target.value),options:gme,className:"w-full sm:w-28"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I_,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),a.jsx("select",{value:j,onChange:T=>S(T.target.value),className:"px-3 py-2 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:xme.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))})]})]})]}),j&&z&&a.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:"primary",children:j}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Stock Terkini:"," ",a.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[Ls(z.currentStock)," Ton"]})]})]}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.totalRecords," data tercatat"]})]})})]}),a.jsx(nr,{data:A,columns:K,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, bahan baku, stock...",searchKeys:["tanggal","bahanBaku","stockAwal","bahanBakuIn","bahanBakuOut","stockAkhir","keterangan"],actions:xe?T=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),q(T.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),q(T.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),ue(T)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),fe(T.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),k(null),w(Xc),C({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},title:m?"Edit Data Pemantauan":"Tambah Data Pemantauan",children:a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:T=>w({...x,tanggal:T.target.value}),required:!0}),a.jsx(De,{label:"Bahan Baku",value:x.bahanBaku,onChange:T=>w({...x,bahanBaku:T.target.value}),options:r$,placeholder:"Pilih Bahan Baku",required:!0}),a.jsx(ge,{label:"Stock Awal (Ton)",type:"text",inputMode:"decimal",value:O.stockAwal,onChange:T=>{const R=T.target.value;(/^[0-9]*\.?[0-9]*$/.test(R)||R==="")&&C(ee=>({...ee,stockAwal:R}))},placeholder:"0.00",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"* Stock awal otomatis terisi dari stock akhir terakhir untuk bahan baku yang dipilih"}),a.jsx(ge,{label:"Bahan Baku In (Ton)",type:"text",inputMode:"decimal",value:O.bahanBakuIn,onChange:T=>{const R=T.target.value;(/^[0-9]*\.?[0-9]*$/.test(R)||R==="")&&C(ee=>({...ee,bahanBakuIn:R}))},placeholder:"0.00",required:!0}),a.jsx(ge,{label:"Bahan Baku Out (Ton)",type:"text",inputMode:"decimal",value:O.bahanBakuOut,onChange:T=>{const R=T.target.value;(/^[0-9]*\.?[0-9]*$/.test(R)||R==="")&&C(ee=>({...ee,bahanBakuOut:R}))},placeholder:"0.00",required:!0}),a.jsx(ge,{label:"Stock Akhir (Ton)",type:"number",value:x.stockAkhir||0,disabled:!0,className:"bg-gray-100 dark:bg-gray-700"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:()=>{d(!1),k(null),w(Xc),C({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},children:"Batal"}),a.jsx(ae,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:me,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:M,onClose:()=>{E(!1),L(null),v(null)},onSubmit:de,action:_,loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(ar,{isOpen:I,onClose:()=>{V(!1),X("")},sheetName:e==="NPK1"?"pemantauan_bahan_baku_NPK1":"pemantauan_bahan_baku",recordId:F,title:"Log Aktivitas Pemantauan Bahan Baku"})]})},i0=new Date().getFullYear(),vme=[...Array.from({length:i0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(i0+1),label:String(i0+1)}],Qc={tanggal:It(),nomorWR:"",item:"",area:"",eksekutor:"",include:"",keterangan:""},yme=[{value:"Mekanik",label:"Mekanik"},{value:"Bengkel",label:"Bengkel"},{value:"Listrik",label:"Listrik"},{value:"Craftshop",label:"Craftshop"},{value:"Alat Berat",label:"Alat Berat"},{value:"Instrument",label:"Instrument"},{value:"Inspeksi",label:"Inspeksi"}],xA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(Qc),[j,S]=b.useState(String(new Date().getFullYear())),N=e,[P,O]=b.useState(!1),[C,M]=b.useState("edit"),[E,_]=b.useState(null),[B,G]=b.useState(!1),[L,I]=b.useState(null),[V,F]=b.useState(!1),[X,q]=b.useState(""),oe=K=>{q(K),F(!0)},Q=hr((t==null?void 0:t.role)||""),ce=kr((t==null?void 0:t.role)||"")&&!Q,se=b.useCallback(()=>{if(u&&!l){const K=document.querySelector("form");K&&K.requestSubmit()}},[u,l]);sr(se,u);const ie=Tr((t==null?void 0:t.role)||""),xe=Ar((t==null?void 0:t.role)||"");b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:T,SHEETS:R}=await Ie(async()=>{const{fetchDataByPlant:$,SHEETS:Y}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:$,SHEETS:Y}},void 0),ee=await T(R.WORK_REQUEST);if(ee.success&&ee.data){const $=[...ee.data].sort((Y,Z)=>new Date(Z.tanggal).getTime()-new Date(Y.tanggal).getTime());o($)}else o([])}catch(T){console.error("Error fetching data:",T),o([])}finally{c(!1)}})()},[]);const be=async K=>{K.preventDefault(),c(!0);try{if(m){const T={...x,id:m,_plant:N},R=await n(dr.WORK_REQUEST,T);if(R.success)o(ee=>ee.map($=>$.id===m?{...x,id:m,_plant:N}:$));else throw new Error(R.error||"Gagal mengupdate data")}else{const T={...x,_plant:N},R=await r(dr.WORK_REQUEST,T);if(R.success&&R.data){const ee={...R.data,_plant:N};o($=>[ee,...$])}else throw new Error(R.error||"Gagal menyimpan data")}d(!1),w(Qc),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(T){console.error("Error saving data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ue=K=>{if(ie){_(K),M("edit"),O(!0);return}w(K),k(K.id||null),d(!0)},fe=K=>{if(xe){v(K),M("delete"),O(!0);return}v(K),h(!0)},me=async K=>{c(!0);try{const{createData:T,SHEETS:R}=await Ie(async()=>{const{createData:Y,SHEETS:Z}=await Promise.resolve().then(()=>Le);return{createData:Y,SHEETS:Z}},void 0),ee={type:"work_request",action:C,itemId:C==="edit"?E==null?void 0:E.id:y,itemData:C==="edit"?E:i.find(Y=>Y.id===y),reason:K,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},$=await T(R.APPROVAL_REQUESTS,ee);if($.success)O(!1),_(null),v(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error($.error||"Gagal mengirim permintaan")}catch(T){console.error("Error submitting approval:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan")}finally{c(!1)}},de=async()=>{if(y){c(!0);try{const K=i.find(R=>R.id===y),T=await s(dr.WORK_REQUEST,{id:y,_plant:(K==null?void 0:K._plant)||N});if(T.success)o(R=>R.filter(ee=>ee.id!==y)),h(!1),v(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(T.error||"Gagal menghapus data")}catch(K){console.error("Error deleting data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},je=()=>{w(Qc),k(null),d(!0)},J=K=>{I(K),G(!0)},A=i.filter(K=>{const T=K._plant===N,ee=new Date(K.tanggal).getFullYear()===parseInt(j);return T&&ee}),D=[{key:"tanggal",header:"Tanggal",sortable:!0,render:K=>We(K)},{key:"nomorWR",header:"Nomor WR"},{key:"item",header:"Item"},{key:"area",header:"Area"},{key:"eksekutor",header:"Eksekutor"},{key:"include",header:"Include"},{key:"keterangan",header:"Keterangan",render:K=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:K})}],z=A.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Work Request ",N==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola permintaan perbaikan dan maintenance"})]}),a.jsx("div",{className:"flex items-center gap-3",children:ce&&a.jsxs(ae,{onClick:je,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Buat Work Request"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(xa,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Work Request"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:z})]})]})})}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Work Request - Tahun ",j]}),a.jsx(De,{value:j,onChange:K=>S(K.target.value),options:vme,className:"w-32"})]})}),a.jsx(nr,{data:A,columns:D,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor WR, item, area, eksekutor...",searchKeys:["tanggal","nomorWR","item","area","eksekutor","include","keterangan"],actions:K=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),J(K)},title:"Lihat Detail",children:a.jsx(wi,{className:"h-4 w-4 text-blue-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),oe(K.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),!Q&&a.jsxs(a.Fragment,{children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),ue(K)},title:ie?"Ajukan Edit (perlu approval)":"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),fe(K.id)},title:xe?"Ajukan Hapus (perlu approval)":"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),w(Qc),k(null)},title:m?"Edit Work Request":"Buat Work Request",size:"lg",children:a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:K=>w(T=>({...T,tanggal:K.target.value})),required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Nomor WR",type:"text",value:x.nomorWR,onChange:K=>w(T=>({...T,nomorWR:K.target.value})),placeholder:"Nomor Work Request",required:!0}),a.jsx(ge,{label:"Item",type:"text",value:x.item,onChange:K=>w(T=>({...T,item:K.target.value})),placeholder:"Item",required:!0})]}),a.jsx(ge,{label:"Area",type:"text",value:x.area,onChange:K=>w(T=>({...T,area:K.target.value})),placeholder:"Area",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(De,{label:"Eksekutor",value:x.eksekutor,onChange:K=>w(T=>({...T,eksekutor:K.target.value})),options:yme,placeholder:"Pilih eksekutor",required:!0}),a.jsx(ge,{label:"Include",type:"text",value:x.include,onChange:K=>w(T=>({...T,include:K.target.value})),placeholder:"Include"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Keterangan"}),a.jsx("textarea",{value:x.keterangan,onChange:K=>w(T=>({...T,keterangan:K.target.value})),placeholder:"Keterangan detail work request...",className:"input-field min-h-[100px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Qc),k(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:de,title:"Hapus Work Request",message:"Apakah Anda yakin ingin menghapus work request ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:P,onClose:()=>{O(!1),_(null),v(null)},onSubmit:me,action:C,itemName:"Work Request",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Xe,{isOpen:B,onClose:()=>{G(!1),I(null)},title:"Detail Work Request",size:"lg",children:L&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-dark-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:a.jsx(xa,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-dark-900 dark:text-white",children:L.nomorWR}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:We(L.tanggal)})]})]}),a.jsx(Te,{variant:N==="NPK1"?"primary":"success",children:N})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Item"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:L.item})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Area"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:L.area})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Eksekutor"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:L.eksekutor})})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Include"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:L.include||"-"})]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[a.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2",children:"Keterangan"}),a.jsx("p",{className:"text-dark-900 dark:text-white whitespace-pre-wrap leading-relaxed",children:L.keterangan||"-"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-200",children:[!Q&&a.jsxs(ae,{variant:"secondary",onClick:()=>{G(!1),I(null),ue(L)},children:[a.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsx(ae,{onClick:()=>{G(!1),I(null)},children:"Tutup"})]})]})}),a.jsx(ar,{isOpen:V,onClose:()=>{F(!1),q("")},sheetName:N==="NPK1"?"workrequest_NPK1":"workrequest",recordId:X,title:"Log Aktivitas Work Request"})]})},o0=new Date().getFullYear(),bme=[...Array.from({length:o0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(o0+1),label:String(o0+1)}],vA=[{value:"ALL",label:"Semua Bulan"},{value:"1",label:"Januari"},{value:"2",label:"Februari"},{value:"3",label:"Maret"},{value:"4",label:"April"},{value:"5",label:"Mei"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"Agustus"},{value:"9",label:"September"},{value:"10",label:"Oktober"},{value:"11",label:"November"},{value:"12",label:"Desember"}],kme=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Clay",label:"Clay"},{value:"Dolomite",label:"Dolomite"},{value:"Coating Oil",label:"Coating Oil"},{value:"Pewarna",label:"Pewarna"},{value:"Silika",label:"Silika"},{value:"Amnit",label:"Amnit"}],jme=[{value:"Ton",label:"Ton"},{value:"Pallet",label:"Pallet"},{value:"Jumbo",label:"Jumbo"}],Zc={tanggal:It(),bahanBaku:"",entries:[{berat:0,unit:"Ton"}],totalBerat:0},yA=({plant:e})=>{var le;const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),{optimisticAdd:i,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=Z3(),[d,f]=b.useState([]),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,y]=b.useState(!1),[v,x]=b.useState(!1),[w,j]=b.useState(null),[S,N]=b.useState(null),[P,O]=b.useState(Zc),[C,M]=b.useState(String(new Date().getFullYear())),[E,_]=b.useState(String(new Date().getMonth()+1)),B=e,[G,L]=b.useState(!1),[I,V]=b.useState("edit"),[F,X]=b.useState(null),[q,oe]=b.useState(!1),[Q,ce]=b.useState(""),se=U=>{ce(U),oe(!0)},ie=hr((t==null?void 0:t.role)||""),xe=kr((t==null?void 0:t.role)||"")&&!ie,be=b.useCallback(()=>{if(g&&!h){const U=document.querySelector("form");U&&U.requestSubmit()}},[g,h]);sr(be,g);const ue=Tr((t==null?void 0:t.role)||""),fe=Ar((t==null?void 0:t.role)||""),me=U=>U.reduce((he,ye)=>he+(ye.berat||0),0),de=(U,he,ye)=>{O($e=>{const Be=[...$e.entries];return Be[U]={...Be[U],[he]:he==="berat"?parseFloat(ye)||0:ye},{...$e,entries:Be,totalBerat:me(Be)}})},je=()=>{O(U=>({...U,entries:[...U.entries,{berat:0,unit:"Ton"}]}))},J=(U,he)=>{U.key==="Enter"&&(U.preventDefault(),je(),setTimeout(()=>{const ye=document.querySelectorAll('input[type="number"][placeholder="Berat"]'),$e=ye[ye.length-1];$e&&$e.focus()},50))},A=U=>{P.entries.length<=1||O(he=>{const ye=he.entries.filter(($e,Be)=>Be!==U);return{...he,entries:ye,totalBerat:me(ye)}})};b.useEffect(()=>{(async()=>{p(!0);try{const{readData:he,getSheetNameByPlant:ye}=await Ie(async()=>{const{readData:Fe,getSheetNameByPlant:Qe}=await Promise.resolve().then(()=>Le);return{readData:Fe,getSheetNameByPlant:Qe}},void 0),$e=ye(dr.BAHAN_BAKU_NPK,B),Be=await he($e);if(Be.success&&Be.data){const Qe=[...Be.data.map(Ye=>({...Ye,entries:typeof Ye.entries=="string"?JSON.parse(Ye.entries):Ye.entries||[{berat:0,unit:"Ton"}],totalBerat:Ye.totalBerat||0,_plant:B}))].sort((Ye,Dt)=>new Date(Dt.tanggal).getTime()-new Date(Ye.tanggal).getTime());f(Qe)}else f([])}catch(he){console.error("Error fetching data:",he),f([])}finally{p(!1)}})()},[B]);const D=async U=>{if(U.preventDefault(),!P.tanggal){alert("Tanggal wajib diisi!");return}if(!P.bahanBaku){alert("Bahan Baku wajib dipilih!");return}if(P.entries.length===0||P.entries.every(ye=>ye.berat===0)){alert("Minimal satu entry berat harus diisi!");return}m(!1),x(!0);const he={...P,entries:JSON.stringify(P.entries),totalBerat:me(P.entries),_plant:B};if(w){const ye={...P,id:w,_plant:B,totalBerat:me(P.entries)},{rollback:$e}=o(d,ye);f(Fe=>Fe.map(Qe=>Qe.id===w?{...ye,_isPending:!0}:Qe));const Be={...he,id:w};n(dr.BAHAN_BAKU_NPK,Be).then(Fe=>{Fe.success?f(Qe=>u(Qe,w)):(f($e()),alert(Fe.error||"Gagal mengupdate data"))}).catch(()=>{f($e()),alert("Terjadi kesalahan saat mengupdate data")})}else{const ye=e$(),$e={...P,id:ye,_plant:B,totalBerat:me(P.entries),_isPending:!0},{rollback:Be}=i(d,$e,ye);f(Fe=>[$e,...Fe]),r(dr.BAHAN_BAKU_NPK,he).then(Fe=>{Fe.success&&Fe.data?f(Qe=>c(Qe,ye,Fe.data.id||ye)):(f(Be()),alert(Fe.error||"Gagal menyimpan data"))}).catch(()=>{f(Be()),alert("Terjadi kesalahan saat menyimpan data")})}O(Zc),j(null),setTimeout(()=>x(!1),1500)},z=U=>{if(ue){X(U),V("edit"),L(!0);return}const he=typeof U.entries=="string"?JSON.parse(U.entries):U.entries||[{berat:0,unit:"Ton"}];O({...U,entries:he,totalBerat:me(he)}),j(U.id||null),m(!0)},K=U=>{if(fe){N(U),V("delete"),L(!0);return}N(U),y(!0)},T=async U=>{p(!0);try{const{createData:he,SHEETS:ye}=await Ie(async()=>{const{createData:Fe,SHEETS:Qe}=await Promise.resolve().then(()=>Le);return{createData:Fe,SHEETS:Qe}},void 0),$e={type:"BAHAN_BAKU_NPK",action:I,itemId:I==="edit"?F==null?void 0:F.id:S,itemData:I==="edit"?F:d.find(Fe=>Fe.id===S),reason:U,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Be=await he(ye.APPROVAL_REQUESTS,$e);if(Be.success)L(!1),X(null),N(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Be.error||"Gagal mengirim permintaan")}catch(he){console.error("Error submitting approval:",he),alert(he instanceof Error?he.message:"Terjadi kesalahan")}finally{p(!1)}},R=async()=>{if(!S)return;const U=d.find(ye=>ye.id===S),{rollback:he}=l(d,S);f(ye=>ye.filter($e=>$e.id!==S)),y(!1),x(!0),s(dr.BAHAN_BAKU_NPK,{id:S,_plant:(U==null?void 0:U._plant)||B}).then(ye=>{ye.success||(f(he()),alert(ye.error||"Gagal menghapus data"))}).catch(()=>{f(he()),alert("Terjadi kesalahan saat menghapus data")}),N(null),setTimeout(()=>x(!1),1500)},ee=()=>{O(Zc),j(null),m(!0)},$=d.filter(U=>{const he=U._plant===B,ye=new Date(U.tanggal),$e=ye.getFullYear(),Be=ye.getMonth()+1,Fe=$e===parseInt(C),Qe=E==="ALL"||Be===parseInt(E);return he&&Fe&&Qe}),Y=$.reduce((U,he)=>{const ye=he.bahanBaku||"Unknown";return U[ye]=(U[ye]||0)+(he.totalBerat||0),U},{}),Z=U=>{const he=typeof U=="string"?JSON.parse(U):U;return!he||!Array.isArray(he)?"-":he.map(ye=>`${H(ye.berat)} ${ye.unit}`).join(", ")},W=[{key:"tanggal",header:"Tanggal",sortable:!0,render:U=>We(U)},{key:"bahanBaku",header:"Bahan Baku",render:U=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xi,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:U})]})},{key:"entries",header:"Detail Berat & Unit",render:U=>a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:Z(U)})},{key:"totalBerat",header:"Total Berat",render:U=>a.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:H(ne(U))})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Bahan Baku NPK ",B==="NPK1"?"1":"2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data penerimaan bahan baku NPK"})]}),a.jsx("div",{className:"flex items-center gap-3",children:xe&&a.jsxs(ae,{onClick:ee,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(Y).slice(0,5).map(([U,he])=>a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(xi,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:U}),a.jsx("p",{className:"text-lg font-bold text-dark-900 dark:text-white",children:H(he)})]})]})},U))}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs(at,{children:["Data Bahan Baku NPK - ",E==="ALL"?"Tahun":(le=vA.find(U=>U.value===E))==null?void 0:le.label," ",C]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(De,{value:E,onChange:U=>_(U.target.value),options:vA,className:"w-40"}),a.jsx(De,{value:C,onChange:U=>M(U.target.value),options:bme,className:"w-28"})]})]})}),a.jsx(nr,{data:$,columns:W,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, bahan baku, total berat...",searchKeys:["tanggal","bahanBaku","totalBerat"],actions:ie?U=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:he=>{he.stopPropagation(),se(U.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-blue-600"})})}):U=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:he=>{he.stopPropagation(),se(U.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-blue-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:he=>{he.stopPropagation(),z(U)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:he=>{he.stopPropagation(),K(U.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:g,onClose:()=>{m(!1),O(Zc),j(null)},title:w?"Edit Data Bahan Baku NPK":"Tambah Data Bahan Baku NPK",size:"lg",children:a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:P.tanggal,onChange:U=>O(he=>({...he,tanggal:U.target.value})),required:!0}),a.jsx(De,{label:"Bahan Baku",value:P.bahanBaku,onChange:U=>O(he=>({...he,bahanBaku:U.target.value})),options:kme,placeholder:"Pilih bahan baku",required:!0}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-300",children:"Detail Berat & Unit"}),a.jsxs(ae,{type:"button",variant:"secondary",size:"sm",onClick:je,children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),"Tambah"]})]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:P.entries.map((U,he)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-50 dark:bg-dark-800 rounded-lg",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ge,{type:"number",value:U.berat||"",onChange:ye=>de(he,"berat",ye.target.value),onKeyDown:ye=>J(ye),placeholder:"Berat",step:"0.01",min:"0",required:!0})}),a.jsx("div",{className:"w-32",children:a.jsx(De,{value:U.unit,onChange:ye=>de(he,"unit",ye.target.value),options:jme,required:!0})}),P.entries.length>1&&a.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:()=>A(he),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(Un,{className:"h-4 w-4"})})]},he))}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:[a.jsx("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:"Total Berat:"}),a.jsx("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:H(me(P.entries))})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{m(!1),O(Zc),j(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:h,children:w?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:k,onClose:()=>{y(!1),N(null)},onConfirm:R,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:h}),a.jsx(Or,{isOpen:G,onClose:()=>{L(!1),X(null),N(null)},onSubmit:T,action:I,itemName:"data bahan baku NPK",loading:h}),a.jsx(Gt,{isVisible:v,message:"Data berhasil disimpan!",onClose:()=>x(!1)}),a.jsx(ar,{isOpen:q,onClose:()=>{oe(!1),ce("")},sheetName:B==="NPK1"?"bahanbaku_npk_NPK1":"bahanbaku_npk",recordId:Q,title:"Log Aktivitas Bahan Baku NPK"})]})},l0=new Date().getFullYear(),wme=[...Array.from({length:l0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(l0+1),label:String(l0+1)}],eu={tanggal:It(),namaEquipment:"",posisiPengukuran:"",pointPengukuran:"",nilaiVibrasi:0,status:"Normal",keterangan:""},bA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(eu),[j,S]=b.useState(String(new Date().getFullYear())),N=e,[P,O]=b.useState(!1),[C,M]=b.useState("edit"),[E,_]=b.useState(null),[B,G]=b.useState(!1),[L,I]=b.useState(""),V=z=>{I(z),G(!0)},F=(t==null?void 0:t.role)||"",X=kr(F),q=b.useCallback(()=>{if(u&&!l){const z=document.querySelector("form");z&&z.requestSubmit()}},[u,l]);sr(q,u);const oe=Tr(F),Q=Ar(F),ce=hr(F),se=[{value:"Vertical",label:"Vertical"},{value:"Horizontal",label:"Horizontal"},{value:"Axial",label:"Axial"}],ie=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}];b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:K,SHEETS:T}=await Ie(async()=>{const{fetchDataByPlant:ee,SHEETS:$}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:ee,SHEETS:$}},void 0),R=await K(T.VIBRASI);if(R.success&&R.data){const ee=[...R.data].sort(($,Y)=>new Date(Y.tanggal).getTime()-new Date($.tanggal).getTime());o(ee)}else o([])}catch(K){console.error("Error fetching data:",K),o([])}finally{c(!1)}})()},[]),b.useEffect(()=>{let z="Normal";x.nilaiVibrasi>=7?z="Alert":x.nilaiVibrasi>=4&&(z="Warning"),w(K=>({...K,status:z}))},[x.nilaiVibrasi]);const xe=async z=>{z.preventDefault(),c(!0);try{if(m){const K={...x,id:m,_plant:N},T=await n(dr.VIBRASI,K);if(T.success)o(R=>R.map(ee=>ee.id===m?{...x,id:m,_plant:N}:ee));else throw new Error(T.error||"Gagal mengupdate data")}else{const K={...x,_plant:N},T=await r(dr.VIBRASI,K);if(T.success&&T.data){const R={...T.data,_plant:N};o(ee=>[R,...ee])}else throw new Error(T.error||"Gagal menyimpan data")}d(!1),w(eu),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(K){console.error("Error saving data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},be=z=>{if(oe){_(z),M("edit"),O(!0);return}w(z),k(z.id||null),d(!0)},ue=z=>{if(Q){const K=i.find(T=>T.id===z);K&&(_(K),M("delete"),O(!0));return}v(z),h(!0)},fe=async z=>{if(!(!E||!t)){c(!0);try{const K="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",T={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:C,targetSheet:"VIBRASI",targetId:E.id,targetData:JSON.stringify(E),reason:z,status:"pending",requestedAt:new Date().toISOString()}};await fetch(K,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),O(!1),_(null)}catch(K){console.error("Error submitting approval:",K),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},me=async()=>{if(y){c(!0);try{const z=i.find(T=>T.id===y),K=await s(dr.VIBRASI,{id:y,_plant:(z==null?void 0:z._plant)||N});if(K.success)o(T=>T.filter(R=>R.id!==y)),h(!1),v(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(K.error||"Gagal menghapus data")}catch(z){console.error("Error deleting data:",z),alert(z instanceof Error?z.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},de=()=>{w(eu),k(null),d(!0)},je=i.filter(z=>{const K=z._plant===N,R=new Date(z.tanggal).getFullYear()===parseInt(j);return K&&R}),J={normal:je.filter(z=>z.status==="Normal").length,warning:je.filter(z=>z.status==="Warning").length,alert:je.filter(z=>z.status==="Alert").length},A=z=>{switch(z){case"Normal":return"success";case"Warning":return"warning";case"Alert":return"danger";default:return"default"}},D=[{key:"tanggal",header:"Tanggal",sortable:!0,render:z=>We(z)},{key:"namaEquipment",header:"Equipment",render:z=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fu,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:z})]})},{key:"posisiPengukuran",header:"Posisi Pengukuran",render:z=>a.jsx(Te,{variant:"default",children:z})},{key:"pointPengukuran",header:"Point Pengukuran",render:z=>a.jsx(Te,{variant:"primary",children:z})},{key:"nilaiVibrasi",header:"Vibrasi (mm/s)",render:z=>{const K=ne(z);return a.jsx("span",{className:`font-bold ${K>=7?"text-red-600":K>=4?"text-amber-600":"text-green-600"}`,children:H(K)})}},{key:"status",header:"Status",render:z=>a.jsx(Te,{variant:A(z),children:z})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Vibrasi ",N==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Monitoring vibrasi equipment produksi"})]}),a.jsx("div",{className:"flex items-center gap-3",children:X&&a.jsxs(ae,{onClick:de,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(fu,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Normal"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:J.normal})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Al,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Warning"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:J.warning})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Al,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Alert"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:J.alert})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-dark-100 rounded-lg",children:a.jsx(fu,{className:"h-5 w-5 text-dark-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pengukuran"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:je.length})]})]})})]}),a.jsx(ke,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(fu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Panduan Status Vibrasi"}),a.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(Te,{variant:"success",children:"Normal"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"< 4 mm/s"})]}),a.jsxs("div",{children:[a.jsx(Te,{variant:"warning",children:"Warning"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"4 - 7 mm/s"})]}),a.jsxs("div",{children:[a.jsx(Te,{variant:"danger",children:"Alert"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"> 7 mm/s"})]})]})]})]})}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Pengukuran Vibrasi - Tahun ",j]}),a.jsx(De,{value:j,onChange:z=>S(z.target.value),options:wme,className:"w-32"})]})}),a.jsx(nr,{data:je,columns:D,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, posisi, status...",searchKeys:["tanggal","namaEquipment","posisiPengukuran","pointPengukuran","nilaiVibrasi","status","keterangan"],actions:ce?z=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ae,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),V(z.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})})}):z=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),V(z.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),be(z)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),ue(z.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),w(eu),k(null)},title:m?"Edit Data Vibrasi":"Tambah Data Vibrasi",size:"md",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:z=>w(K=>({...K,tanggal:z.target.value})),required:!0}),a.jsx(ge,{label:"Nama Equipment",type:"text",value:x.namaEquipment,onChange:z=>w(K=>({...K,namaEquipment:z.target.value})),placeholder:"Masukkan nama equipment",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(De,{label:"Posisi Pengukuran",value:x.posisiPengukuran,onChange:z=>w(K=>({...K,posisiPengukuran:z.target.value})),options:se,placeholder:"Pilih posisi",required:!0}),a.jsx(De,{label:"Point Pengukuran",value:x.pointPengukuran,onChange:z=>w(K=>({...K,pointPengukuran:z.target.value})),options:ie,placeholder:"Pilih point",required:!0})]}),a.jsx(ge,{label:"Nilai Vibrasi (mm/s)",type:"number",step:"0.1",value:x.nilaiVibrasi||"",onChange:z=>w(K=>({...K,nilaiVibrasi:parseFloat(z.target.value)||0})),placeholder:"0.0",required:!0}),a.jsx("div",{className:"p-4 bg-dark-50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600",children:"Status:"}),a.jsx(Te,{variant:A(x.status||"Normal"),className:"text-lg px-4",children:x.status})]})}),a.jsx(ge,{label:"Keterangan",type:"text",value:x.keterangan,onChange:z=>w(K=>({...K,keterangan:z.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(eu),k(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:me,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:P,onClose:()=>{O(!1),_(null)},onSubmit:fe,action:C,itemName:"data vibrasi",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(ar,{isOpen:B,onClose:()=>{G(!1),I("")},sheetName:N==="NPK1"?"vibrasi_NPK1":"vibrasi",recordId:L,title:"Log Aktivitas Vibrasi"})]})},c0=new Date().getFullYear(),Sme=[...Array.from({length:c0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(c0+1),label:String(c0+1)}],tu={tanggal:It(),nomorGatePass:"",noPolisi:"",pemilikBarang:"",namaPembawa:"",mengetahui:"",deskripsiBarang:"",alasanKeluar:""},kA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(tu),[j,S]=b.useState(String(new Date().getFullYear())),[N,P]=b.useState(!1),[O,C]=b.useState(null),M=e,[E,_]=b.useState(!1),[B,G]=b.useState(""),L=T=>{G(T),_(!0)},[I,V]=b.useState(!1),[F,X]=b.useState("edit"),[q,oe]=b.useState(null),Q=hr((t==null?void 0:t.role)||""),ce=kr((t==null?void 0:t.role)||"")&&!Q,se=b.useCallback(()=>{if(u&&!l){const T=document.querySelector("form");T&&T.requestSubmit()}},[u,l]);sr(se,u);const ie=Tr((t==null?void 0:t.role)||""),xe=Ar((t==null?void 0:t.role)||""),be=T=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][T];b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:R,SHEETS:ee}=await Ie(async()=>{const{fetchDataByPlant:Y,SHEETS:Z}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:Y,SHEETS:Z}},void 0),$=await R(ee.GATE_PASS);if($.success&&$.data){const Y=[...$.data].sort((Z,W)=>new Date(W.tanggal).getTime()-new Date(Z.tanggal).getTime());o(Y)}else o([])}catch(R){console.error("Error fetching data:",R),o([])}finally{c(!1)}})()},[]);const ue=()=>{const T=new Date,R=T.getFullYear(),ee=T.getMonth(),$=be(ee),Y=M==="NPK1"?"NPK-1":"NPK-2",Z=i.filter(le=>{if(!le.tanggal)return!1;const U=new Date(le.tanggal);return U.getMonth()===ee&&U.getFullYear()===R&&le._plant===M});return`${String(Z.length+1).padStart(3,"0")}/GP/${Y}/${$}/${R}`},fe=async T=>{T.preventDefault(),c(!0);try{if(m){const R={...x,id:m,_plant:M},ee=await n(dr.GATE_PASS,R);if(ee.success)o($=>$.map(Y=>Y.id===m?{...x,id:m,_plant:M}:Y));else throw new Error(ee.error||"Gagal mengupdate data")}else{const R={...x,nomorGatePass:x.nomorGatePass||ue(),_plant:M},ee=await r(dr.GATE_PASS,R);if(ee.success&&ee.data){const $={...ee.data,_plant:e};o(Y=>[$,...Y])}else throw new Error(ee.error||"Gagal menyimpan data")}d(!1),w(tu),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(R){console.error("Error saving data:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},me=T=>{if(ie){oe(T),X("edit"),V(!0);return}w(T),k(T.id||null),d(!0)},de=T=>{if(xe){v(T),X("delete"),V(!0);return}v(T),h(!0)},je=async T=>{c(!0);try{const{createData:R,SHEETS:ee}=await Ie(async()=>{const{createData:Z,SHEETS:W}=await Promise.resolve().then(()=>Le);return{createData:Z,SHEETS:W}},void 0),$={type:"GATE_PASS",action:F,itemId:F==="edit"?q==null?void 0:q.id:y,itemData:F==="edit"?q:i.find(Z=>Z.id===y),reason:T,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Y=await R(ee.APPROVAL_REQUESTS,$);if(Y.success)V(!1),oe(null),v(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Y.error||"Gagal mengirim permintaan")}catch(R){console.error("Error submitting approval:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan")}finally{c(!1)}},J=async()=>{if(y){c(!0);try{const T=i.find(ee=>ee.id===y),R=await s(dr.GATE_PASS,{id:y,_plant:(T==null?void 0:T._plant)||M});if(R.success)o(ee=>ee.filter($=>$.id!==y)),h(!1),v(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(R.error||"Gagal menghapus data")}catch(T){console.error("Error deleting data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},A=()=>{w({...tu,nomorGatePass:ue()}),k(null),d(!0)},D=i.filter(T=>{const R=T._plant===M,$=new Date(T.tanggal).getFullYear()===parseInt(j);return R&&$}),z=[{key:"tanggal",header:"Tanggal",sortable:!0,render:T=>We(T)},{key:"nomorGatePass",header:"No. Gate Pass",render:T=>a.jsx("span",{className:"font-mono font-semibold text-primary-600",children:T})},{key:"noPolisi",header:"No Polisi"},{key:"pemilikBarang",header:"Pemilik Barang"},{key:"namaPembawa",header:"Nama Pembawa"},{key:"mengetahui",header:"Mengetahui"},{key:"deskripsiBarang",header:"Deskripsi Barang",render:T=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:T})},{key:"alasanKeluar",header:"Alasan Mengeluarkan",render:T=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:T})}],K=D.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Gate Pass ",M==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data gate pass barang masuk/keluar"})]}),a.jsx("div",{className:"flex items-center gap-3",children:ce&&a.jsxs(ae,{onClick:A,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Buat Gate Pass"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(K_,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gate Pass"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:K})]})]})})}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Gate Pass - Tahun ",j]}),a.jsx(De,{value:j,onChange:T=>S(T.target.value),options:Sme,className:"w-32"})]})}),a.jsx(nr,{data:D,columns:z,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor GP, no polisi, pemilik, pembawa...",searchKeys:["tanggal","nomorGatePass","noPolisi","pemilikBarang","namaPembawa","mengetahui","deskripsiBarang","alasanKeluar"],actions:T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),C(T),P(!0)},title:"Cetak Gate Pass",children:a.jsx(Br,{className:"h-4 w-4 text-amber-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),L(T.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),!Q&&a.jsxs(a.Fragment,{children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),me(T)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),de(T.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),w(tu),k(null)},title:m?"Edit Gate Pass":"Buat Gate Pass",size:"lg",children:a.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:T=>w(R=>({...R,tanggal:T.target.value})),required:!0}),a.jsx(ge,{label:"No. Gate Pass",type:"text",value:x.nomorGatePass,onChange:T=>w(R=>({...R,nomorGatePass:T.target.value})),placeholder:"Auto generate",disabled:!m})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"No Polisi",type:"text",value:x.noPolisi,onChange:T=>w(R=>({...R,noPolisi:T.target.value})),placeholder:"Contoh: T 8643 HI",required:!0}),a.jsx(ge,{label:"Pemilik Barang",type:"text",value:x.pemilikBarang,onChange:T=>w(R=>({...R,pemilikBarang:T.target.value})),placeholder:"Nama pemilik barang",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Nama Pembawa",type:"text",value:x.namaPembawa,onChange:T=>w(R=>({...R,namaPembawa:T.target.value})),placeholder:"Nama pembawa barang",required:!0}),a.jsx(ge,{label:"Mengetahui",type:"text",value:x.mengetahui,onChange:T=>w(R=>({...R,mengetahui:T.target.value})),placeholder:"Nama yang mengetahui",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Barang"}),a.jsx("textarea",{value:x.deskripsiBarang,onChange:T=>w(R=>({...R,deskripsiBarang:T.target.value})),placeholder:"Deskripsi detail barang...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Mengeluarkan"}),a.jsx("textarea",{value:x.alasanKeluar,onChange:T=>w(R=>({...R,alasanKeluar:T.target.value})),placeholder:"Alasan mengeluarkan barang...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(tu),k(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:J,title:"Hapus Gate Pass",message:"Apakah Anda yakin ingin menghapus gate pass ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:I,onClose:()=>{V(!1),oe(null),v(null)},onSubmit:je,action:F,itemName:"gate pass",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),O&&a.jsx(tz,{isOpen:N,onClose:()=>{P(!1),C(null)},data:O,plant:M}),a.jsx(ar,{isOpen:E,onClose:()=>{_(!1),G("")},sheetName:M==="NPK1"?"gatepass_NPK1":"gatepass",recordId:B,title:"Log Aktivitas Gate Pass"})]})},u0=new Date().getFullYear(),Nme=[...Array.from({length:u0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(u0+1),label:String(u0+1)}],ru={tanggal:It(),nomorPerta:"",deskripsi:"",status:"Open",shift:"1",jenisBBM:"Solar",volumeAwal:0,volumePengisian:0,volumePemakaian:0,volumeAkhir:0,keterangan:""},Pme=()=>{var J;const{user:e}=st(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=mr(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(null),[k,y]=b.useState(null),[v,x]=b.useState(ru),[w,j]=b.useState(String(new Date().getFullYear())),[S,N]=b.useState((e==null?void 0:e.plant)||"ALL"),[P,O]=b.useState(!1),[C,M]=b.useState("edit"),[E,_]=b.useState(null),[B,G]=b.useState(!1),[L,I]=b.useState(""),V=hr((e==null?void 0:e.role)||""),F=kr((e==null?void 0:e.role)||"")&&!V,X=b.useCallback(()=>{if(c&&!o){const A=document.querySelector("form");A&&A.requestSubmit()}},[c,o]);sr(X,c);const q=Tr((e==null?void 0:e.role)||""),oe=Ar((e==null?void 0:e.role)||""),Q=[{value:"Solar",label:"Solar"},{value:"Pertamax",label:"Pertamax"},{value:"Pertalite",label:"Pertalite"},{value:"Premium",label:"Premium"},{value:"Biosolar",label:"Biosolar"}];b.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:D,SHEETS:z}=await Ie(async()=>{const{fetchDataByPlant:T,SHEETS:R}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:T,SHEETS:R}},void 0),K=await D(z.PERTA);if(K.success&&K.data){const T=[...K.data].sort((R,ee)=>new Date(ee.tanggal).getTime()-new Date(R.tanggal).getTime());i(T)}else i([])}catch(D){console.error("Error fetching data:",D),i([])}finally{l(!1)}})()},[]),b.useEffect(()=>{const A=(v.volumeAwal||0)+(v.volumePengisian||0)-(v.volumePemakaian||0);x(D=>({...D,volumeAkhir:A>0?A:0}))},[v.volumeAwal,v.volumePengisian,v.volumePemakaian]);const ce=async A=>{A.preventDefault(),l(!0);try{const D=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant;if(g){const z={...v,id:g,_plant:D},K=await r("perta",z);if(K.success)i(T=>T.map(R=>R.id===g?{...v,id:g,_plant:D}:R));else throw new Error(K.error||"Gagal mengupdate data")}else{const z={...v,_plant:D},K=await t("perta",z);if(K.success&&K.data){const T={...K.data,_plant:D};i(R=>[T,...R])}else throw new Error(K.error||"Gagal menyimpan data")}u(!1),x(ru),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(D){console.error("Error saving data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},se=A=>{if(q){_(A),M("edit"),O(!0);return}x(A),m(A.id||null),u(!0)},ie=A=>{if(oe){y(A),M("delete"),O(!0);return}y(A),f(!0)},xe=async A=>{l(!0);try{const{createData:D,SHEETS:z}=await Ie(async()=>{const{createData:R,SHEETS:ee}=await Promise.resolve().then(()=>Le);return{createData:R,SHEETS:ee}},void 0),K={type:"PERTA",action:C,itemId:C==="edit"?E==null?void 0:E.id:k,itemData:C==="edit"?E:s.find(R=>R.id===k),reason:A,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},T=await D(z.APPROVAL_REQUESTS,K);if(T.success)O(!1),_(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(T.error||"Gagal mengirim permintaan")}catch(D){console.error("Error submitting approval:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan")}finally{l(!1)}},be=async()=>{if(k){l(!0);try{const A=s.find(K=>K.id===k),D=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant,z=await n("perta",{id:k,_plant:(A==null?void 0:A._plant)||D});if(z.success)i(K=>K.filter(T=>T.id!==k)),f(!1),y(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(z.error||"Gagal menghapus data")}catch(A){console.error("Error deleting data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},ue=()=>{const A=s[0];x({...ru,volumeAwal:(A==null?void 0:A.volumeAkhir)||0}),m(null),u(!0)},fe=s.filter(A=>{const D=S==="ALL"||A._plant===S,K=new Date(A.tanggal).getFullYear()===parseInt(w);return D&&K}),me=fe.reduce((A,D)=>({pengisian:A.pengisian+(D.volumePengisian||0),pemakaian:A.pemakaian+(D.volumePemakaian||0)}),{pengisian:0,pemakaian:0}),de=((J=fe[0])==null?void 0:J.volumeAkhir)||0,je=[{key:"tanggal",header:"Tanggal",sortable:!0,render:A=>We(A)},{key:"shift",header:"Shift",render:A=>a.jsxs(Te,{variant:"primary",children:["Shift ",A]})},{key:"jenisBBM",header:"Jenis BBM",render:A=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ui,{className:"h-4 w-4 text-amber-500"}),a.jsx("span",{className:"font-medium",children:A})]})},{key:"volumeAwal",header:"Vol. Awal (L)",render:A=>H(ne(A))},{key:"volumePengisian",header:"Pengisian (L)",render:A=>a.jsxs("span",{className:"text-green-600 font-semibold",children:["+",H(ne(A))]})},{key:"volumePemakaian",header:"Pemakaian (L)",render:A=>a.jsxs("span",{className:"text-red-600 font-semibold",children:["-",H(ne(A))]})},{key:"volumeAkhir",header:"Vol. Akhir (L)",render:A=>a.jsx("span",{className:"font-bold text-dark-900 dark:text-white",children:H(ne(A))})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Perta (BBM)"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan bakar"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.plant)==="ALL"&&a.jsx(De,{value:S,onChange:A=>N(A.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),F&&a.jsxs(ae,{onClick:ue,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"p-4 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Ui,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Stock Saat Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[H(de)," L"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ui,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pengisian"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",H(me.pengisian)," L"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Ui,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pemakaian"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",H(me.pemakaian)," L"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-dark-100 rounded-lg",children:a.jsx(Ui,{className:"h-5 w-5 text-dark-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:fe.length})]})]})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Pemakaian BBM - Tahun ",w]}),a.jsx(De,{value:w,onChange:A=>j(A.target.value),options:Nme,className:"w-32"})]})}),a.jsx(nr,{data:fe,columns:je,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, shift, jenis BBM, keterangan...",searchKeys:["tanggal","shift","jenisBBM","volumeAwal","volumePengisian","volumePemakaian","volumeAkhir","keterangan"],actions:V?void 0:A=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),I(A.id||""),G(!0)},title:"Lihat Log Aktivitas",children:a.jsx(ut,{className:"h-4 w-4 text-gray-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),se(A)},children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:D=>{D.stopPropagation(),ie(A.id)},children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Xe,{isOpen:c,onClose:()=>{u(!1),x(ru),m(null)},title:g?"Edit Data BBM":"Tambah Data BBM",size:"md",children:a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:v.tanggal,onChange:A=>x(D=>({...D,tanggal:A.target.value})),required:!0}),a.jsx(De,{label:"Shift",value:v.shift,onChange:A=>x(D=>({...D,shift:A.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0})]}),a.jsx(De,{label:"Jenis BBM",value:v.jenisBBM,onChange:A=>x(D=>({...D,jenisBBM:A.target.value})),options:Q,required:!0}),a.jsx(ge,{label:"Volume Awal (Liter)",type:"number",value:v.volumeAwal||"",onChange:A=>x(D=>({...D,volumeAwal:parseFloat(A.target.value)||0})),placeholder:"0",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Volume Pengisian (Liter)",type:"number",value:v.volumePengisian||"",onChange:A=>x(D=>({...D,volumePengisian:parseFloat(A.target.value)||0})),placeholder:"0"}),a.jsx(ge,{label:"Volume Pemakaian (Liter)",type:"number",value:v.volumePemakaian||"",onChange:A=>x(D=>({...D,volumePemakaian:parseFloat(A.target.value)||0})),placeholder:"0",required:!0})]}),a.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600 font-medium",children:"Volume Akhir:"}),a.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[H(v.volumeAkhir||0)," Liter"]})]})}),a.jsx(ge,{label:"Keterangan",type:"text",value:v.keterangan,onChange:A=>x(D=>({...D,keterangan:A.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{u(!1),x(ru),m(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:d,onClose:()=>{f(!1),y(null)},onConfirm:be,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Or,{isOpen:P,onClose:()=>{O(!1),_(null),y(null)},onSubmit:xe,action:C,itemName:"data perta",loading:o}),a.jsx(Gt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),a.jsx(ar,{isOpen:B,onClose:()=>{G(!1),I("")},sheetName:"perta",recordId:L,title:"Log Aktivitas Perta (BBM)"})]})},d0=new Date().getFullYear(),Tme=[...Array.from({length:d0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(d0+1),label:String(d0+1)}],nu={tanggalMulai:It(),items:[{item:"",deskripsi:""}],tanggalSelesai:"",jumlahHari:0},jA=({plant:e})=>{var ee;const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(nu),[j,S]=b.useState(String(new Date().getFullYear())),N=e,[P,O]=b.useState(!1),[C,M]=b.useState(null),[E,_]=b.useState(!1),[B,G]=b.useState(""),L=$=>{G($),_(!0)},[I,V]=b.useState(!1),[F,X]=b.useState("edit"),[q,oe]=b.useState(null),Q=hr((t==null?void 0:t.role)||""),ce=kr((t==null?void 0:t.role)||"")&&!Q,se=b.useCallback(()=>{if(u&&!l){const $=document.querySelector("form");$&&$.requestSubmit()}},[u,l]);sr(se,u);const ie=Tr((t==null?void 0:t.role)||""),xe=Ar((t==null?void 0:t.role)||"");b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Y,SHEETS:Z}=await Ie(async()=>{const{fetchDataByPlant:le,SHEETS:U}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:le,SHEETS:U}},void 0),W=await Y(Z.PERBAIKAN_TAHUNAN);if(W.success&&W.data){const U=W.data.map(he=>({...he,items:typeof he.items=="string"?JSON.parse(he.items):he.items||[]})).sort((he,ye)=>new Date(ye.tanggalMulai||0).getTime()-new Date(he.tanggalMulai||0).getTime());o(U)}else o([])}catch(Y){console.error("Error fetching data:",Y),o([])}finally{c(!1)}})()},[]),b.useEffect(()=>{if(x.tanggalMulai&&x.tanggalSelesai){const $=new Date(x.tanggalMulai),Z=new Date(x.tanggalSelesai).getTime()-$.getTime(),W=Math.ceil(Z/(1e3*3600*24))+1;w(le=>({...le,jumlahHari:W>0?W:0}))}else w($=>({...$,jumlahHari:0}))},[x.tanggalMulai,x.tanggalSelesai]);const be=async $=>{$.preventDefault(),c(!0);try{const Y={...x,items:JSON.stringify(x.items)};if(m){const Z={...Y,id:m,_plant:N},W=await n("perbaikan_tahunan",Z);if(W.success)o(le=>le.map(U=>U.id===m?{...x,id:m,_plant:N}:U));else throw new Error(W.error||"Gagal mengupdate data")}else{const Z={...Y,_plant:N},W=await r("perbaikan_tahunan",Z);if(W.success&&W.data){const le={...x,id:W.data.id,_plant:N};o(U=>[le,...U])}else throw new Error(W.error||"Gagal menyimpan data")}d(!1),w(nu),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Y){console.error("Error saving data:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ue=$=>{M($),O(!0)},fe=$=>{if(ie){oe($),X("edit"),V(!0);return}w({...$,items:Array.isArray($.items)?$.items:[{item:"",deskripsi:""}]}),k($.id||null),d(!0)},me=$=>{if(xe){v($),X("delete"),V(!0);return}v($),h(!0)},de=async $=>{c(!0);try{const{createData:Y,SHEETS:Z}=await Ie(async()=>{const{createData:U,SHEETS:he}=await Promise.resolve().then(()=>Le);return{createData:U,SHEETS:he}},void 0),W={type:"PERBAIKAN_TAHUNAN",action:F,itemId:F==="edit"?q==null?void 0:q.id:y,itemData:F==="edit"?q:i.find(U=>U.id===y),reason:$,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},le=await Y(Z.APPROVAL_REQUESTS,W);if(le.success)V(!1),oe(null),v(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(le.error||"Gagal mengirim permintaan")}catch(Y){console.error("Error submitting approval:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan")}finally{c(!1)}},je=async()=>{if(y){c(!0);try{const $=i.find(Z=>Z.id===y),Y=await s("perbaikan_tahunan",{id:y,_plant:($==null?void 0:$._plant)||N});if(Y.success)o(Z=>Z.filter(W=>W.id!==y)),h(!1),v(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Y.error||"Gagal menghapus data")}catch($){console.error("Error deleting data:",$),alert($ instanceof Error?$.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},J=()=>{w(nu),k(null),d(!0)},A=()=>{w($=>({...$,items:[...$.items,{item:"",deskripsi:""}]}))},D=$=>{x.items.length>1&&w(Y=>({...Y,items:Y.items.filter((Z,W)=>W!==$)}))},z=($,Y,Z)=>{w(W=>({...W,items:W.items.map((le,U)=>U===$?{...le,[Y]:Z}:le)}))},K=i.filter($=>{const Y=$._plant===N,W=new Date($.tanggalMulai).getFullYear()===parseInt(j);return Y&&W}),T=K.reduce(($,Y)=>$+(Y.jumlahHari||0),0),R=[{key:"tanggalMulai",header:"Tanggal Mulai",sortable:!0,render:$=>We($)},{key:"tanggalSelesai",header:"Tanggal Selesai",render:$=>$?We($):"-"},{key:"items",header:"Item Perbaikan",render:$=>{const Y=$;return!Y||!Array.isArray(Y)?"-":a.jsxs("div",{className:"max-w-xs",children:[Y.slice(0,2).map((Z,W)=>a.jsx("div",{className:"text-sm",children:a.jsx("span",{className:"font-medium",children:Z.item})},W)),Y.length>2&&a.jsxs("span",{className:"text-xs text-dark-400",children:["+",Y.length-2," lainnya"]})]})}},{key:"jumlahHari",header:"Jumlah Hari",render:$=>a.jsxs(Te,{variant:"primary",children:[$," Hari"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Perbaikan Tahunan ",N==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data perbaikan tahunan (PERTA)"})]}),a.jsx("div",{className:"flex items-center gap-3",children:ce&&a.jsxs(ae,{onClick:J,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(JS,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Perbaikan"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:K.length})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(ha,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Hari Perta"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[T," Hari"]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Perbaikan Tahunan - Tahun ",j]}),a.jsx(De,{value:j,onChange:$=>S($.target.value),options:Tme,className:"w-32"})]})}),a.jsx(nr,{data:K,columns:R,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal mulai, tanggal selesai...",searchKeys:["tanggalMulai","tanggalSelesai","jumlahHari"],actions:$=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),ue($)},title:"Lihat Detail",children:a.jsx(wi,{className:"h-4 w-4 text-dark-500"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),L($.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),!Q&&a.jsxs(a.Fragment,{children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),fe($)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),me($.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),w(nu),k(null)},title:m?"Edit Perbaikan Tahunan":"Tambah Perbaikan Tahunan",size:"lg",children:a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal Mulai Perta",type:"date",value:x.tanggalMulai,onChange:$=>w(Y=>({...Y,tanggalMulai:$.target.value})),required:!0}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700",children:"Item & Deskripsi Perbaikan"}),a.jsxs(ae,{type:"button",variant:"ghost",size:"sm",onClick:A,children:[a.jsx(T8,{className:"h-4 w-4 mr-1"}),"Tambah Item"]})]}),x.items.map(($,Y)=>a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-dark-600",children:["Item ",Y+1]}),x.items.length>1&&a.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:()=>D(Y),className:"h-6 w-6",children:a.jsx(w8,{className:"h-4 w-4 text-red-500"})})]}),a.jsx(ge,{type:"text",value:$.item,onChange:Z=>z(Y,"item",Z.target.value),placeholder:"Nama item perbaikan",required:!0}),a.jsx("textarea",{value:$.deskripsi,onChange:Z=>z(Y,"deskripsi",Z.target.value),placeholder:"Deskripsi perbaikan...",className:"input-field min-h-[80px]",required:!0})]},Y))]}),a.jsx(ge,{label:"Tanggal Selesai Perta",type:"date",value:x.tanggalSelesai,onChange:$=>w(Y=>({...Y,tanggalSelesai:$.target.value}))}),a.jsx("div",{className:"p-4 bg-primary-50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600 font-medium",children:"Jumlah Hari Perta:"}),a.jsxs(Te,{variant:"primary",className:"text-lg px-4",children:[x.jumlahHari," Hari"]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(nu),k(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xe,{isOpen:P,onClose:()=>{O(!1),M(null)},title:"Detail Perbaikan Tahunan",size:"lg",children:C&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Perbaikan Tahunan (PERTA)"}),a.jsx("h2",{className:"text-2xl font-bold mt-1",children:N==="NPK1"?"NPK 1":"NPK 2"})]}),a.jsx("div",{className:"text-right",children:a.jsxs(Te,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:[C.jumlahHari," Hari"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(ha,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Mulai"}),a.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:We(C.tanggalMulai)})]})]})}),a.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Zo,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Selesai"}),a.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:C.tanggalSelesai?We(C.tanggalSelesai):"-"})]})]})})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xa,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Item Perbaikan"}),a.jsxs(Te,{variant:"primary",className:"ml-auto",children:[((ee=C.items)==null?void 0:ee.length)||0," Item"]})]}),a.jsx("div",{className:"space-y-3",children:C.items&&C.items.map(($,Y)=>a.jsx("div",{className:"bg-white dark:bg-dark-700 rounded-xl p-4 border border-dark-200 dark:border-dark-600 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-bold text-sm",children:Y+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-dark-900 dark:text-white mb-1",children:$.item}),a.jsx("p",{className:"text-dark-600 dark:text-dark-300 text-sm leading-relaxed",children:$.deskripsi})]})]})},Y))})]}),a.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-200 dark:bg-amber-800 rounded-lg",children:a.jsx(Qa,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Total Durasi Perbaikan"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:[C.jumlahHari," Hari"]})]})]}),a.jsx(JS,{className:"h-12 w-12 text-amber-300 dark:text-amber-700"})]})}),a.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:a.jsx(ae,{variant:"secondary",onClick:()=>{O(!1),M(null)},children:"Tutup"})})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:je,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data perbaikan tahunan ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:I,onClose:()=>{V(!1),oe(null),v(null)},onSubmit:de,action:F,itemName:"perbaikan tahunan",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(ar,{isOpen:E,onClose:()=>{_(!1),G("")},sheetName:N==="NPK1"?"perbaikan_tahunan_NPK1":"perbaikan_tahunan",recordId:B,title:"Log Aktivitas Perbaikan Tahunan"})]})},f0=new Date().getFullYear(),Ame=[...Array.from({length:f0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(f0+1),label:String(f0+1)}],au={nomorBerkas:"",tanggal:It(),tanggalKejadian:It(),shift:"1",waktuKejadian:"",kodePeralatan:"",area:"",deskripsiMasalah:"",penyebab:"",tindakan:"",status:"Open",pic:"",targetSelesai:"",keterangan:""},wA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(au),[j,S]=b.useState(String(new Date().getFullYear())),N=e,[P,O]=b.useState(!1),[C,M]=b.useState(null),[E,_]=b.useState(!1),[B,G]=b.useState(""),L=$=>{G($),_(!0)},[I,V]=b.useState(!1),[F,X]=b.useState("edit"),[q,oe]=b.useState(null),Q=(t==null?void 0:t.role)||"",ce=kr(Q),se=b.useCallback(()=>{if(u&&!l){const $=document.querySelector("form");$&&$.requestSubmit()}},[u,l]);sr(se,u);const ie=Tr(Q),xe=Ar(Q),be=hr(Q),ue=[{value:"Granulator",label:"Granulator"},{value:"Dryer",label:"Dryer"},{value:"Cooler",label:"Cooler"},{value:"Screening",label:"Screening"},{value:"Coater",label:"Coater"},{value:"Bagging",label:"Bagging"},{value:"Utility",label:"Utility"},{value:"Conveyor",label:"Conveyor"},{value:"Bucket Elevator",label:"Bucket Elevator"},{value:"Control Room",label:"Control Room"},{value:"Furnace",label:"Furnace"},{value:"Scrubbing System",label:"Scrubbing System"},{value:"Lainnya",label:"Lainnya"}],fe=[{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}];b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Y,SHEETS:Z}=await Ie(async()=>{const{fetchDataByPlant:le,SHEETS:U}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:le,SHEETS:U}},void 0),W=await Y(Z.TROUBLE_RECORD);if(W.success&&W.data){const le=[...W.data].sort((U,he)=>new Date(he.tanggal||"").getTime()-new Date(U.tanggal||"").getTime());o(le)}else o([])}catch(Y){console.error("Error fetching data:",Y),o([])}finally{c(!1)}})()},[]);const me=async $=>{$.preventDefault(),c(!0);try{if(m){const Y={...x,id:m,_plant:N},Z=await n(dr.TROUBLE_RECORD,Y);if(Z.success)o(W=>W.map(le=>le.id===m?{...x,id:m,_plant:N}:le));else throw new Error(Z.error||"Gagal mengupdate data")}else{const Y={...x,_plant:N},Z=await r(dr.TROUBLE_RECORD,Y);if(Z.success&&Z.data){const W={...Z.data,_plant:N};o(le=>[W,...le])}else throw new Error(Z.error||"Gagal menyimpan data")}d(!1),w(au),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Y){console.error("Error saving data:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},de=$=>{M($),O(!0)},je=$=>{if(ie){oe($),X("edit"),V(!0);return}w($),k($.id||null),d(!0)},J=$=>{if(xe){const Y=i.find(Z=>Z.id===$);Y&&(oe(Y),X("delete"),V(!0));return}v($),h(!0)},A=async $=>{if(!(!q||!t)){c(!0);try{const Y="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",Z={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:F,targetSheet:"TROUBLE_RECORD",targetId:q.id,targetData:JSON.stringify(q),reason:$,status:"pending",requestedAt:new Date().toISOString()}};await fetch(Y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),V(!1),oe(null)}catch(Y){console.error("Error submitting approval:",Y),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},D=async()=>{if(y){c(!0);try{const $=i.find(Z=>Z.id===y),Y=await s(dr.TROUBLE_RECORD,{id:y,_plant:($==null?void 0:$._plant)||N});if(Y.success)o(Z=>Z.filter(W=>W.id!==y)),h(!1),v(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Y.error||"Gagal menghapus data")}catch($){console.error("Error deleting data:",$),alert($ instanceof Error?$.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},z=()=>{w(au),k(null),d(!0)},K=i.filter($=>{const Y=$._plant===N,W=new Date($.tanggal||"").getFullYear()===parseInt(j);return Y&&W}),T={open:K.filter($=>$.status==="Open").length,progress:K.filter($=>$.status==="In Progress").length,closed:K.filter($=>$.status==="Closed").length,pending:K.filter($=>$.status==="Pending").length},R=$=>{switch($){case"Open":return"danger";case"In Progress":return"warning";case"Closed":return"success";case"Pending":return"info";default:return"default"}},ee=[{key:"tanggal",header:"Tanggal",sortable:!0,render:$=>We($)},{key:"shift",header:"Shift",render:$=>a.jsxs(Te,{variant:"primary",children:["Shift ",$]})},{key:"waktuKejadian",header:"Waktu",render:$=>ln($)},{key:"area",header:"Area",render:$=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vi,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:$})]})},{key:"deskripsiMasalah",header:"Deskripsi Masalah",render:$=>a.jsx("span",{className:"line-clamp-2 max-w-xs",children:$})},{key:"pic",header:"PIC"},{key:"status",header:"Status",render:$=>a.jsx(Te,{variant:R($),children:$})},{key:"targetSelesai",header:"Target",render:$=>We($)}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Trouble Record ",N==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Catatan masalah dan tindak lanjut"})]}),a.jsx("div",{className:"flex items-center gap-3",children:ce&&a.jsxs(ae,{onClick:z,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Catat Trouble"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"p-4 border-l-4 border-l-red-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Vi,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Open"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.open})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-amber-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Qa,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:T.progress})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-green-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Vi,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Closed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.closed})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-gray-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg",children:a.jsx(Vi,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:T.pending})]})]})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Data Trouble Record - Tahun ",j]}),a.jsx(De,{value:j,onChange:$=>S($.target.value),options:Ame,className:"w-32"})]})}),a.jsx(nr,{data:K,columns:ee,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor berkas, area, masalah, PIC...",searchKeys:["tanggal","nomorBerkas","area","deskripsiMasalah","penyebab","tindakan","status","pic"],actions:$=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),de($)},title:"Lihat Detail",children:a.jsx(wi,{className:"h-4 w-4 text-dark-500"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),L($.id)},title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),!be&&a.jsxs(a.Fragment,{children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),je($)},title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),J($.id)},title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),w(au),k(null)},title:m?"Edit Trouble Record":"Catat Trouble Baru",size:"lg",children:a.jsxs("form",{onSubmit:me,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:$=>w(Y=>({...Y,tanggal:$.target.value})),required:!0}),a.jsx(De,{label:"Shift",value:x.shift,onChange:$=>w(Y=>({...Y,shift:$.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0}),a.jsx(ge,{label:"Waktu Kejadian",type:"time",value:x.waktuKejadian,onChange:$=>w(Y=>({...Y,waktuKejadian:$.target.value})),required:!0})]}),a.jsx(De,{label:"Area",value:x.area,onChange:$=>w(Y=>({...Y,area:$.target.value})),options:ue,placeholder:"Pilih area",required:!0}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Masalah"}),a.jsx("textarea",{value:x.deskripsiMasalah,onChange:$=>w(Y=>({...Y,deskripsiMasalah:$.target.value})),placeholder:"Jelaskan masalah yang terjadi...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Penyebab"}),a.jsx("textarea",{value:x.penyebab,onChange:$=>w(Y=>({...Y,penyebab:$.target.value})),placeholder:"Analisa penyebab...",className:"input-field min-h-[60px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tindakan"}),a.jsx("textarea",{value:x.tindakan,onChange:$=>w(Y=>({...Y,tindakan:$.target.value})),placeholder:"Tindakan yang dilakukan/direncanakan...",className:"input-field min-h-[60px]"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(De,{label:"Status",value:x.status,onChange:$=>w(Y=>({...Y,status:$.target.value})),options:fe,required:!0}),a.jsx(ge,{label:"PIC",type:"text",value:x.pic,onChange:$=>w(Y=>({...Y,pic:$.target.value})),placeholder:"Nama PIC",required:!0}),a.jsx(ge,{label:"Target Selesai",type:"date",value:x.targetSelesai,onChange:$=>w(Y=>({...Y,targetSelesai:$.target.value}))})]}),a.jsx(ge,{label:"Keterangan",type:"text",value:x.keterangan,onChange:$=>w(Y=>({...Y,keterangan:$.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(au),k(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xe,{isOpen:P,onClose:()=>{O(!1),M(null)},title:"Detail Trouble Record",size:"lg",children:C&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:`rounded-2xl p-6 text-white ${C.status==="Open"?"bg-gradient-to-r from-red-500 to-red-600":C.status==="In Progress"?"bg-gradient-to-r from-amber-500 to-amber-600":C.status==="Closed"?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Trouble Record"}),a.jsx("h2",{className:"text-2xl font-bold mt-1",children:C.area}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:N==="NPK1"?"NPK 1":"NPK 2"})]}),a.jsx(Te,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:C.status})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ha,{className:"h-4 w-4 text-primary-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:We(C.tanggal||"")})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qa,{className:"h-4 w-4 text-amber-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Waktu"})]}),a.jsxs("p",{className:"font-semibold text-dark-900 dark:text-white",children:["Shift ",C.shift," - ",ln(C.waktuKejadian)]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(cd,{className:"h-4 w-4 text-blue-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"PIC"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:C.pic||"-"})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fl,{className:"h-4 w-4 text-green-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Target Selesai"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:C.targetSelesai?We(C.targetSelesai):"-"})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Vi,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300",children:"Deskripsi Masalah"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:C.deskripsiMasalah||"-"})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xa,{className:"h-5 w-5 text-amber-600"}),a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Analisa Penyebab"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:C.penyebab||"-"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Zo,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tindakan"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:C.tindakan||"-"})]}),C.keterangan&&a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xa,{className:"h-5 w-5 text-dark-500"}),a.jsx("h3",{className:"font-semibold text-dark-700 dark:text-dark-300",children:"Keterangan Tambahan"})]}),a.jsx("p",{className:"text-dark-600 dark:text-dark-400 leading-relaxed",children:C.keterangan})]}),a.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:a.jsx(ae,{variant:"secondary",onClick:()=>{O(!1),M(null)},children:"Tutup"})})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:D,title:"Hapus Trouble Record",message:"Apakah Anda yakin ingin menghapus record ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:I,onClose:()=>{V(!1),oe(null)},onSubmit:A,action:F,itemName:"data trouble record",loading:l}),a.jsx(Gt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(ar,{isOpen:E,onClose:()=>{_(!1),G("")},sheetName:N==="NPK1"?"trouble_record_NPK1":"trouble_record",recordId:B,title:"Log Aktivitas Trouble Record"})]})};function SA({plant:e}){const{user:t}=st(),r=hr((t==null?void 0:t.role)||""),[n,s]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(!1),[u,d]=b.useState(""),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[y,v]=b.useState(null),[x,w]=b.useState(null),[j,S]=b.useState({judul:"",keterangan:""}),[N,P]=b.useState(null),[O,C]=b.useState(!1),[M,E]=b.useState(!1),[_,B]=b.useState("environment"),G=b.useRef(null),L=b.useRef(null),I=b.useRef(null),V=b.useRef(null),F=Z_(dr.DOKUMENTASI_FOTO,e),X=b.useCallback(async()=>{o(!0);try{const A=await X_(F);if(A.success&&A.data){const D=A.data.map(z=>({...z,_plant:e,thumbnailUrl:`https://drive.google.com/thumbnail?id=${z.fileId}&sz=w400`}));D.sort((z,K)=>new Date(K.createdAt||K.tanggal).getTime()-new Date(z.createdAt||z.tanggal).getTime()),s(D)}}catch(A){console.error("Error fetching photos:",A)}finally{o(!1)}},[F,e]);b.useEffect(()=>{X()},[X]),b.useEffect(()=>()=>{V.current&&(V.current.getTracks().forEach(A=>A.stop()),V.current=null)},[]);const q=b.useCallback(async(A="environment")=>{P(null),C(!1),V.current&&(V.current.getTracks().forEach(D=>D.stop()),V.current=null);try{const D={video:{facingMode:A,width:{ideal:3840,min:1920},height:{ideal:2160,min:1080},frameRate:{ideal:30,min:24},aspectRatio:{ideal:1.7777777777777777}},audio:!1};let z;try{z=await navigator.mediaDevices.getUserMedia(D)}catch{console.log("High quality not supported, falling back to standard"),z=await navigator.mediaDevices.getUserMedia({video:{facingMode:A,width:{ideal:1920},height:{ideal:1080}},audio:!1})}V.current=z,G.current&&(G.current.srcObject=z,C(!0))}catch(D){console.error("Camera error:",D),D instanceof Error&&(D.name==="NotAllowedError"?P("Akses kamera ditolak. Mohon izinkan akses kamera di pengaturan browser."):D.name==="NotFoundError"?P("Kamera tidak ditemukan. Pastikan perangkat memiliki kamera."):D.name==="NotReadableError"?P("Kamera sedang digunakan aplikasi lain. Tutup aplikasi lain dan coba lagi."):P(`Error: ${D.message}`))}},[]),oe=b.useCallback(()=>{const A=_==="environment"?"user":"environment";B(A),q(A)},[_,q]),Q=b.useCallback(()=>{V.current&&(V.current.getTracks().forEach(A=>A.stop()),V.current=null),G.current&&(G.current.srcObject=null),C(!1)},[]),ce=b.useCallback(()=>{if(!G.current||!L.current)return;const A=G.current,D=L.current,z=D.getContext("2d");if(!z)return;const K=A.videoWidth,T=A.videoHeight;D.width=K,D.height=T,z.imageSmoothingEnabled=!0,z.imageSmoothingQuality="high",z.drawImage(A,0,0,K,T);const R=D.toDataURL("image/jpeg",.95);w(R),Q()},[Q]),se=b.useCallback(()=>{h(!1),E(!0)},[]),ie=b.useCallback(A=>{var K;const D=(K=A.target.files)==null?void 0:K[0];if(!D)return;if(D.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}const z=new FileReader;z.onload=T=>{var ee;const R=(ee=T.target)==null?void 0:ee.result;w(R),Q(),h(!1),E(!0)},z.readAsDataURL(D),A.target.value=""},[Q]),xe=()=>{w(null),S({judul:"",keterangan:""}),P(null),C(!1),h(!0)};b.useEffect(()=>{let A=!0;if(f&&!x){const D=setTimeout(()=>{A&&q(_)},200);return()=>{A=!1,clearTimeout(D)}}return()=>{A=!1}},[f,x,_,q]);const be=b.useCallback(()=>{Q(),w(null),S({judul:"",keterangan:""}),P(null),h(!1),E(!1)},[Q]),ue=b.useCallback(()=>{w(null),q(_)},[_,q]),fe=async()=>{if(!x||!j.judul.trim()){alert("Judul foto harus diisi!");return}c(!0);try{const A=`${j.judul.replace(/[^a-zA-Z0-9-_]/g,"_")}_${Date.now()}.jpg`,D=await e4({judul:j.judul.trim(),keterangan:j.keterangan.trim(),imageBase64:x,fileName:A,uploadBy:(t==null?void 0:t.username)||(t==null?void 0:t.nama)||"unknown",plant:e});D.success?(alert("Foto berhasil diupload!"),be(),X()):alert(`Gagal upload: ${D.error}`)}catch(A){console.error("Upload error:",A),alert("Terjadi kesalahan saat upload foto")}finally{c(!1)}},me=async()=>{if(!(!(y!=null&&y.id)||!(y!=null&&y.fileId))){c(!0);try{const A=await t4({id:y.id,fileId:y.fileId,plant:e});A.success?(alert("Foto berhasil dihapus!"),k(!1),v(null),X()):alert(`Gagal menghapus: ${A.error}`)}catch(A){console.error("Delete error:",A),alert("Terjadi kesalahan saat menghapus foto")}finally{c(!1)}}},de=A=>{v(A),g(!0)},J=n.filter(A=>{var z,K,T,R,ee;const D=u.toLowerCase();return((z=A.judul)==null?void 0:z.toLowerCase().includes(D))||((K=A.keterangan)==null?void 0:K.toLowerCase().includes(D))||((T=A.uploadBy)==null?void 0:T.toLowerCase().includes(D))||((R=A.tanggal)==null?void 0:R.includes(u))||((ee=A.kategori)==null?void 0:ee.toLowerCase().includes(D))}).reduce((A,D)=>{const z=D.judul||"Lainnya";return A[z]||(A[z]=[]),A[z].push(D),A},{});return a.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dokumentasi Foto"}),a.jsxs("p",{className:"text-gray-600",children:["Plant ",e," - ",n.length," foto"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Mm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(ge,{type:"text",placeholder:"Cari judul, kategori, keterangan, uploader...",value:u,onChange:A=>d(A.target.value),className:"pl-10 w-full sm:w-80"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ae,{variant:"outline",onClick:X,disabled:i,className:"flex-1 sm:flex-none",children:[a.jsx(Ji,{className:Ae("h-4 w-4 mr-2",i&&"animate-spin")}),"Refresh"]}),!r&&a.jsxs(ae,{onClick:xe,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[a.jsx(FS,{className:"h-4 w-4 mr-2"}),"Ambil Foto"]})]})]})]}),i&&a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(tp,{})}),!i&&n.length===0&&a.jsxs(ke,{className:"p-12 text-center",children:[a.jsx(HS,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Foto"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Mulai dokumentasi dengan mengambil foto pertama"}),!r&&a.jsxs(ae,{onClick:xe,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(FS,{className:"h-4 w-4 mr-2"}),"Ambil Foto Sekarang"]})]}),!i&&Object.keys(J).length>0&&a.jsx("div",{className:"space-y-8",children:Object.entries(J).map(([A,D])=>{var z;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(v8,{className:"h-5 w-5 text-yellow-500"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:A}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",D.length," foto)"]}),((z=D[0])==null?void 0:z.folderUrl)&&a.jsxs("a",{href:D[0].folderUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[a.jsx(VS,{className:"h-4 w-4"}),"Buka Folder"]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:D.map(K=>a.jsxs(bt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>de(K),children:[a.jsx("img",{src:K.thumbnailUrl,alt:K.judul,className:"w-full h-full object-cover",loading:"lazy",onError:T=>{T.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'/%3E%3C/svg%3E"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[a.jsx("p",{className:"text-white text-xs truncate",children:K.tanggal}),K.keterangan&&a.jsx("p",{className:"text-white/80 text-xs truncate",children:K.keterangan})]})}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(_8,{className:"h-5 w-5 text-white drop-shadow-lg"})})]},K.id))})]},A)})}),f&&a.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[a.jsx("canvas",{ref:L,style:{display:"none"}}),a.jsx("input",{ref:I,type:"file",accept:"image/*",onChange:ie,style:{display:"none"}}),x?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:x,alt:"Captured",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black"}}),a.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[a.jsx("button",{onClick:be,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(Un,{size:24})}),a.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Preview Foto"}),a.jsx("div",{style:{width:"48px"}})]}),a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"48px"},children:[a.jsxs("button",{onClick:ue,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[a.jsx("div",{style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)"},children:a.jsx(kx,{size:28})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Ulangi"})]}),a.jsxs("button",{onClick:se,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[a.jsx("div",{style:{padding:"20px",borderRadius:"50%",backgroundColor:"#22c55e"},children:a.jsx(m8,{size:40})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Gunakan Foto"})]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:G,autoPlay:!0,playsInline:!0,muted:!0,onCanPlay:()=>C(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transform:_==="user"?"scaleX(-1)":"none"}}),a.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[a.jsx("button",{onClick:be,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(Un,{size:24})}),a.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Ambil Foto"}),a.jsx("button",{onClick:oe,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(kx,{size:24})})]}),!O&&!N&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",zIndex:20},children:a.jsxs("div",{style:{textAlign:"center",color:"white"},children:[a.jsx(tp,{}),a.jsx("p",{style:{marginTop:"8px"},children:"Memuat kamera..."})]})}),N&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black",zIndex:20},children:a.jsxs("div",{style:{textAlign:"center",color:"white",padding:"24px",maxWidth:"320px"},children:[a.jsx(Vi,{size:64,style:{margin:"0 auto 16px",color:"#f87171"}}),a.jsx("p",{style:{marginBottom:"24px",fontSize:"18px"},children:N}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs(ae,{onClick:()=>q(),className:"bg-white text-black hover:bg-gray-200",children:[a.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]}),a.jsxs(ae,{variant:"outline",onClick:()=>{var A;return(A=I.current)==null?void 0:A.click()},className:"text-white border-white hover:bg-white/10",children:[a.jsx(GS,{className:"h-4 w-4 mr-2"}),"Pilih dari Galeri"]})]})]})}),O&&a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"32px"},children:[a.jsx("button",{onClick:()=>{var A;return(A=I.current)==null?void 0:A.click()},style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(HS,{size:28})}),a.jsx("button",{onClick:ce,style:{padding:"4px",borderRadius:"50%",backgroundColor:"white",border:"none",cursor:"pointer"},children:a.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"50%",border:"4px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"}})})}),a.jsx("div",{style:{width:"60px"}})]})})]})]}),a.jsx(li,{children:M&&x&&a.jsx(Xe,{isOpen:M,onClose:be,title:"Upload Foto",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[a.jsx("img",{src:x,alt:"Captured",className:"w-full h-48 object-cover"}),a.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{E(!1),h(!0),ue()},className:"absolute bottom-2 right-2 bg-white/90 hover:bg-white",children:[a.jsx(kx,{className:"h-4 w-4 mr-1"}),"Ganti Foto"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Judul / Nama Folder ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ge,{type:"text",placeholder:"Contoh: C2-L-001",value:j.judul,onChange:A=>S({...j,judul:A.target.value}),className:"w-full"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Foto akan disimpan di folder sesuai judul ini"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keterangan"}),a.jsx("textarea",{placeholder:"Deskripsi foto (opsional)",value:j.keterangan,onChange:A=>S({...j,keterangan:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx(ae,{variant:"outline",onClick:be,className:"flex-1",disabled:l,children:"Batal"}),a.jsx(ae,{onClick:fe,disabled:l||!j.judul.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Ji,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):a.jsxs(a.Fragment,{children:[a.jsx(GS,{className:"h-4 w-4 mr-2"}),"Upload Foto"]})})]})]})]})})}),a.jsx(li,{children:p&&y&&a.jsx(Xe,{isOpen:p,onClose:()=>{g(!1),v(null)},title:y.judul,size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:a.jsx("img",{src:`https://drive.google.com/thumbnail?id=${y.fileId}&sz=w1200`,alt:y.judul,className:"w-full max-h-[60vh] object-contain"})}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Tanggal:"}),a.jsx("span",{className:"font-medium",children:y.tanggal})]}),y.keterangan&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Keterangan:"}),a.jsx("span",{className:"font-medium",children:y.keterangan})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Diupload oleh:"}),a.jsx("span",{className:"font-medium",children:y.uploadBy})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("a",{href:y.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:a.jsxs(ae,{variant:"outline",className:"w-full",children:[a.jsx(VS,{className:"h-4 w-4 mr-2"}),"Buka di Drive"]})}),a.jsx("a",{href:`https://drive.google.com/uc?export=download&id=${y.fileId}`,download:!0,className:"flex-1",children:a.jsxs(ae,{variant:"outline",className:"w-full",children:[a.jsx(R_,{className:"h-4 w-4 mr-2"}),"Download"]})}),!r&&a.jsx(ae,{variant:"outline",onClick:()=>{g(!1),k(!0)},className:"text-red-600 border-red-300 hover:bg-red-50",children:a.jsx(Rt,{className:"h-4 w-4"})})]})]})})}),a.jsx(li,{children:m&&y&&a.jsx(Xe,{isOpen:m,onClose:()=>{k(!1),v(null)},title:"Hapus Foto",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:a.jsx(Rt,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:"Apakah Anda yakin ingin menghapus foto ini?"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Foto "',y.judul,'" akan dihapus dari Google Drive. Tindakan ini tidak dapat dibatalkan.']})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ae,{variant:"outline",onClick:()=>{k(!1),v(null)},className:"flex-1",disabled:l,children:"Batal"}),a.jsx(ae,{onClick:me,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Ji,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})})})]})}const Ome=[{value:"all",label:"Semua Bulan"},{value:"0",label:"Januari"},{value:"1",label:"Februari"},{value:"2",label:"Maret"},{value:"3",label:"April"},{value:"4",label:"Mei"},{value:"5",label:"Juni"},{value:"6",label:"Juli"},{value:"7",label:"Agustus"},{value:"8",label:"September"},{value:"9",label:"Oktober"},{value:"10",label:"November"},{value:"11",label:"Desember"}],Eme=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],h0=new Date().getFullYear(),Cme=[{value:"all",label:"Semua Tahun"},...Array.from({length:h0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(h0+1),label:String(h0+1)}],su={tanggal:It(),namaAlatBerat:"",pengajuanSolar:0,realisasiPengisian:0,keterangan:""},NA=({plant:e})=>{const{user:t}=st(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=mr(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(su),[j,S]=b.useState("all"),[N,P]=b.useState(String(new Date().getFullYear())),[O,C]=b.useState(!1),M=e,[E,_]=b.useState(!1),[B,G]=b.useState("edit"),[L,I]=b.useState(null),[V,F]=b.useState(!1),[X,q]=b.useState(""),oe=T=>{q(T),F(!0)},Q=hr((t==null?void 0:t.role)||""),ce=kr((t==null?void 0:t.role)||"")&&!Q,se=b.useCallback(()=>{if(u&&!l){const T=document.querySelector("form");T&&T.requestSubmit()}},[u,l]);sr(se,u);const ie=ok((t==null?void 0:t.role)||""),xe=lk((t==null?void 0:t.role)||""),be=Tr((t==null?void 0:t.role)||""),ue=Ar((t==null?void 0:t.role)||"");b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:R,SHEETS:ee}=await Ie(async()=>{const{fetchDataByPlant:Y,SHEETS:Z}=await Promise.resolve().then(()=>Le);return{fetchDataByPlant:Y,SHEETS:Z}},void 0),$=await R(ee.REKAP_BBM);if($.success&&$.data){const Y=[...$.data].sort((Z,W)=>new Date(W.tanggal).getTime()-new Date(Z.tanggal).getTime());o(Y)}else o([])}catch(R){console.error("Error fetching data:",R),o([])}finally{c(!1)}})()},[]);const fe=async T=>{T.preventDefault(),c(!0);try{if(m){const R={...x,id:m,_plant:M};(await n("rekap_bbm",R)).success&&o($=>$.map(Y=>Y.id===m?{...R}:Y))}else{const R={...x,_plant:M},ee=await r("rekap_bbm",R);ee.success&&ee.data&&o($=>[ee.data,...$])}g(!0),d(!1),k(null),w(su)}catch(R){console.error("Error saving data:",R)}finally{c(!1)}},me=T=>{Q||(ie?(w(T),k(T.id||null),d(!0)):be&&(I(T),G("edit"),_(!0)))},de=T=>{if(!Q){if(xe)v(T),h(!0);else if(ue){const R=i.find(ee=>ee.id===T);R&&(I(R),G("delete"),_(!0))}}},je=async()=>{if(y){c(!0);try{const T=i.find(ee=>ee.id===y);(await s("rekap_bbm",{id:y,_plant:(T==null?void 0:T._plant)||M})).success&&(o(ee=>ee.filter($=>$.id!==y)),g(!0))}catch(T){console.error("Error deleting data:",T)}finally{c(!1),h(!1),v(null)}}},J=async T=>{if(L){c(!0);try{const{createData:R,SHEETS:ee}=await Ie(async()=>{const{createData:Y,SHEETS:Z}=await Promise.resolve().then(()=>Le);return{createData:Y,SHEETS:Z}},void 0),$={type:B,dataType:"rekap_bbm",dataId:L.id,plant:M,requestBy:t==null?void 0:t.username,requestByName:(t==null?void 0:t.namaLengkap)||(t==null?void 0:t.nama),reason:T,data:JSON.stringify(L),status:"pending",createdAt:new Date().toISOString()};await R(ee.APPROVAL_REQUESTS,$),g(!0)}catch(R){console.error("Error creating approval request:",R)}finally{c(!1),_(!1),I(null)}}},A=b.useMemo(()=>i.filter(T=>!(T._plant!==M||N!=="all"&&new Date(T.tanggal).getFullYear()!==parseInt(N)||j!=="all"&&new Date(T.tanggal).getMonth()!==parseInt(j))),[i,M,j,N]),D=b.useMemo(()=>{const T=A.reduce((Y,Z)=>Y+(Z.pengajuanSolar||0),0),R=A.reduce((Y,Z)=>Y+(Z.realisasiPengisian||0),0),ee=R-T,$=A.length;return{totalPengajuan:T,totalRealisasi:R,totalSelisih:ee,totalRecord:$}},[A]),z=[{key:"tanggal",header:"Tanggal",render:(T,R)=>We(R.tanggal),sortable:!0},{key:"namaAlatBerat",header:"Nama Alat Berat",sortable:!0},{key:"pengajuanSolar",header:"Pengajuan Solar (L)",render:(T,R)=>H(R.pengajuanSolar),sortable:!0},{key:"realisasiPengisian",header:"Realisasi Pengisian (L)",render:(T,R)=>H(R.realisasiPengisian),sortable:!0},{key:"selisih",header:"Selisih (L)",render:(T,R)=>{const ee=R.realisasiPengisian-R.pengajuanSolar,$=ee>=0?"text-green-600":"text-red-600";return a.jsx("span",{className:$,children:H(ee)})},sortable:!1},{key:"keterangan",header:"Keterangan",render:(T,R)=>R.keterangan||"-"}],K=T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>oe(T.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4"})}),!Q&&(ie||be)&&a.jsx("button",{onClick:()=>me(T),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:be?"Ajukan Edit":"Edit",children:a.jsx(Kt,{className:"h-4 w-4"})}),!Q&&(xe||ue)&&a.jsx("button",{onClick:()=>de(T.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:ue?"Ajukan Hapus":"Hapus",children:a.jsx(Rt,{className:"h-4 w-4"})})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 rounded-xl p-5 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-amber-500 rounded-lg",children:a.jsx(Zh,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300 uppercase tracking-wider",children:"Total Pengajuan"}),a.jsx("p",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:H(D.totalPengajuan)}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Liter"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-blue-500 rounded-lg",children:a.jsx(ci,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Total Realisasi"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:H(D.totalRealisasi)}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Liter"})]})]})}),a.jsx("div",{className:`bg-gradient-to-br rounded-xl p-5 border ${D.totalSelisih>=0?"from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-900/20 border-green-200 dark:border-green-800":"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20 border-red-200 dark:border-red-800"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-lg ${D.totalSelisih>=0?"bg-green-500":"bg-red-500"}`,children:a.jsx(hl,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-xs font-medium uppercase tracking-wider ${D.totalSelisih>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"Total Selisih"}),a.jsxs("p",{className:`text-2xl font-bold ${D.totalSelisih>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:[D.totalSelisih>=0?"+":"",H(D.totalSelisih)]}),a.jsxs("p",{className:`text-xs ${D.totalSelisih>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Liter"," ",D.totalSelisih>=0?"(Surplus)":"(Defisit)"]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900/30 dark:to-slate-900/20 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-slate-500 rounded-lg",children:a.jsx(Cm,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Total Record"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:D.totalRecord}),a.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[N==="all"?"Semua tahun":`Tahun ${N}`,j!=="all"&&`, ${Eme[parseInt(j)]}`]})]})]})})]}),a.jsxs(ke,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:a.jsx(Zh,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx(at,{children:"Rekap Pengajuan BBM Alat Berat"}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:["Plant ",M," - Data pengajuan dan realisasi BBM"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{value:N,onChange:T=>P(T.target.value),options:Cme,className:"w-32"}),a.jsx(De,{value:j,onChange:T=>S(T.target.value),options:Ome,className:"w-40"}),a.jsxs(ae,{variant:"secondary",onClick:()=>C(!0),className:"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20",children:[a.jsx(Br,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ce&&a.jsxs(ae,{onClick:()=>{w(su),k(null),d(!0)},children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(nr,{data:A,columns:z,actions:K,loading:l,emptyMessage:"Tidak ada data rekap BBM",searchable:!0,searchPlaceholder:"Cari tanggal, nama alat berat, keterangan...",searchKeys:["tanggal","namaAlatBerat","pengajuanSolar","realisasiPengisian","keterangan"]})]}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),k(null),w(su)},title:m?"Edit Data BBM":"Tambah Data BBM",size:"md",children:a.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:x.tanggal,onChange:T=>w({...x,tanggal:T.target.value}),required:!0}),a.jsx(ge,{label:"Nama Alat Berat",placeholder:"Contoh: Forklift 1, Loader A, dll",value:x.namaAlatBerat,onChange:T=>w({...x,namaAlatBerat:T.target.value}),required:!0}),a.jsx(ge,{label:"Pengajuan Solar (Liter)",type:"text",placeholder:"0",value:x.pengajuanSolar?H(x.pengajuanSolar):"",onChange:T=>w({...x,pengajuanSolar:ne(T.target.value)}),required:!0}),a.jsx(ge,{label:"Realisasi Pengisian (Liter)",type:"text",placeholder:"0",value:x.realisasiPengisian?H(x.realisasiPengisian):"",onChange:T=>w({...x,realisasiPengisian:ne(T.target.value)}),required:!0}),a.jsx(ge,{label:"Keterangan",placeholder:"Keterangan tambahan (opsional)",value:x.keterangan||"",onChange:T=>w({...x,keterangan:T.target.value})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{d(!1),k(null),w(su)},children:"Batal"}),a.jsx(ae,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:f,onClose:()=>{h(!1),v(null)},onConfirm:je,title:"Hapus Data BBM",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger",isLoading:l}),a.jsx(Or,{isOpen:E,onClose:()=>{_(!1),I(null)},onSubmit:J,action:B,itemName:(L==null?void 0:L.namaAlatBerat)||"",loading:l}),a.jsx(Gt,{isVisible:p,message:m?"Data berhasil diupdate!":y?"Data berhasil dihapus!":"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(ez,{isOpen:O,onClose:()=>C(!1),data:A,plant:M}),a.jsx(ar,{isOpen:V,onClose:()=>{F(!1),q("")},sheetName:M==="NPK1"?"rekap_bbm_NPK1":"rekap_bbm",recordId:X,title:"Log Aktivitas Rekap BBM"})]})},p0=new Date().getFullYear(),_me=[...Array.from({length:p0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(p0+1),label:String(p0+1)}],th={tanggal:It(),area:"",ujiPenambahan10:0,ujiPenambahan20:0,ujiPenambahan30:0,ujiPenambahan40:0,ujiPenambahan50:0,ujiPengurangan50:0,ujiPengurangan40:0,ujiPengurangan30:0,ujiPengurangan20:0,ujiPengurangan10:0},rh={ujiPenambahan10:"",ujiPenambahan20:"",ujiPenambahan30:"",ujiPenambahan40:"",ujiPenambahan50:"",ujiPengurangan50:"",ujiPengurangan40:"",ujiPengurangan30:"",ujiPengurangan20:"",ujiPengurangan10:""},Dme=()=>{const{user:e}=st(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=mr(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,y]=b.useState(null),[v,x]=b.useState(!1),[w,j]=b.useState(""),S=U=>{j(U),x(!0)},[N,P]=b.useState(null),[O,C]=b.useState(null),[M,E]=b.useState(th),[_,B]=b.useState(rh),[G,L]=b.useState(""),[I,V]=b.useState(String(new Date().getFullYear())),[F,X]=b.useState(!1),[q,oe]=b.useState("edit"),[Q,ce]=b.useState(null),se=hr((e==null?void 0:e.role)||""),ie=kr((e==null?void 0:e.role)||"")&&!se,xe=b.useCallback(()=>{if(c&&!o){const U=document.querySelector("form");U&&U.requestSubmit()}},[c,o]);sr(xe,c);const be=ok((e==null?void 0:e.role)||""),ue=lk((e==null?void 0:e.role)||""),fe=Tr((e==null?void 0:e.role)||""),me=Ar((e==null?void 0:e.role)||""),de=[{value:"NPK 2",label:"NPK 2"},{value:"Blending",label:"Blending"},{value:"NPK Mini",label:"NPK Mini"}],je=U=>U==null?"0.00":U.toFixed(2),J=(U,he)=>{const ye=he.replace(",",".");if(ye===""||/^\d*\.?\d*$/.test(ye)){B(Be=>({...Be,[U]:ye}));const $e=ye===""||ye==="."?0:parseFloat(ye)||0;E(Be=>({...Be,[U]:$e}))}},A=()=>{const U=he=>parseFloat(he.replace(",","."))||0;return{ujiPenambahan10:U(_.ujiPenambahan10),ujiPenambahan20:U(_.ujiPenambahan20),ujiPenambahan30:U(_.ujiPenambahan30),ujiPenambahan40:U(_.ujiPenambahan40),ujiPenambahan50:U(_.ujiPenambahan50),ujiPengurangan50:U(_.ujiPengurangan50),ujiPengurangan40:U(_.ujiPengurangan40),ujiPengurangan30:U(_.ujiPengurangan30),ujiPengurangan20:U(_.ujiPengurangan20),ujiPengurangan10:U(_.ujiPengurangan10)}},D=U=>{const he=U.ujiPenambahan10-10,ye=U.ujiPenambahan20-20,$e=U.ujiPenambahan30-30,Be=U.ujiPenambahan40-40,Fe=U.ujiPenambahan50-50,Qe=U.ujiPengurangan50-50,Ye=U.ujiPengurangan40-40,Dt=U.ujiPengurangan30-30,ya=U.ujiPengurangan20-20,ba=U.ujiPengurangan10-10,pe=[he,ye,$e,Be,Fe,Qe,Ye,Dt,ya,ba],we=pe.reduce((ft,zr)=>ft+Math.abs(zr),0),Ve=we/pe.length;return{selisihPenambahan10:he,selisihPenambahan20:ye,selisihPenambahan30:$e,selisihPenambahan40:Be,selisihPenambahan50:Fe,selisihPengurangan50:Qe,selisihPengurangan40:Ye,selisihPengurangan30:Dt,selisihPengurangan20:ya,selisihPengurangan10:ba,totalSelisih:we,rataRataSelisih:Ve}};b.useEffect(()=>{(async()=>{l(!0);try{const{readData:he,SHEETS:ye}=await Ie(async()=>{const{readData:Be,SHEETS:Fe}=await Promise.resolve().then(()=>Le);return{readData:Be,SHEETS:Fe}},void 0),$e=await he(ye.RIKSA_TIMB_PORTABEL);if($e.success&&$e.data){const Fe=[...$e.data.map(Qe=>({...Qe,...D(Qe)}))].sort((Qe,Ye)=>new Date(Ye.tanggal).getTime()-new Date(Qe.tanggal).getTime());i(Fe)}else i([])}catch(he){console.error("Error fetching data:",he),i([])}finally{l(!1)}})()},[]);const z=async U=>{U.preventDefault(),l(!0);try{const he=A(),ye={...M,...he},$e=D(ye),Be={...ye,...$e};if(N){const Fe={...Be,id:N},Qe=await r("riksa_timb_portabel",Fe);if(Qe.success)i(Ye=>Ye.map(Dt=>Dt.id===N?{...Be,id:N}:Dt));else throw new Error(Qe.error||"Gagal mengupdate data")}else{const Fe=await t("riksa_timb_portabel",Be);if(Fe.success&&Fe.data){const Qe={...Fe.data,...$e};i(Ye=>[Qe,...Ye])}else throw new Error(Fe.error||"Gagal menyimpan data")}u(!1),E(th),B(rh),P(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(he){console.error("Error saving data:",he),alert(he instanceof Error?he.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},K=U=>{var he,ye,$e,Be,Fe,Qe,Ye,Dt,ya,ba;if(fe){ce(U),oe("edit"),X(!0);return}E(U),B({ujiPenambahan10:((he=U.ujiPenambahan10)==null?void 0:he.toString())||"",ujiPenambahan20:((ye=U.ujiPenambahan20)==null?void 0:ye.toString())||"",ujiPenambahan30:(($e=U.ujiPenambahan30)==null?void 0:$e.toString())||"",ujiPenambahan40:((Be=U.ujiPenambahan40)==null?void 0:Be.toString())||"",ujiPenambahan50:((Fe=U.ujiPenambahan50)==null?void 0:Fe.toString())||"",ujiPengurangan50:((Qe=U.ujiPengurangan50)==null?void 0:Qe.toString())||"",ujiPengurangan40:((Ye=U.ujiPengurangan40)==null?void 0:Ye.toString())||"",ujiPengurangan30:((Dt=U.ujiPengurangan30)==null?void 0:Dt.toString())||"",ujiPengurangan20:((ya=U.ujiPengurangan20)==null?void 0:ya.toString())||"",ujiPengurangan10:((ba=U.ujiPengurangan10)==null?void 0:ba.toString())||""}),P(U.id||null),u(!0)},T=U=>{if(me){const he=s.find(ye=>ye.id===U);he&&(ce(he),oe("delete"),X(!0));return}C(U),f(!0)},R=async()=>{if(O){l(!0);try{const U=await n("riksa_timb_portabel",{id:O,_plant:"NPK2"});if(U.success)i(he=>he.filter(ye=>ye.id!==O)),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(U.error||"Gagal menghapus data")}catch(U){console.error("Error deleting data:",U),alert(U instanceof Error?U.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1),f(!1),C(null)}}},ee=async U=>{if(Q)try{const{createData:he,SHEETS:ye}=await Ie(async()=>{const{createData:Be,SHEETS:Fe}=await Promise.resolve().then(()=>Le);return{createData:Be,SHEETS:Fe}},void 0),$e={requestBy:(e==null?void 0:e.username)||"",requestByName:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",requestDate:new Date().toISOString(),action:q,sheetType:"riksa_timb_portabel",dataId:Q.id||"",dataPreview:`${We(Q.tanggal)} - ${Q.area}`,reason:U,status:"pending",requesterPlant:(e==null?void 0:e.plant)||"NPK2"};await he(ye.APPROVAL_REQUESTS,$e),alert("Permintaan approval telah dikirim"),X(!1),ce(null)}catch(he){console.error("Error submitting approval:",he),alert("Gagal mengirim permintaan approval")}},$=U=>{const he={...U,...D(U)};y(he),m(!0)},Y=s.filter(U=>new Date(U.tanggal).getFullYear()===parseInt(I)),Z=[{key:"tanggal",header:"Tanggal",render:U=>We(U),sortable:!0},{key:"area",header:"Area",sortable:!0},{key:"rataRataSelisih",header:"Rata-rata Selisih",render:U=>a.jsxs("span",{className:Ae("font-semibold",Math.abs(U)<=.5?"text-green-600":Math.abs(U)<=1?"text-yellow-600":"text-red-600"),children:[je(U)," kg"]}),sortable:!0},{key:"actions",header:"Aksi",render:(U,he)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>$(he),title:"Lihat Detail",children:a.jsx(wi,{className:"h-4 w-4 text-blue-500"})}),a.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>S(he.id),title:"Lihat Log",children:a.jsx(ut,{className:"h-4 w-4 text-purple-600"})}),(be||fe)&&!se&&a.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>K(he),title:"Edit",children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),(ue||me)&&!se&&a.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>T(he.id),title:"Hapus",children:a.jsx(Rt,{className:"h-4 w-4 text-red-500"})})]})}],W=({value:U,label:he})=>{const ye=Math.abs(U)<=.5,$e=Math.abs(U)>.5&&Math.abs(U)<=1;return a.jsxs("div",{className:Ae("flex items-center justify-between p-3 rounded-lg",ye?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":$e?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:he}),a.jsxs("div",{className:"flex items-center gap-2",children:[U>=0?a.jsx(ci,{className:Ae("h-4 w-4",ye?"text-green-500":$e?"text-yellow-500":"text-red-500")}):a.jsx(hl,{className:Ae("h-4 w-4",ye?"text-green-500":$e?"text-yellow-500":"text-red-500")}),a.jsxs("span",{className:Ae("font-bold",ye?"text-green-600":$e?"text-yellow-600":"text-red-600"),children:[U>=0?"+":"",je(U)," kg"]})]})]})},le=()=>{if(!k)return null;const U=D(k),he=U.rataRataSelisih<=.5,ye=U.rataRataSelisih>.5&&U.rataRataSelisih<=1,$e=[{std:10,hasil:k.ujiPenambahan10,selisih:U.selisihPenambahan10},{std:20,hasil:k.ujiPenambahan20,selisih:U.selisihPenambahan20},{std:30,hasil:k.ujiPenambahan30,selisih:U.selisihPenambahan30},{std:40,hasil:k.ujiPenambahan40,selisih:U.selisihPenambahan40},{std:50,hasil:k.ujiPenambahan50,selisih:U.selisihPenambahan50}],Be=[{std:50,hasil:k.ujiPengurangan50,selisih:U.selisihPengurangan50},{std:40,hasil:k.ujiPengurangan40,selisih:U.selisihPengurangan40},{std:30,hasil:k.ujiPengurangan30,selisih:U.selisihPengurangan30},{std:20,hasil:k.ujiPengurangan20,selisih:U.selisihPengurangan20},{std:10,hasil:k.ujiPengurangan10,selisih:U.selisihPengurangan10}],Fe=Ye=>{const Dt=Math.abs(Ye);return Dt<=.5?"text-green-600":Dt<=1?"text-yellow-600":"text-red-600"},Qe=Ye=>{const Dt=Math.abs(Ye);return Dt<=.5?"bg-green-50 dark:bg-green-900/20":Dt<=1?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20"};return a.jsx(Xe,{isOpen:g,onClose:()=>m(!1),title:"",size:"xl",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:Ae("p-4 rounded-xl text-center",he?"bg-gradient-to-r from-green-500 to-emerald-600":ye?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-600"),children:[a.jsx(WS,{className:"h-8 w-8 mx-auto text-white mb-1"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Hasil Riksa Timbangan Portabel"}),a.jsxs("p",{className:"text-white/90 text-sm",children:[k.area,"  ",We(k.tanggal)]}),a.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[he?a.jsx(p8,{className:"h-4 w-4 text-white"}):a.jsx(hu,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:he?"Kalibrasi BAIK":ye?"Perlu Perhatian":"Perlu Kalibrasi Ulang"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Selisih Absolut"}),a.jsxs("p",{className:"text-lg font-bold text-indigo-700 dark:text-indigo-400",children:[je(U.totalSelisih)," kg"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rata-rata Selisih"}),a.jsxs("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:[je(U.rataRataSelisih)," kg"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-green-500 px-3 py-1.5 flex items-center gap-1.5",children:[a.jsx(ci,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Penambahan"})]}),a.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"Standar"}),a.jsx("span",{className:"text-center",children:"Hasil"}),a.jsx("span",{className:"text-right",children:"Selisih"})]}),$e.map((Ye,Dt)=>a.jsxs("div",{className:Ae("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",Qe(Ye.selisih)),children:[a.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Ye.std," kg"]}),a.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[je(Ye.hasil)," kg"]}),a.jsxs("span",{className:Ae("text-right font-bold",Fe(Ye.selisih)),children:[Ye.selisih>=0?"+":"",je(Ye.selisih)," kg"]})]},Dt))]})]}),a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-red-500 px-3 py-1.5 flex items-center gap-1.5",children:[a.jsx(hl,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Pengurangan"})]}),a.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"Standar"}),a.jsx("span",{className:"text-center",children:"Hasil"}),a.jsx("span",{className:"text-right",children:"Selisih"})]}),Be.map((Ye,Dt)=>a.jsxs("div",{className:Ae("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",Qe(Ye.selisih)),children:[a.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Ye.std," kg"]}),a.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[je(Ye.hasil)," kg"]}),a.jsxs("span",{className:Ae("text-right font-bold",Fe(Ye.selisih)),children:[Ye.selisih>=0?"+":"",je(Ye.selisih)," kg"]})]},Dt))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t dark:border-dark-700",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5kg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-yellow-500"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5-1kg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-red-500"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:">1kg"})]})]}),a.jsx(ae,{size:"sm",onClick:()=>m(!1),children:"Tutup"})]})]})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(nt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl shadow-lg",children:a.jsx(WS,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(at,{children:["Riksa Timbangan Portabel - Tahun ",I]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Data pengujian kalibrasi timbangan portabel"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{value:I,onChange:U=>V(U.target.value),options:_me,className:"w-32"}),ie&&a.jsxs(ae,{onClick:()=>u(!0),children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(nr,{columns:Z,data:Y,loading:o,emptyMessage:"Belum ada data riksa timbangan portabel",searchable:!0,searchPlaceholder:"Cari tanggal, area, rata-rata selisih...",searchKeys:["tanggal","area","rataRataSelisih","keterangan"]})]}),a.jsx(Xe,{isOpen:c,onClose:()=>{u(!1),E(th),B(rh),P(null)},title:N?"Edit Data Riksa Timbangan":"Tambah Data Riksa Timbangan",size:"lg",children:a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ge,{label:"Tanggal",type:"date",value:M.tanggal,onChange:U=>E({...M,tanggal:U.target.value}),required:!0}),a.jsx(De,{label:"Area",value:M.area,onChange:U=>E({...M,area:U.target.value}),options:de,placeholder:"Pilih Area",required:!0})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[a.jsx(ci,{className:"h-5 w-5"}),"Uji Penambahan"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(ge,{label:"10 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan10,onChange:U=>J("ujiPenambahan10",U.target.value),placeholder:"Contoh: 10.02",required:!0}),a.jsx(ge,{label:"20 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan20,onChange:U=>J("ujiPenambahan20",U.target.value),placeholder:"Contoh: 20.05",required:!0}),a.jsx(ge,{label:"30 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan30,onChange:U=>J("ujiPenambahan30",U.target.value),placeholder:"Contoh: 30.01",required:!0}),a.jsx(ge,{label:"40 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan40,onChange:U=>J("ujiPenambahan40",U.target.value),placeholder:"Contoh: 40.03",required:!0}),a.jsx(ge,{label:"50 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan50,onChange:U=>J("ujiPenambahan50",U.target.value),placeholder:"Contoh: 50.02",required:!0})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2",children:[a.jsx(hl,{className:"h-5 w-5"}),"Uji Pengurangan"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(ge,{label:"50 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan50,onChange:U=>J("ujiPengurangan50",U.target.value),placeholder:"Contoh: 50.01",required:!0}),a.jsx(ge,{label:"40 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan40,onChange:U=>J("ujiPengurangan40",U.target.value),placeholder:"Contoh: 40.02",required:!0}),a.jsx(ge,{label:"30 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan30,onChange:U=>J("ujiPengurangan30",U.target.value),placeholder:"Contoh: 30.03",required:!0}),a.jsx(ge,{label:"20 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan20,onChange:U=>J("ujiPengurangan20",U.target.value),placeholder:"Contoh: 20.01",required:!0}),a.jsx(ge,{label:"10 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan10,onChange:U=>J("ujiPengurangan10",U.target.value),placeholder:"Contoh: 10.02",required:!0})]})]}),(M.ujiPenambahan10>0||M.ujiPengurangan10>0)&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preview Selisih"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[M.ujiPenambahan10>0&&a.jsx(W,{value:M.ujiPenambahan10-10,label:"+10kg"}),M.ujiPenambahan20>0&&a.jsx(W,{value:M.ujiPenambahan20-20,label:"+20kg"}),M.ujiPenambahan30>0&&a.jsx(W,{value:M.ujiPenambahan30-30,label:"+30kg"}),M.ujiPenambahan40>0&&a.jsx(W,{value:M.ujiPenambahan40-40,label:"+40kg"}),M.ujiPenambahan50>0&&a.jsx(W,{value:M.ujiPenambahan50-50,label:"+50kg"}),M.ujiPengurangan50>0&&a.jsx(W,{value:M.ujiPengurangan50-50,label:"-50kg"}),M.ujiPengurangan40>0&&a.jsx(W,{value:M.ujiPengurangan40-40,label:"-40kg"}),M.ujiPengurangan30>0&&a.jsx(W,{value:M.ujiPengurangan30-30,label:"-30kg"}),M.ujiPengurangan20>0&&a.jsx(W,{value:M.ujiPengurangan20-20,label:"-20kg"}),M.ujiPengurangan10>0&&a.jsx(W,{value:M.ujiPengurangan10-10,label:"-10kg"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:()=>{u(!1),E(th),B(rh),P(null)},children:"Batal"}),a.jsx(ae,{type:"submit",disabled:o,children:o?"Menyimpan...":N?"Update":"Simpan"})]})]})}),a.jsx(le,{}),a.jsx(Qt,{isOpen:d,onClose:()=>f(!1),onConfirm:R,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),a.jsx(Or,{isOpen:F,onClose:()=>{X(!1),ce(null)},onSubmit:ee,action:q,itemName:Q?`${We(Q.tanggal)} - ${Q.area}`:"data ini"}),a.jsx(Gt,{isVisible:h,message:"Data berhasil disimpan!"}),a.jsx(ar,{isOpen:v,onClose:()=>{x(!1),j("")},sheetName:"riksa_timb_portabel",recordId:w,title:"Log Aktivitas Riksa Timbangan Portabel"})]})},Mme=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[s,i]=b.useState({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),o=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],l=async c=>{c.preventDefault();const u=await r(s);u.success?(i({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),t()):alert(u.error||"Gagal menambah material")};return a.jsx(Xe,{isOpen:e,onClose:t,title:"Tambah Material Baru",size:"md",children:a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsx(ge,{label:"Kode Material",value:s.kode_material,onChange:c=>i({...s,kode_material:c.target.value}),placeholder:"Contoh: MTL-001",required:!0}),a.jsx(ge,{label:"Nama Material",value:s.nama_material,onChange:c=>i({...s,nama_material:c.target.value}),placeholder:"Contoh: Bearing SKF 6205",required:!0}),a.jsx(De,{label:"Satuan",value:s.satuan,onChange:c=>i({...s,satuan:c.target.value}),options:o}),a.jsx(ge,{label:"Stok Awal",type:"number",value:s.stok.toString(),onChange:c=>i({...s,stok:ne(c.target.value)}),min:0}),a.jsx(ge,{label:"Stok Minimum (Alert)",type:"number",value:s.stok_minimum.toString(),onChange:c=>i({...s,stok_minimum:ne(c.target.value)}),min:0}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:n,children:"Simpan"})]})]})})},$me=({isOpen:e,onClose:t,material:r,onSubmit:n,loading:s})=>{const[i,o]=b.useState({kode_material:"",nama_material:"",satuan:"pcs",stok_minimum:0});b.useState(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})}),b.useMemo(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})},[r]);const l=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],c=async u=>{if(u.preventDefault(),!(r!=null&&r.id))return;const d=await n({id:r.id,...i});d.success?t():alert(d.error||"Gagal mengupdate material")};return r?a.jsx(Xe,{isOpen:e,onClose:t,title:"Edit Material",size:"md",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsx(ge,{label:"Kode Material",value:i.kode_material,onChange:u=>o({...i,kode_material:u.target.value}),required:!0}),a.jsx(ge,{label:"Nama Material",value:i.nama_material,onChange:u=>o({...i,nama_material:u.target.value}),required:!0}),a.jsx(De,{label:"Satuan",value:i.satuan,onChange:u=>o({...i,satuan:u.target.value}),options:l}),a.jsx(ge,{label:"Stok Minimum (Alert)",type:"number",value:i.stok_minimum.toString(),onChange:u=>o({...i,stok_minimum:ne(u.target.value)}),min:0}),a.jsxs("div",{className:"text-sm text-dark-500 dark:text-dark-400 bg-dark-50 dark:bg-dark-700 p-3 rounded-lg",children:[a.jsxs("p",{children:["Stok saat ini:"," ",a.jsxs("strong",{children:[H(r.stok)," ",r.satuan]})]}),a.jsx("p",{className:"text-xs mt-1",children:"Untuk mengubah stok, gunakan menu Tambah Stok atau Ambil Stok."})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:s,children:"Update"})]})]})}):null},Rme=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:s})=>{const[i,o]=b.useState({materialId:"",jumlah:0,keterangan:""}),l=r.map(u=>({value:u.id||"",label:`${u.kode_material} - ${u.nama_material} (Stok: ${H(u.stok)} ${u.satuan})`})),c=async u=>{if(u.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}const d=await n(i.materialId,i.jumlah,i.keterangan);d.success?(o({materialId:"",jumlah:0,keterangan:""}),t()):alert(d.error||"Gagal menambah stok")};return a.jsx(Xe,{isOpen:e,onClose:t,title:"Tambah Stok Material",size:"md",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(Nv,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Stok Masuk"})]}),a.jsx(De,{label:"Pilih Material",value:i.materialId,onChange:u=>o({...i,materialId:u.target.value}),options:[{value:"",label:"-- Pilih Material --"},...l],required:!0}),a.jsx(ge,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:u=>o({...i,jumlah:ne(u.target.value)}),min:1,required:!0}),a.jsx(ge,{label:"Keterangan",value:i.keterangan,onChange:u=>o({...i,keterangan:u.target.value}),placeholder:"Contoh: Pembelian dari vendor X"}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsxs(ae,{type:"submit",isLoading:s,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Nv,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]})]})]})})},Ime=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:s})=>{const[i,o]=b.useState({materialId:"",jumlah:0,keterangan:""}),[l,c]=b.useState(null),u=r.map(h=>({value:h.id||"",label:`${h.kode_material} - ${h.nama_material} (Stok: ${H(h.stok)} ${h.satuan})`})),d=h=>{o({...i,materialId:h});const p=r.find(g=>g.id===h)||null;c(p)},f=async h=>{if(h.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}if(l&&i.jumlah>l.stok){alert(`Stok tidak cukup! Stok tersedia: ${H(l.stok)} ${l.satuan}`);return}const p=await n(i.materialId,i.jumlah,i.keterangan);p.success?(o({materialId:"",jumlah:0,keterangan:""}),c(null),t()):alert(p.error||"Gagal mengambil stok")};return a.jsx(Xe,{isOpen:e,onClose:t,title:"Ambil Stok Material",size:"md",children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(Pv,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Stok Keluar"})]}),a.jsx(De,{label:"Pilih Material",value:i.materialId,onChange:h=>d(h.target.value),options:[{value:"",label:"-- Pilih Material --"},...u],required:!0}),l&&a.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 p-3 rounded-lg text-sm",children:a.jsxs("p",{children:["Stok tersedia:"," ",a.jsxs("strong",{className:"text-primary-600",children:[H(l.stok)," ",l.satuan]})]})}),a.jsx(ge,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:h=>o({...i,jumlah:ne(h.target.value)}),min:1,max:(l==null?void 0:l.stok)||void 0,required:!0}),a.jsx(ge,{label:"Keterangan",value:i.keterangan,onChange:h=>o({...i,keterangan:h.target.value}),placeholder:"Contoh: Pemakaian untuk maintenance pump",required:!0}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsxs(ae,{type:"submit",isLoading:s,className:"bg-red-600 hover:bg-red-700",children:[a.jsx(Pv,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]})]})})},Lme=({isOpen:e,onClose:t,materials:r})=>{const{transactions:n,loading:s,updateFilters:i,clearFilters:o}=cme(),[l,c]=b.useState({material_id:"",start_date:"",end_date:""}),u=r.map(g=>({value:g.id||"",label:`${g.kode_material} - ${g.nama_material}`})),d=g=>{const m=r.find(k=>k.id===g);return m?`${m.kode_material} - ${m.nama_material}`:g},f=()=>{i({material_id:l.material_id||void 0,start_date:l.start_date||void 0,end_date:l.end_date||void 0})},h=()=>{c({material_id:"",start_date:"",end_date:""}),o()},p=[{key:"created_at",header:"Tanggal",render:(g,m)=>lC(m.created_at||"")},{key:"material_id",header:"Material",render:(g,m)=>d(m.material_id)},{key:"tipe_transaksi",header:"Tipe",render:(g,m)=>a.jsx(Te,{variant:m.tipe_transaksi==="masuk"?"success":"danger",children:m.tipe_transaksi==="masuk"?"Masuk":"Keluar"})},{key:"jumlah",header:"Jumlah",render:(g,m)=>H(m.jumlah)},{key:"keterangan",header:"Keterangan",render:(g,m)=>m.keterangan||"-"}];return a.jsx(Xe,{isOpen:e,onClose:t,title:"Riwayat Transaksi Material",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-dark-50 dark:bg-dark-700 p-4 rounded-lg",children:[a.jsx(De,{label:"Material",value:l.material_id,onChange:g=>c({...l,material_id:g.target.value}),options:[{value:"",label:"Semua Material"},...u]}),a.jsx(ge,{label:"Dari Tanggal",type:"date",value:l.start_date,onChange:g=>c({...l,start_date:g.target.value})}),a.jsx(ge,{label:"Sampai Tanggal",type:"date",value:l.end_date,onChange:g=>c({...l,end_date:g.target.value})}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs(ae,{onClick:f,variant:"primary",size:"sm",children:[a.jsx(Mm,{className:"h-4 w-4 mr-1"}),"Filter"]}),a.jsx(ae,{onClick:h,variant:"outline",size:"sm",children:"Reset"})]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsx(nr,{data:n,columns:p,loading:s,emptyMessage:"Belum ada transaksi",searchable:!0,searchPlaceholder:"Cari kode, nama material, jenis, keterangan...",searchKeys:["kode_material","nama_material","jenis","keterangan"]})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(ae,{onClick:t,children:"Tutup"})})]})})},Bme=()=>{const{user:e}=st(),{materials:t,loading:r,error:n,refetch:s,addMaterial:i,updateMaterial:o,deleteMaterial:l,stockMasuk:c,stockKeluar:u}=lme(),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,y]=b.useState(!1),[v,x]=b.useState(!1),[w,j]=b.useState(!1),[S,N]=b.useState(!1),[P,O]=b.useState(!1),[C,M]=b.useState(""),[E,_]=b.useState(null),[B,G]=b.useState(null),[L,I]=b.useState(1),V=10,F=hr((e==null?void 0:e.role)||""),X=kr((e==null?void 0:e.role)||"")&&!F,q=ok((e==null?void 0:e.role)||"")&&!F,oe=lk((e==null?void 0:e.role)||"")&&!F,Q=b.useMemo(()=>[...t],[t]),ce=b.useMemo(()=>{const D=(L-1)*V;return Q.slice(D,D+V)},[Q,L]),se=Math.ceil(Q.length/V),ie=D=>{_(D),p(!0)},xe=D=>{G(D),j(!0)},be=async()=>{if(!B)return;const D=await l(B);D.success?(N(!0),setTimeout(()=>N(!1),2e3)):alert(D.error||"Gagal menghapus material"),j(!1),G(null)},ue=async D=>{const z=await i(D);return z.success&&(N(!0),setTimeout(()=>N(!1),2e3)),z},fe=async D=>{const z=await o(D);return z.success&&(N(!0),setTimeout(()=>N(!1),2e3)),z},me=async(D,z,K)=>{const T=await c(D,z,K);return T.success&&(N(!0),setTimeout(()=>N(!1),2e3)),T},de=async(D,z,K)=>{const T=await u(D,z,K);return T.success&&(N(!0),setTimeout(()=>N(!1),2e3)),T},je=b.useCallback(()=>{},[]);sr(je,d||h||g||k);const J=[{key:"kode_material",header:"Kode",render:(D,z)=>a.jsx("span",{className:"font-mono text-primary-600 dark:text-primary-400",children:z.kode_material})},{key:"nama_material",header:"Nama Material"},{key:"satuan",header:"Satuan",render:(D,z)=>z.satuan.toUpperCase()},{key:"stok",header:"Stok",render:(D,z)=>{const K=z.stok<=z.stok_minimum;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:K?"text-red-600 dark:text-red-400 font-bold":"",children:H(z.stok)}),K&&a.jsxs(Te,{variant:"danger",className:"flex items-center gap-1",children:[a.jsx(Al,{className:"h-3 w-3"}),"Menipis"]})]})}},{key:"stok_minimum",header:"Min. Stok",render:(D,z)=>H(z.stok_minimum)},{key:"actions",header:"Aksi",render:(D,z)=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{M(z.id||""),O(!0)},className:"p-1.5 text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-900/30 rounded-lg transition-colors",title:"Lihat Log Aktivitas",children:a.jsx(ut,{className:"h-4 w-4"})}),q&&a.jsx("button",{onClick:()=>ie(z),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Material",children:a.jsx(Kt,{className:"h-4 w-4"})}),oe&&a.jsx("button",{onClick:()=>xe(z.id||""),className:"p-1.5 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Hapus Material",children:a.jsx(Rt,{className:"h-4 w-4"})})]})}],A=t.filter(D=>D.stok<=D.stok_minimum).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Gt,{isVisible:S,message:"Berhasil!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[a.jsx(xi,{className:"h-7 w-7 text-primary-600"}),"Inventaris Stok Material"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola stok material consumable"})]}),A>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2 flex items-center gap-2",children:[a.jsx(Al,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),a.jsxs("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:[A," material stok menipis"]})]})]}),n&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:n}),a.jsx(ke,{children:a.jsxs("div",{className:"p-4 flex flex-wrap gap-3",children:[X&&a.jsxs(a.Fragment,{children:[a.jsxs(ae,{onClick:()=>f(!0),children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah Material"]}),a.jsxs(ae,{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Nv,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]}),a.jsxs(ae,{onClick:()=>y(!0),className:"bg-red-600 hover:bg-red-700",children:[a.jsx(Pv,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]}),a.jsxs(ae,{variant:"outline",onClick:()=>x(!0),children:[a.jsx(ut,{className:"h-4 w-4 mr-2"}),"Riwayat Transaksi"]}),a.jsxs(ae,{variant:"outline",onClick:s,children:[a.jsx(Ji,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx(at,{className:"flex items-center justify-between",children:a.jsxs("span",{children:["Daftar Material (",Q.length,")"]})})}),a.jsxs("div",{className:"p-4",children:[a.jsx(nr,{data:ce,columns:J,loading:r,emptyMessage:"Belum ada data material",searchable:!0,searchPlaceholder:"Cari kode, nama material, satuan...",searchKeys:["kode_material","nama_material","satuan","stok_awal","stok_akhir"]}),se>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-dark-200 dark:border-dark-700",children:[a.jsxs("span",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Halaman ",L," dari ",se]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ae,{variant:"outline",size:"sm",onClick:()=>I(D=>Math.max(1,D-1)),disabled:L===1,children:"Sebelumnya"}),a.jsx(ae,{variant:"outline",size:"sm",onClick:()=>I(D=>Math.min(se,D+1)),disabled:L===se,children:"Selanjutnya"})]})]})]})]}),a.jsx(Mme,{isOpen:d,onClose:()=>f(!1),onSubmit:ue,loading:r}),a.jsx($me,{isOpen:h,onClose:()=>{p(!1),_(null)},material:E,onSubmit:fe,loading:r}),a.jsx(Rme,{isOpen:g,onClose:()=>m(!1),materials:t,onSubmit:me,loading:r}),a.jsx(Ime,{isOpen:k,onClose:()=>y(!1),materials:t,onSubmit:de,loading:r}),a.jsx(Lme,{isOpen:v,onClose:()=>x(!1),materials:t}),a.jsx(Qt,{isOpen:w,onClose:()=>j(!1),onConfirm:be,title:"Hapus Material",message:"Apakah Anda yakin ingin menghapus material ini? Semua riwayat transaksi material ini akan tetap tersimpan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),a.jsx(ar,{isOpen:P,onClose:()=>{O(!1),M("")},sheetName:"materials",recordId:C,title:"Log Aktivitas Material"})]})},Fme=()=>{var x,w;const{user:e,logout:t}=st(),[r,n]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState("profile"),[c,u]=b.useState({nama:(e==null?void 0:e.nama)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"Produksi"}),[d,f]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=b.useState({emailNotifications:!0,pushNotifications:!0,dailyReport:!0,weeklyReport:!1,alertDowntime:!0,alertWorkRequest:!0}),g=async j=>{j.preventDefault(),n(!0);try{const{updateData:S,SHEETS:N}=await Ie(async()=>{const{updateData:P,SHEETS:O}=await Promise.resolve().then(()=>Le);return{updateData:P,SHEETS:O}},void 0);if(e!=null&&e.id){const P={id:e.id,nama:c.nama,email:c.email,phone:c.phone,department:c.department},O=await S(N.USERS,P);if(O.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(O.error||"Gagal mengupdate profile")}}catch(S){console.error("Error updating profile:",S),alert(S instanceof Error?S.message:"Terjadi kesalahan saat mengupdate profile")}finally{n(!1)}},m=async j=>{if(j.preventDefault(),d.newPassword!==d.confirmPassword){alert("Password baru dan konfirmasi tidak cocok");return}n(!0);try{const{updateData:S,SHEETS:N}=await Ie(async()=>{const{updateData:P,SHEETS:O}=await Promise.resolve().then(()=>Le);return{updateData:P,SHEETS:O}},void 0);if(e!=null&&e.id){const P={id:e.id,password:d.newPassword,currentPassword:d.currentPassword},O=await S(N.USERS,P);if(O.success)f({currentPassword:"",newPassword:"",confirmPassword:""}),i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(O.error||"Gagal mengupdate password")}}catch(S){console.error("Error updating password:",S),alert(S instanceof Error?S.message:"Terjadi kesalahan saat mengupdate password")}finally{n(!1)}},k=async j=>{j.preventDefault(),n(!0);try{const{updateData:S,SHEETS:N}=await Ie(async()=>{const{updateData:P,SHEETS:O}=await Promise.resolve().then(()=>Le);return{updateData:P,SHEETS:O}},void 0);if(e!=null&&e.id){const P={id:e.id,notificationSettings:h},O=await S(N.USERS,P);if(O.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(O.error||"Gagal mengupdate notifikasi")}}catch(S){console.error("Error updating notifications:",S),alert(S instanceof Error?S.message:"Terjadi kesalahan saat mengupdate notifikasi")}finally{n(!1)}},y=j=>{switch(j){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";default:return"warning"}},v=[{id:"profile",label:"Profile",icon:cd},{id:"password",label:"Password",icon:Av},{id:"notifications",label:"Notifikasi",icon:Ou}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Pengaturan Akun"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola informasi akun dan preferensi Anda"})]}),a.jsx(ke,{className:"p-6 bg-gradient-to-r from-primary-50 to-indigo-50 dark:from-primary-900/30 dark:to-indigo-900/30 border-primary-200 dark:border-primary-800",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white text-2xl font-bold",children:((x=e==null?void 0:e.nama)==null?void 0:x.charAt(0).toUpperCase())||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:(e==null?void 0:e.nama)||"User"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400",children:(e==null?void 0:e.email)||"user@example.com"}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsxs(Te,{variant:y((e==null?void 0:e.role)||"user"),children:[a.jsx(B_,{className:"h-3 w-3 mr-1"}),((w=e==null?void 0:e.role)==null?void 0:w.toUpperCase())||"USER"]}),a.jsx(Te,{variant:"primary",children:(e==null?void 0:e.plant)||"NPK2"})]})]}),a.jsx(ae,{variant:"secondary",onClick:t,children:"Logout"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx(ke,{className:"p-4 h-fit",children:a.jsx("nav",{className:"space-y-1",children:v.map(j=>a.jsxs("button",{onClick:()=>l(j.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ${o===j.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 font-medium":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700"}`,children:[a.jsx(j.icon,{className:"h-5 w-5"}),j.label]},j.id))})}),a.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(cd,{className:"h-5 w-5"}),"Informasi Profile"]})}),a.jsx(Mr,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx(ge,{label:"Nama Lengkap",type:"text",value:c.nama,onChange:j=>u(S=>({...S,nama:j.target.value})),required:!0}),a.jsx(ge,{label:"Email",type:"email",value:c.email,onChange:j=>u(S=>({...S,email:j.target.value})),required:!0}),a.jsx(ge,{label:"No. Telepon",type:"tel",value:c.phone,onChange:j=>u(S=>({...S,phone:j.target.value})),placeholder:"08xxxxxxxxxx"}),a.jsx(De,{label:"Department",value:c.department,onChange:j=>u(S=>({...S,department:j.target.value})),options:[{value:"Produksi",label:"Produksi"},{value:"Maintenance",label:"Maintenance"},{value:"Quality Control",label:"Quality Control"},{value:"HSE",label:"HSE"},{value:"Admin",label:"Admin"}]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(ae,{type:"submit",isLoading:r,children:[a.jsx(xh,{className:"h-4 w-4 mr-2"}),"Simpan Perubahan"]})})]})})]}),o==="password"&&a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(Av,{className:"h-5 w-5"}),"Ubah Password"]})}),a.jsx(Mr,{children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsx(ge,{label:"Password Saat Ini",type:"password",value:d.currentPassword,onChange:j=>f(S=>({...S,currentPassword:j.target.value})),required:!0}),a.jsx(ge,{label:"Password Baru",type:"password",value:d.newPassword,onChange:j=>f(S=>({...S,newPassword:j.target.value})),required:!0}),a.jsx(ge,{label:"Konfirmasi Password Baru",type:"password",value:d.confirmPassword,onChange:j=>f(S=>({...S,confirmPassword:j.target.value})),required:!0}),a.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:a.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[a.jsx("strong",{children:"Tips:"})," Password minimal 8 karakter, kombinasi huruf besar, huruf kecil, dan angka."]})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(ae,{type:"submit",isLoading:r,children:[a.jsx(xh,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})})]}),o==="notifications"&&a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(Ou,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]})}),a.jsx(Mr,{children:a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi Umum"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Terima notifikasi via email"})]}),a.jsx("input",{type:"checkbox",checked:h.emailNotifications,onChange:j=>p(S=>({...S,emailNotifications:j.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi browser/app"})]}),a.jsx("input",{type:"checkbox",checked:h.pushNotifications,onChange:j=>p(S=>({...S,pushNotifications:j.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Laporan"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Harian"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi harian"})]}),a.jsx("input",{type:"checkbox",checked:h.dailyReport,onChange:j=>p(S=>({...S,dailyReport:j.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Mingguan"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi mingguan"})]}),a.jsx("input",{type:"checkbox",checked:h.weeklyReport,onChange:j=>p(S=>({...S,weeklyReport:j.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Alert"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Downtime"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi saat terjadi downtime"})]}),a.jsx("input",{type:"checkbox",checked:h.alertDowntime,onChange:j=>p(S=>({...S,alertDowntime:j.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Work Request"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi work request baru"})]}),a.jsx("input",{type:"checkbox",checked:h.alertWorkRequest,onChange:j=>p(S=>({...S,alertWorkRequest:j.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(ae,{type:"submit",isLoading:r,children:[a.jsx(xh,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})})]})})]})]})]}),a.jsx(Gt,{isVisible:s,message:"Perubahan berhasil disimpan!",onClose:()=>i(!1)})]})},_i=[{key:"januari",label:"Januari"},{key:"februari",label:"Februari"},{key:"maret",label:"Maret"},{key:"april",label:"April"},{key:"mei",label:"Mei"},{key:"juni",label:"Juni"},{key:"juli",label:"Juli"},{key:"agustus",label:"Agustus"},{key:"september",label:"September"},{key:"oktober",label:"Oktober"},{key:"november",label:"November"},{key:"desember",label:"Desember"}],Di={tahun:new Date().getFullYear().toString(),plant:"NPK2",januari:0,februari:0,maret:0,april:0,mei:0,juni:0,juli:0,agustus:0,september:0,oktober:0,november:0,desember:0,total:0},PA=[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"}],Kme=()=>{var K;const{user:e}=st(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=mr(),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,y]=b.useState(null),[v,x]=b.useState(null),[w,j]=b.useState(Di),[S,N]=b.useState((e==null?void 0:e.plant)||"ALL"),[P,O]=b.useState(new Date().getFullYear().toString()),[C,M]=b.useState(!1),[E,_]=b.useState("");b.useEffect(()=>{(async()=>{u(!0);try{const{readData:R,fetchDataByPlant:ee,SHEETS:$}=await Ie(async()=>{const{readData:W,fetchDataByPlant:le,SHEETS:U}=await Promise.resolve().then(()=>Le);return{readData:W,fetchDataByPlant:le,SHEETS:U}},void 0),Y=await R($.RKAP);Y.success&&Y.data?i(Y.data):i([]);const Z=await ee($.PRODUKSI_NPK);Z.success&&Z.data?l(Z.data):l([])}catch(R){console.error("Error fetching data:",R),i([]),l([])}finally{u(!1)}})()},[]),b.useEffect(()=>{const T=_i.reduce((R,ee)=>R+(Number(w[ee.key])||0),0);j(R=>({...R,total:T}))},[w.januari,w.februari,w.maret,w.april,w.mei,w.juni,w.juli,w.agustus,w.september,w.oktober,w.november,w.desember]);const B=b.useMemo(()=>{const T={},R=o.filter(ee=>{const Y=new Date(ee.tanggal).getFullYear().toString()===P,Z=S==="ALL"||ee._plant===S;return Y&&Z});return _i.forEach((ee,$)=>{const Y=R.filter(Z=>new Date(Z.tanggal).getMonth()===$);T[ee.key]=Y.reduce((Z,W)=>Z+(ne(W.total)||ne(W.shiftMalamOnspek)+ne(W.shiftMalamOffspek)+ne(W.shiftPagiOnspek)+ne(W.shiftPagiOffspek)+ne(W.shiftSoreOnspek)+ne(W.shiftSoreOffspek)),0)}),T},[o,P,S]),G=b.useMemo(()=>s.filter(T=>{var $;const R=(($=T.tahun)==null?void 0:$.toString())===P,ee=S==="ALL"||T.plant===S;return R&&ee}),[s,P,S]),L=b.useMemo(()=>s.find(T=>{var R;return((R=T.tahun)==null?void 0:R.toString())===P&&T.plant==="NPK1"}),[s,P]),I=b.useMemo(()=>s.find(T=>{var R;return((R=T.tahun)==null?void 0:R.toString())===P&&T.plant==="NPK2"}),[s,P]),V=b.useMemo(()=>{const T={NPK1:{},NPK2:{}};return["NPK1","NPK2"].forEach(R=>{const ee=o.filter($=>new Date($.tanggal).getFullYear().toString()===P&&$._plant===R);_i.forEach(($,Y)=>{const Z=ee.filter(W=>new Date(W.tanggal).getMonth()===Y);T[R][$.key]=Z.reduce((W,le)=>W+(ne(le.total)||ne(le.shiftMalamOnspek)+ne(le.shiftMalamOffspek)+ne(le.shiftPagiOnspek)+ne(le.shiftPagiOffspek)+ne(le.shiftSoreOnspek)+ne(le.shiftSoreOffspek)),0)})}),T},[o,P]),F=G[0],X=async T=>{T.preventDefault(),u(!0);try{if(k){const R={...w,id:k},ee=await r("rkap",R);if(ee.success)i($=>$.map(Y=>Y.id===k?{...w,id:k}:Y));else throw new Error(ee.error||"Gagal mengupdate data")}else{const R=await t("rkap",w);if(R.success&&R.data)i(ee=>[R.data,...ee]);else throw new Error(R.error||"Gagal menyimpan data")}f(!1),j(Di),y(null),m(!0),setTimeout(()=>m(!1),2e3)}catch(R){console.error("Error saving data:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan saat menyimpan data")}finally{u(!1)}},q=T=>{j(T),y(T.id||null),f(!0)},oe=T=>{x(T),p(!0)},Q=async()=>{if(v){u(!0);try{const T=await n("rkap",{id:v});if(T.success)i(R=>R.filter(ee=>ee.id!==v)),p(!1),x(null),m(!0),setTimeout(()=>m(!1),2e3);else throw new Error(T.error||"Gagal menghapus data")}catch(T){console.error("Error deleting data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menghapus data")}finally{u(!1)}}},ce=()=>{j({...Di,tahun:P,plant:S==="ALL"?"NPK2":S}),y(null),f(!0)},se=(T,R)=>{j(ee=>({...ee,[T]:parseFloat(R)||0}))},ie=(L==null?void 0:L.total)||0,xe=(I==null?void 0:I.total)||0,be=S==="ALL"?ie+xe:(F==null?void 0:F.total)||0,ue=Object.values(V.NPK1).reduce((T,R)=>T+R,0),fe=Object.values(V.NPK2).reduce((T,R)=>T+R,0),me=S==="ALL"?ue+fe:Object.values(B).reduce((T,R)=>T+R,0),de=be>0?(me/be*100).toFixed(1):"0",je=ie>0?(ue/ie*100).toFixed(1):"0",J=xe>0?(fe/xe*100).toFixed(1):"0",A=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp",D=b.useCallback(()=>{if(d&&!c){const T=document.querySelector("form");T&&T.requestSubmit()}},[d,c]);sr(D,d);const z=S==="ALL"?"Semua Plant":S==="NPK1"?"NPK Plant 1":"NPK Plant 2";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"RKAP (Target Produksi)"}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Rencana Kerja dan Anggaran Perusahaan - ",z]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{value:P,onChange:T=>O(T.target.value),options:PA,className:"w-32"}),(e==null?void 0:e.plant)==="ALL"&&a.jsx(De,{value:S,onChange:T=>N(T.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),S!=="ALL"&&F&&a.jsxs(ae,{variant:"secondary",onClick:()=>{_(F.id||""),M(!0)},title:"Lihat Log Aktivitas",children:[a.jsx(ut,{className:"h-4 w-4 mr-2"}),"Log"]}),A&&S!=="ALL"&&(F?a.jsxs(ae,{onClick:()=>q(F),children:[a.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit Target"]}):a.jsxs(ae,{onClick:ce,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Buat Target"]}))]})]}),S==="ALL"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:a.jsx(fl,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-blue-900 dark:text-blue-100",children:"NPK Plant 1"}),a.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:["RKAP ",P]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[L&&a.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>{_(L.id||""),M(!0)},title:"Lihat Log Aktivitas",children:a.jsx(ut,{className:"h-3 w-3"})}),A&&a.jsx(ae,{size:"sm",variant:L?"secondary":"primary",onClick:()=>{L?q(L):(j({...Di,tahun:P,plant:"NPK1"}),y(null),f(!0))},children:L?a.jsxs(a.Fragment,{children:[a.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Target"}),a.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:H(ie)}),a.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:H(ue)}),a.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Pencapaian"}),a.jsxs("p",{className:`text-xl font-bold ${Number(je)>=100?"text-green-600":"text-amber-600"}`,children:[je,"%"]}),a.jsx(Te,{variant:L?"success":"warning",size:"sm",children:L?"Target Ada":"Belum Ada"})]})]})]}),a.jsxs(ke,{className:"p-5 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:a.jsx(fl,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-amber-900 dark:text-amber-100",children:"NPK Plant 2"}),a.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-300",children:["RKAP ",P]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[I&&a.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>{_(I.id||""),M(!0)},title:"Lihat Log Aktivitas",children:a.jsx(ut,{className:"h-3 w-3"})}),A&&a.jsx(ae,{size:"sm",variant:I?"secondary":"primary",onClick:()=>{I?q(I):(j({...Di,tahun:P,plant:"NPK2"}),y(null),f(!0))},children:I?a.jsxs(a.Fragment,{children:[a.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Target"}),a.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:H(xe)}),a.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:H(fe)}),a.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Pencapaian"}),a.jsxs("p",{className:`text-xl font-bold ${Number(J)>=100?"text-green-600":"text-amber-600"}`,children:[J,"%"]}),a.jsx(Te,{variant:I?"success":"warning",size:"sm",children:I?"Target Ada":"Belum Ada"})]})]})]})]}),a.jsx(ke,{className:"p-4 bg-gradient-to-r from-dark-100 to-dark-200 dark:from-dark-800 dark:to-dark-700",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-dark-200 dark:bg-dark-600 rounded-xl",children:a.jsx(ci,{className:"h-6 w-6 text-dark-600 dark:text-dark-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gabungan NPK 1 + NPK 2"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xl font-bold text-dark-900 dark:text-white",children:[H(me)," /"," ",H(be)," Ton"]}),a.jsxs(Te,{variant:Number(de)>=100?"success":"warning",children:[de,"%"]})]})]})]})})})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{className:"p-4 bg-gradient-to-br from-primary-50 to-indigo-50 border-primary-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:a.jsx(fl,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Target RKAP ",P]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[H(be)," Ton"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:a.jsx(ci,{className:"h-6 w-6 text-secondary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Realisasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[H(me)," Ton"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl ${Number(de)>=100?"bg-green-100":"bg-amber-100"}`,children:a.jsx(ha,{className:`h-6 w-6 ${Number(de)>=100?"text-green-600":"text-amber-600"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pencapaian"}),a.jsxs("p",{className:`text-2xl font-bold ${Number(de)>=100?"text-green-600":"text-amber-600"}`,children:[de,"%"]})]})]})})]}),S==="ALL"?a.jsxs(a.Fragment,{children:[a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{className:"text-blue-700 dark:text-blue-400",children:["NPK Plant 1 - Perbandingan Target vs Realisasi ",P]}),a.jsx(Te,{variant:L?"success":"warning",children:L?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(Mr,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-blue-600 dark:text-blue-400",children:"Target NPK 1 (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[_i.map(T=>{const R=Number(L==null?void 0:L[T.key])||0,ee=V.NPK1[T.key]||0,$=ee-R,Y=R>0?(ee/R*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-blue-50 dark:hover:bg-blue-900/10",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:T.label}),a.jsx("td",{className:"py-3 px-4 text-right text-blue-600 font-semibold",children:H(R)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:H(ee)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${$>=0?"text-green-600":"text-red-600"}`,children:[$>=0?"+":"",H($)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(Y)>=100?"success":Number(Y)>=80?"warning":"danger",children:[Y,"%"]})})]},T.key)}),a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-900/20 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 1"}),a.jsx("td",{className:"py-3 px-4 text-right text-blue-700",children:H(ie)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:H(ue)}),a.jsxs("td",{className:`py-3 px-4 text-right ${ue-ie>=0?"text-green-700":"text-red-700"}`,children:[ue-ie>=0?"+":"",H(ue-ie)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(je)>=100?"success":"warning",className:"text-base",children:[je,"%"]})})]})]})]})})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{className:"text-amber-700 dark:text-amber-400",children:["NPK Plant 2 - Perbandingan Target vs Realisasi ",P]}),a.jsx(Te,{variant:I?"success":"warning",children:I?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(Mr,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-amber-600 dark:text-amber-400",children:"Target NPK 2 (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[_i.map(T=>{const R=Number(I==null?void 0:I[T.key])||0,ee=V.NPK2[T.key]||0,$=ee-R,Y=R>0?(ee/R*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-amber-50 dark:hover:bg-amber-900/10",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:T.label}),a.jsx("td",{className:"py-3 px-4 text-right text-amber-600 font-semibold",children:H(R)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:H(ee)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${$>=0?"text-green-600":"text-red-600"}`,children:[$>=0?"+":"",H($)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(Y)>=100?"success":Number(Y)>=80?"warning":"danger",children:[Y,"%"]})})]},T.key)}),a.jsxs("tr",{className:"bg-amber-100 dark:bg-amber-900/20 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 2"}),a.jsx("td",{className:"py-3 px-4 text-right text-amber-700",children:H(xe)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:H(fe)}),a.jsxs("td",{className:`py-3 px-4 text-right ${fe-xe>=0?"text-green-700":"text-red-700"}`,children:[fe-xe>=0?"+":"",H(fe-xe)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(J)>=100?"success":"warning",className:"text-base",children:[J,"%"]})})]})]})]})})})]})]}):a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{children:["Perbandingan Target vs Realisasi Bulanan - ",P]}),a.jsx(Te,{variant:F?"success":"warning",children:F?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(Mr,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Target RKAP (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[_i.map(T=>{const R=Number(F==null?void 0:F[T.key])||0,ee=B[T.key]||0,$=ee-R,Y=R>0?(ee/R*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-700/50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:T.label}),a.jsx("td",{className:"py-3 px-4 text-right text-primary-600 font-semibold",children:H(R)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:H(ee)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${$>=0?"text-green-600":"text-red-600"}`,children:[$>=0?"+":"",H($)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(Y)>=100?"success":Number(Y)>=80?"warning":"danger",children:[Y,"%"]})})]},T.key)}),a.jsxs("tr",{className:"bg-dark-100 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL"}),a.jsx("td",{className:"py-3 px-4 text-right text-primary-700",children:H(be)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:H(me)}),a.jsxs("td",{className:`py-3 px-4 text-right ${me-be>=0?"text-green-700":"text-red-700"}`,children:[me-be>=0?"+":"",H(me-be)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(de)>=100?"success":"warning",className:"text-base",children:[de,"%"]})})]})]})]})})})]}),A&&S!=="ALL"&&F&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(ae,{variant:"danger",onClick:()=>oe(F.id),children:[a.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Hapus Target RKAP ",P]})}),a.jsx(Xe,{isOpen:d,onClose:()=>{f(!1),j(Di),y(null)},title:k?`Edit Target RKAP ${w.tahun}`:"Buat Target RKAP Baru",size:"lg",children:a.jsxs("form",{onSubmit:X,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(De,{label:"Tahun",value:((K=w.tahun)==null?void 0:K.toString())||"",onChange:T=>j(R=>({...R,tahun:T.target.value})),options:PA,required:!0,disabled:!!k}),a.jsx(De,{label:"Plant",value:w.plant||"NPK2",onChange:T=>j(R=>({...R,plant:T.target.value})),options:[{value:"NPK1",label:"NPK Plant 1"},{value:"NPK2",label:"NPK Plant 2"}],required:!0,disabled:!!k})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-dark-700 border-b pb-2",children:"Target Bulanan (Ton)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:_i.map(T=>a.jsx(ge,{label:T.label,type:"number",value:w[T.key]||"",onChange:R=>se(T.key,R.target.value),placeholder:"0",min:"0"},T.key))})]}),a.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-dark-700",children:"Total Target Tahunan:"}),a.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[H(w.total||0)," Ton"]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{f(!1),j(Di),y(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:c,children:k?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:h,onClose:()=>{p(!1),x(null)},onConfirm:Q,title:"Hapus Target RKAP",message:`Apakah Anda yakin ingin menghapus target RKAP tahun ${P}?`,confirmText:"Hapus",variant:"danger",isLoading:c}),a.jsx(Gt,{isVisible:g,message:"Data berhasil disimpan!",onClose:()=>m(!1)}),a.jsx(ar,{isOpen:C,onClose:()=>{M(!1),_("")},sheetName:"rkap",recordId:E,title:"Log Aktivitas RKAP"})]})},iu={username:"",nama:"",namaLengkap:"",email:"",password:"",role:"user",plant:"NPK2",status:"active"},zme=()=>{const{user:e}=st(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=mr(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(null),[k,y]=b.useState(null),[v,x]=b.useState(iu),[w,j]=b.useState(!1),[S,N]=b.useState(""),[P,O]=b.useState("ALL"),C=[{value:"admin",label:"Admin"},{value:"supervisor",label:"Supervisor"},{value:"user",label:"User"},{value:"avp",label:"AVP"},{value:"manager",label:"Manager"},{value:"eksternal",label:"Eksternal"}],M=[{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"},{value:"ALL",label:"Semua Plant"}];b.useEffect(()=>{(async()=>{l(!0);try{const{readData:ie,SHEETS:xe}=await Ie(async()=>{const{readData:ue,SHEETS:fe}=await Promise.resolve().then(()=>Le);return{readData:ue,SHEETS:fe}},void 0),be=await ie(xe.USERS);if(be.success&&be.data){const ue=[...be.data].sort((fe,me)=>(fe.nama||"").localeCompare(me.nama||""));i(ue)}else i([])}catch(ie){console.error("Error fetching data:",ie),i([])}finally{l(!1)}})()},[]);const E=async se=>{var ie;se.preventDefault(),l(!0);try{const xe={...v,username:v.username||((ie=v.email)==null?void 0:ie.split("@")[0])||"",namaLengkap:v.namaLengkap||v.nama||""};if(g&&!xe.password&&delete xe.password,g){const be={...xe,id:g,updatedAt:new Date().toISOString()},ue=await r("users",be);if(ue.success)i(fe=>fe.map(me=>me.id===g?{...xe,id:g,updatedAt:new Date().toISOString()}:me));else throw new Error(ue.error||"Gagal mengupdate data")}else{const be={...xe,createdAt:new Date().toISOString()},ue=await t("users",be);if(ue.success&&ue.data){const fe={...be,...ue.data};i(me=>[fe,...me])}else throw new Error(ue.error||"Gagal menyimpan data")}u(!1),x(iu),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(xe){console.error("Error saving data:",xe),alert(xe instanceof Error?xe.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},_=se=>{x({...se,password:"",namaLengkap:se.namaLengkap||se.nama||""}),m(se.id||null),u(!0)},B=se=>{y(se),f(!0)},G=async()=>{if(k){l(!0);try{const se=await n("users",{id:k});if(se.success)i(ie=>ie.filter(xe=>xe.id!==k)),f(!1),y(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(se.error||"Gagal menghapus data")}catch(se){console.error("Error deleting data:",se),alert(se instanceof Error?se.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},L=async se=>{const ie=s.find(xe=>xe.id===se);if(ie)try{const xe=ie.status==="active"?"inactive":"active",be={...ie,status:xe},ue=await r("users",be);if(ue.success)i(fe=>fe.map(me=>me.id===se?{...me,status:xe}:me));else throw new Error(ue.error||"Gagal mengupdate status")}catch(xe){console.error("Error toggling status:",xe),alert(xe instanceof Error?xe.message:"Terjadi kesalahan saat mengubah status")}},I=()=>{x(iu),m(null),u(!0)},V=s.filter(se=>P==="ALL"||se.role===P),F=se=>{switch(se){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";case"eksternal":return"warning";default:return"primary"}},X=[{key:"nama",header:"User",render:(se,ie)=>{var xe;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-semibold",children:(xe=ie.namaLengkap||ie.nama||ie.username||"U")==null?void 0:xe.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:ie.namaLengkap||ie.nama||ie.username}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["@",ie.username,"  ",ie.email]})]})]})}},{key:"role",header:"Role",render:se=>a.jsxs(Te,{variant:F(se),children:[a.jsx(B_,{className:"h-3 w-3 mr-1"}),se.toUpperCase()]})},{key:"plant",header:"Plant",render:se=>a.jsx(Te,{variant:"info",children:se})},{key:"status",header:"Status",render:(se,ie)=>a.jsx("button",{onClick:xe=>{xe.stopPropagation(),L(ie.id)},className:"flex items-center gap-2",children:se==="active"?a.jsxs(Te,{variant:"success",children:[a.jsx(qS,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(Te,{variant:"danger",children:[a.jsx(YS,{className:"h-3 w-3 mr-1"}),"Inactive"]})})},{key:"createdAt",header:"Dibuat",render:se=>We(se)}],q=(e==null?void 0:e.role)==="admin",oe=b.useCallback(()=>{if(c&&!o){const se=document.querySelector("form");se&&se.requestSubmit()}},[c,o]);sr(oe,c);const Q=V.filter(se=>se.status==="active").length,ce=V.filter(se=>se.status==="inactive").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Manajemen User"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola pengguna sistem"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{value:P,onChange:se=>O(se.target.value),options:[{value:"ALL",label:"Semua Role"},...C],className:"w-40"}),q&&a.jsxs(ae,{onClick:I,children:[a.jsx(zt,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:a.jsx(ud,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:V.length})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(qS,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:Q})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(YS,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Inactive Users"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:ce})]})]})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(at,{children:"Daftar User"})})}),a.jsx(nr,{data:V,columns:X,loading:o,searchable:!0,searchPlaceholder:"Cari nama, username, email, role...",searchKeys:["nama","namaLengkap","username","email","role","plant"],actions:q?se=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),N(se.id||""),j(!0)},title:"Lihat Log Aktivitas",children:a.jsx(ut,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),_(se)},children:a.jsx(Kt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),B(se.id)},children:a.jsx(Rt,{className:"h-4 w-4 text-red-600"})})]}):void 0})]}),a.jsx(Xe,{isOpen:c,onClose:()=>{u(!1),x(iu),m(null)},title:g?"Edit User":"Tambah User Baru",size:"md",children:a.jsxs("form",{onSubmit:E,className:"space-y-4",autoComplete:"off",children:[a.jsx(ge,{label:"Username",type:"text",value:v.username,onChange:se=>x(ie=>({...ie,username:se.target.value})),placeholder:"Username untuk login",required:!0,disabled:!!g,autoComplete:"off",name:"new-username"}),a.jsx(ge,{label:"Nama Lengkap",type:"text",value:v.namaLengkap,onChange:se=>x(ie=>({...ie,namaLengkap:se.target.value,nama:se.target.value})),placeholder:"Nama lengkap",required:!0,autoComplete:"off"}),a.jsx(ge,{label:"Email",type:"email",value:v.email,onChange:se=>x(ie=>({...ie,email:se.target.value})),placeholder:"email@example.com",required:!0,autoComplete:"off"}),a.jsx(ge,{label:g?"Password Baru (kosongkan jika tidak diubah)":"Password",type:"password",value:v.password,onChange:se=>x(ie=>({...ie,password:se.target.value})),placeholder:"",required:!g,autoComplete:"new-password",name:"new-password"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(De,{label:"Role",value:v.role,onChange:se=>x(ie=>({...ie,role:se.target.value})),options:C,required:!0}),a.jsx(De,{label:"Plant",value:v.plant,onChange:se=>x(ie=>({...ie,plant:se.target.value})),options:M,required:!0})]}),a.jsx(De,{label:"Status",value:v.status,onChange:se=>x(ie=>({...ie,status:se.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{type:"button",variant:"secondary",onClick:()=>{u(!1),x(iu),m(null)},children:"Batal"}),a.jsx(ae,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),a.jsx(Qt,{isOpen:d,onClose:()=>{f(!1),y(null)},onConfirm:G,title:"Hapus User",message:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Gt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),a.jsx(ar,{isOpen:w,onClose:()=>{j(!1),N("")},sheetName:"users",recordId:S,title:"Log Aktivitas User"})]})},Vme=()=>{const{user:e}=st(),[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(null),[m,k]=b.useState("pending"),[y,v]=b.useState("");b.useEffect(()=>{(async()=>{s(!0);try{const{readData:I,SHEETS:V}=await Ie(async()=>{const{readData:X,SHEETS:q}=await Promise.resolve().then(()=>Le);return{readData:X,SHEETS:q}},void 0),F=await I(V.APPROVAL_REQUESTS);if(F.success&&F.data){const X=[...F.data].sort((q,oe)=>new Date(oe.submittedAt||0).getTime()-new Date(q.submittedAt||0).getTime());r(X)}else r([])}catch(I){console.error("Error fetching data:",I),r([])}finally{s(!1)}})()},[]);const x=async()=>{if(p){s(!0);try{const{updateData:L,SHEETS:I}=await Ie(async()=>{const{updateData:X,SHEETS:q}=await Promise.resolve().then(()=>Le);return{updateData:X,SHEETS:q}},void 0),V={...p,status:"approved"},F=await L(I.APPROVAL_REQUESTS,V);if(F.success)r(X=>X.map(q=>q.id===p.id?{...q,status:"approved"}:q)),c(!1),g(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(F.error||"Gagal approve data")}catch(L){console.error("Error approving:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat approve")}finally{s(!1)}}},w=async()=>{if(p){s(!0);try{const{updateData:L,SHEETS:I}=await Ie(async()=>{const{updateData:X,SHEETS:q}=await Promise.resolve().then(()=>Le);return{updateData:X,SHEETS:q}},void 0),V={...p,status:"rejected",rejectReason:y},F=await L(I.APPROVAL_REQUESTS,V);if(F.success)r(X=>X.map(q=>q.id===p.id?{...q,status:"rejected"}:q)),d(!1),g(null),v(""),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(F.error||"Gagal reject data")}catch(L){console.error("Error rejecting:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat reject")}finally{s(!1)}}},j=L=>{g(L),o(!0)},S=L=>{g(L),c(!0)},N=L=>{g(L),d(!0)},P=t.filter(L=>m==="all"||L.status===m),O=L=>{switch(L){case"work_request":return{variant:"primary",label:"Work Request"};case"gate_pass":return{variant:"info",label:"Gate Pass"};case"downtime":return{variant:"warning",label:"Downtime"};case"trouble_record":return{variant:"danger",label:"Trouble Record"};default:return{variant:"info",label:L}}},C=L=>{switch(L){case"pending":return{variant:"warning",icon:Qa,label:"Pending"};case"approved":return{variant:"success",icon:Zo,label:"Approved"};case"rejected":return{variant:"danger",icon:hu,label:"Rejected"};default:return{variant:"info",icon:Qa,label:L}}},M=[{key:"title",header:"Judul",render:(L,I)=>a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:L}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 line-clamp-1",children:I.description})]})},{key:"type",header:"Tipe",render:L=>{const I=O(L);return a.jsx(Te,{variant:I.variant,children:I.label})}},{key:"submittedBy",header:"Diajukan Oleh"},{key:"submittedAt",header:"Tanggal",render:L=>We(L)},{key:"status",header:"Status",render:L=>{const I=C(L);return a.jsxs(Te,{variant:I.variant,children:[a.jsx(I.icon,{className:"h-3 w-3 mr-1"}),I.label]})}}],E=t.filter(L=>L.status==="pending").length,_=t.filter(L=>L.status==="approved").length,B=t.filter(L=>L.status==="rejected").length,G=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Approval"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola persetujuan dokumen dan request"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(De,{value:m,onChange:L=>k(L.target.value),options:[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-40"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{className:"p-4 border-l-4 border-l-amber-500 cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",onClick:()=>k("pending"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-xl",children:a.jsx(Qa,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Menunggu Approval"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:E})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",onClick:()=>k("approved"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:a.jsx(Zo,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:_})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:()=>k("rejected"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:a.jsx(hu,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:B})]})]})})]}),a.jsxs(ke,{children:[a.jsx(nt,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(at,{children:"Daftar Approval"})})}),a.jsx(nr,{data:P,columns:M,loading:n,searchable:!0,searchPlaceholder:"Cari judul, deskripsi, status...",searchKeys:["title","description","submittedBy","status","type","action"],actions:L=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:I=>{I.stopPropagation(),j(L)},children:a.jsx(wi,{className:"h-4 w-4 text-dark-600"})}),G&&L.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(ae,{variant:"ghost",size:"icon",onClick:I=>{I.stopPropagation(),S(L)},children:a.jsx(Zo,{className:"h-4 w-4 text-green-600"})}),a.jsx(ae,{variant:"ghost",size:"icon",onClick:I=>{I.stopPropagation(),N(L)},children:a.jsx(hu,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Xe,{isOpen:i,onClose:()=>{o(!1),g(null)},title:"Detail Approval",size:"md",children:p&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-dark-50 rounded-xl",children:[a.jsx(xa,{className:"h-10 w-10 text-primary-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:p.title}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:p.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tipe"}),a.jsx(Te,{variant:O(p.type).variant,children:O(p.type).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Status"}),a.jsx(Te,{variant:C(p.status).variant,children:C(p.status).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Diajukan Oleh"}),a.jsx("p",{className:"font-medium",children:p.submittedBy})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tanggal"}),a.jsx("p",{className:"font-medium",children:We(p.submittedAt)})]})]}),p.data&&a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsx("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Detail Data:"}),a.jsx("div",{className:"space-y-1",children:Object.entries(p.data).map(([L,I])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-dark-500 dark:text-dark-400 capitalize",children:[L.replace(/([A-Z])/g," $1").trim(),":"]}),a.jsx("span",{className:"font-medium",children:String(I)})]},L))})]}),G&&p.status==="pending"&&a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsxs(ae,{variant:"danger",onClick:()=>{o(!1),N(p)},children:[a.jsx(hu,{className:"h-4 w-4 mr-2"}),"Reject"]}),a.jsxs(ae,{variant:"success",onClick:()=>{o(!1),S(p)},children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]})}),a.jsx(Qt,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:x,title:"Approve Request",message:`Apakah Anda yakin ingin menyetujui "${p==null?void 0:p.title}"?`,confirmText:"Approve",variant:"info",isLoading:n}),a.jsx(Xe,{isOpen:u,onClose:()=>{d(!1),g(null),v("")},title:"Reject Request",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-dark-600",children:['Apakah Anda yakin ingin menolak "',p==null?void 0:p.title,'"?']}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Penolakan (opsional)"}),a.jsx("textarea",{value:y,onChange:L=>v(L.target.value),placeholder:"Masukkan alasan penolakan...",className:"input-field min-h-[80px]"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ae,{variant:"secondary",onClick:()=>{d(!1),g(null),v("")},children:"Batal"}),a.jsx(ae,{variant:"danger",onClick:w,isLoading:n,children:"Reject"})]})]})}),a.jsx(Gt,{isVisible:f,message:"Berhasil!",onClose:()=>h(!1)})]})},Ume=({children:e})=>{const{isLoggedIn:t}=st();return t?a.jsx(a.Fragment,{children:e}):a.jsx(ho,{to:"/login",replace:!0})},Hme=({children:e})=>{const{isLoggedIn:t}=st();return t?a.jsx(ho,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e})},TA=({children:e})=>{const{user:t}=st(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return uC(r,n)?a.jsx(a.Fragment,{children:e}):a.jsx(ho,{to:"/dashboard",replace:!0})},Wme=({children:e})=>{const{user:t}=st(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return dC(r,n)?a.jsx(a.Fragment,{children:e}):a.jsx(ho,{to:"/dashboard",replace:!0})},Gme=({children:e})=>{const{user:t}=st(),r=(t==null?void 0:t.role)||"";return fC(r)?a.jsx(a.Fragment,{children:e}):a.jsx(ho,{to:"/dashboard",replace:!0})};function qme(){return a.jsxs(a.Fragment,{children:[a.jsxs(SI,{children:[a.jsx(Ue,{path:"/login",element:a.jsx(Hme,{children:a.jsx(Sz,{})})}),a.jsxs(Ue,{path:"/",element:a.jsx(Ume,{children:a.jsx(jz,{})}),children:[a.jsx(Ue,{index:!0,element:a.jsx(ho,{to:"/dashboard",replace:!0})}),a.jsx(Ue,{path:"dashboard",element:a.jsx(ime,{})}),a.jsxs(Ue,{path:"produksi",children:[a.jsx(Ue,{path:"npk1",element:a.jsx(sA,{plant:"NPK1"})}),a.jsx(Ue,{path:"npk2",element:a.jsx(sA,{plant:"NPK2"})}),a.jsx(Ue,{path:"blending",element:a.jsx(iA,{type:"blending"})}),a.jsx(Ue,{path:"retail",element:a.jsx(iA,{type:"retail"})}),a.jsx(Ue,{path:"npk-mini",element:a.jsx(ume,{})})]}),a.jsxs(Ue,{path:"laporan",children:[a.jsx(Ue,{path:"kop-npk1",element:a.jsx(mA,{plant:"NPK1"})}),a.jsx(Ue,{path:"kop-npk2",element:a.jsx(mA,{plant:"NPK2"})}),a.jsx(Ue,{path:"downtime-npk1",element:a.jsx(oA,{plant:"NPK1"})}),a.jsx(Ue,{path:"downtime-npk2",element:a.jsx(oA,{plant:"NPK2"})}),a.jsx(Ue,{path:"timesheet-forklift-npk1",element:a.jsx(cA,{plant:"NPK1"})}),a.jsx(Ue,{path:"timesheet-forklift-npk2",element:a.jsx(cA,{plant:"NPK2"})}),a.jsx(Ue,{path:"timesheet-loader-npk1",element:a.jsx(dA,{plant:"NPK1"})}),a.jsx(Ue,{path:"timesheet-loader-npk2",element:a.jsx(dA,{plant:"NPK2"})}),a.jsx(Ue,{path:"pemantauan-bb-npk1",element:a.jsx(gA,{plant:"NPK1"})}),a.jsx(Ue,{path:"pemantauan-bb-npk2",element:a.jsx(gA,{plant:"NPK2"})})]}),a.jsxs(Ue,{path:"data",children:[a.jsx(Ue,{path:"inventaris",element:a.jsx(Bme,{})}),a.jsx(Ue,{path:"work-request-npk1",element:a.jsx(xA,{plant:"NPK1"})}),a.jsx(Ue,{path:"work-request-npk2",element:a.jsx(xA,{plant:"NPK2"})}),a.jsx(Ue,{path:"bahan-baku-npk1",element:a.jsx(yA,{plant:"NPK1"})}),a.jsx(Ue,{path:"bahan-baku-npk2",element:a.jsx(yA,{plant:"NPK2"})}),a.jsx(Ue,{path:"vibrasi-npk1",element:a.jsx(bA,{plant:"NPK1"})}),a.jsx(Ue,{path:"vibrasi-npk2",element:a.jsx(bA,{plant:"NPK2"})}),a.jsx(Ue,{path:"gate-pass-npk1",element:a.jsx(kA,{plant:"NPK1"})}),a.jsx(Ue,{path:"gate-pass-npk2",element:a.jsx(kA,{plant:"NPK2"})}),a.jsx(Ue,{path:"perbaikan-tahunan-npk1",element:a.jsx(jA,{plant:"NPK1"})}),a.jsx(Ue,{path:"perbaikan-tahunan-npk2",element:a.jsx(jA,{plant:"NPK2"})}),a.jsx(Ue,{path:"trouble-record-npk1",element:a.jsx(wA,{plant:"NPK1"})}),a.jsx(Ue,{path:"trouble-record-npk2",element:a.jsx(wA,{plant:"NPK2"})}),a.jsx(Ue,{path:"dokumentasi-foto-npk1",element:a.jsx(SA,{plant:"NPK1"})}),a.jsx(Ue,{path:"dokumentasi-foto-npk2",element:a.jsx(SA,{plant:"NPK2"})}),a.jsx(Ue,{path:"rekap-bbm-npk1",element:a.jsx(NA,{plant:"NPK1"})}),a.jsx(Ue,{path:"rekap-bbm-npk2",element:a.jsx(NA,{plant:"NPK2"})}),a.jsx(Ue,{path:"riksa-timb-portabel",element:a.jsx(Dme,{})}),a.jsx(Ue,{path:"perta",element:a.jsx(Pme,{})})]}),a.jsxs(Ue,{path:"settings",children:[a.jsx(Ue,{path:"akun",element:a.jsx(TA,{children:a.jsx(Fme,{})})}),a.jsx(Ue,{path:"rkap",element:a.jsx(Gme,{children:a.jsx(Kme,{})})}),a.jsx(Ue,{path:"users",element:a.jsx(Wme,{children:a.jsx(zme,{})})}),a.jsx(Ue,{path:"approval",element:a.jsx(TA,{children:a.jsx(Vme,{})})})]})]}),a.jsx(Ue,{path:"*",element:a.jsx(ho,{to:"/dashboard",replace:!0})})]}),a.jsx(nz,{})]})}const Yme=()=>{var t;const e=localStorage.getItem("ui-storage");if(e)try{const r=JSON.parse(e);((t=r.state)==null?void 0:t.darkMode)===!0&&(r.state.darkMode=!1,localStorage.setItem("ui-storage",JSON.stringify(r)))}catch{localStorage.removeItem("ui-storage")}document.documentElement.classList.remove("dark")};Yme();m0.createRoot(document.getElementById("root")).render(a.jsx(re.StrictMode,{children:a.jsx(CI,{children:a.jsx(qme,{})})}));
