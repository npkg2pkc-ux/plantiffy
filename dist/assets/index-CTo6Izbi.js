function YF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FO={exports:{}},Hg={},BO={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=Symbol.for("react.element"),XF=Symbol.for("react.portal"),JF=Symbol.for("react.fragment"),ZF=Symbol.for("react.strict_mode"),QF=Symbol.for("react.profiler"),e8=Symbol.for("react.provider"),t8=Symbol.for("react.context"),r8=Symbol.for("react.forward_ref"),n8=Symbol.for("react.suspense"),a8=Symbol.for("react.memo"),i8=Symbol.for("react.lazy"),RS=Symbol.iterator;function s8(e){return e===null||typeof e!="object"?null:(e=RS&&e[RS]||e["@@iterator"],typeof e=="function"?e:null)}var $O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UO=Object.assign,KO={};function Uu(e,t,r){this.props=e,this.context=t,this.refs=KO,this.updater=r||$O}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VO(){}VO.prototype=Uu.prototype;function mk(e,t,r){this.props=e,this.context=t,this.refs=KO,this.updater=r||$O}var gk=mk.prototype=new VO;gk.constructor=mk;UO(gk,Uu.prototype);gk.isPureReactComponent=!0;var IS=Array.isArray,HO=Object.prototype.hasOwnProperty,xk={current:null},zO={key:!0,ref:!0,__self:!0,__source:!0};function WO(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)HO.call(t,n)&&!zO.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Qh,type:e,key:i,ref:o,props:a,_owner:xk.current}}function o8(e,t){return{$$typeof:Qh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vk(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qh}function l8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var LS=/\/+/g;function Sv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l8(""+e.key):t.toString(36)}function Sp(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qh:case XF:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Sv(o,0):n,IS(a)?(r="",e!=null&&(r=e.replace(LS,"$&/")+"/"),Sp(a,t,r,"",function(u){return u})):a!=null&&(vk(a)&&(a=o8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(LS,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",IS(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Sv(i,l);o+=Sp(i,t,r,c,a)}else if(c=s8(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Sv(i,l++),o+=Sp(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function E0(e,t,r){if(e==null)return e;var n=[],a=0;return Sp(e,n,"","",function(i){return t.call(r,i,a++)}),n}function c8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zn={current:null},Np={transition:null},u8={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:Np,ReactCurrentOwner:xk};function GO(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:E0,forEach:function(e,t,r){E0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return E0(e,function(){t++}),t},toArray:function(e){return E0(e,function(t){return t})||[]},only:function(e){if(!vk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Uu;kt.Fragment=JF;kt.Profiler=QF;kt.PureComponent=mk;kt.StrictMode=ZF;kt.Suspense=n8;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u8;kt.act=GO;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UO({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)HO.call(t,c)&&!zO.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Qh,type:e.type,key:a,ref:i,props:n,_owner:o}};kt.createContext=function(e){return e={$$typeof:t8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e8,_context:e},e.Consumer=e};kt.createElement=WO;kt.createFactory=function(e){var t=WO.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:r8,render:e}};kt.isValidElement=vk;kt.lazy=function(e){return{$$typeof:i8,_payload:{_status:-1,_result:e},_init:c8}};kt.memo=function(e,t){return{$$typeof:a8,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=Np.transition;Np.transition={};try{e()}finally{Np.transition=t}};kt.unstable_act=GO;kt.useCallback=function(e,t){return Zn.current.useCallback(e,t)};kt.useContext=function(e){return Zn.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return Zn.current.useDeferredValue(e)};kt.useEffect=function(e,t){return Zn.current.useEffect(e,t)};kt.useId=function(){return Zn.current.useId()};kt.useImperativeHandle=function(e,t,r){return Zn.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return Zn.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return Zn.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return Zn.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return Zn.current.useReducer(e,t,r)};kt.useRef=function(e){return Zn.current.useRef(e)};kt.useState=function(e){return Zn.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return Zn.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return Zn.current.useTransition()};kt.version="18.3.1";BO.exports=kt;var j=BO.exports;const fe=Lt(j),qO=YF({__proto__:null,default:fe},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d8=j,f8=Symbol.for("react.element"),h8=Symbol.for("react.fragment"),p8=Object.prototype.hasOwnProperty,m8=d8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g8={key:!0,ref:!0,__self:!0,__source:!0};function YO(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)p8.call(t,n)&&!g8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:f8,type:e,key:i,ref:o,props:a,_owner:m8.current}}Hg.Fragment=h8;Hg.jsx=YO;Hg.jsxs=YO;FO.exports=Hg;var s=FO.exports,y1={},XO={exports:{}},Oa={},JO={exports:{}},ZO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,G){var de=re.length;re.push(G);e:for(;0<de;){var ce=de-1>>>1,U=re[ce];if(0<a(U,G))re[ce]=G,re[de]=U,de=ce;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var G=re[0],de=re.pop();if(de!==G){re[0]=de;e:for(var ce=0,U=re.length,L=U>>>1;ce<L;){var I=2*(ce+1)-1,R=re[I],J=I+1,xe=re[J];if(0>a(R,de))J<U&&0>a(xe,R)?(re[ce]=xe,re[J]=de,ce=J):(re[ce]=R,re[I]=de,ce=I);else if(J<U&&0>a(xe,de))re[ce]=xe,re[J]=de,ce=J;else break e}}return G}function a(re,G){var de=re.sortIndex-G.sortIndex;return de!==0?de:re.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(re){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=re)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function w(re){if(m=!1,v(re),!g)if(r(c)!==null)g=!0,W(k);else{var G=r(u);G!==null&&q(w,G.startTime-re)}}function k(re,G){g=!1,m&&(m=!1,b(T),T=-1),p=!0;var de=h;try{for(v(G),f=r(c);f!==null&&(!(f.expirationTime>G)||re&&!O());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var U=ce(f.expirationTime<=G);G=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),v(G)}else n(c);f=r(c)}if(f!==null)var L=!0;else{var I=r(u);I!==null&&q(w,I.startTime-G),L=!1}return L}finally{f=null,h=de,p=!1}}var N=!1,S=null,T=-1,P=5,_=-1;function O(){return!(e.unstable_now()-_<P)}function E(){if(S!==null){var re=e.unstable_now();_=re;var G=!0;try{G=S(!0,re)}finally{G?C():(N=!1,S=null)}}else N=!1}var C;if(typeof y=="function")C=function(){y(E)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=E,C=function(){Q.postMessage(null)}}else C=function(){x(E,0)};function W(re){S=re,N||(N=!0,C())}function q(re,G){T=x(function(){re(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(k))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(re){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var de=h;h=G;try{return re()}finally{h=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,G){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=h;h=re;try{return G()}finally{h=de}},e.unstable_scheduleCallback=function(re,G,de){var ce=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ce+de:ce):de=ce,re){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=de+U,re={id:d++,callback:G,priorityLevel:re,startTime:de,expirationTime:U,sortIndex:-1},de>ce?(re.sortIndex=de,t(u,re),r(c)===null&&re===r(u)&&(m?(b(T),T=-1):m=!0,q(w,de-ce))):(re.sortIndex=U,t(c,re),g||p||(g=!0,W(k))),re},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(re){var G=h;return function(){var de=h;h=G;try{return re.apply(this,arguments)}finally{h=de}}}})(ZO);JO.exports=ZO;var x8=JO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v8=j,_a=x8;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QO=new Set,Ff={};function Hl(e,t){au(e,t),au(e+"Capture",t)}function au(e,t){for(Ff[e]=t,e=0;e<t.length;e++)QO.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b1=Object.prototype.hasOwnProperty,y8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FS={},BS={};function b8(e){return b1.call(BS,e)?!0:b1.call(FS,e)?!1:y8.test(e)?BS[e]=!0:(FS[e]=!0,!1)}function w8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k8(e,t,r,n){if(t===null||typeof t>"u"||w8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yn[e]=new Qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yn[t]=new Qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yn[e]=new Qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yn[e]=new Qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yn[e]=new Qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yn[e]=new Qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yn[e]=new Qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yn[e]=new Qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yn[e]=new Qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var yk=/[\-:]([a-z])/g;function bk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yk,bk);yn[t]=new Qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yk,bk);yn[t]=new Qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yk,bk);yn[t]=new Qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yn[e]=new Qn(e,1,!1,e.toLowerCase(),null,!1,!1)});yn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yn[e]=new Qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function wk(e,t,r,n){var a=yn.hasOwnProperty(t)?yn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k8(t,r,a,n)&&(r=null),n||a===null?b8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vs=v8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A0=Symbol.for("react.element"),xc=Symbol.for("react.portal"),vc=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),jk=Symbol.for("react.forward_ref"),k1=Symbol.for("react.suspense"),j1=Symbol.for("react.suspense_list"),Sk=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),rC=Symbol.for("react.offscreen"),$S=Symbol.iterator;function hd(e){return e===null||typeof e!="object"?null:(e=$S&&e[$S]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,Nv;function ef(e){if(Nv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nv=t&&t[1]||""}return`
`+Nv+e}var Tv=!1;function Pv(e,t){if(!e||Tv)return"";Tv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Tv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ef(e):""}function j8(e){switch(e.tag){case 5:return ef(e.type);case 16:return ef("Lazy");case 13:return ef("Suspense");case 19:return ef("SuspenseList");case 0:case 2:case 15:return e=Pv(e.type,!1),e;case 11:return e=Pv(e.type.render,!1),e;case 1:return e=Pv(e.type,!0),e;default:return""}}function S1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vc:return"Fragment";case xc:return"Portal";case w1:return"Profiler";case kk:return"StrictMode";case k1:return"Suspense";case j1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tC:return(e.displayName||"Context")+".Consumer";case eC:return(e._context.displayName||"Context")+".Provider";case jk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sk:return t=e.displayName||null,t!==null?t:S1(e.type)||"Memo";case eo:t=e._payload,e=e._init;try{return S1(e(t))}catch{}}return null}function S8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S1(t);case 8:return t===kk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N8(e){var t=nC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function O0(e){e._valueTracker||(e._valueTracker=N8(e))}function aC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $p(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function N1(e,t){var r=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function US(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ao(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iC(e,t){t=t.checked,t!=null&&wk(e,"checked",t,!1)}function T1(e,t){iC(e,t);var r=Ao(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P1(e,t.type,r):t.hasOwnProperty("defaultValue")&&P1(e,t.type,Ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function P1(e,t,r){(t!=="number"||$p(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tf=Array.isArray;function Uc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ao(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ue(92));if(tf(r)){if(1<r.length)throw Error(Ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ao(r)}}function sC(e,t){var r=Ao(t.value),n=Ao(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function HS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var C0,lC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(C0=C0||document.createElement("div"),C0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=C0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T8=["Webkit","ms","Moz","O"];Object.keys(uf).forEach(function(e){T8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uf[t]=uf[e]})});function cC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uf.hasOwnProperty(e)&&uf[e]?(""+t).trim():t+"px"}function uC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=cC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var P8=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A1(e,t){if(t){if(P8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function O1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C1=null;function Nk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var D1=null,Kc=null,Vc=null;function zS(e){if(e=r0(e)){if(typeof D1!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Yg(t),D1(e.stateNode,e.type,t))}}function dC(e){Kc?Vc?Vc.push(e):Vc=[e]:Kc=e}function fC(){if(Kc){var e=Kc,t=Vc;if(Vc=Kc=null,zS(e),t)for(e=0;e<t.length;e++)zS(t[e])}}function hC(e,t){return e(t)}function pC(){}var _v=!1;function mC(e,t,r){if(_v)return e(t,r);_v=!0;try{return hC(e,t,r)}finally{_v=!1,(Kc!==null||Vc!==null)&&(pC(),fC())}}function $f(e,t){var r=e.stateNode;if(r===null)return null;var n=Yg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ue(231,t,typeof r));return r}var M1=!1;if(ls)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){M1=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{M1=!1}function _8(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var df=!1,Up=null,Kp=!1,R1=null,E8={onError:function(e){df=!0,Up=e}};function A8(e,t,r,n,a,i,o,l,c){df=!1,Up=null,_8.apply(E8,arguments)}function O8(e,t,r,n,a,i,o,l,c){if(A8.apply(this,arguments),df){if(df){var u=Up;df=!1,Up=null}else throw Error(Ue(198));Kp||(Kp=!0,R1=u)}}function zl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function WS(e){if(zl(e)!==e)throw Error(Ue(188))}function C8(e){var t=e.alternate;if(!t){if(t=zl(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return WS(a),e;if(i===n)return WS(a),t;i=i.sibling}throw Error(Ue(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(r.alternate!==n)throw Error(Ue(190))}if(r.tag!==3)throw Error(Ue(188));return r.stateNode.current===r?e:t}function xC(e){return e=C8(e),e!==null?vC(e):null}function vC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vC(e);if(t!==null)return t;e=e.sibling}return null}var yC=_a.unstable_scheduleCallback,GS=_a.unstable_cancelCallback,D8=_a.unstable_shouldYield,M8=_a.unstable_requestPaint,Nr=_a.unstable_now,R8=_a.unstable_getCurrentPriorityLevel,Tk=_a.unstable_ImmediatePriority,bC=_a.unstable_UserBlockingPriority,Vp=_a.unstable_NormalPriority,I8=_a.unstable_LowPriority,wC=_a.unstable_IdlePriority,zg=null,Ai=null;function L8(e){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(zg,e,void 0,(e.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:$8,F8=Math.log,B8=Math.LN2;function $8(e){return e>>>=0,e===0?32:31-(F8(e)/B8|0)|0}var D0=64,M0=4194304;function rf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=rf(l):(i&=o,i!==0&&(n=rf(i)))}else o=r&~a,o!==0?n=rf(o):i!==0&&(n=rf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pi(t),a=1<<r,n|=e[r],t&=~a;return n}function U8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=U8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function I1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kC(){var e=D0;return D0<<=1,!(D0&4194240)&&(D0=64),e}function Ev(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function e0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pi(t),e[t]=r}function V8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-pi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Pk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Kt=0;function jC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SC,_k,NC,TC,PC,L1=!1,R0=[],mo=null,go=null,xo=null,Uf=new Map,Kf=new Map,ao=[],H8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qS(e,t){switch(e){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Uf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kf.delete(t.pointerId)}}function md(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=r0(t),t!==null&&_k(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function z8(e,t,r,n,a){switch(t){case"focusin":return mo=md(mo,e,t,r,n,a),!0;case"dragenter":return go=md(go,e,t,r,n,a),!0;case"mouseover":return xo=md(xo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Uf.set(i,md(Uf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Kf.set(i,md(Kf.get(i)||null,e,t,r,n,a)),!0}return!1}function _C(e){var t=fl(e.target);if(t!==null){var r=zl(t);if(r!==null){if(t=r.tag,t===13){if(t=gC(r),t!==null){e.blockedOn=t,PC(e.priority,function(){NC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=F1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C1=n,r.target.dispatchEvent(n),C1=null}else return t=r0(r),t!==null&&_k(t),e.blockedOn=r,!1;t.shift()}return!0}function YS(e,t,r){Tp(e)&&r.delete(t)}function W8(){L1=!1,mo!==null&&Tp(mo)&&(mo=null),go!==null&&Tp(go)&&(go=null),xo!==null&&Tp(xo)&&(xo=null),Uf.forEach(YS),Kf.forEach(YS)}function gd(e,t){e.blockedOn===t&&(e.blockedOn=null,L1||(L1=!0,_a.unstable_scheduleCallback(_a.unstable_NormalPriority,W8)))}function Vf(e){function t(a){return gd(a,e)}if(0<R0.length){gd(R0[0],e);for(var r=1;r<R0.length;r++){var n=R0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mo!==null&&gd(mo,e),go!==null&&gd(go,e),xo!==null&&gd(xo,e),Uf.forEach(t),Kf.forEach(t),r=0;r<ao.length;r++)n=ao[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ao.length&&(r=ao[0],r.blockedOn===null);)_C(r),r.blockedOn===null&&ao.shift()}var Hc=vs.ReactCurrentBatchConfig,zp=!0;function G8(e,t,r,n){var a=Kt,i=Hc.transition;Hc.transition=null;try{Kt=1,Ek(e,t,r,n)}finally{Kt=a,Hc.transition=i}}function q8(e,t,r,n){var a=Kt,i=Hc.transition;Hc.transition=null;try{Kt=4,Ek(e,t,r,n)}finally{Kt=a,Hc.transition=i}}function Ek(e,t,r,n){if(zp){var a=F1(e,t,r,n);if(a===null)Bv(e,t,n,Wp,r),qS(e,n);else if(z8(a,e,t,r,n))n.stopPropagation();else if(qS(e,n),t&4&&-1<H8.indexOf(e)){for(;a!==null;){var i=r0(a);if(i!==null&&SC(i),i=F1(e,t,r,n),i===null&&Bv(e,t,n,Wp,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Bv(e,t,n,null,r)}}var Wp=null;function F1(e,t,r,n){if(Wp=null,e=Nk(n),e=fl(e),e!==null)if(t=zl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wp=e,null}function EC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R8()){case Tk:return 1;case bC:return 4;case Vp:case I8:return 16;case wC:return 536870912;default:return 16}default:return 16}}var oo=null,Ak=null,Pp=null;function AC(){if(Pp)return Pp;var e,t=Ak,r=t.length,n,a="value"in oo?oo.value:oo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Pp=a.slice(e,1<n?1-n:void 0)}function _p(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function I0(){return!0}function XS(){return!1}function Ca(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?I0:XS,this.isPropagationStopped=XS,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=I0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=I0)},persist:function(){},isPersistent:I0}),t}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ok=Ca(Ku),t0=vr({},Ku,{view:0,detail:0}),Y8=Ca(t0),Av,Ov,xd,Wg=vr({},t0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ck,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xd&&(xd&&e.type==="mousemove"?(Av=e.screenX-xd.screenX,Ov=e.screenY-xd.screenY):Ov=Av=0,xd=e),Av)},movementY:function(e){return"movementY"in e?e.movementY:Ov}}),JS=Ca(Wg),X8=vr({},Wg,{dataTransfer:0}),J8=Ca(X8),Z8=vr({},t0,{relatedTarget:0}),Cv=Ca(Z8),Q8=vr({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),eB=Ca(Q8),tB=vr({},Ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rB=Ca(tB),nB=vr({},Ku,{data:0}),ZS=Ca(nB),aB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sB[e])?!!t[e]:!1}function Ck(){return oB}var lB=vr({},t0,{key:function(e){if(e.key){var t=aB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_p(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ck,charCode:function(e){return e.type==="keypress"?_p(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_p(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cB=Ca(lB),uB=vr({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QS=Ca(uB),dB=vr({},t0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ck}),fB=Ca(dB),hB=vr({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),pB=Ca(hB),mB=vr({},Wg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gB=Ca(mB),xB=[9,13,27,32],Dk=ls&&"CompositionEvent"in window,ff=null;ls&&"documentMode"in document&&(ff=document.documentMode);var vB=ls&&"TextEvent"in window&&!ff,OC=ls&&(!Dk||ff&&8<ff&&11>=ff),eN=" ",tN=!1;function CC(e,t){switch(e){case"keyup":return xB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yc=!1;function yB(e,t){switch(e){case"compositionend":return DC(t);case"keypress":return t.which!==32?null:(tN=!0,eN);case"textInput":return e=t.data,e===eN&&tN?null:e;default:return null}}function bB(e,t){if(yc)return e==="compositionend"||!Dk&&CC(e,t)?(e=AC(),Pp=Ak=oo=null,yc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OC&&t.locale!=="ko"?null:t.data;default:return null}}var wB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wB[e.type]:t==="textarea"}function MC(e,t,r,n){dC(n),t=Gp(t,"onChange"),0<t.length&&(r=new Ok("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hf=null,Hf=null;function kB(e){zC(e,0)}function Gg(e){var t=kc(e);if(aC(t))return e}function jB(e,t){if(e==="change")return t}var RC=!1;if(ls){var Dv;if(ls){var Mv="oninput"in document;if(!Mv){var nN=document.createElement("div");nN.setAttribute("oninput","return;"),Mv=typeof nN.oninput=="function"}Dv=Mv}else Dv=!1;RC=Dv&&(!document.documentMode||9<document.documentMode)}function aN(){hf&&(hf.detachEvent("onpropertychange",IC),Hf=hf=null)}function IC(e){if(e.propertyName==="value"&&Gg(Hf)){var t=[];MC(t,Hf,e,Nk(e)),mC(kB,t)}}function SB(e,t,r){e==="focusin"?(aN(),hf=t,Hf=r,hf.attachEvent("onpropertychange",IC)):e==="focusout"&&aN()}function NB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gg(Hf)}function TB(e,t){if(e==="click")return Gg(t)}function PB(e,t){if(e==="input"||e==="change")return Gg(t)}function _B(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bi=typeof Object.is=="function"?Object.is:_B;function zf(e,t){if(bi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!b1.call(t,a)||!bi(e[a],t[a]))return!1}return!0}function iN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sN(e,t){var r=iN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iN(r)}}function LC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FC(){for(var e=window,t=$p();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$p(e.document)}return t}function Mk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EB(e){var t=FC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&LC(r.ownerDocument.documentElement,r)){if(n!==null&&Mk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=sN(r,i);var o=sN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AB=ls&&"documentMode"in document&&11>=document.documentMode,bc=null,B1=null,pf=null,$1=!1;function oN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$1||bc==null||bc!==$p(n)||(n=bc,"selectionStart"in n&&Mk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pf&&zf(pf,n)||(pf=n,n=Gp(B1,"onSelect"),0<n.length&&(t=new Ok("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bc)))}function L0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wc={animationend:L0("Animation","AnimationEnd"),animationiteration:L0("Animation","AnimationIteration"),animationstart:L0("Animation","AnimationStart"),transitionend:L0("Transition","TransitionEnd")},Rv={},BC={};ls&&(BC=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function qg(e){if(Rv[e])return Rv[e];if(!wc[e])return e;var t=wc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BC)return Rv[e]=t[r];return e}var $C=qg("animationend"),UC=qg("animationiteration"),KC=qg("animationstart"),VC=qg("transitionend"),HC=new Map,lN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(e,t){HC.set(e,t),Hl(t,[e])}for(var Iv=0;Iv<lN.length;Iv++){var Lv=lN[Iv],OB=Lv.toLowerCase(),CB=Lv[0].toUpperCase()+Lv.slice(1);Fo(OB,"on"+CB)}Fo($C,"onAnimationEnd");Fo(UC,"onAnimationIteration");Fo(KC,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(VC,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DB=new Set("cancel close invalid load scroll toggle".split(" ").concat(nf));function cN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,O8(n,t,void 0,e),e.currentTarget=null}function zC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;cN(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;cN(a,l,u),i=c}}}if(Kp)throw e=R1,Kp=!1,R1=null,e}function rr(e,t){var r=t[z1];r===void 0&&(r=t[z1]=new Set);var n=e+"__bubble";r.has(n)||(WC(t,e,2,!1),r.add(n))}function Fv(e,t,r){var n=0;t&&(n|=4),WC(r,e,n,t)}var F0="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[F0]){e[F0]=!0,QO.forEach(function(r){r!=="selectionchange"&&(DB.has(r)||Fv(r,!1,e),Fv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[F0]||(t[F0]=!0,Fv("selectionchange",!1,t))}}function WC(e,t,r,n){switch(EC(t)){case 1:var a=G8;break;case 4:a=q8;break;default:a=Ek}r=a.bind(null,t,r,e),a=void 0,!M1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=fl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}mC(function(){var u=i,d=Nk(r),f=[];e:{var h=HC.get(e);if(h!==void 0){var p=Ok,g=e;switch(e){case"keypress":if(_p(r)===0)break e;case"keydown":case"keyup":p=cB;break;case"focusin":g="focus",p=Cv;break;case"focusout":g="blur",p=Cv;break;case"beforeblur":case"afterblur":p=Cv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=JS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fB;break;case $C:case UC:case KC:p=eB;break;case VC:p=pB;break;case"scroll":p=Y8;break;case"wheel":p=gB;break;case"copy":case"cut":case"paste":p=rB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=QS}var m=(t&4)!==0,x=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,b!==null&&(w=$f(y,b),w!=null&&m.push(Gf(y,w,v)))),x)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==C1&&(g=r.relatedTarget||r.fromElement)&&(fl(g)||g[cs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?fl(g):null,g!==null&&(x=zl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=JS,w="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=QS,w="onPointerLeave",b="onPointerEnter",y="pointer"),x=p==null?h:kc(p),v=g==null?h:kc(g),h=new m(w,y+"leave",p,r,d),h.target=x,h.relatedTarget=v,w=null,fl(d)===u&&(m=new m(b,y+"enter",g,r,d),m.target=v,m.relatedTarget=x,w=m),x=w,p&&g)t:{for(m=p,b=g,y=0,v=m;v;v=sc(v))y++;for(v=0,w=b;w;w=sc(w))v++;for(;0<y-v;)m=sc(m),y--;for(;0<v-y;)b=sc(b),v--;for(;y--;){if(m===b||b!==null&&m===b.alternate)break t;m=sc(m),b=sc(b)}m=null}else m=null;p!==null&&uN(f,h,p,m,!1),g!==null&&x!==null&&uN(f,x,g,m,!0)}}e:{if(h=u?kc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=jB;else if(rN(h))if(RC)k=PB;else{k=NB;var N=SB}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=TB);if(k&&(k=k(e,u))){MC(f,k,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&P1(h,"number",h.value)}switch(N=u?kc(u):window,e){case"focusin":(rN(N)||N.contentEditable==="true")&&(bc=N,B1=u,pf=null);break;case"focusout":pf=B1=bc=null;break;case"mousedown":$1=!0;break;case"contextmenu":case"mouseup":case"dragend":$1=!1,oN(f,r,d);break;case"selectionchange":if(AB)break;case"keydown":case"keyup":oN(f,r,d)}var S;if(Dk)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yc?CC(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(OC&&r.locale!=="ko"&&(yc||T!=="onCompositionStart"?T==="onCompositionEnd"&&yc&&(S=AC()):(oo=d,Ak="value"in oo?oo.value:oo.textContent,yc=!0)),N=Gp(u,T),0<N.length&&(T=new ZS(T,e,null,r,d),f.push({event:T,listeners:N}),S?T.data=S:(S=DC(r),S!==null&&(T.data=S)))),(S=vB?yB(e,r):bB(e,r))&&(u=Gp(u,"onBeforeInput"),0<u.length&&(d=new ZS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}zC(f,t)})}function Gf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=$f(e,r),i!=null&&n.unshift(Gf(e,i,a)),i=$f(e,t),i!=null&&n.push(Gf(e,i,a))),e=e.return}return n}function sc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uN(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=$f(r,i),c!=null&&o.unshift(Gf(r,c,l))):a||(c=$f(r,i),c!=null&&o.push(Gf(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var MB=/\r\n?/g,RB=/\u0000|\uFFFD/g;function dN(e){return(typeof e=="string"?e:""+e).replace(MB,`
`).replace(RB,"")}function B0(e,t,r){if(t=dN(t),dN(e)!==t&&r)throw Error(Ue(425))}function qp(){}var U1=null,K1=null;function V1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H1=typeof setTimeout=="function"?setTimeout:void 0,IB=typeof clearTimeout=="function"?clearTimeout:void 0,fN=typeof Promise=="function"?Promise:void 0,LB=typeof queueMicrotask=="function"?queueMicrotask:typeof fN<"u"?function(e){return fN.resolve(null).then(e).catch(FB)}:H1;function FB(e){setTimeout(function(){throw e})}function $v(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Vf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Vf(t)}function vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vu=Math.random().toString(36).slice(2),Pi="__reactFiber$"+Vu,qf="__reactProps$"+Vu,cs="__reactContainer$"+Vu,z1="__reactEvents$"+Vu,BB="__reactListeners$"+Vu,$B="__reactHandles$"+Vu;function fl(e){var t=e[Pi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cs]||r[Pi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hN(e);e!==null;){if(r=e[Pi])return r;e=hN(e)}return t}e=r,r=e.parentNode}return null}function r0(e){return e=e[Pi]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Yg(e){return e[qf]||null}var W1=[],jc=-1;function Bo(e){return{current:e}}function ir(e){0>jc||(e.current=W1[jc],W1[jc]=null,jc--)}function Zt(e,t){jc++,W1[jc]=e.current,e.current=t}var Oo={},In=Bo(Oo),sa=Bo(!1),El=Oo;function iu(e,t){var r=e.type.contextTypes;if(!r)return Oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function oa(e){return e=e.childContextTypes,e!=null}function Yp(){ir(sa),ir(In)}function pN(e,t,r){if(In.current!==Oo)throw Error(Ue(168));Zt(In,t),Zt(sa,r)}function GC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ue(108,S8(e)||"Unknown",a));return vr({},r,n)}function Xp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,El=In.current,Zt(In,e),Zt(sa,sa.current),!0}function mN(e,t,r){var n=e.stateNode;if(!n)throw Error(Ue(169));r?(e=GC(e,t,El),n.__reactInternalMemoizedMergedChildContext=e,ir(sa),ir(In),Zt(In,e)):ir(sa),Zt(sa,r)}var Gi=null,Xg=!1,Uv=!1;function qC(e){Gi===null?Gi=[e]:Gi.push(e)}function UB(e){Xg=!0,qC(e)}function $o(){if(!Uv&&Gi!==null){Uv=!0;var e=0,t=Kt;try{var r=Gi;for(Kt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gi=null,Xg=!1}catch(a){throw Gi!==null&&(Gi=Gi.slice(e+1)),yC(Tk,$o),a}finally{Kt=t,Uv=!1}}return null}var Sc=[],Nc=0,Jp=null,Zp=0,$a=[],Ua=0,Al=null,qi=1,Yi="";function tl(e,t){Sc[Nc++]=Zp,Sc[Nc++]=Jp,Jp=e,Zp=t}function YC(e,t,r){$a[Ua++]=qi,$a[Ua++]=Yi,$a[Ua++]=Al,Al=e;var n=qi;e=Yi;var a=32-pi(n)-1;n&=~(1<<a),r+=1;var i=32-pi(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,qi=1<<32-pi(t)+a|r<<a|n,Yi=i+e}else qi=1<<i|r<<a|n,Yi=e}function Rk(e){e.return!==null&&(tl(e,1),YC(e,1,0))}function Ik(e){for(;e===Jp;)Jp=Sc[--Nc],Sc[Nc]=null,Zp=Sc[--Nc],Sc[Nc]=null;for(;e===Al;)Al=$a[--Ua],$a[Ua]=null,Yi=$a[--Ua],$a[Ua]=null,qi=$a[--Ua],$a[Ua]=null}var Na=null,Sa=null,lr=!1,ui=null;function XC(e,t){var r=Va(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Na=e,Sa=vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Na=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Al!==null?{id:qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Va(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Na=e,Sa=null,!0):!1;default:return!1}}function G1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function q1(e){if(lr){var t=Sa;if(t){var r=t;if(!gN(e,t)){if(G1(e))throw Error(Ue(418));t=vo(r.nextSibling);var n=Na;t&&gN(e,t)?XC(n,r):(e.flags=e.flags&-4097|2,lr=!1,Na=e)}}else{if(G1(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,lr=!1,Na=e}}}function xN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Na=e}function $0(e){if(e!==Na)return!1;if(!lr)return xN(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!V1(e.type,e.memoizedProps)),t&&(t=Sa)){if(G1(e))throw JC(),Error(Ue(418));for(;t;)XC(e,t),t=vo(t.nextSibling)}if(xN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sa=vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=Na?vo(e.stateNode.nextSibling):null;return!0}function JC(){for(var e=Sa;e;)e=vo(e.nextSibling)}function su(){Sa=Na=null,lr=!1}function Lk(e){ui===null?ui=[e]:ui.push(e)}var KB=vs.ReactCurrentBatchConfig;function vd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ue(309));var n=r.stateNode}if(!n)throw Error(Ue(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ue(284));if(!r._owner)throw Error(Ue(290,e))}return e}function U0(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vN(e){var t=e._init;return t(e._payload)}function ZC(e){function t(b,y){if(e){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=ko(b,y),b.index=0,b.sibling=null,b}function i(b,y,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,v,w){return y===null||y.tag!==6?(y=qv(v,b.mode,w),y.return=b,y):(y=a(y,v),y.return=b,y)}function c(b,y,v,w){var k=v.type;return k===vc?d(b,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===eo&&vN(k)===y.type)?(w=a(y,v.props),w.ref=vd(b,y,v),w.return=b,w):(w=Rp(v.type,v.key,v.props,null,b.mode,w),w.ref=vd(b,y,v),w.return=b,w)}function u(b,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Yv(v,b.mode,w),y.return=b,y):(y=a(y,v.children||[]),y.return=b,y)}function d(b,y,v,w,k){return y===null||y.tag!==7?(y=kl(v,b.mode,w,k),y.return=b,y):(y=a(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qv(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case A0:return v=Rp(y.type,y.key,y.props,null,b.mode,v),v.ref=vd(b,null,y),v.return=b,v;case xc:return y=Yv(y,b.mode,v),y.return=b,y;case eo:var w=y._init;return f(b,w(y._payload),v)}if(tf(y)||hd(y))return y=kl(y,b.mode,v,null),y.return=b,y;U0(b,y)}return null}function h(b,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(b,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case A0:return v.key===k?c(b,y,v,w):null;case xc:return v.key===k?u(b,y,v,w):null;case eo:return k=v._init,h(b,y,k(v._payload),w)}if(tf(v)||hd(v))return k!==null?null:d(b,y,v,w,null);U0(b,v)}return null}function p(b,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(v)||null,l(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A0:return b=b.get(w.key===null?v:w.key)||null,c(y,b,w,k);case xc:return b=b.get(w.key===null?v:w.key)||null,u(y,b,w,k);case eo:var N=w._init;return p(b,y,v,N(w._payload),k)}if(tf(w)||hd(w))return b=b.get(v)||null,d(y,b,w,k,null);U0(y,w)}return null}function g(b,y,v,w){for(var k=null,N=null,S=y,T=y=0,P=null;S!==null&&T<v.length;T++){S.index>T?(P=S,S=null):P=S.sibling;var _=h(b,S,v[T],w);if(_===null){S===null&&(S=P);break}e&&S&&_.alternate===null&&t(b,S),y=i(_,y,T),N===null?k=_:N.sibling=_,N=_,S=P}if(T===v.length)return r(b,S),lr&&tl(b,T),k;if(S===null){for(;T<v.length;T++)S=f(b,v[T],w),S!==null&&(y=i(S,y,T),N===null?k=S:N.sibling=S,N=S);return lr&&tl(b,T),k}for(S=n(b,S);T<v.length;T++)P=p(S,b,T,v[T],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?T:P.key),y=i(P,y,T),N===null?k=P:N.sibling=P,N=P);return e&&S.forEach(function(O){return t(b,O)}),lr&&tl(b,T),k}function m(b,y,v,w){var k=hd(v);if(typeof k!="function")throw Error(Ue(150));if(v=k.call(v),v==null)throw Error(Ue(151));for(var N=k=null,S=y,T=y=0,P=null,_=v.next();S!==null&&!_.done;T++,_=v.next()){S.index>T?(P=S,S=null):P=S.sibling;var O=h(b,S,_.value,w);if(O===null){S===null&&(S=P);break}e&&S&&O.alternate===null&&t(b,S),y=i(O,y,T),N===null?k=O:N.sibling=O,N=O,S=P}if(_.done)return r(b,S),lr&&tl(b,T),k;if(S===null){for(;!_.done;T++,_=v.next())_=f(b,_.value,w),_!==null&&(y=i(_,y,T),N===null?k=_:N.sibling=_,N=_);return lr&&tl(b,T),k}for(S=n(b,S);!_.done;T++,_=v.next())_=p(S,b,T,_.value,w),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?T:_.key),y=i(_,y,T),N===null?k=_:N.sibling=_,N=_);return e&&S.forEach(function(E){return t(b,E)}),lr&&tl(b,T),k}function x(b,y,v,w){if(typeof v=="object"&&v!==null&&v.type===vc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case A0:e:{for(var k=v.key,N=y;N!==null;){if(N.key===k){if(k=v.type,k===vc){if(N.tag===7){r(b,N.sibling),y=a(N,v.props.children),y.return=b,b=y;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===eo&&vN(k)===N.type){r(b,N.sibling),y=a(N,v.props),y.ref=vd(b,N,v),y.return=b,b=y;break e}r(b,N);break}else t(b,N);N=N.sibling}v.type===vc?(y=kl(v.props.children,b.mode,w,v.key),y.return=b,b=y):(w=Rp(v.type,v.key,v.props,null,b.mode,w),w.ref=vd(b,y,v),w.return=b,b=w)}return o(b);case xc:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(b,y.sibling),y=a(y,v.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=Yv(v,b.mode,w),y.return=b,b=y}return o(b);case eo:return N=v._init,x(b,y,N(v._payload),w)}if(tf(v))return g(b,y,v,w);if(hd(v))return m(b,y,v,w);U0(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,v),y.return=b,b=y):(r(b,y),y=qv(v,b.mode,w),y.return=b,b=y),o(b)):r(b,y)}return x}var ou=ZC(!0),QC=ZC(!1),Qp=Bo(null),em=null,Tc=null,Fk=null;function Bk(){Fk=Tc=em=null}function $k(e){var t=Qp.current;ir(Qp),e._currentValue=t}function Y1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function zc(e,t){em=e,Fk=Tc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(na=!0),e.firstContext=null)}function Wa(e){var t=e._currentValue;if(Fk!==e)if(e={context:e,memoizedValue:t,next:null},Tc===null){if(em===null)throw Error(Ue(308));Tc=e,em.dependencies={lanes:0,firstContext:e}}else Tc=Tc.next=e;return t}var hl=null;function Uk(e){hl===null?hl=[e]:hl.push(e)}function e3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Uk(t)):(r.next=a.next,a.next=r),t.interleaved=r,us(e,n)}function us(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var to=!1;function Kk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,At&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,us(e,r)}return a=n.interleaved,a===null?(t.next=t,Uk(n)):(t.next=a.next,a.next=t),n.interleaved=t,us(e,r)}function Ep(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pk(e,r)}}function yN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tm(e,t,r,n){var a=e.updateQueue;to=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=vr({},f,h);break e;case 2:to=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Cl|=o,e.lanes=o,e.memoizedState=f}}function bN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ue(191,a));a.call(n)}}}var n0={},Oi=Bo(n0),Yf=Bo(n0),Xf=Bo(n0);function pl(e){if(e===n0)throw Error(Ue(174));return e}function Vk(e,t){switch(Zt(Xf,t),Zt(Yf,e),Zt(Oi,n0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:E1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=E1(t,e)}ir(Oi),Zt(Oi,t)}function lu(){ir(Oi),ir(Yf),ir(Xf)}function r3(e){pl(Xf.current);var t=pl(Oi.current),r=E1(t,e.type);t!==r&&(Zt(Yf,e),Zt(Oi,r))}function Hk(e){Yf.current===e&&(ir(Oi),ir(Yf))}var hr=Bo(0);function rm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kv=[];function zk(){for(var e=0;e<Kv.length;e++)Kv[e]._workInProgressVersionPrimary=null;Kv.length=0}var Ap=vs.ReactCurrentDispatcher,Vv=vs.ReactCurrentBatchConfig,Ol=0,mr=null,Hr=null,Qr=null,nm=!1,mf=!1,Jf=0,VB=0;function Sn(){throw Error(Ue(321))}function Wk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bi(e[r],t[r]))return!1;return!0}function Gk(e,t,r,n,a,i){if(Ol=i,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ap.current=e===null||e.memoizedState===null?GB:qB,e=r(n,a),mf){i=0;do{if(mf=!1,Jf=0,25<=i)throw Error(Ue(301));i+=1,Qr=Hr=null,t.updateQueue=null,Ap.current=YB,e=r(n,a)}while(mf)}if(Ap.current=am,t=Hr!==null&&Hr.next!==null,Ol=0,Qr=Hr=mr=null,nm=!1,t)throw Error(Ue(300));return e}function qk(){var e=Jf!==0;return Jf=0,e}function Ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?mr.memoizedState=Qr=e:Qr=Qr.next=e,Qr}function Ga(){if(Hr===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=Hr.next;var t=Qr===null?mr.memoizedState:Qr.next;if(t!==null)Qr=t,Hr=e;else{if(e===null)throw Error(Ue(310));Hr=e,e={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},Qr===null?mr.memoizedState=Qr=e:Qr=Qr.next=e}return Qr}function Zf(e,t){return typeof t=="function"?t(e):t}function Hv(e){var t=Ga(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var n=Hr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ol&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,mr.lanes|=d,Cl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,bi(n,t.memoizedState)||(na=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,mr.lanes|=i,Cl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zv(e){var t=Ga(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);bi(i,t.memoizedState)||(na=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function n3(){}function a3(e,t){var r=mr,n=Ga(),a=t(),i=!bi(n.memoizedState,a);if(i&&(n.memoizedState=a,na=!0),n=n.queue,Yk(o3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Qr!==null&&Qr.memoizedState.tag&1){if(r.flags|=2048,Qf(9,s3.bind(null,r,n,a,t),void 0,null),an===null)throw Error(Ue(349));Ol&30||i3(r,t,a)}return a}function i3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s3(e,t,r,n){t.value=r,t.getSnapshot=n,l3(t)&&c3(e)}function o3(e,t,r){return r(function(){l3(t)&&c3(e)})}function l3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bi(e,r)}catch{return!0}}function c3(e){var t=us(e,1);t!==null&&mi(t,e,1,-1)}function wN(e){var t=Ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:e},t.queue=e,e=e.dispatch=WB.bind(null,mr,e),[t.memoizedState,e]}function Qf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function u3(){return Ga().memoizedState}function Op(e,t,r,n){var a=Ti();mr.flags|=e,a.memoizedState=Qf(1|t,r,void 0,n===void 0?null:n)}function Jg(e,t,r,n){var a=Ga();n=n===void 0?null:n;var i=void 0;if(Hr!==null){var o=Hr.memoizedState;if(i=o.destroy,n!==null&&Wk(n,o.deps)){a.memoizedState=Qf(t,r,i,n);return}}mr.flags|=e,a.memoizedState=Qf(1|t,r,i,n)}function kN(e,t){return Op(8390656,8,e,t)}function Yk(e,t){return Jg(2048,8,e,t)}function d3(e,t){return Jg(4,2,e,t)}function f3(e,t){return Jg(4,4,e,t)}function h3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p3(e,t,r){return r=r!=null?r.concat([e]):null,Jg(4,4,h3.bind(null,t,e),r)}function Xk(){}function m3(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function g3(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function x3(e,t,r){return Ol&21?(bi(r,t)||(r=kC(),mr.lanes|=r,Cl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,na=!0),e.memoizedState=r)}function HB(e,t){var r=Kt;Kt=r!==0&&4>r?r:4,e(!0);var n=Vv.transition;Vv.transition={};try{e(!1),t()}finally{Kt=r,Vv.transition=n}}function v3(){return Ga().memoizedState}function zB(e,t,r){var n=wo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},y3(e))b3(t,r);else if(r=e3(e,t,r,n),r!==null){var a=Xn();mi(r,e,n,a),w3(r,t,n)}}function WB(e,t,r){var n=wo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(y3(e))b3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,bi(l,o)){var c=t.interleaved;c===null?(a.next=a,Uk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=e3(e,t,a,n),r!==null&&(a=Xn(),mi(r,e,n,a),w3(r,t,n))}}function y3(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function b3(e,t){mf=nm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function w3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pk(e,r)}}var am={readContext:Wa,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},GB={readContext:Wa,useCallback:function(e,t){return Ti().memoizedState=[e,t===void 0?null:t],e},useContext:Wa,useEffect:kN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Op(4194308,4,h3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Op(4194308,4,e,t)},useInsertionEffect:function(e,t){return Op(4,2,e,t)},useMemo:function(e,t){var r=Ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zB.bind(null,mr,e),[n.memoizedState,e]},useRef:function(e){var t=Ti();return e={current:e},t.memoizedState=e},useState:wN,useDebugValue:Xk,useDeferredValue:function(e){return Ti().memoizedState=e},useTransition:function(){var e=wN(!1),t=e[0];return e=HB.bind(null,e[1]),Ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mr,a=Ti();if(lr){if(r===void 0)throw Error(Ue(407));r=r()}else{if(r=t(),an===null)throw Error(Ue(349));Ol&30||i3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,kN(o3.bind(null,n,i,e),[e]),n.flags|=2048,Qf(9,s3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ti(),t=an.identifierPrefix;if(lr){var r=Yi,n=qi;r=(n&~(1<<32-pi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=VB++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qB={readContext:Wa,useCallback:m3,useContext:Wa,useEffect:Yk,useImperativeHandle:p3,useInsertionEffect:d3,useLayoutEffect:f3,useMemo:g3,useReducer:Hv,useRef:u3,useState:function(){return Hv(Zf)},useDebugValue:Xk,useDeferredValue:function(e){var t=Ga();return x3(t,Hr.memoizedState,e)},useTransition:function(){var e=Hv(Zf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:n3,useSyncExternalStore:a3,useId:v3,unstable_isNewReconciler:!1},YB={readContext:Wa,useCallback:m3,useContext:Wa,useEffect:Yk,useImperativeHandle:p3,useInsertionEffect:d3,useLayoutEffect:f3,useMemo:g3,useReducer:zv,useRef:u3,useState:function(){return zv(Zf)},useDebugValue:Xk,useDeferredValue:function(e){var t=Ga();return Hr===null?t.memoizedState=e:x3(t,Hr.memoizedState,e)},useTransition:function(){var e=zv(Zf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:n3,useSyncExternalStore:a3,useId:v3,unstable_isNewReconciler:!1};function si(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function X1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zg={isMounted:function(e){return(e=e._reactInternals)?zl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xn(),a=wo(e),i=es(n,a);i.payload=t,r!=null&&(i.callback=r),t=yo(e,i,a),t!==null&&(mi(t,e,a,n),Ep(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xn(),a=wo(e),i=es(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=yo(e,i,a),t!==null&&(mi(t,e,a,n),Ep(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xn(),n=wo(e),a=es(r,n);a.tag=2,t!=null&&(a.callback=t),t=yo(e,a,n),t!==null&&(mi(t,e,n,r),Ep(t,e,n))}};function jN(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!zf(r,n)||!zf(a,i):!0}function k3(e,t,r){var n=!1,a=Oo,i=t.contextType;return typeof i=="object"&&i!==null?i=Wa(i):(a=oa(t)?El:In.current,n=t.contextTypes,i=(n=n!=null)?iu(e,a):Oo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function SN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zg.enqueueReplaceState(t,t.state,null)}function J1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Kk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Wa(i):(i=oa(t)?El:In.current,a.context=iu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(X1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Zg.enqueueReplaceState(a,a.state,null),tm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function cu(e,t){try{var r="",n=t;do r+=j8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Wv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Z1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var XB=typeof WeakMap=="function"?WeakMap:Map;function j3(e,t,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sm||(sm=!0,lb=n),Z1(e,t)},r}function S3(e,t,r){r=es(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Z1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Z1(e,t),typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function NN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new XB;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=u$.bind(null,e,t,r),t.then(e,e))}function TN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PN(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=es(-1,1),t.tag=2,yo(r,t,1))),r.lanes|=1),e)}var JB=vs.ReactCurrentOwner,na=!1;function Hn(e,t,r,n){t.child=e===null?QC(t,null,r,n):ou(t,e.child,r,n)}function _N(e,t,r,n,a){r=r.render;var i=t.ref;return zc(t,a),n=Gk(e,t,r,n,i,a),r=qk(),e!==null&&!na?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ds(e,t,a)):(lr&&r&&Rk(t),t.flags|=1,Hn(e,t,n,a),t.child)}function EN(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!a2(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,N3(e,t,i,n,a)):(e=Rp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zf,r(o,n)&&e.ref===t.ref)return ds(e,t,a)}return t.flags|=1,e=ko(i,n),e.ref=t.ref,e.return=t,t.child=e}function N3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(zf(i,n)&&e.ref===t.ref)if(na=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(na=!0);else return t.lanes=e.lanes,ds(e,t,a)}return Q1(e,t,r,n,a)}function T3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(_c,xa),xa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zt(_c,xa),xa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Zt(_c,xa),xa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Zt(_c,xa),xa|=n;return Hn(e,t,a,r),t.child}function P3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Q1(e,t,r,n,a){var i=oa(r)?El:In.current;return i=iu(t,i),zc(t,a),r=Gk(e,t,r,n,i,a),n=qk(),e!==null&&!na?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ds(e,t,a)):(lr&&n&&Rk(t),t.flags|=1,Hn(e,t,r,a),t.child)}function AN(e,t,r,n,a){if(oa(r)){var i=!0;Xp(t)}else i=!1;if(zc(t,a),t.stateNode===null)Cp(e,t),k3(t,r,n),J1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wa(u):(u=oa(r)?El:In.current,u=iu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&SN(t,o,n,u),to=!1;var h=t.memoizedState;o.state=h,tm(t,n,o,a),c=t.memoizedState,l!==n||h!==c||sa.current||to?(typeof d=="function"&&(X1(t,r,d,n),c=t.memoizedState),(l=to||jN(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,t3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:si(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wa(c):(c=oa(r)?El:In.current,c=iu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&SN(t,o,n,c),to=!1,h=t.memoizedState,o.state=h,tm(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||sa.current||to?(typeof p=="function"&&(X1(t,r,p,n),g=t.memoizedState),(u=to||jN(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return eb(e,t,r,n,i,a)}function eb(e,t,r,n,a,i){P3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&mN(t,r,!1),ds(e,t,i);n=t.stateNode,JB.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ou(t,e.child,null,i),t.child=ou(t,null,l,i)):Hn(e,t,l,i),t.memoizedState=n.state,a&&mN(t,r,!0),t.child}function _3(e){var t=e.stateNode;t.pendingContext?pN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pN(e,t.context,!1),Vk(e,t.containerInfo)}function ON(e,t,r,n,a){return su(),Lk(a),t.flags|=256,Hn(e,t,r,n),t.child}var tb={dehydrated:null,treeContext:null,retryLane:0};function rb(e){return{baseLanes:e,cachePool:null,transitions:null}}function E3(e,t,r){var n=t.pendingProps,a=hr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Zt(hr,a&1),e===null)return q1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tx(o,n,0,null),e=kl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rb(r),t.memoizedState=tb,e):Jk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return ZB(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ko(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ko(l,i):(i=kl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?rb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=tb,n}return i=e.child,e=i.sibling,n=ko(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jk(e,t){return t=tx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function K0(e,t,r,n){return n!==null&&Lk(n),ou(t,e.child,null,r),e=Jk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZB(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Wv(Error(Ue(422))),K0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=tx({mode:"visible",children:n.children},a,0,null),i=kl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ou(t,e.child,null,o),t.child.memoizedState=rb(o),t.memoizedState=tb,i);if(!(t.mode&1))return K0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ue(419)),n=Wv(i,n,void 0),K0(e,t,o,n)}if(l=(o&e.childLanes)!==0,na||l){if(n=an,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,us(e,a),mi(n,e,a,-1))}return n2(),n=Wv(Error(Ue(421))),K0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=d$.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Sa=vo(a.nextSibling),Na=t,lr=!0,ui=null,e!==null&&($a[Ua++]=qi,$a[Ua++]=Yi,$a[Ua++]=Al,qi=e.id,Yi=e.overflow,Al=t),t=Jk(t,n.children),t.flags|=4096,t)}function CN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Y1(e.return,t,r)}function Gv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function A3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Hn(e,t,n.children,r),n=hr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&CN(e,r,t);else if(e.tag===19)CN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Zt(hr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&rm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gv(t,!0,r,null,i);break;case"together":Gv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ds(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,r=ko(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ko(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QB(e,t,r){switch(t.tag){case 3:_3(t),su();break;case 5:r3(t);break;case 1:oa(t.type)&&Xp(t);break;case 4:Vk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Zt(Qp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Zt(hr,hr.current&1),t.flags|=128,null):r&t.child.childLanes?E3(e,t,r):(Zt(hr,hr.current&1),e=ds(e,t,r),e!==null?e.sibling:null);Zt(hr,hr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return A3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Zt(hr,hr.current),n)break;return null;case 22:case 23:return t.lanes=0,T3(e,t,r)}return ds(e,t,r)}var O3,nb,C3,D3;O3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nb=function(){};C3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,pl(Oi.current);var i=null;switch(r){case"input":a=N1(e,a),n=N1(e,n),i=[];break;case"select":a=vr({},a,{value:void 0}),n=vr({},n,{value:void 0}),i=[];break;case"textarea":a=_1(e,a),n=_1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qp)}A1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ff.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};D3=function(e,t,r,n){r!==n&&(t.flags|=4)};function yd(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function e$(e,t,r){var n=t.pendingProps;switch(Ik(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return oa(t.type)&&Yp(),Nn(t),null;case 3:return n=t.stateNode,lu(),ir(sa),ir(In),zk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ui!==null&&(db(ui),ui=null))),nb(e,t),Nn(t),null;case 5:Hk(t);var a=pl(Xf.current);if(r=t.type,e!==null&&t.stateNode!=null)C3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ue(166));return Nn(t),null}if(e=pl(Oi.current),$0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Pi]=t,n[qf]=i,e=(t.mode&1)!==0,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(a=0;a<nf.length;a++)rr(nf[a],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":US(n,i),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rr("invalid",n);break;case"textarea":VS(n,i),rr("invalid",n)}A1(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&B0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&B0(n.textContent,l,e),a=["children",""+l]):Ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rr("scroll",n)}switch(r){case"input":O0(n),KS(n,i,!0);break;case"textarea":O0(n),HS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Pi]=t,e[qf]=n,O3(e,t,!1,!1),t.stateNode=e;e:{switch(o=O1(r,n),r){case"dialog":rr("cancel",e),rr("close",e),a=n;break;case"iframe":case"object":case"embed":rr("load",e),a=n;break;case"video":case"audio":for(a=0;a<nf.length;a++)rr(nf[a],e);a=n;break;case"source":rr("error",e),a=n;break;case"img":case"image":case"link":rr("error",e),rr("load",e),a=n;break;case"details":rr("toggle",e),a=n;break;case"input":US(e,n),a=N1(e,n),rr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=vr({},n,{value:void 0}),rr("invalid",e);break;case"textarea":VS(e,n),a=_1(e,n),rr("invalid",e);break;default:a=n}A1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bf(e,c):typeof c=="number"&&Bf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ff.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",e):c!=null&&wk(e,i,c,o))}switch(r){case"input":O0(e),KS(e,n,!1);break;case"textarea":O0(e),HS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ao(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Uc(e,!!n.multiple,i,!1):n.defaultValue!=null&&Uc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)D3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ue(166));if(r=pl(Xf.current),pl(Oi.current),$0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pi]=t,(i=n.nodeValue!==r)&&(e=Na,e!==null))switch(e.tag){case 3:B0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&B0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pi]=t,t.stateNode=n}return Nn(t),null;case 13:if(ir(hr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&Sa!==null&&t.mode&1&&!(t.flags&128))JC(),su(),t.flags|=98560,i=!1;else if(i=$0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ue(317));i[Pi]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nn(t),i=!1}else ui!==null&&(db(ui),ui=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Wr===0&&(Wr=3):n2())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return lu(),nb(e,t),e===null&&Wf(t.stateNode.containerInfo),Nn(t),null;case 10:return $k(t.type._context),Nn(t),null;case 17:return oa(t.type)&&Yp(),Nn(t),null;case 19:if(ir(hr),i=t.memoizedState,i===null)return Nn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)yd(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rm(e),o!==null){for(t.flags|=128,yd(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Zt(hr,hr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nr()>uu&&(t.flags|=128,n=!0,yd(i,!1),t.lanes=4194304)}else{if(!n)if(e=rm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lr)return Nn(t),null}else 2*Nr()-i.renderingStartTime>uu&&r!==1073741824&&(t.flags|=128,n=!0,yd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nr(),t.sibling=null,r=hr.current,Zt(hr,n?r&1|2:r&1),t):(Nn(t),null);case 22:case 23:return r2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?xa&1073741824&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function t$(e,t){switch(Ik(t),t.tag){case 1:return oa(t.type)&&Yp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lu(),ir(sa),ir(In),zk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hk(t),null;case 13:if(ir(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(hr),null;case 4:return lu(),null;case 10:return $k(t.type._context),null;case 22:case 23:return r2(),null;case 24:return null;default:return null}}var V0=!1,On=!1,r$=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Pc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yr(e,t,n)}else r.current=null}function ab(e,t,r){try{r()}catch(n){yr(e,t,n)}}var DN=!1;function n$(e,t){if(U1=zp,e=FC(),Mk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(K1={focusedElem:e,selectionRange:r},zp=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:si(t.type,m),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(w){yr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return g=DN,DN=!1,g}function gf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ab(t,r,i)}a=a.next}while(a!==n)}}function Qg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ib(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function M3(e){var t=e.alternate;t!==null&&(e.alternate=null,M3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pi],delete t[qf],delete t[z1],delete t[BB],delete t[$B])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R3(e){return e.tag===5||e.tag===3||e.tag===4}function MN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qp));else if(n!==4&&(e=e.child,e!==null))for(sb(e,t,r),e=e.sibling;e!==null;)sb(e,t,r),e=e.sibling}function ob(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ob(e,t,r),e=e.sibling;e!==null;)ob(e,t,r),e=e.sibling}var hn=null,oi=!1;function Gs(e,t,r){for(r=r.child;r!==null;)I3(e,t,r),r=r.sibling}function I3(e,t,r){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(zg,r)}catch{}switch(r.tag){case 5:On||Pc(r,t);case 6:var n=hn,a=oi;hn=null,Gs(e,t,r),hn=n,oi=a,hn!==null&&(oi?(e=hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(oi?(e=hn,r=r.stateNode,e.nodeType===8?$v(e.parentNode,r):e.nodeType===1&&$v(e,r),Vf(e)):$v(hn,r.stateNode));break;case 4:n=hn,a=oi,hn=r.stateNode.containerInfo,oi=!0,Gs(e,t,r),hn=n,oi=a;break;case 0:case 11:case 14:case 15:if(!On&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ab(r,t,o),a=a.next}while(a!==n)}Gs(e,t,r);break;case 1:if(!On&&(Pc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yr(r,t,l)}Gs(e,t,r);break;case 21:Gs(e,t,r);break;case 22:r.mode&1?(On=(n=On)||r.memoizedState!==null,Gs(e,t,r),On=n):Gs(e,t,r);break;default:Gs(e,t,r)}}function RN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new r$),t.forEach(function(n){var a=f$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ri(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:hn=l.stateNode,oi=!1;break e;case 3:hn=l.stateNode.containerInfo,oi=!0;break e;case 4:hn=l.stateNode.containerInfo,oi=!0;break e}l=l.return}if(hn===null)throw Error(Ue(160));I3(i,o,a),hn=null,oi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){yr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L3(t,e),t=t.sibling}function L3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ri(t,e),ji(e),n&4){try{gf(3,e,e.return),Qg(3,e)}catch(m){yr(e,e.return,m)}try{gf(5,e,e.return)}catch(m){yr(e,e.return,m)}}break;case 1:ri(t,e),ji(e),n&512&&r!==null&&Pc(r,r.return);break;case 5:if(ri(t,e),ji(e),n&512&&r!==null&&Pc(r,r.return),e.flags&32){var a=e.stateNode;try{Bf(a,"")}catch(m){yr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iC(a,i),O1(l,o);var u=O1(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?uC(a,f):d==="dangerouslySetInnerHTML"?lC(a,f):d==="children"?Bf(a,f):wk(a,d,f,u)}switch(l){case"input":T1(a,i);break;case"textarea":sC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Uc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Uc(a,!!i.multiple,i.defaultValue,!0):Uc(a,!!i.multiple,i.multiple?[]:"",!1))}a[qf]=i}catch(m){yr(e,e.return,m)}}break;case 6:if(ri(t,e),ji(e),n&4){if(e.stateNode===null)throw Error(Ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){yr(e,e.return,m)}}break;case 3:if(ri(t,e),ji(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vf(t.containerInfo)}catch(m){yr(e,e.return,m)}break;case 4:ri(t,e),ji(e);break;case 13:ri(t,e),ji(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(e2=Nr())),n&4&&RN(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(On=(u=On)||d,ri(t,e),On=u):ri(t,e),ji(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Je=e,d=e.child;d!==null;){for(f=Je=d;Je!==null;){switch(h=Je,p=h.child,h.tag){case 0:case 11:case 14:case 15:gf(4,h,h.return);break;case 1:Pc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){yr(n,r,m)}}break;case 5:Pc(h,h.return);break;case 22:if(h.memoizedState!==null){LN(f);continue}}p!==null?(p.return=h,Je=p):LN(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cC("display",o))}catch(m){yr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){yr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ri(t,e),ji(e),n&4&&RN(e);break;case 21:break;default:ri(t,e),ji(e)}}function ji(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R3(r)){var n=r;break e}r=r.return}throw Error(Ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Bf(a,""),n.flags&=-33);var i=MN(e);ob(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=MN(e);sb(e,l,o);break;default:throw Error(Ue(161))}}catch(c){yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a$(e,t,r){Je=e,F3(e)}function F3(e,t,r){for(var n=(e.mode&1)!==0;Je!==null;){var a=Je,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||V0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||On;l=V0;var u=On;if(V0=o,(On=c)&&!u)for(Je=a;Je!==null;)o=Je,c=o.child,o.tag===22&&o.memoizedState!==null?FN(a):c!==null?(c.return=o,Je=c):FN(a);for(;i!==null;)Je=i,F3(i),i=i.sibling;Je=a,V0=l,On=u}IN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Je=i):IN(e)}}function IN(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||Qg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!On)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:si(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bN(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}On||t.flags&512&&ib(t)}catch(h){yr(t,t.return,h)}}if(t===e){Je=null;break}if(r=t.sibling,r!==null){r.return=t.return,Je=r;break}Je=t.return}}function LN(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Je=r;break}Je=t.return}}function FN(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qg(4,t)}catch(c){yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){yr(t,a,c)}}var i=t.return;try{ib(t)}catch(c){yr(t,i,c)}break;case 5:var o=t.return;try{ib(t)}catch(c){yr(t,o,c)}}}catch(c){yr(t,t.return,c)}if(t===e){Je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Je=l;break}Je=t.return}}var i$=Math.ceil,im=vs.ReactCurrentDispatcher,Zk=vs.ReactCurrentOwner,za=vs.ReactCurrentBatchConfig,At=0,an=null,Dr=null,xn=0,xa=0,_c=Bo(0),Wr=0,eh=null,Cl=0,ex=0,Qk=0,xf=null,ra=null,e2=0,uu=1/0,zi=null,sm=!1,lb=null,bo=null,H0=!1,lo=null,om=0,vf=0,cb=null,Dp=-1,Mp=0;function Xn(){return At&6?Nr():Dp!==-1?Dp:Dp=Nr()}function wo(e){return e.mode&1?At&2&&xn!==0?xn&-xn:KB.transition!==null?(Mp===0&&(Mp=kC()),Mp):(e=Kt,e!==0||(e=window.event,e=e===void 0?16:EC(e.type)),e):1}function mi(e,t,r,n){if(50<vf)throw vf=0,cb=null,Error(Ue(185));e0(e,r,n),(!(At&2)||e!==an)&&(e===an&&(!(At&2)&&(ex|=r),Wr===4&&io(e,xn)),la(e,n),r===1&&At===0&&!(t.mode&1)&&(uu=Nr()+500,Xg&&$o()))}function la(e,t){var r=e.callbackNode;K8(e,t);var n=Hp(e,e===an?xn:0);if(n===0)r!==null&&GS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&GS(r),t===1)e.tag===0?UB(BN.bind(null,e)):qC(BN.bind(null,e)),LB(function(){!(At&6)&&$o()}),r=null;else{switch(jC(n)){case 1:r=Tk;break;case 4:r=bC;break;case 16:r=Vp;break;case 536870912:r=wC;break;default:r=Vp}r=W3(r,B3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B3(e,t){if(Dp=-1,Mp=0,At&6)throw Error(Ue(327));var r=e.callbackNode;if(Wc()&&e.callbackNode!==r)return null;var n=Hp(e,e===an?xn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lm(e,n);else{t=n;var a=At;At|=2;var i=U3();(an!==e||xn!==t)&&(zi=null,uu=Nr()+500,wl(e,t));do try{l$();break}catch(l){$3(e,l)}while(!0);Bk(),im.current=i,At=a,Dr!==null?t=0:(an=null,xn=0,t=Wr)}if(t!==0){if(t===2&&(a=I1(e),a!==0&&(n=a,t=ub(e,a))),t===1)throw r=eh,wl(e,0),io(e,n),la(e,Nr()),r;if(t===6)io(e,n);else{if(a=e.current.alternate,!(n&30)&&!s$(a)&&(t=lm(e,n),t===2&&(i=I1(e),i!==0&&(n=i,t=ub(e,i))),t===1))throw r=eh,wl(e,0),io(e,n),la(e,Nr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ue(345));case 2:rl(e,ra,zi);break;case 3:if(io(e,n),(n&130023424)===n&&(t=e2+500-Nr(),10<t)){if(Hp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Xn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=H1(rl.bind(null,e,ra,zi),t);break}rl(e,ra,zi);break;case 4:if(io(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-pi(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*i$(n/1960))-n,10<n){e.timeoutHandle=H1(rl.bind(null,e,ra,zi),n);break}rl(e,ra,zi);break;case 5:rl(e,ra,zi);break;default:throw Error(Ue(329))}}}return la(e,Nr()),e.callbackNode===r?B3.bind(null,e):null}function ub(e,t){var r=xf;return e.current.memoizedState.isDehydrated&&(wl(e,t).flags|=256),e=lm(e,t),e!==2&&(t=ra,ra=r,t!==null&&db(t)),e}function db(e){ra===null?ra=e:ra.push.apply(ra,e)}function s$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!bi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function io(e,t){for(t&=~Qk,t&=~ex,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pi(t),n=1<<r;e[r]=-1,t&=~n}}function BN(e){if(At&6)throw Error(Ue(327));Wc();var t=Hp(e,0);if(!(t&1))return la(e,Nr()),null;var r=lm(e,t);if(e.tag!==0&&r===2){var n=I1(e);n!==0&&(t=n,r=ub(e,n))}if(r===1)throw r=eh,wl(e,0),io(e,t),la(e,Nr()),r;if(r===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rl(e,ra,zi),la(e,Nr()),null}function t2(e,t){var r=At;At|=1;try{return e(t)}finally{At=r,At===0&&(uu=Nr()+500,Xg&&$o())}}function Dl(e){lo!==null&&lo.tag===0&&!(At&6)&&Wc();var t=At;At|=1;var r=za.transition,n=Kt;try{if(za.transition=null,Kt=1,e)return e()}finally{Kt=n,za.transition=r,At=t,!(At&6)&&$o()}}function r2(){xa=_c.current,ir(_c)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,IB(r)),Dr!==null)for(r=Dr.return;r!==null;){var n=r;switch(Ik(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yp();break;case 3:lu(),ir(sa),ir(In),zk();break;case 5:Hk(n);break;case 4:lu();break;case 13:ir(hr);break;case 19:ir(hr);break;case 10:$k(n.type._context);break;case 22:case 23:r2()}r=r.return}if(an=e,Dr=e=ko(e.current,null),xn=xa=t,Wr=0,eh=null,Qk=ex=Cl=0,ra=xf=null,hl!==null){for(t=0;t<hl.length;t++)if(r=hl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}hl=null}return e}function $3(e,t){do{var r=Dr;try{if(Bk(),Ap.current=am,nm){for(var n=mr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}nm=!1}if(Ol=0,Qr=Hr=mr=null,mf=!1,Jf=0,Zk.current=null,r===null||r.return===null){Wr=1,eh=t,Dr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=TN(o);if(p!==null){p.flags&=-257,PN(p,o,l,i,t),p.mode&1&&NN(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){NN(i,u,t),n2();break e}c=Error(Ue(426))}}else if(lr&&l.mode&1){var x=TN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PN(x,o,l,i,t),Lk(cu(c,l));break e}}i=c=cu(c,l),Wr!==4&&(Wr=2),xf===null?xf=[i]:xf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=j3(i,c,t);yN(i,b);break e;case 1:l=c;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bo===null||!bo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=S3(i,l,t);yN(i,w);break e}}i=i.return}while(i!==null)}V3(r)}catch(k){t=k,Dr===r&&r!==null&&(Dr=r=r.return);continue}break}while(!0)}function U3(){var e=im.current;return im.current=am,e===null?am:e}function n2(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),an===null||!(Cl&268435455)&&!(ex&268435455)||io(an,xn)}function lm(e,t){var r=At;At|=2;var n=U3();(an!==e||xn!==t)&&(zi=null,wl(e,t));do try{o$();break}catch(a){$3(e,a)}while(!0);if(Bk(),At=r,im.current=n,Dr!==null)throw Error(Ue(261));return an=null,xn=0,Wr}function o$(){for(;Dr!==null;)K3(Dr)}function l$(){for(;Dr!==null&&!D8();)K3(Dr)}function K3(e){var t=z3(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?V3(e):Dr=t,Zk.current=null}function V3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=t$(r,t),r!==null){r.flags&=32767,Dr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Dr=null;return}}else if(r=e$(r,t,xa),r!==null){Dr=r;return}if(t=t.sibling,t!==null){Dr=t;return}Dr=t=e}while(t!==null);Wr===0&&(Wr=5)}function rl(e,t,r){var n=Kt,a=za.transition;try{za.transition=null,Kt=1,c$(e,t,r,n)}finally{za.transition=a,Kt=n}return null}function c$(e,t,r,n){do Wc();while(lo!==null);if(At&6)throw Error(Ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(V8(e,i),e===an&&(Dr=an=null,xn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||H0||(H0=!0,W3(Vp,function(){return Wc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=za.transition,za.transition=null;var o=Kt;Kt=1;var l=At;At|=4,Zk.current=null,n$(e,r),L3(r,e),EB(K1),zp=!!U1,K1=U1=null,e.current=r,a$(r),M8(),At=l,Kt=o,za.transition=i}else e.current=r;if(H0&&(H0=!1,lo=e,om=a),i=e.pendingLanes,i===0&&(bo=null),L8(r.stateNode),la(e,Nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(sm)throw sm=!1,e=lb,lb=null,e;return om&1&&e.tag!==0&&Wc(),i=e.pendingLanes,i&1?e===cb?vf++:(vf=0,cb=e):vf=0,$o(),null}function Wc(){if(lo!==null){var e=jC(om),t=za.transition,r=Kt;try{if(za.transition=null,Kt=16>e?16:e,lo===null)var n=!1;else{if(e=lo,lo=null,om=0,At&6)throw Error(Ue(331));var a=At;for(At|=4,Je=e.current;Je!==null;){var i=Je,o=i.child;if(Je.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Je=u;Je!==null;){var d=Je;switch(d.tag){case 0:case 11:case 15:gf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Je=f;else for(;Je!==null;){d=Je;var h=d.sibling,p=d.return;if(M3(d),d===u){Je=null;break}if(h!==null){h.return=p,Je=h;break}Je=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Je=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Je=o;else e:for(;Je!==null;){if(i=Je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gf(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Je=b;break e}Je=i.return}}var y=e.current;for(Je=y;Je!==null;){o=Je;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Je=v;else e:for(o=y;Je!==null;){if(l=Je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qg(9,l)}}catch(k){yr(l,l.return,k)}if(l===o){Je=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Je=w;break e}Je=l.return}}if(At=a,$o(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(zg,e)}catch{}n=!0}return n}finally{Kt=r,za.transition=t}}return!1}function $N(e,t,r){t=cu(r,t),t=j3(e,t,1),e=yo(e,t,1),t=Xn(),e!==null&&(e0(e,1,t),la(e,t))}function yr(e,t,r){if(e.tag===3)$N(e,e,r);else for(;t!==null;){if(t.tag===3){$N(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){e=cu(r,e),e=S3(t,e,1),t=yo(t,e,1),e=Xn(),t!==null&&(e0(t,1,e),la(t,e));break}}t=t.return}}function u$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xn(),e.pingedLanes|=e.suspendedLanes&r,an===e&&(xn&r)===r&&(Wr===4||Wr===3&&(xn&130023424)===xn&&500>Nr()-e2?wl(e,0):Qk|=r),la(e,t)}function H3(e,t){t===0&&(e.mode&1?(t=M0,M0<<=1,!(M0&130023424)&&(M0=4194304)):t=1);var r=Xn();e=us(e,t),e!==null&&(e0(e,t,r),la(e,r))}function d$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),H3(e,r)}function f$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ue(314))}n!==null&&n.delete(t),H3(e,r)}var z3;z3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||sa.current)na=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return na=!1,QB(e,t,r);na=!!(e.flags&131072)}else na=!1,lr&&t.flags&1048576&&YC(t,Zp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cp(e,t),e=t.pendingProps;var a=iu(t,In.current);zc(t,r),a=Gk(null,t,n,e,a,r);var i=qk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oa(n)?(i=!0,Xp(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kk(t),a.updater=Zg,t.stateNode=a,a._reactInternals=t,J1(t,n,e,r),t=eb(null,t,n,!0,i,r)):(t.tag=0,lr&&i&&Rk(t),Hn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=p$(n),e=si(n,e),a){case 0:t=Q1(null,t,n,e,r);break e;case 1:t=AN(null,t,n,e,r);break e;case 11:t=_N(null,t,n,e,r);break e;case 14:t=EN(null,t,n,si(n.type,e),r);break e}throw Error(Ue(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),Q1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),AN(e,t,n,a,r);case 3:e:{if(_3(t),e===null)throw Error(Ue(387));n=t.pendingProps,i=t.memoizedState,a=i.element,t3(e,t),tm(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=cu(Error(Ue(423)),t),t=ON(e,t,n,r,a);break e}else if(n!==a){a=cu(Error(Ue(424)),t),t=ON(e,t,n,r,a);break e}else for(Sa=vo(t.stateNode.containerInfo.firstChild),Na=t,lr=!0,ui=null,r=QC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(su(),n===a){t=ds(e,t,r);break e}Hn(e,t,n,r)}t=t.child}return t;case 5:return r3(t),e===null&&q1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,V1(n,a)?o=null:i!==null&&V1(n,i)&&(t.flags|=32),P3(e,t),Hn(e,t,o,r),t.child;case 6:return e===null&&q1(t),null;case 13:return E3(e,t,r);case 4:return Vk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ou(t,null,n,r):Hn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),_N(e,t,n,a,r);case 7:return Hn(e,t,t.pendingProps,r),t.child;case 8:return Hn(e,t,t.pendingProps.children,r),t.child;case 12:return Hn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Zt(Qp,n._currentValue),n._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===a.children&&!sa.current){t=ds(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=es(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Y1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Y1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Hn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,zc(t,r),a=Wa(a),n=n(a),t.flags|=1,Hn(e,t,n,r),t.child;case 14:return n=t.type,a=si(n,t.pendingProps),a=si(n.type,a),EN(e,t,n,a,r);case 15:return N3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:si(n,a),Cp(e,t),t.tag=1,oa(n)?(e=!0,Xp(t)):e=!1,zc(t,r),k3(t,n,a),J1(t,n,a,r),eb(null,t,n,!0,e,r);case 19:return A3(e,t,r);case 22:return T3(e,t,r)}throw Error(Ue(156,t.tag))};function W3(e,t){return yC(e,t)}function h$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(e,t,r,n){return new h$(e,t,r,n)}function a2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p$(e){if(typeof e=="function")return a2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jk)return 11;if(e===Sk)return 14}return 2}function ko(e,t){var r=e.alternate;return r===null?(r=Va(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rp(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")a2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vc:return kl(r.children,a,i,t);case kk:o=8,a|=8;break;case w1:return e=Va(12,r,t,a|2),e.elementType=w1,e.lanes=i,e;case k1:return e=Va(13,r,t,a),e.elementType=k1,e.lanes=i,e;case j1:return e=Va(19,r,t,a),e.elementType=j1,e.lanes=i,e;case rC:return tx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eC:o=10;break e;case tC:o=9;break e;case jk:o=11;break e;case Sk:o=14;break e;case eo:o=16,n=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Va(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function kl(e,t,r,n){return e=Va(7,e,n,t),e.lanes=r,e}function tx(e,t,r,n){return e=Va(22,e,n,t),e.elementType=rC,e.lanes=r,e.stateNode={isHidden:!1},e}function qv(e,t,r){return e=Va(6,e,null,t),e.lanes=r,e}function Yv(e,t,r){return t=Va(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ev(0),this.expirationTimes=Ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ev(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function i2(e,t,r,n,a,i,o,l,c){return e=new m$(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Va(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kk(i),e}function g$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function G3(e){if(!e)return Oo;e=e._reactInternals;e:{if(zl(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var r=e.type;if(oa(r))return GC(e,r,t)}return t}function q3(e,t,r,n,a,i,o,l,c){return e=i2(r,n,!0,e,a,i,o,l,c),e.context=G3(null),r=e.current,n=Xn(),a=wo(r),i=es(n,a),i.callback=t??null,yo(r,i,a),e.current.lanes=a,e0(e,a,n),la(e,n),e}function rx(e,t,r,n){var a=t.current,i=Xn(),o=wo(a);return r=G3(r),t.context===null?t.context=r:t.pendingContext=r,t=es(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yo(a,t,o),e!==null&&(mi(e,a,o,i),Ep(e,a,o)),o}function cm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function s2(e,t){UN(e,t),(e=e.alternate)&&UN(e,t)}function x$(){return null}var Y3=typeof reportError=="function"?reportError:function(e){console.error(e)};function o2(e){this._internalRoot=e}nx.prototype.render=o2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));rx(e,t,null,null)};nx.prototype.unmount=o2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dl(function(){rx(null,e,null,null)}),t[cs]=null}};function nx(e){this._internalRoot=e}nx.prototype.unstable_scheduleHydration=function(e){if(e){var t=TC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ao.length&&t!==0&&t<ao[r].priority;r++);ao.splice(r,0,e),r===0&&_C(e)}};function l2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KN(){}function v$(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=cm(o);i.call(u)}}var o=q3(t,n,e,0,null,!1,!1,"",KN);return e._reactRootContainer=o,e[cs]=o.current,Wf(e.nodeType===8?e.parentNode:e),Dl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=cm(c);l.call(u)}}var c=i2(e,0,!1,null,null,!1,!1,"",KN);return e._reactRootContainer=c,e[cs]=c.current,Wf(e.nodeType===8?e.parentNode:e),Dl(function(){rx(t,c,r,n)}),c}function ix(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=cm(o);l.call(c)}}rx(t,o,e,a)}else o=v$(r,t,e,a,n);return cm(o)}SC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rf(t.pendingLanes);r!==0&&(Pk(t,r|1),la(t,Nr()),!(At&6)&&(uu=Nr()+500,$o()))}break;case 13:Dl(function(){var n=us(e,1);if(n!==null){var a=Xn();mi(n,e,1,a)}}),s2(e,1)}};_k=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var r=Xn();mi(t,e,134217728,r)}s2(e,134217728)}};NC=function(e){if(e.tag===13){var t=wo(e),r=us(e,t);if(r!==null){var n=Xn();mi(r,e,t,n)}s2(e,t)}};TC=function(){return Kt};PC=function(e,t){var r=Kt;try{return Kt=e,t()}finally{Kt=r}};D1=function(e,t,r){switch(t){case"input":if(T1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Yg(n);if(!a)throw Error(Ue(90));aC(n),T1(n,a)}}}break;case"textarea":sC(e,r);break;case"select":t=r.value,t!=null&&Uc(e,!!r.multiple,t,!1)}};hC=t2;pC=Dl;var y$={usingClientEntryPoint:!1,Events:[r0,kc,Yg,dC,fC,t2]},bd={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b$={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xC(e),e===null?null:e.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||x$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{zg=z0.inject(b$),Ai=z0}catch{}}Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y$;Oa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l2(t))throw Error(Ue(200));return g$(e,t,null,r)};Oa.createRoot=function(e,t){if(!l2(e))throw Error(Ue(299));var r=!1,n="",a=Y3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=i2(e,1,!1,null,null,r,!1,n,a),e[cs]=t.current,Wf(e.nodeType===8?e.parentNode:e),new o2(t)};Oa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=xC(t),e=e===null?null:e.stateNode,e};Oa.flushSync=function(e){return Dl(e)};Oa.hydrate=function(e,t,r){if(!ax(t))throw Error(Ue(200));return ix(null,e,t,!0,r)};Oa.hydrateRoot=function(e,t,r){if(!l2(e))throw Error(Ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Y3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=q3(t,null,e,1,r??null,a,!1,i,o),e[cs]=t.current,Wf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new nx(t)};Oa.render=function(e,t,r){if(!ax(t))throw Error(Ue(200));return ix(null,e,t,!1,r)};Oa.unmountComponentAtNode=function(e){if(!ax(e))throw Error(Ue(40));return e._reactRootContainer?(Dl(function(){ix(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};Oa.unstable_batchedUpdates=t2;Oa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ax(r))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return ix(e,t,r,!1,n)};Oa.version="18.3.1-next-f1338f8080-20240426";function X3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X3)}catch(e){console.error(e)}}X3(),XO.exports=Oa;var J3=XO.exports,VN=J3;y1.createRoot=VN.createRoot,y1.hydrateRoot=VN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}var co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(co||(co={}));const HN="popstate";function w$(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return fb("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:um(a)}return j$(t,r,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k$(){return Math.random().toString(36).substr(2,8)}function zN(e,t){return{usr:e.state,key:e.key,idx:t}}function fb(e,t,r,n){return r===void 0&&(r=null),th({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hu(t):t,{state:r,key:t&&t.key||n||k$()})}function um(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j$(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=co.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(th({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=co.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:b})}function h(x,b){l=co.Push;let y=fb(m.location,x,b);u=d()+1;let v=zN(y,u),w=m.createHref(y);try{o.pushState(v,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}i&&c&&c({action:l,location:m.location,delta:1})}function p(x,b){l=co.Replace;let y=fb(m.location,x,b);u=d();let v=zN(y,u),w=m.createHref(y);o.replaceState(v,"",w),i&&c&&c({action:l,location:m.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:um(x);return y=y.replace(/ $/,"%20"),Pr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let m={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(HN,f),c=x,()=>{a.removeEventListener(HN,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return o.go(x)}};return m}var WN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(WN||(WN={}));function S$(e,t,r){return r===void 0&&(r="/"),N$(e,t,r)}function N$(e,t,r,n){let a=typeof t=="string"?Hu(t):t,i=u2(a.pathname||"/",r);if(i==null)return null;let o=Z3(e);T$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=F$(i);l=R$(o[c],u)}return l}function Z3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Pr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=jo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z3(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:D$(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Q3(i.path))a(i,o,c)}),t}function Q3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Q3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function T$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:M$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const P$=/^:[\w-]+$/,_$=3,E$=2,A$=1,O$=10,C$=-2,GN=e=>e==="*";function D$(e,t){let r=e.split("/"),n=r.length;return r.some(GN)&&(n+=C$),t&&(n+=E$),r.filter(a=>!GN(a)).reduce((a,i)=>a+(P$.test(i)?_$:i===""?A$:O$),n)}function M$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function R$(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=I$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:jo([i,f.pathname]),pathnameBase:V$(jo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=jo([i,f.pathnameBase]))}return o}function I$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=L$(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function L$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),c2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function F$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return c2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function u2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const B$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$$=e=>B$.test(e);function U$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Hu(e):e,i;if(r)if($$(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),c2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=qN(r.substring(1),"/"):i=qN(r,t)}else i=t;return{pathname:i,search:H$(n),hash:z$(a)}}function qN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function d2(e,t){let r=K$(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function f2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Hu(e):(a=th({},e),Pr(!a.pathname||!a.pathname.includes("?"),Xv("?","pathname","search",a)),Pr(!a.pathname||!a.pathname.includes("#"),Xv("#","pathname","hash",a)),Pr(!a.search||!a.search.includes("#"),Xv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=U$(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const jo=e=>e.join("/").replace(/\/\/+/g,"/"),V$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eD=["post","put","patch","delete"];new Set(eD);const G$=["get",...eD];new Set(G$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(this,arguments)}const h2=j.createContext(null),q$=j.createContext(null),Uo=j.createContext(null),sx=j.createContext(null),ys=j.createContext({outlet:null,matches:[],isDataRoute:!1}),tD=j.createContext(null);function Y$(e,t){let{relative:r}=t===void 0?{}:t;zu()||Pr(!1);let{basename:n,navigator:a}=j.useContext(Uo),{hash:i,pathname:o,search:l}=nD(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:jo([n,o])),a.createHref({pathname:c,search:l,hash:i})}function zu(){return j.useContext(sx)!=null}function Wu(){return zu()||Pr(!1),j.useContext(sx).location}function rD(e){j.useContext(Uo).static||j.useLayoutEffect(e)}function a0(){let{isDataRoute:e}=j.useContext(ys);return e?u7():X$()}function X$(){zu()||Pr(!1);let e=j.useContext(h2),{basename:t,future:r,navigator:n}=j.useContext(Uo),{matches:a}=j.useContext(ys),{pathname:i}=Wu(),o=JSON.stringify(d2(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return rD(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=f2(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:jo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const J$=j.createContext(null);function Z$(e){let t=j.useContext(ys).outlet;return t&&j.createElement(J$.Provider,{value:e},t)}function nD(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(Uo),{matches:a}=j.useContext(ys),{pathname:i}=Wu(),o=JSON.stringify(d2(a,n.v7_relativeSplatPath));return j.useMemo(()=>f2(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Q$(e,t){return e7(e,t)}function e7(e,t,r,n){zu()||Pr(!1);let{navigator:a}=j.useContext(Uo),{matches:i}=j.useContext(ys),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Wu(),d;if(t){var f;let x=typeof t=="string"?Hu(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Pr(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=S$(e,{pathname:p}),m=i7(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:jo([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:jo([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&m?j.createElement(sx.Provider,{value:{location:rh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:co.Pop}},m):m}function t7(){let e=c7(),t=W$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const r7=j.createElement(t7,null);class n7 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(ys.Provider,{value:this.props.routeContext},j.createElement(tD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a7(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(h2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(ys.Provider,{value:t},n)}function i7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Pr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||r7,c&&(u<0&&h===0?(d7("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let v;return p?v=m:g?v=x:f.route.Component?v=j.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,j.createElement(a7,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(n7,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var aD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aD||{}),iD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(iD||{});function s7(e){let t=j.useContext(h2);return t||Pr(!1),t}function o7(e){let t=j.useContext(q$);return t||Pr(!1),t}function l7(e){let t=j.useContext(ys);return t||Pr(!1),t}function sD(e){let t=l7(),r=t.matches[t.matches.length-1];return r.route.id||Pr(!1),r.route.id}function c7(){var e;let t=j.useContext(tD),r=o7(),n=sD();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function u7(){let{router:e}=s7(aD.UseNavigateStable),t=sD(iD.UseNavigateStable),r=j.useRef(!1);return rD(()=>{r.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,rh({fromRouteId:t},i)))},[e,t])}const YN={};function d7(e,t,r){YN[e]||(YN[e]=!0)}function f7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ml(e){let{to:t,replace:r,state:n,relative:a}=e;zu()||Pr(!1);let{future:i,static:o}=j.useContext(Uo),{matches:l}=j.useContext(ys),{pathname:c}=Wu(),u=a0(),d=f2(t,d2(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function h7(e){return Z$(e.context)}function ft(e){Pr(!1)}function p7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=co.Pop,navigator:i,static:o=!1,future:l}=e;zu()&&Pr(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:o,future:rh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Hu(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=j.useMemo(()=>{let x=u2(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:j.createElement(Uo.Provider,{value:u},j.createElement(sx.Provider,{children:r,value:m}))}function m7(e){let{children:t,location:r}=e;return Q$(hb(t),r)}new Promise(()=>{});function hb(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let i=[...t,a];if(n.type===j.Fragment){r.push.apply(r,hb(n.props.children,i));return}n.type!==ft&&Pr(!1),!n.props.index||!n.props.children||Pr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hb(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(this,arguments)}function g7(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function x7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v7(e,t){return e.button===0&&(!t||t==="_self")&&!x7(e)}const y7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b7="6";try{window.__reactRouterVersion=b7}catch{}const w7="startTransition",XN=qO[w7];function k7(e){let{basename:t,children:r,future:n,window:a}=e,i=j.useRef();i.current==null&&(i.current=w$({window:a,v5Compat:!0}));let o=i.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&XN?XN(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>f7(n),[n]),j.createElement(p7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const j7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=g7(t,y7),{basename:p}=j.useContext(Uo),g,m=!1;if(typeof u=="string"&&S7.test(u)&&(g=u,j7))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=u2(w.pathname,p);w.origin===v.origin&&k!=null?u=k+w.search+w.hash:m=!0}catch{}let x=Y$(u,{relative:a}),b=N7(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||b(v)}return j.createElement("a",pb({},h,{href:g||x,onClick:m||i?n:y,ref:r,target:c}))});var JN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(JN||(JN={}));var ZN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ZN||(ZN={}));function N7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=a0(),u=Wu(),d=nD(e,{relative:o});return j.useCallback(f=>{if(v7(f,r)){f.preventDefault();let h=n!==void 0?n:um(u)===um(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}const T7={},QN=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(T7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},P7=e=>e?QN(e):QN;var oD={exports:{}},lD={},cD={exports:{}},uD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=j;function _7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E7=typeof Object.is=="function"?Object.is:_7,A7=du.useState,O7=du.useEffect,C7=du.useLayoutEffect,D7=du.useDebugValue;function M7(e,t){var r=t(),n=A7({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return C7(function(){a.value=r,a.getSnapshot=t,Jv(a)&&i({inst:a})},[e,r,t]),O7(function(){return Jv(a)&&i({inst:a}),e(function(){Jv(a)&&i({inst:a})})},[e]),D7(r),r}function Jv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!E7(e,r)}catch{return!0}}function R7(e,t){return t()}var I7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?R7:M7;uD.useSyncExternalStore=du.useSyncExternalStore!==void 0?du.useSyncExternalStore:I7;cD.exports=uD;var L7=cD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=j,F7=L7;function B7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $7=typeof Object.is=="function"?Object.is:B7,U7=F7.useSyncExternalStore,K7=ox.useRef,V7=ox.useEffect,H7=ox.useMemo,z7=ox.useDebugValue;lD.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=K7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=H7(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return f=g}return f=p}if(g=f,$7(d,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=U7(e,i[0],i[1]);return V7(function(){o.hasValue=!0,o.value=l},[l]),z7(l),l};oD.exports=lD;var W7=oD.exports;const G7=Lt(W7),dD={},{useDebugValue:q7}=fe,{useSyncExternalStoreWithSelector:Y7}=G7;let eT=!1;const X7=e=>e;function J7(e,t=X7,r){(dD?"production":void 0)!=="production"&&r&&!eT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),eT=!0);const n=Y7(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return q7(n),n}const tT=e=>{(dD?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?P7(e):e,r=(n,a)=>J7(t,n,a);return Object.assign(r,t),r},i0=e=>e?tT(e):tT,Z7={};function Q7(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const nh=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return nh(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return nh(n)(r)}}}},e9=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=nh(i.serialize),f=()=>{const x=i.partialize({...n()});let b;const y=d({state:x,version:i.version}).then(v=>u.setItem(i.name,v)).catch(v=>{b=v});if(b)throw b;return y},h=a.setState;a.setState=(x,b)=>{h(x,b),f()};const p=e((...x)=>{r(...x),f()},n,a);let g;const m=()=>{var x;if(!u)return;o=!1,l.forEach(y=>y(n()));const b=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return nh(u.getItem.bind(u))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var v;return g=i.merge(y,(v=n())!=null?v:p),r(g,!0),f()}).then(()=>{b==null||b(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},m(),g||p},t9=(e,t)=>(r,n,a)=>{let i={storage:Q7(()=>localStorage),partialize:m=>m,version:0,merge:(m,x)=>({...x,...m}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,a);const d=()=>{const m=i.partialize({...n()});return u.setItem(i.name,{state:m,version:i.version})},f=a.setState;a.setState=(m,x)=>{f(m,x),d()};const h=e((...m)=>{r(...m),d()},n,a);a.getInitialState=()=>h;let p;const g=()=>{var m,x;if(!u)return;o=!1,l.forEach(y=>{var v;return y((v=n())!=null?v:h)});const b=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(m=n())!=null?m:h))||void 0;return nh(u.getItem.bind(u))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[w,k]=y;if(p=i.merge(k,(v=n())!=null?v:h),r(p,!0),w)return d()}).then(()=>{b==null||b(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||g(),p||h},r9=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Z7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),e9(e,t)):t9(e,t),p2=r9,Tt=i0()(p2(e=>({isLoggedIn:!1,user:null,sessionId:null,deviceId:null,login:(t,r,n)=>e({isLoggedIn:!0,user:t,sessionId:r,deviceId:n}),logout:()=>e({isLoggedIn:!1,user:null,sessionId:null,deviceId:null}),updateUser:t=>e(r=>({user:r.user?{...r.user,...t}:null}))}),{name:"auth-storage"})),lx=i0()(p2(e=>({sidebarOpen:!1,sidebarCollapsed:!1,activeTab:"dashboard",dashboardPlantFilter:"ALL",dashboardYear:new Date().getFullYear(),darkMode:!1,forceDesktopView:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSidebarCollapse:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setActiveTab:t=>e({activeTab:t}),setDashboardPlantFilter:t=>e({dashboardPlantFilter:t}),setDashboardYear:t=>e({dashboardYear:t}),toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleForceDesktopView:()=>e(t=>({forceDesktopView:!t.forceDesktopView}))}),{name:"ui-storage",partialize:e=>({darkMode:e.darkMode,forceDesktopView:e.forceDesktopView})})),n9=i0((e,t)=>({notifications:[],unreadCount:0,isMarkingAllAsRead:!1,lastMarkedAllReadTimestamp:null,addNotification:r=>e(n=>({notifications:[r,...n.notifications],unreadCount:n.unreadCount+1})),markAsRead:r=>e(n=>({notifications:n.notifications.map(a=>a.id===r?{...a,read:!0}:a),unreadCount:Math.max(0,n.unreadCount-1)})),markAllAsRead:()=>e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0,lastMarkedAllReadTimestamp:Date.now()})),setMarkingAllAsRead:r=>e({isMarkingAllAsRead:r}),clearNotifications:()=>e({notifications:[],unreadCount:0}),setNotifications:r=>{const n=t();if(n.lastMarkedAllReadTimestamp&&Date.now()-n.lastMarkedAllReadTimestamp<3e3){const a=r.map(i=>{const o=n.notifications.find(l=>l.id===i.id);return o&&o.read?{...i,read:!0}:i});e({notifications:a,unreadCount:a.filter(i=>!i.read).length})}else e({notifications:r,unreadCount:r.filter(a=>!a.read).length})}})),dm=i0()(p2(e=>({messages:[],isOpen:!1,unreadChatCount:0,lastReadTimestamp:null,lastFetchTimestamp:null,toggleChat:()=>e(t=>({isOpen:!t.isOpen})),addMessage:t=>e(r=>r.messages.some(a=>a.id===t.id)?r:{messages:[...r.messages,t]}),addOptimisticMessage:t=>e(r=>({messages:[...r.messages,t]})),removeOptimisticMessage:t=>e(r=>({messages:r.messages.filter(n=>n.id!==t)})),setMessages:t=>e(r=>{const a=r.messages.filter(o=>o.id&&o.id.startsWith("temp_")).filter(o=>!t.some(c=>c.sender===o.sender&&c.message===o.message&&Math.abs(new Date(c.timestamp).getTime()-new Date(o.timestamp).getTime())<5e3)),i=[...t,...a];return i.sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),{messages:i}}),setUnreadChatCount:t=>e({unreadChatCount:t}),markChatAsRead:()=>e({unreadChatCount:0,lastReadTimestamp:new Date().toISOString()}),setLastFetchTimestamp:t=>e({lastFetchTimestamp:t})}),{name:"chat-storage",partialize:e=>({messages:e.messages.slice(-100),lastFetchTimestamp:e.lastFetchTimestamp})}));i0(e=>({loading:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t})}));const a9="modulepreload",i9=function(e){return"/"+e},rT={},rt=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=i9(c),c in rT)return;rT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":a9,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function fD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=fD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=fD(e))&&(n&&(n+=" "),n+=t);return n}const m2="-",s9=e=>{const t=l9(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(m2);return l[0]===""&&l.length!==1&&l.shift(),hD(l,t)||o9(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},hD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?hD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(m2);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nT=/^\[(.+)\]$/,o9=e=>{if(nT.test(e)){const t=nT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},l9=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return u9(Object.entries(e.classGroups),r).forEach(([i,o])=>{mb(o,n,i,t)}),n},mb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:aT(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(c9(a)){mb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{mb(o,aT(t,i),r,n)})})},aT=(e,t)=>{let r=e;return t.split(m2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},c9=e=>e.isThemeGetter,u9=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,d9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},pD="!",f9=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(pD),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},h9=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},p9=e=>({cache:d9(e.cacheSize),parseClassName:f9(e),...s9(e)}),m9=/\s+/,g9=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(m9);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=h9(d).join(":"),b=f?x+pD:x,y=b+m;if(i.includes(y))continue;i.push(y);const v=a(m,g);for(let w=0;w<v.length;++w){const k=v[w];i.push(b+k)}l=u+(l.length>0?" "+l:l)}return l};function x9(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mD(t))&&(n&&(n+=" "),n+=r);return n}const mD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mD(e[n]))&&(r&&(r+=" "),r+=t);return r};function v9(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=p9(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=g9(c,r);return a(c,d),d}return function(){return i(x9.apply(null,arguments))}}const tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gD=/^\[(?:([a-z-]+):)?(.+)\]$/i,y9=/^\d+\/\d+$/,b9=new Set(["px","full","screen"]),w9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ki=e=>Gc(e)||b9.has(e)||y9.test(e),qs=e=>Gu(e,"length",D9),Gc=e=>!!e&&!Number.isNaN(Number(e)),Zv=e=>Gu(e,"number",Gc),wd=e=>!!e&&Number.isInteger(Number(e)),T9=e=>e.endsWith("%")&&Gc(e.slice(0,-1)),yt=e=>gD.test(e),Ys=e=>w9.test(e),P9=new Set(["length","size","percentage"]),_9=e=>Gu(e,P9,xD),E9=e=>Gu(e,"position",xD),A9=new Set(["image","url"]),O9=e=>Gu(e,A9,R9),C9=e=>Gu(e,"",M9),kd=()=>!0,Gu=(e,t,r)=>{const n=gD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},D9=e=>k9.test(e)&&!j9.test(e),xD=()=>!1,M9=e=>S9.test(e),R9=e=>N9.test(e),I9=()=>{const e=tr("colors"),t=tr("spacing"),r=tr("blur"),n=tr("brightness"),a=tr("borderColor"),i=tr("borderRadius"),o=tr("borderSpacing"),l=tr("borderWidth"),c=tr("contrast"),u=tr("grayscale"),d=tr("hueRotate"),f=tr("invert"),h=tr("gap"),p=tr("gradientColorStops"),g=tr("gradientColorStopPositions"),m=tr("inset"),x=tr("margin"),b=tr("opacity"),y=tr("padding"),v=tr("saturate"),w=tr("scale"),k=tr("sepia"),N=tr("skew"),S=tr("space"),T=tr("translate"),P=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",yt,t],E=()=>[yt,t],C=()=>["",Ki,qs],z=()=>["auto",Gc,yt],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",yt],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Gc,yt];return{cacheSize:500,separator:":",theme:{colors:[kd],spacing:[Ki,qs],blur:["none","",Ys,yt],brightness:ce(),borderColor:[e],borderRadius:["none","","full",Ys,yt],borderSpacing:E(),borderWidth:C(),contrast:ce(),grayscale:G(),hueRotate:ce(),invert:G(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[T9,qs],inset:O(),margin:O(),opacity:ce(),padding:E(),saturate:ce(),scale:ce(),sepia:G(),skew:ce(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[Ys]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),yt]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wd,yt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",wd,yt]}],"grid-cols":[{"grid-cols":[kd]}],"col-start-end":[{col:["auto",{span:["full",wd,yt]},yt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[kd]}],"row-start-end":[{row:["auto",{span:[wd,yt]},yt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,t]}],"min-w":[{"min-w":[yt,t,"min","max","fit"]}],"max-w":[{"max-w":[yt,t,"none","full","min","max","fit","prose",{screen:[Ys]},Ys]}],h:[{h:[yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ys,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zv]}],"font-family":[{font:[kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",Gc,Zv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ki,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ki,qs]}],"underline-offset":[{"underline-offset":["auto",Ki,yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),E9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ki,yt]}],"outline-w":[{outline:[Ki,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ki,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ys,C9]}],"shadow-color":[{shadow:[kd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ys,yt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[wd,yt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ki,qs,Zv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L9=v9(I9);function Ge(...e){return L9(gt(e))}function pt(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"}function vD(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function aa(e){if(e==null||e===""||e===0||e==="0")return"-";const t=String(e).trim();if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(t)){const n=t.split(":"),a=n[0].padStart(2,"0"),i=n[1];return`${a}:${i}`}const r=parseFloat(t);if(!isNaN(r)&&r>=0&&(r<1||r>0&&t.includes("."))){const n=r%1,a=Math.round(n*24*60),i=Math.floor(a/60)%24,o=a%60;return`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}try{const n=new Date(t);if(!isNaN(n.getTime())){if(n.getFullYear()===1899)return"-";const a=n.getHours(),i=n.getMinutes();return`${a.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}catch{}return t||"-"}function le(e){return e==null?"0":e.toLocaleString("id-ID",{maximumFractionDigits:2})}function ge(e){if(e==null||e==="")return 0;if(typeof e=="number")return isNaN(e)?0:e;const r=String(e).trim().match(/^[\d.,\-]+/);if(!r)return 0;const n=r[0].replace(/\./g,"").replace(",","."),a=parseFloat(n);return isNaN(a)?0:a}function yD(e,t){if(!e||!t)return 0;const[r,n]=e.split(":").map(Number),[a,i]=t.split(":").map(Number);let o=r*60+n,l=a*60+i;return l<o&&(l+=24*60),Number(((l-o)/60).toFixed(2))}function ah(e,t){return yD(e,t)}function F9(e=""){const t=Date.now(),r=Math.random().toString(36).substring(2,9);return`${e}${e?"_":""}${t}_${r}`}function dr(){return new Date().toISOString().split("T")[0]}function sn(e){return["admin","supervisor","avp","user"].includes(e)}function g2(e){return["admin","avp","supervisor"].includes(e)}function x2(e){return["admin","avp","supervisor"].includes(e)}function wn(e){return e==="user"}function kn(e){return e==="user"}function Yr(e){return["manager","eksternal"].includes(e)}function bD(e,t){return!!(e==="admin"&&t==="ALL"||e==="admin"||["avp","supervisor"].includes(e))}function wD(e,t){return e==="admin"}function kD(e){return!["user","manager","eksternal"].includes(e)}const jD=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cx=j.createContext({}),ux=j.createContext(null),dx=typeof document<"u",v2=dx?j.useLayoutEffect:j.useEffect,SD=j.createContext({strict:!1}),y2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),B9="framerAppearId",ND="data-"+y2(B9);function $9(e,t,r,n){const{visualElement:a}=j.useContext(cx),i=j.useContext(SD),o=j.useContext(ux),l=j.useContext(jD).reducedMotion,c=j.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;j.useInsertionEffect(()=>{u&&u.update(r,o)});const d=j.useRef(!!(r[ND]&&!window.HandoffComplete));return v2(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Ec(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function U9(e,t,r){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ec(r)&&(r.current=n))},[t])}function ih(e){return typeof e=="string"||Array.isArray(e)}function fx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const b2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w2=["initial",...b2];function hx(e){return fx(e.animate)||w2.some(t=>ih(e[t]))}function TD(e){return!!(hx(e)||e.variants)}function K9(e,t){if(hx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ih(r)?r:void 0,animate:ih(n)?n:void 0}}return e.inherit!==!1?t:{}}function V9(e){const{initial:t,animate:r}=K9(e,j.useContext(cx));return j.useMemo(()=>({initial:t,animate:r}),[iT(t),iT(r)])}function iT(e){return Array.isArray(e)?e.join(" "):e}const sT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sh={};for(const e in sT)sh[e]={isEnabled:t=>sT[e].some(r=>!!t[r])};function H9(e){for(const t in e)sh[t]={...sh[t],...e[t]}}const k2=j.createContext({}),PD=j.createContext({}),z9=Symbol.for("motionComponentSymbol");function W9({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&H9(e);function i(l,c){let u;const d={...j.useContext(jD),...l,layoutId:G9(l)},{isStatic:f}=d,h=V9(l),p=n(l,f);if(!f&&dx){h.visualElement=$9(a,p,d,t);const g=j.useContext(PD),m=j.useContext(SD).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,g))}return j.createElement(cx.Provider,{value:h},u&&h.visualElement?j.createElement(u,{visualElement:h.visualElement,...d}):null,r(a,l,U9(p,h.visualElement,c),p,f,h.visualElement))}const o=j.forwardRef(i);return o[z9]=a,o}function G9({layoutId:e}){const t=j.useContext(k2).id;return t&&e!==void 0?t+"-"+e:e}function q9(e){function t(n,a={}){return W9(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const Y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j2(e){return typeof e!="string"||e.includes("-")?!1:!!(Y9.indexOf(e)>-1||/[A-Z]/.test(e))}const fm={};function X9(e){Object.assign(fm,e)}const s0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set(s0);function _D(e,{layout:t,layoutId:r}){return Wl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!fm[e]||e==="opacity")}const ua=e=>!!(e&&e.getVelocity),J9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z9=s0.length;function Q9(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let i="";for(let o=0;o<Z9;o++){const l=s0[o];if(e[l]!==void 0){const c=J9[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,n?"":i):r&&n&&(i="none"),i}const ED=e=>t=>typeof t=="string"&&t.startsWith(e),AD=ED("--"),gb=ED("var(--"),eU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Co=(e,t,r)=>Math.min(Math.max(r,e),t),Gl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yf={...Gl,transform:e=>Co(0,1,e)},G0={...Gl,default:1},bf=e=>Math.round(e*1e5)/1e5,px=/(-)?([\d]*\.?[\d])+/g,OD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,rU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function o0(e){return typeof e=="string"}const l0=e=>({test:t=>o0(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qs=l0("deg"),Ci=l0("%"),ut=l0("px"),nU=l0("vh"),aU=l0("vw"),oT={...Ci,parse:e=>Ci.parse(e)/100,transform:e=>Ci.transform(e*100)},lT={...Gl,transform:Math.round},CD={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,size:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:G0,scaleX:G0,scaleY:G0,scaleZ:G0,skew:Qs,skewX:Qs,skewY:Qs,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:yf,originX:oT,originY:oT,originZ:ut,zIndex:lT,fillOpacity:yf,strokeOpacity:yf,numOctaves:lT};function S2(e,t,r,n){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(AD(f)){i[f]=h;continue}const p=CD[f],g=tU(h,p);if(Wl.has(f)){if(c=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):a[f]=g}if(t.transform||(c||n?a.transform=Q9(e.transform,r,d,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;a.transformOrigin=`${f} ${h} ${p}`}}const N2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DD(e,t,r){for(const n in t)!ua(t[n])&&!_D(n,r)&&(e[n]=t[n])}function iU({transformTemplate:e},t,r){return j.useMemo(()=>{const n=N2();return S2(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function sU(e,t,r){const n=e.style||{},a={};return DD(a,n,e),Object.assign(a,iU(e,t,r)),e.transformValues?e.transformValues(a):a}function oU(e,t,r){const n={},a=sU(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const lU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lU.has(e)}let MD=e=>!hm(e);function cU(e){e&&(MD=t=>t.startsWith("on")?!hm(t):e(t))}try{cU(require("@emotion/is-prop-valid").default)}catch{}function uU(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(MD(a)||r===!0&&hm(a)||!t&&!hm(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function cT(e,t,r){return typeof e=="string"?e:ut.transform(t+r*e)}function dU(e,t,r){const n=cT(t,e.x,e.width),a=cT(r,e.y,e.height);return`${n} ${a}`}const fU={offset:"stroke-dashoffset",array:"stroke-dasharray"},hU={offset:"strokeDashoffset",array:"strokeDasharray"};function pU(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?fU:hU;e[i.offset]=ut.transform(-n);const o=ut.transform(t),l=ut.transform(r);e[i.array]=`${o} ${l}`}function T2(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(S2(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=dU(m,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&pU(p,o,l,c,!1)}const RD=()=>({...N2(),attrs:{}}),P2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mU(e,t,r,n){const a=j.useMemo(()=>{const i=RD();return T2(i,t,{enableHardwareAcceleration:!1},P2(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};DD(i,e.style,e),a.style={...i,...a.style}}return a}function gU(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(j2(r)?mU:oU)(n,i,o,r),d={...uU(n,typeof r=="string",e),...c,ref:a},{children:f}=n,h=j.useMemo(()=>ua(f)?f.get():f,[f]);return j.createElement(r,{...d,children:h})}}function ID(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const LD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FD(e,t,r,n){ID(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(LD.has(a)?a:y2(a),t.attrs[a])}function _2(e,t){const{style:r}=e,n={};for(const a in r)(ua(r[a])||t.style&&ua(t.style[a])||_D(a,e))&&(n[a]=r[a]);return n}function BD(e,t){const r=_2(e,t);for(const n in e)if(ua(e[n])||ua(t[n])){const a=s0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}function E2(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function $D(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const pm=e=>Array.isArray(e),xU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),vU=e=>pm(e)?e[e.length-1]||0:e;function Ip(e){const t=ua(e)?e.get():e;return xU(t)?t.toValue():t}function yU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:bU(n,a,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const UD=e=>(t,r)=>{const n=j.useContext(cx),a=j.useContext(ux),i=()=>yU(e,t,n,a);return r?i():$D(i)};function bU(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Ip(i[h]);let{initial:o,animate:l}=e;const c=hx(e),u=TD(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!fx(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=E2(e,p);if(!g)return;const{transitionEnd:m,transition:x,...b}=g;for(const y in b){let v=b[y];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(a[y]=v)}for(const y in m)a[y]=m[y]}),a}const Tr=e=>e;class uT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function wU(e){let t=new uT,r=new uT,n=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&a,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&a&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const q0=["prepare","read","update","preRender","render","postRender"],kU=40;function jU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=q0.reduce((f,h)=>(f[h]=wU(()=>r=!0),f),{}),o=f=>i[f].process(a),l=()=>{const f=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,kU),1),a.timestamp=f,a.isProcessing=!0,q0.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,a.isProcessing||e(l)};return{schedule:q0.reduce((f,h)=>{const p=i[h];return f[h]=(g,m=!1,x=!1)=>(r||c(),p.schedule(g,m,x)),f},{}),cancel:f=>q0.forEach(h=>i[h].cancel(f)),state:a,steps:i}}const{schedule:Qt,cancel:fs,state:Tn,steps:Qv}=jU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0),SU={useVisualState:UD({scrapeMotionValuesFromProps:BD,createRenderState:RD,onMount:(e,t,{renderState:r,latestValues:n})=>{Qt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Qt.render(()=>{T2(r,n,{enableHardwareAcceleration:!1},P2(t.tagName),e.transformTemplate),FD(t,r)})}})},NU={useVisualState:UD({scrapeMotionValuesFromProps:_2,createRenderState:N2})};function TU(e,{forwardMotionProps:t=!1},r,n){return{...j2(e)?SU:NU,preloadedFeatures:r,useRender:gU(t),createVisualElement:n,Component:e}}function Xi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const KD=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function mx(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const PU=e=>t=>KD(t)&&e(t,mx(t));function ts(e,t,r,n){return Xi(e,t,PU(r),n)}const _U=(e,t)=>r=>t(e(r)),So=(...e)=>e.reduce(_U);function VD(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const dT=VD("dragHorizontal"),fT=VD("dragVertical");function HD(e){let t=!1;if(e==="y")t=fT();else if(e==="x")t=dT();else{const r=dT(),n=fT();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function zD(){const e=HD(!0);return e?(e(),!1):!0}class Ko{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hT(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||zD())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&Qt.update(()=>l[n](i,o))};return ts(e.current,r,a,{passive:!e.getProps()[n]})}class EU extends Ko{mount(){this.unmount=So(hT(this.node,!0),hT(this.node,!1))}unmount(){}}class AU extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=So(Xi(this.node.current,"focus",()=>this.onFocus()),Xi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WD=(e,t)=>t?e===t?!0:WD(e,t.parentElement):!1;function ey(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,mx(r))}class OU extends Ko{constructor(){super(...arguments),this.removeStartListeners=Tr,this.removeEndListeners=Tr,this.removeAccessibleListeners=Tr,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=ts(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Qt.update(()=>{!f&&!WD(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=ts(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=So(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ey("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Qt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Xi(this.node.current,"keyup",o),ey("down",(l,c)=>{this.startPress(l,c)})},r=Xi(this.node.current,"keydown",t),n=()=>{this.isPressing&&ey("cancel",(i,o)=>this.cancelPress(i,o))},a=Xi(this.node.current,"blur",n);this.removeAccessibleListeners=So(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Qt.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zD()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Qt.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=ts(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Xi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=So(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const xb=new WeakMap,ty=new WeakMap,CU=e=>{const t=xb.get(e.target);t&&t(e)},DU=e=>{e.forEach(CU)};function MU({root:e,...t}){const r=e||document;ty.has(r)||ty.set(r,{});const n=ty.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(DU,{root:e,...t})),n[a]}function RU(e,t,r){const n=MU(t);return xb.set(e,r),n.observe(e),()=>{xb.delete(e),n.unobserve(e)}}const IU={some:0,all:1};class LU extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:IU[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return RU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(FU(t,r))&&this.startObserver()}unmount(){}}function FU({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const BU={inView:{Feature:LU},tap:{Feature:OU},focus:{Feature:AU},hover:{Feature:EU}};function GD(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function $U(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function UU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function gx(e,t,r){const n=e.getProps();return E2(n,t,r!==void 0?r:n.custom,$U(e),UU(e))}let A2=Tr;const jl=e=>e*1e3,rs=e=>e/1e3,KU={current:!1},qD=e=>Array.isArray(e)&&typeof e[0]=="number";function YD(e){return!!(!e||typeof e=="string"&&XD[e]||qD(e)||Array.isArray(e)&&e.every(YD))}const af=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,XD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:af([0,.65,.55,1]),circOut:af([.55,0,1,.45]),backIn:af([.31,.01,.66,-.59]),backOut:af([.33,1.53,.69,.99])};function JD(e){if(e)return qD(e)?af(e):Array.isArray(e)?e.map(JD):XD[e]}function VU(e,t,r,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=JD(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function HU(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const ZD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,zU=1e-7,WU=12;function GU(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=ZD(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>zU&&++l<WU);return o}function c0(e,t,r,n){if(e===t&&r===n)return Tr;const a=i=>GU(i,0,1,e,r);return i=>i===0||i===1?i:ZD(a(i),t,n)}const qU=c0(.42,0,1,1),YU=c0(0,0,.58,1),QD=c0(.42,0,.58,1),XU=e=>Array.isArray(e)&&typeof e[0]!="number",e5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,t5=e=>t=>1-e(1-t),O2=e=>1-Math.sin(Math.acos(e)),r5=t5(O2),JU=e5(O2),n5=c0(.33,1.53,.69,.99),C2=t5(n5),ZU=e5(C2),QU=e=>(e*=2)<1?.5*C2(e):.5*(2-Math.pow(2,-10*(e-1))),eK={linear:Tr,easeIn:qU,easeInOut:QD,easeOut:YU,circIn:O2,circInOut:JU,circOut:r5,backIn:C2,backInOut:ZU,backOut:n5,anticipate:QU},pT=e=>{if(Array.isArray(e)){A2(e.length===4);const[t,r,n,a]=e;return c0(t,r,n,a)}else if(typeof e=="string")return eK[e];return e},D2=(e,t)=>r=>!!(o0(r)&&rU.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),a5=(e,t,r)=>n=>{if(!o0(n))return n;const[a,i,o,l]=n.match(px);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tK=e=>Co(0,255,e),ry={...Gl,transform:e=>Math.round(tK(e))},ml={test:D2("rgb","red"),parse:a5("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+ry.transform(e)+", "+ry.transform(t)+", "+ry.transform(r)+", "+bf(yf.transform(n))+")"};function rK(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const vb={test:D2("#"),parse:rK,transform:ml.transform},Ac={test:D2("hsl","hue"),parse:a5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ci.transform(bf(t))+", "+Ci.transform(bf(r))+", "+bf(yf.transform(n))+")"},Vn={test:e=>ml.test(e)||vb.test(e)||Ac.test(e),parse:e=>ml.test(e)?ml.parse(e):Ac.test(e)?Ac.parse(e):vb.parse(e),transform:e=>o0(e)?e:e.hasOwnProperty("red")?ml.transform(e):Ac.transform(e)},pr=(e,t,r)=>-r*e+r*t+e;function ny(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function nK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=ny(c,l,e+1/3),i=ny(c,l,e),o=ny(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const ay=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},aK=[vb,ml,Ac],iK=e=>aK.find(t=>t.test(e));function mT(e){const t=iK(e);let r=t.parse(e);return t===Ac&&(r=nK(r)),r}const i5=(e,t)=>{const r=mT(e),n=mT(t),a={...r};return i=>(a.red=ay(r.red,n.red,i),a.green=ay(r.green,n.green,i),a.blue=ay(r.blue,n.blue,i),a.alpha=pr(r.alpha,n.alpha,i),ml.transform(a))};function sK(e){var t,r;return isNaN(e)&&o0(e)&&(((t=e.match(px))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(OD))===null||r===void 0?void 0:r.length)||0)>0}const s5={regex:eU,countKey:"Vars",token:"${v}",parse:Tr},o5={regex:OD,countKey:"Colors",token:"${c}",parse:Vn.parse},l5={regex:px,countKey:"Numbers",token:"${n}",parse:Gl.parse};function iy(e,{regex:t,countKey:r,token:n,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(a)))}function mm(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&iy(r,s5),iy(r,o5),iy(r,l5),r}function c5(e){return mm(e).values}function u5(e){const{values:t,numColors:r,numVars:n,tokenised:a}=mm(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<n?l=l.replace(s5.token,o[c]):c<n+r?l=l.replace(o5.token,Vn.transform(o[c])):l=l.replace(l5.token,bf(o[c]));return l}}const oK=e=>typeof e=="number"?0:e;function lK(e){const t=c5(e);return u5(e)(t.map(oK))}const Do={test:sK,parse:c5,createTransformer:u5,getAnimatableNone:lK},d5=(e,t)=>r=>`${r>0?t:e}`;function f5(e,t){return typeof e=="number"?r=>pr(e,t,r):Vn.test(e)?i5(e,t):e.startsWith("var(")?d5(e,t):p5(e,t)}const h5=(e,t)=>{const r=[...e],n=r.length,a=e.map((i,o)=>f5(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}},cK=(e,t)=>{const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=f5(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},p5=(e,t)=>{const r=Do.createTransformer(t),n=mm(e),a=mm(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?So(h5(n.values,a.values),r):d5(e,t)},oh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},gT=(e,t)=>r=>pr(e,t,r);function uK(e){return typeof e=="number"?gT:typeof e=="string"?Vn.test(e)?i5:p5:Array.isArray(e)?h5:typeof e=="object"?cK:gT}function dK(e,t,r){const n=[],a=r||uK(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Tr:t;l=So(c,l)}n.push(l)}return n}function m5(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(A2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=dK(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=oh(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Co(e[0],e[i-1],u)):c}function fK(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=oh(0,t,n);e.push(pr(r,1,a))}}function hK(e){const t=[0];return fK(t,e.length-1),t}function pK(e,t){return e.map(r=>r*t)}function mK(e,t){return e.map(()=>t||QD).splice(0,e.length-1)}function gm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=XU(n)?n.map(pT):pT(n),i={done:!1,value:t[0]},o=pK(r&&r.length===t.length?r:hK(t),e),l=m5(o,t,{ease:Array.isArray(a)?a:mK(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function g5(e,t){return t?e*(1e3/t):0}const gK=5;function x5(e,t,r){const n=Math.max(t-gK,0);return g5(r-e(n),t-n)}const sy=.001,xK=.01,vK=10,yK=.05,bK=1;function wK({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,i,o=1-t;o=Co(yK,bK,o),e=Co(xK,vK,rs(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=yb(u,o),g=Math.exp(-f);return sy-h/p*g},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=yb(Math.pow(u,2),o);return(-a(u)+sy>0?-1:1)*((h-p)*g)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-sy+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=jK(a,i,l);if(e=jl(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const kK=12;function jK(e,t,r){let n=r;for(let a=1;a<kK;a++)n=n-e(n)/t(n);return n}function yb(e,t){return e*Math.sqrt(1-t*t)}const SK=["duration","bounce"],NK=["stiffness","damping","mass"];function xT(e,t){return t.some(r=>e[r]!==void 0)}function TK(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!xT(e,NK)&&xT(e,SK)){const r=wK(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function v5({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=TK({...n,velocity:-rs(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),m=i-a,x=rs(Math.sqrt(l/u)),b=Math.abs(m)<5;r||(r=b?.01:2),t||(t=b?.005:.5);let y;if(g<1){const v=yb(x,g);y=w=>{const k=Math.exp(-g*x*w);return i-k*((p+g*x*m)/v*Math.sin(v*w)+m*Math.cos(v*w))}}else if(g===1)y=v=>i-Math.exp(-x*v)*(m+(p+x*m)*v);else{const v=x*Math.sqrt(g*g-1);y=w=>{const k=Math.exp(-g*x*w),N=Math.min(v*w,300);return i-k*((p+g*x*m)*Math.sinh(N)+v*m*Math.cosh(N))/v}}return{calculatedDuration:h&&d||null,next:v=>{const w=y(v);if(h)o.done=v>=d;else{let k=p;v!==0&&(g<1?k=x5(y,v,w):k=0);const N=Math.abs(k)<=r,S=Math.abs(i-w)<=t;o.done=N&&S}return o.value=o.done?i:w,o}}}function vT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,g=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let m=r*t;const x=f+m,b=o===void 0?x:o(x);b!==x&&(m=b-f);const y=T=>-m*Math.exp(-T/n),v=T=>b+y(T),w=T=>{const P=y(T),_=v(T);h.done=Math.abs(P)<=u,h.value=h.done?b:_};let k,N;const S=T=>{p(h.value)&&(k=T,N=v5({keyframes:[h.value,g(h.value)],velocity:x5(v,T,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let P=!1;return!N&&k===void 0&&(P=!0,w(T),S(T)),k!==void 0&&T>k?N.next(T-k):(!P&&w(T),h)}}}const PK=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Qt.update(t,!0),stop:()=>fs(t),now:()=>Tn.isProcessing?Tn.timestamp:performance.now()}},yT=2e4;function bT(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<yT;)t+=r,n=e.next(t);return t>=yT?1/0:t}const _K={decay:vT,inertia:vT,tween:gm,keyframes:gm,spring:v5};function xm({autoplay:e=!0,delay:t=0,driver:r=PK,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,m,x;const b=()=>{x=new Promise(ce=>{m=ce})};b();let y;const v=_K[a]||gm;let w;v!==gm&&typeof n[0]!="number"&&(w=m5([0,100],n,{clamp:!1}),n=[0,100]);const k=v({...h,keyframes:n});let N;l==="mirror"&&(N=v({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",T=null,P=null,_=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=bT(k));const{calculatedDuration:O}=k;let E=1/0,C=1/0;O!==null&&(E=O+o,C=E*(i+1)-o);let z=0;const Q=ce=>{if(P===null)return;p>0&&(P=Math.min(P,ce)),p<0&&(P=Math.min(ce-C/p,P)),T!==null?z=T:z=Math.round(ce-P)*p;const U=z-t*(p>=0?1:-1),L=p>=0?U<0:U>C;z=Math.max(U,0),S==="finished"&&T===null&&(z=C);let I=z,R=k;if(i){const ue=Math.min(z,C)/E;let he=Math.floor(ue),Te=ue%1;!Te&&ue>=1&&(Te=1),Te===1&&he--,he=Math.min(he,i+1),!!(he%2)&&(l==="reverse"?(Te=1-Te,o&&(Te-=o/E)):l==="mirror"&&(R=N)),I=Co(0,1,Te)*E}const J=L?{done:!1,value:n[0]}:R.next(I);w&&(J.value=w(J.value));let{done:xe}=J;!L&&O!==null&&(xe=p>=0?z>=C:z<=0);const Ne=T===null&&(S==="finished"||S==="running"&&xe);return f&&f(J.value),Ne&&re(),J},W=()=>{y&&y.stop(),y=void 0},q=()=>{S="idle",W(),m(),b(),P=_=null},re=()=>{S="finished",d&&d(),W(),m()},G=()=>{if(g)return;y||(y=r(Q));const ce=y.now();c&&c(),T!==null?P=ce-T:(!P||S==="finished")&&(P=ce),S==="finished"&&b(),_=P,T=null,S="running",y.start()};e&&G();const de={then(ce,U){return x.then(ce,U)},get time(){return rs(z)},set time(ce){ce=jl(ce),z=ce,T!==null||!y||p===0?T=ce:P=y.now()-ce/p},get duration(){const ce=k.calculatedDuration===null?bT(k):k.calculatedDuration;return rs(ce)},get speed(){return p},set speed(ce){ce===p||!y||(p=ce,de.time=rs(z))},get state(){return S},play:G,pause:()=>{S="paused",T=z},stop:()=>{g=!0,S!=="idle"&&(S="idle",u&&u(),q())},cancel:()=>{_!==null&&Q(_),q()},complete:()=>{S="finished"},sample:ce=>(P=0,Q(ce))};return de}function EK(e){let t;return()=>(t===void 0&&(t=e()),t)}const AK=EK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),OK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Y0=10,CK=2e4,DK=(e,t)=>t.type==="spring"||e==="backgroundColor"||!YD(t.ease);function MK(e,t,{onUpdate:r,onComplete:n,...a}){if(!(AK()&&OK.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:f,duration:h=300,ease:p,times:g}=a;if(DK(t,a)){const v=xm({...a,repeat:0,delay:0});let w={done:!1,value:f[0]};const k=[];let N=0;for(;!w.done&&N<CK;)w=v.sample(N),k.push(w.value),N+=Y0;g=void 0,f=k,h=N-Y0,p="linear"}const m=VU(e.owner.current,t,f,{...a,duration:h,ease:p,times:g}),x=()=>{u=!1,m.cancel()},b=()=>{u=!0,Qt.update(x),l(),d()};return m.onfinish=()=>{u||(e.set(HU(f,a)),n&&n(),b())},{then(v,w){return c.then(v,w)},attachTimeline(v){return m.timeline=v,m.onfinish=null,Tr},get time(){return rs(m.currentTime||0)},set time(v){m.currentTime=jl(v)},get speed(){return m.playbackRate},set speed(v){m.playbackRate=v},get duration(){return rs(h)},play:()=>{o||(m.play(),fs(x))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:v}=m;if(v){const w=xm({...a,autoplay:!1});e.setWithVelocity(w.sample(v-Y0).value,w.sample(v).value,Y0)}b()},complete:()=>{u||m.finish()},cancel:b}}function RK({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Tr,pause:Tr,stop:Tr,then:i=>(i(),Promise.resolve()),cancel:Tr,complete:Tr});return t?xm({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const IK={type:"spring",stiffness:500,damping:25,restSpeed:10},LK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FK={type:"keyframes",duration:.8},BK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$K=(e,{keyframes:t})=>t.length>2?FK:Wl.has(e)?e.startsWith("scale")?LK(t[1]):IK:BK,bb=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Do.test(t)||t==="0")&&!t.startsWith("url(")),UK=new Set(["brightness","contrast","saturate","opacity"]);function KK(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(px)||[];if(!n)return e;const a=r.replace(n,"");let i=UK.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const VK=/([a-z-]*)\(.*?\)/g,wb={...Do,getAnimatableNone:e=>{const t=e.match(VK);return t?t.map(KK).join(" "):e}},HK={...CD,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:wb,WebkitFilter:wb},M2=e=>HK[e];function y5(e,t){let r=M2(e);return r!==wb&&(r=Do),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const b5=e=>/^0[^.\s]+$/.test(e);function zK(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||b5(e)}function WK(e,t,r,n){const a=bb(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),zK(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=y5(t,l)}return i}function GK({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function R2(e,t){return e[t]||e.default||e}const qK={skipAnimations:!1},I2=(e,t,r,n={})=>a=>{const i=R2(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-jl(o);const c=WK(t,e,r,i),u=c[0],d=c[c.length-1],f=bb(e,u),h=bb(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(GK(i)||(p={...p,...$K(e,p)}),p.duration&&(p.duration=jl(p.duration)),p.repeatDelay&&(p.repeatDelay=jl(p.repeatDelay)),!f||!h||KU.current||i.type===!1||qK.skipAnimations)return RK(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=MK(t,e,p);if(g)return g}return xm(p)};function vm(e){return!!(ua(e)&&e.add)}const w5=e=>/^\-?\d*\.?\d+$/.test(e);function L2(e,t){e.indexOf(t)===-1&&e.push(t)}function F2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class B2{constructor(){this.subscriptions=[]}add(t){return L2(this.subscriptions,t),()=>F2(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const YK=e=>!isNaN(parseFloat(e));class XK{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Tn;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Qt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=YK(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new B2);const n=this.events[t].add(r);return t==="change"?()=>{n(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?g5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fu(e,t){return new XK(e,t)}const k5=e=>t=>t.test(e),JK={test:e=>e==="auto",parse:e=>e},j5=[Gl,ut,Ci,Qs,aU,nU,JK],jd=e=>j5.find(k5(e)),ZK=[...j5,Vn,Do],QK=e=>ZK.find(k5(e));function eV(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,fu(r))}function tV(e,t){const r=gx(e,t);let{transitionEnd:n={},transition:a={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=vU(i[o]);eV(e,o,l)}}function rV(e,t,r){var n,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),d!=null&&(typeof d=="string"&&(w5(d)||b5(d))?d=parseFloat(d):!QK(d)&&Do.test(u)&&(d=y5(c,u)),e.addValue(c,fu(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function nV(e,t){return t?(t[e]||t.default||t).from:void 0}function aV(e,t,r){const n={};for(const a in e){const i=nV(a,t);if(i!==void 0)n[a]=i;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function iV({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function sV(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function S5(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&iV(d,f))continue;const g={delay:r,elapsed:0,...R2(i||{},f)};if(window.HandoffAppearAnimations){const b=e.getProps()[ND];if(b){const y=window.HandoffAppearAnimations(b,f,h,Qt);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let m=!g.isHandoff&&!sV(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(I2(f,h,p,e.shouldReduceMotion&&Wl.has(f)?{type:!1}:g));const x=h.animation;vm(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&tV(e,o)}),u}function kb(e,t,r={}){const n=gx(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(S5(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return oV(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function oV(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(lV).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(kb(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function lV(e,t){return e.sortNodePosition(t)}function cV(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>kb(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=kb(e,t,r);else{const a=typeof t=="function"?gx(e,t,r.custom):t;n=Promise.all(S5(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}const uV=[...b2].reverse(),dV=b2.length;function fV(e){return t=>Promise.all(t.map(({animation:r,options:n})=>cV(e,r,n)))}function hV(e){let t=fV(e);const r=mV();let n=!0;const a=(c,u)=>{const d=gx(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let b=0;b<dV;b++){const y=uV[b],v=r[y],w=d[y]!==void 0?d[y]:f[y],k=ih(w),N=y===u?v.isActive:null;N===!1&&(m=b);let S=w===f[y]&&w!==d[y]&&k;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...g},!v.isActive&&N===null||!w&&!v.prevProp||fx(w)||typeof w=="boolean")continue;let P=pV(v.prevProp,w)||y===u&&v.isActive&&!S&&k||b>m&&k,_=!1;const O=Array.isArray(w)?w:[w];let E=O.reduce(a,{});N===!1&&(E={});const{prevResolvedValues:C={}}=v,z={...C,...E},Q=W=>{P=!0,p.has(W)&&(_=!0,p.delete(W)),v.needsAnimating[W]=!0};for(const W in z){const q=E[W],re=C[W];if(g.hasOwnProperty(W))continue;let G=!1;pm(q)&&pm(re)?G=!GD(q,re):G=q!==re,G?q!==void 0?Q(W):p.add(W):q!==void 0&&p.has(W)?Q(W):v.protectedKeys[W]=!0}v.prevProp=w,v.prevResolvedValues=E,v.isActive&&(g={...g,...E}),n&&e.blockInitialAnimation&&(P=!1),P&&(!S||_)&&h.push(...O.map(W=>({animation:W,options:{type:y,...c}})))}if(p.size){const b={};p.forEach(y=>{const v=e.getBaseTarget(y);v!==void 0&&(b[y]=v)}),h.push({animation:b})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function pV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GD(t,e):!1}function Yo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mV(){return{animate:Yo(!0),whileInView:Yo(),whileHover:Yo(),whileTap:Yo(),whileDrag:Yo(),whileFocus:Yo(),exit:Yo()}}class gV extends Ko{constructor(t){super(t),t.animationState||(t.animationState=hV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let xV=0;class vV extends Ko{constructor(){super(...arguments),this.id=xV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yV={animation:{Feature:gV},exit:{Feature:vV}},wT=(e,t)=>Math.abs(e-t);function bV(e,t){const r=wT(e.x,t.x),n=wT(e.y,t.y);return Math.sqrt(r**2+n**2)}class N5{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ly(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=bV(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=Tn;this.history.push({...g,timestamp:m});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=oy(h,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ly(f.type==="pointercancel"?this.lastMoveEventInfo:oy(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),g&&g(f,x)},!KD(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=mx(t),l=oy(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Tn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,ly(l,this.history)),this.removeListeners=So(ts(this.contextWindow,"pointermove",this.handlePointerMove),ts(this.contextWindow,"pointerup",this.handlePointerUp),ts(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function oy(e,t){return t?{point:t(e.point)}:e}function kT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ly({point:e},t){return{point:e,delta:kT(e,T5(t)),offset:kT(e,wV(t)),velocity:kV(t,.1)}}function wV(e){return e[0]}function T5(e){return e[e.length-1]}function kV(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=T5(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>jl(t)));)r--;if(!n)return{x:0,y:0};const i=rs(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ea(e){return e.max-e.min}function jb(e,t=0,r=.01){return Math.abs(e-t)<=r}function jT(e,t,r,n=.5){e.origin=n,e.originPoint=pr(t.min,t.max,e.origin),e.scale=Ea(r)/Ea(t),(jb(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pr(r.min,r.max,e.origin)-e.originPoint,(jb(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wf(e,t,r,n){jT(e.x,t.x,r.x,n?n.originX:void 0),jT(e.y,t.y,r.y,n?n.originY:void 0)}function ST(e,t,r){e.min=r.min+t.min,e.max=e.min+Ea(t)}function jV(e,t,r){ST(e.x,t.x,r.x),ST(e.y,t.y,r.y)}function NT(e,t,r){e.min=t.min-r.min,e.max=e.min+Ea(t)}function kf(e,t,r){NT(e.x,t.x,r.x),NT(e.y,t.y,r.y)}function SV(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?pr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?pr(r,e,n.max):Math.min(e,r)),e}function TT(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function NV(e,{top:t,left:r,bottom:n,right:a}){return{x:TT(e.x,r,a),y:TT(e.y,t,n)}}function PT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function TV(e,t){return{x:PT(e.x,t.x),y:PT(e.y,t.y)}}function PV(e,t){let r=.5;const n=Ea(e),a=Ea(t);return a>n?r=oh(t.min,t.max-n,e.min):n>a&&(r=oh(e.min,e.max-a,t.min)),Co(0,1,r)}function _V(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Sb=.35;function EV(e=Sb){return e===!1?e=0:e===!0&&(e=Sb),{x:_T(e,"left","right"),y:_T(e,"top","bottom")}}function _T(e,t,r){return{min:ET(e,t),max:ET(e,r)}}function ET(e,t){return typeof e=="number"?e:e[t]||0}const AT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oc=()=>({x:AT(),y:AT()}),OT=()=>({min:0,max:0}),Or=()=>({x:OT(),y:OT()});function Fa(e){return[e("x"),e("y")]}function P5({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function AV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function OV(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function cy(e){return e===void 0||e===1}function Nb({scale:e,scaleX:t,scaleY:r}){return!cy(e)||!cy(t)||!cy(r)}function nl(e){return Nb(e)||_5(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _5(e){return CT(e.x)||CT(e.y)}function CT(e){return e&&e!=="0%"}function ym(e,t,r){const n=e-r,a=t*n;return r+a}function DT(e,t,r,n,a){return a!==void 0&&(e=ym(e,a,n)),ym(e,r,n)+t}function Tb(e,t=0,r=1,n,a){e.min=DT(e.min,t,r,n,a),e.max=DT(e.max,t,r,n,a)}function E5(e,{x:t,y:r}){Tb(e.x,t.translate,t.scale,t.originPoint),Tb(e.y,r.translate,r.scale,r.originPoint)}function CV(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,E5(e,o)),n&&nl(i.latestValues)&&Cc(e,i.latestValues))}t.x=MT(t.x),t.y=MT(t.y)}function MT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ro(e,t){e.min=e.min+t,e.max=e.max+t}function RT(e,t,[r,n,a]){const i=t[a]!==void 0?t[a]:.5,o=pr(e.min,e.max,i);Tb(e,t[r],t[n],o,t.scale)}const DV=["x","scaleX","originX"],MV=["y","scaleY","originY"];function Cc(e,t){RT(e.x,t,DV),RT(e.y,t,MV)}function A5(e,t){return P5(OV(e.getBoundingClientRect(),t))}function RV(e,t,r){const n=A5(e,r),{scroll:a}=t;return a&&(ro(n.x,a.offset.x),ro(n.y,a.offset.y)),n}const O5=({current:e})=>e?e.ownerDocument.defaultView:null,IV=new WeakMap;class LV{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Or(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(mx(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=HD(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ci.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const v=y.layout.layoutBox[x];v&&(b=Ea(v)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&Qt.update(()=>g(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=FV(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new N5(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:O5(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Qt.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!X0(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=SV(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ec(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=NV(a.layoutBox,r):this.constraints=!1,this.elastic=EV(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Fa(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=_V(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ec(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=RV(n,a.root,this.visualElement.getTransformPagePoint());let o=TV(a.layout.layoutBox,i);if(r){const l=r(AV(o));this.hasMutatedConstraints=!!l,l&&(o=P5(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fa(d=>{if(!X0(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(I2(t,n,0,r))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fa(r=>{const{drag:n}=this.getProps();if(!X0(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-pr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ec(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fa(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=PV({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fa(o=>{if(!X0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(pr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;IV.set(this.visualElement,this);const t=this.visualElement.current,r=ts(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ec(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=Xi(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Sb,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function X0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function FV(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class BV extends Ko{constructor(t){super(t),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new LV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const IT=e=>(t,r)=>{e&&Qt.update(()=>e(t,r))};class $V extends Ko{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(t){this.session=new N5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:IT(t),onStart:IT(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Qt.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=ts(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UV(){const e=j.useContext(ux);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=j.useId();return j.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const Lp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ut.test(e))e=parseFloat(e);else return e;const r=LT(e,t.target.x),n=LT(e,t.target.y);return`${r}% ${n}%`}},KV={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Do.parse(e);if(a.length>5)return n;const i=Do.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=pr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class VV extends fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;X9(HV),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Lp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Qt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function C5(e){const[t,r]=UV(),n=j.useContext(k2);return fe.createElement(VV,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(PD),isPresent:t,safeToRemove:r})}const HV={borderRadius:{...Sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomLeftRadius:Sd,borderBottomRightRadius:Sd,boxShadow:KV},D5=["TopLeft","TopRight","BottomLeft","BottomRight"],zV=D5.length,FT=e=>typeof e=="string"?parseFloat(e):e,BT=e=>typeof e=="number"||ut.test(e);function WV(e,t,r,n,a,i){a?(e.opacity=pr(0,r.opacity!==void 0?r.opacity:1,GV(n)),e.opacityExit=pr(t.opacity!==void 0?t.opacity:1,0,qV(n))):i&&(e.opacity=pr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<zV;o++){const l=`border${D5[o]}Radius`;let c=$T(t,l),u=$T(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||BT(c)===BT(u)?(e[l]=Math.max(pr(FT(c),FT(u),n),0),(Ci.test(u)||Ci.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=pr(t.rotate||0,r.rotate||0,n))}function $T(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GV=M5(0,.5,r5),qV=M5(.5,.95,Tr);function M5(e,t,r){return n=>n<e?0:n>t?1:r(oh(e,t,n))}function UT(e,t){e.min=t.min,e.max=t.max}function Da(e,t){UT(e.x,t.x),UT(e.y,t.y)}function KT(e,t,r,n,a){return e-=t,e=ym(e,1/r,n),a!==void 0&&(e=ym(e,1/a,n)),e}function YV(e,t=0,r=1,n=.5,a,i=e,o=e){if(Ci.test(t)&&(t=parseFloat(t),t=pr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=pr(i.min,i.max,n);e===i&&(l-=t),e.min=KT(e.min,t,r,l,a),e.max=KT(e.max,t,r,l,a)}function VT(e,t,[r,n,a],i,o){YV(e,t[r],t[n],t[a],t.scale,i,o)}const XV=["x","scaleX","originX"],JV=["y","scaleY","originY"];function HT(e,t,r,n){VT(e.x,t,XV,r?r.x:void 0,n?n.x:void 0),VT(e.y,t,JV,r?r.y:void 0,n?n.y:void 0)}function zT(e){return e.translate===0&&e.scale===1}function R5(e){return zT(e.x)&&zT(e.y)}function ZV(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function I5(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function WT(e){return Ea(e.x)/Ea(e.y)}class QV{constructor(){this.members=[]}add(t){L2(this.members,t),t.scheduleRender()}remove(t){if(F2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GT(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const eH=(e,t)=>e.depth-t.depth;class tH{constructor(){this.children=[],this.isDirty=!1}add(t){L2(this.children,t),this.isDirty=!0}remove(t){F2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eH),this.isDirty=!1,this.children.forEach(t)}}function rH(e,t){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(fs(n),e(i-t))};return Qt.read(n,!0),()=>fs(n)}function nH(e){window.MotionDebug&&window.MotionDebug.record(e)}function aH(e){return e instanceof SVGElement&&e.tagName!=="svg"}function iH(e,t,r){const n=ua(e)?e:fu(e);return n.start(I2("",n,t,r)),n.animation}const qT=["","X","Y","Z"],sH={visibility:"hidden"},YT=1e3;let oH=0;const al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function L5({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=oH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,al.totalNodes=al.resolvedTargetDeltas=al.recalculatedProjection=0,this.nodes.forEach(uH),this.nodes.forEach(mH),this.nodes.forEach(gH),this.nodes.forEach(dH),nH(al)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new B2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aH(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rH(h,250),Lp.hasAnimatedSinceResize&&(Lp.hasAnimatedSinceResize=!1,this.nodes.forEach(JT))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||wH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!I5(this.targetLayout,g)||p,v=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const w={...R2(m,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||JT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XT);return}this.isUpdating||this.nodes.forEach(hH),this.isUpdating=!1,this.nodes.forEach(pH),this.nodes.forEach(lH),this.nodes.forEach(cH),this.clearAllSnapshots();const l=performance.now();Tn.delta=Co(0,1e3/60,l-Tn.timestamp),Tn.timestamp=l,Tn.isProcessing=!0,Qv.update.process(Tn),Qv.preRender.process(Tn),Qv.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fH),this.sharedNodes.forEach(vH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!R5(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||nl(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),kH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Or();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ro(l.x,c.offset.x),ro(l.y,c.offset.y)),l}removeElementScroll(o){const l=Or();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Da(l,o);const{scroll:h}=this.root;h&&(ro(l.x,-h.offset.x),ro(l.y,-h.offset.y))}ro(l.x,d.offset.x),ro(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Or();Da(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),nl(d.latestValues)&&Cc(c,d.latestValues)}return nl(this.latestValues)&&Cc(c,this.latestValues),c}removeTransform(o){const l=Or();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!nl(u.latestValues))continue;Nb(u.latestValues)&&u.updateSnapshot();const d=Or(),f=u.measurePageBox();Da(d,f),HT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return nl(this.latestValues)&&HT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Tn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),kf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Or(),this.targetWithTransforms=Or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),E5(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),kf(this.relativeTargetOrigin,this.target,p.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nb(this.parent.latestValues)||_5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Da(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;CV(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Oc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Oc(),this.projectionDeltaWithTransform=Oc());const m=this.projectionTransform;wf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=GT(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Oc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Or(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,x=this.getStack(),b=!x||x.members.length<=1,y=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(bH));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const k=w/1e3;ZT(f.x,o.x,k),ZT(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yH(this.relativeTarget,this.relativeTargetOrigin,h,k),v&&ZV(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Or()),Da(v,this.relativeTarget)),m&&(this.animationValues=d,WV(d,u,this.latestValues,k,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{Lp.hasAnimatedSinceResize=!0,this.currentAnimation=iH(0,YT,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&F5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Or();const f=Ea(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ea(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Da(l,c),Cc(l,d),wf(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QV),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<qT.length;d++){const f="rotate"+qT[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sH;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ip(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ip(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nl(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=GT(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in fm){if(h[m]===void 0)continue;const{correct:x,applyTo:b}=fm[m],y=u.transform==="none"?h[m]:x(h[m],f);if(b){const v=b.length;for(let w=0;w<v;w++)u[b[w]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?Ip(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(XT),this.root.sharedNodes.clear()}}}function lH(e){e.updateLayout()}function cH(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Fa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ea(h);h.min=n[f].min,h.max=h.min+p}):F5(i,r.layoutBox,n)&&Fa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ea(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Oc();wf(l,n,r.layoutBox);const c=Oc();o?wf(c,e.applyTransform(a,!0),r.measuredBox):wf(c,n,r.layoutBox);const u=!R5(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Or();kf(g,r.layoutBox,h.layoutBox);const m=Or();kf(m,n,p.layoutBox),I5(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function uH(e){al.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fH(e){e.clearSnapshot()}function XT(e){e.clearMeasurements()}function hH(e){e.isLayoutDirty=!1}function pH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mH(e){e.resolveTargetDelta()}function gH(e){e.calcProjection()}function xH(e){e.resetRotation()}function vH(e){e.removeLeadSnapshot()}function ZT(e,t,r){e.translate=pr(t.translate,0,r),e.scale=pr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function QT(e,t,r,n){e.min=pr(t.min,r.min,n),e.max=pr(t.max,r.max,n)}function yH(e,t,r,n){QT(e.x,t.x,r.x,n),QT(e.y,t.y,r.y,n)}function bH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wH={duration:.45,ease:[.4,0,.1,1]},eP=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),tP=eP("applewebkit/")&&!eP("chrome/")?Math.round:Tr;function rP(e){e.min=tP(e.min),e.max=tP(e.max)}function kH(e){rP(e.x),rP(e.y)}function F5(e,t,r){return e==="position"||e==="preserve-aspect"&&!jb(WT(t),WT(r),.2)}const jH=L5({attachResizeListener:(e,t)=>Xi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uy={current:void 0},B5=L5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!uy.current){const e=new jH({});e.mount(window),e.setOptions({layoutScroll:!0}),uy.current=e}return uy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),SH={pan:{Feature:$V},drag:{Feature:BV,ProjectionNode:B5,MeasureLayout:C5}},NH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TH(e){const t=NH.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Pb(e,t,r=1){const[n,a]=TH(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return w5(o)?parseFloat(o):o}else return gb(a)?Pb(a,t,r+1):a}function PH(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const i=a.get();if(!gb(i))return;const o=Pb(i,n);o&&a.set(o)});for(const a in t){const i=t[a];if(!gb(i))continue;const o=Pb(i,n);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:t,transitionEnd:r}}const _H=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$5=e=>_H.has(e),EH=e=>Object.keys(e).some($5),nP=e=>e===Gl||e===ut,aP=(e,t)=>parseFloat(e.split(", ")[t]),iP=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return aP(a[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?aP(i[1],e):0}},AH=new Set(["x","y","z"]),OH=s0.filter(e=>!AH.has(e));function CH(e){const t=[];return OH.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const hu={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:iP(4,13),y:iP(5,14)};hu.translateX=hu.x;hu.translateY=hu.y;const DH=(e,t,r)=>{const n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=hu[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=hu[u](c,i)}),e},MH=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter($5);let i=[],o=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=jd(d);const h=t[c];let p;if(pm(h)){const g=h.length,m=h[0]===null?1:0;d=h[m],f=jd(d);for(let x=m;x<g&&h[x]!==null;x++)p?A2(jd(h[x])===p):p=jd(h[x])}else p=jd(h);if(f!==p)if(nP(f)&&nP(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===ut&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(i=CH(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=DH(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),dx&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function RH(e,t,r,n){return EH(t)?MH(e,t,r,n):{target:t,transitionEnd:n}}const IH=(e,t,r,n)=>{const a=PH(e,t,n);return t=a.target,n=a.transitionEnd,RH(e,t,r,n)},_b={current:null},U5={current:!1};function LH(){if(U5.current=!0,!!dx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_b.current=e.matches;e.addListener(t),t()}else _b.current=!1}function FH(e,t,r){const{willChange:n}=t;for(const a in t){const i=t[a],o=r[a];if(ua(i))e.addValue(a,i),vm(n)&&n.add(a);else if(ua(o))e.addValue(a,fu(i,{owner:e})),vm(n)&&n.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,fu(l!==void 0?l:i,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const sP=new WeakMap,K5=Object.keys(sh),BH=K5.length,oP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$H=w2.length;class UH{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=hx(r),this.isVariantNode=TD(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&ua(h)&&(h.set(l[f],!1),vm(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,sP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),U5.current||LH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_b.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sP.delete(this.current),this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Wl.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Qt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,i){let o,l;for(let c=0;c<BH;c++){const u=K5[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=sh[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Ec(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Or()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<oP.length;n++){const a=oP[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=FH(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<$H;n++){const a=w2[n],i=this.props[a];(ih(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=fu(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=E2(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ua(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new B2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class V5 extends UH{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},i){let o=aV(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),i){rV(this,n,o);const l=IH(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function KH(e){return window.getComputedStyle(e)}class VH extends V5{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Wl.has(r)){const n=M2(r);return n&&n.default||0}else{const n=KH(t),a=(AD(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return A5(t,r)}build(t,r,n,a){S2(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return _2(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ua(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){ID(t,r,n,a)}}class HH extends V5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Wl.has(r)){const n=M2(r);return n&&n.default||0}return r=LD.has(r)?r:y2(r),t.getAttribute(r)}measureInstanceViewportBox(){return Or()}scrapeMotionValuesFromProps(t,r){return BD(t,r)}build(t,r,n,a){T2(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){FD(t,r,n,a)}mount(t){this.isSVGTag=P2(t.tagName),super.mount(t)}}const zH=(e,t)=>j2(e)?new HH(t,{enableHardwareAcceleration:!1}):new VH(t,{enableHardwareAcceleration:!0}),WH={layout:{ProjectionNode:B5,MeasureLayout:C5}},GH={...yV,...BU,...SH,...WH},qt=q9((e,t)=>TU(e,t,GH,zH));function H5(){const e=j.useRef(!1);return v2(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function qH(){const e=H5(),[t,r]=j.useState(0),n=j.useCallback(()=>{e.current&&r(t+1)},[t]);return[j.useCallback(()=>Qt.postRender(n),[n]),t]}class YH extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function XH({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),j.createElement(YH,{isPresent:t,childRef:n,sizeRef:a},j.cloneElement(e,{ref:n}))}const dy=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=$D(JH),c=j.useId(),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return j.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),j.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=j.createElement(XH,{isPresent:r},e)),j.createElement(ux.Provider,{value:u},e)};function JH(){return new Map}function ZH(e){return j.useEffect(()=>()=>e(),[])}const il=e=>e.key||"";function QH(e,t){e.forEach(r=>{const n=il(r);t.set(n,r)})}function ez(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const No=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=j.useContext(k2).forceRender||qH()[0],c=H5(),u=ez(e);let d=u;const f=j.useRef(new Map).current,h=j.useRef(d),p=j.useRef(new Map).current,g=j.useRef(!0);if(v2(()=>{g.current=!1,QH(u,p),h.current=d}),ZH(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return j.createElement(j.Fragment,null,d.map(y=>j.createElement(dy,{key:il(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},y)));d=[...d];const m=h.current.map(il),x=u.map(il),b=m.length;for(let y=0;y<b;y++){const v=m[y];x.indexOf(v)===-1&&!f.has(v)&&f.set(v,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,v)=>{if(x.indexOf(v)!==-1)return;const w=p.get(v);if(!w)return;const k=m.indexOf(v);let N=y;if(!N){const S=()=>{f.delete(v);const T=Array.from(p.keys()).filter(P=>!x.includes(P));if(T.forEach(P=>p.delete(P)),h.current=u.filter(P=>{const _=il(P);return _===v||T.includes(_)}),!f.size){if(c.current===!1)return;l(),n&&n()}};N=j.createElement(dy,{key:il(w),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:i,mode:o},w),f.set(v,N)}d.splice(k,0,N)}),d=d.map(y=>{const v=y.key;return f.has(v)?y:j.createElement(dy,{key:il(y),isPresent:!0,presenceAffectsLayout:i,mode:o},y)}),j.createElement(j.Fragment,null,f.size?d:d.map(y=>j.cloneElement(y)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ke=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>j.createElement("svg",{ref:d,...tz,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${rz(e)}`,l].join(" "),...u},[...t.map(([f,h])=>j.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ke("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Ke("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Ke("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Ke("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Ke("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ke("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Ke("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=Ke("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Ke("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=Ke("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Ke("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Ke("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ke("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Ke("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ke("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=Ke("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=Ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ke("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=Ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=Ke("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ke("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=Ke("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=Ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Ke("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=Ke("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=Ke("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ke("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=Ke("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=Ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=Ke("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=Ke("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ke("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=Ke("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=Ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ke("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function bP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Az(...e){return t=>{let r=!1;const n=e.map(a=>{const i=bP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():bP(e[a],null)}}}}var Oz=Symbol.for("react.lazy"),Nm=qO[" use ".trim().toString()];function Cz(e){return typeof e=="object"&&e!==null&&"then"in e}function J5(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Oz&&"_payload"in e&&Cz(e._payload)}function Dz(e){const t=Rz(e),r=j.forwardRef((n,a)=>{let{children:i,...o}=n;J5(i)&&typeof Nm=="function"&&(i=Nm(i._payload));const l=j.Children.toArray(i),c=l.find(Lz);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Mz=Dz("Slot");function Rz(e){const t=j.forwardRef((r,n)=>{let{children:a,...i}=r;if(J5(a)&&typeof Nm=="function"&&(a=Nm(a._payload)),j.isValidElement(a)){const o=Bz(a),l=Fz(i,a.props);return a.type!==j.Fragment&&(l.ref=n?Az(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Iz=Symbol("radix.slottable");function Lz(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Iz}function Fz(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Bz(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const wP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kP=gt,Z5=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return kP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=wP(d)||wP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,f,h]:u},[]);return kP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},$z=Z5("inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-secondary text-secondary-foreground border border-border hover:bg-muted active:bg-muted/80",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",success:"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800",outline:"border border-border bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"text-muted-foreground hover:bg-accent hover:text-accent-foreground",link:"text-primary-600 underline-offset-4 hover:underline p-0 h-auto",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800"},size:{sm:"h-8 rounded-md px-3 text-xs gap-1.5",md:"h-9 rounded-lg px-4 gap-2",lg:"h-11 rounded-lg px-6 text-base gap-2",icon:"h-9 w-9 rounded-lg"}},defaultVariants:{variant:"primary",size:"md"}}),ve=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,isLoading:a,children:i,disabled:o,...l},c)=>{const u=n?Mz:"button";return s.jsxs(u,{ref:c,className:Ge($z({variant:t,size:r,className:e})),disabled:o||a,...l,children:[a&&s.jsxs("svg",{className:"animate-spin h-4 w-4 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});ve.displayName="Button";const Ee=j.forwardRef(({className:e,label:t,error:r,helperText:n,id:a,type:i,...o},l)=>{const c=a||o.name;return s.jsxs("div",{className:"w-full",children:[t&&s.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),s.jsx("input",{id:c,type:i,ref:l,className:Ge("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","file:border-0 file:bg-transparent file:text-sm file:font-medium",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o}),r&&s.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r}),n&&!r&&s.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground",children:n})]})});Ee.displayName="Input";const et=j.forwardRef(({className:e,label:t,error:r,options:n,placeholder:a,id:i,...o},l)=>{const c=i||o.name;return s.jsxs("div",{className:"w-full",children:[t&&s.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{id:c,ref:l,className:Ge("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","[&>option]:bg-background [&>option]:text-foreground",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o,children:[a&&s.jsx("option",{value:"",disabled:!0,children:a}),n.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))]}),s.jsx(yx,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),r&&s.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r})]})});et.displayName="Select";const Me=j.forwardRef(({children:e,className:t,...r},n)=>s.jsx("div",{ref:n,className:Ge("bg-card text-card-foreground rounded-lg border border-border shadow-soft",t),...r,children:e}));Me.displayName="Card";const St=j.forwardRef(({children:e,className:t,...r},n)=>s.jsx("div",{ref:n,className:Ge("flex flex-col gap-1 px-5 py-4",t),...r,children:e}));St.displayName="CardHeader";const Nt=j.forwardRef(({children:e,className:t,...r},n)=>s.jsx("h3",{ref:n,className:Ge("text-sm font-semibold text-foreground leading-none tracking-tight",t),...r,children:e}));Nt.displayName="CardTitle";const Uz=j.forwardRef(({children:e,className:t,...r},n)=>s.jsx("p",{ref:n,className:Ge("text-xs text-muted-foreground",t),...r,children:e}));Uz.displayName="CardDescription";const _n=j.forwardRef(({children:e,className:t,...r},n)=>s.jsx("div",{ref:n,className:Ge("px-5 pb-5",t),...r,children:e}));_n.displayName="CardContent";const Kz=j.forwardRef(({children:e,className:t,...r},n)=>s.jsx("div",{ref:n,className:Ge("flex items-center px-5 py-3 border-t border-border",t),...r,children:e}));Kz.displayName="CardFooter";const xt=({isOpen:e,onClose:t,title:r,description:n,children:a,size:i="md",showCloseButton:o=!0,closeOnOverlayClick:l=!1,className:c})=>{const u=j.useRef(null),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl"};j.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const f=h=>{l&&h.target===h.currentTarget&&t()};return typeof window>"u"?null:J3.createPortal(s.jsx(No,{children:e&&s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx(qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm",onClick:f}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",onClick:f,children:s.jsxs(qt.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:Ge("relative w-full bg-card rounded-lg shadow-soft-xl border border-border",d[i],c),onClick:h=>h.stopPropagation(),children:[(r||o)&&s.jsxs("div",{className:"flex items-start justify-between px-5 py-4 border-b border-border",children:[s.jsxs("div",{children:[r&&s.jsx("h2",{className:"text-sm font-semibold text-foreground",children:r}),n&&s.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:n})]}),o&&s.jsx("button",{onClick:t,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:s.jsx(qa,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"px-5 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:a})]})})]})}),document.body)},_r=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:i="Konfirmasi",cancelText:o="Batal",variant:l="danger",isLoading:c=!1})=>{const u={danger:"bg-red-600 text-white hover:bg-red-700",warning:"bg-amber-600 text-white hover:bg-amber-700",info:"bg-primary-600 text-white hover:bg-primary-700"};return s.jsx(xt,{isOpen:e,onClose:t,size:"sm",showCloseButton:!1,children:s.jsxs("div",{className:"text-center py-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:n}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:a}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-foreground bg-secondary border border-border rounded-lg hover:bg-muted transition-colors",disabled:c,children:o}),s.jsx("button",{onClick:r,className:Ge("px-4 py-2 text-sm font-medium rounded-lg transition-colors",u[l]),disabled:c,children:c?"Loading...":i})]})]})})},jn=({isOpen:e,onClose:t,onSubmit:r,action:n,itemName:a="data ini",loading:i=!1})=>{const[o,l]=j.useState(""),c=()=>{if(!o.trim()){alert("Mohon isi alasan permintaan");return}r(o),l("")},u=()=>{l(""),t()};return s.jsx(xt,{isOpen:e,onClose:u,title:`Permintaan ${n==="edit"?"Edit":"Hapus"} Data`,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[s.jsx(bm,{className:"h-5 w-5 text-amber-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-amber-800",children:[s.jsx("p",{className:"font-medium",children:"Perlu Persetujuan"}),s.jsxs("p",{className:"mt-1",children:["Anda akan mengajukan permintaan untuk"," ",s.jsx("strong",{children:n==="edit"?"mengedit":"menghapus"})," ",a,". Permintaan ini akan dikirim ke AVP, Supervisor, atau Admin untuk disetujui."]})]})]}),s.jsx(Ee,{label:"Alasan Permintaan",placeholder:`Jelaskan alasan mengapa Anda ingin ${n==="edit"?"mengedit":"menghapus"} data ini...`,value:o,onChange:d=>l(d.target.value),required:!0}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[s.jsx(ve,{variant:"secondary",onClick:u,disabled:i,children:"Batal"}),s.jsxs(ve,{onClick:c,disabled:i,children:[s.jsx(q5,{className:"h-4 w-4 mr-2"}),i?"Mengirim...":"Kirim Permintaan"]})]})]})})},Vz=Z5("inline-flex items-center font-medium transition-colors",{variants:{variant:{default:"bg-secondary text-secondary-foreground",primary:"bg-primary-50 text-primary-700 dark:bg-primary-950/50 dark:text-primary-300",success:"bg-emerald-50 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-300",warning:"bg-amber-50 text-amber-700 dark:bg-amber-950/50 dark:text-amber-300",danger:"bg-red-50 text-red-700 dark:bg-red-950/50 dark:text-red-300",info:"bg-cyan-50 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-300",outline:"border border-border text-foreground"},size:{sm:"px-1.5 py-0.5 text-[10px] rounded",md:"px-2 py-0.5 text-xs rounded-md",lg:"px-2.5 py-1 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"md"}}),Xe=({className:e,variant:t,size:r,...n})=>s.jsx("span",{className:Ge(Vz({variant:t,size:r,className:e})),...n}),Hz=({children:e,className:t})=>s.jsx("div",{className:Ge("w-full overflow-x-auto",t),children:s.jsx("table",{className:"w-full border-collapse",children:e})}),zz=({children:e,className:t})=>s.jsx("thead",{className:Ge("bg-muted/50 border-b border-border",t),children:e}),Wz=({children:e,className:t})=>s.jsx("tbody",{className:Ge("divide-y divide-border",t),children:e}),jP=({children:e,className:t,onClick:r,isClickable:n})=>s.jsx("tr",{className:Ge("transition-colors",n&&"cursor-pointer hover:bg-muted/50",t),onClick:r,children:e}),SP=({children:e,className:t,sortable:r,sorted:n,onSort:a,style:i})=>s.jsx("th",{className:Ge("px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",r&&"cursor-pointer select-none hover:text-foreground",t),onClick:r?a:void 0,style:i,children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[e,r&&s.jsxs("span",{className:"flex flex-col",children:[s.jsx(z5,{className:Ge("h-3 w-3 -mb-1",n==="asc"?"text-primary-600":"text-muted-foreground/30")}),s.jsx(yx,{className:Ge("h-3 w-3",n==="desc"?"text-primary-600":"text-muted-foreground/30")})]})]})}),NP=({children:e,className:t})=>s.jsx("td",{className:Ge("px-4 py-3 text-sm text-foreground whitespace-nowrap",t),children:e}),Gz=({message:e="Tidak ada data",icon:t})=>s.jsx("tr",{children:s.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t,s.jsx("p",{className:"text-sm",children:e})]})})}),qz=()=>s.jsx("tr",{children:s.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Memuat data..."})]})})}),Yz=({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,itemsPerPage:a=10})=>{const i=(e-1)*a+1,o=Math.min(e*a,n||0),l=()=>{const c=[];if(t<=5)for(let d=1;d<=t;d++)c.push(d);else if(e<=3){for(let d=1;d<=4;d++)c.push(d);c.push("..."),c.push(t)}else if(e>=t-2){c.push(1),c.push("...");for(let d=t-3;d<=t;d++)c.push(d)}else{c.push(1),c.push("...");for(let d=e-1;d<=e+1;d++)c.push(d);c.push("..."),c.push(t)}return c};return t<=1?null:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[n&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",i," - ",o," dari ",n," data"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx($2,{className:"h-4 w-4"})}),l().map((c,u)=>s.jsx("button",{onClick:()=>typeof c=="number"&&r(c),disabled:c==="...",className:Ge("min-w-[36px] h-9 px-2.5 text-sm font-medium rounded-lg transition-colors",c===e?"bg-primary-600 text-white":c==="..."?"text-muted-foreground cursor-default":"text-foreground hover:bg-muted"),children:c},u)),s.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(U2,{className:"h-4 w-4"})})]})]})},Xz=({value:e,onChange:t,placeholder:r="Cari..."})=>s.jsxs("div",{className:"relative w-full max-w-xs",children:[s.jsx(wx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),s.jsx(Ee,{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"pl-10"})]});function Ir({data:e,columns:t,loading:r=!1,emptyMessage:n="Tidak ada data",searchable:a=!0,searchKeys:i=[],searchPlaceholder:o="Cari...",pagination:l=!0,itemsPerPage:c=10,onRowClick:u,actions:d}){const[f,h]=j.useState(""),[p,g]=j.useState(1),[m,x]=j.useState(null),[b,y]=j.useState("asc"),v=f?e.filter(T=>i.some(P=>{const _=T[P];return typeof _=="string"?_.toLowerCase().includes(f.toLowerCase()):typeof _=="number"?_.toString().includes(f):!1})):e,w=m?[...v].sort((T,P)=>{const _=T[m],O=P[m];if(_===O)return 0;if(_==null)return 1;if(O==null)return-1;const E=_<O?-1:1;return b==="asc"?E:-E}):v,k=Math.ceil(w.length/c),N=l?w.slice((p-1)*c,p*c):w,S=T=>{m===T?y(b==="asc"?"desc":"asc"):(x(T),y("asc"))};return s.jsxs("div",{className:"card",children:[a&&s.jsx("div",{className:"px-4 py-3 border-b border-border",children:s.jsx(Xz,{value:f,onChange:h,placeholder:o})}),s.jsxs(Hz,{children:[s.jsx(zz,{children:s.jsxs(jP,{children:[t.map(T=>s.jsx(SP,{sortable:T.sortable,sorted:m===T.key?b:null,onSort:()=>T.sortable&&S(T.key),style:{width:T.width},children:T.header},T.key)),d&&s.jsx(SP,{children:"Aksi"})]})}),s.jsx(Wz,{children:r?s.jsx(qz,{}):N.length===0?s.jsx(Gz,{message:n}):N.map((T,P)=>s.jsxs(jP,{onClick:()=>u==null?void 0:u(T),isClickable:!!u,children:[t.map(_=>s.jsx(NP,{children:_.render?_.render(T[_.key],T):String(T[_.key]??"-")},_.key)),d&&s.jsx(NP,{children:d(T)})]},P))})]}),l&&s.jsx(Yz,{currentPage:p,totalPages:k,onPageChange:g,totalItems:w.length,itemsPerPage:c})]})}const Tm=({size:e="md",className:t})=>{const r={sm:"h-4 w-4 border-2",md:"h-5 w-5 border-2",lg:"h-8 w-8 border-[3px]"};return s.jsx("div",{className:Ge("border-primary-600 border-t-transparent rounded-full animate-spin",r[e],t)})},jr=({isVisible:e,message:t="Berhasil!",onClose:r,autoCloseDelay:n=1500})=>(j.useEffect(()=>{if(e&&r&&n>0){const a=setTimeout(()=>{r()},n);return()=>clearTimeout(a)}},[e,r,n]),e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-foreground/20 backdrop-blur-sm",onClick:r,children:s.jsxs("div",{className:"bg-card rounded-lg p-8 shadow-soft-xl text-center animate-scale-in border border-border",children:[s.jsx("div",{className:"w-14 h-14 mx-auto mb-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-7 h-7 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("p",{className:"text-base font-semibold text-foreground",children:t})]})}):null),qu=({isOpen:e,onClose:t,title:r,data:n,columns:a,signatures:i,filters:o,summaryRows:l,plant:c,compactMode:u=!1})=>{const d=j.useRef(null),[f,h]=j.useState(dr()),[p,g]=j.useState(dr()),[m,x]=j.useState("ALL"),[b,y]=j.useState("ALL"),[v,w]=j.useState("ALL"),[k,N]=j.useState({});if(j.useEffect(()=>{const E={};i.forEach(C=>{E[C.role]={jabatan:"",nama:"",noBadge:""}}),N(E)},[i]),!e)return null;const S=n.filter(E=>{const C=new Date(E.tanggal),z=new Date(f),Q=new Date(p);return Q.setHours(23,59,59,999),!(C<z||C>Q||o!=null&&o.kategori&&m!=="ALL"&&E.kategori!==m||o!=null&&o.forklift&&b!=="ALL"&&E.forklift!==b||o!=null&&o.shift&&v!=="ALL"&&E.shift!==v)}).sort((E,C)=>new Date(E.tanggal).getTime()-new Date(C.tanggal).getTime()),T=()=>{const E=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],C=new Date;return`${C.getDate()} ${E[C.getMonth()]} ${C.getFullYear()}`},P=()=>{const E=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],C=new Date(f),z=new Date(p);return`${C.getDate()} ${E[C.getMonth()]} ${C.getFullYear()} - ${z.getDate()} ${E[z.getMonth()]} ${z.getFullYear()}`},_=()=>{const E=d.current;if(!E)return;const C=window.open("","_blank");C&&(C.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${r}</title>
        <style>
          @page {
            size: A4;
            margin: ${u?"8mm 10mm":"12mm"};
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Times New Roman', Times, serif;
            font-size: ${u?"9pt":"10pt"};
            line-height: ${u?"1.2":"1.4"};
            color: #000;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
          }
          .header {
            text-align: center;
            margin-bottom: ${u?"8px":"15px"};
          }
          .header h1 {
            font-size: ${u?"12pt":"14pt"};
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: ${u?"3px":"4px"};
            letter-spacing: 1px;
            color: #000;
          }
          .header .periode {
            font-size: ${u?"10pt":"11pt"};
            font-weight: bold;
            text-transform: uppercase;
            color: #000;
          }
          .filter-info {
            font-size: ${u?"8pt":"9pt"};
            margin-bottom: ${u?"5px":"10px"};
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: ${u?"6px":"8px"};
            font-size: ${u?"8pt":"9pt"};
          }
          th, td {
            border: 1px solid #000;
            padding: ${u?"2px 4px":"5px 6px"};
            text-align: center;
            line-height: ${u?"1.2":"1.4"};
          }
          thead tr:first-child th {
            background-color: transparent;
            font-weight: bold;
            border: 1px solid #000;
            padding: ${u?"3px 4px":"5px 6px"};
          }
          thead tr:nth-child(2) th {
            background-color: transparent;
            font-weight: bold;
          }
          tbody td {
            text-align: center;
            white-space: nowrap;
          }
          td.number, .number {
            text-align: right;
            white-space: nowrap;
          }
          td.left {
            text-align: left;
          }
          .summary-row td {
            font-weight: bold;
            border: 1px solid #000;
          }
          .subtotal-label {
            text-align: center;
            font-weight: bold;
          }
          .footer {
            margin-top: ${u?"10px":"20px"};
            text-align: right;
            font-size: ${u?"9pt":"10pt"};
            color: #000;
            font-style: italic;
          }
          .signatures {
            display: flex;
            justify-content: flex-end;
            margin-top: ${u?"12px":"30px"};
            padding-right: 20px;
          }
          .signature-box {
            text-align: center;
            min-width: ${u?"140px":"180px"};
          }
          .signature-box .label {
            font-size: ${u?"9pt":"10pt"};
            margin-bottom: ${u?"3px":"5px"};
          }
          .signature-box .position {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            margin-bottom: ${u?"35px":"60px"};
          }
          .signature-box .name {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            text-decoration: underline;
            margin-bottom: 2px;
          }
          .signature-box .badge {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
          }
          .multi-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: ${u?"12px":"30px"};
            gap: ${u?"10px":"20px"};
          }
          .multi-signatures .signature-box {
            flex: 1;
            text-align: center;
          }
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${E.innerHTML}
      </body>
      </html>
    `),C.document.close(),C.focus(),setTimeout(()=>{C.print(),C.close()},250))},O=(E,C,z)=>{N(Q=>({...Q,[E]:{...Q[E],[C]:z}}))};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxs("h2",{className:"text-lg font-bold text-dark-900",children:["Cetak ",r]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 rounded-lg",children:s.jsx(qa,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4 border-b bg-dark-50 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[s.jsx(gi,{className:"inline h-4 w-4 mr-1"}),"Tanggal Mulai"]}),s.jsx("input",{type:"date",value:f,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[s.jsx(gi,{className:"inline h-4 w-4 mr-1"}),"Tanggal Akhir"]}),s.jsx("input",{type:"date",value:p,onChange:E=>g(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),((o==null?void 0:o.kategori)||(o==null?void 0:o.forklift)||(o==null?void 0:o.shift))&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(o==null?void 0:o.kategori)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.kategori.label}),s.jsxs("select",{value:m,onChange:E=>x(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"ALL",children:"Semua"}),o.kategori.options.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))]})]}),(o==null?void 0:o.forklift)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.forklift.label}),s.jsxs("select",{value:b,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"ALL",children:"Semua"}),o.forklift.options.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))]})]}),(o==null?void 0:o.shift)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.shift.label}),s.jsxs("select",{value:v,onChange:E=>w(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"ALL",children:"Semua"}),o.shift.options.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-dark-700",children:"Data Tanda Tangan"}),s.jsx("div",{className:"space-y-3",children:i.map(E=>{var C,z,Q;return s.jsxs("div",{className:"p-3 bg-white rounded-lg border border-dark-200",children:[s.jsx("h4",{className:"text-xs font-semibold text-dark-600 mb-2",children:E.label}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("input",{type:"text",placeholder:"Jabatan",value:((C=k[E.role])==null?void 0:C.jabatan)||"",onChange:W=>O(E.role,"jabatan",W.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),s.jsx("input",{type:"text",placeholder:"Nama",value:((z=k[E.role])==null?void 0:z.nama)||"",onChange:W=>O(E.role,"nama",W.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),E.role!=="operator"&&s.jsx("input",{type:"text",placeholder:"No. Badge",value:((Q=k[E.role])==null?void 0:Q.noBadge)||"",onChange:W=>O(E.role,"noBadge",W.target.value),className:"flex-1 min-w-[120px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"})]})]},E.role)})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-dark-500",children:[S.length," data ditemukan"]}),s.jsxs("button",{onClick:_,disabled:S.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Cetak"]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:s.jsx("div",{ref:d,className:"bg-white p-6 shadow-lg mx-auto",style:{maxWidth:"210mm",minHeight:"297mm"},children:s.jsxs("div",{className:"print-container",children:[s.jsxs("div",{className:"header",children:[s.jsxs("h1",{children:["LAPORAN ",r.toUpperCase()]}),s.jsxs("div",{className:"periode",children:["PERIODE : ",P().toUpperCase()]})]}),(m!=="ALL"||b!=="ALL"||v!=="ALL")&&s.jsxs("div",{className:"filter-info",children:[m!=="ALL"&&s.jsxs("span",{children:["Kategori: ",m," | "]}),b!=="ALL"&&s.jsxs("span",{children:["Forklift: ",b," | "]}),v!=="ALL"&&s.jsxs("span",{children:["Shift: ",v]})]}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{style:{width:"30px"},children:"No"}),a.map(E=>s.jsx("th",{style:{width:E.width},children:E.header},E.key))]})}),s.jsxs("tbody",{children:[S.map((E,C)=>s.jsxs("tr",{children:[s.jsx("td",{className:"center",children:C+1}),a.map(z=>{const Q=z.render?z.render(E[z.key],E):E[z.key];return s.jsx("td",{className:z.align==="right"?"number":z.align==="center"?"center":"",children:Q},z.key)})]},C)),l&&l.map((E,C)=>s.jsxs("tr",{className:"summary-row",children:[s.jsx("td",{colSpan:a.length,style:{textAlign:"right",paddingRight:"10px"},children:E.label}),s.jsx("td",{className:"number",children:E.getValue(S)})]},`summary-${C}`))]})]}),s.jsxs("div",{className:"footer",children:["Cikampek, ",T()]}),s.jsx("div",{className:i.length>1?"multi-signatures":"signatures",children:i.map(E=>{var C,z,Q,W;return s.jsxs("div",{className:"signature-box",children:[s.jsx("div",{className:"label",children:E.label}),s.jsx("div",{className:"position",children:((C=k[E.role])==null?void 0:C.jabatan)||""}),E.role!=="operator"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"name",children:((z=k[E.role])==null?void 0:z.nama)||""}),s.jsx("div",{className:"badge",children:((Q=k[E.role])==null?void 0:Q.noBadge)||""})]}):s.jsx("div",{className:"name",children:((W=k[E.role])==null?void 0:W.nama)||""})]},E.role)})})]})})})]})})},Jz=({isOpen:e,onClose:t,data:r,plant:n})=>{const a=j.useRef(null),[i,o]=j.useState(dr()),[l,c]=j.useState(dr()),[u,d]=j.useState({nama:"",noBadge:"",jabatan:""}),[f,h]=j.useState({nama:"",noBadge:"",jabatan:""});if(j.useEffect(()=>{if(e){const w=new Date,k=new Date(w.getFullYear(),w.getMonth(),1),N=new Date(w.getFullYear(),w.getMonth()+1,0);o(k.toISOString().split("T")[0]),c(N.toISOString().split("T")[0])}},[e]),!e)return null;const p=r.filter(w=>{const k=new Date(w.tanggal),N=new Date(i),S=new Date(l);return S.setHours(23,59,59,999),k>=N&&k<=S}).sort((w,k)=>new Date(w.tanggal).getTime()-new Date(k.tanggal).getTime()),g=p.reduce((w,k)=>w+(k.pengajuanSolar||0),0),m=p.reduce((w,k)=>w+(k.realisasiPengisian||0),0),x=m-g,b=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],k=new Date;return`${k.getDate()} ${w[k.getMonth()]} ${k.getFullYear()}`},y=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],k=new Date(i),N=new Date(l);return`${k.getDate()} ${w[k.getMonth()]} ${k.getFullYear()} - ${N.getDate()} ${w[N.getMonth()]} ${N.getFullYear()}`},v=()=>{const w=a.current;if(!w)return;const k=window.open("","_blank");k&&(k.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Rekap BBM Alat Berat - ${n}</title>
        <style>
          @page {
            size: A4 portrait;
            margin: 6mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 7pt;
            line-height: 1.1;
            color: #1a1a2e;
            background: #fff;
          }
          .print-container {
            width: 100%;
            max-width: 200mm;
            padding: 3px;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 2px solid #2563eb;
          }
          .header h1 {
            font-size: 12pt;
            font-weight: 700;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 8pt;
            font-weight: 600;
            margin: 3px 0;
          }
          .header .periode {
            font-size: 8pt;
            color: #64748b;
            margin-top: 3px;
          }
          .header .periode span {
            font-weight: 600;
            color: #334155;
          }
          
          /* Table Styles */
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 6px;
            font-size: 6pt;
          }
          thead th {
            background: linear-gradient(180deg, #1e40af, #1e3a8a);
            color: white;
            font-weight: 600;
            padding: 3px 2px;
            text-align: center;
            border: 1px solid #1e3a8a;
            text-transform: uppercase;
            font-size: 6pt;
            letter-spacing: 0.2px;
          }
          tbody td {
            padding: 2px 3px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 6pt;
          }
          tbody tr:nth-child(even) {
            background-color: #f8fafc;
          }
          tbody tr:hover {
            background-color: #e0e7ff;
          }
          .text-left {
            text-align: left !important;
          }
          .text-right {
            text-align: right !important;
          }
          .font-mono {
            font-family: 'Consolas', monospace;
          }
          
          /* Number formatting */
          .number-positive {
            color: #059669;
            font-weight: 600;
          }
          .number-negative {
            color: #dc2626;
            font-weight: 600;
          }
          
          /* Summary Row */
          .summary-row td {
            background: linear-gradient(180deg, #f59e0b, #d97706) !important;
            color: white !important;
            font-weight: 700 !important;
            border-color: #b45309 !important;
            padding: 3px 2px !important;
            font-size: 6pt !important;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 10px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 30px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 140px;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 30px;
            min-height: 12px;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            text-decoration: underline;
            text-underline-offset: 2px;
            margin-bottom: 1px;
            min-height: 12px;
          }
          
          .signature-badge {
            font-size: 7pt;
            color: #475569;
            font-weight: 500;
            min-height: 10px;
          }
          
          /* Summary Cards */
          .summary-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 6px;
          }
          
          .summary-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 4px;
            padding: 4px 10px;
            text-align: center;
            min-width: 90px;
          }
          
          .summary-card.pengajuan {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-color: #f59e0b;
          }
          
          .summary-card.realisasi {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-positive {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-negative {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #ef4444;
          }
          
          .summary-card-label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 1px;
          }
          
          .summary-card-value {
            font-size: 9pt;
            font-weight: 700;
            color: #1e40af;
          }
          
          .summary-card.pengajuan .summary-card-value { color: #b45309; }
          .summary-card.realisasi .summary-card-value { color: #16a34a; }
          .summary-card.selisih-positive .summary-card-value { color: #16a34a; }
          .summary-card.selisih-negative .summary-card-value { color: #dc2626; }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${w.innerHTML}
      </body>
      </html>
    `),k.document.close(),k.focus(),setTimeout(()=>{k.print(),k.close()},300))};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-amber-500 to-orange-500",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(K2,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Rekap BBM Alat Berat"}),s.jsxs("p",{className:"text-amber-100 text-sm",children:["Plant ",n]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(qa,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"p-5 border-b bg-gradient-to-b from-amber-50 to-white space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[s.jsx(gi,{className:"h-4 w-4 text-amber-600"}),"Tanggal Mulai"]}),s.jsx("input",{type:"date",value:i,onChange:w=>o(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[s.jsx(gi,{className:"h-4 w-4 text-amber-600"}),"Tanggal Akhir"]}),s.jsx("input",{type:"date",value:l,onChange:w=>c(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-dark-700 flex items-center gap-2",children:[s.jsx(ch,{className:"h-4 w-4 text-amber-600"}),"Data Tanda Tangan"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[s.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Mengetahui"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Jabatan",value:u.jabatan,onChange:w=>d({...u,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),s.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:u.nama,onChange:w=>d({...u,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),s.jsxs("div",{className:"relative",children:[s.jsx(hP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),s.jsx("input",{type:"text",placeholder:"No. Badge",value:u.noBadge,onChange:w=>d({...u,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[s.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Dibuat Oleh"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Jabatan",value:f.jabatan,onChange:w=>h({...f,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),s.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:f.nama,onChange:w=>h({...f,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),s.jsxs("div",{className:"relative",children:[s.jsx(hP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),s.jsx("input",{type:"text",placeholder:"No. Badge",value:f.noBadge,onChange:w=>h({...f,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-full font-medium",children:[p.length," data"]}),s.jsx("span",{className:"text-dark-500",children:"ditemukan dalam periode ini"})]}),s.jsxs("button",{onClick:v,disabled:p.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-amber-500/30 transition-all",children:[s.jsx(Dn,{className:"h-5 w-5"}),"Cetak Laporan"]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:s.jsx("div",{ref:a,className:"bg-white p-6 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:s.jsxs("div",{className:"print-container",children:[s.jsxs("div",{className:"header",children:[s.jsx("h1",{children:"LAPORAN REKAP BBM ALAT BERAT"}),s.jsxs("div",{className:"plant-badge",children:["PLANT ",n]}),s.jsxs("div",{className:"periode",children:["Periode: ",s.jsx("span",{children:y()})]})]}),s.jsxs("div",{className:"summary-cards",children:[s.jsxs("div",{className:"summary-card pengajuan",children:[s.jsx("div",{className:"summary-card-label",children:"Total Pengajuan"}),s.jsxs("div",{className:"summary-card-value",children:[le(g)," L"]})]}),s.jsxs("div",{className:"summary-card realisasi",children:[s.jsx("div",{className:"summary-card-label",children:"Total Realisasi"}),s.jsxs("div",{className:"summary-card-value",children:[le(m)," L"]})]}),s.jsxs("div",{className:`summary-card ${x>=0?"selisih-positive":"selisih-negative"}`,children:[s.jsx("div",{className:"summary-card-label",children:"Selisih"}),s.jsxs("div",{className:"summary-card-value",children:[x>=0?"+":"",le(x)," L"]})]})]}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{style:{width:"40px"},children:"No"}),s.jsx("th",{style:{width:"100px"},children:"Tanggal"}),s.jsx("th",{children:"Nama Alat Berat"}),s.jsx("th",{style:{width:"120px"},children:"Pengajuan (L)"}),s.jsx("th",{style:{width:"120px"},children:"Realisasi (L)"}),s.jsx("th",{style:{width:"100px"},children:"Selisih (L)"}),s.jsx("th",{children:"Keterangan"})]})}),s.jsxs("tbody",{children:[p.map((w,k)=>{const N=(w.realisasiPengisian||0)-(w.pengajuanSolar||0);return s.jsxs("tr",{children:[s.jsx("td",{children:k+1}),s.jsx("td",{children:pt(w.tanggal)}),s.jsx("td",{className:"text-left",children:w.namaAlatBerat}),s.jsx("td",{className:"text-right font-mono",children:le(w.pengajuanSolar)}),s.jsx("td",{className:"text-right font-mono",children:le(w.realisasiPengisian)}),s.jsxs("td",{className:`text-right font-mono ${N>=0?"number-positive":"number-negative"}`,children:[N>=0?"+":"",le(N)]}),s.jsx("td",{className:"text-left",children:w.keterangan||"-"})]},w.id||k)}),s.jsxs("tr",{className:"summary-row",children:[s.jsx("td",{colSpan:3,style:{textAlign:"center",fontWeight:"bold"},children:"TOTAL"}),s.jsx("td",{className:"text-right font-mono",children:le(g)}),s.jsx("td",{className:"text-right font-mono",children:le(m)}),s.jsxs("td",{className:`text-right font-mono ${x>=0?"number-positive":"number-negative"}`,children:[x>=0?"+":"",le(x)]}),s.jsx("td",{})]})]})]}),s.jsxs("div",{className:"footer",children:[s.jsxs("div",{className:"print-date",children:["Cikampek, ",b()]}),s.jsxs("div",{className:"signatures-container",children:[s.jsxs("div",{className:"signature-box",children:[s.jsx("div",{className:"signature-label",children:"Mengetahui,"}),s.jsx("div",{className:"signature-jabatan",children:u.jabatan||""}),s.jsx("div",{className:"signature-name",children:u.nama||""}),s.jsx("div",{className:"signature-badge",children:u.noBadge||""})]}),s.jsxs("div",{className:"signature-box",children:[s.jsx("div",{className:"signature-label",children:"Dibuat Oleh,"}),s.jsx("div",{className:"signature-jabatan",children:f.jabatan||""}),s.jsx("div",{className:"signature-name",children:f.nama||""}),s.jsx("div",{className:"signature-badge",children:f.noBadge||""})]})]})]})]})})})]})})},Zz=({isOpen:e,onClose:t,data:r,plant:n})=>{const a=j.useRef(null);if(!e)return null;const i=()=>{const c=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=new Date;return`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`},o=c=>{const u=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],d=new Date(c);return`${d.getDate()} ${u[d.getMonth()]} ${d.getFullYear()}`},l=()=>{const c=a.current;if(!c)return;const u=window.open("","_blank");u&&(u.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Gate Pass - ${r.nomorGatePass}</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 8pt;
            line-height: 1.2;
            color: #1a1a2e;
            background: #fff;
          }
          .page-wrapper {
            width: 100%;
            height: 287mm;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
            padding: 5px 8px;
            height: 140mm;
            overflow: hidden;
          }
          .divider-line {
            width: 100%;
            border-top: 1px dashed #94a3b8;
            margin: 2mm 0;
            position: relative;
          }
          .divider-line::before {
            content: ' potong di sini';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 10px;
            font-size: 7pt;
            color: #94a3b8;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #1e40af;
            position: relative;
          }
          .header::after {
            content: '';
            position: absolute;
            bottom: -1.5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1.5px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
          }
          .header h1 {
            font-size: 13pt;
            font-weight: 800;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2px;
          }
          .header .subtitle {
            font-size: 7pt;
            color: #64748b;
            font-weight: 500;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 7pt;
            font-weight: 600;
            margin-top: 3px;
            box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
          }
          
          /* Gate Pass Number */
          .gatepass-number {
            text-align: center;
            margin: 6px 0;
            padding: 5px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1.5px solid #f59e0b;
            border-radius: 6px;
          }
          .gatepass-number label {
            font-size: 6pt;
            color: #92400e;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 1px;
          }
          .gatepass-number .number {
            font-size: 11pt;
            font-weight: 800;
            color: #92400e;
            font-family: 'Consolas', monospace;
            letter-spacing: 2px;
          }
          
          /* Info Grid */
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
          }
          .info-item {
            padding: 4px 6px;
            background: #f8fafc;
            border-radius: 4px;
            border-left: 2px solid #3b82f6;
          }
          .info-item.full-width {
            grid-column: span 2;
          }
          .info-item label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 1px;
            font-weight: 600;
          }
          .info-item .value {
            font-size: 8pt;
            color: #1e293b;
            font-weight: 500;
          }
          
          /* Description Section */
          .description-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 5px;
            border: 1px solid #7dd3fc;
          }
          .description-section h3 {
            font-size: 7pt;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #7dd3fc;
          }
          .description-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Reason Section */
          .reason-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #fef3c7, #fef9c3);
            border-radius: 5px;
            border: 1px solid #fcd34d;
          }
          .reason-section h3 {
            font-size: 7pt;
            color: #a16207;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #fcd34d;
          }
          .reason-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 6px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            padding: 0 10px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 120px;
            padding: 5px;
            background: #fafafa;
            border-radius: 5px;
            border: 1px dashed #cbd5e1;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
            font-weight: 500;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 20px;
            min-height: 10px;
          }
          
          .signature-space {
            height: 25px;
            margin-bottom: 3px;
          }
          
          .signature-line {
            width: 100px;
            height: 1px;
            background: #1e293b;
            margin: 0 auto 3px auto;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 1px;
            min-height: 10px;
          }
          
          .signature-badge {
            font-size: 6pt;
            color: #475569;
            font-weight: 500;
            min-height: 8px;
          }
          
          /* Stamp/Seal Style (Optional visual) */
          .official-stamp {
            text-align: center;
            margin-top: 5px;
            padding-top: 4px;
            border-top: 1px dashed #e2e8f0;
          }
          .official-stamp p {
            font-size: 6pt;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          /* Copy Label */
          .copy-label {
            position: absolute;
            top: 3px;
            right: 5px;
            font-size: 6pt;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
          }
          .print-container {
            position: relative;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="page-wrapper">
          <div class="print-container">
            <div class="copy-label">Lembar 1 - Arsip</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
          <div class="divider-line"></div>
          <div class="print-container">
            <div class="copy-label">Lembar 2 - Pembawa</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
        </div>
      </body>
      </html>
    `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},300))};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-blue-600 to-indigo-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(wi,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Gate Pass"}),s.jsx("p",{className:"text-blue-100 text-sm",children:r.nomorGatePass})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(qa,{className:"h-6 w-6 text-white"})})]}),s.jsx("div",{className:"p-5 border-b bg-gradient-to-b from-blue-50 to-white flex items-center justify-end",children:s.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 font-semibold shadow-lg shadow-blue-500/30 transition-all",children:[s.jsx(Dn,{className:"h-5 w-5"}),"Cetak Gate Pass"]})}),s.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:s.jsx("div",{ref:a,className:"bg-white p-10 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:s.jsxs("div",{className:"print-container",children:[s.jsxs("div",{className:"header",children:[s.jsx("h1",{children:"GATE PASS"}),s.jsx("div",{className:"subtitle",children:"Surat Izin Keluar Barang"}),s.jsxs("div",{className:"plant-badge",children:["PT. PUPUK KUJANG CIKAMPEK - ",n]})]}),s.jsxs("div",{className:"gatepass-number",children:[s.jsx("label",{children:"Nomor Gate Pass"}),s.jsx("div",{className:"number",children:r.nomorGatePass})]}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Tanggal"}),s.jsx("div",{className:"value",children:o(r.tanggal)})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"No Polisi"}),s.jsx("div",{className:"value",children:r.noPolisi||"-"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Pemilik Barang"}),s.jsx("div",{className:"value",children:r.pemilikBarang||"-"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("label",{children:"Nama Pembawa"}),s.jsx("div",{className:"value",children:r.namaPembawa||"-"})]})]}),s.jsxs("div",{className:"description-section",children:[s.jsx("h3",{children:"Deskripsi Barang"}),s.jsx("p",{children:r.deskripsiBarang||"-"})]}),s.jsxs("div",{className:"reason-section",children:[s.jsx("h3",{children:"Alasan Mengeluarkan"}),s.jsx("p",{children:r.alasanKeluar||"-"})]}),s.jsxs("div",{className:"footer",children:[s.jsxs("div",{className:"print-date",children:["Cikampek, ",i()]}),s.jsxs("div",{className:"signatures-container",children:[s.jsxs("div",{className:"signature-box",children:[s.jsx("div",{className:"signature-label",children:"Pembawa,"}),s.jsx("div",{className:"signature-space"}),s.jsx("div",{className:"signature-line"}),s.jsx("div",{className:"signature-name",children:r.namaPembawa||""})]}),s.jsxs("div",{className:"signature-box",children:[s.jsx("div",{className:"signature-label",children:"Mengetahui,"}),s.jsx("div",{className:"signature-space"}),s.jsx("div",{className:"signature-line"}),s.jsx("div",{className:"signature-name",children:r.mengetahui||""})]})]}),s.jsx("div",{className:"official-stamp",children:s.jsx("p",{children:"Dokumen ini tidak sah tanpa tanda tangan basah"})})]})]})})})]})})};function Qz(){const[e,t]=j.useState(null),[r,n]=j.useState(!1),[a,i]=j.useState(!1);return j.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0?(i(!0),!0):!1)return;const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{i(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:a,install:async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;return l==="accepted"?(i(!0),n(!1),t(null),!0):!1}catch(l){return console.error("Error installing PWA:",l),!1}}}}function eW(){const{isInstallable:e,isInstalled:t,install:r}=Qz(),[n,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(!1);j.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;c(f);const h=setTimeout(()=>{const p=localStorage.getItem("pwa-install-dismissed"),g=p?parseInt(p):0,m=(Date.now()-g)/(1e3*60*60*24);!t&&(e||f)&&m>7&&a(!0)},3e3);return()=>clearTimeout(h)},[e,t]);const u=async()=>{l?o(!0):await r()&&a(!1)},d=()=>{a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return!n||t?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-slide-up",children:s.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-2xl border border-gray-200 dark:border-dark-600 p-4 max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:s.jsx(Mc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Install Plantiffy"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Akses lebih cepat langsung dari layar utama HP Anda"}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsxs("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[s.jsx(bx,{className:"w-4 h-4"}),"Install"]}),s.jsx("button",{onClick:d,className:"px-3 py-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:"Nanti"})]})]}),s.jsx("button",{onClick:d,className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 p-1",children:s.jsx(qa,{className:"w-4 h-4"})})]})})}),i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-scale-up",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:s.jsx("img",{src:"/icons/icon-96x96.png",alt:"PlantIQ",className:"w-10 h-10 rounded-lg"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Install Plantiffy di iPhone"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Ikuti langkah berikut untuk menambahkan aplikasi ke layar utama:"})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"1"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ikon ",s.jsx("strong",{children:"Share"})," (kotak dengan panah ke atas) di bagian bawah Safari"]})})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"2"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Scroll ke bawah dan ketuk"," ",s.jsx("strong",{children:'"Add to Home Screen"'})]})})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"3"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ",s.jsx("strong",{children:'"Add"'})," di pojok kanan atas"]})})]})]}),s.jsx("button",{onClick:()=>o(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-xl transition-colors",children:"Mengerti"})]})}),s.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes scale-up {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        
        .animate-scale-up {
          animation: scale-up 0.2s ease-out;
        }
      `})]})}const V2=6e4,uh=new Map,J0=new Map;function tW(e){const t=uh.get(e);return t?Date.now()-t.timestamp>t.ttl?(uh.delete(e),null):t.data:null}function rW(e,t,r=V2){uh.set(e,{data:t,timestamp:Date.now(),ttl:r})}function Q5(e){const t=[];uh.forEach((r,n)=>{n.includes(e)&&t.push(n)}),t.forEach(r=>uh.delete(r))}async function eM(e,t,r=V2){const n=tW(e);if(n!==null)return{success:!0,data:n};const a=J0.get(e);if(a)return a;const i=t().then(o=>(J0.delete(e),o.success&&o.data&&rW(e,o.data,r),o)).catch(o=>{throw J0.delete(e),o});return J0.set(e,i),i}function H2(e){Q5(e)}const tM={DEFAULT:V2},rM={readData:e=>`read:${e}`,fetchByPlant:e=>`plant:${e}`,dashboard:()=>"dashboard:all"},nM="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",aM=3e4,nW=15e3,aW=6e4;function iM(e){const t=new AbortController;return setTimeout(()=>t.abort(),e),t}async function kx(e,t=aM){const r=iM(t);try{const n=await fetch(`${nM}${e}`,{method:"GET",redirect:"follow",signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return{success:!0,data:a.data||a}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API GET Timeout:",e),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API GET Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function Ln(e,t=aM){const r=iM(t);try{const n=await fetch(nM,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e),signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return a.success===!1?{success:!1,error:a.error||"Unknown error"}:{success:!0,data:a.data!==void 0?a.data:a}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API POST Timeout"),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API POST Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function iW(e){return Ln(e,nW)}function sW(e){return Ln(e,aW)}async function Pm(e){return kx(`?action=read&sheet=${e}`)}async function sM(e,t=!0){if(!t)return Pm(e);const r=rM.readData(e);return eM(r,()=>Pm(e),tM.DEFAULT)}async function oW(e,t){const r=await Ln({action:"create",sheet:e,data:t});return r.success&&H2(e),r}async function lW(e,t){const r=await Ln({action:"update",sheet:e,data:t});return r.success&&H2(e),r}async function cW(e,t){const r=await Ln({action:"delete",sheet:e,data:{id:t}});return r.success&&H2(e),r}async function oM(e,t){return iW({action:"login",data:{username:e,password:t}})}function uW(e,t){sW({action:"update",sheet:Gr.ACTIVE_USERS,data:{id:t||"",username:e,status:"offline",lastActive:new Date(0).toISOString()}}).catch(r=>console.error("Background offline update failed:",r))}async function dW(e,t=!0){const r=rM.fetchByPlant(e);return t?eM(r,()=>TP(e),tM.DEFAULT):TP(e)}async function TP(e){const[t,r]=await Promise.all([Pm(e),Pm(`${e}_NPK1`)]),n=[];return t.success&&t.data&&n.push(...t.data.map(a=>({...a,_plant:"NPK2"}))),r.success&&r.data&&n.push(...r.data.map(a=>({...a,_plant:"NPK1"}))),{success:!0,data:n}}function lM(e,t){return t==="NPK1"?`${e}_NPK1`:e}const Gr={PRODUKSI_NPK:"produksi_npk",PRODUKSI_BLENDING:"produksi_blending",PRODUKSI_NPK_MINI:"produksi_npk_mini",TIMESHEET_FORKLIFT:"timesheet_forklift",TIMESHEET_LOADER:"timesheet_loader",DOWNTIME:"downtime",WORK_REQUEST:"workrequest",BAHAN_BAKU:"bahanbaku",BAHAN_BAKU_NPK:"bahanbaku_npk",VIBRASI:"vibrasi",GATE_PASS:"gatepass",PERTA:"perta",PERBAIKAN_TAHUNAN:"perbaikan_tahunan",TROUBLE_RECORD:"trouble_record",KOP:"kop",REKAP_BBM:"rekap_bbm",PEMANTAUAN_BAHAN_BAKU:"pemantauan_bahan_baku",RIKSA_TIMB_PORTABEL:"riksa_timb_portabel",USERS:"users",SESSIONS:"sessions",APPROVAL_REQUESTS:"approval_requests",MONTHLY_NOTES:"monthly_notes",NOTIFICATIONS:"notifications",CHAT_MESSAGES:"chat_messages",AKUN:"akun",RKAP:"rkap",DOKUMENTASI_FOTO:"dokumentasi_foto",ACTIVE_USERS:"active_users",MATERIALS:"materials",MATERIAL_TRANSACTIONS:"material_transactions"};async function cM(e){return Ln({action:"uploadPhoto",data:e})}async function uM(e){return Ln({action:"deletePhoto",data:e})}async function fW(){return kx("?action=getExchangeRate")}async function dM(){return kx("?action=getMaterials")}async function fM(e){let t="?action=getMaterialTransactions";return e&&(e.material_id&&(t+=`&material_id=${encodeURIComponent(e.material_id)}`),e.start_date&&(t+=`&start_date=${encodeURIComponent(e.start_date)}`),e.end_date&&(t+=`&end_date=${encodeURIComponent(e.end_date)}`)),kx(t)}async function hM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return Ln({action:"createWithLog",sheet:n,data:t,userInfo:r})}async function pM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return Ln({action:"updateWithLog",sheet:n,data:t,userInfo:r})}async function mM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return Ln({action:"deleteWithLog",sheet:n,data:{id:t.id},userInfo:r})}async function z2(e,t){return Ln({action:"getActivityLogs",filters:{sheet_name:e,record_id:t}})}function W2(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function G2(e){return{create:"Menambahkan",update:"Mengubah",delete:"Menghapus"}[e]||e}function q2(e){return{create:"",update:"",delete:""}[e]||""}async function gM(e,t){return Ln({action:"addMaterialWithLog",data:e,userInfo:t})}async function xM(e,t){return Ln({action:"updateMaterialWithLog",data:e,userInfo:t})}async function vM(e,t){return Ln({action:"deleteMaterialWithLog",data:{id:e},userInfo:t})}async function yM(e,t,r,n){return Ln({action:"updateStockMasukWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}async function bM(e,t,r,n){return Ln({action:"updateStockKeluarWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}const nt=Object.freeze(Object.defineProperty({__proto__:null,SHEETS:Gr,addMaterialWithLog:gM,clearCacheByPattern:Q5,createData:oW,createDataWithLog:hM,deleteData:cW,deleteDataWithLog:mM,deleteMaterialWithLog:vM,deletePhoto:uM,fetchDataByPlant:dW,getActionDisplayText:G2,getActionIcon:q2,getExchangeRate:fW,getMaterialTransactions:fM,getMaterials:dM,getRecordActivityLogs:z2,getSheetNameByPlant:lM,loginUser:oM,parseActivityLogChanges:W2,readData:sM,setUserOfflineBackground:uW,updateData:lW,updateDataWithLog:pM,updateMaterialWithLog:xM,updateStockKeluarWithLog:bM,updateStockMasukWithLog:yM,uploadPhoto:cM},Symbol.toStringTag,{value:"Module"}));function hW({isVisible:e,onClose:t,notification:r}){const[n,a]=j.useState([]),[i,o]=j.useState(!1),[l,c]=j.useState(null);j.useEffect(()=>{e&&(r!=null&&r.sheetName)&&(r!=null&&r.recordId)&&u()},[e,r]);const u=async()=>{if(!(!(r!=null&&r.sheetName)||!(r!=null&&r.recordId))){o(!0),c(null);try{const p=await z2(r.sheetName,r.recordId);p.success&&p.data?a(p.data):c(p.error||"Gagal memuat log aktivitas")}catch{c("Terjadi kesalahan saat memuat data")}finally{o(!1)}}},d=p=>{try{return new Date(p).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return p}},f=p=>{switch(p){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},h=p=>{const g=W2(p);if(!g)return null;if(g.deleted_data)return s.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[s.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),s.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(g.deleted_data,null,2)})]});const m=Object.entries(g);return m.length===0?null:s.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[s.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),s.jsx("div",{className:"space-y-1",children:m.map(([x,b])=>s.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[x,":"]}),s.jsx("span",{className:"text-red-500 line-through",children:String(b.old||"-")}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(b.new||"-")})]},x))})]})};return s.jsx(xt,{isOpen:e,onClose:t,title:"Detail Log Aktivitas",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[r&&s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:r.message}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d(r.timestamp)})]}),i&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Tm,{})}),l&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),!i&&!l&&n.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-sm",children:"Tidak ada log aktivitas"})]}),!i&&!l&&n.length>0&&s.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Riwayat perubahan data:"}),n.map(p=>s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:q2(p.action)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xe,{variant:f(p.action),children:G2(p.action)}),s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:p.user_name||p.user_id})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[p.user_role,"  ",p.plant]})]})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(p.timestamp)})]}),p.record_preview&&s.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Data: "}),p.record_preview]}),h(p.changes)]},p.id))]})]})})}function Lr({isOpen:e,onClose:t,sheetName:r,recordId:n,title:a="Log Aktivitas"}){const[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(null);j.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0),d(null);try{const m=await z2(r,n);m.success&&m.data?o(m.data):d(m.error||"Gagal memuat log aktivitas")}catch{d("Terjadi kesalahan saat memuat data")}finally{c(!1)}}},h=m=>{try{return new Date(m).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return m}},p=m=>{switch(m){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},g=m=>{const x=W2(m);if(!x)return null;if(x.deleted_data)return s.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[s.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),s.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(x.deleted_data,null,2)})]});const b=Object.entries(x);return b.length===0?null:s.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[s.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),s.jsx("div",{className:"space-y-1",children:b.map(([y,v])=>s.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[y,":"]}),s.jsx("span",{className:"text-red-500 line-through",children:String(v.old||"-")}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(v.new||"-")})]},y))})]})};return s.jsx(xt,{isOpen:e,onClose:t,title:a,size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[l&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Tm,{})}),u&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),!l&&!u&&i.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-sm",children:"Belum ada log aktivitas untuk data ini"})]}),!l&&!u&&i.length>0&&s.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Riwayat perubahan data (",i.length," aktivitas):"]}),i.map(m=>s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:q2(m.action)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xe,{variant:p(m.action),children:G2(m.action)}),s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.user_name||m.user_id})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[m.user_role,"  ",m.plant]})]})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(m.timestamp)})]}),m.record_preview&&s.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[s.jsx("span",{className:"text-gray-400",children:"Data: "}),m.record_preview]}),g(m.changes)]},m.id))]})]})})}const oc=[{version:"2.7.0",date:"20 Februari 2026",title:"Export Excel Bahan Baku NPK",type:"minor",icon:s.jsx(W5,{className:"h-5 w-5"}),highlights:["Export data penerimaan bahan baku ke file Excel (.xlsx)","Filter berdasarkan rentang tanggal (dari - sampai)","Pilih per bahan baku atau semua bahan baku sekaligus","Sheet 1: Data detail lengkap dengan semua kolom","Sheet 2: Rekap total per bahan baku","Tersedia di halaman Bahan Baku NPK 1 dan NPK 2","Preview jumlah data sebelum export"]},{version:"2.6.2",date:"19 Februari 2026",title:"Modal Tidak Tertutup Saat Klik di Luar",type:"patch",icon:s.jsx(Sm,{className:"h-5 w-5"}),highlights:["Modal form tidak lagi tertutup saat klik di luar area modal","Data input yang sedang diisi tidak akan hilang karena klik tidak sengaja","Berlaku untuk semua modal di seluruh halaman aplikasi","User tetap bisa menutup modal via tombol X atau tombol Batal"]},{version:"2.6.1",date:"16 Februari 2026",title:"Fix Input Tonase NPK Mini",type:"patch",icon:s.jsx(Mc,{className:"h-5 w-5"}),highlights:["Input tonase NPK Mini menggunakan placeholder '0' - tidak lagi pre-fill nilai lama","Support input desimal dengan koma (,) dan titik (.) sebagai pemisah","Maksimal 2 angka di belakang koma (contoh: 12,50 atau 12.50)","Fix keyboard mobile - sekarang bisa ketik koma & titik di iPhone dan Android"]},{version:"2.6.0",date:"16 Februari 2026",title:"Summary Cards & Mobile Responsive All Pages",type:"minor",icon:s.jsx(Mc,{className:"h-5 w-5"}),highlights:["Summary cards informatif di SEMUA halaman data (Work Request, Inventaris, Riksa Timbangan, dll)","Grid 2 kolom di mobile untuk semua summary cards - tidak terpotong di iPhone & Android","Font & padding responsif (text-lg sm:text-2xl, p-3 sm:p-4) di 15+ halaman","Fix pencarian Inventaris Material - sekarang mencari di seluruh database, bukan hanya halaman aktif","Work Request: tambah card Bulan Ini, Area Terlibat, Top Eksekutor","Riksa Timbangan: tambah card Total Pemeriksaan, Lolos, Perhatian, Rata-rata Selisih","Inventaris: tambah card Total Material, Total Stok, Stok Aman, Stok Menipis"]},{version:"2.5.4",date:"16 Februari 2026",title:"Mobile Responsive Produksi",type:"patch",icon:s.jsx(Mc,{className:"h-5 w-5"}),highlights:["Perbaikan layout halaman Produksi NPK Granul agar tidak terpotong di HP","Redesain banner produksi bulanan - compact & proporsional di iPhone & Android","Summary cards 2 kolom di mobile (sebelumnya 1 kolom penuh, terlalu besar)","Ukuran font & padding responsif (sm/xs) untuk tampilan lebih profesional","Fix halaman Produksi NPK Mini dengan layout mobile yang sama"]},{version:"2.5.3",date:"15 Februari 2026",title:"Work Request & Data Integrity Fix",type:"patch",icon:s.jsx(hy,{className:"h-5 w-5"}),highlights:["Fix Work Request NPK1 - eksekutor, include, keterangan sekarang tersimpan dengan benar","Perbaikan header validation di backend (Code.gs) untuk konsistensi kolom","Tambah fungsi Fix All Sheet Headers di menu Google Sheets"]},{version:"2.5.1",date:"11 Februari 2026",title:"Work Request & Data Integrity Fix",type:"patch",icon:s.jsx(hy,{className:"h-5 w-5"}),highlights:["Fix Work Request NPK1 - eksekutor, include, keterangan sekarang tersimpan dengan benar","Perbaikan header validation di backend (Code.gs) untuk konsistensi kolom","Fix Activity Log di halaman Produksi NPK (sheet name mismatch)","Perbaikan approval handler di 5 halaman - gunakan API helper yang benar","Approval request sekarang plant-aware (NPK1/NPK2)","Tambah fungsi Fix All Sheet Headers di menu Google Sheets"]},{version:"2.5.0",date:"6 Februari 2026",title:"Notification Sound & Activity Enhancement",type:"minor",icon:s.jsx(Y5,{className:"h-5 w-5"}),highlights:["Suara notifikasi interaktif untuk data baru, edit, dan pesan masuk","Sound system menggunakan Web Audio API (tanpa file eksternal)","5 jenis suara: notification, message, success, warning, error","Toggle suara on/off di header","Creator logging - pembuat data masuk ke log aktivitas","Version history modal - lihat perjalanan aplikasi"]},{version:"2.4.3",date:"28 Januari 2026",title:"Stability & Performance Fix",type:"patch",icon:s.jsx(hy,{className:"h-5 w-5"}),highlights:["Fix cache invalidation pada mutasi data","Perbaikan polling interval untuk real-time update","Optimasi memory usage pada background tasks","Fix issue duplicate active users di marquee"]},{version:"2.4.2",date:"20 Januari 2026",title:"Chat Enhancement",type:"patch",icon:s.jsx(jm,{className:"h-5 w-5"}),highlights:["Edit dan hapus pesan chat (klik kanan / long press)","Optimistic UI untuk pengiriman pesan instan","Smart scroll - tidak auto-scroll saat baca pesan lama","Per-user read tracking independen"]},{version:"2.4.1",date:"12 Januari 2026",title:"UI Polish & Bug Fixes",type:"patch",icon:s.jsx(kz,{className:"h-5 w-5"}),highlights:["Perbaikan tampilan dark mode","Fix responsive layout pada mobile","Peningkatan animasi sidebar","Fix badge count notifikasi"]},{version:"2.4.0",date:"5 Januari 2026",title:"Activity Logging & Notification System",type:"minor",icon:s.jsx(qc,{className:"h-5 w-5"}),highlights:["Sistem logging aktivitas lengkap (create, update, delete)","Notifikasi otomatis ke supervisor & admin","Modal log aktivitas per record","Tracking perubahan data (old vs new values)","Filter dan pencarian log aktivitas"]},{version:"2.3.0",date:"20 Desember 2025",title:"Inventaris Material Consumable",type:"minor",icon:s.jsx(Cb,{className:"h-5 w-5"}),highlights:["Fitur inventaris stok material consumable","Manajemen stok masuk & keluar","History transaksi material","Alert stok minimum","Laporan transaksi material"]},{version:"2.2.0",date:"10 Desember 2025",title:"Real-time Chat & Active Users",type:"minor",icon:s.jsx(pu,{className:"h-5 w-5"}),highlights:["Chat tim real-time antar pengguna","Live active users marquee","Status online/offline tracking","Dashboard metrics di info bar","Background polling untuk updated data"]},{version:"2.1.0",date:"25 November 2025",title:"Dual Plant System",type:"minor",icon:s.jsx(X5,{className:"h-5 w-5"}),highlights:["Dukungan dual plant: NPK1 & NPK2","Data terpisah per plant","Admin dapat melihat semua plant","Filter menu berdasarkan plant user","Gate Pass, Work Request, Vibrasi per plant"]},{version:"2.0.0",date:"10 November 2025",title:"PlantIQ v2 - Major Redesign",type:"major",icon:s.jsx(bz,{className:"h-5 w-5"}),highlights:["Redesain UI/UX modern dengan design system baru","Dark mode support","Responsive mobile-first design","Force desktop view pada mobile","Animasi halus dengan Framer Motion","Performance optimization dengan caching"]},{version:"1.8.0",date:"20 Oktober 2025",title:"Approval System & Security",type:"minor",icon:s.jsx(Sm,{className:"h-5 w-5"}),highlights:["Sistem approval untuk edit & hapus data sensitif","Role-based access control (RBAC)","Session management per device","Multi-device detection"]},{version:"1.7.0",date:"5 Oktober 2025",title:"Dokumentasi Foto & Gate Pass Print",type:"minor",icon:s.jsx(wi,{className:"h-5 w-5"}),highlights:["Upload dokumentasi foto ke Google Drive","Print Gate Pass format resmi","Print laporan BBM","Print KOP dengan format standar"]},{version:"1.6.0",date:"18 September 2025",title:"Report & Dashboard Enhancement",type:"minor",icon:s.jsx(xx,{className:"h-5 w-5"}),highlights:["Dashboard KPI cards dengan metrik real-time","Grafik produksi vs RKAP","Laporan pemantauan bahan baku","Filter tahun & bulan pada dashboard","Export data ke format print"]},{version:"1.5.0",date:"1 September 2025",title:"PWA & Offline Support",type:"minor",icon:s.jsx(Mc,{className:"h-5 w-5"}),highlights:["Progressive Web App (PWA) - install di HP","Service Worker untuk offline caching","Push notification support","Install prompt otomatis","Splash screen & app icons"]},{version:"1.4.0",date:"15 Agustus 2025",title:"Data Management Expansion",type:"minor",icon:s.jsx(lz,{className:"h-5 w-5"}),highlights:["Trouble Record management","Perbaikan Tahunan tracking","Riksa Timbangan Portabel","Rekap BBM Alat Berat","Timesheet Forklift & Loader"]},{version:"1.3.0",date:"1 Agustus 2025",title:"Vibrasi Monitoring & Work Request",type:"minor",icon:s.jsx(bs,{className:"h-5 w-5"}),highlights:["Monitoring vibrasi equipment","Status alert: Normal, Warning, Critical","Work Request management","Tracking eksekutor dan progress"]},{version:"1.2.0",date:"15 Juli 2025",title:"Production Data & Bahan Baku",type:"minor",icon:s.jsx(Cb,{className:"h-5 w-5"}),highlights:["Input produksi NPK Granul (3 shift)","Produksi Blending/Retail","Penerimaan bahan baku NPK","Perhitungan otomatis total produksi"]},{version:"1.1.0",date:"1 Juli 2025",title:"User Management & Auth",type:"minor",icon:s.jsx(km,{className:"h-5 w-5"}),highlights:["Sistem login & registrasi","Manajemen user oleh admin","Role: Admin, Supervisor, AVP, Manager, User","Profil dan pengaturan akun"]},{version:"1.0.0",date:"15 Juni 2025",title:"PlantIQ v1 - Initial Release",type:"major",icon:s.jsx(jz,{className:"h-5 w-5"}),highlights:["Rilis awal aplikasi PlantIQ / Plantiffy","Dashboard produksi plant NPK","Integrasi Google Sheets sebagai database","Google Apps Script sebagai backend API","Deploy di Vercel untuk frontend","Arsitektur React + TypeScript + Vite"]}];function pW({isOpen:e,onClose:t}){const[r,n]=j.useState(null),a=l=>{switch(l){case"major":return s.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-[10px] font-bold rounded-full uppercase",children:"Major"});case"minor":return s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-[10px] font-bold rounded-full uppercase",children:"Minor"});case"patch":return s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[10px] font-bold rounded-full uppercase",children:"Patch"})}},i=l=>{switch(l){case"major":return"border-red-400 dark:border-red-500 bg-red-500";case"minor":return"border-blue-400 dark:border-blue-500 bg-blue-500";case"patch":return"border-gray-300 dark:border-gray-600 bg-gray-400 dark:bg-gray-500"}},o=l=>{switch(l){case"major":return"bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-400";case"minor":return"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400";case"patch":return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}};return s.jsx(xt,{isOpen:e,onClose:t,title:"",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-primary-100 dark:bg-primary-900/40 mb-3",children:s.jsx(Et,{className:"h-7 w-7 text-primary-600 dark:text-primary-400"})}),s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Perjalanan Plantiffy"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Riwayat pengembangan dari versi awal hingga sekarang"}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(az,{className:"h-3 w-3"}),oc.length," versi"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[oc[oc.length-1].date,"  ",oc[0].date]})]})]}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 -mr-2 space-y-0",children:oc.map((l,c)=>s.jsxs("div",{className:"relative flex gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-0",children:[s.jsx("div",{className:Ge("w-3 h-3 rounded-full border-2 mt-2 flex-shrink-0 z-10",i(l.type))}),c<oc.length-1&&s.jsx("div",{className:"w-0.5 flex-1 bg-border min-h-[20px]"})]}),s.jsxs("div",{className:Ge("flex-1 mb-4 p-3 rounded-lg border transition-all duration-200 cursor-pointer","hover:shadow-soft",r===l.version?"border-primary-300 dark:border-primary-700 bg-primary-50/50 dark:bg-primary-900/10":"border-border bg-card dark:bg-dark-800/50 hover:border-primary-200 dark:hover:border-primary-800"),onClick:()=>n(r===l.version?null:l.version),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:Ge("flex-shrink-0 p-1.5 rounded-lg",o(l.type)),children:l.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{className:"font-bold text-sm text-foreground",children:["v",l.version]}),a(l.type),c===0&&s.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-[10px] font-bold rounded-full uppercase animate-pulse",children:"Terbaru"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:l.date})]})]}),s.jsx("h4",{className:"text-sm font-semibold text-foreground mt-2",children:l.title}),s.jsx("ul",{className:"mt-2 space-y-1",children:l.highlights.slice(0,r===l.version?void 0:2).map((u,d)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"text-primary-500 mt-0.5 flex-shrink-0",children:""}),s.jsx("span",{children:u})]},d))}),l.highlights.length>2&&r!==l.version&&s.jsxs("p",{className:"text-[11px] text-primary-500 mt-1.5 font-medium",children:["+",l.highlights.length-2," lainnya  klik untuk detail"]})]})]},l.version))}),s.jsx("div",{className:"pt-3 border-t border-border text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dibuat dengan  oleh Tim Plantiffy  Deployed on"," ",s.jsx("span",{className:"font-semibold text-foreground",children:"Vercel"})]})})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _m={};_m.version="0.18.5";var wM=1252,mW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kM=function(e){mW.indexOf(e)!=-1&&(wM=e)};function gW(){kM(1252)}var dh=function(e){kM(e)};function xW(){dh(1200),gW()}var Z0=function(t){return String.fromCharCode(t)},PP=function(t){return String.fromCharCode(t)},Em,uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function fh(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=uo.charAt(i)+uo.charAt(o)+uo.charAt(l)+uo.charAt(c);return t}function hs(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=uo.indexOf(e.charAt(u++)),o=uo.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=uo.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=uo.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Rt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ws=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Rl(e){return Rt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function _P(e){return Rt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var di=function(t){return Rt?ws(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function jx(e){if(typeof ArrayBuffer>"u")return di(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function u0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function vW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var mn=Rt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ws(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function yW(e){for(var t=[],r=0,n=e.length+250,a=Rl(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Rl(65535),n=65530)}return t.push(a.slice(0,r)),mn(t)}var Sf=/\u0000/g,Q0=/[\u0001-\u0006]/g;function Xc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function hi(e,t){var r=""+e;return r.length>=t?r:br("0",t-r.length)+r}function Y2(e,t){var r=""+e;return r.length>=t?r:br(" ",t-r.length)+r}function Am(e,t){var r=""+e;return r.length>=t?r:r+br(" ",t-r.length)}function bW(e,t){var r=""+Math.round(e);return r.length>=t?r:br("0",t-r.length)+r}function wW(e,t){var r=""+e;return r.length>=t?r:br("0",t-r.length)+r}var EP=Math.pow(2,32);function lc(e,t){if(e>EP||e<-EP)return bW(e,t);var r=Math.round(e);return wW(r,t)}function Om(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var AP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],xy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function kW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var kr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},OP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cm(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function ep(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=AW(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var jM=new Date(1899,11,31,0,0,0),SW=jM.getTime(),NW=new Date(1900,2,1,0,0,0);function SM(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=NW&&(r+=24*60*60*1e3),(r-(SW+(e.getTimezoneOffset()-jM.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function X2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function TW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function PW(e){var t=e<0?12:11,r=X2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function _W(e){var t=X2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function EW(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=PW(e):t===10?r=e.toFixed(10).substr(0,12):r=_W(e),X2(TW(r.toUpperCase()))}function Rb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):EW(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ro(14,SM(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function AW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function OW(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return xy[r.m-1][1];case 5:return xy[r.m-1][0];default:return xy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return AP[r.q][0];default:return AP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?hi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=hi(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?hi(c,u):"";return d}function fo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var NM=/%/g;function CW(e,t,r){var n=t.replace(NM,""),a=t.length-n.length;return ns(e,n,r*Math.pow(10,2*a))+br("%",a)}function DW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ns(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function TM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+TM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var PM=/# (\?+)( ?)\/( ?)(\d+)/;function MW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?br(" ",e[1].length+1+e[4].length):Y2(o,e[1].length)+e[2]+"/"+e[3]+hi(l,e[4].length))}function RW(e,t,r){return r+(t===0?"":""+t)+br(" ",e[1].length+2+e[4].length)}var _M=/^#*0*\.([0#]+)/,EM=/\).*[0#]/,AM=/\(###\) ###\\?-####/;function zn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function CP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function DP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function IW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function LW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function La(e,t,r){if(e.charCodeAt(0)===40&&!t.match(EM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?La("n",n,r):"("+La("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return DW(e,t,r);if(t.indexOf("%")!==-1)return CW(e,t,r);if(t.indexOf("E")!==-1)return TM(t,r);if(t.charCodeAt(0)===36)return"$"+La(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+lc(c,t.length);if(t.match(/^[#?]+$/))return a=lc(r,0),a==="0"&&(a=""),a.length>t.length?a:zn(t.substr(0,t.length-a.length))+a;if(i=t.match(PM))return MW(i,c,u);if(t.match(/^#+0+$/))return u+lc(c,t.length-t.indexOf("0"));if(i=t.match(_M))return a=CP(r,i[1].length).replace(/^([^\.]+)$/,"$1."+zn(i[1])).replace(/\.$/,"."+zn(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+br("0",zn(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+CP(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+fo(lc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+La(e,t,-r):fo(""+(Math.floor(r)+IW(r,i[1].length)))+"."+hi(DP(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return La(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Xc(La(e,t.replace(/[\\-]/g,""),r)),o=0,Xc(Xc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(AM))return a=La(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Cm(c,Math.pow(10,o)-1,!1),a=""+u,d=ns("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Am(l[2],o),d.length<i[4].length&&(d=zn(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Cm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Y2(l[1],o)+i[2]+"/"+i[3]+Am(l[2],o):br(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=lc(r,0),t.length<=a.length?a:zn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return zn(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=DP(r,i[1].length),r<0?"-"+La(e,t,-r):fo(LW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?hi(0,3-g.length):"")+g})+"."+hi(o,i[1].length);switch(t){case"###,##0.00":return La(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=fo(lc(c,0));return p!=="0"?u+p:"";case"###,###.00":return La(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return La(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function FW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ns(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function BW(e,t,r){var n=t.replace(NM,""),a=t.length-n.length;return ns(e,n,r*Math.pow(10,2*a))+br("%",a)}function OM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Si(e,t,r){if(e.charCodeAt(0)===40&&!t.match(EM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Si("n",n,r):"("+Si("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return FW(e,t,r);if(t.indexOf("%")!==-1)return BW(e,t,r);if(t.indexOf("E")!==-1)return OM(t,r);if(t.charCodeAt(0)===36)return"$"+Si(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+hi(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:zn(t.substr(0,t.length-a.length))+a;if(i=t.match(PM))return RW(i,c,u);if(t.match(/^#+0+$/))return u+hi(c,t.length-t.indexOf("0"));if(i=t.match(_M))return a=(""+r).replace(/^([^\.]+)$/,"$1."+zn(i[1])).replace(/\.$/,"."+zn(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+br("0",zn(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+fo(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Si(e,t,-r):fo(""+r)+"."+br("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Si(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Xc(Si(e,t.replace(/[\\-]/g,""),r)),o=0,Xc(Xc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(AM))return a=Si(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Cm(c,Math.pow(10,o)-1,!1),a=""+u,d=ns("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Am(l[2],o),d.length<i[4].length&&(d=zn(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Cm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Y2(l[1],o)+i[2]+"/"+i[3]+Am(l[2],o):br(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:zn(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return zn(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Si(e,t,-r):fo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?hi(0,3-g.length):"")+g})+"."+hi(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=fo(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Si(e,t.slice(0,t.lastIndexOf(".")),r)+zn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ns(e,t,r){return(r|0)===r?Si(e,t,r):La(e,t,r)}function $W(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var CM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function DM(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Om(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(CM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function UW(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Om(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=ep(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=ep(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=ep(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(CM)){if(u==null&&(u=ep(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",DM(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,b=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(b=Math.max(b,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var v="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=OW(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;v+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=Rb(t,r);break}var k="",N,S;if(v.length>0){v.charCodeAt(0)==40?(N=t<0&&v.charCodeAt(0)===45?-t:t,S=ns("n",v,N)):(N=t<0&&n>1?-t:t,S=ns("n",v,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),w=S.length-1;var T=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){T=o;break}var P=a.length;if(T===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=S.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=S.substr(0,w+1),w=-1),a[o].t="t",P=o);w>=0&&P<a.length&&(a[P].v=S.substr(0,w+1)+a[P].v)}else if(T!==a.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,o=T;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")-1:a[o].v.length-1,k=a[o].v.substr(d+1);d>=0;--d)w>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(k=S.charAt(w--)+k);a[o].v=k,a[o].t="t",P=o}for(w>=0&&P<a.length&&(a[P].v=S.substr(0,w+1)+a[P].v),w=S.indexOf(".")+1,o=T;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==T)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")+1:0,k=a[o].v.substr(0,d);d<a[o].v.length;++d)w<S.length&&(k+=S.charAt(w++));a[o].v=k,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=ns(a[o].t,a[o].v,N),a[o].t="t");var _="";for(o=0;o!==a.length;++o)a[o]!=null&&(_+=a[o].v);return _}var MP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function RP(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function KW(e,t){var r=$W(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(MP),l=r[1].match(MP);return RP(t,o)?[n,r[0]]:RP(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Ro(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:kr)[e],n==null&&(n=r.table&&r.table[OP[e]]||kr[OP[e]]),n==null&&(n=jW[e]||"General");break}if(Om(n,0))return Rb(t,r);t instanceof Date&&(t=SM(t,r.date1904));var a=KW(n,t);if(Om(a[1]))return Rb(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return UW(a[1],t,r,a[0])}function MM(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(kr[r]==null){t<0&&(t=r);continue}if(kr[r]==e){t=r;break}}t<0&&(t=391)}return kr[t]=e,t}function Sx(e){for(var t=0;t!=392;++t)e[t]!==void 0&&MM(e[t],t)}function Nx(){kr=kW()}var RM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function VW(e){var t=typeof e=="number"?kr[e]:e;return t=t.replace(RM,"(\\d+)"),new RegExp("^"+t+"$")}function HW(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(RM)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var zW=function(){var e={};e.version="1.2.0";function t(){for(var S=0,T=new Array(256),P=0;P!=256;++P)S=P,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,T[P]=S;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(S){var T=0,P=0,_=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_=0;_!=256;++_)O[_]=S[_];for(_=0;_!=256;++_)for(P=S[_],T=256+_;T<4096;T+=256)P=O[T]=P>>>8^S[P&255];var E=[];for(_=1;_!=16;++_)E[_-1]=typeof Int32Array<"u"?O.subarray(_*256,_*256+256):O.slice(_*256,_*256+256);return E}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],x=a[11],b=a[12],y=a[13],v=a[14];function w(S,T){for(var P=T^-1,_=0,O=S.length;_<O;)P=P>>>8^r[(P^S.charCodeAt(_++))&255];return~P}function k(S,T){for(var P=T^-1,_=S.length-15,O=0;O<_;)P=v[S[O++]^P&255]^y[S[O++]^P>>8&255]^b[S[O++]^P>>16&255]^x[S[O++]^P>>>24]^m[S[O++]]^g[S[O++]]^p[S[O++]]^h[S[O++]]^f[S[O++]]^d[S[O++]]^u[S[O++]]^c[S[O++]]^l[S[O++]]^o[S[O++]]^i[S[O++]]^r[S[O++]];for(_+=15;O<_;)P=P>>>8^r[(P^S[O++])&255];return~P}function N(S,T){for(var P=T^-1,_=0,O=S.length,E=0,C=0;_<O;)E=S.charCodeAt(_++),E<128?P=P>>>8^r[(P^E)&255]:E<2048?(P=P>>>8^r[(P^(192|E>>6&31))&255],P=P>>>8^r[(P^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,C=S.charCodeAt(_++)&1023,P=P>>>8^r[(P^(240|E>>8&7))&255],P=P>>>8^r[(P^(128|E>>2&63))&255],P=P>>>8^r[(P^(128|C>>6&15|(E&3)<<4))&255],P=P>>>8^r[(P^(128|C&63))&255]):(P=P>>>8^r[(P^(224|E>>12&15))&255],P=P>>>8^r[(P^(128|E>>6&63))&255],P=P>>>8^r[(P^(128|E&63))&255]);return~P}return e.table=r,e.bstr=w,e.buf=k,e.str=N,e}(),Wt=function(){var t={};t.version="1.2.1";function r(V,ae){for(var X=V.split("/"),Z=ae.split("/"),ie=0,oe=0,K=Math.min(X.length,Z.length);ie<K;++ie){if(oe=X[ie].length-Z[ie].length)return oe;if(X[ie]!=Z[ie])return X[ie]<Z[ie]?-1:1}return X.length-Z.length}function n(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:n(V.slice(0,-1));var ae=V.lastIndexOf("/");return ae===-1?V:V.slice(0,ae+1)}function a(V){if(V.charAt(V.length-1)=="/")return a(V.slice(0,-1));var ae=V.lastIndexOf("/");return ae===-1?V:V.slice(ae+1)}function i(V,ae){typeof ae=="string"&&(ae=new Date(ae));var X=ae.getHours();X=X<<6|ae.getMinutes(),X=X<<5|ae.getSeconds()>>>1,V.write_shift(2,X);var Z=ae.getFullYear()-1980;Z=Z<<4|ae.getMonth()+1,Z=Z<<5|ae.getDate(),V.write_shift(2,Z)}function o(V){var ae=V.read_shift(2)&65535,X=V.read_shift(2)&65535,Z=new Date,ie=X&31;X>>>=5;var oe=X&15;X>>>=4,Z.setMilliseconds(0),Z.setFullYear(X+1980),Z.setMonth(oe-1),Z.setDate(ie);var K=ae&31;ae>>>=5;var we=ae&63;return ae>>>=6,Z.setHours(ae),Z.setMinutes(we),Z.setSeconds(K<<1),Z}function l(V){ya(V,0);for(var ae={},X=0;V.l<=V.length-4;){var Z=V.read_shift(2),ie=V.read_shift(2),oe=V.l+ie,K={};switch(Z){case 21589:X=V.read_shift(1),X&1&&(K.mtime=V.read_shift(4)),ie>5&&(X&2&&(K.atime=V.read_shift(4)),X&4&&(K.ctime=V.read_shift(4))),K.mtime&&(K.mt=new Date(K.mtime*1e3));break}V.l=oe,ae[Z]=K}return ae}var c;function u(){return c||(c={})}function d(V,ae){if(V[0]==80&&V[1]==75)return st(V,ae);if((V[0]|32)==109&&(V[1]|32)==105)return Ts(V,ae);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var X=3,Z=512,ie=0,oe=0,K=0,we=0,pe=0,je=[],Se=V.slice(0,512);ya(Se,0);var Oe=f(Se);switch(X=Oe[0],X){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Oe[1]==0)return st(V,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}Z!==512&&(Se=V.slice(0,Z),ya(Se,28));var Re=V.slice(0,Z);h(Se,X);var $e=Se.read_shift(4,"i");if(X===3&&$e!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$e);Se.l+=4,K=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),we=Se.read_shift(4,"i"),ie=Se.read_shift(4,"i"),pe=Se.read_shift(4,"i"),oe=Se.read_shift(4,"i");for(var Ie=-1,ze=0;ze<109&&(Ie=Se.read_shift(4,"i"),!(Ie<0));++ze)je[ze]=Ie;var at=p(V,Z);x(pe,oe,at,Z,je);var vt=y(at,K,je,Z);vt[K].name="!Directory",ie>0&&we!==C&&(vt[we].name="!MiniFAT"),vt[je[0]].name="!FAT",vt.fat_addrs=je,vt.ssz=Z;var wt={},Mt=[],ln=[],cn=[];v(K,vt,at,Mt,ie,wt,ln,we),g(ln,cn,Mt),Mt.shift();var un={FileIndex:ln,FullPaths:cn};return ae&&ae.raw&&(un.raw={header:Re,sectors:at}),un}function f(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(z,"Header Signature: "),V.l+=16;var ae=V.read_shift(2,"u");return[V.read_shift(2,"u"),ae]}function h(V,ae){var X=9;switch(V.l+=2,X=V.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function p(V,ae){for(var X=Math.ceil(V.length/ae)-1,Z=[],ie=1;ie<X;++ie)Z[ie-1]=V.slice(ie*ae,(ie+1)*ae);return Z[X-1]=V.slice(X*ae),Z}function g(V,ae,X){for(var Z=0,ie=0,oe=0,K=0,we=0,pe=X.length,je=[],Se=[];Z<pe;++Z)je[Z]=Se[Z]=Z,ae[Z]=X[Z];for(;we<Se.length;++we)Z=Se[we],ie=V[Z].L,oe=V[Z].R,K=V[Z].C,je[Z]===Z&&(ie!==-1&&je[ie]!==ie&&(je[Z]=je[ie]),oe!==-1&&je[oe]!==oe&&(je[Z]=je[oe])),K!==-1&&(je[K]=Z),ie!==-1&&Z!=je[Z]&&(je[ie]=je[Z],Se.lastIndexOf(ie)<we&&Se.push(ie)),oe!==-1&&Z!=je[Z]&&(je[oe]=je[Z],Se.lastIndexOf(oe)<we&&Se.push(oe));for(Z=1;Z<pe;++Z)je[Z]===Z&&(oe!==-1&&je[oe]!==oe?je[Z]=je[oe]:ie!==-1&&je[ie]!==ie&&(je[Z]=je[ie]));for(Z=1;Z<pe;++Z)if(V[Z].type!==0){if(we=Z,we!=je[we])do we=je[we],ae[Z]=ae[we]+"/"+ae[Z];while(we!==0&&je[we]!==-1&&we!=je[we]);je[Z]=-1}for(ae[0]+="/",Z=1;Z<pe;++Z)V[Z].type!==2&&(ae[Z]+="/")}function m(V,ae,X){for(var Z=V.start,ie=V.size,oe=[],K=Z;X&&ie>0&&K>=0;)oe.push(ae.slice(K*E,K*E+E)),ie-=E,K=ul(X,K*4);return oe.length===0?Ae(0):mn(oe).slice(0,V.size)}function x(V,ae,X,Z,ie){var oe=C;if(V===C){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var K=X[V],we=(Z>>>2)-1;if(!K)return;for(var pe=0;pe<we&&(oe=ul(K,pe*4))!==C;++pe)ie.push(oe);x(ul(K,Z-4),ae-1,X,Z,ie)}}function b(V,ae,X,Z,ie){var oe=[],K=[];ie||(ie=[]);var we=Z-1,pe=0,je=0;for(pe=ae;pe>=0;){ie[pe]=!0,oe[oe.length]=pe,K.push(V[pe]);var Se=X[Math.floor(pe*4/Z)];if(je=pe*4&we,Z<4+je)throw new Error("FAT boundary crossed: "+pe+" 4 "+Z);if(!V[Se])break;pe=ul(V[Se],je)}return{nodes:oe,data:VP([K])}}function y(V,ae,X,Z){var ie=V.length,oe=[],K=[],we=[],pe=[],je=Z-1,Se=0,Oe=0,Re=0,$e=0;for(Se=0;Se<ie;++Se)if(we=[],Re=Se+ae,Re>=ie&&(Re-=ie),!K[Re]){pe=[];var Ie=[];for(Oe=Re;Oe>=0;){Ie[Oe]=!0,K[Oe]=!0,we[we.length]=Oe,pe.push(V[Oe]);var ze=X[Math.floor(Oe*4/Z)];if($e=Oe*4&je,Z<4+$e)throw new Error("FAT boundary crossed: "+Oe+" 4 "+Z);if(!V[ze]||(Oe=ul(V[ze],$e),Ie[Oe]))break}oe[Re]={nodes:we,data:VP([pe])}}return oe}function v(V,ae,X,Z,ie,oe,K,we){for(var pe=0,je=Z.length?2:0,Se=ae[V].data,Oe=0,Re=0,$e;Oe<Se.length;Oe+=128){var Ie=Se.slice(Oe,Oe+128);ya(Ie,64),Re=Ie.read_shift(2),$e=tj(Ie,0,Re-je),Z.push($e);var ze={name:$e,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},at=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);at!==0&&(ze.ct=w(Ie,Ie.l-8));var vt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);vt!==0&&(ze.mt=w(Ie,Ie.l-8)),ze.start=Ie.read_shift(4,"i"),ze.size=Ie.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=C,ze.name=""),ze.type===5?(pe=ze.start,ie>0&&pe!==C&&(ae[pe].name="!StreamData")):ze.size>=4096?(ze.storage="fat",ae[ze.start]===void 0&&(ae[ze.start]=b(X,ze.start,ae.fat_addrs,ae.ssz)),ae[ze.start].name=ze.name,ze.content=ae[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:pe!==C&&ze.start!==C&&ae[pe]&&(ze.content=m(ze,ae[pe].data,(ae[we]||{}).data))),ze.content&&ya(ze.content,0),oe[$e]=ze,K.push(ze)}}function w(V,ae){return new Date((wa(V,ae+4)/1e7*Math.pow(2,32)+wa(V,ae)/1e7-11644473600)*1e3)}function k(V,ae){return u(),d(c.readFileSync(V),ae)}function N(V,ae){var X=ae&&ae.type;switch(X||Rt&&Buffer.isBuffer(V)&&(X="buffer"),X||"base64"){case"file":return k(V,ae);case"base64":return d(di(hs(V)),ae);case"binary":return d(di(V),ae)}return d(V,ae)}function S(V,ae){var X=ae||{},Z=X.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=Z+"/",V.FileIndex[0]={name:Z,type:5}),X.CLSID&&(V.FileIndex[0].clsid=X.CLSID),T(V)}function T(V){var ae="Sh33tJ5";if(!Wt.find(V,"/"+ae)){var X=Ae(4);X[0]=55,X[1]=X[3]=50,X[2]=54,V.FileIndex.push({name:ae,type:2,content:X,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+ae),P(V)}}function P(V,ae){S(V);for(var X=!1,Z=!1,ie=V.FullPaths.length-1;ie>=0;--ie){var oe=V.FileIndex[ie];switch(oe.type){case 0:Z?X=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(oe.R*oe.L*oe.C)&&(X=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ae)){var K=new Date(1987,1,19),we=0,pe=Object.create?Object.create(null):{},je=[];for(ie=0;ie<V.FullPaths.length;++ie)pe[V.FullPaths[ie]]=!0,V.FileIndex[ie].type!==0&&je.push([V.FullPaths[ie],V.FileIndex[ie]]);for(ie=0;ie<je.length;++ie){var Se=n(je[ie][0]);Z=pe[Se],Z||(je.push([Se,{name:a(Se).replace("/",""),type:1,clsid:W,ct:K,mt:K,content:null}]),pe[Se]=!0)}for(je.sort(function($e,Ie){return r($e[0],Ie[0])}),V.FullPaths=[],V.FileIndex=[],ie=0;ie<je.length;++ie)V.FullPaths[ie]=je[ie][0],V.FileIndex[ie]=je[ie][1];for(ie=0;ie<je.length;++ie){var Oe=V.FileIndex[ie],Re=V.FullPaths[ie];if(Oe.name=a(Re).replace("/",""),Oe.L=Oe.R=Oe.C=-(Oe.color=1),Oe.size=Oe.content?Oe.content.length:0,Oe.start=0,Oe.clsid=Oe.clsid||W,ie===0)Oe.C=je.length>1?1:-1,Oe.size=0,Oe.type=5;else if(Re.slice(-1)=="/"){for(we=ie+1;we<je.length&&n(V.FullPaths[we])!=Re;++we);for(Oe.C=we>=je.length?-1:we,we=ie+1;we<je.length&&n(V.FullPaths[we])!=n(Re);++we);Oe.R=we>=je.length?-1:we,Oe.type=1}else n(V.FullPaths[ie+1]||"")==n(Re)&&(Oe.R=ie+1),Oe.type=2}}}function _(V,ae){var X=ae||{};if(X.fileType=="mad")return ac(V,X);switch(P(V),X.fileType){case"zip":return Er(V,X)}var Z=function($e){for(var Ie=0,ze=0,at=0;at<$e.FileIndex.length;++at){var vt=$e.FileIndex[at];if(vt.content){var wt=vt.content.length;wt>0&&(wt<4096?Ie+=wt+63>>6:ze+=wt+511>>9)}}for(var Mt=$e.FullPaths.length+3>>2,ln=Ie+7>>3,cn=Ie+127>>7,un=ln+ze+Mt+cn,$r=un+127>>7,Fn=$r<=109?0:Math.ceil(($r-109)/127);un+$r+Fn+127>>7>$r;)Fn=++$r<=109?0:Math.ceil(($r-109)/127);var Sr=[1,Fn,$r,cn,Mt,ze,Ie,0];return $e.FileIndex[0].size=Ie<<6,Sr[7]=($e.FileIndex[0].start=Sr[0]+Sr[1]+Sr[2]+Sr[3]+Sr[4]+Sr[5])+(Sr[6]+7>>3),Sr}(V),ie=Ae(Z[7]<<9),oe=0,K=0;{for(oe=0;oe<8;++oe)ie.write_shift(1,Q[oe]);for(oe=0;oe<8;++oe)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),oe=0;oe<3;++oe)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,Z[2]),ie.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:C),ie.write_shift(4,Z[3]),ie.write_shift(-4,Z[1]?Z[0]-1:C),ie.write_shift(4,Z[1]),oe=0;oe<109;++oe)ie.write_shift(-4,oe<Z[2]?Z[1]+oe:-1)}if(Z[1])for(K=0;K<Z[1];++K){for(;oe<236+K*127;++oe)ie.write_shift(-4,oe<Z[2]?Z[1]+oe:-1);ie.write_shift(-4,K===Z[1]-1?C:K+1)}var we=function($e){for(K+=$e;oe<K-1;++oe)ie.write_shift(-4,oe+1);$e&&(++oe,ie.write_shift(-4,C))};for(K=oe=0,K+=Z[1];oe<K;++oe)ie.write_shift(-4,q.DIFSECT);for(K+=Z[2];oe<K;++oe)ie.write_shift(-4,q.FATSECT);we(Z[3]),we(Z[4]);for(var pe=0,je=0,Se=V.FileIndex[0];pe<V.FileIndex.length;++pe)Se=V.FileIndex[pe],Se.content&&(je=Se.content.length,!(je<4096)&&(Se.start=K,we(je+511>>9)));for(we(Z[6]+7>>3);ie.l&511;)ie.write_shift(-4,q.ENDOFCHAIN);for(K=oe=0,pe=0;pe<V.FileIndex.length;++pe)Se=V.FileIndex[pe],Se.content&&(je=Se.content.length,!(!je||je>=4096)&&(Se.start=K,we(je+63>>6)));for(;ie.l&511;)ie.write_shift(-4,q.ENDOFCHAIN);for(oe=0;oe<Z[4]<<2;++oe){var Oe=V.FullPaths[oe];if(!Oe||Oe.length===0){for(pe=0;pe<17;++pe)ie.write_shift(4,0);for(pe=0;pe<3;++pe)ie.write_shift(4,-1);for(pe=0;pe<12;++pe)ie.write_shift(4,0);continue}Se=V.FileIndex[oe],oe===0&&(Se.start=Se.size?Se.start-1:C);var Re=oe===0&&X.root||Se.name;if(je=2*(Re.length+1),ie.write_shift(64,Re,"utf16le"),ie.write_shift(2,je),ie.write_shift(1,Se.type),ie.write_shift(1,Se.color),ie.write_shift(-4,Se.L),ie.write_shift(-4,Se.R),ie.write_shift(-4,Se.C),Se.clsid)ie.write_shift(16,Se.clsid,"hex");else for(pe=0;pe<4;++pe)ie.write_shift(4,0);ie.write_shift(4,Se.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Se.start),ie.write_shift(4,Se.size),ie.write_shift(4,0)}for(oe=1;oe<V.FileIndex.length;++oe)if(Se=V.FileIndex[oe],Se.size>=4096)if(ie.l=Se.start+1<<9,Rt&&Buffer.isBuffer(Se.content))Se.content.copy(ie,ie.l,0,Se.size),ie.l+=Se.size+511&-512;else{for(pe=0;pe<Se.size;++pe)ie.write_shift(1,Se.content[pe]);for(;pe&511;++pe)ie.write_shift(1,0)}for(oe=1;oe<V.FileIndex.length;++oe)if(Se=V.FileIndex[oe],Se.size>0&&Se.size<4096)if(Rt&&Buffer.isBuffer(Se.content))Se.content.copy(ie,ie.l,0,Se.size),ie.l+=Se.size+63&-64;else{for(pe=0;pe<Se.size;++pe)ie.write_shift(1,Se.content[pe]);for(;pe&63;++pe)ie.write_shift(1,0)}if(Rt)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function O(V,ae){var X=V.FullPaths.map(function(pe){return pe.toUpperCase()}),Z=X.map(function(pe){var je=pe.split("/");return je[je.length-(pe.slice(-1)=="/"?2:1)]}),ie=!1;ae.charCodeAt(0)===47?(ie=!0,ae=X[0].slice(0,-1)+ae):ie=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),K=ie===!0?X.indexOf(oe):Z.indexOf(oe);if(K!==-1)return V.FileIndex[K];var we=!oe.match(Q0);for(oe=oe.replace(Sf,""),we&&(oe=oe.replace(Q0,"!")),K=0;K<X.length;++K)if((we?X[K].replace(Q0,"!"):X[K]).replace(Sf,"")==oe||(we?Z[K].replace(Q0,"!"):Z[K]).replace(Sf,"")==oe)return V.FileIndex[K];return null}var E=64,C=-2,z="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:C,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(V,ae,X){u();var Z=_(V,X);c.writeFileSync(ae,Z)}function G(V){for(var ae=new Array(V.length),X=0;X<V.length;++X)ae[X]=String.fromCharCode(V[X]);return ae.join("")}function de(V,ae){var X=_(V,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,X),X;case"binary":return typeof X=="string"?X:G(X);case"base64":return fh(typeof X=="string"?X:G(X));case"buffer":if(Rt)return Buffer.isBuffer(X)?X:ws(X);case"array":return typeof X=="string"?di(X):X}return X}var ce;function U(V){try{var ae=V.InflateRaw,X=new ae;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)ce=V;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function L(V,ae){if(!ce)return _e(V,ae);var X=ce.InflateRaw,Z=new X,ie=Z._processChunk(V.slice(V.l),Z._finishFlushFlag);return V.l+=Z.bytesRead,ie}function I(V){return ce?ce.deflateRawSync(V):Fe(V)}var R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(V){var ae=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var ue=typeof Uint8Array<"u",he=ue?new Uint8Array(256):[],Te=0;Te<256;++Te)he[Te]=Ne(Te);function me(V,ae){var X=he[V&255];return ae<=8?X>>>8-ae:(X=X<<8|he[V>>8&255],ae<=16?X>>>16-ae:(X=X<<8|he[V>>16&255],X>>>24-ae))}function Ce(V,ae){var X=ae&7,Z=ae>>>3;return(V[Z]|(X<=6?0:V[Z+1]<<8))>>>X&3}function ne(V,ae){var X=ae&7,Z=ae>>>3;return(V[Z]|(X<=5?0:V[Z+1]<<8))>>>X&7}function A(V,ae){var X=ae&7,Z=ae>>>3;return(V[Z]|(X<=4?0:V[Z+1]<<8))>>>X&15}function B(V,ae){var X=ae&7,Z=ae>>>3;return(V[Z]|(X<=3?0:V[Z+1]<<8))>>>X&31}function H(V,ae){var X=ae&7,Z=ae>>>3;return(V[Z]|(X<=1?0:V[Z+1]<<8))>>>X&127}function ke(V,ae,X){var Z=ae&7,ie=ae>>>3,oe=(1<<X)-1,K=V[ie]>>>Z;return X<8-Z||(K|=V[ie+1]<<8-Z,X<16-Z)||(K|=V[ie+2]<<16-Z,X<24-Z)||(K|=V[ie+3]<<24-Z),K&oe}function M(V,ae,X){var Z=ae&7,ie=ae>>>3;return Z<=5?V[ie]|=(X&7)<<Z:(V[ie]|=X<<Z&255,V[ie+1]=(X&7)>>8-Z),ae+3}function F(V,ae,X){var Z=ae&7,ie=ae>>>3;return X=(X&1)<<Z,V[ie]|=X,ae+1}function se(V,ae,X){var Z=ae&7,ie=ae>>>3;return X<<=Z,V[ie]|=X&255,X>>>=8,V[ie+1]=X,ae+8}function D(V,ae,X){var Z=ae&7,ie=ae>>>3;return X<<=Z,V[ie]|=X&255,X>>>=8,V[ie+1]=X&255,V[ie+2]=X>>>8,ae+16}function Y(V,ae){var X=V.length,Z=2*X>ae?2*X:ae+5,ie=0;if(X>=ae)return V;if(Rt){var oe=_P(Z);if(V.copy)V.copy(oe);else for(;ie<V.length;++ie)oe[ie]=V[ie];return oe}else if(ue){var K=new Uint8Array(Z);if(K.set)K.set(V);else for(;ie<X;++ie)K[ie]=V[ie];return K}return V.length=Z,V}function ee(V){for(var ae=new Array(V),X=0;X<V;++X)ae[X]=0;return ae}function te(V,ae,X){var Z=1,ie=0,oe=0,K=0,we=0,pe=V.length,je=ue?new Uint16Array(32):ee(32);for(oe=0;oe<32;++oe)je[oe]=0;for(oe=pe;oe<X;++oe)V[oe]=0;pe=V.length;var Se=ue?new Uint16Array(pe):ee(pe);for(oe=0;oe<pe;++oe)je[ie=V[oe]]++,Z<ie&&(Z=ie),Se[oe]=0;for(je[0]=0,oe=1;oe<=Z;++oe)je[oe+16]=we=we+je[oe-1]<<1;for(oe=0;oe<pe;++oe)we=V[oe],we!=0&&(Se[oe]=je[we+16]++);var Oe=0;for(oe=0;oe<pe;++oe)if(Oe=V[oe],Oe!=0)for(we=me(Se[oe],Z)>>Z-Oe,K=(1<<Z+4-Oe)-1;K>=0;--K)ae[we|K<<Oe]=Oe&15|oe<<4;return Z}var ye=ue?new Uint16Array(512):ee(512),Ve=ue?new Uint16Array(32):ee(32);if(!ue){for(var be=0;be<512;++be)ye[be]=0;for(be=0;be<32;++be)Ve[be]=0}(function(){for(var V=[],ae=0;ae<32;ae++)V.push(5);te(V,Ve,32);var X=[];for(ae=0;ae<=143;ae++)X.push(8);for(;ae<=255;ae++)X.push(9);for(;ae<=279;ae++)X.push(7);for(;ae<=287;ae++)X.push(8);te(X,ye,288)})();var Pe=function(){for(var ae=ue?new Uint8Array(32768):[],X=0,Z=0;X<xe.length-1;++X)for(;Z<xe[X+1];++Z)ae[Z]=X;for(;Z<32768;++Z)ae[Z]=29;var ie=ue?new Uint8Array(259):[];for(X=0,Z=0;X<J.length-1;++X)for(;Z<J[X+1];++Z)ie[Z]=X;function oe(we,pe){for(var je=0;je<we.length;){var Se=Math.min(65535,we.length-je),Oe=je+Se==we.length;for(pe.write_shift(1,+Oe),pe.write_shift(2,Se),pe.write_shift(2,~Se&65535);Se-- >0;)pe[pe.l++]=we[je++]}return pe.l}function K(we,pe){for(var je=0,Se=0,Oe=ue?new Uint16Array(32768):[];Se<we.length;){var Re=Math.min(65535,we.length-Se);if(Re<10){for(je=M(pe,je,+(Se+Re==we.length)),je&7&&(je+=8-(je&7)),pe.l=je/8|0,pe.write_shift(2,Re),pe.write_shift(2,~Re&65535);Re-- >0;)pe[pe.l++]=we[Se++];je=pe.l*8;continue}je=M(pe,je,+(Se+Re==we.length)+2);for(var $e=0;Re-- >0;){var Ie=we[Se];$e=($e<<5^Ie)&32767;var ze=-1,at=0;if((ze=Oe[$e])&&(ze|=Se&-32768,ze>Se&&(ze-=32768),ze<Se))for(;we[ze+at]==we[Se+at]&&at<250;)++at;if(at>2){Ie=ie[at],Ie<=22?je=se(pe,je,he[Ie+1]>>1)-1:(se(pe,je,3),je+=5,se(pe,je,he[Ie-23]>>5),je+=3);var vt=Ie<8?0:Ie-4>>2;vt>0&&(D(pe,je,at-J[Ie]),je+=vt),Ie=ae[Se-ze],je=se(pe,je,he[Ie]>>3),je-=3;var wt=Ie<4?0:Ie-2>>1;wt>0&&(D(pe,je,Se-ze-xe[Ie]),je+=wt);for(var Mt=0;Mt<at;++Mt)Oe[$e]=Se&32767,$e=($e<<5^we[Se])&32767,++Se;Re-=at-1}else Ie<=143?Ie=Ie+48:je=F(pe,je,1),je=se(pe,je,he[Ie]),Oe[$e]=Se&32767,++Se}je=se(pe,je,0)-1}return pe.l=(je+7)/8|0,pe.l}return function(pe,je){return pe.length<8?oe(pe,je):K(pe,je)}}();function Fe(V){var ae=Ae(50+Math.floor(V.length*1.1)),X=Pe(V,ae);return ae.slice(0,X)}var We=ue?new Uint16Array(32768):ee(32768),it=ue?new Uint16Array(32768):ee(32768),lt=ue?new Uint16Array(128):ee(128),dt=1,Qe=1;function Pt(V,ae){var X=B(V,ae)+257;ae+=5;var Z=B(V,ae)+1;ae+=5;var ie=A(V,ae)+4;ae+=4;for(var oe=0,K=ue?new Uint8Array(19):ee(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,je=ue?new Uint8Array(8):ee(8),Se=ue?new Uint8Array(8):ee(8),Oe=K.length,Re=0;Re<ie;++Re)K[R[Re]]=oe=ne(V,ae),pe<oe&&(pe=oe),je[oe]++,ae+=3;var $e=0;for(je[0]=0,Re=1;Re<=pe;++Re)Se[Re]=$e=$e+je[Re-1]<<1;for(Re=0;Re<Oe;++Re)($e=K[Re])!=0&&(we[Re]=Se[$e]++);var Ie=0;for(Re=0;Re<Oe;++Re)if(Ie=K[Re],Ie!=0){$e=he[we[Re]]>>8-Ie;for(var ze=(1<<7-Ie)-1;ze>=0;--ze)lt[$e|ze<<Ie]=Ie&7|Re<<3}var at=[];for(pe=1;at.length<X+Z;)switch($e=lt[H(V,ae)],ae+=$e&7,$e>>>=3){case 16:for(oe=3+Ce(V,ae),ae+=2,$e=at[at.length-1];oe-- >0;)at.push($e);break;case 17:for(oe=3+ne(V,ae),ae+=3;oe-- >0;)at.push(0);break;case 18:for(oe=11+H(V,ae),ae+=7;oe-- >0;)at.push(0);break;default:at.push($e),pe<$e&&(pe=$e);break}var vt=at.slice(0,X),wt=at.slice(X);for(Re=X;Re<286;++Re)vt[Re]=0;for(Re=Z;Re<30;++Re)wt[Re]=0;return dt=te(vt,We,286),Qe=te(wt,it,30),ae}function ea(V,ae){if(V[0]==3&&!(V[1]&3))return[Rl(ae),2];for(var X=0,Z=0,ie=_P(ae||1<<18),oe=0,K=ie.length>>>0,we=0,pe=0;!(Z&1);){if(Z=ne(V,X),X+=3,Z>>>1)Z>>1==1?(we=9,pe=5):(X=Pt(V,X),we=dt,pe=Qe);else{X&7&&(X+=8-(X&7));var je=V[X>>>3]|V[(X>>>3)+1]<<8;if(X+=32,je>0)for(!ae&&K<oe+je&&(ie=Y(ie,oe+je),K=ie.length);je-- >0;)ie[oe++]=V[X>>>3],X+=8;continue}for(;;){!ae&&K<oe+32767&&(ie=Y(ie,oe+32767),K=ie.length);var Se=ke(V,X,we),Oe=Z>>>1==1?ye[Se]:We[Se];if(X+=Oe&15,Oe>>>=4,!(Oe>>>8&255))ie[oe++]=Oe;else{if(Oe==256)break;Oe-=257;var Re=Oe<8?0:Oe-4>>2;Re>5&&(Re=0);var $e=oe+J[Oe];Re>0&&($e+=ke(V,X,Re),X+=Re),Se=ke(V,X,pe),Oe=Z>>>1==1?Ve[Se]:it[Se],X+=Oe&15,Oe>>>=4;var Ie=Oe<4?0:Oe-2>>1,ze=xe[Oe];for(Ie>0&&(ze+=ke(V,X,Ie),X+=Ie),!ae&&K<$e&&(ie=Y(ie,$e+100),K=ie.length);oe<$e;)ie[oe]=ie[oe-ze],++oe}}}return ae?[ie,X+7>>>3]:[ie.slice(0,oe),X+7>>>3]}function _e(V,ae){var X=V.slice(V.l||0),Z=ea(X,ae);return V.l+=Z[1],Z[0]}function Be(V,ae){if(V)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function st(V,ae){var X=V;ya(X,0);var Z=[],ie=[],oe={FileIndex:Z,FullPaths:ie};S(oe,{root:ae.root});for(var K=X.length-4;(X[K]!=80||X[K+1]!=75||X[K+2]!=5||X[K+3]!=6)&&K>=0;)--K;X.l=K+4,X.l+=4;var we=X.read_shift(2);X.l+=6;var pe=X.read_shift(4);for(X.l=pe,K=0;K<we;++K){X.l+=20;var je=X.read_shift(4),Se=X.read_shift(4),Oe=X.read_shift(2),Re=X.read_shift(2),$e=X.read_shift(2);X.l+=8;var Ie=X.read_shift(4),ze=l(X.slice(X.l+Oe,X.l+Oe+Re));X.l+=Oe+Re+$e;var at=X.l;X.l=Ie+4,_t(X,je,Se,oe,ze),X.l=at}return oe}function _t(V,ae,X,Z,ie){V.l+=2;var oe=V.read_shift(2),K=V.read_shift(2),we=o(V);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var pe=V.read_shift(4),je=V.read_shift(4),Se=V.read_shift(4),Oe=V.read_shift(2),Re=V.read_shift(2),$e="",Ie=0;Ie<Oe;++Ie)$e+=String.fromCharCode(V[V.l++]);if(Re){var ze=l(V.slice(V.l,V.l+Re));(ze[21589]||{}).mt&&(we=ze[21589].mt),((ie||{})[21589]||{}).mt&&(we=ie[21589].mt)}V.l+=Re;var at=V.slice(V.l,V.l+je);switch(K){case 8:at=L(V,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+K)}var vt=!1;oe&8&&(pe=V.read_shift(4),pe==134695760&&(pe=V.read_shift(4),vt=!0),je=V.read_shift(4),Se=V.read_shift(4)),je!=ae&&Be(vt,"Bad compressed size: "+ae+" != "+je),Se!=X&&Be(vt,"Bad uncompressed size: "+X+" != "+Se),qo(Z,$e,at,{unsafe:!0,mt:we})}function Er(V,ae){var X=ae||{},Z=[],ie=[],oe=Ae(1),K=X.compression?8:0,we=0,pe=0,je=0,Se=0,Oe=0,Re=V.FullPaths[0],$e=Re,Ie=V.FileIndex[0],ze=[],at=0;for(pe=1;pe<V.FullPaths.length;++pe)if($e=V.FullPaths[pe].slice(Re.length),Ie=V.FileIndex[pe],!(!Ie.size||!Ie.content||$e=="Sh33tJ5")){var vt=Se,wt=Ae($e.length);for(je=0;je<$e.length;++je)wt.write_shift(1,$e.charCodeAt(je)&127);wt=wt.slice(0,wt.l),ze[Oe]=zW.buf(Ie.content,0);var Mt=Ie.content;K==8&&(Mt=I(Mt)),oe=Ae(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,we),oe.write_shift(2,K),Ie.mt?i(oe,Ie.mt):oe.write_shift(4,0),oe.write_shift(-4,ze[Oe]),oe.write_shift(4,Mt.length),oe.write_shift(4,Ie.content.length),oe.write_shift(2,wt.length),oe.write_shift(2,0),Se+=oe.length,Z.push(oe),Se+=wt.length,Z.push(wt),Se+=Mt.length,Z.push(Mt),oe=Ae(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,we),oe.write_shift(2,K),oe.write_shift(4,0),oe.write_shift(-4,ze[Oe]),oe.write_shift(4,Mt.length),oe.write_shift(4,Ie.content.length),oe.write_shift(2,wt.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,vt),at+=oe.l,ie.push(oe),at+=wt.length,ie.push(wt),++Oe}return oe=Ae(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Oe),oe.write_shift(2,Oe),oe.write_shift(4,at),oe.write_shift(4,Se),oe.write_shift(2,0),mn([mn(Z),mn(ie),oe])}var or={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ft(V,ae){if(V.ctype)return V.ctype;var X=V.name||"",Z=X.match(/\.([^\.]+)$/);return Z&&or[Z[1]]||ae&&(Z=(X=ae).match(/[\.\\]([^\.\\])+$/),Z&&or[Z[1]])?or[Z[1]]:"application/octet-stream"}function fr(V){for(var ae=fh(V),X=[],Z=0;Z<ae.length;Z+=76)X.push(ae.slice(Z,Z+76));return X.join(`\r
`)+`\r
`}function Ns(V){var ae=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var Se=je.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],Z=ae.split(`\r
`),ie=0;ie<Z.length;++ie){var oe=Z[ie];if(oe.length==0){X.push("");continue}for(var K=0;K<oe.length;){var we=76,pe=oe.slice(K,K+we);pe.charAt(we-1)=="="?we--:pe.charAt(we-2)=="="?we-=2:pe.charAt(we-3)=="="&&(we-=3),pe=oe.slice(K,K+we),K+=we,K<oe.length&&(pe+="="),X.push(pe)}}return X.join(`\r
`)}function ta(V){for(var ae=[],X=0;X<V.length;++X){for(var Z=V[X];X<=V.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+V[++X];ae.push(Z)}for(var ie=0;ie<ae.length;++ie)ae[ie]=ae[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return di(ae.join(`\r
`))}function tt(V,ae,X){for(var Z="",ie="",oe="",K,we=0;we<10;++we){var pe=ae[we];if(!pe||pe.match(/^\s*$/))break;var je=pe.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":Z=je[2].trim();break;case"content-type":oe=je[2].trim();break;case"content-transfer-encoding":ie=je[2].trim();break}}switch(++we,ie.toLowerCase()){case"base64":K=di(hs(ae.slice(we).join("")));break;case"quoted-printable":K=ta(ae.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Se=qo(V,Z.slice(X.length),K,{unsafe:!0});oe&&(Se.ctype=oe)}function Ts(V,ae){if(G(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ae&&ae.root||"",Z=(Rt&&Buffer.isBuffer(V)?V.toString("binary"):G(V)).split(`\r
`),ie=0,oe="";for(ie=0;ie<Z.length;++ie)if(oe=Z[ie],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),X||(X=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),oe.slice(0,X.length)!=X););var K=(Z[1]||"").match(/boundary="(.*?)"/);if(!K)throw new Error("MAD cannot find boundary");var we="--"+(K[1]||""),pe=[],je=[],Se={FileIndex:pe,FullPaths:je};S(Se);var Oe,Re=0;for(ie=0;ie<Z.length;++ie){var $e=Z[ie];$e!==we&&$e!==we+"--"||(Re++&&tt(Se,Z.slice(Oe,ie),X),Oe=ie)}return Se}function ac(V,ae){var X=ae||{},Z=X.boundary||"SheetJS";Z="------="+Z;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],oe=V.FullPaths[0],K=oe,we=V.FileIndex[0],pe=1;pe<V.FullPaths.length;++pe)if(K=V.FullPaths[pe].slice(oe.length),we=V.FileIndex[pe],!(!we.size||!we.content||K=="Sh33tJ5")){K=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var je=we.content,Se=Rt&&Buffer.isBuffer(je)?je.toString("binary"):G(je),Oe=0,Re=Math.min(1024,Se.length),$e=0,Ie=0;Ie<=Re;++Ie)($e=Se.charCodeAt(Ie))>=32&&$e<128&&++Oe;var ze=Oe>=Re*4/5;ie.push(Z),ie.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+K),ie.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),ie.push("Content-Type: "+Ft(we,K)),ie.push(""),ie.push(ze?Ns(Se):fr(Se))}return ie.push(Z+`--\r
`),ie.join(`\r
`)}function ic(V){var ae={};return S(ae,V),ae}function qo(V,ae,X,Z){var ie=Z&&Z.unsafe;ie||S(V);var oe=!ie&&Wt.find(V,ae);if(!oe){var K=V.FullPaths[0];ae.slice(0,K.length)==K?K=ae:(K.slice(-1)!="/"&&(K+="/"),K=(K+ae).replace("//","/")),oe={name:a(ae),type:2},V.FileIndex.push(oe),V.FullPaths.push(K),ie||Wt.utils.cfb_gc(V)}return oe.content=X,oe.size=X?X.length:0,Z&&(Z.CLSID&&(oe.clsid=Z.CLSID),Z.mt&&(oe.mt=Z.mt),Z.ct&&(oe.ct=Z.ct)),oe}function N0(V,ae){S(V);var X=Wt.find(V,ae);if(X){for(var Z=0;Z<V.FileIndex.length;++Z)if(V.FileIndex[Z]==X)return V.FileIndex.splice(Z,1),V.FullPaths.splice(Z,1),!0}return!1}function T0(V,ae,X){S(V);var Z=Wt.find(V,ae);if(Z){for(var ie=0;ie<V.FileIndex.length;++ie)if(V.FileIndex[ie]==Z)return V.FileIndex[ie].name=a(X),V.FullPaths[ie]=X,!0}return!1}function P0(V){P(V,!0)}return t.find=O,t.read=N,t.parse=d,t.write=de,t.writeFile=re,t.utils={cfb_new:ic,cfb_add:qo,cfb_del:N0,cfb_mov:T0,cfb_gc:P0,ReadShift:Tf,CheckField:QM,prep_blob:ya,bconcat:mn,use_zlib:U,_deflateRaw:Fe,_inflateRaw:_e,consts:q},t}();function WW(e){return typeof e=="string"?jx(e):Array.isArray(e)?vW(e):e}function d0(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=jx(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ph(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([WW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=u0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function bn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function IP(e,t){for(var r=[],n=bn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function J2(e){for(var t=[],r=bn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Tx(e){for(var t=[],r=bn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function GW(e){for(var t=[],r=bn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Dm=new Date(1899,11,30,0,0,0);function da(e,t){var r=e.getTime(),n=Dm.getTime()+(e.getTimezoneOffset()-Dm.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var IM=new Date,qW=Dm.getTime()+(IM.getTimezoneOffset()-Dm.getTimezoneOffset())*6e4,LP=IM.getTimezoneOffset();function LM(e){var t=new Date;return t.setTime(e*24*60*60*1e3+qW),t.getTimezoneOffset()!==LP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-LP)*6e4),t}var FP=new Date("2017-02-19T19:06:09.000Z"),FM=isNaN(FP.getFullYear())?new Date("2/19/17"):FP,YW=FM.getFullYear()==2017;function Jn(e,t){var r=new Date(e);if(YW)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(FM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Px(e,t){if(Rt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function fa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=fa(e[r]));return t}function br(e,t){for(var r="";r.length<t;)r+=e;return r}function as(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var XW=["january","february","march","april","may","june","july","august","september","october","november","december"];function hh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&XW.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function bt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Rt?n=ws(r):n=yW(r),Wt.utils.cfb_add(e,t,n)}Wt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Z2(){return Wt.utils.cfb_new()}var Fr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JW={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Q2=J2(JW),ej=/[&<>'"]/g,ZW=/[\u0000-\u0008\u000b-\u001f]/g;function Ut(e){var t=e+"";return t.replace(ej,function(r){return Q2[r]}).replace(ZW,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function BP(e){return Ut(e).replace(/ /g,"_x0020_")}var BM=/[\u0000-\u001f]/g;function QW(e){var t=e+"";return t.replace(ej,function(r){return Q2[r]}).replace(/\n/g,"<br/>").replace(BM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function eG(e){var t=e+"";return t.replace(ej,function(r){return Q2[r]}).replace(BM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function tG(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function rG(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vy(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function $P(e){var t=Rl(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function UP(e){return ws(e,"binary").toString("utf8")}var tp="foo bar baz",Nf=Rt&&(UP(tp)==vy(tp)&&UP||$P(tp)==vy(tp)&&$P)||vy,ph=Rt?function(e){return ws(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},nG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),$M=/(^\s|\s$|\n)/;function gn(e,t){return"<"+e+(t.match($M)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function mh(e){return bn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qe(e,t,r){return"<"+e+(r!=null?mh(r):"")+(t!=null?(t.match($M)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Ib(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function aG(e,t){switch(typeof e){case"string":var r=qe("vt:lpwstr",Ut(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return qe((e|0)==e?"vt:i4":"vt:r8",Ut(String(e)));case"boolean":return qe("vt:bool",e?"true":"false")}if(e instanceof Date)return qe("vt:filetime",Ib(e));throw new Error("Unable to serialize "+e)}var tn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ba={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iG(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function sG(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var KP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},VP=Rt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ws(t)})):KP(e)}:KP,HP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(of(e,a)));return n.join("").replace(Sf,"")},tj=Rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Sf,""):HP(e,t,r)}:HP,zP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},UM=Rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):zP(e,t,r)}:zP,WP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(gc(e,a)));return n.join("")},f0=Rt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):WP(t,r,n)}:WP,KM=function(e,t){var r=wa(e,t);return r>0?f0(e,t+4,t+4+r-1):""},VM=KM,HM=function(e,t){var r=wa(e,t);return r>0?f0(e,t+4,t+4+r-1):""},zM=HM,WM=function(e,t){var r=2*wa(e,t);return r>0?f0(e,t+4,t+4+r-1):""},GM=WM,qM=function(t,r){var n=wa(t,r);return n>0?tj(t,r+4,r+4+n):""},YM=qM,XM=function(e,t){var r=wa(e,t);return r>0?f0(e,t+4,t+4+r):""},JM=XM,ZM=function(e,t){return iG(e,t)},Mm=ZM,rj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Rt&&(VM=function(t,r){if(!Buffer.isBuffer(t))return KM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},zM=function(t,r){if(!Buffer.isBuffer(t))return HM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},GM=function(t,r){if(!Buffer.isBuffer(t))return WM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},YM=function(t,r){if(!Buffer.isBuffer(t))return qM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},JM=function(t,r){if(!Buffer.isBuffer(t))return XM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Mm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):ZM(t,r)},rj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var gc=function(e,t){return e[t]},of=function(e,t){return e[t+1]*256+e[t]},oG=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},wa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ul=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lG=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Tf(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Rt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(of(this,u)),u+=2;e*=2;break;case"utf8":r=f0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=tj(this,this.l,this.l+e);break;case"wstr":return Tf.call(this,e,"dbcs");case"lpstr-ansi":r=VM(this,this.l),e=4+wa(this,this.l);break;case"lpstr-cp":r=zM(this,this.l),e=4+wa(this,this.l);break;case"lpwstr":r=GM(this,this.l),e=4+2*wa(this,this.l);break;case"lpp4":e=4+wa(this,this.l),r=YM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+wa(this,this.l),r=JM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=gc(this,this.l+e++))!==0;)i.push(Z0(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=of(this,this.l+e))!==0;)i.push(Z0(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=gc(this,u),this.l=u+1,l=Tf.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Z0(of(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=gc(this,u),this.l=u+1,l=Tf.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Z0(gc(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=gc(this,this.l),this.l++,n;case 2:return n=(t==="i"?oG:of)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ul:lG)(this,this.l),this.l+=4,n):(a=wa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Mm(this,this.l):a=Mm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=UM(this,this.l,e);break}}return this.l+=e,r}var cG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},uG=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},dG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function fG(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)dG(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,cG(this,t,this.l);break;case 8:if(n=8,r==="f"){sG(this,t,this.l);break}case 16:break;case-4:n=4,uG(this,t,this.l);break}return this.l+=n,this}function QM(e,t){var r=UM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ya(e,t){e.l=t,e.read_shift=Tf,e.chk=QM,e.write_shift=fG}function Li(e,t){e.l+=t}function Ae(e){var t=Rl(e);return ya(t,0),t}function ca(){var e=[],t=Rt?256:2048,r=function(u){var d=Ae(u);return ya(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),mn(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Le(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=iQ[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&rj(r)&&e.push(r)}}function Pf(e,t,r){var n=fa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function GP(e,t,r){var n=fa(e);return n.s=Pf(n.s,t.s,r),n.e=Pf(n.e,t.s,r),n}function _f(e,t){if(e.cRel&&e.c<0)for(e=fa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Vt(e);return!e.cRel&&e.cRel!=null&&(r=mG(r)),!e.rRel&&e.rRel!=null&&(r=hG(r)),r}function yy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Mn(e.s.c)+":"+(e.e.cRel?"":"$")+Mn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+vn(e.s.r)+":"+(e.e.rRel?"":"$")+vn(e.e.r):_f(e.s,t.biff)+":"+_f(e.e,t.biff)}function nj(e){return parseInt(pG(e),10)-1}function vn(e){return""+(e+1)}function hG(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pG(e){return e.replace(/\$(\d+)$/,"$1")}function aj(e){for(var t=gG(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Mn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function mG(e){return e.replace(/^([A-Z])/,"$$$1")}function gG(e){return e.replace(/^\$([A-Z])/,"$1")}function xG(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function rn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Vt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Aa(e){var t=e.indexOf(":");return t==-1?{s:rn(e),e:rn(e)}:{s:rn(e.slice(0,t)),e:rn(e.slice(t+1))}}function Mr(e,t){return typeof t>"u"||typeof t=="number"?Mr(e.s,e.e):(typeof e!="string"&&(e=Vt(e)),typeof t!="string"&&(t=Vt(t)),e==t?e:e+":"+t)}function sr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function qP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ro(e.z,r?da(t):t)}catch{}try{return e.w=Ro((e.XF||{}).numFmtId||(r?14:0),r?da(t):t)}catch{return""+t}}function ps(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?h0[e.v]||e.v:t==null?qP(e,e.v):qP(e,t))}function ql(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function eR(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?rn(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=sr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=o+f,m=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||kr[14],n.cellDates?(p.t="d",p.w=Ro(p.z,da(p.v))):(p.t="n",p.v=da(p.v),p.w=Ro(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var x=Vt({c:m,r:g});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Mr(u)),i}function Xu(e,t){return eR(null,e,t)}function vG(e){return e.read_shift(4,"i")}function xi(e,t){return t||(t=Ae(4)),t.write_shift(4,e),t}function Rn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function nn(e,t){var r=!1;return t==null&&(r=!0,t=Ae(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function yG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bG(e,t){return t||(t=Ae(4)),t.write_shift(2,0),t.write_shift(2,0),t}function ij(e,t){var r=e.l,n=e.read_shift(1),a=Rn(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(yG(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function wG(e,t){var r=!1;return t==null&&(r=!0,t=Ae(15+4*e.t.length)),t.write_shift(1,0),nn(e.t,t),r?t.slice(0,t.l):t}var kG=ij;function jG(e,t){var r=!1;return t==null&&(r=!0,t=Ae(23+4*e.t.length)),t.write_shift(1,1),nn(e.t,t),t.write_shift(4,1),bG({},t),r?t.slice(0,t.l):t}function Xa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Yl(e,t){return t==null&&(t=Ae(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Xl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Jl(e,t){return t==null&&(t=Ae(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var SG=Rn,tR=nn;function sj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Rm(e,t){var r=!1;return t==null&&(r=!0,t=Ae(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var NG=Rn,Lb=sj,oj=Rm;function rR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Mm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ul(t,0)>>2;return r?a/100:a}function nR(e,t){t==null&&(t=Ae(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function aR(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function TG(e,t){return t||(t=Ae(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Zl=aR,Ju=TG;function Zu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Il(e,t){return(t||Ae(8)).write_shift(8,e,"f")}function PG(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=IG[a];u&&(t.rgb=i_(u));break;case 2:t.rgb=i_([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Im(e,t){if(t||(t=Ae(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function _G(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function EG(e,t){t||(t=Ae(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var iR=2,ga=3,rp=11,Lm=19,np=64,AG=65,OG=71,CG=4108,DG=4126,pn=80,YP={1:{n:"CodePage",t:iR},2:{n:"Category",t:pn},3:{n:"PresentationFormat",t:pn},4:{n:"ByteCount",t:ga},5:{n:"LineCount",t:ga},6:{n:"ParagraphCount",t:ga},7:{n:"SlideCount",t:ga},8:{n:"NoteCount",t:ga},9:{n:"HiddenCount",t:ga},10:{n:"MultimediaClipCount",t:ga},11:{n:"ScaleCrop",t:rp},12:{n:"HeadingPairs",t:CG},13:{n:"TitlesOfParts",t:DG},14:{n:"Manager",t:pn},15:{n:"Company",t:pn},16:{n:"LinksUpToDate",t:rp},17:{n:"CharacterCount",t:ga},19:{n:"SharedDoc",t:rp},22:{n:"HyperlinksChanged",t:rp},23:{n:"AppVersion",t:ga,p:"version"},24:{n:"DigSig",t:AG},26:{n:"ContentType",t:pn},27:{n:"ContentStatus",t:pn},28:{n:"Language",t:pn},29:{n:"Version",t:pn},255:{},2147483648:{n:"Locale",t:Lm},2147483651:{n:"Behavior",t:Lm},1919054434:{}},XP={1:{n:"CodePage",t:iR},2:{n:"Title",t:pn},3:{n:"Subject",t:pn},4:{n:"Author",t:pn},5:{n:"Keywords",t:pn},6:{n:"Comments",t:pn},7:{n:"Template",t:pn},8:{n:"LastAuthor",t:pn},9:{n:"RevNumber",t:pn},10:{n:"EditTime",t:np},11:{n:"LastPrinted",t:np},12:{n:"CreatedDate",t:np},13:{n:"ModifiedDate",t:np},14:{n:"PageCount",t:ga},15:{n:"WordCount",t:ga},16:{n:"CharCount",t:ga},17:{n:"Thumbnail",t:OG},18:{n:"Application",t:pn},19:{n:"DocSecurity",t:ga},255:{},2147483648:{n:"Locale",t:Lm},2147483651:{n:"Behavior",t:Lm},1919054434:{}};function MG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var RG=MG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),IG=fa(RG),h0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},LG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ap={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function sR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function oR(e,t){var r=GW(LG),n=[],a;n[n.length]=Fr,n[n.length]=qe("Types",null,{xmlns:tn.CT,"xmlns:xsd":tn.xsd,"xmlns:xsi":tn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return qe("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=qe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:ap[c][t.bookType]||ap[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:ap[c][t.bookType]||ap[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ot={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lR(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Jc(e){var t=[Fr,qe("Relationships",null,{xmlns:tn.RELS})];return bn(e["!id"]).forEach(function(r){t[t.length]=qe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function $t(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Ot.HLINK,Ot.XPATH,Ot.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function FG(e){var t=[Fr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function JP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function BG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function $G(e){var t=[Fr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(JP(e[r][0],e[r][1])),t.push(BG("",e[r][0]));return t.push(JP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function cR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_m.version+"</meta:generator></office:meta></office:document-meta>"}var Nl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function by(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Ut(t),n[n.length]=r?qe(e,t,r):gn(e,t))}function uR(e,t){var r=t||{},n=[Fr,qe("cp:coreProperties",null,{"xmlns:cp":tn.CORE_PROPS,"xmlns:dc":tn.dc,"xmlns:dcterms":tn.dcterms,"xmlns:dcmitype":tn.dcmitype,"xmlns:xsi":tn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&by("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Ib(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&by("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Ib(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Nl.length;++i){var o=Nl[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&by(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],dR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function fR(e){var t=[],r=qe;return e||(e={}),e.Application="SheetJS",t[t.length]=Fr,t[t.length]=qe("Properties",null,{xmlns:tn.EXT_PROPS,"xmlns:vt":tn.vt}),Zc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Ut(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Ut(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function hR(e){var t=[Fr,qe("Properties",null,{xmlns:tn.CUST_PROPS,"xmlns:vt":tn.vt})];if(!e)return t.join("");var r=1;return bn(e).forEach(function(a){++r,t[t.length]=qe("property",aG(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ut(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ZP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function UG(e,t){var r=[];return bn(ZP).map(function(n){for(var a=0;a<Nl.length;++a)if(Nl[a][1]==n)return Nl[a];for(a=0;a<Zc.length;++a)if(Zc[a][1]==n)return Zc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(gn(ZP[n[1]]||n[1],a))}}),qe("DocumentProperties",r.join(""),{xmlns:ba.o})}function KG(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&bn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Nl.length;++o)if(i==Nl[o][1])return;for(o=0;o<Zc.length;++o)if(i==Zc[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(qe(BP(i),l,{"dt:dt":c}))}}),t&&bn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(qe(BP(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+ba.o+'">'+a.join("")+"</"+n+">"}function VG(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Ae(8);return o.write_shift(4,n),o.write_shift(4,a),o}function QP(e,t){var r=Ae(4),n=Ae(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ae(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=VG(t);break;case 31:case 80:for(n=Ae(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return mn([r,n])}var pR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function HG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function e_(e,t,r){var n=Ae(8),a=[],i=[],o=8,l=0,c=Ae(8),u=Ae(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=Ae(8),u.write_shift(4,0),a.unshift(u);var d=[Ae(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ae(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=mn(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(pR.indexOf(e[l][0])>-1||dR.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=QP(g.t,h)}else{var x=HG(h);x==-1&&(x=31,h=String(h)),c=QP(x,h)}i.push(c),u=Ae(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),mn([n].concat(a).concat(i))}function t_(e,t,r,n,a,i){var o=Ae(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Wt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=e_(e,r,n);if(l.push(c),a){var u=e_(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return mn(l)}function zG(e,t){t||(t=Ae(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function WG(e,t){return e.read_shift(t)===1}function Wn(e,t){return t||(t=Ae(2)),t.write_shift(2,+!!e),t}function mR(e){return e.read_shift(2,"u")}function Ba(e,t){return t||(t=Ae(2)),t.write_shift(2,e),t}function gR(e,t,r){return r||(r=Ae(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function xR(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function GG(e){var t=e.t||"",r=Ae(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ae(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return mn(a)}function qG(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function YG(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):qG(e,n,r)}function XG(e,t,r){if(r.biff>5)return YG(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vR(e,t,r){return r||(r=Ae(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function r_(e,t){t||(t=Ae(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function JG(e){var t=Ae(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),r_(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&r_(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Ll(e,t,r,n){return n||(n=Ae(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ZG(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function QG(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function yR(e,t){return t||(t=Ae(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function lj(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ae(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function eq(e,t){var r=!t||t.biff==8,n=Ae(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function tq(e,t){var r=!t||t.biff>=8?2:1,n=Ae(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function rq(e,t){var r=Ae(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=GG(e[a]);var i=mn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function nq(){var e=Ae(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function aq(e){var t=Ae(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function iq(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ae(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function sq(e,t,r,n){var a=Ae(10);return Ll(e,t,n,a),a.write_shift(4,r),a}function oq(e,t,r,n,a){var i=!a||a.biff==8,o=Ae(8+ +i+(1+i)*r.length);return Ll(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function lq(e,t,r,n){var a=r&&r.biff==5;n||(n=Ae(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function cq(e,t){var r=t.biff==8||!t.biff?4:2,n=Ae(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function n_(e,t,r,n){var a=r&&r.biff==5;n||(n=Ae(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function uq(e){var t=Ae(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function dq(e,t,r,n,a,i){var o=Ae(8);return Ll(e,t,n,o),gR(r,i,o),o}function fq(e,t,r,n){var a=Ae(14);return Ll(e,t,n,a),Il(r,a),a}function hq(e,t,r){if(r.biff<8)return pq(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ZG(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function pq(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=xR(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function mq(e){var t=Ae(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)yR(e[r],t);return t}function gq(e){var t=Ae(24),r=rn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return mn([t,JG(e[1])])}function xq(e){var t=e[1].Tooltip,r=Ae(10+2*(t.length+1));r.write_shift(2,2048);var n=rn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function vq(e){return e||(e=Ae(4)),e.write_shift(2,1),e.write_shift(2,1),e}function yq(e,t,r){if(!r.cellStyles)return Li(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function bq(e,t){var r=Ae(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function wq(e){for(var t=Ae(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function kq(e,t,r){var n=Ae(15);return m0(n,e,t),n.write_shift(8,r,"f"),n}function jq(e,t,r){var n=Ae(9);return m0(n,e,t),n.write_shift(2,r),n}var Sq=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=J2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Rl(1);switch(c.type){case"base64":d=di(hs(l));break;case"binary":d=di(l);break;case"buffer":case"array":d=l;break}ya(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var b=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var v=[],w={},k=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=g?32:11;d.l<k&&d[d.l]!=13;)switch(w={},w.name=Em.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&v.push(w),f!=2&&(d.l+=g?13:14),w.type){case"B":(!p||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,T=0;for(u[0]=[],T=0;T!=v.length;++T)u[0][T]=v[T].name;for(;m-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++S]=[],T=0,T=0;T!=v.length;++T){var P=d.slice(d.l,d.l+v[T].len);d.l+=v[T].len,ya(P,0);var _=Em.utils.decode(y,P);switch(v[T].type){case"C":_.trim().length&&(u[S][T]=_.replace(/\s+$/,""));break;case"D":_.length===8?u[S][T]=new Date(+_.slice(0,4),+_.slice(4,6)-1,+_.slice(6,8)):u[S][T]=_;break;case"F":u[S][T]=parseFloat(_.trim());break;case"+":case"I":u[S][T]=g?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(_.trim().toUpperCase()){case"Y":case"T":u[S][T]=!0;break;case"N":case"F":u[S][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][T]="##MEMO##"+(g?parseInt(_.trim(),10):P.read_shift(4));break;case"N":_=_.replace(/\u0000/g,"").trim(),_&&_!="."&&(u[S][T]=+_||0);break;case"@":u[S][T]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[S][T]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[S][T]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][T]=-P.read_shift(-8,"f");break;case"B":if(p&&v[T].len==8){u[S][T]=P.read_shift(8,"f");break}case"G":case"P":P.l+=v[T].len;break;case"0":if(v[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[T].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=v,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Xu(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return ql(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&dh(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ca(),f=Km(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=l["!cols"]||[],m=0,x=0,b=0,y=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++b;continue}if(h[m]!=null){if(++b,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var v=sr(l["!ref"]),w=[],k=[],N=[];for(m=0;m<=v.e.c-v.s.c;++m){var S="",T="",P=0,_=[];for(x=0;x<p.length;++x)p[x][m]!=null&&_.push(p[x][m]);if(_.length==0||h[m]==null){w[m]="?";continue}for(x=0;x<_.length;++x){switch(typeof _[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=_[x]instanceof Date?"D":"C";break;default:T="C"}P=Math.max(P,String(_[x]).length),S=S&&S!=T?"C":T}P>250&&(P=250),T=((g[m]||{}).DBF||{}).type,T=="C"&&g[m].DBF.len>P&&(P=g[m].DBF.len),S=="B"&&T=="N"&&(S="N",N[m]=g[m].DBF.dec,P=g[m].DBF.len),k[m]=S=="C"||T=="N"?P:i[S]||0,y+=k[m],w[m]=S}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*b),O.write_shift(2,y),m=0;m<4;++m)O.write_shift(4,0);for(O.write_shift(4,0|(+t[wM]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var E=d.next(32),C=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,C,"sbcs"),E.write_shift(1,w[m]=="?"?"C":w[m],"sbcs"),E.write_shift(4,x),E.write_shift(1,k[m]||i[w[m]]||0),E.write_shift(1,N[m]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),x+=k[m]||i[w[m]]||0}var z=d.next(264);for(z.write_shift(4,13),m=0;m<65;++m)z.write_shift(4,0);for(m=0;m<p.length;++m){var Q=d.next(y);for(Q.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(w[x]){case"L":Q.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":Q.write_shift(8,p[m][x]||0,"f");break;case"N":var W="0";for(typeof p[m][x]=="number"&&(W=p[m][x].toFixed(N[x]||0)),b=0;b<k[x]-W.length;++b)Q.write_shift(1,32);Q.write_shift(1,W,"sbcs");break;case"D":p[m][x]?(Q.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var q=String(p[m][x]!=null?p[m][x]:"").slice(0,k[x]);for(Q.write_shift(1,q,"sbcs"),b=0;b<k[x]-q.length;++b)Q.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Nq=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?PP(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:PP(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(hs(h),p);case"binary":return i(h,p);case"buffer":return i(Rt&&Buffer.isBuffer(h)?h.toString("binary"):u0(h),p);case"array":return i(Px(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,x=-1,b=0,y=0,v=[],w=[],k=null,N={},S=[],T=[],P=[],_=0,O;for(+p.codepage>=0&&dh(+p.codepage);b!==g.length;++b){_=0;var E=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),C=E.replace(/;;/g,"\0").split(";").map(function(R){return R.replace(/\u0000/g,";")}),z=C[0],Q;if(E.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":C[1].charAt(0)=="P"&&w.push(E.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,q=!1,re=!1,G=!1,de=-1,ce=-1;for(y=1;y<C.length;++y)switch(C[y].charAt(0)){case"A":break;case"X":x=parseInt(C[y].slice(1))-1,q=!0;break;case"Y":for(m=parseInt(C[y].slice(1))-1,q||(x=0),O=v.length;O<=m;++O)v[O]=[];break;case"K":Q=C[y].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(as(Q))?isNaN(hh(Q).getDate())||(Q=Jn(Q)):(Q=as(Q),k!==null&&DM(k)&&(Q=LM(Q))),W=!0;break;case"E":G=!0;var U=jY(C[y].slice(1),{r:m,c:x});v[m][x]=[v[m][x],U];break;case"S":re=!0,v[m][x]=[v[m][x],"S5S"];break;case"G":break;case"R":de=parseInt(C[y].slice(1))-1;break;case"C":ce=parseInt(C[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(W&&(v[m][x]&&v[m][x].length==2?v[m][x][0]=Q:v[m][x]=Q,k=null),re){if(G)throw new Error("SYLK shared formula cannot have own formula");var L=de>-1&&v[de][ce];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");v[m][x][1]=SY(L[1],{r:m-de,c:x-ce})}break;case"F":var I=0;for(y=1;y<C.length;++y)switch(C[y].charAt(0)){case"X":x=parseInt(C[y].slice(1))-1,++I;break;case"Y":for(m=parseInt(C[y].slice(1))-1,O=v.length;O<=m;++O)v[O]=[];break;case"M":_=parseInt(C[y].slice(1))/20;break;case"F":break;case"G":break;case"P":k=w[parseInt(C[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=C[y].slice(1).split(" "),O=parseInt(P[0],10);O<=parseInt(P[1],10);++O)_=parseInt(P[2],10),T[O-1]=_===0?{hidden:!0}:{wch:_},cj(T[O-1]);break;case"C":x=parseInt(C[y].slice(1))-1,T[x]||(T[x]={});break;case"R":m=parseInt(C[y].slice(1))-1,S[m]||(S[m]={}),_>0?(S[m].hpt=_,S[m].hpx=SR(_)):_===0&&(S[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}I<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return S.length>0&&(N["!rows"]=S),T.length>0&&(N["!cols"]=T),p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),[v,N]}function o(h,p){var g=a(h,p),m=g[0],x=g[1],b=Xu(m,p);return bn(x).forEach(function(y){b[y]=x[y]}),b}function l(h,p){return ql(o(h,p),p)}function c(h,p,g,m){var x="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+dj(h.f,{r:g,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Fm(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Bm(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*$m(g.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],x=sr(h["!ref"]),b,y=Array.isArray(h),v=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var k=x.s.c;k<=x.e.c;++k){var N=Vt({r:w,c:k});b=y?(h[w]||[])[k]:h[N],!(!b||b.v==null&&(!b.f||b.F))&&m.push(c(b,h,w,k))}return g.join(v)+v+m.join(v)+v+"E"+v}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),Tq=function(){function e(i,o){switch(o.type){case"base64":return t(hs(i),o);case"binary":return t(i,o);case"buffer":return t(Rt&&Buffer.isBuffer(i)?i.toString("binary"):u0(i),o);case"array":return t(Px(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(as(g))?isNaN(hh(g).getDate())?f[c][u]=g:f[c][u]=Jn(g):f[c][u]=as(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Xu(e(i,o),o)}function n(i,o){return ql(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=sr(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=Vt({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ro(f.z||kr[14],da(Jn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,y=u.join(b);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),bR=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,x=0,b=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var v=rn(y[1]);if(b.length<=v.r)for(g=b.length;g<=v.r;++g)b[g]||(b[g]=[]);switch(g=v.r,m=v.c,y[2]){case"t":b[g][m]=e(y[3]);break;case"v":b[g][m]=+y[3];break;case"vtf":var w=y[y.length-1];case"vtc":switch(y[3]){case"nl":b[g][m]=!!+y[4];break;default:b[g][m]=+y[4];break}y[2]=="vtf"&&(b[g][m]=[b[g][m],w])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Xu(r(f,h),h)}function a(f,h){return ql(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",x=Aa(f["!ref"]),b=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var v=x.s.c;v<=x.e.c;++v)if(m=Vt({r:y,c:v}),g=b?(f[y]||[])[v]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var w=da(Jn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=g.w||Ro(g.z||kr[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Pq=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(as(d))?isNaN(hh(d).getDate())?f[h][p]=d:f[h][p]=Jn(d):f[h][p]=as(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var x=10,b=0,y=0;y<=m;++y)b=g[y].indexOf(" "),b==-1?b=g[y].length:b++,x=Math.max(x,b);for(y=0;y<=m;++y){p[y]=[];var v=0;for(e(g[y].slice(0,x).trim(),p,y,v,h),v=1;v<=(g[y].length-x)/10+1;++v)e(g[y].slice(x+(v-1)*10,x+v*10).trim(),p,y,v,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[g.pop()[1]]||44}function i(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,b=0,y=0,v=0,w=0,k=p.charCodeAt(0),N=!1,S=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=h.dateNF!=null?VW(h.dateNF):null;function _(){var O=d.slice(v,w),E={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)E.t="z";else if(h.raw)E.t="s",E.v=O;else if(O.trim().length===0)E.t="s",E.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(E.t="s",E.v=O.slice(2,-1).replace(/""/g,'"')):NY(O)?(E.t="n",E.f=O.slice(1)):(E.t="s",E.v=O);else if(O=="TRUE")E.t="b",E.v=!0;else if(O=="FALSE")E.t="b",E.v=!1;else if(!isNaN(y=as(O)))E.t="n",h.cellText!==!1&&(E.w=O),E.v=y;else if(!isNaN(hh(O).getDate())||P&&O.match(P)){E.z=h.dateNF||kr[14];var C=0;P&&O.match(P)&&(O=HW(O,h.dateNF,O.match(P)||[]),C=1),h.cellDates?(E.t="d",E.v=Jn(O,C)):(E.t="n",E.v=da(Jn(O,C))),h.cellText!==!1&&(E.w=Ro(E.z,E.v instanceof Date?da(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=O;if(E.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][b]=E):g[Vt({c:b,r:x})]=E),v=w+1,T=d.charCodeAt(v),m.e.c<b&&(m.e.c=b),m.e.r<x&&(m.e.r=x),S==k)++b;else if(b=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;w<d.length;++w)switch(S=d.charCodeAt(w)){case 34:T===34&&(N=!N);break;case k:case 10:case 13:if(!N&&_())break e;break}return w-v>0&&_(),g["!ref"]=Mr(m),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Xu(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:BQ(d,f);switch(f.type){case"base64":h=hs(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Em<"u"||(h=Rt&&Buffer.isBuffer(d)?d.toString("binary"):u0(d));break;case"array":h=Px(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Nf(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Nf(h):f.type=="binary"&&typeof Em<"u",h.slice(0,19)=="socialcalc:version:"?bR.to_sheet(f.type=="string"?h:Nf(h),f):o(h,f)}function c(d,f){return ql(l(d,f),f)}function u(d){for(var f=[],h=sr(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],b=h.s.c;b<=h.e.c;++b){var y=Vt({r:m,c:b});if(p=g?(d[m]||[])[b]:d[y],!p||p.v==null){x.push("          ");continue}for(var v=(p.w||(ps(p),p.w)||"").slice(0,10);v.length<10;)v+=" ";x.push(v+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),a_=function(){function e(U,L,I){if(U){ya(U,U.l||0);for(var R=I.Enum||de;U.l<U.length;){var J=U.read_shift(2),xe=R[J]||R[65535],Ne=U.read_shift(2),ue=U.l+Ne,he=xe.f&&xe.f(U,Ne,I);if(U.l=ue,L(he,xe,J))return}}}function t(U,L){switch(L.type){case"base64":return r(di(hs(U)),L);case"binary":return r(di(U),L);case"buffer":case"array":return r(U,L)}throw"Unsupported type "+L.type}function r(U,L){if(!U)return U;var I=L||{},R=I.dense?[]:{},J="Sheet1",xe="",Ne=0,ue={},he=[],Te=[],me={s:{r:0,c:0},e:{r:0,c:0}},Ce=I.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)I.Enum=de,e(U,function(H,ke,M){switch(M){case 0:I.vers=H,H>=4096&&(I.qpro=!0);break;case 6:me=H;break;case 204:H&&(xe=H);break;case 222:xe=H;break;case 15:case 51:I.qpro||(H[1].v=H[1].v.slice(1));case 13:case 14:case 16:M==14&&(H[2]&112)==112&&(H[2]&15)>1&&(H[2]&15)<15&&(H[1].z=I.dateNF||kr[14],I.cellDates&&(H[1].t="d",H[1].v=LM(H[1].v))),I.qpro&&H[3]>Ne&&(R["!ref"]=Mr(me),ue[J]=R,he.push(J),R=I.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},Ne=H[3],J=xe||"Sheet"+(Ne+1),xe="");var F=I.dense?(R[H[0].r]||[])[H[0].c]:R[Vt(H[0])];if(F){F.t=H[1].t,F.v=H[1].v,H[1].z!=null&&(F.z=H[1].z),H[1].f!=null&&(F.f=H[1].f);break}I.dense?(R[H[0].r]||(R[H[0].r]=[]),R[H[0].r][H[0].c]=H[1]):R[Vt(H[0])]=H[1];break}},I);else if(U[2]==26||U[2]==14)I.Enum=ce,U[2]==14&&(I.qpro=!0,U.l=0),e(U,function(H,ke,M){switch(M){case 204:J=H;break;case 22:H[1].v=H[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(H[3]>Ne&&(R["!ref"]=Mr(me),ue[J]=R,he.push(J),R=I.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},Ne=H[3],J="Sheet"+(Ne+1)),Ce>0&&H[0].r>=Ce)break;I.dense?(R[H[0].r]||(R[H[0].r]=[]),R[H[0].r][H[0].c]=H[1]):R[Vt(H[0])]=H[1],me.e.c<H[0].c&&(me.e.c=H[0].c),me.e.r<H[0].r&&(me.e.r=H[0].r);break;case 27:H[14e3]&&(Te[H[14e3][0]]=H[14e3][1]);break;case 1537:Te[H[0]]=H[1],H[0]==Ne&&(J=H[1]);break}},I);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(R["!ref"]=Mr(me),ue[xe||J]=R,he.push(xe||J),!Te.length)return{SheetNames:he,Sheets:ue};for(var ne={},A=[],B=0;B<Te.length;++B)ue[he[B]]?(A.push(Te[B]||he[B]),ne[Te[B]]=ue[Te[B]]||ue[he[B]]):(A.push(Te[B]),ne[Te[B]]={"!ref":"A1"});return{SheetNames:A,Sheets:ne}}function n(U,L){var I=L||{};if(+I.codepage>=0&&dh(+I.codepage),I.type=="string")throw new Error("Cannot write WK1 to JS string");var R=ca(),J=sr(U["!ref"]),xe=Array.isArray(U),Ne=[];Ye(R,0,i(1030)),Ye(R,6,c(J));for(var ue=Math.min(J.e.r,8191),he=J.s.r;he<=ue;++he)for(var Te=vn(he),me=J.s.c;me<=J.e.c;++me){he===J.s.r&&(Ne[me]=Mn(me));var Ce=Ne[me]+Te,ne=xe?(U[he]||[])[me]:U[Ce];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?Ye(R,13,p(he,me,ne.v)):Ye(R,14,m(he,me,ne.v));else{var A=ps(ne);Ye(R,15,f(he,me,A.slice(0,239)))}}return Ye(R,1),R.end()}function a(U,L){var I=L||{};if(+I.codepage>=0&&dh(+I.codepage),I.type=="string")throw new Error("Cannot write WK3 to JS string");var R=ca();Ye(R,0,o(U));for(var J=0,xe=0;J<U.SheetNames.length;++J)(U.Sheets[U.SheetNames[J]]||{})["!ref"]&&Ye(R,27,G(U.SheetNames[J],xe++));var Ne=0;for(J=0;J<U.SheetNames.length;++J){var ue=U.Sheets[U.SheetNames[J]];if(!(!ue||!ue["!ref"])){for(var he=sr(ue["!ref"]),Te=Array.isArray(ue),me=[],Ce=Math.min(he.e.r,8191),ne=he.s.r;ne<=Ce;++ne)for(var A=vn(ne),B=he.s.c;B<=he.e.c;++B){ne===he.s.r&&(me[B]=Mn(B));var H=me[B]+A,ke=Te?(ue[ne]||[])[B]:ue[H];if(!(!ke||ke.t=="z"))if(ke.t=="n")Ye(R,23,_(ne,B,Ne,ke.v));else{var M=ps(ke);Ye(R,22,S(ne,B,Ne,M.slice(0,239)))}}++Ne}}return Ye(R,1),R.end()}function i(U){var L=Ae(2);return L.write_shift(2,U),L}function o(U){var L=Ae(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var I=0,R=0,J=0,xe=0;xe<U.SheetNames.length;++xe){var Ne=U.SheetNames[xe],ue=U.Sheets[Ne];if(!(!ue||!ue["!ref"])){++J;var he=Aa(ue["!ref"]);I<he.e.r&&(I=he.e.r),R<he.e.c&&(R=he.e.c)}}return I>8191&&(I=8191),L.write_shift(2,I),L.write_shift(1,J),L.write_shift(1,R),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function l(U,L,I){var R={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&I.qpro?(R.s.c=U.read_shift(1),U.l++,R.s.r=U.read_shift(2),R.e.c=U.read_shift(1),U.l++,R.e.r=U.read_shift(2),R):(R.s.c=U.read_shift(2),R.s.r=U.read_shift(2),L==12&&I.qpro&&(U.l+=2),R.e.c=U.read_shift(2),R.e.r=U.read_shift(2),L==12&&I.qpro&&(U.l+=2),R.s.c==65535&&(R.s.c=R.e.c=R.s.r=R.e.r=0),R)}function c(U){var L=Ae(8);return L.write_shift(2,U.s.c),L.write_shift(2,U.s.r),L.write_shift(2,U.e.c),L.write_shift(2,U.e.r),L}function u(U,L,I){var R=[{c:0,r:0},{t:"n",v:0},0,0];return I.qpro&&I.vers!=20768?(R[0].c=U.read_shift(1),R[3]=U.read_shift(1),R[0].r=U.read_shift(2),U.l+=2):(R[2]=U.read_shift(1),R[0].c=U.read_shift(2),R[0].r=U.read_shift(2)),R}function d(U,L,I){var R=U.l+L,J=u(U,L,I);if(J[1].t="s",I.vers==20768){U.l++;var xe=U.read_shift(1);return J[1].v=U.read_shift(xe,"utf8"),J}return I.qpro&&U.l++,J[1].v=U.read_shift(R-U.l,"cstr"),J}function f(U,L,I){var R=Ae(7+I.length);R.write_shift(1,255),R.write_shift(2,L),R.write_shift(2,U),R.write_shift(1,39);for(var J=0;J<R.length;++J){var xe=I.charCodeAt(J);R.write_shift(1,xe>=128?95:xe)}return R.write_shift(1,0),R}function h(U,L,I){var R=u(U,L,I);return R[1].v=U.read_shift(2,"i"),R}function p(U,L,I){var R=Ae(7);return R.write_shift(1,255),R.write_shift(2,L),R.write_shift(2,U),R.write_shift(2,I,"i"),R}function g(U,L,I){var R=u(U,L,I);return R[1].v=U.read_shift(8,"f"),R}function m(U,L,I){var R=Ae(13);return R.write_shift(1,255),R.write_shift(2,L),R.write_shift(2,U),R.write_shift(8,I,"f"),R}function x(U,L,I){var R=U.l+L,J=u(U,L,I);if(J[1].v=U.read_shift(8,"f"),I.qpro)U.l=R;else{var xe=U.read_shift(2);w(U.slice(U.l,U.l+xe),J),U.l+=xe}return J}function b(U,L,I){var R=L&32768;return L&=-32769,L=(R?U:0)+(L>=8192?L-16384:L),(R?"":"$")+(I?Mn(L):vn(L))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(U,L){ya(U,0);for(var I=[],R=0,J="",xe="",Ne="",ue="";U.l<U.length;){var he=U[U.l++];switch(he){case 0:I.push(U.read_shift(8,"f"));break;case 1:xe=b(L[0].c,U.read_shift(2),!0),J=b(L[0].r,U.read_shift(2),!1),I.push(xe+J);break;case 2:{var Te=b(L[0].c,U.read_shift(2),!0),me=b(L[0].r,U.read_shift(2),!1);xe=b(L[0].c,U.read_shift(2),!0),J=b(L[0].r,U.read_shift(2),!1),I.push(Te+me+":"+xe+J)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:I.push("("+I.pop()+")");break;case 5:I.push(U.read_shift(2));break;case 6:{for(var Ce="";he=U[U.l++];)Ce+=String.fromCharCode(he);I.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:I.push("-"+I.pop());break;case 23:I.push("+"+I.pop());break;case 22:I.push("NOT("+I.pop()+")");break;case 20:case 21:ue=I.pop(),Ne=I.pop(),I.push(["AND","OR"][he-20]+"("+Ne+","+ue+")");break;default:if(he<32&&v[he])ue=I.pop(),Ne=I.pop(),I.push(Ne+v[he]+ue);else if(y[he]){if(R=y[he][1],R==69&&(R=U[U.l++]),R>I.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+I.join("|")+"|");return}var ne=I.slice(-R);I.length-=R,I.push(y[he][0]+"("+ne.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}I.length==1?L[1].f=""+I[0]:console.error("WK1 bad formula parse |"+I.join("|")+"|")}function k(U){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=U.read_shift(2),L[3]=U[U.l++],L[0].c=U[U.l++],L}function N(U,L){var I=k(U);return I[1].t="s",I[1].v=U.read_shift(L-4,"cstr"),I}function S(U,L,I,R){var J=Ae(6+R.length);J.write_shift(2,U),J.write_shift(1,I),J.write_shift(1,L),J.write_shift(1,39);for(var xe=0;xe<R.length;++xe){var Ne=R.charCodeAt(xe);J.write_shift(1,Ne>=128?95:Ne)}return J.write_shift(1,0),J}function T(U,L){var I=k(U);I[1].v=U.read_shift(2);var R=I[1].v>>1;if(I[1].v&1)switch(R&7){case 0:R=(R>>3)*5e3;break;case 1:R=(R>>3)*500;break;case 2:R=(R>>3)/20;break;case 3:R=(R>>3)/200;break;case 4:R=(R>>3)/2e3;break;case 5:R=(R>>3)/2e4;break;case 6:R=(R>>3)/16;break;case 7:R=(R>>3)/64;break}return I[1].v=R,I}function P(U,L){var I=k(U),R=U.read_shift(4),J=U.read_shift(4),xe=U.read_shift(2);if(xe==65535)return R===0&&J===3221225472?(I[1].t="e",I[1].v=15):R===0&&J===3489660928?(I[1].t="e",I[1].v=42):I[1].v=0,I;var Ne=xe&32768;return xe=(xe&32767)-16446,I[1].v=(1-Ne*2)*(J*Math.pow(2,xe+32)+R*Math.pow(2,xe)),I}function _(U,L,I,R){var J=Ae(14);if(J.write_shift(2,U),J.write_shift(1,I),J.write_shift(1,L),R==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var xe=0,Ne=0,ue=0,he=0;return R<0&&(xe=1,R=-R),Ne=Math.log2(R)|0,R/=Math.pow(2,Ne-31),he=R>>>0,he&2147483648||(R/=2,++Ne,he=R>>>0),R-=he,he|=2147483648,he>>>=0,R*=Math.pow(2,32),ue=R>>>0,J.write_shift(4,ue),J.write_shift(4,he),Ne+=16383+(xe?32768:0),J.write_shift(2,Ne),J}function O(U,L){var I=P(U);return U.l+=L-14,I}function E(U,L){var I=k(U),R=U.read_shift(4);return I[1].v=R>>6,I}function C(U,L){var I=k(U),R=U.read_shift(8,"f");return I[1].v=R,I}function z(U,L){var I=C(U);return U.l+=L-10,I}function Q(U,L){return U[U.l+L-1]==0?U.read_shift(L,"cstr"):""}function W(U,L){var I=U[U.l++];I>L-1&&(I=L-1);for(var R="";R.length<I;)R+=String.fromCharCode(U[U.l++]);return R}function q(U,L,I){if(!(!I.qpro||L<21)){var R=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var J=U.read_shift(L-21,"cstr");return[R,J]}}function re(U,L){for(var I={},R=U.l+L;U.l<R;){var J=U.read_shift(2);if(J==14e3){for(I[J]=[0,""],I[J][0]=U.read_shift(2);U[U.l];)I[J][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return I}function G(U,L){var I=Ae(5+U.length);I.write_shift(2,14e3),I.write_shift(2,L);for(var R=0;R<U.length;++R){var J=U.charCodeAt(R);I[I.l++]=J>127?95:J}return I[I.l++]=0,I}var de={0:{n:"BOF",f:mR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:C},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),_q=/^\s|\s$|[\t\n\r]/;function wR(e,t){if(!t.bookSST)return"";var r=[Fr];r[r.length]=qe("sst",null,{xmlns:Yu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(_q)&&(i+=' xml:space="preserve"'),i+=">"+Ut(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Eq(e){return[e.read_shift(4),e.read_shift(4)]}function Aq(e,t){return t||(t=Ae(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Oq=wG;function Cq(e){var t=ca();Le(t,159,Aq(e));for(var r=0;r<e.length;++r)Le(t,19,Oq(e[r]));return Le(t,160),t.end()}function Dq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function kR(e){var t=0,r,n=Dq(e),a=n.length+1,i,o,l,c,u;for(r=Rl(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Mq=function(){function e(a,i){switch(i.type){case"base64":return t(hs(a),i);case"binary":return t(a,i);case"buffer":return t(Rt&&Buffer.isBuffer(a)?a.toString("binary"):u0(a),i);case"array":return t(Px(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var b={v:x,t:"s"};Array.isArray(l)?l[f][m]=b:l[Vt({r:f,c:m})]=b}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Mr(u),l}function r(a,i){return ql(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=sr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Vt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ps(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function i_(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Rq=6,is=Rq;function Fm(e){return Math.floor((e+Math.round(128/is)/256)*is)}function Bm(e){return Math.floor((e-5)/is*100+.5)/100}function Fb(e){return Math.round((e*is+5)/is*256)/256}function cj(e){e.width?(e.wpx=Fm(e.width),e.wch=Bm(e.wpx),e.MDW=is):e.wpx?(e.wch=Bm(e.wpx),e.width=Fb(e.wch),e.MDW=is):typeof e.wch=="number"&&(e.width=Fb(e.wch),e.wpx=Fm(e.width),e.MDW=is),e.customWidth&&delete e.customWidth}var Iq=96,jR=Iq;function $m(e){return e*96/jR}function SR(e){return e*jR/96}function Lq(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=qe("numFmt",null,{numFmtId:n,formatCode:Ut(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Fq(e){var t=[];return t[t.length]=qe("cellXfs",null),e.forEach(function(r){t[t.length]=qe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function NR(e,t){var r=[Fr,qe("styleSheet",null,{xmlns:Yu[0],"xmlns:vt":tn.vt})],n;return e.SSF&&(n=Lq(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Fq(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Bq(e,t){var r=e.read_shift(2),n=Rn(e);return[r,n]}function $q(e,t,r){r||(r=Ae(6+4*t.length)),r.write_shift(2,e),nn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Uq(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=_G(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=PG(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Rn(e),n}function Kq(e,t){t||(t=Ae(25+4*32)),t.write_shift(2,e.sz*20),EG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Im(e.color,t);var n=0;return n=2,t.write_shift(1,n),nn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Vq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],wy,Hq=Li;function s_(e,t){t||(t=Ae(4*3+8*7+16*1)),wy||(wy=J2(Vq));var r=wy[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Im({auto:1},t),Im({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function zq(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function TR(e,t,r){r||(r=Ae(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Nd(e,t){return t||(t=Ae(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wq=Li;function Gq(e,t){return t||(t=Ae(51)),t.write_shift(1,0),Nd(null,t),Nd(null,t),Nd(null,t),Nd(null,t),Nd(null,t),t.length>t.l?t.slice(0,t.l):t}function qq(e,t){return t||(t=Ae(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Rm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Yq(e,t,r){var n=Ae(2052);return n.write_shift(4,e),Rm(t,n),Rm(r,n),n.length>n.l?n.slice(0,n.l):n}function Xq(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Le(e,615,xi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Le(e,44,$q(a,t[a]))}),Le(e,616))}}function Jq(e){var t=1;Le(e,611,xi(t)),Le(e,43,Kq({sz:12,color:{theme:1},name:"Calibri",family:2})),Le(e,612)}function Zq(e){var t=2;Le(e,603,xi(t)),Le(e,45,s_({patternType:"none"})),Le(e,45,s_({patternType:"gray125"})),Le(e,604)}function Qq(e){var t=1;Le(e,613,xi(t)),Le(e,46,Gq()),Le(e,614)}function eY(e){var t=1;Le(e,626,xi(t)),Le(e,47,TR({numFmtId:0},65535)),Le(e,627)}function tY(e,t){Le(e,617,xi(t.length)),t.forEach(function(r){Le(e,47,TR(r,0))}),Le(e,618)}function rY(e){var t=1;Le(e,619,xi(t)),Le(e,48,qq({xfId:0,name:"Normal"})),Le(e,620)}function nY(e){var t=0;Le(e,505,xi(t)),Le(e,506)}function aY(e){var t=0;Le(e,508,Yq(t,"TableStyleMedium9","PivotStyleMedium4")),Le(e,509)}function iY(e,t){var r=ca();return Le(r,278),Xq(r,e.SSF),Jq(r),Zq(r),Qq(r),eY(r),tY(r,t.cellXfs),rY(r),nY(r),aY(r),Le(r,279),r.end()}function PR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Fr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function sY(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rn(e)}}function oY(e){var t=Ae(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),nn(e.name,t),t.slice(0,t.l)}function lY(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cY(e){var t=Ae(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function uY(e,t){var r=Ae(8+2*t.length);return r.write_shift(4,e),nn(t,r),r.slice(0,r.l)}function dY(e){return e.l+=4,e.read_shift(4)!=0}function fY(e,t){var r=Ae(8);return r.write_shift(4,e),r.write_shift(4,1),r}function hY(){var e=ca();return Le(e,332),Le(e,334,xi(1)),Le(e,335,oY({name:"XLDAPR",version:12e4,flags:3496657072})),Le(e,336),Le(e,339,uY(1,"XLDAPR")),Le(e,52),Le(e,35,xi(514)),Le(e,4096,xi(0)),Le(e,4097,Ba(1)),Le(e,36),Le(e,53),Le(e,340),Le(e,337,fY(1)),Le(e,51,cY([[1,0]])),Le(e,338),Le(e,333),e.end()}function _R(){var e=[Fr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function pY(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Vt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Rc=1024;function ER(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[qe("xml",null,{"xmlns:v":ba.v,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:mv":ba.mv}).replace(/\/>/,">"),qe("o:shapelayout",qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qe("v:shapetype",[qe("v:stroke",null,{joinstyle:"miter"}),qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Rc<e*1e3;)Rc+=1e3;return t.forEach(function(i){var o=rn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=qe("v:fill",c,l),d={on:"t",obscured:"t"};++Rc,a=a.concat(["<v:shape"+mh({id:"_x0000_s"+Rc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,qe("v:shadow",null,d),qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",gn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),gn("x:AutoFill","False"),gn("x:Row",String(o.r)),gn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function AR(e){var t=[Fr,qe("comments",null,{xmlns:Yu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Ut(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Ut(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(gn("t",Ut(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(gn("t",Ut(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function mY(e,t,r){var n=[Fr,qe("ThreadedComments",null,{xmlns:tn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(qe("threadedComment",gn("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function gY(e){var t=[Fr,qe("personList",null,{xmlns:tn.TCMNT,"xmlns:x":Yu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function xY(e){var t={};t.iauthor=e.read_shift(4);var r=Zl(e);return t.rfx=r.s,t.ref=Vt(r.s),e.l+=16,t}function vY(e,t){return t==null&&(t=Ae(36)),t.write_shift(4,e[1].iauthor),Ju(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var yY=Rn;function bY(e){return nn(e.slice(0,54))}function wY(e){var t=ca(),r=[];return Le(t,628),Le(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Le(t,632,bY(a.a)))})}),Le(t,631),Le(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:rn(n[0]),e:rn(n[0])};Le(t,635,vY([i,a])),a.t&&a.t.length>0&&Le(t,637,jG(a)),Le(t,636),delete a.iauthor})}),Le(t,634),Le(t,629),t.end()}function kY(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Wt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var OR=["xlsb","xlsm","xlam","biff8","xla"],jY=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Mn(d)+(c?"":"$")+vn(u)}return function(a,i){return t=i,a.replace(e,r)}}(),uj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dj=function(){return function(t,r){return t.replace(uj,function(n,a,i,o,l,c){var u=aj(o)-(i?0:r.c),d=nj(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function SY(e,t){return e.replace(uj,function(r,n,a,i,o,l){return n+(a=="$"?a+i:Mn(aj(i)+t.c))+(o=="$"?o+l:vn(nj(l)+t.r))})}function NY(e){return e.length!=1}function Ar(e){e.l+=1}function Io(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function CR(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return DR(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Io(e),l=Io(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function DR(e){var t=Io(e),r=Io(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function TY(e,t,r){if(r.biff<8)return DR(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Io(e),o=Io(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function MR(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return PY(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Io(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function PY(e){var t=Io(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function _Y(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function EY(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return AY(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function AY(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function OY(e,t,r){var n=(e[e.l++]&96)>>5,a=CR(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function CY(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=CR(e,i,r);return[n,a,o]}function DY(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function MY(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function RY(e,t,r){var n=(e[e.l++]&96)>>5,a=TY(e,t-1,r);return[n,a]}function IY(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function o_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function LY(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function FY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function BY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function $Y(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function UY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function RR(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function KY(e){return e.read_shift(2),RR(e)}function VY(e){return e.read_shift(2),RR(e)}function HY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=MR(e,0,r);return[n,a]}function zY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=EY(e,0,r);return[n,a]}function WY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=MR(e,0,r);return[n,a,i]}function GY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[GX[a],FR[a],n]}function qY(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:YY(e);return[a,(i[0]===0?FR:WX)[i[1]]]}function YY(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function XY(e,t,r){e.l+=r&&r.biff==2?3:4}function JY(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function ZY(e){return e.l++,h0[e.read_shift(1)]}function QY(e){return e.l++,e.read_shift(2)}function eX(e){return e.l++,e.read_shift(1)!==0}function tX(e){return e.l++,Zu(e)}function rX(e,t,r){return e.l++,xR(e,t-1,r)}function nX(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=WG(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=h0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Zu(e);break;case 2:r[1]=XG(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function aX(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Zl:QG)(e));return a}function iX(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=nX(e,r.biff);return o}function sX(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function oX(e,t,r){if(r.biff==5)return lX(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function lX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function cX(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function uX(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dX(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function fX(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var hX=Li,pX=Li,mX=Li;function p0(e,t,r){return e.l+=2,[_Y(e)]}function fj(e){return e.l+=6,[]}var gX=p0,xX=fj,vX=fj,yX=p0;function IR(e){return e.l+=2,[mR(e),e.read_shift(2)&1]}var bX=p0,wX=IR,kX=fj,jX=p0,SX=p0,NX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function TX(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=NX[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function PX(e){return e.l+=2,[e.read_shift(4)]}function _X(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function EX(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function AX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function OX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function CX(e){return e.l+=4,[0,0]}var l_={1:{n:"PtgExp",f:JY},2:{n:"PtgTbl",f:mX},3:{n:"PtgAdd",f:Ar},4:{n:"PtgSub",f:Ar},5:{n:"PtgMul",f:Ar},6:{n:"PtgDiv",f:Ar},7:{n:"PtgPower",f:Ar},8:{n:"PtgConcat",f:Ar},9:{n:"PtgLt",f:Ar},10:{n:"PtgLe",f:Ar},11:{n:"PtgEq",f:Ar},12:{n:"PtgGe",f:Ar},13:{n:"PtgGt",f:Ar},14:{n:"PtgNe",f:Ar},15:{n:"PtgIsect",f:Ar},16:{n:"PtgUnion",f:Ar},17:{n:"PtgRange",f:Ar},18:{n:"PtgUplus",f:Ar},19:{n:"PtgUminus",f:Ar},20:{n:"PtgPercent",f:Ar},21:{n:"PtgParen",f:Ar},22:{n:"PtgMissArg",f:Ar},23:{n:"PtgStr",f:rX},26:{n:"PtgSheet",f:_X},27:{n:"PtgEndSheet",f:EX},28:{n:"PtgErr",f:ZY},29:{n:"PtgBool",f:eX},30:{n:"PtgInt",f:QY},31:{n:"PtgNum",f:tX},32:{n:"PtgArray",f:IY},33:{n:"PtgFunc",f:GY},34:{n:"PtgFuncVar",f:qY},35:{n:"PtgName",f:sX},36:{n:"PtgRef",f:HY},37:{n:"PtgArea",f:OY},38:{n:"PtgMemArea",f:cX},39:{n:"PtgMemErr",f:hX},40:{n:"PtgMemNoMem",f:pX},41:{n:"PtgMemFunc",f:uX},42:{n:"PtgRefErr",f:dX},43:{n:"PtgAreaErr",f:DY},44:{n:"PtgRefN",f:zY},45:{n:"PtgAreaN",f:RY},46:{n:"PtgMemAreaN",f:AX},47:{n:"PtgMemNoMemN",f:OX},57:{n:"PtgNameX",f:oX},58:{n:"PtgRef3d",f:WY},59:{n:"PtgArea3d",f:CY},60:{n:"PtgRefErr3d",f:fX},61:{n:"PtgAreaErr3d",f:MY},255:{}},DX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},MX={1:{n:"PtgElfLel",f:IR},2:{n:"PtgElfRw",f:jX},3:{n:"PtgElfCol",f:gX},6:{n:"PtgElfRwV",f:SX},7:{n:"PtgElfColV",f:yX},10:{n:"PtgElfRadical",f:bX},11:{n:"PtgElfRadicalS",f:kX},13:{n:"PtgElfColS",f:xX},15:{n:"PtgElfColSV",f:vX},16:{n:"PtgElfRadicalLel",f:wX},25:{n:"PtgList",f:TX},29:{n:"PtgSxName",f:PX},255:{}},RX={0:{n:"PtgAttrNoop",f:CX},1:{n:"PtgAttrSemi",f:UY},2:{n:"PtgAttrIf",f:BY},4:{n:"PtgAttrChoose",f:LY},8:{n:"PtgAttrGoto",f:FY},16:{n:"PtgAttrSum",f:XY},32:{n:"PtgAttrBaxcel",f:o_},33:{n:"PtgAttrBaxcel",f:o_},64:{n:"PtgAttrSpace",f:KY},65:{n:"PtgAttrSpaceSemi",f:VY},128:{n:"PtgAttrIfError",f:$Y},255:{}};function IX(e,t,r,n){if(n.biff<8)return Li(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=iX(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=aX(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Li(e,t)),i}function LX(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=l_[i]||l_[DX[i]],(i===24||i===25)&&(a=(i===24?MX:RX)[e[e.l+1]]),!a||!a.f?Li(e,t):o.push([a.n,a.f(e,t,r)]);return o}function FX(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var BX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function $X(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function LR(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function c_(e,t,r){var n=LR(e,t,r);return n=="#REF"?n:$X(n,r)}function mu(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",b=0,y=e[0].length;b<y;++b){var v=e[0][b];switch(v[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=br(" ",e[0][m][1][1]);break;case 1:x=br("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+BX[v[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Pf(v[1][1],o,a),l.push(_f(d,i));break;case"PtgRefN":d=r?Pf(v[1][1],r,a):v[1][1],l.push(_f(d,i));break;case"PtgRef3d":f=v[1][1],d=Pf(v[1][2],o,a),g=c_(n,f,a),l.push(g+"!"+_f(d,i));break;case"PtgFunc":case"PtgFuncVar":var w=v[1][0],k=v[1][1];w||(w=0),w&=127;var N=w==0?[]:l.slice(-w);l.length-=w,k==="User"&&(k=N.shift()),l.push(k+"("+N.join(",")+")");break;case"PtgBool":l.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(v[1]);break;case"PtgNum":l.push(String(v[1]));break;case"PtgStr":l.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(v[1]);break;case"PtgAreaN":p=GP(v[1][1],r?{s:r}:o,a),l.push(yy(p,a));break;case"PtgArea":p=GP(v[1][1],o,a),l.push(yy(p,a));break;case"PtgArea3d":f=v[1][1],p=v[1][2],g=c_(n,f,a),l.push(g+"!"+yy(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],T=S?S.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var P=v[1][1];h=v[1][2];var _;if(a.biff<=5)P<0&&(P=-P),n[P]&&(_=n[P][h]);else{var O="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][h]&&n[P][h].itab>0&&(O=n.SheetNames[n[P][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[P]&&n[P][h])O+=n[P][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var E=(LR(n,P,a)||"").split(";;");E[h-1]?O=E[h-1]:O+="SH33TJSERRX"}l.push(O);break}_||(_={Name:"SH33TJSERRY"}),l.push(_.Name);break;case"PtgParen":var C="(",z=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:C=br(" ",e[0][m][1][1])+C;break;case 3:C=br("\r",e[0][m][1][1])+C;break;case 4:z=br(" ",e[0][m][1][1])+z;break;case 5:z=br("\r",e[0][m][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(C+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:v[1][1],r:v[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[Vt(d)]){var W=n.sharedf[Vt(d)];l.push(mu(W,o,Q,n,a))}else{var q=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(mu(u[1],o,Q,n,a)),q=!0;break}q||l.push(v[1])}break;case"PtgArray":l.push("{"+FX(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&re.indexOf(e[0][b][0])==-1){v=e[0][m];var G=!0;switch(v[1][0]){case 4:G=!1;case 0:x=br(" ",v[1][1]);break;case 5:G=!1;case 1:x=br("\r",v[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}l.push((G?x:"")+l.pop()+(G?"":x)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function UX(e){if(e==null){var t=Ae(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Il(e);return Il(0)}function KX(e,t,r,n,a){var i=Ll(t,r,a),o=UX(e.v),l=Ae(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ae(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=mn([i,o,l,u]);return f}function _x(e,t,r){var n=e.read_shift(4),a=LX(e,n,r),i=e.read_shift(4),o=i>0?IX(e,i,a,r):null;return[a,o]}var VX=_x,Ex=_x,HX=_x,zX=_x,WX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},FR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},GX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qX(e){var t="of:="+e.replace(uj,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function YX(e){return e.replace(/\./,"!")}var Ef=typeof Map<"u";function hj(e,t,r){var n=0,a=e.length;if(r){if(Ef?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ef?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ef?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Ax(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(is=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Bm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Fb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function BR(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Vo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){MM(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function XX(e,t,r){if(e&&e["!ref"]){var n=sr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function JX(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Mr(e[r])+'"/>';return t+"</mergeCells>"}function ZX(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=ph(Ut(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+qe("outlinePr",null,u)}!i&&!l||(a[a.length]=qe("sheetPr",l,o))}var QX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],eJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tJ(e){var t={sheet:1};return QX.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),eJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=kR(e.password).toString(16).toUpperCase()),qe("sheetProtection",null,t)}function rJ(e){return BR(e),qe("pageMargins",null,e)}function nJ(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=qe("col",null,Ax(a,n)));return r[r.length]="</cols>",r.join("")}function aJ(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Mr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Aa(a);o.s.r==o.e.r&&(o.e.r=Aa(t["!ref"]).e.r,a=Mr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),qe("autoFilter",null,{ref:a})}function iJ(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),qe("sheetViews",qe("sheetView",null,a),{})}function sJ(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=h0[e.v];break;case"d":n&&n.cellDates?a=Jn(e.v,-1).toISOString():(e=fa(e),e.t="n",a=""+(e.v=da(Jn(e.v)))),typeof e.z>"u"&&(e.z=kr[14]);break;default:a=e.v;break}var l=gn("v",Ut(a)),c={r:t},u=Vo(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=gn("v",""+hj(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=qe("f",Ut(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),qe("c",l,c)}function oJ(e,t,r,n){var a=[],i=[],o=sr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:u},x,b=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=Mn(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=vn(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(l=sJ(y,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=$m(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),a[a.length]=qe("row",i.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=$m(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level),a[a.length]=qe("row","",m));return a.join("")}function $R(e,t,r,n){var a=[Fr,qe("worksheet",null,{xmlns:Yu[0],"xmlns:r":tn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=sr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Mr(d)}n||(n={}),c["!comments"]=[];var f=[];ZX(c,r,e,t,a),a[a.length]=qe("dimension",null,{ref:u}),a[a.length]=iJ(c,t,e,r),t.sheetFormat&&(a[a.length]=qe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=nJ(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=oJ(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=tJ(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=aJ(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=JX(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=$t(n,-1,Ut(m[1].Target).replace(/#.*$/,""),Ot.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=Ut(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=Ut(m[1].Tooltip)),a[a.length]=qe("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=rJ(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=gn("ignoredErrors",qe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=$t(n,-1,"../drawings/drawing"+(e+1)+".xml",Ot.DRAW),a[a.length]=qe("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=$t(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ot.VML),a[a.length]=qe("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function lJ(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function cJ(e,t,r){var n=Ae(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=$m(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Vt(u)];g&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function uJ(e,t,r,n){var a=cJ(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Le(e,0,a)}var dJ=Zl,fJ=Ju;function hJ(){}function pJ(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=SG(e),r}function mJ(e,t,r){r==null&&(r=Ae(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Im({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),tR(e,r),r.slice(0,r.l)}function gJ(e){var t=Xa(e);return[t]}function xJ(e,t,r){return r==null&&(r=Ae(8)),Yl(t,r)}function vJ(e){var t=Xl(e);return[t]}function yJ(e,t,r){return r==null&&(r=Ae(4)),Jl(t,r)}function bJ(e){var t=Xa(e),r=e.read_shift(1);return[t,r,"b"]}function wJ(e,t,r){return r==null&&(r=Ae(9)),Yl(t,r),r.write_shift(1,e.v?1:0),r}function kJ(e){var t=Xl(e),r=e.read_shift(1);return[t,r,"b"]}function jJ(e,t,r){return r==null&&(r=Ae(5)),Jl(t,r),r.write_shift(1,e.v?1:0),r}function SJ(e){var t=Xa(e),r=e.read_shift(1);return[t,r,"e"]}function NJ(e,t,r){return r==null&&(r=Ae(9)),Yl(t,r),r.write_shift(1,e.v),r}function TJ(e){var t=Xl(e),r=e.read_shift(1);return[t,r,"e"]}function PJ(e,t,r){return r==null&&(r=Ae(8)),Jl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function _J(e){var t=Xa(e),r=e.read_shift(4);return[t,r,"s"]}function EJ(e,t,r){return r==null&&(r=Ae(12)),Yl(t,r),r.write_shift(4,t.v),r}function AJ(e){var t=Xl(e),r=e.read_shift(4);return[t,r,"s"]}function OJ(e,t,r){return r==null&&(r=Ae(8)),Jl(t,r),r.write_shift(4,t.v),r}function CJ(e){var t=Xa(e),r=Zu(e);return[t,r,"n"]}function DJ(e,t,r){return r==null&&(r=Ae(16)),Yl(t,r),Il(e.v,r),r}function MJ(e){var t=Xl(e),r=Zu(e);return[t,r,"n"]}function RJ(e,t,r){return r==null&&(r=Ae(12)),Jl(t,r),Il(e.v,r),r}function IJ(e){var t=Xa(e),r=rR(e);return[t,r,"n"]}function LJ(e,t,r){return r==null&&(r=Ae(12)),Yl(t,r),nR(e.v,r),r}function FJ(e){var t=Xl(e),r=rR(e);return[t,r,"n"]}function BJ(e,t,r){return r==null&&(r=Ae(8)),Jl(t,r),nR(e.v,r),r}function $J(e){var t=Xa(e),r=ij(e);return[t,r,"is"]}function UJ(e){var t=Xa(e),r=Rn(e);return[t,r,"str"]}function KJ(e,t,r){return r==null&&(r=Ae(12+4*e.v.length)),Yl(t,r),nn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function VJ(e){var t=Xl(e),r=Rn(e);return[t,r,"str"]}function HJ(e,t,r){return r==null&&(r=Ae(8+4*e.v.length)),Jl(t,r),nn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zJ(e,t,r){var n=e.l+t,a=Xa(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Ex(e,n-e.l,r);o[3]=mu(l,null,a,r.supbooks,r)}else e.l=n;return o}function WJ(e,t,r){var n=e.l+t,a=Xa(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Ex(e,n-e.l,r);o[3]=mu(l,null,a,r.supbooks,r)}else e.l=n;return o}function GJ(e,t,r){var n=e.l+t,a=Xa(e);a.r=r["!row"];var i=Zu(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Ex(e,n-e.l,r);o[3]=mu(l,null,a,r.supbooks,r)}else e.l=n;return o}function qJ(e,t,r){var n=e.l+t,a=Xa(e);a.r=r["!row"];var i=Rn(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Ex(e,n-e.l,r);o[3]=mu(l,null,a,r.supbooks,r)}else e.l=n;return o}var YJ=Zl,XJ=Ju;function JJ(e,t){return t==null&&(t=Ae(4)),t.write_shift(4,e),t}function ZJ(e,t){var r=e.l+t,n=Zl(e),a=sj(e),i=Rn(e),o=Rn(e),l=Rn(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function QJ(e,t){var r=Ae(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ju({s:rn(e[0]),e:rn(e[0])},r),oj("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return nn(a||"",r),nn(e[1].Tooltip||"",r),nn("",r),r.slice(0,r.l)}function eZ(){}function tZ(e,t,r){var n=e.l+t,a=aR(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=VX(e,n-e.l,r);o[1]=l}else e.l=n;return o}function rZ(e,t,r){var n=e.l+t,a=Zl(e),i=[a];if(r.cellFormula){var o=zX(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function nZ(e,t,r){r==null&&(r=Ae(18));var n=Ax(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var UR=["left","right","top","bottom","header","footer"];function aZ(e){var t={};return UR.forEach(function(r){t[r]=Zu(e)}),t}function iZ(e,t){return t==null&&(t=Ae(6*8)),BR(e),UR.forEach(function(r){Il(e[r],t)}),t}function sZ(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function oZ(e,t,r){r==null&&(r=Ae(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function lZ(e){var t=Ae(24);return t.write_shift(4,4),t.write_shift(4,1),Ju(e,t),t}function cZ(e,t){return t==null&&(t=Ae(16*4+2)),t.write_shift(2,e.password?kR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function uZ(){}function dZ(){}function fZ(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=fa(t),t.z=t.z||kr[14],t.v=da(Jn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Vo(a.cellXfs,t,a),t.l&&i["!links"].push([Vt(c),t.l]),t.c&&i["!comments"].push([Vt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=hj(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Le(e,18,OJ(t,c)):Le(e,7,EJ(t,c))):(c.t="str",o?Le(e,17,HJ(t,c)):Le(e,6,KJ(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Le(e,13,BJ(t,c)):Le(e,2,LJ(t,c)):o?Le(e,16,RJ(t,c)):Le(e,5,DJ(t,c)),!0;case"b":return c.t="b",o?Le(e,15,jJ(t,c)):Le(e,4,wJ(t,c)),!0;case"e":return c.t="e",o?Le(e,14,PJ(t,c)):Le(e,3,NJ(t,c)),!0}return o?Le(e,12,yJ(t,c)):Le(e,1,xJ(t,c)),!0}function hZ(e,t,r,n){var a=sr(t["!ref"]||"A1"),i,o="",l=[];Le(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=vn(d),uJ(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=Mn(h)),i=l[h]+o;var p=c?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=fZ(e,p,d,h,n,t,f)}}Le(e,146)}function pZ(e,t){!t||!t["!merges"]||(Le(e,177,JJ(t["!merges"].length)),t["!merges"].forEach(function(r){Le(e,176,XJ(r))}),Le(e,178))}function mZ(e,t){!t||!t["!cols"]||(Le(e,390),t["!cols"].forEach(function(r,n){r&&Le(e,60,nZ(n,r))}),Le(e,391))}function gZ(e,t){!t||!t["!ref"]||(Le(e,648),Le(e,649,lZ(sr(t["!ref"]))),Le(e,650))}function xZ(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=$t(r,-1,n[1].Target.replace(/#.*$/,""),Ot.HLINK);Le(e,494,QJ(n,a))}}),delete t["!links"]}function vZ(e,t,r,n){if(t["!comments"].length>0){var a=$t(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ot.VML);Le(e,551,oj("rId"+a)),t["!legacy"]=a}}function yZ(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Mr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Aa(i);l.s.r==l.e.r&&(l.e.r=Aa(t["!ref"]).e.r,i=Mr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Le(e,161,Ju(sr(i))),Le(e,162)}}function bZ(e,t,r){Le(e,133),Le(e,137,oZ(t,r)),Le(e,138),Le(e,134)}function wZ(e,t){t["!protect"]&&Le(e,535,cZ(t["!protect"]))}function kZ(e,t,r,n){var a=ca(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=sr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Le(a,129),(r.vbaraw||o["!outline"])&&Le(a,147,mJ(l,o["!outline"])),Le(a,148,fJ(c)),bZ(a,o,r.Workbook),mZ(a,o),hZ(a,o,e,t),wZ(a,o),yZ(a,o,r,e),pZ(a,o),xZ(a,o,n),o["!margins"]&&Le(a,476,iZ(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&gZ(a,o),vZ(a,o,e,n),Le(a,130),a.end()}function jZ(e,t){e.l+=10;var r=Rn(e);return{name:r}}var SZ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function NZ(e){return!e.Workbook||!e.Workbook.WBProps?"false":rG(e.Workbook.WBProps.date1904)?"true":"false"}var TZ="][*?/\\".split("");function KR(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return TZ.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function PZ(e,t,r){e.forEach(function(n,a){KR(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function _Z(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];PZ(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)XX(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function VR(e){var t=[Fr];t[t.length]=qe("workbook",null,{xmlns:Yu[0],"xmlns:r":tn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(SZ.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=qe("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Ut(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=qe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=qe("definedName",Ut(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function EZ(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Lb(e),r.name=Rn(e),r}function AZ(e,t){return t||(t=Ae(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),oj(e.strRelID,t),nn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function OZ(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Rn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function CZ(e,t){t||(t=Ae(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),tR(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function DZ(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=NG(e),o=HX(e,0,r),l=sj(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function MZ(e,t){Le(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Le(e,156,AZ(a))}Le(e,144)}function RZ(e,t){t||(t=Ae(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return nn("SheetJS",t),nn(_m.version,t),nn(_m.version,t),nn("7262",t),t.length>t.l?t.slice(0,t.l):t}function IZ(e,t){t||(t=Ae(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function LZ(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Le(e,135),Le(e,158,IZ(a)),Le(e,136))}}function FZ(e,t){var r=ca();return Le(r,131),Le(r,128,RZ()),Le(r,153,CZ(e.Workbook&&e.Workbook.WBProps||null)),LZ(r,e),MZ(r,e),Le(r,132),r.end()}function BZ(e,t,r){return(t.slice(-4)===".bin"?FZ:VR)(e)}function $Z(e,t,r,n,a){return(t.slice(-4)===".bin"?kZ:$R)(e,r,n,a)}function UZ(e,t,r){return(t.slice(-4)===".bin"?iY:NR)(e,r)}function KZ(e,t,r){return(t.slice(-4)===".bin"?Cq:wR)(e,r)}function VZ(e,t,r){return(t.slice(-4)===".bin"?wY:AR)(e)}function HZ(e){return(e.slice(-4)===".bin"?hY:_R)()}function zZ(e,t){var r=[];return e.Props&&r.push(UG(e.Props,t)),e.Custprops&&r.push(KG(e.Props,e.Custprops)),r.join("")}function WZ(){return""}function GZ(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(qe("NumberFormat",null,{"ss:Format":Ut(kr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(qe("Style",i.join(""),o))}),qe("Styles",r.join(""))}function HR(e){return qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+dj(e.Ref,{r:0,c:0})})}function qZ(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(HR(a)))}return qe("Names",r.join(""))}function YZ(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(HR(l)))}return i.join("")}function XZ(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(qe("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(gn("ProtectContents","True")),e["!protect"].objects&&a.push(gn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(gn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(gn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(gn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":qe("WorksheetOptions",a.join(""),{xmlns:ba.x})}function JZ(e){return e.map(function(t){var r=tG(t.t||""),n=qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return qe("Comment",n,{"ss:Author":t.a})}).join("")}function ZZ(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Ut(dj(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=rn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Ut(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Ut(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=h0[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||kr[14]);break;case"s":f="String",h=eG(e.v||"");break}var p=Vo(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=JZ(e.c)),qe("Cell",m,l)}function QZ(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=SR(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function eQ(e,t,r,n){if(!e["!ref"])return"";var a=sr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,b){cj(x);var y=!!x.width,v=Ax(b,x),w={"ss:Index":b+1};y&&(w["ss:Width"]=Fm(v.width)),x.hidden&&(w["ss:Hidden"]="1"),l.push(qe("Column",null,w))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[QZ(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=Vt(p),m=c?(e[u]||[])[f]:e[g];d.push(ZZ(m,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function tQ(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?YZ(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?eQ(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(XZ(i,t,e,r)),n.join("")}function rQ(e,t){t||(t={}),e.SSF||(e.SSF=fa(kr)),e.SSF&&(Nx(),Sx(e.SSF),t.revssf=Tx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(zZ(e,t)),r.push(WZ()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(qe("Worksheet",tQ(n,t,e),{"ss:Name":Ut(e.SheetNames[n])}));return r[2]=GZ(e,t),r[3]=qZ(e),Fr+qe("Workbook",r.join(""),{xmlns:ba.ss,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:ss":ba.ss,"xmlns:dt":ba.dt,"xmlns:html":ba.html})}var ky={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nQ(e,t){var r=[],n=[],a=[],i=0,o,l=IP(YP,"n"),c=IP(XP,"n");if(e.Props)for(o=bn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=bn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)pR.indexOf(a[i][0])>-1||dR.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Wt.utils.cfb_add(t,"/SummaryInformation",t_(n,ky.SI,c,XP)),(r.length||u.length)&&Wt.utils.cfb_add(t,"/DocumentSummaryInformation",t_(r,ky.DSI,l,YP,u.length?u:null,ky.UDI))}function aQ(e,t){var r=t||{},n=Wt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Wt.utils.cfb_add(n,a,zR(e,r)),r.biff==8&&(e.Props||e.Custprops)&&nQ(e,n),r.biff==8&&e.vbaraw&&kY(n,Wt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var iQ={0:{f:lJ},1:{f:gJ},2:{f:IJ},3:{f:SJ},4:{f:bJ},5:{f:CJ},6:{f:UJ},7:{f:_J},8:{f:qJ},9:{f:GJ},10:{f:zJ},11:{f:WJ},12:{f:vJ},13:{f:FJ},14:{f:TJ},15:{f:kJ},16:{f:MJ},17:{f:VJ},18:{f:AJ},19:{f:ij},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:DZ},40:{},42:{},43:{f:Uq},44:{f:Bq},45:{f:Hq},46:{f:Wq},47:{f:zq},48:{},49:{f:vG},50:{},51:{f:lY},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yq},62:{f:$J},63:{f:pY},64:{f:uZ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Li,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:sZ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pJ},148:{f:dJ,p:16},151:{f:eZ},152:{},153:{f:OZ},154:{},155:{},156:{f:EZ},157:{},158:{},159:{T:1,f:Eq},160:{T:-1},161:{T:1,f:Zl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:YJ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:sY},336:{T:-1},337:{f:dY,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:tZ},427:{f:rZ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:aZ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ZJ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yY},633:{T:1},634:{T:-1},635:{T:1,f:xY},636:{T:-1},637:{f:kG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jZ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:dZ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ye(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&rj(r)&&e.push(r)}}function sQ(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Ye(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function m0(e,t,r){return e||(e=Ae(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function oQ(e,t,r,n){var a=Ae(9);return m0(a,e,t),gR(r,n||"b",a),a}function lQ(e,t,r){var n=Ae(8+2*r.length);return m0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function cQ(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?da(Jn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ye(e,2,jq(r,n,a)):Ye(e,3,kq(r,n,a));return;case"b":case"e":Ye(e,5,oQ(r,n,t.v,t.t));return;case"s":case"str":Ye(e,4,lQ(r,n,(t.v||"").slice(0,255)));return}Ye(e,1,m0(null,r,n))}function uQ(e,t,r,n){var a=Array.isArray(t),i=sr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Mr(i)}for(var u=i.s.r;u<=i.e.r;++u){l=vn(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Mn(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&cQ(e,f,u,d)}}}function dQ(e,t){for(var r=t||{},n=ca(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ye(n,r.biff==4?1033:r.biff==3?521:9,lj(e,16,r)),uQ(n,e.Sheets[e.SheetNames[a]],a,r),Ye(n,10),n.end()}function fQ(e,t,r){Ye(e,49,iq({sz:12,name:"Arial"},r))}function hQ(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ye(e,1054,lq(a,t[a],r))})}function pQ(e,t){var r=Ae(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ye(e,2151,r),r=Ae(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),yR(sr(t["!ref"]||"A1"),r),r.write_shift(4,4),Ye(e,2152,r)}function mQ(e,t){for(var r=0;r<16;++r)Ye(e,224,n_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ye(e,224,n_(n,0,t))})}function gQ(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ye(e,440,gq(n)),n[1].Tooltip&&Ye(e,2048,xq(n))}delete t["!links"]}function xQ(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Ye(e,125,bq(Ax(a,n),a))})}}function vQ(e,t,r,n,a){var i=16+Vo(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ye(e,513,Ll(r,n,i));return}if(t.bf)Ye(e,6,KX(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?da(Jn(t.v)):t.v;Ye(e,515,fq(r,n,o,i));break;case"b":case"e":Ye(e,517,dq(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=hj(a.Strings,t.v,a.revStrings);Ye(e,253,sq(r,n,l,i))}else Ye(e,516,oq(r,n,(t.v||"").slice(0,255),i,a));break;default:Ye(e,513,Ll(r,n,i))}}function yQ(e,t,r){var n=ca(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=sr(i["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}Ye(n,2057,lj(r,16,t)),Ye(n,13,Ba(1)),Ye(n,12,Ba(100)),Ye(n,15,Wn(!0)),Ye(n,17,Wn(!1)),Ye(n,16,Il(.001)),Ye(n,95,Wn(!0)),Ye(n,42,Wn(!1)),Ye(n,43,Wn(!1)),Ye(n,130,Ba(1)),Ye(n,128,uq()),Ye(n,131,Wn(!1)),Ye(n,132,Wn(!1)),u&&xQ(n,i["!cols"]),Ye(n,512,cq(p,t)),u&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=vn(m);for(var x=p.s.c;x<=p.e.c;++x){m===p.s.r&&(h[x]=Mn(x)),d=h[x]+f;var b=c?(i[m]||[])[x]:i[d];b&&(vQ(n,b,m,x,t),u&&b.l&&i["!links"].push([d,b.l]))}}var y=l.CodeName||l.name||a;return u&&Ye(n,574,aq((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ye(n,229,mq(i["!merges"])),u&&gQ(n,i),Ye(n,442,vR(y)),u&&pQ(n,i),Ye(n,10),n.end()}function bQ(e,t,r){var n=ca(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ye(n,2057,lj(e,5,r)),r.bookType=="xla"&&Ye(n,135),Ye(n,225,l?Ba(1200):null),Ye(n,193,zG(2)),c&&Ye(n,191),c&&Ye(n,192),Ye(n,226),Ye(n,92,eq("SheetJS",r)),Ye(n,66,Ba(l?1200:1252)),l&&Ye(n,353,Ba(0)),l&&Ye(n,448),Ye(n,317,wq(e.SheetNames.length)),l&&e.vbaraw&&Ye(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ye(n,442,vR(u))}Ye(n,156,Ba(17)),Ye(n,25,Wn(!1)),Ye(n,18,Wn(!1)),Ye(n,19,Ba(0)),l&&Ye(n,431,Wn(!1)),l&&Ye(n,444,Ba(0)),Ye(n,61,nq()),Ye(n,64,Wn(!1)),Ye(n,141,Ba(0)),Ye(n,34,Wn(NZ(e)=="true")),Ye(n,14,Wn(!0)),l&&Ye(n,439,Wn(!1)),Ye(n,218,Ba(0)),fQ(n,e,r),hQ(n,e.SSF,r),mQ(n,r),l&&Ye(n,352,Wn(!1));var d=n.end(),f=ca();l&&Ye(f,140,vq()),l&&r.Strings&&sQ(f,252,rq(r.Strings)),Ye(f,10);var h=f.end(),p=ca(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var x=d.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var b=i[m]||{};Ye(p,133,tq({pos:x,hs:b.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var v=[];return d.length&&v.push(d),y.length&&v.push(y),h.length&&v.push(h),mn(v)}function wQ(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=fa(kr)),e&&e.SSF&&(Nx(),Sx(e.SSF),r.revssf=Tx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,pj(r),r.cellXfs=[],Vo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=yQ(a,r,e);return n.unshift(bQ(e,n,r)),mn(n)}function zR(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Aa(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return wQ(e,t);case 4:case 3:case 2:return dQ(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function kQ(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Vt({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||QW(f.w||(ps(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(qe("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var jQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',SQ="</body></html>";function NQ(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function WR(e,t){var r=t||{},n=r.header!=null?r.header:jQ,a=r.footer!=null?r.footer:SQ,i=[n],o=Aa(e["!ref"]);r.dense=Array.isArray(e),i.push(NQ(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(kQ(e,o,l,r));return i.push("</table>"+a),i.join("")}function GR(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?rn(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Aa(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,b=0,y=0,v=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&m<c;++g){var w=l[g];if(u_(w)){if(n.display)continue;p[m]={hidden:!0}}var k=w.children;for(x=b=0;x<k.length;++x){var N=k[x];if(!(n.display&&u_(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):nG(N.innerHTML),T=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var P=f[h];P.s.c==b+i&&P.s.r<m+a&&m+a<=P.e.r&&(b=P.e.c+1-i,h=-1)}v=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||v>1)&&f.push({s:{r:m+a,c:b+i},e:{r:m+a+(y||1)-1,c:b+i+(v||1)-1}});var _={t:"s",v:S},O=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?_.t=O||"z":n.raw||S.trim().length==0||O=="s"||(S==="TRUE"?_={t:"b",v:!0}:S==="FALSE"?_={t:"b",v:!1}:isNaN(as(S))?isNaN(hh(S).getDate())||(_={t:"d",v:Jn(S)},n.cellDates||(_={t:"n",v:da(_.v)}),_.z=n.dateNF||kr[14]):_={t:"n",v:as(S)})),_.z===void 0&&T!=null&&(_.z=T);var E="",C=N.getElementsByTagName("A");if(C&&C.length)for(var z=0;z<C.length&&!(C[z].hasAttribute("href")&&(E=C[z].getAttribute("href"),E.charAt(0)!="#"));++z);E&&E.charAt(0)!="#"&&(_.l={Target:E}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][b+i]=_):e[Vt({c:b+i,r:m+a})]=_,u.e.c<b+i&&(u.e.c=b+i),b+=v}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Mr(u),m>=c&&(e["!fullref"]=Mr((u.e.r=l.length-g+m-1+a,u))),e}function qR(e,t){var r=t||{},n=r.dense?[]:{};return GR(n,e,t)}function TQ(e,t){return ql(qR(e,t),t)}function u_(e){var t="",r=PQ(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function PQ(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var _Q=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+mh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Fr+t}}(),d_=function(){var e=function(i){return Ut(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Ut(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Aa(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,y={},v="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(b=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){c.push(r);continue}var w=Vt({r:u,c:d}),k=g?(i[u]||[])[d]:i[w];if(k&&k.f&&(y["table:formula"]=Ut(qX(k.f)),k.F&&k.F.slice(0,w.length)==w)){var N=Aa(k.F);y["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,y["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":v=k.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=k.v?"true":"false";break;case"n":v=k.w||String(k.v||0),y["office:value-type"]="float",y["office:value"]=k.v||0;break;case"s":case"str":v=k.v==null?"":k.v,y["office:value-type"]="string";break;case"d":v=k.w||Jn(k.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Jn(k.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(v);if(k.l&&k.l.Target){var T=k.l.Target;T=T.charAt(0)=="#"?"#"+YX(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),S=qe("text:a",S,{"xlink:href":T.replace(/&/g,"&amp;")})}c.push("          "+qe("table:table-cell",qe("text:p",S,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;cj(f),f.ods=l;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Fr],u=mh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=mh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(cR().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function YR(e,t){if(t.bookType=="fods")return d_(e,t);var r=Z2(),n="",a=[],i=[];return n="mimetype",bt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",bt(r,n,d_(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",bt(r,n,_Q(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",bt(r,n,Fr+cR()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",bt(r,n,$G(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",bt(r,n,FG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Um(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function EQ(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):di(ph(e))}function AQ(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Lo(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function OQ(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function gh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Bt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Qc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Vr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=gh(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=gh(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function dn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Bt(n*8+a.type)),a.type==2&&t.push(Bt(a.data.length)),t.push(a.data))})}),Lo(t)}function ni(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=gh(e,n),i=Vr(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Qc(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Vr(l.data),u=Qc(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Qc(i[3][0].data)>>>0>0),r.push(o)}return r}function cc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Bt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Bt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Bt(o.data.length)}],n[2].push({data:dn(o.meta),type:2})});var i=dn(n);t.push(Bt(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Lo(t)}function CQ(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=gh(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Lo(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Lo(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ai(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(CQ(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Lo(t)}function uc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Bt(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Lo(t)}function jy(e,t){var r=new Uint8Array(32),n=Um(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,OQ(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Sy(e,t){var r=new Uint8Array(32),n=Um(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Xs(e){var t=Vr(e);return gh(t[1][0].data)}function DQ(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Qc(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Um(e[7][0].data),d=0,f=[],h=Um(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var x,b;switch(typeof t[m]){case"string":x=jy({t:"s",v:t[m]},r),b=Sy({t:"s",v:t[m]},r);break;case"number":x=jy({t:"n",v:t[m]},r),b=Sy({t:"n",v:t[m]},r);break;case"boolean":x=jy({t:"b",v:t[m]},r),b=Sy({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(x),d+=x.length,g.push(b),p+=b.length,++c}for(e[2][0].data=Bt(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Lo(f),e[3][0].data=Lo(g),c}function MQ(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Aa(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Mr(n)));var i=Km(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(I){typeof I=="string"&&o.push(I)})});var l={},c=[],u=Wt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(L,I){return[L,u.FullPaths[I]]}).forEach(function(L){var I=L[0],R=L[1];if(I.type==2&&I.name.match(/\.iwa/)){var J=I.content,xe=ai(J),Ne=ni(xe);Ne.forEach(function(ue){c.push(ue.id),l[ue.id]={deps:[],location:R,type:Qc(ue.messages[0].meta[1][0].data)}})}}),c.sort(function(L,I){return L-I});var d=c.filter(function(L){return L>1}).map(function(L){return[L,Bt(L)]});u.FileIndex.map(function(L,I){return[L,u.FullPaths[I]]}).forEach(function(L){var I=L[0];if(L[1],!!I.name.match(/\.iwa/)){var R=ni(ai(I.content));R.forEach(function(J){J.messages.forEach(function(xe){d.forEach(function(Ne){J.messages.some(function(ue){return Qc(ue.meta[1][0].data)!=11006&&AQ(ue.data,Ne[1])})&&l[Ne[0]].deps.push(J.id)})})})}});for(var f=Wt.find(u,l[1].location),h=ni(ai(f.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var x=Xs(Vr(p.messages[0].data)[1][0].data);for(f=Wt.find(u,l[x].location),h=ni(ai(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=Xs(Vr(p.messages[0].data)[2][0].data),f=Wt.find(u,l[x].location),h=ni(ai(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=Xs(Vr(p.messages[0].data)[2][0].data),f=Wt.find(u,l[x].location),h=ni(ai(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);var b=Vr(p.messages[0].data);{b[6][0].data=Bt(n.e.r+1),b[7][0].data=Bt(n.e.c+1);var y=Xs(b[46][0].data),v=Wt.find(u,l[y].location),w=ni(ai(v.content));{for(var k=0;k<w.length&&w[k].id!=y;++k);if(w[k].id!=y)throw"Bad ColumnRowUIDMapArchive";var N=Vr(w[k].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var S=0;S<=n.e.c;++S){var T=[];T[1]=T[2]=[{type:0,data:Bt(S+420690)}],N[1].push({type:2,data:dn(T)}),N[2].push({type:0,data:Bt(S)}),N[3].push({type:0,data:Bt(S)})}N[4]=[],N[5]=[],N[6]=[];for(var P=0;P<=n.e.r;++P)T=[],T[1]=T[2]=[{type:0,data:Bt(P+726270)}],N[4].push({type:2,data:dn(T)}),N[5].push({type:0,data:Bt(P)}),N[6].push({type:0,data:Bt(P)});w[k].messages[0].data=dn(N)}v.content=uc(cc(w)),v.size=v.content.length,delete b[46];var _=Vr(b[4][0].data);{_[7][0].data=Bt(n.e.r+1);var O=Vr(_[1][0].data),E=Xs(O[2][0].data);v=Wt.find(u,l[E].location),w=ni(ai(v.content));{if(w[0].id!=E)throw"Bad HeaderStorageBucket";var C=Vr(w[0].messages[0].data);for(P=0;P<i.length;++P){var z=Vr(C[2][0].data);z[1][0].data=Bt(P),z[4][0].data=Bt(i[P].length),C[2][P]={type:C[2][0].type,data:dn(z)}}w[0].messages[0].data=dn(C)}v.content=uc(cc(w)),v.size=v.content.length;var Q=Xs(_[2][0].data);v=Wt.find(u,l[Q].location),w=ni(ai(v.content));{if(w[0].id!=Q)throw"Bad HeaderStorageBucket";for(C=Vr(w[0].messages[0].data),S=0;S<=n.e.c;++S)z=Vr(C[2][0].data),z[1][0].data=Bt(S),z[4][0].data=Bt(n.e.r+1),C[2][S]={type:C[2][0].type,data:dn(z)};w[0].messages[0].data=dn(C)}v.content=uc(cc(w)),v.size=v.content.length;var W=Xs(_[4][0].data);(function(){for(var L=Wt.find(u,l[W].location),I=ni(ai(L.content)),R,J=0;J<I.length;++J){var xe=I[J];xe.id==W&&(R=xe)}var Ne=Vr(R.messages[0].data);{Ne[3]=[];var ue=[];o.forEach(function(me,Ce){ue[1]=[{type:0,data:Bt(Ce)}],ue[2]=[{type:0,data:Bt(1)}],ue[3]=[{type:2,data:EQ(me)}],Ne[3].push({type:2,data:dn(ue)})})}R.messages[0].data=dn(Ne);var he=cc(I),Te=uc(he);L.content=Te,L.size=L.content.length})();var q=Vr(_[3][0].data);{var re=q[1][0];delete q[2];var G=Vr(re.data);{var de=Xs(G[2][0].data);(function(){for(var L=Wt.find(u,l[de].location),I=ni(ai(L.content)),R,J=0;J<I.length;++J){var xe=I[J];xe.id==de&&(R=xe)}var Ne=Vr(R.messages[0].data);{delete Ne[6],delete q[7];var ue=new Uint8Array(Ne[5][0].data);Ne[5]=[];for(var he=0,Te=0;Te<=n.e.r;++Te){var me=Vr(ue);he+=DQ(me,i[Te],o),me[1][0].data=Bt(Te),Ne[5].push({data:dn(me),type:2})}Ne[1]=[{type:0,data:Bt(n.e.c+1)}],Ne[2]=[{type:0,data:Bt(n.e.r+1)}],Ne[3]=[{type:0,data:Bt(he)}],Ne[4]=[{type:0,data:Bt(n.e.r+1)}]}R.messages[0].data=dn(Ne);var Ce=cc(I),ne=uc(Ce);L.content=ne,L.size=L.content.length})()}re.data=dn(G)}_[3][0].data=dn(q)}b[4][0].data=dn(_)}p.messages[0].data=dn(b);var ce=cc(h),U=uc(ce);return f.content=U,f.size=f.content.length,u}function RQ(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function pj(e){RQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function IQ(e,t){return t.bookType=="ods"?YR(e,t):t.bookType=="numbers"?MQ(e,t):t.bookType=="xlsb"?LQ(e,t):FQ(e,t)}function LQ(e,t){Rc=1024,e&&!e.SSF&&(e.SSF=fa(kr)),e&&e.SSF&&(Nx(),Sx(e.SSF),t.revssf=Tx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ef?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=OR.indexOf(t.bookType)>-1,a=sR();pj(t=t||{});var i=Z2(),o="",l=0;if(t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",bt(i,o,uR(e.Props,t)),a.coreprops.push(o),$t(t.rels,2,o,Ot.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,bt(i,o,fR(e.Props)),a.extprops.push(o),$t(t.rels,3,o,Ot.EXT_PROPS),e.Custprops!==e.Props&&bn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",bt(i,o,hR(e.Custprops)),a.custprops.push(o),$t(t.rels,4,o,Ot.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,bt(i,o,$Z(l-1,o,t,e,d)),a.sheets.push(o),$t(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ot.WS[0])}if(f){var p=f["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,bt(i,m,VZ(p,m)),a.comments.push(m),$t(d,-1,"../comments"+l+"."+r,Ot.CMNT),g=!0),f["!legacy"]&&g&&bt(i,"xl/drawings/vmlDrawing"+l+".vml",ER(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&bt(i,lR(o),Jc(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,bt(i,o,KZ(t.Strings,o,t)),a.strs.push(o),$t(t.wbrels,-1,"sharedStrings."+r,Ot.SST)),o="xl/workbook."+r,bt(i,o,BZ(e,o)),a.workbooks.push(o),$t(t.rels,1,o,Ot.WB),o="xl/theme/theme1.xml",bt(i,o,PR(e.Themes,t)),a.themes.push(o),$t(t.wbrels,-1,"theme/theme1.xml",Ot.THEME),o="xl/styles."+r,bt(i,o,UZ(e,o,t)),a.styles.push(o),$t(t.wbrels,-1,"styles."+r,Ot.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",bt(i,o,e.vbaraw),a.vba.push(o),$t(t.wbrels,-1,"vbaProject.bin",Ot.VBA)),o="xl/metadata."+r,bt(i,o,HZ(o)),a.metadata.push(o),$t(t.wbrels,-1,"metadata."+r,Ot.XLMETA),bt(i,"[Content_Types].xml",oR(a,t)),bt(i,"_rels/.rels",Jc(t.rels)),bt(i,"xl/_rels/workbook."+r+".rels",Jc(t.wbrels)),delete t.revssf,delete t.ssf,i}function FQ(e,t){Rc=1024,e&&!e.SSF&&(e.SSF=fa(kr)),e&&e.SSF&&(Nx(),Sx(e.SSF),t.revssf=Tx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ef?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=OR.indexOf(t.bookType)>-1,a=sR();pj(t=t||{});var i=Z2(),o="",l=0;if(t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",bt(i,o,uR(e.Props,t)),a.coreprops.push(o),$t(t.rels,2,o,Ot.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,bt(i,o,fR(e.Props)),a.extprops.push(o),$t(t.rels,3,o,Ot.EXT_PROPS),e.Custprops!==e.Props&&bn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",bt(i,o,hR(e.Custprops)),a.custprops.push(o),$t(t.rels,4,o,Ot.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,bt(i,o,$R(l-1,t,e,f)),a.sheets.push(o),$t(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ot.WS[0])}if(h){var g=h["!comments"],m=!1,x="";if(g&&g.length>0){var b=!1;g.forEach(function(y){y[1].forEach(function(v){v.T==!0&&(b=!0)})}),b&&(x="xl/threadedComments/threadedComment"+l+"."+r,bt(i,x,mY(g,d,t)),a.threadedcomments.push(x),$t(f,-1,"../threadedComments/threadedComment"+l+"."+r,Ot.TCMNT)),x="xl/comments"+l+"."+r,bt(i,x,AR(g)),a.comments.push(x),$t(f,-1,"../comments"+l+"."+r,Ot.CMNT),m=!0}h["!legacy"]&&m&&bt(i,"xl/drawings/vmlDrawing"+l+".vml",ER(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&bt(i,lR(o),Jc(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,bt(i,o,wR(t.Strings,t)),a.strs.push(o),$t(t.wbrels,-1,"sharedStrings."+r,Ot.SST)),o="xl/workbook."+r,bt(i,o,VR(e)),a.workbooks.push(o),$t(t.rels,1,o,Ot.WB),o="xl/theme/theme1.xml",bt(i,o,PR(e.Themes,t)),a.themes.push(o),$t(t.wbrels,-1,"theme/theme1.xml",Ot.THEME),o="xl/styles."+r,bt(i,o,NR(e,t)),a.styles.push(o),$t(t.wbrels,-1,"styles."+r,Ot.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",bt(i,o,e.vbaraw),a.vba.push(o),$t(t.wbrels,-1,"vbaProject.bin",Ot.VBA)),o="xl/metadata."+r,bt(i,o,_R()),a.metadata.push(o),$t(t.wbrels,-1,"metadata."+r,Ot.XLMETA),d.length>1&&(o="xl/persons/person.xml",bt(i,o,gY(d)),a.people.push(o),$t(t.wbrels,-1,"persons/person.xml",Ot.PEOPLE)),bt(i,"[Content_Types].xml",oR(a,t)),bt(i,"_rels/.rels",Jc(t.rels)),bt(i,"xl/_rels/workbook."+r+".rels",Jc(t.wbrels)),delete t.revssf,delete t.ssf,i}function BQ(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=hs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function XR(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return d0(t.file,Wt.write(e,{type:Rt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Wt.write(e,t)}function $Q(e,t){var r=fa(t||{}),n=IQ(e,r);return UQ(n,r)}function UQ(e,t){var r={},n=Rt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Wt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(jx(a))}return t.password&&typeof encrypt_agile<"u"?XR(encrypt_agile(a,t.password),t):t.type==="file"?d0(t.file,a):t.type=="string"?Nf(a):a}function KQ(e,t){var r=t||{},n=aQ(e,r);return XR(n,r)}function Ni(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return fh(ph(n));case"binary":return ph(n);case"string":return e;case"file":return d0(t.file,n,"utf8");case"buffer":return Rt?ws(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ni(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function VQ(e,t){switch(t.type){case"base64":return fh(e);case"binary":return e;case"string":return e;case"file":return d0(t.file,e,"binary");case"buffer":return Rt?ws(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ip(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?fh(r):t.type=="string"?Nf(r):r;case"file":return d0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function JR(e,t){xW(),_Z(e);var r=fa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=JR(e,r);return r.type="array",jx(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ni(rQ(e,r),r);case"slk":case"sylk":return Ni(Nq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ni(WR(e.Sheets[e.SheetNames[a]],r),r);case"txt":return VQ(ZR(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ni(mj(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ni(Tq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return ip(Sq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ni(Pq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ni(Mq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ni(bR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ni(YR(e,r),r);case"wk1":return ip(a_.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return ip(a_.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ip(zR(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),KQ(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return $Q(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function HQ(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function zQ(e,t,r){var n={};return n.type="file",n.file=t,HQ(n),JR(e,n)}function WQ(e,t,r,n,a,i,o,l){var c=vn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=o?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&m===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?m:ps(g,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function Km(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=sr(d);break;case"number":c=sr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=vn(c.s.r),h=[],p=[],g=0,m=0,x=Array.isArray(e),b=c.s.r,y=0,v={};x&&!e[b]&&(e[b]=[]);var w=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(w[y]||{}).hidden)switch(h[y]=Mn(y),r=x?e[b][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ps(r,null,u),m=v[o]||0,!m)v[o]=1;else{do l=o+"_"+m++;while(v[l]);v[o]=m,v[l]=1}i[y]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(k[b]||{}).hidden){var N=WQ(e,c,b,h,n,i,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=N.row)}return p.length=g,p}var f_=/"/g;function GQ(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=vn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:ps(p,null,l));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===i||m===34||l.forceQuotes){d='"'+d.replace(f_,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(f_,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function mj(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=sr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Mn(g));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=GQ(e,a,x,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function ZR(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=mj(e,t);return r}function qQ(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=sr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Mn(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=vn(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function QR(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?rn(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=sr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){bn(m).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var y=m[b],v="z",w="",k=Vt({c:l+p,r:o+x+a});u=xh(i,k),y&&typeof y=="object"&&!(y instanceof Date)?i[k]=y:(typeof y=="number"?v="n":typeof y=="boolean"?v="b":typeof y=="string"?v="s":y instanceof Date?(v="d",n.cellDates||(v="n",y=da(y)),w=n.dateNF||kr[14]):y===null&&n.nullError&&(v="e",y=0),u?(u.t=v,u.v=y,delete u.w,delete u.R,w&&(u.z=w)):i[k]=u={t:v,v:y},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=vn(o);if(a)for(p=0;p<h.length;++p)i[Mn(p+l)+g]={t:"s",v:h[p]};return i["!ref"]=Mr(d),i}function YQ(e,t){return QR(null,e,t)}function xh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=rn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?xh(e,Vt(t)):xh(e,Vt({r:t,c:r||0}))}function XQ(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function JQ(){return{SheetNames:[],Sheets:{}}}function ZQ(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(KR(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function QQ(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=XQ(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function eee(e,t){return e.z=t,e}function eI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function tee(e,t,r){return eI(e,"#"+t,r)}function ree(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function nee(e,t,r,n){for(var a=typeof t!="string"?t:sr(t),i=typeof t=="string"?t:Mr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=xh(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Td={encode_col:Mn,encode_row:vn,encode_cell:Vt,encode_range:Mr,decode_col:aj,decode_row:nj,split_cell:xG,decode_cell:rn,decode_range:Aa,format_cell:ps,sheet_add_aoa:eR,sheet_add_json:QR,sheet_add_dom:GR,aoa_to_sheet:Xu,json_to_sheet:YQ,table_to_sheet:qR,table_to_book:TQ,sheet_to_csv:mj,sheet_to_txt:ZR,sheet_to_json:Km,sheet_to_html:WR,sheet_to_formulae:qQ,sheet_to_row_object_array:Km,sheet_get_cell:xh,book_new:JQ,book_append_sheet:ZQ,book_set_sheet_visibility:QQ,cell_set_number_format:eee,cell_set_hyperlink:eI,cell_set_internal_link:tee,cell_add_comment:ree,sheet_set_array_formula:nee,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function aee({isOpen:e,onClose:t,data:r,plantName:n,bahanBakuOptions:a}){const i=new Date().toISOString().split("T")[0],o=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],[l,c]=j.useState(o),[u,d]=j.useState(i),[f,h]=j.useState([]),[p,g]=j.useState(!0),[m,x]=j.useState(!1),b=P=>{g(!1),h(_=>_.includes(P)?_.filter(O=>O!==P):[..._,P])},y=()=>{p?(g(!1),h([])):(g(!0),h([]))},v=P=>{if(typeof P=="string")try{return JSON.parse(P)}catch{return[]}return P||[]},w=P=>P.map(_=>`${_.berat} ${_.unit}`).join(", "),k=()=>r.filter(P=>{const _=new Date(P.tanggal),O=new Date(l),E=new Date(u);_.setHours(0,0,0,0),O.setHours(0,0,0,0),E.setHours(0,0,0,0);const C=_>=O&&_<=E,z=p||f.includes(P.bahanBaku);return C&&z}),N=k().length,S=()=>{x(!0);try{const P=k();if(P.length===0){alert("Tidak ada data untuk diekspor dengan filter yang dipilih."),x(!1);return}const _=[...P].sort((L,I)=>new Date(L.tanggal).getTime()-new Date(I.tanggal).getTime()),O=_.map((L,I)=>{const R=v(L.entries);return{No:I+1,Tanggal:T(L.tanggal),"Bahan Baku":L.bahanBaku,"Detail Berat & Unit":w(R),"Total Berat":L.totalBerat||0}}),E={};_.forEach(L=>{const I=L.bahanBaku||"Unknown";E[I]=(E[I]||0)+(L.totalBerat||0)});const C=Td.book_new(),z=[];z.push([`Data Penerimaan Bahan Baku - ${n}`]),z.push([`Periode: ${T(l)} s/d ${T(u)}`]),z.push([`Filter: ${p?"Semua Bahan Baku":f.join(", ")}`]),z.push([]),z.push(["No","Tanggal","Bahan Baku","Detail Berat & Unit","Total Berat"]),O.forEach(L=>{z.push([L.No,L.Tanggal,L["Bahan Baku"],L["Detail Berat & Unit"],L["Total Berat"]])}),z.push([]),z.push(["","","","Grand Total",_.reduce((L,I)=>L+(I.totalBerat||0),0)]);const Q=Td.aoa_to_sheet(z);Q["!cols"]=[{wch:5},{wch:15},{wch:18},{wch:35},{wch:15}],Q["!merges"]=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:1,c:0},e:{r:1,c:4}},{s:{r:2,c:0},e:{r:2,c:4}}],Td.book_append_sheet(C,Q,"Data Bahan Baku");const W=[];W.push([`Rekap Penerimaan Bahan Baku - ${n}`]),W.push([`Periode: ${T(l)} s/d ${T(u)}`]),W.push([]),W.push(["No","Bahan Baku","Jumlah Penerimaan","Total Berat"]);let q=1,re=0;Object.entries(E).sort(([L],[I])=>L.localeCompare(I)).forEach(([L,I])=>{const R=_.filter(J=>J.bahanBaku===L).length;W.push([q++,L,R,I]),re+=I}),W.push([]),W.push(["","Total",_.length,re]);const G=Td.aoa_to_sheet(W);G["!cols"]=[{wch:5},{wch:20},{wch:20},{wch:15}],G["!merges"]=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:3}}],Td.book_append_sheet(C,G,"Rekap Bahan Baku");const de=`${l.replace(/-/g,"")}_${u.replace(/-/g,"")}`,ce=p?"Semua":f.length<=2?f.join("_"):`${f.length}_BahanBaku`,U=`BahanBaku_${n}_${ce}_${de}.xlsx`;zQ(C,U),t()}catch(P){console.error("Export error:",P),alert("Gagal mengekspor data. Silakan coba lagi.")}finally{x(!1)}},T=P=>P?new Date(P).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-";return s.jsx(xt,{isOpen:e,onClose:t,title:"",size:"lg",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green-100 dark:bg-green-900/40 mb-3",children:s.jsx(W5,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Export ke Excel"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Data Penerimaan Bahan Baku - ",n]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx(gi,{className:"h-4 w-4 text-primary-500"}),"Rentang Tanggal"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Ee,{label:"Dari Tanggal",type:"date",value:l,onChange:P=>c(P.target.value)}),s.jsx(Ee,{label:"Sampai Tanggal",type:"date",value:u,onChange:P=>d(P.target.value)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx(Mo,{className:"h-4 w-4 text-primary-500"}),"Pilih Bahan Baku"]}),s.jsxs("button",{type:"button",onClick:y,className:Ge("w-full flex items-center gap-3 p-3 rounded-lg border transition-all duration-150",p?"border-primary-400 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700":"border-border bg-card hover:border-primary-300 dark:hover:border-primary-700"),children:[p?s.jsx(cP,{className:"h-5 w-5 text-primary-600 dark:text-primary-400 flex-shrink-0"}):s.jsx(gP,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:Ge("text-sm font-medium",p?"text-primary-700 dark:text-primary-300":"text-foreground"),children:"Semua Bahan Baku"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:a.map(P=>{const _=!p&&f.includes(P.value);return s.jsxs("button",{type:"button",onClick:()=>b(P.value),disabled:p,className:Ge("flex items-center gap-2 p-2.5 rounded-lg border text-left transition-all duration-150",p?"border-primary-200 bg-primary-50/50 dark:bg-primary-900/10 dark:border-primary-800 opacity-60":_?"border-primary-400 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700":"border-border bg-card hover:border-primary-300 dark:hover:border-primary-700"),children:[p||_?s.jsx(cP,{className:"h-4 w-4 text-primary-600 dark:text-primary-400 flex-shrink-0"}):s.jsx(gP,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:Ge("text-xs font-medium truncate",p||_?"text-primary-700 dark:text-primary-300":"text-foreground"),children:P.label})]},P.value)})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-50 dark:bg-dark-800 rounded-lg border border-border",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Data yang akan diekspor:"}),s.jsxs("span",{className:Ge("text-sm font-bold",N>0?"text-green-600 dark:text-green-400":"text-red-500"),children:[N," data"]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-border",children:[s.jsx(ve,{variant:"secondary",onClick:t,children:"Batal"}),s.jsxs(ve,{onClick:S,disabled:N===0||!p&&f.length===0,isLoading:m,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(bx,{className:"h-4 w-4 mr-2"}),"Export Excel (",N,")"]})]})]})})}let sp=null;function iee(){return(!sp||sp.state==="closed")&&(sp=new(window.AudioContext||window.webkitAudioContext)),sp}function tI(){const e=iee();return e.state==="suspended"&&e.resume(),e}function see(e,t=.3){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(659.25,r),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t,r+.02),a.gain.exponentialRampToValueAtTime(.01,r+.3),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.3);const i=e.createOscillator(),o=e.createGain();i.type="sine",i.frequency.setValueAtTime(783.99,r+.12),o.gain.setValueAtTime(0,r+.12),o.gain.linearRampToValueAtTime(t*.8,r+.14),o.gain.exponentialRampToValueAtTime(.01,r+.5),i.connect(o),o.connect(e.destination),i.start(r+.12),i.stop(r+.5);const l=e.createOscillator(),c=e.createGain();l.type="triangle",l.frequency.setValueAtTime(1318.51,r),c.gain.setValueAtTime(0,r),c.gain.linearRampToValueAtTime(t*.15,r+.02),c.gain.exponentialRampToValueAtTime(.01,r+.25),l.connect(c),c.connect(e.destination),l.start(r),l.stop(r+.25)}function oee(e,t=.25){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(880,r),n.frequency.exponentialRampToValueAtTime(587.33,r+.08),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t,r+.01),a.gain.exponentialRampToValueAtTime(.01,r+.15),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.15);const i=e.createOscillator(),o=e.createGain();i.type="triangle",i.frequency.setValueAtTime(1174.66,r),o.gain.setValueAtTime(0,r),o.gain.linearRampToValueAtTime(t*.3,r+.01),o.gain.exponentialRampToValueAtTime(.01,r+.1),i.connect(o),o.connect(e.destination),i.start(r),i.stop(r+.1)}function lee(e,t=.25){const r=e.currentTime;[523.25,659.25,783.99].forEach((a,i)=>{const o=e.createOscillator(),l=e.createGain(),c=r+i*.1;o.type="sine",o.frequency.setValueAtTime(a,c),l.gain.setValueAtTime(0,c),l.gain.linearRampToValueAtTime(t*(1-i*.15),c+.02),l.gain.exponentialRampToValueAtTime(.01,c+.35),o.connect(l),l.connect(e.destination),o.start(c),o.stop(c+.35)})}function cee(e,t=.2){const r=e.currentTime;for(let n=0;n<2;n++){const a=e.createOscillator(),i=e.createGain(),o=r+n*.18;a.type="triangle",a.frequency.setValueAtTime(740,o),i.gain.setValueAtTime(0,o),i.gain.linearRampToValueAtTime(t,o+.01),i.gain.exponentialRampToValueAtTime(.01,o+.12),a.connect(i),i.connect(e.destination),a.start(o),a.stop(o+.12)}}function uee(e,t=.2){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="square",n.frequency.setValueAtTime(440,r),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t*.5,r+.01),a.gain.exponentialRampToValueAtTime(.01,r+.15),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.15);const i=e.createOscillator(),o=e.createGain();i.type="square",i.frequency.setValueAtTime(349.23,r+.15),o.gain.setValueAtTime(0,r+.15),o.gain.linearRampToValueAtTime(t*.5,r+.16),o.gain.exponentialRampToValueAtTime(.01,r+.35),i.connect(o),o.connect(e.destination),i.start(r+.15),i.stop(r+.35)}const rI={notification:see,message:oee,success:lee,warning:cee,error:uee};function dee(){const e=j.useRef({}),t=j.useRef(!0);j.useEffect(()=>{const o=localStorage.getItem("plantiq_sound_enabled");o!==null&&(t.current=o==="true")},[]);const r=j.useCallback((o="notification",l=1e3)=>{if(!t.current)return;const c=Date.now(),u=e.current[o]||0;if(!(c-u<l)){e.current[o]=c;try{const d=tI(),f=rI[o];f&&f(d,.3)}catch(d){console.warn("Could not play notification sound:",d)}}},[]),n=j.useCallback(()=>(t.current=!t.current,localStorage.setItem("plantiq_sound_enabled",String(t.current)),t.current),[]),a=j.useCallback(()=>t.current,[]),i=j.useCallback(o=>{t.current=o,localStorage.setItem("plantiq_sound_enabled",String(o))},[]);return{playSound:r,toggleSound:n,isSoundEnabled:a,setSoundEnabled:i}}function Ny(e="notification"){if(localStorage.getItem("plantiq_sound_enabled")!=="false")try{const r=tI(),n=rI[e];n&&n(r,.3)}catch(r){console.warn("Could not play notification sound:",r)}}const op=e=>e.toLocaleString("id-ID",{maximumFractionDigits:0}),nI=e=>{rt(async()=>{const{setUserOfflineBackground:t}=await Promise.resolve().then(()=>nt);return{setUserOfflineBackground:t}},void 0).then(({setUserOfflineBackground:t})=>{t(e)}).catch(t=>{console.error("Error setting offline status:",t)})},fee=()=>{const{user:e}=Tt(),[t,r]=j.useState([]),[n,a]=j.useState({totalProduksiNPK:0,totalProduksiBlending:0,totalProduksiNPKMini:0,totalDowntime:0,workRequestPending:0,troubleRecordOpen:0,vibrasiWarnings:0,gatePassToday:0,bahanBakuToday:0}),[i,o]=j.useState(!1),[l,c]=j.useState(new Date);j.useEffect(()=>{const w=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(w)},[]);const u=j.useCallback(async()=>{try{const{fetchDataByPlant:w,SHEETS:k}=await rt(async()=>{const{fetchDataByPlant:B,SHEETS:H}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:B,SHEETS:H}},void 0),N=new Date().getFullYear(),S=new Date().toISOString().split("T")[0],T=B=>{if(typeof B=="number")return B;if(typeof B=="string"){const H=parseFloat(B.replace(/,/g,""));return isNaN(H)?0:H}return 0},[P,_,O,E,C,z,Q,W,q]=await Promise.all([w(k.PRODUKSI_NPK),w(k.PRODUKSI_BLENDING),w(k.PRODUKSI_NPK_MINI),w(k.DOWNTIME),w(k.WORK_REQUEST),w(k.TROUBLE_RECORD),w(k.VIBRASI),w(k.GATE_PASS),w(k.BAHAN_BAKU)]),re=B=>B.filter(H=>H.tanggal?new Date(H.tanggal).getFullYear()===N:!1),G=B=>B.filter(H=>H.tanggal?H.tanggal.startsWith(S):!1),de=re(P.data||[]),ce=re(_.data||[]),U=re(O.data||[]),L=re(E.data||[]),I=C.data||[],R=z.data||[],J=Q.data||[],xe=G(W.data||[]),Ne=G(q.data||[]),ue=de.reduce((B,H)=>{const M=H.total!==void 0&&H.total!==null?T(H.total):T(H.shiftMalamOnspek)+T(H.shiftMalamOffspek)+T(H.shiftPagiOnspek)+T(H.shiftPagiOffspek)+T(H.shiftSoreOnspek)+T(H.shiftSoreOffspek);return B+M},0),he=ce.reduce((B,H)=>B+T(H.tonase),0),Te=U.reduce((B,H)=>B+T(H.tonase),0),me=L.reduce((B,H)=>B+T(H.downtime),0),Ce=I.filter(B=>!B.eksekutor||B.eksekutor==="").length,ne=R.filter(B=>B.status==="Open"||B.status==="In Progress").length,A=J.filter(B=>B.status==="Warning"||B.status==="Critical"||B.status==="Alert").length;a({totalProduksiNPK:ue,totalProduksiBlending:he,totalProduksiNPKMini:Te,totalDowntime:me,workRequestPending:Ce,troubleRecordOpen:ne,vibrasiWarnings:A,gatePassToday:xe.length,bahanBakuToday:Ne.length})}catch(w){console.error("Error fetching dashboard metrics:",w)}},[]);j.useEffect(()=>{u();const w=setInterval(u,6e4);return()=>clearInterval(w)},[u]);const d=j.useCallback(async()=>{if(e)try{const{readData:w,createData:k,updateData:N,SHEETS:S}=await rt(async()=>{const{readData:E,createData:C,updateData:z,SHEETS:Q}=await Promise.resolve().then(()=>nt);return{readData:E,createData:C,updateData:z,SHEETS:Q}},void 0),_=((await w(S.ACTIVE_USERS)).data||[]).find(E=>E.username===e.username),O=new Date().toISOString();_?await N(S.ACTIVE_USERS,{id:_.id,lastActive:O,status:"online"}):await k(S.ACTIVE_USERS,{username:e.username,namaLengkap:e.namaLengkap||e.nama||e.username,role:e.role,plant:e.plant,lastActive:O,status:"online"})}catch(w){console.error("Error updating active status:",w)}},[e]),f=j.useCallback(async()=>{try{const{readData:w,SHEETS:k}=await rt(async()=>{const{readData:S,SHEETS:T}=await Promise.resolve().then(()=>nt);return{readData:S,SHEETS:T}},void 0),N=await w(k.ACTIVE_USERS);if(N.success&&N.data){const S=N.data,T=new Date().getTime(),P=45*1e3,_=S.filter(C=>{const z=new Date(C.lastActive).getTime();return T-z<P&&C.status==="online"}),O=new Map;_.forEach(C=>{const z=O.get(C.username);if(!z)O.set(C.username,C);else{const Q=new Date(z.lastActive).getTime();new Date(C.lastActive).getTime()>Q&&O.set(C.username,C)}});const E=Array.from(O.values()).sort((C,z)=>(C.namaLengkap||C.username).localeCompare(z.namaLengkap||z.username));r(E)}}catch(w){console.error("Error fetching active users:",w)}},[]);j.useEffect(()=>{if(e){d(),f();const w=setInterval(d,15e3),k=setInterval(f,5e3);return()=>{clearInterval(w),clearInterval(k)}}},[e,d,f]),j.useEffect(()=>{const w=()=>{e&&e.username&&nI(e.username)},k=()=>{w()},N=()=>{document.visibilityState==="hidden"?w():document.visibilityState==="visible"&&e&&d()};return window.addEventListener("beforeunload",k),document.addEventListener("visibilitychange",N),()=>{window.removeEventListener("beforeunload",k),document.removeEventListener("visibilitychange",N)}},[e,d]);const h=w=>{switch(w){case"admin":return"bg-red-500";case"supervisor":return"bg-blue-500";case"manager":return"bg-purple-500";case"avp":return"bg-emerald-500";default:return"bg-gray-500"}},p=w=>{switch(w){case"NPK1":return"bg-orange-500";case"NPK2":return"bg-cyan-500";case"ALL":return"bg-gradient-to-r from-orange-500 to-cyan-500";default:return"bg-gray-500"}},g=w=>w.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),m=w=>w.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),b=[{id:"greeting",icon:"",text:`${(()=>{const w=l.getHours();return w>=5&&w<11?"Selamat Pagi":w>=11&&w<15?"Selamat Siang":w>=15&&w<18?"Selamat Sore":"Selamat Malam"})()}! ${g(l)}  ${m(l)} WIB`,bgColor:"bg-white/15"},{id:"produksi",icon:"",text:`Produksi NPK ${new Date().getFullYear()}: ${op(n.totalProduksiNPK)} Ton`,bgColor:"bg-green-500/20"},{id:"blending",icon:"",text:`Produksi Blending: ${op(n.totalProduksiBlending)} Ton`,bgColor:"bg-blue-500/20"},...n.totalProduksiNPKMini>0?[{id:"npkmini",icon:"",text:`Produksi NPK Mini: ${op(n.totalProduksiNPKMini)} Ton`,bgColor:"bg-teal-500/20"}]:[],...n.totalDowntime>0?[{id:"downtime",icon:"",text:`Total Downtime: ${op(n.totalDowntime)} Jam`,bgColor:"bg-amber-500/20"}]:[],...n.workRequestPending>0?[{id:"wr-pending",icon:"",text:`Work Request Pending: ${n.workRequestPending} item`,bgColor:"bg-orange-500/20"}]:[],...n.troubleRecordOpen>0?[{id:"trouble",icon:"",text:`Trouble Record Open: ${n.troubleRecordOpen} masalah`,bgColor:"bg-red-500/20"}]:[],...n.vibrasiWarnings>0?[{id:"vibrasi",icon:"",text:`Vibrasi Warning/Critical: ${n.vibrasiWarnings} alat`,bgColor:"bg-yellow-500/20"}]:[],...n.gatePassToday>0?[{id:"gatepass",icon:"",text:`Gate Pass Hari Ini: ${n.gatePassToday} kendaraan`,bgColor:"bg-cyan-500/20"}]:[],...n.bahanBakuToday>0?[{id:"bahanbaku",icon:"",text:`Penerimaan BB Hari Ini: ${n.bahanBakuToday} batch`,bgColor:"bg-purple-500/20"}]:[]],y=b.length+t.length,v=Math.max(y*4,30);return s.jsx("div",{className:"bg-dark-900 text-white overflow-hidden relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:s.jsxs("div",{className:"flex items-center h-8 relative z-10",children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 bg-dark-800 h-full border-r border-dark-700 z-10",children:[s.jsxs("div",{className:"relative",children:[s.jsx(lh,{className:"h-4 w-4"}),s.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full animate-ping"}),s.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full"})]}),s.jsx("span",{className:"text-[10px] font-semibold whitespace-nowrap tracking-widest text-dark-400 uppercase",children:"LIVE"})]}),s.jsx("div",{className:"flex-1 overflow-hidden relative h-full flex items-center",children:s.jsx("div",{className:Ge("marquee-wrapper",i&&"paused"),children:s.jsxs("div",{className:"marquee-inner",style:{animationDuration:`${v}s`},children:[b.map(w=>s.jsxs("div",{className:Ge("inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 rounded-md","transition-all duration-150 cursor-default","bg-dark-800/80 border border-dark-700/50"),children:[s.jsx("span",{className:"text-xs drop-shadow-sm",children:w.icon}),s.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.text})]},w.id)),t.length>0&&s.jsx("div",{className:"inline-flex items-center mx-4",children:s.jsx("span",{className:"text-white/30",children:""})}),t.length>0&&s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 bg-dark-800 border border-dark-700/50 rounded-md",children:[s.jsx(pu,{className:"h-3 w-3 text-dark-400"}),s.jsxs("span",{className:"text-[11px] font-semibold whitespace-nowrap text-dark-300",children:["Online (",t.length,")"]})]}),t.map(w=>s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1 bg-dark-800/80 border border-dark-700/50 rounded-md cursor-default",children:[s.jsxs("div",{className:"relative",children:[s.jsx(uP,{className:"h-2 w-2 fill-green-400 text-green-400"}),s.jsx(uP,{className:"absolute inset-0 h-2 w-2 fill-green-400 text-green-400 animate-ping opacity-75"})]}),s.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.namaLengkap}),s.jsx("span",{className:Ge("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold uppercase shadow-sm",h(w.role)),children:w.role}),s.jsx("span",{className:Ge("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold shadow-sm",p(w.plant)),children:w.plant})]},w.username))]})})}),s.jsx("div",{className:"hidden lg:flex items-center gap-2 px-3 border-l border-dark-700 h-full bg-dark-800",children:s.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-dark-700 rounded text-dark-300",children:[s.jsx(pu,{className:"h-3 w-3"}),s.jsx("span",{className:"text-[11px] font-semibold",children:t.length})]})})]})})},hee=[{name:"Dashboard",path:"/dashboard",icon:s.jsx(dz,{className:"h-5 w-5"})},{name:"Produksi",path:"/produksi",icon:s.jsx(lh,{className:"h-5 w-5"}),children:[{name:"NPK Granul 1",path:"/produksi/npk1"},{name:"NPK Granul 2",path:"/produksi/npk2"},{name:"Blending",path:"/produksi/blending"},{name:"NPK Mini",path:"/produksi/npk-mini"},{name:"Retail",path:"/produksi/retail"}]},{name:"Laporan",path:"/laporan",icon:s.jsx(wi,{className:"h-5 w-5"}),children:[{name:"KOP NPK1",path:"/laporan/kop-npk1"},{name:"KOP NPK2",path:"/laporan/kop-npk2"},{name:"Timesheet Forklift NPK1",path:"/laporan/timesheet-forklift-npk1"},{name:"Timesheet Forklift NPK2",path:"/laporan/timesheet-forklift-npk2"},{name:"Timesheet Loader NPK1",path:"/laporan/timesheet-loader-npk1"},{name:"Timesheet Loader NPK2",path:"/laporan/timesheet-loader-npk2"},{name:"Downtime NPK1",path:"/laporan/downtime-npk1"},{name:"Downtime NPK2",path:"/laporan/downtime-npk2"},{name:"Pemantauan BB NPK1",path:"/laporan/pemantauan-bb-npk1"},{name:"Pemantauan BB NPK2",path:"/laporan/pemantauan-bb-npk2"}]},{name:"Data",path:"/data",icon:s.jsx(Cb,{className:"h-5 w-5"}),children:[{name:"Inventaris Material",path:"/data/inventaris"},{name:"Work Request NPK1",path:"/data/work-request-npk1"},{name:"Work Request NPK2",path:"/data/work-request-npk2"},{name:"Penerimaan Bahan Baku NPK1",path:"/data/bahan-baku-npk1"},{name:"Penerimaan Bahan Baku NPK2",path:"/data/bahan-baku-npk2"},{name:"Vibrasi NPK1",path:"/data/vibrasi-npk1"},{name:"Vibrasi NPK2",path:"/data/vibrasi-npk2"},{name:"Gate Pass NPK1",path:"/data/gate-pass-npk1"},{name:"Gate Pass NPK2",path:"/data/gate-pass-npk2"},{name:"Perbaikan Tahunan NPK1",path:"/data/perbaikan-tahunan-npk1"},{name:"Perbaikan Tahunan NPK2",path:"/data/perbaikan-tahunan-npk2"},{name:"Trouble Record NPK1",path:"/data/trouble-record-npk1"},{name:"Trouble Record NPK2",path:"/data/trouble-record-npk2"},{name:"Dokumentasi Foto NPK1",path:"/data/dokumentasi-foto-npk1"},{name:"Dokumentasi Foto NPK2",path:"/data/dokumentasi-foto-npk2"},{name:"Rekap BBM NPK1",path:"/data/rekap-bbm-npk1"},{name:"Rekap BBM NPK2",path:"/data/rekap-bbm-npk2"},{name:"Riksa Timb Portabel",path:"/data/riksa-timb-portabel"}]},{name:"Pengaturan",path:"/settings",icon:s.jsx(wz,{className:"h-5 w-5"}),children:[{name:"Profil",path:"/settings/akun"},{name:"RKAP",path:"/settings/rkap"},{name:"Users",path:"/settings/users"},{name:"Approval",path:"/settings/approval"}]}],pee=()=>{const[e,t]=j.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>t(!0),className:Ge("px-2 py-0.5 rounded font-medium text-[10px] transition-all duration-200","bg-muted text-muted-foreground","hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/40 dark:hover:text-primary-400","cursor-pointer flex items-center gap-1"),title:"Klik untuk melihat perjalanan versi",children:[s.jsx(Et,{className:"h-3 w-3"}),"v2.6.3"]}),s.jsx(pW,{isOpen:e,onClose:()=>t(!1)})]})},mee=()=>{const e=Wu(),{user:t}=Tt(),[r,n]=j.useState([]),{sidebarCollapsed:a,toggleSidebarCollapse:i,sidebarOpen:o,toggleSidebar:l,forceDesktopView:c}=lx(),[u,d]=j.useState(!1);j.useEffect(()=>{const y=()=>{d(window.innerWidth<1024&&!c)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const f=()=>{u&&o&&!c&&l()},p=(()=>{const y=t==null?void 0:t.plant,v=(t==null?void 0:t.role)||"";return hee.map(w=>{if(w.name==="Pengaturan"){if(!bD(v,y))return null;if(w.children){const k=w.children.filter(N=>N.path==="/settings/users"?wD(v):N.path==="/settings/rkap"?kD(v):!0);return k.length===0?null:{...w,children:k}}return w}if(w.name==="Produksi"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path==="/produksi/npk1"||N.path==="/produksi/retail"):y==="NPK2"&&(k=w.children.filter(N=>N.path==="/produksi/npk2"||N.path==="/produksi/blending"||N.path==="/produksi/npk-mini")),{...w,children:k}}if(w.name==="Laporan"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(k=w.children.filter(N=>N.path.includes("npk2"))),{...w,children:k}}if(w.name==="Data"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(k=w.children.filter(N=>N.path.includes("npk2")||N.path==="/data/riksa-timb-portabel"||N.path==="/data/inventaris")),{...w,children:k}}return w}).filter(Boolean)})(),g=y=>{n(v=>v.includes(y)?v.filter(w=>w!==y):[...v,y])},m=y=>e.pathname===y,x=y=>y.children?y.children.some(v=>e.pathname===v.path):e.pathname===y.path,b=u&&!c;return s.jsxs(s.Fragment,{children:[b&&o&&s.jsx(qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:l}),s.jsxs("aside",{className:Ge("fixed left-0 top-0 z-50 h-screen transition-all duration-300","bg-card dark:bg-dark-800","border-r border-border","shadow-soft",b?o?"translate-x-0 w-64":"-translate-x-full w-64":a?"w-20":"w-64"),children:[s.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-border",children:[(!a||b)&&s.jsxs(W0,{to:"/dashboard",className:"flex items-center gap-3 group",onClick:f,children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 group-hover:scale-105"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-display font-semibold text-base text-foreground",children:"Plantiffy"}),s.jsx("span",{className:"block text-[10px] text-muted-foreground -mt-0.5 tracking-wide",children:"Plant Intelligence"})]})]}),a&&!b&&s.jsx(W0,{to:"/dashboard",className:"mx-auto",onClick:f,children:s.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 hover:scale-105"})}),!b&&!a&&s.jsx(qt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:i,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:s.jsx($2,{className:"h-4 w-4"})}),a&&!b&&s.jsx(qt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:i,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:s.jsx(U2,{className:"h-4 w-4"})}),b&&s.jsx("button",{onClick:l,className:"p-1.5 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:s.jsx(qa,{className:"h-5 w-5"})})]}),s.jsx("nav",{className:"p-2 space-y-0.5 overflow-y-auto h-[calc(100vh-7.5rem)] scrollbar-thin",children:p.map(y=>s.jsx("div",{children:y.children?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>(!a||b)&&g(y.name),className:Ge("w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150","group relative",x(y)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[x(y)&&s.jsx(qt.div,{layoutId:"activeParentIndicator",className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 bg-primary-500 rounded-r"}),s.jsx("span",{className:Ge("p-1.5 rounded-md transition-colors",x(y)?"bg-primary-100 dark:bg-primary-800/40 text-primary-600":"text-muted-foreground"),children:y.icon}),(!a||b)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-left",children:y.name}),s.jsx(yx,{className:Ge("h-4 w-4 transition-transform duration-300",r.includes(y.name)&&"rotate-180")})]})]}),(!a||b)&&s.jsx(No,{children:r.includes(y.name)&&s.jsx(qt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden",children:s.jsx("div",{className:"ml-4 pl-4 py-1 space-y-0.5 border-l border-border",children:y.children.map(v=>s.jsx(W0,{to:v.path,onClick:f,className:Ge("block px-3 py-1.5 text-[13px] rounded-md transition-all duration-150 relative",m(v.path)?"bg-primary-500 text-white font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:v.name},v.path))})})})]}):s.jsxs(W0,{to:y.path,onClick:f,className:Ge("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150 relative group",m(y.path)?"bg-primary-500 text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsx("span",{className:Ge("p-1.5 rounded-md transition-colors",m(y.path)?"bg-white/20":"text-muted-foreground"),children:y.icon}),(!a||b)&&s.jsx("span",{children:y.name})]})},y.name))}),(!a||b)&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-border",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:" 2025 Plantiffy"}),s.jsx(pee,{})]})})]})]})},gee=()=>{const e=a0(),{user:t,logout:r}=Tt(),{sidebarCollapsed:n,toggleSidebar:a,darkMode:i,toggleDarkMode:o,forceDesktopView:l,toggleForceDesktopView:c}=lx(),{notifications:u,unreadCount:d,markAsRead:f,markAllAsRead:h,setNotifications:p}=n9(),{isOpen:g,toggleChat:m,unreadChatCount:x,setUnreadChatCount:b}=dm(),[y,v]=j.useState(!1),[w,k]=j.useState(!1),N=j.useRef(null),[S,T]=j.useState(!1),{playSound:P,isSoundEnabled:_,toggleSound:O}=dee(),[E,C]=j.useState(!0),z=j.useRef(0),Q=j.useRef(0);j.useEffect(()=>{C(_())},[_]);const[W,q]=j.useState(!1),[re,G]=j.useState(null),de=I=>{ce(I.id),I.sheetName&&I.recordId&&(G(I),q(!0),k(!1))};j.useEffect(()=>{const I=()=>{const R=window.innerWidth<1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);T(R)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const ce=async I=>{try{f(I);const{updateData:R,SHEETS:J}=await rt(async()=>{const{updateData:xe,SHEETS:Ne}=await Promise.resolve().then(()=>nt);return{updateData:xe,SHEETS:Ne}},void 0);await R(J.NOTIFICATIONS,{id:I,read:!0})}catch(R){console.error("Error marking notification as read:",R)}},U=async()=>{try{const I=u.filter(xe=>!xe.read);h();const{updateData:R,SHEETS:J}=await rt(async()=>{const{updateData:xe,SHEETS:Ne}=await Promise.resolve().then(()=>nt);return{updateData:xe,SHEETS:Ne}},void 0);await Promise.all(I.map(xe=>R(J.NOTIFICATIONS,{id:xe.id,read:!0})))}catch(I){console.error("Error marking all notifications as read:",I)}};j.useEffect(()=>{const I=async()=>{try{const{readData:R,SHEETS:J}=await rt(async()=>{const{readData:Ne,SHEETS:ue}=await Promise.resolve().then(()=>nt);return{readData:Ne,SHEETS:ue}},void 0),xe=await R(J.NOTIFICATIONS);if(xe.success&&xe.data){const ue=xe.data.filter(Te=>Te.fromUser===(t==null?void 0:t.username)?!1:Te.toUser==="ALL"||Te.toUser===(t==null?void 0:t.username)||Te.fromPlant===(t==null?void 0:t.plant)).sort((Te,me)=>new Date(me.timestamp).getTime()-new Date(Te.timestamp).getTime());p(ue);const he=ue.filter(Te=>!Te.read).length;he>z.current&&z.current>=0&&P("notification"),z.current=he}}catch(R){console.error("Error loading notifications:",R)}};if(t){I();const R=setInterval(I,1e4);return()=>clearInterval(R)}},[t,p]),j.useEffect(()=>{const I=async()=>{if(t)try{const{readData:R,SHEETS:J}=await rt(async()=>{const{readData:Ne,SHEETS:ue}=await Promise.resolve().then(()=>nt);return{readData:Ne,SHEETS:ue}},void 0),xe=await R(J.CHAT_MESSAGES);if(xe.success&&xe.data){const Ne=xe.data,ue=[...Ne].sort((H,ke)=>new Date(H.timestamp).getTime()-new Date(ke.timestamp).getTime()),{setMessages:he,setLastFetchTimestamp:Te}=dm.getState();he(ue),Te(new Date().toISOString());const me=`chat_last_read_${t.username}`,Ce=localStorage.getItem(me),ne=Ce?new Date(Ce).getTime():0,A=t.namaLengkap||t.nama||t.username,B=Ne.filter(H=>H.sender===A?!1:new Date(H.timestamp).getTime()>ne).length;B>Q.current&&Q.current>=0&&!g&&P("message"),Q.current=B,b(B)}}catch(R){console.error("Error loading chat messages:",R)}};if(t){I();const R=setInterval(I,3e3);return()=>clearInterval(R)}},[t,b,g,P]),j.useEffect(()=>{const I=R=>{N.current&&!N.current.contains(R.target)&&k(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const L=()=>{t&&t.username&&nI(t.username),r(),e("/login")};return s.jsxs("header",{className:Ge("fixed top-8 right-0 z-30 h-14 transition-all duration-300","bg-card/95 dark:bg-dark-800/95 backdrop-blur-sm","border-b border-border",l?"left-64":"left-0 lg:left-64",n&&(l?"left-20":"lg:left-20")),children:[s.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[!l&&s.jsx("button",{onClick:a,className:"lg:hidden p-2 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:s.jsx(pz,{className:"h-5 w-5"})}),s.jsx("div",{className:l?"block":"hidden lg:block"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1 p-0.5 bg-muted rounded-lg",children:[s.jsx("button",{onClick:()=>{const I=O();C(I),I&&P("success")},className:Ge("p-2 rounded-md transition-all duration-150",E?"text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:E?"Suara notifikasi: Aktif":"Suara notifikasi: Nonaktif",children:E?s.jsx(Y5,{className:"h-4 w-4"}):s.jsx(Pz,{className:"h-4 w-4"})}),S&&s.jsx("button",{onClick:c,className:Ge("p-2 rounded-md transition-all duration-150",l?"bg-background shadow-sm text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:l?"Tampilan HP":"Tampilan Desktop",children:l?s.jsx(Mc,{className:"h-4 w-4"}):s.jsx(gz,{className:"h-4 w-4"})}),s.jsx("button",{onClick:o,className:Ge("p-2 rounded-md transition-all duration-150","text-muted-foreground hover:text-foreground"),title:i?"Switch to Light Mode":"Switch to Dark Mode",children:s.jsx(qt.div,{initial:!1,animate:{rotate:i?180:0},transition:{duration:.3},children:i?s.jsx(Sz,{className:"h-4 w-4"}):s.jsx(xz,{className:"h-4 w-4"})})})]}),s.jsxs("button",{onClick:m,className:Ge("relative p-2 rounded-lg transition-all duration-150",g?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[s.jsx(jm,{className:"h-5 w-5"}),x>0&&!g&&s.jsx(qt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:x>9?"9+":x})]}),s.jsxs("div",{className:"relative",ref:N,children:[s.jsxs("button",{onClick:()=>k(!w),className:Ge("relative p-2 rounded-lg transition-all duration-150",w?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[s.jsx(qc,{className:"h-5 w-5"}),d>0&&s.jsx(qt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),s.jsx(No,{children:w&&s.jsxs(qt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border z-50 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-sm text-foreground flex items-center gap-2",children:[s.jsx(qc,{className:"h-4 w-4 text-primary-500"}),"Notifikasi"]}),d>0&&s.jsx("button",{onClick:U,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Tandai semua dibaca"})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length===0?s.jsxs("div",{className:"px-4 py-8 text-center text-muted-foreground",children:[s.jsx(qc,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),s.jsx("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):u.slice(0,10).map(I=>s.jsx("div",{className:Ge("px-4 py-3 border-b border-border hover:bg-muted/50 transition-colors",!I.read&&"bg-primary-50 dark:bg-primary-900/30"),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:Ge("mt-1 h-2 w-2 rounded-full flex-shrink-0",I.read?"bg-muted-foreground/30":"bg-primary-500")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:I.message}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:vD(I.timestamp)}),s.jsxs("div",{className:"flex items-center gap-2",children:[I.sheetName&&I.recordId&&s.jsxs("button",{onClick:()=>de(I),className:"flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[s.jsx(bs,{className:"h-3 w-3"}),"Lihat Log"]}),!I.read&&s.jsx("button",{onClick:()=>ce(I.id),className:"text-xs text-muted-foreground hover:text-foreground",children:"Tandai dibaca"})]})]})]})]})},I.id))})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>v(!y),className:Ge("flex items-center gap-2.5 px-2.5 py-1.5 rounded-lg transition-all duration-150","hover:bg-muted",y&&"ring-1 ring-border bg-muted"),children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:((t==null?void 0:t.namaLengkap)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})}),s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 bg-emerald-500 border-2 border-card dark:border-dark-800 rounded-full"})]}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("p",{className:"text-sm font-medium text-foreground leading-tight",children:t==null?void 0:t.namaLengkap}),s.jsxs("p",{className:"text-xs text-muted-foreground capitalize flex items-center gap-1",children:[s.jsx("span",{className:Ge("inline-block h-1.5 w-1.5 rounded-full",(t==null?void 0:t.role)==="admin"?"bg-red-500":(t==null?void 0:t.role)==="supervisor"?"bg-blue-500":(t==null?void 0:t.role)==="manager"?"bg-purple-500":(t==null?void 0:t.role)==="avp"?"bg-emerald-500":"bg-gray-500")}),t==null?void 0:t.role,"  ",t==null?void 0:t.plant]})]}),s.jsx(yx,{className:Ge("h-3.5 w-3.5 text-muted-foreground transition-transform duration-200",y&&"rotate-180")})]}),s.jsx(No,{children:y&&s.jsxs(qt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 z-50 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:t==null?void 0:t.namaLengkap}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["@",t==null?void 0:t.username]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Xe,{variant:"primary",size:"sm",children:t==null?void 0:t.role}),s.jsx(Xe,{variant:"info",size:"sm",children:t==null?void 0:t.plant})]})]}),s.jsxs("button",{onClick:L,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(hz,{className:"h-4 w-4"}),"Keluar"]})]})})]})]})]}),s.jsx(hW,{isVisible:W,onClose:()=>{q(!1),G(null)},notification:re})]})},xee=()=>{const{user:e}=Tt(),{messages:t,isOpen:r,toggleChat:n,addOptimisticMessage:a,removeOptimisticMessage:i,setMessages:o,setUnreadChatCount:l}=dm(),[c,u]=j.useState(""),[d,f]=j.useState(!1),h=j.useRef(null),p=j.useRef(null),[g,m]=j.useState(!1),x=j.useRef(0),[b,y]=j.useState(null),[v,w]=j.useState(null),k=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{const G=de=>{N.current&&!N.current.contains(de.target)&&y(null)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const S=()=>{const G=p.current;return G?G.scrollHeight-G.scrollTop-G.clientHeight<100:!0},T=()=>{m(!S())},P=(G="smooth")=>{var de;(de=h.current)==null||de.scrollIntoView({behavior:G})};j.useEffect(()=>{if(r&&e){const G=`chat_last_read_${e.username}`,de=new Date().toISOString();localStorage.setItem(G,de),l(0),setTimeout(()=>P("auto"),100)}},[r,e,l]),j.useEffect(()=>{if(r&&e&&t.length>0){const G=`chat_last_read_${e.username}`;localStorage.setItem(G,new Date().toISOString())}},[r,e,t.length]),j.useEffect(()=>{const G=t.length>x.current;x.current=t.length,G&&!g&&P()},[t,g]),j.useEffect(()=>{if(r){const G=setInterval(_,3e3);return()=>clearInterval(G)}},[r]);const _=async()=>{try{const{readData:G,SHEETS:de}=await rt(async()=>{const{readData:U,SHEETS:L}=await Promise.resolve().then(()=>nt);return{readData:U,SHEETS:L}},void 0),ce=await G(de.CHAT_MESSAGES);if(ce.success&&ce.data){const U=[...ce.data].sort((L,I)=>new Date(L.timestamp).getTime()-new Date(I.timestamp).getTime());o(U)}}catch(G){console.error("Error fetching messages:",G)}},O=(G,de,ce)=>{ce&&(G.preventDefault(),y({visible:!0,x:G.clientX,y:G.clientY,messageId:de.id,messageText:de.message}))},E=(G,de)=>{de&&(k.current=setTimeout(()=>{y({visible:!0,x:window.innerWidth/2,y:window.innerHeight-200,messageId:G.id,messageText:G.message})},500))},C=()=>{k.current&&(clearTimeout(k.current),k.current=null)},z=async()=>{if(!(!v||!v.text.trim()))try{const{updateData:G,SHEETS:de}=await rt(async()=>{const{updateData:ce,SHEETS:U}=await Promise.resolve().then(()=>nt);return{updateData:ce,SHEETS:U}},void 0);await G(de.CHAT_MESSAGES,{id:v.id,message:v.text.trim(),edited:!0}),o(t.map(ce=>ce.id===v.id?{...ce,message:v.text.trim(),edited:!0}:ce)),w(null)}catch(G){console.error("Error editing message:",G)}},Q=async G=>{try{const{deleteData:de,SHEETS:ce}=await rt(async()=>{const{deleteData:U,SHEETS:L}=await Promise.resolve().then(()=>nt);return{deleteData:U,SHEETS:L}},void 0);await de(ce.CHAT_MESSAGES,G),o(t.filter(U=>U.id!==G)),y(null)}catch(de){console.error("Error deleting message:",de)}},W=()=>{b&&(w({id:b.messageId,text:b.messageText}),y(null))},q=async()=>{if(!c.trim()||!e)return;const G=e.namaLengkap||e.nama||e.username,de=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ce=new Date().toISOString(),U=c.trim(),L={id:de,sender:G,role:e.role,message:U,timestamp:ce};a(L),u("");const I=`chat_last_read_${e.username}`;localStorage.setItem(I,ce);try{const{createData:R,SHEETS:J}=await rt(async()=>{const{createData:ue,SHEETS:he}=await Promise.resolve().then(()=>nt);return{createData:ue,SHEETS:he}},void 0),xe={sender:G,role:e.role,message:U,timestamp:ce};(await R(J.CHAT_MESSAGES,xe)).success||(i(de),console.error("Failed to send message"))}catch(R){i(de),console.error("Error sending message:",R)}},re=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),v?z():q()),G.key==="Escape"&&v&&w(null)};return r?s.jsxs(qt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:Ge("fixed left-4 bottom-4 z-50 w-80 md:w-96","bg-card dark:bg-dark-800","rounded-lg shadow-soft-xl","border border-border","overflow-hidden"),children:[s.jsx("div",{className:"relative px-4 py-3 bg-primary-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"p-1.5 bg-white/15 rounded-md",children:s.jsx(jm,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Chat Tim"}),s.jsxs("p",{className:"text-[11px] text-white/60",children:[t.length," pesan"]})]})]}),s.jsx("button",{onClick:n,className:"p-1.5 hover:bg-white/15 rounded-md transition-colors",children:s.jsx(qa,{className:"h-4 w-4"})})]})}),(b==null?void 0:b.visible)&&s.jsxs("div",{ref:N,className:"fixed z-[100] bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 min-w-[140px]",style:{left:Math.min(b.x,window.innerWidth-160),top:Math.min(b.y,window.innerHeight-100)},children:[s.jsxs("button",{onClick:W,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:[s.jsx(my,{className:"h-4 w-4"}),"Edit"]}),s.jsxs("button",{onClick:()=>Q(b.messageId),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(ur,{className:"h-4 w-4"}),"Hapus"]})]}),s.jsxs("div",{ref:p,onScroll:T,className:"h-80 overflow-y-auto p-4 space-y-3 bg-muted/30 dark:bg-dark-900/40",children:[t.length===0?s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx("div",{className:"w-14 h-14 mx-auto mb-3 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(jm,{className:"h-7 w-7 opacity-40"})}),s.jsx("p",{className:"text-sm font-medium",children:"Belum ada pesan"}),s.jsx("p",{className:"text-xs mt-1",children:"Mulai percakapan dengan tim!"})]}):t.map((G,de)=>{const ce=G.sender===((e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||(e==null?void 0:e.username)),U=de===0||t[de-1].sender!==G.sender;return s.jsxs(qt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Ge("flex gap-2",ce?"justify-end":"justify-start"),children:[!ce&&U&&s.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-md bg-primary-100 dark:bg-primary-900/40 flex items-center justify-center text-primary-600 dark:text-primary-400 text-xs font-semibold",children:G.sender.charAt(0).toUpperCase()}),!ce&&!U&&s.jsx("div",{className:"w-7"}),s.jsxs("div",{onContextMenu:L=>O(L,G,ce),onTouchStart:()=>E(G,ce),onTouchEnd:C,onTouchMove:C,className:Ge("max-w-[75%] rounded-lg px-3 py-2 select-none","transition-all duration-150",ce?"bg-primary-500 text-white rounded-br-sm cursor-pointer":"bg-card dark:bg-dark-700 text-foreground border border-border rounded-bl-sm"),children:[!ce&&U&&s.jsxs("p",{className:"text-xs font-semibold text-primary-600 dark:text-primary-400 mb-1",children:[G.sender,s.jsxs("span",{className:"ml-1 font-normal text-muted-foreground capitalize",children:[" ",G.role]})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:G.message}),s.jsxs("div",{className:Ge("flex items-center gap-1 mt-1",ce?"justify-end":"justify-start"),children:[s.jsx("p",{className:Ge("text-[10px]",ce?"text-white/60":"text-muted-foreground"),children:new Date(G.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}),G.edited&&s.jsx("span",{className:Ge("text-[10px] italic",ce?"text-white/50":"text-muted-foreground"),children:"(diedit)"})]})]})]},G.id||de)}),s.jsx("div",{ref:h})]}),v&&s.jsxs("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/30 border-t border-amber-200 dark:border-amber-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-300",children:[s.jsx(my,{className:"h-4 w-4"}),s.jsx("span",{children:"Mengedit pesan"})]}),s.jsx("button",{onClick:()=>w(null),className:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:s.jsx(qa,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"p-3 border-t border-border bg-card dark:bg-dark-800",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"text",value:v?v.text:c,onChange:G=>v?w({...v,text:G.target.value}):u(G.target.value),onKeyDown:re,placeholder:v?"Edit pesan...":"Ketik pesan...",className:Ge("w-full px-3 py-2 bg-muted dark:bg-dark-900 border rounded-lg text-sm","focus:outline-none focus:ring-1 focus:ring-ring transition-all duration-150","text-foreground placeholder-muted-foreground",v?"border-amber-400 dark:border-amber-500 bg-amber-50/50 dark:bg-amber-900/20":"border-border focus:border-primary-500")})}),s.jsx(qt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v?z:q,disabled:v?!v.text.trim():!c.trim()||d,className:Ge("p-2.5 text-white rounded-lg transition-all duration-150","disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",v?"bg-amber-500 hover:bg-amber-600":"bg-primary-500 hover:bg-primary-600"),children:v?s.jsx(my,{className:"h-5 w-5"}):s.jsx(q5,{className:"h-5 w-5"})})]})})]}):null},vee=({children:e})=>{const{sidebarCollapsed:t,darkMode:r,forceDesktopView:n}=lx(),{isOpen:a}=dm();return j.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),j.useEffect(()=>{n?document.documentElement.classList.add("force-desktop"):document.documentElement.classList.remove("force-desktop")},[n]),s.jsxs("div",{className:Ge("min-h-screen bg-background transition-colors duration-200",n&&"force-desktop-view"),children:[s.jsx("div",{className:Ge("fixed top-0 right-0 z-40 transition-all duration-300",n?"left-64":"left-0 lg:left-64",t&&(n?"left-20":"lg:left-20")),children:s.jsx(fee,{})}),s.jsx(mee,{}),s.jsx(gee,{}),s.jsx("main",{className:Ge("pt-[5.5rem] min-h-screen transition-all duration-300",n?"pl-64":"pl-0 lg:pl-64",t&&(n?"pl-20":"lg:pl-20")),children:s.jsx("div",{className:"p-4 lg:p-6",children:e||s.jsx(h7,{})})}),s.jsx(No,{children:a&&s.jsx(xee,{})})]})},yee=()=>{rt(async()=>{const{fetchDataByPlant:e,SHEETS:t}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:e,SHEETS:t}},void 0).then(({fetchDataByPlant:e,SHEETS:t})=>{Promise.all([e(t.PRODUKSI_NPK),e(t.PRODUKSI_BLENDING),e(t.DOWNTIME),e(t.WORK_REQUEST)]).catch(()=>{})})},bee=()=>{const e=a0(),{login:t}=Tt(),[r,n]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(""),h=j.useCallback(async p=>{p.preventDefault(),f("");const g=r.trim();if(!g||!a){f("Username dan password harus diisi");return}u(!0);try{const m=await oM(g,a);if(m.success&&m.data){const x=m.data.user,b=m.data.session,y=F9("device");t(x,b.id,y),yee(),e("/dashboard",{replace:!0})}else f(m.error||"Username atau password salah"),u(!1)}catch(m){console.error("Login error:",m),f("Terjadi kesalahan. Silakan coba lagi."),u(!1)}},[r,a,t,e]);return s.jsxs("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-500/5 rounded-full blur-3xl"})]}),s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(qt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center h-14 w-14 rounded-xl bg-primary-500 mb-4",children:s.jsx(lh,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-xl font-display font-semibold text-white",children:"NPK Production"}),s.jsx("p",{className:"text-dark-400 text-sm mt-1",children:"Management System"})]}),s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-6 text-center",children:"Selamat Datang"}),s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),s.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan username",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(km,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),s.jsx("input",{type:o?"text":"password",value:a,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan password",required:!0}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-500 hover:text-white transition-colors",children:o?s.jsx(cz,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]})]}),d&&s.jsx(qt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/15 border border-red-500/30 rounded-lg text-red-300 text-sm text-center",children:d}),s.jsx(ve,{type:"submit",className:"w-full py-3",isLoading:c,children:"Masuk"})]})]}),s.jsx("p",{className:"text-center text-dark-500 text-xs mt-6",children:" 2025 NPK Production Management System"})]})]})};var wee=Array.isArray,ha=wee,kee=typeof _0=="object"&&_0&&_0.Object===Object&&_0,aI=kee,jee=aI,See=typeof self=="object"&&self&&self.Object===Object&&self,Nee=jee||See||Function("return this")(),$i=Nee,Tee=$i,Pee=Tee.Symbol,g0=Pee,h_=g0,iI=Object.prototype,_ee=iI.hasOwnProperty,Eee=iI.toString,Pd=h_?h_.toStringTag:void 0;function Aee(e){var t=_ee.call(e,Pd),r=e[Pd];try{e[Pd]=void 0;var n=!0}catch{}var a=Eee.call(e);return n&&(t?e[Pd]=r:delete e[Pd]),a}var Oee=Aee,Cee=Object.prototype,Dee=Cee.toString;function Mee(e){return Dee.call(e)}var Ree=Mee,p_=g0,Iee=Oee,Lee=Ree,Fee="[object Null]",Bee="[object Undefined]",m_=p_?p_.toStringTag:void 0;function $ee(e){return e==null?e===void 0?Bee:Fee:m_&&m_ in Object(e)?Iee(e):Lee(e)}var ks=$ee;function Uee(e){return e!=null&&typeof e=="object"}var js=Uee,Kee=ks,Vee=js,Hee="[object Symbol]";function zee(e){return typeof e=="symbol"||Vee(e)&&Kee(e)==Hee}var Qu=zee,Wee=ha,Gee=Qu,qee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yee=/^\w*$/;function Xee(e,t){if(Wee(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Gee(e)?!0:Yee.test(e)||!qee.test(e)||t!=null&&e in Object(t)}var gj=Xee;function Jee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ho=Jee;const ed=Lt(Ho);var Zee=ks,Qee=Ho,ete="[object AsyncFunction]",tte="[object Function]",rte="[object GeneratorFunction]",nte="[object Proxy]";function ate(e){if(!Qee(e))return!1;var t=Zee(e);return t==tte||t==rte||t==ete||t==nte}var xj=ate;const ht=Lt(xj);var ite=$i,ste=ite["__core-js_shared__"],ote=ste,Ty=ote,g_=function(){var e=/[^.]+$/.exec(Ty&&Ty.keys&&Ty.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lte(e){return!!g_&&g_ in e}var cte=lte,ute=Function.prototype,dte=ute.toString;function fte(e){if(e!=null){try{return dte.call(e)}catch{}try{return e+""}catch{}}return""}var sI=fte,hte=xj,pte=cte,mte=Ho,gte=sI,xte=/[\\^$.*+?()[\]{}|]/g,vte=/^\[object .+?Constructor\]$/,yte=Function.prototype,bte=Object.prototype,wte=yte.toString,kte=bte.hasOwnProperty,jte=RegExp("^"+wte.call(kte).replace(xte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ste(e){if(!mte(e)||pte(e))return!1;var t=hte(e)?jte:vte;return t.test(gte(e))}var Nte=Ste;function Tte(e,t){return e==null?void 0:e[t]}var Pte=Tte,_te=Nte,Ete=Pte;function Ate(e,t){var r=Ete(e,t);return _te(r)?r:void 0}var Ql=Ate,Ote=Ql,Cte=Ote(Object,"create"),Ox=Cte,x_=Ox;function Dte(){this.__data__=x_?x_(null):{},this.size=0}var Mte=Dte;function Rte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ite=Rte,Lte=Ox,Fte="__lodash_hash_undefined__",Bte=Object.prototype,$te=Bte.hasOwnProperty;function Ute(e){var t=this.__data__;if(Lte){var r=t[e];return r===Fte?void 0:r}return $te.call(t,e)?t[e]:void 0}var Kte=Ute,Vte=Ox,Hte=Object.prototype,zte=Hte.hasOwnProperty;function Wte(e){var t=this.__data__;return Vte?t[e]!==void 0:zte.call(t,e)}var Gte=Wte,qte=Ox,Yte="__lodash_hash_undefined__";function Xte(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=qte&&t===void 0?Yte:t,this}var Jte=Xte,Zte=Mte,Qte=Ite,ere=Kte,tre=Gte,rre=Jte;function td(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}td.prototype.clear=Zte;td.prototype.delete=Qte;td.prototype.get=ere;td.prototype.has=tre;td.prototype.set=rre;var nre=td;function are(){this.__data__=[],this.size=0}var ire=are;function sre(e,t){return e===t||e!==e&&t!==t}var vj=sre,ore=vj;function lre(e,t){for(var r=e.length;r--;)if(ore(e[r][0],t))return r;return-1}var Cx=lre,cre=Cx,ure=Array.prototype,dre=ure.splice;function fre(e){var t=this.__data__,r=cre(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():dre.call(t,r,1),--this.size,!0}var hre=fre,pre=Cx;function mre(e){var t=this.__data__,r=pre(t,e);return r<0?void 0:t[r][1]}var gre=mre,xre=Cx;function vre(e){return xre(this.__data__,e)>-1}var yre=vre,bre=Cx;function wre(e,t){var r=this.__data__,n=bre(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var kre=wre,jre=ire,Sre=hre,Nre=gre,Tre=yre,Pre=kre;function rd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rd.prototype.clear=jre;rd.prototype.delete=Sre;rd.prototype.get=Nre;rd.prototype.has=Tre;rd.prototype.set=Pre;var Dx=rd,_re=Ql,Ere=$i,Are=_re(Ere,"Map"),yj=Are,v_=nre,Ore=Dx,Cre=yj;function Dre(){this.size=0,this.__data__={hash:new v_,map:new(Cre||Ore),string:new v_}}var Mre=Dre;function Rre(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ire=Rre,Lre=Ire;function Fre(e,t){var r=e.__data__;return Lre(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Mx=Fre,Bre=Mx;function $re(e){var t=Bre(this,e).delete(e);return this.size-=t?1:0,t}var Ure=$re,Kre=Mx;function Vre(e){return Kre(this,e).get(e)}var Hre=Vre,zre=Mx;function Wre(e){return zre(this,e).has(e)}var Gre=Wre,qre=Mx;function Yre(e,t){var r=qre(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Xre=Yre,Jre=Mre,Zre=Ure,Qre=Hre,ene=Gre,tne=Xre;function nd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nd.prototype.clear=Jre;nd.prototype.delete=Zre;nd.prototype.get=Qre;nd.prototype.has=ene;nd.prototype.set=tne;var bj=nd,oI=bj,rne="Expected a function";function wj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rne);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(wj.Cache||oI),r}wj.Cache=oI;var lI=wj;const nne=Lt(lI);var ane=lI,ine=500;function sne(e){var t=ane(e,function(n){return r.size===ine&&r.clear(),n}),r=t.cache;return t}var one=sne,lne=one,cne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,une=/\\(\\)?/g,dne=lne(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cne,function(r,n,a,i){t.push(a?i.replace(une,"$1"):n||r)}),t}),fne=dne;function hne(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var kj=hne,y_=g0,pne=kj,mne=ha,gne=Qu,b_=y_?y_.prototype:void 0,w_=b_?b_.toString:void 0;function cI(e){if(typeof e=="string")return e;if(mne(e))return pne(e,cI)+"";if(gne(e))return w_?w_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xne=cI,vne=xne;function yne(e){return e==null?"":vne(e)}var uI=yne,bne=ha,wne=gj,kne=fne,jne=uI;function Sne(e,t){return bne(e)?e:wne(e,t)?[e]:kne(jne(e))}var dI=Sne,Nne=Qu;function Tne(e){if(typeof e=="string"||Nne(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rx=Tne,Pne=dI,_ne=Rx;function Ene(e,t){t=Pne(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_ne(t[r++])];return r&&r==n?e:void 0}var jj=Ene,Ane=jj;function One(e,t,r){var n=e==null?void 0:Ane(e,t);return n===void 0?r:n}var fI=One;const Ta=Lt(fI);function Cne(e){return e==null}var Dne=Cne;const mt=Lt(Dne);var Mne=ks,Rne=ha,Ine=js,Lne="[object String]";function Fne(e){return typeof e=="string"||!Rne(e)&&Ine(e)&&Mne(e)==Lne}var Bne=Fne;const Fl=Lt(Bne);var hI={exports:{}},Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj=Symbol.for("react.element"),Nj=Symbol.for("react.portal"),Ix=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Fx=Symbol.for("react.profiler"),Bx=Symbol.for("react.provider"),$x=Symbol.for("react.context"),$ne=Symbol.for("react.server_context"),Ux=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Vx=Symbol.for("react.suspense_list"),Hx=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),Une=Symbol.for("react.offscreen"),pI;pI=Symbol.for("react.module.reference");function Ja(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sj:switch(e=e.type,e){case Ix:case Fx:case Lx:case Kx:case Vx:return e;default:switch(e=e&&e.$$typeof,e){case $ne:case $x:case Ux:case zx:case Hx:case Bx:return e;default:return t}}case Nj:return t}}}Ht.ContextConsumer=$x;Ht.ContextProvider=Bx;Ht.Element=Sj;Ht.ForwardRef=Ux;Ht.Fragment=Ix;Ht.Lazy=zx;Ht.Memo=Hx;Ht.Portal=Nj;Ht.Profiler=Fx;Ht.StrictMode=Lx;Ht.Suspense=Kx;Ht.SuspenseList=Vx;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(e){return Ja(e)===$x};Ht.isContextProvider=function(e){return Ja(e)===Bx};Ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sj};Ht.isForwardRef=function(e){return Ja(e)===Ux};Ht.isFragment=function(e){return Ja(e)===Ix};Ht.isLazy=function(e){return Ja(e)===zx};Ht.isMemo=function(e){return Ja(e)===Hx};Ht.isPortal=function(e){return Ja(e)===Nj};Ht.isProfiler=function(e){return Ja(e)===Fx};Ht.isStrictMode=function(e){return Ja(e)===Lx};Ht.isSuspense=function(e){return Ja(e)===Kx};Ht.isSuspenseList=function(e){return Ja(e)===Vx};Ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ix||e===Fx||e===Lx||e===Kx||e===Vx||e===Une||typeof e=="object"&&e!==null&&(e.$$typeof===zx||e.$$typeof===Hx||e.$$typeof===Bx||e.$$typeof===$x||e.$$typeof===Ux||e.$$typeof===pI||e.getModuleId!==void 0)};Ht.typeOf=Ja;hI.exports=Ht;var Kne=hI.exports,Vne=ks,Hne=js,zne="[object Number]";function Wne(e){return typeof e=="number"||Hne(e)&&Vne(e)==zne}var mI=Wne;const Gne=Lt(mI);var qne=mI;function Yne(e){return qne(e)&&e!=+e}var Xne=Yne;const x0=Lt(Xne);var Gn=function(t){return t===0?0:t>0?1:-1},xl=function(t){return Fl(t)&&t.indexOf("%")===t.length-1},He=function(t){return Gne(t)&&!x0(t)},Jne=function(t){return mt(t)},qr=function(t){return He(t)||Fl(t)},Zne=0,ad=function(t){var r=++Zne;return"".concat(t||"").concat(r)},qn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!Fl(t))return n;var i;if(xl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return x0(i)&&(i=n),a&&i>r&&(i=r),i},so=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Qne=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ka=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vm(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ta(n,t))===r})}var eae=function(t,r){return He(t)&&He(r)?t-r:Fl(t)&&Fl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function eu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}var tae=["viewBox","children"],rae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k_=["points","pathLength"],Py={svg:tae,polygon:k_,polyline:k_},Tj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!ed(n))return null;var a={};return Object.keys(n).forEach(function(i){Tj.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},nae=function(t,r,n){return function(a){return t(r,n,a),null}},Bl=function(t,r,n){if(!ed(t)||Bb(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Tj.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=nae(o,r,n))}),a},aae=["children"],iae=["children"];function j_(e,t){if(e==null)return{};var r=sae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}var S_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ss=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},N_=null,_y=null,Pj=function e(t){if(t===N_&&Array.isArray(_y))return _y;var r=[];return j.Children.forEach(t,function(n){mt(n)||(Kne.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),_y=r,N_=t,r};function Pa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ss(a)}):n=[ss(t)],Pj(e).forEach(function(a){var i=Ta(a,"type.displayName")||Ta(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function va(e,t){var r=Pa(e,t);return r&&r[0]}var T_=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!He(n)||n<=0||!He(a)||a<=0)},oae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lae=function(t){return t&&t.type&&Fl(t.type)&&oae.indexOf(t.type)>=0},cae=function(t){return t&&$b(t)==="object"&&"clipDot"in t},uae=function(t,r,n,a){var i,o=(i=Py==null?void 0:Py[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ht(t)&&(a&&o.includes(r)||rae.includes(r))||n&&Tj.includes(r)},ot=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!ed(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;uae((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Ub=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return P_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!P_(i,o))return!1}return!0},P_=function(t,r){if(mt(t)&&mt(r))return!0;if(!mt(t)&&!mt(r)){var n=t.props||{},a=n.children,i=j_(n,aae),o=r.props||{},l=o.children,c=j_(o,iae);return a&&l?eu(i,c)&&Ub(a,l):!a&&!l?eu(i,c):!1}return!1},__=function(t,r){var n=[],a={};return Pj(t).forEach(function(i,o){if(lae(i))n.push(i);else if(i){var l=ss(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},dae=function(t){var r=t&&t.type;return r&&S_[r]?S_[r]:null},fae=function(t,r){return Pj(r).indexOf(t)},hae=["children","width","height","viewBox","className","style","title","desc"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(this,arguments)}function pae(e,t){if(e==null)return{};var r=mae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vb(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=pae(e,hae),d=a||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",i);return fe.createElement("svg",Kb({},ot(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),fe.createElement("title",null,l),fe.createElement("desc",null,c),t)}var gae=["children","className"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(this,arguments)}function xae(e,t){if(e==null)return{};var r=vae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ct=fe.forwardRef(function(e,t){var r=e.children,n=e.className,a=xae(e,gae),i=gt("recharts-layer",n);return fe.createElement("g",Hb({className:i},ot(a,!0),{ref:t}),r)}),vi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function yae(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var bae=yae,wae=bae;function kae(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wae(e,t,r)}var jae=kae,Sae="\\ud800-\\udfff",Nae="\\u0300-\\u036f",Tae="\\ufe20-\\ufe2f",Pae="\\u20d0-\\u20ff",_ae=Nae+Tae+Pae,Eae="\\ufe0e\\ufe0f",Aae="\\u200d",Oae=RegExp("["+Aae+Sae+_ae+Eae+"]");function Cae(e){return Oae.test(e)}var gI=Cae;function Dae(e){return e.split("")}var Mae=Dae,xI="\\ud800-\\udfff",Rae="\\u0300-\\u036f",Iae="\\ufe20-\\ufe2f",Lae="\\u20d0-\\u20ff",Fae=Rae+Iae+Lae,Bae="\\ufe0e\\ufe0f",$ae="["+xI+"]",zb="["+Fae+"]",Wb="\\ud83c[\\udffb-\\udfff]",Uae="(?:"+zb+"|"+Wb+")",vI="[^"+xI+"]",yI="(?:\\ud83c[\\udde6-\\uddff]){2}",bI="[\\ud800-\\udbff][\\udc00-\\udfff]",Kae="\\u200d",wI=Uae+"?",kI="["+Bae+"]?",Vae="(?:"+Kae+"(?:"+[vI,yI,bI].join("|")+")"+kI+wI+")*",Hae=kI+wI+Vae,zae="(?:"+[vI+zb+"?",zb,yI,bI,$ae].join("|")+")",Wae=RegExp(Wb+"(?="+Wb+")|"+zae+Hae,"g");function Gae(e){return e.match(Wae)||[]}var qae=Gae,Yae=Mae,Xae=gI,Jae=qae;function Zae(e){return Xae(e)?Jae(e):Yae(e)}var Qae=Zae,eie=jae,tie=gI,rie=Qae,nie=uI;function aie(e){return function(t){t=nie(t);var r=tie(t)?rie(t):void 0,n=r?r[0]:t.charAt(0),a=r?eie(r,1).join(""):t.slice(1);return n[e]()+a}}var iie=aie,sie=iie,oie=sie("toUpperCase"),lie=oie;const Wx=Lt(lie);function Jt(e){return function(){return e}}const jI=Math.cos,zm=Math.sin,ki=Math.sqrt,Wm=Math.PI,Gx=2*Wm,Gb=Math.PI,qb=2*Gb,sl=1e-6,cie=qb-sl;function SI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SI;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class die{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SI:uie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>sl)if(!(Math.abs(f*c-u*d)>sl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-l,m=c*c+u*u,x=p*p+g*g,b=Math.sqrt(m),y=Math.sqrt(h),v=i*Math.tan((Gb-Math.acos((m+h-x)/(2*b*y)))/2),w=v/y,k=v/b;Math.abs(w-1)>sl&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>sl||Math.abs(this._y1-d)>sl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%qb+qb),h>cie?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>sl&&this._append`A${n},${n},0,${+(h>=Gb)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _j(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new die(t)}function Ej(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NI(e){this._context=e}NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qx(e){return new NI(e)}function TI(e){return e[0]}function PI(e){return e[1]}function _I(e,t){var r=Jt(!0),n=null,a=qx,i=null,o=_j(l);e=typeof e=="function"?e:e===void 0?TI:Jt(e),t=typeof t=="function"?t:t===void 0?PI:Jt(t);function l(c){var u,d=(c=Ej(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Jt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Jt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Jt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function lp(e,t,r){var n=null,a=Jt(!0),i=null,o=qx,l=null,c=_j(u);e=typeof e=="function"?e:e===void 0?TI:Jt(+e),t=typeof t=="function"?t:Jt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PI:Jt(+r);function u(f){var h,p,g,m=(f=Ej(f)).length,x,b=!1,y,v=new Array(m),w=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(v[g],w[g]);l.lineEnd(),l.areaEnd()}b&&(v[h]=+e(x,h,f),w[h]=+t(x,h,f),l.point(n?+n(x,h,f):v[h],r?+r(x,h,f):w[h]))}if(y)return l=null,y+""||null}function d(){return _I().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Jt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Jt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Jt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Jt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Jt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Jt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class EI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fie(e){return new EI(e,!0)}function hie(e){return new EI(e,!1)}const Aj={draw(e,t){const r=ki(t/Wm);e.moveTo(r,0),e.arc(0,0,r,0,Gx)}},pie={draw(e,t){const r=ki(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AI=ki(1/3),mie=AI*2,gie={draw(e,t){const r=ki(t/mie),n=r*AI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xie={draw(e,t){const r=ki(t),n=-r/2;e.rect(n,n,r,r)}},vie=.8908130915292852,OI=zm(Wm/10)/zm(7*Wm/10),yie=zm(Gx/10)*OI,bie=-jI(Gx/10)*OI,wie={draw(e,t){const r=ki(t*vie),n=yie*r,a=bie*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Gx*i/5,l=jI(o),c=zm(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Ey=ki(3),kie={draw(e,t){const r=-ki(t/(Ey*3));e.moveTo(0,r*2),e.lineTo(-Ey*r,-r),e.lineTo(Ey*r,-r),e.closePath()}},Ma=-.5,Ra=ki(3)/2,Yb=1/ki(12),jie=(Yb/2+1)*3,Sie={draw(e,t){const r=ki(t/jie),n=r/2,a=r*Yb,i=n,o=r*Yb+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ma*n-Ra*a,Ra*n+Ma*a),e.lineTo(Ma*i-Ra*o,Ra*i+Ma*o),e.lineTo(Ma*l-Ra*c,Ra*l+Ma*c),e.lineTo(Ma*n+Ra*a,Ma*a-Ra*n),e.lineTo(Ma*i+Ra*o,Ma*o-Ra*i),e.lineTo(Ma*l+Ra*c,Ma*c-Ra*l),e.closePath()}};function Nie(e,t){let r=null,n=_j(a);e=typeof e=="function"?e:Jt(e||Aj),t=typeof t=="function"?t:Jt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Jt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Jt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Gm(){}function qm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CI(e){this._context=e}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tie(e){return new CI(e)}function DI(e){this._context=e}DI.prototype={areaStart:Gm,areaEnd:Gm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pie(e){return new DI(e)}function MI(e){this._context=e}MI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _ie(e){return new MI(e)}function RI(e){this._context=e}RI.prototype={areaStart:Gm,areaEnd:Gm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Eie(e){return new RI(e)}function E_(e){return e<0?-1:1}function A_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(E_(i)+E_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function O_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ay(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Ym(e){this._context=e}Ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ay(this,this._t0,O_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ay(this,O_(this,r=A_(this,e,t)),r);break;default:Ay(this,this._t0,r=A_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function II(e){this._context=new LI(e)}(II.prototype=Object.create(Ym.prototype)).point=function(e,t){Ym.prototype.point.call(this,t,e)};function LI(e){this._context=e}LI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Aie(e){return new Ym(e)}function Oie(e){return new II(e)}function FI(e){this._context=e}FI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=C_(e),a=C_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Cie(e){return new FI(e)}function Yx(e,t){this._context=e,this._t=t}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Die(e){return new Yx(e,.5)}function Mie(e){return new Yx(e,0)}function Rie(e){return new Yx(e,1)}function gu(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Xb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Iie(e,t){return e[t]}function Lie(e){const t=[];return t.key=e,t}function Fie(){var e=Jt([]),t=Xb,r=gu,n=Iie;function a(i){var o=Array.from(e.apply(this,arguments),Lie),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Ej(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Jt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Jt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Xb:typeof i=="function"?i:Jt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??gu,a):r},a}function Bie(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}gu(e,t)}}function $ie(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}gu(e,t)}}function Uie(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],x=m[n][1]||0,b=m[n-1][1]||0;p+=x-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,gu(e,t)}}function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}var Kie=["type","size","sizeType"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(this,arguments)}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){Vie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vie(e,t,r){return t=Hie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hie(e){var t=zie(e,"string");return vh(t)=="symbol"?t:t+""}function zie(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wie(e,t){if(e==null)return{};var r=Gie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BI={symbolCircle:Aj,symbolCross:pie,symbolDiamond:gie,symbolSquare:xie,symbolStar:wie,symbolTriangle:kie,symbolWye:Sie},qie=Math.PI/180,Yie=function(t){var r="symbol".concat(Wx(t));return BI[r]||Aj},Xie=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*qie;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jie=function(t,r){BI["symbol".concat(Wx(t))]=r},Oj=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Wie(t,Kie),u=M_(M_({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Yie(n),b=Nie().type(x).size(Xie(i,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=ot(u,!0);return h===+h&&p===+p&&i===+i?fe.createElement("path",Jb({},g,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Oj.registerSymbol=Jie;function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(this,arguments)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ese(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UI(n.key),n)}}function tse(e,t,r){return t&&ese(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rse(e,t,r){return t=Xm(t),nse(e,$I()?Reflect.construct(t,r||[],Xm(e).constructor):t.apply(e,r))}function nse(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(e)}function ase(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!e})()}function Xm(e){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(e)}function ise(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qb(e,t)}function Qb(e,t){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qb(e,t)}function yh(e,t,r){return t=UI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UI(e){var t=sse(e,"string");return xu(t)=="symbol"?t:t+""}function sse(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ia=32,Cj=function(e){function t(){return Qie(this,t),rse(this,t,arguments)}return ise(t,e),tse(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ia/2,o=Ia/6,l=Ia/3,c=n.inactive?a:n.color;if(n.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ia,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ia,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return fe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ia/8,"h").concat(Ia,"v").concat(Ia*3/4,"h").concat(-Ia,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(n.legendIcon)){var u=Zie({},n);return delete u.legendIcon,fe.cloneElement(n.legendIcon,u)}return fe.createElement(Oj,{fill:c,cx:i,cy:i,size:Ia,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ia,height:Ia},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,x=gt(yh(yh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ht(p.value)?null:p.value;vi(!ht(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return fe.createElement("li",Zb({className:x,style:f,key:"legend-item-".concat(g)},Bl(n.props,p,g)),fe.createElement(Vb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);yh(Cj,"displayName","Legend");yh(Cj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ose=Dx;function lse(){this.__data__=new ose,this.size=0}var cse=lse;function use(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dse=use;function fse(e){return this.__data__.get(e)}var hse=fse;function pse(e){return this.__data__.has(e)}var mse=pse,gse=Dx,xse=yj,vse=bj,yse=200;function bse(e,t){var r=this.__data__;if(r instanceof gse){var n=r.__data__;if(!xse||n.length<yse-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new vse(n)}return r.set(e,t),this.size=r.size,this}var wse=bse,kse=Dx,jse=cse,Sse=dse,Nse=hse,Tse=mse,Pse=wse;function id(e){var t=this.__data__=new kse(e);this.size=t.size}id.prototype.clear=jse;id.prototype.delete=Sse;id.prototype.get=Nse;id.prototype.has=Tse;id.prototype.set=Pse;var KI=id,_se="__lodash_hash_undefined__";function Ese(e){return this.__data__.set(e,_se),this}var Ase=Ese;function Ose(e){return this.__data__.has(e)}var Cse=Ose,Dse=bj,Mse=Ase,Rse=Cse;function Jm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Dse;++t<r;)this.add(e[t])}Jm.prototype.add=Jm.prototype.push=Mse;Jm.prototype.has=Rse;var VI=Jm;function Ise(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var HI=Ise;function Lse(e,t){return e.has(t)}var zI=Lse,Fse=VI,Bse=HI,$se=zI,Use=1,Kse=2;function Vse(e,t,r,n,a,i){var o=r&Use,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Kse?new Fse:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var x=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Bse(t,function(b,y){if(!$se(p,y)&&(g===b||a(g,b,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var WI=Vse,Hse=$i,zse=Hse.Uint8Array,Wse=zse;function Gse(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var qse=Gse;function Yse(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Dj=Yse,I_=g0,L_=Wse,Xse=vj,Jse=WI,Zse=qse,Qse=Dj,eoe=1,toe=2,roe="[object Boolean]",noe="[object Date]",aoe="[object Error]",ioe="[object Map]",soe="[object Number]",ooe="[object RegExp]",loe="[object Set]",coe="[object String]",uoe="[object Symbol]",doe="[object ArrayBuffer]",foe="[object DataView]",F_=I_?I_.prototype:void 0,Oy=F_?F_.valueOf:void 0;function hoe(e,t,r,n,a,i,o){switch(r){case foe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case doe:return!(e.byteLength!=t.byteLength||!i(new L_(e),new L_(t)));case roe:case noe:case soe:return Xse(+e,+t);case aoe:return e.name==t.name&&e.message==t.message;case ooe:case coe:return e==t+"";case ioe:var l=Zse;case loe:var c=n&eoe;if(l||(l=Qse),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=toe,o.set(e,t);var d=Jse(l(e),l(t),n,a,i,o);return o.delete(e),d;case uoe:if(Oy)return Oy.call(e)==Oy.call(t)}return!1}var poe=hoe;function moe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var GI=moe,goe=GI,xoe=ha;function voe(e,t,r){var n=t(e);return xoe(e)?n:goe(n,r(e))}var yoe=voe;function boe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var woe=boe;function koe(){return[]}var joe=koe,Soe=woe,Noe=joe,Toe=Object.prototype,Poe=Toe.propertyIsEnumerable,B_=Object.getOwnPropertySymbols,_oe=B_?function(e){return e==null?[]:(e=Object(e),Soe(B_(e),function(t){return Poe.call(e,t)}))}:Noe,Eoe=_oe;function Aoe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ooe=Aoe,Coe=ks,Doe=js,Moe="[object Arguments]";function Roe(e){return Doe(e)&&Coe(e)==Moe}var Ioe=Roe,$_=Ioe,Loe=js,qI=Object.prototype,Foe=qI.hasOwnProperty,Boe=qI.propertyIsEnumerable,$oe=$_(function(){return arguments}())?$_:function(e){return Loe(e)&&Foe.call(e,"callee")&&!Boe.call(e,"callee")},Mj=$oe,Zm={exports:{}};function Uoe(){return!1}var Koe=Uoe;Zm.exports;(function(e,t){var r=$i,n=Koe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Zm,Zm.exports);var YI=Zm.exports,Voe=9007199254740991,Hoe=/^(?:0|[1-9]\d*)$/;function zoe(e,t){var r=typeof e;return t=t??Voe,!!t&&(r=="number"||r!="symbol"&&Hoe.test(e))&&e>-1&&e%1==0&&e<t}var Rj=zoe,Woe=9007199254740991;function Goe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Woe}var Ij=Goe,qoe=ks,Yoe=Ij,Xoe=js,Joe="[object Arguments]",Zoe="[object Array]",Qoe="[object Boolean]",ele="[object Date]",tle="[object Error]",rle="[object Function]",nle="[object Map]",ale="[object Number]",ile="[object Object]",sle="[object RegExp]",ole="[object Set]",lle="[object String]",cle="[object WeakMap]",ule="[object ArrayBuffer]",dle="[object DataView]",fle="[object Float32Array]",hle="[object Float64Array]",ple="[object Int8Array]",mle="[object Int16Array]",gle="[object Int32Array]",xle="[object Uint8Array]",vle="[object Uint8ClampedArray]",yle="[object Uint16Array]",ble="[object Uint32Array]",nr={};nr[fle]=nr[hle]=nr[ple]=nr[mle]=nr[gle]=nr[xle]=nr[vle]=nr[yle]=nr[ble]=!0;nr[Joe]=nr[Zoe]=nr[ule]=nr[Qoe]=nr[dle]=nr[ele]=nr[tle]=nr[rle]=nr[nle]=nr[ale]=nr[ile]=nr[sle]=nr[ole]=nr[lle]=nr[cle]=!1;function wle(e){return Xoe(e)&&Yoe(e.length)&&!!nr[qoe(e)]}var kle=wle;function jle(e){return function(t){return e(t)}}var XI=jle,Qm={exports:{}};Qm.exports;(function(e,t){var r=aI,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Qm,Qm.exports);var Sle=Qm.exports,Nle=kle,Tle=XI,U_=Sle,K_=U_&&U_.isTypedArray,Ple=K_?Tle(K_):Nle,JI=Ple,_le=Ooe,Ele=Mj,Ale=ha,Ole=YI,Cle=Rj,Dle=JI,Mle=Object.prototype,Rle=Mle.hasOwnProperty;function Ile(e,t){var r=Ale(e),n=!r&&Ele(e),a=!r&&!n&&Ole(e),i=!r&&!n&&!a&&Dle(e),o=r||n||a||i,l=o?_le(e.length,String):[],c=l.length;for(var u in e)(t||Rle.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cle(u,c)))&&l.push(u);return l}var Lle=Ile,Fle=Object.prototype;function Ble(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Fle;return e===r}var $le=Ble;function Ule(e,t){return function(r){return e(t(r))}}var ZI=Ule,Kle=ZI,Vle=Kle(Object.keys,Object),Hle=Vle,zle=$le,Wle=Hle,Gle=Object.prototype,qle=Gle.hasOwnProperty;function Yle(e){if(!zle(e))return Wle(e);var t=[];for(var r in Object(e))qle.call(e,r)&&r!="constructor"&&t.push(r);return t}var Xle=Yle,Jle=xj,Zle=Ij;function Qle(e){return e!=null&&Zle(e.length)&&!Jle(e)}var v0=Qle,ece=Lle,tce=Xle,rce=v0;function nce(e){return rce(e)?ece(e):tce(e)}var Xx=nce,ace=yoe,ice=Eoe,sce=Xx;function oce(e){return ace(e,sce,ice)}var lce=oce,V_=lce,cce=1,uce=Object.prototype,dce=uce.hasOwnProperty;function fce(e,t,r,n,a,i){var o=r&cce,l=V_(e),c=l.length,u=V_(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:dce.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var v=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(v===void 0?b===y||a(b,y,r,n,i):v)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var w=e.constructor,k=t.constructor;w!=k&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof k=="function"&&k instanceof k)&&(m=!1)}return i.delete(e),i.delete(t),m}var hce=fce,pce=Ql,mce=$i,gce=pce(mce,"DataView"),xce=gce,vce=Ql,yce=$i,bce=vce(yce,"Promise"),wce=bce,kce=Ql,jce=$i,Sce=kce(jce,"Set"),QI=Sce,Nce=Ql,Tce=$i,Pce=Nce(Tce,"WeakMap"),_ce=Pce,ew=xce,tw=yj,rw=wce,nw=QI,aw=_ce,e6=ks,sd=sI,H_="[object Map]",Ece="[object Object]",z_="[object Promise]",W_="[object Set]",G_="[object WeakMap]",q_="[object DataView]",Ace=sd(ew),Oce=sd(tw),Cce=sd(rw),Dce=sd(nw),Mce=sd(aw),ol=e6;(ew&&ol(new ew(new ArrayBuffer(1)))!=q_||tw&&ol(new tw)!=H_||rw&&ol(rw.resolve())!=z_||nw&&ol(new nw)!=W_||aw&&ol(new aw)!=G_)&&(ol=function(e){var t=e6(e),r=t==Ece?e.constructor:void 0,n=r?sd(r):"";if(n)switch(n){case Ace:return q_;case Oce:return H_;case Cce:return z_;case Dce:return W_;case Mce:return G_}return t});var Rce=ol,Cy=KI,Ice=WI,Lce=poe,Fce=hce,Y_=Rce,X_=ha,J_=YI,Bce=JI,$ce=1,Z_="[object Arguments]",Q_="[object Array]",cp="[object Object]",Uce=Object.prototype,eE=Uce.hasOwnProperty;function Kce(e,t,r,n,a,i){var o=X_(e),l=X_(t),c=o?Q_:Y_(e),u=l?Q_:Y_(t);c=c==Z_?cp:c,u=u==Z_?cp:u;var d=c==cp,f=u==cp,h=c==u;if(h&&J_(e)){if(!J_(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Cy),o||Bce(e)?Ice(e,t,r,n,a,i):Lce(e,t,c,r,n,a,i);if(!(r&$ce)){var p=d&&eE.call(e,"__wrapped__"),g=f&&eE.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,x=g?t.value():t;return i||(i=new Cy),a(m,x,r,n,i)}}return h?(i||(i=new Cy),Fce(e,t,r,n,a,i)):!1}var Vce=Kce,Hce=Vce,tE=js;function t6(e,t,r,n,a){return e===t?!0:e==null||t==null||!tE(e)&&!tE(t)?e!==e&&t!==t:Hce(e,t,r,n,t6,a)}var Lj=t6,zce=KI,Wce=Lj,Gce=1,qce=2;function Yce(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new zce;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Wce(d,u,Gce|qce,n,f):h))return!1}}return!0}var Xce=Yce,Jce=Ho;function Zce(e){return e===e&&!Jce(e)}var r6=Zce,Qce=r6,eue=Xx;function tue(e){for(var t=eue(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Qce(a)]}return t}var rue=tue;function nue(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var n6=nue,aue=Xce,iue=rue,sue=n6;function oue(e){var t=iue(e);return t.length==1&&t[0][2]?sue(t[0][0],t[0][1]):function(r){return r===e||aue(r,e,t)}}var lue=oue;function cue(e,t){return e!=null&&t in Object(e)}var uue=cue,due=dI,fue=Mj,hue=ha,pue=Rj,mue=Ij,gue=Rx;function xue(e,t,r){t=due(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=gue(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&mue(a)&&pue(o,a)&&(hue(e)||fue(e)))}var vue=xue,yue=uue,bue=vue;function wue(e,t){return e!=null&&bue(e,t,yue)}var kue=wue,jue=Lj,Sue=fI,Nue=kue,Tue=gj,Pue=r6,_ue=n6,Eue=Rx,Aue=1,Oue=2;function Cue(e,t){return Tue(e)&&Pue(t)?_ue(Eue(e),t):function(r){var n=Sue(r,e);return n===void 0&&n===t?Nue(r,e):jue(t,n,Aue|Oue)}}var Due=Cue;function Mue(e){return e}var od=Mue;function Rue(e){return function(t){return t==null?void 0:t[e]}}var Iue=Rue,Lue=jj;function Fue(e){return function(t){return Lue(t,e)}}var Bue=Fue,$ue=Iue,Uue=Bue,Kue=gj,Vue=Rx;function Hue(e){return Kue(e)?$ue(Vue(e)):Uue(e)}var zue=Hue,Wue=lue,Gue=Due,que=od,Yue=ha,Xue=zue;function Jue(e){return typeof e=="function"?e:e==null?que:typeof e=="object"?Yue(e)?Gue(e[0],e[1]):Wue(e):Xue(e)}var Ui=Jue;function Zue(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var a6=Zue;function Que(e){return e!==e}var ede=Que;function tde(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var rde=tde,nde=a6,ade=ede,ide=rde;function sde(e,t,r){return t===t?ide(e,t,r):nde(e,ade,r)}var ode=sde,lde=ode;function cde(e,t){var r=e==null?0:e.length;return!!r&&lde(e,t,0)>-1}var ude=cde;function dde(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var fde=dde;function hde(){}var pde=hde,Dy=QI,mde=pde,gde=Dj,xde=1/0,vde=Dy&&1/gde(new Dy([,-0]))[1]==xde?function(e){return new Dy(e)}:mde,yde=vde,bde=VI,wde=ude,kde=fde,jde=zI,Sde=yde,Nde=Dj,Tde=200;function Pde(e,t,r){var n=-1,a=wde,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=kde;else if(i>=Tde){var u=t?null:Sde(e);if(u)return Nde(u);o=!1,a=jde,c=new bde}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var _de=Pde,Ede=Ui,Ade=_de;function Ode(e,t){return e&&e.length?Ade(e,Ede(t)):[]}var Cde=Ode;const rE=Lt(Cde);function i6(e,t,r){return t===!0?rE(e,r):ht(t)?rE(e,t):e}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var Dde=["ref"];function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){Jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o6(n.key),n)}}function Rde(e,t,r){return t&&aE(e.prototype,t),r&&aE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ide(e,t,r){return t=eg(t),Lde(e,s6()?Reflect.construct(t,r||[],eg(e).constructor):t.apply(e,r))}function Lde(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(e)}function Fde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(e)}function Bde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iw(e,t)}function Jx(e,t,r){return t=o6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o6(e){var t=$de(e,"string");return vu(t)=="symbol"?t:t+""}function $de(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ude(e,t){if(e==null)return{};var r=Kde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vde(e){return e.value}function Hde(e,t){if(fe.isValidElement(e))return fe.cloneElement(e,t);if(typeof e=="function")return fe.createElement(e,t);t.ref;var r=Ude(t,Dde);return fe.createElement(Cj,r)}var iE=1,_i=function(e){function t(){var r;Mde(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ide(this,t,[].concat(a)),Jx(r,"lastBoundingBox",{width:-1,height:-1}),r}return Bde(t,e),Rde(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>iE||Math.abs(a.height-this.lastBoundingBox.height)>iE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Vi(Vi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Vi(Vi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return fe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Hde(i,Vi(Vi({},this.props),{},{payload:i6(d,u,Vde)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Vi(Vi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&He(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);Jx(_i,"displayName","Legend");Jx(_i,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sE=g0,zde=Mj,Wde=ha,oE=sE?sE.isConcatSpreadable:void 0;function Gde(e){return Wde(e)||zde(e)||!!(oE&&e&&e[oE])}var qde=Gde,Yde=GI,Xde=qde;function l6(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Xde),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?l6(l,t-1,r,n,a):Yde(a,l):n||(a[a.length]=l)}return a}var c6=l6;function Jde(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Zde=Jde,Qde=Zde,efe=Qde(),tfe=efe,rfe=tfe,nfe=Xx;function afe(e,t){return e&&rfe(e,t,nfe)}var u6=afe,ife=v0;function sfe(e,t){return function(r,n){if(r==null)return r;if(!ife(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var ofe=sfe,lfe=u6,cfe=ofe,ufe=cfe(lfe),Fj=ufe,dfe=Fj,ffe=v0;function hfe(e,t){var r=-1,n=ffe(e)?Array(e.length):[];return dfe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var d6=hfe;function pfe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mfe=pfe,lE=Qu;function gfe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=lE(e),o=t!==void 0,l=t===null,c=t===t,u=lE(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var xfe=gfe,vfe=xfe;function yfe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=vfe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bfe=yfe,My=kj,wfe=jj,kfe=Ui,jfe=d6,Sfe=mfe,Nfe=XI,Tfe=bfe,Pfe=od,_fe=ha;function Efe(e,t,r){t.length?t=My(t,function(i){return _fe(i)?function(o){return wfe(o,i.length===1?i[0]:i)}:i}):t=[Pfe];var n=-1;t=My(t,Nfe(kfe));var a=jfe(e,function(i,o,l){var c=My(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Sfe(a,function(i,o){return Tfe(i,o,r)})}var Afe=Efe;function Ofe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Cfe=Ofe,Dfe=Cfe,cE=Math.max;function Mfe(e,t,r){return t=cE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=cE(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Dfe(e,this,l)}}var Rfe=Mfe;function Ife(e){return function(){return e}}var Lfe=Ife,Ffe=Ql,Bfe=function(){try{var e=Ffe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),f6=Bfe,$fe=Lfe,uE=f6,Ufe=od,Kfe=uE?function(e,t){return uE(e,"toString",{configurable:!0,enumerable:!1,value:$fe(t),writable:!0})}:Ufe,Vfe=Kfe,Hfe=800,zfe=16,Wfe=Date.now;function Gfe(e){var t=0,r=0;return function(){var n=Wfe(),a=zfe-(n-r);if(r=n,a>0){if(++t>=Hfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qfe=Gfe,Yfe=Vfe,Xfe=qfe,Jfe=Xfe(Yfe),Zfe=Jfe,Qfe=od,ehe=Rfe,the=Zfe;function rhe(e,t){return the(ehe(e,t,Qfe),e+"")}var nhe=rhe,ahe=vj,ihe=v0,she=Rj,ohe=Ho;function lhe(e,t,r){if(!ohe(r))return!1;var n=typeof t;return(n=="number"?ihe(r)&&she(t,r.length):n=="string"&&t in r)?ahe(r[t],e):!1}var Zx=lhe,che=c6,uhe=Afe,dhe=nhe,dE=Zx,fhe=dhe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&dE(e,t[0],t[1])?t=[]:r>2&&dE(t[0],t[1],t[2])&&(t=[t[0]]),uhe(e,che(t,1),[])}),hhe=fhe;const Bj=Lt(hhe);function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function phe(e,t){return vhe(e)||xhe(e,t)||ghe(e,t)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(e,t){if(e){if(typeof e=="string")return fE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(e,t)}}function fE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vhe(e){if(Array.isArray(e))return e}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){yhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yhe(e,t,r){return t=bhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=whe(e,"string");return bh(t)=="symbol"?t:t+""}function whe(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function khe(e){return Array.isArray(e)&&qr(e[0])&&qr(e[1])?e.join(" ~ "):e}var jhe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,v=function(){if(d&&d.length){var E={padding:0,margin:0},C=(h?Bj(d,h):d).map(function(z,Q){if(z.type==="none")return null;var W=Ry({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),q=z.formatter||f||khe,re=z.value,G=z.name,de=re,ce=G;if(q&&de!=null&&ce!=null){var U=q(re,G,z,Q,d);if(Array.isArray(U)){var L=phe(U,2);de=L[0],ce=L[1]}else de=U}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:W},qr(ce)?fe.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,qr(ce)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},de),fe.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:E},C)}return null},w=Ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=Ry({margin:0},u),N=!mt(m),S=N?m:"",T=gt("recharts-default-tooltip",p),P=gt("recharts-tooltip-label",g);N&&x&&d!==void 0&&d!==null&&(S=x(m,d));var _=y?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",sw({className:T,style:w},_),fe.createElement("p",{className:P,style:k},fe.isValidElement(S)?S:"".concat(S)),v())};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function up(e,t,r){return t=She(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e){var t=Nhe(e,"string");return wh(t)=="symbol"?t:t+""}function Nhe(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _d="recharts-tooltip-wrapper",The={visibility:"hidden"};function Phe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return gt(_d,up(up(up(up({},"".concat(_d,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(_d,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(_d,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(_d,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function pE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&He(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function _he(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ehe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=pE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=pE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_he({translateX:d,translateY:f,useTranslate3d:l})):u=The,{cssProperties:u,cssClasses:Phe({translateX:d,translateY:f,coordinate:r})}}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ahe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ohe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p6(n.key),n)}}function Che(e,t,r){return t&&Ohe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dhe(e,t,r){return t=tg(t),Mhe(e,h6()?Reflect.construct(t,r||[],tg(e).constructor):t.apply(e,r))}function Mhe(e,t){if(t&&(yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rhe(e)}function Rhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h6=function(){return!!e})()}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(e)}function Ihe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}function ow(e,t){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ow(e,t)}function lw(e,t,r){return t=p6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=Lhe(e,"string");return yu(t)=="symbol"?t:t+""}function Lhe(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xE=1,Fhe=function(e){function t(){var r;Ahe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Dhe(this,t,[].concat(a)),lw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Ihe(t,e),Che(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xE||Math.abs(n.height-this.state.lastBoundingBox.height)>xE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,v=Ehe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),w=v.cssClasses,k=v.cssProperties,N=gE(gE({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return fe.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(T){n.wrapperNode=T}},u)}}])}(j.PureComponent),Bhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ec={isSsr:Bhe()};function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){$j(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function Khe(e,t,r){return t&&Uhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vhe(e,t,r){return t=rg(t),Hhe(e,m6()?Reflect.construct(t,r||[],rg(e).constructor):t.apply(e,r))}function Hhe(e,t){if(t&&(bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zhe(e)}function zhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!e})()}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(e)}function Whe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cw(e,t)}function cw(e,t){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cw(e,t)}function $j(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=Ghe(e,"string");return bu(t)=="symbol"?t:t+""}function Ghe(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qhe(e){return e.dataKey}function Yhe(e,t){return fe.isValidElement(e)?fe.cloneElement(e,t):typeof e=="function"?fe.createElement(e,t):fe.createElement(jhe,t)}var An=function(e){function t(){return $he(this,t),Vhe(this,t,arguments)}return Whe(t,e),Khe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,w=a.wrapperStyle,k=g??[];f&&k.length&&(k=i6(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,qhe));var N=k.length>0;return fe.createElement(Fhe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:v,wrapperStyle:w},Yhe(u,yE(yE({},this.props),{},{payload:k})))}}])}(j.PureComponent);$j(An,"displayName","Tooltip");$j(An,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xhe=$i,Jhe=function(){return Xhe.Date.now()},Zhe=Jhe,Qhe=/\s/;function e0e(e){for(var t=e.length;t--&&Qhe.test(e.charAt(t)););return t}var t0e=e0e,r0e=t0e,n0e=/^\s+/;function a0e(e){return e&&e.slice(0,r0e(e)+1).replace(n0e,"")}var i0e=a0e,s0e=i0e,bE=Ho,o0e=Qu,wE=NaN,l0e=/^[-+]0x[0-9a-f]+$/i,c0e=/^0b[01]+$/i,u0e=/^0o[0-7]+$/i,d0e=parseInt;function f0e(e){if(typeof e=="number")return e;if(o0e(e))return wE;if(bE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=s0e(e);var r=c0e.test(e);return r||u0e.test(e)?d0e(e.slice(2),r?2:8):l0e.test(e)?wE:+e}var x6=f0e,h0e=Ho,Iy=Zhe,kE=x6,p0e="Expected a function",m0e=Math.max,g0e=Math.min;function x0e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(p0e);t=kE(t)||0,h0e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?m0e(kE(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,T=a;return n=a=void 0,u=N,o=e.apply(T,S),o}function g(N){return u=N,l=setTimeout(b,t),d?p(N):o}function m(N){var S=N-c,T=N-u,P=t-S;return f?g0e(P,i-T):P}function x(N){var S=N-c,T=N-u;return c===void 0||S>=t||S<0||f&&T>=i}function b(){var N=Iy();if(x(N))return y(N);l=setTimeout(b,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:y(Iy())}function k(){var N=Iy(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return k.cancel=v,k.flush=w,k}var v0e=x0e,y0e=v0e,b0e=Ho,w0e="Expected a function";function k0e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(w0e);return b0e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),y0e(e,t,{leading:n,maxWait:t,trailing:a})}var j0e=k0e;const v6=Lt(j0e);function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){S0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0e(e,t,r){return t=N0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N0e(e){var t=T0e(e,"string");return kh(t)=="symbol"?t:t+""}function T0e(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0e(e,t){return O0e(e)||A0e(e,t)||E0e(e,t)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E0e(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function O0e(e){if(Array.isArray(e))return e}var ll=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,v=e.style,w=v===void 0?{}:v,k=j.useRef(null),N=j.useRef();N.current=y,j.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var S=j.useState({containerWidth:a.width,containerHeight:a.height}),T=P0e(S,2),P=T[0],_=T[1],O=j.useCallback(function(C,z){_(function(Q){var W=Math.round(C),q=Math.round(z);return Q.containerWidth===W&&Q.containerHeight===q?Q:{containerWidth:W,containerHeight:q}})},[]);j.useEffect(function(){var C=function(G){var de,ce=G[0].contentRect,U=ce.width,L=ce.height;O(U,L),(de=N.current)===null||de===void 0||de.call(N,U,L)};m>0&&(C=v6(C,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(C),Q=k.current.getBoundingClientRect(),W=Q.width,q=Q.height;return O(W,q),z.observe(k.current),function(){z.disconnect()}},[O,m]);var E=j.useMemo(function(){var C=P.containerWidth,z=P.containerHeight;if(C<0||z<0)return null;vi(xl(o)||xl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=xl(o)?C:o,W=xl(c)?z:c;r&&r>0&&(Q?W=Q/r:W&&(Q=W*r),h&&W>h&&(W=h)),vi(Q>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,W,o,c,d,f,r);var q=!Array.isArray(p)&&ss(p.type).endsWith("Chart");return fe.Children.map(p,function(re){return fe.isValidElement(re)?j.cloneElement(re,dp({width:Q,height:W},q?{style:dp({height:"100%",width:"100%",maxHeight:W,maxWidth:Q},re.props.style)}:{})):re})},[r,p,c,h,f,d,P,o]);return fe.createElement("div",{id:x?"".concat(x):void 0,className:gt("recharts-responsive-container",b),style:dp(dp({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:k},E)}),Tl=function(t){return null};Tl.displayName="Cell";function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){C0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0e(e,t,r){return t=D0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D0e(e){var t=M0e(e,"string");return jh(t)=="symbol"?t:t+""}function M0e(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dc={widthCache:{},cacheCount:0},R0e=2e3,I0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TE="recharts_measurement_span";function L0e(e){var t=uw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Af=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ec.isSsr)return{width:0,height:0};var n=L0e(r),a=JSON.stringify({text:t,copyStyle:n});if(dc.widthCache[a])return dc.widthCache[a];try{var i=document.getElementById(TE);i||(i=document.createElement("span"),i.setAttribute("id",TE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=uw(uw({},I0e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return dc.widthCache[a]=c,++dc.cacheCount>R0e&&(dc.cacheCount=0,dc.widthCache={}),c}catch{return{width:0,height:0}}},F0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function ng(e,t){return K0e(e)||U0e(e,t)||$0e(e,t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $0e(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function K0e(e){if(Array.isArray(e))return e}function V0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z0e(n.key),n)}}function H0e(e,t,r){return t&&_E(e.prototype,t),r&&_E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z0e(e){var t=W0e(e,"string");return Sh(t)=="symbol"?t:t+""}function W0e(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Y0e=Object.keys(y6),Ic="NaN";function X0e(e,t){return e*y6[t]}var fp=function(){function e(t,r){V0e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!G0e.test(r)&&(this.num=NaN,this.unit=""),Y0e.includes(r)&&(this.num=X0e(t,r),this.unit="px")}return H0e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=q0e.exec(r))!==null&&n!==void 0?n:[],i=ng(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function b6(e){if(e.includes(Ic))return Ic;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=EE.exec(t))!==null&&r!==void 0?r:[],a=ng(n,4),i=a[1],o=a[2],l=a[3],c=fp.parse(i??""),u=fp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ic;t=t.replace(EE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=AE.exec(t))!==null&&f!==void 0?f:[],p=ng(h,4),g=p[1],m=p[2],x=p[3],b=fp.parse(g??""),y=fp.parse(x??""),v=m==="+"?b.add(y):b.subtract(y);if(v.isNaN())return Ic;t=t.replace(AE,v.toString())}return t}var OE=/\(([^()]*)\)/;function J0e(e){for(var t=e;t.includes("(");){var r=OE.exec(t),n=ng(r,2),a=n[1];t=t.replace(OE,b6(a))}return t}function Z0e(e){var t=e.replace(/\s+/g,"");return t=J0e(t),t=b6(t),t}function Q0e(e){try{return Z0e(e)}catch{return Ic}}function Ly(e){var t=Q0e(e.slice(5,-1));return t===Ic?"":t}var epe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tpe=["dx","dy","angle","className","breakAll"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function CE(e,t){if(e==null)return{};var r=rpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DE(e,t){return spe(e)||ipe(e,t)||ape(e,t)||npe()}function npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ape(e,t){if(e){if(typeof e=="string")return ME(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ME(e,t)}}function ME(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ipe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function spe(e){if(Array.isArray(e))return e}var w6=/[ \f\n\r\t\v\u2028\u2029]+/,k6=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];mt(r)||(n?i=r.toString().split(""):i=r.toString().split(w6));var o=i.map(function(c){return{word:c,width:Af(c,a).width}}),l=n?0:Af("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ope=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=He(o),f=l,h=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(W,q){var re=q.word,G=q.width,de=W[W.length-1];if(de&&(a==null||i||de.width+G+n<Number(a)))de.words.push(re),de.width+=G+n;else{var ce={words:[re],width:G};W.push(ce)}return W},[])},p=h(r),g=function(Q){return Q.reduce(function(W,q){return W.width>q.width?W:q})};if(!d)return p;for(var m="",x=function(Q){var W=f.slice(0,Q),q=k6({breakAll:u,style:c,children:W+m}).wordsWithComputedWidth,re=h(q),G=re.length>o||g(re).width>Number(a);return[G,re]},b=0,y=f.length-1,v=0,w;b<=y&&v<=f.length-1;){var k=Math.floor((b+y)/2),N=k-1,S=x(N),T=DE(S,2),P=T[0],_=T[1],O=x(k),E=DE(O,1),C=E[0];if(!P&&!C&&(b=k+1),P&&C&&(y=k-1),!P&&C){w=_;break}v++}return w||p},RE=function(t){var r=mt(t)?[]:t.toString().split(w6);return[{words:r}]},lpe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ec.isSsr){var c,u,d=k6({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return RE(a);return ope({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return RE(a)},IE="#808080",$l=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,b=x===void 0?IE:x,y=CE(t,epe),v=j.useMemo(function(){return lpe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),w=y.dx,k=y.dy,N=y.angle,S=y.className,T=y.breakAll,P=CE(y,tpe);if(!qr(n)||!qr(i))return null;var _=n+(He(w)?w:0),O=i+(He(k)?k:0),E;switch(m){case"start":E=Ly("calc(".concat(u,")"));break;case"middle":E=Ly("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Ly("calc(".concat(v.length-1," * -").concat(l,")"));break}var C=[];if(f){var z=v[0].width,Q=y.width;C.push("scale(".concat((He(Q)?Q/z:1)/z,")"))}return N&&C.push("rotate(".concat(N,", ").concat(_,", ").concat(O,")")),C.length&&(P.transform=C.join(" ")),fe.createElement("text",dw({},ot(P,!0),{x:_,y:O,className:gt("recharts-text",S),textAnchor:p,fill:b.includes("url")?IE:b}),v.map(function(W,q){var re=W.words.join(T?"":" ");return fe.createElement("tspan",{x:_,dy:q===0?E:l,key:"".concat(re,"-").concat(q)},re)}))};function Po(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uj(e){let t,r,n;e.length!==2?(t=Po,r=(l,c)=>Po(e(l),c),n=(l,c)=>e(l)-c):(t=e===Po||e===cpe?e:upe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function upe(){return 0}function j6(e){return e===null?NaN:+e}function*dpe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fpe=Uj(Po),y0=fpe.right;Uj(j6).center;class LE extends Map{constructor(t,r=mpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(FE(this,t))}has(t){return super.has(FE(this,t))}set(t,r){return super.set(hpe(this,t),r)}delete(t){return super.delete(ppe(this,t))}}function FE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ppe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gpe(e=Po){if(e===Po)return S6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function S6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xpe=Math.sqrt(50),vpe=Math.sqrt(10),ype=Math.sqrt(2);function ag(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=xpe?10:i>=vpe?5:i>=ype?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ag(e,t,r*2):[l,c,u]}function fw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ag(t,e,r):ag(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function hw(e,t,r){return t=+t,e=+e,r=+r,ag(e,t,r)[2]}function pw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?hw(t,e,r):hw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function BE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $E(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function N6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?S6:gpe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));N6(e,t,p,g,a)}const i=e[t];let o=r,l=n;for(Ed(e,r,t),a(e[n],i)>0&&Ed(e,r,n);o<l;){for(Ed(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Ed(e,r,l):(++l,Ed(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ed(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bpe(e,t,r){if(e=Float64Array.from(dpe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $E(e);if(t>=1)return BE(e);var n,a=(n-1)*t,i=Math.floor(a),o=BE(N6(e,i).subarray(0,i+1)),l=$E(e.subarray(i+1));return o+(l-o)*(a-i)}}function wpe(e,t,r=j6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function kpe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Za(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ss(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mw=Symbol("implicit");function Kj(){var e=new LE,t=[],r=[],n=mw;function a(i){let o=e.get(i);if(o===void 0){if(n!==mw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new LE;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Kj(t,r).unknown(n)},Za.apply(a,arguments),a}function Nh(){var e=Kj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=kpe(h).map(function(b){return g+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Nh(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Za.apply(f(),arguments)}function T6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T6(t())},e}function Of(){return T6(Nh.apply(null,arguments).paddingInner(1))}function Vj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function P6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function b0(){}var Th=.7,ig=1/Th,tu="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jpe=/^#([0-9a-f]{3,8})$/,Spe=new RegExp(`^rgb\\(${tu},${tu},${tu}\\)$`),Npe=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),Tpe=new RegExp(`^rgba\\(${tu},${tu},${tu},${Ph}\\)$`),Ppe=new RegExp(`^rgba\\(${Di},${Di},${Di},${Ph}\\)$`),_pe=new RegExp(`^hsl\\(${Ph},${Di},${Di}\\)$`),Epe=new RegExp(`^hsla\\(${Ph},${Di},${Di},${Ph}\\)$`),UE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vj(b0,_h,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KE,formatHex:KE,formatHex8:Ape,formatHsl:Ope,formatRgb:VE,toString:VE});function KE(){return this.rgb().formatHex()}function Ape(){return this.rgb().formatHex8()}function Ope(){return _6(this).formatHsl()}function VE(){return this.rgb().formatRgb()}function _h(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jpe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?HE(t):r===3?new ia(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Spe.exec(e))?new ia(t[1],t[2],t[3],1):(t=Npe.exec(e))?new ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tpe.exec(e))?hp(t[1],t[2],t[3],t[4]):(t=Ppe.exec(e))?hp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_pe.exec(e))?GE(t[1],t[2]/100,t[3]/100,1):(t=Epe.exec(e))?GE(t[1],t[2]/100,t[3]/100,t[4]):UE.hasOwnProperty(e)?HE(UE[e]):e==="transparent"?new ia(NaN,NaN,NaN,0):null}function HE(e){return new ia(e>>16&255,e>>8&255,e&255,1)}function hp(e,t,r,n){return n<=0&&(e=t=r=NaN),new ia(e,t,r,n)}function Cpe(e){return e instanceof b0||(e=_h(e)),e?(e=e.rgb(),new ia(e.r,e.g,e.b,e.opacity)):new ia}function gw(e,t,r,n){return arguments.length===1?Cpe(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Vj(ia,gw,P6(b0,{brighter(e){return e=e==null?ig:Math.pow(ig,e),new ia(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Th:Math.pow(Th,e),new ia(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ia(Pl(this.r),Pl(this.g),Pl(this.b),sg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zE,formatHex:zE,formatHex8:Dpe,formatRgb:WE,toString:WE}));function zE(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}`}function Dpe(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}${vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function WE(){const e=sg(this.opacity);return`${e===1?"rgb(":"rgba("}${Pl(this.r)}, ${Pl(this.g)}, ${Pl(this.b)}${e===1?")":`, ${e})`}`}function sg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vl(e){return e=Pl(e),(e<16?"0":"")+e.toString(16)}function GE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fi(e,t,r,n)}function _6(e){if(e instanceof fi)return new fi(e.h,e.s,e.l,e.opacity);if(e instanceof b0||(e=_h(e)),!e)return new fi;if(e instanceof fi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new fi(o,l,c,e.opacity)}function Mpe(e,t,r,n){return arguments.length===1?_6(e):new fi(e,t,r,n??1)}function fi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Vj(fi,Mpe,P6(b0,{brighter(e){return e=e==null?ig:Math.pow(ig,e),new fi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Th:Math.pow(Th,e),new fi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ia(Fy(e>=240?e-240:e+120,a,n),Fy(e,a,n),Fy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new fi(qE(this.h),pp(this.s),pp(this.l),sg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sg(this.opacity);return`${e===1?"hsl(":"hsla("}${qE(this.h)}, ${pp(this.s)*100}%, ${pp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qE(e){return e=(e||0)%360,e<0?e+360:e}function pp(e){return Math.max(0,Math.min(1,e||0))}function Fy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hj=e=>()=>e;function Rpe(e,t){return function(r){return e+r*t}}function Ipe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Lpe(e){return(e=+e)==1?E6:function(t,r){return r-t?Ipe(t,r,e):Hj(isNaN(t)?r:t)}}function E6(e,t){var r=t-e;return r?Rpe(e,r):Hj(isNaN(e)?t:e)}const YE=function e(t){var r=Lpe(t);function n(a,i){var o=r((a=gw(a)).r,(i=gw(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=E6(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Fpe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Bpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $pe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ld(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Upe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function og(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Kpe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ld(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var xw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,By=new RegExp(xw.source,"g");function Vpe(e){return function(){return e}}function Hpe(e){return function(t){return e(t)+""}}function zpe(e,t){var r=xw.lastIndex=By.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=xw.exec(e))&&(a=By.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:og(n,a)})),r=By.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Hpe(c[0].x):Vpe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ld(e,t){var r=typeof t,n;return t==null||r==="boolean"?Hj(t):(r==="number"?og:r==="string"?(n=_h(t))?(t=n,YE):zpe:t instanceof _h?YE:t instanceof Date?Upe:Bpe(t)?Fpe:Array.isArray(t)?$pe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Kpe:og)(e,t)}function zj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Wpe(e,t){t===void 0&&(t=e,e=ld);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Gpe(e){return function(){return e}}function lg(e){return+e}var XE=[0,1];function Yn(e){return e}function vw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Gpe(isNaN(t)?NaN:.5)}function qpe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ype(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=vw(a,n),i=r(o,i)):(n=vw(n,a),i=r(i,o)),function(l){return i(n(l))}}function Xpe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=vw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=y0(e,l,1,n)-1;return i[c](a[c](l))}}function w0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qx(){var e=XE,t=XE,r=ld,n,a,i,o=Yn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Yn&&(o=qpe(e[0],e[h-1])),l=h>2?Xpe:Ype,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),og)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,lg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=zj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Yn,d()):o!==Yn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function Wj(){return Qx()(Yn,Yn)}function Jpe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function wu(e){return e=cg(Math.abs(e)),e?e[1]:NaN}function Zpe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Qpe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Eh(e){if(!(t=eme.exec(e)))throw new Error("invalid format: "+e);var t;return new Gj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Eh.prototype=Gj.prototype;function Gj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tme(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var A6;function rme(e,t){var r=cg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(A6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cg(e,Math.max(0,t+i-1))[0]}function JE(e,t){var r=cg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ZE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Jpe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JE(e*100,t),r:JE,s:rme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QE(e){return e}var eA=Array.prototype.map,tA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nme(e){var t=e.grouping===void 0||e.thousands===void 0?QE:Zpe(eA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?QE:Qpe(eA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Eh(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,b=f.width,y=f.comma,v=f.precision,w=f.trim,k=f.type;k==="n"?(y=!0,k="g"):ZE[k]||(v===void 0&&(v=12),w=!0,k="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=m==="$"?n:/[%p]/.test(k)?o:"",T=ZE[k],P=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function _(O){var E=N,C=S,z,Q,W;if(k==="c")C=T(O)+C,O="";else{O=+O;var q=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),v),w&&(O=tme(O)),q&&+O==0&&g!=="+"&&(q=!1),E=(q?g==="("?g:l:g==="-"||g==="("?"":g)+E,C=(k==="s"?tA[8+A6/3]:"")+C+(q&&g==="("?")":""),P){for(z=-1,Q=O.length;++z<Q;)if(W=O.charCodeAt(z),48>W||W>57){C=(W===46?a+O.slice(z+1):O.slice(z))+C,O=O.slice(0,z);break}}}y&&!x&&(O=t(O,1/0));var re=E.length+O.length+C.length,G=re<b?new Array(b-re+1).join(h):"";switch(y&&x&&(O=t(G+O,G.length?b-C.length:1/0),G=""),p){case"<":O=E+O+C+G;break;case"=":O=E+G+O+C;break;case"^":O=G.slice(0,re=G.length>>1)+E+O+C+G.slice(re);break;default:O=G+E+O+C;break}return i(O)}return _.toString=function(){return f+""},_}function d(f,h){var p=u((f=Eh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(wu(h)/3)))*3,m=Math.pow(10,-g),x=tA[8+g/3];return function(b){return p(m*b)+x}}return{format:u,formatPrefix:d}}var mp,qj,O6;ame({thousands:",",grouping:[3],currency:["$",""]});function ame(e){return mp=nme(e),qj=mp.format,O6=mp.formatPrefix,mp}function ime(e){return Math.max(0,-wu(Math.abs(e)))}function sme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wu(t)/3)))*3-wu(Math.abs(e)))}function ome(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wu(t)-wu(e))+1}function C6(e,t,r,n){var a=pw(e,t,r),i;switch(n=Eh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=sme(a,o))&&(n.precision=i),O6(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ome(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ime(a))&&(n.precision=i-(n.type==="%")*2);break}}return qj(n)}function zo(e){var t=e.domain;return e.ticks=function(r){var n=t();return fw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return C6(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=hw(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ug(){var e=Wj();return e.copy=function(){return w0(e,ug())},Za.apply(e,arguments),zo(e)}function D6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return D6(e).unknown(t)},e=arguments.length?Array.from(e,lg):[0,1],zo(r)}function M6(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function rA(e){return Math.log(e)}function nA(e){return Math.exp(e)}function lme(e){return-Math.log(-e)}function cme(e){return-Math.exp(-e)}function ume(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dme(e){return e===10?ume:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aA(e){return(t,r)=>-e(-t,r)}function Yj(e){const t=e(rA,nA),r=t.domain;let n=10,a,i;function o(){return a=fme(n),i=dme(n),r()[0]<0?(a=aA(a),i=aA(i),e(lme,cme)):e(rA,nA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const x=l==null?10:+l;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=fw(u,d,x))}else b=fw(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Eh(c)).precision==null&&(c.trim=!0),c=qj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(M6(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function R6(){const e=Yj(Qx()).domain([1,10]);return e.copy=()=>w0(e,R6()).base(e.base()),Za.apply(e,arguments),e}function iA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xj(e){var t=1,r=e(iA(t),sA(t));return r.constant=function(n){return arguments.length?e(iA(t=+n),sA(t)):t},zo(r)}function I6(){var e=Xj(Qx());return e.copy=function(){return w0(e,I6()).constant(e.constant())},Za.apply(e,arguments)}function oA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pme(e){return e<0?-e*e:e*e}function Jj(e){var t=e(Yn,Yn),r=1;function n(){return r===1?e(Yn,Yn):r===.5?e(hme,pme):e(oA(r),oA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},zo(t)}function Zj(){var e=Jj(Qx());return e.copy=function(){return w0(e,Zj()).exponent(e.exponent())},Za.apply(e,arguments),e}function mme(){return Zj.apply(null,arguments).exponent(.5)}function lA(e){return Math.sign(e)*e*e}function gme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L6(){var e=Wj(),t=[0,1],r=!1,n;function a(i){var o=gme(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(lA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,lg)).map(lA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return L6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Za.apply(a,arguments),zo(a)}function F6(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=wpe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[y0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Po),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return F6().domain(e).range(t).unknown(n)},Za.apply(i,arguments)}function B6(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[y0(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return B6().domain([e,t]).range(a).unknown(i)},Za.apply(zo(o),arguments)}function $6(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[y0(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return $6().domain(e).range(t).unknown(r)},Za.apply(a,arguments)}const $y=new Date,Uy=new Date;function Xr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Xr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>($y.setTime(+i),Uy.setTime(+o),e($y),e(Uy),Math.floor(r($y,Uy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const dg=Xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dg);dg.range;const Ji=1e3,Ha=Ji*60,Zi=Ha*60,ms=Zi*24,Qj=ms*7,cA=ms*30,Ky=ms*365,yl=Xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCSeconds());yl.range;const eS=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getMinutes());eS.range;const tS=Xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCMinutes());tS.range;const rS=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji-e.getMinutes()*Ha)},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getHours());rS.range;const nS=Xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getUTCHours());nS.range;const k0=Xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ha)/ms,e=>e.getDate()-1);k0.range;const ev=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ms,e=>e.getUTCDate()-1);ev.range;const U6=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ms,e=>Math.floor(e/ms));U6.range;function tc(e){return Xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ha)/Qj)}const tv=tc(0),fg=tc(1),xme=tc(2),vme=tc(3),ku=tc(4),yme=tc(5),bme=tc(6);tv.range;fg.range;xme.range;vme.range;ku.range;yme.range;bme.range;function rc(e){return Xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qj)}const rv=rc(0),hg=rc(1),wme=rc(2),kme=rc(3),ju=rc(4),jme=rc(5),Sme=rc(6);rv.range;hg.range;wme.range;kme.range;ju.range;jme.range;Sme.range;const aS=Xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aS.range;const iS=Xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iS.range;const gs=Xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gs.range;const xs=Xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xs.range;function K6(e,t,r,n,a,i){const o=[[yl,1,Ji],[yl,5,5*Ji],[yl,15,15*Ji],[yl,30,30*Ji],[i,1,Ha],[i,5,5*Ha],[i,15,15*Ha],[i,30,30*Ha],[a,1,Zi],[a,3,3*Zi],[a,6,6*Zi],[a,12,12*Zi],[n,1,ms],[n,2,2*ms],[r,1,Qj],[t,1,cA],[t,3,3*cA],[e,1,Ky]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=Uj(([,,x])=>x).right(o,h);if(p===o.length)return e.every(pw(u/Ky,d/Ky,f));if(p===0)return dg.every(Math.max(pw(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Nme,Tme]=K6(xs,iS,rv,U6,nS,tS),[Pme,_me]=K6(gs,aS,tv,k0,rS,eS);function Vy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ad(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Eme(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Od(a),d=Cd(a),f=Od(i),h=Cd(i),p=Od(o),g=Cd(o),m=Od(l),x=Cd(l),b=Od(c),y=Cd(c),v={a:q,A:re,b:G,B:de,c:null,d:mA,e:mA,f:Zme,g:lge,G:uge,H:Yme,I:Xme,j:Jme,L:V6,m:Qme,M:ege,p:ce,q:U,Q:vA,s:yA,S:tge,u:rge,U:nge,V:age,w:ige,W:sge,x:null,X:null,y:oge,Y:cge,Z:dge,"%":xA},w={a:L,A:I,b:R,B:J,c:null,d:gA,e:gA,f:mge,g:Nge,G:Pge,H:fge,I:hge,j:pge,L:z6,m:gge,M:xge,p:xe,q:Ne,Q:vA,s:yA,S:vge,u:yge,U:bge,V:wge,w:kge,W:jge,x:null,X:null,y:Sge,Y:Tge,Z:_ge,"%":xA},k={a:_,A:O,b:E,B:C,c:z,d:hA,e:hA,f:zme,g:fA,G:dA,H:pA,I:pA,j:Ume,L:Hme,m:$me,M:Kme,p:P,q:Bme,Q:Gme,s:qme,S:Vme,u:Mme,U:Rme,V:Ime,w:Dme,W:Lme,x:Q,X:W,y:fA,Y:dA,Z:Fme,"%":Wme};v.x=N(r,v),v.X=N(n,v),v.c=N(t,v),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(ue,he){return function(Te){var me=[],Ce=-1,ne=0,A=ue.length,B,H,ke;for(Te instanceof Date||(Te=new Date(+Te));++Ce<A;)ue.charCodeAt(Ce)===37&&(me.push(ue.slice(ne,Ce)),(H=uA[B=ue.charAt(++Ce)])!=null?B=ue.charAt(++Ce):H=B==="e"?" ":"0",(ke=he[B])&&(B=ke(Te,H)),me.push(B),ne=Ce+1);return me.push(ue.slice(ne,Ce)),me.join("")}}function S(ue,he){return function(Te){var me=Ad(1900,void 0,1),Ce=T(me,ue,Te+="",0),ne,A;if(Ce!=Te.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(he&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(ne=Hy(Ad(me.y,0,1)),A=ne.getUTCDay(),ne=A>4||A===0?hg.ceil(ne):hg(ne),ne=ev.offset(ne,(me.V-1)*7),me.y=ne.getUTCFullYear(),me.m=ne.getUTCMonth(),me.d=ne.getUTCDate()+(me.w+6)%7):(ne=Vy(Ad(me.y,0,1)),A=ne.getDay(),ne=A>4||A===0?fg.ceil(ne):fg(ne),ne=k0.offset(ne,(me.V-1)*7),me.y=ne.getFullYear(),me.m=ne.getMonth(),me.d=ne.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),A="Z"in me?Hy(Ad(me.y,0,1)).getUTCDay():Vy(Ad(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(A+5)%7:me.w+me.U*7-(A+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Hy(me)):Vy(me)}}function T(ue,he,Te,me){for(var Ce=0,ne=he.length,A=Te.length,B,H;Ce<ne;){if(me>=A)return-1;if(B=he.charCodeAt(Ce++),B===37){if(B=he.charAt(Ce++),H=k[B in uA?he.charAt(Ce++):B],!H||(me=H(ue,Te,me))<0)return-1}else if(B!=Te.charCodeAt(me++))return-1}return me}function P(ue,he,Te){var me=u.exec(he.slice(Te));return me?(ue.p=d.get(me[0].toLowerCase()),Te+me[0].length):-1}function _(ue,he,Te){var me=p.exec(he.slice(Te));return me?(ue.w=g.get(me[0].toLowerCase()),Te+me[0].length):-1}function O(ue,he,Te){var me=f.exec(he.slice(Te));return me?(ue.w=h.get(me[0].toLowerCase()),Te+me[0].length):-1}function E(ue,he,Te){var me=b.exec(he.slice(Te));return me?(ue.m=y.get(me[0].toLowerCase()),Te+me[0].length):-1}function C(ue,he,Te){var me=m.exec(he.slice(Te));return me?(ue.m=x.get(me[0].toLowerCase()),Te+me[0].length):-1}function z(ue,he,Te){return T(ue,t,he,Te)}function Q(ue,he,Te){return T(ue,r,he,Te)}function W(ue,he,Te){return T(ue,n,he,Te)}function q(ue){return o[ue.getDay()]}function re(ue){return i[ue.getDay()]}function G(ue){return c[ue.getMonth()]}function de(ue){return l[ue.getMonth()]}function ce(ue){return a[+(ue.getHours()>=12)]}function U(ue){return 1+~~(ue.getMonth()/3)}function L(ue){return o[ue.getUTCDay()]}function I(ue){return i[ue.getUTCDay()]}function R(ue){return c[ue.getUTCMonth()]}function J(ue){return l[ue.getUTCMonth()]}function xe(ue){return a[+(ue.getUTCHours()>=12)]}function Ne(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var he=N(ue+="",v);return he.toString=function(){return ue},he},parse:function(ue){var he=S(ue+="",!1);return he.toString=function(){return ue},he},utcFormat:function(ue){var he=N(ue+="",w);return he.toString=function(){return ue},he},utcParse:function(ue){var he=S(ue+="",!0);return he.toString=function(){return ue},he}}}var uA={"-":"",_:" ",0:"0"},on=/^\s*\d+/,Ame=/^%/,Ome=/[\\^$*+?|[\]().{}]/g;function Dt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Cme(e){return e.replace(Ome,"\\$&")}function Od(e){return new RegExp("^(?:"+e.map(Cme).join("|")+")","i")}function Cd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Dme(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Mme(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Rme(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ime(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Lme(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dA(e,t,r){var n=on.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fA(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Fme(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Bme(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $me(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hA(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ume(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pA(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Kme(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vme(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Hme(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zme(e,t,r){var n=on.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wme(e,t,r){var n=Ame.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Gme(e,t,r){var n=on.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qme(e,t,r){var n=on.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mA(e,t){return Dt(e.getDate(),t,2)}function Yme(e,t){return Dt(e.getHours(),t,2)}function Xme(e,t){return Dt(e.getHours()%12||12,t,2)}function Jme(e,t){return Dt(1+k0.count(gs(e),e),t,3)}function V6(e,t){return Dt(e.getMilliseconds(),t,3)}function Zme(e,t){return V6(e,t)+"000"}function Qme(e,t){return Dt(e.getMonth()+1,t,2)}function ege(e,t){return Dt(e.getMinutes(),t,2)}function tge(e,t){return Dt(e.getSeconds(),t,2)}function rge(e){var t=e.getDay();return t===0?7:t}function nge(e,t){return Dt(tv.count(gs(e)-1,e),t,2)}function H6(e){var t=e.getDay();return t>=4||t===0?ku(e):ku.ceil(e)}function age(e,t){return e=H6(e),Dt(ku.count(gs(e),e)+(gs(e).getDay()===4),t,2)}function ige(e){return e.getDay()}function sge(e,t){return Dt(fg.count(gs(e)-1,e),t,2)}function oge(e,t){return Dt(e.getFullYear()%100,t,2)}function lge(e,t){return e=H6(e),Dt(e.getFullYear()%100,t,2)}function cge(e,t){return Dt(e.getFullYear()%1e4,t,4)}function uge(e,t){var r=e.getDay();return e=r>=4||r===0?ku(e):ku.ceil(e),Dt(e.getFullYear()%1e4,t,4)}function dge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dt(t/60|0,"0",2)+Dt(t%60,"0",2)}function gA(e,t){return Dt(e.getUTCDate(),t,2)}function fge(e,t){return Dt(e.getUTCHours(),t,2)}function hge(e,t){return Dt(e.getUTCHours()%12||12,t,2)}function pge(e,t){return Dt(1+ev.count(xs(e),e),t,3)}function z6(e,t){return Dt(e.getUTCMilliseconds(),t,3)}function mge(e,t){return z6(e,t)+"000"}function gge(e,t){return Dt(e.getUTCMonth()+1,t,2)}function xge(e,t){return Dt(e.getUTCMinutes(),t,2)}function vge(e,t){return Dt(e.getUTCSeconds(),t,2)}function yge(e){var t=e.getUTCDay();return t===0?7:t}function bge(e,t){return Dt(rv.count(xs(e)-1,e),t,2)}function W6(e){var t=e.getUTCDay();return t>=4||t===0?ju(e):ju.ceil(e)}function wge(e,t){return e=W6(e),Dt(ju.count(xs(e),e)+(xs(e).getUTCDay()===4),t,2)}function kge(e){return e.getUTCDay()}function jge(e,t){return Dt(hg.count(xs(e)-1,e),t,2)}function Sge(e,t){return Dt(e.getUTCFullYear()%100,t,2)}function Nge(e,t){return e=W6(e),Dt(e.getUTCFullYear()%100,t,2)}function Tge(e,t){return Dt(e.getUTCFullYear()%1e4,t,4)}function Pge(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ju(e):ju.ceil(e),Dt(e.getUTCFullYear()%1e4,t,4)}function _ge(){return"+0000"}function xA(){return"%"}function vA(e){return+e}function yA(e){return Math.floor(+e/1e3)}var fc,G6,q6;Ege({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ege(e){return fc=Eme(e),G6=fc.format,fc.parse,q6=fc.utcFormat,fc.utcParse,fc}function Age(e){return new Date(e)}function Oge(e){return e instanceof Date?+e:+new Date(+e)}function sS(e,t,r,n,a,i,o,l,c,u){var d=Wj(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function k(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?m:i(N)<N?x:n(N)<N?a(N)<N?b:y:r(N)<N?v:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Oge)):h().map(Age)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?k:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(M6(S,N)):d},d.copy=function(){return w0(d,sS(e,t,r,n,a,i,o,l,c,u))},d}function Cge(){return Za.apply(sS(Pme,_me,gs,aS,tv,k0,rS,eS,yl,G6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dge(){return Za.apply(sS(Nme,Tme,xs,iS,rv,ev,nS,tS,yl,q6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nv(){var e=0,t=1,r,n,a,i,o=Yn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(ld),u.rangeRound=d(zj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Wo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y6(){var e=zo(nv()(Yn));return e.copy=function(){return Wo(e,Y6())},Ss.apply(e,arguments)}function X6(){var e=Yj(nv()).domain([1,10]);return e.copy=function(){return Wo(e,X6()).base(e.base())},Ss.apply(e,arguments)}function J6(){var e=Xj(nv());return e.copy=function(){return Wo(e,J6()).constant(e.constant())},Ss.apply(e,arguments)}function oS(){var e=Jj(nv());return e.copy=function(){return Wo(e,oS()).exponent(e.exponent())},Ss.apply(e,arguments)}function Mge(){return oS.apply(null,arguments).exponent(.5)}function Z6(){var e=[],t=Yn;function r(n){if(n!=null&&!isNaN(n=+n))return t((y0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Po),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bpe(e,i/n))},r.copy=function(){return Z6(t).domain(e)},Ss.apply(r,arguments)}function av(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Yn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var b,y,v;return arguments.length?([b,y,v]=x,u=Wpe(m,[b,y,v]),p):[u(0),u(.5),u(1)]}}return p.range=g(ld),p.rangeRound=g(zj),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Q6(){var e=zo(av()(Yn));return e.copy=function(){return Wo(e,Q6())},Ss.apply(e,arguments)}function eL(){var e=Yj(av()).domain([.1,1,10]);return e.copy=function(){return Wo(e,eL()).base(e.base())},Ss.apply(e,arguments)}function tL(){var e=Xj(av());return e.copy=function(){return Wo(e,tL()).constant(e.constant())},Ss.apply(e,arguments)}function lS(){var e=Jj(av());return e.copy=function(){return Wo(e,lS()).exponent(e.exponent())},Ss.apply(e,arguments)}function Rge(){return lS.apply(null,arguments).exponent(.5)}const bA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nh,scaleDiverging:Q6,scaleDivergingLog:eL,scaleDivergingPow:lS,scaleDivergingSqrt:Rge,scaleDivergingSymlog:tL,scaleIdentity:D6,scaleImplicit:mw,scaleLinear:ug,scaleLog:R6,scaleOrdinal:Kj,scalePoint:Of,scalePow:Zj,scaleQuantile:F6,scaleQuantize:B6,scaleRadial:L6,scaleSequential:Y6,scaleSequentialLog:X6,scaleSequentialPow:oS,scaleSequentialQuantile:Z6,scaleSequentialSqrt:Mge,scaleSequentialSymlog:J6,scaleSqrt:mme,scaleSymlog:I6,scaleThreshold:$6,scaleTime:Cge,scaleUtc:Dge,tickFormat:C6},Symbol.toStringTag,{value:"Module"}));var Ige=Qu;function Lge(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Ige(o):r(o,l)))var l=o,c=i}return c}var iv=Lge;function Fge(e,t){return e>t}var rL=Fge,Bge=iv,$ge=rL,Uge=od;function Kge(e){return e&&e.length?Bge(e,Uge,$ge):void 0}var Vge=Kge;const sv=Lt(Vge);function Hge(e,t){return e<t}var nL=Hge,zge=iv,Wge=nL,Gge=od;function qge(e){return e&&e.length?zge(e,Gge,Wge):void 0}var Yge=qge;const ov=Lt(Yge);var Xge=kj,Jge=Ui,Zge=d6,Qge=ha;function exe(e,t){var r=Qge(e)?Xge:Zge;return r(e,Jge(t))}var txe=exe,rxe=c6,nxe=txe;function axe(e,t){return rxe(nxe(e,t),1)}var ixe=axe;const sxe=Lt(ixe);var oxe=Lj;function lxe(e,t){return oxe(e,t)}var cxe=lxe;const j0=Lt(cxe);var cd=1e9,uxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uS,cr=!0,Ya="[DecimalError] ",_l=Ya+"Invalid argument: ",cS=Ya+"Exponent out of range: ",ud=Math.floor,cl=Math.pow,dxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ja,Zr=1e7,ar=7,aL=9007199254740991,pg=ud(aL/ar),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ar;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(e){return os(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,r=t.constructor;return Yt(os(t,new r(e),0,1),r.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return Rr(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ja))throw Error(Ya+"NaN");if(r.s<1)throw Error(Ya+(r.s?"NaN":"-Infinity"));return r.eq(ja)?new n(0):(cr=!1,t=os(Ah(r,i),Ah(e,i),i),cr=!0,Yt(t,a))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oL(t,e):iL(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ya+"NaN");return r.s?(cr=!1,t=os(r,e,0,1).times(e),cr=!0,r.minus(t)):Yt(new n(r),a)};Ze.naturalExponential=Ze.exp=function(){return sL(this)};Ze.naturalLogarithm=Ze.ln=function(){return Ah(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iL(t,e):oL(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_l+e);if(t=Rr(a)+1,n=a.d.length-1,r=n*ar+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ze.squareRoot=Ze.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ya+"NaN")}for(e=Rr(l),cr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ei(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ud((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(os(l,i,o+2)).times(.5),Ei(i.d).slice(0,o)===(t=Ei(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Yt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return cr=!0,Yt(n,r)};Ze.times=Ze.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Zr|0,t=l/Zr|0;i[a]=(i[a]+t)%Zr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cr?Yt(e,f.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fi(e,0,cd),t===void 0?t=n.rounding:Fi(t,0,8),Yt(r,e+Rr(r)+1,t))};Ze.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ul(n,!0):(Fi(e,0,cd),t===void 0?t=a.rounding:Fi(t,0,8),n=Yt(new a(n),e+1,t),r=Ul(n,!0,e+1)),r};Ze.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ul(a):(Fi(e,0,cd),t===void 0?t=i.rounding:Fi(t,0,8),n=Yt(new i(a),e+Rr(a)+1,t),r=Ul(n.abs(),!1,e+Rr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return Yt(new t(e),Rr(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ja);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ya+"Infinity");return l}if(l.eq(ja))return l;if(n=c.precision,e.eq(ja))return Yt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=aL){for(a=new c(ja),t=Math.ceil(n/ar+4),cr=!1;r%2&&(a=a.times(l),kA(a.d,t)),r=ud(r/2),r!==0;)l=l.times(l),kA(l.d,t);return cr=!0,e.s<0?new c(ja).div(a):Yt(a,n)}}else if(i<0)throw Error(Ya+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cr=!1,a=e.times(Ah(l,n+u)),cr=!0,a=sL(a),a.s=i,a};Ze.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Rr(a),n=Ul(a,r<=i.toExpNeg||r>=i.toExpPos)):(Fi(e,1,cd),t===void 0?t=i.rounding:Fi(t,0,8),a=Yt(new i(a),e,t),r=Rr(a),n=Ul(a,e<=r||r<=i.toExpNeg,e)),n};Ze.toSignificantDigits=Ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fi(e,1,cd),t===void 0?t=n.rounding:Fi(t,0,8)),Yt(new n(r),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),r=e.constructor;return Ul(e,t<=r.toExpNeg||t>=r.toExpPos)};function iL(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cr?Yt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/ar),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Zr|0,c[i]%=Zr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,cr?Yt(t,f):t}function Fi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_l+e)}function Ei(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ar-n.length,r&&(i+=no(r)),i+=n;o=e[t],n=o+"",r=ar-n.length,r&&(i+=no(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var os=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Zr|0,o=i/Zr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Zr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,g,m,x,b,y,v,w,k,N,S,T,P=n.constructor,_=n.s==a.s?1:-1,O=n.d,E=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ya+"Division by zero");for(c=n.e-a.e,S=E.length,k=O.length,p=new P(_),g=p.d=[],u=0;E[u]==(O[u]||0);)++u;if(E[u]>(O[u]||0)&&--c,i==null?y=i=P.precision:o?y=i+(Rr(n)-Rr(a))+1:y=i,y<0)return new P(0);if(y=y/ar+2|0,u=0,S==1)for(d=0,E=E[0],y++;(u<k||d)&&y--;u++)v=d*Zr+(O[u]||0),g[u]=v/E|0,d=v%E|0;else{for(d=Zr/(E[0]+1)|0,d>1&&(E=e(E,d),O=e(O,d),S=E.length,k=O.length),w=S,m=O.slice(0,S),x=m.length;x<S;)m[x++]=0;T=E.slice(),T.unshift(0),N=E[0],E[1]>=Zr/2&&++N;do d=0,l=t(E,m,S,x),l<0?(b=m[0],S!=x&&(b=b*Zr+(m[1]||0)),d=b/N|0,d>1?(d>=Zr&&(d=Zr-1),f=e(E,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,S<h?T:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(E,m,S,x),l<1&&(d++,r(m,S<x?T:E,x))),x=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[x++]=O[w]||0:(m=[O[w]],x=1);while((w++<k||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Yt(p,o?i+Rr(p)+1:i)}}();function sL(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Rr(e)>16)throw Error(cS+Rr(e));if(!e.s)return new d(ja);for(cr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(cl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ja),d.precision=l;;){if(a=Yt(a.times(e),l),r=r.times(++c),o=i.plus(os(a,r,l)),Ei(o.d).slice(0,l)===Ei(i.d).slice(0,l)){for(;u--;)i=Yt(i.times(i),l);return d.precision=f,t==null?(cr=!0,Yt(i,f)):i}i=o}}function Rr(e){for(var t=e.e*ar,r=e.d[0];r>=10;r/=10)t++;return t}function zy(e,t,r){if(t>e.LN10.sd())throw cr=!0,r&&(e.precision=r),Error(Ya+"LN10 precision limit exceeded");return Yt(new e(e.LN10),t)}function no(e){for(var t="";e--;)t+="0";return t}function Ah(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(Ya+(p.s?"NaN":"-Infinity"));if(p.eq(ja))return new m(0);if(t==null?(cr=!1,u=x):u=t,p.eq(10))return t==null&&(cr=!0),zy(m,u);if(u+=h,m.precision=u,r=Ei(g),n=r.charAt(0),i=Rr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ei(p.d),n=r.charAt(0),f++;i=Rr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=zy(m,u+2,x).times(i+""),p=Ah(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(cr=!0,Yt(p,x)):p;for(l=o=p=os(p.minus(ja),p.plus(ja),u),d=Yt(p.times(p),u),a=3;;){if(o=Yt(o.times(d),u),c=l.plus(os(o,new m(a),u)),Ei(c.d).slice(0,u)===Ei(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(zy(m,u+2,x).times(i+""))),l=os(l,new m(f),u),m.precision=x,t==null?(cr=!0,Yt(l,x)):l;l=c,a+=2}}function wA(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ud(r/ar),e.d=[],n=(r+1)%ar,r<0&&(n+=ar),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ar;n<a;)e.d.push(+t.slice(n,n+=ar));t=t.slice(n),n=ar-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),cr&&(e.e>pg||e.e<-pg))throw Error(cS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Yt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ar,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ar),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=ar,a=n-ar+o}if(r!==void 0&&(i=cl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/cl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Rr(e),f.length=1,t=t-i-1,f[0]=cl(10,(ar-t%ar)%ar),e.e=ud(-t/ar)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=cl(10,ar-n),f[d]=a>0?(u/cl(10,o-a)%cl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Zr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Zr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(cr&&(e.e>pg||e.e<-pg))throw Error(cS+Rr(e));return e}function oL(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cr?Yt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/ar),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Zr-1;--c[i],c[a]+=Zr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,cr?Yt(t,p):t):new h(0)}function Ul(e,t,r){var n,a=Rr(e),i=Ei(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+no(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+no(-a-1)+i,r&&(n=r-o)>0&&(i+=no(n))):a>=o?(i+=no(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+no(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=no(n))),e.s<0?"-"+i:i}function kA(e,t){if(e.length>t)return e.length=t,!0}function lL(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_l+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return wA(o,i.toString())}else if(typeof i!="string")throw Error(_l+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dxe.test(i))wA(o,i);else throw Error(_l+i)}if(a.prototype=Ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=lL,a.config=a.set=fxe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fxe(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,r,n,a=["precision",1,cd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ud(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(_l+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_l+r+": "+n);return this}var uS=lL(uxe);ja=new uS(1);const Gt=uS;function hxe(e){return xxe(e)||gxe(e)||mxe(e)||pxe()}function pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function gxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xxe(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vxe=function(t){return t},cL={},uL=function(t){return t===cL},jA=function(t){return function r(){return arguments.length===0||arguments.length===1&&uL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yxe=function e(t,r){return t===1?r:jA(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==cL}).length;return o>=t?r.apply(void 0,a):e(t-o,jA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return uL(f)?c.shift():f});return r.apply(void 0,hxe(d).concat(c))}))})},lv=function(t){return yxe(t.length,t)},bw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},bxe=lv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vxe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ww=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dL=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function kxe(e){var t;return e===0?t=1:t=Math.floor(new Gt(e).abs().log(10).toNumber())+1,t}function jxe(e,t,r){for(var n=new Gt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Sxe=lv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Nxe=lv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Txe=lv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const cv={rangeStep:jxe,getDigitCount:kxe,interpolateNumber:Sxe,uninterpolateNumber:Nxe,uninterpolateTruncation:Txe};function kw(e){return Exe(e)||_xe(e)||fL(e)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Exe(e){if(Array.isArray(e))return jw(e)}function Oh(e,t){return Cxe(e)||Oxe(e,t)||fL(e,t)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(e,t){if(e){if(typeof e=="string")return jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jw(e,t)}}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oxe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Cxe(e){if(Array.isArray(e))return e}function hL(e){var t=Oh(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function pL(e,t,r){if(e.lte(0))return new Gt(0);var n=cv.getDigitCount(e.toNumber()),a=new Gt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Gt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Gt(Math.ceil(c))}function Dxe(e,t,r){var n=1,a=new Gt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Gt(10).pow(cv.getDigitCount(e)-1),a=new Gt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Gt(Math.floor(e)))}else e===0?a=new Gt(Math.floor((t-1)/2)):r||(a=new Gt(Math.floor(e)));var o=Math.floor((t-1)/2),l=wxe(bxe(function(c){return a.add(new Gt(c-o).mul(n)).toNumber()}),bw);return l(0,t)}function mL(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var i=pL(new Gt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Gt(0):(o=new Gt(e).add(t).div(2),o=o.sub(new Gt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Gt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?mL(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Gt(l).mul(i)),tickMax:o.add(new Gt(c).mul(i))})}function Mxe(e){var t=Oh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=hL([r,n]),c=Oh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(kw(bw(0,a-1).map(function(){return 1/0}))):[].concat(kw(bw(0,a-1).map(function(){return-1/0})),[d]);return r>n?ww(f):f}if(u===d)return Dxe(u,a,i);var h=mL(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,x=cv.rangeStep(g,m.add(new Gt(.1).mul(p)),p);return r>n?ww(x):x}function Rxe(e,t){var r=Oh(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hL([n,a]),l=Oh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=pL(new Gt(u).sub(c).div(d-1),i,0),h=[].concat(kw(cv.rangeStep(new Gt(c),new Gt(u).sub(new Gt(.99).mul(f)),f)),[u]);return n>a?ww(h):h}var Ixe=dL(Mxe),Lxe=dL(Rxe),Fxe="Invariant failed";function Kl(e,t){throw new Error(Fxe)}var Bxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function $xe(e,t){return Hxe(e)||Vxe(e,t)||Kxe(e,t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(e,t){if(e){if(typeof e=="string")return SA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(e,t)}}function SA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Hxe(e){if(Array.isArray(e))return e}function zxe(e,t){if(e==null)return{};var r=Wxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vL(n.key),n)}}function Yxe(e,t,r){return t&&qxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xxe(e,t,r){return t=gg(t),Jxe(e,gL()?Reflect.construct(t,r||[],gg(e).constructor):t.apply(e,r))}function Jxe(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(e)}function Zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(e)}function Qxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sw(e,t)}function xL(e,t,r){return t=vL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vL(e){var t=eve(e,"string");return Su(t)=="symbol"?t:t+""}function eve(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S0=function(e){function t(){return Gxe(this,t),Xxe(this,t,arguments)}return Qxe(t,e),Yxe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=zxe(n,Bxe),p=ot(h,!1);this.props.direction==="x"&&d.type!=="number"&&Kl();var g=c.map(function(m){var x=u(m,l),b=x.x,y=x.y,v=x.value,w=x.errorVal;if(!w)return null;var k=[],N,S;if(Array.isArray(w)){var T=$xe(w,2);N=T[0],S=T[1]}else N=S=w;if(i==="vertical"){var P=d.scale,_=y+a,O=_+o,E=_-o,C=P(v-N),z=P(v+S);k.push({x1:z,y1:O,x2:z,y2:E}),k.push({x1:C,y1:_,x2:z,y2:_}),k.push({x1:C,y1:O,x2:C,y2:E})}else if(i==="horizontal"){var Q=f.scale,W=b+a,q=W-o,re=W+o,G=Q(v-N),de=Q(v+S);k.push({x1:q,y1:de,x2:re,y2:de}),k.push({x1:W,y1:G,x2:W,y2:de}),k.push({x1:q,y1:G,x2:re,y2:G})}return fe.createElement(Ct,mg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},p),k.map(function(ce){return fe.createElement("line",mg({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return fe.createElement(Ct,{className:"recharts-errorBars"},g)}}])}(fe.Component);xL(S0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xL(S0,"displayName","ErrorBar");function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tve(e,t,r){return t=rve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return Ch(t)=="symbol"?t:t+""}function nve(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yL=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=va(r,_i);if(!o)return null;var l=_i.defaultProps,c=l!==void 0?Xo(Xo({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Xo(Xo({},h),f.props):{},g=p.dataKey,m=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:dS(f),value:m||g,payload:p}}),Xo(Xo(Xo({},c),_i.getWithHeight(o,a)),{},{payload:u,item:o})};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function TA(e){return ove(e)||sve(e)||ive(e)||ave()}function ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(e,t){if(e){if(typeof e=="string")return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(e,t)}}function sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ove(e){if(Array.isArray(e))return Nw(e)}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){ru(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ru(e,t,r){return t=lve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lve(e){var t=cve(e,"string");return Dh(t)=="symbol"?t:t+""}function cve(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t,r){return mt(e)||mt(t)?r:qr(t)?Ta(e,t,r):ht(t)?t(e):r}function Cf(e,t,r,n){var a=sxe(e,function(l){return zr(l,t)});if(r==="number"){var i=a.filter(function(l){return He(l)||parseFloat(l)});return i.length?[ov(i),sv(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!mt(l)}):a;return o.map(function(l){return qr(l)||l instanceof Date?l:""})}var uve=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Gn(f-d)!==Gn(h-f)){var g=[];if(Gn(h-f)===Gn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,h),v=Math.max(d,h);if(t>(y+f)/2&&t<=(v+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},dS=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},dve=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,x=g.cateAxisId,b=m.filter(function(S){return ss(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,v=y!==void 0?wr(wr({},y),b[0].props):b[0].props,w=v.barSize,k=v[x];o[k]||(o[k]=[]);var N=mt(w)?r:w;o[k].push({item:b[0],stackList:b.slice(1),barSize:mt(N)?void 0:qn(N,n,0)})}}return o},fve=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=qn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,g=o.reduce(function(w,k){return w+k.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(w,k){var N={item:k.item,position:{offset:x.offset+x.size+u,size:h?p:k.barSize}},S=[].concat(TA(w),[N]);return x=S[S.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var b=qn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var v=l===+l?Math.min(y,l):y;d=o.reduce(function(w,k,N){var S=[].concat(TA(w),[{item:k.item,position:{offset:b+(y+u)*N+(y-v)/2,size:v}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},hve=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=yL({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&He(t[p]))return wr(wr({},t),{},ru({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&He(t[g]))return wr(wr({},t),{},ru({},g,t[g]+(h||0)))}return t},pve=function(t,r,n){return mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},bL=function(t,r,n,a,i){var o=r.props.children,l=Pa(o,S0).filter(function(u){return pve(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=zr(d,n);if(mt(f))return u;var h=Array.isArray(f)?[ov(f),sv(f)]:[f,f],p=c.reduce(function(g,m){var x=zr(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},mve=function(t,r,n,a,i){var o=r.map(function(l){return bL(t,l,n,i,a)}).filter(function(l){return!mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wL=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&bL(t,c,u,a)||Cf(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},kL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},jL=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Qi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Gn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!x0(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Wy=new WeakMap,gp=function(t,r){if(typeof r!="function")return t;Wy.has(t)||Wy.set(t,new WeakMap);var n=Wy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},SL=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Nh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ug(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Of(),realScaleType:"point"}:i==="category"?{scale:Nh(),realScaleType:"band"}:{scale:ug(),realScaleType:"linear"};if(Fl(a)){var c="scale".concat(Wx(a));return{scale:(bA[c]||Of)(),realScaleType:bA[c]?c:"point"}}return ht(a)?{scale:a}:{scale:Of(),realScaleType:"point"}},_A=1e-4,NL=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-_A,o=Math.max(a[0],a[1])+_A,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},gve=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xve=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(i[0]=n),(!He(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},vve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=x0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},yve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=x0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},bve={sign:vve,expand:Bie,none:gu,silhouette:$ie,wiggle:Uie,positive:yve},wve=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=bve[n],o=Fie().keys(a).value(function(l,c){return+zr(l,c,0)}).order(Xb).offset(i);return o(t)},kve=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wr(wr({},h.type.defaultProps),h.props):h.props,m=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(qr(m)){var v=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),y.hasStack=!0,y.stackGroups[m]=v}else y.stackGroups[ad("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return wr(wr({},f),{},ru({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var b=p.stackGroups[x];return wr(wr({},m),{},ru({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:wve(t,b.items,i)}))},g)}return wr(wr({},f),{},ru({},h,p))},d)},TL=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Ixe(u,i,l);return t.domain([ov(d),sv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Lxe(f,i,l);return{niceTicks:h}}return null};function EA(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!mt(a[t.dataKey])){var l=Vm(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=zr(a,mt(o)?t.dataKey:o);return mt(c)?null:t.scale(c)}var AA=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=zr(o,r.dataKey,r.domain[l]);return mt(c)?null:r.scale(c)-i/2+a},jve=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Sve=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(qr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Nve=function(t){return t.reduce(function(r,n){return[ov(n.concat([r[0]]).filter(He)),sv(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},PL=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Nve(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},OA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tw=function(t,r,n){if(ht(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(He(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(OA.test(t[0])){var i=+OA.exec(t[0])[1];a[0]=r[0]-i}else ht(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(He(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(CA.test(t[1])){var o=+CA.exec(t[1])[1];a[1]=r[1]+o}else ht(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Bj(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},DA=function(t,r,n){return!t||!t.length||j0(t,Ta(n,"type.defaultProps.domain"))?r:t},_L=function(t,r){var n=t.type.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return wr(wr({},ot(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:dS(t),value:zr(r,a),type:c,payload:r,chartType:u,hide:d})};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){EL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EL(e,t,r){return t=Tve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tve(e){var t=Pve(e,"string");return Mh(t)=="symbol"?t:t+""}function Pve(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ve(e,t){return Cve(e)||Ove(e,t)||Ave(e,t)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ave(e,t){if(e){if(typeof e=="string")return RA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(e,t)}}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ove(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cve(e){if(Array.isArray(e))return e}var vg=Math.PI/180,Dve=function(t){return t*180/Math.PI},er=function(t,r,n,a){return{x:t+Math.cos(-vg*a)*n,y:r+Math.sin(-vg*a)*n}},AL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Mve=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=qn(t.cx,o,o/2),f=qn(t.cy,l,l/2),h=AL(o,l,n),p=qn(t.innerRadius,h,0),g=qn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var y=r[b],v=y.domain,w=y.reversed,k;if(mt(y.range))a==="angleAxis"?k=[c,u]:a==="radiusAxis"&&(k=[p,g]),w&&(k=[k[1],k[0]]);else{k=y.range;var N=k,S=_ve(N,2);c=S[0],u=S[1]}var T=SL(y,i),P=T.realScaleType,_=T.scale;_.domain(v).range(k),NL(_);var O=TL(_,Wi(Wi({},y),{},{realScaleType:P})),E=Wi(Wi(Wi({},y),O),{},{range:k,radius:g,realScaleType:P,scale:_,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Wi(Wi({},x),{},EL({},b,E))},{})},Rve=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Ive=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Rve({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Dve(u),angleInRadian:u}},Lve=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Fve=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},IA=function(t,r){var n=t.x,a=t.y,i=Ive({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Lve(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Wi(Wi({},r),{},{radius:o,angle:Fve(p,r)}):null},OL=function(t){return!j.isValidElement(t)&&!ht(t)&&typeof t!="boolean"?t.className:""};function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}var Bve=["offset"];function $ve(e){return Hve(e)||Vve(e)||Kve(e)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Vve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hve(e){if(Array.isArray(e))return Pw(e)}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zve(e,t){if(e==null)return{};var r=Wve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){Gve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gve(e,t,r){return t=qve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qve(e){var t=Yve(e,"string");return Rh(t)=="symbol"?t:t+""}function Yve(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}var Xve=function(t){var r=t.value,n=t.formatter,a=mt(t.children)?r:t.children;return ht(n)?n(a):a},Jve=function(t,r){var n=Gn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Zve=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,x=(f+h)/2,b=Jve(p,g),y=b>=0?1:-1,v,w;a==="insideStart"?(v=p+y*o,w=m):a==="insideEnd"?(v=g-y*o,w=!m):a==="end"&&(v=g+y*o,w=m),w=b<=0?w:!w;var k=er(u,d,x,v),N=er(u,d,x,v+(w?1:-1)*359),S="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),T=mt(t.id)?ad("recharts-radial-line-"):t.id;return fe.createElement("text",Ih({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",l)}),fe.createElement("defs",null,fe.createElement("path",{id:T,d:S})),fe.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Qve=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=er(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=er(o,l,x,h),y=b.x,v=b.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},eye=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,x=m*a,b=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Kr(Kr({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Kr(Kr({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var k={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Kr(Kr({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Kr(Kr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?Kr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?Kr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideTop"?Kr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?Kr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?Kr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:g},S):i==="insideTopRight"?Kr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},S):i==="insideBottomLeft"?Kr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},S):i==="insideBottomRight"?Kr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:p},S):ed(i)&&(He(i.x)||xl(i.x))&&(He(i.y)||xl(i.y))?Kr({x:l+qn(i.x,u),y:c+qn(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):Kr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},tye=function(t){return"cx"in t&&He(t.cx)};function en(e){var t=e.offset,r=t===void 0?5:t,n=zve(e,Bve),a=Kr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||mt(l)&&mt(c)&&!j.isValidElement(u)&&!ht(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(ht(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=Xve(a);var g=tye(i),m=ot(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zve(a,p,m);var x=g?Qve(a):eye(a);return fe.createElement($l,Ih({className:gt("recharts-label",f)},m,x,{breakAll:h}),p)}en.displayName="Label";var CL=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(He(m)&&He(x)){if(He(f)&&He(h))return{x:f,y:h,width:m,height:x};if(He(p)&&He(g))return{x:p,y:g,width:m,height:x}}return He(f)&&He(h)?{x:f,y:h,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},rye=function(t,r){return t?t===!0?fe.createElement(en,{key:"label-implicit",viewBox:r}):qr(t)?fe.createElement(en,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===en?j.cloneElement(t,{key:"label-implicit",viewBox:r}):fe.createElement(en,{key:"label-implicit",content:t,viewBox:r}):ht(t)?fe.createElement(en,{key:"label-implicit",content:t,viewBox:r}):ed(t)?fe.createElement(en,Ih({viewBox:r},t,{key:"label-implicit"})):null:null},nye=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=CL(t),o=Pa(a,en).map(function(c,u){return j.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=rye(t.label,r||i);return[l].concat($ve(o))};en.parseViewBox=CL;en.renderCallByParent=nye;function aye(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iye=aye;const sye=Lt(iye);function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var oye=["valueAccessor"],lye=["data","dataKey","clockWise","id","textBreakAll"];function cye(e){return hye(e)||fye(e)||dye(e)||uye()}function uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dye(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function fye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hye(e){if(Array.isArray(e))return _w(e)}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pye(e,t,r){return t=mye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mye(e){var t=gye(e,"string");return Lh(t)=="symbol"?t:t+""}function gye(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $A(e,t){if(e==null)return{};var r=xye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vye=function(t){return Array.isArray(t.value)?sye(t.value):t.value};function Mi(e){var t=e.valueAccessor,r=t===void 0?vye:t,n=$A(e,oye),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=$A(n,lye);return!a||!a.length?null:fe.createElement(Ct,{className:"recharts-label-list"},a.map(function(d,f){var h=mt(i)?r(d,f):zr(d&&d.payload,i),p=mt(l)?{}:{id:"".concat(l,"-").concat(f)};return fe.createElement(en,yg({},ot(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:en.parseViewBox(mt(o)?d:BA(BA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Mi.displayName="LabelList";function yye(e,t){return e?e===!0?fe.createElement(Mi,{key:"labelList-implicit",data:t}):fe.isValidElement(e)||ht(e)?fe.createElement(Mi,{key:"labelList-implicit",data:t,content:e}):ed(e)?fe.createElement(Mi,yg({data:t},e,{key:"labelList-implicit"})):null:null}function bye(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Pa(n,Mi).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=yye(e.label,t);return[i].concat(cye(a))}Mi.renderCallByParent=bye;function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){wye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wye(e,t,r){return t=kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=jye(e,"string");return Fh(t)=="symbol"?t:t+""}function jye(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sye=function(t,r){var n=Gn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},xp=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/vg,h=u?i:i+o*f,p=er(r,n,d,h),g=er(r,n,a,h),m=u?i-o*f:i,x=er(r,n,d*Math.cos(f*vg),m);return{center:p,circleTangency:g,lineTangency:x,theta:f}},DL=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Sye(o,l),u=o+c,d=er(r,n,i,o),f=er(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=er(r,n,a,o),g=er(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Nye=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Gn(d-u),h=xp({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,x=xp({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,v=x.theta,w=c?Math.abs(u-d):Math.abs(u-d)-m-v;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DL({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var k="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=xp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,T=N.lineTangency,P=N.theta,_=xp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=_.circleTangency,E=_.lineTangency,C=_.theta,z=c?Math.abs(u-d):Math.abs(u-d)-P-C;if(z<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},Tye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ML=function(t){var r=KA(KA({},Tye),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=gt("recharts-sector",h),g=o-i,m=qn(l,g,0,!0),x;return m>0&&Math.abs(d-f)<360?x=Nye({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=DL({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),fe.createElement("path",Ew({},ot(r,!0),{className:p,d:x,role:"img"}))};function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(this,arguments)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){Pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pye(e,t,r){return t=_ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ye(e){var t=Eye(e,"string");return Bh(t)=="symbol"?t:t+""}function Eye(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA={curveBasisClosed:Pie,curveBasisOpen:_ie,curveBasis:Tie,curveBumpX:fie,curveBumpY:hie,curveLinearClosed:Eie,curveLinear:qx,curveMonotoneX:Aie,curveMonotoneY:Oie,curveNatural:Cie,curveStep:Die,curveStepAfter:Rie,curveStepBefore:Mie},vp=function(t){return t.x===+t.x&&t.y===+t.y},Dd=function(t){return t.x},Md=function(t){return t.y},Aye=function(t,r){if(ht(t))return t;var n="curve".concat(Wx(t));return(n==="curveMonotone"||n==="curveBump")&&r?zA["".concat(n).concat(r==="vertical"?"Y":"X")]:zA[n]||qx},Oye=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Aye(n,l),f=u?i.filter(function(m){return vp(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return vp(m)}):o,g=f.map(function(m,x){return HA(HA({},m),{},{base:p[x]})});return l==="vertical"?h=lp().y(Md).x1(Dd).x0(function(m){return m.base.x}):h=lp().x(Dd).y1(Md).y0(function(m){return m.base.y}),h.defined(vp).curve(d),h(g)}return l==="vertical"&&He(o)?h=lp().y(Md).x1(Dd).x0(o):He(o)?h=lp().x(Dd).y1(Md).y0(o):h=_I().x(Dd).y(Md),h.defined(vp).curve(d),h(f)},bg=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Oye(t):a;return j.createElement("path",Aw({},ot(t,!1),Hm(t),{className:gt("recharts-curve",r),d:o,ref:i}))},RL={exports:{}},Cye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dye=Cye,Mye=Dye;function IL(){}function LL(){}LL.resetWarningCache=IL;var Rye=function(){function e(n,a,i,o,l,c){if(c!==Mye){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:LL,resetWarningCache:IL};return r.PropTypes=r,r};RL.exports=Rye();var Iye=RL.exports;const It=Lt(Iye),{getOwnPropertyNames:Lye,getOwnPropertySymbols:Fye}=Object,{hasOwnProperty:Bye}=Object.prototype;function WA(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function yp(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function $ye(e){return e!=null?e[Symbol.toStringTag]:void 0}function GA(e){return Lye(e).concat(Fye(e))}const Uye=Object.hasOwn||((e,t)=>Bye.call(e,t));function nc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Kye="__v",Vye="__o",Hye="_owner",{getOwnPropertyDescriptor:qA,keys:YA}=Object;function zye(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Wye(e,t){return nc(e.getTime(),t.getTime())}function Gye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function qye(e,t){return e===t}function XA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Yye=nc;function Xye(e,t,r){const n=YA(e);let a=n.length;if(YA(t).length!==a)return!1;for(;a-- >0;)if(!FL(e,t,r,n[a]))return!1;return!0}function Rd(e,t,r){const n=GA(e);let a=n.length;if(GA(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!FL(e,t,r,i)||(o=qA(e,i),l=qA(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Jye(e,t){return nc(e.valueOf(),t.valueOf())}function Zye(e,t){return e.source===t.source&&e.flags===t.flags}function JA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Qye(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function e1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function FL(e,t,r,n){return(n===Hye||n===Vye||n===Kye)&&(e.$$typeof||t.$$typeof)?!0:Uye(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const t1e="[object Arguments]",r1e="[object Boolean]",n1e="[object Date]",a1e="[object Error]",i1e="[object Map]",s1e="[object Number]",o1e="[object Object]",l1e="[object RegExp]",c1e="[object Set]",u1e="[object String]",d1e="[object URL]",{isArray:f1e}=Array,ZA=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:QA}=Object,h1e=Object.prototype.toString.call.bind(Object.prototype.toString);function p1e({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:a,areNumbersEqual:i,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,x){if(g===m)return!0;if(g==null||m==null)return!1;const b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?i(g,m,x):b==="function"?n(g,m,x):!1;const y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return o(g,m,x);if(f1e(g))return e(g,m,x);if(ZA!=null&&ZA(g))return d(g,m,x);if(y===Date)return t(g,m,x);if(y===RegExp)return c(g,m,x);if(y===Map)return a(g,m,x);if(y===Set)return u(g,m,x);const v=h1e(g);if(v===n1e)return t(g,m,x);if(v===l1e)return c(g,m,x);if(v===i1e)return a(g,m,x);if(v===c1e)return u(g,m,x);if(v===o1e)return typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,x);if(v===d1e)return f(g,m,x);if(v===a1e)return r(g,m,x);if(v===t1e)return o(g,m,x);if(v===r1e||v===s1e||v===u1e)return l(g,m,x);if(h){let w=h[v];if(!w){const k=$ye(g);k&&(w=h[k])}if(w)return w(g,m,x)}return!1}}function m1e({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?Rd:zye,areDatesEqual:Wye,areErrorsEqual:Gye,areFunctionsEqual:qye,areMapsEqual:r?WA(XA,Rd):XA,areNumbersEqual:Yye,areObjectsEqual:r?Rd:Xye,arePrimitiveWrappersEqual:Jye,areRegExpsEqual:Zye,areSetsEqual:r?WA(JA,Rd):JA,areTypedArraysEqual:r?Rd:Qye,areUrlsEqual:e1e,unknownTagComparators:void 0};if(t&&(n=QA({},n,t(n))),e){const a=yp(n.areArraysEqual),i=yp(n.areMapsEqual),o=yp(n.areObjectsEqual),l=yp(n.areSetsEqual);n=QA({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function g1e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function x1e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const v1e=Go();Go({strict:!0});Go({circular:!0});Go({circular:!0,strict:!0});Go({createInternalComparator:()=>nc});Go({strict:!0,createInternalComparator:()=>nc});Go({circular:!0,createInternalComparator:()=>nc});Go({circular:!0,createInternalComparator:()=>nc,strict:!0});function Go(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=m1e(e),o=p1e(i),l=r?r(o):g1e(o);return x1e({circular:t,comparator:o,createState:n,equals:l,strict:a})}function y1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function e4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):y1e(a)};requestAnimationFrame(n)}function Ow(e){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ow(e)}function b1e(e){return S1e(e)||j1e(e)||k1e(e)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(e,t){if(e){if(typeof e=="string")return t4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t4(e,t)}}function t4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S1e(e){if(Array.isArray(e))return e}function N1e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=b1e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){e4(a.bind(null,u),c);return}a(c),e4(a.bind(null,u));return}Ow(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){BL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BL(e,t,r){return t=T1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T1e(e){var t=P1e(e,"string");return $h(t)==="symbol"?t:String(t)}function P1e(e,t){if($h(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($h(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _1e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},E1e=function(t){return t},A1e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Df=function(t,r){return Object.keys(r).reduce(function(n,a){return n4(n4({},n),{},BL({},a,t(a,r[a])))},{})},a4=function(t,r,n){return t.map(function(a){return"".concat(A1e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function O1e(e,t){return M1e(e)||D1e(e,t)||$L(e,t)||C1e()}function C1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M1e(e){if(Array.isArray(e))return e}function R1e(e){return F1e(e)||L1e(e)||$L(e)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $L(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function L1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F1e(e){if(Array.isArray(e))return Cw(e)}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wg=1e-4,UL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},KL=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},i4=function(t,r){return function(n){var a=UL(t,r);return KL(a,n)}},B1e=function(t,r){return function(n){var a=UL(t,r),i=[].concat(R1e(a.map(function(o,l){return o*l}).slice(1)),[0]);return KL(i,n)}},s4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=O1e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=i4(a,o),h=i4(i,l),p=B1e(a,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,v=y,w=0;w<8;++w){var k=f(v)-y,N=p(v);if(Math.abs(k-y)<wg||N<wg)return h(v);v=g(v-k/N)}return h(v)};return m.isStepper=!1,m},$1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<wg&&Math.abs(m)<wg?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},U1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return s4(a);case"spring":return $1e();default:if(a.split("(")[0]==="cubic-bezier")return s4(a)}return typeof a=="function"?a:null};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function o4(e){return H1e(e)||V1e(e)||VL(e)||K1e()}function K1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H1e(e){if(Array.isArray(e))return Mw(e)}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){Dw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dw(e,t,r){return t=z1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z1e(e){var t=W1e(e,"string");return Uh(t)==="symbol"?t:String(t)}function W1e(e,t){if(Uh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e,t){return X1e(e)||Y1e(e,t)||VL(e,t)||q1e()}function q1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VL(e,t){if(e){if(typeof e=="string")return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function X1e(e){if(Array.isArray(e))return e}var kg=function(t,r,n){return t+(r-t)*n},Rw=function(t){var r=t.from,n=t.to;return r!==n},J1e=function e(t,r,n){var a=Df(function(i,o){if(Rw(o)){var l=t(o.from,o.to,o.velocity),c=G1e(l,2),u=c[0],d=c[1];return fn(fn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Df(function(i,o){return Rw(o)?fn(fn({},o),{},{velocity:kg(o.velocity,a[i].velocity,n),from:kg(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Z1e=function(e,t,r,n,a){var i=_1e(e,t),o=i.reduce(function(x,b){return fn(fn({},x),{},Dw({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return fn(fn({},x),{},Dw({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Df(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(Rw).length},g=function(b){u||(u=b);var y=b-u,v=y/r.dt;l=J1e(r,l,v),a(fn(fn(fn({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,v=Df(function(k,N){return kg.apply(void 0,o4(N).concat([r(y)]))},o);if(a(fn(fn(fn({},e),t),v)),y<1)c=requestAnimationFrame(f);else{var w=Df(function(k,N){return kg.apply(void 0,o4(N).concat([r(1)]))},o);a(fn(fn(fn({},e),t),w))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}var Q1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ebe(e,t){if(e==null)return{};var r=tbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tbe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gy(e){return ibe(e)||abe(e)||nbe(e)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(e,t){if(e){if(typeof e=="string")return Iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(e,t)}}function abe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ibe(e){if(Array.isArray(e))return Iw(e)}function Iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){lf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lf(e,t,r){return t=HL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function obe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HL(n.key),n)}}function lbe(e,t,r){return t&&obe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HL(e){var t=cbe(e,"string");return Nu(t)==="symbol"?t:String(t)}function cbe(e,t){if(Nu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ube(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lw(e,t)}function dbe(e){var t=fbe();return function(){var n=jg(e),a;if(t){var i=jg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Fw(this,a)}}function Fw(e,t){if(t&&(Nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bw(e)}function Bw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}var Bi=function(e){ube(r,e);var t=dbe(r);function r(n,a){var i;sbe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Bw(i)),i.changeStyle=i.changeStyle.bind(Bw(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Fw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Fw(i);i.state={style:c?lf({},c,u):u}}else i.state={style:{}};return i}return lbe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?lf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(v1e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var x={style:c?lf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(ii(ii({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Z1e(o,l,U1e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,b){if(b===0)return m;var y=x.duration,v=x.easing,w=v===void 0?"ease":v,k=x.style,N=x.properties,S=x.onAnimationEnd,T=b>0?o[b-1]:x,P=N||Object.keys(k);if(typeof w=="function"||w==="spring")return[].concat(Gy(m),[i.runJSAnimation.bind(i,{from:T.style,to:k,duration:y,easing:w}),y]);var _=a4(P,y,w),O=ii(ii(ii({},T.style),k),{},{transition:_});return[].concat(Gy(m),[O,y,S]).filter(E1e)};return this.manager.start([c].concat(Gy(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=N1e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?lf({},l,c):c,x=a4(Object.keys(m),o,u);g.start([d,i,ii(ii({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=ebe(a,Q1e),u=j.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,x=m===void 0?{}:m,b=g.className,y=j.cloneElement(p,ii(ii({},c),{},{style:ii(ii({},x),d),className:b}));return y};return u===1?f(j.Children.only(i)):fe.createElement("div",null,j.Children.map(i,function(h){return f(h)}))}}]),r}(j.PureComponent);Bi.displayName="Animate";Bi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bi.propTypes={from:It.oneOfType([It.object,It.string]),to:It.oneOfType([It.object,It.string]),attributeName:It.string,duration:It.number,begin:It.number,easing:It.oneOfType([It.string,It.func]),steps:It.arrayOf(It.shape({duration:It.number.isRequired,style:It.object.isRequired,easing:It.oneOfType([It.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),It.func]),properties:It.arrayOf("string"),onAnimationEnd:It.func})),children:It.oneOfType([It.node,It.func]),isActive:It.bool,canBegin:It.bool,onAnimationEnd:It.func,shouldReAnimate:It.bool,onAnimationStart:It.func,onAnimationReStart:It.func};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function hbe(e,t){return xbe(e)||gbe(e,t)||mbe(e,t)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(e,t){if(e){if(typeof e=="string")return u4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u4(e,t)}}function u4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xbe(e){if(Array.isArray(e))return e}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vbe(e,t,r){return t=ybe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ybe(e){var t=bbe(e,"string");return Kh(t)=="symbol"?t:t+""}function bbe(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h4=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},wbe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},kbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fS=function(t){var r=f4(f4({},kbe),t),n=j.useRef(),a=j.useState(-1),i=hbe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=gt("recharts-rectangle",p);return y?fe.createElement(Bi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(w){var k=w.width,N=w.height,S=w.x,T=w.y;return fe.createElement(Bi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:g},fe.createElement("path",Sg({},ot(r,!0),{className:v,d:h4(S,T,k,N,h),ref:n})))}):fe.createElement("path",Sg({},ot(r,!0),{className:v,d:h4(c,u,d,f,h)}))},jbe=["points","className","baseLinePoints","connectNulls"];function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}function Sbe(e,t){if(e==null)return{};var r=Nbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p4(e){return Ebe(e)||_be(e)||Pbe(e)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pbe(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function _be(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ebe(e){if(Array.isArray(e))return $w(e)}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m4=function(t){return t&&t.x===+t.x&&t.y===+t.y},Abe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){m4(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),m4(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Mf=function(t,r){var n=Abe(t);r&&(n=[n.reduce(function(i,o){return[].concat(p4(i),p4(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Obe=function(t,r,n){var a=Mf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Mf(r.reverse(),n).slice(1))},Cbe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Sbe(t,jbe);if(!r||!r.length)return null;var l=gt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Obe(r,a,i);return fe.createElement("g",{className:l},fe.createElement("path",Lc({},ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?fe.createElement("path",Lc({},ot(o,!0),{fill:"none",d:Mf(r,i)})):null,c?fe.createElement("path",Lc({},ot(o,!0),{fill:"none",d:Mf(a,i)})):null)}var d=Mf(r,i);return fe.createElement("path",Lc({},ot(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(this,arguments)}var uv=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=gt("recharts-dot",i);return r===+r&&n===+n&&a===+a?j.createElement("circle",Uw({},ot(t,!1),Hm(t),{className:o,cx:r,cy:n,r:a})):null};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}var Dbe=["x","y","top","left","width","height","className"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(this,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){Rbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rbe(e,t,r){return t=Ibe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ibe(e){var t=Lbe(e,"string");return Vh(t)=="symbol"?t:t+""}function Lbe(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fbe(e,t){if(e==null)return{};var r=Bbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $be=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Ube=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Fbe(t,Dbe),x=Mbe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!He(n)||!He(i)||!He(f)||!He(p)||!He(l)||!He(u)?null:fe.createElement("path",Kw({},ot(x,!0),{className:gt("recharts-cross",g),d:$be(n,i,f,p,l,u)}))},Kbe=iv,Vbe=rL,Hbe=Ui;function zbe(e,t){return e&&e.length?Kbe(e,Hbe(t),Vbe):void 0}var Wbe=zbe;const Gbe=Lt(Wbe);var qbe=iv,Ybe=Ui,Xbe=nL;function Jbe(e,t){return e&&e.length?qbe(e,Ybe(t),Xbe):void 0}var Zbe=Jbe;const Qbe=Lt(Zbe);var ewe=["cx","cy","angle","ticks","axisLine"],twe=["ticks","tick","angle","tickFormatter","stroke"];function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(this,arguments)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v4(e,t){if(e==null)return{};var r=rwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WL(n.key),n)}}function awe(e,t,r){return t&&y4(e.prototype,t),r&&y4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iwe(e,t,r){return t=Ng(t),swe(e,zL()?Reflect.construct(t,r||[],Ng(e).constructor):t.apply(e,r))}function swe(e,t){if(t&&(Tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return owe(e)}function owe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}function lwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vw(e,t)}function dv(e,t,r){return t=WL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=cwe(e,"string");return Tu(t)=="symbol"?t:t+""}function cwe(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fv=function(e){function t(){return nwe(this,t),iwe(this,t,arguments)}return lwe(t,e),awe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return er(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Gbe(l,function(d){return d.coordinate||0}),u=Qbe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=v4(n,ewe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=er(a,i,d[0],o),h=er(a,i,d[1],o),p=Jo(Jo(Jo({},ot(u,!1)),{},{fill:"none"},ot(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return fe.createElement("line",Rf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=v4(a,twe),f=this.getTickTextAnchor(),h=ot(d,!1),p=ot(o,!1),g=i.map(function(m,x){var b=n.getTickValueCoord(m),y=Jo(Jo(Jo(Jo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:m});return fe.createElement(Ct,Rf({className:gt("recharts-polar-radius-axis-tick",OL(o)),key:"tick-".concat(m.coordinate)},Bl(n.props,m,x)),t.renderTickItem(o,y,c?c(m.value,x):m.value))});return fe.createElement(Ct,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:fe.createElement(Ct,{className:gt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),en.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,a):ht(n)?o=n(a):o=fe.createElement($l,Rf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(j.PureComponent);dv(fv,"displayName","PolarRadiusAxis");dv(fv,"axisType","radiusAxis");dv(fv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(this,arguments)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qL(n.key),n)}}function dwe(e,t,r){return t&&w4(e.prototype,t),r&&w4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwe(e,t,r){return t=Tg(t),hwe(e,GL()?Reflect.construct(t,r||[],Tg(e).constructor):t.apply(e,r))}function hwe(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pwe(e)}function pwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(e)}function mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hw(e,t)}function hv(e,t,r){return t=qL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=gwe(e,"string");return Pu(t)=="symbol"?t:t+""}function gwe(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xwe=Math.PI/180,k4=1e-5,pv=function(e){function t(){return uwe(this,t),fwe(this,t,arguments)}return mwe(t,e),dwe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=er(i,o,l,n.coordinate),h=er(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*xwe),o;return i>k4?o=a==="outer"?"start":"end":i<-k4?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Zo(Zo({},ot(this.props,!1)),{},{fill:"none"},ot(l,!1));if(c==="circle")return fe.createElement(uv,dl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return er(a,i,o,h.coordinate)});return fe.createElement(Cbe,dl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ot(this.props,!1),f=ot(o,!1),h=Zo(Zo({},d),{},{fill:"none"},ot(l,!1)),p=i.map(function(g,m){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=Zo(Zo(Zo({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:x.x2,y:x.y2});return fe.createElement(Ct,dl({className:gt("recharts-polar-angle-axis-tick",OL(o)),key:"tick-".concat(g.coordinate)},Bl(n.props,g,m)),l&&fe.createElement("line",dl({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return fe.createElement(Ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:fe.createElement(Ct,{className:gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,a):ht(n)?o=n(a):o=fe.createElement($l,dl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(j.PureComponent);hv(pv,"displayName","PolarAngleAxis");hv(pv,"axisType","angleAxis");hv(pv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vwe=ZI,ywe=vwe(Object.getPrototypeOf,Object),bwe=ywe,wwe=ks,kwe=bwe,jwe=js,Swe="[object Object]",Nwe=Function.prototype,Twe=Object.prototype,YL=Nwe.toString,Pwe=Twe.hasOwnProperty,_we=YL.call(Object);function Ewe(e){if(!jwe(e)||wwe(e)!=Swe)return!1;var t=kwe(e);if(t===null)return!0;var r=Pwe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&YL.call(r)==_we}var Awe=Ewe;const Owe=Lt(Awe);var Cwe=ks,Dwe=js,Mwe="[object Boolean]";function Rwe(e){return e===!0||e===!1||Dwe(e)&&Cwe(e)==Mwe}var Iwe=Rwe;const Lwe=Lt(Iwe);function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function Fwe(e,t){return Kwe(e)||Uwe(e,t)||$we(e,t)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $we(e,t){if(e){if(typeof e=="string")return j4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j4(e,t)}}function j4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Kwe(e){if(Array.isArray(e))return e}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){Vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vwe(e,t,r){return t=Hwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hwe(e){var t=zwe(e,"string");return Hh(t)=="symbol"?t:t+""}function zwe(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Wwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gwe=function(t){var r=N4(N4({},Wwe),t),n=j.useRef(),a=j.useState(-1),i=Fwe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=gt("recharts-trapezoid",p);return b?fe.createElement(Bi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(v){var w=v.upperWidth,k=v.lowerWidth,N=v.height,S=v.x,T=v.y;return fe.createElement(Bi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},fe.createElement("path",Pg({},ot(r,!0),{className:y,d:T4(S,T,w,k,N),ref:n})))}):fe.createElement("g",null,fe.createElement("path",Pg({},ot(r,!0),{className:y,d:T4(c,u,d,f,h)})))},qwe=["option","shapeType","propTransformer","activeClassName","isActive"];function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function Ywe(e,t){if(e==null)return{};var r=Xwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){Jwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jwe(e,t,r){return t=Zwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zwe(e){var t=Qwe(e,"string");return zh(t)=="symbol"?t:t+""}function Qwe(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eke(e,t){return _g(_g({},t),e)}function tke(e,t){return e==="symbols"}function _4(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return fe.createElement(fS,r);case"trapezoid":return fe.createElement(Gwe,r);case"sector":return fe.createElement(ML,r);case"symbols":if(tke(t))return fe.createElement(Oj,r);break;default:return null}}function rke(e){return j.isValidElement(e)?e.props:e}function XL(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?eke:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Ywe(e,qwe),u;if(j.isValidElement(t))u=j.cloneElement(t,_g(_g({},c),rke(t)));else if(ht(t))u=t(c);else if(Owe(t)&&!Lwe(t)){var d=a(t,c);u=fe.createElement(_4,{shapeType:r,elementProps:d})}else{var f=c;u=fe.createElement(_4,{shapeType:r,elementProps:f})}return l?fe.createElement(Ct,{className:o},u):u}function mv(e,t){return t!=null&&"trapezoids"in e.props}function gv(e,t){return t!=null&&"sectors"in e.props}function Wh(e,t){return t!=null&&"points"in e.props}function nke(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ake(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ike(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ske(e,t){var r;return mv(e,t)?r=nke:gv(e,t)?r=ake:Wh(e,t)&&(r=ike),r}function oke(e,t){var r;return mv(e,t)?r="trapezoids":gv(e,t)?r="sectors":Wh(e,t)&&(r="points"),r}function lke(e,t){if(mv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wh(e,t)?t.payload:{}}function cke(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=oke(r,t),i=lke(r,t),o=n.filter(function(c,u){var d=j0(i,c),f=r.props[a].filter(function(g){var m=ske(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Bp;function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZL(n.key),n)}}function dke(e,t,r){return t&&A4(e.prototype,t),r&&A4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fke(e,t,r){return t=Eg(t),hke(e,JL()?Reflect.construct(t,r||[],Eg(e).constructor):t.apply(e,r))}function hke(e,t){if(t&&(_u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pke(e)}function pke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(e)}function mke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zw(e,t)}function Ka(e,t,r){return t=ZL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e){var t=gke(e,"string");return _u(t)=="symbol"?t:t+""}function gke(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yi=function(e){function t(r){var n;return uke(this,t),n=fke(this,t,[r]),Ka(n,"pieRef",null),Ka(n,"sectorRefs",[]),Ka(n,"id",ad("recharts-pie-")),Ka(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ht(a)&&a()}),Ka(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ht(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return mke(t,e),dke(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ot(this.props,!1),f=ot(o,!1),h=ot(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,y=er(m.cx,m.cy,m.outerRadius+p,b),v=Xt(Xt(Xt(Xt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,m.cx)},y),w=Xt(Xt(Xt(Xt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[er(m.cx,m.cy,m.outerRadius,b),y]}),k=c;return mt(c)&&mt(u)?k="value":mt(c)&&(k=u),fe.createElement(Ct,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,v,zr(m,k)))});return fe.createElement(Ct,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,g=Xt(Xt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return fe.createElement(Ct,Fc({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Bl(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),fe.createElement(XL,Fc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return fe.createElement(Bi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(v,w){var k=h&&h[w],N=w>0?Ta(v,"paddingAngle",0):0;if(k){var S=ka(k.endAngle-k.startAngle,v.endAngle-v.startAngle),T=Xt(Xt({},v),{},{startAngle:y+N,endAngle:y+S(m)+N});x.push(T),y=T.endAngle}else{var P=v.endAngle,_=v.startAngle,O=ka(0,P-_),E=O(m),C=Xt(Xt({},v),{},{startAngle:y+N,endAngle:y+E+N});x.push(C),y=C.endAngle}}),fe.createElement(Ct,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!j0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!He(u)||!He(d)||!He(f)||!He(h))return null;var m=gt("recharts-pie",l);return fe.createElement(Ct,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),en.renderCallByParent(this.props,null,!1),(!p||g)&&Mi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(fe.isValidElement(n))return fe.cloneElement(n,a);if(ht(n))return n(a);var o=gt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return fe.createElement(bg,Fc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(fe.isValidElement(n))return fe.cloneElement(n,a);var o=i;if(ht(n)&&(o=n(a),fe.isValidElement(o)))return o;var l=gt("recharts-pie-label-text",typeof n!="boolean"&&!ht(n)?n.className:"");return fe.createElement($l,Fc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);Bp=yi;Ka(yi,"displayName","Pie");Ka(yi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ec.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ka(yi,"parseDeltaAngle",function(e,t){var r=Gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ka(yi,"getRealPieData",function(e){var t=e.data,r=e.children,n=ot(e,!1),a=Pa(r,Tl);return t&&t.length?t.map(function(i,o){return Xt(Xt(Xt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Xt(Xt({},n),i.props)}):[]});Ka(yi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=AL(a,i),l=n+qn(e.cx,a,a/2),c=r+qn(e.cy,i,i/2),u=qn(e.innerRadius,o,0),d=qn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ka(yi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Xt(Xt({},t.type.defaultProps),t.props):t.props,a=Bp.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Bp.parseCoordinateOfPie(n,r),m=Bp.parseDeltaAngle(o,l),x=Math.abs(m),b=u;mt(u)&&mt(f)?(vi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):mt(u)&&(vi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(T){return zr(T,b,0)!==0}).length,v=(x>=360?y:y-1)*c,w=x-y*p-v,k=a.reduce(function(T,P){var _=zr(P,b,0);return T+(He(_)?_:0)},0),N;if(k>0){var S;N=a.map(function(T,P){var _=zr(T,b,0),O=zr(T,d,P),E=(He(_)?_:0)/k,C;P?C=S.endAngle+Gn(m)*c*(_!==0?1:0):C=o;var z=C+Gn(m)*((_!==0?p:0)+E*w),Q=(C+z)/2,W=(g.innerRadius+g.outerRadius)/2,q=[{name:O,value:_,payload:T,dataKey:b,type:h}],re=er(g.cx,g.cy,W,Q);return S=Xt(Xt(Xt({percent:E,cornerRadius:i,name:O,tooltipPayload:q,midAngle:Q,middleRadius:W,tooltipPosition:re},T),g),{},{value:zr(T,b),startAngle:C,endAngle:z,payload:T,paddingAngle:Gn(m)*c}),S})}return Xt(Xt({},g),{},{sectors:N,data:a})});var xke=Math.ceil,vke=Math.max;function yke(e,t,r,n){for(var a=-1,i=vke(xke((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var bke=yke,wke=x6,O4=1/0,kke=17976931348623157e292;function jke(e){if(!e)return e===0?e:0;if(e=wke(e),e===O4||e===-O4){var t=e<0?-1:1;return t*kke}return e===e?e:0}var QL=jke,Ske=bke,Nke=Zx,qy=QL;function Tke(e){return function(t,r,n){return n&&typeof n!="number"&&Nke(t,r,n)&&(r=n=void 0),t=qy(t),r===void 0?(r=t,t=0):r=qy(r),n=n===void 0?t<r?1:-1:qy(n),Ske(t,r,n,e)}}var Pke=Tke,_ke=Pke,Eke=_ke(),Ake=Eke;const Ag=Lt(Ake);function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return t=Oke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oke(e){var t=Cke(e,"string");return Gh(t)=="symbol"?t:t+""}function Cke(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dke=["Webkit","Moz","O","ms"],Mke=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Dke.reduce(function(i,o){return D4(D4({},i),{},eF({},o+n,r))},{});return a[t]=r,a};function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function Ike(e,t,r){return t&&R4(e.prototype,t),r&&R4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lke(e,t,r){return t=Cg(t),Fke(e,tF()?Reflect.construct(t,r||[],Cg(e).constructor):t.apply(e,r))}function Fke(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bke(e)}function Bke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function Cg(e){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(e)}function $ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ww(e,t)}function ma(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=Uke(e,"string");return Eu(t)=="symbol"?t:t+""}function Uke(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kke=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Of().domain(Ag(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},I4=function(t){return t.changedTouches&&!!t.changedTouches.length},Au=function(e){function t(r){var n;return Rke(this,t),n=Lke(this,t,[r]),ma(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ma(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ma(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ma(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ma(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ma(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ma(n,"handleSlideDragStart",function(a){var i=I4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return $ke(t,e),Ike(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=zr(i[n],l,n);return ht(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=I4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var v=this.getIndex(b),w=v.startIndex,k=v.endIndex,N=function(){var T=x.length-1;return o==="startX"&&(l>c?w%m===0:k%m===0)||l<c&&k===T||o==="endX"&&(l>c?k%m===0:w%m===0)||l>c&&k===T};this.setState(ma(ma({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&N()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ma({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return fe.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?fe.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=Yy(Yy({},ot(this.props,!1)),{},{x:b,y:u,width:d,height:f}),v=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return fe.createElement(Ct,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return fe.createElement(Ct,{className:"recharts-brush-texts"},fe.createElement($l,Og({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(a)),fe.createElement($l,Og({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!He(l)||!He(c)||!He(u)||!He(d)||u<=0||d<=0)return null;var v=gt("recharts-brush",i),w=fe.Children.count(o)===1,k=Mke("userSelect","none");return fe.createElement(Ct,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),fe.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return fe.isValidElement(n)?i=fe.cloneElement(n,a):ht(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Yy({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Kke({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(j.PureComponent);ma(Au,"displayName","Brush");ma(Au,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vke=Fj;function Hke(e,t){var r;return Vke(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var zke=Hke,Wke=HI,Gke=Ui,qke=zke,Yke=ha,Xke=Zx;function Jke(e,t,r){var n=Yke(e)?Wke:qke;return r&&Xke(e,t,r)&&(t=void 0),n(e,Gke(t))}var Zke=Jke;const Qke=Lt(Zke);var Ri=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},L4=f6;function e2e(e,t,r){t=="__proto__"&&L4?L4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var t2e=e2e,r2e=t2e,n2e=u6,a2e=Ui;function i2e(e,t){var r={};return t=a2e(t),n2e(e,function(n,a,i){r2e(r,a,t(n,a,i))}),r}var s2e=i2e;const o2e=Lt(s2e);function l2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var c2e=l2e,u2e=Fj;function d2e(e,t){var r=!0;return u2e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var f2e=d2e,h2e=c2e,p2e=f2e,m2e=Ui,g2e=ha,x2e=Zx;function v2e(e,t,r){var n=g2e(e)?h2e:p2e;return r&&x2e(e,t,r)&&(t=void 0),n(e,m2e(t))}var y2e=v2e;const nF=Lt(y2e);var b2e=["x","y"];function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){w2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w2e(e,t,r){return t=k2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2e(e){var t=j2e(e,"string");return qh(t)=="symbol"?t:t+""}function j2e(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2e(e,t){if(e==null)return{};var r=N2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T2e(e,t){var r=e.x,n=e.y,a=S2e(e,b2e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Id(Id(Id(Id(Id({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function B4(e){return fe.createElement(XL,Gw({shapeType:"rectangle",propTransformer:T2e,activeClassName:"recharts-active-bar"},e))}var P2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=He(n)||Jne(n);return i?t(n,a):(i||Kl(),r)}},_2e=["value","background"],aF;function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function E2e(e,t){if(e==null)return{};var r=A2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}function $4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sF(n.key),n)}}function C2e(e,t,r){return t&&U4(e.prototype,t),r&&U4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D2e(e,t,r){return t=Mg(t),M2e(e,iF()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function M2e(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R2e(e)}function R2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function I2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qw(e,t)}function ho(e,t,r){return t=sF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=L2e(e,"string");return Ou(t)=="symbol"?t:t+""}function L2e(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ii=function(e){function t(){var r;O2e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=D2e(this,t,[].concat(a)),ho(r,"state",{isAnimationFinished:!1}),ho(r,"id",ad("recharts-bar-")),ho(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ho(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return I2e(t,e),C2e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ot(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Cr(Cr(Cr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return fe.createElement(Ct,Dg({className:"recharts-bar-rectangle"},Bl(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),fe.createElement(B4,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return fe.createElement(Bi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(x,b){var y=h&&h[b];if(y){var v=ka(y.x,x.x),w=ka(y.y,x.y),k=ka(y.width,x.width),N=ka(y.height,x.height);return Cr(Cr({},x),{},{x:v(g),y:w(g),width:k(g),height:N(g)})}if(o==="horizontal"){var S=ka(0,x.height),T=S(g);return Cr(Cr({},x),{},{y:x.y+x.height-T,height:T})}var P=ka(0,x.width),_=P(g);return Cr(Cr({},x),{},{width:_})});return fe.createElement(Ct,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!j0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ot(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=E2e(u,_2e);if(!f)return null;var p=Cr(Cr(Cr(Cr(Cr({},h),{},{fill:"#eee"},f),c),Bl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return fe.createElement(B4,Dg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Pa(d,S0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:zr(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return fe.createElement(Ct,g,f.map(function(m){return fe.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=gt("recharts-bar",o),y=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,w=y||v,k=mt(m)?this.id:m;return fe.createElement(Ct,{className:b},y||v?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(k)},fe.createElement("rect",{x:y?u:u-f/2,y:v?d:d-h/2,width:y?f:f*2,height:v?h:h*2}))):null,fe.createElement(Ct,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(k,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,k),(!p||x)&&Mi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);aF=Ii;ho(Ii,"displayName","Bar");ho(Ii,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ec.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ho(Ii,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=gve(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,x=m!==void 0?Cr(Cr({},m),r.props):r.props,b=x.dataKey,y=x.children,v=x.minPointSize,w=g==="horizontal"?o:i,k=u?w.scale.domain():null,N=jve({numericAxis:w}),S=Pa(y,Tl),T=f.map(function(P,_){var O,E,C,z,Q,W;u?O=xve(u[d+_],k):(O=zr(P,b),Array.isArray(O)||(O=[N,O]));var q=P2e(v,aF.defaultProps.minPointSize)(O[1],_);if(g==="horizontal"){var re,G=[o.scale(O[0]),o.scale(O[1])],de=G[0],ce=G[1];E=AA({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:_}),C=(re=ce??de)!==null&&re!==void 0?re:void 0,z=p.size;var U=de-ce;if(Q=Number.isNaN(U)?0:U,W={x:E,y:o.y,width:z,height:o.height},Math.abs(q)>0&&Math.abs(Q)<Math.abs(q)){var L=Gn(Q||q)*(Math.abs(q)-Math.abs(Q));C-=L,Q+=L}}else{var I=[i.scale(O[0]),i.scale(O[1])],R=I[0],J=I[1];if(E=R,C=AA({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:_}),z=J-R,Q=p.size,W={x:i.x,y:C,width:i.width,height:Q},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var xe=Gn(z||q)*(Math.abs(q)-Math.abs(z));z+=xe}}return Cr(Cr(Cr({},P),{},{x:E,y:C,width:z,height:Q,value:u?O:O[1],payload:P,background:W},S&&S[_]&&S[_].props),{},{tooltipPayload:[_L(r,P)],tooltipPosition:{x:E+z/2,y:C+Q/2}})});return Cr({data:T,layout:g},h)});function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function F2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function B2e(e,t,r){return t&&K4(e.prototype,t),r&&K4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xv(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=$2e(e,"string");return Yh(t)=="symbol"?t:t+""}function $2e(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lF=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!va(u,Ii);return d.reduce(function(p,g){var m=r[g],x=m.orientation,b=m.domain,y=m.padding,v=y===void 0?{}:y,w=m.mirror,k=m.reversed,N="".concat(x).concat(w?"Mirror":""),S,T,P,_,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=b[1]-b[0],C=1/0,z=m.categoricalDomain.sort(eae);if(z.forEach(function(I,R){R>0&&(C=Math.min((I||0)-(z[R-1]||0),C))}),Number.isFinite(C)){var Q=C/E,W=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=Q*W/2),m.padding==="no-gap"){var q=qn(t.barCategoryGap,Q*W),re=Q*W/2;S=re-q-(re-q)/W*q}}}a==="xAxis"?T=[n.left+(v.left||0)+(S||0),n.left+n.width-(v.right||0)-(S||0)]:a==="yAxis"?T=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(S||0),n.top+n.height-(v.bottom||0)-(S||0)]:T=m.range,k&&(T=[T[1],T[0]]);var G=SL(m,i,h),de=G.scale,ce=G.realScaleType;de.domain(b).range(T),NL(de);var U=TL(de,li(li({},m),{},{realScaleType:ce}));a==="xAxis"?(O=x==="top"&&!w||x==="bottom"&&w,P=n.left,_=f[N]-O*m.height):a==="yAxis"&&(O=x==="left"&&!w||x==="right"&&w,P=f[N]-O*m.width,_=n.top);var L=li(li(li({},m),U),{},{realScaleType:ce,x:P,y:_,scale:de,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return L.bandSize=xg(L,U),!m.hide&&a==="xAxis"?f[N]+=(O?-1:1)*L.height:m.hide||(f[N]+=(O?-1:1)*L.width),li(li({},p),{},xv({},g,L))},{})},cF=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},U2e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return cF({x:r,y:n},{x:a,y:i})},uF=function(){function e(t){F2e(this,e),this.scale=t}return B2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();xv(uF,"EPS",1e-4);var hS=function(t){var r=Object.keys(t).reduce(function(n,a){return li(li({},n),{},xv({},a,uF.create(t[a])))},{});return li(li({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return o2e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return nF(a,function(i,o){return r[o].isInRange(i)})}})};function K2e(e){return(e%180+180)%180}var V2e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=K2e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},H2e=Ui,z2e=v0,W2e=Xx;function G2e(e){return function(t,r,n){var a=Object(t);if(!z2e(t)){var i=H2e(r);t=W2e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var q2e=G2e,Y2e=QL;function X2e(e){var t=Y2e(e),r=t%1;return t===t?r?t-r:t:0}var J2e=X2e,Z2e=a6,Q2e=Ui,eje=J2e,tje=Math.max;function rje(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:eje(r);return a<0&&(a=tje(n+a,0)),Z2e(e,Q2e(t),a)}var nje=rje,aje=q2e,ije=nje,sje=aje(ije),oje=sje;const lje=Lt(oje);var cje=nne(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),pS=j.createContext(void 0),mS=j.createContext(void 0),dF=j.createContext(void 0),fF=j.createContext({}),hF=j.createContext(void 0),pF=j.createContext(0),mF=j.createContext(0),H4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=cje(i);return fe.createElement(pS.Provider,{value:n},fe.createElement(mS.Provider,{value:a},fe.createElement(fF.Provider,{value:i},fe.createElement(dF.Provider,{value:d},fe.createElement(hF.Provider,{value:o},fe.createElement(pF.Provider,{value:u},fe.createElement(mF.Provider,{value:c},l)))))))},uje=function(){return j.useContext(hF)},gF=function(t){var r=j.useContext(pS);r==null&&Kl();var n=r[t];return n==null&&Kl(),n},dje=function(){var t=j.useContext(pS);return so(t)},fje=function(){var t=j.useContext(mS),r=lje(t,function(n){return nF(n.domain,Number.isFinite)});return r||so(t)},xF=function(t){var r=j.useContext(mS);r==null&&Kl();var n=r[t];return n==null&&Kl(),n},hje=function(){var t=j.useContext(dF);return t},pje=function(){return j.useContext(fF)},gS=function(){return j.useContext(mF)},xS=function(){return j.useContext(pF)};function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function mje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yF(n.key),n)}}function xje(e,t,r){return t&&gje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vje(e,t,r){return t=Rg(t),yje(e,vF()?Reflect.construct(t,r||[],Rg(e).constructor):t.apply(e,r))}function yje(e,t){if(t&&(Cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bje(e)}function bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(e)}function wje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yw(e,t)}function z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(r),!0).forEach(function(n){vS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vS(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=kje(e,"string");return Cu(t)=="symbol"?t:t+""}function kje(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jje(e,t){return Pje(e)||Tje(e,t)||Nje(e,t)||Sje()}function Sje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nje(e,t){if(e){if(typeof e=="string")return G4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Pje(e){if(Array.isArray(e))return e}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(this,arguments)}var _je=function(t,r){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,r):ht(t)?n=t(r):n=fe.createElement("line",Xw({},r,{className:"recharts-reference-line-line"})),n},Eje=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Ri(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(Ri(u,"discard")&&!t.x.isInRange(y))return null;var v=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?v.reverse():v}if(a){var w=u.segment,k=w.map(function(N){return t.apply(N,{position:o})});return Ri(u,"discard")&&Qke(k,function(N){return!t.isInRange(N)})?null:k}return null};function Aje(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=uje(),d=gF(a),f=xF(i),h=hje();if(!u||!h)return null;vi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=hS({x:d.scale,y:f.scale}),g=qr(t),m=qr(r),x=n&&n.length===2,b=Eje(p,g,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=jje(b,2),v=y[0],w=v.x,k=v.y,N=y[1],S=N.x,T=N.y,P=Ri(e,"hidden")?"url(#".concat(u,")"):void 0,_=W4(W4({clipPath:P},ot(e,!0)),{},{x1:w,y1:k,x2:S,y2:T});return fe.createElement(Ct,{className:gt("recharts-reference-line",l)},_je(o,_),en.renderCallByParent(e,U2e({x1:w,y1:k,x2:S,y2:T})))}var vv=function(e){function t(){return mje(this,t),vje(this,t,arguments)}return wje(t,e),xje(t,[{key:"render",value:function(){return fe.createElement(Aje,this.props)}}])}(fe.Component);vS(vv,"displayName","ReferenceLine");vS(vv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wF(n.key),n)}}function Dje(e,t,r){return t&&Cje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mje(e,t,r){return t=Ig(t),Rje(e,bF()?Reflect.construct(t,r||[],Ig(e).constructor):t.apply(e,r))}function Rje(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ije(e)}function Ije(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(e)}function Lje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zw(e,t)}function yv(e,t,r){return t=wF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=Fje(e,"string");return Du(t)=="symbol"?t:t+""}function Fje(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bje=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=hS({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ri(t,"discard")&&!o.isInRange(l)?null:l},bv=function(e){function t(){return Oje(this,t),Mje(this,t,arguments)}return Lje(t,e),Dje(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=qr(a),d=qr(i);if(vi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Bje(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,x=g.className,b=Ri(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=Y4(Y4({clipPath:b},ot(this.props,!0)),{},{cx:h,cy:p});return fe.createElement(Ct,{className:gt("recharts-reference-dot",x)},t.renderDot(m,y),en.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(fe.Component);yv(bv,"displayName","ReferenceDot");yv(bv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yv(bv,"renderDot",function(e,t){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,t):ht(e)?r=e(t):r=fe.createElement(uv,Jw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function Kje(e,t,r){return t&&Uje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vje(e,t,r){return t=Lg(t),Hje(e,kF()?Reflect.construct(t,r||[],Lg(e).constructor):t.apply(e,r))}function Hje(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zje(e)}function zje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}function Wje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ek(e,t)}function wv(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=Gje(e,"string");return Mu(t)=="symbol"?t:t+""}function Gje(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qje=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=hS({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ri(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:cF(p,g)},kv=function(e){function t(){return $je(this,t),Vje(this,t,arguments)}return Wje(t,e),Kje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;vi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qr(a),h=qr(i),p=qr(o),g=qr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var x=qje(f,h,p,g,this.props);if(!x&&!m)return null;var b=Ri(this.props,"hidden")?"url(#".concat(d,")"):void 0;return fe.createElement(Ct,{className:gt("recharts-reference-area",c)},t.renderRect(m,J4(J4({clipPath:b},ot(this.props,!0)),x)),en.renderCallByParent(this.props,x))}}])}(fe.Component);wv(kv,"displayName","ReferenceArea");wv(kv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wv(kv,"renderRect",function(e,t){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,t):ht(e)?r=e(t):r=fe.createElement(fS,Qw({},t,{className:"recharts-reference-area-rect"})),r});function SF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Yje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return V2e(n,r)}function Xje(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Fg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Jje(e,t){return SF(e,t+1)}function Zje(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:SF(n,u)};var m=c,x,b=function(){return x===void 0&&(x=r(g,m)),x},y=g.coordinate,v=c===0||Fg(e,y,b,d,l);v||(c=0,d=o,u+=1),v&&(d=y+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){Qje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qje(e,t,r){return t=eSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eSe(e){var t=tSe(e,"string");return Xh(t)=="symbol"?t:t+""}function tSe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rSe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);i[h]=p=Pn(Pn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=Pn(Pn({},p),{},{tickCoord:p.coordinate});var b=Fg(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+a),i[h]=Pn(Pn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function nSe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Pn(Pn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Fg(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Pn(Pn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(y){var v=o[y],w,k=function(){return w===void 0&&(w=r(v,y)),w};if(y===0){var N=e*(v.coordinate-e*k()/2-c);o[y]=v=Pn(Pn({},v),{},{tickCoord:N<0?v.coordinate-N*e:v.coordinate})}else o[y]=v=Pn(Pn({},v),{},{tickCoord:v.coordinate});var S=Fg(e,v.tickCoord,k,c,u);S&&(c=v.tickCoord+e*(k()/2+a),o[y]=Pn(Pn({},v),{},{isShow:!0}))},x=0;x<g;x++)m(x);return o}function yS(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(He(c)||ec.isSsr)return Jje(a,typeof c=="number"&&He(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Af(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(v,w){var k=ht(u)?u(v.value,w):v.value;return p==="width"?Yje(Af(k,{fontSize:t,letterSpacing:r}),g,f):Af(k,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Gn(a[1].coordinate-a[0].coordinate):1,b=Xje(i,x,p);return c==="equidistantPreserveStart"?Zje(x,b,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=nSe(x,b,m,a,o,c==="preserveStartEnd"):h=rSe(x,b,m,a,o),h.filter(function(y){return y.isShow}))}var aSe=["viewBox"],iSe=["viewBox"],sSe=["ticks"];function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){bS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xy(e,t){if(e==null)return{};var r=oSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TF(n.key),n)}}function cSe(e,t,r){return t&&eO(e.prototype,t),r&&eO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uSe(e,t,r){return t=Bg(t),dSe(e,NF()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function dSe(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fSe(e)}function fSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function hSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}function tk(e,t){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tk(e,t)}function bS(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=pSe(e,"string");return Ru(t)=="symbol"?t:t+""}function pSe(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dd=function(e){function t(r){var n;return lSe(this,t),n=uSe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return hSe(t,e),cSe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Xy(n,aSe),l=this.props,c=l.viewBox,u=Xy(l,iSe);return!eu(i,c)||!eu(o,u)||!eu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,x,b,y,v=f?-1:1,w=n.tickSize||d,k=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=o+ +!f*c,m=x-v*w,y=m-v*h,b=k;break;case"left":m=x=n.coordinate,g=i+ +!f*l,p=g-v*w,b=p-v*h,y=k;break;case"right":m=x=n.coordinate,g=i+ +f*l,p=g+v*w,b=p+v*h,y=k;break;default:p=g=n.coordinate,x=o+ +f*c,m=x+v*w,y=m+v*h,b=k;break}return{line:{x1:p,y1:m,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ur(Ur(Ur({},ot(this.props,!1)),ot(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ur(Ur({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ur(Ur({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return fe.createElement("line",Bc({},f,{className:gt("recharts-cartesian-axis-line",Ta(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=yS(Ur(Ur({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ot(this.props,!1),b=ot(d,!1),y=Ur(Ur({},x),{},{fill:"none"},ot(c,!1)),v=p.map(function(w,k){var N=o.getTickLineCoord(w),S=N.line,T=N.tick,P=Ur(Ur(Ur(Ur({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),T),{},{index:k,payload:w,visibleTicksCount:p.length,tickFormatter:f});return fe.createElement(Ct,Bc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Bl(o.props,w,k)),c&&fe.createElement("line",Bc({},y,S,{className:gt("recharts-cartesian-axis-tick-line",Ta(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(ht(f)?f(w.value,k):w.value).concat(h||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Xy(f,sSe),g=h;return ht(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:fe.createElement(Ct,{className:gt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),en.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=gt(a.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(n)?o=fe.cloneElement(n,Ur(Ur({},a),{},{className:l})):ht(n)?o=n(Ur(Ur({},a),{},{className:l})):o=fe.createElement($l,Bc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(j.Component);bS(dd,"displayName","CartesianAxis");bS(dd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mSe=["x1","y1","x2","y2","key"],gSe=["offset"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){xSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xSe(e,t,r){return t=vSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vSe(e){var t=ySe(e,"string");return Vl(t)=="symbol"?t:t+""}function ySe(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function rO(e,t){if(e==null)return{};var r=bSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wSe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return fe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function PF(e,t){var r;if(fe.isValidElement(e))r=fe.cloneElement(e,t);else if(ht(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=rO(t,mSe),u=ot(c,!1);u.offset;var d=rO(u,gSe);r=fe.createElement("line",bl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function kSe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Cn(Cn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return PF(a,u)});return fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jSe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Cn(Cn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return PF(a,u)});return fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function SSe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return fe.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function NSe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return fe.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var TSe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return jL(yS(Cn(Cn(Cn({},dd.defaultProps),n),{},{ticks:Qi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},PSe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return jL(yS(Cn(Cn(Cn({},dd.defaultProps),n),{},{ticks:Qi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},hc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function If(e){var t,r,n,a,i,o,l=gS(),c=xS(),u=pje(),d=Cn(Cn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:hc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:hc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:hc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:hc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:hc.verticalFill,x:He(e.x)?e.x:u.left,y:He(e.y)?e.y:u.top,width:He(e.width)?e.width:u.width,height:He(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=dje(),v=fje();if(!He(p)||p<=0||!He(g)||g<=0||!He(f)||f!==+f||!He(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||TSe,k=d.horizontalCoordinatesGenerator||PSe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&ht(k)){var T=x&&x.length,P=k({yAxis:v?Cn(Cn({},v),{},{ticks:T?x:v.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);vi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vl(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&ht(w)){var _=b&&b.length,O=w({xAxis:y?Cn(Cn({},y),{},{ticks:_?b:y.ticks}):void 0,width:l,height:c,offset:u},_?!0:m);vi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vl(O),"]")),Array.isArray(O)&&(S=O)}return fe.createElement("g",{className:"recharts-cartesian-grid"},fe.createElement(wSe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),fe.createElement(kSe,bl({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:v})),fe.createElement(jSe,bl({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:v})),fe.createElement(SSe,bl({},d,{horizontalPoints:N})),fe.createElement(NSe,bl({},d,{verticalPoints:S})))}If.displayName="CartesianGrid";var _Se=["type","layout","connectNulls","ref"],ESe=["key"];function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function nO(e,t){if(e==null)return{};var r=ASe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ASe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pc(e){return MSe(e)||DSe(e)||CSe(e)||OSe()}function OSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CSe(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function DSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MSe(e){if(Array.isArray(e))return rk(e)}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EF(n.key),n)}}function ISe(e,t,r){return t&&iO(e.prototype,t),r&&iO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LSe(e,t,r){return t=$g(t),FSe(e,_F()?Reflect.construct(t,r||[],$g(e).constructor):t.apply(e,r))}function FSe(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BSe(e)}function BSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(e)}function $Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nk(e,t)}function nk(e,t){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nk(e,t)}function ci(e,t,r){return t=EF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=USe(e,"string");return Iu(t)=="symbol"?t:t+""}function USe(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var po=function(e){function t(){var r;RSe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=LSe(this,t,[].concat(a)),ci(r,"state",{isAnimationFinished:!0,totalLength:0}),ci(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ci(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(pc(c.slice(0,g)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(pc(t.repeat(c,d)),pc(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),ci(r,"id",ad("recharts-line-")),ci(r,"pathRef",function(o){r.mainCurve=o}),ci(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ci(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return $Se(t,e),ISe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Pa(d,S0);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:zr(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return fe.createElement(Ct,p,f.map(function(g){return fe.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ot(this.props,!1),h=ot(c,!0),p=u.map(function(m,x){var b=pa(pa(pa({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return fe.createElement(Ct,Lf({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=nO(l,_Se),h=pa(pa(pa({},ot(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return fe.createElement(bg,Lf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,x=o.height,b=this.state,y=b.prevPoints,v=b.totalLength;return fe.createElement(Bi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var k=w.t;if(y){var N=y.length/l.length,S=l.map(function(E,C){var z=Math.floor(C*N);if(y[z]){var Q=y[z],W=ka(Q.x,E.x),q=ka(Q.y,E.y);return pa(pa({},E),{},{x:W(k),y:q(k)})}if(g){var re=ka(m*2,E.x),G=ka(x/2,E.y);return pa(pa({},E),{},{x:re(k),y:G(k)})}return pa(pa({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(S,n,a)}var T=ka(0,v),P=T(k),_;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});_=i.getStrokeDasharray(P,v,O)}else _=i.generateSimpleStrokeDasharray(v,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:_})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!j0(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,v=gt("recharts-line",c),w=u&&u.allowDataOverflow,k=d&&d.allowDataOverflow,N=w||k,S=mt(x)?this.id:x,T=(n=ot(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=T.r,_=P===void 0?3:P,O=T.strokeWidth,E=O===void 0?2:O,C=cae(o)?o:{},z=C.clipDot,Q=z===void 0?!0:z,W=_*2+E;return fe.createElement(Ct,{className:v},w||k?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(S)},fe.createElement("rect",{x:w?h:h-p/2,y:k?f:f-g/2,width:w?p:p*2,height:k?g:g*2})),!Q&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(S)},fe.createElement("rect",{x:h-W/2,y:f-W/2,width:p+W,height:g+W}))):null,!y&&this.renderCurve(N,S),this.renderErrorBar(N,S),(y||o)&&this.renderDots(N,Q,S),(!m||b)&&Mi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(pc(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(pc(o),pc(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(fe.isValidElement(n))i=fe.cloneElement(n,a);else if(ht(n))i=n(a);else{var o=a.key,l=nO(a,ESe),c=gt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=fe.createElement(uv,Lf({key:o},l,{className:c}))}return i}}])}(j.PureComponent);ci(po,"displayName","Line");ci(po,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ec.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ci(po,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=zr(h,o);return d==="horizontal"?{x:EA({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:mt(g)?null:n.scale(g),value:g,payload:h}:{x:mt(g)?null:r.scale(g),y:EA({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return pa({points:f,layout:d},u)});function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function KSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function HSe(e,t,r){return t&&VSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zSe(e,t,r){return t=Ug(t),WSe(e,AF()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function WSe(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GSe(e)}function GSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function qSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ak(e,t)}function OF(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=YSe(e,"string");return Lu(t)=="symbol"?t:t+""}function YSe(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function XSe(e){var t=e.xAxisId,r=gS(),n=xS(),a=gF(t);return a==null?null:j.createElement(dd,ik({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Qi(o,!0)}}))}var _o=function(e){function t(){return KSe(this,t),zSe(this,t,arguments)}return qSe(t,e),HSe(t,[{key:"render",value:function(){return j.createElement(XSe,this.props)}}])}(j.Component);OF(_o,"displayName","XAxis");OF(_o,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function JSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function QSe(e,t,r){return t&&ZSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eNe(e,t,r){return t=Kg(t),tNe(e,DF()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function tNe(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rNe(e)}function rNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function nNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sk(e,t)}function MF(e,t,r){return t=RF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=aNe(e,"string");return Fu(t)=="symbol"?t:t+""}function aNe(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ok.apply(this,arguments)}var iNe=function(t){var r=t.yAxisId,n=gS(),a=xS(),i=xF(r);return i==null?null:j.createElement(dd,ok({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Qi(l,!0)}}))},Eo=function(e){function t(){return JSe(this,t),eNe(this,t,arguments)}return nNe(t,e),QSe(t,[{key:"render",value:function(){return j.createElement(iNe,this.props)}}])}(j.Component);MF(Eo,"displayName","YAxis");MF(Eo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sO(e){return cNe(e)||lNe(e)||oNe(e)||sNe()}function sNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function lNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cNe(e){if(Array.isArray(e))return lk(e)}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ck=function(t,r,n,a,i){var o=Pa(t,vv),l=Pa(t,bv),c=[].concat(sO(o),sO(l)),u=Pa(t,kv),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&Ri(x.props,"extendDomain")&&He(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&Ri(x.props,"extendDomain")&&He(x.props[p])&&He(x.props[g])){var b=x.props[p],y=x.props[g];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return He(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},IF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,y,v;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(v=1,y=new Array(b-1);v<b;v++)y[v-1]=arguments[v];x.fn.apply(x.context,y)}else{var w=x.length,k;for(v=0;v<w;v++)switch(x[v].once&&this.removeListener(u,x[v].fn,void 0,!0),b){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,d);break;case 3:x[v].fn.call(x[v].context,d,f);break;case 4:x[v].fn.call(x[v].context,d,f,h);break;default:if(!y)for(k=1,y=new Array(b-1);k<b;k++)y[k-1]=arguments[k];x[v].fn.apply(x[v].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,x=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(IF);var uNe=IF.exports;const dNe=Lt(uNe);var Jy=new dNe,Zy="recharts.syncMouseEvents";function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function fNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LF(n.key),n)}}function pNe(e,t,r){return t&&hNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qy(e,t,r){return t=LF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=mNe(e,"string");return Jh(t)=="symbol"?t:t+""}function mNe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gNe=function(){function e(){fNe(this,e),Qy(this,"activeIndex",0),Qy(this,"coordinateList",[]),Qy(this,"layout","horizontal")}return pNe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function xNe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&He(n)&&He(a))return!0}return!1}function vNe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function FF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=er(t,r,n,a),l=er(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function yNe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=er(l,c,u,f),p=er(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return FF(t);return[{x:n,y:a},{x:i,y:o}]}function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){bNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bNe(e,t,r){return t=wNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=kNe(e,"string");return Zh(t)=="symbol"?t:t+""}function kNe(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jNe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,m=bg;if(h==="ScatterChart")g=o,m=Ube;else if(h==="BarChart")g=vNe(f,o,c,d),m=fS;else if(f==="radial"){var x=FF(o),b=x.cx,y=x.cy,v=x.radius,w=x.startAngle,k=x.endAngle;g={cx:b,cy:y,startAngle:w,endAngle:k,innerRadius:v,outerRadius:v},m=ML}else g={points:yNe(f,o,c)},m=bg;var N=bp(bp(bp(bp({stroke:"#ccc",pointerEvents:"none"},c),g),ot(p,!1)),{},{payload:l,payloadIndex:u,className:gt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,N):j.createElement(m,N)}var SNe=["item"],NNe=["children","className","width","height","style","compact","title","desc"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}function lO(e,t){return _Ne(e)||PNe(e,t)||$F(e,t)||TNe()}function TNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Ne(e){if(Array.isArray(e))return e}function cO(e,t){if(e==null)return{};var r=ENe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ENe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ANe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ONe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UF(n.key),n)}}function CNe(e,t,r){return t&&ONe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DNe(e,t,r){return t=Vg(t),MNe(e,BF()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function MNe(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RNe(e)}function RNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BF=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function INe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uk(e,t)}function uk(e,t){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uk(e,t)}function $u(e){return BNe(e)||FNe(e)||$F(e)||LNe()}function LNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $F(e,t){if(e){if(typeof e=="string")return dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(e,t)}}function FNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BNe(e){if(Array.isArray(e))return dk(e)}function dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ct(e,t,r){return t=UF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UF(e){var t=$Ne(e,"string");return Bu(t)=="symbol"?t:t+""}function $Ne(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UNe={xAxis:["bottom","top"],yAxis:["left","right"]},KNe={width:"100%",height:"100%"},KF={x:0,y:0};function wp(e){return e}var VNe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},HNe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return De(De(De({},a),er(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return De(De(De({},a),er(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return KF},jv=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($u(l),$u(u)):l},[]);return o.length>0?o:t&&t.length&&He(a)&&He(i)?t.slice(a,i+1):[]};function VF(e){return e==="number"?[0,"auto"]:void 0}var fk=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=jv(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Vm(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat($u(c),[_L(u,h)]):c},[])},dO=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=VNe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=uve(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=fk(t,r,d,f),p=HNe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},zNe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=kL(d,i);return n.reduce(function(g,m){var x,b=m.type.defaultProps!==void 0?De(De({},m.type.defaultProps),m.props):m.props,y=b.type,v=b.dataKey,w=b.allowDataOverflow,k=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,T=b.includeHidden,P=b[o];if(g[P])return g;var _=jv(t.data,{graphicalItems:a.filter(function(U){var L,I=o in U.props?U.props[o]:(L=U.type.defaultProps)===null||L===void 0?void 0:L[o];return I===P}),dataStartIndex:c,dataEndIndex:u}),O=_.length,E,C,z;xNe(b.domain,w,y)&&(E=Tw(b.domain,null,w),p&&(y==="number"||N!=="auto")&&(z=Cf(_,v,"category")));var Q=VF(y);if(!E||E.length===0){var W,q=(W=b.domain)!==null&&W!==void 0?W:Q;if(v){if(E=Cf(_,v,y),y==="category"&&p){var re=Qne(E);k&&re?(C=E,E=Ag(0,O)):k||(E=DA(q,E,m).reduce(function(U,L){return U.indexOf(L)>=0?U:[].concat($u(U),[L])},[]))}else if(y==="category")k?E=E.filter(function(U){return U!==""&&!mt(U)}):E=DA(q,E,m).reduce(function(U,L){return U.indexOf(L)>=0||L===""||mt(L)?U:[].concat($u(U),[L])},[]);else if(y==="number"){var G=mve(_,a.filter(function(U){var L,I,R=o in U.props?U.props[o]:(L=U.type.defaultProps)===null||L===void 0?void 0:L[o],J="hide"in U.props?U.props.hide:(I=U.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===P&&(T||!J)}),v,i,d);G&&(E=G)}p&&(y==="number"||N!=="auto")&&(z=Cf(_,v,"category"))}else p?E=Ag(0,O):l&&l[P]&&l[P].hasStack&&y==="number"?E=h==="expand"?[0,1]:PL(l[P].stackGroups,c,u):E=wL(_,a.filter(function(U){var L=o in U.props?U.props[o]:U.type.defaultProps[o],I="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return L===P&&(T||!I)}),y,d,!0);if(y==="number")E=ck(f,E,P,i,S),q&&(E=Tw(q,E,w));else if(y==="category"&&q){var de=q,ce=E.every(function(U){return de.indexOf(U)>=0});ce&&(E=de)}}return De(De({},g),{},ct({},P,De(De({},b),{},{axisType:i,domain:E,categoricalDomain:z,duplicateDomain:C,originalDomain:(x=b.domain)!==null&&x!==void 0?x:Q,isCategorical:p,layout:d})))},{})},WNe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=jv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=kL(d,i),m=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?De(De({},b.type.defaultProps),b.props):b.props,v=y[o],w=VF("number");if(!x[v]){m++;var k;return g?k=Ag(0,p):l&&l[v]&&l[v].hasStack?(k=PL(l[v].stackGroups,c,u),k=ck(f,k,v,i)):(k=Tw(w,wL(h,n.filter(function(N){var S,T,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],_="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===v&&!_}),"number",d),a.defaultProps.allowDataOverflow),k=ck(f,k,v,i)),De(De({},x),{},ct({},v,De(De({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ta(UNe,"".concat(i,".").concat(m%2),null),domain:k,originalDomain:w,isCategorical:g,layout:d})))}return x},{})},GNe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Pa(d,i),p={};return h&&h.length?p=zNe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=WNe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},qNe=function(t){var r=so(t),n=Qi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Bj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xg(r,n)}},fO=function(t){var r=t.children,n=t.defaultShowTooltip,a=va(r,Au),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},YNe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ss(r&&r.type);return n&&n.indexOf("Bar")>=0})},hO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XNe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=va(f,Au),g=va(f,_i),m=Object.keys(c).reduce(function(k,N){var S=c[N],T=S.orientation;return!S.mirror&&!S.hide?De(De({},k),{},ct({},T,k[T]+S.width)):k},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(k,N){var S=o[N],T=S.orientation;return!S.mirror&&!S.hide?De(De({},k),{},ct({},T,Ta(k,"".concat(T))+S.height)):k},{top:h.top||0,bottom:h.bottom||0}),b=De(De({},x),m),y=b.bottom;p&&(b.bottom+=p.props.height||Au.defaultProps.height),g&&r&&(b=hve(b,a,n,r));var v=u-b.left-b.right,w=d-b.top-b.bottom;return De(De({brushBottom:y},b),{},{width:Math.max(v,0),height:Math.max(w,0)})},JNe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},wS=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var v=y.graphicalItems,w=y.stackGroups,k=y.offset,N=y.updateId,S=y.dataStartIndex,T=y.dataEndIndex,P=b.barSize,_=b.layout,O=b.barGap,E=b.barCategoryGap,C=b.maxBarSize,z=hO(_),Q=z.numericAxisName,W=z.cateAxisName,q=YNe(v),re=[];return v.forEach(function(G,de){var ce=jv(b.data,{graphicalItems:[G],dataStartIndex:S,dataEndIndex:T}),U=G.type.defaultProps!==void 0?De(De({},G.type.defaultProps),G.props):G.props,L=U.dataKey,I=U.maxBarSize,R=U["".concat(Q,"Id")],J=U["".concat(W,"Id")],xe={},Ne=c.reduce(function(se,D){var Y=y["".concat(D.axisType,"Map")],ee=U["".concat(D.axisType,"Id")];Y&&Y[ee]||D.axisType==="zAxis"||Kl();var te=Y[ee];return De(De({},se),{},ct(ct({},D.axisType,te),"".concat(D.axisType,"Ticks"),Qi(te)))},xe),ue=Ne[W],he=Ne["".concat(W,"Ticks")],Te=w&&w[R]&&w[R].hasStack&&Sve(G,w[R].stackGroups),me=ss(G.type).indexOf("Bar")>=0,Ce=xg(ue,he),ne=[],A=q&&dve({barSize:P,stackGroups:w,totalSize:JNe(Ne,W)});if(me){var B,H,ke=mt(I)?C:I,M=(B=(H=xg(ue,he,!0))!==null&&H!==void 0?H:ke)!==null&&B!==void 0?B:0;ne=fve({barGap:O,barCategoryGap:E,bandSize:M!==Ce?M:Ce,sizeList:A[J],maxBarSize:ke}),M!==Ce&&(ne=ne.map(function(se){return De(De({},se),{},{position:De(De({},se.position),{},{offset:se.position.offset-M/2})})}))}var F=G&&G.type&&G.type.getComposedData;F&&re.push({props:De(De({},F(De(De({},Ne),{},{displayedData:ce,props:b,dataKey:L,item:G,bandSize:Ce,barPosition:ne,offset:k,stackedData:Te,layout:_,dataStartIndex:S,dataEndIndex:T}))),{},ct(ct(ct({key:G.key||"item-".concat(de)},Q,Ne[Q]),W,Ne[W]),"animationId",N)),childIndex:fae(G,b.children),item:G})}),re},p=function(b,y){var v=b.props,w=b.dataStartIndex,k=b.dataEndIndex,N=b.updateId;if(!T_({props:v}))return null;var S=v.children,T=v.layout,P=v.stackOffset,_=v.data,O=v.reverseStackOrder,E=hO(T),C=E.numericAxisName,z=E.cateAxisName,Q=Pa(S,n),W=kve(_,Q,"".concat(C,"Id"),"".concat(z,"Id"),P,O),q=c.reduce(function(U,L){var I="".concat(L.axisType,"Map");return De(De({},U),{},ct({},I,GNe(v,De(De({},L),{},{graphicalItems:Q,stackGroups:L.axisType===C&&W,dataStartIndex:w,dataEndIndex:k}))))},{}),re=XNe(De(De({},q),{},{props:v,graphicalItems:Q}),y==null?void 0:y.legendBBox);Object.keys(q).forEach(function(U){q[U]=d(v,q[U],re,U.replace("Map",""),r)});var G=q["".concat(z,"Map")],de=qNe(G),ce=h(v,De(De({},q),{},{dataStartIndex:w,dataEndIndex:k,updateId:N,graphicalItems:Q,stackGroups:W,offset:re}));return De(De({formattedGraphicalItems:ce,graphicalItems:Q,offset:re,stackGroups:W},de),q)},g=function(x){function b(y){var v,w,k;return ANe(this,b),k=DNe(this,b,[y]),ct(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ct(k,"accessibilityManager",new gNe),ct(k,"handleLegendBBoxUpdate",function(N){if(N){var S=k.state,T=S.dataStartIndex,P=S.dataEndIndex,_=S.updateId;k.setState(De({legendBBox:N},p({props:k.props,dataStartIndex:T,dataEndIndex:P,updateId:_},De(De({},k.state),{},{legendBBox:N}))))}}),ct(k,"handleReceiveSyncEvent",function(N,S,T){if(k.props.syncId===N){if(T===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(S)}}),ct(k,"handleBrushChange",function(N){var S=N.startIndex,T=N.endIndex;if(S!==k.state.dataStartIndex||T!==k.state.dataEndIndex){var P=k.state.updateId;k.setState(function(){return De({dataStartIndex:S,dataEndIndex:T},p({props:k.props,dataStartIndex:S,dataEndIndex:T,updateId:P},k.state))}),k.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),ct(k,"handleMouseEnter",function(N){var S=k.getMouseInfo(N);if(S){var T=De(De({},S),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var P=k.props.onMouseEnter;ht(P)&&P(T,N)}}),ct(k,"triggeredAfterMouseMove",function(N){var S=k.getMouseInfo(N),T=S?De(De({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var P=k.props.onMouseMove;ht(P)&&P(T,N)}),ct(k,"handleItemMouseEnter",function(N){k.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ct(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),ct(k,"handleMouseMove",function(N){N.persist(),k.throttleTriggeredAfterMouseMove(N)}),ct(k,"handleMouseLeave",function(N){k.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};k.setState(S),k.triggerSyncEvent(S);var T=k.props.onMouseLeave;ht(T)&&T(S,N)}),ct(k,"handleOuterEvent",function(N){var S=dae(N),T=Ta(k.props,"".concat(S));if(S&&ht(T)){var P,_;/.*touch.*/i.test(S)?_=k.getMouseInfo(N.changedTouches[0]):_=k.getMouseInfo(N),T((P=_)!==null&&P!==void 0?P:{},N)}}),ct(k,"handleClick",function(N){var S=k.getMouseInfo(N);if(S){var T=De(De({},S),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var P=k.props.onClick;ht(P)&&P(T,N)}}),ct(k,"handleMouseDown",function(N){var S=k.props.onMouseDown;if(ht(S)){var T=k.getMouseInfo(N);S(T,N)}}),ct(k,"handleMouseUp",function(N){var S=k.props.onMouseUp;if(ht(S)){var T=k.getMouseInfo(N);S(T,N)}}),ct(k,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ct(k,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseDown(N.changedTouches[0])}),ct(k,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseUp(N.changedTouches[0])}),ct(k,"handleDoubleClick",function(N){var S=k.props.onDoubleClick;if(ht(S)){var T=k.getMouseInfo(N);S(T,N)}}),ct(k,"handleContextMenu",function(N){var S=k.props.onContextMenu;if(ht(S)){var T=k.getMouseInfo(N);S(T,N)}}),ct(k,"triggerSyncEvent",function(N){k.props.syncId!==void 0&&Jy.emit(Zy,k.props.syncId,N,k.eventEmitterSymbol)}),ct(k,"applySyncEvent",function(N){var S=k.props,T=S.layout,P=S.syncMethod,_=k.state.updateId,O=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)k.setState(De({dataStartIndex:O,dataEndIndex:E},p({props:k.props,dataStartIndex:O,dataEndIndex:E,updateId:_},k.state)));else if(N.activeTooltipIndex!==void 0){var C=N.chartX,z=N.chartY,Q=N.activeTooltipIndex,W=k.state,q=W.offset,re=W.tooltipTicks;if(!q)return;if(typeof P=="function")Q=P(re,N);else if(P==="value"){Q=-1;for(var G=0;G<re.length;G++)if(re[G].value===N.activeLabel){Q=G;break}}var de=De(De({},q),{},{x:q.left,y:q.top}),ce=Math.min(C,de.x+de.width),U=Math.min(z,de.y+de.height),L=re[Q]&&re[Q].value,I=fk(k.state,k.props.data,Q),R=re[Q]?{x:T==="horizontal"?re[Q].coordinate:ce,y:T==="horizontal"?U:re[Q].coordinate}:KF;k.setState(De(De({},N),{},{activeLabel:L,activeCoordinate:R,activePayload:I,activeTooltipIndex:Q}))}else k.setState(N)}),ct(k,"renderCursor",function(N){var S,T=k.state,P=T.isTooltipActive,_=T.activeCoordinate,O=T.activePayload,E=T.offset,C=T.activeTooltipIndex,z=T.tooltipAxisBandSize,Q=k.getTooltipEventType(),W=(S=N.props.active)!==null&&S!==void 0?S:P,q=k.props.layout,re=N.key||"_recharts-cursor";return fe.createElement(jNe,{key:re,activeCoordinate:_,activePayload:O,activeTooltipIndex:C,chartName:r,element:N,isActive:W,layout:q,offset:E,tooltipAxisBandSize:z,tooltipEventType:Q})}),ct(k,"renderPolarAxis",function(N,S,T){var P=Ta(N,"type.axisType"),_=Ta(k.state,"".concat(P,"Map")),O=N.type.defaultProps,E=O!==void 0?De(De({},O),N.props):N.props,C=_&&_[E["".concat(P,"Id")]];return j.cloneElement(N,De(De({},C),{},{className:gt(P,C.className),key:N.key||"".concat(S,"-").concat(T),ticks:Qi(C,!0)}))}),ct(k,"renderPolarGrid",function(N){var S=N.props,T=S.radialLines,P=S.polarAngles,_=S.polarRadius,O=k.state,E=O.radiusAxisMap,C=O.angleAxisMap,z=so(E),Q=so(C),W=Q.cx,q=Q.cy,re=Q.innerRadius,G=Q.outerRadius;return j.cloneElement(N,{polarAngles:Array.isArray(P)?P:Qi(Q,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(_)?_:Qi(z,!0).map(function(de){return de.coordinate}),cx:W,cy:q,innerRadius:re,outerRadius:G,key:N.key||"polar-grid",radialLines:T})}),ct(k,"renderLegend",function(){var N=k.state.formattedGraphicalItems,S=k.props,T=S.children,P=S.width,_=S.height,O=k.props.margin||{},E=P-(O.left||0)-(O.right||0),C=yL({children:T,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!C)return null;var z=C.item,Q=cO(C,SNe);return j.cloneElement(z,De(De({},Q),{},{chartWidth:P,chartHeight:_,margin:O,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),ct(k,"renderTooltip",function(){var N,S=k.props,T=S.children,P=S.accessibilityLayer,_=va(T,An);if(!_)return null;var O=k.state,E=O.isTooltipActive,C=O.activeCoordinate,z=O.activePayload,Q=O.activeLabel,W=O.offset,q=(N=_.props.active)!==null&&N!==void 0?N:E;return j.cloneElement(_,{viewBox:De(De({},W),{},{x:W.left,y:W.top}),active:q,label:Q,payload:q?z:[],coordinate:C,accessibilityLayer:P})}),ct(k,"renderBrush",function(N){var S=k.props,T=S.margin,P=S.data,_=k.state,O=_.offset,E=_.dataStartIndex,C=_.dataEndIndex,z=_.updateId;return j.cloneElement(N,{key:N.key||"_recharts-brush",onChange:gp(k.handleBrushChange,N.props.onChange),data:P,x:He(N.props.x)?N.props.x:O.left,y:He(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:He(N.props.width)?N.props.width:O.width,startIndex:E,endIndex:C,updateId:"brush-".concat(z)})}),ct(k,"renderReferenceElement",function(N,S,T){if(!N)return null;var P=k,_=P.clipPathId,O=k.state,E=O.xAxisMap,C=O.yAxisMap,z=O.offset,Q=N.type.defaultProps||{},W=N.props,q=W.xAxisId,re=q===void 0?Q.xAxisId:q,G=W.yAxisId,de=G===void 0?Q.yAxisId:G;return j.cloneElement(N,{key:N.key||"".concat(S,"-").concat(T),xAxis:E[re],yAxis:C[de],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:_})}),ct(k,"renderActivePoints",function(N){var S=N.item,T=N.activePoint,P=N.basePoint,_=N.childIndex,O=N.isRange,E=[],C=S.props.key,z=S.item.type.defaultProps!==void 0?De(De({},S.item.type.defaultProps),S.item.props):S.item.props,Q=z.activeDot,W=z.dataKey,q=De(De({index:_,dataKey:W,cx:T.x,cy:T.y,r:4,fill:dS(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ot(Q,!1)),Hm(Q));return E.push(b.renderActiveDot(Q,q,"".concat(C,"-activePoint-").concat(_))),P?E.push(b.renderActiveDot(Q,De(De({},q),{},{cx:P.x,cy:P.y}),"".concat(C,"-basePoint-").concat(_))):O&&E.push(null),E}),ct(k,"renderGraphicChild",function(N,S,T){var P=k.filterFormatItem(N,S,T);if(!P)return null;var _=k.getTooltipEventType(),O=k.state,E=O.isTooltipActive,C=O.tooltipAxis,z=O.activeTooltipIndex,Q=O.activeLabel,W=k.props.children,q=va(W,An),re=P.props,G=re.points,de=re.isRange,ce=re.baseLine,U=P.item.type.defaultProps!==void 0?De(De({},P.item.type.defaultProps),P.item.props):P.item.props,L=U.activeDot,I=U.hide,R=U.activeBar,J=U.activeShape,xe=!!(!I&&E&&q&&(L||R||J)),Ne={};_!=="axis"&&q&&q.props.trigger==="click"?Ne={onClick:gp(k.handleItemMouseEnter,N.props.onClick)}:_!=="axis"&&(Ne={onMouseLeave:gp(k.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:gp(k.handleItemMouseEnter,N.props.onMouseEnter)});var ue=j.cloneElement(N,De(De({},P.props),Ne));function he(D){return typeof C.dataKey=="function"?C.dataKey(D.payload):null}if(xe)if(z>=0){var Te,me;if(C.dataKey&&!C.allowDuplicatedCategory){var Ce=typeof C.dataKey=="function"?he:"payload.".concat(C.dataKey.toString());Te=Vm(G,Ce,Q),me=de&&ce&&Vm(ce,Ce,Q)}else Te=G==null?void 0:G[z],me=de&&ce&&ce[z];if(J||R){var ne=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[j.cloneElement(N,De(De(De({},P.props),Ne),{},{activeIndex:ne})),null,null]}if(!mt(Te))return[ue].concat($u(k.renderActivePoints({item:P,activePoint:Te,basePoint:me,childIndex:z,isRange:de})))}else{var A,B=(A=k.getItemByXY(k.state.activeCoordinate))!==null&&A!==void 0?A:{graphicalItem:ue},H=B.graphicalItem,ke=H.item,M=ke===void 0?N:ke,F=H.childIndex,se=De(De(De({},P.props),Ne),{},{activeIndex:F});return[j.cloneElement(M,se),null,null]}return de?[ue,null,null]:[ue,null]}),ct(k,"renderCustomized",function(N,S,T){return j.cloneElement(N,De(De({key:"recharts-customized-".concat(T)},k.props),k.state))}),ct(k,"renderMap",{CartesianGrid:{handler:wp,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:wp},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:wp},YAxis:{handler:wp},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:ad("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=v6(k.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),k.state={},k}return INe(b,x),CNe(b,[{key:"componentDidMount",value:function(){var v,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,w=v.children,k=v.data,N=v.height,S=v.layout,T=va(w,An);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=fk(this.state,k,P,_),E=this.state.tooltipTicks[P].coordinate,C=(this.state.offset.top+N)/2,z=S==="horizontal",Q=z?{x:E,y:C}:{y:E,x:C},W=this.state.formattedGraphicalItems.find(function(re){var G=re.item;return G.type.name==="Scatter"});W&&(Q=De(De({},Q),W.props.points[P].tooltipPosition),O=W.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:_,activePayload:O,activeCoordinate:Q};this.setState(q),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var k,N;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(v){Ub([va(v.children,An)],[va(this.props.children,An)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=va(this.props.children,An);if(v&&typeof v.props.shared=="boolean"){var w=v.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var w=this.container,k=w.getBoundingClientRect(),N=F0e(k),S={chartX:Math.round(v.pageX-N.left),chartY:Math.round(v.pageY-N.top)},T=k.width/w.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,T);if(!P)return null;var _=this.state,O=_.xAxisMap,E=_.yAxisMap,C=this.getTooltipEventType(),z=dO(this.state,this.props.data,this.props.layout,P);if(C!=="axis"&&O&&E){var Q=so(O).scale,W=so(E).scale,q=Q&&Q.invert?Q.invert(S.chartX):null,re=W&&W.invert?W.invert(S.chartY):null;return De(De({},S),{},{xValue:q,yValue:re},z)}return z?De(De({},S),z):null}},{key:"inRange",value:function(v,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=v/k,T=w/k;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,_=S>=P.left&&S<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return _?{x:S,y:T}:null}var O=this.state,E=O.angleAxisMap,C=O.radiusAxisMap;if(E&&C){var z=so(E);return IA({x:S,y:T},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,w=this.getTooltipEventType(),k=va(v,An),N={};k&&w==="axis"&&(k.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Hm(this.props,this.handleOuterEvent);return De(De({},S),N)}},{key:"addListener",value:function(){Jy.on(Zy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jy.removeListener(Zy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,w,k){for(var N=this.state.formattedGraphicalItems,S=0,T=N.length;S<T;S++){var P=N[S];if(P.item===v||P.props.key===v.key||w===ss(P.item.type)&&k===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,w=this.state.offset,k=w.left,N=w.top,S=w.height,T=w.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:v},fe.createElement("rect",{x:k,y:N,height:S,width:T})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(w,k){var N=lO(k,2),S=N[0],T=N[1];return De(De({},w),{},ct({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(w,k){var N=lO(k,2),S=N[0],T=N[1];return De(De({},w),{},ct({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(v){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(v){var w=this.state,k=w.formattedGraphicalItems,N=w.activeItem;if(k&&k.length)for(var S=0,T=k.length;S<T;S++){var P=k[S],_=P.props,O=P.item,E=O.type.defaultProps!==void 0?De(De({},O.type.defaultProps),O.props):O.props,C=ss(O.type);if(C==="Bar"){var z=(_.data||[]).find(function(re){return wbe(v,re)});if(z)return{graphicalItem:P,payload:z}}else if(C==="RadialBar"){var Q=(_.data||[]).find(function(re){return IA(v,re)});if(Q)return{graphicalItem:P,payload:Q}}else if(mv(P,N)||gv(P,N)||Wh(P,N)){var W=cke({graphicalItem:P,activeTooltipItem:N,itemData:E.data}),q=E.activeIndex===void 0?W:E.activeIndex;return{graphicalItem:De(De({},P),{},{childIndex:q}),payload:Wh(P,N)?E.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var v=this;if(!T_(this))return null;var w=this.props,k=w.children,N=w.className,S=w.width,T=w.height,P=w.style,_=w.compact,O=w.title,E=w.desc,C=cO(w,NNe),z=ot(C,!1);if(_)return fe.createElement(H4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(Vb,$c({},z,{width:S,height:T,title:O,desc:E}),this.renderClipPath(),__(k,this.renderMap)));if(this.props.accessibilityLayer){var Q,W;z.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,z.role=(W=this.props.role)!==null&&W!==void 0?W:"application",z.onKeyDown=function(re){v.accessibilityManager.keyboardEvent(re)},z.onFocus=function(){v.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return fe.createElement(H4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",$c({className:gt("recharts-wrapper",N),style:De({position:"relative",cursor:"default",width:S,height:T},P)},q,{ref:function(G){v.container=G}}),fe.createElement(Vb,$c({},z,{width:S,height:T,title:O,desc:E,style:KNe}),this.renderClipPath(),__(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ct(g,"displayName",r),ct(g,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ct(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,v=x.data,w=x.children,k=x.width,N=x.height,S=x.layout,T=x.stackOffset,P=x.margin,_=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var E=fO(x);return De(De(De({},E),{},{updateId:0},p(De(De({props:x},E),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:v,prevWidth:k,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:w})}if(y!==b.prevDataKey||v!==b.prevData||k!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||T!==b.prevStackOffset||!eu(P,b.prevMargin)){var C=fO(x),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},Q=De(De({},dO(b,v,S)),{},{updateId:b.updateId+1}),W=De(De(De({},C),z),Q);return De(De(De({},W),p(De({props:x},W),b)),{},{prevDataKey:y,prevData:v,prevWidth:k,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:w})}if(!Ub(w,b.prevChildren)){var q,re,G,de,ce=va(w,Au),U=ce&&(q=(re=ce.props)===null||re===void 0?void 0:re.startIndex)!==null&&q!==void 0?q:_,L=ce&&(G=(de=ce.props)===null||de===void 0?void 0:de.endIndex)!==null&&G!==void 0?G:O,I=U!==_||L!==O,R=!mt(v),J=R&&!I?b.updateId:b.updateId+1;return De(De({updateId:J},p(De(De({props:x},b),{},{updateId:J,dataStartIndex:U,dataEndIndex:L}),b)),{},{prevChildren:w,dataStartIndex:U,dataEndIndex:L})}return null}),ct(g,"renderActiveDot",function(x,b,y){var v;return j.isValidElement(x)?v=j.cloneElement(x,b):ht(x)?v=x(b):v=fe.createElement(uv,b),fe.createElement(Ct,{className:"recharts-active-dot",key:y},v)});var m=j.forwardRef(function(b,y){return fe.createElement(g,$c({},b,{ref:y}))});return m.displayName=g.displayName,m},ZNe=wS({chartName:"LineChart",GraphicalChild:po,axisComponents:[{axisType:"xAxis",AxisComp:_o},{axisType:"yAxis",AxisComp:Eo}],formatAxisMap:lF}),hk=wS({chartName:"BarChart",GraphicalChild:Ii,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_o},{axisType:"yAxis",AxisComp:Eo}],formatAxisMap:lF}),e1=wS({chartName:"PieChart",GraphicalChild:yi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pv},{axisType:"radiusAxis",AxisComp:fv}],formatAxisMap:Mve,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const QNe=["Urea","DAP","KCL","ZA","Dolomite","Clay"],mc=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],cf=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Ld=["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],eTe=({isOpen:e,onClose:t,monthName:r,year:n,totalHours:a,details:i,isHighest:o,rank:l,averageHours:c})=>{const u=j.useMemo(()=>{const f={};return i.forEach(h=>{const p=h.item||"Unknown";f[p]||(f[p]={total:0,count:0,details:[]}),f[p].total+=ge(h.downtime),f[p].count+=1,f[p].details.push(h)}),Object.entries(f).map(([h,p])=>({item:h,...p})).sort((h,p)=>p.total-h.total)},[i]),d=c>0?((a-c)/c*100).toFixed(1):"0";return s.jsx(xt,{isOpen:e,onClose:t,size:"full",title:"",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:["Detail Downtime ",r," ",n]}),o&&s.jsxs(Xe,{variant:"danger",className:"animate-pulse",children:[s.jsx(wm,{className:"h-3 w-3 mr-1"}),"Tertinggi"]}),l<=3&&!o&&s.jsxs(Xe,{variant:"warning",children:["Top ",l]})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Analisis detail downtime per equipment untuk bulan ",r]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:s.jsx(qa,{className:"h-5 w-5 text-dark-500 dark:text-dark-400"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:Ge("p-4 rounded-xl",o?"bg-gradient-to-br from-red-500 to-rose-600 text-white":"bg-gradient-to-br from-amber-500 to-orange-500 text-white"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(To,{className:"h-4 w-4 opacity-80"}),s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Total Downtime"})]}),s.jsx("p",{className:"text-3xl font-bold",children:le(a)}),s.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(xx,{className:"h-4 w-4 opacity-80"}),s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Jumlah Kejadian"})]}),s.jsx("p",{className:"text-3xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm opacity-80",children:"Kejadian"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Yc,{className:"h-4 w-4 opacity-80"}),s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Rata-rata/Kejadian"})]}),s.jsx("p",{className:"text-3xl font-bold",children:i.length>0?(a/i.length).toFixed(1):"0"}),s.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),s.jsxs("div",{className:Ge("p-4 rounded-xl",Number(d)>0?"bg-gradient-to-br from-red-400 to-red-500 text-white":"bg-gradient-to-br from-green-500 to-emerald-500 text-white"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Number(d)>0?s.jsx(Sl,{className:"h-4 w-4 opacity-80"}):s.jsx(jf,{className:"h-4 w-4 opacity-80"}),s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"vs Rata-rata Bulanan"})]}),s.jsxs("p",{className:"text-3xl font-bold",children:[Number(d)>0?"+":"",d,"%"]}),s.jsx("p",{className:"text-sm opacity-80",children:Number(d)>0?"Di atas rata-rata":"Di bawah rata-rata"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(iz,{className:"h-5 w-5 text-amber-500"}),"Breakdown per Equipment"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,6).map((f,h)=>{const p=a>0?(f.total/a*100).toFixed(1):"0";return s.jsxs(qt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:Ge("p-4 rounded-xl border transition-all duration-300 hover:shadow-lg",h===0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-dark-800 border-dark-100 dark:border-dark-700"),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:Ge("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",h===0?"bg-red-500 text-white":"bg-dark-200 dark:bg-dark-600 text-dark-700 dark:text-dark-200"),children:h+1}),s.jsx("h4",{className:Ge("font-semibold",h===0?"text-red-700 dark:text-red-400":"text-dark-900 dark:text-white"),children:f.item})]}),s.jsxs(Xe,{variant:h===0?"danger":"warning",size:"sm",children:[p,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total:"}),s.jsxs("span",{className:Ge("ml-1 font-bold",h===0?"text-red-600 dark:text-red-400":"text-dark-900 dark:text-white"),children:[le(f.total)," Jam"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kejadian:"}),s.jsxs("span",{className:"ml-1 font-medium text-dark-700 dark:text-dark-200",children:[f.count,"x"]})]})]}),s.jsx("div",{className:"mt-3 h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:s.jsx(qt.div,{initial:{width:0},animate:{width:`${p}%`},transition:{delay:h*.1+.3,duration:.5},className:Ge("h-full rounded-full",h===0?"bg-gradient-to-r from-red-500 to-rose-500":"bg-gradient-to-r from-amber-400 to-orange-500")})})]},f.item)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4",children:["Detail Kejadian (",i.length," record)"]}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-dark-100 dark:border-dark-700",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"No"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Tanggal"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Equipment"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Deskripsi"}),s.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Off"}),s.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Start"}),s.jsx("th",{className:"px-4 py-3 text-right font-semibold text-dark-700 dark:text-dark-200",children:"Downtime (Jam)"})]})}),s.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:i.sort((f,h)=>ge(h.downtime)-ge(f.downtime)).slice(0,20).map((f,h)=>s.jsxs("tr",{className:Ge("hover:bg-dark-50 dark:hover:bg-dark-700/50 transition-colors",h===0&&"bg-red-50 dark:bg-red-900/10"),children:[s.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300",children:h+1}),s.jsx("td",{className:"px-4 py-3 text-dark-900 dark:text-white font-medium",children:new Date(f.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Xe,{variant:h===0?"danger":"default",size:"sm",children:f.item})}),s.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300 max-w-xs truncate",children:f.deskripsi||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamOff||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamStart||"-"}),s.jsx("td",{className:Ge("px-4 py-3 text-right font-bold",h===0?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:le(ge(f.downtime))})]},h))}),i.length>20&&s.jsx("tfoot",{className:"bg-dark-50 dark:bg-dark-800",children:s.jsx("tr",{children:s.jsxs("td",{colSpan:7,className:"px-4 py-3 text-center text-dark-500 dark:text-dark-400",children:["... dan ",i.length-20," record lainnya"]})})})]})})]})]})})},tTe=({downtimeData:e,year:t,plantLabel:r})=>{const[n,a]=j.useState(null),i=j.useMemo(()=>{const d=cf.map((h,p)=>{const g=e.filter(x=>x.tanggal?new Date(x.tanggal).getMonth()===p:!1),m=g.reduce((x,b)=>x+ge(b.downtime),0);return{month:h,monthIndex:p,hours:m,count:g.length,isHighest:!1,rank:0,details:g.map(x=>({item:x.item,deskripsi:x.deskripsi,tanggal:x.tanggal,jamOff:x.jamOff,jamStart:x.jamStart,downtime:ge(x.downtime)}))}});return[...d].filter(h=>h.hours>0).sort((h,p)=>p.hours-h.hours).forEach((h,p)=>{const g=d.find(m=>m.monthIndex===h.monthIndex);g&&(g.rank=p+1,p===0&&(g.isHighest=!0))}),d},[e]),o=j.useMemo(()=>{const d=i.reduce((m,x)=>m+x.hours,0),f=i.filter(m=>m.hours>0).length,h=f>0?d/f:0,p=i.find(m=>m.isHighest),g=(p==null?void 0:p.hours)||0;return{totalHours:d,averageHours:h,highestMonth:p,maxHours:g,monthsWithData:f}},[i]),l=d=>{d.hours>0&&a(d)},c=d=>d.isHighest?"#ef4444":d.rank===2?"#f97316":d.rank===3?"#f59e0b":"#3b82f6",u=d=>{const{x:f,y:h,width:p,value:g,index:m}=d,x=i[m];return g===0?null:s.jsxs("g",{children:[s.jsx("text",{x:f+p/2,y:h-10,fill:x.isHighest?"#ef4444":"#64748b",textAnchor:"middle",fontSize:11,fontWeight:x.isHighest?"bold":"normal",children:le(g)}),x.isHighest&&s.jsx("text",{x:f+p/2,y:h-24,fill:"#ef4444",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:" TERTINGGI"})]})};return s.jsxs(s.Fragment,{children:[s.jsxs(Me,{className:"overflow-hidden",children:[s.jsx(St,{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white py-5",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(wm,{className:"h-5 w-5"}),s.jsxs(Nt,{className:"text-white text-lg",children:["Analisis Downtime Bulanan ",t]})]}),s.jsxs("p",{className:"text-red-100 text-sm",children:[r,"  Klik bar untuk melihat detail"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[s.jsx("p",{className:"text-red-100 text-xs",children:"Total Tahunan"}),s.jsxs("p",{className:"text-xl font-bold",children:[le(o.totalHours)," Jam"]})]}),o.highestMonth&&s.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm border-2 border-white/30",children:[s.jsxs("p",{className:"text-red-100 text-xs flex items-center gap-1",children:[s.jsx(z5,{className:"h-3 w-3"})," Bulan Tertinggi"]}),s.jsx("p",{className:"text-xl font-bold",children:o.highestMonth.month}),s.jsxs("p",{className:"text-red-100 text-xs",children:[le(o.highestMonth.hours)," Jam"]})]})]})]})}),s.jsxs(_n,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Total Kejadian"}),s.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.length})]}),s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 uppercase tracking-wider mb-1",children:"Rata-rata/Bulan"}),s.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:[le(o.averageHours)," Jam"]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Bulan Dengan Data"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[o.monthsWithData," / 12"]})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-1",children:"Rata-rata/Kejadian"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[e.length>0?(o.totalHours/e.length).toFixed(1):"0"," ","Jam"]})]})]}),s.jsx("div",{className:"h-[400px]",children:s.jsx(ll,{width:"100%",height:"100%",children:s.jsxs(hk,{data:i,margin:{top:40,right:30,left:20,bottom:20},children:[s.jsx(If,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(_o,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1}),s.jsx(Eo,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Jam",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#64748b"}}}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px 16px"},content:({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload;return s.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-100 dark:border-dark-700 p-4 min-w-[200px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[h.month," ",t]}),h.isHighest&&s.jsx(Xe,{variant:"danger",size:"sm",children:"Tertinggi"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Downtime:"}),s.jsxs("span",{className:Ge("ml-2 font-bold",h.isHighest?"text-red-600":"text-amber-600"),children:[le(h.hours)," Jam"]})]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian:"}),s.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:[h.count," kejadian"]})]}),h.rank>0&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Peringkat:"}),s.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:["#",h.rank," dari ",o.monthsWithData," bulan"]})]})]}),h.hours>0&&s.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-3 pt-2 border-t border-dark-100 dark:border-dark-700",children:"Klik untuk melihat detail "})]})}return null}}),o.averageHours>0&&s.jsx(vv,{y:o.averageHours,stroke:"#22c55e",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Rata-rata: ${le(o.averageHours)} Jam`,position:"right",fill:"#22c55e",fontSize:11}}),s.jsxs(Ii,{dataKey:"hours",radius:[8,8,0,0],cursor:"pointer",onClick:d=>l(d),children:[i.map((d,f)=>s.jsx(Tl,{fill:c(d),className:"hover:opacity-80 transition-opacity"},`cell-${f}`)),s.jsx(Mi,{dataKey:"hours",content:u})]})]})})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mt-4 pt-4 border-t border-dark-100 dark:border-dark-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),s.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Tertinggi"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),s.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 2"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),s.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 3"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),s.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Lainnya"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-0.5 bg-green-500",style:{backgroundImage:"repeating-linear-gradient(to right, #22c55e, #22c55e 5px, transparent 5px, transparent 10px)"}}),s.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Rata-rata"})]})]})]})]}),n&&s.jsx(eTe,{isOpen:!!n,onClose:()=>a(null),monthName:n.month,monthIndex:n.monthIndex,year:t,totalHours:n.hours,details:n.details,isHighest:n.isHighest,rank:n.rank,averageHours:o.averageHours})]})},rTe=()=>{const{user:e}=Tt(),{dashboardPlantFilter:t,dashboardYear:r,setDashboardPlantFilter:n,setDashboardYear:a}=lx(),i=a0(),[o,l]=j.useState(!0),[c,u]=j.useState(new Date().getMonth()),[d,f]=j.useState("tahunan"),[h,p]=j.useState("jam"),[g,m]=j.useState(new Date().getMonth()),[x,b]=j.useState("Urea"),[y,v]=j.useState([]),[w,k]=j.useState({produksiNPK:[],produksiBlending:[],produksiNPKMini:[],downtime:[],workRequest:[],bahanBaku:[],vibrasi:[],gatePass:[],timesheetForklift:[],timesheetLoader:[],troubleRecord:[],rkap:[],rekapBBM:[]}),N=e==null?void 0:e.plant,S=e==null?void 0:e.role,T=N==="ALL"||S==="manager"||S==="eksternal";j.useEffect(()=>{!T&&N&&n(N)},[N,T,n]);const P=T?t:N||"NPK2";j.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:I,readData:R,SHEETS:J}=await rt(async()=>{const{fetchDataByPlant:F,readData:se,SHEETS:D}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:F,readData:se,SHEETS:D}},void 0),[xe,Ne,ue,he,Te,me,Ce,ne,A,B,H,ke,M]=await Promise.all([I(J.PRODUKSI_NPK),I(J.PRODUKSI_BLENDING),I(J.PRODUKSI_NPK_MINI),I(J.DOWNTIME),I(J.WORK_REQUEST),I(J.BAHAN_BAKU),I(J.VIBRASI),I(J.GATE_PASS),I(J.TIMESHEET_FORKLIFT),I(J.TIMESHEET_LOADER),I(J.TROUBLE_RECORD),R(J.RKAP),I(J.REKAP_BBM)]);k({produksiNPK:xe.success&&xe.data?xe.data:[],produksiBlending:Ne.success&&Ne.data?Ne.data:[],produksiNPKMini:ue.success&&ue.data?ue.data:[],downtime:he.success&&he.data?he.data:[],workRequest:Te.success&&Te.data?Te.data:[],bahanBaku:me.success&&me.data?me.data:[],vibrasi:Ce.success&&Ce.data?Ce.data:[],gatePass:ne.success&&ne.data?ne.data:[],timesheetForklift:A.success&&A.data?A.data:[],timesheetLoader:B.success&&B.data?B.data:[],troubleRecord:H.success&&H.data?H.data:[],rkap:ke.success&&ke.data?ke.data:[],rekapBBM:M.success&&M.data?M.data:[]})}catch(I){console.error("Error fetching dashboard data:",I)}finally{l(!1)}})()},[]),j.useEffect(()=>{(async()=>{try{const{fetchDataByPlant:I,SHEETS:R}=await rt(async()=>{const{fetchDataByPlant:J,SHEETS:xe}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:J,SHEETS:xe}},void 0);if(R.PEMANTAUAN_BAHAN_BAKU){const J=await I(R.PEMANTAUAN_BAHAN_BAKU);J.success&&J.data&&v(J.data)}}catch(I){console.error("Error fetching pemantauan bahan baku:",I)}})()},[]);const _=j.useCallback(L=>P==="ALL"?L:L.filter(I=>I._plant===P),[P]),O=j.useCallback(L=>P==="ALL"?L:L.filter(I=>I.plant===P),[P]),E=j.useCallback(L=>L.filter(I=>I.tanggal?new Date(I.tanggal).getFullYear()===r:!1),[r]),C=j.useMemo(()=>({produksiNPK:E(_(w.produksiNPK)),produksiBlending:E(_(w.produksiBlending)),produksiNPKMini:E(_(w.produksiNPKMini)),downtime:E(_(w.downtime)),workRequest:E(_(w.workRequest)),bahanBaku:E(_(w.bahanBaku)),vibrasi:E(_(w.vibrasi)),gatePass:E(_(w.gatePass)),timesheetForklift:E(_(w.timesheetForklift)),timesheetLoader:E(_(w.timesheetLoader)),troubleRecord:E(_(w.troubleRecord)),rekapBBM:E(_(w.rekapBBM)),rkap:O(w.rkap).filter(L=>Number(L.tahun)===r)}),[w,_,E,O,r]),z=j.useMemo(()=>{const L=C.produksiNPK.reduce((te,ye)=>{const be=ye.total!==void 0&&ye.total!==null?ge(ye.total):ge(ye.shiftMalamOnspek)+ge(ye.shiftMalamOffspek)+ge(ye.shiftPagiOnspek)+ge(ye.shiftPagiOffspek)+ge(ye.shiftSoreOnspek)+ge(ye.shiftSoreOffspek);return te+be},0),I=C.produksiNPK.reduce((te,ye)=>{const Ve=ye.totalOnspek!==void 0&&ye.totalOnspek!==null;return te+(Ve?ge(ye.totalOnspek):ge(ye.shiftMalamOnspek)+ge(ye.shiftPagiOnspek)+ge(ye.shiftSoreOnspek))},0),R=C.produksiNPK.reduce((te,ye)=>{const Ve=ye.totalOffspek!==void 0&&ye.totalOffspek!==null;return te+(Ve?ge(ye.totalOffspek):ge(ye.shiftMalamOffspek)+ge(ye.shiftPagiOffspek)+ge(ye.shiftSoreOffspek))},0),J=C.produksiBlending.reduce((te,ye)=>te+ge(ye.tonase),0),xe=C.produksiNPKMini.reduce((te,ye)=>te+ge(ye.tonase),0),Ne=C.rkap.reduce((te,ye)=>{const be=ye.total!==void 0&&ye.total!==null?ge(ye.total):Ld.reduce((Pe,Fe)=>Pe+ge(ye[Fe]),0);return te+be},0),ue=w.rkap.filter(te=>te.plant==="NPK1"&&Number(te.tahun)===r).reduce((te,ye)=>{const Ve=ye.total!==void 0&&ye.total!==null;return te+(Ve?ge(ye.total):Ld.reduce((be,Pe)=>be+ge(ye[Pe]),0))},0),he=w.rkap.filter(te=>te.plant==="NPK2"&&Number(te.tahun)===r).reduce((te,ye)=>{const Ve=ye.total!==void 0&&ye.total!==null;return te+(Ve?ge(ye.total):Ld.reduce((be,Pe)=>be+ge(ye[Pe]),0))},0),Te=w.produksiNPK.filter(te=>te._plant==="NPK1"&&new Date(te.tanggal).getFullYear()===r).reduce((te,ye)=>{const Ve=ye.total!==void 0&&ye.total!==null;return te+(Ve?ge(ye.total):ge(ye.shiftMalamOnspek)+ge(ye.shiftMalamOffspek)+ge(ye.shiftPagiOnspek)+ge(ye.shiftPagiOffspek)+ge(ye.shiftSoreOnspek)+ge(ye.shiftSoreOffspek))},0),me=w.produksiNPK.filter(te=>te._plant==="NPK2"&&new Date(te.tanggal).getFullYear()===r).reduce((te,ye)=>{const Ve=ye.total!==void 0&&ye.total!==null;return te+(Ve?ge(ye.total):ge(ye.shiftMalamOnspek)+ge(ye.shiftMalamOffspek)+ge(ye.shiftPagiOnspek)+ge(ye.shiftPagiOffspek)+ge(ye.shiftSoreOnspek)+ge(ye.shiftSoreOffspek))},0),Ce=C.downtime.reduce((te,ye)=>te+ge(ye.downtime),0),ne=C.workRequest.length,A=C.workRequest.filter(te=>!te.eksekutor||te.eksekutor==="").length,B=C.bahanBaku.reduce((te,ye)=>te+ge(ye.jumlah),0),H=C.vibrasi.filter(te=>te.status==="Warning"||te.status==="Critical"||te.status==="Alert").length,ke=C.gatePass.length,M=C.troubleRecord.filter(te=>te.status==="Open"||te.status==="In Progress").length,F=C.timesheetForklift.reduce((te,ye)=>te+ge(ye.jamOperasi),0),se=C.timesheetLoader.reduce((te,ye)=>te+ge(ye.jamOperasi),0),D=C.rekapBBM.reduce((te,ye)=>te+ge(ye.pengajuanSolar),0),Y=C.rekapBBM.reduce((te,ye)=>te+ge(ye.realisasiPengisian),0),ee=Y-D;return{totalProduksiNPK:L,totalOnspek:I,totalOffspek:R,totalProduksiBlending:J,totalProduksiNPKMini:xe,totalRKAP:Ne,totalDowntime:Ce,workRequestTotal:ne,workRequestPending:A,totalBahanBaku:B,vibrasiWarnings:H,gatePassCount:ke,troubleRecordOpen:M,forkliftHours:F,loaderHours:se,bbmPengajuan:D,bbmRealisasi:Y,bbmSelisih:ee,bbmRecordCount:C.rekapBBM.length,percentage:Ne>0?(L/Ne*100).toFixed(1):"0",rkapNPK1:ue,rkapNPK2:he,produksiNPK1:Te,produksiNPK2:me,percentageNPK1:ue>0?(Te/ue*100).toFixed(1):"0",percentageNPK2:he>0?(me/he*100).toFixed(1):"0"}},[C,w,r]),Q=j.useMemo(()=>cf.map((I,R)=>{const J=C.produksiNPK.filter(ne=>new Date(ne.tanggal).getMonth()===R),xe=J.reduce((ne,A)=>{const B=A.total!==void 0&&A.total!==null;return ne+(B?ge(A.total):ge(A.shiftMalamOnspek)+ge(A.shiftMalamOffspek)+ge(A.shiftPagiOnspek)+ge(A.shiftPagiOffspek)+ge(A.shiftSoreOnspek)+ge(A.shiftSoreOffspek))},0),Ne=J.reduce((ne,A)=>{const B=A.totalOnspek!==void 0&&A.totalOnspek!==null;return ne+(B?ge(A.totalOnspek):ge(A.shiftMalamOnspek)+ge(A.shiftPagiOnspek)+ge(A.shiftSoreOnspek))},0),ue=J.reduce((ne,A)=>{const B=A.totalOffspek!==void 0&&A.totalOffspek!==null;return ne+(B?ge(A.totalOffspek):ge(A.shiftMalamOffspek)+ge(A.shiftPagiOffspek)+ge(A.shiftSoreOffspek))},0),he=Ld[R],Te=C.rkap.reduce((ne,A)=>ne+ge(A[he]),0),me=w.rkap.filter(ne=>ne.plant==="NPK1"&&Number(ne.tahun)===r).reduce((ne,A)=>ne+ge(A[he]),0),Ce=w.rkap.filter(ne=>ne.plant==="NPK2"&&Number(ne.tahun)===r).reduce((ne,A)=>ne+ge(A[he]),0);return{bulan:I,produksi:xe,rkap:Te,rkapNPK1:me,rkapNPK2:Ce,onspek:Ne,offspek:ue}}),[C,w,r]),W=j.useMemo(()=>{const L=c,I=cf[L],R=Ld[L],J=C.produksiNPK.filter(B=>new Date(B.tanggal).getMonth()===L),xe=J.reduce((B,H)=>{const ke=H.total!==void 0&&H.total!==null;return B+(ke?ge(H.total):ge(H.shiftMalamOnspek)+ge(H.shiftMalamOffspek)+ge(H.shiftPagiOnspek)+ge(H.shiftPagiOffspek)+ge(H.shiftSoreOnspek)+ge(H.shiftSoreOffspek))},0),Ne=J.reduce((B,H)=>{const ke=H.totalOnspek!==void 0&&H.totalOnspek!==null;return B+(ke?ge(H.totalOnspek):ge(H.shiftMalamOnspek)+ge(H.shiftPagiOnspek)+ge(H.shiftSoreOnspek))},0),ue=J.reduce((B,H)=>{const ke=H.totalOffspek!==void 0&&H.totalOffspek!==null;return B+(ke?ge(H.totalOffspek):ge(H.shiftMalamOffspek)+ge(H.shiftPagiOffspek)+ge(H.shiftSoreOffspek))},0),Te=C.produksiBlending.filter(B=>new Date(B.tanggal).getMonth()===L).reduce((B,H)=>B+ge(H.tonase),0),Ce=C.produksiNPKMini.filter(B=>new Date(B.tanggal).getMonth()===L).reduce((B,H)=>B+ge(H.tonase),0),ne=C.rkap.reduce((B,H)=>B+ge(H[R]),0),A=ne>0?(xe/ne*100).toFixed(1):"0";return{monthName:I,npkProduksi:xe,npkOnspek:Ne,npkOffspek:ue,blendingProduksi:Te,npkMiniProduksi:Ce,rkapThisMonth:ne,percentageRkap:A,totalProduksi:xe+Te+Ce}},[C,c]),q=j.useMemo(()=>{let L=C.downtime;d==="bulanan"&&(L=C.downtime.filter(R=>R.tanggal?new Date(R.tanggal).getMonth()===g:!1));const I={};return L.forEach(R=>{const J=R.item||"Unknown";I[J]||(I[J]={jam:0,frekuensi:0}),I[J].jam+=ge(R.downtime),I[J].frekuensi+=1}),Object.entries(I).map(([R,J])=>({item:R,downtime:h==="jam"?J.jam:J.frekuensi,jam:J.jam,frekuensi:J.frekuensi})).sort((R,J)=>J.downtime-R.downtime).slice(0,8)},[C,d,h,g]),re=j.useMemo(()=>{let L=C.downtime;return d==="bulanan"&&(L=C.downtime.filter(I=>I.tanggal?new Date(I.tanggal).getMonth()===g:!1)),h==="jam"?L.reduce((I,R)=>I+ge(R.downtime),0):L.length},[C,d,h,g]),G=j.useMemo(()=>{const L={};return C.workRequest.forEach(I=>{const R=I.eksekutor||"Belum Ditentukan";L[R]=(L[R]||0)+1}),Object.entries(L).map(([I,R])=>({eksekutor:I,count:R})).sort((I,R)=>R.count-I.count).slice(0,6)},[C]),de=j.useMemo(()=>{const L={};return C.vibrasi.forEach(I=>{const R=I.status||"Unknown";L[R]=(L[R]||0)+1}),Object.entries(L).map(([I,R])=>({status:I,count:R}))},[C]),ce=j.useMemo(()=>[{name:"NPK Granul",value:z.totalProduksiNPK},{name:"Blending/Retail",value:z.totalProduksiBlending},{name:"NPK Mini",value:z.totalProduksiNPKMini}].filter(L=>L.value>0),[z]),U=P==="ALL"?"Semua Plant":P==="NPK1"?"NPK Plant 1":"NPK Plant 2";return o?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fz,{className:"h-10 w-10 animate-spin text-primary-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Memuat data dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl font-display font-semibold text-foreground",children:["Dashboard - ",U]}),s.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:["Selamat datang, ",(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama),"! Berikut ringkasan data ",U.toLowerCase()," tahun ",r,"."]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[T&&s.jsx(et,{value:P,onChange:L=>n(L.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),s.jsx(et,{value:r.toString(),onChange:L=>a(Number(L.target.value)),options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],className:"w-32"})]})]}),s.jsxs(qt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-primary-500 rounded-xl p-5 text-white",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{onClick:()=>i(`/produksi/${P==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-80 transition-opacity",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vx,{className:"h-6 w-6"}),s.jsxs("h2",{className:"text-xl font-bold",children:["Produksi Bulan ",W.monthName," ",r]}),s.jsx(Hi,{className:"h-5 w-5 opacity-60 ml-2"})]}),s.jsxs("p",{className:"text-primary-100 text-sm",children:["Ringkasan produksi ",U.toLowerCase()," bulan ini"]})]}),s.jsx("div",{className:"flex items-center gap-2",onClick:L=>L.stopPropagation(),children:s.jsx("select",{value:c,onChange:L=>u(Number(L.target.value)),className:"bg-white/20 backdrop-blur-sm text-white border-0 rounded-lg px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/30 cursor-pointer",children:cf.map((L,I)=>s.jsx("option",{value:I,className:"text-dark-900",children:L},I))})})]}),s.jsx("div",{onClick:()=>i(`/produksi/${P==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-90 transition-opacity",children:s.jsxs("div",{className:"flex flex-wrap gap-4 lg:gap-8 mt-4",children:[s.jsxs("div",{className:"bg-white/15 rounded-lg px-5 py-3 min-w-[140px]",children:[s.jsx("p",{className:"text-primary-100 text-[10px] uppercase tracking-wider mb-1",children:"NPK Produksi"}),s.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:le(W.npkProduksi)}),s.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/15 rounded-lg px-5 py-3 min-w-[140px]",children:[s.jsx("p",{className:"text-primary-100 text-[10px] uppercase tracking-wider mb-1",children:"Target RKAP"}),s.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:le(W.rkapThisMonth)}),s.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/15 rounded-lg px-5 py-3 min-w-[140px]",children:[s.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"Pencapaian"}),s.jsxs("p",{className:"text-2xl lg:text-3xl font-bold",children:[W.percentageRkap,"%"]}),s.jsx("p",{className:"text-primary-100 text-xs",children:Number(W.percentageRkap)>=100?" Target Tercapai":"dari target"})]})]})}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-primary-100 text-xs",children:"Onspek"}),s.jsxs("p",{className:"font-semibold",children:[le(W.npkOnspek)," Ton"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-primary-100 text-xs",children:"Offspek"}),s.jsxs("p",{className:"font-semibold",children:[le(W.npkOffspek)," Ton"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-primary-100 text-xs",children:"Blending"}),s.jsxs("p",{className:"font-semibold",children:[le(W.blendingProduksi)," Ton"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-primary-100 text-xs",children:"NPK Mini"}),s.jsxs("p",{className:"font-semibold",children:[le(W.npkMiniProduksi)," Ton"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>i(`/produksi/${P==="NPK1"?"npk1":"npk2"}`),className:"bg-blue-500 rounded-xl p-5 text-white cursor-pointer hover:bg-blue-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lh,{className:"h-5 w-5"}),s.jsxs("h3",{className:"font-bold",children:["Produksi Tahunan ",r]})]}),s.jsx(Hi,{className:"h-4 w-4 opacity-60"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK Granul"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.totalProduksiNPK)}),s.jsxs("p",{className:"text-blue-100 text-[10px]",children:["Ton (",z.percentage,"% RKAP)"]})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Onspek"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.totalOnspek)}),s.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Offspek"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.totalOffspek)}),s.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Target RKAP"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.totalRKAP)}),s.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]})]}),P==="ALL"&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 1"}),s.jsxs(Xe,{variant:Number(z.percentageNPK1)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[z.percentageNPK1,"%"]})]}),s.jsxs("p",{className:"font-semibold",children:[le(z.produksiNPK1)," /"," ",le(z.rkapNPK1)," Ton"]})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 2"}),s.jsxs(Xe,{variant:Number(z.percentageNPK2)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[z.percentageNPK2,"%"]})]}),s.jsxs("p",{className:"font-semibold",children:[le(z.produksiNPK2)," /"," ",le(z.rkapNPK2)," Ton"]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[s.jsx("p",{className:"text-blue-100 text-[10px]",children:"Blending/Retail"}),s.jsxs("p",{className:"font-semibold",children:[le(z.totalProduksiBlending)," Ton"]})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[s.jsx("p",{className:"text-blue-100 text-[10px]",children:"NPK Mini"}),s.jsxs("p",{className:"font-semibold",children:[le(z.totalProduksiNPKMini)," Ton"]})]})]})]}),s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-slate-600 to-slate-700 rounded-2xl p-5 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tz,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-bold",children:"Operasional & Logistik"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{onClick:()=>i(`/laporan/timesheet-forklift-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Forklift"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.forkliftHours)}),s.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",C.timesheetForklift.length," rec)"]})]}),s.jsxs("div",{onClick:()=>i(`/laporan/timesheet-loader-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Loader"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.loaderHours)}),s.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",C.timesheetLoader.length," rec)"]})]}),s.jsxs("div",{onClick:()=>i(`/data/gate-pass-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Gate Pass"}),s.jsx("p",{className:"text-xl font-bold",children:z.gatePassCount}),s.jsx("p",{className:"text-slate-200 text-[10px]",children:"Transaksi"})]}),s.jsxs("div",{onClick:()=>i(`/data/bahan-baku-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Bahan Baku"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.totalBahanBaku)}),s.jsxs("p",{className:"text-slate-200 text-[10px]",children:[C.bahanBaku.length," item"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl p-5 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(To,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-bold",children:"Downtime & Issues"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{onClick:()=>i(`/laporan/downtime-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Total Downtime"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.totalDowntime)}),s.jsxs("p",{className:"text-red-100 text-[10px]",children:["Jam (",C.downtime.length," kejadian)"]})]}),s.jsxs("div",{onClick:()=>i(`/data/work-request-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Work Request"}),s.jsx("p",{className:"text-xl font-bold",children:z.workRequestTotal}),s.jsxs("p",{className:"text-red-100 text-[10px]",children:[z.workRequestPending," pending"]})]}),s.jsxs("div",{onClick:()=>i(`/data/trouble-record-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Trouble Open"}),s.jsx("p",{className:"text-xl font-bold",children:z.troubleRecordOpen}),s.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",C.troubleRecord.length," total"]})]}),s.jsxs("div",{onClick:()=>i(`/data/vibrasi-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[s.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Vibrasi Alert"}),s.jsx("p",{className:"text-xl font-bold",children:z.vibrasiWarnings}),s.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",C.vibrasi.length," ukur"]})]})]})]}),s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>i(`/data/rekap-bbm-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K2,{className:"h-5 w-5"}),s.jsxs("h3",{className:"font-bold",children:["Rekap BBM Alat Berat ",r]})]}),s.jsx(Hi,{className:"h-4 w-4 opacity-60"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Pengajuan"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.bbmPengajuan)}),s.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Realisasi"}),s.jsx("p",{className:"text-xl font-bold",children:le(z.bbmRealisasi)}),s.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Selisih"}),s.jsxs("p",{className:"text-xl font-bold",children:[z.bbmSelisih>=0?"+":"",le(z.bbmSelisih)]}),s.jsx("p",{className:"text-amber-100 text-[10px]",children:z.bbmSelisih>=0?"Surplus":"Defisit"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Record"}),s.jsx("p",{className:"text-xl font-bold",children:z.bbmRecordCount}),s.jsx("p",{className:"text-amber-100 text-[10px]",children:"Pengajuan"})]})]})]})]}),s.jsxs(qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},onClick:()=>i(`/laporan/pemantauan-bb-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-bold",children:"Pemantauan Stok Bahan Baku"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{value:x,onChange:L=>{L.stopPropagation(),b(L.target.value)},onClick:L=>L.stopPropagation(),className:"w-full sm:w-40 bg-white/20 border-white/30 text-white text-sm",options:QNe.map(L=>({value:L,label:L}))}),s.jsx(Hi,{className:"h-4 w-4 opacity-60"})]})]}),(()=>{const I=y.filter(he=>he._plant===P||P==="ALL").filter(he=>he.bahanBaku===x).sort((he,Te)=>new Date(Te.tanggal).getTime()-new Date(he.tanggal).getTime()),R=I[0],J=I.length,xe=I.filter(he=>new Date(he.tanggal).getFullYear()===r),Ne=xe.reduce((he,Te)=>he+(Te.bahanBakuIn||0),0),ue=xe.reduce((he,Te)=>he+(Te.bahanBakuOut||0),0);return s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Stok Terakhir"}),s.jsx("p",{className:"text-xl font-bold",children:le((R==null?void 0:R.stockAkhir)||0)}),s.jsxs("p",{className:"text-emerald-100 text-[10px]",children:["Ton (",(R==null?void 0:R.tanggal)||"-",")"]})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Masuk ",r]}),s.jsx("p",{className:"text-xl font-bold",children:le(Ne)}),s.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Keluar ",r]}),s.jsx("p",{className:"text-xl font-bold",children:le(ue)}),s.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[s.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Total Record"}),s.jsx("p",{className:"text-xl font-bold",children:J}),s.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Pencatatan"})]})]})})()]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{children:"Produksi vs RKAP"}),s.jsx(Xe,{variant:"primary",children:r})]})}),s.jsx(_n,{children:s.jsx(ll,{width:"100%",height:300,children:s.jsxs(ZNe,{data:Q,children:[s.jsx(If,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(_o,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),s.jsx(Eo,{stroke:"#64748b",fontSize:12}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:L=>[le(L)+" Ton",""]}),s.jsx(_i,{}),s.jsx(po,{type:"monotone",dataKey:"produksi",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},name:"Produksi"}),P==="ALL"?s.jsxs(s.Fragment,{children:[s.jsx(po,{type:"monotone",dataKey:"rkapNPK1",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP NPK 1"}),s.jsx(po,{type:"monotone",dataKey:"rkapNPK2",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP NPK 2"})]}):s.jsx(po,{type:"monotone",dataKey:"rkap",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP"})]})})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{children:"Produksi Onspek vs Offspek"}),s.jsx(Xe,{variant:"success",children:"Monthly"})]})}),s.jsx(_n,{children:s.jsx(ll,{width:"100%",height:300,children:s.jsxs(hk,{data:Q,children:[s.jsx(If,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(_o,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),s.jsx(Eo,{stroke:"#64748b",fontSize:12}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:L=>[le(L)+" Ton",""]}),s.jsx(_i,{}),s.jsx(Ii,{dataKey:"onspek",fill:"#3b82f6",radius:[4,4,0,0],name:"Onspek"}),s.jsx(Ii,{dataKey:"offspek",fill:"#ef4444",radius:[4,4,0,0],name:"Offspek"})]})})})]})]}),s.jsx(tTe,{downtimeData:C.downtime,year:r,plantLabel:U}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Me,{className:"lg:col-span-2",children:[s.jsx(St,{children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nt,{children:"Downtime per Equipment"}),s.jsxs(Xe,{variant:"warning",children:[le(re)," ",h==="jam"?"Jam":"Kejadian"," Total"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{value:d,onChange:L=>f(L.target.value),options:[{value:"tahunan",label:"Tahunan"},{value:"bulanan",label:"Bulanan"}],className:"w-28"}),d==="bulanan"&&s.jsx(et,{value:g.toString(),onChange:L=>m(Number(L.target.value)),options:cf.map((L,I)=>({value:I.toString(),label:L})),className:"w-24"}),s.jsx(et,{value:h,onChange:L=>p(L.target.value),options:[{value:"jam",label:"Jam"},{value:"frekuensi",label:"Frekuensi"}],className:"w-28"})]})]})}),s.jsx(_n,{children:q.length>0?s.jsx(ll,{width:"100%",height:350,children:s.jsxs(hk,{data:q,layout:"vertical",children:[s.jsx(If,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(_o,{type:"number",stroke:"#64748b",fontSize:12}),s.jsx(Eo,{type:"category",dataKey:"item",stroke:"#64748b",fontSize:12,width:120}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:(L,I,R)=>{var Ne,ue;const J=h==="jam"?" Jam":" Kejadian",xe=h==="jam"?`(${((Ne=R.payload)==null?void 0:Ne.frekuensi)||0} kejadian)`:`(${le(((ue=R.payload)==null?void 0:ue.jam)||0)} jam)`;return[`${le(L)}${J} ${xe}`,"Downtime"]}}),s.jsx(Ii,{dataKey:"downtime",fill:"#f59e0b",radius:[0,8,8,0],name:h==="jam"?"Downtime (Jam)":"Downtime (Frekuensi)"})]})}):s.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data downtime"})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx(Nt,{children:"Breakdown Produksi"})}),s.jsx(_n,{children:ce.length>0?s.jsx(ll,{width:"100%",height:350,children:s.jsxs(e1,{children:[s.jsx(yi,{data:ce,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:L,percent:I})=>`${L} ${(I*100).toFixed(0)}%`,children:ce.map((L,I)=>s.jsx(Tl,{fill:mc[I%mc.length]},`cell-${I}`))}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:L=>[le(L)+" Ton",""]})]})}):s.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data produksi"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{children:"Work Request by Eksekutor"}),s.jsxs(Xe,{variant:"danger",children:[z.workRequestTotal," Total"]})]})}),s.jsx(_n,{children:G.length>0?s.jsx(ll,{width:"100%",height:300,children:s.jsxs(e1,{children:[s.jsx(yi,{data:G,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"eksekutor",label:({eksekutor:L,count:I})=>`${L}: ${I}`,children:G.map((L,I)=>s.jsx(Tl,{fill:mc[I%mc.length]},`cell-${I}`))}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),s.jsx(_i,{})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data work request"})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{children:"Status Vibrasi Equipment"}),s.jsxs(Xe,{variant:z.vibrasiWarnings>0?"danger":"success",children:[z.vibrasiWarnings," Alert"]})]})}),s.jsx(_n,{children:de.length>0?s.jsx(ll,{width:"100%",height:300,children:s.jsxs(e1,{children:[s.jsx(yi,{data:de,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"status",children:de.map((L,I)=>{const R={Normal:"#22c55e",Warning:"#f59e0b",Critical:"#ef4444",Alert:"#ef4444"};return s.jsx(Tl,{fill:R[L.status]||mc[I%mc.length]},`cell-${I}`)})}),s.jsx(An,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),s.jsx(_i,{})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data vibrasi"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx(Nt,{children:"Aksi Cepat"})}),s.jsxs(_n,{className:"space-y-3",children:[s.jsxs("a",{href:"/produksi/npk2",className:"flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 rounded-xl transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lh,{className:"h-5 w-5 text-primary-600"}),s.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Input Produksi"})]}),s.jsx(Hi,{className:"h-4 w-4 text-primary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),s.jsxs("a",{href:"/laporan/downtime-npk2",className:"flex items-center justify-between p-3 bg-amber-50 hover:bg-amber-100 rounded-xl transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(To,{className:"h-5 w-5 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Input Downtime"})]}),s.jsx(Hi,{className:"h-4 w-4 text-amber-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),s.jsxs("a",{href:"/data/work-request-npk2",className:"flex items-center justify-between p-3 bg-secondary-50 hover:bg-secondary-100 rounded-xl transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wi,{className:"h-5 w-5 text-secondary-600"}),s.jsx("span",{className:"text-sm font-medium text-secondary-900",children:"Work Request"})]}),s.jsx(Hi,{className:"h-4 w-4 text-secondary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),s.jsxs("a",{href:"/data/vibrasi-npk2",className:"flex items-center justify-between p-3 bg-red-50 hover:bg-red-100 rounded-xl transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mb,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-red-900",children:"Data Vibrasi"})]}),s.jsx(Hi,{className:"h-4 w-4 text-red-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),s.jsxs(Me,{className:"lg:col-span-2",children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Ringkasan Data ",U]}),s.jsx(Xe,{variant:"info",children:r})]})}),s.jsx(_n,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary-600",children:C.produksiNPK.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Produksi NPK"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-secondary-600",children:C.produksiBlending.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Blending"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:C.downtime.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Downtime"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:C.workRequest.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Work Request"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:C.bahanBaku.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Bahan Baku"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C.vibrasi.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Data Vibrasi"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:C.gatePass.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Gate Pass"})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-pink-600",children:C.troubleRecord.length}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Trouble Record"})]})]})})]})]})]})};function nTe(e,t,r={}){const{altKey:n=!1,ctrlKey:a=!1,shiftKey:i=!1,enabled:o=!0}=r,l=j.useCallback(c=>{if(!o)return;const u=n?c.altKey:!c.altKey,d=a?c.ctrlKey:!c.ctrlKey,f=i?c.shiftKey:!c.shiftKey;c.key.toLowerCase()===e.toLowerCase()&&u&&d&&f&&(c.preventDefault(),t())},[e,t,n,a,i,o]);j.useEffect(()=>(o&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l,o])}function Br(e,t=!0){nTe("s",e,{ctrlKey:!0,enabled:t})}function aTe(){const{user:e}=Tt(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[i,o]=j.useState(null),l=j.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),c=j.useCallback(async()=>{a(!0),o(null);try{const g=await dM();if(g.success&&g.data){const m=[...g.data].sort((x,b)=>x.nama_material.localeCompare(b.nama_material));r(m)}else o(g.error||"Gagal mengambil data material"),r([])}catch(g){o(g instanceof Error?g.message:"Terjadi kesalahan"),r([])}finally{a(!1)}},[]),u=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await gM(g,m);return x.success&&x.data?(r(b=>[...b,x.data].sort((y,v)=>y.nama_material.localeCompare(v.nama_material))),{success:!0,data:x.data}):(o(x.error||"Gagal menambah material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),d=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await xM(g,m);return x.success?(r(b=>b.map(y=>y.id===g.id?{...y,...g}:y).sort((y,v)=>y.nama_material.localeCompare(v.nama_material))),{success:!0}):(o(x.error||"Gagal mengupdate material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),f=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await vM(g,m);return x.success?(r(b=>b.filter(y=>y.id!==g)),{success:!0}):(o(x.error||"Gagal menghapus material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),h=j.useCallback(async(g,m,x)=>{a(!0),o(null);try{const b=l(),y=await yM(g,m,x,b);return y.success&&y.data?(r(v=>v.map(w=>w.id===g?{...w,stok:y.data.stok_baru}:w)),{success:!0,data:y.data}):(o(y.error||"Gagal menambah stok"),{success:!1,error:y.error})}catch(b){const y=b instanceof Error?b.message:"Terjadi kesalahan";return o(y),{success:!1,error:y}}finally{a(!1)}},[l]),p=j.useCallback(async(g,m,x)=>{a(!0),o(null);try{const b=l(),y=await bM(g,m,x,b);return y.success&&y.data?(r(v=>v.map(w=>w.id===g?{...w,stok:y.data.stok_baru}:w)),{success:!0,data:y.data}):(o(y.error||"Gagal mengurangi stok"),{success:!1,error:y.error})}catch(b){const y=b instanceof Error?b.message:"Terjadi kesalahan";return o(y),{success:!1,error:y}}finally{a(!1)}},[l]);return j.useEffect(()=>{c()},[c]),{materials:t,loading:n,error:i,refetch:c,addMaterial:u,updateMaterial:d,deleteMaterial:f,stockMasuk:h,stockKeluar:p}}function iTe(e){const[t,r]=j.useState([]),[n,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(e),u=j.useCallback(async h=>{a(!0),o(null);try{const p=await fM(h||l);p.success&&p.data?r(p.data):(o(p.error||"Gagal mengambil data transaksi"),r([]))}catch(p){o(p instanceof Error?p.message:"Terjadi kesalahan"),r([])}finally{a(!1)}},[l]),d=j.useCallback(h=>{c(h),u(h)},[u]),f=j.useCallback(()=>{c(void 0),u(void 0)},[u]);return j.useEffect(()=>{u()},[]),{transactions:t,loading:n,error:i,filters:l,refetch:u,updateFilters:d,clearFilters:f}}function Jr(){const{user:e}=Tt(),t=j.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),r=j.useCallback(async(i,o)=>{const l=t(),c=await hM(i,o,l);return c.success&&Ny("success"),c},[t]),n=j.useCallback(async(i,o)=>{const l=t(),c=await pM(i,o,l);return c.success&&Ny("success"),c},[t]),a=j.useCallback(async(i,o)=>{const l=t(),c=await mM(i,o,l);return c.success&&Ny("warning"),c},[t]);return{createWithLog:r,updateWithLog:n,deleteWithLog:a,getUserInfo:t}}function HF(){const[e,t]=j.useState([]),r=j.useCallback((l,c,u)=>({newItems:[{...c,id:u,_isPending:!0},...l],rollback:()=>l}),[]),n=j.useCallback((l,c)=>{const u=l.find(f=>f.id===c.id);return{newItems:l.map(f=>f.id===c.id?{...c,_isPending:!0}:f),rollback:()=>l,previousItem:u}},[]),a=j.useCallback((l,c)=>{const u=l.find(f=>f.id===c);return{newItems:l.filter(f=>f.id!==c),rollback:()=>l,deletedItem:u}},[]),i=j.useCallback((l,c,u)=>l.map(d=>d.id===c?{...d,id:u,_isPending:void 0}:d),[]),o=j.useCallback((l,c)=>l.map(u=>u.id===c?{...u,_isPending:void 0}:u),[]);return{pendingActions:e,setPendingActions:t,optimisticAdd:r,optimisticUpdate:n,optimisticDelete:a,confirmAdd:i,confirmUpdate:o}}function zF(){return`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const Fd={tanggal:dr(),shiftMalamOnspek:0,shiftMalamOffspek:0,shiftPagiOnspek:0,shiftPagiOffspek:0,shiftSoreOnspek:0,shiftSoreOffspek:0,totalOnspek:0,totalOffspek:0,total:0},pO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),{optimisticAdd:i,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=HF(),[d,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(!1),[N,S]=j.useState(null),[T,P]=j.useState(null),[_,O]=j.useState(Fd),[E,C]=j.useState(new Date().getFullYear()),[z,Q]=j.useState(new Date().getMonth()),[W,q]=j.useState(!1),[re,G]=j.useState("edit"),[de,ce]=j.useState(null),[U,L]=j.useState(!1),[I,R]=j.useState(""),J=ee=>{R(ee),L(!0)},xe=(t==null?void 0:t.role)||"",Ne=sn(xe),ue=j.useCallback(()=>{if(g&&!h){const ee=document.querySelector("form");ee&&ee.requestSubmit()}},[g,h]);Br(ue,g);const he=wn(xe),Te=kn(xe),me=Yr(xe);j.useEffect(()=>{(async()=>{p(!0);try{const{readData:te,SHEETS:ye,getSheetNameByPlant:Ve}=await rt(async()=>{const{readData:Fe,SHEETS:We,getSheetNameByPlant:it}=await Promise.resolve().then(()=>nt);return{readData:Fe,SHEETS:We,getSheetNameByPlant:it}},void 0),be=Ve(ye.PRODUKSI_NPK,e),Pe=await te(be);if(Pe.success&&Pe.data){const Fe=Pe.data.map(We=>({...We,_plant:e})).sort((We,it)=>new Date(it.tanggal).getTime()-new Date(We.tanggal).getTime());f(Fe)}else f([])}catch(te){console.error("Error fetching data:",te),f([])}finally{p(!1)}})()},[e]);const Ce=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],ne=j.useMemo(()=>{const ee=new Date().getFullYear(),te=d.map(be=>{const Pe=new Date(be.tanggal);return isNaN(Pe.getTime())?ee:Pe.getFullYear()}),ye=[ee,ee-1,ee-2];return[...new Set([...te,...ye])].sort((be,Pe)=>Pe-be)},[d]),A=j.useMemo(()=>d.filter(ee=>{const te=new Date(ee.tanggal);return!isNaN(te.getTime())&&te.getFullYear()===E}),[d,E]),B=j.useMemo(()=>{const ee=A.filter(be=>new Date(be.tanggal).getMonth()===z),te=ee.reduce((be,Pe)=>be+ge(Pe.totalOnspek),0),ye=ee.reduce((be,Pe)=>be+ge(Pe.totalOffspek),0),Ve=ee.reduce((be,Pe)=>be+ge(Pe.total),0);return{monthName:Ce[z],year:E,totalOnspek:te,totalOffspek:ye,total:Ve,entryCount:ee.length}},[A,E,z]);j.useEffect(()=>{const ee=(_.shiftMalamOnspek||0)+(_.shiftPagiOnspek||0)+(_.shiftSoreOnspek||0),te=(_.shiftMalamOffspek||0)+(_.shiftPagiOffspek||0)+(_.shiftSoreOffspek||0);O(ye=>({...ye,totalOnspek:ee,totalOffspek:te,total:ee+te}))},[_.shiftMalamOnspek,_.shiftMalamOffspek,_.shiftPagiOnspek,_.shiftPagiOffspek,_.shiftSoreOnspek,_.shiftSoreOffspek]);const H=async ee=>{if(ee.preventDefault(),m(!1),v(!0),N){const te={..._,id:N,_plant:e},{rollback:ye}=o(d,te);f(Ve=>Ve.map(be=>be.id===N?{...te,_isPending:!0}:be)),n("produksi_npk",{..._,id:N,_plant:e}).then(Ve=>{Ve.success?f(be=>u(be,N)):(f(ye()),alert(Ve.error||"Gagal mengupdate data"))}).catch(()=>{f(ye()),alert("Terjadi kesalahan saat mengupdate data")})}else{const te=zF(),ye={..._,id:te,_plant:e,_isPending:!0},{rollback:Ve}=i(d,ye,te);f(be=>[ye,...be]),r("produksi_npk",{..._,_plant:e}).then(be=>{be.success&&be.data?f(Pe=>c(Pe,te,be.data.id||te)):(f(Ve()),alert(be.error||"Gagal menyimpan data"))}).catch(()=>{f(Ve()),alert("Terjadi kesalahan saat menyimpan data")})}O(Fd),S(null),setTimeout(()=>v(!1),1500)},ke=ee=>{if(he){ce(ee),G("edit"),q(!0);return}O(ee),S(ee.id||null),m(!0)},M=ee=>{if(Te){const te=d.find(ye=>ye.id===ee);te&&(ce(te),G("delete"),q(!0));return}P(ee),b(!0)},F=async ee=>{if(!(!de||!t)){p(!0);try{const{createData:te,SHEETS:ye}=await rt(async()=>{const{createData:Pe,SHEETS:Fe}=await Promise.resolve().then(()=>nt);return{createData:Pe,SHEETS:Fe}},void 0),Ve={type:"produksi_npk",action:re,itemId:de.id,itemData:de,targetSheet:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",reason:ee,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},be=await te(ye.APPROVAL_REQUESTS,Ve);if(be.success)q(!1),ce(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(be.error||"Gagal mengirim permintaan")}catch(te){console.error("Error submitting approval:",te),alert(te instanceof Error?te.message:"Gagal mengirim permintaan approval")}finally{p(!1)}}},se=async()=>{if(!T)return;const{rollback:ee}=l(d,T);f(te=>te.filter(ye=>ye.id!==T)),b(!1),v(!0),a("produksi_npk",{id:T,_plant:e}).then(te=>{te.success||(f(ee()),alert(te.error||"Gagal menghapus data"))}).catch(()=>{f(ee()),alert("Terjadi kesalahan saat menghapus data")}),P(null),setTimeout(()=>v(!1),1500)},D=()=>{O(Fd),S(null),m(!0)},Y=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ee=>pt(ee)},{key:"shiftMalamOnspek",header:"Malam Onspek",render:ee=>le(ge(ee))},{key:"shiftMalamOffspek",header:"Malam Offspek",render:ee=>le(ge(ee))},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:ee=>le(ge(ee))},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:ee=>le(ge(ee))},{key:"shiftSoreOnspek",header:"Sore Onspek",render:ee=>le(ge(ee))},{key:"shiftSoreOffspek",header:"Sore Offspek",render:ee=>le(ge(ee))},{key:"total",header:"Total",render:ee=>s.jsx("span",{className:"font-semibold text-primary-600",children:le(ge(ee))})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Granul"}),s.jsx(Xe,{variant:e==="NPK1"?"primary":"success",children:e})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data produksi NPK Granul untuk ",e]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),Ne&&s.jsxs(ve,{onClick:D,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:`rounded-xl p-4 sm:p-5 text-white shadow-md ${e==="NPK1"?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(vx,{className:"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight",children:["Produksi Bulan ",B.monthName," ",B.year]}),s.jsxs("p",{className:"text-white/80 text-xs sm:text-sm",children:[B.entryCount," entry data"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("select",{value:z,onChange:ee=>Q(Number(ee.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 flex-1 min-w-0",children:Ce.map((ee,te)=>s.jsx("option",{value:te,className:"text-dark-900",children:ee},te))}),s.jsx("select",{value:E,onChange:ee=>C(Number(ee.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 w-20 sm:w-24",children:ne.map(ee=>s.jsx("option",{value:ee,className:"text-dark-900",children:ee},ee))})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[s.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Onspek"}),s.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:le(B.totalOnspek)}),s.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[s.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Offspek"}),s.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:le(B.totalOffspek)}),s.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[s.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Total"}),s.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:le(B.total)}),s.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Onspek (",E,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:le(A.reduce((ee,te)=>ee+ge(te.totalOnspek),0))})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Offspek (",E,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:le(A.reduce((ee,te)=>ee+ge(te.totalOffspek),0))})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Produksi (",E,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:le(A.reduce((ee,te)=>ee+ge(te.total),0))})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Jumlah Entry (",E,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:A.length})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Nt,{children:"Data Produksi"})})}),s.jsx(Ir,{data:d,columns:Y,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, shift, total produksi...",searchKeys:["tanggal","shiftMalamOnspek","shiftMalamOffspek","shiftPagiOnspek","shiftPagiOffspek","shiftSoreOnspek","shiftSoreOffspek","total"],actions:me?ee=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),J(ee.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):ee=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),J(ee.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),ke(ee)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),M(ee.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:g,onClose:()=>{m(!1),O(Fd),S(null)},title:N?"Edit Data Produksi":"Tambah Data Produksi",size:"lg",children:s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsx("div",{children:s.jsx(Ee,{label:"Tanggal",type:"date",value:_.tanggal,onChange:ee=>O(te=>({...te,tanggal:ee.target.value})),required:!0})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Malam"}),s.jsx(Ee,{label:"Onspek (Ton)",type:"number",value:_.shiftMalamOnspek,onChange:ee=>O(te=>({...te,shiftMalamOnspek:Number(ee.target.value)})),min:"0",step:"0.01"}),s.jsx(Ee,{label:"Offspek (Ton)",type:"number",value:_.shiftMalamOffspek,onChange:ee=>O(te=>({...te,shiftMalamOffspek:Number(ee.target.value)})),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Pagi"}),s.jsx(Ee,{label:"Onspek (Ton)",type:"number",value:_.shiftPagiOnspek,onChange:ee=>O(te=>({...te,shiftPagiOnspek:Number(ee.target.value)})),min:"0",step:"0.01"}),s.jsx(Ee,{label:"Offspek (Ton)",type:"number",value:_.shiftPagiOffspek,onChange:ee=>O(te=>({...te,shiftPagiOffspek:Number(ee.target.value)})),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Sore"}),s.jsx(Ee,{label:"Onspek (Ton)",type:"number",value:_.shiftSoreOnspek,onChange:ee=>O(te=>({...te,shiftSoreOnspek:Number(ee.target.value)})),min:"0",step:"0.01"}),s.jsx(Ee,{label:"Offspek (Ton)",type:"number",value:_.shiftSoreOffspek,onChange:ee=>O(te=>({...te,shiftSoreOffspek:Number(ee.target.value)})),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Total (Auto)"}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Onspek:"}),s.jsxs("span",{className:"font-semibold text-primary-600",children:[le(_.totalOnspek||0)," Ton"]})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Offspek:"}),s.jsxs("span",{className:"font-semibold text-red-600",children:[le(_.totalOffspek||0)," Ton"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"font-medium text-dark-700",children:"Total:"}),s.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[le(_.total||0)," Ton"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{m(!1),O(Fd),S(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:h,children:N?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:x,onClose:()=>{b(!1),P(null)},onConfirm:se,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:h}),s.jsx(jn,{isOpen:W,onClose:()=>{q(!1),ce(null)},onSubmit:F,action:re,itemName:"data produksi NPK",loading:h}),s.jsx(jr,{isVisible:y,message:N?"Data berhasil diupdate!":"Data berhasil disimpan!",onClose:()=>v(!1)}),s.jsx(qu,{isOpen:w,onClose:()=>k(!1),title:`Produksi NPK Granul ${e==="NPK1"?"1":"2"}`,plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",compactMode:!0,data:d,columns:[{key:"tanggal",header:"Tanggal",render:ee=>pt(ee),width:"80px"},{key:"shiftMalamOnspek",header:"Malam Onspek",render:ee=>le(ge(ee)),align:"right",width:"70px"},{key:"shiftMalamOffspek",header:"Malam Offspek",render:ee=>le(ge(ee)),align:"right",width:"70px"},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:ee=>le(ge(ee)),align:"right",width:"65px"},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:ee=>le(ge(ee)),align:"right",width:"65px"},{key:"shiftSoreOnspek",header:"Sore Onspek",render:ee=>le(ge(ee)),align:"right",width:"65px"},{key:"shiftSoreOffspek",header:"Sore Offspek",render:ee=>le(ge(ee)),align:"right",width:"45px"},{key:"totalOnspek",header:"Total Onspek",render:ee=>le(ge(ee)),align:"right",width:"70px"},{key:"totalOffspek",header:"Total Offspek",render:ee=>le(ge(ee)),align:"right",width:"70px"},{key:"total",header:"S. Total",render:ee=>le(ge(ee)),align:"right",width:"60px"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Onspek:",getValue:ee=>le(ee.reduce((te,ye)=>te+ge(ye.totalOnspek),0))+" Ton"},{label:"Total Offspek:",getValue:ee=>le(ee.reduce((te,ye)=>te+ge(ye.totalOffspek),0))+" Ton"},{label:"Grand Total:",getValue:ee=>le(ee.reduce((te,ye)=>te+ge(ye.total),0))+" Ton"}]}),s.jsx(Lr,{isOpen:U,onClose:()=>{L(!1),R("")},sheetName:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",recordId:I,title:"Log Aktivitas Produksi NPK"})]})},Bd={tanggal:dr(),kategori:"Fresh",formula:"",tonase:0},mO=({type:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(!1),[S,T]=j.useState(""),[P,_]=j.useState(Bd),[O,E]=j.useState("all"),[C,z]=j.useState(new Date().getMonth()),[Q,W]=j.useState(new Date().getFullYear()),q=e==="blending"?"NPK2":"NPK1",re=e==="blending"?"Produksi Blending":"Produksi Retail",[G,de]=j.useState(!1),[ce,U]=j.useState("edit"),[L,I]=j.useState(null),[R,J]=j.useState(!1),[xe,Ne]=j.useState(""),ue=_e=>{Ne(_e),J(!0)},he=(t==null?void 0:t.role)||"",Te=sn(he),me=j.useCallback(()=>{if(u&&!l){const _e=document.querySelector("form");_e&&_e.requestSubmit()}},[u,l]);Br(me,u);const Ce=wn(he),ne=kn(he),A=Yr(he),B=e==="blending"?[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]:[{value:"Retail",label:"Retail"}],H=["NPK 15-15-15","NPK 16-16-16","NPK 20-10-10","NPK 12-12-17","NPK 15-15-15-4S"],ke=j.useMemo(()=>{const _e=[...new Set(i.map(_t=>_t.formula).filter(_t=>_t&&_t!=="Tanpa Formula"))],st=[...new Set([...H,..._e])].sort().map(_t=>({value:_t,label:_t}));return st.push({value:"Custom",label:"Custom (Tambah Baru)"}),st},[i]);j.useEffect(()=>{(async()=>{var Be,st;c(!0);try{const{readData:_t,SHEETS:Er,getSheetNameByPlant:or}=await rt(async()=>{const{readData:Ns,SHEETS:ta,getSheetNameByPlant:tt}=await Promise.resolve().then(()=>nt);return{readData:Ns,SHEETS:ta,getSheetNameByPlant:tt}},void 0),Ft=or(Er.PRODUKSI_BLENDING,q),fr=await _t(Ft);if(console.log("Raw data from backend:",(Be=fr.data)==null?void 0:Be.slice(0,2)),console.log("Data keys:",(st=fr.data)!=null&&st[0]?Object.keys(fr.data[0]):"No data"),fr.success&&fr.data){const ta=fr.data.map(tt=>{fr.data&&fr.data.indexOf(tt)===0&&console.log("First item raw:",tt);const Ts=tt.tonase??tt.Tonase??tt.total??tt.Total??tt.jumlah??tt.Jumlah??tt.ton??tt.Ton??tt.qty??tt.Qty??tt.quantity??tt.Quantity??0,ac=tt.formula??tt.Formula??tt.formulasi??tt.Formulasi??tt.jenis??tt.Jenis??tt.produk??tt.Produk??"",ic=tt.kategori??tt.Kategori??tt.tipe??tt.Tipe??tt.jenis??tt.Jenis??(e==="retail"?"Retail":"Fresh");return{...tt,id:tt.id??tt.ID??tt.Id??tt.no??tt.No,tanggal:tt.tanggal??tt.Tanggal??tt.tgl??tt.Tgl??tt.date??tt.Date??"",kategori:ic,formula:(ac||"Tanpa Formula").trim(),tonase:ge(Ts),_plant:q}}).sort((tt,Ts)=>new Date(Ts.tanggal).getTime()-new Date(tt.tanggal).getTime());o(ta),console.log("Normalized data sample:",ta.slice(0,3)),console.log("Total tonase check:",ta.slice(0,5).map(tt=>({formula:tt.formula,tonase:tt.tonase})))}else o([])}catch(_t){console.error("Error fetching data:",_t),o([])}finally{c(!1)}})()},[e,q]);const M=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],F=j.useMemo(()=>[...new Set(i.map(Be=>Be.formula).filter(Be=>Be&&Be.trim()!==""))].sort(),[i]),se=j.useMemo(()=>{const _e=new Date().getFullYear(),Be=i.map(Er=>{const or=new Date(Er.tanggal);return isNaN(or.getTime())?_e:or.getFullYear()}),st=[_e,_e-1,_e-2];return[...new Set([...Be,...st])].sort((Er,or)=>or-Er)},[i]),D=j.useMemo(()=>i.filter(_e=>{const Be=new Date(_e.tanggal);if(isNaN(Be.getTime()))return!1;const st=Q==="all"||Be.getFullYear()===Q,_t=C==="all"||Be.getMonth()===C;return st&&_t}),[i,C,Q]),Y=j.useMemo(()=>O==="all"?D:D.filter(_e=>_e.formula===O),[D,O]),ee=_e=>{const Be=_e.tonase;return typeof Be=="number"&&!isNaN(Be)?Be:ge(Be)},te=j.useMemo(()=>{const _e=D.reduce((Ft,fr)=>Ft+ee(fr),0),Be=D.filter(Ft=>Ft.kategori==="Fresh").reduce((Ft,fr)=>Ft+ee(fr),0),st=D.filter(Ft=>Ft.kategori==="Oversack").reduce((Ft,fr)=>Ft+ee(fr),0),_t=D.filter(Ft=>Ft.kategori==="Retail").reduce((Ft,fr)=>Ft+ee(fr),0);let Er=0,or=0;if(C!=="all"&&Q!=="all"){const Ft=C===0?11:C-1,fr=C===0?Q-1:Q;or=i.filter(ta=>{const tt=new Date(ta.tanggal);return isNaN(tt.getTime())?!1:tt.getMonth()===Ft&&tt.getFullYear()===fr}).reduce((ta,tt)=>ta+ee(tt),0),Er=or>0?(_e-or)/or*100:0}return{totalTonase:_e,totalFresh:Be,totalOversack:st,totalRetail:_t,entryCount:D.length,uniqueFormulas:new Set(D.map(Ft=>Ft.formula).filter(Ft=>Ft&&Ft.trim()!=="")).size,growthPercent:Er,prevTotalTonase:or,avgPerEntry:D.length>0?_e/D.length:0}},[D,C,Q,i]),ye=j.useMemo(()=>{const _e={};return D.forEach(Be=>{const st=Be.formula&&Be.formula.trim()!==""?Be.formula:"Tanpa Formula";_e[st]||(_e[st]={total:0,fresh:0,oversack:0,retail:0,count:0,percentage:0});const _t=ee(Be);_e[st].total+=_t,_e[st].count+=1,Be.kategori==="Fresh"?_e[st].fresh+=_t:Be.kategori==="Oversack"?_e[st].oversack+=_t:Be.kategori==="Retail"&&(_e[st].retail+=_t)}),Object.keys(_e).forEach(Be=>{_e[Be].percentage=te.totalTonase>0?_e[Be].total/te.totalTonase*100:0}),_e},[D,te.totalTonase]),Ve=j.useMemo(()=>Object.entries(ye).sort(([,_e],[,Be])=>Be.total-_e.total).slice(0,10),[ye]),be=()=>{if(C==="all"||Q==="all"){const _e=new Date;z(_e.getMonth()===0?11:_e.getMonth()-1),W(_e.getMonth()===0?_e.getFullYear()-1:_e.getFullYear())}else C===0?(z(11),W(_e=>_e-1)):z(_e=>_e-1)},Pe=()=>{if(C==="all"||Q==="all"){const _e=new Date;z(_e.getMonth()===11?0:_e.getMonth()+1),W(_e.getMonth()===11?_e.getFullYear()+1:_e.getFullYear())}else C===11?(z(0),W(_e=>_e+1)):z(_e=>_e+1)},Fe=async _e=>{_e.preventDefault(),c(!0);try{if(b){const Be=await n("produksi_blending",{...P,id:b,_plant:q});if(Be.success)o(st=>st.map(_t=>_t.id===b?{...P,id:b,_plant:q}:_t));else throw new Error(Be.error||"Gagal mengupdate data")}else{const Be={...P,_plant:q},st=await r("produksi_blending",Be);if(st.success&&st.data){const _t={...st.data,_plant:q};o(Er=>[_t,...Er])}else throw new Error(st.error||"Gagal menyimpan data")}d(!1),_(Bd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Be){console.error("Error saving data:",Be),alert(Be instanceof Error?Be.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},We=_e=>{if(Ce){I(_e),U("edit"),de(!0);return}_(_e),y(_e.id||null);const Be=ke.some(st=>st.value===_e.formula&&st.value!=="Custom");N(!Be&&_e.formula!==""),T(!Be&&_e.formula!==""?_e.formula:""),d(!0)},it=_e=>{if(ne){const Be=i.find(st=>st.id===_e);Be&&(I(Be),U("delete"),de(!0));return}w(_e),h(!0)},lt=async _e=>{if(!(!L||!t)){c(!0);try{const{createData:Be,SHEETS:st}=await rt(async()=>{const{createData:or,SHEETS:Ft}=await Promise.resolve().then(()=>nt);return{createData:or,SHEETS:Ft}},void 0),_t={type:"produksi_blending",action:ce,itemId:L.id,itemData:L,targetSheet:e==="retail"?"produksi_blending_NPK1":"produksi_blending",reason:_e,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Er=await Be(st.APPROVAL_REQUESTS,_t);if(Er.success)de(!1),I(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Er.error||"Gagal mengirim permintaan")}catch(Be){console.error("Error submitting approval:",Be),alert(Be instanceof Error?Be.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},dt=async()=>{if(v){c(!0);try{const _e=await a("produksi_blending",{id:v,_plant:q});if(_e.success)o(Be=>Be.filter(st=>st.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(_e.error||"Gagal menghapus data")}catch(_e){console.error("Error deleting data:",_e),alert(_e instanceof Error?_e.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Qe=()=>{_(Bd),y(null),N(!1),T(""),d(!0)},Pt=[{key:"tanggal",header:"Tanggal",sortable:!0,render:_e=>pt(_e)},{key:"kategori",header:"Kategori",render:_e=>s.jsx(Xe,{variant:_e==="Fresh"?"success":_e==="Oversack"?"warning":"primary",children:_e})},{key:"formula",header:"Formula"},{key:"tonase",header:"Tonase",render:_e=>s.jsxs("span",{className:"font-semibold",children:[le(ge(_e))," Ton"]})}],ea=_e=>{const Be=["from-blue-500 to-blue-600","from-emerald-500 to-emerald-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600","from-rose-500 to-rose-600","from-cyan-500 to-cyan-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600"];return Be[_e%Be.length]};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:re}),s.jsx(Xe,{variant:q==="NPK1"?"primary":"success",children:q})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data ",re.toLowerCase()," untuk ",q]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),Te&&s.jsxs(ve,{onClick:Qe,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsx(Me,{className:"overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-900 dark:from-dark-700 dark:to-dark-800 p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:s.jsx(vx,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Laporan Produksi"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("button",{onClick:be,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx($2,{className:"h-5 w-5 text-white"})}),s.jsxs("h2",{className:"text-2xl font-bold text-white min-w-[200px] text-center",children:[C==="all"?"Semua Bulan":M[C]," ",Q==="all"?"Semua Tahun":Q]}),s.jsx("button",{onClick:Pe,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(U2,{className:"h-5 w-5 text-white"})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{value:C.toString(),onChange:_e=>z(_e.target.value==="all"?"all":Number(_e.target.value)),options:[{value:"all",label:"Semua Bulan"},...M.map((_e,Be)=>({value:Be.toString(),label:_e}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"}),s.jsx(et,{value:Q.toString(),onChange:_e=>W(_e.target.value==="all"?"all":Number(_e.target.value)),options:[{value:"all",label:"Semua Tahun"},...se.map(_e=>({value:_e.toString(),label:_e.toString()}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Mo,{className:"h-4 w-4 text-white/70"}),s.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Total Produksi"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[le(te.totalTonase),s.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),te.growthPercent!==0&&s.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${te.growthPercent>0?"text-green-300":"text-red-300"}`,children:[te.growthPercent>0?s.jsx(Hi,{className:"h-3 w-3"}):s.jsx(nz,{className:"h-3 w-3"}),s.jsxs("span",{children:[Math.abs(te.growthPercent).toFixed(1),"% dari bulan lalu"]})]})]}),e==="blending"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(fy,{className:"h-4 w-4 text-green-300"}),s.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Fresh"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[le(te.totalFresh),s.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),s.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[te.totalTonase>0?(te.totalFresh/te.totalTonase*100).toFixed(1):0,"% dari total"]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Eb,{className:"h-4 w-4 text-amber-300"}),s.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Oversack"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[le(te.totalOversack),s.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),s.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[te.totalTonase>0?(te.totalOversack/te.totalTonase*100).toFixed(1):0,"% dari total"]})]})]}):s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(fy,{className:"h-4 w-4 text-blue-300"}),s.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Retail"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[le(te.totalRetail),s.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vz,{className:"h-4 w-4 text-violet-300"}),s.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Jenis Formula"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:te.uniqueFormulas}),s.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Formula berbeda"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yc,{className:"h-4 w-4 text-cyan-300"}),s.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Rata-rata"})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[le(te.avgPerEntry),s.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),s.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Per entry (",te.entryCount," data)"]})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G5,{className:"h-5 w-5 text-dark-500"}),s.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Statistik per Formula"})]}),s.jsx(et,{value:O,onChange:_e=>E(_e.target.value),options:[{value:"all",label:"Semua Formula"},...F.map(_e=>({value:_e,label:_e}))],className:"min-w-[200px]"})]}),Ve.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ve.map(([_e,Be],st)=>s.jsxs(Me,{className:`overflow-hidden cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg ${O===_e?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onClick:()=>E(O===_e?"all":_e),children:[s.jsxs("div",{className:`bg-gradient-to-br ${ea(st)} p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"bg-white/20 rounded-lg px-2 py-1",children:s.jsxs("span",{className:"text-white text-xs font-medium",children:["#",st+1]})}),s.jsx(xx,{className:"h-5 w-5 text-white/70"})]}),s.jsx("h4",{className:"text-white font-bold text-lg mt-3 truncate",title:_e,children:_e}),s.jsxs("p",{className:"text-white/70 text-sm",children:[Be.count," entry data"]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400 text-sm",children:"Total Tonase"}),s.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[le(Be.total)," Ton"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kontribusi"}),s.jsxs("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:[Be.percentage.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${ea(st)} rounded-full transition-all duration-500`,style:{width:`${Math.min(Be.percentage,100)}%`}})})]}),e==="blending"&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dark-100 dark:border-dark-700",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Fresh"}),s.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400 text-sm",children:[le(Be.fresh)," T"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Oversack"}),s.jsxs("p",{className:"font-semibold text-amber-600 dark:text-amber-400 text-sm",children:[le(Be.oversack)," T"]})]})]})]})]},_e))}):s.jsxs(Me,{className:"p-8 text-center",children:[s.jsx(Mo,{className:"h-12 w-12 text-dark-300 mx-auto mb-3"}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Tidak ada data produksi untuk bulan"," ",M[C]," ",Q]})]})]}),O!=="all"&&ye[O]&&s.jsxs(Me,{className:"overflow-hidden",children:[s.jsx(St,{className:"bg-gradient-to-r from-primary-500 to-primary-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:s.jsx(fy,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsxs(Nt,{className:"text-white",children:["Detail Formula: ",O]}),s.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["Data untuk"," ",C==="all"?"semua bulan":`bulan ${M[C]}`," ",Q==="all"?"semua tahun":Q]})]})]}),s.jsx(ve,{variant:"secondary",size:"sm",onClick:()=>E("all"),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:"Lihat Semua"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Total Tonase"}),s.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[le(ye[O].total),s.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Jumlah Entry"}),s.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:ye[O].count})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Rata-rata/Entry"}),s.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[le(ye[O].total/ye[O].count),s.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Kontribusi"}),s.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[ye[O].percentage.toFixed(1),s.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"%"})]})]})]})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs(Nt,{children:["Data ",re," - Semua Data",O!=="all"&&s.jsx(Xe,{variant:"primary",className:"ml-2",children:O})]}),s.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:[i.length," data total"]})]})}),s.jsx(Ir,{data:i.filter(_e=>O==="all"||_e.formula===O),columns:Pt,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, formula, kategori, tonase...",searchKeys:["tanggal","formula","kategori","tonase"],actions:A?_e=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:Be=>{Be.stopPropagation(),ue(_e.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):_e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Be=>{Be.stopPropagation(),ue(_e.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Be=>{Be.stopPropagation(),We(_e)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Be=>{Be.stopPropagation(),it(_e.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),_(Bd),y(null)},title:b?`Edit Data ${re}`:`Tambah Data ${re}`,size:"md",children:s.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:P.tanggal,onChange:_e=>_(Be=>({...Be,tanggal:_e.target.value})),required:!0}),s.jsx(et,{label:"Kategori",value:P.kategori,onChange:_e=>_(Be=>({...Be,kategori:_e.target.value})),options:B,required:!0}),s.jsx(et,{label:"Formula",value:k?"Custom":P.formula,onChange:_e=>{const Be=_e.target.value;Be==="Custom"?(N(!0),T("")):(N(!1),_(st=>({...st,formula:Be})))},options:ke,placeholder:"Pilih formula",required:!0}),k&&s.jsx(Ee,{label:"Formula Custom",type:"text",value:S,onChange:_e=>{T(_e.target.value),_(Be=>({...Be,formula:_e.target.value}))},placeholder:"Masukkan formula custom (contoh: NPK 18-18-18)",required:!0}),s.jsx(Ee,{label:"Tonase (Ton)",type:"number",value:P.tonase,onChange:_e=>_(Be=>({...Be,tonase:Number(_e.target.value)})),min:"0",step:"0.01",required:!0}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),_(Bd),y(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:dt,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:G,onClose:()=>{de(!1),I(null)},onSubmit:lt,action:ce,itemName:"data produksi blending",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(qu,{isOpen:m,onClose:()=>x(!1),title:`${re} - ${M[C]} ${Q}${O!=="all"?` (${O})`:""}`,plant:q==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:Y,columns:[{key:"tanggal",header:"Tanggal",render:_e=>pt(_e),width:"80px"},{key:"kategori",header:"Kategori",width:"70px"},{key:"formula",header:"Formula",width:"120px"},{key:"tonase",header:"Tonase (Ton)",render:_e=>le(ge(_e)),align:"right",width:"80px"}],filters:e==="blending"?{kategori:{label:"Kategori",options:[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]}}:void 0,signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:_e=>le(_e.reduce((Be,st)=>Be+ge(st.tonase),0))+" Ton"}]}),s.jsx(Lr,{isOpen:R,onClose:()=>{J(!1),Ne("")},sheetName:e==="blending"?"produksi_blending":"produksi_blending_NPK1",recordId:xe,title:`Log Aktivitas ${re}`})]})},$d={tanggal:dr(),formulasi:"",tonase:0},sTe=()=>{const{user:e}=Tt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Jr(),[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(null),[w,k]=j.useState($d),[N,S]=j.useState(""),[T,P]=j.useState(new Date().getFullYear()),[_,O]=j.useState(new Date().getMonth()),[E,C]=j.useState(!1),[z,Q]=j.useState("edit"),[W,q]=j.useState(null),[re,G]=j.useState(!1),[de,ce]=j.useState(""),U=F=>{ce(F),G(!0)},L=(e==null?void 0:e.role)||"",I=sn(L),R=j.useCallback(()=>{if(c&&!o){const F=document.querySelector("form");F&&F.requestSubmit()}},[c,o]);Br(R,c);const J=wn(L),xe=kn(L),Ne=Yr(L);j.useEffect(()=>{(async()=>{l(!0);try{const{readData:se,SHEETS:D}=await rt(async()=>{const{readData:ee,SHEETS:te}=await Promise.resolve().then(()=>nt);return{readData:ee,SHEETS:te}},void 0),Y=await se(D.PRODUKSI_NPK_MINI);if(Y.success&&Y.data){const ee=Y.data.map(te=>({...te,_plant:"NPK2"})).sort((te,ye)=>new Date(ye.tanggal).getTime()-new Date(te.tanggal).getTime());i(ee)}else i([])}catch(se){console.error("Error fetching data:",se),i([])}finally{l(!1)}})()},[]);const ue=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],he=j.useMemo(()=>{const F=new Date().getFullYear(),se=a.map(ee=>{const te=new Date(ee.tanggal);return isNaN(te.getTime())?F:te.getFullYear()}),D=[F,F-1,F-2];return[...new Set([...se,...D])].sort((ee,te)=>te-ee)},[a]),Te=j.useMemo(()=>a.filter(F=>{const se=new Date(F.tanggal);return!isNaN(se.getTime())&&se.getFullYear()===T}),[a,T]),me=j.useMemo(()=>{const F=Te.filter(Y=>new Date(Y.tanggal).getMonth()===_),se=F.reduce((Y,ee)=>Y+ge(ee.tonase),0),D=new Set(F.map(Y=>Y.formulasi)).size;return{monthName:ue[_],year:T,total:se,formulasiCount:D,entryCount:F.length}},[Te,T,_]),Ce=async F=>{F.preventDefault(),l(!0);const se=parseFloat(N.replace(",","."))||0,D={...w,tonase:se};try{if(x){const Y=await r("produksi_npk_mini",{...D,id:x,_plant:"NPK2"});if(Y.success)i(ee=>ee.map(te=>te.id===x?{...D,id:x,_plant:"NPK2"}:te));else throw new Error(Y.error||"Gagal mengupdate data")}else{const Y={...D,_plant:"NPK2"},ee=await t("produksi_npk_mini",Y);if(ee.success&&ee.data){const te={...ee.data,_plant:"NPK2"};i(ye=>[te,...ye])}else throw new Error(ee.error||"Gagal menyimpan data")}u(!1),k($d),S(""),b(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(Y){console.error("Error saving data:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},ne=F=>{if(J){q(F),Q("edit"),C(!0);return}k(F),S(F.tonase?String(F.tonase):""),b(F.id||null),u(!0)},A=F=>{if(xe){const se=a.find(D=>D.id===F);se&&(q(se),Q("delete"),C(!0));return}v(F),f(!0)},B=async F=>{if(!(!W||!e)){l(!0);try{const{createData:se,SHEETS:D}=await rt(async()=>{const{createData:te,SHEETS:ye}=await Promise.resolve().then(()=>nt);return{createData:te,SHEETS:ye}},void 0),Y={type:"produksi_npk_mini",action:z,itemId:W.id,itemData:W,targetSheet:"produksi_npk_mini",reason:F,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ee=await se(D.APPROVAL_REQUESTS,Y);if(ee.success)C(!1),q(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ee.error||"Gagal mengirim permintaan")}catch(se){console.error("Error submitting approval:",se),alert(se instanceof Error?se.message:"Gagal mengirim permintaan approval")}finally{l(!1)}}},H=async()=>{if(y){l(!0);try{const F=await n("produksi_npk_mini",{id:y,_plant:"NPK2"});if(F.success)i(se=>se.filter(D=>D.id!==y)),f(!1),v(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(F.error||"Gagal menghapus data")}catch(F){console.error("Error deleting data:",F),alert(F instanceof Error?F.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},ke=()=>{k($d),S(""),b(null),u(!0)},M=[{key:"tanggal",header:"Tanggal",sortable:!0,render:F=>pt(F)},{key:"formulasi",header:"Formulasi"},{key:"tonase",header:"Tonase",render:F=>s.jsxs("span",{className:"font-semibold text-primary-600",children:[le(ge(F))," Ton"]})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Mini"}),s.jsx(Xe,{variant:"success",children:"NPK2"})]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data produksi NPK Mini untuk NPK2"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),I&&s.jsxs(ve,{onClick:ke,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:"rounded-xl p-4 sm:p-5 text-white shadow-md bg-gradient-to-r from-green-500 to-green-600",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(vx,{className:"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight",children:["Produksi Bulan ",me.monthName," ",me.year]}),s.jsxs("p",{className:"text-white/80 text-xs sm:text-sm",children:[me.entryCount," entry data"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("select",{value:_,onChange:F=>O(Number(F.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 flex-1 min-w-0",children:ue.map((F,se)=>s.jsx("option",{value:se,className:"text-dark-900",children:F},se))}),s.jsx("select",{value:T,onChange:F=>P(Number(F.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 w-20 sm:w-24",children:he.map(F=>s.jsx("option",{value:F,className:"text-dark-900",children:F},F))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[s.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Total"}),s.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:le(me.total)}),s.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[s.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Formulasi"}),s.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:me.formulasiCount}),s.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Jenis"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Tonase (",T,")"]}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:[le(Te.reduce((F,se)=>F+ge(se.tonase),0)),s.jsx("span",{className:"text-xs sm:text-sm font-normal text-dark-400 ml-1",children:"Ton"})]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Formulasi (",T,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(Te.map(F=>F.formulasi)).size})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Entry (",T,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:Te.length})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Nt,{children:"Data Produksi NPK Mini"})})}),s.jsx(Ir,{data:a,columns:M,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, formulasi, tonase...",searchKeys:["tanggal","formulasi","tonase"],actions:Ne?F=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:se=>{se.stopPropagation(),U(F.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):F=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:se=>{se.stopPropagation(),U(F.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:se=>{se.stopPropagation(),ne(F)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:se=>{se.stopPropagation(),A(F.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:c,onClose:()=>{u(!1),k($d),S(""),b(null)},title:x?"Edit Data NPK Mini":"Tambah Data NPK Mini",size:"md",children:s.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:w.tanggal,onChange:F=>k(se=>({...se,tanggal:F.target.value})),required:!0}),s.jsx(Ee,{label:"Formulasi",type:"text",value:w.formulasi,onChange:F=>k(se=>({...se,formulasi:F.target.value})),placeholder:"Masukkan formulasi (contoh: NPK Mini 15-15-15)",required:!0}),s.jsx(Ee,{label:"Tonase (Ton)",type:"text",inputMode:"decimal",value:N,onChange:F=>{let se=F.target.value;se=se.replace(/[^0-9.,]/g,"");const D=se.replace(",",".");(D===""||/^\d*\.?\d{0,2}$/.test(D))&&S(se)},placeholder:"0",required:!0}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{u(!1),k($d),S(""),b(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:o,children:x?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:d,onClose:()=>{f(!1),v(null)},onConfirm:H,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),s.jsx(jn,{isOpen:E,onClose:()=>{C(!1),q(null)},onSubmit:B,action:z,itemName:"data produksi NPK Mini",loading:o}),s.jsx(jr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),s.jsx(qu,{isOpen:g,onClose:()=>m(!1),title:"Produksi NPK Mini",plant:"NPK Plant 2",data:a,columns:[{key:"tanggal",header:"Tanggal",render:F=>pt(F),width:"100px"},{key:"formulasi",header:"Formulasi",width:"150px"},{key:"tonase",header:"Tonase (Ton)",render:F=>le(ge(F)),align:"right",width:"100px"}],signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:F=>le(F.reduce((se,D)=>se+ge(D.tonase),0))+" Ton"}]}),s.jsx(Lr,{isOpen:re,onClose:()=>{G(!1),ce("")},sheetName:"produksi_npk_mini",recordId:de,title:"Log Aktivitas Produksi NPK Mini"})]})},t1=new Date().getFullYear(),oTe=[...Array.from({length:t1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(t1+1),label:String(t1+1)}],Ud={tanggal:dr(),item:"",deskripsi:"",jamOff:"",jamStart:"",downtime:0},gO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Ud),[k,N]=j.useState(String(new Date().getFullYear())),[S,T]=j.useState(!1),[P,_]=j.useState("edit"),[O,E]=j.useState(null),[C,z]=j.useState(!1),[Q,W]=j.useState(!1),[q,re]=j.useState(""),G=A=>{re(A),W(!0)},de=(t==null?void 0:t.role)||"",ce=sn(de),U=j.useCallback(()=>{if(u&&!l){const A=document.querySelector("form");A&&A.requestSubmit()}},[u,l]);Br(U,u);const L=wn(de),I=kn(de),R=Yr(de);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:B,SHEETS:H,getSheetNameByPlant:ke}=await rt(async()=>{const{readData:se,SHEETS:D,getSheetNameByPlant:Y}=await Promise.resolve().then(()=>nt);return{readData:se,SHEETS:D,getSheetNameByPlant:Y}},void 0),M=ke(H.DOWNTIME,e),F=await B(M);if(F.success&&F.data){const se=F.data.map(D=>({...D,_plant:e})).sort((D,Y)=>new Date(Y.tanggal).getTime()-new Date(D.tanggal).getTime());o(se)}else o([])}catch(B){console.error("Error fetching data:",B),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(v.jamOff&&v.jamStart){const A=yD(v.jamOff,v.jamStart);w(B=>({...B,downtime:A}))}},[v.jamOff,v.jamStart]);const J=async A=>{A.preventDefault(),c(!0);try{if(m){const B={...v,id:m,_plant:e},H=await n("downtime",B);if(H.success)o(ke=>ke.map(M=>M.id===m?{...v,id:m,_plant:e}:M));else throw new Error(H.error||"Gagal mengupdate data")}else{const B={...v,_plant:e},H=await r("downtime",B);if(H.success&&H.data){const ke={...H.data,_plant:e};o(M=>[ke,...M])}else throw new Error(H.error||"Gagal menyimpan data")}d(!1),w(Ud),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(B){console.error("Error saving data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},xe=A=>{if(L){E(A),_("edit"),T(!0);return}w(A),x(A.id||null),d(!0)},Ne=A=>{if(I){const B=i.find(H=>H.id===A);B&&(E(B),_("delete"),T(!0));return}y(A),h(!0)},ue=async A=>{if(!(!O||!t)){c(!0);try{const B="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",H={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:P,targetSheet:"DOWNTIME",targetId:O.id,targetData:JSON.stringify(O),reason:A,status:"pending",requestedAt:new Date().toISOString()}};await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),T(!1),E(null)}catch(B){console.error("Error submitting approval:",B),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},he=async()=>{if(b){c(!0);try{const A=await a("downtime",{id:b,_plant:e});if(A.success)o(B=>B.filter(H=>H.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(A.error||"Gagal menghapus data")}catch(A){console.error("Error deleting data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Te=()=>{w(Ud),x(null),d(!0)},me=i.filter(A=>new Date(A.tanggal).getFullYear()===parseInt(k)),Ce=me.reduce((A,B)=>A+ge(B.downtime),0),ne=[{key:"tanggal",header:"Tanggal",sortable:!0,render:A=>pt(A)},{key:"item",header:"Equipment"},{key:"deskripsi",header:"Deskripsi"},{key:"jamOff",header:"Jam Off",render:A=>aa(A)},{key:"jamStart",header:"Jam Start",render:A=>aa(A)},{key:"downtime",header:"Downtime (Jam)",render:A=>s.jsxs("span",{className:"font-semibold text-amber-600",children:[le(ge(A))," Jam"]})},{key:"_plant",header:"Plant",render:A=>s.jsx(Xe,{variant:A==="NPK1"?"primary":"success",children:A})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Downtime"}),s.jsx(Xe,{variant:e==="NPK1"?"primary":"success",children:e})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data downtime equipment untuk ",e]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>z(!0),children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ce&&s.jsxs(ve,{onClick:Te,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Downtime"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[le(Ce)," Jam"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Kejadian"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:me.length})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Rata-rata Downtime"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:[le(me.length>0?Ce/me.length:0)," ","Jam"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Equipment Terdampak"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(me.map(A=>A.item)).size})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Downtime - Tahun ",k]}),s.jsx(et,{value:k,onChange:A=>N(A.target.value),options:oTe,className:"w-32"})]})}),s.jsx(Ir,{data:me,columns:ne,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, deskripsi, plant...",searchKeys:["tanggal","item","deskripsi","jamOff","jamStart","downtime","_plant"],actions:R?A=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),G(A.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):A=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),G(A.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),xe(A)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),Ne(A.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Ud),x(null)},title:m?"Edit Data Downtime":"Tambah Data Downtime",size:"md",children:s.jsxs("form",{onSubmit:J,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:A=>w(B=>({...B,tanggal:A.target.value})),required:!0}),s.jsx(Ee,{label:"Equipment",type:"text",value:v.item,onChange:A=>w(B=>({...B,item:A.target.value})),placeholder:"Nama equipment",required:!0}),s.jsx(Ee,{label:"Deskripsi",type:"text",value:v.deskripsi,onChange:A=>w(B=>({...B,deskripsi:A.target.value})),placeholder:"Deskripsi kejadian downtime",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Jam Off",type:"time",value:v.jamOff,onChange:A=>w(B=>({...B,jamOff:A.target.value})),required:!0}),s.jsx(Ee,{label:"Jam Start",type:"time",value:v.jamStart,onChange:A=>w(B=>({...B,jamStart:A.target.value})),required:!0})]}),s.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[s.jsx("span",{className:"font-medium",children:"Downtime (Auto):"})," ",le(v.downtime||0)," Jam"]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Ud),x(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:he,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:S,onClose:()=>{T(!1),E(null)},onSubmit:ue,action:P,loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(qu,{isOpen:C,onClose:()=>z(!1),title:`Downtime ${e}`,data:i,columns:[{key:"tanggal",header:"Tanggal",render:A=>pt(A),align:"center"},{key:"item",header:"Equipment",align:"left"},{key:"deskripsi",header:"Deskripsi",align:"left"},{key:"jamOff",header:"Jam Off",render:A=>aa(A),align:"center"},{key:"jamStart",header:"Jam Start",render:A=>aa(A),align:"center"},{key:"downtime",header:"Downtime (Jam)",render:A=>le(ge(A)),align:"right"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Downtime",getValue:A=>le(A.reduce((B,H)=>B+ge(H.downtime),0))+" Jam"}],plant:e,compactMode:!0}),s.jsx(Lr,{isOpen:Q,onClose:()=>{W(!1),re("")},sheetName:e==="NPK1"?"downtime_NPK1":"downtime",recordId:q,title:"Log Aktivitas Downtime"})]})},r1=new Date().getFullYear(),lTe=[...Array.from({length:r1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(r1+1),label:String(r1+1)}],Kd={tanggal:dr(),forklift:"",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},xO=(e,t)=>{let r=e.keterangan;return!r&&e.jamOff&&e.jamStart&&(r=ah(e.jamOff,e.jamStart)<=2?"Operasi":"Grounded"),{...e,_plant:t,keterangan:r}},vO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(Kd),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[O,E]=j.useState("edit"),[C,z]=j.useState(null),[Q,W]=j.useState(!1),[q,re]=j.useState(""),G=A=>{re(A),W(!0)},de=(t==null?void 0:t.role)||"",ce=sn(de),U=j.useCallback(()=>{if(u&&!l){const A=document.querySelector("form");A&&A.requestSubmit()}},[u,l]);Br(U,u);const L=wn(de),I=kn(de),R=Yr(de),J=e==="NPK1"?[{value:"F15",label:"F15"},{value:"F16",label:"F16"},{value:"F17",label:"F17"},{value:"F18",label:"F18"},{value:"ALL",label:"Semua Forklift"}]:[{value:"F19",label:"F19"},{value:"F20",label:"F20"},{value:"F21",label:"F21"},{value:"F22",label:"F22"},{value:"F23",label:"F23"},{value:"ALL",label:"Semua Forklift"}];j.useEffect(()=>{(async()=>{c(!0);try{const{readData:B,SHEETS:H,getSheetNameByPlant:ke}=await rt(async()=>{const{readData:se,SHEETS:D,getSheetNameByPlant:Y}=await Promise.resolve().then(()=>nt);return{readData:se,SHEETS:D,getSheetNameByPlant:Y}},void 0),M=ke(H.TIMESHEET_FORKLIFT,e),F=await B(M);if(F.success&&F.data){const se=F.data.map(D=>xO(D,e)).sort((D,Y)=>new Date(Y.tanggal).getTime()-new Date(D.tanggal).getTime());o(se)}else o([])}catch(B){console.error("Error fetching data:",B),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(k.jamOff&&k.jamStart){const A=ah(k.jamOff,k.jamStart),B=Math.max(0,20-A);N(H=>({...H,jamGrounded:A,jamOperasi:B,keterangan:A<=2?"Operasi":"Grounded"}))}},[k.jamOff,k.jamStart]);const xe=async A=>{A.preventDefault(),c(!0);try{const{readData:B,SHEETS:H,getSheetNameByPlant:ke}=await rt(async()=>{const{readData:F,SHEETS:se,getSheetNameByPlant:D}=await Promise.resolve().then(()=>nt);return{readData:F,SHEETS:se,getSheetNameByPlant:D}},void 0),M=ke(H.TIMESHEET_FORKLIFT,e);if(k.forklift==="ALL"&&!b){const F=e==="NPK1"?["F15","F16","F17","F18"]:["F19","F20","F21","F22","F23"];for(const D of F){const Y={...k,forklift:D,_plant:e};await r("timesheet_forklift",Y)}const se=await B(M);if(se.success&&se.data){const D=se.data.map(Y=>xO(Y,e)).sort((Y,ee)=>new Date(ee.tanggal).getTime()-new Date(Y.tanggal).getTime());o(D)}}else if(b){const F={...k,id:b,_plant:e},se=await n("timesheet_forklift",F);if(se.success)o(D=>D.map(Y=>Y.id===b?{...k,id:b,_plant:e}:Y));else throw new Error(se.error||"Gagal mengupdate data")}else{const F={...k,_plant:e},se=await r("timesheet_forklift",F);if(se.success&&se.data){const D={...se.data,_plant:e};o(Y=>[D,...Y])}else throw new Error(se.error||"Gagal menyimpan data")}d(!1),N(Kd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(B){console.error("Error saving data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Ne=A=>{if(L){z(A),E("edit"),_(!0);return}N(A),y(A.id||null),d(!0)},ue=A=>{if(I){const B=i.find(H=>H.id===A);B&&(z(B),E("delete"),_(!0));return}w(A),h(!0)},he=async A=>{if(!(!C||!t)){c(!0);try{const B="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",H={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:O,targetSheet:"TIMESHEET_FORKLIFT",targetId:C.id,targetData:JSON.stringify(C),reason:A,status:"pending",requestedAt:new Date().toISOString()}};await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),_(!1),z(null)}catch(B){console.error("Error submitting approval:",B),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Te=async()=>{if(v){c(!0);try{const A=await a("timesheet_forklift",{id:v,_plant:e});if(A.success)o(B=>B.filter(H=>H.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(A.error||"Gagal menghapus data")}catch(A){console.error("Error deleting data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},me=()=>{N(Kd),y(null),d(!0)},Ce=i.filter(A=>new Date(A.tanggal).getFullYear()===parseInt(S)),ne=[{key:"tanggal",header:"Tanggal",sortable:!0,render:A=>pt(A)},{key:"forklift",header:"Forklift",render:A=>s.jsx(Xe,{variant:"primary",children:A})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:A=>aa(A)},{key:"jamStart",header:"Jam Start",render:A=>aa(A)},{key:"jamGrounded",header:"Jam Grounded",render:A=>s.jsx("span",{className:"font-semibold text-amber-600",children:le(ge(A))})},{key:"jamOperasi",header:"Jam Operasi",render:A=>s.jsx("span",{className:"font-semibold text-secondary-600",children:le(ge(A))})},{key:"keterangan",header:"Status",render:A=>s.jsx(Xe,{variant:A==="Operasi"?"success":"warning",children:A})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Forklift"}),s.jsx(Xe,{variant:e==="NPK1"?"primary":"success",children:e})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet forklift harian untuk ",e]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ce&&s.jsxs(ve,{onClick:me,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Grounded"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[le(Ce.reduce((A,B)=>A+ge(B.jamGrounded),0))," ","Jam"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Operasi"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary-600",children:[le(Ce.reduce((A,B)=>A+ge(B.jamOperasi),0))," ","Jam"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Forklift Aktif"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(Ce.map(A=>A.forklift)).size})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:Ce.length})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsx(Nt,{children:"Data Timesheet Forklift"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsx(et,{value:S,onChange:A=>T(A.target.value),options:lTe,className:"w-full sm:w-28"})})]})}),s.jsx(Ir,{data:Ce,columns:ne,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, forklift, deskripsi, status...",searchKeys:["tanggal","forklift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi","keterangan"],actions:R?A=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),G(A.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):A=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),G(A.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),Ne(A)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),ue(A.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),N(Kd),y(null)},title:b?"Edit Timesheet Forklift":"Tambah Timesheet Forklift",size:"md",children:s.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:k.tanggal,onChange:A=>N(B=>({...B,tanggal:A.target.value})),required:!0}),s.jsx(et,{label:"Forklift",value:k.forklift,onChange:A=>N(B=>({...B,forklift:A.target.value})),options:b?J.filter(A=>A.value!=="ALL"):J,placeholder:"Pilih forklift",required:!0}),s.jsx(Ee,{label:"Deskripsi Temuan",type:"text",value:k.deskripsiTemuan,onChange:A=>N(B=>({...B,deskripsiTemuan:A.target.value})),placeholder:"Deskripsi temuan/kejadian"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Jam Off",type:"time",value:k.jamOff,onChange:A=>N(B=>({...B,jamOff:A.target.value})),required:!0}),s.jsx(Ee,{label:"Jam Start",type:"time",value:k.jamStart,onChange:A=>N(B=>({...B,jamStart:A.target.value})),required:!0})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),s.jsxs("span",{className:"font-semibold text-amber-600",children:[le(k.jamGrounded||0)," Jam"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),s.jsxs("span",{className:"font-semibold text-secondary-600",children:[le(k.jamOperasi||0)," Jam"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),s.jsx(Xe,{variant:k.keterangan==="Operasi"?"success":"warning",children:k.keterangan||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Kd),y(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:Te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:P,onClose:()=>{_(!1),z(null)},onSubmit:he,action:O,loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(qu,{isOpen:m,onClose:()=>x(!1),title:"Timesheet Forklift",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:A=>pt(A),width:"65px"},{key:"forklift",header:"Forklift",width:"45px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Off",render:A=>aa(A),width:"40px"},{key:"jamStart",header:"Start",render:A=>aa(A),width:"40px"},{key:"jamGrounded",header:"Grounded",render:A=>le(ge(A)),align:"right",width:"50px"},{key:"jamOperasi",header:"Operasi",render:A=>le(ge(A)),align:"right",width:"45px"},{key:"keterangan",header:"Status",width:"55px"}],filters:{forklift:{label:"Forklift",options:J.filter(A=>A.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Jam Grounded:",getValue:A=>le(A.reduce((B,H)=>B+ge(H.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:A=>le(A.reduce((B,H)=>B+ge(H.jamOperasi),0))+" Jam"}]}),s.jsx(Lr,{isOpen:Q,onClose:()=>{W(!1),re("")},sheetName:e==="NPK1"?"timesheet_forklift_NPK1":"timesheet_forklift",recordId:q,title:"Log Aktivitas Timesheet Forklift"})]})},n1=new Date().getFullYear(),cTe=[...Array.from({length:n1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(n1+1),label:String(n1+1)}],Vd={tanggal:dr(),shift:"Malam",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},a1=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"},{value:"ALL",label:"Semua Shift"}],pk=e=>e==="Malam"?8:7,yO=(e,t)=>{let r=e.keterangan;if(!r&&e.jamOff&&e.jamStart){const n=ah(e.jamOff,e.jamStart),a=pk(e.shift||"Malam");r=Math.max(0,a-n)<a?"Grounded":"Operasi"}return{...e,_plant:t,keterangan:r}},bO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(Vd),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[O,E]=j.useState("edit"),[C,z]=j.useState(null),[Q,W]=j.useState(!1),[q,re]=j.useState(""),G=ne=>{re(ne),W(!0)},de=(t==null?void 0:t.role)||"",ce=sn(de),U=j.useCallback(()=>{if(u&&!l){const ne=document.querySelector("form");ne&&ne.requestSubmit()}},[u,l]);Br(U,u);const L=wn(de),I=kn(de),R=Yr(de);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:A,SHEETS:B,getSheetNameByPlant:H}=await rt(async()=>{const{readData:F,SHEETS:se,getSheetNameByPlant:D}=await Promise.resolve().then(()=>nt);return{readData:F,SHEETS:se,getSheetNameByPlant:D}},void 0),ke=H(B.TIMESHEET_LOADER,e),M=await A(ke);if(M.success&&M.data){const F=M.data.map(se=>yO(se,e)).sort((se,D)=>new Date(D.tanggal).getTime()-new Date(se.tanggal).getTime());o(F)}else o([])}catch(A){console.error("Error fetching data:",A),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(k.jamOff&&k.jamStart){const ne=ah(k.jamOff,k.jamStart),A=pk(k.shift),B=Math.max(0,A-ne),H=B<A?"Grounded":"Operasi";N(ke=>({...ke,jamGrounded:ne,jamOperasi:B,keterangan:H}))}},[k.jamOff,k.jamStart,k.shift]);const J=async ne=>{ne.preventDefault(),c(!0);try{const{readData:A,SHEETS:B,getSheetNameByPlant:H}=await rt(async()=>{const{readData:M,SHEETS:F,getSheetNameByPlant:se}=await Promise.resolve().then(()=>nt);return{readData:M,SHEETS:F,getSheetNameByPlant:se}},void 0),ke=H(B.TIMESHEET_LOADER,e);if(k.shift==="ALL"&&!b){const M=["Malam","Pagi","Sore"];for(const se of M){const D=pk(se),Y=ah(k.jamOff,k.jamStart),ee=Math.max(0,D-Y),te=ee<D?"Grounded":"Operasi",ye={...k,shift:se,jamGrounded:Y,jamOperasi:ee,keterangan:te,_plant:e};await r("timesheet_loader",ye)}const F=await A(ke);if(F.success&&F.data){const se=F.data.map(D=>yO(D,e)).sort((D,Y)=>new Date(Y.tanggal).getTime()-new Date(D.tanggal).getTime());o(se)}}else if(b){const M={...k,id:b,_plant:e},F=await n("timesheet_loader",M);if(F.success)o(se=>se.map(D=>D.id===b?{...k,id:b,_plant:e}:D));else throw new Error(F.error||"Gagal mengupdate data")}else{const M={...k,_plant:e},F=await r("timesheet_loader",M);if(F.success&&F.data){const se={...F.data,_plant:e};o(D=>[se,...D])}else throw new Error(F.error||"Gagal menyimpan data")}d(!1),N(Vd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(A){console.error("Error saving data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},xe=ne=>{if(L){z(ne),E("edit"),_(!0);return}N(ne),y(ne.id||null),d(!0)},Ne=ne=>{if(I){const A=i.find(B=>B.id===ne);A&&(z(A),E("delete"),_(!0));return}w(ne),h(!0)},ue=async ne=>{if(!(!C||!t)){c(!0);try{const A="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",B={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:O,targetSheet:"TIMESHEET_LOADER",targetId:C.id,targetData:JSON.stringify(C),reason:ne,status:"pending",requestedAt:new Date().toISOString()}};await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),_(!1),z(null)}catch(A){console.error("Error submitting approval:",A),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},he=async()=>{if(v){c(!0);try{const ne=await a("timesheet_loader",{id:v,_plant:e});if(ne.success)o(A=>A.filter(B=>B.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(ne.error||"Gagal menghapus data")}catch(ne){console.error("Error deleting data:",ne),alert(ne instanceof Error?ne.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Te=()=>{N(Vd),y(null),d(!0)},me=i.filter(ne=>new Date(ne.tanggal).getFullYear()===parseInt(S)),Ce=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ne=>pt(ne)},{key:"shift",header:"Shift",render:ne=>s.jsx(Xe,{variant:ne==="Malam"?"primary":ne==="Pagi"?"success":"warning",children:ne})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:ne=>aa(ne)},{key:"jamStart",header:"Jam Start",render:ne=>aa(ne)},{key:"jamGrounded",header:"Jam Grounded",render:ne=>s.jsx("span",{className:"font-semibold text-amber-600",children:le(ge(ne))})},{key:"jamOperasi",header:"Jam Operasi",render:ne=>s.jsx("span",{className:"font-semibold text-secondary-600",children:le(ge(ne))})},{key:"keterangan",header:"Status",render:ne=>s.jsx(Xe,{variant:ne==="Operasi"?"success":"warning",children:ne})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Loader"}),s.jsx(Xe,{variant:e==="NPK1"?"primary":"success",children:e})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet loader harian untuk ",e]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ce&&s.jsxs(ve,{onClick:Te,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Grounded"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[le(me.reduce((ne,A)=>ne+ge(A.jamGrounded),0))," ","Jam"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Operasi"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary-600",children:[le(me.reduce((ne,A)=>ne+ge(A.jamOperasi),0))," ","Jam"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Shift"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:me.length})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:me.length})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsx(Nt,{children:"Data Timesheet Loader"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsx(et,{value:S,onChange:ne=>T(ne.target.value),options:cTe,className:"w-full sm:w-28"})})]})}),s.jsx(Ir,{data:me,columns:Ce,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, shift, deskripsi, jam...",searchKeys:["tanggal","shift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi"],actions:R?ne=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),G(ne.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):ne=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),G(ne.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),xe(ne)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),Ne(ne.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),N(Vd),y(null)},title:b?"Edit Timesheet Loader":"Tambah Timesheet Loader",size:"md",children:s.jsxs("form",{onSubmit:J,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:k.tanggal,onChange:ne=>N(A=>({...A,tanggal:ne.target.value})),required:!0}),s.jsx(et,{label:"Shift",value:k.shift,onChange:ne=>N(A=>({...A,shift:ne.target.value})),options:b?a1.filter(ne=>ne.value!=="ALL"):a1,required:!0}),s.jsx(Ee,{label:"Deskripsi Temuan",type:"text",value:k.deskripsiTemuan,onChange:ne=>N(A=>({...A,deskripsiTemuan:ne.target.value})),placeholder:"Deskripsi temuan/kejadian"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Jam Off",type:"time",value:k.jamOff,onChange:ne=>N(A=>({...A,jamOff:ne.target.value})),required:!0}),s.jsx(Ee,{label:"Jam Start",type:"time",value:k.jamStart,onChange:ne=>N(A=>({...A,jamStart:ne.target.value})),required:!0})]}),s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),s.jsxs("span",{className:"font-semibold text-amber-600",children:[le(k.jamGrounded||0)," Jam"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),s.jsxs("span",{className:"font-semibold text-secondary-600",children:[le(k.jamOperasi||0)," Jam"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),s.jsx(Xe,{variant:k.keterangan==="Operasi"?"success":"warning",children:k.keterangan||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Vd),y(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:he,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:P,onClose:()=>{_(!1),z(null)},onSubmit:ue,action:O,loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(qu,{isOpen:m,onClose:()=>x(!1),title:"Timesheet Loader",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:ne=>pt(ne),width:"75px"},{key:"shift",header:"Shift",width:"55px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Jam Off",render:ne=>aa(ne),width:"55px"},{key:"jamStart",header:"Jam Start",render:ne=>aa(ne),width:"60px"},{key:"jamGrounded",header:"Grounded",render:ne=>le(ge(ne)),align:"right",width:"60px"},{key:"jamOperasi",header:"Operasi",render:ne=>le(ge(ne)),align:"right",width:"55px"},{key:"keterangan",header:"Status",width:"65px"}],filters:{shift:{label:"Shift",options:a1.filter(ne=>ne.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"menyetujui",label:"Menyetujui"},{role:"operator",label:"Operator Loader"}],summaryRows:[{label:"Total Jam Grounded:",getValue:ne=>le(ne.reduce((A,B)=>A+ge(B.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:ne=>le(ne.reduce((A,B)=>A+ge(B.jamOperasi),0))+" Jam"}]}),s.jsx(Lr,{isOpen:Q,onClose:()=>{W(!1),re("")},sheetName:e==="NPK1"?"timesheet_loader_NPK1":"timesheet_loader",recordId:q,title:"Log Aktivitas Timesheet Loader"})]})},i1={sectionHead:"",operatorPanel:""},En={malam:"",pagi:"",sore:""},jt={awal:"",akhir:""},s1={tanggal:dr(),jenisOperasi:"NORMAL OPERASI",shiftMalam:{...i1},shiftPagi:{...i1},shiftSore:{...i1},steamMalam:{...jt},steamPagi:{...jt},steamSore:{...jt},gasMalam:{...jt},gasPagi:{...jt},gasSore:{...jt},kursDollar:"16000",dryerTempProdukOut:{...En},produkN:{...En},produkP:{...En},produkK:{...En},produkMoisture:{...En},produkKekerasan:{...En},produkTimbangan:{...En},produkTonase:{...En}},o1=new Date().getFullYear(),uTe=[...Array.from({length:o1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(o1+1),label:String(o1+1)}],WF=["shiftMalam","shiftPagi","shiftSore","steamMalam","steamPagi","steamSore","gasMalam","gasPagi","gasSore","dryerTempProdukOut","produkN","produkP","produkK","produkMoisture","produkKekerasan","produkTimbangan","produkTonase"],wO=e=>{const t={...e};return WF.forEach(r=>{t[r]&&typeof t[r]=="object"&&(t[r]=JSON.stringify(t[r]))}),t},dTe=e=>{const t={...e};return WF.forEach(r=>{if(t[r]&&typeof t[r]=="string")try{t[r]=JSON.parse(t[r])}catch{const n=t[r];if(n.startsWith("{")&&n.includes("=")){const a={};n.slice(1,-1).split(", ").forEach(l=>{const[c,u]=l.split("=");c&&u!==void 0&&(a[c.trim()]=u.trim())}),t[r]=a}}}),t},zt={folwSteam:{label:"0.5 - 2.5"},flowGas:{label:"200 - 300"},tempProdukOut:{label:"55 - 70"},produkN:{label:"13.8 - 16.2"},produkP:{label:"9.2 - 10.2"},produkK:{label:"11.04 - 12.96"},moisture:{label:"Maks. 3"},kekerasan:{label:"Min. 1"},timbangan:{label:"50.00 - 50.3"},tonase:{label:"Min 110 Ton/Shift"}},Bn=e=>{const t=ge(e.awal||"0"),n=ge(e.akhir||"0")-t,a=n/8/1e3;return{selisih:n,flowPerHour:a,costRp:0}},$n=e=>{const t=ge(e.awal||"0"),n=ge(e.akhir||"0")-t,a=n/8;return{selisih:n,flowPerHour:a,costRp:0}},Un=e=>e/1e3*266263,Kn=(e,t)=>e*.02831*1043.3294/1e6*5.65*t*8,nu=(e,t,r=2)=>(Math.random()*(t-e)+e).toFixed(r),kO=()=>({malam:nu(55,70,1),pagi:nu(55,70,1),sore:nu(55,70,1)}),jO=()=>({malam:nu(50,50.3,2),pagi:nu(50,50.3,2),sore:nu(50,50.3,2)}),Js=({label:e,target:t,value:r,onChange:n,indikator:a,satuan:i})=>s.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:e}),s.jsxs("p",{className:"text-xs text-dark-400",children:[a," | ",i]})]}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:t})}),s.jsx("div",{children:s.jsx(Ee,{type:"text",placeholder:"Malam",value:r.malam,onChange:o=>n({...r,malam:o.target.value}),className:"text-sm"})}),s.jsx("div",{children:s.jsx(Ee,{type:"text",placeholder:"Pagi",value:r.pagi,onChange:o=>n({...r,pagi:o.target.value}),className:"text-sm"})}),s.jsx("div",{children:s.jsx(Ee,{type:"text",placeholder:"Sore",value:r.sore,onChange:o=>n({...r,sore:o.target.value}),className:"text-sm"})}),s.jsx("div",{})]}),SO=({plant:e})=>{var st,_t,Er,or,Ft,fr,Ns,ta,tt,Ts,ac,ic,qo,N0,T0,P0,V,ae,X,Z,ie,oe;const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(null),[S,T]=j.useState(s1),[P,_]=j.useState(""),[O,E]=j.useState(""),[C,z]=j.useState(String(new Date().getFullYear())),[Q,W]=j.useState(!1),[q,re]=j.useState(null),[G,de]=j.useState(!1),[ce,U]=j.useState(""),L=K=>{U(K),de(!0)},[I,R]=j.useState(!1),[J,xe]=j.useState(""),[Ne,ue]=j.useState(!1),[he,Te]=j.useState("edit"),[me,Ce]=j.useState(null),[ne,A]=j.useState({steamMalam:{selisih:0,flowPerHour:0,costRp:0},steamPagi:{selisih:0,flowPerHour:0,costRp:0},steamSore:{selisih:0,flowPerHour:0,costRp:0},gasMalam:{selisih:0,flowPerHour:0,costRp:0},gasPagi:{selisih:0,flowPerHour:0,costRp:0},gasSore:{selisih:0,flowPerHour:0,costRp:0},totalSteamRp:0,totalGasRp:0}),[B,H]=j.useState(!1),[ke,M]=j.useState(""),F=(t==null?void 0:t.role)||"",se=sn(F),D=wn(F),Y=kn(F),ee=Yr(F),te=j.useCallback(async()=>{H(!0),M("");try{const{getExchangeRate:K}=await rt(async()=>{const{getExchangeRate:pe}=await Promise.resolve().then(()=>nt);return{getExchangeRate:pe}},void 0),we=await K();we.success&&we.data?(T(pe=>({...pe,kursDollar:we.data.rate.toString()})),M(` Kurs diupdate: ${we.data.formatted}`)):M(" Gagal mengambil kurs, gunakan manual")}catch(K){console.error("Error fetching exchange rate:",K),M(" Gagal mengambil kurs, gunakan manual")}finally{H(!1)}},[]);j.useEffect(()=>{u&&!v&&te()},[u,v,te]);const ye=j.useCallback(()=>{if(u&&!l){const K=document.querySelector("form");K&&K.requestSubmit()}},[u,l]);Br(ye,u);const Ve=[{value:"NORMAL OPERASI",label:"NORMAL OPERASI"},{value:"ABNORMAL",label:"ABNORMAL"},{value:"SHUTDOWN",label:"SHUTDOWN"},{value:"START UP",label:"START UP"}];j.useEffect(()=>{const K=ge(S.kursDollar||"16000"),we=Bn(S.steamMalam||jt),pe=Bn(S.steamPagi||jt),je=Bn(S.steamSore||jt),Se=$n(S.gasMalam||jt),Oe=$n(S.gasPagi||jt),Re=$n(S.gasSore||jt);we.costRp=Un(we.selisih),pe.costRp=Un(pe.selisih),je.costRp=Un(je.selisih),Se.costRp=Kn(Se.selisih,K),Oe.costRp=Kn(Oe.selisih,K),Re.costRp=Kn(Re.selisih,K);const $e=we.costRp+pe.costRp+je.costRp,Ie=Se.costRp+Oe.costRp+Re.costRp;A({steamMalam:we,steamPagi:pe,steamSore:je,gasMalam:Se,gasPagi:Oe,gasSore:Re,totalSteamRp:$e,totalGasRp:Ie})},[S.steamMalam,S.steamPagi,S.steamSore,S.gasMalam,S.gasPagi,S.gasSore,S.kursDollar]),j.useEffect(()=>{var K;(K=S.steamMalam)!=null&&K.akhir&&T(we=>{var pe;return{...we,steamPagi:{...we.steamPagi,awal:((pe=we.steamMalam)==null?void 0:pe.akhir)||""}}})},[(st=S.steamMalam)==null?void 0:st.akhir]),j.useEffect(()=>{var K;(K=S.steamPagi)!=null&&K.akhir&&T(we=>{var pe;return{...we,steamSore:{...we.steamSore,awal:((pe=we.steamPagi)==null?void 0:pe.akhir)||""}}})},[(_t=S.steamPagi)==null?void 0:_t.akhir]),j.useEffect(()=>{var K;(K=S.gasMalam)!=null&&K.akhir&&T(we=>{var pe;return{...we,gasPagi:{...we.gasPagi,awal:((pe=we.gasMalam)==null?void 0:pe.akhir)||""}}})},[(Er=S.gasMalam)==null?void 0:Er.akhir]),j.useEffect(()=>{var K;(K=S.gasPagi)!=null&&K.akhir&&T(we=>{var pe;return{...we,gasSore:{...we.gasSore,awal:((pe=we.gasPagi)==null?void 0:pe.akhir)||""}}})},[(or=S.gasPagi)==null?void 0:or.akhir]);const be=()=>{T(K=>({...K,dryerTempProdukOut:kO(),produkTimbangan:jO()}))};j.useEffect(()=>{(async()=>{c(!0);try{const{readData:we,SHEETS:pe,getSheetNameByPlant:je}=await rt(async()=>{const{readData:Re,SHEETS:$e,getSheetNameByPlant:Ie}=await Promise.resolve().then(()=>nt);return{readData:Re,SHEETS:$e,getSheetNameByPlant:Ie}},void 0),Se=je(pe.KOP,e),Oe=await we(Se);if(Oe.success&&Oe.data){const Re=Oe.data.map($e=>({...dTe($e),_plant:e})).sort(($e,Ie)=>new Date(Ie.tanggal).getTime()-new Date($e.tanggal).getTime());o(Re)}else o([])}catch(we){console.error("Error fetching KOP data:",we),o([])}finally{c(!1)}})()},[e]);const Pe=async K=>{K.preventDefault(),c(!0);try{if(v){const we=wO({...S,id:v,_plant:e}),pe=await n("kop",we);if(pe.success)o(je=>je.map(Se=>Se.id===v?{...S,id:v,_plant:e}:Se));else throw new Error(pe.error||"Gagal mengupdate data")}else{const we=wO({...S,_plant:e}),pe=await r("kop",we);if(pe.success&&pe.data){const je={...S,_plant:e};pe.data.id&&(je.id=pe.data.id),o(Se=>[je,...Se])}else throw new Error(pe.error||"Gagal menyimpan data")}d(!1),T(s1),w(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(we){console.error("Error saving KOP data:",we),alert(we instanceof Error?we.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Fe=K=>{re(K),W(!0)},We=K=>{if(D){Ce(K),Te("edit"),ue(!0);return}T(K),w(K.id||null),d(!0)},it=K=>{if(Y){const we=i.find(pe=>pe.id===K);we&&(Ce(we),Te("delete"),ue(!0));return}N(K),h(!0)},lt=async()=>{if(k){c(!0);try{const K=await a("kop",{id:k,_plant:e});if(K.success)o(we=>we.filter(pe=>pe.id!==k)),h(!1),N(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(K.error||"Gagal menghapus data")}catch(K){console.error("Error deleting KOP data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},dt=async K=>{if(!(!me||!t)){c(!0);try{const{createData:we,SHEETS:pe}=await rt(async()=>{const{createData:je,SHEETS:Se}=await Promise.resolve().then(()=>nt);return{createData:je,SHEETS:Se}},void 0);await we(pe.APPROVAL_REQUESTS,{requestedBy:t.nama||t.namaLengkap,requestedByRole:t.role,requestedByPlant:t.plant,actionType:he,targetSheet:"KOP",targetId:me.id,targetData:JSON.stringify(me),reason:K,status:"pending",requestedAt:new Date().toISOString()}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),ue(!1),Ce(null)}catch(we){console.error("Error submitting approval:",we),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Qe=()=>{T({...s1,tanggal:dr(),dryerTempProdukOut:kO(),produkTimbangan:jO()}),w(null),d(!0)},Pt=K=>{y(K),x(!0)},ea=()=>{var vt,wt,Mt,ln,cn,un,$r,Fn,Sr,Qa,ei,ti,Ps,_s,Es,As,Os,Cs,Ds,Ms,Rs,Is,Ls,Fs,Bs,$s,Us,Ks,Vs,Hs,zs,Ws,fd;if(!b)return;const K=window.open("","_blank");if(!K)return;const we=ge(b.kursDollar||"16000"),pe=Bn(b.steamMalam||jt),je=Bn(b.steamPagi||jt),Se=Bn(b.steamSore||jt);pe.costRp=Un(pe.selisih),je.costRp=Un(je.selisih),Se.costRp=Un(Se.selisih);const Oe=$n(b.gasMalam||jt),Re=$n(b.gasPagi||jt),$e=$n(b.gasSore||jt);Oe.costRp=Kn(Oe.selisih,we),Re.costRp=Kn(Re.selisih,we),$e.costRp=Kn($e.selisih,we);const Ie=pe.costRp+je.costRp+Se.costRp,ze=Oe.costRp+Re.costRp+$e.costRp,at=ge(((vt=b.produkTonase)==null?void 0:vt.malam)||"0")+ge(((wt=b.produkTonase)==null?void 0:wt.pagi)||"0")+ge(((Mt=b.produkTonase)==null?void 0:Mt.sore)||"0");K.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>KOP - ${pt(b.tanggal)}</title>
        <style>
          @page { size: A4 landscape; margin: 10mm; }
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 9pt; color: #000; }
          .container { width: 100%; }
          .header { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .header-left { font-weight: bold; }
          .header-right { text-align: right; }
          .title { font-size: 11pt; font-weight: bold; margin-bottom: 3px; }
          .subtitle { font-size: 9pt; color: #333; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 8px; }
          th, td { border: 1px solid #000; padding: 3px 5px; text-align: center; font-size: 8pt; }
          th { background-color: #f0f0f0; font-weight: bold; }
          .section-header { background-color: #e8e8e8; font-weight: bold; text-align: left !important; }
          .param-name { text-align: left !important; }
          .number { text-align: right !important; }
          .highlight-cyan { background-color: #E0F7FA; }
          .highlight-blue { background-color: #E3F2FD; }
          .highlight-orange { background-color: #FFF3E0; }
          .summary { margin-top: 15px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-left">
              <div class="title">KEY OPERATING PARAMETER (KOP)</div>
              <div class="subtitle">${b.jenisOperasi}</div>
              <div class="subtitle">PABRIK NPK GRANULAR ${e==="NPK1"?"1":"2"}</div>
            </div>
            <div class="header-right">
              <div class="title">${pt(b.tanggal)}</div>
              <table style="width: auto; margin-left: auto;">
                <tr>
                  <th></th>
                  <th>23:00 - 07:00</th>
                  <th>07:00 - 15:00</th>
                  <th>15:00 - 23:00</th>
                </tr>
                <tr>
                  <td class="param-name"><strong>Section Head</strong></td>
                  <td class="highlight-cyan">${((ln=b.shiftMalam)==null?void 0:ln.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((cn=b.shiftPagi)==null?void 0:cn.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((un=b.shiftSore)==null?void 0:un.sectionHead)||""}</td>
                </tr>
                <tr>
                  <td class="param-name"><strong>Operator Panel</strong></td>
                  <td class="highlight-cyan">${(($r=b.shiftMalam)==null?void 0:$r.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Fn=b.shiftPagi)==null?void 0:Fn.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Sr=b.shiftSore)==null?void 0:Sr.operatorPanel)||""}</td>
                </tr>
              </table>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 30px;">NO</th>
                <th style="width: 150px;">PARAMETER</th>
                <th style="width: 80px;">INDIKATOR</th>
                <th style="width: 70px;">SATUAN</th>
                <th style="width: 90px;">TARGET</th>
                <th colspan="3">AKTUAL</th>
              </tr>
              <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>MALAM</th>
                <th>PAGI</th>
                <th>SORE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td class="section-header" colspan="7">Granulator</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">1.1. Flow Steam</td>
                <td>FI</td>
                <td>M3/H</td>
                <td>${zt.folwSteam.label}</td>
                <td class="highlight-blue"><strong>${pe.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${je.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Se.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td>2</td>
                <td class="section-header" colspan="7">Dryer</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.1. Flow Gas</td>
                <td>FT-202</td>
                <td>NM3/H</td>
                <td>${zt.flowGas.label}</td>
                <td class="highlight-orange"><strong>${Oe.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${Re.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${$e.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.2. Temperatur Produk Out</td>
                <td>Temp R-002</td>
                <td>Deg.C</td>
                <td>${zt.tempProdukOut.label}</td>
                <td>${((Qa=b.dryerTempProdukOut)==null?void 0:Qa.malam)||""}</td>
                <td>${((ei=b.dryerTempProdukOut)==null?void 0:ei.pagi)||""}</td>
                <td>${((ti=b.dryerTempProdukOut)==null?void 0:ti.sore)||""}</td>
              </tr>
              <tr>
                <td>3</td>
                <td class="section-header" colspan="7">Produk NPK (15-10-12)</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.1. N</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${zt.produkN.label}</td>
                <td>${((Ps=b.produkN)==null?void 0:Ps.malam)||""}</td>
                <td>${((_s=b.produkN)==null?void 0:_s.pagi)||""}</td>
                <td>${((Es=b.produkN)==null?void 0:Es.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.2. P</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${zt.produkP.label}</td>
                <td>${((As=b.produkP)==null?void 0:As.malam)||""}</td>
                <td>${((Os=b.produkP)==null?void 0:Os.pagi)||""}</td>
                <td>${((Cs=b.produkP)==null?void 0:Cs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.3. K</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${zt.produkK.label}</td>
                <td>${((Ds=b.produkK)==null?void 0:Ds.malam)||""}</td>
                <td>${((Ms=b.produkK)==null?void 0:Ms.pagi)||""}</td>
                <td>${((Rs=b.produkK)==null?void 0:Rs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.4. Moisture (H2O)</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${zt.moisture.label}</td>
                <td>${((Is=b.produkMoisture)==null?void 0:Is.malam)||""}</td>
                <td>${((Ls=b.produkMoisture)==null?void 0:Ls.pagi)||""}</td>
                <td>${((Fs=b.produkMoisture)==null?void 0:Fs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.5. Kekerasan</td>
                <td>Laporan LAB</td>
                <td>Kgf</td>
                <td>${zt.kekerasan.label}</td>
                <td>${((Bs=b.produkKekerasan)==null?void 0:Bs.malam)||""}</td>
                <td>${(($s=b.produkKekerasan)==null?void 0:$s.pagi)||""}</td>
                <td>${((Us=b.produkKekerasan)==null?void 0:Us.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.6. Timbangan</td>
                <td>Laporan Shift</td>
                <td>Kg / Karung</td>
                <td>${zt.timbangan.label}</td>
                <td>${((Ks=b.produkTimbangan)==null?void 0:Ks.malam)||""}</td>
                <td>${((Vs=b.produkTimbangan)==null?void 0:Vs.pagi)||""}</td>
                <td>${((Hs=b.produkTimbangan)==null?void 0:Hs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.7. Tonase</td>
                <td>Laporan Shift</td>
                <td>Tonase / Shift</td>
                <td>${zt.tonase.label}</td>
                <td><strong>${((zs=b.produkTonase)==null?void 0:zs.malam)||""} TON</strong></td>
                <td><strong>${((Ws=b.produkTonase)==null?void 0:Ws.pagi)||""} TON</strong></td>
                <td><strong>${((fd=b.produkTonase)==null?void 0:fd.sore)||""} TON</strong></td>
              </tr>
            </tbody>
          </table>

          <!-- Konsumsi Energi Detail -->
          <table style="margin-top: 15px; width: 48%; display: inline-table;">
            <tr>
              <th colspan="4" style="background-color: #E3F2FD;">KONSUMSI STEAM (M3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (M3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${le(pe.selisih)}</td>
              <td>${pe.flowPerHour.toFixed(2)}</td>
              <td class="number">${le(pe.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${le(je.selisih)}</td>
              <td>${je.flowPerHour.toFixed(2)}</td>
              <td class="number">${le(je.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${le(Se.selisih)}</td>
              <td>${Se.flowPerHour.toFixed(2)}</td>
              <td class="number">${le(Se.costRp)}</td>
            </tr>
            <tr style="background-color: #E3F2FD;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${le(Ie)}</strong></td>
            </tr>
          </table>

          <table style="margin-top: 15px; width: 48%; display: inline-table; margin-left: 2%;">
            <tr>
              <th colspan="4" style="background-color: #FFF3E0;">KONSUMSI GAS (Nm3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (Nm3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${le(Oe.selisih)}</td>
              <td>${Oe.flowPerHour.toFixed(2)}</td>
              <td class="number">${le(Oe.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${le(Re.selisih)}</td>
              <td>${Re.flowPerHour.toFixed(2)}</td>
              <td class="number">${le(Re.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${le($e.selisih)}</td>
              <td>${$e.flowPerHour.toFixed(2)}</td>
              <td class="number">${le($e.costRp)}</td>
            </tr>
            <tr style="background-color: #FFF3E0;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${le(ze)}</strong></td>
            </tr>
          </table>

          <div class="summary">
            <table style="width: auto;">
              <tr>
                <td style="border: none;"><strong>* Total Steam Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${le(Ie)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Gas Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${le(ze)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Tonase</strong></td>
                <td style="border: none;"></td>
                <td style="border: none; text-align: right;"><strong>${le(at)} TON</strong></td>
              </tr>
              <tr>
                <td style="border: none; font-size: 7pt; color: #666;">Kurs Dollar: Rp ${le(we)}</td>
                <td style="border: none;"></td>
                <td style="border: none;"></td>
              </tr>
            </table>
          </div>
        </div>
      </body>
      </html>
    `),K.document.close(),K.focus(),setTimeout(()=>{K.print(),K.close()},250),x(!1)},_e=()=>{var wt,Mt,ln,cn,un,$r,Fn,Sr,Qa,ei,ti,Ps,_s,Es,As,Os,Cs,Ds,Ms,Rs,Is,Ls,Fs,Bs,$s,Us,Ks,Vs,Hs,zs,Ws,fd,kS,jS,SS,NS,TS,PS,_S,ES,AS,OS,CS,DS,MS;if(!J){alert("Pilih tanggal terlebih dahulu");return}const K=i.find(qF=>qF.tanggal===J);if(!K){alert("Data tidak ditemukan untuk tanggal tersebut");return}const we=ge(K.kursDollar||"16000"),pe=Bn(K.steamMalam||jt),je=Bn(K.steamPagi||jt),Se=Bn(K.steamSore||jt);pe.costRp=Un(pe.selisih),je.costRp=Un(je.selisih),Se.costRp=Un(Se.selisih);const Oe=$n(K.gasMalam||jt),Re=$n(K.gasPagi||jt),$e=$n(K.gasSore||jt);Oe.costRp=Kn(Oe.selisih,we),Re.costRp=Kn(Re.selisih,we),$e.costRp=Kn($e.selisih,we);const Ie=pe.costRp+je.costRp+Se.costRp,ze=Oe.costRp+Re.costRp+$e.costRp,at=ge(((wt=K.produkTonase)==null?void 0:wt.malam)||"0")+ge(((Mt=K.produkTonase)==null?void 0:Mt.pagi)||"0")+ge(((ln=K.produkTonase)==null?void 0:ln.sore)||"0"),vt=window.open("","_blank");vt&&(vt.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan KOP - ${pt(K.tanggal)}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 10px; padding: 15px; }
          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }
          .header h1 { font-size: 16px; margin-bottom: 5px; }
          .header h2 { font-size: 12px; font-weight: normal; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 11px; }
          .section { margin-bottom: 15px; }
          .section-title { background: #f0f0f0; padding: 5px 10px; font-weight: bold; font-size: 11px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; font-size: 10px; }
          th, td { border: 1px solid #333; padding: 4px 6px; text-align: center; }
          th { background: #e0e0e0; font-weight: bold; }
          .text-left { text-align: left; }
          .text-right { text-align: right; }
          .highlight { background: #fffde7; }
          .total-row { background: #e3f2fd; font-weight: bold; }
          .cost { color: #2e7d32; }
          .footer { margin-top: 20px; display: flex; justify-content: space-between; }
          .signature { width: 30%; text-align: center; }
          .signature-line { border-top: 1px solid #000; margin-top: 50px; padding-top: 5px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>LAPORAN KEY OPERATING PARAMETER (KOP)</h1>
          <h2>PT PUPUK KUJANG CIKAMPEK - Pabrik NPK Granular ${e==="NPK1"?"1":"2"}</h2>
        </div>

        <div class="info-row">
          <div><strong>Tanggal:</strong> ${pt(K.tanggal)}</div>
          <div><strong>Jenis Operasi:</strong> ${K.jenisOperasi}</div>
          <div><strong>Kurs Dollar:</strong> Rp ${le(we)}</div>
        </div>

        <!-- Personel Section -->
        <div class="section">
          <div class="section-title">PERSONEL</div>
          <table>
            <thead>
              <tr>
                <th>Shift</th>
                <th>Section Head</th>
                <th>Operator Panel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Malam (23:00 - 07:00)</td>
                <td>${((cn=K.shiftMalam)==null?void 0:cn.sectionHead)||"-"}</td>
                <td>${((un=K.shiftMalam)==null?void 0:un.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Pagi (07:00 - 15:00)</td>
                <td>${(($r=K.shiftPagi)==null?void 0:$r.sectionHead)||"-"}</td>
                <td>${((Fn=K.shiftPagi)==null?void 0:Fn.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Sore (15:00 - 23:00)</td>
                <td>${((Sr=K.shiftSore)==null?void 0:Sr.sectionHead)||"-"}</td>
                <td>${((Qa=K.shiftSore)==null?void 0:Qa.operatorPanel)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Konsumsi Energi Section -->
        <div class="section">
          <div class="section-title">KONSUMSI ENERGI</div>
          <table>
            <thead>
              <tr>
                <th rowspan="2">Parameter</th>
                <th colspan="3">Shift Malam</th>
                <th colspan="3">Shift Pagi</th>
                <th colspan="3">Shift Sore</th>
                <th rowspan="2">Total Biaya (Rp)</th>
              </tr>
              <tr>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left"><strong>Steam (M3)</strong></td>
                <td>${le(ge(((ei=K.steamMalam)==null?void 0:ei.awal)||"0"))}</td>
                <td>${le(ge(((ti=K.steamMalam)==null?void 0:ti.akhir)||"0"))}</td>
                <td>${pe.flowPerHour.toFixed(2)}</td>
                <td>${le(ge(((Ps=K.steamPagi)==null?void 0:Ps.awal)||"0"))}</td>
                <td>${le(ge(((_s=K.steamPagi)==null?void 0:_s.akhir)||"0"))}</td>
                <td>${je.flowPerHour.toFixed(2)}</td>
                <td>${le(ge(((Es=K.steamSore)==null?void 0:Es.awal)||"0"))}</td>
                <td>${le(ge(((As=K.steamSore)==null?void 0:As.akhir)||"0"))}</td>
                <td>${Se.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${le(Ie)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Gas (Nm3)</strong></td>
                <td>${le(ge(((Os=K.gasMalam)==null?void 0:Os.awal)||"0"))}</td>
                <td>${le(ge(((Cs=K.gasMalam)==null?void 0:Cs.akhir)||"0"))}</td>
                <td>${Oe.flowPerHour.toFixed(2)}</td>
                <td>${le(ge(((Ds=K.gasPagi)==null?void 0:Ds.awal)||"0"))}</td>
                <td>${le(ge(((Ms=K.gasPagi)==null?void 0:Ms.akhir)||"0"))}</td>
                <td>${Re.flowPerHour.toFixed(2)}</td>
                <td>${le(ge(((Rs=K.gasSore)==null?void 0:Rs.awal)||"0"))}</td>
                <td>${le(ge(((Is=K.gasSore)==null?void 0:Is.akhir)||"0"))}</td>
                <td>${$e.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${le(ze)}</td>
              </tr>
              <tr class="total-row">
                <td colspan="10" class="text-right">Total Biaya Energi:</td>
                <td class="cost">Rp ${le(Ie+ze)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Parameter Operasi Section -->
        <div class="section">
          <div class="section-title">PARAMETER OPERASI</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">Temperatur Produk Out (C)</td>
                <td>55 - 70</td>
                <td>${((Ls=K.dryerTempProdukOut)==null?void 0:Ls.malam)||"-"}</td>
                <td>${((Fs=K.dryerTempProdukOut)==null?void 0:Fs.pagi)||"-"}</td>
                <td>${((Bs=K.dryerTempProdukOut)==null?void 0:Bs.sore)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Produk NPK Section -->
        <div class="section">
          <div class="section-title">PRODUK NPK (15-10-12)</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">N (%)</td>
                <td>13.8 - 16.2</td>
                <td>${(($s=K.produkN)==null?void 0:$s.malam)||"-"}</td>
                <td>${((Us=K.produkN)==null?void 0:Us.pagi)||"-"}</td>
                <td>${((Ks=K.produkN)==null?void 0:Ks.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">P (%)</td>
                <td>9.2 - 10.2</td>
                <td>${((Vs=K.produkP)==null?void 0:Vs.malam)||"-"}</td>
                <td>${((Hs=K.produkP)==null?void 0:Hs.pagi)||"-"}</td>
                <td>${((zs=K.produkP)==null?void 0:zs.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">K (%)</td>
                <td>11.04 - 12.96</td>
                <td>${((Ws=K.produkK)==null?void 0:Ws.malam)||"-"}</td>
                <td>${((fd=K.produkK)==null?void 0:fd.pagi)||"-"}</td>
                <td>${((kS=K.produkK)==null?void 0:kS.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Moisture (%)</td>
                <td>Maks. 3</td>
                <td>${((jS=K.produkMoisture)==null?void 0:jS.malam)||"-"}</td>
                <td>${((SS=K.produkMoisture)==null?void 0:SS.pagi)||"-"}</td>
                <td>${((NS=K.produkMoisture)==null?void 0:NS.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Kekerasan (Kgf)</td>
                <td>Min. 1</td>
                <td>${((TS=K.produkKekerasan)==null?void 0:TS.malam)||"-"}</td>
                <td>${((PS=K.produkKekerasan)==null?void 0:PS.pagi)||"-"}</td>
                <td>${((_S=K.produkKekerasan)==null?void 0:_S.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Timbangan (Kg/Karung)</td>
                <td>50.00 - 50.3</td>
                <td>${((ES=K.produkTimbangan)==null?void 0:ES.malam)||"-"}</td>
                <td>${((AS=K.produkTimbangan)==null?void 0:AS.pagi)||"-"}</td>
                <td>${((OS=K.produkTimbangan)==null?void 0:OS.sore)||"-"}</td>
              </tr>
              <tr class="highlight">
                <td class="text-left"><strong>Tonase (Ton/Shift)</strong></td>
                <td>Min 110</td>
                <td><strong>${((CS=K.produkTonase)==null?void 0:CS.malam)||"-"}</strong></td>
                <td><strong>${((DS=K.produkTonase)==null?void 0:DS.pagi)||"-"}</strong></td>
                <td><strong>${((MS=K.produkTonase)==null?void 0:MS.sore)||"-"}</strong></td>
              </tr>
              <tr class="total-row">
                <td colspan="2" class="text-right"><strong>Total Tonase:</strong></td>
                <td colspan="3"><strong>${le(at)} Ton</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary Section -->
        <div class="section">
          <div class="section-title">RINGKASAN</div>
          <table>
            <tbody>
              <tr>
                <td class="text-left" style="width: 40%"><strong>Total Produksi</strong></td>
                <td><strong>${le(at)} Ton</strong></td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Steam</strong></td>
                <td class="cost">Rp ${le(Ie)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Gas</strong></td>
                <td class="cost">Rp ${le(ze)}</td>
              </tr>
              <tr class="total-row">
                <td class="text-left"><strong>Total Biaya Energi</strong></td>
                <td class="cost"><strong>Rp ${le(Ie+ze)}</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer Signatures -->
        <div class="footer">
          <div class="signature">
            <div>Dibuat oleh:</div>
            <div class="signature-line">Operator</div>
          </div>
          <div class="signature">
            <div>Diperiksa oleh:</div>
            <div class="signature-line">Section Head</div>
          </div>
          <div class="signature">
            <div>Disetujui oleh:</div>
            <div class="signature-line">Manager</div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #666;">
          Dicetak pada: ${new Date().toLocaleString("id-ID")}
        </div>
      </body>
      </html>
    `),vt.document.close(),vt.focus(),setTimeout(()=>{vt.print(),vt.close()},250),R(!1),xe(""))},Be=i.filter(K=>{var Re,$e,Ie,ze,at,vt,wt,Mt,ln,cn,un,$r,Fn,Sr,Qa,ei,ti;const we=P.toLowerCase(),pe=((Re=K.tanggal)==null?void 0:Re.includes(P))||(($e=K.jenisOperasi)==null?void 0:$e.toLowerCase().includes(we))||((Ie=K.formulaBiaya)==null?void 0:Ie.toLowerCase().includes(we))||((ze=K.kursDollar)==null?void 0:ze.toString().includes(P))||((vt=(at=K.steamMalamCalc)==null?void 0:at.selisih)==null?void 0:vt.toString().includes(P))||((Mt=(wt=K.steamPagiCalc)==null?void 0:wt.selisih)==null?void 0:Mt.toString().includes(P))||((cn=(ln=K.steamSoreCalc)==null?void 0:ln.selisih)==null?void 0:cn.toString().includes(P))||(($r=(un=K.gasMalamCalc)==null?void 0:un.selisih)==null?void 0:$r.toString().includes(P))||((Sr=(Fn=K.gasPagiCalc)==null?void 0:Fn.selisih)==null?void 0:Sr.toString().includes(P))||((ei=(Qa=K.gasSoreCalc)==null?void 0:Qa.selisih)==null?void 0:ei.toString().includes(P)),je=O?(ti=K.tanggal)==null?void 0:ti.startsWith(O):!0,Oe=new Date(K.tanggal).getFullYear()===parseInt(C);return pe&&je&&Oe});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Key Operating Parameter (KOP)"}),s.jsx(Xe,{variant:e==="NPK1"?"primary":"success",children:e})]}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Pabrik NPK Granular ",e==="NPK1"?"1":"2"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ve,{variant:"secondary",onClick:()=>R(!0),className:"gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Print Laporan"]}),!ee&&se&&s.jsxs(ve,{onClick:Qe,className:"gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Tambah KOP"]})]})]}),s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(wx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),s.jsx(Ee,{placeholder:"Cari tanggal, jenis operasi, formula, kurs...",value:P,onChange:K=>_(K.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"w-full md:w-32",children:s.jsx(et,{value:C,onChange:K=>z(K.target.value),options:uTe})}),s.jsx("div",{className:"w-full md:w-48",children:s.jsx(Ee,{type:"month",value:O,onChange:K=>E(K.target.value),placeholder:"Filter Bulan"})})]})}),s.jsx(Me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-dark-50 dark:bg-dark-700 border-b border-dark-100 dark:border-dark-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Tanggal"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Jenis Operasi"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Total Tonase"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Steam (Rp)"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Gas (Rp)"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-dark-600 uppercase",children:"Aksi"})]})}),s.jsx("tbody",{className:"divide-y divide-dark-100",children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"Memuat data..."]})})}):Be.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:[s.jsx(wi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"Tidak ada data KOP"]})}):Be.map(K=>{var vt,wt,Mt;const we=ge(((vt=K.produkTonase)==null?void 0:vt.malam)||"0")+ge(((wt=K.produkTonase)==null?void 0:wt.pagi)||"0")+ge(((Mt=K.produkTonase)==null?void 0:Mt.sore)||"0"),pe=ge(K.kursDollar||"16000"),je=Bn(K.steamMalam||jt),Se=Bn(K.steamPagi||jt),Oe=Bn(K.steamSore||jt),Re=$n(K.gasMalam||jt),$e=$n(K.gasPagi||jt),Ie=$n(K.gasSore||jt),ze=Un(je.selisih)+Un(Se.selisih)+Un(Oe.selisih),at=Kn(Re.selisih,pe)+Kn($e.selisih,pe)+Kn(Ie.selisih,pe);return s.jsxs("tr",{className:"hover:bg-dark-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-medium text-dark-900 dark:text-white",children:pt(K.tanggal)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Xe,{variant:K.jenisOperasi==="NORMAL OPERASI"?"success":"warning",children:K.jenisOperasi})}),s.jsxs("td",{className:"px-4 py-3 font-semibold text-primary-600",children:[le(we)," TON"]}),s.jsxs("td",{className:"px-4 py-3 text-blue-700",children:["Rp ",le(ze)]}),s.jsxs("td",{className:"px-4 py-3 text-orange-700",children:["Rp ",le(at)]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>Fe(K),className:"p-2 text-dark-400 hover:text-dark-600 hover:bg-dark-100 rounded-lg transition-colors",title:"Lihat Detail",children:s.jsx(bs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Pt(K),className:"p-2 text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Print",children:s.jsx(Dn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>L(K.id),className:"p-2 text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4"})}),!ee&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>We(K),className:"p-2 text-dark-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit",children:s.jsx(gr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>it(K.id),className:"p-2 text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4"})})]})]})})]},K.id)})})]})})}),s.jsx(xt,{isOpen:u,onClose:()=>d(!1),title:v?"Edit KOP":"Tambah KOP Baru",size:"full",children:s.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:S.tanggal,onChange:K=>T({...S,tanggal:K.target.value}),required:!0}),s.jsx(et,{label:"Jenis Operasi",value:S.jenisOperasi,onChange:K=>T({...S,jenisOperasi:K.target.value}),options:Ve})]}),s.jsxs(Me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(pu,{className:"h-5 w-5 text-primary-600"}),s.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[s.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4"})," Malam (23:00 - 07:00)"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Section Head",value:((Ft=S.shiftMalam)==null?void 0:Ft.sectionHead)||"",onChange:K=>T({...S,shiftMalam:{...S.shiftMalam,sectionHead:K.target.value}}),placeholder:"Nama Section Head"}),s.jsx(Ee,{label:"Operator Panel",value:((fr=S.shiftMalam)==null?void 0:fr.operatorPanel)||"",onChange:K=>T({...S,shiftMalam:{...S.shiftMalam,operatorPanel:K.target.value}}),placeholder:"Nama Operator Panel"})]})]}),s.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:[s.jsxs("h4",{className:"font-medium text-dark-700 dark:text-dark-200 mb-3 flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4"})," Pagi (07:00 - 15:00)"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Section Head",value:((Ns=S.shiftPagi)==null?void 0:Ns.sectionHead)||"",onChange:K=>T({...S,shiftPagi:{...S.shiftPagi,sectionHead:K.target.value}}),placeholder:"Nama Section Head"}),s.jsx(Ee,{label:"Operator Panel",value:((ta=S.shiftPagi)==null?void 0:ta.operatorPanel)||"",onChange:K=>T({...S,shiftPagi:{...S.shiftPagi,operatorPanel:K.target.value}}),placeholder:"Nama Operator Panel"})]})]}),s.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[s.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4"})," Sore (15:00 - 23:00)"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Section Head",value:((tt=S.shiftSore)==null?void 0:tt.sectionHead)||"",onChange:K=>T({...S,shiftSore:{...S.shiftSore,sectionHead:K.target.value}}),placeholder:"Nama Section Head"}),s.jsx(Ee,{label:"Operator Panel",value:((Ts=S.shiftSore)==null?void 0:Ts.operatorPanel)||"",onChange:K=>T({...S,shiftSore:{...S.shiftSore,operatorPanel:K.target.value}}),placeholder:"Nama Operator Panel"})]})]})]})]}),s.jsxs(Me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(X5,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Steam (M3)"})]}),s.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(dP,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),s.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"Kurs Dollar (Rp)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{type:"text",value:S.kursDollar,onChange:K=>T({...S,kursDollar:K.target.value}),placeholder:"Contoh: 16000",className:"flex-1"}),s.jsx(ve,{type:"button",variant:"outline",onClick:te,disabled:B,className:"whitespace-nowrap",children:B?s.jsx(gl,{className:"h-4 w-4 animate-spin"}):s.jsx(s.Fragment,{children:s.jsx(gl,{className:"h-4 w-4 mr-1"})})})]}),ke&&s.jsx("p",{className:`text-xs mt-1 ${ke.startsWith("")?"text-green-600":"text-amber-600"}`,children:ke}),s.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'* Kurs digunakan untuk perhitungan biaya Steam & Gas. Klik "Auto" untuk ambil kurs real-time.'})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Awal Shift (M3)",type:"text",value:((ac=S.steamMalam)==null?void 0:ac.awal)||"",onChange:K=>T({...S,steamMalam:{...S.steamMalam,awal:K.target.value}})}),s.jsx(Ee,{label:"Akhir Shift (M3)",type:"text",value:((ic=S.steamMalam)==null?void 0:ic.akhir)||"",onChange:K=>T({...S,steamMalam:{...S.steamMalam,akhir:K.target.value}})}),s.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Selisih:"}),s.jsxs("span",{className:"font-semibold",children:[le(ne.steamMalam.selisih)," M3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Flow (M3/H):"}),s.jsx("span",{className:"font-semibold text-blue-600",children:ne.steamMalam.flowPerHour.toFixed(2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Biaya:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",le(ne.steamMalam.costRp)]})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Awal Shift (M3)",type:"text",value:((qo=S.steamPagi)==null?void 0:qo.awal)||"",onChange:K=>T({...S,steamPagi:{...S.steamPagi,awal:K.target.value}}),placeholder:"Auto dari akhir malam"}),s.jsx(Ee,{label:"Akhir Shift (M3)",type:"text",value:((N0=S.steamPagi)==null?void 0:N0.akhir)||"",onChange:K=>T({...S,steamPagi:{...S.steamPagi,akhir:K.target.value}})}),s.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Selisih:"}),s.jsxs("span",{className:"font-semibold",children:[le(ne.steamPagi.selisih)," M3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Flow (M3/H):"}),s.jsx("span",{className:"font-semibold text-blue-600",children:ne.steamPagi.flowPerHour.toFixed(2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Biaya:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",le(ne.steamPagi.costRp)]})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Awal Shift (M3)",type:"text",value:((T0=S.steamSore)==null?void 0:T0.awal)||"",onChange:K=>T({...S,steamSore:{...S.steamSore,awal:K.target.value}}),placeholder:"Auto dari akhir pagi"}),s.jsx(Ee,{label:"Akhir Shift (M3)",type:"text",value:((P0=S.steamSore)==null?void 0:P0.akhir)||"",onChange:K=>T({...S,steamSore:{...S.steamSore,akhir:K.target.value}})}),s.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Selisih:"}),s.jsxs("span",{className:"font-semibold",children:[le(ne.steamSore.selisih)," M3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Flow (M3/H):"}),s.jsx("span",{className:"font-semibold text-blue-600",children:ne.steamSore.flowPerHour.toFixed(2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Biaya:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",le(ne.steamSore.costRp)]})]})]})]})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-xl",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-blue-800",children:"Total Steam Dalam Satu Hari"}),s.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["Rp ",le(ne.totalSteamRp)]})]})})]}),s.jsxs(Me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(py,{className:"h-5 w-5 text-orange-600"}),s.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Gas (Nm3)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Awal Shift (Nm3)",type:"text",value:((V=S.gasMalam)==null?void 0:V.awal)||"",onChange:K=>T({...S,gasMalam:{...S.gasMalam,awal:K.target.value}})}),s.jsx(Ee,{label:"Akhir Shift (Nm3)",type:"text",value:((ae=S.gasMalam)==null?void 0:ae.akhir)||"",onChange:K=>T({...S,gasMalam:{...S.gasMalam,akhir:K.target.value}})}),s.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Selisih:"}),s.jsxs("span",{className:"font-semibold",children:[le(ne.gasMalam.selisih)," Nm3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Flow (Nm3/H):"}),s.jsx("span",{className:"font-semibold text-orange-600",children:ne.gasMalam.flowPerHour.toFixed(2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Biaya:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",le(ne.gasMalam.costRp)]})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Awal Shift (Nm3)",type:"text",value:((X=S.gasPagi)==null?void 0:X.awal)||"",onChange:K=>T({...S,gasPagi:{...S.gasPagi,awal:K.target.value}}),placeholder:"Auto dari akhir malam"}),s.jsx(Ee,{label:"Akhir Shift (Nm3)",type:"text",value:((Z=S.gasPagi)==null?void 0:Z.akhir)||"",onChange:K=>T({...S,gasPagi:{...S.gasPagi,akhir:K.target.value}})}),s.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Selisih:"}),s.jsxs("span",{className:"font-semibold",children:[le(ne.gasPagi.selisih)," Nm3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Flow (Nm3/H):"}),s.jsx("span",{className:"font-semibold text-orange-600",children:ne.gasPagi.flowPerHour.toFixed(2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Biaya:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",le(ne.gasPagi.costRp)]})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{label:"Awal Shift (Nm3)",type:"text",value:((ie=S.gasSore)==null?void 0:ie.awal)||"",onChange:K=>T({...S,gasSore:{...S.gasSore,awal:K.target.value}}),placeholder:"Auto dari akhir pagi"}),s.jsx(Ee,{label:"Akhir Shift (Nm3)",type:"text",value:((oe=S.gasSore)==null?void 0:oe.akhir)||"",onChange:K=>T({...S,gasSore:{...S.gasSore,akhir:K.target.value}})}),s.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Selisih:"}),s.jsxs("span",{className:"font-semibold",children:[le(ne.gasSore.selisih)," Nm3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Flow (Nm3/H):"}),s.jsx("span",{className:"font-semibold text-orange-600",children:ne.gasSore.flowPerHour.toFixed(2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Biaya:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",le(ne.gasSore.costRp)]})]})]})]})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-orange-800",children:"Total Gas Dalam Satu Hari"}),s.jsxs("span",{className:"text-xl font-bold text-orange-900",children:["Rp ",le(ne.totalGasRp)]})]}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"* Rumus: BTU/h = gas  0.02831  1043.3294, MMBTU = BTU/1,000,000, $/h = MMBTU  5.65, Rp = $  kurs  8 jam"})]})]}),s.jsxs(Me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mb,{className:"h-5 w-5 text-primary-600"}),s.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Parameter Operasi"})]}),s.jsx(ve,{type:"button",variant:"secondary",size:"sm",onClick:be,children:"Auto-Fill Temp & Timbangan"})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-2 py-2 bg-dark-100 rounded-lg mb-2 px-2",children:[s.jsx("div",{className:"col-span-2 text-xs font-semibold text-dark-600",children:"PARAMETER"}),s.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"TARGET"}),s.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"MALAM"}),s.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"PAGI"}),s.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"SORE"}),s.jsx("div",{})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"1. Granulator"}),s.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"1.1. Flow Steam"}),s.jsx("p",{className:"text-xs text-dark-400",children:"FI | M3/H"})]}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:zt.folwSteam.label})}),s.jsx("div",{className:"text-center font-semibold text-blue-600",children:ne.steamMalam.flowPerHour.toFixed(2)}),s.jsx("div",{className:"text-center font-semibold text-blue-600",children:ne.steamPagi.flowPerHour.toFixed(2)}),s.jsx("div",{className:"text-center font-semibold text-blue-600",children:ne.steamSore.flowPerHour.toFixed(2)}),s.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 text-secondary-700 dark:text-secondary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"2. Dryer"}),s.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"2.1. Flow Gas"}),s.jsx("p",{className:"text-xs text-dark-400",children:"FT-202 | NM3/H"})]}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:zt.flowGas.label})}),s.jsx("div",{className:"text-center font-semibold text-orange-600",children:ne.gasMalam.flowPerHour.toFixed(2)}),s.jsx("div",{className:"text-center font-semibold text-orange-600",children:ne.gasPagi.flowPerHour.toFixed(2)}),s.jsx("div",{className:"text-center font-semibold text-orange-600",children:ne.gasSore.flowPerHour.toFixed(2)}),s.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]}),s.jsx(Js,{label:"2.2. Temperatur Produk Out",indikator:"Temp R-002",satuan:"Deg.C",target:zt.tempProdukOut.label,value:S.dryerTempProdukOut||En,onChange:K=>T({...S,dryerTempProdukOut:K})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"3. Produk NPK (15-10-12)"}),s.jsx(Js,{label:"3.1. N",indikator:"Laporan LAB",satuan:"%",target:zt.produkN.label,value:S.produkN||En,onChange:K=>T({...S,produkN:K})}),s.jsx(Js,{label:"3.2. P",indikator:"Laporan LAB",satuan:"%",target:zt.produkP.label,value:S.produkP||En,onChange:K=>T({...S,produkP:K})}),s.jsx(Js,{label:"3.3. K",indikator:"Laporan LAB",satuan:"%",target:zt.produkK.label,value:S.produkK||En,onChange:K=>T({...S,produkK:K})}),s.jsx(Js,{label:"3.4. Moisture (H2O)",indikator:"Laporan LAB",satuan:"%",target:zt.moisture.label,value:S.produkMoisture||En,onChange:K=>T({...S,produkMoisture:K})}),s.jsx(Js,{label:"3.5. Kekerasan",indikator:"Laporan LAB",satuan:"Kgf",target:zt.kekerasan.label,value:S.produkKekerasan||En,onChange:K=>T({...S,produkKekerasan:K})}),s.jsx(Js,{label:"3.6. Timbangan",indikator:"Laporan Shift",satuan:"Kg/Karung",target:zt.timbangan.label,value:S.produkTimbangan||En,onChange:K=>T({...S,produkTimbangan:K})}),s.jsx(Js,{label:"3.7. Tonase",indikator:"Laporan Shift",satuan:"Ton/Shift",target:zt.tonase.label,value:S.produkTonase||En,onChange:K=>T({...S,produkTonase:K})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100 dark:border-dark-700",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),s.jsxs(ve,{type:"submit",disabled:l,className:"gap-2",children:[s.jsx(Fp,{className:"h-4 w-4"}),l?"Menyimpan...":v?"Perbarui":"Simpan"]})]})]})}),s.jsx(xt,{isOpen:m,onClose:()=>x(!1),title:"Preview Print KOP",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-dark-600",children:["Anda akan mencetak KOP untuk tanggal"," ",s.jsx("strong",{children:b&&pt(b.tanggal)})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ve,{variant:"secondary",onClick:()=>x(!1),children:"Batal"}),s.jsxs(ve,{onClick:ea,className:"gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Cetak Sekarang"]})]})]})}),s.jsx(xt,{isOpen:I,onClose:()=>{R(!1),xe("")},title:"Print Laporan KOP",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-dark-600",children:"Pilih tanggal untuk mencetak laporan KOP lengkap"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tanggal"}),s.jsxs("select",{value:J,onChange:K=>xe(K.target.value),className:"w-full px-3 py-2 border border-dark-200 dark:border-dark-600 bg-white dark:bg-dark-800 text-dark-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"-- Pilih Tanggal --"}),i.sort((K,we)=>new Date(we.tanggal).getTime()-new Date(K.tanggal).getTime()).map(K=>s.jsxs("option",{value:K.tanggal,children:[pt(K.tanggal)," - ",K.jenisOperasi]},K.id))]})]}),J&&s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Preview:"})," Laporan akan dicetak untuk tanggal"," ",s.jsx("strong",{children:pt(J)})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(ve,{variant:"secondary",onClick:()=>{R(!1),xe("")},children:"Batal"}),s.jsxs(ve,{onClick:_e,disabled:!J,className:"gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Cetak Laporan"]})]})]})}),s.jsx(xt,{isOpen:Q,onClose:()=>{W(!1),re(null)},title:"Detail Key Operating Parameter",size:"full",children:q&&(()=>{var at,vt,wt,Mt,ln,cn,un,$r,Fn,Sr,Qa,ei,ti,Ps,_s,Es,As,Os,Cs,Ds,Ms,Rs,Is,Ls,Fs,Bs,$s,Us,Ks,Vs,Hs,zs,Ws;const K=ge(q.kursDollar||"16000"),we=Bn(q.steamMalam||jt),pe=Bn(q.steamPagi||jt),je=Bn(q.steamSore||jt);we.costRp=Un(we.selisih),pe.costRp=Un(pe.selisih),je.costRp=Un(je.selisih);const Se=$n(q.gasMalam||jt),Oe=$n(q.gasPagi||jt),Re=$n(q.gasSore||jt);Se.costRp=Kn(Se.selisih,K),Oe.costRp=Kn(Oe.selisih,K),Re.costRp=Kn(Re.selisih,K);const $e=we.costRp+pe.costRp+je.costRp,Ie=Se.costRp+Oe.costRp+Re.costRp,ze=ge(((at=q.produkTonase)==null?void 0:at.malam)||"0")+ge(((vt=q.produkTonase)==null?void 0:vt.pagi)||"0")+ge(((wt=q.produkTonase)==null?void 0:wt.sore)||"0");return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Key Operating Parameter"}),s.jsxs("h2",{className:"text-2xl font-bold mt-1",children:["NPK GRANULAR ",e==="NPK1"?"1":"2"]}),s.jsx("p",{className:"text-primary-100 text-sm mt-1",children:pt(q.tanggal)})]}),s.jsx(Xe,{variant:q.jenisOperasi==="NORMAL OPERASI"?"success":"warning",className:"bg-white/20 text-white border-0 text-base px-4 py-2",children:q.jenisOperasi})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-4 border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-lg",children:s.jsx(Mb,{className:"h-6 w-6 text-green-700 dark:text-green-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Total Tonase"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[le(ze)," TON"]})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-lg",children:s.jsx(Db,{className:"h-6 w-6 text-blue-700 dark:text-blue-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium",children:"Biaya Steam"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:["Rp ",le($e)]})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-orange-200 dark:bg-orange-800 rounded-lg",children:s.jsx(py,{className:"h-6 w-6 text-orange-700 dark:text-orange-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium",children:"Biaya Gas"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["Rp ",le(Ie)]})]})]})})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(pu,{className:"h-5 w-5 text-primary-600"}),s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[s.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Posisi"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam (23:00-07:00)"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi (07:00-15:00)"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore (15:00-23:00)"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Section Head"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Mt=q.shiftMalam)==null?void 0:Mt.sectionHead)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((ln=q.shiftPagi)==null?void 0:ln.sectionHead)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((cn=q.shiftSore)==null?void 0:cn.sectionHead)||"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Operator Panel"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((un=q.shiftMalam)==null?void 0:un.operatorPanel)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:(($r=q.shiftPagi)==null?void 0:$r.operatorPanel)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Fn=q.shiftSore)==null?void 0:Fn.operatorPanel)||"-"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Db,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Konsumsi Steam (M3)"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50",children:[s.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-700 dark:text-blue-300",children:"Shift"}),s.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Selisih"}),s.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Flow (M3/H)"}),s.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Biaya (Rp)"})]})}),s.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[s.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[s.jsx("td",{className:"px-3 py-2",children:"Malam"}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(we.selisih)}),s.jsx("td",{className:"px-3 py-2 text-right",children:we.flowPerHour.toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(we.costRp)})]}),s.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[s.jsx("td",{className:"px-3 py-2",children:"Pagi"}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(pe.selisih)}),s.jsx("td",{className:"px-3 py-2 text-right",children:pe.flowPerHour.toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(pe.costRp)})]}),s.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[s.jsx("td",{className:"px-3 py-2",children:"Sore"}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(je.selisih)}),s.jsx("td",{className:"px-3 py-2 text-right",children:je.flowPerHour.toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(je.costRp)})]}),s.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50 font-semibold text-blue-800 dark:text-blue-200",children:[s.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",le($e)]})]})]})]})})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(py,{className:"h-5 w-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300",children:"Konsumsi Gas (Nm3)"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50",children:[s.jsx("th",{className:"px-3 py-2 text-left font-medium text-orange-700 dark:text-orange-300",children:"Shift"}),s.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Selisih"}),s.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Flow (Nm3/H)"}),s.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Biaya (Rp)"})]})}),s.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[s.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[s.jsx("td",{className:"px-3 py-2",children:"Malam"}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(Se.selisih)}),s.jsx("td",{className:"px-3 py-2 text-right",children:Se.flowPerHour.toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(Se.costRp)})]}),s.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[s.jsx("td",{className:"px-3 py-2",children:"Pagi"}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(Oe.selisih)}),s.jsx("td",{className:"px-3 py-2 text-right",children:Oe.flowPerHour.toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(Oe.costRp)})]}),s.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[s.jsx("td",{className:"px-3 py-2",children:"Sore"}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(Re.selisih)}),s.jsx("td",{className:"px-3 py-2 text-right",children:Re.flowPerHour.toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:le(Re.costRp)})]}),s.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50 font-semibold text-orange-800 dark:text-orange-200",children:[s.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",le(Ie)]})]})]})]})})]})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(wi,{className:"h-5 w-5 text-primary-600"}),s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Parameter Produk NPK (15-10-12)"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[s.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Parameter"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Target"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi"}),s.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore"})]})}),s.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nz,{className:"h-4 w-4 text-red-500"}),"Temp Produk Out (C)"]})}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.tempProdukOut.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Sr=q.dryerTempProdukOut)==null?void 0:Sr.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Qa=q.dryerTempProdukOut)==null?void 0:Qa.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ei=q.dryerTempProdukOut)==null?void 0:ei.sore)||"-"})]}),s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:"N (%)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.produkN.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ti=q.produkN)==null?void 0:ti.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ps=q.produkN)==null?void 0:Ps.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((_s=q.produkN)==null?void 0:_s.sore)||"-"})]}),s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:"P (%)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.produkP.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Es=q.produkP)==null?void 0:Es.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((As=q.produkP)==null?void 0:As.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Os=q.produkP)==null?void 0:Os.sore)||"-"})]}),s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:"K (%)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.produkK.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Cs=q.produkK)==null?void 0:Cs.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ds=q.produkK)==null?void 0:Ds.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ms=q.produkK)==null?void 0:Ms.sore)||"-"})]}),s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:"Moisture (%)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.moisture.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Rs=q.produkMoisture)==null?void 0:Rs.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Is=q.produkMoisture)==null?void 0:Is.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ls=q.produkMoisture)==null?void 0:Ls.sore)||"-"})]}),s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:"Kekerasan (Kgf)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.kekerasan.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Fs=q.produkKekerasan)==null?void 0:Fs.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Bs=q.produkKekerasan)==null?void 0:Bs.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:(($s=q.produkKekerasan)==null?void 0:$s.sore)||"-"})]}),s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:"Timbangan (Kg/Karung)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.timbangan.label}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Us=q.produkTimbangan)==null?void 0:Us.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ks=q.produkTimbangan)==null?void 0:Ks.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Vs=q.produkTimbangan)==null?void 0:Vs.sore)||"-"})]}),s.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/30",children:[s.jsx("td",{className:"px-4 py-3 font-semibold text-green-700 dark:text-green-300",children:"Tonase (Ton/Shift)"}),s.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:zt.tonase.label}),s.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Hs=q.produkTonase)==null?void 0:Hs.malam)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((zs=q.produkTonase)==null?void 0:zs.pagi)||"-"}),s.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Ws=q.produkTonase)==null?void 0:Ws.sore)||"-"})]})]})]})})]}),s.jsxs("div",{className:"bg-dark-100 dark:bg-dark-700 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dP,{className:"h-5 w-5 text-dark-500"}),s.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Kurs Dollar yang digunakan:"})]}),s.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:["Rp ",le(K)]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-dark-200 dark:border-dark-700",children:[s.jsx(ve,{variant:"secondary",onClick:()=>{W(!1),re(null)},children:"Tutup"}),s.jsxs(ve,{onClick:()=>{W(!1),Pt(q)},className:"gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Cetak"]})]})]})})()}),s.jsx(_r,{isOpen:f,onClose:()=>h(!1),onConfirm:lt,title:"Hapus Data KOP",message:"Apakah Anda yakin ingin menghapus data KOP ini? Tindakan ini tidak dapat dibatalkan.",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:Ne,onClose:()=>{ue(!1),Ce(null)},onSubmit:dt,action:he,itemName:"data KOP",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!"}),s.jsx(Lr,{isOpen:G,onClose:()=>{de(!1),U("")},sheetName:e==="NPK1"?"kop_NPK1":"kop",recordId:ce,title:"Log Aktivitas KOP"})]})},l1=new Date().getFullYear(),fTe=[...Array.from({length:l1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(l1+1),label:String(l1+1)}],Zs=e=>e==null?"0.00":e.toFixed(2),c1=e=>{if(!e||e==="")return 0;const t=parseFloat(e);return isNaN(t)?0:t},GF=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Dolomite",label:"Dolomite"},{value:"Clay",label:"Clay"}],hTe=[...GF],Hd={tanggal:dr(),bahanBaku:"",stockAwal:0,bahanBakuIn:0,bahanBakuOut:0,stockAkhir:0},NO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Hd),[k,N]=j.useState("Urea"),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),[O,E]=j.useState(!1),[C,z]=j.useState("edit"),[Q,W]=j.useState(null),[q,re]=j.useState(!1),[G,de]=j.useState(""),ce=M=>{de(M),re(!0)},U=(t==null?void 0:t.role)||"",L=sn(U),I=j.useCallback(()=>{if(u&&!l){const M=document.querySelector("form");M&&M.requestSubmit()}},[u,l]);Br(I,u);const R=wn(U),J=kn(U),xe=Yr(U);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:F,SHEETS:se,getSheetNameByPlant:D}=await rt(async()=>{const{readData:te,SHEETS:ye,getSheetNameByPlant:Ve}=await Promise.resolve().then(()=>nt);return{readData:te,SHEETS:ye,getSheetNameByPlant:Ve}},void 0),Y=D(se.PEMANTAUAN_BAHAN_BAKU,e),ee=await F(Y);if(ee.success&&ee.data){const te=ee.data.map(ye=>({...ye,_plant:e})).sort((ye,Ve)=>new Date(Ve.tanggal).getTime()-new Date(ye.tanggal).getTime());o(te)}else o([])}catch(F){console.error("Error fetching data:",F),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{const M=c1(P.stockAwal),F=c1(P.bahanBakuIn),se=c1(P.bahanBakuOut),D=M+F-se;w(Y=>({...Y,stockAwal:M,bahanBakuIn:F,bahanBakuOut:se,stockAkhir:D>=0?D:0}))},[P.stockAwal,P.bahanBakuIn,P.bahanBakuOut]),j.useEffect(()=>{if(v.bahanBaku&&!m){const M=i.filter(F=>F.bahanBaku===v.bahanBaku).sort((F,se)=>new Date(se.tanggal).getTime()-new Date(F.tanggal).getTime())[0];M&&(w(F=>({...F,stockAwal:M.stockAkhir})),_(F=>({...F,stockAwal:String(M.stockAkhir)})))}},[v.bahanBaku,i,m]);const Ne=async M=>{M.preventDefault(),c(!0);try{if(m){const F={...v,id:m,_plant:e},se=await n("pemantauan_bahan_baku",F);if(se.success)o(D=>D.map(Y=>Y.id===m?{...v,id:m,_plant:e}:Y));else throw new Error(se.error||"Gagal mengupdate data")}else{const F={...v,_plant:e},se=await r("pemantauan_bahan_baku",F);if(se.success&&se.data){const D={...se.data,_plant:e};o(Y=>[D,...Y].sort((ee,te)=>new Date(te.tanggal).getTime()-new Date(ee.tanggal).getTime()))}else throw new Error(se.error||"Gagal menambah data")}d(!1),x(null),w(Hd),_({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),g(!0)}catch(F){console.error("Error saving data:",F),alert(F instanceof Error?F.message:"Gagal menyimpan data")}finally{c(!1)}},ue=M=>{xe||(R?(W(M),z("edit"),E(!0)):(w(M),_({stockAwal:String(M.stockAwal||""),bahanBakuIn:String(M.bahanBakuIn||""),bahanBakuOut:String(M.bahanBakuOut||"")}),x(M.id||null),d(!0)))},he=M=>{xe||(J?(y(M),z("delete"),E(!0)):(y(M),h(!0)))},Te=async()=>{if(b){c(!0);try{const M=await a("pemantauan_bahan_baku",{id:b,_plant:e});if(M.success)o(F=>F.filter(se=>se.id!==b));else throw new Error(M.error||"Gagal menghapus data");h(!1),y(null),g(!0)}catch(M){console.error("Error deleting data:",M),alert(M instanceof Error?M.message:"Gagal menghapus data")}finally{c(!1)}}},me=async M=>{try{const{createData:F,SHEETS:se}=await rt(async()=>{const{createData:ee,SHEETS:te}=await Promise.resolve().then(()=>nt);return{createData:ee,SHEETS:te}},void 0),D=C==="edit"?Q:i.find(ee=>ee.id===b),Y={requestBy:(t==null?void 0:t.username)||"",requestByName:(t==null?void 0:t.nama)||(t==null?void 0:t.username)||"",requestDate:new Date().toISOString(),action:C,sheetType:`pemantauan_bahan_baku${e==="NPK1"?"_NPK1":""}`,dataId:(D==null?void 0:D.id)||"",dataPreview:JSON.stringify({tanggal:D==null?void 0:D.tanggal,bahanBaku:D==null?void 0:D.bahanBaku,stockAkhir:D==null?void 0:D.stockAkhir}),reason:M,status:"pending",requesterPlant:e};await F(se.APPROVAL_REQUESTS,Y),E(!1),W(null),y(null),alert("Permintaan approval telah dikirim")}catch(F){console.error("Error submitting approval:",F),alert("Gagal mengirim permintaan approval")}},ne=(()=>{const M=i.filter(ye=>ye.bahanBaku===k),F=M.filter(ye=>ye.tanggal===dr()),se=M.sort((ye,Ve)=>new Date(Ve.tanggal).getTime()-new Date(ye.tanggal).getTime())[0],D=(se==null?void 0:se.stockAkhir)||0,Y=F.reduce((ye,Ve)=>ye+Ve.bahanBakuIn,0),ee=F.reduce((ye,Ve)=>ye+Ve.bahanBakuOut,0),te=M.length;return{totalStockAkhir:D,totalBahanBakuIn:Y,totalBahanBakuOut:ee,totalRecords:te,lastDate:(se==null?void 0:se.tanggal)||"-"}})(),A=i.filter(M=>{const F=k?M.bahanBaku===k:!0,D=new Date(M.tanggal).getFullYear()===parseInt(S);return F&&D}),H=(()=>{if(!k)return null;const M=i.filter(se=>se.bahanBaku===k),F=M.sort((se,D)=>new Date(D.tanggal).getTime()-new Date(se.tanggal).getTime())[0];return{currentStock:(F==null?void 0:F.stockAkhir)||0,totalRecords:M.length}})(),ke=[{key:"tanggal",header:"Tanggal",sortable:!0,render:M=>pt(M)},{key:"bahanBaku",header:"Bahan Baku",render:M=>s.jsx(Xe,{variant:"default",children:M})},{key:"stockAwal",header:"Stock Awal",render:M=>s.jsxs("span",{className:"font-medium",children:[Zs(M)," Ton"]})},{key:"bahanBakuIn",header:"Bahan Baku In",render:M=>s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["+",Zs(M)," Ton"]})},{key:"bahanBakuOut",header:"Bahan Baku Out",render:M=>s.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",Zs(M)," Ton"]})},{key:"stockAkhir",header:"Stock Akhir",render:M=>s.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[Zs(M)," Ton"]})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Pemantauan Bahan Baku - ",e]}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Monitor stok bahan baku harian"})]}),L&&s.jsxs(ve,{onClick:()=>{w(Hd),_({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),x(null),d(!0)},children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Me,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:["Stock Akhir ",k]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:[Zs(ne.totalStockAkhir)," ",s.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),s.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:s.jsx(Mo,{className:"h-6 w-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-2",children:["Update terakhir: ",ne.lastDate]})]})}),s.jsx(Me,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:[k," Masuk Hari Ini"]}),s.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:["+",Zs(ne.totalBahanBakuIn)," ",s.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),s.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:s.jsx(Sl,{className:"h-6 w-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-green-500 dark:text-green-400 mt-2",children:["Total ",k," yang masuk"]})]})}),s.jsx(Me,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:[k," Keluar Hari Ini"]}),s.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:["-",Zs(ne.totalBahanBakuOut)," ",s.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),s.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:s.jsx(jf,{className:"h-6 w-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-red-500 dark:text-red-400 mt-2",children:["Total ",k," yang digunakan"]})]})}),s.jsx(Me,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-800",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:["Total Record ",k]}),s.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:[ne.totalRecords," ",s.jsx("span",{className:"text-sm font-normal",children:"Data"})]})]}),s.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:s.jsx(xx,{className:"h-6 w-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-2",children:["Jumlah pencatatan ",k]})]})})]}),s.jsx(Me,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-800 rounded-lg",children:s.jsx(Mo,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Informasi Pemantauan Bahan Baku"}),s.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Stock Awal:"})," Input manual di awal bulan, selanjutnya otomatis terisi dari stock akhir terakhir"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Stock Akhir:"})," Dihitung otomatis = Stock Awal + Bahan Baku In - Bahan Baku Out"]}),s.jsxs("li",{children:["Gunakan ",s.jsx("strong",{children:"Filter Bahan Baku"})," di atas tabel untuk melihat data per jenis bahan baku"]}),s.jsx("li",{children:"Bahan baku yang dipantau: Urea, DAP, KCL, ZA, Dolomite, dan Clay"})]})]})]})})}),s.jsxs(Me,{children:[s.jsxs(St,{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsx(Nt,{children:"Data Pemantauan Bahan Baku"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(et,{value:S,onChange:M=>T(M.target.value),options:fTe,className:"w-full sm:w-28"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G5,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),s.jsx("select",{value:k,onChange:M=>N(M.target.value),className:"px-3 py-2 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:hTe.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]})]})]}),k&&H&&s.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xe,{variant:"primary",children:k}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Stock Terkini:"," ",s.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[Zs(H.currentStock)," Ton"]})]})]}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[H.totalRecords," data tercatat"]})]})})]}),s.jsx(Ir,{data:A,columns:ke,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, bahan baku, stock...",searchKeys:["tanggal","bahanBaku","stockAwal","bahanBakuIn","bahanBakuOut","stockAkhir","keterangan"],actions:xe?M=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),ce(M.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):M=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),ce(M.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),ue(M)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),he(M.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),x(null),w(Hd),_({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},title:m?"Edit Data Pemantauan":"Tambah Data Pemantauan",children:s.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:M=>w({...v,tanggal:M.target.value}),required:!0}),s.jsx(et,{label:"Bahan Baku",value:v.bahanBaku,onChange:M=>w({...v,bahanBaku:M.target.value}),options:GF,placeholder:"Pilih Bahan Baku",required:!0}),s.jsx(Ee,{label:"Stock Awal (Ton)",type:"text",inputMode:"decimal",value:P.stockAwal,onChange:M=>{const F=M.target.value;(/^[0-9]*\.?[0-9]*$/.test(F)||F==="")&&_(se=>({...se,stockAwal:F}))},placeholder:"0.00",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"* Stock awal otomatis terisi dari stock akhir terakhir untuk bahan baku yang dipilih"}),s.jsx(Ee,{label:"Bahan Baku In (Ton)",type:"text",inputMode:"decimal",value:P.bahanBakuIn,onChange:M=>{const F=M.target.value;(/^[0-9]*\.?[0-9]*$/.test(F)||F==="")&&_(se=>({...se,bahanBakuIn:F}))},placeholder:"0.00",required:!0}),s.jsx(Ee,{label:"Bahan Baku Out (Ton)",type:"text",inputMode:"decimal",value:P.bahanBakuOut,onChange:M=>{const F=M.target.value;(/^[0-9]*\.?[0-9]*$/.test(F)||F==="")&&_(se=>({...se,bahanBakuOut:F}))},placeholder:"0.00",required:!0}),s.jsx(Ee,{label:"Stock Akhir (Ton)",type:"number",value:v.stockAkhir||0,disabled:!0,className:"bg-gray-100 dark:bg-gray-700"}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ve,{type:"button",variant:"outline",onClick:()=>{d(!1),x(null),w(Hd),_({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},children:"Batal"}),s.jsx(ve,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:O,onClose:()=>{E(!1),W(null),y(null)},onSubmit:me,action:C,loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(Lr,{isOpen:q,onClose:()=>{re(!1),de("")},sheetName:e==="NPK1"?"pemantauan_bahan_baku_NPK1":"pemantauan_bahan_baku",recordId:G,title:"Log Aktivitas Pemantauan Bahan Baku"})]})},u1=new Date().getFullYear(),pTe=[...Array.from({length:u1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(u1+1),label:String(u1+1)}],zd={tanggal:dr(),nomorWR:"",item:"",area:"",eksekutor:"",include:"",keterangan:""},mTe=[{value:"Mekanik",label:"Mekanik"},{value:"Bengkel",label:"Bengkel"},{value:"Listrik",label:"Listrik"},{value:"Craftshop",label:"Craftshop"},{value:"Alat Berat",label:"Alat Berat"},{value:"Instrument",label:"Instrument"},{value:"Inspeksi",label:"Inspeksi"}],TO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(zd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState("edit"),[E,C]=j.useState(null),[z,Q]=j.useState(!1),[W,q]=j.useState(null),[re,G]=j.useState(!1),[de,ce]=j.useState(""),U=D=>{ce(D),G(!0)},L=Yr((t==null?void 0:t.role)||""),I=sn((t==null?void 0:t.role)||"")&&!L,R=j.useCallback(()=>{if(u&&!l){const D=document.querySelector("form");D&&D.requestSubmit()}},[u,l]);Br(R,u);const J=wn((t==null?void 0:t.role)||""),xe=kn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Y,SHEETS:ee}=await rt(async()=>{const{fetchDataByPlant:ye,SHEETS:Ve}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:ye,SHEETS:Ve}},void 0),te=await Y(ee.WORK_REQUEST);if(te.success&&te.data){const ye=[...te.data].sort((Ve,be)=>new Date(be.tanggal).getTime()-new Date(Ve.tanggal).getTime());o(ye)}else o([])}catch(Y){console.error("Error fetching data:",Y),o([])}finally{c(!1)}})()},[]);const Ne=async D=>{D.preventDefault(),c(!0);try{if(m){const Y={...v,id:m,_plant:S},ee=await n(Gr.WORK_REQUEST,Y);if(ee.success)o(te=>te.map(ye=>ye.id===m?{...v,id:m,_plant:S}:ye));else throw new Error(ee.error||"Gagal mengupdate data")}else{const Y={...v,_plant:S},ee=await r(Gr.WORK_REQUEST,Y);if(ee.success&&ee.data){const te={...ee.data,_plant:S};o(ye=>[te,...ye])}else throw new Error(ee.error||"Gagal menyimpan data")}d(!1),w(zd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Y){console.error("Error saving data:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ue=D=>{if(J){C(D),O("edit"),P(!0);return}w(D),x(D.id||null),d(!0)},he=D=>{if(xe){y(D),O("delete"),P(!0);return}y(D),h(!0)},Te=async D=>{c(!0);try{const{createData:Y,SHEETS:ee}=await rt(async()=>{const{createData:Ve,SHEETS:be}=await Promise.resolve().then(()=>nt);return{createData:Ve,SHEETS:be}},void 0),te={type:"work_request",action:_,itemId:_==="edit"?E==null?void 0:E.id:b,itemData:_==="edit"?E:i.find(Ve=>Ve.id===b),reason:D,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ye=await Y(ee.APPROVAL_REQUESTS,te);if(ye.success)P(!1),C(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ye.error||"Gagal mengirim permintaan")}catch(Y){console.error("Error submitting approval:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan")}finally{c(!1)}},me=async()=>{if(b){c(!0);try{const D=i.find(ee=>ee.id===b),Y=await a(Gr.WORK_REQUEST,{id:b,_plant:(D==null?void 0:D._plant)||S});if(Y.success)o(ee=>ee.filter(te=>te.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Y.error||"Gagal menghapus data")}catch(D){console.error("Error deleting data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Ce=()=>{w(zd),x(null),d(!0)},ne=D=>{q(D),Q(!0)},A=i.filter(D=>{const Y=D._plant===S,te=new Date(D.tanggal).getFullYear()===parseInt(k);return Y&&te}),B=[{key:"tanggal",header:"Tanggal",sortable:!0,render:D=>pt(D)},{key:"nomorWR",header:"Nomor WR"},{key:"item",header:"Item"},{key:"area",header:"Area"},{key:"eksekutor",header:"Eksekutor"},{key:"include",header:"Include"},{key:"keterangan",header:"Keterangan",render:D=>s.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:D})}],H=A.length,ke=j.useMemo(()=>{const D={};return A.forEach(Y=>{const ee=Y.eksekutor||"Lainnya";D[ee]=(D[ee]||0)+1}),D},[A]),M=j.useMemo(()=>Object.entries(ke).sort(([,Y],[,ee])=>ee-Y)[0]||["",0],[ke]),F=j.useMemo(()=>new Set(A.map(D=>D.area).filter(Boolean)).size,[A]),se=j.useMemo(()=>{const D=new Date;return A.filter(Y=>{const ee=new Date(Y.tanggal);return ee.getMonth()===D.getMonth()&&ee.getFullYear()===D.getFullYear()}).length},[A]);return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Work Request ",S==="NPK1"?"NPK 1":"NPK 2"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1 text-sm",children:"Kelola permintaan perbaikan dan maintenance"})]}),s.jsx("div",{className:"flex items-center gap-3",children:I&&s.jsxs(ve,{onClick:Ce,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Work Request"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total WR (",k,")"]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:H})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Bulan Ini"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:se})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Area Terlibat"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:F})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Top Eksekutor"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-dark-900 dark:text-white truncate",children:M[0]}),s.jsxs("p",{className:"text-xs text-dark-400",children:[M[1]," WR"]})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Work Request - Tahun ",k]}),s.jsx(et,{value:k,onChange:D=>N(D.target.value),options:pTe,className:"w-32"})]})}),s.jsx(Ir,{data:A,columns:B,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor WR, item, area, eksekutor...",searchKeys:["tanggal","nomorWR","item","area","eksekutor","include","keterangan"],actions:D=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),ne(D)},title:"Lihat Detail",children:s.jsx(bs,{className:"h-4 w-4 text-blue-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),U(D.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),!L&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),ue(D)},title:J?"Ajukan Edit (perlu approval)":"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),he(D.id)},title:xe?"Ajukan Hapus (perlu approval)":"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(zd),x(null)},title:m?"Edit Work Request":"Buat Work Request",size:"lg",children:s.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:D=>w(Y=>({...Y,tanggal:D.target.value})),required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Nomor WR",type:"text",value:v.nomorWR,onChange:D=>w(Y=>({...Y,nomorWR:D.target.value})),placeholder:"Nomor Work Request",required:!0}),s.jsx(Ee,{label:"Item",type:"text",value:v.item,onChange:D=>w(Y=>({...Y,item:D.target.value})),placeholder:"Item",required:!0})]}),s.jsx(Ee,{label:"Area",type:"text",value:v.area,onChange:D=>w(Y=>({...Y,area:D.target.value})),placeholder:"Area",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{label:"Eksekutor",value:v.eksekutor,onChange:D=>w(Y=>({...Y,eksekutor:D.target.value})),options:mTe,placeholder:"Pilih eksekutor",required:!0}),s.jsx(Ee,{label:"Include",type:"text",value:v.include,onChange:D=>w(Y=>({...Y,include:D.target.value})),placeholder:"Include"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Keterangan"}),s.jsx("textarea",{value:v.keterangan,onChange:D=>w(Y=>({...Y,keterangan:D.target.value})),placeholder:"Keterangan detail work request...",className:"input-field min-h-[100px]",required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(zd),x(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:me,title:"Hapus Work Request",message:"Apakah Anda yakin ingin menghapus work request ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:T,onClose:()=>{P(!1),C(null),y(null)},onSubmit:Te,action:_,itemName:"Work Request",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(xt,{isOpen:z,onClose:()=>{Q(!1),q(null)},title:"Detail Work Request",size:"lg",children:W&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-dark-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:s.jsx(wi,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-dark-900 dark:text-white",children:W.nomorWR}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:pt(W.tanggal)})]})]}),s.jsx(Xe,{variant:S==="NPK1"?"primary":"success",children:S})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[s.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Item"}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:W.item})]}),s.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[s.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Area"}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:W.area})]}),s.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[s.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Eksekutor"}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:W.eksekutor})})]}),s.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[s.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Include"}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:W.include||"-"})]})]}),s.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[s.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2",children:"Keterangan"}),s.jsx("p",{className:"text-dark-900 dark:text-white whitespace-pre-wrap leading-relaxed",children:W.keterangan||"-"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-200",children:[!L&&s.jsxs(ve,{variant:"secondary",onClick:()=>{Q(!1),q(null),ue(W)},children:[s.jsx(gr,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(ve,{onClick:()=>{Q(!1),q(null)},children:"Tutup"})]})]})}),s.jsx(Lr,{isOpen:re,onClose:()=>{G(!1),ce("")},sheetName:S==="NPK1"?"workrequest_NPK1":"workrequest",recordId:de,title:"Log Aktivitas Work Request"})]})},d1=new Date().getFullYear(),gTe=[...Array.from({length:d1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(d1+1),label:String(d1+1)}],PO=[{value:"ALL",label:"Semua Bulan"},{value:"1",label:"Januari"},{value:"2",label:"Februari"},{value:"3",label:"Maret"},{value:"4",label:"April"},{value:"5",label:"Mei"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"Agustus"},{value:"9",label:"September"},{value:"10",label:"Oktober"},{value:"11",label:"November"},{value:"12",label:"Desember"}],_O=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Clay",label:"Clay"},{value:"Dolomite",label:"Dolomite"},{value:"Coating Oil",label:"Coating Oil"},{value:"Pewarna",label:"Pewarna"},{value:"Silika",label:"Silika"},{value:"Amnit",label:"Amnit"}],xTe=[{value:"Ton",label:"Ton"},{value:"Pallet",label:"Pallet"},{value:"Jumbo",label:"Jumbo"}],Wd={tanggal:dr(),bahanBaku:"",entries:[{berat:0,unit:"Ton"}],totalBerat:0},EO=({plant:e})=>{var be;const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),{optimisticAdd:i,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=HF(),[d,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(null),[N,S]=j.useState(null),[T,P]=j.useState(Wd),[_,O]=j.useState(String(new Date().getFullYear())),[E,C]=j.useState(String(new Date().getMonth()+1)),z=e,[Q,W]=j.useState(!1),[q,re]=j.useState("edit"),[G,de]=j.useState(null),[ce,U]=j.useState(!1),[L,I]=j.useState(""),[R,J]=j.useState(!1),xe=Pe=>{I(Pe),U(!0)},Ne=Yr((t==null?void 0:t.role)||""),ue=sn((t==null?void 0:t.role)||"")&&!Ne,he=j.useCallback(()=>{if(g&&!h){const Pe=document.querySelector("form");Pe&&Pe.requestSubmit()}},[g,h]);Br(he,g);const Te=wn((t==null?void 0:t.role)||""),me=kn((t==null?void 0:t.role)||""),Ce=Pe=>Pe.reduce((Fe,We)=>Fe+(We.berat||0),0),ne=(Pe,Fe,We)=>{P(it=>{const lt=[...it.entries];return lt[Pe]={...lt[Pe],[Fe]:Fe==="berat"?parseFloat(We)||0:We},{...it,entries:lt,totalBerat:Ce(lt)}})},A=()=>{P(Pe=>({...Pe,entries:[...Pe.entries,{berat:0,unit:"Ton"}]}))},B=(Pe,Fe)=>{Pe.key==="Enter"&&(Pe.preventDefault(),A(),setTimeout(()=>{const We=document.querySelectorAll('input[type="number"][placeholder="Berat"]'),it=We[We.length-1];it&&it.focus()},50))},H=Pe=>{T.entries.length<=1||P(Fe=>{const We=Fe.entries.filter((it,lt)=>lt!==Pe);return{...Fe,entries:We,totalBerat:Ce(We)}})};j.useEffect(()=>{(async()=>{p(!0);try{const{readData:Fe,getSheetNameByPlant:We}=await rt(async()=>{const{readData:dt,getSheetNameByPlant:Qe}=await Promise.resolve().then(()=>nt);return{readData:dt,getSheetNameByPlant:Qe}},void 0),it=We(Gr.BAHAN_BAKU_NPK,z),lt=await Fe(it);if(lt.success&&lt.data){const Qe=[...lt.data.map(Pt=>({...Pt,entries:typeof Pt.entries=="string"?JSON.parse(Pt.entries):Pt.entries||[{berat:0,unit:"Ton"}],totalBerat:Pt.totalBerat||0,_plant:z}))].sort((Pt,ea)=>new Date(ea.tanggal).getTime()-new Date(Pt.tanggal).getTime());f(Qe)}else f([])}catch(Fe){console.error("Error fetching data:",Fe),f([])}finally{p(!1)}})()},[z]);const ke=async Pe=>{if(Pe.preventDefault(),!T.tanggal){alert("Tanggal wajib diisi!");return}if(!T.bahanBaku){alert("Bahan Baku wajib dipilih!");return}if(T.entries.length===0||T.entries.every(We=>We.berat===0)){alert("Minimal satu entry berat harus diisi!");return}m(!1),v(!0);const Fe={...T,entries:JSON.stringify(T.entries),totalBerat:Ce(T.entries),_plant:z};if(w){const We={...T,id:w,_plant:z,totalBerat:Ce(T.entries)},{rollback:it}=o(d,We);f(dt=>dt.map(Qe=>Qe.id===w?{...We,_isPending:!0}:Qe));const lt={...Fe,id:w};n(Gr.BAHAN_BAKU_NPK,lt).then(dt=>{dt.success?f(Qe=>u(Qe,w)):(f(it()),alert(dt.error||"Gagal mengupdate data"))}).catch(()=>{f(it()),alert("Terjadi kesalahan saat mengupdate data")})}else{const We=zF(),it={...T,id:We,_plant:z,totalBerat:Ce(T.entries),_isPending:!0},{rollback:lt}=i(d,it,We);f(dt=>[it,...dt]),r(Gr.BAHAN_BAKU_NPK,Fe).then(dt=>{dt.success&&dt.data?f(Qe=>c(Qe,We,dt.data.id||We)):(f(lt()),alert(dt.error||"Gagal menyimpan data"))}).catch(()=>{f(lt()),alert("Terjadi kesalahan saat menyimpan data")})}P(Wd),k(null),setTimeout(()=>v(!1),1500)},M=Pe=>{if(Te){de(Pe),re("edit"),W(!0);return}const Fe=typeof Pe.entries=="string"?JSON.parse(Pe.entries):Pe.entries||[{berat:0,unit:"Ton"}];P({...Pe,entries:Fe,totalBerat:Ce(Fe)}),k(Pe.id||null),m(!0)},F=Pe=>{if(me){S(Pe),re("delete"),W(!0);return}S(Pe),b(!0)},se=async Pe=>{p(!0);try{const{createData:Fe,SHEETS:We}=await rt(async()=>{const{createData:dt,SHEETS:Qe}=await Promise.resolve().then(()=>nt);return{createData:dt,SHEETS:Qe}},void 0),it={type:"BAHAN_BAKU_NPK",action:q,itemId:q==="edit"?G==null?void 0:G.id:N,itemData:q==="edit"?G:d.find(dt=>dt.id===N),reason:Pe,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},lt=await Fe(We.APPROVAL_REQUESTS,it);if(lt.success)W(!1),de(null),S(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(lt.error||"Gagal mengirim permintaan")}catch(Fe){console.error("Error submitting approval:",Fe),alert(Fe instanceof Error?Fe.message:"Terjadi kesalahan")}finally{p(!1)}},D=async()=>{if(!N)return;const Pe=d.find(We=>We.id===N),{rollback:Fe}=l(d,N);f(We=>We.filter(it=>it.id!==N)),b(!1),v(!0),a(Gr.BAHAN_BAKU_NPK,{id:N,_plant:(Pe==null?void 0:Pe._plant)||z}).then(We=>{We.success||(f(Fe()),alert(We.error||"Gagal menghapus data"))}).catch(()=>{f(Fe()),alert("Terjadi kesalahan saat menghapus data")}),S(null),setTimeout(()=>v(!1),1500)},Y=()=>{P(Wd),k(null),m(!0)},ee=d.filter(Pe=>{const Fe=Pe._plant===z,We=new Date(Pe.tanggal),it=We.getFullYear(),lt=We.getMonth()+1,dt=it===parseInt(_),Qe=E==="ALL"||lt===parseInt(E);return Fe&&dt&&Qe}),te=ee.reduce((Pe,Fe)=>{const We=Fe.bahanBaku||"Unknown";return Pe[We]=(Pe[We]||0)+(Fe.totalBerat||0),Pe},{}),ye=Pe=>{const Fe=typeof Pe=="string"?JSON.parse(Pe):Pe;return!Fe||!Array.isArray(Fe)?"-":Fe.map(We=>`${le(We.berat)} ${We.unit}`).join(", ")},Ve=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Pe=>pt(Pe)},{key:"bahanBaku",header:"Bahan Baku",render:Pe=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-4 w-4 text-dark-400"}),s.jsx("span",{className:"font-medium",children:Pe})]})},{key:"entries",header:"Detail Berat & Unit",render:Pe=>s.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:ye(Pe)})},{key:"totalBerat",header:"Total Berat",render:Pe=>s.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:le(ge(Pe))})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Bahan Baku NPK ",z==="NPK1"?"1":"2"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data penerimaan bahan baku NPK"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{variant:"secondary",onClick:()=>J(!0),className:"border-green-300 text-green-700 hover:bg-green-50 dark:border-green-700 dark:text-green-400 dark:hover:bg-green-900/20",children:[s.jsx(bx,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),ue&&s.jsxs(ve,{onClick:Y,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4",children:Object.entries(te).slice(0,5).map(([Pe,Fe])=>s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:Pe}),s.jsx("p",{className:"text-base sm:text-lg font-bold text-dark-900 dark:text-white",children:le(Fe)})]},Pe))}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs(Nt,{children:["Data Bahan Baku NPK - ",E==="ALL"?"Tahun":(be=PO.find(Pe=>Pe.value===E))==null?void 0:be.label," ",_]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{value:E,onChange:Pe=>C(Pe.target.value),options:PO,className:"w-40"}),s.jsx(et,{value:_,onChange:Pe=>O(Pe.target.value),options:gTe,className:"w-28"})]})]})}),s.jsx(Ir,{data:ee,columns:Ve,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, bahan baku, total berat...",searchKeys:["tanggal","bahanBaku","totalBerat"],actions:Ne?Pe=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),xe(Pe.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-blue-600"})})}):Pe=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),xe(Pe.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-blue-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),M(Pe)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),F(Pe.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:g,onClose:()=>{m(!1),P(Wd),k(null)},title:w?"Edit Data Bahan Baku NPK":"Tambah Data Bahan Baku NPK",size:"lg",children:s.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:T.tanggal,onChange:Pe=>P(Fe=>({...Fe,tanggal:Pe.target.value})),required:!0}),s.jsx(et,{label:"Bahan Baku",value:T.bahanBaku,onChange:Pe=>P(Fe=>({...Fe,bahanBaku:Pe.target.value})),options:_O,placeholder:"Pilih bahan baku",required:!0}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-300",children:"Detail Berat & Unit"}),s.jsxs(ve,{type:"button",variant:"secondary",size:"sm",onClick:A,children:[s.jsx(xr,{className:"h-4 w-4 mr-1"}),"Tambah"]})]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:T.entries.map((Pe,Fe)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-50 dark:bg-dark-800 rounded-lg",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Ee,{type:"number",value:Pe.berat||"",onChange:We=>ne(Fe,"berat",We.target.value),onKeyDown:We=>B(We),placeholder:"Berat",step:"0.01",min:"0",required:!0})}),s.jsx("div",{className:"w-32",children:s.jsx(et,{value:Pe.unit,onChange:We=>ne(Fe,"unit",We.target.value),options:xTe,required:!0})}),T.entries.length>1&&s.jsx(ve,{type:"button",variant:"ghost",size:"icon",onClick:()=>H(Fe),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(qa,{className:"h-4 w-4"})})]},Fe))}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:[s.jsx("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:"Total Berat:"}),s.jsx("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:le(Ce(T.entries))})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{m(!1),P(Wd),k(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:h,children:w?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:x,onClose:()=>{b(!1),S(null)},onConfirm:D,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:h}),s.jsx(jn,{isOpen:Q,onClose:()=>{W(!1),de(null),S(null)},onSubmit:se,action:q,itemName:"data bahan baku NPK",loading:h}),s.jsx(jr,{isVisible:y,message:"Data berhasil disimpan!",onClose:()=>v(!1)}),s.jsx(aee,{isOpen:R,onClose:()=>J(!1),data:d,plantName:z==="NPK1"?"NPK 1":"NPK 2",bahanBakuOptions:_O}),s.jsx(Lr,{isOpen:ce,onClose:()=>{U(!1),I("")},sheetName:z==="NPK1"?"bahanbaku_npk_NPK1":"bahanbaku_npk",recordId:L,title:"Log Aktivitas Bahan Baku NPK"})]})},f1=new Date().getFullYear(),vTe=[...Array.from({length:f1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(f1+1),label:String(f1+1)}],Gd={tanggal:dr(),namaEquipment:"",posisiPengukuran:"",pointPengukuran:"",nilaiVibrasi:0,status:"Normal",keterangan:""},AO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Gd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState("edit"),[E,C]=j.useState(null),[z,Q]=j.useState(!1),[W,q]=j.useState(""),re=H=>{q(H),Q(!0)},G=(t==null?void 0:t.role)||"",de=sn(G),ce=j.useCallback(()=>{if(u&&!l){const H=document.querySelector("form");H&&H.requestSubmit()}},[u,l]);Br(ce,u);const U=wn(G),L=kn(G),I=Yr(G),R=[{value:"Vertical",label:"Vertical"},{value:"Horizontal",label:"Horizontal"},{value:"Axial",label:"Axial"}],J=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:ke,SHEETS:M}=await rt(async()=>{const{fetchDataByPlant:se,SHEETS:D}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:se,SHEETS:D}},void 0),F=await ke(M.VIBRASI);if(F.success&&F.data){const se=[...F.data].sort((D,Y)=>new Date(Y.tanggal).getTime()-new Date(D.tanggal).getTime());o(se)}else o([])}catch(ke){console.error("Error fetching data:",ke),o([])}finally{c(!1)}})()},[]),j.useEffect(()=>{let H="Normal";v.nilaiVibrasi>=7?H="Alert":v.nilaiVibrasi>=4&&(H="Warning"),w(ke=>({...ke,status:H}))},[v.nilaiVibrasi]);const xe=async H=>{H.preventDefault(),c(!0);try{if(m){const ke={...v,id:m,_plant:S},M=await n(Gr.VIBRASI,ke);if(M.success)o(F=>F.map(se=>se.id===m?{...v,id:m,_plant:S}:se));else throw new Error(M.error||"Gagal mengupdate data")}else{const ke={...v,_plant:S},M=await r(Gr.VIBRASI,ke);if(M.success&&M.data){const F={...M.data,_plant:S};o(se=>[F,...se])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),w(Gd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(ke){console.error("Error saving data:",ke),alert(ke instanceof Error?ke.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Ne=H=>{if(U){C(H),O("edit"),P(!0);return}w(H),x(H.id||null),d(!0)},ue=H=>{if(L){const ke=i.find(M=>M.id===H);ke&&(C(ke),O("delete"),P(!0));return}y(H),h(!0)},he=async H=>{if(!(!E||!t)){c(!0);try{const{createData:ke,SHEETS:M}=await rt(async()=>{const{createData:D,SHEETS:Y}=await Promise.resolve().then(()=>nt);return{createData:D,SHEETS:Y}},void 0),F={type:"vibrasi",action:_,itemId:E.id,itemData:E,targetSheet:S==="NPK1"?"vibrasi_NPK1":"vibrasi",reason:H,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},se=await ke(M.APPROVAL_REQUESTS,F);if(se.success)P(!1),C(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(se.error||"Gagal mengirim permintaan")}catch(ke){console.error("Error submitting approval:",ke),alert(ke instanceof Error?ke.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},Te=async()=>{if(b){c(!0);try{const H=i.find(M=>M.id===b),ke=await a(Gr.VIBRASI,{id:b,_plant:(H==null?void 0:H._plant)||S});if(ke.success)o(M=>M.filter(F=>F.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(ke.error||"Gagal menghapus data")}catch(H){console.error("Error deleting data:",H),alert(H instanceof Error?H.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},me=()=>{w(Gd),x(null),d(!0)},Ce=i.filter(H=>{const ke=H._plant===S,F=new Date(H.tanggal).getFullYear()===parseInt(k);return ke&&F}),ne={normal:Ce.filter(H=>H.status==="Normal").length,warning:Ce.filter(H=>H.status==="Warning").length,alert:Ce.filter(H=>H.status==="Alert").length},A=H=>{switch(H){case"Normal":return"success";case"Warning":return"warning";case"Alert":return"danger";default:return"default"}},B=[{key:"tanggal",header:"Tanggal",sortable:!0,render:H=>pt(H)},{key:"namaEquipment",header:"Equipment",render:H=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Eb,{className:"h-4 w-4 text-dark-400"}),s.jsx("span",{className:"font-medium",children:H})]})},{key:"posisiPengukuran",header:"Posisi Pengukuran",render:H=>s.jsx(Xe,{variant:"default",children:H})},{key:"pointPengukuran",header:"Point Pengukuran",render:H=>s.jsx(Xe,{variant:"primary",children:H})},{key:"nilaiVibrasi",header:"Vibrasi (mm/s)",render:H=>{const ke=ge(H);return s.jsx("span",{className:`font-bold ${ke>=7?"text-red-600":ke>=4?"text-amber-600":"text-green-600"}`,children:le(ke)})}},{key:"status",header:"Status",render:H=>s.jsx(Xe,{variant:A(H),children:H})},{key:"keterangan",header:"Keterangan"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Vibrasi ",S==="NPK1"?"NPK 1":"NPK 2"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Monitoring vibrasi equipment produksi"})]}),s.jsx("div",{className:"flex items-center gap-3",children:de&&s.jsxs(ve,{onClick:me,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Normal"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ne.normal})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Warning"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:ne.warning})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Alert"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:ne.alert})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pengukuran"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:Ce.length})]})]}),s.jsx(Me,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Eb,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Panduan Status Vibrasi"}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(Xe,{variant:"success",children:"Normal"}),s.jsx("p",{className:"text-dark-600 mt-1",children:"< 4 mm/s"})]}),s.jsxs("div",{children:[s.jsx(Xe,{variant:"warning",children:"Warning"}),s.jsx("p",{className:"text-dark-600 mt-1",children:"4 - 7 mm/s"})]}),s.jsxs("div",{children:[s.jsx(Xe,{variant:"danger",children:"Alert"}),s.jsx("p",{className:"text-dark-600 mt-1",children:"> 7 mm/s"})]})]})]})]})}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Pengukuran Vibrasi - Tahun ",k]}),s.jsx(et,{value:k,onChange:H=>N(H.target.value),options:vTe,className:"w-32"})]})}),s.jsx(Ir,{data:Ce,columns:B,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, posisi, status...",searchKeys:["tanggal","namaEquipment","posisiPengukuran","pointPengukuran","nilaiVibrasi","status","keterangan"],actions:I?H=>s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ve,{variant:"ghost",size:"icon",onClick:ke=>{ke.stopPropagation(),re(H.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})})}):H=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:ke=>{ke.stopPropagation(),re(H.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:ke=>{ke.stopPropagation(),Ne(H)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:ke=>{ke.stopPropagation(),ue(H.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Gd),x(null)},title:m?"Edit Data Vibrasi":"Tambah Data Vibrasi",size:"md",children:s.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:H=>w(ke=>({...ke,tanggal:H.target.value})),required:!0}),s.jsx(Ee,{label:"Nama Equipment",type:"text",value:v.namaEquipment,onChange:H=>w(ke=>({...ke,namaEquipment:H.target.value})),placeholder:"Masukkan nama equipment",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{label:"Posisi Pengukuran",value:v.posisiPengukuran,onChange:H=>w(ke=>({...ke,posisiPengukuran:H.target.value})),options:R,placeholder:"Pilih posisi",required:!0}),s.jsx(et,{label:"Point Pengukuran",value:v.pointPengukuran,onChange:H=>w(ke=>({...ke,pointPengukuran:H.target.value})),options:J,placeholder:"Pilih point",required:!0})]}),s.jsx(Ee,{label:"Nilai Vibrasi (mm/s)",type:"number",step:"0.1",value:v.nilaiVibrasi||"",onChange:H=>w(ke=>({...ke,nilaiVibrasi:parseFloat(H.target.value)||0})),placeholder:"0.0",required:!0}),s.jsx("div",{className:"p-4 bg-dark-50 rounded-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-dark-600",children:"Status:"}),s.jsx(Xe,{variant:A(v.status||"Normal"),className:"text-lg px-4",children:v.status})]})}),s.jsx(Ee,{label:"Keterangan",type:"text",value:v.keterangan,onChange:H=>w(ke=>({...ke,keterangan:H.target.value})),placeholder:"Keterangan tambahan"}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Gd),x(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:T,onClose:()=>{P(!1),C(null)},onSubmit:he,action:_,itemName:"data vibrasi",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(Lr,{isOpen:z,onClose:()=>{Q(!1),q("")},sheetName:S==="NPK1"?"vibrasi_NPK1":"vibrasi",recordId:W,title:"Log Aktivitas Vibrasi"})]})},h1=new Date().getFullYear(),yTe=[...Array.from({length:h1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(h1+1),label:String(h1+1)}],qd={tanggal:dr(),nomorGatePass:"",noPolisi:"",pemilikBarang:"",namaPembawa:"",mengetahui:"",deskripsiBarang:"",alasanKeluar:""},OO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(qd),[k,N]=j.useState(String(new Date().getFullYear())),[S,T]=j.useState(!1),[P,_]=j.useState(null),O=e,[E,C]=j.useState(!1),[z,Q]=j.useState(""),W=M=>{Q(M),C(!0)},[q,re]=j.useState(!1),[G,de]=j.useState("edit"),[ce,U]=j.useState(null),L=Yr((t==null?void 0:t.role)||""),I=sn((t==null?void 0:t.role)||"")&&!L,R=j.useCallback(()=>{if(u&&!l){const M=document.querySelector("form");M&&M.requestSubmit()}},[u,l]);Br(R,u);const J=wn((t==null?void 0:t.role)||""),xe=kn((t==null?void 0:t.role)||""),Ne=M=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][M];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:F,SHEETS:se}=await rt(async()=>{const{fetchDataByPlant:Y,SHEETS:ee}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:Y,SHEETS:ee}},void 0),D=await F(se.GATE_PASS);if(D.success&&D.data){const Y=[...D.data].sort((ee,te)=>new Date(te.tanggal).getTime()-new Date(ee.tanggal).getTime());o(Y)}else o([])}catch(F){console.error("Error fetching data:",F),o([])}finally{c(!1)}})()},[]);const ue=()=>{const M=new Date,F=M.getFullYear(),se=M.getMonth(),D=Ne(se),Y=O==="NPK1"?"NPK-1":"NPK-2",ee=i.filter(ye=>{if(!ye.tanggal)return!1;const Ve=new Date(ye.tanggal);return Ve.getMonth()===se&&Ve.getFullYear()===F&&ye._plant===O});return`${String(ee.length+1).padStart(3,"0")}/GP/${Y}/${D}/${F}`},he=async M=>{M.preventDefault(),c(!0);try{if(m){const F={...v,id:m,_plant:O},se=await n(Gr.GATE_PASS,F);if(se.success)o(D=>D.map(Y=>Y.id===m?{...v,id:m,_plant:O}:Y));else throw new Error(se.error||"Gagal mengupdate data")}else{const F={...v,nomorGatePass:v.nomorGatePass||ue(),_plant:O},se=await r(Gr.GATE_PASS,F);if(se.success&&se.data){const D={...se.data,_plant:e};o(Y=>[D,...Y])}else throw new Error(se.error||"Gagal menyimpan data")}d(!1),w(qd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(F){console.error("Error saving data:",F),alert(F instanceof Error?F.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Te=M=>{if(J){U(M),de("edit"),re(!0);return}w(M),x(M.id||null),d(!0)},me=M=>{if(xe){y(M),de("delete"),re(!0);return}y(M),h(!0)},Ce=async M=>{c(!0);try{const{createData:F,SHEETS:se}=await rt(async()=>{const{createData:ee,SHEETS:te}=await Promise.resolve().then(()=>nt);return{createData:ee,SHEETS:te}},void 0),D={type:"GATE_PASS",action:G,itemId:G==="edit"?ce==null?void 0:ce.id:b,itemData:G==="edit"?ce:i.find(ee=>ee.id===b),reason:M,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Y=await F(se.APPROVAL_REQUESTS,D);if(Y.success)re(!1),U(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Y.error||"Gagal mengirim permintaan")}catch(F){console.error("Error submitting approval:",F),alert(F instanceof Error?F.message:"Terjadi kesalahan")}finally{c(!1)}},ne=async()=>{if(b){c(!0);try{const M=i.find(se=>se.id===b),F=await a(Gr.GATE_PASS,{id:b,_plant:(M==null?void 0:M._plant)||O});if(F.success)o(se=>se.filter(D=>D.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(F.error||"Gagal menghapus data")}catch(M){console.error("Error deleting data:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},A=()=>{w({...qd,nomorGatePass:ue()}),x(null),d(!0)},B=i.filter(M=>{const F=M._plant===O,D=new Date(M.tanggal).getFullYear()===parseInt(k);return F&&D}),H=[{key:"tanggal",header:"Tanggal",sortable:!0,render:M=>pt(M)},{key:"nomorGatePass",header:"No. Gate Pass",render:M=>s.jsx("span",{className:"font-mono font-semibold text-primary-600",children:M})},{key:"noPolisi",header:"No Polisi"},{key:"pemilikBarang",header:"Pemilik Barang"},{key:"namaPembawa",header:"Nama Pembawa"},{key:"mengetahui",header:"Mengetahui"},{key:"deskripsiBarang",header:"Deskripsi Barang",render:M=>s.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:M})},{key:"alasanKeluar",header:"Alasan Mengeluarkan",render:M=>s.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:M})}],ke=B.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Gate Pass ",O==="NPK1"?"NPK 1":"NPK 2"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data gate pass barang masuk/keluar"})]}),s.jsx("div",{className:"flex items-center gap-3",children:I&&s.jsxs(ve,{onClick:A,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Gate Pass"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Gate Pass"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:ke})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Bulan Ini"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:B.filter(M=>{const F=new Date(M.tanggal),se=new Date;return F.getMonth()===se.getMonth()&&F.getFullYear()===se.getFullYear()}).length})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jenis Barang"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(B.map(M=>M.namaBarang).filter(Boolean)).size})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Tahun ",k]}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:ke})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Gate Pass - Tahun ",k]}),s.jsx(et,{value:k,onChange:M=>N(M.target.value),options:yTe,className:"w-32"})]})}),s.jsx(Ir,{data:B,columns:H,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor GP, no polisi, pemilik, pembawa...",searchKeys:["tanggal","nomorGatePass","noPolisi","pemilikBarang","namaPembawa","mengetahui","deskripsiBarang","alasanKeluar"],actions:M=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),_(M),T(!0)},title:"Cetak Gate Pass",children:s.jsx(Dn,{className:"h-4 w-4 text-amber-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),W(M.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),!L&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),Te(M)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),me(M.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(qd),x(null)},title:m?"Edit Gate Pass":"Buat Gate Pass",size:"lg",children:s.jsxs("form",{onSubmit:he,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:M=>w(F=>({...F,tanggal:M.target.value})),required:!0}),s.jsx(Ee,{label:"No. Gate Pass",type:"text",value:v.nomorGatePass,onChange:M=>w(F=>({...F,nomorGatePass:M.target.value})),placeholder:"Auto generate",disabled:!m})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"No Polisi",type:"text",value:v.noPolisi,onChange:M=>w(F=>({...F,noPolisi:M.target.value})),placeholder:"Contoh: T 8643 HI",required:!0}),s.jsx(Ee,{label:"Pemilik Barang",type:"text",value:v.pemilikBarang,onChange:M=>w(F=>({...F,pemilikBarang:M.target.value})),placeholder:"Nama pemilik barang",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Nama Pembawa",type:"text",value:v.namaPembawa,onChange:M=>w(F=>({...F,namaPembawa:M.target.value})),placeholder:"Nama pembawa barang",required:!0}),s.jsx(Ee,{label:"Mengetahui",type:"text",value:v.mengetahui,onChange:M=>w(F=>({...F,mengetahui:M.target.value})),placeholder:"Nama yang mengetahui",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Barang"}),s.jsx("textarea",{value:v.deskripsiBarang,onChange:M=>w(F=>({...F,deskripsiBarang:M.target.value})),placeholder:"Deskripsi detail barang...",className:"input-field min-h-[80px]",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Mengeluarkan"}),s.jsx("textarea",{value:v.alasanKeluar,onChange:M=>w(F=>({...F,alasanKeluar:M.target.value})),placeholder:"Alasan mengeluarkan barang...",className:"input-field min-h-[80px]",required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(qd),x(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ne,title:"Hapus Gate Pass",message:"Apakah Anda yakin ingin menghapus gate pass ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:q,onClose:()=>{re(!1),U(null),y(null)},onSubmit:Ce,action:G,itemName:"gate pass",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),P&&s.jsx(Zz,{isOpen:S,onClose:()=>{T(!1),_(null)},data:P,plant:O}),s.jsx(Lr,{isOpen:E,onClose:()=>{C(!1),Q("")},sheetName:O==="NPK1"?"gatepass_NPK1":"gatepass",recordId:z,title:"Log Aktivitas Gate Pass"})]})},p1=new Date().getFullYear(),bTe=[...Array.from({length:p1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(p1+1),label:String(p1+1)}],Yd={tanggal:dr(),nomorPerta:"",deskripsi:"",status:"Open",shift:"1",jenisBBM:"Solar",volumeAwal:0,volumePengisian:0,volumePemakaian:0,volumeAkhir:0,keterangan:""},wTe=()=>{var ne;const{user:e}=Tt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Jr(),[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,b]=j.useState(null),[y,v]=j.useState(Yd),[w,k]=j.useState(String(new Date().getFullYear())),[N,S]=j.useState((e==null?void 0:e.plant)||"ALL"),[T,P]=j.useState(!1),[_,O]=j.useState("edit"),[E,C]=j.useState(null),[z,Q]=j.useState(!1),[W,q]=j.useState(""),re=Yr((e==null?void 0:e.role)||""),G=sn((e==null?void 0:e.role)||"")&&!re,de=j.useCallback(()=>{if(c&&!o){const A=document.querySelector("form");A&&A.requestSubmit()}},[c,o]);Br(de,c);const ce=wn((e==null?void 0:e.role)||""),U=kn((e==null?void 0:e.role)||""),L=[{value:"Solar",label:"Solar"},{value:"Pertamax",label:"Pertamax"},{value:"Pertalite",label:"Pertalite"},{value:"Premium",label:"Premium"},{value:"Biosolar",label:"Biosolar"}];j.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:B,SHEETS:H}=await rt(async()=>{const{fetchDataByPlant:M,SHEETS:F}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:M,SHEETS:F}},void 0),ke=await B(H.PERTA);if(ke.success&&ke.data){const M=[...ke.data].sort((F,se)=>new Date(se.tanggal).getTime()-new Date(F.tanggal).getTime());i(M)}else i([])}catch(B){console.error("Error fetching data:",B),i([])}finally{l(!1)}})()},[]),j.useEffect(()=>{const A=(y.volumeAwal||0)+(y.volumePengisian||0)-(y.volumePemakaian||0);v(B=>({...B,volumeAkhir:A>0?A:0}))},[y.volumeAwal,y.volumePengisian,y.volumePemakaian]);const I=async A=>{A.preventDefault(),l(!0);try{const B=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant;if(g){const H={...y,id:g,_plant:B},ke=await r("perta",H);if(ke.success)i(M=>M.map(F=>F.id===g?{...y,id:g,_plant:B}:F));else throw new Error(ke.error||"Gagal mengupdate data")}else{const H={...y,_plant:B},ke=await t("perta",H);if(ke.success&&ke.data){const M={...ke.data,_plant:B};i(F=>[M,...F])}else throw new Error(ke.error||"Gagal menyimpan data")}u(!1),v(Yd),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(B){console.error("Error saving data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},R=A=>{if(ce){C(A),O("edit"),P(!0);return}v(A),m(A.id||null),u(!0)},J=A=>{if(U){b(A),O("delete"),P(!0);return}b(A),f(!0)},xe=async A=>{l(!0);try{const{createData:B,SHEETS:H}=await rt(async()=>{const{createData:F,SHEETS:se}=await Promise.resolve().then(()=>nt);return{createData:F,SHEETS:se}},void 0),ke={type:"PERTA",action:_,itemId:_==="edit"?E==null?void 0:E.id:x,itemData:_==="edit"?E:a.find(F=>F.id===x),reason:A,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},M=await B(H.APPROVAL_REQUESTS,ke);if(M.success)P(!1),C(null),b(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(M.error||"Gagal mengirim permintaan")}catch(B){console.error("Error submitting approval:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan")}finally{l(!1)}},Ne=async()=>{if(x){l(!0);try{const A=a.find(ke=>ke.id===x),B=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant,H=await n("perta",{id:x,_plant:(A==null?void 0:A._plant)||B});if(H.success)i(ke=>ke.filter(M=>M.id!==x)),f(!1),b(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(H.error||"Gagal menghapus data")}catch(A){console.error("Error deleting data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},ue=()=>{const A=a[0];v({...Yd,volumeAwal:(A==null?void 0:A.volumeAkhir)||0}),m(null),u(!0)},he=a.filter(A=>{const B=N==="ALL"||A._plant===N,ke=new Date(A.tanggal).getFullYear()===parseInt(w);return B&&ke}),Te=he.reduce((A,B)=>({pengisian:A.pengisian+(B.volumePengisian||0),pemakaian:A.pemakaian+(B.volumePemakaian||0)}),{pengisian:0,pemakaian:0}),me=((ne=he[0])==null?void 0:ne.volumeAkhir)||0,Ce=[{key:"tanggal",header:"Tanggal",sortable:!0,render:A=>pt(A)},{key:"shift",header:"Shift",render:A=>s.jsxs(Xe,{variant:"primary",children:["Shift ",A]})},{key:"jenisBBM",header:"Jenis BBM",render:A=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Db,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:"font-medium",children:A})]})},{key:"volumeAwal",header:"Vol. Awal (L)",render:A=>le(ge(A))},{key:"volumePengisian",header:"Pengisian (L)",render:A=>s.jsxs("span",{className:"text-green-600 font-semibold",children:["+",le(ge(A))]})},{key:"volumePemakaian",header:"Pemakaian (L)",render:A=>s.jsxs("span",{className:"text-red-600 font-semibold",children:["-",le(ge(A))]})},{key:"volumeAkhir",header:"Vol. Akhir (L)",render:A=>s.jsx("span",{className:"font-bold text-dark-900 dark:text-white",children:le(ge(A))})},{key:"keterangan",header:"Keterangan"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Perta (BBM)"}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan bakar"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.plant)==="ALL"&&s.jsx(et,{value:N,onChange:A=>S(A.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),G&&s.jsxs(ve,{onClick:ue,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stock Saat Ini"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[le(me)," L"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pengisian"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:["+",le(Te.pengisian)," L"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pemakaian"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:["-",le(Te.pemakaian)," L"]})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:he.length})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Pemakaian BBM - Tahun ",w]}),s.jsx(et,{value:w,onChange:A=>k(A.target.value),options:bTe,className:"w-32"})]})}),s.jsx(Ir,{data:he,columns:Ce,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, shift, jenis BBM, keterangan...",searchKeys:["tanggal","shift","jenisBBM","volumeAwal","volumePengisian","volumePemakaian","volumeAkhir","keterangan"],actions:re?void 0:A=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),q(A.id||""),Q(!0)},title:"Lihat Log Aktivitas",children:s.jsx(Et,{className:"h-4 w-4 text-gray-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),R(A)},children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),J(A.id)},children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})})]}),s.jsx(xt,{isOpen:c,onClose:()=>{u(!1),v(Yd),m(null)},title:g?"Edit Data BBM":"Tambah Data BBM",size:"md",children:s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:y.tanggal,onChange:A=>v(B=>({...B,tanggal:A.target.value})),required:!0}),s.jsx(et,{label:"Shift",value:y.shift,onChange:A=>v(B=>({...B,shift:A.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0})]}),s.jsx(et,{label:"Jenis BBM",value:y.jenisBBM,onChange:A=>v(B=>({...B,jenisBBM:A.target.value})),options:L,required:!0}),s.jsx(Ee,{label:"Volume Awal (Liter)",type:"number",value:y.volumeAwal||"",onChange:A=>v(B=>({...B,volumeAwal:parseFloat(A.target.value)||0})),placeholder:"0",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Volume Pengisian (Liter)",type:"number",value:y.volumePengisian||"",onChange:A=>v(B=>({...B,volumePengisian:parseFloat(A.target.value)||0})),placeholder:"0"}),s.jsx(Ee,{label:"Volume Pemakaian (Liter)",type:"number",value:y.volumePemakaian||"",onChange:A=>v(B=>({...B,volumePemakaian:parseFloat(A.target.value)||0})),placeholder:"0",required:!0})]}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-dark-600 font-medium",children:"Volume Akhir:"}),s.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[le(y.volumeAkhir||0)," Liter"]})]})}),s.jsx(Ee,{label:"Keterangan",type:"text",value:y.keterangan,onChange:A=>v(B=>({...B,keterangan:A.target.value})),placeholder:"Keterangan tambahan"}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{u(!1),v(Yd),m(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:d,onClose:()=>{f(!1),b(null)},onConfirm:Ne,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),s.jsx(jn,{isOpen:T,onClose:()=>{P(!1),C(null),b(null)},onSubmit:xe,action:_,itemName:"data perta",loading:o}),s.jsx(jr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),s.jsx(Lr,{isOpen:z,onClose:()=>{Q(!1),q("")},sheetName:"perta",recordId:W,title:"Log Aktivitas Perta (BBM)"})]})},m1=new Date().getFullYear(),kTe=[...Array.from({length:m1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(m1+1),label:String(m1+1)}],Xd={tanggalMulai:dr(),items:[{item:"",deskripsi:""}],tanggalSelesai:"",jumlahHari:0},CO=({plant:e})=>{var se;const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Xd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState(null),[E,C]=j.useState(!1),[z,Q]=j.useState(""),W=D=>{Q(D),C(!0)},[q,re]=j.useState(!1),[G,de]=j.useState("edit"),[ce,U]=j.useState(null),L=Yr((t==null?void 0:t.role)||""),I=sn((t==null?void 0:t.role)||"")&&!L,R=j.useCallback(()=>{if(u&&!l){const D=document.querySelector("form");D&&D.requestSubmit()}},[u,l]);Br(R,u);const J=wn((t==null?void 0:t.role)||""),xe=kn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Y,SHEETS:ee}=await rt(async()=>{const{fetchDataByPlant:ye,SHEETS:Ve}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:ye,SHEETS:Ve}},void 0),te=await Y(ee.PERBAIKAN_TAHUNAN);if(te.success&&te.data){const Ve=te.data.map(be=>({...be,items:typeof be.items=="string"?JSON.parse(be.items):be.items||[]})).sort((be,Pe)=>new Date(Pe.tanggalMulai||0).getTime()-new Date(be.tanggalMulai||0).getTime());o(Ve)}else o([])}catch(Y){console.error("Error fetching data:",Y),o([])}finally{c(!1)}})()},[]),j.useEffect(()=>{if(v.tanggalMulai&&v.tanggalSelesai){const D=new Date(v.tanggalMulai),ee=new Date(v.tanggalSelesai).getTime()-D.getTime(),te=Math.ceil(ee/(1e3*3600*24))+1;w(ye=>({...ye,jumlahHari:te>0?te:0}))}else w(D=>({...D,jumlahHari:0}))},[v.tanggalMulai,v.tanggalSelesai]);const Ne=async D=>{D.preventDefault(),c(!0);try{const Y={...v,items:JSON.stringify(v.items)};if(m){const ee={...Y,id:m,_plant:S},te=await n("perbaikan_tahunan",ee);if(te.success)o(ye=>ye.map(Ve=>Ve.id===m?{...v,id:m,_plant:S}:Ve));else throw new Error(te.error||"Gagal mengupdate data")}else{const ee={...Y,_plant:S},te=await r("perbaikan_tahunan",ee);if(te.success&&te.data){const ye={...v,id:te.data.id,_plant:S};o(Ve=>[ye,...Ve])}else throw new Error(te.error||"Gagal menyimpan data")}d(!1),w(Xd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Y){console.error("Error saving data:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ue=D=>{O(D),P(!0)},he=D=>{if(J){U(D),de("edit"),re(!0);return}w({...D,items:Array.isArray(D.items)?D.items:[{item:"",deskripsi:""}]}),x(D.id||null),d(!0)},Te=D=>{if(xe){y(D),de("delete"),re(!0);return}y(D),h(!0)},me=async D=>{c(!0);try{const{createData:Y,SHEETS:ee}=await rt(async()=>{const{createData:Ve,SHEETS:be}=await Promise.resolve().then(()=>nt);return{createData:Ve,SHEETS:be}},void 0),te={type:"PERBAIKAN_TAHUNAN",action:G,itemId:G==="edit"?ce==null?void 0:ce.id:b,itemData:G==="edit"?ce:i.find(Ve=>Ve.id===b),reason:D,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ye=await Y(ee.APPROVAL_REQUESTS,te);if(ye.success)re(!1),U(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ye.error||"Gagal mengirim permintaan")}catch(Y){console.error("Error submitting approval:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan")}finally{c(!1)}},Ce=async()=>{if(b){c(!0);try{const D=i.find(ee=>ee.id===b),Y=await a("perbaikan_tahunan",{id:b,_plant:(D==null?void 0:D._plant)||S});if(Y.success)o(ee=>ee.filter(te=>te.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Y.error||"Gagal menghapus data")}catch(D){console.error("Error deleting data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ne=()=>{w(Xd),x(null),d(!0)},A=()=>{w(D=>({...D,items:[...D.items,{item:"",deskripsi:""}]}))},B=D=>{v.items.length>1&&w(Y=>({...Y,items:Y.items.filter((ee,te)=>te!==D)}))},H=(D,Y,ee)=>{w(te=>({...te,items:te.items.map((ye,Ve)=>Ve===D?{...ye,[Y]:ee}:ye)}))},ke=i.filter(D=>{const Y=D._plant===S,te=new Date(D.tanggalMulai).getFullYear()===parseInt(k);return Y&&te}),M=ke.reduce((D,Y)=>D+(Y.jumlahHari||0),0),F=[{key:"tanggalMulai",header:"Tanggal Mulai",sortable:!0,render:D=>pt(D)},{key:"tanggalSelesai",header:"Tanggal Selesai",render:D=>D?pt(D):"-"},{key:"items",header:"Item Perbaikan",render:D=>{const Y=D;return!Y||!Array.isArray(Y)?"-":s.jsxs("div",{className:"max-w-xs",children:[Y.slice(0,2).map((ee,te)=>s.jsx("div",{className:"text-sm",children:s.jsx("span",{className:"font-medium",children:ee.item})},te)),Y.length>2&&s.jsxs("span",{className:"text-xs text-dark-400",children:["+",Y.length-2," lainnya"]})]})}},{key:"jumlahHari",header:"Jumlah Hari",render:D=>s.jsxs(Xe,{variant:"primary",children:[D," Hari"]})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Perbaikan Tahunan ",S==="NPK1"?"NPK 1":"NPK 2"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data perbaikan tahunan (PERTA)"})]}),s.jsx("div",{className:"flex items-center gap-3",children:I&&s.jsxs(ve,{onClick:ne,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Perbaikan"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:ke.length})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Hari Perta"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[M," Hari"]})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Perbaikan Tahunan - Tahun ",k]}),s.jsx(et,{value:k,onChange:D=>N(D.target.value),options:kTe,className:"w-32"})]})}),s.jsx(Ir,{data:ke,columns:F,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal mulai, tanggal selesai...",searchKeys:["tanggalMulai","tanggalSelesai","jumlahHari"],actions:D=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),ue(D)},title:"Lihat Detail",children:s.jsx(bs,{className:"h-4 w-4 text-dark-500"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),W(D.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),!L&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),he(D)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),Te(D.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Xd),x(null)},title:m?"Edit Perbaikan Tahunan":"Tambah Perbaikan Tahunan",size:"lg",children:s.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal Mulai Perta",type:"date",value:v.tanggalMulai,onChange:D=>w(Y=>({...Y,tanggalMulai:D.target.value})),required:!0}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700",children:"Item & Deskripsi Perbaikan"}),s.jsxs(ve,{type:"button",variant:"ghost",size:"sm",onClick:A,children:[s.jsx(yz,{className:"h-4 w-4 mr-1"}),"Tambah Item"]})]}),v.items.map((D,Y)=>s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-dark-600",children:["Item ",Y+1]}),v.items.length>1&&s.jsx(ve,{type:"button",variant:"ghost",size:"icon",onClick:()=>B(Y),className:"h-6 w-6",children:s.jsx(mz,{className:"h-4 w-4 text-red-500"})})]}),s.jsx(Ee,{type:"text",value:D.item,onChange:ee=>H(Y,"item",ee.target.value),placeholder:"Nama item perbaikan",required:!0}),s.jsx("textarea",{value:D.deskripsi,onChange:ee=>H(Y,"deskripsi",ee.target.value),placeholder:"Deskripsi perbaikan...",className:"input-field min-h-[80px]",required:!0})]},Y))]}),s.jsx(Ee,{label:"Tanggal Selesai Perta",type:"date",value:v.tanggalSelesai,onChange:D=>w(Y=>({...Y,tanggalSelesai:D.target.value}))}),s.jsx("div",{className:"p-4 bg-primary-50 rounded-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-dark-600 font-medium",children:"Jumlah Hari Perta:"}),s.jsxs(Xe,{variant:"primary",className:"text-lg px-4",children:[v.jumlahHari," Hari"]})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Xd),x(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),s.jsx(xt,{isOpen:T,onClose:()=>{P(!1),O(null)},title:"Detail Perbaikan Tahunan",size:"lg",children:_&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Perbaikan Tahunan (PERTA)"}),s.jsx("h2",{className:"text-2xl font-bold mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),s.jsx("div",{className:"text-right",children:s.jsxs(Xe,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:[_.jumlahHari," Hari"]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(gi,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Mulai"}),s.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:pt(_.tanggalMulai)})]})]})}),s.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(Dc,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Selesai"}),s.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:_.tanggalSelesai?pt(_.tanggalSelesai):"-"})]})]})})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(wi,{className:"h-5 w-5 text-primary-600"}),s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Item Perbaikan"}),s.jsxs(Xe,{variant:"primary",className:"ml-auto",children:[((se=_.items)==null?void 0:se.length)||0," Item"]})]}),s.jsx("div",{className:"space-y-3",children:_.items&&_.items.map((D,Y)=>s.jsx("div",{className:"bg-white dark:bg-dark-700 rounded-xl p-4 border border-dark-200 dark:border-dark-600 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-bold text-sm",children:Y+1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-dark-900 dark:text-white mb-1",children:D.item}),s.jsx("p",{className:"text-dark-600 dark:text-dark-300 text-sm leading-relaxed",children:D.deskripsi})]})]})},Y))})]}),s.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-200 dark:bg-amber-800 rounded-lg",children:s.jsx(To,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Total Durasi Perbaikan"}),s.jsxs("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:[_.jumlahHari," Hari"]})]})]}),s.jsx(_z,{className:"h-12 w-12 text-amber-300 dark:text-amber-700"})]})}),s.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:s.jsx(ve,{variant:"secondary",onClick:()=>{P(!1),O(null)},children:"Tutup"})})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Ce,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data perbaikan tahunan ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:q,onClose:()=>{re(!1),U(null),y(null)},onSubmit:me,action:G,itemName:"perbaikan tahunan",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(Lr,{isOpen:E,onClose:()=>{C(!1),Q("")},sheetName:S==="NPK1"?"perbaikan_tahunan_NPK1":"perbaikan_tahunan",recordId:z,title:"Log Aktivitas Perbaikan Tahunan"})]})},g1=new Date().getFullYear(),jTe=[...Array.from({length:g1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(g1+1),label:String(g1+1)}],Jd={nomorBerkas:"",tanggal:dr(),tanggalKejadian:dr(),shift:"1",waktuKejadian:"",kodePeralatan:"",area:"",deskripsiMasalah:"",penyebab:"",tindakan:"",status:"Open",pic:"",targetSelesai:"",keterangan:""},DO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Jd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState(null),[E,C]=j.useState(!1),[z,Q]=j.useState(""),W=D=>{Q(D),C(!0)},[q,re]=j.useState(!1),[G,de]=j.useState("edit"),[ce,U]=j.useState(null),L=(t==null?void 0:t.role)||"",I=sn(L),R=j.useCallback(()=>{if(u&&!l){const D=document.querySelector("form");D&&D.requestSubmit()}},[u,l]);Br(R,u);const J=wn(L),xe=kn(L),Ne=Yr(L),ue=[{value:"Granulator",label:"Granulator"},{value:"Dryer",label:"Dryer"},{value:"Cooler",label:"Cooler"},{value:"Screening",label:"Screening"},{value:"Coater",label:"Coater"},{value:"Bagging",label:"Bagging"},{value:"Utility",label:"Utility"},{value:"Conveyor",label:"Conveyor"},{value:"Bucket Elevator",label:"Bucket Elevator"},{value:"Control Room",label:"Control Room"},{value:"Furnace",label:"Furnace"},{value:"Scrubbing System",label:"Scrubbing System"},{value:"Lainnya",label:"Lainnya"}],he=[{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Y,SHEETS:ee}=await rt(async()=>{const{fetchDataByPlant:ye,SHEETS:Ve}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:ye,SHEETS:Ve}},void 0),te=await Y(ee.TROUBLE_RECORD);if(te.success&&te.data){const ye=[...te.data].sort((Ve,be)=>new Date(be.tanggal||"").getTime()-new Date(Ve.tanggal||"").getTime());o(ye)}else o([])}catch(Y){console.error("Error fetching data:",Y),o([])}finally{c(!1)}})()},[]);const Te=async D=>{D.preventDefault(),c(!0);try{if(m){const Y={...v,id:m,_plant:S},ee=await n(Gr.TROUBLE_RECORD,Y);if(ee.success)o(te=>te.map(ye=>ye.id===m?{...v,id:m,_plant:S}:ye));else throw new Error(ee.error||"Gagal mengupdate data")}else{const Y={...v,_plant:S},ee=await r(Gr.TROUBLE_RECORD,Y);if(ee.success&&ee.data){const te={...ee.data,_plant:S};o(ye=>[te,...ye])}else throw new Error(ee.error||"Gagal menyimpan data")}d(!1),w(Jd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Y){console.error("Error saving data:",Y),alert(Y instanceof Error?Y.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},me=D=>{O(D),P(!0)},Ce=D=>{if(J){U(D),de("edit"),re(!0);return}w(D),x(D.id||null),d(!0)},ne=D=>{if(xe){const Y=i.find(ee=>ee.id===D);Y&&(U(Y),de("delete"),re(!0));return}y(D),h(!0)},A=async D=>{if(!(!ce||!t)){c(!0);try{const{createData:Y,SHEETS:ee}=await rt(async()=>{const{createData:Ve,SHEETS:be}=await Promise.resolve().then(()=>nt);return{createData:Ve,SHEETS:be}},void 0),te={type:"trouble_record",action:G,itemId:ce.id,itemData:ce,targetSheet:S==="NPK1"?"trouble_record_NPK1":"trouble_record",reason:D,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ye=await Y(ee.APPROVAL_REQUESTS,te);if(ye.success)re(!1),U(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ye.error||"Gagal mengirim permintaan")}catch(Y){console.error("Error submitting approval:",Y),alert(Y instanceof Error?Y.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},B=async()=>{if(b){c(!0);try{const D=i.find(ee=>ee.id===b),Y=await a(Gr.TROUBLE_RECORD,{id:b,_plant:(D==null?void 0:D._plant)||S});if(Y.success)o(ee=>ee.filter(te=>te.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Y.error||"Gagal menghapus data")}catch(D){console.error("Error deleting data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},H=()=>{w(Jd),x(null),d(!0)},ke=i.filter(D=>{const Y=D._plant===S,te=new Date(D.tanggal||"").getFullYear()===parseInt(k);return Y&&te}),M={open:ke.filter(D=>D.status==="Open").length,progress:ke.filter(D=>D.status==="In Progress").length,closed:ke.filter(D=>D.status==="Closed").length,pending:ke.filter(D=>D.status==="Pending").length},F=D=>{switch(D){case"Open":return"danger";case"In Progress":return"warning";case"Closed":return"success";case"Pending":return"info";default:return"default"}},se=[{key:"tanggal",header:"Tanggal",sortable:!0,render:D=>pt(D)},{key:"shift",header:"Shift",render:D=>s.jsxs(Xe,{variant:"primary",children:["Shift ",D]})},{key:"waktuKejadian",header:"Waktu",render:D=>aa(D)},{key:"area",header:"Area",render:D=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bm,{className:"h-4 w-4 text-dark-400"}),s.jsx("span",{className:"font-medium",children:D})]})},{key:"deskripsiMasalah",header:"Deskripsi Masalah",render:D=>s.jsx("span",{className:"line-clamp-2 max-w-xs",children:D})},{key:"pic",header:"PIC"},{key:"status",header:"Status",render:D=>s.jsx(Xe,{variant:F(D),children:D})},{key:"targetSelesai",header:"Target",render:D=>pt(D)}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Trouble Record ",S==="NPK1"?"NPK 1":"NPK 2"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Catatan masalah dan tindak lanjut"})]}),s.jsx("div",{className:"flex items-center gap-3",children:I&&s.jsxs(ve,{onClick:H,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Catat Trouble"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4 border-l-4 border-l-red-500",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Open"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:M.open})]}),s.jsxs(Me,{className:"p-3 sm:p-4 border-l-4 border-l-amber-500",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"In Progress"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:M.progress})]}),s.jsxs(Me,{className:"p-3 sm:p-4 border-l-4 border-l-green-500",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Closed"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:M.closed})]}),s.jsxs(Me,{className:"p-3 sm:p-4 border-l-4 border-l-gray-500",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Pending"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-600 dark:text-gray-400",children:M.pending})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Data Trouble Record - Tahun ",k]}),s.jsx(et,{value:k,onChange:D=>N(D.target.value),options:jTe,className:"w-32"})]})}),s.jsx(Ir,{data:ke,columns:se,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor berkas, area, masalah, PIC...",searchKeys:["tanggal","nomorBerkas","area","deskripsiMasalah","penyebab","tindakan","status","pic"],actions:D=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),me(D)},title:"Lihat Detail",children:s.jsx(bs,{className:"h-4 w-4 text-dark-500"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),W(D.id)},title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),!Ne&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),Ce(D)},title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),ne(D.id)},title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]})]})})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Jd),x(null)},title:m?"Edit Trouble Record":"Catat Trouble Baru",size:"lg",children:s.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:D=>w(Y=>({...Y,tanggal:D.target.value})),required:!0}),s.jsx(et,{label:"Shift",value:v.shift,onChange:D=>w(Y=>({...Y,shift:D.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0}),s.jsx(Ee,{label:"Waktu Kejadian",type:"time",value:v.waktuKejadian,onChange:D=>w(Y=>({...Y,waktuKejadian:D.target.value})),required:!0})]}),s.jsx(et,{label:"Area",value:v.area,onChange:D=>w(Y=>({...Y,area:D.target.value})),options:ue,placeholder:"Pilih area",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Masalah"}),s.jsx("textarea",{value:v.deskripsiMasalah,onChange:D=>w(Y=>({...Y,deskripsiMasalah:D.target.value})),placeholder:"Jelaskan masalah yang terjadi...",className:"input-field min-h-[80px]",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Penyebab"}),s.jsx("textarea",{value:v.penyebab,onChange:D=>w(Y=>({...Y,penyebab:D.target.value})),placeholder:"Analisa penyebab...",className:"input-field min-h-[60px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tindakan"}),s.jsx("textarea",{value:v.tindakan,onChange:D=>w(Y=>({...Y,tindakan:D.target.value})),placeholder:"Tindakan yang dilakukan/direncanakan...",className:"input-field min-h-[60px]"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(et,{label:"Status",value:v.status,onChange:D=>w(Y=>({...Y,status:D.target.value})),options:he,required:!0}),s.jsx(Ee,{label:"PIC",type:"text",value:v.pic,onChange:D=>w(Y=>({...Y,pic:D.target.value})),placeholder:"Nama PIC",required:!0}),s.jsx(Ee,{label:"Target Selesai",type:"date",value:v.targetSelesai,onChange:D=>w(Y=>({...Y,targetSelesai:D.target.value}))})]}),s.jsx(Ee,{label:"Keterangan",type:"text",value:v.keterangan,onChange:D=>w(Y=>({...Y,keterangan:D.target.value})),placeholder:"Keterangan tambahan"}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Jd),x(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),s.jsx(xt,{isOpen:T,onClose:()=>{P(!1),O(null)},title:"Detail Trouble Record",size:"lg",children:_&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:`rounded-2xl p-6 text-white ${_.status==="Open"?"bg-gradient-to-r from-red-500 to-red-600":_.status==="In Progress"?"bg-gradient-to-r from-amber-500 to-amber-600":_.status==="Closed"?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Trouble Record"}),s.jsx("h2",{className:"text-2xl font-bold mt-1",children:_.area}),s.jsx("p",{className:"text-white/80 text-sm mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),s.jsx(Xe,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:_.status})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gi,{className:"h-4 w-4 text-primary-500"}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal"})]}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:pt(_.tanggal||"")})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(To,{className:"h-4 w-4 text-amber-500"}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Waktu"})]}),s.jsxs("p",{className:"font-semibold text-dark-900 dark:text-white",children:["Shift ",_.shift," - ",aa(_.waktuKejadian)]})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ch,{className:"h-4 w-4 text-blue-500"}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"PIC"})]}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:_.pic||"-"})]}),s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yc,{className:"h-4 w-4 text-green-500"}),s.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Target Selesai"})]}),s.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:_.targetSelesai?pt(_.targetSelesai):"-"})]})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bm,{className:"h-5 w-5 text-red-600"}),s.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300",children:"Deskripsi Masalah"})]}),s.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.deskripsiMasalah||"-"})]}),s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(wi,{className:"h-5 w-5 text-amber-600"}),s.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Analisa Penyebab"})]}),s.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.penyebab||"-"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Dc,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tindakan"})]}),s.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.tindakan||"-"})]}),_.keterangan&&s.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(wi,{className:"h-5 w-5 text-dark-500"}),s.jsx("h3",{className:"font-semibold text-dark-700 dark:text-dark-300",children:"Keterangan Tambahan"})]}),s.jsx("p",{className:"text-dark-600 dark:text-dark-400 leading-relaxed",children:_.keterangan})]}),s.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:s.jsx(ve,{variant:"secondary",onClick:()=>{P(!1),O(null)},children:"Tutup"})})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:B,title:"Hapus Trouble Record",message:"Apakah Anda yakin ingin menghapus record ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:q,onClose:()=>{re(!1),U(null)},onSubmit:A,action:G,itemName:"data trouble record",loading:l}),s.jsx(jr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(Lr,{isOpen:E,onClose:()=>{C(!1),Q("")},sheetName:S==="NPK1"?"trouble_record_NPK1":"trouble_record",recordId:z,title:"Log Aktivitas Trouble Record"})]})};function MO({plant:e}){const{user:t}=Tt(),r=Yr((t==null?void 0:t.role)||""),[n,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(!1),[u,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState({judul:"",keterangan:""}),[S,T]=j.useState(null),[P,_]=j.useState(!1),[O,E]=j.useState(!1),[C,z]=j.useState("environment"),Q=j.useRef(null),W=j.useRef(null),q=j.useRef(null),re=j.useRef(null),G=lM(Gr.DOKUMENTASI_FOTO,e),de=j.useCallback(async()=>{o(!0);try{const A=await sM(G);if(A.success&&A.data){const B=A.data.map(H=>({...H,_plant:e,thumbnailUrl:`https://drive.google.com/thumbnail?id=${H.fileId}&sz=w400`}));B.sort((H,ke)=>new Date(ke.createdAt||ke.tanggal).getTime()-new Date(H.createdAt||H.tanggal).getTime()),a(B)}}catch(A){console.error("Error fetching photos:",A)}finally{o(!1)}},[G,e]);j.useEffect(()=>{de()},[de]),j.useEffect(()=>()=>{re.current&&(re.current.getTracks().forEach(A=>A.stop()),re.current=null)},[]);const ce=j.useCallback(async(A="environment")=>{T(null),_(!1),re.current&&(re.current.getTracks().forEach(B=>B.stop()),re.current=null);try{const B={video:{facingMode:A,width:{ideal:3840,min:1920},height:{ideal:2160,min:1080},frameRate:{ideal:30,min:24},aspectRatio:{ideal:1.7777777777777777}},audio:!1};let H;try{H=await navigator.mediaDevices.getUserMedia(B)}catch{console.log("High quality not supported, falling back to standard"),H=await navigator.mediaDevices.getUserMedia({video:{facingMode:A,width:{ideal:1920},height:{ideal:1080}},audio:!1})}re.current=H,Q.current&&(Q.current.srcObject=H,_(!0))}catch(B){console.error("Camera error:",B),B instanceof Error&&(B.name==="NotAllowedError"?T("Akses kamera ditolak. Mohon izinkan akses kamera di pengaturan browser."):B.name==="NotFoundError"?T("Kamera tidak ditemukan. Pastikan perangkat memiliki kamera."):B.name==="NotReadableError"?T("Kamera sedang digunakan aplikasi lain. Tutup aplikasi lain dan coba lagi."):T(`Error: ${B.message}`))}},[]),U=j.useCallback(()=>{const A=C==="environment"?"user":"environment";z(A),ce(A)},[C,ce]),L=j.useCallback(()=>{re.current&&(re.current.getTracks().forEach(A=>A.stop()),re.current=null),Q.current&&(Q.current.srcObject=null),_(!1)},[]),I=j.useCallback(()=>{if(!Q.current||!W.current)return;const A=Q.current,B=W.current,H=B.getContext("2d");if(!H)return;const ke=A.videoWidth,M=A.videoHeight;B.width=ke,B.height=M,H.imageSmoothingEnabled=!0,H.imageSmoothingQuality="high",H.drawImage(A,0,0,ke,M);const F=B.toDataURL("image/jpeg",.95);w(F),L()},[L]),R=j.useCallback(()=>{h(!1),E(!0)},[]),J=j.useCallback(A=>{var ke;const B=(ke=A.target.files)==null?void 0:ke[0];if(!B)return;if(B.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}const H=new FileReader;H.onload=M=>{var se;const F=(se=M.target)==null?void 0:se.result;w(F),L(),h(!1),E(!0)},H.readAsDataURL(B),A.target.value=""},[L]),xe=()=>{w(null),N({judul:"",keterangan:""}),T(null),_(!1),h(!0)};j.useEffect(()=>{let A=!0;if(f&&!v){const B=setTimeout(()=>{A&&ce(C)},200);return()=>{A=!1,clearTimeout(B)}}return()=>{A=!1}},[f,v,C,ce]);const Ne=j.useCallback(()=>{L(),w(null),N({judul:"",keterangan:""}),T(null),h(!1),E(!1)},[L]),ue=j.useCallback(()=>{w(null),ce(C)},[C,ce]),he=async()=>{if(!v||!k.judul.trim()){alert("Judul foto harus diisi!");return}c(!0);try{const A=`${k.judul.replace(/[^a-zA-Z0-9-_]/g,"_")}_${Date.now()}.jpg`,B=await cM({judul:k.judul.trim(),keterangan:k.keterangan.trim(),imageBase64:v,fileName:A,uploadBy:(t==null?void 0:t.username)||(t==null?void 0:t.nama)||"unknown",plant:e});B.success?(alert("Foto berhasil diupload!"),Ne(),de()):alert(`Gagal upload: ${B.error}`)}catch(A){console.error("Upload error:",A),alert("Terjadi kesalahan saat upload foto")}finally{c(!1)}},Te=async()=>{if(!(!(b!=null&&b.id)||!(b!=null&&b.fileId))){c(!0);try{const A=await uM({id:b.id,fileId:b.fileId,plant:e});A.success?(alert("Foto berhasil dihapus!"),x(!1),y(null),de()):alert(`Gagal menghapus: ${A.error}`)}catch(A){console.error("Delete error:",A),alert("Terjadi kesalahan saat menghapus foto")}finally{c(!1)}}},me=A=>{y(A),g(!0)},ne=n.filter(A=>{var H,ke,M,F,se;const B=u.toLowerCase();return((H=A.judul)==null?void 0:H.toLowerCase().includes(B))||((ke=A.keterangan)==null?void 0:ke.toLowerCase().includes(B))||((M=A.uploadBy)==null?void 0:M.toLowerCase().includes(B))||((F=A.tanggal)==null?void 0:F.includes(u))||((se=A.kategori)==null?void 0:se.toLowerCase().includes(B))}).reduce((A,B)=>{const H=B.judul||"Lainnya";return A[H]||(A[H]=[]),A[H].push(B),A},{});return s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dokumentasi Foto"}),s.jsxs("p",{className:"text-gray-600",children:["Plant ",e," - ",n.length," foto"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(wx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Ee,{type:"text",placeholder:"Cari judul, kategori, keterangan, uploader...",value:u,onChange:A=>d(A.target.value),className:"pl-10 w-full sm:w-80"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ve,{variant:"outline",onClick:de,disabled:i,className:"flex-1 sm:flex-none",children:[s.jsx(gl,{className:Ge("h-4 w-4 mr-2",i&&"animate-spin")}),"Refresh"]}),!r&&s.jsxs(ve,{onClick:xe,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[s.jsx(lP,{className:"h-4 w-4 mr-2"}),"Ambil Foto"]})]})]})]}),i&&s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Tm,{})}),!i&&n.length===0&&s.jsxs(Me,{className:"p-12 text-center",children:[s.jsx(pP,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Foto"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Mulai dokumentasi dengan mengambil foto pertama"}),!r&&s.jsxs(ve,{onClick:xe,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(lP,{className:"h-4 w-4 mr-2"}),"Ambil Foto Sekarang"]})]}),!i&&Object.keys(ne).length>0&&s.jsx("div",{className:"space-y-8",children:Object.entries(ne).map(([A,B])=>{var H;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(uz,{className:"h-5 w-5 text-yellow-500"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:A}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",B.length," foto)"]}),((H=B[0])==null?void 0:H.folderUrl)&&s.jsxs("a",{href:B[0].folderUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[s.jsx(fP,{className:"h-4 w-4"}),"Buka Folder"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:B.map(ke=>s.jsxs(qt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>me(ke),children:[s.jsx("img",{src:ke.thumbnailUrl,alt:ke.judul,className:"w-full h-full object-cover",loading:"lazy",onError:M=>{M.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'/%3E%3C/svg%3E"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[s.jsx("p",{className:"text-white text-xs truncate",children:ke.tanggal}),ke.keterangan&&s.jsx("p",{className:"text-white/80 text-xs truncate",children:ke.keterangan})]})}),s.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ez,{className:"h-5 w-5 text-white drop-shadow-lg"})})]},ke.id))})]},A)})}),f&&s.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[s.jsx("canvas",{ref:W,style:{display:"none"}}),s.jsx("input",{ref:q,type:"file",accept:"image/*",onChange:J,style:{display:"none"}}),v?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:v,alt:"Captured",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black"}}),s.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[s.jsx("button",{onClick:Ne,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:s.jsx(qa,{size:24})}),s.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Preview Foto"}),s.jsx("div",{style:{width:"48px"}})]}),s.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"48px"},children:[s.jsxs("button",{onClick:ue,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[s.jsx("div",{style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)"},children:s.jsx(gy,{size:28})}),s.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Ulangi"})]}),s.jsxs("button",{onClick:R,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[s.jsx("div",{style:{padding:"20px",borderRadius:"50%",backgroundColor:"#22c55e"},children:s.jsx(oz,{size:40})}),s.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Gunakan Foto"})]})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:Q,autoPlay:!0,playsInline:!0,muted:!0,onCanPlay:()=>_(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transform:C==="user"?"scaleX(-1)":"none"}}),s.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[s.jsx("button",{onClick:Ne,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:s.jsx(qa,{size:24})}),s.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Ambil Foto"}),s.jsx("button",{onClick:U,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:s.jsx(gy,{size:24})})]}),!P&&!S&&s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",zIndex:20},children:s.jsxs("div",{style:{textAlign:"center",color:"white"},children:[s.jsx(Tm,{}),s.jsx("p",{style:{marginTop:"8px"},children:"Memuat kamera..."})]})}),S&&s.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black",zIndex:20},children:s.jsxs("div",{style:{textAlign:"center",color:"white",padding:"24px",maxWidth:"320px"},children:[s.jsx(bm,{size:64,style:{margin:"0 auto 16px",color:"#f87171"}}),s.jsx("p",{style:{marginBottom:"24px",fontSize:"18px"},children:S}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[s.jsxs(ve,{onClick:()=>ce(),className:"bg-white text-black hover:bg-gray-200",children:[s.jsx(gl,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]}),s.jsxs(ve,{variant:"outline",onClick:()=>{var A;return(A=q.current)==null?void 0:A.click()},className:"text-white border-white hover:bg-white/10",children:[s.jsx(xP,{className:"h-4 w-4 mr-2"}),"Pilih dari Galeri"]})]})]})}),P&&s.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"32px"},children:[s.jsx("button",{onClick:()=>{var A;return(A=q.current)==null?void 0:A.click()},style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"none",cursor:"pointer"},children:s.jsx(pP,{size:28})}),s.jsx("button",{onClick:I,style:{padding:"4px",borderRadius:"50%",backgroundColor:"white",border:"none",cursor:"pointer"},children:s.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"50%",border:"4px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"}})})}),s.jsx("div",{style:{width:"60px"}})]})})]})]}),s.jsx(No,{children:O&&v&&s.jsx(xt,{isOpen:O,onClose:Ne,title:"Upload Foto",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover"}),s.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{E(!1),h(!0),ue()},className:"absolute bottom-2 right-2 bg-white/90 hover:bg-white",children:[s.jsx(gy,{className:"h-4 w-4 mr-1"}),"Ganti Foto"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Judul / Nama Folder ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ee,{type:"text",placeholder:"Contoh: C2-L-001",value:k.judul,onChange:A=>N({...k,judul:A.target.value}),className:"w-full"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Foto akan disimpan di folder sesuai judul ini"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keterangan"}),s.jsx("textarea",{placeholder:"Deskripsi foto (opsional)",value:k.keterangan,onChange:A=>N({...k,keterangan:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(ve,{variant:"outline",onClick:Ne,className:"flex-1",disabled:l,children:"Batal"}),s.jsx(ve,{onClick:he,disabled:l||!k.judul.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(gl,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xP,{className:"h-4 w-4 mr-2"}),"Upload Foto"]})})]})]})]})})}),s.jsx(No,{children:p&&b&&s.jsx(xt,{isOpen:p,onClose:()=>{g(!1),y(null)},title:b.judul,size:"xl",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:s.jsx("img",{src:`https://drive.google.com/thumbnail?id=${b.fileId}&sz=w1200`,alt:b.judul,className:"w-full max-h-[60vh] object-contain"})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Tanggal:"}),s.jsx("span",{className:"font-medium",children:b.tanggal})]}),b.keterangan&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Keterangan:"}),s.jsx("span",{className:"font-medium",children:b.keterangan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Diupload oleh:"}),s.jsx("span",{className:"font-medium",children:b.uploadBy})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("a",{href:b.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:s.jsxs(ve,{variant:"outline",className:"w-full",children:[s.jsx(fP,{className:"h-4 w-4 mr-2"}),"Buka di Drive"]})}),s.jsx("a",{href:`https://drive.google.com/uc?export=download&id=${b.fileId}`,download:!0,className:"flex-1",children:s.jsxs(ve,{variant:"outline",className:"w-full",children:[s.jsx(bx,{className:"h-4 w-4 mr-2"}),"Download"]})}),!r&&s.jsx(ve,{variant:"outline",onClick:()=>{g(!1),x(!0)},className:"text-red-600 border-red-300 hover:bg-red-50",children:s.jsx(ur,{className:"h-4 w-4"})})]})]})})}),s.jsx(No,{children:m&&b&&s.jsx(xt,{isOpen:m,onClose:()=>{x(!1),y(null)},title:"Hapus Foto",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(ur,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:"Apakah Anda yakin ingin menghapus foto ini?"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Foto "',b.judul,'" akan dihapus dari Google Drive. Tindakan ini tidak dapat dibatalkan.']})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ve,{variant:"outline",onClick:()=>{x(!1),y(null)},className:"flex-1",disabled:l,children:"Batal"}),s.jsx(ve,{onClick:Te,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(gl,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ur,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})})})]})}const STe=[{value:"all",label:"Semua Bulan"},{value:"0",label:"Januari"},{value:"1",label:"Februari"},{value:"2",label:"Maret"},{value:"3",label:"April"},{value:"4",label:"Mei"},{value:"5",label:"Juni"},{value:"6",label:"Juli"},{value:"7",label:"Agustus"},{value:"8",label:"September"},{value:"9",label:"Oktober"},{value:"10",label:"November"},{value:"11",label:"Desember"}],NTe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],x1=new Date().getFullYear(),TTe=[{value:"all",label:"Semua Tahun"},...Array.from({length:x1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(x1+1),label:String(x1+1)}],Zd={tanggal:dr(),namaAlatBerat:"",pengajuanSolar:0,realisasiPengisian:0,keterangan:""},RO=({plant:e})=>{const{user:t}=Tt(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Jr(),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Zd),[k,N]=j.useState("all"),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),O=e,[E,C]=j.useState(!1),[z,Q]=j.useState("edit"),[W,q]=j.useState(null),[re,G]=j.useState(!1),[de,ce]=j.useState(""),U=M=>{ce(M),G(!0)},L=Yr((t==null?void 0:t.role)||""),I=sn((t==null?void 0:t.role)||"")&&!L,R=j.useCallback(()=>{if(u&&!l){const M=document.querySelector("form");M&&M.requestSubmit()}},[u,l]);Br(R,u);const J=g2((t==null?void 0:t.role)||""),xe=x2((t==null?void 0:t.role)||""),Ne=wn((t==null?void 0:t.role)||""),ue=kn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:F,SHEETS:se}=await rt(async()=>{const{fetchDataByPlant:Y,SHEETS:ee}=await Promise.resolve().then(()=>nt);return{fetchDataByPlant:Y,SHEETS:ee}},void 0),D=await F(se.REKAP_BBM);if(D.success&&D.data){const Y=[...D.data].sort((ee,te)=>new Date(te.tanggal).getTime()-new Date(ee.tanggal).getTime());o(Y)}else o([])}catch(F){console.error("Error fetching data:",F),o([])}finally{c(!1)}})()},[]);const he=async M=>{M.preventDefault(),c(!0);try{if(m){const F={...v,id:m,_plant:O};(await n("rekap_bbm",F)).success&&o(D=>D.map(Y=>Y.id===m?{...F}:Y))}else{const F={...v,_plant:O},se=await r("rekap_bbm",F);se.success&&se.data&&o(D=>[se.data,...D])}g(!0),d(!1),x(null),w(Zd)}catch(F){console.error("Error saving data:",F)}finally{c(!1)}},Te=M=>{L||(J?(w(M),x(M.id||null),d(!0)):Ne&&(q(M),Q("edit"),C(!0)))},me=M=>{if(!L){if(xe)y(M),h(!0);else if(ue){const F=i.find(se=>se.id===M);F&&(q(F),Q("delete"),C(!0))}}},Ce=async()=>{if(b){c(!0);try{const M=i.find(se=>se.id===b);(await a("rekap_bbm",{id:b,_plant:(M==null?void 0:M._plant)||O})).success&&(o(se=>se.filter(D=>D.id!==b)),g(!0))}catch(M){console.error("Error deleting data:",M)}finally{c(!1),h(!1),y(null)}}},ne=async M=>{if(W){c(!0);try{const{createData:F,SHEETS:se}=await rt(async()=>{const{createData:Y,SHEETS:ee}=await Promise.resolve().then(()=>nt);return{createData:Y,SHEETS:ee}},void 0),D={type:z,dataType:"rekap_bbm",dataId:W.id,plant:O,requestBy:t==null?void 0:t.username,requestByName:(t==null?void 0:t.namaLengkap)||(t==null?void 0:t.nama),reason:M,data:JSON.stringify(W),status:"pending",createdAt:new Date().toISOString()};await F(se.APPROVAL_REQUESTS,D),g(!0)}catch(F){console.error("Error creating approval request:",F)}finally{c(!1),C(!1),q(null)}}},A=j.useMemo(()=>i.filter(M=>!(M._plant!==O||S!=="all"&&new Date(M.tanggal).getFullYear()!==parseInt(S)||k!=="all"&&new Date(M.tanggal).getMonth()!==parseInt(k))),[i,O,k,S]),B=j.useMemo(()=>{const M=A.reduce((Y,ee)=>Y+(ee.pengajuanSolar||0),0),F=A.reduce((Y,ee)=>Y+(ee.realisasiPengisian||0),0),se=F-M,D=A.length;return{totalPengajuan:M,totalRealisasi:F,totalSelisih:se,totalRecord:D}},[A]),H=[{key:"tanggal",header:"Tanggal",render:(M,F)=>pt(F.tanggal),sortable:!0},{key:"namaAlatBerat",header:"Nama Alat Berat",sortable:!0},{key:"pengajuanSolar",header:"Pengajuan Solar (L)",render:(M,F)=>le(F.pengajuanSolar),sortable:!0},{key:"realisasiPengisian",header:"Realisasi Pengisian (L)",render:(M,F)=>le(F.realisasiPengisian),sortable:!0},{key:"selisih",header:"Selisih (L)",render:(M,F)=>{const se=F.realisasiPengisian-F.pengajuanSolar,D=se>=0?"text-green-600":"text-red-600";return s.jsx("span",{className:D,children:le(se)})},sortable:!1},{key:"keterangan",header:"Keterangan",render:(M,F)=>F.keterangan||"-"}],ke=M=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>U(M.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4"})}),!L&&(J||Ne)&&s.jsx("button",{onClick:()=>Te(M),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:Ne?"Ajukan Edit":"Edit",children:s.jsx(gr,{className:"h-4 w-4"})}),!L&&(xe||ue)&&s.jsx("button",{onClick:()=>me(M.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:ue?"Ajukan Hapus":"Hapus",children:s.jsx(ur,{className:"h-4 w-4"})})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 rounded-xl p-3 sm:p-4 border border-amber-200 dark:border-amber-800",children:[s.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-amber-700 dark:text-amber-300 uppercase tracking-wider",children:"Total Pengajuan"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-900 dark:text-amber-100",children:le(B.totalPengajuan)}),s.jsx("p",{className:"text-[10px] sm:text-xs text-amber-600 dark:text-amber-400",children:"Liter"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 rounded-xl p-3 sm:p-4 border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Total Realisasi"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900 dark:text-blue-100",children:le(B.totalRealisasi)}),s.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 dark:text-blue-400",children:"Liter"})]}),s.jsxs("div",{className:`bg-gradient-to-br rounded-xl p-3 sm:p-4 border ${B.totalSelisih>=0?"from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-900/20 border-green-200 dark:border-green-800":"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20 border-red-200 dark:border-red-800"}`,children:[s.jsx("p",{className:`text-[10px] sm:text-xs font-medium uppercase tracking-wider ${B.totalSelisih>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"Total Selisih"}),s.jsxs("p",{className:`text-lg sm:text-2xl font-bold ${B.totalSelisih>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:[B.totalSelisih>=0?"+":"",le(B.totalSelisih)]}),s.jsxs("p",{className:`text-[10px] sm:text-xs ${B.totalSelisih>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Liter"," ",B.totalSelisih>=0?"(Surplus)":"(Defisit)"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900/30 dark:to-slate-900/20 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700",children:[s.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Total Record"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-900 dark:text-slate-100",children:B.totalRecord}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400",children:[S==="all"?"Semua tahun":`Tahun ${S}`,k!=="all"&&`, ${NTe[parseInt(k)]}`]})]})]}),s.jsxs(Me,{children:[s.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:s.jsx(K2,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsx(Nt,{children:"Rekap Pengajuan BBM Alat Berat"}),s.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:["Plant ",O," - Data pengajuan dan realisasi BBM"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{value:S,onChange:M=>T(M.target.value),options:TTe,className:"w-32"}),s.jsx(et,{value:k,onChange:M=>N(M.target.value),options:STe,className:"w-40"}),s.jsxs(ve,{variant:"secondary",onClick:()=>_(!0),className:"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20",children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),I&&s.jsxs(ve,{onClick:()=>{w(Zd),x(null),d(!0)},children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsx(Ir,{data:A,columns:H,actions:ke,loading:l,emptyMessage:"Tidak ada data rekap BBM",searchable:!0,searchPlaceholder:"Cari tanggal, nama alat berat, keterangan...",searchKeys:["tanggal","namaAlatBerat","pengajuanSolar","realisasiPengisian","keterangan"]})]}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),x(null),w(Zd)},title:m?"Edit Data BBM":"Tambah Data BBM",size:"md",children:s.jsxs("form",{onSubmit:he,className:"space-y-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:v.tanggal,onChange:M=>w({...v,tanggal:M.target.value}),required:!0}),s.jsx(Ee,{label:"Nama Alat Berat",placeholder:"Contoh: Forklift 1, Loader A, dll",value:v.namaAlatBerat,onChange:M=>w({...v,namaAlatBerat:M.target.value}),required:!0}),s.jsx(Ee,{label:"Pengajuan Solar (Liter)",type:"text",placeholder:"0",value:v.pengajuanSolar?le(v.pengajuanSolar):"",onChange:M=>w({...v,pengajuanSolar:ge(M.target.value)}),required:!0}),s.jsx(Ee,{label:"Realisasi Pengisian (Liter)",type:"text",placeholder:"0",value:v.realisasiPengisian?le(v.realisasiPengisian):"",onChange:M=>w({...v,realisasiPengisian:ge(M.target.value)}),required:!0}),s.jsx(Ee,{label:"Keterangan",placeholder:"Keterangan tambahan (opsional)",value:v.keterangan||"",onChange:M=>w({...v,keterangan:M.target.value})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{d(!1),x(null),w(Zd)},children:"Batal"}),s.jsx(ve,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Ce,title:"Hapus Data BBM",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger",isLoading:l}),s.jsx(jn,{isOpen:E,onClose:()=>{C(!1),q(null)},onSubmit:ne,action:z,itemName:(W==null?void 0:W.namaAlatBerat)||"",loading:l}),s.jsx(jr,{isVisible:p,message:m?"Data berhasil diupdate!":b?"Data berhasil dihapus!":"Data berhasil disimpan!",onClose:()=>g(!1)}),s.jsx(Jz,{isOpen:P,onClose:()=>_(!1),data:A,plant:O}),s.jsx(Lr,{isOpen:re,onClose:()=>{G(!1),ce("")},sheetName:O==="NPK1"?"rekap_bbm_NPK1":"rekap_bbm",recordId:de,title:"Log Aktivitas Rekap BBM"})]})},v1=new Date().getFullYear(),PTe=[...Array.from({length:v1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(v1+1),label:String(v1+1)}],kp={tanggal:dr(),area:"",ujiPenambahan10:0,ujiPenambahan20:0,ujiPenambahan30:0,ujiPenambahan40:0,ujiPenambahan50:0,ujiPengurangan50:0,ujiPengurangan40:0,ujiPengurangan30:0,ujiPengurangan20:0,ujiPengurangan10:0},jp={ujiPenambahan10:"",ujiPenambahan20:"",ujiPenambahan30:"",ujiPenambahan40:"",ujiPenambahan50:"",ujiPengurangan50:"",ujiPengurangan40:"",ujiPengurangan30:"",ujiPengurangan20:"",ujiPengurangan10:""},_Te=()=>{const{user:e}=Tt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Jr(),[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(!1),[w,k]=j.useState(""),N=be=>{k(be),v(!0)},[S,T]=j.useState(null),[P,_]=j.useState(null),[O,E]=j.useState(kp),[C,z]=j.useState(jp),[Q,W]=j.useState(""),[q,re]=j.useState(String(new Date().getFullYear())),[G,de]=j.useState(!1),[ce,U]=j.useState("edit"),[L,I]=j.useState(null),R=Yr((e==null?void 0:e.role)||""),J=sn((e==null?void 0:e.role)||"")&&!R,xe=j.useCallback(()=>{if(c&&!o){const be=document.querySelector("form");be&&be.requestSubmit()}},[c,o]);Br(xe,c);const Ne=g2((e==null?void 0:e.role)||""),ue=x2((e==null?void 0:e.role)||""),he=wn((e==null?void 0:e.role)||""),Te=kn((e==null?void 0:e.role)||""),me=[{value:"NPK 2",label:"NPK 2"},{value:"Blending",label:"Blending"},{value:"NPK Mini",label:"NPK Mini"}],Ce=be=>be==null?"0.00":be.toFixed(2),ne=(be,Pe)=>{const Fe=Pe.replace(",",".");if(Fe===""||/^\d*\.?\d*$/.test(Fe)){z(it=>({...it,[be]:Fe}));const We=Fe===""||Fe==="."?0:parseFloat(Fe)||0;E(it=>({...it,[be]:We}))}},A=()=>{const be=Pe=>parseFloat(Pe.replace(",","."))||0;return{ujiPenambahan10:be(C.ujiPenambahan10),ujiPenambahan20:be(C.ujiPenambahan20),ujiPenambahan30:be(C.ujiPenambahan30),ujiPenambahan40:be(C.ujiPenambahan40),ujiPenambahan50:be(C.ujiPenambahan50),ujiPengurangan50:be(C.ujiPengurangan50),ujiPengurangan40:be(C.ujiPengurangan40),ujiPengurangan30:be(C.ujiPengurangan30),ujiPengurangan20:be(C.ujiPengurangan20),ujiPengurangan10:be(C.ujiPengurangan10)}},B=be=>{const Pe=be.ujiPenambahan10-10,Fe=be.ujiPenambahan20-20,We=be.ujiPenambahan30-30,it=be.ujiPenambahan40-40,lt=be.ujiPenambahan50-50,dt=be.ujiPengurangan50-50,Qe=be.ujiPengurangan40-40,Pt=be.ujiPengurangan30-30,ea=be.ujiPengurangan20-20,_e=be.ujiPengurangan10-10,Be=[Pe,Fe,We,it,lt,dt,Qe,Pt,ea,_e],st=Be.reduce((Er,or)=>Er+Math.abs(or),0),_t=st/Be.length;return{selisihPenambahan10:Pe,selisihPenambahan20:Fe,selisihPenambahan30:We,selisihPenambahan40:it,selisihPenambahan50:lt,selisihPengurangan50:dt,selisihPengurangan40:Qe,selisihPengurangan30:Pt,selisihPengurangan20:ea,selisihPengurangan10:_e,totalSelisih:st,rataRataSelisih:_t}};j.useEffect(()=>{(async()=>{l(!0);try{const{readData:Pe,SHEETS:Fe}=await rt(async()=>{const{readData:it,SHEETS:lt}=await Promise.resolve().then(()=>nt);return{readData:it,SHEETS:lt}},void 0),We=await Pe(Fe.RIKSA_TIMB_PORTABEL);if(We.success&&We.data){const lt=[...We.data.map(dt=>({...dt,...B(dt)}))].sort((dt,Qe)=>new Date(Qe.tanggal).getTime()-new Date(dt.tanggal).getTime());i(lt)}else i([])}catch(Pe){console.error("Error fetching data:",Pe),i([])}finally{l(!1)}})()},[]);const H=async be=>{be.preventDefault(),l(!0);try{const Pe=A(),Fe={...O,...Pe},We=B(Fe),it={...Fe,...We};if(S){const lt={...it,id:S},dt=await r("riksa_timb_portabel",lt);if(dt.success)i(Qe=>Qe.map(Pt=>Pt.id===S?{...it,id:S}:Pt));else throw new Error(dt.error||"Gagal mengupdate data")}else{const lt=await t("riksa_timb_portabel",it);if(lt.success&&lt.data){const dt={...lt.data,...We};i(Qe=>[dt,...Qe])}else throw new Error(lt.error||"Gagal menyimpan data")}u(!1),E(kp),z(jp),T(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(Pe){console.error("Error saving data:",Pe),alert(Pe instanceof Error?Pe.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},ke=be=>{var Pe,Fe,We,it,lt,dt,Qe,Pt,ea,_e;if(he){I(be),U("edit"),de(!0);return}E(be),z({ujiPenambahan10:((Pe=be.ujiPenambahan10)==null?void 0:Pe.toString())||"",ujiPenambahan20:((Fe=be.ujiPenambahan20)==null?void 0:Fe.toString())||"",ujiPenambahan30:((We=be.ujiPenambahan30)==null?void 0:We.toString())||"",ujiPenambahan40:((it=be.ujiPenambahan40)==null?void 0:it.toString())||"",ujiPenambahan50:((lt=be.ujiPenambahan50)==null?void 0:lt.toString())||"",ujiPengurangan50:((dt=be.ujiPengurangan50)==null?void 0:dt.toString())||"",ujiPengurangan40:((Qe=be.ujiPengurangan40)==null?void 0:Qe.toString())||"",ujiPengurangan30:((Pt=be.ujiPengurangan30)==null?void 0:Pt.toString())||"",ujiPengurangan20:((ea=be.ujiPengurangan20)==null?void 0:ea.toString())||"",ujiPengurangan10:((_e=be.ujiPengurangan10)==null?void 0:_e.toString())||""}),T(be.id||null),u(!0)},M=be=>{if(Te){const Pe=a.find(Fe=>Fe.id===be);Pe&&(I(Pe),U("delete"),de(!0));return}_(be),f(!0)},F=async()=>{if(P){l(!0);try{const be=await n("riksa_timb_portabel",{id:P,_plant:"NPK2"});if(be.success)i(Pe=>Pe.filter(Fe=>Fe.id!==P)),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(be.error||"Gagal menghapus data")}catch(be){console.error("Error deleting data:",be),alert(be instanceof Error?be.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1),f(!1),_(null)}}},se=async be=>{if(L)try{const{createData:Pe,SHEETS:Fe}=await rt(async()=>{const{createData:it,SHEETS:lt}=await Promise.resolve().then(()=>nt);return{createData:it,SHEETS:lt}},void 0),We={requestBy:(e==null?void 0:e.username)||"",requestByName:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",requestDate:new Date().toISOString(),action:ce,sheetType:"riksa_timb_portabel",dataId:L.id||"",dataPreview:`${pt(L.tanggal)} - ${L.area}`,reason:be,status:"pending",requesterPlant:(e==null?void 0:e.plant)||"NPK2"};await Pe(Fe.APPROVAL_REQUESTS,We),alert("Permintaan approval telah dikirim"),de(!1),I(null)}catch(Pe){console.error("Error submitting approval:",Pe),alert("Gagal mengirim permintaan approval")}},D=be=>{const Pe={...be,...B(be)};b(Pe),m(!0)},Y=a.filter(be=>new Date(be.tanggal).getFullYear()===parseInt(q)),ee=[{key:"tanggal",header:"Tanggal",render:be=>pt(be),sortable:!0},{key:"area",header:"Area",sortable:!0},{key:"rataRataSelisih",header:"Rata-rata Selisih",render:be=>s.jsxs("span",{className:Ge("font-semibold",Math.abs(be)<=.5?"text-green-600":Math.abs(be)<=1?"text-yellow-600":"text-red-600"),children:[Ce(be)," kg"]}),sortable:!0},{key:"actions",header:"Aksi",render:(be,Pe)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>D(Pe),title:"Lihat Detail",children:s.jsx(bs,{className:"h-4 w-4 text-blue-500"})}),s.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>N(Pe.id),title:"Lihat Log",children:s.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),(Ne||he)&&!R&&s.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>ke(Pe),title:"Edit",children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),(ue||Te)&&!R&&s.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>M(Pe.id),title:"Hapus",children:s.jsx(ur,{className:"h-4 w-4 text-red-500"})})]})}],te=({value:be,label:Pe})=>{const Fe=Math.abs(be)<=.5,We=Math.abs(be)>.5&&Math.abs(be)<=1;return s.jsxs("div",{className:Ge("flex items-center justify-between p-3 rounded-lg",Fe?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":We?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Pe}),s.jsxs("div",{className:"flex items-center gap-2",children:[be>=0?s.jsx(Sl,{className:Ge("h-4 w-4",Fe?"text-green-500":We?"text-yellow-500":"text-red-500")}):s.jsx(jf,{className:Ge("h-4 w-4",Fe?"text-green-500":We?"text-yellow-500":"text-red-500")}),s.jsxs("span",{className:Ge("font-bold",Fe?"text-green-600":We?"text-yellow-600":"text-red-600"),children:[be>=0?"+":"",Ce(be)," kg"]})]})]})},ye=()=>{if(!x)return null;const be=B(x),Pe=be.rataRataSelisih<=.5,Fe=be.rataRataSelisih>.5&&be.rataRataSelisih<=1,We=[{std:10,hasil:x.ujiPenambahan10,selisih:be.selisihPenambahan10},{std:20,hasil:x.ujiPenambahan20,selisih:be.selisihPenambahan20},{std:30,hasil:x.ujiPenambahan30,selisih:be.selisihPenambahan30},{std:40,hasil:x.ujiPenambahan40,selisih:be.selisihPenambahan40},{std:50,hasil:x.ujiPenambahan50,selisih:be.selisihPenambahan50}],it=[{std:50,hasil:x.ujiPengurangan50,selisih:be.selisihPengurangan50},{std:40,hasil:x.ujiPengurangan40,selisih:be.selisihPengurangan40},{std:30,hasil:x.ujiPengurangan30,selisih:be.selisihPengurangan30},{std:20,hasil:x.ujiPengurangan20,selisih:be.selisihPengurangan20},{std:10,hasil:x.ujiPengurangan10,selisih:be.selisihPengurangan10}],lt=Qe=>{const Pt=Math.abs(Qe);return Pt<=.5?"text-green-600":Pt<=1?"text-yellow-600":"text-red-600"},dt=Qe=>{const Pt=Math.abs(Qe);return Pt<=.5?"bg-green-50 dark:bg-green-900/20":Pt<=1?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20"};return s.jsx(xt,{isOpen:g,onClose:()=>m(!1),title:"",size:"xl",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:Ge("p-4 rounded-xl text-center",Pe?"bg-gradient-to-r from-green-500 to-emerald-600":Fe?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-600"),children:[s.jsx(mP,{className:"h-8 w-8 mx-auto text-white mb-1"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Hasil Riksa Timbangan Portabel"}),s.jsxs("p",{className:"text-white/90 text-sm",children:[x.area,"  ",pt(x.tanggal)]}),s.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[Pe?s.jsx(sz,{className:"h-4 w-4 text-white"}):s.jsx(sf,{className:"h-4 w-4 text-white"}),s.jsx("span",{className:"font-semibold text-white text-sm",children:Pe?"Kalibrasi BAIK":Fe?"Perlu Perhatian":"Perlu Kalibrasi Ulang"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Selisih Absolut"}),s.jsxs("p",{className:"text-lg font-bold text-indigo-700 dark:text-indigo-400",children:[Ce(be.totalSelisih)," kg"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rata-rata Selisih"}),s.jsxs("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:[Ce(be.rataRataSelisih)," kg"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-green-500 px-3 py-1.5 flex items-center gap-1.5",children:[s.jsx(Sl,{className:"h-4 w-4 text-white"}),s.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Penambahan"})]}),s.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[s.jsx("span",{children:"Standar"}),s.jsx("span",{className:"text-center",children:"Hasil"}),s.jsx("span",{className:"text-right",children:"Selisih"})]}),We.map((Qe,Pt)=>s.jsxs("div",{className:Ge("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",dt(Qe.selisih)),children:[s.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Qe.std," kg"]}),s.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[Ce(Qe.hasil)," kg"]}),s.jsxs("span",{className:Ge("text-right font-bold",lt(Qe.selisih)),children:[Qe.selisih>=0?"+":"",Ce(Qe.selisih)," kg"]})]},Pt))]})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-red-500 px-3 py-1.5 flex items-center gap-1.5",children:[s.jsx(jf,{className:"h-4 w-4 text-white"}),s.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Pengurangan"})]}),s.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[s.jsx("span",{children:"Standar"}),s.jsx("span",{className:"text-center",children:"Hasil"}),s.jsx("span",{className:"text-right",children:"Selisih"})]}),it.map((Qe,Pt)=>s.jsxs("div",{className:Ge("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",dt(Qe.selisih)),children:[s.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Qe.std," kg"]}),s.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[Ce(Qe.hasil)," kg"]}),s.jsxs("span",{className:Ge("text-right font-bold",lt(Qe.selisih)),children:[Qe.selisih>=0?"+":"",Ce(Qe.selisih)," kg"]})]},Pt))]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t dark:border-dark-700",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5kg"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-yellow-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5-1kg"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-red-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:">1kg"})]})]}),s.jsx(ve,{size:"sm",onClick:()=>m(!1),children:"Tutup"})]})]})})},Ve=j.useMemo(()=>{const be=Y.length,Pe=Y.map(Qe=>B(Qe)),Fe=Pe.filter(Qe=>Qe.rataRataSelisih<=.5).length,We=Pe.filter(Qe=>Qe.rataRataSelisih>.5&&Qe.rataRataSelisih<=1).length,it=Pe.filter(Qe=>Qe.rataRataSelisih>1).length,lt=be>0?Pe.reduce((Qe,Pt)=>Qe+Pt.rataRataSelisih,0)/be:0,dt=new Set(Y.map(Qe=>Qe.area).filter(Boolean)).size;return{total:be,goodCount:Fe,warningCount:We,badCount:it,avgSelisih:lt,uniqueAreas:dt}},[Y]);return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl shadow-lg",children:s.jsx(mP,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-dark-900 dark:text-white",children:"Riksa Timbangan Portabel"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Data pengujian kalibrasi timbangan portabel"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{value:q,onChange:be=>re(be.target.value),options:PTe,className:"w-32"}),J&&s.jsxs(ve,{onClick:()=>u(!0),children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pemeriksaan"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:Ve.total})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Lolos (0.5kg)"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:Ve.goodCount})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Perhatian (>0.5kg)"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:Ve.warningCount+Ve.badCount})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Rata-rata Selisih"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:[Ce(Ve.avgSelisih)," kg"]})]})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs(Nt,{children:["Data Riksa Timbangan - Tahun ",q]})}),s.jsx(Ir,{columns:ee,data:Y,loading:o,emptyMessage:"Belum ada data riksa timbangan portabel",searchable:!0,searchPlaceholder:"Cari tanggal, area, rata-rata selisih...",searchKeys:["tanggal","area","rataRataSelisih","keterangan"]})]}),s.jsx(xt,{isOpen:c,onClose:()=>{u(!1),E(kp),z(jp),T(null)},title:S?"Edit Data Riksa Timbangan":"Tambah Data Riksa Timbangan",size:"lg",children:s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ee,{label:"Tanggal",type:"date",value:O.tanggal,onChange:be=>E({...O,tanggal:be.target.value}),required:!0}),s.jsx(et,{label:"Area",value:O.area,onChange:be=>E({...O,area:be.target.value}),options:me,placeholder:"Pilih Area",required:!0})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[s.jsx(Sl,{className:"h-5 w-5"}),"Uji Penambahan"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(Ee,{label:"10 Kg",type:"text",inputMode:"decimal",value:C.ujiPenambahan10,onChange:be=>ne("ujiPenambahan10",be.target.value),placeholder:"Contoh: 10.02",required:!0}),s.jsx(Ee,{label:"20 Kg",type:"text",inputMode:"decimal",value:C.ujiPenambahan20,onChange:be=>ne("ujiPenambahan20",be.target.value),placeholder:"Contoh: 20.05",required:!0}),s.jsx(Ee,{label:"30 Kg",type:"text",inputMode:"decimal",value:C.ujiPenambahan30,onChange:be=>ne("ujiPenambahan30",be.target.value),placeholder:"Contoh: 30.01",required:!0}),s.jsx(Ee,{label:"40 Kg",type:"text",inputMode:"decimal",value:C.ujiPenambahan40,onChange:be=>ne("ujiPenambahan40",be.target.value),placeholder:"Contoh: 40.03",required:!0}),s.jsx(Ee,{label:"50 Kg",type:"text",inputMode:"decimal",value:C.ujiPenambahan50,onChange:be=>ne("ujiPenambahan50",be.target.value),placeholder:"Contoh: 50.02",required:!0})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2",children:[s.jsx(jf,{className:"h-5 w-5"}),"Uji Pengurangan"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(Ee,{label:"50 Kg",type:"text",inputMode:"decimal",value:C.ujiPengurangan50,onChange:be=>ne("ujiPengurangan50",be.target.value),placeholder:"Contoh: 50.01",required:!0}),s.jsx(Ee,{label:"40 Kg",type:"text",inputMode:"decimal",value:C.ujiPengurangan40,onChange:be=>ne("ujiPengurangan40",be.target.value),placeholder:"Contoh: 40.02",required:!0}),s.jsx(Ee,{label:"30 Kg",type:"text",inputMode:"decimal",value:C.ujiPengurangan30,onChange:be=>ne("ujiPengurangan30",be.target.value),placeholder:"Contoh: 30.03",required:!0}),s.jsx(Ee,{label:"20 Kg",type:"text",inputMode:"decimal",value:C.ujiPengurangan20,onChange:be=>ne("ujiPengurangan20",be.target.value),placeholder:"Contoh: 20.01",required:!0}),s.jsx(Ee,{label:"10 Kg",type:"text",inputMode:"decimal",value:C.ujiPengurangan10,onChange:be=>ne("ujiPengurangan10",be.target.value),placeholder:"Contoh: 10.02",required:!0})]})]}),(O.ujiPenambahan10>0||O.ujiPengurangan10>0)&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preview Selisih"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[O.ujiPenambahan10>0&&s.jsx(te,{value:O.ujiPenambahan10-10,label:"+10kg"}),O.ujiPenambahan20>0&&s.jsx(te,{value:O.ujiPenambahan20-20,label:"+20kg"}),O.ujiPenambahan30>0&&s.jsx(te,{value:O.ujiPenambahan30-30,label:"+30kg"}),O.ujiPenambahan40>0&&s.jsx(te,{value:O.ujiPenambahan40-40,label:"+40kg"}),O.ujiPenambahan50>0&&s.jsx(te,{value:O.ujiPenambahan50-50,label:"+50kg"}),O.ujiPengurangan50>0&&s.jsx(te,{value:O.ujiPengurangan50-50,label:"-50kg"}),O.ujiPengurangan40>0&&s.jsx(te,{value:O.ujiPengurangan40-40,label:"-40kg"}),O.ujiPengurangan30>0&&s.jsx(te,{value:O.ujiPengurangan30-30,label:"-30kg"}),O.ujiPengurangan20>0&&s.jsx(te,{value:O.ujiPengurangan20-20,label:"-20kg"}),O.ujiPengurangan10>0&&s.jsx(te,{value:O.ujiPengurangan10-10,label:"-10kg"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"outline",onClick:()=>{u(!1),E(kp),z(jp),T(null)},children:"Batal"}),s.jsx(ve,{type:"submit",disabled:o,children:o?"Menyimpan...":S?"Update":"Simpan"})]})]})}),s.jsx(ye,{}),s.jsx(_r,{isOpen:d,onClose:()=>f(!1),onConfirm:F,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),s.jsx(jn,{isOpen:G,onClose:()=>{de(!1),I(null)},onSubmit:se,action:ce,itemName:L?`${pt(L.tanggal)} - ${L.area}`:"data ini"}),s.jsx(jr,{isVisible:h,message:"Data berhasil disimpan!"}),s.jsx(Lr,{isOpen:y,onClose:()=>{v(!1),k("")},sheetName:"riksa_timb_portabel",recordId:w,title:"Log Aktivitas Riksa Timbangan Portabel"})]})},ETe=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[a,i]=j.useState({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),o=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],l=async c=>{c.preventDefault();const u=await r(a);u.success?(i({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),t()):alert(u.error||"Gagal menambah material")};return s.jsx(xt,{isOpen:e,onClose:t,title:"Tambah Material Baru",size:"md",children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx(Ee,{label:"Kode Material",value:a.kode_material,onChange:c=>i({...a,kode_material:c.target.value}),placeholder:"Contoh: MTL-001",required:!0}),s.jsx(Ee,{label:"Nama Material",value:a.nama_material,onChange:c=>i({...a,nama_material:c.target.value}),placeholder:"Contoh: Bearing SKF 6205",required:!0}),s.jsx(et,{label:"Satuan",value:a.satuan,onChange:c=>i({...a,satuan:c.target.value}),options:o}),s.jsx(Ee,{label:"Stok Awal",type:"number",value:a.stok.toString(),onChange:c=>i({...a,stok:ge(c.target.value)}),min:0}),s.jsx(Ee,{label:"Stok Minimum (Alert)",type:"number",value:a.stok_minimum.toString(),onChange:c=>i({...a,stok_minimum:ge(c.target.value)}),min:0}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(ve,{type:"button",variant:"outline",onClick:t,children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:n,children:"Simpan"})]})]})})},ATe=({isOpen:e,onClose:t,material:r,onSubmit:n,loading:a})=>{const[i,o]=j.useState({kode_material:"",nama_material:"",satuan:"pcs",stok_minimum:0});j.useState(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})}),j.useMemo(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})},[r]);const l=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],c=async u=>{if(u.preventDefault(),!(r!=null&&r.id))return;const d=await n({id:r.id,...i});d.success?t():alert(d.error||"Gagal mengupdate material")};return r?s.jsx(xt,{isOpen:e,onClose:t,title:"Edit Material",size:"md",children:s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsx(Ee,{label:"Kode Material",value:i.kode_material,onChange:u=>o({...i,kode_material:u.target.value}),required:!0}),s.jsx(Ee,{label:"Nama Material",value:i.nama_material,onChange:u=>o({...i,nama_material:u.target.value}),required:!0}),s.jsx(et,{label:"Satuan",value:i.satuan,onChange:u=>o({...i,satuan:u.target.value}),options:l}),s.jsx(Ee,{label:"Stok Minimum (Alert)",type:"number",value:i.stok_minimum.toString(),onChange:u=>o({...i,stok_minimum:ge(u.target.value)}),min:0}),s.jsxs("div",{className:"text-sm text-dark-500 dark:text-dark-400 bg-dark-50 dark:bg-dark-700 p-3 rounded-lg",children:[s.jsxs("p",{children:["Stok saat ini:"," ",s.jsxs("strong",{children:[le(r.stok)," ",r.satuan]})]}),s.jsx("p",{className:"text-xs mt-1",children:"Untuk mengubah stok, gunakan menu Tambah Stok atau Ambil Stok."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(ve,{type:"button",variant:"outline",onClick:t,children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:a,children:"Update"})]})]})}):null},OTe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:a})=>{const[i,o]=j.useState({materialId:"",jumlah:0,keterangan:""}),l=r.map(u=>({value:u.id||"",label:`${u.kode_material} - ${u.nama_material} (Stok: ${le(u.stok)} ${u.satuan})`})),c=async u=>{if(u.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}const d=await n(i.materialId,i.jumlah,i.keterangan);d.success?(o({materialId:"",jumlah:0,keterangan:""}),t()):alert(d.error||"Gagal menambah stok")};return s.jsx(xt,{isOpen:e,onClose:t,title:"Tambah Stok Material",size:"md",children:s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-center gap-2",children:[s.jsx(Ab,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Stok Masuk"})]}),s.jsx(et,{label:"Pilih Material",value:i.materialId,onChange:u=>o({...i,materialId:u.target.value}),options:[{value:"",label:"-- Pilih Material --"},...l],required:!0}),s.jsx(Ee,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:u=>o({...i,jumlah:ge(u.target.value)}),min:1,required:!0}),s.jsx(Ee,{label:"Keterangan",value:i.keterangan,onChange:u=>o({...i,keterangan:u.target.value}),placeholder:"Contoh: Pembelian dari vendor X"}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(ve,{type:"button",variant:"outline",onClick:t,children:"Batal"}),s.jsxs(ve,{type:"submit",isLoading:a,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ab,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]})]})]})})},CTe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:a})=>{const[i,o]=j.useState({materialId:"",jumlah:0,keterangan:""}),[l,c]=j.useState(null),u=r.map(h=>({value:h.id||"",label:`${h.kode_material} - ${h.nama_material} (Stok: ${le(h.stok)} ${h.satuan})`})),d=h=>{o({...i,materialId:h});const p=r.find(g=>g.id===h)||null;c(p)},f=async h=>{if(h.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}if(l&&i.jumlah>l.stok){alert(`Stok tidak cukup! Stok tersedia: ${le(l.stok)} ${l.satuan}`);return}const p=await n(i.materialId,i.jumlah,i.keterangan);p.success?(o({materialId:"",jumlah:0,keterangan:""}),c(null),t()):alert(p.error||"Gagal mengambil stok")};return s.jsx(xt,{isOpen:e,onClose:t,title:"Ambil Stok Material",size:"md",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-center gap-2",children:[s.jsx(Ob,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),s.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Stok Keluar"})]}),s.jsx(et,{label:"Pilih Material",value:i.materialId,onChange:h=>d(h.target.value),options:[{value:"",label:"-- Pilih Material --"},...u],required:!0}),l&&s.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 p-3 rounded-lg text-sm",children:s.jsxs("p",{children:["Stok tersedia:"," ",s.jsxs("strong",{className:"text-primary-600",children:[le(l.stok)," ",l.satuan]})]})}),s.jsx(Ee,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:h=>o({...i,jumlah:ge(h.target.value)}),min:1,max:(l==null?void 0:l.stok)||void 0,required:!0}),s.jsx(Ee,{label:"Keterangan",value:i.keterangan,onChange:h=>o({...i,keterangan:h.target.value}),placeholder:"Contoh: Pemakaian untuk maintenance pump",required:!0}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(ve,{type:"button",variant:"outline",onClick:t,children:"Batal"}),s.jsxs(ve,{type:"submit",isLoading:a,className:"bg-red-600 hover:bg-red-700",children:[s.jsx(Ob,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]})]})})},DTe=({isOpen:e,onClose:t,materials:r})=>{const{transactions:n,loading:a,updateFilters:i,clearFilters:o}=iTe(),[l,c]=j.useState({material_id:"",start_date:"",end_date:""}),u=r.map(g=>({value:g.id||"",label:`${g.kode_material} - ${g.nama_material}`})),d=g=>{const m=r.find(x=>x.id===g);return m?`${m.kode_material} - ${m.nama_material}`:g},f=()=>{i({material_id:l.material_id||void 0,start_date:l.start_date||void 0,end_date:l.end_date||void 0})},h=()=>{c({material_id:"",start_date:"",end_date:""}),o()},p=[{key:"created_at",header:"Tanggal",render:(g,m)=>vD(m.created_at||"")},{key:"material_id",header:"Material",render:(g,m)=>d(m.material_id)},{key:"tipe_transaksi",header:"Tipe",render:(g,m)=>s.jsx(Xe,{variant:m.tipe_transaksi==="masuk"?"success":"danger",children:m.tipe_transaksi==="masuk"?"Masuk":"Keluar"})},{key:"jumlah",header:"Jumlah",render:(g,m)=>le(m.jumlah)},{key:"keterangan",header:"Keterangan",render:(g,m)=>m.keterangan||"-"}];return s.jsx(xt,{isOpen:e,onClose:t,title:"Riwayat Transaksi Material",size:"xl",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-dark-50 dark:bg-dark-700 p-4 rounded-lg",children:[s.jsx(et,{label:"Material",value:l.material_id,onChange:g=>c({...l,material_id:g.target.value}),options:[{value:"",label:"Semua Material"},...u]}),s.jsx(Ee,{label:"Dari Tanggal",type:"date",value:l.start_date,onChange:g=>c({...l,start_date:g.target.value})}),s.jsx(Ee,{label:"Sampai Tanggal",type:"date",value:l.end_date,onChange:g=>c({...l,end_date:g.target.value})}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs(ve,{onClick:f,variant:"primary",size:"sm",children:[s.jsx(wx,{className:"h-4 w-4 mr-1"}),"Filter"]}),s.jsx(ve,{onClick:h,variant:"outline",size:"sm",children:"Reset"})]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx(Ir,{data:n,columns:p,loading:a,emptyMessage:"Belum ada transaksi",searchable:!0,searchPlaceholder:"Cari kode, nama material, jenis, keterangan...",searchKeys:["kode_material","nama_material","jenis","keterangan"]})}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(ve,{onClick:t,children:"Tutup"})})]})})},MTe=()=>{const{user:e}=Tt(),{materials:t,loading:r,error:n,refetch:a,addMaterial:i,updateMaterial:o,deleteMaterial:l,stockMasuk:c,stockKeluar:u}=aTe(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(!1),[N,S]=j.useState(!1),[T,P]=j.useState(!1),[_,O]=j.useState(""),[E,C]=j.useState(null),[z,Q]=j.useState(null),[W,q]=j.useState(1),re=10,G=Yr((e==null?void 0:e.role)||""),de=sn((e==null?void 0:e.role)||"")&&!G,ce=g2((e==null?void 0:e.role)||"")&&!G,U=x2((e==null?void 0:e.role)||"")&&!G,L=j.useMemo(()=>[...t],[t]);j.useMemo(()=>{const B=(W-1)*re;return L.slice(B,B+re)},[L,W]),Math.ceil(L.length/re);const I=B=>{C(B),p(!0)},R=B=>{Q(B),k(!0)},J=async()=>{if(!z)return;const B=await l(z);B.success?(S(!0),setTimeout(()=>S(!1),2e3)):alert(B.error||"Gagal menghapus material"),k(!1),Q(null)},xe=async B=>{const H=await i(B);return H.success&&(S(!0),setTimeout(()=>S(!1),2e3)),H},Ne=async B=>{const H=await o(B);return H.success&&(S(!0),setTimeout(()=>S(!1),2e3)),H},ue=async(B,H,ke)=>{const M=await c(B,H,ke);return M.success&&(S(!0),setTimeout(()=>S(!1),2e3)),M},he=async(B,H,ke)=>{const M=await u(B,H,ke);return M.success&&(S(!0),setTimeout(()=>S(!1),2e3)),M},Te=j.useCallback(()=>{},[]);Br(Te,d||h||g||x);const me=[{key:"kode_material",header:"Kode",render:(B,H)=>s.jsx("span",{className:"font-mono text-primary-600 dark:text-primary-400",children:H.kode_material})},{key:"nama_material",header:"Nama Material"},{key:"satuan",header:"Satuan",render:(B,H)=>H.satuan.toUpperCase()},{key:"stok",header:"Stok",render:(B,H)=>{const ke=H.stok<=H.stok_minimum;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:ke?"text-red-600 dark:text-red-400 font-bold":"",children:le(H.stok)}),ke&&s.jsxs(Xe,{variant:"danger",className:"flex items-center gap-1",children:[s.jsx(wm,{className:"h-3 w-3"}),"Menipis"]})]})}},{key:"stok_minimum",header:"Min. Stok",render:(B,H)=>le(H.stok_minimum)},{key:"actions",header:"Aksi",render:(B,H)=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>{O(H.id||""),P(!0)},className:"p-1.5 text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-900/30 rounded-lg transition-colors",title:"Lihat Log Aktivitas",children:s.jsx(Et,{className:"h-4 w-4"})}),ce&&s.jsx("button",{onClick:()=>I(H),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Material",children:s.jsx(gr,{className:"h-4 w-4"})}),U&&s.jsx("button",{onClick:()=>R(H.id||""),className:"p-1.5 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Hapus Material",children:s.jsx(ur,{className:"h-4 w-4"})})]})}],Ce=t.filter(B=>B.stok<=B.stok_minimum).length,ne=t.length,A=t.reduce((B,H)=>B+(H.stok||0),0);return s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx(jr,{isVisible:N,message:"Berhasil!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[s.jsx(Mo,{className:"h-7 w-7 text-primary-600"}),"Inventaris Stok Material"]}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola stok material consumable"})]}),Ce>0&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2 flex items-center gap-2",children:[s.jsx(wm,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),s.jsxs("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:[Ce," material stok menipis"]})]})]}),n&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:n}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Material"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:ne})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Stok"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:le(A)})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stok Aman"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ne-Ce})]}),s.jsxs(Me,{className:"p-3 sm:p-4",children:[s.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stok Menipis"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:Ce})]})]}),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 flex flex-wrap gap-3",children:[de&&s.jsxs(s.Fragment,{children:[s.jsxs(ve,{onClick:()=>f(!0),children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Material"]}),s.jsxs(ve,{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ab,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]}),s.jsxs(ve,{onClick:()=>b(!0),className:"bg-red-600 hover:bg-red-700",children:[s.jsx(Ob,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]}),s.jsxs(ve,{variant:"outline",onClick:()=>v(!0),children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Riwayat Transaksi"]}),s.jsxs(ve,{variant:"outline",onClick:a,children:[s.jsx(gl,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx(Nt,{className:"flex items-center justify-between",children:s.jsxs("span",{children:["Daftar Material (",L.length,")"]})})}),s.jsx(Ir,{data:L,columns:me,loading:r,emptyMessage:"Belum ada data material",searchable:!0,searchPlaceholder:"Cari kode, nama material, satuan...",searchKeys:["kode_material","nama_material","satuan","stok","stok_minimum"]})]}),s.jsx(ETe,{isOpen:d,onClose:()=>f(!1),onSubmit:xe,loading:r}),s.jsx(ATe,{isOpen:h,onClose:()=>{p(!1),C(null)},material:E,onSubmit:Ne,loading:r}),s.jsx(OTe,{isOpen:g,onClose:()=>m(!1),materials:t,onSubmit:ue,loading:r}),s.jsx(CTe,{isOpen:x,onClose:()=>b(!1),materials:t,onSubmit:he,loading:r}),s.jsx(DTe,{isOpen:y,onClose:()=>v(!1),materials:t}),s.jsx(_r,{isOpen:w,onClose:()=>k(!1),onConfirm:J,title:"Hapus Material",message:"Apakah Anda yakin ingin menghapus material ini? Semua riwayat transaksi material ini akan tetap tersimpan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),s.jsx(Lr,{isOpen:T,onClose:()=>{P(!1),O("")},sheetName:"materials",recordId:_,title:"Log Aktivitas Material"})]})},RTe=()=>{var v,w;const{user:e,logout:t}=Tt(),[r,n]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState("profile"),[c,u]=j.useState({nama:(e==null?void 0:e.nama)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"Produksi"}),[d,f]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=j.useState({emailNotifications:!0,pushNotifications:!0,dailyReport:!0,weeklyReport:!1,alertDowntime:!0,alertWorkRequest:!0}),g=async k=>{k.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await rt(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>nt);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,nama:c.nama,email:c.email,phone:c.phone,department:c.department},P=await N(S.USERS,T);if(P.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(P.error||"Gagal mengupdate profile")}}catch(N){console.error("Error updating profile:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate profile")}finally{n(!1)}},m=async k=>{if(k.preventDefault(),d.newPassword!==d.confirmPassword){alert("Password baru dan konfirmasi tidak cocok");return}n(!0);try{const{updateData:N,SHEETS:S}=await rt(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>nt);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,password:d.newPassword,currentPassword:d.currentPassword},P=await N(S.USERS,T);if(P.success)f({currentPassword:"",newPassword:"",confirmPassword:""}),i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(P.error||"Gagal mengupdate password")}}catch(N){console.error("Error updating password:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate password")}finally{n(!1)}},x=async k=>{k.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await rt(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>nt);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,notificationSettings:h},P=await N(S.USERS,T);if(P.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(P.error||"Gagal mengupdate notifikasi")}}catch(N){console.error("Error updating notifications:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate notifikasi")}finally{n(!1)}},b=k=>{switch(k){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";default:return"warning"}},y=[{id:"profile",label:"Profile",icon:ch},{id:"password",label:"Password",icon:km},{id:"notifications",label:"Notifikasi",icon:qc}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Pengaturan Akun"}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola informasi akun dan preferensi Anda"})]}),s.jsx(Me,{className:"p-6 bg-gradient-to-r from-primary-50 to-indigo-50 dark:from-primary-900/30 dark:to-indigo-900/30 border-primary-200 dark:border-primary-800",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white text-2xl font-bold",children:((v=e==null?void 0:e.nama)==null?void 0:v.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:(e==null?void 0:e.nama)||"User"}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400",children:(e==null?void 0:e.email)||"user@example.com"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(Xe,{variant:b((e==null?void 0:e.role)||"user"),children:[s.jsx(Sm,{className:"h-3 w-3 mr-1"}),((w=e==null?void 0:e.role)==null?void 0:w.toUpperCase())||"USER"]}),s.jsx(Xe,{variant:"primary",children:(e==null?void 0:e.plant)||"NPK2"})]})]}),s.jsx(ve,{variant:"secondary",onClick:t,children:"Logout"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx(Me,{className:"p-4 h-fit",children:s.jsx("nav",{className:"space-y-1",children:y.map(k=>s.jsxs("button",{onClick:()=>l(k.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ${o===k.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 font-medium":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700"}`,children:[s.jsx(k.icon,{className:"h-5 w-5"}),k.label]},k.id))})}),s.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(ch,{className:"h-5 w-5"}),"Informasi Profile"]})}),s.jsx(_n,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx(Ee,{label:"Nama Lengkap",type:"text",value:c.nama,onChange:k=>u(N=>({...N,nama:k.target.value})),required:!0}),s.jsx(Ee,{label:"Email",type:"email",value:c.email,onChange:k=>u(N=>({...N,email:k.target.value})),required:!0}),s.jsx(Ee,{label:"No. Telepon",type:"tel",value:c.phone,onChange:k=>u(N=>({...N,phone:k.target.value})),placeholder:"08xxxxxxxxxx"}),s.jsx(et,{label:"Department",value:c.department,onChange:k=>u(N=>({...N,department:k.target.value})),options:[{value:"Produksi",label:"Produksi"},{value:"Maintenance",label:"Maintenance"},{value:"Quality Control",label:"Quality Control"},{value:"HSE",label:"HSE"},{value:"Admin",label:"Admin"}]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(ve,{type:"submit",isLoading:r,children:[s.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Simpan Perubahan"]})})]})})]}),o==="password"&&s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(km,{className:"h-5 w-5"}),"Ubah Password"]})}),s.jsx(_n,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsx(Ee,{label:"Password Saat Ini",type:"password",value:d.currentPassword,onChange:k=>f(N=>({...N,currentPassword:k.target.value})),required:!0}),s.jsx(Ee,{label:"Password Baru",type:"password",value:d.newPassword,onChange:k=>f(N=>({...N,newPassword:k.target.value})),required:!0}),s.jsx(Ee,{label:"Konfirmasi Password Baru",type:"password",value:d.confirmPassword,onChange:k=>f(N=>({...N,confirmPassword:k.target.value})),required:!0}),s.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[s.jsx("strong",{children:"Tips:"})," Password minimal 8 karakter, kombinasi huruf besar, huruf kecil, dan angka."]})}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(ve,{type:"submit",isLoading:r,children:[s.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})})]}),o==="notifications"&&s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(qc,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]})}),s.jsx(_n,{children:s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi Umum"}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Terima notifikasi via email"})]}),s.jsx("input",{type:"checkbox",checked:h.emailNotifications,onChange:k=>p(N=>({...N,emailNotifications:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi browser/app"})]}),s.jsx("input",{type:"checkbox",checked:h.pushNotifications,onChange:k=>p(N=>({...N,pushNotifications:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Laporan"}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Harian"}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi harian"})]}),s.jsx("input",{type:"checkbox",checked:h.dailyReport,onChange:k=>p(N=>({...N,dailyReport:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Mingguan"}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi mingguan"})]}),s.jsx("input",{type:"checkbox",checked:h.weeklyReport,onChange:k=>p(N=>({...N,weeklyReport:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Alert"}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Downtime"}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi saat terjadi downtime"})]}),s.jsx("input",{type:"checkbox",checked:h.alertDowntime,onChange:k=>p(N=>({...N,alertDowntime:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Work Request"}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi work request baru"})]}),s.jsx("input",{type:"checkbox",checked:h.alertWorkRequest,onChange:k=>p(N=>({...N,alertWorkRequest:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(ve,{type:"submit",isLoading:r,children:[s.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})})]})})]})]})]}),s.jsx(jr,{isVisible:a,message:"Perubahan berhasil disimpan!",onClose:()=>i(!1)})]})},Qo=[{key:"januari",label:"Januari"},{key:"februari",label:"Februari"},{key:"maret",label:"Maret"},{key:"april",label:"April"},{key:"mei",label:"Mei"},{key:"juni",label:"Juni"},{key:"juli",label:"Juli"},{key:"agustus",label:"Agustus"},{key:"september",label:"September"},{key:"oktober",label:"Oktober"},{key:"november",label:"November"},{key:"desember",label:"Desember"}],el={tahun:new Date().getFullYear().toString(),plant:"NPK2",januari:0,februari:0,maret:0,april:0,mei:0,juni:0,juli:0,agustus:0,september:0,oktober:0,november:0,desember:0,total:0},IO=[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"}],ITe=()=>{var ke;const{user:e}=Tt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Jr(),[a,i]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(null),[w,k]=j.useState(el),[N,S]=j.useState((e==null?void 0:e.plant)||"ALL"),[T,P]=j.useState(new Date().getFullYear().toString()),[_,O]=j.useState(!1),[E,C]=j.useState("");j.useEffect(()=>{(async()=>{u(!0);try{const{readData:F,fetchDataByPlant:se,SHEETS:D}=await rt(async()=>{const{readData:te,fetchDataByPlant:ye,SHEETS:Ve}=await Promise.resolve().then(()=>nt);return{readData:te,fetchDataByPlant:ye,SHEETS:Ve}},void 0),Y=await F(D.RKAP);Y.success&&Y.data?i(Y.data):i([]);const ee=await se(D.PRODUKSI_NPK);ee.success&&ee.data?l(ee.data):l([])}catch(F){console.error("Error fetching data:",F),i([]),l([])}finally{u(!1)}})()},[]),j.useEffect(()=>{const M=Qo.reduce((F,se)=>F+(Number(w[se.key])||0),0);k(F=>({...F,total:M}))},[w.januari,w.februari,w.maret,w.april,w.mei,w.juni,w.juli,w.agustus,w.september,w.oktober,w.november,w.desember]);const z=j.useMemo(()=>{const M={},F=o.filter(se=>{const Y=new Date(se.tanggal).getFullYear().toString()===T,ee=N==="ALL"||se._plant===N;return Y&&ee});return Qo.forEach((se,D)=>{const Y=F.filter(ee=>new Date(ee.tanggal).getMonth()===D);M[se.key]=Y.reduce((ee,te)=>ee+(ge(te.total)||ge(te.shiftMalamOnspek)+ge(te.shiftMalamOffspek)+ge(te.shiftPagiOnspek)+ge(te.shiftPagiOffspek)+ge(te.shiftSoreOnspek)+ge(te.shiftSoreOffspek)),0)}),M},[o,T,N]),Q=j.useMemo(()=>a.filter(M=>{var D;const F=((D=M.tahun)==null?void 0:D.toString())===T,se=N==="ALL"||M.plant===N;return F&&se}),[a,T,N]),W=j.useMemo(()=>a.find(M=>{var F;return((F=M.tahun)==null?void 0:F.toString())===T&&M.plant==="NPK1"}),[a,T]),q=j.useMemo(()=>a.find(M=>{var F;return((F=M.tahun)==null?void 0:F.toString())===T&&M.plant==="NPK2"}),[a,T]),re=j.useMemo(()=>{const M={NPK1:{},NPK2:{}};return["NPK1","NPK2"].forEach(F=>{const se=o.filter(D=>new Date(D.tanggal).getFullYear().toString()===T&&D._plant===F);Qo.forEach((D,Y)=>{const ee=se.filter(te=>new Date(te.tanggal).getMonth()===Y);M[F][D.key]=ee.reduce((te,ye)=>te+(ge(ye.total)||ge(ye.shiftMalamOnspek)+ge(ye.shiftMalamOffspek)+ge(ye.shiftPagiOnspek)+ge(ye.shiftPagiOffspek)+ge(ye.shiftSoreOnspek)+ge(ye.shiftSoreOffspek)),0)})}),M},[o,T]),G=Q[0],de=async M=>{M.preventDefault(),u(!0);try{if(x){const F={...w,id:x},se=await r("rkap",F);if(se.success)i(D=>D.map(Y=>Y.id===x?{...w,id:x}:Y));else throw new Error(se.error||"Gagal mengupdate data")}else{const F=await t("rkap",w);if(F.success&&F.data)i(se=>[F.data,...se]);else throw new Error(F.error||"Gagal menyimpan data")}f(!1),k(el),b(null),m(!0),setTimeout(()=>m(!1),2e3)}catch(F){console.error("Error saving data:",F),alert(F instanceof Error?F.message:"Terjadi kesalahan saat menyimpan data")}finally{u(!1)}},ce=M=>{k(M),b(M.id||null),f(!0)},U=M=>{v(M),p(!0)},L=async()=>{if(y){u(!0);try{const M=await n("rkap",{id:y});if(M.success)i(F=>F.filter(se=>se.id!==y)),p(!1),v(null),m(!0),setTimeout(()=>m(!1),2e3);else throw new Error(M.error||"Gagal menghapus data")}catch(M){console.error("Error deleting data:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan saat menghapus data")}finally{u(!1)}}},I=()=>{k({...el,tahun:T,plant:N==="ALL"?"NPK2":N}),b(null),f(!0)},R=(M,F)=>{k(se=>({...se,[M]:parseFloat(F)||0}))},J=(W==null?void 0:W.total)||0,xe=(q==null?void 0:q.total)||0,Ne=N==="ALL"?J+xe:(G==null?void 0:G.total)||0,ue=Object.values(re.NPK1).reduce((M,F)=>M+F,0),he=Object.values(re.NPK2).reduce((M,F)=>M+F,0),Te=N==="ALL"?ue+he:Object.values(z).reduce((M,F)=>M+F,0),me=Ne>0?(Te/Ne*100).toFixed(1):"0",Ce=J>0?(ue/J*100).toFixed(1):"0",ne=xe>0?(he/xe*100).toFixed(1):"0",A=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp",B=j.useCallback(()=>{if(d&&!c){const M=document.querySelector("form");M&&M.requestSubmit()}},[d,c]);Br(B,d);const H=N==="ALL"?"Semua Plant":N==="NPK1"?"NPK Plant 1":"NPK Plant 2";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"RKAP (Target Produksi)"}),s.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Rencana Kerja dan Anggaran Perusahaan - ",H]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{value:T,onChange:M=>P(M.target.value),options:IO,className:"w-32"}),(e==null?void 0:e.plant)==="ALL"&&s.jsx(et,{value:N,onChange:M=>S(M.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),N!=="ALL"&&G&&s.jsxs(ve,{variant:"secondary",onClick:()=>{C(G.id||""),O(!0)},title:"Lihat Log Aktivitas",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Log"]}),A&&N!=="ALL"&&(G?s.jsxs(ve,{onClick:()=>ce(G),children:[s.jsx(gr,{className:"h-4 w-4 mr-2"}),"Edit Target"]}):s.jsxs(ve,{onClick:I,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Target"]}))]})]}),N==="ALL"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Me,{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:s.jsx(Yc,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-blue-900 dark:text-blue-100",children:"NPK Plant 1"}),s.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:["RKAP ",T]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[W&&s.jsx(ve,{size:"sm",variant:"secondary",onClick:()=>{C(W.id||""),O(!0)},title:"Lihat Log Aktivitas",children:s.jsx(Et,{className:"h-3 w-3"})}),A&&s.jsx(ve,{size:"sm",variant:W?"secondary":"primary",onClick:()=>{W?ce(W):(k({...el,tahun:T,plant:"NPK1"}),b(null),f(!0))},children:W?s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-3 w-3 mr-1"}),"Edit"]}):s.jsxs(s.Fragment,{children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Target"}),s.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:le(J)}),s.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Realisasi"}),s.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:le(ue)}),s.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Pencapaian"}),s.jsxs("p",{className:`text-xl font-bold ${Number(Ce)>=100?"text-green-600":"text-amber-600"}`,children:[Ce,"%"]}),s.jsx(Xe,{variant:W?"success":"warning",size:"sm",children:W?"Target Ada":"Belum Ada"})]})]})]}),s.jsxs(Me,{className:"p-5 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:s.jsx(Yc,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-amber-900 dark:text-amber-100",children:"NPK Plant 2"}),s.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-300",children:["RKAP ",T]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[q&&s.jsx(ve,{size:"sm",variant:"secondary",onClick:()=>{C(q.id||""),O(!0)},title:"Lihat Log Aktivitas",children:s.jsx(Et,{className:"h-3 w-3"})}),A&&s.jsx(ve,{size:"sm",variant:q?"secondary":"primary",onClick:()=>{q?ce(q):(k({...el,tahun:T,plant:"NPK2"}),b(null),f(!0))},children:q?s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"h-3 w-3 mr-1"}),"Edit"]}):s.jsxs(s.Fragment,{children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Target"}),s.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:le(xe)}),s.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Realisasi"}),s.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:le(he)}),s.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Pencapaian"}),s.jsxs("p",{className:`text-xl font-bold ${Number(ne)>=100?"text-green-600":"text-amber-600"}`,children:[ne,"%"]}),s.jsx(Xe,{variant:q?"success":"warning",size:"sm",children:q?"Target Ada":"Belum Ada"})]})]})]})]}),s.jsx(Me,{className:"p-4 bg-gradient-to-r from-dark-100 to-dark-200 dark:from-dark-800 dark:to-dark-700",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-dark-200 dark:bg-dark-600 rounded-xl",children:s.jsx(Sl,{className:"h-6 w-6 text-dark-600 dark:text-dark-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gabungan NPK 1 + NPK 2"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-xl font-bold text-dark-900 dark:text-white",children:[le(Te)," /"," ",le(Ne)," Ton"]}),s.jsxs(Xe,{variant:Number(me)>=100?"success":"warning",children:[me,"%"]})]})]})]})})})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Me,{className:"p-4 bg-gradient-to-br from-primary-50 to-indigo-50 border-primary-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:s.jsx(Yc,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Target RKAP ",T]}),s.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[le(Ne)," Ton"]})]})]})}),s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:s.jsx(Sl,{className:"h-6 w-6 text-secondary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Realisasi"}),s.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[le(Te)," Ton"]})]})]})}),s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-xl ${Number(me)>=100?"bg-green-100":"bg-amber-100"}`,children:s.jsx(gi,{className:`h-6 w-6 ${Number(me)>=100?"text-green-600":"text-amber-600"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pencapaian"}),s.jsxs("p",{className:`text-2xl font-bold ${Number(me)>=100?"text-green-600":"text-amber-600"}`,children:[me,"%"]})]})]})})]}),N==="ALL"?s.jsxs(s.Fragment,{children:[s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{className:"text-blue-700 dark:text-blue-400",children:["NPK Plant 1 - Perbandingan Target vs Realisasi ",T]}),s.jsx(Xe,{variant:W?"success":"warning",children:W?"Target Tersedia":"Belum Ada Target"})]})}),s.jsx(_n,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-blue-600 dark:text-blue-400",children:"Target NPK 1 (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),s.jsxs("tbody",{children:[Qo.map(M=>{const F=Number(W==null?void 0:W[M.key])||0,se=re.NPK1[M.key]||0,D=se-F,Y=F>0?(se/F*100).toFixed(1):"0";return s.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-blue-50 dark:hover:bg-blue-900/10",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:M.label}),s.jsx("td",{className:"py-3 px-4 text-right text-blue-600 font-semibold",children:le(F)}),s.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:le(se)}),s.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${D>=0?"text-green-600":"text-red-600"}`,children:[D>=0?"+":"",le(D)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs(Xe,{variant:Number(Y)>=100?"success":Number(Y)>=80?"warning":"danger",children:[Y,"%"]})})]},M.key)}),s.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-900/20 font-bold",children:[s.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 1"}),s.jsx("td",{className:"py-3 px-4 text-right text-blue-700",children:le(J)}),s.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:le(ue)}),s.jsxs("td",{className:`py-3 px-4 text-right ${ue-J>=0?"text-green-700":"text-red-700"}`,children:[ue-J>=0?"+":"",le(ue-J)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs(Xe,{variant:Number(Ce)>=100?"success":"warning",className:"text-base",children:[Ce,"%"]})})]})]})]})})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{className:"text-amber-700 dark:text-amber-400",children:["NPK Plant 2 - Perbandingan Target vs Realisasi ",T]}),s.jsx(Xe,{variant:q?"success":"warning",children:q?"Target Tersedia":"Belum Ada Target"})]})}),s.jsx(_n,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-amber-600 dark:text-amber-400",children:"Target NPK 2 (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),s.jsxs("tbody",{children:[Qo.map(M=>{const F=Number(q==null?void 0:q[M.key])||0,se=re.NPK2[M.key]||0,D=se-F,Y=F>0?(se/F*100).toFixed(1):"0";return s.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-amber-50 dark:hover:bg-amber-900/10",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:M.label}),s.jsx("td",{className:"py-3 px-4 text-right text-amber-600 font-semibold",children:le(F)}),s.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:le(se)}),s.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${D>=0?"text-green-600":"text-red-600"}`,children:[D>=0?"+":"",le(D)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs(Xe,{variant:Number(Y)>=100?"success":Number(Y)>=80?"warning":"danger",children:[Y,"%"]})})]},M.key)}),s.jsxs("tr",{className:"bg-amber-100 dark:bg-amber-900/20 font-bold",children:[s.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 2"}),s.jsx("td",{className:"py-3 px-4 text-right text-amber-700",children:le(xe)}),s.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:le(he)}),s.jsxs("td",{className:`py-3 px-4 text-right ${he-xe>=0?"text-green-700":"text-red-700"}`,children:[he-xe>=0?"+":"",le(he-xe)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs(Xe,{variant:Number(ne)>=100?"success":"warning",className:"text-base",children:[ne,"%"]})})]})]})]})})})]})]}):s.jsxs(Me,{children:[s.jsx(St,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{children:["Perbandingan Target vs Realisasi Bulanan - ",T]}),s.jsx(Xe,{variant:G?"success":"warning",children:G?"Target Tersedia":"Belum Ada Target"})]})}),s.jsx(_n,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Target RKAP (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),s.jsxs("tbody",{children:[Qo.map(M=>{const F=Number(G==null?void 0:G[M.key])||0,se=z[M.key]||0,D=se-F,Y=F>0?(se/F*100).toFixed(1):"0";return s.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-700/50",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:M.label}),s.jsx("td",{className:"py-3 px-4 text-right text-primary-600 font-semibold",children:le(F)}),s.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:le(se)}),s.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${D>=0?"text-green-600":"text-red-600"}`,children:[D>=0?"+":"",le(D)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs(Xe,{variant:Number(Y)>=100?"success":Number(Y)>=80?"warning":"danger",children:[Y,"%"]})})]},M.key)}),s.jsxs("tr",{className:"bg-dark-100 font-bold",children:[s.jsx("td",{className:"py-3 px-4",children:"TOTAL"}),s.jsx("td",{className:"py-3 px-4 text-right text-primary-700",children:le(Ne)}),s.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:le(Te)}),s.jsxs("td",{className:`py-3 px-4 text-right ${Te-Ne>=0?"text-green-700":"text-red-700"}`,children:[Te-Ne>=0?"+":"",le(Te-Ne)]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs(Xe,{variant:Number(me)>=100?"success":"warning",className:"text-base",children:[me,"%"]})})]})]})]})})})]}),A&&N!=="ALL"&&G&&s.jsx("div",{className:"flex justify-end",children:s.jsxs(ve,{variant:"danger",onClick:()=>U(G.id),children:[s.jsx(ur,{className:"h-4 w-4 mr-2"}),"Hapus Target RKAP ",T]})}),s.jsx(xt,{isOpen:d,onClose:()=>{f(!1),k(el),b(null)},title:x?`Edit Target RKAP ${w.tahun}`:"Buat Target RKAP Baru",size:"lg",children:s.jsxs("form",{onSubmit:de,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{label:"Tahun",value:((ke=w.tahun)==null?void 0:ke.toString())||"",onChange:M=>k(F=>({...F,tahun:M.target.value})),options:IO,required:!0,disabled:!!x}),s.jsx(et,{label:"Plant",value:w.plant||"NPK2",onChange:M=>k(F=>({...F,plant:M.target.value})),options:[{value:"NPK1",label:"NPK Plant 1"},{value:"NPK2",label:"NPK Plant 2"}],required:!0,disabled:!!x})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-dark-700 border-b pb-2",children:"Target Bulanan (Ton)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Qo.map(M=>s.jsx(Ee,{label:M.label,type:"number",value:w[M.key]||"",onChange:F=>R(M.key,F.target.value),placeholder:"0",min:"0"},M.key))})]}),s.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-dark-700",children:"Total Target Tahunan:"}),s.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[le(w.total||0)," Ton"]})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{f(!1),k(el),b(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:c,children:x?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:h,onClose:()=>{p(!1),v(null)},onConfirm:L,title:"Hapus Target RKAP",message:`Apakah Anda yakin ingin menghapus target RKAP tahun ${T}?`,confirmText:"Hapus",variant:"danger",isLoading:c}),s.jsx(jr,{isVisible:g,message:"Data berhasil disimpan!",onClose:()=>m(!1)}),s.jsx(Lr,{isOpen:_,onClose:()=>{O(!1),C("")},sheetName:"rkap",recordId:E,title:"Log Aktivitas RKAP"})]})},Qd={username:"",nama:"",namaLengkap:"",email:"",password:"",role:"user",plant:"NPK2",status:"active"},LTe=()=>{const{user:e}=Tt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Jr(),[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,b]=j.useState(null),[y,v]=j.useState(Qd),[w,k]=j.useState(!1),[N,S]=j.useState(""),[T,P]=j.useState("ALL"),_=[{value:"admin",label:"Admin"},{value:"supervisor",label:"Supervisor"},{value:"user",label:"User"},{value:"avp",label:"AVP"},{value:"manager",label:"Manager"},{value:"eksternal",label:"Eksternal"}],O=[{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"},{value:"ALL",label:"Semua Plant"}];j.useEffect(()=>{(async()=>{l(!0);try{const{readData:J,SHEETS:xe}=await rt(async()=>{const{readData:ue,SHEETS:he}=await Promise.resolve().then(()=>nt);return{readData:ue,SHEETS:he}},void 0),Ne=await J(xe.USERS);if(Ne.success&&Ne.data){const ue=[...Ne.data].sort((he,Te)=>(he.nama||"").localeCompare(Te.nama||""));i(ue)}else i([])}catch(J){console.error("Error fetching data:",J),i([])}finally{l(!1)}})()},[]);const E=async R=>{var J;R.preventDefault(),l(!0);try{const xe={...y,username:y.username||((J=y.email)==null?void 0:J.split("@")[0])||"",namaLengkap:y.namaLengkap||y.nama||""};if(g&&!xe.password&&delete xe.password,g){const Ne={...xe,id:g,updatedAt:new Date().toISOString()},ue=await r("users",Ne);if(ue.success)i(he=>he.map(Te=>Te.id===g?{...xe,id:g,updatedAt:new Date().toISOString()}:Te));else throw new Error(ue.error||"Gagal mengupdate data")}else{const Ne={...xe,createdAt:new Date().toISOString()},ue=await t("users",Ne);if(ue.success&&ue.data){const he={...Ne,...ue.data};i(Te=>[he,...Te])}else throw new Error(ue.error||"Gagal menyimpan data")}u(!1),v(Qd),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(xe){console.error("Error saving data:",xe),alert(xe instanceof Error?xe.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},C=R=>{v({...R,password:"",namaLengkap:R.namaLengkap||R.nama||""}),m(R.id||null),u(!0)},z=R=>{b(R),f(!0)},Q=async()=>{if(x){l(!0);try{const R=await n("users",{id:x});if(R.success)i(J=>J.filter(xe=>xe.id!==x)),f(!1),b(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(R.error||"Gagal menghapus data")}catch(R){console.error("Error deleting data:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},W=async R=>{const J=a.find(xe=>xe.id===R);if(J)try{const xe=J.status==="active"?"inactive":"active",Ne={...J,status:xe},ue=await r("users",Ne);if(ue.success)i(he=>he.map(Te=>Te.id===R?{...Te,status:xe}:Te));else throw new Error(ue.error||"Gagal mengupdate status")}catch(xe){console.error("Error toggling status:",xe),alert(xe instanceof Error?xe.message:"Terjadi kesalahan saat mengubah status")}},q=()=>{v(Qd),m(null),u(!0)},re=a.filter(R=>T==="ALL"||R.role===T),G=R=>{switch(R){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";case"eksternal":return"warning";default:return"primary"}},de=[{key:"nama",header:"User",render:(R,J)=>{var xe;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-semibold",children:(xe=J.namaLengkap||J.nama||J.username||"U")==null?void 0:xe.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:J.namaLengkap||J.nama||J.username}),s.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["@",J.username,"  ",J.email]})]})]})}},{key:"role",header:"Role",render:R=>s.jsxs(Xe,{variant:G(R),children:[s.jsx(Sm,{className:"h-3 w-3 mr-1"}),R.toUpperCase()]})},{key:"plant",header:"Plant",render:R=>s.jsx(Xe,{variant:"info",children:R})},{key:"status",header:"Status",render:(R,J)=>s.jsx("button",{onClick:xe=>{xe.stopPropagation(),W(J.id)},className:"flex items-center gap-2",children:R==="active"?s.jsxs(Xe,{variant:"success",children:[s.jsx(vP,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs(Xe,{variant:"danger",children:[s.jsx(yP,{className:"h-3 w-3 mr-1"}),"Inactive"]})})},{key:"createdAt",header:"Dibuat",render:R=>pt(R)}],ce=(e==null?void 0:e.role)==="admin",U=j.useCallback(()=>{if(c&&!o){const R=document.querySelector("form");R&&R.requestSubmit()}},[c,o]);Br(U,c);const L=re.filter(R=>R.status==="active").length,I=re.filter(R=>R.status==="inactive").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Manajemen User"}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola pengguna sistem"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{value:T,onChange:R=>P(R.target.value),options:[{value:"ALL",label:"Semua Role"},..._],className:"w-40"}),ce&&s.jsxs(ve,{onClick:q,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:s.jsx(pu,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:re.length})]})]})}),s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:s.jsx(vP,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Active Users"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:L})]})]})}),s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:s.jsx(yP,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Inactive Users"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:I})]})]})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Nt,{children:"Daftar User"})})}),s.jsx(Ir,{data:re,columns:de,loading:o,searchable:!0,searchPlaceholder:"Cari nama, username, email, role...",searchKeys:["nama","namaLengkap","username","email","role","plant"],actions:ce?R=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),S(R.id||""),k(!0)},title:"Lihat Log Aktivitas",children:s.jsx(Et,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),C(R)},children:s.jsx(gr,{className:"h-4 w-4 text-primary-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),z(R.id)},children:s.jsx(ur,{className:"h-4 w-4 text-red-600"})})]}):void 0})]}),s.jsx(xt,{isOpen:c,onClose:()=>{u(!1),v(Qd),m(null)},title:g?"Edit User":"Tambah User Baru",size:"md",children:s.jsxs("form",{onSubmit:E,className:"space-y-4",autoComplete:"off",children:[s.jsx(Ee,{label:"Username",type:"text",value:y.username,onChange:R=>v(J=>({...J,username:R.target.value})),placeholder:"Username untuk login",required:!0,disabled:!!g,autoComplete:"off",name:"new-username"}),s.jsx(Ee,{label:"Nama Lengkap",type:"text",value:y.namaLengkap,onChange:R=>v(J=>({...J,namaLengkap:R.target.value,nama:R.target.value})),placeholder:"Nama lengkap",required:!0,autoComplete:"off"}),s.jsx(Ee,{label:"Email",type:"email",value:y.email,onChange:R=>v(J=>({...J,email:R.target.value})),placeholder:"email@example.com",required:!0,autoComplete:"off"}),s.jsx(Ee,{label:g?"Password Baru (kosongkan jika tidak diubah)":"Password",type:"password",value:y.password,onChange:R=>v(J=>({...J,password:R.target.value})),placeholder:"",required:!g,autoComplete:"new-password",name:"new-password"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{label:"Role",value:y.role,onChange:R=>v(J=>({...J,role:R.target.value})),options:_,required:!0}),s.jsx(et,{label:"Plant",value:y.plant,onChange:R=>v(J=>({...J,plant:R.target.value})),options:O,required:!0})]}),s.jsx(et,{label:"Status",value:y.status,onChange:R=>v(J=>({...J,status:R.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],required:!0}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{type:"button",variant:"secondary",onClick:()=>{u(!1),v(Qd),m(null)},children:"Batal"}),s.jsx(ve,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),s.jsx(_r,{isOpen:d,onClose:()=>{f(!1),b(null)},onConfirm:Q,title:"Hapus User",message:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:o}),s.jsx(jr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),s.jsx(Lr,{isOpen:w,onClose:()=>{k(!1),S("")},sheetName:"users",recordId:N,title:"Log Aktivitas User"})]})},FTe=()=>{const{user:e}=Tt(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState("pending"),[b,y]=j.useState("");j.useEffect(()=>{(async()=>{a(!0);try{const{readData:q,SHEETS:re}=await rt(async()=>{const{readData:de,SHEETS:ce}=await Promise.resolve().then(()=>nt);return{readData:de,SHEETS:ce}},void 0),G=await q(re.APPROVAL_REQUESTS);if(G.success&&G.data){const de=[...G.data].sort((ce,U)=>new Date(U.submittedAt||0).getTime()-new Date(ce.submittedAt||0).getTime());r(de)}else r([])}catch(q){console.error("Error fetching data:",q),r([])}finally{a(!1)}})()},[]);const v=async()=>{if(p){a(!0);try{const{updateData:W,SHEETS:q}=await rt(async()=>{const{updateData:de,SHEETS:ce}=await Promise.resolve().then(()=>nt);return{updateData:de,SHEETS:ce}},void 0),re={...p,status:"approved"},G=await W(q.APPROVAL_REQUESTS,re);if(G.success)r(de=>de.map(ce=>ce.id===p.id?{...ce,status:"approved"}:ce)),c(!1),g(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(G.error||"Gagal approve data")}catch(W){console.error("Error approving:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat approve")}finally{a(!1)}}},w=async()=>{if(p){a(!0);try{const{updateData:W,SHEETS:q}=await rt(async()=>{const{updateData:de,SHEETS:ce}=await Promise.resolve().then(()=>nt);return{updateData:de,SHEETS:ce}},void 0),re={...p,status:"rejected",rejectReason:b},G=await W(q.APPROVAL_REQUESTS,re);if(G.success)r(de=>de.map(ce=>ce.id===p.id?{...ce,status:"rejected"}:ce)),d(!1),g(null),y(""),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(G.error||"Gagal reject data")}catch(W){console.error("Error rejecting:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat reject")}finally{a(!1)}}},k=W=>{g(W),o(!0)},N=W=>{g(W),c(!0)},S=W=>{g(W),d(!0)},T=t.filter(W=>m==="all"||W.status===m),P=W=>{switch(W){case"work_request":return{variant:"primary",label:"Work Request"};case"gate_pass":return{variant:"info",label:"Gate Pass"};case"downtime":return{variant:"warning",label:"Downtime"};case"trouble_record":return{variant:"danger",label:"Trouble Record"};default:return{variant:"info",label:W}}},_=W=>{switch(W){case"pending":return{variant:"warning",icon:To,label:"Pending"};case"approved":return{variant:"success",icon:Dc,label:"Approved"};case"rejected":return{variant:"danger",icon:sf,label:"Rejected"};default:return{variant:"info",icon:To,label:W}}},O=[{key:"title",header:"Judul",render:(W,q)=>s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:W}),s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 line-clamp-1",children:q.description})]})},{key:"type",header:"Tipe",render:W=>{const q=P(W);return s.jsx(Xe,{variant:q.variant,children:q.label})}},{key:"submittedBy",header:"Diajukan Oleh"},{key:"submittedAt",header:"Tanggal",render:W=>pt(W)},{key:"status",header:"Status",render:W=>{const q=_(W);return s.jsxs(Xe,{variant:q.variant,children:[s.jsx(q.icon,{className:"h-3 w-3 mr-1"}),q.label]})}}],E=t.filter(W=>W.status==="pending").length,C=t.filter(W=>W.status==="approved").length,z=t.filter(W=>W.status==="rejected").length,Q=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Approval"}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola persetujuan dokumen dan request"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(et,{value:m,onChange:W=>x(W.target.value),options:[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-40"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Me,{className:"p-4 border-l-4 border-l-amber-500 cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",onClick:()=>x("pending"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-xl",children:s.jsx(To,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Menunggu Approval"}),s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:E})]})]})}),s.jsx(Me,{className:"p-4 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",onClick:()=>x("approved"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:s.jsx(Dc,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Approved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:C})]})]})}),s.jsx(Me,{className:"p-4 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:()=>x("rejected"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:s.jsx(sf,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:z})]})]})})]}),s.jsxs(Me,{children:[s.jsx(St,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Nt,{children:"Daftar Approval"})})}),s.jsx(Ir,{data:T,columns:O,loading:n,searchable:!0,searchPlaceholder:"Cari judul, deskripsi, status...",searchKeys:["title","description","submittedBy","status","type","action"],actions:W=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),k(W)},children:s.jsx(bs,{className:"h-4 w-4 text-dark-600"})}),Q&&W.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(ve,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),N(W)},children:s.jsx(Dc,{className:"h-4 w-4 text-green-600"})}),s.jsx(ve,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),S(W)},children:s.jsx(sf,{className:"h-4 w-4 text-red-600"})})]})]})})]}),s.jsx(xt,{isOpen:i,onClose:()=>{o(!1),g(null)},title:"Detail Approval",size:"md",children:p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-dark-50 rounded-xl",children:[s.jsx(wi,{className:"h-10 w-10 text-primary-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:p.title}),s.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:p.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tipe"}),s.jsx(Xe,{variant:P(p.type).variant,children:P(p.type).label})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Status"}),s.jsx(Xe,{variant:_(p.status).variant,children:_(p.status).label})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Diajukan Oleh"}),s.jsx("p",{className:"font-medium",children:p.submittedBy})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tanggal"}),s.jsx("p",{className:"font-medium",children:pt(p.submittedAt)})]})]}),p.data&&s.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[s.jsx("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Detail Data:"}),s.jsx("div",{className:"space-y-1",children:Object.entries(p.data).map(([W,q])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-dark-500 dark:text-dark-400 capitalize",children:[W.replace(/([A-Z])/g," $1").trim(),":"]}),s.jsx("span",{className:"font-medium",children:String(q)})]},W))})]}),Q&&p.status==="pending"&&s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(ve,{variant:"danger",onClick:()=>{o(!1),S(p)},children:[s.jsx(sf,{className:"h-4 w-4 mr-2"}),"Reject"]}),s.jsxs(ve,{variant:"success",onClick:()=>{o(!1),N(p)},children:[s.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]})}),s.jsx(_r,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:v,title:"Approve Request",message:`Apakah Anda yakin ingin menyetujui "${p==null?void 0:p.title}"?`,confirmText:"Approve",variant:"info",isLoading:n}),s.jsx(xt,{isOpen:u,onClose:()=>{d(!1),g(null),y("")},title:"Reject Request",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-dark-600",children:['Apakah Anda yakin ingin menolak "',p==null?void 0:p.title,'"?']}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Penolakan (opsional)"}),s.jsx("textarea",{value:b,onChange:W=>y(W.target.value),placeholder:"Masukkan alasan penolakan...",className:"input-field min-h-[80px]"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(ve,{variant:"secondary",onClick:()=>{d(!1),g(null),y("")},children:"Batal"}),s.jsx(ve,{variant:"danger",onClick:w,isLoading:n,children:"Reject"})]})]})}),s.jsx(jr,{isVisible:f,message:"Berhasil!",onClose:()=>h(!1)})]})},BTe=({children:e})=>{const{isLoggedIn:t}=Tt();return t?s.jsx(s.Fragment,{children:e}):s.jsx(Ml,{to:"/login",replace:!0})},$Te=({children:e})=>{const{isLoggedIn:t}=Tt();return t?s.jsx(Ml,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e})},LO=({children:e})=>{const{user:t}=Tt(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return bD(r,n)?s.jsx(s.Fragment,{children:e}):s.jsx(Ml,{to:"/dashboard",replace:!0})},UTe=({children:e})=>{const{user:t}=Tt(),r=(t==null?void 0:t.role)||"";return t==null||t.plant,wD(r)?s.jsx(s.Fragment,{children:e}):s.jsx(Ml,{to:"/dashboard",replace:!0})},KTe=({children:e})=>{const{user:t}=Tt(),r=(t==null?void 0:t.role)||"";return kD(r)?s.jsx(s.Fragment,{children:e}):s.jsx(Ml,{to:"/dashboard",replace:!0})};function VTe(){return s.jsxs(s.Fragment,{children:[s.jsxs(m7,{children:[s.jsx(ft,{path:"/login",element:s.jsx($Te,{children:s.jsx(bee,{})})}),s.jsxs(ft,{path:"/",element:s.jsx(BTe,{children:s.jsx(vee,{})}),children:[s.jsx(ft,{index:!0,element:s.jsx(Ml,{to:"/dashboard",replace:!0})}),s.jsx(ft,{path:"dashboard",element:s.jsx(rTe,{})}),s.jsxs(ft,{path:"produksi",children:[s.jsx(ft,{path:"npk1",element:s.jsx(pO,{plant:"NPK1"})}),s.jsx(ft,{path:"npk2",element:s.jsx(pO,{plant:"NPK2"})}),s.jsx(ft,{path:"blending",element:s.jsx(mO,{type:"blending"})}),s.jsx(ft,{path:"retail",element:s.jsx(mO,{type:"retail"})}),s.jsx(ft,{path:"npk-mini",element:s.jsx(sTe,{})})]}),s.jsxs(ft,{path:"laporan",children:[s.jsx(ft,{path:"kop-npk1",element:s.jsx(SO,{plant:"NPK1"})}),s.jsx(ft,{path:"kop-npk2",element:s.jsx(SO,{plant:"NPK2"})}),s.jsx(ft,{path:"downtime-npk1",element:s.jsx(gO,{plant:"NPK1"})}),s.jsx(ft,{path:"downtime-npk2",element:s.jsx(gO,{plant:"NPK2"})}),s.jsx(ft,{path:"timesheet-forklift-npk1",element:s.jsx(vO,{plant:"NPK1"})}),s.jsx(ft,{path:"timesheet-forklift-npk2",element:s.jsx(vO,{plant:"NPK2"})}),s.jsx(ft,{path:"timesheet-loader-npk1",element:s.jsx(bO,{plant:"NPK1"})}),s.jsx(ft,{path:"timesheet-loader-npk2",element:s.jsx(bO,{plant:"NPK2"})}),s.jsx(ft,{path:"pemantauan-bb-npk1",element:s.jsx(NO,{plant:"NPK1"})}),s.jsx(ft,{path:"pemantauan-bb-npk2",element:s.jsx(NO,{plant:"NPK2"})})]}),s.jsxs(ft,{path:"data",children:[s.jsx(ft,{path:"inventaris",element:s.jsx(MTe,{})}),s.jsx(ft,{path:"work-request-npk1",element:s.jsx(TO,{plant:"NPK1"})}),s.jsx(ft,{path:"work-request-npk2",element:s.jsx(TO,{plant:"NPK2"})}),s.jsx(ft,{path:"bahan-baku-npk1",element:s.jsx(EO,{plant:"NPK1"})}),s.jsx(ft,{path:"bahan-baku-npk2",element:s.jsx(EO,{plant:"NPK2"})}),s.jsx(ft,{path:"vibrasi-npk1",element:s.jsx(AO,{plant:"NPK1"})}),s.jsx(ft,{path:"vibrasi-npk2",element:s.jsx(AO,{plant:"NPK2"})}),s.jsx(ft,{path:"gate-pass-npk1",element:s.jsx(OO,{plant:"NPK1"})}),s.jsx(ft,{path:"gate-pass-npk2",element:s.jsx(OO,{plant:"NPK2"})}),s.jsx(ft,{path:"perbaikan-tahunan-npk1",element:s.jsx(CO,{plant:"NPK1"})}),s.jsx(ft,{path:"perbaikan-tahunan-npk2",element:s.jsx(CO,{plant:"NPK2"})}),s.jsx(ft,{path:"trouble-record-npk1",element:s.jsx(DO,{plant:"NPK1"})}),s.jsx(ft,{path:"trouble-record-npk2",element:s.jsx(DO,{plant:"NPK2"})}),s.jsx(ft,{path:"dokumentasi-foto-npk1",element:s.jsx(MO,{plant:"NPK1"})}),s.jsx(ft,{path:"dokumentasi-foto-npk2",element:s.jsx(MO,{plant:"NPK2"})}),s.jsx(ft,{path:"rekap-bbm-npk1",element:s.jsx(RO,{plant:"NPK1"})}),s.jsx(ft,{path:"rekap-bbm-npk2",element:s.jsx(RO,{plant:"NPK2"})}),s.jsx(ft,{path:"riksa-timb-portabel",element:s.jsx(_Te,{})}),s.jsx(ft,{path:"perta",element:s.jsx(wTe,{})})]}),s.jsxs(ft,{path:"settings",children:[s.jsx(ft,{path:"akun",element:s.jsx(LO,{children:s.jsx(RTe,{})})}),s.jsx(ft,{path:"rkap",element:s.jsx(KTe,{children:s.jsx(ITe,{})})}),s.jsx(ft,{path:"users",element:s.jsx(UTe,{children:s.jsx(LTe,{})})}),s.jsx(ft,{path:"approval",element:s.jsx(LO,{children:s.jsx(FTe,{})})})]})]}),s.jsx(ft,{path:"*",element:s.jsx(Ml,{to:"/dashboard",replace:!0})})]}),s.jsx(eW,{})]})}const HTe=()=>{var t;const e=localStorage.getItem("ui-storage");if(e)try{const r=JSON.parse(e);((t=r.state)==null?void 0:t.darkMode)===!0&&(r.state.darkMode=!1,localStorage.setItem("ui-storage",JSON.stringify(r)))}catch{localStorage.removeItem("ui-storage")}document.documentElement.classList.remove("dark")};HTe();y1.createRoot(document.getElementById("root")).render(s.jsx(fe.StrictMode,{children:s.jsx(k7,{children:s.jsx(VTe,{})})}));
