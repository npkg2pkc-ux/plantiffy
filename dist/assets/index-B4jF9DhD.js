function t8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UO={exports:{}},Yg={},KO={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=Symbol.for("react.element"),r8=Symbol.for("react.portal"),n8=Symbol.for("react.fragment"),a8=Symbol.for("react.strict_mode"),i8=Symbol.for("react.profiler"),s8=Symbol.for("react.provider"),o8=Symbol.for("react.context"),l8=Symbol.for("react.forward_ref"),c8=Symbol.for("react.suspense"),u8=Symbol.for("react.memo"),d8=Symbol.for("react.lazy"),FS=Symbol.iterator;function f8(e){return e===null||typeof e!="object"?null:(e=FS&&e[FS]||e["@@iterator"],typeof e=="function"?e:null)}var VO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zO=Object.assign,HO={};function Wu(e,t,r){this.props=e,this.context=t,this.refs=HO,this.updater=r||VO}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WO(){}WO.prototype=Wu.prototype;function vk(e,t,r){this.props=e,this.context=t,this.refs=HO,this.updater=r||VO}var yk=vk.prototype=new WO;yk.constructor=vk;zO(yk,Wu.prototype);yk.isPureReactComponent=!0;var $S=Array.isArray,GO=Object.prototype.hasOwnProperty,bk={current:null},qO={key:!0,ref:!0,__self:!0,__source:!0};function YO(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)GO.call(t,n)&&!qO.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:s0,type:e,key:s,ref:o,props:a,_owner:bk.current}}function h8(e,t){return{$$typeof:s0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wk(e){return typeof e=="object"&&e!==null&&e.$$typeof===s0}function p8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BS=/\/+/g;function Pv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p8(""+e.key):t.toString(36)}function Ep(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s0:case r8:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Pv(o,0):n,$S(a)?(r="",e!=null&&(r=e.replace(BS,"$&/")+"/"),Ep(a,t,r,"",function(u){return u})):a!=null&&(wk(a)&&(a=h8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(BS,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",$S(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Pv(s,l);o+=Ep(s,t,r,c,a)}else if(c=f8(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Pv(s,l++),o+=Ep(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function D0(e,t,r){if(e==null)return e;var n=[],a=0;return Ep(e,n,"","",function(s){return t.call(r,s,a++)}),n}function m8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ta={current:null},Ap={transition:null},g8={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:Ap,ReactCurrentOwner:bk};function XO(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:D0,forEach:function(e,t,r){D0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return D0(e,function(){t++}),t},toArray:function(e){return D0(e,function(t){return t})||[]},only:function(e){if(!wk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nt.Component=Wu;Nt.Fragment=n8;Nt.Profiler=i8;Nt.PureComponent=vk;Nt.StrictMode=a8;Nt.Suspense=c8;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g8;Nt.act=XO;Nt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zO({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=bk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GO.call(t,c)&&!qO.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:s0,type:e.type,key:a,ref:s,props:n,_owner:o}};Nt.createContext=function(e){return e={$$typeof:o8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s8,_context:e},e.Consumer=e};Nt.createElement=YO;Nt.createFactory=function(e){var t=YO.bind(null,e);return t.type=e,t};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(e){return{$$typeof:l8,render:e}};Nt.isValidElement=wk;Nt.lazy=function(e){return{$$typeof:d8,_payload:{_status:-1,_result:e},_init:m8}};Nt.memo=function(e,t){return{$$typeof:u8,type:e,compare:t===void 0?null:t}};Nt.startTransition=function(e){var t=Ap.transition;Ap.transition={};try{e()}finally{Ap.transition=t}};Nt.unstable_act=XO;Nt.useCallback=function(e,t){return ta.current.useCallback(e,t)};Nt.useContext=function(e){return ta.current.useContext(e)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(e){return ta.current.useDeferredValue(e)};Nt.useEffect=function(e,t){return ta.current.useEffect(e,t)};Nt.useId=function(){return ta.current.useId()};Nt.useImperativeHandle=function(e,t,r){return ta.current.useImperativeHandle(e,t,r)};Nt.useInsertionEffect=function(e,t){return ta.current.useInsertionEffect(e,t)};Nt.useLayoutEffect=function(e,t){return ta.current.useLayoutEffect(e,t)};Nt.useMemo=function(e,t){return ta.current.useMemo(e,t)};Nt.useReducer=function(e,t,r){return ta.current.useReducer(e,t,r)};Nt.useRef=function(e){return ta.current.useRef(e)};Nt.useState=function(e){return ta.current.useState(e)};Nt.useSyncExternalStore=function(e,t,r){return ta.current.useSyncExternalStore(e,t,r)};Nt.useTransition=function(){return ta.current.useTransition()};Nt.version="18.3.1";KO.exports=Nt;var j=KO.exports;const pe=$t(j),JO=t8({__proto__:null,default:pe},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x8=j,v8=Symbol.for("react.element"),y8=Symbol.for("react.fragment"),b8=Object.prototype.hasOwnProperty,w8=x8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k8={key:!0,ref:!0,__self:!0,__source:!0};function QO(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)b8.call(t,n)&&!k8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:v8,type:e,key:s,ref:o,props:a,_owner:w8.current}}Yg.Fragment=y8;Yg.jsx=QO;Yg.jsxs=QO;UO.exports=Yg;var i=UO.exports,k1={},ZO={exports:{}},Oa={},eC={exports:{}},tC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,M){var Y=re.length;re.push(M);e:for(;0<Y;){var ee=Y-1>>>1,D=re[ee];if(0<a(D,M))re[ee]=M,re[Y]=D,Y=ee;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var M=re[0],Y=re.pop();if(Y!==M){re[0]=Y;e:for(var ee=0,D=re.length,J=D>>>1;ee<J;){var z=2*(ee+1)-1,L=re[z],te=z+1,ye=re[te];if(0>a(L,Y))te<D&&0>a(ye,L)?(re[ee]=ye,re[te]=Y,ee=te):(re[ee]=L,re[z]=Y,ee=z);else if(te<D&&0>a(ye,Y))re[ee]=ye,re[te]=Y,ee=te;else break e}}return M}function a(re,M){var Y=re.sortIndex-M.sortIndex;return Y!==0?Y:re.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(re){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=re)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function w(re){if(m=!1,v(re),!g)if(r(c)!==null)g=!0,V(k);else{var M=r(u);M!==null&&G(w,M.startTime-re)}}function k(re,M){g=!1,m&&(m=!1,b(T),T=-1),p=!0;var Y=h;try{for(v(M),f=r(c);f!==null&&(!(f.expirationTime>M)||re&&!E());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var D=ee(f.expirationTime<=M);M=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),v(M)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var z=r(u);z!==null&&G(w,z.startTime-M),J=!1}return J}finally{f=null,h=Y,p=!1}}var N=!1,S=null,T=-1,P=5,_=-1;function E(){return!(e.unstable_now()-_<P)}function A(){if(S!==null){var re=e.unstable_now();_=re;var M=!0;try{M=S(!0,re)}finally{M?R():(N=!1,S=null)}}else N=!1}var R;if(typeof y=="function")R=function(){y(A)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Z=q.port2;q.port1.onmessage=A,R=function(){Z.postMessage(null)}}else R=function(){x(A,0)};function V(re){S=re,N||(N=!0,R())}function G(re,M){T=x(function(){re(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,V(k))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(re){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var Y=h;h=M;try{return re()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,M){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Y=h;h=re;try{return M()}finally{h=Y}},e.unstable_scheduleCallback=function(re,M,Y){var ee=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,re){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,re={id:d++,callback:M,priorityLevel:re,startTime:Y,expirationTime:D,sortIndex:-1},Y>ee?(re.sortIndex=Y,t(u,re),r(c)===null&&re===r(u)&&(m?(b(T),T=-1):m=!0,G(w,Y-ee))):(re.sortIndex=D,t(c,re),g||p||(g=!0,V(k))),re},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(re){var M=h;return function(){var Y=h;h=M;try{return re.apply(this,arguments)}finally{h=Y}}}})(tC);eC.exports=tC;var j8=eC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S8=j,_a=j8;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,zf={};function Gl(e,t){ou(e,t),ou(e+"Capture",t)}function ou(e,t){for(zf[e]=t,e=0;e<t.length;e++)rC.add(t[e])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j1=Object.prototype.hasOwnProperty,N8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,US={},KS={};function T8(e){return j1.call(KS,e)?!0:j1.call(US,e)?!1:N8.test(e)?KS[e]=!0:(US[e]=!0,!1)}function P8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _8(e,t,r,n){if(t===null||typeof t>"u"||P8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ra(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new ra(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var kk=/[\-:]([a-z])/g;function jk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kk,jk);wn[t]=new ra(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kk,jk);wn[t]=new ra(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kk,jk);wn[t]=new ra(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new ra(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sk(e,t,r,n){var a=wn.hasOwnProperty(t)?wn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_8(t,r,a,n)&&(r=null),n||a===null?T8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ks=S8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M0=Symbol.for("react.element"),bc=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),Nk=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),nC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),T1=Symbol.for("react.suspense_list"),Pk=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),iC=Symbol.for("react.offscreen"),VS=Symbol.iterator;function yd(e){return e===null||typeof e!="object"?null:(e=VS&&e[VS]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,_v;function sf(e){if(_v===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_v=t&&t[1]||""}return`
`+_v+e}var Ev=!1;function Av(e,t){if(!e||Ev)return"";Ev=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ev=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sf(e):""}function E8(e){switch(e.tag){case 5:return sf(e.type);case 16:return sf("Lazy");case 13:return sf("Suspense");case 19:return sf("SuspenseList");case 0:case 2:case 15:return e=Av(e.type,!1),e;case 11:return e=Av(e.type.render,!1),e;case 1:return e=Av(e.type,!0),e;default:return""}}function P1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wc:return"Fragment";case bc:return"Portal";case S1:return"Profiler";case Nk:return"StrictMode";case N1:return"Suspense";case T1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aC:return(e.displayName||"Context")+".Consumer";case nC:return(e._context.displayName||"Context")+".Provider";case Tk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pk:return t=e.displayName||null,t!==null?t:P1(e.type)||"Memo";case ro:t=e._payload,e=e._init;try{return P1(e(t))}catch{}}return null}function A8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P1(t);case 8:return t===Nk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O8(e){var t=sC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function R0(e){e._valueTracker||(e._valueTracker=O8(e))}function oC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _1(e,t){var r=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Do(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lC(e,t){t=t.checked,t!=null&&Sk(e,"checked",t,!1)}function E1(e,t){lC(e,t);var r=Do(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?A1(e,t.type,r):t.hasOwnProperty("defaultValue")&&A1(e,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function A1(e,t,r){(t!=="number"||Gp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var of=Array.isArray;function zc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Do(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function O1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(He(92));if(of(r)){if(1<r.length)throw Error(He(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Do(r)}}function cC(e,t){var r=Do(t.value),n=Do(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function GS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var I0,dC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(I0=I0||document.createElement("div"),I0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=I0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C8=["Webkit","ms","Moz","O"];Object.keys(mf).forEach(function(e){C8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mf[t]=mf[e]})});function fC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mf.hasOwnProperty(e)&&mf[e]?(""+t).trim():t+"px"}function hC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=fC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var D8=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D1(e,t){if(t){if(D8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function M1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R1=null;function _k(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var I1=null,Hc=null,Wc=null;function qS(e){if(e=c0(e)){if(typeof I1!="function")throw Error(He(280));var t=e.stateNode;t&&(t=ex(t),I1(e.stateNode,e.type,t))}}function pC(e){Hc?Wc?Wc.push(e):Wc=[e]:Hc=e}function mC(){if(Hc){var e=Hc,t=Wc;if(Wc=Hc=null,qS(e),t)for(e=0;e<t.length;e++)qS(t[e])}}function gC(e,t){return e(t)}function xC(){}var Ov=!1;function vC(e,t,r){if(Ov)return e(t,r);Ov=!0;try{return gC(e,t,r)}finally{Ov=!1,(Hc!==null||Wc!==null)&&(xC(),mC())}}function Wf(e,t){var r=e.stateNode;if(r===null)return null;var n=ex(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(He(231,t,typeof r));return r}var L1=!1;if(fs)try{var bd={};Object.defineProperty(bd,"passive",{get:function(){L1=!0}}),window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{L1=!1}function M8(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var gf=!1,qp=null,Yp=!1,F1=null,R8={onError:function(e){gf=!0,qp=e}};function I8(e,t,r,n,a,s,o,l,c){gf=!1,qp=null,M8.apply(R8,arguments)}function L8(e,t,r,n,a,s,o,l,c){if(I8.apply(this,arguments),gf){if(gf){var u=qp;gf=!1,qp=null}else throw Error(He(198));Yp||(Yp=!0,F1=u)}}function ql(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YS(e){if(ql(e)!==e)throw Error(He(188))}function F8(e){var t=e.alternate;if(!t){if(t=ql(e),t===null)throw Error(He(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return YS(a),e;if(s===n)return YS(a),t;s=s.sibling}throw Error(He(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?e:t}function bC(e){return e=F8(e),e!==null?wC(e):null}function wC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wC(e);if(t!==null)return t;e=e.sibling}return null}var kC=_a.unstable_scheduleCallback,XS=_a.unstable_cancelCallback,$8=_a.unstable_shouldYield,B8=_a.unstable_requestPaint,Pr=_a.unstable_now,U8=_a.unstable_getCurrentPriorityLevel,Ek=_a.unstable_ImmediatePriority,jC=_a.unstable_UserBlockingPriority,Xp=_a.unstable_NormalPriority,K8=_a.unstable_LowPriority,SC=_a.unstable_IdlePriority,Xg=null,Mi=null;function V8(e){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(Xg,e,void 0,(e.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:W8,z8=Math.log,H8=Math.LN2;function W8(e){return e>>>=0,e===0?32:31-(z8(e)/H8|0)|0}var L0=64,F0=4194304;function lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=lf(l):(s&=o,s!==0&&(n=lf(s)))}else o=r&~a,o!==0?n=lf(o):s!==0&&(n=lf(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gi(t),a=1<<r,n|=e[r],t&=~a;return n}function G8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-gi(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=G8(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function $1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NC(){var e=L0;return L0<<=1,!(L0&4194240)&&(L0=64),e}function Cv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function o0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gi(t),e[t]=r}function Y8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-gi(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Ak(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Vt=0;function TC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PC,Ok,_C,EC,AC,B1=!1,$0=[],xo=null,vo=null,yo=null,Gf=new Map,qf=new Map,so=[],X8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JS(e,t){switch(e){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qf.delete(t.pointerId)}}function wd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=c0(t),t!==null&&Ok(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function J8(e,t,r,n,a){switch(t){case"focusin":return xo=wd(xo,e,t,r,n,a),!0;case"dragenter":return vo=wd(vo,e,t,r,n,a),!0;case"mouseover":return yo=wd(yo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Gf.set(s,wd(Gf.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,qf.set(s,wd(qf.get(s)||null,e,t,r,n,a)),!0}return!1}function OC(e){var t=pl(e.target);if(t!==null){var r=ql(t);if(r!==null){if(t=r.tag,t===13){if(t=yC(r),t!==null){e.blockedOn=t,AC(e.priority,function(){_C(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Op(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=U1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);R1=n,r.target.dispatchEvent(n),R1=null}else return t=c0(r),t!==null&&Ok(t),e.blockedOn=r,!1;t.shift()}return!0}function QS(e,t,r){Op(e)&&r.delete(t)}function Q8(){B1=!1,xo!==null&&Op(xo)&&(xo=null),vo!==null&&Op(vo)&&(vo=null),yo!==null&&Op(yo)&&(yo=null),Gf.forEach(QS),qf.forEach(QS)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,B1||(B1=!0,_a.unstable_scheduleCallback(_a.unstable_NormalPriority,Q8)))}function Yf(e){function t(a){return kd(a,e)}if(0<$0.length){kd($0[0],e);for(var r=1;r<$0.length;r++){var n=$0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xo!==null&&kd(xo,e),vo!==null&&kd(vo,e),yo!==null&&kd(yo,e),Gf.forEach(t),qf.forEach(t),r=0;r<so.length;r++)n=so[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)OC(r),r.blockedOn===null&&so.shift()}var Gc=ks.ReactCurrentBatchConfig,Qp=!0;function Z8(e,t,r,n){var a=Vt,s=Gc.transition;Gc.transition=null;try{Vt=1,Ck(e,t,r,n)}finally{Vt=a,Gc.transition=s}}function e$(e,t,r,n){var a=Vt,s=Gc.transition;Gc.transition=null;try{Vt=4,Ck(e,t,r,n)}finally{Vt=a,Gc.transition=s}}function Ck(e,t,r,n){if(Qp){var a=U1(e,t,r,n);if(a===null)Kv(e,t,n,Zp,r),JS(e,n);else if(J8(a,e,t,r,n))n.stopPropagation();else if(JS(e,n),t&4&&-1<X8.indexOf(e)){for(;a!==null;){var s=c0(a);if(s!==null&&PC(s),s=U1(e,t,r,n),s===null&&Kv(e,t,n,Zp,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Kv(e,t,n,null,r)}}var Zp=null;function U1(e,t,r,n){if(Zp=null,e=_k(n),e=pl(e),e!==null)if(t=ql(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zp=e,null}function CC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U8()){case Ek:return 1;case jC:return 4;case Xp:case K8:return 16;case SC:return 536870912;default:return 16}default:return 16}}var co=null,Dk=null,Cp=null;function DC(){if(Cp)return Cp;var e,t=Dk,r=t.length,n,a="value"in co?co.value:co.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Cp=a.slice(e,1<n?1-n:void 0)}function Dp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function B0(){return!0}function ZS(){return!1}function Ca(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?B0:ZS,this.isPropagationStopped=ZS,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=B0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=B0)},persist:function(){},isPersistent:B0}),t}var Gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mk=Ca(Gu),l0=vr({},Gu,{view:0,detail:0}),t$=Ca(l0),Dv,Mv,jd,Jg=vr({},l0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jd&&(jd&&e.type==="mousemove"?(Dv=e.screenX-jd.screenX,Mv=e.screenY-jd.screenY):Mv=Dv=0,jd=e),Dv)},movementY:function(e){return"movementY"in e?e.movementY:Mv}}),eN=Ca(Jg),r$=vr({},Jg,{dataTransfer:0}),n$=Ca(r$),a$=vr({},l0,{relatedTarget:0}),Rv=Ca(a$),i$=vr({},Gu,{animationName:0,elapsedTime:0,pseudoElement:0}),s$=Ca(i$),o$=vr({},Gu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l$=Ca(o$),c$=vr({},Gu,{data:0}),tN=Ca(c$),u$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f$[e])?!!t[e]:!1}function Rk(){return h$}var p$=vr({},l0,{key:function(e){if(e.key){var t=u$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rk,charCode:function(e){return e.type==="keypress"?Dp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m$=Ca(p$),g$=vr({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rN=Ca(g$),x$=vr({},l0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rk}),v$=Ca(x$),y$=vr({},Gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),b$=Ca(y$),w$=vr({},Jg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k$=Ca(w$),j$=[9,13,27,32],Ik=fs&&"CompositionEvent"in window,xf=null;fs&&"documentMode"in document&&(xf=document.documentMode);var S$=fs&&"TextEvent"in window&&!xf,MC=fs&&(!Ik||xf&&8<xf&&11>=xf),nN=" ",aN=!1;function RC(e,t){switch(e){case"keyup":return j$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kc=!1;function N$(e,t){switch(e){case"compositionend":return IC(t);case"keypress":return t.which!==32?null:(aN=!0,nN);case"textInput":return e=t.data,e===nN&&aN?null:e;default:return null}}function T$(e,t){if(kc)return e==="compositionend"||!Ik&&RC(e,t)?(e=DC(),Cp=Dk=co=null,kc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MC&&t.locale!=="ko"?null:t.data;default:return null}}var P$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P$[e.type]:t==="textarea"}function LC(e,t,r,n){pC(n),t=em(t,"onChange"),0<t.length&&(r=new Mk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vf=null,Xf=null;function _$(e){qC(e,0)}function Qg(e){var t=Nc(e);if(oC(t))return e}function E$(e,t){if(e==="change")return t}var FC=!1;if(fs){var Iv;if(fs){var Lv="oninput"in document;if(!Lv){var sN=document.createElement("div");sN.setAttribute("oninput","return;"),Lv=typeof sN.oninput=="function"}Iv=Lv}else Iv=!1;FC=Iv&&(!document.documentMode||9<document.documentMode)}function oN(){vf&&(vf.detachEvent("onpropertychange",$C),Xf=vf=null)}function $C(e){if(e.propertyName==="value"&&Qg(Xf)){var t=[];LC(t,Xf,e,_k(e)),vC(_$,t)}}function A$(e,t,r){e==="focusin"?(oN(),vf=t,Xf=r,vf.attachEvent("onpropertychange",$C)):e==="focusout"&&oN()}function O$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qg(Xf)}function C$(e,t){if(e==="click")return Qg(t)}function D$(e,t){if(e==="input"||e==="change")return Qg(t)}function M$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wi=typeof Object.is=="function"?Object.is:M$;function Jf(e,t){if(wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!j1.call(t,a)||!wi(e[a],t[a]))return!1}return!0}function lN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cN(e,t){var r=lN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lN(r)}}function BC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UC(){for(var e=window,t=Gp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gp(e.document)}return t}function Lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R$(e){var t=UC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&BC(r.ownerDocument.documentElement,r)){if(n!==null&&Lk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=cN(r,s);var o=cN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I$=fs&&"documentMode"in document&&11>=document.documentMode,jc=null,K1=null,yf=null,V1=!1;function uN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V1||jc==null||jc!==Gp(n)||(n=jc,"selectionStart"in n&&Lk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yf&&Jf(yf,n)||(yf=n,n=em(K1,"onSelect"),0<n.length&&(t=new Mk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jc)))}function U0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sc={animationend:U0("Animation","AnimationEnd"),animationiteration:U0("Animation","AnimationIteration"),animationstart:U0("Animation","AnimationStart"),transitionend:U0("Transition","TransitionEnd")},Fv={},KC={};fs&&(KC=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function Zg(e){if(Fv[e])return Fv[e];if(!Sc[e])return e;var t=Sc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in KC)return Fv[e]=t[r];return e}var VC=Zg("animationend"),zC=Zg("animationiteration"),HC=Zg("animationstart"),WC=Zg("transitionend"),GC=new Map,dN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(e,t){GC.set(e,t),Gl(t,[e])}for(var $v=0;$v<dN.length;$v++){var Bv=dN[$v],L$=Bv.toLowerCase(),F$=Bv[0].toUpperCase()+Bv.slice(1);Bo(L$,"on"+F$)}Bo(VC,"onAnimationEnd");Bo(zC,"onAnimationIteration");Bo(HC,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(WC,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$$=new Set("cancel close invalid load scroll toggle".split(" ").concat(cf));function fN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,L8(n,t,void 0,e),e.currentTarget=null}function qC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;fN(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;fN(a,l,u),s=c}}}if(Yp)throw e=F1,Yp=!1,F1=null,e}function ar(e,t){var r=t[q1];r===void 0&&(r=t[q1]=new Set);var n=e+"__bubble";r.has(n)||(YC(t,e,2,!1),r.add(n))}function Uv(e,t,r){var n=0;t&&(n|=4),YC(r,e,n,t)}var K0="_reactListening"+Math.random().toString(36).slice(2);function Qf(e){if(!e[K0]){e[K0]=!0,rC.forEach(function(r){r!=="selectionchange"&&($$.has(r)||Uv(r,!1,e),Uv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[K0]||(t[K0]=!0,Uv("selectionchange",!1,t))}}function YC(e,t,r,n){switch(CC(t)){case 1:var a=Z8;break;case 4:a=e$;break;default:a=Ck}r=a.bind(null,t,r,e),a=void 0,!L1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Kv(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=pl(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}vC(function(){var u=s,d=_k(r),f=[];e:{var h=GC.get(e);if(h!==void 0){var p=Mk,g=e;switch(e){case"keypress":if(Dp(r)===0)break e;case"keydown":case"keyup":p=m$;break;case"focusin":g="focus",p=Rv;break;case"focusout":g="blur",p=Rv;break;case"beforeblur":case"afterblur":p=Rv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=n$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=v$;break;case VC:case zC:case HC:p=s$;break;case WC:p=b$;break;case"scroll":p=t$;break;case"wheel":p=k$;break;case"copy":case"cut":case"paste":p=l$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rN}var m=(t&4)!==0,x=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,b!==null&&(w=Wf(y,b),w!=null&&m.push(Zf(y,w,v)))),x)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==R1&&(g=r.relatedTarget||r.fromElement)&&(pl(g)||g[hs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?pl(g):null,g!==null&&(x=ql(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=eN,w="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=rN,w="onPointerLeave",b="onPointerEnter",y="pointer"),x=p==null?h:Nc(p),v=g==null?h:Nc(g),h=new m(w,y+"leave",p,r,d),h.target=x,h.relatedTarget=v,w=null,pl(d)===u&&(m=new m(b,y+"enter",g,r,d),m.target=v,m.relatedTarget=x,w=m),x=w,p&&g)t:{for(m=p,b=g,y=0,v=m;v;v=cc(v))y++;for(v=0,w=b;w;w=cc(w))v++;for(;0<y-v;)m=cc(m),y--;for(;0<v-y;)b=cc(b),v--;for(;y--;){if(m===b||b!==null&&m===b.alternate)break t;m=cc(m),b=cc(b)}m=null}else m=null;p!==null&&hN(f,h,p,m,!1),g!==null&&x!==null&&hN(f,x,g,m,!0)}}e:{if(h=u?Nc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=E$;else if(iN(h))if(FC)k=D$;else{k=O$;var N=A$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=C$);if(k&&(k=k(e,u))){LC(f,k,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&A1(h,"number",h.value)}switch(N=u?Nc(u):window,e){case"focusin":(iN(N)||N.contentEditable==="true")&&(jc=N,K1=u,yf=null);break;case"focusout":yf=K1=jc=null;break;case"mousedown":V1=!0;break;case"contextmenu":case"mouseup":case"dragend":V1=!1,uN(f,r,d);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":uN(f,r,d)}var S;if(Ik)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else kc?RC(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(MC&&r.locale!=="ko"&&(kc||T!=="onCompositionStart"?T==="onCompositionEnd"&&kc&&(S=DC()):(co=d,Dk="value"in co?co.value:co.textContent,kc=!0)),N=em(u,T),0<N.length&&(T=new tN(T,e,null,r,d),f.push({event:T,listeners:N}),S?T.data=S:(S=IC(r),S!==null&&(T.data=S)))),(S=S$?N$(e,r):T$(e,r))&&(u=em(u,"onBeforeInput"),0<u.length&&(d=new tN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}qC(f,t)})}function Zf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function em(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Wf(e,r),s!=null&&n.unshift(Zf(e,s,a)),s=Wf(e,t),s!=null&&n.push(Zf(e,s,a))),e=e.return}return n}function cc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hN(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wf(r,s),c!=null&&o.unshift(Zf(r,c,l))):a||(c=Wf(r,s),c!=null&&o.push(Zf(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var B$=/\r\n?/g,U$=/\u0000|\uFFFD/g;function pN(e){return(typeof e=="string"?e:""+e).replace(B$,`
`).replace(U$,"")}function V0(e,t,r){if(t=pN(t),pN(e)!==t&&r)throw Error(He(425))}function tm(){}var z1=null,H1=null;function W1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var G1=typeof setTimeout=="function"?setTimeout:void 0,K$=typeof clearTimeout=="function"?clearTimeout:void 0,mN=typeof Promise=="function"?Promise:void 0,V$=typeof queueMicrotask=="function"?queueMicrotask:typeof mN<"u"?function(e){return mN.resolve(null).then(e).catch(z$)}:G1;function z$(e){setTimeout(function(){throw e})}function Vv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Yf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Yf(t)}function bo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),_i="__reactFiber$"+qu,eh="__reactProps$"+qu,hs="__reactContainer$"+qu,q1="__reactEvents$"+qu,H$="__reactListeners$"+qu,W$="__reactHandles$"+qu;function pl(e){var t=e[_i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hs]||r[_i]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gN(e);e!==null;){if(r=e[_i])return r;e=gN(e)}return t}e=r,r=e.parentNode}return null}function c0(e){return e=e[_i]||e[hs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function ex(e){return e[eh]||null}var Y1=[],Tc=-1;function Uo(e){return{current:e}}function or(e){0>Tc||(e.current=Y1[Tc],Y1[Tc]=null,Tc--)}function er(e,t){Tc++,Y1[Tc]=e.current,e.current=t}var Mo={},Fn=Uo(Mo),la=Uo(!1),Cl=Mo;function lu(e,t){var r=e.type.contextTypes;if(!r)return Mo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ca(e){return e=e.childContextTypes,e!=null}function rm(){or(la),or(Fn)}function xN(e,t,r){if(Fn.current!==Mo)throw Error(He(168));er(Fn,t),er(la,r)}function XC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(He(108,A8(e)||"Unknown",a));return vr({},r,n)}function nm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mo,Cl=Fn.current,er(Fn,e),er(la,la.current),!0}function vN(e,t,r){var n=e.stateNode;if(!n)throw Error(He(169));r?(e=XC(e,t,Cl),n.__reactInternalMemoizedMergedChildContext=e,or(la),or(Fn),er(Fn,e)):or(la),er(la,r)}var Ji=null,tx=!1,zv=!1;function JC(e){Ji===null?Ji=[e]:Ji.push(e)}function G$(e){tx=!0,JC(e)}function Ko(){if(!zv&&Ji!==null){zv=!0;var e=0,t=Vt;try{var r=Ji;for(Vt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ji=null,tx=!1}catch(a){throw Ji!==null&&(Ji=Ji.slice(e+1)),kC(Ek,Ko),a}finally{Vt=t,zv=!1}}return null}var Pc=[],_c=0,am=null,im=0,Ba=[],Ua=0,Dl=null,Qi=1,Zi="";function nl(e,t){Pc[_c++]=im,Pc[_c++]=am,am=e,im=t}function QC(e,t,r){Ba[Ua++]=Qi,Ba[Ua++]=Zi,Ba[Ua++]=Dl,Dl=e;var n=Qi;e=Zi;var a=32-gi(n)-1;n&=~(1<<a),r+=1;var s=32-gi(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Qi=1<<32-gi(t)+a|r<<a|n,Zi=s+e}else Qi=1<<s|r<<a|n,Zi=e}function Fk(e){e.return!==null&&(nl(e,1),QC(e,1,0))}function $k(e){for(;e===am;)am=Pc[--_c],Pc[_c]=null,im=Pc[--_c],Pc[_c]=null;for(;e===Dl;)Dl=Ba[--Ua],Ba[Ua]=null,Zi=Ba[--Ua],Ba[Ua]=null,Qi=Ba[--Ua],Ba[Ua]=null}var Na=null,Sa=null,dr=!1,di=null;function ZC(e,t){var r=Va(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Na=e,Sa=bo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Na=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Dl!==null?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Va(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Na=e,Sa=null,!0):!1;default:return!1}}function X1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J1(e){if(dr){var t=Sa;if(t){var r=t;if(!yN(e,t)){if(X1(e))throw Error(He(418));t=bo(r.nextSibling);var n=Na;t&&yN(e,t)?ZC(n,r):(e.flags=e.flags&-4097|2,dr=!1,Na=e)}}else{if(X1(e))throw Error(He(418));e.flags=e.flags&-4097|2,dr=!1,Na=e}}}function bN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Na=e}function z0(e){if(e!==Na)return!1;if(!dr)return bN(e),dr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!W1(e.type,e.memoizedProps)),t&&(t=Sa)){if(X1(e))throw e3(),Error(He(418));for(;t;)ZC(e,t),t=bo(t.nextSibling)}if(bN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sa=bo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=Na?bo(e.stateNode.nextSibling):null;return!0}function e3(){for(var e=Sa;e;)e=bo(e.nextSibling)}function cu(){Sa=Na=null,dr=!1}function Bk(e){di===null?di=[e]:di.push(e)}var q$=ks.ReactCurrentBatchConfig;function Sd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,e))}return e}function H0(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wN(e){var t=e._init;return t(e._payload)}function t3(e){function t(b,y){if(e){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=So(b,y),b.index=0,b.sibling=null,b}function s(b,y,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,v,w){return y===null||y.tag!==6?(y=Jv(v,b.mode,w),y.return=b,y):(y=a(y,v),y.return=b,y)}function c(b,y,v,w){var k=v.type;return k===wc?d(b,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ro&&wN(k)===y.type)?(w=a(y,v.props),w.ref=Sd(b,y,v),w.return=b,w):(w=Bp(v.type,v.key,v.props,null,b.mode,w),w.ref=Sd(b,y,v),w.return=b,w)}function u(b,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Qv(v,b.mode,w),y.return=b,y):(y=a(y,v.children||[]),y.return=b,y)}function d(b,y,v,w,k){return y===null||y.tag!==7?(y=Nl(v,b.mode,w,k),y.return=b,y):(y=a(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jv(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case M0:return v=Bp(y.type,y.key,y.props,null,b.mode,v),v.ref=Sd(b,null,y),v.return=b,v;case bc:return y=Qv(y,b.mode,v),y.return=b,y;case ro:var w=y._init;return f(b,w(y._payload),v)}if(of(y)||yd(y))return y=Nl(y,b.mode,v,null),y.return=b,y;H0(b,y)}return null}function h(b,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(b,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case M0:return v.key===k?c(b,y,v,w):null;case bc:return v.key===k?u(b,y,v,w):null;case ro:return k=v._init,h(b,y,k(v._payload),w)}if(of(v)||yd(v))return k!==null?null:d(b,y,v,w,null);H0(b,v)}return null}function p(b,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(v)||null,l(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case M0:return b=b.get(w.key===null?v:w.key)||null,c(y,b,w,k);case bc:return b=b.get(w.key===null?v:w.key)||null,u(y,b,w,k);case ro:var N=w._init;return p(b,y,v,N(w._payload),k)}if(of(w)||yd(w))return b=b.get(v)||null,d(y,b,w,k,null);H0(y,w)}return null}function g(b,y,v,w){for(var k=null,N=null,S=y,T=y=0,P=null;S!==null&&T<v.length;T++){S.index>T?(P=S,S=null):P=S.sibling;var _=h(b,S,v[T],w);if(_===null){S===null&&(S=P);break}e&&S&&_.alternate===null&&t(b,S),y=s(_,y,T),N===null?k=_:N.sibling=_,N=_,S=P}if(T===v.length)return r(b,S),dr&&nl(b,T),k;if(S===null){for(;T<v.length;T++)S=f(b,v[T],w),S!==null&&(y=s(S,y,T),N===null?k=S:N.sibling=S,N=S);return dr&&nl(b,T),k}for(S=n(b,S);T<v.length;T++)P=p(S,b,T,v[T],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?T:P.key),y=s(P,y,T),N===null?k=P:N.sibling=P,N=P);return e&&S.forEach(function(E){return t(b,E)}),dr&&nl(b,T),k}function m(b,y,v,w){var k=yd(v);if(typeof k!="function")throw Error(He(150));if(v=k.call(v),v==null)throw Error(He(151));for(var N=k=null,S=y,T=y=0,P=null,_=v.next();S!==null&&!_.done;T++,_=v.next()){S.index>T?(P=S,S=null):P=S.sibling;var E=h(b,S,_.value,w);if(E===null){S===null&&(S=P);break}e&&S&&E.alternate===null&&t(b,S),y=s(E,y,T),N===null?k=E:N.sibling=E,N=E,S=P}if(_.done)return r(b,S),dr&&nl(b,T),k;if(S===null){for(;!_.done;T++,_=v.next())_=f(b,_.value,w),_!==null&&(y=s(_,y,T),N===null?k=_:N.sibling=_,N=_);return dr&&nl(b,T),k}for(S=n(b,S);!_.done;T++,_=v.next())_=p(S,b,T,_.value,w),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?T:_.key),y=s(_,y,T),N===null?k=_:N.sibling=_,N=_);return e&&S.forEach(function(A){return t(b,A)}),dr&&nl(b,T),k}function x(b,y,v,w){if(typeof v=="object"&&v!==null&&v.type===wc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case M0:e:{for(var k=v.key,N=y;N!==null;){if(N.key===k){if(k=v.type,k===wc){if(N.tag===7){r(b,N.sibling),y=a(N,v.props.children),y.return=b,b=y;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ro&&wN(k)===N.type){r(b,N.sibling),y=a(N,v.props),y.ref=Sd(b,N,v),y.return=b,b=y;break e}r(b,N);break}else t(b,N);N=N.sibling}v.type===wc?(y=Nl(v.props.children,b.mode,w,v.key),y.return=b,b=y):(w=Bp(v.type,v.key,v.props,null,b.mode,w),w.ref=Sd(b,y,v),w.return=b,b=w)}return o(b);case bc:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(b,y.sibling),y=a(y,v.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=Qv(v,b.mode,w),y.return=b,b=y}return o(b);case ro:return N=v._init,x(b,y,N(v._payload),w)}if(of(v))return g(b,y,v,w);if(yd(v))return m(b,y,v,w);H0(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,v),y.return=b,b=y):(r(b,y),y=Jv(v,b.mode,w),y.return=b,b=y),o(b)):r(b,y)}return x}var uu=t3(!0),r3=t3(!1),sm=Uo(null),om=null,Ec=null,Uk=null;function Kk(){Uk=Ec=om=null}function Vk(e){var t=sm.current;or(sm),e._currentValue=t}function Q1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qc(e,t){om=e,Uk=Ec=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ia=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(Uk!==e)if(e={context:e,memoizedValue:t,next:null},Ec===null){if(om===null)throw Error(He(308));Ec=e,om.dependencies={lanes:0,firstContext:e}}else Ec=Ec.next=e;return t}var ml=null;function zk(e){ml===null?ml=[e]:ml.push(e)}function n3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,zk(t)):(r.next=a.next,a.next=r),t.interleaved=r,ps(e,n)}function ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var no=!1;function Hk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function as(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ps(e,r)}return a=n.interleaved,a===null?(t.next=t,zk(n)):(t.next=a.next,a.next=t),n.interleaved=t,ps(e,r)}function Mp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ak(e,r)}}function kN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lm(e,t,r,n){var a=e.updateQueue;no=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=vr({},f,h);break e;case 2:no=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=f}}function jN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(He(191,a));a.call(n)}}}var u0={},Ri=Uo(u0),th=Uo(u0),rh=Uo(u0);function gl(e){if(e===u0)throw Error(He(174));return e}function Wk(e,t){switch(er(rh,t),er(th,e),er(Ri,u0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=C1(t,e)}or(Ri),er(Ri,t)}function du(){or(Ri),or(th),or(rh)}function i3(e){gl(rh.current);var t=gl(Ri.current),r=C1(t,e.type);t!==r&&(er(th,e),er(Ri,r))}function Gk(e){th.current===e&&(or(Ri),or(th))}var pr=Uo(0);function cm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hv=[];function qk(){for(var e=0;e<Hv.length;e++)Hv[e]._workInProgressVersionPrimary=null;Hv.length=0}var Rp=ks.ReactCurrentDispatcher,Wv=ks.ReactCurrentBatchConfig,Ml=0,gr=null,Wr=null,tn=null,um=!1,bf=!1,nh=0,Y$=0;function Tn(){throw Error(He(321))}function Yk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wi(e[r],t[r]))return!1;return!0}function Xk(e,t,r,n,a,s){if(Ml=s,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rp.current=e===null||e.memoizedState===null?Z$:eB,e=r(n,a),bf){s=0;do{if(bf=!1,nh=0,25<=s)throw Error(He(301));s+=1,tn=Wr=null,t.updateQueue=null,Rp.current=tB,e=r(n,a)}while(bf)}if(Rp.current=dm,t=Wr!==null&&Wr.next!==null,Ml=0,tn=Wr=gr=null,um=!1,t)throw Error(He(300));return e}function Jk(){var e=nh!==0;return nh=0,e}function Pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?gr.memoizedState=tn=e:tn=tn.next=e,tn}function Ya(){if(Wr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=tn===null?gr.memoizedState:tn.next;if(t!==null)tn=t,Wr=e;else{if(e===null)throw Error(He(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},tn===null?gr.memoizedState=tn=e:tn=tn.next=e}return tn}function ah(e,t){return typeof t=="function"?t(e):t}function Gv(e){var t=Ya(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=Wr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Ml&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,gr.lanes|=d,Rl|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,wi(n,t.memoizedState)||(ia=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,gr.lanes|=s,Rl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qv(e){var t=Ya(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);wi(s,t.memoizedState)||(ia=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function s3(){}function o3(e,t){var r=gr,n=Ya(),a=t(),s=!wi(n.memoizedState,a);if(s&&(n.memoizedState=a,ia=!0),n=n.queue,Qk(u3.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||tn!==null&&tn.memoizedState.tag&1){if(r.flags|=2048,ih(9,c3.bind(null,r,n,a,t),void 0,null),on===null)throw Error(He(349));Ml&30||l3(r,t,a)}return a}function l3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c3(e,t,r,n){t.value=r,t.getSnapshot=n,d3(t)&&f3(e)}function u3(e,t,r){return r(function(){d3(t)&&f3(e)})}function d3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wi(e,r)}catch{return!0}}function f3(e){var t=ps(e,1);t!==null&&xi(t,e,1,-1)}function SN(e){var t=Pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:e},t.queue=e,e=e.dispatch=Q$.bind(null,gr,e),[t.memoizedState,e]}function ih(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h3(){return Ya().memoizedState}function Ip(e,t,r,n){var a=Pi();gr.flags|=e,a.memoizedState=ih(1|t,r,void 0,n===void 0?null:n)}function rx(e,t,r,n){var a=Ya();n=n===void 0?null:n;var s=void 0;if(Wr!==null){var o=Wr.memoizedState;if(s=o.destroy,n!==null&&Yk(n,o.deps)){a.memoizedState=ih(t,r,s,n);return}}gr.flags|=e,a.memoizedState=ih(1|t,r,s,n)}function NN(e,t){return Ip(8390656,8,e,t)}function Qk(e,t){return rx(2048,8,e,t)}function p3(e,t){return rx(4,2,e,t)}function m3(e,t){return rx(4,4,e,t)}function g3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x3(e,t,r){return r=r!=null?r.concat([e]):null,rx(4,4,g3.bind(null,t,e),r)}function Zk(){}function v3(e,t){var r=Ya();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function y3(e,t){var r=Ya();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function b3(e,t,r){return Ml&21?(wi(r,t)||(r=NC(),gr.lanes|=r,Rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ia=!0),e.memoizedState=r)}function X$(e,t){var r=Vt;Vt=r!==0&&4>r?r:4,e(!0);var n=Wv.transition;Wv.transition={};try{e(!1),t()}finally{Vt=r,Wv.transition=n}}function w3(){return Ya().memoizedState}function J$(e,t,r){var n=jo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k3(e))j3(t,r);else if(r=n3(e,t,r,n),r!==null){var a=Zn();xi(r,e,n,a),S3(r,t,n)}}function Q$(e,t,r){var n=jo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k3(e))j3(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,wi(l,o)){var c=t.interleaved;c===null?(a.next=a,zk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=n3(e,t,a,n),r!==null&&(a=Zn(),xi(r,e,n,a),S3(r,t,n))}}function k3(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function j3(e,t){bf=um=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ak(e,r)}}var dm={readContext:qa,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Z$={readContext:qa,useCallback:function(e,t){return Pi().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:NN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ip(4194308,4,g3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ip(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ip(4,2,e,t)},useMemo:function(e,t){var r=Pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=J$.bind(null,gr,e),[n.memoizedState,e]},useRef:function(e){var t=Pi();return e={current:e},t.memoizedState=e},useState:SN,useDebugValue:Zk,useDeferredValue:function(e){return Pi().memoizedState=e},useTransition:function(){var e=SN(!1),t=e[0];return e=X$.bind(null,e[1]),Pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gr,a=Pi();if(dr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=t(),on===null)throw Error(He(349));Ml&30||l3(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,NN(u3.bind(null,n,s,e),[e]),n.flags|=2048,ih(9,c3.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Pi(),t=on.identifierPrefix;if(dr){var r=Zi,n=Qi;r=(n&~(1<<32-gi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eB={readContext:qa,useCallback:v3,useContext:qa,useEffect:Qk,useImperativeHandle:x3,useInsertionEffect:p3,useLayoutEffect:m3,useMemo:y3,useReducer:Gv,useRef:h3,useState:function(){return Gv(ah)},useDebugValue:Zk,useDeferredValue:function(e){var t=Ya();return b3(t,Wr.memoizedState,e)},useTransition:function(){var e=Gv(ah)[0],t=Ya().memoizedState;return[e,t]},useMutableSource:s3,useSyncExternalStore:o3,useId:w3,unstable_isNewReconciler:!1},tB={readContext:qa,useCallback:v3,useContext:qa,useEffect:Qk,useImperativeHandle:x3,useInsertionEffect:p3,useLayoutEffect:m3,useMemo:y3,useReducer:qv,useRef:h3,useState:function(){return qv(ah)},useDebugValue:Zk,useDeferredValue:function(e){var t=Ya();return Wr===null?t.memoizedState=e:b3(t,Wr.memoizedState,e)},useTransition:function(){var e=qv(ah)[0],t=Ya().memoizedState;return[e,t]},useMutableSource:s3,useSyncExternalStore:o3,useId:w3,unstable_isNewReconciler:!1};function li(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Z1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nx={isMounted:function(e){return(e=e._reactInternals)?ql(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zn(),a=jo(e),s=as(n,a);s.payload=t,r!=null&&(s.callback=r),t=wo(e,s,a),t!==null&&(xi(t,e,a,n),Mp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zn(),a=jo(e),s=as(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=wo(e,s,a),t!==null&&(xi(t,e,a,n),Mp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zn(),n=jo(e),a=as(r,n);a.tag=2,t!=null&&(a.callback=t),t=wo(e,a,n),t!==null&&(xi(t,e,n,r),Mp(t,e,n))}};function TN(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Jf(r,n)||!Jf(a,s):!0}function N3(e,t,r){var n=!1,a=Mo,s=t.contextType;return typeof s=="object"&&s!==null?s=qa(s):(a=ca(t)?Cl:Fn.current,n=t.contextTypes,s=(n=n!=null)?lu(e,a):Mo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function PN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nx.enqueueReplaceState(t,t.state,null)}function eb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Hk(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=qa(s):(s=ca(t)?Cl:Fn.current,a.context=lu(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Z1(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nx.enqueueReplaceState(a,a.state,null),lm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fu(e,t){try{var r="",n=t;do r+=E8(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Yv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rB=typeof WeakMap=="function"?WeakMap:Map;function T3(e,t,r){r=as(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hm||(hm=!0,db=n),tb(e,t)},r}function P3(e,t,r){r=as(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){tb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){tb(e,t),typeof n!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _N(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rB;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=gB.bind(null,e,t,r),t.then(e,e))}function EN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AN(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=as(-1,1),t.tag=2,wo(r,t,1))),r.lanes|=1),e)}var nB=ks.ReactCurrentOwner,ia=!1;function Gn(e,t,r,n){t.child=e===null?r3(t,null,r,n):uu(t,e.child,r,n)}function ON(e,t,r,n,a){r=r.render;var s=t.ref;return qc(t,a),n=Xk(e,t,r,n,s,a),r=Jk(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ms(e,t,a)):(dr&&r&&Fk(t),t.flags|=1,Gn(e,t,n,a),t.child)}function CN(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!o2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,_3(e,t,s,n,a)):(e=Bp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Jf,r(o,n)&&e.ref===t.ref)return ms(e,t,a)}return t.flags|=1,e=So(s,n),e.ref=t.ref,e.return=t,t.child=e}function _3(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Jf(s,n)&&e.ref===t.ref)if(ia=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ia=!0);else return t.lanes=e.lanes,ms(e,t,a)}return rb(e,t,r,n,a)}function E3(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Oc,va),va|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Oc,va),va|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,er(Oc,va),va|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,er(Oc,va),va|=n;return Gn(e,t,a,r),t.child}function A3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rb(e,t,r,n,a){var s=ca(r)?Cl:Fn.current;return s=lu(t,s),qc(t,a),r=Xk(e,t,r,n,s,a),n=Jk(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ms(e,t,a)):(dr&&n&&Fk(t),t.flags|=1,Gn(e,t,r,a),t.child)}function DN(e,t,r,n,a){if(ca(r)){var s=!0;nm(t)}else s=!1;if(qc(t,a),t.stateNode===null)Lp(e,t),N3(t,r,n),eb(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qa(u):(u=ca(r)?Cl:Fn.current,u=lu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&PN(t,o,n,u),no=!1;var h=t.memoizedState;o.state=h,lm(t,n,o,a),c=t.memoizedState,l!==n||h!==c||la.current||no?(typeof d=="function"&&(Z1(t,r,d,n),c=t.memoizedState),(l=no||TN(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,a3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:li(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qa(c):(c=ca(r)?Cl:Fn.current,c=lu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&PN(t,o,n,c),no=!1,h=t.memoizedState,o.state=h,lm(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||la.current||no?(typeof p=="function"&&(Z1(t,r,p,n),g=t.memoizedState),(u=no||TN(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return nb(e,t,r,n,s,a)}function nb(e,t,r,n,a,s){A3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&vN(t,r,!1),ms(e,t,s);n=t.stateNode,nB.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=uu(t,e.child,null,s),t.child=uu(t,null,l,s)):Gn(e,t,l,s),t.memoizedState=n.state,a&&vN(t,r,!0),t.child}function O3(e){var t=e.stateNode;t.pendingContext?xN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xN(e,t.context,!1),Wk(e,t.containerInfo)}function MN(e,t,r,n,a){return cu(),Bk(a),t.flags|=256,Gn(e,t,r,n),t.child}var ab={dehydrated:null,treeContext:null,retryLane:0};function ib(e){return{baseLanes:e,cachePool:null,transitions:null}}function C3(e,t,r){var n=t.pendingProps,a=pr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),er(pr,a&1),e===null)return J1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sx(o,n,0,null),e=Nl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ib(r),t.memoizedState=ab,e):e2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return aB(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=So(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=So(l,s):(s=Nl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?ib(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=ab,n}return s=e.child,e=s.sibling,n=So(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function e2(e,t){return t=sx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function W0(e,t,r,n){return n!==null&&Bk(n),uu(t,e.child,null,r),e=e2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aB(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Yv(Error(He(422))),W0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=sx({mode:"visible",children:n.children},a,0,null),s=Nl(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&uu(t,e.child,null,o),t.child.memoizedState=ib(o),t.memoizedState=ab,s);if(!(t.mode&1))return W0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(He(419)),n=Yv(s,n,void 0),W0(e,t,o,n)}if(l=(o&e.childLanes)!==0,ia||l){if(n=on,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ps(e,a),xi(n,e,a,-1))}return s2(),n=Yv(Error(He(421))),W0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=xB.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Sa=bo(a.nextSibling),Na=t,dr=!0,di=null,e!==null&&(Ba[Ua++]=Qi,Ba[Ua++]=Zi,Ba[Ua++]=Dl,Qi=e.id,Zi=e.overflow,Dl=t),t=e2(t,n.children),t.flags|=4096,t)}function RN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Q1(e.return,t,r)}function Xv(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function D3(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Gn(e,t,n.children,r),n=pr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RN(e,r,t);else if(e.tag===19)RN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(er(pr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&cm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Xv(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Xv(t,!0,r,null,s);break;case"together":Xv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ms(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,r=So(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=So(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function iB(e,t,r){switch(t.tag){case 3:O3(t),cu();break;case 5:i3(t);break;case 1:ca(t.type)&&nm(t);break;case 4:Wk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;er(sm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(er(pr,pr.current&1),t.flags|=128,null):r&t.child.childLanes?C3(e,t,r):(er(pr,pr.current&1),e=ms(e,t,r),e!==null?e.sibling:null);er(pr,pr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return D3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),er(pr,pr.current),n)break;return null;case 22:case 23:return t.lanes=0,E3(e,t,r)}return ms(e,t,r)}var M3,sb,R3,I3;M3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sb=function(){};R3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,gl(Ri.current);var s=null;switch(r){case"input":a=_1(e,a),n=_1(e,n),s=[];break;case"select":a=vr({},a,{value:void 0}),n=vr({},n,{value:void 0}),s=[];break;case"textarea":a=O1(e,a),n=O1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tm)}D1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ar("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};I3=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nd(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sB(e,t,r){var n=t.pendingProps;switch($k(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(t),null;case 1:return ca(t.type)&&rm(),Pn(t),null;case 3:return n=t.stateNode,du(),or(la),or(Fn),qk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(z0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,di!==null&&(pb(di),di=null))),sb(e,t),Pn(t),null;case 5:Gk(t);var a=gl(rh.current);if(r=t.type,e!==null&&t.stateNode!=null)R3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(He(166));return Pn(t),null}if(e=gl(Ri.current),z0(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[_i]=t,n[eh]=s,e=(t.mode&1)!==0,r){case"dialog":ar("cancel",n),ar("close",n);break;case"iframe":case"object":case"embed":ar("load",n);break;case"video":case"audio":for(a=0;a<cf.length;a++)ar(cf[a],n);break;case"source":ar("error",n);break;case"img":case"image":case"link":ar("error",n),ar("load",n);break;case"details":ar("toggle",n);break;case"input":zS(n,s),ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ar("invalid",n);break;case"textarea":WS(n,s),ar("invalid",n)}D1(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&V0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&V0(n.textContent,l,e),a=["children",""+l]):zf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ar("scroll",n)}switch(r){case"input":R0(n),HS(n,s,!0);break;case"textarea":R0(n),GS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[_i]=t,e[eh]=n,M3(e,t,!1,!1),t.stateNode=e;e:{switch(o=M1(r,n),r){case"dialog":ar("cancel",e),ar("close",e),a=n;break;case"iframe":case"object":case"embed":ar("load",e),a=n;break;case"video":case"audio":for(a=0;a<cf.length;a++)ar(cf[a],e);a=n;break;case"source":ar("error",e),a=n;break;case"img":case"image":case"link":ar("error",e),ar("load",e),a=n;break;case"details":ar("toggle",e),a=n;break;case"input":zS(e,n),a=_1(e,n),ar("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=vr({},n,{value:void 0}),ar("invalid",e);break;case"textarea":WS(e,n),a=O1(e,n),ar("invalid",e);break;default:a=n}D1(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?hC(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dC(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hf(e,c):typeof c=="number"&&Hf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ar("scroll",e):c!=null&&Sk(e,s,c,o))}switch(r){case"input":R0(e),HS(e,n,!1);break;case"textarea":R0(e),GS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Do(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?zc(e,!!n.multiple,s,!1):n.defaultValue!=null&&zc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=tm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pn(t),null;case 6:if(e&&t.stateNode!=null)I3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(He(166));if(r=gl(rh.current),gl(Ri.current),z0(t)){if(n=t.stateNode,r=t.memoizedProps,n[_i]=t,(s=n.nodeValue!==r)&&(e=Na,e!==null))switch(e.tag){case 3:V0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&V0(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_i]=t,t.stateNode=n}return Pn(t),null;case 13:if(or(pr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dr&&Sa!==null&&t.mode&1&&!(t.flags&128))e3(),cu(),t.flags|=98560,s=!1;else if(s=z0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[_i]=t}else cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pn(t),s=!1}else di!==null&&(pb(di),di=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?qr===0&&(qr=3):s2())),t.updateQueue!==null&&(t.flags|=4),Pn(t),null);case 4:return du(),sb(e,t),e===null&&Qf(t.stateNode.containerInfo),Pn(t),null;case 10:return Vk(t.type._context),Pn(t),null;case 17:return ca(t.type)&&rm(),Pn(t),null;case 19:if(or(pr),s=t.memoizedState,s===null)return Pn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Nd(s,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cm(e),o!==null){for(t.flags|=128,Nd(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(pr,pr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pr()>hu&&(t.flags|=128,n=!0,Nd(s,!1),t.lanes=4194304)}else{if(!n)if(e=cm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dr)return Pn(t),null}else 2*Pr()-s.renderingStartTime>hu&&r!==1073741824&&(t.flags|=128,n=!0,Nd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pr(),t.sibling=null,r=pr.current,er(pr,n?r&1|2:r&1),t):(Pn(t),null);case 22:case 23:return i2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?va&1073741824&&(Pn(t),t.subtreeFlags&6&&(t.flags|=8192)):Pn(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function oB(e,t){switch($k(t),t.tag){case 1:return ca(t.type)&&rm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return du(),or(la),or(Fn),qk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gk(t),null;case 13:if(or(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(pr),null;case 4:return du(),null;case 10:return Vk(t.type._context),null;case 22:case 23:return i2(),null;case 24:return null;default:return null}}var G0=!1,Dn=!1,lB=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Ac(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wr(e,t,n)}else r.current=null}function ob(e,t,r){try{r()}catch(n){wr(e,t,n)}}var IN=!1;function cB(e,t){if(z1=Qp,e=UC(),Lk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(H1={focusedElem:e,selectionRange:r},Qp=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:li(t.type,m),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(w){wr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return g=IN,IN=!1,g}function wf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ob(t,r,s)}a=a.next}while(a!==n)}}function ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L3(e){var t=e.alternate;t!==null&&(e.alternate=null,L3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_i],delete t[eh],delete t[q1],delete t[H$],delete t[W$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function F3(e){return e.tag===5||e.tag===3||e.tag===4}function LN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tm));else if(n!==4&&(e=e.child,e!==null))for(cb(e,t,r),e=e.sibling;e!==null;)cb(e,t,r),e=e.sibling}function ub(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ub(e,t,r),e=e.sibling;e!==null;)ub(e,t,r),e=e.sibling}var mn=null,ci=!1;function Ys(e,t,r){for(r=r.child;r!==null;)$3(e,t,r),r=r.sibling}function $3(e,t,r){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(Xg,r)}catch{}switch(r.tag){case 5:Dn||Ac(r,t);case 6:var n=mn,a=ci;mn=null,Ys(e,t,r),mn=n,ci=a,mn!==null&&(ci?(e=mn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):mn.removeChild(r.stateNode));break;case 18:mn!==null&&(ci?(e=mn,r=r.stateNode,e.nodeType===8?Vv(e.parentNode,r):e.nodeType===1&&Vv(e,r),Yf(e)):Vv(mn,r.stateNode));break;case 4:n=mn,a=ci,mn=r.stateNode.containerInfo,ci=!0,Ys(e,t,r),mn=n,ci=a;break;case 0:case 11:case 14:case 15:if(!Dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ob(r,t,o),a=a.next}while(a!==n)}Ys(e,t,r);break;case 1:if(!Dn&&(Ac(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){wr(r,t,l)}Ys(e,t,r);break;case 21:Ys(e,t,r);break;case 22:r.mode&1?(Dn=(n=Dn)||r.memoizedState!==null,Ys(e,t,r),Dn=n):Ys(e,t,r);break;default:Ys(e,t,r)}}function FN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lB),t.forEach(function(n){var a=vB.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ai(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:mn=l.stateNode,ci=!1;break e;case 3:mn=l.stateNode.containerInfo,ci=!0;break e;case 4:mn=l.stateNode.containerInfo,ci=!0;break e}l=l.return}if(mn===null)throw Error(He(160));$3(s,o,a),mn=null,ci=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){wr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B3(t,e),t=t.sibling}function B3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ai(t,e),Si(e),n&4){try{wf(3,e,e.return),ax(3,e)}catch(m){wr(e,e.return,m)}try{wf(5,e,e.return)}catch(m){wr(e,e.return,m)}}break;case 1:ai(t,e),Si(e),n&512&&r!==null&&Ac(r,r.return);break;case 5:if(ai(t,e),Si(e),n&512&&r!==null&&Ac(r,r.return),e.flags&32){var a=e.stateNode;try{Hf(a,"")}catch(m){wr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&lC(a,s),M1(l,o);var u=M1(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?hC(a,f):d==="dangerouslySetInnerHTML"?dC(a,f):d==="children"?Hf(a,f):Sk(a,d,f,u)}switch(l){case"input":E1(a,s);break;case"textarea":cC(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zc(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?zc(a,!!s.multiple,s.defaultValue,!0):zc(a,!!s.multiple,s.multiple?[]:"",!1))}a[eh]=s}catch(m){wr(e,e.return,m)}}break;case 6:if(ai(t,e),Si(e),n&4){if(e.stateNode===null)throw Error(He(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){wr(e,e.return,m)}}break;case 3:if(ai(t,e),Si(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yf(t.containerInfo)}catch(m){wr(e,e.return,m)}break;case 4:ai(t,e),Si(e);break;case 13:ai(t,e),Si(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(n2=Pr())),n&4&&FN(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dn=(u=Dn)||d,ai(t,e),Dn=u):ai(t,e),Si(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(tt=e,d=e.child;d!==null;){for(f=tt=d;tt!==null;){switch(h=tt,p=h.child,h.tag){case 0:case 11:case 14:case 15:wf(4,h,h.return);break;case 1:Ac(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){wr(n,r,m)}}break;case 5:Ac(h,h.return);break;case 22:if(h.memoizedState!==null){BN(f);continue}}p!==null?(p.return=h,tt=p):BN(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fC("display",o))}catch(m){wr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){wr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ai(t,e),Si(e),n&4&&FN(e);break;case 21:break;default:ai(t,e),Si(e)}}function Si(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(F3(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Hf(a,""),n.flags&=-33);var s=LN(e);ub(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=LN(e);cb(e,l,o);break;default:throw Error(He(161))}}catch(c){wr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uB(e,t,r){tt=e,U3(e)}function U3(e,t,r){for(var n=(e.mode&1)!==0;tt!==null;){var a=tt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||G0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Dn;l=G0;var u=Dn;if(G0=o,(Dn=c)&&!u)for(tt=a;tt!==null;)o=tt,c=o.child,o.tag===22&&o.memoizedState!==null?UN(a):c!==null?(c.return=o,tt=c):UN(a);for(;s!==null;)tt=s,U3(s),s=s.sibling;tt=a,G0=l,Dn=u}$N(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,tt=s):$N(e)}}function $N(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dn||ax(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:li(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jN(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Dn||t.flags&512&&lb(t)}catch(h){wr(t,t.return,h)}}if(t===e){tt=null;break}if(r=t.sibling,r!==null){r.return=t.return,tt=r;break}tt=t.return}}function BN(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,tt=r;break}tt=t.return}}function UN(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ax(4,t)}catch(c){wr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){wr(t,a,c)}}var s=t.return;try{lb(t)}catch(c){wr(t,s,c)}break;case 5:var o=t.return;try{lb(t)}catch(c){wr(t,o,c)}}}catch(c){wr(t,t.return,c)}if(t===e){tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,tt=l;break}tt=t.return}}var dB=Math.ceil,fm=ks.ReactCurrentDispatcher,t2=ks.ReactCurrentOwner,Ha=ks.ReactCurrentBatchConfig,Dt=0,on=null,Mr=null,yn=0,va=0,Oc=Uo(0),qr=0,sh=null,Rl=0,ix=0,r2=0,kf=null,na=null,n2=0,hu=1/0,Yi=null,hm=!1,db=null,ko=null,q0=!1,uo=null,pm=0,jf=0,fb=null,Fp=-1,$p=0;function Zn(){return Dt&6?Pr():Fp!==-1?Fp:Fp=Pr()}function jo(e){return e.mode&1?Dt&2&&yn!==0?yn&-yn:q$.transition!==null?($p===0&&($p=NC()),$p):(e=Vt,e!==0||(e=window.event,e=e===void 0?16:CC(e.type)),e):1}function xi(e,t,r,n){if(50<jf)throw jf=0,fb=null,Error(He(185));o0(e,r,n),(!(Dt&2)||e!==on)&&(e===on&&(!(Dt&2)&&(ix|=r),qr===4&&oo(e,yn)),ua(e,n),r===1&&Dt===0&&!(t.mode&1)&&(hu=Pr()+500,tx&&Ko()))}function ua(e,t){var r=e.callbackNode;q8(e,t);var n=Jp(e,e===on?yn:0);if(n===0)r!==null&&XS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&XS(r),t===1)e.tag===0?G$(KN.bind(null,e)):JC(KN.bind(null,e)),V$(function(){!(Dt&6)&&Ko()}),r=null;else{switch(TC(n)){case 1:r=Ek;break;case 4:r=jC;break;case 16:r=Xp;break;case 536870912:r=SC;break;default:r=Xp}r=Y3(r,K3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function K3(e,t){if(Fp=-1,$p=0,Dt&6)throw Error(He(327));var r=e.callbackNode;if(Yc()&&e.callbackNode!==r)return null;var n=Jp(e,e===on?yn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mm(e,n);else{t=n;var a=Dt;Dt|=2;var s=z3();(on!==e||yn!==t)&&(Yi=null,hu=Pr()+500,Sl(e,t));do try{pB();break}catch(l){V3(e,l)}while(!0);Kk(),fm.current=s,Dt=a,Mr!==null?t=0:(on=null,yn=0,t=qr)}if(t!==0){if(t===2&&(a=$1(e),a!==0&&(n=a,t=hb(e,a))),t===1)throw r=sh,Sl(e,0),oo(e,n),ua(e,Pr()),r;if(t===6)oo(e,n);else{if(a=e.current.alternate,!(n&30)&&!fB(a)&&(t=mm(e,n),t===2&&(s=$1(e),s!==0&&(n=s,t=hb(e,s))),t===1))throw r=sh,Sl(e,0),oo(e,n),ua(e,Pr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(He(345));case 2:al(e,na,Yi);break;case 3:if(oo(e,n),(n&130023424)===n&&(t=n2+500-Pr(),10<t)){if(Jp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=G1(al.bind(null,e,na,Yi),t);break}al(e,na,Yi);break;case 4:if(oo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-gi(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dB(n/1960))-n,10<n){e.timeoutHandle=G1(al.bind(null,e,na,Yi),n);break}al(e,na,Yi);break;case 5:al(e,na,Yi);break;default:throw Error(He(329))}}}return ua(e,Pr()),e.callbackNode===r?K3.bind(null,e):null}function hb(e,t){var r=kf;return e.current.memoizedState.isDehydrated&&(Sl(e,t).flags|=256),e=mm(e,t),e!==2&&(t=na,na=r,t!==null&&pb(t)),e}function pb(e){na===null?na=e:na.push.apply(na,e)}function fB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!wi(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oo(e,t){for(t&=~r2,t&=~ix,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gi(t),n=1<<r;e[r]=-1,t&=~n}}function KN(e){if(Dt&6)throw Error(He(327));Yc();var t=Jp(e,0);if(!(t&1))return ua(e,Pr()),null;var r=mm(e,t);if(e.tag!==0&&r===2){var n=$1(e);n!==0&&(t=n,r=hb(e,n))}if(r===1)throw r=sh,Sl(e,0),oo(e,t),ua(e,Pr()),r;if(r===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,al(e,na,Yi),ua(e,Pr()),null}function a2(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(hu=Pr()+500,tx&&Ko())}}function Il(e){uo!==null&&uo.tag===0&&!(Dt&6)&&Yc();var t=Dt;Dt|=1;var r=Ha.transition,n=Vt;try{if(Ha.transition=null,Vt=1,e)return e()}finally{Vt=n,Ha.transition=r,Dt=t,!(Dt&6)&&Ko()}}function i2(){va=Oc.current,or(Oc)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,K$(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch($k(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rm();break;case 3:du(),or(la),or(Fn),qk();break;case 5:Gk(n);break;case 4:du();break;case 13:or(pr);break;case 19:or(pr);break;case 10:Vk(n.type._context);break;case 22:case 23:i2()}r=r.return}if(on=e,Mr=e=So(e.current,null),yn=va=t,qr=0,sh=null,r2=ix=Rl=0,na=kf=null,ml!==null){for(t=0;t<ml.length;t++)if(r=ml[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}ml=null}return e}function V3(e,t){do{var r=Mr;try{if(Kk(),Rp.current=dm,um){for(var n=gr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}um=!1}if(Ml=0,tn=Wr=gr=null,bf=!1,nh=0,t2.current=null,r===null||r.return===null){qr=1,sh=t,Mr=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=yn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=EN(o);if(p!==null){p.flags&=-257,AN(p,o,l,s,t),p.mode&1&&_N(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){_N(s,u,t),s2();break e}c=Error(He(426))}}else if(dr&&l.mode&1){var x=EN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),AN(x,o,l,s,t),Bk(fu(c,l));break e}}s=c=fu(c,l),qr!==4&&(qr=2),kf===null?kf=[s]:kf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=T3(s,c,t);kN(s,b);break e;case 1:l=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ko===null||!ko.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=P3(s,l,t);kN(s,w);break e}}s=s.return}while(s!==null)}W3(r)}catch(k){t=k,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function z3(){var e=fm.current;return fm.current=dm,e===null?dm:e}function s2(){(qr===0||qr===3||qr===2)&&(qr=4),on===null||!(Rl&268435455)&&!(ix&268435455)||oo(on,yn)}function mm(e,t){var r=Dt;Dt|=2;var n=z3();(on!==e||yn!==t)&&(Yi=null,Sl(e,t));do try{hB();break}catch(a){V3(e,a)}while(!0);if(Kk(),Dt=r,fm.current=n,Mr!==null)throw Error(He(261));return on=null,yn=0,qr}function hB(){for(;Mr!==null;)H3(Mr)}function pB(){for(;Mr!==null&&!$8();)H3(Mr)}function H3(e){var t=q3(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?W3(e):Mr=t,t2.current=null}function W3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oB(r,t),r!==null){r.flags&=32767,Mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Mr=null;return}}else if(r=sB(r,t,va),r!==null){Mr=r;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);qr===0&&(qr=5)}function al(e,t,r){var n=Vt,a=Ha.transition;try{Ha.transition=null,Vt=1,mB(e,t,r,n)}finally{Ha.transition=a,Vt=n}return null}function mB(e,t,r,n){do Yc();while(uo!==null);if(Dt&6)throw Error(He(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Y8(e,s),e===on&&(Mr=on=null,yn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||q0||(q0=!0,Y3(Xp,function(){return Yc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ha.transition,Ha.transition=null;var o=Vt;Vt=1;var l=Dt;Dt|=4,t2.current=null,cB(e,r),B3(r,e),R$(H1),Qp=!!z1,H1=z1=null,e.current=r,uB(r),B8(),Dt=l,Vt=o,Ha.transition=s}else e.current=r;if(q0&&(q0=!1,uo=e,pm=a),s=e.pendingLanes,s===0&&(ko=null),V8(r.stateNode),ua(e,Pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hm)throw hm=!1,e=db,db=null,e;return pm&1&&e.tag!==0&&Yc(),s=e.pendingLanes,s&1?e===fb?jf++:(jf=0,fb=e):jf=0,Ko(),null}function Yc(){if(uo!==null){var e=TC(pm),t=Ha.transition,r=Vt;try{if(Ha.transition=null,Vt=16>e?16:e,uo===null)var n=!1;else{if(e=uo,uo=null,pm=0,Dt&6)throw Error(He(331));var a=Dt;for(Dt|=4,tt=e.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(tt=u;tt!==null;){var d=tt;switch(d.tag){case 0:case 11:case 15:wf(8,d,s)}var f=d.child;if(f!==null)f.return=d,tt=f;else for(;tt!==null;){d=tt;var h=d.sibling,p=d.return;if(L3(d),d===u){tt=null;break}if(h!==null){h.return=p,tt=h;break}tt=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,tt=b;break e}tt=s.return}}var y=e.current;for(tt=y;tt!==null;){o=tt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,tt=v;else e:for(o=y;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ax(9,l)}}catch(k){wr(l,l.return,k)}if(l===o){tt=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,tt=w;break e}tt=l.return}}if(Dt=a,Ko(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(Xg,e)}catch{}n=!0}return n}finally{Vt=r,Ha.transition=t}}return!1}function VN(e,t,r){t=fu(r,t),t=T3(e,t,1),e=wo(e,t,1),t=Zn(),e!==null&&(o0(e,1,t),ua(e,t))}function wr(e,t,r){if(e.tag===3)VN(e,e,r);else for(;t!==null;){if(t.tag===3){VN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ko===null||!ko.has(n))){e=fu(r,e),e=P3(t,e,1),t=wo(t,e,1),e=Zn(),t!==null&&(o0(t,1,e),ua(t,e));break}}t=t.return}}function gB(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&r,on===e&&(yn&r)===r&&(qr===4||qr===3&&(yn&130023424)===yn&&500>Pr()-n2?Sl(e,0):r2|=r),ua(e,t)}function G3(e,t){t===0&&(e.mode&1?(t=F0,F0<<=1,!(F0&130023424)&&(F0=4194304)):t=1);var r=Zn();e=ps(e,t),e!==null&&(o0(e,t,r),ua(e,r))}function xB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G3(e,r)}function vB(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(t),G3(e,r)}var q3;q3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||la.current)ia=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ia=!1,iB(e,t,r);ia=!!(e.flags&131072)}else ia=!1,dr&&t.flags&1048576&&QC(t,im,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lp(e,t),e=t.pendingProps;var a=lu(t,Fn.current);qc(t,r),a=Xk(null,t,n,e,a,r);var s=Jk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ca(n)?(s=!0,nm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Hk(t),a.updater=nx,t.stateNode=a,a._reactInternals=t,eb(t,n,e,r),t=nb(null,t,n,!0,s,r)):(t.tag=0,dr&&s&&Fk(t),Gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=bB(n),e=li(n,e),a){case 0:t=rb(null,t,n,e,r);break e;case 1:t=DN(null,t,n,e,r);break e;case 11:t=ON(null,t,n,e,r);break e;case 14:t=CN(null,t,n,li(n.type,e),r);break e}throw Error(He(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:li(n,a),rb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:li(n,a),DN(e,t,n,a,r);case 3:e:{if(O3(t),e===null)throw Error(He(387));n=t.pendingProps,s=t.memoizedState,a=s.element,a3(e,t),lm(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=fu(Error(He(423)),t),t=MN(e,t,n,r,a);break e}else if(n!==a){a=fu(Error(He(424)),t),t=MN(e,t,n,r,a);break e}else for(Sa=bo(t.stateNode.containerInfo.firstChild),Na=t,dr=!0,di=null,r=r3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cu(),n===a){t=ms(e,t,r);break e}Gn(e,t,n,r)}t=t.child}return t;case 5:return i3(t),e===null&&J1(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,W1(n,a)?o=null:s!==null&&W1(n,s)&&(t.flags|=32),A3(e,t),Gn(e,t,o,r),t.child;case 6:return e===null&&J1(t),null;case 13:return C3(e,t,r);case 4:return Wk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uu(t,null,n,r):Gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:li(n,a),ON(e,t,n,a,r);case 7:return Gn(e,t,t.pendingProps,r),t.child;case 8:return Gn(e,t,t.pendingProps.children,r),t.child;case 12:return Gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,er(sm,n._currentValue),n._currentValue=o,s!==null)if(wi(s.value,o)){if(s.children===a.children&&!la.current){t=ms(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=as(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Q1(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Q1(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,qc(t,r),a=qa(a),n=n(a),t.flags|=1,Gn(e,t,n,r),t.child;case 14:return n=t.type,a=li(n,t.pendingProps),a=li(n.type,a),CN(e,t,n,a,r);case 15:return _3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:li(n,a),Lp(e,t),t.tag=1,ca(n)?(e=!0,nm(t)):e=!1,qc(t,r),N3(t,n,a),eb(t,n,a,r),nb(null,t,n,!0,e,r);case 19:return D3(e,t,r);case 22:return E3(e,t,r)}throw Error(He(156,t.tag))};function Y3(e,t){return kC(e,t)}function yB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(e,t,r,n){return new yB(e,t,r,n)}function o2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bB(e){if(typeof e=="function")return o2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tk)return 11;if(e===Pk)return 14}return 2}function So(e,t){var r=e.alternate;return r===null?(r=Va(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bp(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")o2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wc:return Nl(r.children,a,s,t);case Nk:o=8,a|=8;break;case S1:return e=Va(12,r,t,a|2),e.elementType=S1,e.lanes=s,e;case N1:return e=Va(13,r,t,a),e.elementType=N1,e.lanes=s,e;case T1:return e=Va(19,r,t,a),e.elementType=T1,e.lanes=s,e;case iC:return sx(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nC:o=10;break e;case aC:o=9;break e;case Tk:o=11;break e;case Pk:o=14;break e;case ro:o=16,n=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Va(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Nl(e,t,r,n){return e=Va(7,e,n,t),e.lanes=r,e}function sx(e,t,r,n){return e=Va(22,e,n,t),e.elementType=iC,e.lanes=r,e.stateNode={isHidden:!1},e}function Jv(e,t,r){return e=Va(6,e,null,t),e.lanes=r,e}function Qv(e,t,r){return t=Va(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wB(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cv(0),this.expirationTimes=Cv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function l2(e,t,r,n,a,s,o,l,c){return e=new wB(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Va(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hk(s),e}function kB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function X3(e){if(!e)return Mo;e=e._reactInternals;e:{if(ql(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var r=e.type;if(ca(r))return XC(e,r,t)}return t}function J3(e,t,r,n,a,s,o,l,c){return e=l2(r,n,!0,e,a,s,o,l,c),e.context=X3(null),r=e.current,n=Zn(),a=jo(r),s=as(n,a),s.callback=t??null,wo(r,s,a),e.current.lanes=a,o0(e,a,n),ua(e,n),e}function ox(e,t,r,n){var a=t.current,s=Zn(),o=jo(a);return r=X3(r),t.context===null?t.context=r:t.pendingContext=r,t=as(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wo(a,t,o),e!==null&&(xi(e,a,o,s),Mp(e,a,o)),o}function gm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function c2(e,t){zN(e,t),(e=e.alternate)&&zN(e,t)}function jB(){return null}var Q3=typeof reportError=="function"?reportError:function(e){console.error(e)};function u2(e){this._internalRoot=e}lx.prototype.render=u2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));ox(e,t,null,null)};lx.prototype.unmount=u2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Il(function(){ox(null,e,null,null)}),t[hs]=null}};function lx(e){this._internalRoot=e}lx.prototype.unstable_scheduleHydration=function(e){if(e){var t=EC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<so.length&&t!==0&&t<so[r].priority;r++);so.splice(r,0,e),r===0&&OC(e)}};function d2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HN(){}function SB(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=gm(o);s.call(u)}}var o=J3(t,n,e,0,null,!1,!1,"",HN);return e._reactRootContainer=o,e[hs]=o.current,Qf(e.nodeType===8?e.parentNode:e),Il(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=gm(c);l.call(u)}}var c=l2(e,0,!1,null,null,!1,!1,"",HN);return e._reactRootContainer=c,e[hs]=c.current,Qf(e.nodeType===8?e.parentNode:e),Il(function(){ox(t,c,r,n)}),c}function ux(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=gm(o);l.call(c)}}ox(t,o,e,a)}else o=SB(r,t,e,a,n);return gm(o)}PC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lf(t.pendingLanes);r!==0&&(Ak(t,r|1),ua(t,Pr()),!(Dt&6)&&(hu=Pr()+500,Ko()))}break;case 13:Il(function(){var n=ps(e,1);if(n!==null){var a=Zn();xi(n,e,1,a)}}),c2(e,1)}};Ok=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var r=Zn();xi(t,e,134217728,r)}c2(e,134217728)}};_C=function(e){if(e.tag===13){var t=jo(e),r=ps(e,t);if(r!==null){var n=Zn();xi(r,e,t,n)}c2(e,t)}};EC=function(){return Vt};AC=function(e,t){var r=Vt;try{return Vt=e,t()}finally{Vt=r}};I1=function(e,t,r){switch(t){case"input":if(E1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ex(n);if(!a)throw Error(He(90));oC(n),E1(n,a)}}}break;case"textarea":cC(e,r);break;case"select":t=r.value,t!=null&&zc(e,!!r.multiple,t,!1)}};gC=a2;xC=Il;var NB={usingClientEntryPoint:!1,Events:[c0,Nc,ex,pC,mC,a2]},Td={findFiberByHostInstance:pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TB={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bC(e),e===null?null:e.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||jB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Y0.isDisabled&&Y0.supportsFiber)try{Xg=Y0.inject(TB),Mi=Y0}catch{}}Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NB;Oa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d2(t))throw Error(He(200));return kB(e,t,null,r)};Oa.createRoot=function(e,t){if(!d2(e))throw Error(He(299));var r=!1,n="",a=Q3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=l2(e,1,!1,null,null,r,!1,n,a),e[hs]=t.current,Qf(e.nodeType===8?e.parentNode:e),new u2(t)};Oa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=bC(t),e=e===null?null:e.stateNode,e};Oa.flushSync=function(e){return Il(e)};Oa.hydrate=function(e,t,r){if(!cx(t))throw Error(He(200));return ux(null,e,t,!0,r)};Oa.hydrateRoot=function(e,t,r){if(!d2(e))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=Q3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=J3(t,null,e,1,r??null,a,!1,s,o),e[hs]=t.current,Qf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lx(t)};Oa.render=function(e,t,r){if(!cx(t))throw Error(He(200));return ux(null,e,t,!1,r)};Oa.unmountComponentAtNode=function(e){if(!cx(e))throw Error(He(40));return e._reactRootContainer?(Il(function(){ux(null,null,e,!1,function(){e._reactRootContainer=null,e[hs]=null})}),!0):!1};Oa.unstable_batchedUpdates=a2;Oa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cx(r))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return ux(e,t,r,!1,n)};Oa.version="18.3.1-next-f1338f8080-20240426";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(e){console.error(e)}}Z3(),ZO.exports=Oa;var e5=ZO.exports,WN=e5;k1.createRoot=WN.createRoot,k1.hydrateRoot=WN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(this,arguments)}var fo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fo||(fo={}));const GN="popstate";function PB(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return mb("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:xm(a)}return EB(t,r,null,e)}function Er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _B(){return Math.random().toString(36).substr(2,8)}function qN(e,t){return{usr:e.state,key:e.key,idx:t}}function mb(e,t,r,n){return r===void 0&&(r=null),oh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yu(t):t,{state:r,key:t&&t.key||n||_B()})}function xm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function EB(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=fo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(oh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=fo.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:b})}function h(x,b){l=fo.Push;let y=mb(m.location,x,b);u=d()+1;let v=qN(y,u),w=m.createHref(y);try{o.pushState(v,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}s&&c&&c({action:l,location:m.location,delta:1})}function p(x,b){l=fo.Replace;let y=mb(m.location,x,b);u=d();let v=qN(y,u),w=m.createHref(y);o.replaceState(v,"",w),s&&c&&c({action:l,location:m.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:xm(x);return y=y.replace(/ $/,"%20"),Er(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let m={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(GN,f),c=x,()=>{a.removeEventListener(GN,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return o.go(x)}};return m}var YN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(YN||(YN={}));function AB(e,t,r){return r===void 0&&(r="/"),OB(e,t,r)}function OB(e,t,r,n){let a=typeof t=="string"?Yu(t):t,s=h2(a.pathname||"/",r);if(s==null)return null;let o=t5(e);CB(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=zB(s);l=UB(o[c],u)}return l}function t5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Er(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=No([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Er(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t5(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:$B(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of r5(s.path))a(s,o,c)}),t}function r5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=r5(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DB=/^:[\w-]+$/,MB=3,RB=2,IB=1,LB=10,FB=-2,XN=e=>e==="*";function $B(e,t){let r=e.split("/"),n=r.length;return r.some(XN)&&(n+=FB),t&&(n+=RB),r.filter(a=>!XN(a)).reduce((a,s)=>a+(DB.test(s)?MB:s===""?IB:LB),n)}function BB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function UB(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=KB({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:No([s,f.pathname]),pathnameBase:YB(No([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=No([s,f.pathnameBase]))}return o}function KB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=VB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function VB(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),f2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function zB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return f2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function h2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const HB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WB=e=>HB.test(e);function GB(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Yu(e):e,s;if(r)if(WB(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),f2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=JN(r.substring(1),"/"):s=JN(r,t)}else s=t;return{pathname:s,search:XB(n),hash:JB(a)}}function JN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Zv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function p2(e,t){let r=qB(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function m2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Yu(e):(a=oh({},e),Er(!a.pathname||!a.pathname.includes("?"),Zv("?","pathname","search",a)),Er(!a.pathname||!a.pathname.includes("#"),Zv("#","pathname","hash",a)),Er(!a.search||!a.search.includes("#"),Zv("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=GB(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const No=e=>e.join("/").replace(/\/\/+/g,"/"),YB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const n5=["post","put","patch","delete"];new Set(n5);const ZB=["get",...n5];new Set(ZB);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}const g2=j.createContext(null),e7=j.createContext(null),Vo=j.createContext(null),dx=j.createContext(null),js=j.createContext({outlet:null,matches:[],isDataRoute:!1}),a5=j.createContext(null);function t7(e,t){let{relative:r}=t===void 0?{}:t;Xu()||Er(!1);let{basename:n,navigator:a}=j.useContext(Vo),{hash:s,pathname:o,search:l}=s5(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:No([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Xu(){return j.useContext(dx)!=null}function Ju(){return Xu()||Er(!1),j.useContext(dx).location}function i5(e){j.useContext(Vo).static||j.useLayoutEffect(e)}function d0(){let{isDataRoute:e}=j.useContext(js);return e?g7():r7()}function r7(){Xu()||Er(!1);let e=j.useContext(g2),{basename:t,future:r,navigator:n}=j.useContext(Vo),{matches:a}=j.useContext(js),{pathname:s}=Ju(),o=JSON.stringify(p2(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return i5(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=m2(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:No([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const n7=j.createContext(null);function a7(e){let t=j.useContext(js).outlet;return t&&j.createElement(n7.Provider,{value:e},t)}function s5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(Vo),{matches:a}=j.useContext(js),{pathname:s}=Ju(),o=JSON.stringify(p2(a,n.v7_relativeSplatPath));return j.useMemo(()=>m2(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function i7(e,t){return s7(e,t)}function s7(e,t,r,n){Xu()||Er(!1);let{navigator:a}=j.useContext(Vo),{matches:s}=j.useContext(js),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ju(),d;if(t){var f;let x=typeof t=="string"?Yu(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Er(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=AB(e,{pathname:p}),m=d7(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:No([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:No([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&m?j.createElement(dx.Provider,{value:{location:lh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fo.Pop}},m):m}function o7(){let e=m7(),t=QB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const l7=j.createElement(o7,null);class c7 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(js.Provider,{value:this.props.routeContext},j.createElement(a5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u7(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(g2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(js.Provider,{value:t},n)}function d7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Er(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||l7,c&&(u<0&&h===0?(x7("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let v;return p?v=m:g?v=x:f.route.Component?v=j.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,j.createElement(u7,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(c7,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var o5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o5||{}),l5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(l5||{});function f7(e){let t=j.useContext(g2);return t||Er(!1),t}function h7(e){let t=j.useContext(e7);return t||Er(!1),t}function p7(e){let t=j.useContext(js);return t||Er(!1),t}function c5(e){let t=p7(),r=t.matches[t.matches.length-1];return r.route.id||Er(!1),r.route.id}function m7(){var e;let t=j.useContext(a5),r=h7(),n=c5();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function g7(){let{router:e}=f7(o5.UseNavigateStable),t=c5(l5.UseNavigateStable),r=j.useRef(!1);return i5(()=>{r.current=!0}),j.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,lh({fromRouteId:t},s)))},[e,t])}const QN={};function x7(e,t,r){QN[e]||(QN[e]=!0)}function v7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ll(e){let{to:t,replace:r,state:n,relative:a}=e;Xu()||Er(!1);let{future:s,static:o}=j.useContext(Vo),{matches:l}=j.useContext(js),{pathname:c}=Ju(),u=d0(),d=m2(t,p2(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function y7(e){return a7(e.context)}function mt(e){Er(!1)}function b7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=fo.Pop,navigator:s,static:o=!1,future:l}=e;Xu()&&Er(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:o,future:lh({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Yu(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=j.useMemo(()=>{let x=h2(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:j.createElement(Vo.Provider,{value:u},j.createElement(dx.Provider,{children:r,value:m}))}function w7(e){let{children:t,location:r}=e;return i7(gb(t),r)}new Promise(()=>{});function gb(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,gb(n.props.children,s));return}n.type!==mt&&Er(!1),!n.props.index||!n.props.children||Er(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gb(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function k7(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function j7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S7(e,t){return e.button===0&&(!t||t==="_self")&&!j7(e)}const N7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T7="6";try{window.__reactRouterVersion=T7}catch{}const P7="startTransition",ZN=JO[P7];function _7(e){let{basename:t,children:r,future:n,window:a}=e,s=j.useRef();s.current==null&&(s.current=PB({window:a,v5Compat:!0}));let o=s.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&ZN?ZN(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>v7(n),[n]),j.createElement(b7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const E7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X0=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=k7(t,N7),{basename:p}=j.useContext(Vo),g,m=!1;if(typeof u=="string"&&A7.test(u)&&(g=u,E7))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=h2(w.pathname,p);w.origin===v.origin&&k!=null?u=k+w.search+w.hash:m=!0}catch{}let x=t7(u,{relative:a}),b=O7(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||b(v)}return j.createElement("a",xb({},h,{href:g||x,onClick:m||s?n:y,ref:r,target:c}))});var eT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eT||(eT={}));var tT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tT||(tT={}));function O7(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=d0(),u=Ju(),d=s5(e,{relative:o});return j.useCallback(f=>{if(S7(f,r)){f.preventDefault();let h=n!==void 0?n:xm(u)===xm(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}const C7={},rT=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(C7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},D7=e=>e?rT(e):rT;var u5={exports:{}},d5={},f5={exports:{}},h5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=j;function M7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R7=typeof Object.is=="function"?Object.is:M7,I7=pu.useState,L7=pu.useEffect,F7=pu.useLayoutEffect,$7=pu.useDebugValue;function B7(e,t){var r=t(),n=I7({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return F7(function(){a.value=r,a.getSnapshot=t,ey(a)&&s({inst:a})},[e,r,t]),L7(function(){return ey(a)&&s({inst:a}),e(function(){ey(a)&&s({inst:a})})},[e]),$7(r),r}function ey(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!R7(e,r)}catch{return!0}}function U7(e,t){return t()}var K7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U7:B7;h5.useSyncExternalStore=pu.useSyncExternalStore!==void 0?pu.useSyncExternalStore:K7;f5.exports=h5;var V7=f5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=j,z7=V7;function H7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W7=typeof Object.is=="function"?Object.is:H7,G7=z7.useSyncExternalStore,q7=fx.useRef,Y7=fx.useEffect,X7=fx.useMemo,J7=fx.useDebugValue;d5.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=q7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=X7(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return f=g}return f=p}if(g=f,W7(d,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=G7(e,s[0],s[1]);return Y7(function(){o.hasValue=!0,o.value=l},[l]),J7(l),l};u5.exports=d5;var Q7=u5.exports;const Z7=$t(Q7),p5={},{useDebugValue:e9}=pe,{useSyncExternalStoreWithSelector:t9}=Z7;let nT=!1;const r9=e=>e;function n9(e,t=r9,r){(p5?"production":void 0)!=="production"&&r&&!nT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nT=!0);const n=t9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return e9(n),n}const aT=e=>{(p5?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?D7(e):e,r=(n,a)=>n9(t,n,a);return Object.assign(r,t),r},f0=e=>e?aT(e):aT,a9={};function i9(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(a))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const ch=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return ch(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ch(n)(r)}}}},s9=(e,t)=>(r,n,a)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=ch(s.serialize),f=()=>{const x=s.partialize({...n()});let b;const y=d({state:x,version:s.version}).then(v=>u.setItem(s.name,v)).catch(v=>{b=v});if(b)throw b;return y},h=a.setState;a.setState=(x,b)=>{h(x,b),f()};const p=e((...x)=>{r(...x),f()},n,a);let g;const m=()=>{var x;if(!u)return;o=!1,l.forEach(y=>y(n()));const b=((x=s.onRehydrateStorage)==null?void 0:x.call(s,n()))||void 0;return ch(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var v;return g=s.merge(y,(v=n())!=null?v:p),r(g,!0),f()}).then(()=>{b==null||b(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},m(),g||p},o9=(e,t)=>(r,n,a)=>{let s={storage:i9(()=>localStorage),partialize:m=>m,version:0,merge:(m,x)=>({...x,...m}),...t},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...m)},n,a);const d=()=>{const m=s.partialize({...n()});return u.setItem(s.name,{state:m,version:s.version})},f=a.setState;a.setState=(m,x)=>{f(m,x),d()};const h=e((...m)=>{r(...m),d()},n,a);a.getInitialState=()=>h;let p;const g=()=>{var m,x;if(!u)return;o=!1,l.forEach(y=>{var v;return y((v=n())!=null?v:h)});const b=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(m=n())!=null?m:h))||void 0;return ch(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[w,k]=y;if(p=s.merge(k,(v=n())!=null?v:h),r(p,!0),w)return d()}).then(()=>{b==null||b(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:m=>{s={...s,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},s.skipHydration||g(),p||h},l9=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((a9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),s9(e,t)):o9(e,t),x2=l9,Et=f0()(x2(e=>({isLoggedIn:!1,user:null,sessionId:null,deviceId:null,login:(t,r,n)=>e({isLoggedIn:!0,user:t,sessionId:r,deviceId:n}),logout:()=>e({isLoggedIn:!1,user:null,sessionId:null,deviceId:null}),updateUser:t=>e(r=>({user:r.user?{...r.user,...t}:null}))}),{name:"auth-storage"})),hx=f0()(x2(e=>({sidebarOpen:!1,sidebarCollapsed:!1,activeTab:"dashboard",dashboardPlantFilter:"ALL",dashboardYear:new Date().getFullYear(),darkMode:!1,forceDesktopView:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSidebarCollapse:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setActiveTab:t=>e({activeTab:t}),setDashboardPlantFilter:t=>e({dashboardPlantFilter:t}),setDashboardYear:t=>e({dashboardYear:t}),toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleForceDesktopView:()=>e(t=>({forceDesktopView:!t.forceDesktopView}))}),{name:"ui-storage",partialize:e=>({darkMode:e.darkMode,forceDesktopView:e.forceDesktopView})})),c9=f0((e,t)=>({notifications:[],unreadCount:0,isMarkingAllAsRead:!1,lastMarkedAllReadTimestamp:null,addNotification:r=>e(n=>({notifications:[r,...n.notifications],unreadCount:n.unreadCount+1})),markAsRead:r=>e(n=>({notifications:n.notifications.map(a=>a.id===r?{...a,read:!0}:a),unreadCount:Math.max(0,n.unreadCount-1)})),markAllAsRead:()=>e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0,lastMarkedAllReadTimestamp:Date.now()})),setMarkingAllAsRead:r=>e({isMarkingAllAsRead:r}),clearNotifications:()=>e({notifications:[],unreadCount:0}),setNotifications:r=>{const n=t();if(n.lastMarkedAllReadTimestamp&&Date.now()-n.lastMarkedAllReadTimestamp<3e3){const a=r.map(s=>{const o=n.notifications.find(l=>l.id===s.id);return o&&o.read?{...s,read:!0}:s});e({notifications:a,unreadCount:a.filter(s=>!s.read).length})}else e({notifications:r,unreadCount:r.filter(a=>!a.read).length})}})),vm=f0()(x2(e=>({messages:[],isOpen:!1,unreadChatCount:0,lastReadTimestamp:null,lastFetchTimestamp:null,toggleChat:()=>e(t=>({isOpen:!t.isOpen})),addMessage:t=>e(r=>r.messages.some(a=>a.id===t.id)?r:{messages:[...r.messages,t]}),addOptimisticMessage:t=>e(r=>({messages:[...r.messages,t]})),removeOptimisticMessage:t=>e(r=>({messages:r.messages.filter(n=>n.id!==t)})),setMessages:t=>e(r=>{const a=r.messages.filter(o=>o.id&&o.id.startsWith("temp_")).filter(o=>!t.some(c=>c.sender===o.sender&&c.message===o.message&&Math.abs(new Date(c.timestamp).getTime()-new Date(o.timestamp).getTime())<5e3)),s=[...t,...a];return s.sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),{messages:s}}),setUnreadChatCount:t=>e({unreadChatCount:t}),markChatAsRead:()=>e({unreadChatCount:0,lastReadTimestamp:new Date().toISOString()}),setLastFetchTimestamp:t=>e({lastFetchTimestamp:t})}),{name:"chat-storage",partialize:e=>({messages:e.messages.slice(-100),lastFetchTimestamp:e.lastFetchTimestamp})}));f0(e=>({loading:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t})}));const u9="modulepreload",d9=function(e){return"/"+e},iT={},st=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=d9(c),c in iT)return;iT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":u9,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function m5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=m5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=m5(e))&&(n&&(n+=" "),n+=t);return n}const v2="-",f9=e=>{const t=p9(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(v2);return l[0]===""&&l.length!==1&&l.shift(),g5(l,t)||h9(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},g5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?g5(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(v2);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},sT=/^\[(.+)\]$/,h9=e=>{if(sT.test(e)){const t=sT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},p9=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return g9(Object.entries(e.classGroups),r).forEach(([s,o])=>{vb(o,n,s,t)}),n},vb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:oT(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(m9(a)){vb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{vb(o,oT(t,s),r,n)})})},oT=(e,t)=>{let r=e;return t.split(v2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},m9=e=>e.isThemeGetter,g9=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,x9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},x5="!",v9=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===a&&(n||l.slice(x,x+s)===t)){c.push(l.slice(d,x)),d=x+s;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(x5),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},y9=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},b9=e=>({cache:x9(e.cacheSize),parseClassName:v9(e),...f9(e)}),w9=/\s+/,k9=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(w9);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=y9(d).join(":"),b=f?x+x5:x,y=b+m;if(s.includes(y))continue;s.push(y);const v=a(m,g);for(let w=0;w<v.length;++w){const k=v[w];s.push(b+k)}l=u+(l.length>0?" "+l:l)}return l};function j9(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v5(t))&&(n&&(n+=" "),n+=r);return n}const v5=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=v5(e[n]))&&(r&&(r+=" "),r+=t);return r};function S9(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=b9(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=k9(c,r);return a(c,d),d}return function(){return s(j9.apply(null,arguments))}}const nr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y5=/^\[(?:([a-z-]+):)?(.+)\]$/i,N9=/^\d+\/\d+$/,T9=new Set(["px","full","screen"]),P9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=e=>Xc(e)||T9.has(e)||N9.test(e),Xs=e=>Qu(e,"length",$9),Xc=e=>!!e&&!Number.isNaN(Number(e)),ty=e=>Qu(e,"number",Xc),Pd=e=>!!e&&Number.isInteger(Number(e)),C9=e=>e.endsWith("%")&&Xc(e.slice(0,-1)),wt=e=>y5.test(e),Js=e=>P9.test(e),D9=new Set(["length","size","percentage"]),M9=e=>Qu(e,D9,b5),R9=e=>Qu(e,"position",b5),I9=new Set(["image","url"]),L9=e=>Qu(e,I9,U9),F9=e=>Qu(e,"",B9),_d=()=>!0,Qu=(e,t,r)=>{const n=y5.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$9=e=>_9.test(e)&&!E9.test(e),b5=()=>!1,B9=e=>A9.test(e),U9=e=>O9.test(e),K9=()=>{const e=nr("colors"),t=nr("spacing"),r=nr("blur"),n=nr("brightness"),a=nr("borderColor"),s=nr("borderRadius"),o=nr("borderSpacing"),l=nr("borderWidth"),c=nr("contrast"),u=nr("grayscale"),d=nr("hueRotate"),f=nr("invert"),h=nr("gap"),p=nr("gradientColorStops"),g=nr("gradientColorStopPositions"),m=nr("inset"),x=nr("margin"),b=nr("opacity"),y=nr("padding"),v=nr("saturate"),w=nr("scale"),k=nr("sepia"),N=nr("skew"),S=nr("space"),T=nr("translate"),P=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",wt,t],A=()=>[wt,t],R=()=>["",Wi,Xs],q=()=>["auto",Xc,wt],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",wt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Xc,wt];return{cacheSize:500,separator:":",theme:{colors:[_d],spacing:[Wi,Xs],blur:["none","",Js,wt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Js,wt],borderSpacing:A(),borderWidth:R(),contrast:ee(),grayscale:M(),hueRotate:ee(),invert:M(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[C9,Xs],inset:E(),margin:E(),opacity:ee(),padding:A(),saturate:ee(),scale:ee(),sepia:M(),skew:ee(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[Js]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),wt]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pd,wt]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Pd,wt]}],"grid-cols":[{"grid-cols":[_d]}],"col-start-end":[{col:["auto",{span:["full",Pd,wt]},wt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[_d]}],"row-start-end":[{row:["auto",{span:[Pd,wt]},wt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,t]}],"min-w":[{"min-w":[wt,t,"min","max","fit"]}],"max-w":[{"max-w":[wt,t,"none","full","min","max","fit","prose",{screen:[Js]},Js]}],h:[{h:[wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Js,Xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ty]}],"font-family":[{font:[_d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Xc,ty]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi,Xs]}],"underline-offset":[{"underline-offset":["auto",Wi,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),R9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Wi,wt]}],"outline-w":[{outline:[Wi,Xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Wi,Xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Js,F9]}],"shadow-color":[{shadow:[_d]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Js,wt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Pd,wt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wi,Xs,ty]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V9=S9(K9);function Ge(...e){return V9(vt(e))}function gt(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"}function w5(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function sa(e){if(e==null||e===""||e===0||e==="0")return"-";const t=String(e).trim();if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(t)){const n=t.split(":"),a=n[0].padStart(2,"0"),s=n[1];return`${a}:${s}`}const r=parseFloat(t);if(!isNaN(r)&&r>=0&&(r<1||r>0&&t.includes("."))){const n=r%1,a=Math.round(n*24*60),s=Math.floor(a/60)%24,o=a%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}try{const n=new Date(t);if(!isNaN(n.getTime())){if(n.getFullYear()===1899)return"-";const a=n.getHours(),s=n.getMinutes();return`${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}}catch{}return t||"-"}function ce(e){return e==null?"0":e.toLocaleString("id-ID",{maximumFractionDigits:2})}function ve(e){if(e==null||e==="")return 0;if(typeof e=="number")return isNaN(e)?0:e;const r=String(e).trim().match(/^[\d.,\-]+/);if(!r)return 0;const n=r[0].replace(/\./g,"").replace(",","."),a=parseFloat(n);return isNaN(a)?0:a}function k5(e,t){if(!e||!t)return 0;const[r,n]=e.split(":").map(Number),[a,s]=t.split(":").map(Number);let o=r*60+n,l=a*60+s;return l<o&&(l+=24*60),Number(((l-o)/60).toFixed(2))}function uh(e,t){return k5(e,t)}function z9(e=""){const t=Date.now(),r=Math.random().toString(36).substring(2,9);return`${e}${e?"_":""}${t}_${r}`}function yr(){return new Date().toISOString().split("T")[0]}function ln(e){return["admin","supervisor","avp","user"].includes(e)}function y2(e){return["admin","avp","supervisor"].includes(e)}function b2(e){return["admin","avp","supervisor"].includes(e)}function jn(e){return e==="user"}function Sn(e){return e==="user"}function Jr(e){return["manager","eksternal"].includes(e)}function j5(e,t){return!!(e==="admin"&&t==="ALL"||e==="admin"||["avp","supervisor"].includes(e))}function S5(e,t){return e==="admin"}function N5(e){return!["user","manager","eksternal"].includes(e)}const T5=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),px=j.createContext({}),mx=j.createContext(null),gx=typeof document<"u",w2=gx?j.useLayoutEffect:j.useEffect,P5=j.createContext({strict:!1}),k2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),H9="framerAppearId",_5="data-"+k2(H9);function W9(e,t,r,n){const{visualElement:a}=j.useContext(px),s=j.useContext(P5),o=j.useContext(mx),l=j.useContext(T5).reducedMotion,c=j.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;j.useInsertionEffect(()=>{u&&u.update(r,o)});const d=j.useRef(!!(r[_5]&&!window.HandoffComplete));return w2(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Cc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function G9(e,t,r){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Cc(r)&&(r.current=n))},[t])}function dh(e){return typeof e=="string"||Array.isArray(e)}function xx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const j2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S2=["initial",...j2];function vx(e){return xx(e.animate)||S2.some(t=>dh(e[t]))}function E5(e){return!!(vx(e)||e.variants)}function q9(e,t){if(vx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||dh(r)?r:void 0,animate:dh(n)?n:void 0}}return e.inherit!==!1?t:{}}function Y9(e){const{initial:t,animate:r}=q9(e,j.useContext(px));return j.useMemo(()=>({initial:t,animate:r}),[lT(t),lT(r)])}function lT(e){return Array.isArray(e)?e.join(" "):e}const cT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fh={};for(const e in cT)fh[e]={isEnabled:t=>cT[e].some(r=>!!t[r])};function X9(e){for(const t in e)fh[t]={...fh[t],...e[t]}}const N2=j.createContext({}),A5=j.createContext({}),J9=Symbol.for("motionComponentSymbol");function Q9({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&X9(e);function s(l,c){let u;const d={...j.useContext(T5),...l,layoutId:Z9(l)},{isStatic:f}=d,h=Y9(l),p=n(l,f);if(!f&&gx){h.visualElement=W9(a,p,d,t);const g=j.useContext(A5),m=j.useContext(P5).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,g))}return j.createElement(px.Provider,{value:h},u&&h.visualElement?j.createElement(u,{visualElement:h.visualElement,...d}):null,r(a,l,G9(p,h.visualElement,c),p,f,h.visualElement))}const o=j.forwardRef(s);return o[J9]=a,o}function Z9({layoutId:e}){const t=j.useContext(N2).id;return t&&e!==void 0?t+"-"+e:e}function eU(e){function t(n,a={}){return Q9(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const tU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T2(e){return typeof e!="string"||e.includes("-")?!1:!!(tU.indexOf(e)>-1||/[A-Z]/.test(e))}const ym={};function rU(e){Object.assign(ym,e)}const h0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(h0);function O5(e,{layout:t,layoutId:r}){return Yl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ym[e]||e==="opacity")}const fa=e=>!!(e&&e.getVelocity),nU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aU=h0.length;function iU(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let s="";for(let o=0;o<aU;o++){const l=h0[o];if(e[l]!==void 0){const c=nU[l]||l;s+=`${c}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),a?s=a(e,n?"":s):r&&n&&(s="none"),s}const C5=e=>t=>typeof t=="string"&&t.startsWith(e),D5=C5("--"),yb=C5("var(--"),sU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,oU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ro=(e,t,r)=>Math.min(Math.max(r,e),t),Xl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sf={...Xl,transform:e=>Ro(0,1,e)},J0={...Xl,default:1},Nf=e=>Math.round(e*1e5)/1e5,yx=/(-)?([\d]*\.?[\d])+/g,M5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function p0(e){return typeof e=="string"}const m0=e=>({test:t=>p0(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),eo=m0("deg"),Ii=m0("%"),ht=m0("px"),cU=m0("vh"),uU=m0("vw"),uT={...Ii,parse:e=>Ii.parse(e)/100,transform:e=>Ii.transform(e*100)},dT={...Xl,transform:Math.round},R5={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,size:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,rotate:eo,rotateX:eo,rotateY:eo,rotateZ:eo,scale:J0,scaleX:J0,scaleY:J0,scaleZ:J0,skew:eo,skewX:eo,skewY:eo,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Sf,originX:uT,originY:uT,originZ:ht,zIndex:dT,fillOpacity:Sf,strokeOpacity:Sf,numOctaves:dT};function P2(e,t,r,n){const{style:a,vars:s,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(D5(f)){s[f]=h;continue}const p=R5[f],g=oU(h,p);if(Yl.has(f)){if(c=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):a[f]=g}if(t.transform||(c||n?a.transform=iU(e.transform,r,d,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;a.transformOrigin=`${f} ${h} ${p}`}}const _2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I5(e,t,r){for(const n in t)!fa(t[n])&&!O5(n,r)&&(e[n]=t[n])}function dU({transformTemplate:e},t,r){return j.useMemo(()=>{const n=_2();return P2(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function fU(e,t,r){const n=e.style||{},a={};return I5(a,n,e),Object.assign(a,dU(e,t,r)),e.transformValues?e.transformValues(a):a}function hU(e,t,r){const n={},a=fU(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const pU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pU.has(e)}let L5=e=>!bm(e);function mU(e){e&&(L5=t=>t.startsWith("on")?!bm(t):e(t))}try{mU(require("@emotion/is-prop-valid").default)}catch{}function gU(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(L5(a)||r===!0&&bm(a)||!t&&!bm(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function fT(e,t,r){return typeof e=="string"?e:ht.transform(t+r*e)}function xU(e,t,r){const n=fT(t,e.x,e.width),a=fT(r,e.y,e.height);return`${n} ${a}`}const vU={offset:"stroke-dashoffset",array:"stroke-dasharray"},yU={offset:"strokeDashoffset",array:"strokeDasharray"};function bU(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?vU:yU;e[s.offset]=ht.transform(-n);const o=ht.transform(t),l=ht.transform(r);e[s.array]=`${o} ${l}`}function E2(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(P2(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(a!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=xU(m,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&bU(p,o,l,c,!1)}const F5=()=>({..._2(),attrs:{}}),A2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wU(e,t,r,n){const a=j.useMemo(()=>{const s=F5();return E2(s,t,{enableHardwareAcceleration:!1},A2(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};I5(s,e.style,e),a.style={...s,...a.style}}return a}function kU(e=!1){return(r,n,a,{latestValues:s},o)=>{const c=(T2(r)?wU:hU)(n,s,o,r),d={...gU(n,typeof r=="string",e),...c,ref:a},{children:f}=n,h=j.useMemo(()=>fa(f)?f.get():f,[f]);return j.createElement(r,{...d,children:h})}}function $5(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const B5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U5(e,t,r,n){$5(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(B5.has(a)?a:k2(a),t.attrs[a])}function O2(e,t){const{style:r}=e,n={};for(const a in r)(fa(r[a])||t.style&&fa(t.style[a])||O5(a,e))&&(n[a]=r[a]);return n}function K5(e,t){const r=O2(e,t);for(const n in e)if(fa(e[n])||fa(t[n])){const a=h0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}function C2(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function V5(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const wm=e=>Array.isArray(e),jU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),SU=e=>wm(e)?e[e.length-1]||0:e;function Up(e){const t=fa(e)?e.get():e;return jU(t)?t.toValue():t}function NU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,s){const o={latestValues:TU(n,a,s,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const z5=e=>(t,r)=>{const n=j.useContext(px),a=j.useContext(mx),s=()=>NU(e,t,n,a);return r?s():V5(s)};function TU(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=Up(s[h]);let{initial:o,animate:l}=e;const c=vx(e),u=E5(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!xx(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=C2(e,p);if(!g)return;const{transitionEnd:m,transition:x,...b}=g;for(const y in b){let v=b[y];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(a[y]=v)}for(const y in m)a[y]=m[y]}),a}const _r=e=>e;class hT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function PU(e){let t=new hT,r=new hT,n=0,a=!1,s=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&a,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&a&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){s=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}a=!1,s&&(s=!1,l.process(c))}};return l}const Q0=["prepare","read","update","preRender","render","postRender"],_U=40;function EU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=Q0.reduce((f,h)=>(f[h]=PU(()=>r=!0),f),{}),o=f=>s[f].process(a),l=()=>{const f=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,_U),1),a.timestamp=f,a.isProcessing=!0,Q0.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,a.isProcessing||e(l)};return{schedule:Q0.reduce((f,h)=>{const p=s[h];return f[h]=(g,m=!1,x=!1)=>(r||c(),p.schedule(g,m,x)),f},{}),cancel:f=>Q0.forEach(h=>s[h].cancel(f)),state:a,steps:s}}const{schedule:tr,cancel:gs,state:_n,steps:ry}=EU(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0),AU={useVisualState:z5({scrapeMotionValuesFromProps:K5,createRenderState:F5,onMount:(e,t,{renderState:r,latestValues:n})=>{tr.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),tr.render(()=>{E2(r,n,{enableHardwareAcceleration:!1},A2(t.tagName),e.transformTemplate),U5(t,r)})}})},OU={useVisualState:z5({scrapeMotionValuesFromProps:O2,createRenderState:_2})};function CU(e,{forwardMotionProps:t=!1},r,n){return{...T2(e)?AU:OU,preloadedFeatures:r,useRender:kU(t),createVisualElement:n,Component:e}}function es(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const H5=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function bx(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const DU=e=>t=>H5(t)&&e(t,bx(t));function is(e,t,r,n){return es(e,t,DU(r),n)}const MU=(e,t)=>r=>t(e(r)),To=(...e)=>e.reduce(MU);function W5(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const pT=W5("dragHorizontal"),mT=W5("dragVertical");function G5(e){let t=!1;if(e==="y")t=mT();else if(e==="x")t=pT();else{const r=pT(),n=mT();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function q5(){const e=G5(!0);return e?(e(),!1):!0}class zo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function gT(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(s,o)=>{if(s.pointerType==="touch"||q5())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&tr.update(()=>l[n](s,o))};return is(e.current,r,a,{passive:!e.getProps()[n]})}class RU extends zo{mount(){this.unmount=To(gT(this.node,!0),gT(this.node,!1))}unmount(){}}class IU extends zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=To(es(this.node.current,"focus",()=>this.onFocus()),es(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Y5=(e,t)=>t?e===t?!0:Y5(e,t.parentElement):!1;function ny(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,bx(r))}class LU extends zo{constructor(){super(...arguments),this.removeStartListeners=_r,this.removeEndListeners=_r,this.removeAccessibleListeners=_r,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=is(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();tr.update(()=>{!f&&!Y5(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=is(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=To(s,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ny("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&tr.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=es(this.node.current,"keyup",o),ny("down",(l,c)=>{this.startPress(l,c)})},r=es(this.node.current,"keydown",t),n=()=>{this.isPressing&&ny("cancel",(s,o)=>this.cancelPress(s,o))},a=es(this.node.current,"blur",n);this.removeAccessibleListeners=To(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&tr.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!q5()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&tr.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=is(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=es(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=To(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bb=new WeakMap,ay=new WeakMap,FU=e=>{const t=bb.get(e.target);t&&t(e)},$U=e=>{e.forEach(FU)};function BU({root:e,...t}){const r=e||document;ay.has(r)||ay.set(r,{});const n=ay.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver($U,{root:e,...t})),n[a]}function UU(e,t,r){const n=BU(t);return bb.set(e,r),n.observe(e),()=>{bb.delete(e),n.unobserve(e)}}const KU={some:0,all:1};class VU extends zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:KU[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return UU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(zU(t,r))&&this.startObserver()}unmount(){}}function zU({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const HU={inView:{Feature:VU},tap:{Feature:LU},focus:{Feature:IU},hover:{Feature:RU}};function X5(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function WU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function GU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function wx(e,t,r){const n=e.getProps();return C2(n,t,r!==void 0?r:n.custom,WU(e),GU(e))}let D2=_r;const Tl=e=>e*1e3,ss=e=>e/1e3,qU={current:!1},J5=e=>Array.isArray(e)&&typeof e[0]=="number";function Q5(e){return!!(!e||typeof e=="string"&&Z5[e]||J5(e)||Array.isArray(e)&&e.every(Q5))}const uf=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Z5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uf([0,.65,.55,1]),circOut:uf([.55,0,1,.45]),backIn:uf([.31,.01,.66,-.59]),backOut:uf([.33,1.53,.69,.99])};function eD(e){if(e)return J5(e)?uf(e):Array.isArray(e)?e.map(eD):Z5[e]}function YU(e,t,r,{delay:n=0,duration:a,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=eD(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function XU(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const tD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,JU=1e-7,QU=12;function ZU(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=tD(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>JU&&++l<QU);return o}function g0(e,t,r,n){if(e===t&&r===n)return _r;const a=s=>ZU(s,0,1,e,r);return s=>s===0||s===1?s:tD(a(s),t,n)}const eK=g0(.42,0,1,1),tK=g0(0,0,.58,1),rD=g0(.42,0,.58,1),rK=e=>Array.isArray(e)&&typeof e[0]!="number",nD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aD=e=>t=>1-e(1-t),M2=e=>1-Math.sin(Math.acos(e)),iD=aD(M2),nK=nD(M2),sD=g0(.33,1.53,.69,.99),R2=aD(sD),aK=nD(R2),iK=e=>(e*=2)<1?.5*R2(e):.5*(2-Math.pow(2,-10*(e-1))),sK={linear:_r,easeIn:eK,easeInOut:rD,easeOut:tK,circIn:M2,circInOut:nK,circOut:iD,backIn:R2,backInOut:aK,backOut:sD,anticipate:iK},xT=e=>{if(Array.isArray(e)){D2(e.length===4);const[t,r,n,a]=e;return g0(t,r,n,a)}else if(typeof e=="string")return sK[e];return e},I2=(e,t)=>r=>!!(p0(r)&&lU.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),oD=(e,t,r)=>n=>{if(!p0(n))return n;const[a,s,o,l]=n.match(yx);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},oK=e=>Ro(0,255,e),iy={...Xl,transform:e=>Math.round(oK(e))},xl={test:I2("rgb","red"),parse:oD("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+iy.transform(e)+", "+iy.transform(t)+", "+iy.transform(r)+", "+Nf(Sf.transform(n))+")"};function lK(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const wb={test:I2("#"),parse:lK,transform:xl.transform},Dc={test:I2("hsl","hue"),parse:oD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ii.transform(Nf(t))+", "+Ii.transform(Nf(r))+", "+Nf(Sf.transform(n))+")"},Wn={test:e=>xl.test(e)||wb.test(e)||Dc.test(e),parse:e=>xl.test(e)?xl.parse(e):Dc.test(e)?Dc.parse(e):wb.parse(e),transform:e=>p0(e)?e:e.hasOwnProperty("red")?xl.transform(e):Dc.transform(e)},mr=(e,t,r)=>-r*e+r*t+e;function sy(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function cK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=sy(c,l,e+1/3),s=sy(c,l,e),o=sy(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const oy=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},uK=[wb,xl,Dc],dK=e=>uK.find(t=>t.test(e));function vT(e){const t=dK(e);let r=t.parse(e);return t===Dc&&(r=cK(r)),r}const lD=(e,t)=>{const r=vT(e),n=vT(t),a={...r};return s=>(a.red=oy(r.red,n.red,s),a.green=oy(r.green,n.green,s),a.blue=oy(r.blue,n.blue,s),a.alpha=mr(r.alpha,n.alpha,s),xl.transform(a))};function fK(e){var t,r;return isNaN(e)&&p0(e)&&(((t=e.match(yx))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(M5))===null||r===void 0?void 0:r.length)||0)>0}const cD={regex:sU,countKey:"Vars",token:"${v}",parse:_r},uD={regex:M5,countKey:"Colors",token:"${c}",parse:Wn.parse},dD={regex:yx,countKey:"Numbers",token:"${n}",parse:Xl.parse};function ly(e,{regex:t,countKey:r,token:n,parse:a}){const s=e.tokenised.match(t);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...s.map(a)))}function km(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&ly(r,cD),ly(r,uD),ly(r,dD),r}function fD(e){return km(e).values}function hD(e){const{values:t,numColors:r,numVars:n,tokenised:a}=km(e),s=t.length;return o=>{let l=a;for(let c=0;c<s;c++)c<n?l=l.replace(cD.token,o[c]):c<n+r?l=l.replace(uD.token,Wn.transform(o[c])):l=l.replace(dD.token,Nf(o[c]));return l}}const hK=e=>typeof e=="number"?0:e;function pK(e){const t=fD(e);return hD(e)(t.map(hK))}const Io={test:fK,parse:fD,createTransformer:hD,getAnimatableNone:pK},pD=(e,t)=>r=>`${r>0?t:e}`;function mD(e,t){return typeof e=="number"?r=>mr(e,t,r):Wn.test(e)?lD(e,t):e.startsWith("var(")?pD(e,t):xD(e,t)}const gD=(e,t)=>{const r=[...e],n=r.length,a=e.map((s,o)=>mD(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}},mK=(e,t)=>{const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=mD(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}},xD=(e,t)=>{const r=Io.createTransformer(t),n=km(e),a=km(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?To(gD(n.values,a.values),r):pD(e,t)},hh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},yT=(e,t)=>r=>mr(e,t,r);function gK(e){return typeof e=="number"?yT:typeof e=="string"?Wn.test(e)?lD:xD:Array.isArray(e)?gD:typeof e=="object"?mK:yT}function xK(e,t,r){const n=[],a=r||gK(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||_r:t;l=To(c,l)}n.push(l)}return n}function vD(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(D2(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=xK(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=hh(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Ro(e[0],e[s-1],u)):c}function vK(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=hh(0,t,n);e.push(mr(r,1,a))}}function yK(e){const t=[0];return vK(t,e.length-1),t}function bK(e,t){return e.map(r=>r*t)}function wK(e,t){return e.map(()=>t||rD).splice(0,e.length-1)}function jm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=rK(n)?n.map(xT):xT(n),s={done:!1,value:t[0]},o=bK(r&&r.length===t.length?r:yK(t),e),l=vD(o,t,{ease:Array.isArray(a)?a:wK(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}function yD(e,t){return t?e*(1e3/t):0}const kK=5;function bD(e,t,r){const n=Math.max(t-kK,0);return yD(r-e(n),t-n)}const cy=.001,jK=.01,SK=10,NK=.05,TK=1;function PK({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,s,o=1-t;o=Ro(NK,TK,o),e=Ro(jK,SK,ss(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=kb(u,o),g=Math.exp(-f);return cy-h/p*g},s=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=kb(Math.pow(u,2),o);return(-a(u)+cy>0?-1:1)*((h-p)*g)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-cy+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=EK(a,s,l);if(e=Tl(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const _K=12;function EK(e,t,r){let n=r;for(let a=1;a<_K;a++)n=n-e(n)/t(n);return n}function kb(e,t){return e*Math.sqrt(1-t*t)}const AK=["duration","bounce"],OK=["stiffness","damping","mass"];function bT(e,t){return t.some(r=>e[r]!==void 0)}function CK(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!bT(e,OK)&&bT(e,AK)){const r=PK(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function wD({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],s=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=CK({...n,velocity:-ss(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),m=s-a,x=ss(Math.sqrt(l/u)),b=Math.abs(m)<5;r||(r=b?.01:2),t||(t=b?.005:.5);let y;if(g<1){const v=kb(x,g);y=w=>{const k=Math.exp(-g*x*w);return s-k*((p+g*x*m)/v*Math.sin(v*w)+m*Math.cos(v*w))}}else if(g===1)y=v=>s-Math.exp(-x*v)*(m+(p+x*m)*v);else{const v=x*Math.sqrt(g*g-1);y=w=>{const k=Math.exp(-g*x*w),N=Math.min(v*w,300);return s-k*((p+g*x*m)*Math.sinh(N)+v*m*Math.cosh(N))/v}}return{calculatedDuration:h&&d||null,next:v=>{const w=y(v);if(h)o.done=v>=d;else{let k=p;v!==0&&(g<1?k=bD(y,v,w):k=0);const N=Math.abs(k)<=r,S=Math.abs(s-w)<=t;o.done=N&&S}return o.value=o.done?s:w,o}}}function wT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,g=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let m=r*t;const x=f+m,b=o===void 0?x:o(x);b!==x&&(m=b-f);const y=T=>-m*Math.exp(-T/n),v=T=>b+y(T),w=T=>{const P=y(T),_=v(T);h.done=Math.abs(P)<=u,h.value=h.done?b:_};let k,N;const S=T=>{p(h.value)&&(k=T,N=wD({keyframes:[h.value,g(h.value)],velocity:bD(v,T,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let P=!1;return!N&&k===void 0&&(P=!0,w(T),S(T)),k!==void 0&&T>k?N.next(T-k):(!P&&w(T),h)}}}const DK=e=>{const t=({timestamp:r})=>e(r);return{start:()=>tr.update(t,!0),stop:()=>gs(t),now:()=>_n.isProcessing?_n.timestamp:performance.now()}},kT=2e4;function jT(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kT;)t+=r,n=e.next(t);return t>=kT?1/0:t}const MK={decay:wT,inertia:wT,tween:jm,keyframes:jm,spring:wD};function Sm({autoplay:e=!0,delay:t=0,driver:r=DK,keyframes:n,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,m,x;const b=()=>{x=new Promise(ee=>{m=ee})};b();let y;const v=MK[a]||jm;let w;v!==jm&&typeof n[0]!="number"&&(w=vD([0,100],n,{clamp:!1}),n=[0,100]);const k=v({...h,keyframes:n});let N;l==="mirror"&&(N=v({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",T=null,P=null,_=null;k.calculatedDuration===null&&s&&(k.calculatedDuration=jT(k));const{calculatedDuration:E}=k;let A=1/0,R=1/0;E!==null&&(A=E+o,R=A*(s+1)-o);let q=0;const Z=ee=>{if(P===null)return;p>0&&(P=Math.min(P,ee)),p<0&&(P=Math.min(ee-R/p,P)),T!==null?q=T:q=Math.round(ee-P)*p;const D=q-t*(p>=0?1:-1),J=p>=0?D<0:D>R;q=Math.max(D,0),S==="finished"&&T===null&&(q=R);let z=q,L=k;if(s){const de=Math.min(q,R)/A;let fe=Math.floor(de),be=de%1;!be&&de>=1&&(be=1),be===1&&fe--,fe=Math.min(fe,s+1),!!(fe%2)&&(l==="reverse"?(be=1-be,o&&(be-=o/A)):l==="mirror"&&(L=N)),z=Ro(0,1,be)*A}const te=J?{done:!1,value:n[0]}:L.next(z);w&&(te.value=w(te.value));let{done:ye}=te;!J&&E!==null&&(ye=p>=0?q>=R:q<=0);const Te=T===null&&(S==="finished"||S==="running"&&ye);return f&&f(te.value),Te&&re(),te},V=()=>{y&&y.stop(),y=void 0},G=()=>{S="idle",V(),m(),b(),P=_=null},re=()=>{S="finished",d&&d(),V(),m()},M=()=>{if(g)return;y||(y=r(Z));const ee=y.now();c&&c(),T!==null?P=ee-T:(!P||S==="finished")&&(P=ee),S==="finished"&&b(),_=P,T=null,S="running",y.start()};e&&M();const Y={then(ee,D){return x.then(ee,D)},get time(){return ss(q)},set time(ee){ee=Tl(ee),q=ee,T!==null||!y||p===0?T=ee:P=y.now()-ee/p},get duration(){const ee=k.calculatedDuration===null?jT(k):k.calculatedDuration;return ss(ee)},get speed(){return p},set speed(ee){ee===p||!y||(p=ee,Y.time=ss(q))},get state(){return S},play:M,pause:()=>{S="paused",T=q},stop:()=>{g=!0,S!=="idle"&&(S="idle",u&&u(),G())},cancel:()=>{_!==null&&Z(_),G()},complete:()=>{S="finished"},sample:ee=>(P=0,Z(ee))};return Y}function RK(e){let t;return()=>(t===void 0&&(t=e()),t)}const IK=RK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Z0=10,FK=2e4,$K=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Q5(t.ease);function BK(e,t,{onUpdate:r,onComplete:n,...a}){if(!(IK()&&LK.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:f,duration:h=300,ease:p,times:g}=a;if($K(t,a)){const v=Sm({...a,repeat:0,delay:0});let w={done:!1,value:f[0]};const k=[];let N=0;for(;!w.done&&N<FK;)w=v.sample(N),k.push(w.value),N+=Z0;g=void 0,f=k,h=N-Z0,p="linear"}const m=YU(e.owner.current,t,f,{...a,duration:h,ease:p,times:g}),x=()=>{u=!1,m.cancel()},b=()=>{u=!0,tr.update(x),l(),d()};return m.onfinish=()=>{u||(e.set(XU(f,a)),n&&n(),b())},{then(v,w){return c.then(v,w)},attachTimeline(v){return m.timeline=v,m.onfinish=null,_r},get time(){return ss(m.currentTime||0)},set time(v){m.currentTime=Tl(v)},get speed(){return m.playbackRate},set speed(v){m.playbackRate=v},get duration(){return ss(h)},play:()=>{o||(m.play(),gs(x))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:v}=m;if(v){const w=Sm({...a,autoplay:!1});e.setWithVelocity(w.sample(v-Z0).value,w.sample(v).value,Z0)}b()},complete:()=>{u||m.finish()},cancel:b}}function UK({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:_r,pause:_r,stop:_r,then:s=>(s(),Promise.resolve()),cancel:_r,complete:_r});return t?Sm({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const KK={type:"spring",stiffness:500,damping:25,restSpeed:10},VK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zK={type:"keyframes",duration:.8},HK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WK=(e,{keyframes:t})=>t.length>2?zK:Yl.has(e)?e.startsWith("scale")?VK(t[1]):KK:HK,jb=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Io.test(t)||t==="0")&&!t.startsWith("url(")),GK=new Set(["brightness","contrast","saturate","opacity"]);function qK(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(yx)||[];if(!n)return e;const a=r.replace(n,"");let s=GK.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const YK=/([a-z-]*)\(.*?\)/g,Sb={...Io,getAnimatableNone:e=>{const t=e.match(YK);return t?t.map(qK).join(" "):e}},XK={...R5,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:Sb,WebkitFilter:Sb},L2=e=>XK[e];function kD(e,t){let r=L2(e);return r!==Sb&&(r=Io),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const jD=e=>/^0[^.\s]+$/.test(e);function JK(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||jD(e)}function QK(e,t,r,n){const a=jb(t,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),JK(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];s[d]=kD(t,l)}return s}function ZK({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function F2(e,t){return e[t]||e.default||e}const eV={skipAnimations:!1},$2=(e,t,r,n={})=>a=>{const s=F2(n,e)||{},o=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Tl(o);const c=QK(t,e,r,s),u=c[0],d=c[c.length-1],f=jb(e,u),h=jb(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:g=>{t.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{a(),s.onComplete&&s.onComplete()}};if(ZK(s)||(p={...p,...WK(e,p)}),p.duration&&(p.duration=Tl(p.duration)),p.repeatDelay&&(p.repeatDelay=Tl(p.repeatDelay)),!f||!h||qU.current||s.type===!1||eV.skipAnimations)return UK(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=BK(t,e,p);if(g)return g}return Sm(p)};function Nm(e){return!!(fa(e)&&e.add)}const SD=e=>/^\-?\d*\.?\d+$/.test(e);function B2(e,t){e.indexOf(t)===-1&&e.push(t)}function U2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class K2{constructor(){this.subscriptions=[]}add(t){return B2(this.subscriptions,t),()=>U2(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tV=e=>!isNaN(parseFloat(e));class rV{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=_n;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=tV(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new K2);const n=this.events[t].add(r);return t==="change"?()=>{n(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(e,t){return new rV(e,t)}const ND=e=>t=>t.test(e),nV={test:e=>e==="auto",parse:e=>e},TD=[Xl,ht,Ii,eo,uU,cU,nV],Ed=e=>TD.find(ND(e)),aV=[...TD,Wn,Io],iV=e=>aV.find(ND(e));function sV(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,mu(r))}function oV(e,t){const r=wx(e,t);let{transitionEnd:n={},transition:a={},...s}=r?e.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const l=SU(s[o]);sV(e,o,l)}}function lV(e,t,r){var n,a;const s=Object.keys(t).filter(l=>!e.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),d!=null&&(typeof d=="string"&&(SD(d)||jD(d))?d=parseFloat(d):!iV(d)&&Io.test(u)&&(d=kD(c,u)),e.addValue(c,mu(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function cV(e,t){return t?(t[e]||t.default||t).from:void 0}function uV(e,t,r){const n={};for(const a in e){const s=cV(a,t);if(s!==void 0)n[a]=s;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function dV({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function fV(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function PD(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(s=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&dV(d,f))continue;const g={delay:r,elapsed:0,...F2(s||{},f)};if(window.HandoffAppearAnimations){const b=e.getProps()[_5];if(b){const y=window.HandoffAppearAnimations(b,f,h,tr);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let m=!g.isHandoff&&!fV(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start($2(f,h,p,e.shouldReduceMotion&&Yl.has(f)?{type:!1}:g));const x=h.animation;Nm(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&oV(e,o)}),u}function Nb(e,t,r={}){const n=wx(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(PD(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return hV(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function hV(e,t,r=0,n=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(pV).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Nb(u,t,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function pV(e,t){return e.sortNodePosition(t)}function mV(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>Nb(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=Nb(e,t,r);else{const a=typeof t=="function"?wx(e,t,r.custom):t;n=Promise.all(PD(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}const gV=[...j2].reverse(),xV=j2.length;function vV(e){return t=>Promise.all(t.map(({animation:r,options:n})=>mV(e,r,n)))}function yV(e){let t=vV(e);const r=wV();let n=!0;const a=(c,u)=>{const d=wx(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function s(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let b=0;b<xV;b++){const y=gV[b],v=r[y],w=d[y]!==void 0?d[y]:f[y],k=dh(w),N=y===u?v.isActive:null;N===!1&&(m=b);let S=w===f[y]&&w!==d[y]&&k;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...g},!v.isActive&&N===null||!w&&!v.prevProp||xx(w)||typeof w=="boolean")continue;let P=bV(v.prevProp,w)||y===u&&v.isActive&&!S&&k||b>m&&k,_=!1;const E=Array.isArray(w)?w:[w];let A=E.reduce(a,{});N===!1&&(A={});const{prevResolvedValues:R={}}=v,q={...R,...A},Z=V=>{P=!0,p.has(V)&&(_=!0,p.delete(V)),v.needsAnimating[V]=!0};for(const V in q){const G=A[V],re=R[V];if(g.hasOwnProperty(V))continue;let M=!1;wm(G)&&wm(re)?M=!X5(G,re):M=G!==re,M?G!==void 0?Z(V):p.add(V):G!==void 0&&p.has(V)?Z(V):v.protectedKeys[V]=!0}v.prevProp=w,v.prevResolvedValues=A,v.isActive&&(g={...g,...A}),n&&e.blockInitialAnimation&&(P=!1),P&&(!S||_)&&h.push(...E.map(V=>({animation:V,options:{type:y,...c}})))}if(p.size){const b={};p.forEach(y=>{const v=e.getBaseTarget(y);v!==void 0&&(b[y]=v)}),h.push({animation:b})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r}}function bV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!X5(t,e):!1}function Jo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wV(){return{animate:Jo(!0),whileInView:Jo(),whileHover:Jo(),whileTap:Jo(),whileDrag:Jo(),whileFocus:Jo(),exit:Jo()}}class kV extends zo{constructor(t){super(t),t.animationState||(t.animationState=yV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),xx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let jV=0;class SV extends zo{constructor(){super(...arguments),this.id=jV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const NV={animation:{Feature:kV},exit:{Feature:SV}},ST=(e,t)=>Math.abs(e-t);function TV(e,t){const r=ST(e.x,t.x),n=ST(e.y,t.y);return Math.sqrt(r**2+n**2)}class _D{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=TV(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=_n;this.history.push({...g,timestamp:m});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uy(h,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=dy(f.type==="pointercancel"?this.lastMoveEventInfo:uy(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),g&&g(f,x)},!H5(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=bx(t),l=uy(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=_n;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,dy(l,this.history)),this.removeListeners=To(is(this.contextWindow,"pointermove",this.handlePointerMove),is(this.contextWindow,"pointerup",this.handlePointerUp),is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function uy(e,t){return t?{point:t(e.point)}:e}function NT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dy({point:e},t){return{point:e,delta:NT(e,ED(t)),offset:NT(e,PV(t)),velocity:_V(t,.1)}}function PV(e){return e[0]}function ED(e){return e[e.length-1]}function _V(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=ED(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Tl(t)));)r--;if(!n)return{x:0,y:0};const s=ss(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ea(e){return e.max-e.min}function Tb(e,t=0,r=.01){return Math.abs(e-t)<=r}function TT(e,t,r,n=.5){e.origin=n,e.originPoint=mr(t.min,t.max,e.origin),e.scale=Ea(r)/Ea(t),(Tb(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mr(r.min,r.max,e.origin)-e.originPoint,(Tb(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tf(e,t,r,n){TT(e.x,t.x,r.x,n?n.originX:void 0),TT(e.y,t.y,r.y,n?n.originY:void 0)}function PT(e,t,r){e.min=r.min+t.min,e.max=e.min+Ea(t)}function EV(e,t,r){PT(e.x,t.x,r.x),PT(e.y,t.y,r.y)}function _T(e,t,r){e.min=t.min-r.min,e.max=e.min+Ea(t)}function Pf(e,t,r){_T(e.x,t.x,r.x),_T(e.y,t.y,r.y)}function AV(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?mr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?mr(r,e,n.max):Math.min(e,r)),e}function ET(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function OV(e,{top:t,left:r,bottom:n,right:a}){return{x:ET(e.x,r,a),y:ET(e.y,t,n)}}function AT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function CV(e,t){return{x:AT(e.x,t.x),y:AT(e.y,t.y)}}function DV(e,t){let r=.5;const n=Ea(e),a=Ea(t);return a>n?r=hh(t.min,t.max-n,e.min):n>a&&(r=hh(e.min,e.max-a,t.min)),Ro(0,1,r)}function MV(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Pb=.35;function RV(e=Pb){return e===!1?e=0:e===!0&&(e=Pb),{x:OT(e,"left","right"),y:OT(e,"top","bottom")}}function OT(e,t,r){return{min:CT(e,t),max:CT(e,r)}}function CT(e,t){return typeof e=="number"?e:e[t]||0}const DT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mc=()=>({x:DT(),y:DT()}),MT=()=>({min:0,max:0}),Cr=()=>({x:MT(),y:MT()});function Fa(e){return[e("x"),e("y")]}function AD({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function IV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LV(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function fy(e){return e===void 0||e===1}function _b({scale:e,scaleX:t,scaleY:r}){return!fy(e)||!fy(t)||!fy(r)}function il(e){return _b(e)||OD(e)||e.z||e.rotate||e.rotateX||e.rotateY}function OD(e){return RT(e.x)||RT(e.y)}function RT(e){return e&&e!=="0%"}function Tm(e,t,r){const n=e-r,a=t*n;return r+a}function IT(e,t,r,n,a){return a!==void 0&&(e=Tm(e,a,n)),Tm(e,r,n)+t}function Eb(e,t=0,r=1,n,a){e.min=IT(e.min,t,r,n,a),e.max=IT(e.max,t,r,n,a)}function CD(e,{x:t,y:r}){Eb(e.x,t.translate,t.scale,t.originPoint),Eb(e.y,r.translate,r.scale,r.originPoint)}function FV(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rc(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,CD(e,o)),n&&il(s.latestValues)&&Rc(e,s.latestValues))}t.x=LT(t.x),t.y=LT(t.y)}function LT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ao(e,t){e.min=e.min+t,e.max=e.max+t}function FT(e,t,[r,n,a]){const s=t[a]!==void 0?t[a]:.5,o=mr(e.min,e.max,s);Eb(e,t[r],t[n],o,t.scale)}const $V=["x","scaleX","originX"],BV=["y","scaleY","originY"];function Rc(e,t){FT(e.x,t,$V),FT(e.y,t,BV)}function DD(e,t){return AD(LV(e.getBoundingClientRect(),t))}function UV(e,t,r){const n=DD(e,r),{scroll:a}=t;return a&&(ao(n.x,a.offset.x),ao(n.y,a.offset.y)),n}const MD=({current:e})=>e?e.ownerDocument.defaultView:null,KV=new WeakMap;class VV{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(bx(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=G5(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ii.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const v=y.layout.layoutBox[x];v&&(b=Ea(v)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&tr.update(()=>g(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=zV(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _D(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:MD(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&tr.update(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ep(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=AV(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Cc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=OV(a.layoutBox,r):this.constraints=!1,this.elastic=RV(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Fa(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=MV(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Cc(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=UV(n,a.root,this.visualElement.getTransformPagePoint());let o=CV(a.layout.layoutBox,s);if(r){const l=r(IV(o));this.hasMutatedConstraints=!!l,l&&(o=AD(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fa(d=>{if(!ep(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start($2(t,n,0,r))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fa(r=>{const{drag:n}=this.getProps();if(!ep(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-mr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Cc(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fa(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=DV({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fa(o=>{if(!ep(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(mr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;KV.set(this.visualElement,this);const t=this.visualElement.current,r=is(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Cc(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=es(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=Pb,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function ep(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function zV(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class HV extends zo{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new VV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const $T=e=>(t,r)=>{e&&tr.update(()=>e(t,r))};class WV extends zo{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new _D(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$T(t),onStart:$T(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&tr.update(()=>a(s,o))}}}mount(){this.removePointerDownListener=is(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GV(){const e=j.useContext(mx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=j.useId();return j.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const Kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ad={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ht.test(e))e=parseFloat(e);else return e;const r=BT(e,t.target.x),n=BT(e,t.target.y);return`${r}% ${n}%`}},qV={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Io.parse(e);if(a.length>5)return n;const s=Io.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=mr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}};class YV extends pe.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;rU(XV),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||tr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RD(e){const[t,r]=GV(),n=j.useContext(N2);return pe.createElement(YV,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(A5),isPresent:t,safeToRemove:r})}const XV={borderRadius:{...Ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ad,borderTopRightRadius:Ad,borderBottomLeftRadius:Ad,borderBottomRightRadius:Ad,boxShadow:qV},ID=["TopLeft","TopRight","BottomLeft","BottomRight"],JV=ID.length,UT=e=>typeof e=="string"?parseFloat(e):e,KT=e=>typeof e=="number"||ht.test(e);function QV(e,t,r,n,a,s){a?(e.opacity=mr(0,r.opacity!==void 0?r.opacity:1,ZV(n)),e.opacityExit=mr(t.opacity!==void 0?t.opacity:1,0,ez(n))):s&&(e.opacity=mr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<JV;o++){const l=`border${ID[o]}Radius`;let c=VT(t,l),u=VT(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||KT(c)===KT(u)?(e[l]=Math.max(mr(UT(c),UT(u),n),0),(Ii.test(u)||Ii.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=mr(t.rotate||0,r.rotate||0,n))}function VT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZV=LD(0,.5,iD),ez=LD(.5,.95,_r);function LD(e,t,r){return n=>n<e?0:n>t?1:r(hh(e,t,n))}function zT(e,t){e.min=t.min,e.max=t.max}function Da(e,t){zT(e.x,t.x),zT(e.y,t.y)}function HT(e,t,r,n,a){return e-=t,e=Tm(e,1/r,n),a!==void 0&&(e=Tm(e,1/a,n)),e}function tz(e,t=0,r=1,n=.5,a,s=e,o=e){if(Ii.test(t)&&(t=parseFloat(t),t=mr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=mr(s.min,s.max,n);e===s&&(l-=t),e.min=HT(e.min,t,r,l,a),e.max=HT(e.max,t,r,l,a)}function WT(e,t,[r,n,a],s,o){tz(e,t[r],t[n],t[a],t.scale,s,o)}const rz=["x","scaleX","originX"],nz=["y","scaleY","originY"];function GT(e,t,r,n){WT(e.x,t,rz,r?r.x:void 0,n?n.x:void 0),WT(e.y,t,nz,r?r.y:void 0,n?n.y:void 0)}function qT(e){return e.translate===0&&e.scale===1}function FD(e){return qT(e.x)&&qT(e.y)}function az(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function $D(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function YT(e){return Ea(e.x)/Ea(e.y)}class iz{constructor(){this.members=[]}add(t){B2(this.members,t),t.scheduleRender()}remove(t){if(U2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XT(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y;if((a||s)&&(n=`translate3d(${a}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const sz=(e,t)=>e.depth-t.depth;class oz{constructor(){this.children=[],this.isDirty=!1}add(t){B2(this.children,t),this.isDirty=!0}remove(t){U2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sz),this.isDirty=!1,this.children.forEach(t)}}function lz(e,t){const r=performance.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(gs(n),e(s-t))};return tr.read(n,!0),()=>gs(n)}function cz(e){window.MotionDebug&&window.MotionDebug.record(e)}function uz(e){return e instanceof SVGElement&&e.tagName!=="svg"}function dz(e,t,r){const n=fa(e)?e:mu(e);return n.start($2("",n,t,r)),n.animation}const JT=["","X","Y","Z"],fz={visibility:"hidden"},QT=1e3;let hz=0;const sl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function BD({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=hz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sl.totalNodes=sl.resolvedTargetDeltas=sl.recalculatedProjection=0,this.nodes.forEach(gz),this.nodes.forEach(wz),this.nodes.forEach(kz),this.nodes.forEach(xz),cz(sl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new oz)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uz(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lz(h,250),Kp.hasAnimatedSinceResize&&(Kp.hasAnimatedSinceResize=!1,this.nodes.forEach(eP))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||Pz,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!$D(this.targetLayout,g)||p,v=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const w={...F2(m,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||eP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}this.isUpdating||this.nodes.forEach(yz),this.isUpdating=!1,this.nodes.forEach(bz),this.nodes.forEach(pz),this.nodes.forEach(mz),this.clearAllSnapshots();const l=performance.now();_n.delta=Ro(0,1e3/60,l-_n.timestamp),_n.timestamp=l,_n.isProcessing=!0,ry.update.process(_n),ry.preRender.process(_n),ry.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vz),this.sharedNodes.forEach(Sz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!FD(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||il(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_z(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Cr();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ao(l.x,c.offset.x),ao(l.y,c.offset.y)),l}removeElementScroll(o){const l=Cr();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Da(l,o);const{scroll:h}=this.root;h&&(ao(l.x,-h.offset.x),ao(l.y,-h.offset.y))}ao(l.x,d.offset.x),ao(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Cr();Da(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),il(d.latestValues)&&Rc(c,d.latestValues)}return il(this.latestValues)&&Rc(c,this.latestValues),c}removeTransform(o){const l=Cr();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!il(u.latestValues))continue;_b(u.latestValues)&&u.updateSnapshot();const d=Cr(),f=u.measurePageBox();Da(d,f),GT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return il(this.latestValues)&&GT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Pf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),CD(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Pf(this.relativeTargetOrigin,this.target,p.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_b(this.parent.latestValues)||OD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Da(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;FV(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Mc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mc(),this.projectionDeltaWithTransform=Mc());const m=this.projectionTransform;Tf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=XT(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),sl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Cr(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,x=this.getStack(),b=!x||x.members.length<=1,y=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(Tz));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const k=w/1e3;tP(f.x,o.x,k),tP(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nz(this.relativeTarget,this.relativeTargetOrigin,h,k),v&&az(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Cr()),Da(v,this.relativeTarget)),m&&(this.animationValues=d,QV(d,u,this.latestValues,k,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{Kp.hasAnimatedSinceResize=!0,this.currentAnimation=dz(0,QT,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&UD(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Cr();const f=Ea(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ea(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Da(l,c),Rc(l,d),Tf(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iz),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<JT.length;d++){const f="rotate"+JT[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fz;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Up(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Up(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!il(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=XT(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in ym){if(h[m]===void 0)continue;const{correct:x,applyTo:b}=ym[m],y=u.transform==="none"?h[m]:x(h[m],f);if(b){const v=b.length;for(let w=0;w<v;w++)u[b[w]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?Up(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function pz(e){e.updateLayout()}function mz(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?Fa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ea(h);h.min=n[f].min,h.max=h.min+p}):UD(s,r.layoutBox,n)&&Fa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ea(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Mc();Tf(l,n,r.layoutBox);const c=Mc();o?Tf(c,e.applyTransform(a,!0),r.measuredBox):Tf(c,n,r.layoutBox);const u=!FD(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Cr();Pf(g,r.layoutBox,h.layoutBox);const m=Cr();Pf(m,n,p.layoutBox),$D(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function gz(e){sl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vz(e){e.clearSnapshot()}function ZT(e){e.clearMeasurements()}function yz(e){e.isLayoutDirty=!1}function bz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wz(e){e.resolveTargetDelta()}function kz(e){e.calcProjection()}function jz(e){e.resetRotation()}function Sz(e){e.removeLeadSnapshot()}function tP(e,t,r){e.translate=mr(t.translate,0,r),e.scale=mr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function rP(e,t,r,n){e.min=mr(t.min,r.min,n),e.max=mr(t.max,r.max,n)}function Nz(e,t,r,n){rP(e.x,t.x,r.x,n),rP(e.y,t.y,r.y,n)}function Tz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Pz={duration:.45,ease:[.4,0,.1,1]},nP=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),aP=nP("applewebkit/")&&!nP("chrome/")?Math.round:_r;function iP(e){e.min=aP(e.min),e.max=aP(e.max)}function _z(e){iP(e.x),iP(e.y)}function UD(e,t,r){return e==="position"||e==="preserve-aspect"&&!Tb(YT(t),YT(r),.2)}const Ez=BD({attachResizeListener:(e,t)=>es(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hy={current:void 0},KD=BD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hy.current){const e=new Ez({});e.mount(window),e.setOptions({layoutScroll:!0}),hy.current=e}return hy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Az={pan:{Feature:WV},drag:{Feature:HV,ProjectionNode:KD,MeasureLayout:RD}},Oz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Cz(e){const t=Oz.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Ab(e,t,r=1){const[n,a]=Cz(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return SD(o)?parseFloat(o):o}else return yb(a)?Ab(a,t,r+1):a}function Dz(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const s=a.get();if(!yb(s))return;const o=Ab(s,n);o&&a.set(o)});for(const a in t){const s=t[a];if(!yb(s))continue;const o=Ab(s,n);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=s))}return{target:t,transitionEnd:r}}const Mz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),VD=e=>Mz.has(e),Rz=e=>Object.keys(e).some(VD),sP=e=>e===Xl||e===ht,oP=(e,t)=>parseFloat(e.split(", ")[t]),lP=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return oP(a[1],t);{const s=n.match(/^matrix\((.+)\)$/);return s?oP(s[1],e):0}},Iz=new Set(["x","y","z"]),Lz=h0.filter(e=>!Iz.has(e));function Fz(e){const t=[];return Lz.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const gu={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lP(4,13),y:lP(5,14)};gu.translateX=gu.x;gu.translateY=gu.y;const $z=(e,t,r)=>{const n=t.measureViewportBox(),a=t.current,s=getComputedStyle(a),{display:o}=s,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=gu[u](n,s)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=gu[u](c,s)}),e},Bz=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(VD);let s=[],o=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=Ed(d);const h=t[c];let p;if(wm(h)){const g=h.length,m=h[0]===null?1:0;d=h[m],f=Ed(d);for(let x=m;x<g&&h[x]!==null;x++)p?D2(Ed(h[x])===p):p=Ed(h[x])}else p=Ed(h);if(f!==p)if(sP(f)&&sP(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===ht&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(s=Fz(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=$z(t,e,l);return s.length&&s.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),gx&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Uz(e,t,r,n){return Rz(t)?Bz(e,t,r,n):{target:t,transitionEnd:n}}const Kz=(e,t,r,n)=>{const a=Dz(e,t,n);return t=a.target,n=a.transitionEnd,Uz(e,t,r,n)},Ob={current:null},zD={current:!1};function Vz(){if(zD.current=!0,!!gx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ob.current=e.matches;e.addListener(t),t()}else Ob.current=!1}function zz(e,t,r){const{willChange:n}=t;for(const a in t){const s=t[a],o=r[a];if(fa(s))e.addValue(a,s),Nm(n)&&n.add(a);else if(fa(o))e.addValue(a,mu(s,{owner:e})),Nm(n)&&n.remove(a);else if(o!==s)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(s)}else{const l=e.getStaticValue(a);e.addValue(a,mu(l!==void 0?l:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const cP=new WeakMap,HD=Object.keys(fh),Hz=HD.length,uP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Wz=S2.length;class Gz{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=vx(r),this.isVariantNode=E5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&fa(h)&&(h.set(l[f],!1),Nm(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,cP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),zD.current||Vz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ob.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cP.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Yl.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,s){let o,l;for(let c=0;c<Hz;c++){const u=HD[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=fh[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Cc(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<uP.length;n++){const a=uP[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s=t["on"+a];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=zz(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<Wz;n++){const a=S2[n],s=this.props[a];(dh(s)||s===!1)&&(r[a]=s)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=mu(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=C2(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!fa(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new K2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class WD extends Gz{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},s){let o=uV(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),s){lV(this,n,o);const l=Kz(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function qz(e){return window.getComputedStyle(e)}class Yz extends WD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Yl.has(r)){const n=L2(r);return n&&n.default||0}else{const n=qz(t),a=(D5(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return DD(t,r)}build(t,r,n,a){P2(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return O2(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fa(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){$5(t,r,n,a)}}class Xz extends WD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Yl.has(r)){const n=L2(r);return n&&n.default||0}return r=B5.has(r)?r:k2(r),t.getAttribute(r)}measureInstanceViewportBox(){return Cr()}scrapeMotionValuesFromProps(t,r){return K5(t,r)}build(t,r,n,a){E2(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){U5(t,r,n,a)}mount(t){this.isSVGTag=A2(t.tagName),super.mount(t)}}const Jz=(e,t)=>T2(e)?new Xz(t,{enableHardwareAcceleration:!1}):new Yz(t,{enableHardwareAcceleration:!0}),Qz={layout:{ProjectionNode:KD,MeasureLayout:RD}},Zz={...NV,...HU,...Az,...Qz},Yt=eU((e,t)=>CU(e,t,Zz,Jz));function GD(){const e=j.useRef(!1);return w2(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function eH(){const e=GD(),[t,r]=j.useState(0),n=j.useCallback(()=>{e.current&&r(t+1)},[t]);return[j.useCallback(()=>tr.postRender(n),[n]),t]}class tH extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rH({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=a.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),j.createElement(tH,{isPresent:t,childRef:n,sizeRef:a},j.cloneElement(e,{ref:n}))}const py=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o})=>{const l=V5(nH),c=j.useId(),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),s?void 0:[r]);return j.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),j.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=j.createElement(rH,{isPresent:r},e)),j.createElement(mx.Provider,{value:u},e)};function nH(){return new Map}function aH(e){return j.useEffect(()=>()=>e(),[])}const ol=e=>e.key||"";function iH(e,t){e.forEach(r=>{const n=ol(r);t.set(n,r)})}function sH(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const Po=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=j.useContext(N2).forceRender||eH()[0],c=GD(),u=sH(e);let d=u;const f=j.useRef(new Map).current,h=j.useRef(d),p=j.useRef(new Map).current,g=j.useRef(!0);if(w2(()=>{g.current=!1,iH(u,p),h.current=d}),aH(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return j.createElement(j.Fragment,null,d.map(y=>j.createElement(py,{key:ol(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:o},y)));d=[...d];const m=h.current.map(ol),x=u.map(ol),b=m.length;for(let y=0;y<b;y++){const v=m[y];x.indexOf(v)===-1&&!f.has(v)&&f.set(v,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,v)=>{if(x.indexOf(v)!==-1)return;const w=p.get(v);if(!w)return;const k=m.indexOf(v);let N=y;if(!N){const S=()=>{f.delete(v);const T=Array.from(p.keys()).filter(P=>!x.includes(P));if(T.forEach(P=>p.delete(P)),h.current=u.filter(P=>{const _=ol(P);return _===v||T.includes(_)}),!f.size){if(c.current===!1)return;l(),n&&n()}};N=j.createElement(py,{key:ol(w),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:s,mode:o},w),f.set(v,N)}d.splice(k,0,N)}),d=d.map(y=>{const v=y.key;return f.has(v)?y:j.createElement(py,{key:ol(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),j.createElement(j.Fragment,null,f.size?d:d.map(y=>j.cloneElement(y)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>j.createElement("svg",{ref:d,...oH,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${lH(e)}`,l].join(" "),...u},[...t.map(([f,h])=>j.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Ve("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Ve("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ve("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ve("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Ve("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ve("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Ve("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ve("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ve("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=Ve("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=Ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=Ve("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ve("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ve("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ve("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Ve("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Ve("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Ve("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ve("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Ve("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=Ve("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=Ve("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ve("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Ve("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Ve("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=Ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ve("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=Ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Ve("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=Ve("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=Ve("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Ve("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Ve("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=Ve("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=Ve("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=Ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function SP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function MH(...e){return t=>{let r=!1;const n=e.map(a=>{const s=SP(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():SP(e[a],null)}}}}var RH=Symbol.for("react.lazy"),Om=JO[" use ".trim().toString()];function IH(e){return typeof e=="object"&&e!==null&&"then"in e}function eM(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===RH&&"_payload"in e&&IH(e._payload)}function LH(e){const t=$H(e),r=j.forwardRef((n,a)=>{let{children:s,...o}=n;eM(s)&&typeof Om=="function"&&(s=Om(s._payload));const l=j.Children.toArray(s),c=l.find(UH);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var FH=LH("Slot");function $H(e){const t=j.forwardRef((r,n)=>{let{children:a,...s}=r;if(eM(a)&&typeof Om=="function"&&(a=Om(a._payload)),j.isValidElement(a)){const o=VH(a),l=KH(s,a.props);return a.type!==j.Fragment&&(l.ref=n?MH(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BH=Symbol("radix.slottable");function UH(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BH}function KH(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function VH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const NP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,TP=vt,tM=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return TP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=NP(d)||NP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...s,...l}[m]):{...s,...l}[m]===x})?[...u,f,h]:u},[]);return TP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},zH=tM("inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-secondary text-secondary-foreground border border-border hover:bg-muted active:bg-muted/80",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",success:"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800",outline:"border border-border bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"text-muted-foreground hover:bg-accent hover:text-accent-foreground",link:"text-primary-600 underline-offset-4 hover:underline p-0 h-auto",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800"},size:{sm:"h-8 rounded-md px-3 text-xs gap-1.5",md:"h-9 rounded-lg px-4 gap-2",lg:"h-11 rounded-lg px-6 text-base gap-2",icon:"h-9 w-9 rounded-lg"}},defaultVariants:{variant:"primary",size:"md"}}),ge=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,isLoading:a,children:s,disabled:o,...l},c)=>{const u=n?FH:"button";return i.jsxs(u,{ref:c,className:Ge(zH({variant:t,size:r,className:e})),disabled:o||a,...l,children:[a&&i.jsxs("svg",{className:"animate-spin h-4 w-4 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})});ge.displayName="Button";const Ae=j.forwardRef(({className:e,label:t,error:r,helperText:n,id:a,type:s,...o},l)=>{const c=a||o.name;return i.jsxs("div",{className:"w-full",children:[t&&i.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),i.jsx("input",{id:c,type:s,ref:l,className:Ge("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","file:border-0 file:bg-transparent file:text-sm file:font-medium",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o}),r&&i.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r}),n&&!r&&i.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground",children:n})]})});Ae.displayName="Input";const at=j.forwardRef(({className:e,label:t,error:r,options:n,placeholder:a,id:s,...o},l)=>{const c=s||o.name;return i.jsxs("div",{className:"w-full",children:[t&&i.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{id:c,ref:l,className:Ge("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","[&>option]:bg-background [&>option]:text-foreground",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o,children:[a&&i.jsx("option",{value:"",disabled:!0,children:a}),n.map(u=>i.jsx("option",{value:u.value,children:u.label},u.value))]}),i.jsx(jx,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),r&&i.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r})]})});at.displayName="Select";const Ie=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("bg-card text-card-foreground rounded-xl border border-border/60 shadow-soft","transition-all duration-300 ease-out","hover:shadow-soft-md","dark:bg-card/90 dark:backdrop-blur-sm dark:border-border/40",t),...r,children:e}));Ie.displayName="Card";const Pt=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("flex flex-col gap-1 px-5 py-4",t),...r,children:e}));Pt.displayName="CardHeader";const _t=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("h3",{ref:n,className:Ge("text-sm font-semibold text-foreground leading-none tracking-tight",t),...r,children:e}));_t.displayName="CardTitle";const HH=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("p",{ref:n,className:Ge("text-xs text-muted-foreground",t),...r,children:e}));HH.displayName="CardDescription";const An=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("px-5 pb-5",t),...r,children:e}));An.displayName="CardContent";const WH=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("flex items-center px-5 py-3 border-t border-border",t),...r,children:e}));WH.displayName="CardFooter";const xt=({isOpen:e,onClose:t,title:r,description:n,children:a,size:s="md",showCloseButton:o=!0,closeOnOverlayClick:l=!1,className:c})=>{const u=j.useRef(null),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl"};j.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const f=h=>{l&&h.target===h.currentTarget&&t()};return typeof window>"u"?null:e5.createPortal(i.jsx(Po,{children:e&&i.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[i.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm",onClick:f}),i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",onClick:f,children:i.jsxs(Yt.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:Ge("relative w-full bg-card rounded-lg shadow-soft-xl border border-border",d[s],c),onClick:h=>h.stopPropagation(),children:[(r||o)&&i.jsxs("div",{className:"flex items-start justify-between px-5 py-4 border-b border-border",children:[i.jsxs("div",{children:[r&&i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:r}),n&&i.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:n})]}),o&&i.jsx("button",{onClick:t,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(Xa,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"px-5 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:a})]})})]})}),document.body)},Ar=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:s="Konfirmasi",cancelText:o="Batal",variant:l="danger",isLoading:c=!1})=>{const u={danger:"bg-red-600 text-white hover:bg-red-700",warning:"bg-amber-600 text-white hover:bg-amber-700",info:"bg-primary-600 text-white hover:bg-primary-700"};return i.jsx(xt,{isOpen:e,onClose:t,size:"sm",showCloseButton:!1,children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:n}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:a}),i.jsxs("div",{className:"flex justify-center gap-3",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-foreground bg-secondary border border-border rounded-lg hover:bg-muted transition-colors",disabled:c,children:o}),i.jsx("button",{onClick:r,className:Ge("px-4 py-2 text-sm font-medium rounded-lg transition-colors",u[l]),disabled:c,children:c?"Loading...":s})]})]})})},Nn=({isOpen:e,onClose:t,onSubmit:r,action:n,itemName:a="data ini",loading:s=!1})=>{const[o,l]=j.useState(""),c=()=>{if(!o.trim()){alert("Mohon isi alasan permintaan");return}r(o),l("")},u=()=>{l(""),t()};return i.jsx(xt,{isOpen:e,onClose:u,title:`Permintaan ${n==="edit"?"Edit":"Hapus"} Data`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[i.jsx(_f,{className:"h-5 w-5 text-amber-600 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-800",children:[i.jsx("p",{className:"font-medium",children:"Perlu Persetujuan"}),i.jsxs("p",{className:"mt-1",children:["Anda akan mengajukan permintaan untuk"," ",i.jsx("strong",{children:n==="edit"?"mengedit":"menghapus"})," ",a,". Permintaan ini akan dikirim ke AVP, Supervisor, atau Admin untuk disetujui."]})]})]}),i.jsx(Ae,{label:"Alasan Permintaan",placeholder:`Jelaskan alasan mengapa Anda ingin ${n==="edit"?"mengedit":"menghapus"} data ini...`,value:o,onChange:d=>l(d.target.value),required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[i.jsx(ge,{variant:"secondary",onClick:u,disabled:s,children:"Batal"}),i.jsxs(ge,{onClick:c,disabled:s,children:[i.jsx(QD,{className:"h-4 w-4 mr-2"}),s?"Mengirim...":"Kirim Permintaan"]})]})]})})},GH=tM("inline-flex items-center font-medium transition-colors",{variants:{variant:{default:"bg-secondary text-secondary-foreground",primary:"bg-primary-50 text-primary-700 dark:bg-primary-950/50 dark:text-primary-300",success:"bg-emerald-50 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-300",warning:"bg-amber-50 text-amber-700 dark:bg-amber-950/50 dark:text-amber-300",danger:"bg-red-50 text-red-700 dark:bg-red-950/50 dark:text-red-300",info:"bg-cyan-50 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-300",outline:"border border-border text-foreground"},size:{sm:"px-1.5 py-0.5 text-[10px] rounded",md:"px-2 py-0.5 text-xs rounded-md",lg:"px-2.5 py-1 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"md"}}),Ze=({className:e,variant:t,size:r,...n})=>i.jsx("span",{className:Ge(GH({variant:t,size:r,className:e})),...n}),qH=({children:e,className:t})=>i.jsx("div",{className:Ge("w-full overflow-x-auto",t),children:i.jsx("table",{className:"w-full border-collapse",children:e})}),YH=({children:e,className:t})=>i.jsx("thead",{className:Ge("bg-muted/50 border-b border-border",t),children:e}),XH=({children:e,className:t})=>i.jsx("tbody",{className:Ge("divide-y divide-border",t),children:e}),PP=({children:e,className:t,onClick:r,isClickable:n})=>i.jsx("tr",{className:Ge("transition-colors",n&&"cursor-pointer hover:bg-muted/50",t),onClick:r,children:e}),_P=({children:e,className:t,sortable:r,sorted:n,onSort:a,style:s})=>i.jsx("th",{className:Ge("px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",r&&"cursor-pointer select-none hover:text-foreground",t),onClick:r?a:void 0,style:s,children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[e,r&&i.jsxs("span",{className:"flex flex-col",children:[i.jsx(qD,{className:Ge("h-3 w-3 -mb-1",n==="asc"?"text-primary-600":"text-muted-foreground/30")}),i.jsx(jx,{className:Ge("h-3 w-3",n==="desc"?"text-primary-600":"text-muted-foreground/30")})]})]})}),EP=({children:e,className:t})=>i.jsx("td",{className:Ge("px-4 py-3 text-sm text-foreground whitespace-nowrap",t),children:e}),JH=({message:e="Tidak ada data",icon:t})=>i.jsx("tr",{children:i.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t,i.jsx("p",{className:"text-sm",children:e})]})})}),QH=()=>i.jsx("tr",{children:i.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Memuat data..."})]})})}),ZH=({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,itemsPerPage:a=10})=>{const s=(e-1)*a+1,o=Math.min(e*a,n||0),l=()=>{const c=[];if(t<=5)for(let d=1;d<=t;d++)c.push(d);else if(e<=3){for(let d=1;d<=4;d++)c.push(d);c.push("..."),c.push(t)}else if(e>=t-2){c.push(1),c.push("...");for(let d=t-3;d<=t;d++)c.push(d)}else{c.push(1),c.push("...");for(let d=e-1;d<=e+1;d++)c.push(d);c.push("..."),c.push(t)}return c};return t<=1?null:i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[n&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",s," - ",o," dari ",n," data"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(V2,{className:"h-4 w-4"})}),l().map((c,u)=>i.jsx("button",{onClick:()=>typeof c=="number"&&r(c),disabled:c==="...",className:Ge("min-w-[36px] h-9 px-2.5 text-sm font-medium rounded-lg transition-colors",c===e?"bg-primary-600 text-white":c==="..."?"text-muted-foreground cursor-default":"text-foreground hover:bg-muted"),children:c},u)),i.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(z2,{className:"h-4 w-4"})})]})]})},eW=({value:e,onChange:t,placeholder:r="Cari..."})=>i.jsxs("div",{className:"relative w-full max-w-xs",children:[i.jsx(Sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),i.jsx(Ae,{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"pl-10"})]});function Lr({data:e,columns:t,loading:r=!1,emptyMessage:n="Tidak ada data",searchable:a=!0,searchKeys:s=[],searchPlaceholder:o="Cari...",pagination:l=!0,itemsPerPage:c=10,onRowClick:u,actions:d}){const[f,h]=j.useState(""),[p,g]=j.useState(1),[m,x]=j.useState(null),[b,y]=j.useState("asc"),v=f?e.filter(T=>s.some(P=>{const _=T[P];return typeof _=="string"?_.toLowerCase().includes(f.toLowerCase()):typeof _=="number"?_.toString().includes(f):!1})):e,w=m?[...v].sort((T,P)=>{const _=T[m],E=P[m];if(_===E)return 0;if(_==null)return 1;if(E==null)return-1;const A=_<E?-1:1;return b==="asc"?A:-A}):v,k=Math.ceil(w.length/c),N=l?w.slice((p-1)*c,p*c):w,S=T=>{m===T?y(b==="asc"?"desc":"asc"):(x(T),y("asc"))};return i.jsxs("div",{className:"card",children:[a&&i.jsx("div",{className:"px-4 py-3 border-b border-border",children:i.jsx(eW,{value:f,onChange:h,placeholder:o})}),i.jsxs(qH,{children:[i.jsx(YH,{children:i.jsxs(PP,{children:[t.map(T=>i.jsx(_P,{sortable:T.sortable,sorted:m===T.key?b:null,onSort:()=>T.sortable&&S(T.key),style:{width:T.width},children:T.header},T.key)),d&&i.jsx(_P,{children:"Aksi"})]})}),i.jsx(XH,{children:r?i.jsx(QH,{}):N.length===0?i.jsx(JH,{message:n}):N.map((T,P)=>i.jsxs(PP,{onClick:()=>u==null?void 0:u(T),isClickable:!!u,children:[t.map(_=>i.jsx(EP,{children:_.render?_.render(T[_.key],T):String(T[_.key]??"-")},_.key)),d&&i.jsx(EP,{children:d(T)})]},P))})]}),l&&i.jsx(ZH,{currentPage:p,totalPages:k,onPageChange:g,totalItems:w.length,itemsPerPage:c})]})}const Cm=({size:e="md",className:t})=>{const r={sm:"h-4 w-4 border-2",md:"h-5 w-5 border-2",lg:"h-8 w-8 border-[3px]"};return i.jsx("div",{className:Ge("border-primary-600 border-t-transparent rounded-full animate-spin",r[e],t)})},Nr=({isVisible:e,message:t="Berhasil!",onClose:r,autoCloseDelay:n=1500})=>(j.useEffect(()=>{if(e&&r&&n>0){const a=setTimeout(()=>{r()},n);return()=>clearTimeout(a)}},[e,r,n]),e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-foreground/20 backdrop-blur-sm",onClick:r,children:i.jsxs("div",{className:"bg-card rounded-lg p-8 shadow-soft-xl text-center animate-scale-in border border-border",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-7 h-7 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("p",{className:"text-base font-semibold text-foreground",children:t})]})}):null),Zu=({isOpen:e,onClose:t,title:r,data:n,columns:a,signatures:s,filters:o,summaryRows:l,plant:c,compactMode:u=!1})=>{const d=j.useRef(null),[f,h]=j.useState(yr()),[p,g]=j.useState(yr()),[m,x]=j.useState("ALL"),[b,y]=j.useState("ALL"),[v,w]=j.useState("ALL"),[k,N]=j.useState({});if(j.useEffect(()=>{const A={};s.forEach(R=>{A[R.role]={jabatan:"",nama:"",noBadge:""}}),N(A)},[s]),!e)return null;const S=n.filter(A=>{const R=new Date(A.tanggal),q=new Date(f),Z=new Date(p);return Z.setHours(23,59,59,999),!(R<q||R>Z||o!=null&&o.kategori&&m!=="ALL"&&A.kategori!==m||o!=null&&o.forklift&&b!=="ALL"&&A.forklift!==b||o!=null&&o.shift&&v!=="ALL"&&A.shift!==v)}).sort((A,R)=>new Date(A.tanggal).getTime()-new Date(R.tanggal).getTime()),T=()=>{const A=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],R=new Date;return`${R.getDate()} ${A[R.getMonth()]} ${R.getFullYear()}`},P=()=>{const A=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],R=new Date(f),q=new Date(p);return`${R.getDate()} ${A[R.getMonth()]} ${R.getFullYear()} - ${q.getDate()} ${A[q.getMonth()]} ${q.getFullYear()}`},_=()=>{const A=d.current;if(!A)return;const R=window.open("","_blank");R&&(R.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${r}</title>
        <style>
          @page {
            size: A4;
            margin: ${u?"8mm 10mm":"12mm"};
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Times New Roman', Times, serif;
            font-size: ${u?"9pt":"10pt"};
            line-height: ${u?"1.2":"1.4"};
            color: #000;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
          }
          .header {
            text-align: center;
            margin-bottom: ${u?"8px":"15px"};
          }
          .header h1 {
            font-size: ${u?"12pt":"14pt"};
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: ${u?"3px":"4px"};
            letter-spacing: 1px;
            color: #000;
          }
          .header .periode {
            font-size: ${u?"10pt":"11pt"};
            font-weight: bold;
            text-transform: uppercase;
            color: #000;
          }
          .filter-info {
            font-size: ${u?"8pt":"9pt"};
            margin-bottom: ${u?"5px":"10px"};
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: ${u?"6px":"8px"};
            font-size: ${u?"8pt":"9pt"};
          }
          th, td {
            border: 1px solid #000;
            padding: ${u?"2px 4px":"5px 6px"};
            text-align: center;
            line-height: ${u?"1.2":"1.4"};
          }
          thead tr:first-child th {
            background-color: transparent;
            font-weight: bold;
            border: 1px solid #000;
            padding: ${u?"3px 4px":"5px 6px"};
          }
          thead tr:nth-child(2) th {
            background-color: transparent;
            font-weight: bold;
          }
          tbody td {
            text-align: center;
            white-space: nowrap;
          }
          td.number, .number {
            text-align: right;
            white-space: nowrap;
          }
          td.left {
            text-align: left;
          }
          .summary-row td {
            font-weight: bold;
            border: 1px solid #000;
          }
          .subtotal-label {
            text-align: center;
            font-weight: bold;
          }
          .footer {
            margin-top: ${u?"10px":"20px"};
            text-align: right;
            font-size: ${u?"9pt":"10pt"};
            color: #000;
            font-style: italic;
          }
          .signatures {
            display: flex;
            justify-content: flex-end;
            margin-top: ${u?"12px":"30px"};
            padding-right: 20px;
          }
          .signature-box {
            text-align: center;
            min-width: ${u?"140px":"180px"};
          }
          .signature-box .label {
            font-size: ${u?"9pt":"10pt"};
            margin-bottom: ${u?"3px":"5px"};
          }
          .signature-box .position {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            margin-bottom: ${u?"35px":"60px"};
          }
          .signature-box .name {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            text-decoration: underline;
            margin-bottom: 2px;
          }
          .signature-box .badge {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
          }
          .multi-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: ${u?"12px":"30px"};
            gap: ${u?"10px":"20px"};
          }
          .multi-signatures .signature-box {
            flex: 1;
            text-align: center;
          }
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${A.innerHTML}
      </body>
      </html>
    `),R.document.close(),R.focus(),setTimeout(()=>{R.print(),R.close()},250))},E=(A,R,q)=>{N(Z=>({...Z,[A]:{...Z[A],[R]:q}}))};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxs("h2",{className:"text-lg font-bold text-dark-900",children:["Cetak ",r]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 rounded-lg",children:i.jsx(Xa,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 border-b bg-dark-50 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[i.jsx(Wa,{className:"inline h-4 w-4 mr-1"}),"Tanggal Mulai"]}),i.jsx("input",{type:"date",value:f,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[i.jsx(Wa,{className:"inline h-4 w-4 mr-1"}),"Tanggal Akhir"]}),i.jsx("input",{type:"date",value:p,onChange:A=>g(A.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),((o==null?void 0:o.kategori)||(o==null?void 0:o.forklift)||(o==null?void 0:o.shift))&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(o==null?void 0:o.kategori)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.kategori.label}),i.jsxs("select",{value:m,onChange:A=>x(A.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"ALL",children:"Semua"}),o.kategori.options.map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))]})]}),(o==null?void 0:o.forklift)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.forklift.label}),i.jsxs("select",{value:b,onChange:A=>y(A.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"ALL",children:"Semua"}),o.forklift.options.map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))]})]}),(o==null?void 0:o.shift)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.shift.label}),i.jsxs("select",{value:v,onChange:A=>w(A.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"ALL",children:"Semua"}),o.shift.options.map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-dark-700",children:"Data Tanda Tangan"}),i.jsx("div",{className:"space-y-3",children:s.map(A=>{var R,q,Z;return i.jsxs("div",{className:"p-3 bg-white rounded-lg border border-dark-200",children:[i.jsx("h4",{className:"text-xs font-semibold text-dark-600 mb-2",children:A.label}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx("input",{type:"text",placeholder:"Jabatan",value:((R=k[A.role])==null?void 0:R.jabatan)||"",onChange:V=>E(A.role,"jabatan",V.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),i.jsx("input",{type:"text",placeholder:"Nama",value:((q=k[A.role])==null?void 0:q.nama)||"",onChange:V=>E(A.role,"nama",V.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),A.role!=="operator"&&i.jsx("input",{type:"text",placeholder:"No. Badge",value:((Z=k[A.role])==null?void 0:Z.noBadge)||"",onChange:V=>E(A.role,"noBadge",V.target.value),className:"flex-1 min-w-[120px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"})]})]},A.role)})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-dark-500",children:[S.length," data ditemukan"]}),i.jsxs("button",{onClick:_,disabled:S.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:i.jsx("div",{ref:d,className:"bg-white p-6 shadow-lg mx-auto",style:{maxWidth:"210mm",minHeight:"297mm"},children:i.jsxs("div",{className:"print-container",children:[i.jsxs("div",{className:"header",children:[i.jsxs("h1",{children:["LAPORAN ",r.toUpperCase()]}),i.jsxs("div",{className:"periode",children:["PERIODE : ",P().toUpperCase()]})]}),(m!=="ALL"||b!=="ALL"||v!=="ALL")&&i.jsxs("div",{className:"filter-info",children:[m!=="ALL"&&i.jsxs("span",{children:["Kategori: ",m," | "]}),b!=="ALL"&&i.jsxs("span",{children:["Forklift: ",b," | "]}),v!=="ALL"&&i.jsxs("span",{children:["Shift: ",v]})]}),i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{style:{width:"30px"},children:"No"}),a.map(A=>i.jsx("th",{style:{width:A.width},children:A.header},A.key))]})}),i.jsxs("tbody",{children:[S.map((A,R)=>i.jsxs("tr",{children:[i.jsx("td",{className:"center",children:R+1}),a.map(q=>{const Z=q.render?q.render(A[q.key],A):A[q.key];return i.jsx("td",{className:q.align==="right"?"number":q.align==="center"?"center":"",children:Z},q.key)})]},R)),l&&l.map((A,R)=>i.jsxs("tr",{className:"summary-row",children:[i.jsx("td",{colSpan:a.length,style:{textAlign:"right",paddingRight:"10px"},children:A.label}),i.jsx("td",{className:"number",children:A.getValue(S)})]},`summary-${R}`))]})]}),i.jsxs("div",{className:"footer",children:["Cikampek, ",T()]}),i.jsx("div",{className:s.length>1?"multi-signatures":"signatures",children:s.map(A=>{var R,q,Z,V;return i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"label",children:A.label}),i.jsx("div",{className:"position",children:((R=k[A.role])==null?void 0:R.jabatan)||""}),A.role!=="operator"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"name",children:((q=k[A.role])==null?void 0:q.nama)||""}),i.jsx("div",{className:"badge",children:((Z=k[A.role])==null?void 0:Z.noBadge)||""})]}):i.jsx("div",{className:"name",children:((V=k[A.role])==null?void 0:V.nama)||""})]},A.role)})})]})})})]})})},tW=({isOpen:e,onClose:t,data:r,plant:n})=>{const a=j.useRef(null),[s,o]=j.useState(yr()),[l,c]=j.useState(yr()),[u,d]=j.useState({nama:"",noBadge:"",jabatan:""}),[f,h]=j.useState({nama:"",noBadge:"",jabatan:""});if(j.useEffect(()=>{if(e){const w=new Date,k=new Date(w.getFullYear(),w.getMonth(),1),N=new Date(w.getFullYear(),w.getMonth()+1,0);o(k.toISOString().split("T")[0]),c(N.toISOString().split("T")[0])}},[e]),!e)return null;const p=r.filter(w=>{const k=new Date(w.tanggal),N=new Date(s),S=new Date(l);return S.setHours(23,59,59,999),k>=N&&k<=S}).sort((w,k)=>new Date(w.tanggal).getTime()-new Date(k.tanggal).getTime()),g=p.reduce((w,k)=>w+(k.pengajuanSolar||0),0),m=p.reduce((w,k)=>w+(k.realisasiPengisian||0),0),x=m-g,b=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],k=new Date;return`${k.getDate()} ${w[k.getMonth()]} ${k.getFullYear()}`},y=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],k=new Date(s),N=new Date(l);return`${k.getDate()} ${w[k.getMonth()]} ${k.getFullYear()} - ${N.getDate()} ${w[N.getMonth()]} ${N.getFullYear()}`},v=()=>{const w=a.current;if(!w)return;const k=window.open("","_blank");k&&(k.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Rekap BBM Alat Berat - ${n}</title>
        <style>
          @page {
            size: A4 portrait;
            margin: 6mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 7pt;
            line-height: 1.1;
            color: #1a1a2e;
            background: #fff;
          }
          .print-container {
            width: 100%;
            max-width: 200mm;
            padding: 3px;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 2px solid #2563eb;
          }
          .header h1 {
            font-size: 12pt;
            font-weight: 700;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 8pt;
            font-weight: 600;
            margin: 3px 0;
          }
          .header .periode {
            font-size: 8pt;
            color: #64748b;
            margin-top: 3px;
          }
          .header .periode span {
            font-weight: 600;
            color: #334155;
          }
          
          /* Table Styles */
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 6px;
            font-size: 6pt;
          }
          thead th {
            background: linear-gradient(180deg, #1e40af, #1e3a8a);
            color: white;
            font-weight: 600;
            padding: 3px 2px;
            text-align: center;
            border: 1px solid #1e3a8a;
            text-transform: uppercase;
            font-size: 6pt;
            letter-spacing: 0.2px;
          }
          tbody td {
            padding: 2px 3px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 6pt;
          }
          tbody tr:nth-child(even) {
            background-color: #f8fafc;
          }
          tbody tr:hover {
            background-color: #e0e7ff;
          }
          .text-left {
            text-align: left !important;
          }
          .text-right {
            text-align: right !important;
          }
          .font-mono {
            font-family: 'Consolas', monospace;
          }
          
          /* Number formatting */
          .number-positive {
            color: #059669;
            font-weight: 600;
          }
          .number-negative {
            color: #dc2626;
            font-weight: 600;
          }
          
          /* Summary Row */
          .summary-row td {
            background: linear-gradient(180deg, #f59e0b, #d97706) !important;
            color: white !important;
            font-weight: 700 !important;
            border-color: #b45309 !important;
            padding: 3px 2px !important;
            font-size: 6pt !important;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 10px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 30px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 140px;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 30px;
            min-height: 12px;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            text-decoration: underline;
            text-underline-offset: 2px;
            margin-bottom: 1px;
            min-height: 12px;
          }
          
          .signature-badge {
            font-size: 7pt;
            color: #475569;
            font-weight: 500;
            min-height: 10px;
          }
          
          /* Summary Cards */
          .summary-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 6px;
          }
          
          .summary-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 4px;
            padding: 4px 10px;
            text-align: center;
            min-width: 90px;
          }
          
          .summary-card.pengajuan {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-color: #f59e0b;
          }
          
          .summary-card.realisasi {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-positive {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-negative {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #ef4444;
          }
          
          .summary-card-label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 1px;
          }
          
          .summary-card-value {
            font-size: 9pt;
            font-weight: 700;
            color: #1e40af;
          }
          
          .summary-card.pengajuan .summary-card-value { color: #b45309; }
          .summary-card.realisasi .summary-card-value { color: #16a34a; }
          .summary-card.selisih-positive .summary-card-value { color: #16a34a; }
          .summary-card.selisih-negative .summary-card-value { color: #dc2626; }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${w.innerHTML}
      </body>
      </html>
    `),k.document.close(),k.focus(),setTimeout(()=>{k.print(),k.close()},300))};return i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-amber-500 to-orange-500",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:i.jsx(H2,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Rekap BBM Alat Berat"}),i.jsxs("p",{className:"text-amber-100 text-sm",children:["Plant ",n]})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(Xa,{className:"h-6 w-6 text-white"})})]}),i.jsxs("div",{className:"p-5 border-b bg-gradient-to-b from-amber-50 to-white space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[i.jsx(Wa,{className:"h-4 w-4 text-amber-600"}),"Tanggal Mulai"]}),i.jsx("input",{type:"date",value:s,onChange:w=>o(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[i.jsx(Wa,{className:"h-4 w-4 text-amber-600"}),"Tanggal Akhir"]}),i.jsx("input",{type:"date",value:l,onChange:w=>c(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-bold text-dark-700 flex items-center gap-2",children:[i.jsx(gh,{className:"h-4 w-4 text-amber-600"}),"Data Tanda Tangan"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[i.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Mengetahui"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",placeholder:"Jabatan",value:u.jabatan,onChange:w=>d({...u,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:u.nama,onChange:w=>d({...u,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsxs("div",{className:"relative",children:[i.jsx(xP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),i.jsx("input",{type:"text",placeholder:"No. Badge",value:u.noBadge,onChange:w=>d({...u,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]}),i.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[i.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Dibuat Oleh"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",placeholder:"Jabatan",value:f.jabatan,onChange:w=>h({...f,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:f.nama,onChange:w=>h({...f,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsxs("div",{className:"relative",children:[i.jsx(xP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),i.jsx("input",{type:"text",placeholder:"No. Badge",value:f.noBadge,onChange:w=>h({...f,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsxs("span",{className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-full font-medium",children:[p.length," data"]}),i.jsx("span",{className:"text-dark-500",children:"ditemukan dalam periode ini"})]}),i.jsxs("button",{onClick:v,disabled:p.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-amber-500/30 transition-all",children:[i.jsx(Rn,{className:"h-5 w-5"}),"Cetak Laporan"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:i.jsx("div",{ref:a,className:"bg-white p-6 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:i.jsxs("div",{className:"print-container",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"LAPORAN REKAP BBM ALAT BERAT"}),i.jsxs("div",{className:"plant-badge",children:["PLANT ",n]}),i.jsxs("div",{className:"periode",children:["Periode: ",i.jsx("span",{children:y()})]})]}),i.jsxs("div",{className:"summary-cards",children:[i.jsxs("div",{className:"summary-card pengajuan",children:[i.jsx("div",{className:"summary-card-label",children:"Total Pengajuan"}),i.jsxs("div",{className:"summary-card-value",children:[ce(g)," L"]})]}),i.jsxs("div",{className:"summary-card realisasi",children:[i.jsx("div",{className:"summary-card-label",children:"Total Realisasi"}),i.jsxs("div",{className:"summary-card-value",children:[ce(m)," L"]})]}),i.jsxs("div",{className:`summary-card ${x>=0?"selisih-positive":"selisih-negative"}`,children:[i.jsx("div",{className:"summary-card-label",children:"Selisih"}),i.jsxs("div",{className:"summary-card-value",children:[x>=0?"+":"",ce(x)," L"]})]})]}),i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{style:{width:"40px"},children:"No"}),i.jsx("th",{style:{width:"100px"},children:"Tanggal"}),i.jsx("th",{children:"Nama Alat Berat"}),i.jsx("th",{style:{width:"120px"},children:"Pengajuan (L)"}),i.jsx("th",{style:{width:"120px"},children:"Realisasi (L)"}),i.jsx("th",{style:{width:"100px"},children:"Selisih (L)"}),i.jsx("th",{children:"Keterangan"})]})}),i.jsxs("tbody",{children:[p.map((w,k)=>{const N=(w.realisasiPengisian||0)-(w.pengajuanSolar||0);return i.jsxs("tr",{children:[i.jsx("td",{children:k+1}),i.jsx("td",{children:gt(w.tanggal)}),i.jsx("td",{className:"text-left",children:w.namaAlatBerat}),i.jsx("td",{className:"text-right font-mono",children:ce(w.pengajuanSolar)}),i.jsx("td",{className:"text-right font-mono",children:ce(w.realisasiPengisian)}),i.jsxs("td",{className:`text-right font-mono ${N>=0?"number-positive":"number-negative"}`,children:[N>=0?"+":"",ce(N)]}),i.jsx("td",{className:"text-left",children:w.keterangan||"-"})]},w.id||k)}),i.jsxs("tr",{className:"summary-row",children:[i.jsx("td",{colSpan:3,style:{textAlign:"center",fontWeight:"bold"},children:"TOTAL"}),i.jsx("td",{className:"text-right font-mono",children:ce(g)}),i.jsx("td",{className:"text-right font-mono",children:ce(m)}),i.jsxs("td",{className:`text-right font-mono ${x>=0?"number-positive":"number-negative"}`,children:[x>=0?"+":"",ce(x)]}),i.jsx("td",{})]})]})]}),i.jsxs("div",{className:"footer",children:[i.jsxs("div",{className:"print-date",children:["Cikampek, ",b()]}),i.jsxs("div",{className:"signatures-container",children:[i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Mengetahui,"}),i.jsx("div",{className:"signature-jabatan",children:u.jabatan||""}),i.jsx("div",{className:"signature-name",children:u.nama||""}),i.jsx("div",{className:"signature-badge",children:u.noBadge||""})]}),i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Dibuat Oleh,"}),i.jsx("div",{className:"signature-jabatan",children:f.jabatan||""}),i.jsx("div",{className:"signature-name",children:f.nama||""}),i.jsx("div",{className:"signature-badge",children:f.noBadge||""})]})]})]})]})})})]})})},rW=({isOpen:e,onClose:t,data:r,plant:n})=>{const a=j.useRef(null);if(!e)return null;const s=()=>{const c=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=new Date;return`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`},o=c=>{const u=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],d=new Date(c);return`${d.getDate()} ${u[d.getMonth()]} ${d.getFullYear()}`},l=()=>{const c=a.current;if(!c)return;const u=window.open("","_blank");u&&(u.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Gate Pass - ${r.nomorGatePass}</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 8pt;
            line-height: 1.2;
            color: #1a1a2e;
            background: #fff;
          }
          .page-wrapper {
            width: 100%;
            height: 287mm;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
            padding: 5px 8px;
            height: 140mm;
            overflow: hidden;
          }
          .divider-line {
            width: 100%;
            border-top: 1px dashed #94a3b8;
            margin: 2mm 0;
            position: relative;
          }
          .divider-line::before {
            content: ' potong di sini';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 10px;
            font-size: 7pt;
            color: #94a3b8;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #1e40af;
            position: relative;
          }
          .header::after {
            content: '';
            position: absolute;
            bottom: -1.5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1.5px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
          }
          .header h1 {
            font-size: 13pt;
            font-weight: 800;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2px;
          }
          .header .subtitle {
            font-size: 7pt;
            color: #64748b;
            font-weight: 500;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 7pt;
            font-weight: 600;
            margin-top: 3px;
            box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
          }
          
          /* Gate Pass Number */
          .gatepass-number {
            text-align: center;
            margin: 6px 0;
            padding: 5px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1.5px solid #f59e0b;
            border-radius: 6px;
          }
          .gatepass-number label {
            font-size: 6pt;
            color: #92400e;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 1px;
          }
          .gatepass-number .number {
            font-size: 11pt;
            font-weight: 800;
            color: #92400e;
            font-family: 'Consolas', monospace;
            letter-spacing: 2px;
          }
          
          /* Info Grid */
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
          }
          .info-item {
            padding: 4px 6px;
            background: #f8fafc;
            border-radius: 4px;
            border-left: 2px solid #3b82f6;
          }
          .info-item.full-width {
            grid-column: span 2;
          }
          .info-item label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 1px;
            font-weight: 600;
          }
          .info-item .value {
            font-size: 8pt;
            color: #1e293b;
            font-weight: 500;
          }
          
          /* Description Section */
          .description-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 5px;
            border: 1px solid #7dd3fc;
          }
          .description-section h3 {
            font-size: 7pt;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #7dd3fc;
          }
          .description-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Reason Section */
          .reason-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #fef3c7, #fef9c3);
            border-radius: 5px;
            border: 1px solid #fcd34d;
          }
          .reason-section h3 {
            font-size: 7pt;
            color: #a16207;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #fcd34d;
          }
          .reason-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 6px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            padding: 0 10px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 120px;
            padding: 5px;
            background: #fafafa;
            border-radius: 5px;
            border: 1px dashed #cbd5e1;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
            font-weight: 500;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 20px;
            min-height: 10px;
          }
          
          .signature-space {
            height: 25px;
            margin-bottom: 3px;
          }
          
          .signature-line {
            width: 100px;
            height: 1px;
            background: #1e293b;
            margin: 0 auto 3px auto;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 1px;
            min-height: 10px;
          }
          
          .signature-badge {
            font-size: 6pt;
            color: #475569;
            font-weight: 500;
            min-height: 8px;
          }
          
          /* Stamp/Seal Style (Optional visual) */
          .official-stamp {
            text-align: center;
            margin-top: 5px;
            padding-top: 4px;
            border-top: 1px dashed #e2e8f0;
          }
          .official-stamp p {
            font-size: 6pt;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          /* Copy Label */
          .copy-label {
            position: absolute;
            top: 3px;
            right: 5px;
            font-size: 6pt;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
          }
          .print-container {
            position: relative;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="page-wrapper">
          <div class="print-container">
            <div class="copy-label">Lembar 1 - Arsip</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
          <div class="divider-line"></div>
          <div class="print-container">
            <div class="copy-label">Lembar 2 - Pembawa</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
        </div>
      </body>
      </html>
    `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},300))};return i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-blue-600 to-indigo-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:i.jsx(Ta,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Gate Pass"}),i.jsx("p",{className:"text-blue-100 text-sm",children:r.nomorGatePass})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(Xa,{className:"h-6 w-6 text-white"})})]}),i.jsx("div",{className:"p-5 border-b bg-gradient-to-b from-blue-50 to-white flex items-center justify-end",children:i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 font-semibold shadow-lg shadow-blue-500/30 transition-all",children:[i.jsx(Rn,{className:"h-5 w-5"}),"Cetak Gate Pass"]})}),i.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:i.jsx("div",{ref:a,className:"bg-white p-10 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:i.jsxs("div",{className:"print-container",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"GATE PASS"}),i.jsx("div",{className:"subtitle",children:"Surat Izin Keluar Barang"}),i.jsxs("div",{className:"plant-badge",children:["PT. PUPUK KUJANG CIKAMPEK - ",n]})]}),i.jsxs("div",{className:"gatepass-number",children:[i.jsx("label",{children:"Nomor Gate Pass"}),i.jsx("div",{className:"number",children:r.nomorGatePass})]}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Tanggal"}),i.jsx("div",{className:"value",children:o(r.tanggal)})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"No Polisi"}),i.jsx("div",{className:"value",children:r.noPolisi||"-"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Pemilik Barang"}),i.jsx("div",{className:"value",children:r.pemilikBarang||"-"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Nama Pembawa"}),i.jsx("div",{className:"value",children:r.namaPembawa||"-"})]})]}),i.jsxs("div",{className:"description-section",children:[i.jsx("h3",{children:"Deskripsi Barang"}),i.jsx("p",{children:r.deskripsiBarang||"-"})]}),i.jsxs("div",{className:"reason-section",children:[i.jsx("h3",{children:"Alasan Mengeluarkan"}),i.jsx("p",{children:r.alasanKeluar||"-"})]}),i.jsxs("div",{className:"footer",children:[i.jsxs("div",{className:"print-date",children:["Cikampek, ",s()]}),i.jsxs("div",{className:"signatures-container",children:[i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Pembawa,"}),i.jsx("div",{className:"signature-space"}),i.jsx("div",{className:"signature-line"}),i.jsx("div",{className:"signature-name",children:r.namaPembawa||""})]}),i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Mengetahui,"}),i.jsx("div",{className:"signature-space"}),i.jsx("div",{className:"signature-line"}),i.jsx("div",{className:"signature-name",children:r.mengetahui||""})]})]}),i.jsx("div",{className:"official-stamp",children:i.jsx("p",{children:"Dokumen ini tidak sah tanpa tanda tangan basah"})})]})]})})})]})})};function nW(){const[e,t]=j.useState(null),[r,n]=j.useState(!1),[a,s]=j.useState(!1);return j.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0?(s(!0),!0):!1)return;const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{s(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:a,install:async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;return l==="accepted"?(s(!0),n(!1),t(null),!0):!1}catch(l){return console.error("Error installing PWA:",l),!1}}}}function aW(){const{isInstallable:e,isInstalled:t,install:r}=nW(),[n,a]=j.useState(!1),[s,o]=j.useState(!1),[l,c]=j.useState(!1);j.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;c(f);const h=setTimeout(()=>{const p=localStorage.getItem("pwa-install-dismissed"),g=p?parseInt(p):0,m=(Date.now()-g)/(1e3*60*60*24);!t&&(e||f)&&m>7&&a(!0)},3e3);return()=>clearTimeout(h)},[e,t]);const u=async()=>{l?o(!0):await r()&&a(!1)},d=()=>{a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return!n||t?null:i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-slide-up",children:i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-2xl border border-gray-200 dark:border-dark-600 p-4 max-w-md mx-auto",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:i.jsx(Lc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Install Plantiffy"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Akses lebih cepat langsung dari layar utama HP Anda"}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[i.jsx(xu,{className:"w-4 h-4"}),"Install"]}),i.jsx("button",{onClick:d,className:"px-3 py-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:"Nanti"})]})]}),i.jsx("button",{onClick:d,className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 p-1",children:i.jsx(Xa,{className:"w-4 h-4"})})]})})}),s&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-scale-up",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx("img",{src:"/icons/icon-96x96.png",alt:"PlantIQ",className:"w-10 h-10 rounded-lg"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Install Plantiffy di iPhone"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Ikuti langkah berikut untuk menambahkan aplikasi ke layar utama:"})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"1"}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ikon ",i.jsx("strong",{children:"Share"})," (kotak dengan panah ke atas) di bagian bawah Safari"]})})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"2"}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Scroll ke bawah dan ketuk"," ",i.jsx("strong",{children:'"Add to Home Screen"'})]})})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"3"}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ",i.jsx("strong",{children:'"Add"'})," di pojok kanan atas"]})})]})]}),i.jsx("button",{onClick:()=>o(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-xl transition-colors",children:"Mengerti"})]})}),i.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes scale-up {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        
        .animate-scale-up {
          animation: scale-up 0.2s ease-out;
        }
      `})]})}const W2=6e4,xh=new Map,tp=new Map;function iW(e){const t=xh.get(e);return t?Date.now()-t.timestamp>t.ttl?(xh.delete(e),null):t.data:null}function sW(e,t,r=W2){xh.set(e,{data:t,timestamp:Date.now(),ttl:r})}function rM(e){const t=[];xh.forEach((r,n)=>{n.includes(e)&&t.push(n)}),t.forEach(r=>xh.delete(r))}async function nM(e,t,r=W2){const n=iW(e);if(n!==null)return{success:!0,data:n};const a=tp.get(e);if(a)return a;const s=t().then(o=>(tp.delete(e),o.success&&o.data&&sW(e,o.data,r),o)).catch(o=>{throw tp.delete(e),o});return tp.set(e,s),s}function G2(e){rM(e)}const aM={DEFAULT:W2},iM={readData:e=>`read:${e}`,fetchByPlant:e=>`plant:${e}`,dashboard:()=>"dashboard:all"},sM="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",oM=3e4,oW=15e3,lW=6e4;function lM(e){const t=new AbortController;return setTimeout(()=>t.abort(),e),t}async function Nx(e,t=oM){const r=lM(t);try{const n=await fetch(`${sM}${e}`,{method:"GET",redirect:"follow",signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return{success:!0,data:a.data||a}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API GET Timeout:",e),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API GET Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function $n(e,t=oM){const r=lM(t);try{const n=await fetch(sM,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e),signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return a.success===!1?{success:!1,error:a.error||"Unknown error"}:{success:!0,data:a.data!==void 0?a.data:a}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API POST Timeout"),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API POST Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function cW(e){return $n(e,oW)}function uW(e){return $n(e,lW)}async function Dm(e){return Nx(`?action=read&sheet=${e}`)}async function cM(e,t=!0){if(!t)return Dm(e);const r=iM.readData(e);return nM(r,()=>Dm(e),aM.DEFAULT)}async function dW(e,t){const r=await $n({action:"create",sheet:e,data:t});return r.success&&G2(e),r}async function fW(e,t){const r=await $n({action:"update",sheet:e,data:t});return r.success&&G2(e),r}async function hW(e,t){const r=await $n({action:"delete",sheet:e,data:{id:t}});return r.success&&G2(e),r}async function uM(e,t){return cW({action:"login",data:{username:e,password:t}})}function pW(e,t){uW({action:"update",sheet:Yr.ACTIVE_USERS,data:{id:t||"",username:e,status:"offline",lastActive:new Date(0).toISOString()}}).catch(r=>console.error("Background offline update failed:",r))}async function mW(e,t=!0){const r=iM.fetchByPlant(e);return t?nM(r,()=>AP(e),aM.DEFAULT):AP(e)}async function AP(e){const[t,r]=await Promise.all([Dm(e),Dm(`${e}_NPK1`)]),n=[];return t.success&&t.data&&n.push(...t.data.map(a=>({...a,_plant:"NPK2"}))),r.success&&r.data&&n.push(...r.data.map(a=>({...a,_plant:"NPK1"}))),{success:!0,data:n}}function dM(e,t){return t==="NPK1"?`${e}_NPK1`:e}const Yr={PRODUKSI_NPK:"produksi_npk",PRODUKSI_BLENDING:"produksi_blending",PRODUKSI_NPK_MINI:"produksi_npk_mini",TIMESHEET_FORKLIFT:"timesheet_forklift",TIMESHEET_LOADER:"timesheet_loader",DOWNTIME:"downtime",WORK_REQUEST:"workrequest",BAHAN_BAKU:"bahanbaku",BAHAN_BAKU_NPK:"bahanbaku_npk",VIBRASI:"vibrasi",GATE_PASS:"gatepass",PERTA:"perta",PERBAIKAN_TAHUNAN:"perbaikan_tahunan",TROUBLE_RECORD:"trouble_record",KOP:"kop",REKAP_BBM:"rekap_bbm",PEMAKAIAN_BAHAN_BAKU:"pemakaian_bahan_baku",RIKSA_TIMB_PORTABEL:"riksa_timb_portabel",USERS:"users",SESSIONS:"sessions",APPROVAL_REQUESTS:"approval_requests",MONTHLY_NOTES:"monthly_notes",NOTIFICATIONS:"notifications",CHAT_MESSAGES:"chat_messages",AKUN:"akun",RKAP:"rkap",DOKUMENTASI_FOTO:"dokumentasi_foto",ACTIVE_USERS:"active_users",MATERIALS:"materials",MATERIAL_TRANSACTIONS:"material_transactions"};async function fM(e){return $n({action:"uploadPhoto",data:e})}async function hM(e){return $n({action:"deletePhoto",data:e})}async function gW(){return Nx("?action=getExchangeRate")}async function pM(){return Nx("?action=getMaterials")}async function mM(e){let t="?action=getMaterialTransactions";return e&&(e.material_id&&(t+=`&material_id=${encodeURIComponent(e.material_id)}`),e.start_date&&(t+=`&start_date=${encodeURIComponent(e.start_date)}`),e.end_date&&(t+=`&end_date=${encodeURIComponent(e.end_date)}`)),Nx(t)}async function gM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return $n({action:"createWithLog",sheet:n,data:t,userInfo:r})}async function xM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return $n({action:"updateWithLog",sheet:n,data:t,userInfo:r})}async function vM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return $n({action:"deleteWithLog",sheet:n,data:{id:t.id},userInfo:r})}async function q2(e,t){return $n({action:"getActivityLogs",filters:{sheet_name:e,record_id:t}})}function Y2(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function X2(e){return{create:"Menambahkan",update:"Mengubah",delete:"Menghapus"}[e]||e}function J2(e){return{create:"",update:"",delete:""}[e]||""}async function yM(e,t){return $n({action:"addMaterialWithLog",data:e,userInfo:t})}async function bM(e,t){return $n({action:"updateMaterialWithLog",data:e,userInfo:t})}async function wM(e,t){return $n({action:"deleteMaterialWithLog",data:{id:e},userInfo:t})}async function kM(e,t,r,n){return $n({action:"updateStockMasukWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}async function jM(e,t,r,n){return $n({action:"updateStockKeluarWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}const ot=Object.freeze(Object.defineProperty({__proto__:null,SHEETS:Yr,addMaterialWithLog:yM,clearCacheByPattern:rM,createData:dW,createDataWithLog:gM,deleteData:hW,deleteDataWithLog:vM,deleteMaterialWithLog:wM,deletePhoto:hM,fetchDataByPlant:mW,getActionDisplayText:X2,getActionIcon:J2,getExchangeRate:gW,getMaterialTransactions:mM,getMaterials:pM,getRecordActivityLogs:q2,getSheetNameByPlant:dM,loginUser:uM,parseActivityLogChanges:Y2,readData:cM,setUserOfflineBackground:pW,updateData:fW,updateDataWithLog:xM,updateMaterialWithLog:bM,updateStockKeluarWithLog:jM,updateStockMasukWithLog:kM,uploadPhoto:fM},Symbol.toStringTag,{value:"Module"}));function xW({isVisible:e,onClose:t,notification:r}){const[n,a]=j.useState([]),[s,o]=j.useState(!1),[l,c]=j.useState(null);j.useEffect(()=>{e&&(r!=null&&r.sheetName)&&(r!=null&&r.recordId)&&u()},[e,r]);const u=async()=>{if(!(!(r!=null&&r.sheetName)||!(r!=null&&r.recordId))){o(!0),c(null);try{const p=await q2(r.sheetName,r.recordId);p.success&&p.data?a(p.data):c(p.error||"Gagal memuat log aktivitas")}catch{c("Terjadi kesalahan saat memuat data")}finally{o(!1)}}},d=p=>{try{return new Date(p).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return p}},f=p=>{switch(p){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},h=p=>{const g=Y2(p);if(!g)return null;if(g.deleted_data)return i.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),i.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(g.deleted_data,null,2)})]});const m=Object.entries(g);return m.length===0?null:i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),i.jsx("div",{className:"space-y-1",children:m.map(([x,b])=>i.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[i.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[x,":"]}),i.jsx("span",{className:"text-red-500 line-through",children:String(b.old||"-")}),i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(b.new||"-")})]},x))})]})};return i.jsx(xt,{isOpen:e,onClose:t,title:"Detail Log Aktivitas",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[r&&i.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:r.message}),i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d(r.timestamp)})]}),s&&i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Cm,{})}),l&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),!s&&!l&&n.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("p",{className:"text-sm",children:"Tidak ada log aktivitas"})]}),!s&&!l&&n.length>0&&i.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Riwayat perubahan data:"}),n.map(p=>i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:J2(p.action)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:f(p.action),children:X2(p.action)}),i.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:p.user_name||p.user_id})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[p.user_role,"  ",p.plant]})]})]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(p.timestamp)})]}),p.record_preview&&i.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"text-gray-400",children:"Data: "}),p.record_preview]}),h(p.changes)]},p.id))]})]})})}function Fr({isOpen:e,onClose:t,sheetName:r,recordId:n,title:a="Log Aktivitas"}){const[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(null);j.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0),d(null);try{const m=await q2(r,n);m.success&&m.data?o(m.data):d(m.error||"Gagal memuat log aktivitas")}catch{d("Terjadi kesalahan saat memuat data")}finally{c(!1)}}},h=m=>{try{return new Date(m).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return m}},p=m=>{switch(m){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},g=m=>{const x=Y2(m);if(!x)return null;if(x.deleted_data)return i.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),i.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(x.deleted_data,null,2)})]});const b=Object.entries(x);return b.length===0?null:i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),i.jsx("div",{className:"space-y-1",children:b.map(([y,v])=>i.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[i.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[y,":"]}),i.jsx("span",{className:"text-red-500 line-through",children:String(v.old||"-")}),i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(v.new||"-")})]},y))})]})};return i.jsx(xt,{isOpen:e,onClose:t,title:a,size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[l&&i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Cm,{})}),u&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),!l&&!u&&s.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("p",{className:"text-sm",children:"Belum ada log aktivitas untuk data ini"})]}),!l&&!u&&s.length>0&&i.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Riwayat perubahan data (",s.length," aktivitas):"]}),s.map(m=>i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:J2(m.action)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:p(m.action),children:X2(m.action)}),i.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.user_name||m.user_id})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[m.user_role,"  ",m.plant]})]})]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(m.timestamp)})]}),m.record_preview&&i.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"text-gray-400",children:"Data: "}),m.record_preview]}),g(m.changes)]},m.id))]})]})})}const uc=[{version:"3.1.0",date:"1 Maret 2026",title:"Pemakaian Bahan Baku  Ganti Pemantauan BB",type:"minor",icon:i.jsx(pP,{className:"h-5 w-5"}),highlights:["Halaman 'Pemantauan Bahan Baku' dihapus dari menu Laporan","Ditambahkan halaman baru 'Pemakaian Bahan Baku' di menu Laporan","Data pemakaian per shift (Malam, Pagi, Sore) untuk 12 jenis bahan baku","Tampilan harian (grid per tanggal) dan mode tabel","Bahan baku: Urea, DAP, KCL, ZA, Clay Jumbo/Bucket, Pewarna, Coating Oil LIGNO, Riject, Tinta, Rekon, MAKEUP IJP","Sheet lama pemantauan_bahan_baku diganti dengan pemakaian_bahan_baku"]},{version:"3.0.2",date:"26 Februari 2026",title:"Trouble Record  Item Terdampak & Export Excel",type:"patch",icon:i.jsx(Ef,{className:"h-5 w-5"}),highlights:["Field 'Area' pada Trouble Record diganti menjadi 'Item yang Terdampak'","Input diubah dari dropdown (Select) menjadi text input manual (textbox)","Ditambahkan fitur Export ke Excel dengan filter tanggal dan status","File export mencakup 2 sheet: Data detail & Rekap per Status"]},{version:"3.0.1",date:"25 Februari 2026",title:"Sidebar Accordion  Satu Menu Terbuka",type:"patch",icon:i.jsx(Fb,{className:"h-5 w-5"}),highlights:["Sidebar menu parent kini berperilaku seperti accordion","Hanya satu menu parent yang bisa terbuka dalam satu waktu","Membuka menu baru otomatis menutup menu yang sebelumnya terbuka","Navigasi lebih rapi dan fokus"]},{version:"3.0.0",date:"23 Februari 2026",title:"Major UI Overhaul  Modern Dashboard & Charts",type:"major",icon:i.jsx(wH,{className:"h-5 w-5"}),highlights:["Semua chart di-upgrade ke desain modern: gradient fills, glassmorphism tooltips, animated legends","Produksi vs RKAP: diubah dari LineChart ke AreaChart dengan gradient fill area transparan yang cantik","Onspek vs Offspek: bar chart dengan gradient warna indigo & rose, rounded corners lebih halus","Pie charts (Breakdown Produksi, Work Request, Vibrasi): donut chart modern dengan gradient fills, corner radius, dan white stroke separator","Downtime per Equipment: horizontal bar chart dengan gradient fills amber-orange + enhanced empty state","Semua chart: axis tanpa garis border (cleaner), grid transparan halus, tooltip glassmorphism blur","Dashboard hero cards: redesign total  gradient backgrounds jadi lebih deep & vibrant, decorative blur orbs, backdrop glass borders","Setiap card section punya icon header dengan gradient background dan shadow warna","KPI Card: upgrade ke v3.0  accent line atas, rounded-xl, hover lift effect, gradient variant baru","Card component: modern rounded-xl, subtle border, dark mode backdrop-blur","Quick Actions: redesign dengan gradient background per-item, bordered icon containers","Data Summary: animated grid cards dengan gradient backgrounds per-warna","CSS: glassmorphism v3.0, chart-specific dark mode support, hover-lift utility, gradient-border effect, text-gradient-vibrant","Overall: tampilan enterprise premium  visual hierarchy lebih jelas, spacing lebih lapang, warna lebih vibrant"]},{version:"2.7.1",date:"20 Februari 2026",title:"Export Excel - Grup per Bahan Baku",type:"patch",icon:i.jsx(Ef,{className:"h-5 w-5"}),highlights:["Data di Excel dikelompokkan per bahan baku (Urea, DAP, KCL, dll)","Setiap kelompok memiliki header dan subtotal masing-masing","Grand total di akhir sheet"]},{version:"2.7.0",date:"20 Februari 2026",title:"Export Excel Bahan Baku NPK",type:"minor",icon:i.jsx(Ef,{className:"h-5 w-5"}),highlights:["Export data penerimaan bahan baku ke file Excel (.xlsx)","Filter berdasarkan rentang tanggal (dari - sampai)","Pilih per bahan baku atau semua bahan baku sekaligus","Sheet 1: Data detail lengkap dengan semua kolom","Sheet 2: Rekap total per bahan baku","Tersedia di halaman Bahan Baku NPK 1 dan NPK 2","Preview jumlah data sebelum export"]},{version:"2.6.2",date:"19 Februari 2026",title:"Modal Tidak Tertutup Saat Klik di Luar",type:"patch",icon:i.jsx(Am,{className:"h-5 w-5"}),highlights:["Modal form tidak lagi tertutup saat klik di luar area modal","Data input yang sedang diisi tidak akan hilang karena klik tidak sengaja","Berlaku untuk semua modal di seluruh halaman aplikasi","User tetap bisa menutup modal via tombol X atau tombol Batal"]},{version:"2.6.1",date:"16 Februari 2026",title:"Fix Input Tonase NPK Mini",type:"patch",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Input tonase NPK Mini menggunakan placeholder '0' - tidak lagi pre-fill nilai lama","Support input desimal dengan koma (,) dan titik (.) sebagai pemisah","Maksimal 2 angka di belakang koma (contoh: 12,50 atau 12.50)","Fix keyboard mobile - sekarang bisa ketik koma & titik di iPhone dan Android"]},{version:"2.6.0",date:"16 Februari 2026",title:"Summary Cards & Mobile Responsive All Pages",type:"minor",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Summary cards informatif di SEMUA halaman data (Work Request, Inventaris, Riksa Timbangan, dll)","Grid 2 kolom di mobile untuk semua summary cards - tidak terpotong di iPhone & Android","Font & padding responsif (text-lg sm:text-2xl, p-3 sm:p-4) di 15+ halaman","Fix pencarian Inventaris Material - sekarang mencari di seluruh database, bukan hanya halaman aktif","Work Request: tambah card Bulan Ini, Area Terlibat, Top Eksekutor","Riksa Timbangan: tambah card Total Pemeriksaan, Lolos, Perhatian, Rata-rata Selisih","Inventaris: tambah card Total Material, Total Stok, Stok Aman, Stok Menipis"]},{version:"2.5.4",date:"16 Februari 2026",title:"Mobile Responsive Produksi",type:"patch",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Perbaikan layout halaman Produksi NPK Granul agar tidak terpotong di HP","Redesain banner produksi bulanan - compact & proporsional di iPhone & Android","Summary cards 2 kolom di mobile (sebelumnya 1 kolom penuh, terlalu besar)","Ukuran font & padding responsif (sm/xs) untuk tampilan lebih profesional","Fix halaman Produksi NPK Mini dengan layout mobile yang sama"]},{version:"2.5.3",date:"15 Februari 2026",title:"Work Request & Data Integrity Fix",type:"patch",icon:i.jsx(gy,{className:"h-5 w-5"}),highlights:["Fix Work Request NPK1 - eksekutor, include, keterangan sekarang tersimpan dengan benar","Perbaikan header validation di backend (Code.gs) untuk konsistensi kolom","Tambah fungsi Fix All Sheet Headers di menu Google Sheets"]},{version:"2.5.1",date:"11 Februari 2026",title:"Work Request & Data Integrity Fix",type:"patch",icon:i.jsx(gy,{className:"h-5 w-5"}),highlights:["Fix Work Request NPK1 - eksekutor, include, keterangan sekarang tersimpan dengan benar","Perbaikan header validation di backend (Code.gs) untuk konsistensi kolom","Fix Activity Log di halaman Produksi NPK (sheet name mismatch)","Perbaikan approval handler di 5 halaman - gunakan API helper yang benar","Approval request sekarang plant-aware (NPK1/NPK2)","Tambah fungsi Fix All Sheet Headers di menu Google Sheets"]},{version:"2.5.0",date:"6 Februari 2026",title:"Notification Sound & Activity Enhancement",type:"minor",icon:i.jsx(ZD,{className:"h-5 w-5"}),highlights:["Suara notifikasi interaktif untuk data baru, edit, dan pesan masuk","Sound system menggunakan Web Audio API (tanpa file eksternal)","5 jenis suara: notification, message, success, warning, error","Toggle suara on/off di header","Creator logging - pembuat data masuk ke log aktivitas","Version history modal - lihat perjalanan aplikasi"]},{version:"2.4.3",date:"28 Januari 2026",title:"Stability & Performance Fix",type:"patch",icon:i.jsx(gy,{className:"h-5 w-5"}),highlights:["Fix cache invalidation pada mutasi data","Perbaikan polling interval untuk real-time update","Optimasi memory usage pada background tasks","Fix issue duplicate active users di marquee"]},{version:"2.4.2",date:"20 Januari 2026",title:"Chat Enhancement",type:"patch",icon:i.jsx(Em,{className:"h-5 w-5"}),highlights:["Edit dan hapus pesan chat (klik kanan / long press)","Optimistic UI untuk pengiriman pesan instan","Smart scroll - tidak auto-scroll saat baca pesan lama","Per-user read tracking independen"]},{version:"2.4.1",date:"12 Januari 2026",title:"UI Polish & Bug Fixes",type:"patch",icon:i.jsx(TH,{className:"h-5 w-5"}),highlights:["Perbaikan tampilan dark mode","Fix responsive layout pada mobile","Peningkatan animasi sidebar","Fix badge count notifikasi"]},{version:"2.4.0",date:"5 Januari 2026",title:"Activity Logging & Notification System",type:"minor",icon:i.jsx(Jc,{className:"h-5 w-5"}),highlights:["Sistem logging aktivitas lengkap (create, update, delete)","Notifikasi otomatis ke supervisor & admin","Modal log aktivitas per record","Tracking perubahan data (old vs new values)","Filter dan pencarian log aktivitas"]},{version:"2.3.0",date:"20 Desember 2025",title:"Inventaris Material Consumable",type:"minor",icon:i.jsx(Rb,{className:"h-5 w-5"}),highlights:["Fitur inventaris stok material consumable","Manajemen stok masuk & keluar","History transaksi material","Alert stok minimum","Laporan transaksi material"]},{version:"2.2.0",date:"10 Desember 2025",title:"Real-time Chat & Active Users",type:"minor",icon:i.jsx(vu,{className:"h-5 w-5"}),highlights:["Chat tim real-time antar pengguna","Live active users marquee","Status online/offline tracking","Dashboard metrics di info bar","Background polling untuk updated data"]},{version:"2.1.0",date:"25 November 2025",title:"Dual Plant System",type:"minor",icon:i.jsx(Fb,{className:"h-5 w-5"}),highlights:["Dukungan dual plant: NPK1 & NPK2","Data terpisah per plant","Admin dapat melihat semua plant","Filter menu berdasarkan plant user","Gate Pass, Work Request, Vibrasi per plant"]},{version:"2.0.0",date:"10 November 2025",title:"PlantIQ v2 - Major Redesign",type:"major",icon:i.jsx(SH,{className:"h-5 w-5"}),highlights:["Redesain UI/UX modern dengan design system baru","Dark mode support","Responsive mobile-first design","Force desktop view pada mobile","Animasi halus dengan Framer Motion","Performance optimization dengan caching"]},{version:"1.8.0",date:"20 Oktober 2025",title:"Approval System & Security",type:"minor",icon:i.jsx(Am,{className:"h-5 w-5"}),highlights:["Sistem approval untuk edit & hapus data sensitif","Role-based access control (RBAC)","Session management per device","Multi-device detection"]},{version:"1.7.0",date:"5 Oktober 2025",title:"Dokumentasi Foto & Gate Pass Print",type:"minor",icon:i.jsx(Ta,{className:"h-5 w-5"}),highlights:["Upload dokumentasi foto ke Google Drive","Print Gate Pass format resmi","Print laporan BBM","Print KOP dengan format standar"]},{version:"1.6.0",date:"18 September 2025",title:"Report & Dashboard Enhancement",type:"minor",icon:i.jsx(ph,{className:"h-5 w-5"}),highlights:["Dashboard KPI cards dengan metrik real-time","Grafik produksi vs RKAP","Laporan pemantauan bahan baku","Filter tahun & bulan pada dashboard","Export data ke format print"]},{version:"1.5.0",date:"1 September 2025",title:"PWA & Offline Support",type:"minor",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Progressive Web App (PWA) - install di HP","Service Worker untuk offline caching","Push notification support","Install prompt otomatis","Splash screen & app icons"]},{version:"1.4.0",date:"15 Agustus 2025",title:"Data Management Expansion",type:"minor",icon:i.jsx(pP,{className:"h-5 w-5"}),highlights:["Trouble Record management","Perbaikan Tahunan tracking","Riksa Timbangan Portabel","Rekap BBM Alat Berat","Timesheet Forklift & Loader"]},{version:"1.3.0",date:"1 Agustus 2025",title:"Vibrasi Monitoring & Work Request",type:"minor",icon:i.jsx(Ss,{className:"h-5 w-5"}),highlights:["Monitoring vibrasi equipment","Status alert: Normal, Warning, Critical","Work Request management","Tracking eksekutor dan progress"]},{version:"1.2.0",date:"15 Juli 2025",title:"Production Data & Bahan Baku",type:"minor",icon:i.jsx(Rb,{className:"h-5 w-5"}),highlights:["Input produksi NPK Granul (3 shift)","Produksi Blending/Retail","Penerimaan bahan baku NPK","Perhitungan otomatis total produksi"]},{version:"1.1.0",date:"1 Juli 2025",title:"User Management & Auth",type:"minor",icon:i.jsx(_m,{className:"h-5 w-5"}),highlights:["Sistem login & registrasi","Manajemen user oleh admin","Role: Admin, Supervisor, AVP, Manager, User","Profil dan pengaturan akun"]},{version:"1.0.0",date:"15 Juni 2025",title:"PlantIQ v1 - Initial Release",type:"major",icon:i.jsx(PH,{className:"h-5 w-5"}),highlights:["Rilis awal aplikasi PlantIQ / Plantiffy","Dashboard produksi plant NPK","Integrasi Google Sheets sebagai database","Google Apps Script sebagai backend API","Deploy di Vercel untuk frontend","Arsitektur React + TypeScript + Vite"]}];function vW({isOpen:e,onClose:t}){const[r,n]=j.useState(null),a=l=>{switch(l){case"major":return i.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-[10px] font-bold rounded-full uppercase",children:"Major"});case"minor":return i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-[10px] font-bold rounded-full uppercase",children:"Minor"});case"patch":return i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[10px] font-bold rounded-full uppercase",children:"Patch"})}},s=l=>{switch(l){case"major":return"border-red-400 dark:border-red-500 bg-red-500";case"minor":return"border-blue-400 dark:border-blue-500 bg-blue-500";case"patch":return"border-gray-300 dark:border-gray-600 bg-gray-400 dark:bg-gray-500"}},o=l=>{switch(l){case"major":return"bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-400";case"minor":return"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400";case"patch":return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}};return i.jsx(xt,{isOpen:e,onClose:t,title:"",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-primary-100 dark:bg-primary-900/40 mb-3",children:i.jsx(At,{className:"h-7 w-7 text-primary-600 dark:text-primary-400"})}),i.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Perjalanan Plantiffy"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Riwayat pengembangan dari versi awal hingga sekarang"}),i.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(uH,{className:"h-3 w-3"}),uc.length," versi"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[uc[uc.length-1].date,"  ",uc[0].date]})]})]}),i.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 -mr-2 space-y-0",children:uc.map((l,c)=>i.jsxs("div",{className:"relative flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-0",children:[i.jsx("div",{className:Ge("w-3 h-3 rounded-full border-2 mt-2 flex-shrink-0 z-10",s(l.type))}),c<uc.length-1&&i.jsx("div",{className:"w-0.5 flex-1 bg-border min-h-[20px]"})]}),i.jsxs("div",{className:Ge("flex-1 mb-4 p-3 rounded-lg border transition-all duration-200 cursor-pointer","hover:shadow-soft",r===l.version?"border-primary-300 dark:border-primary-700 bg-primary-50/50 dark:bg-primary-900/10":"border-border bg-card dark:bg-dark-800/50 hover:border-primary-200 dark:hover:border-primary-800"),onClick:()=>n(r===l.version?null:l.version),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:Ge("flex-shrink-0 p-1.5 rounded-lg",o(l.type)),children:l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("span",{className:"font-bold text-sm text-foreground",children:["v",l.version]}),a(l.type),c===0&&i.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-[10px] font-bold rounded-full uppercase animate-pulse",children:"Terbaru"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:l.date})]})]}),i.jsx("h4",{className:"text-sm font-semibold text-foreground mt-2",children:l.title}),i.jsx("ul",{className:"mt-2 space-y-1",children:l.highlights.slice(0,r===l.version?void 0:2).map((u,d)=>i.jsxs("li",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{className:"text-primary-500 mt-0.5 flex-shrink-0",children:""}),i.jsx("span",{children:u})]},d))}),l.highlights.length>2&&r!==l.version&&i.jsxs("p",{className:"text-[11px] text-primary-500 mt-1.5 font-medium",children:["+",l.highlights.length-2," lainnya  klik untuk detail"]})]})]},l.version))}),i.jsx("div",{className:"pt-3 border-t border-border text-center",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dibuat dengan  oleh Tim Plantiffy  Deployed on"," ",i.jsx("span",{className:"font-semibold text-foreground",children:"Vercel"})]})})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mm={};Mm.version="0.18.5";var SM=1252,yW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],NM=function(e){yW.indexOf(e)!=-1&&(SM=e)};function bW(){NM(1252)}var vh=function(e){NM(e)};function wW(){vh(1200),bW()}var rp=function(t){return String.fromCharCode(t)},OP=function(t){return String.fromCharCode(t)},Rm,ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yh(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=ho.charAt(s)+ho.charAt(o)+ho.charAt(l)+ho.charAt(c);return t}function xs(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=ho.indexOf(e.charAt(u++)),o=ho.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=ho.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ho.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Lt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ns=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Fl(e){return Lt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function CP(e){return Lt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var fi=function(t){return Lt?Ns(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Tx(e){if(typeof ArrayBuffer>"u")return fi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function x0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function kW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var xn=Lt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ns(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function jW(e){for(var t=[],r=0,n=e.length+250,a=Fl(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Fl(65535),n=65530)}return t.push(a.slice(0,r)),xn(t)}var Of=/\u0000/g,np=/[\u0001-\u0006]/g;function Qc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function pi(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}function Q2(e,t){var r=""+e;return r.length>=t?r:kr(" ",t-r.length)+r}function Im(e,t){var r=""+e;return r.length>=t?r:r+kr(" ",t-r.length)}function SW(e,t){var r=""+Math.round(e);return r.length>=t?r:kr("0",t-r.length)+r}function NW(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}var DP=Math.pow(2,32);function dc(e,t){if(e>DP||e<-DP)return SW(e,t);var r=Math.round(e);return NW(r,t)}function Lm(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var MP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],by=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function TW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Sr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},RP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},PW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fm(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function ap(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=MW(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var TM=new Date(1899,11,31,0,0,0),_W=TM.getTime(),EW=new Date(1900,2,1,0,0,0);function PM(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=EW&&(r+=24*60*60*1e3),(r-(_W+(e.getTimezoneOffset()-TM.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Z2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OW(e){var t=e<0?12:11,r=Z2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function CW(e){var t=Z2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function DW(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=OW(e):t===10?r=e.toFixed(10).substr(0,12):r=CW(e),Z2(AW(r.toUpperCase()))}function $b(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):DW(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Lo(14,PM(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function MW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function RW(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return by[r.m-1][1];case 5:return by[r.m-1][0];default:return by[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return MP[r.q][0];default:return MP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?pi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=pi(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?pi(c,u):"";return d}function po(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var _M=/%/g;function IW(e,t,r){var n=t.replace(_M,""),a=t.length-n.length;return os(e,n,r*Math.pow(10,2*a))+kr("%",a)}function LW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return os(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function EM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+EM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var AM=/# (\?+)( ?)\/( ?)(\d+)/;function FW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?kr(" ",e[1].length+1+e[4].length):Q2(o,e[1].length)+e[2]+"/"+e[3]+pi(l,e[4].length))}function $W(e,t,r){return r+(t===0?"":""+t)+kr(" ",e[1].length+2+e[4].length)}var OM=/^#*0*\.([0#]+)/,CM=/\).*[0#]/,DM=/\(###\) ###\\?-####/;function qn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function IP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function LP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function BW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function UW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function La(e,t,r){if(e.charCodeAt(0)===40&&!t.match(CM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?La("n",n,r):"("+La("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return LW(e,t,r);if(t.indexOf("%")!==-1)return IW(e,t,r);if(t.indexOf("E")!==-1)return EM(t,r);if(t.charCodeAt(0)===36)return"$"+La(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+dc(c,t.length);if(t.match(/^[#?]+$/))return a=dc(r,0),a==="0"&&(a=""),a.length>t.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(AM))return FW(s,c,u);if(t.match(/^#+0+$/))return u+dc(c,t.length-t.indexOf("0"));if(s=t.match(OM))return a=IP(r,s[1].length).replace(/^([^\.]+)$/,"$1."+qn(s[1])).replace(/\.$/,"."+qn(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+kr("0",qn(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+IP(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+po(dc(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+La(e,t,-r):po(""+(Math.floor(r)+BW(r,s[1].length)))+"."+pi(LP(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return La(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qc(La(e,t.replace(/[\\-]/g,""),r)),o=0,Qc(Qc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(DM))return a=La(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Fm(c,Math.pow(10,o)-1,!1),a=""+u,d=os("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Im(l[2],o),d.length<s[4].length&&(d=qn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Fm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Q2(l[1],o)+s[2]+"/"+s[3]+Im(l[2],o):kr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=dc(r,0),t.length<=a.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return qn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=LP(r,s[1].length),r<0?"-"+La(e,t,-r):po(UW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?pi(0,3-g.length):"")+g})+"."+pi(o,s[1].length);switch(t){case"###,##0.00":return La(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=po(dc(c,0));return p!=="0"?u+p:"";case"###,###.00":return La(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return La(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function KW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return os(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function VW(e,t,r){var n=t.replace(_M,""),a=t.length-n.length;return os(e,n,r*Math.pow(10,2*a))+kr("%",a)}function MM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+MM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ni(e,t,r){if(e.charCodeAt(0)===40&&!t.match(CM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ni("n",n,r):"("+Ni("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return KW(e,t,r);if(t.indexOf("%")!==-1)return VW(e,t,r);if(t.indexOf("E")!==-1)return MM(t,r);if(t.charCodeAt(0)===36)return"$"+Ni(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+pi(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(AM))return $W(s,c,u);if(t.match(/^#+0+$/))return u+pi(c,t.length-t.indexOf("0"));if(s=t.match(OM))return a=(""+r).replace(/^([^\.]+)$/,"$1."+qn(s[1])).replace(/\.$/,"."+qn(s[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+kr("0",qn(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+po(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ni(e,t,-r):po(""+r)+"."+kr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ni(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qc(Ni(e,t.replace(/[\\-]/g,""),r)),o=0,Qc(Qc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(DM))return a=Ni(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Fm(c,Math.pow(10,o)-1,!1),a=""+u,d=os("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Im(l[2],o),d.length<s[4].length&&(d=qn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Fm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Q2(l[1],o)+s[2]+"/"+s[3]+Im(l[2],o):kr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return qn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ni(e,t,-r):po(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?pi(0,3-g.length):"")+g})+"."+pi(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=po(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ni(e,t.slice(0,t.lastIndexOf(".")),r)+qn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function os(e,t,r){return(r|0)===r?Ni(e,t,r):La(e,t,r)}function zW(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var RM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function IM(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Lm(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(RM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function HW(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Lm(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=ap(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=ap(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=ap(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(RM)){if(u==null&&(u=ap(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",IM(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,b=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(b=Math.max(b,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var v="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=RW(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;v+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=$b(t,r);break}var k="",N,S;if(v.length>0){v.charCodeAt(0)==40?(N=t<0&&v.charCodeAt(0)===45?-t:t,S=os("n",v,N)):(N=t<0&&n>1?-t:t,S=os("n",v,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),w=S.length-1;var T=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){T=o;break}var P=a.length;if(T===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=S.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=S.substr(0,w+1),w=-1),a[o].t="t",P=o);w>=0&&P<a.length&&(a[P].v=S.substr(0,w+1)+a[P].v)}else if(T!==a.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,o=T;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")-1:a[o].v.length-1,k=a[o].v.substr(d+1);d>=0;--d)w>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(k=S.charAt(w--)+k);a[o].v=k,a[o].t="t",P=o}for(w>=0&&P<a.length&&(a[P].v=S.substr(0,w+1)+a[P].v),w=S.indexOf(".")+1,o=T;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==T)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")+1:0,k=a[o].v.substr(0,d);d<a[o].v.length;++d)w<S.length&&(k+=S.charAt(w++));a[o].v=k,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=os(a[o].t,a[o].v,N),a[o].t="t");var _="";for(o=0;o!==a.length;++o)a[o]!=null&&(_+=a[o].v);return _}var FP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $P(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function WW(e,t){var r=zW(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(FP),l=r[1].match(FP);return $P(t,o)?[n,r[0]]:$P(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Lo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Sr)[e],n==null&&(n=r.table&&r.table[RP[e]]||Sr[RP[e]]),n==null&&(n=PW[e]||"General");break}if(Lm(n,0))return $b(t,r);t instanceof Date&&(t=PM(t,r.date1904));var a=WW(n,t);if(Lm(a[1]))return $b(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return HW(a[1],t,r,a[0])}function LM(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Sr[r]==null){t<0&&(t=r);continue}if(Sr[r]==e){t=r;break}}t<0&&(t=391)}return Sr[t]=e,t}function Px(e){for(var t=0;t!=392;++t)e[t]!==void 0&&LM(e[t],t)}function _x(){Sr=TW()}var FM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function GW(e){var t=typeof e=="number"?Sr[e]:e;return t=t.replace(FM,"(\\d+)"),new RegExp("^"+t+"$")}function qW(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(FM)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var YW=function(){var e={};e.version="1.2.0";function t(){for(var S=0,T=new Array(256),P=0;P!=256;++P)S=P,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,T[P]=S;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(S){var T=0,P=0,_=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_=0;_!=256;++_)E[_]=S[_];for(_=0;_!=256;++_)for(P=S[_],T=256+_;T<4096;T+=256)P=E[T]=P>>>8^S[P&255];var A=[];for(_=1;_!=16;++_)A[_-1]=typeof Int32Array<"u"?E.subarray(_*256,_*256+256):E.slice(_*256,_*256+256);return A}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],x=a[11],b=a[12],y=a[13],v=a[14];function w(S,T){for(var P=T^-1,_=0,E=S.length;_<E;)P=P>>>8^r[(P^S.charCodeAt(_++))&255];return~P}function k(S,T){for(var P=T^-1,_=S.length-15,E=0;E<_;)P=v[S[E++]^P&255]^y[S[E++]^P>>8&255]^b[S[E++]^P>>16&255]^x[S[E++]^P>>>24]^m[S[E++]]^g[S[E++]]^p[S[E++]]^h[S[E++]]^f[S[E++]]^d[S[E++]]^u[S[E++]]^c[S[E++]]^l[S[E++]]^o[S[E++]]^s[S[E++]]^r[S[E++]];for(_+=15;E<_;)P=P>>>8^r[(P^S[E++])&255];return~P}function N(S,T){for(var P=T^-1,_=0,E=S.length,A=0,R=0;_<E;)A=S.charCodeAt(_++),A<128?P=P>>>8^r[(P^A)&255]:A<2048?(P=P>>>8^r[(P^(192|A>>6&31))&255],P=P>>>8^r[(P^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,R=S.charCodeAt(_++)&1023,P=P>>>8^r[(P^(240|A>>8&7))&255],P=P>>>8^r[(P^(128|A>>2&63))&255],P=P>>>8^r[(P^(128|R>>6&15|(A&3)<<4))&255],P=P>>>8^r[(P^(128|R&63))&255]):(P=P>>>8^r[(P^(224|A>>12&15))&255],P=P>>>8^r[(P^(128|A>>6&63))&255],P=P>>>8^r[(P^(128|A&63))&255]);return~P}return e.table=r,e.bstr=w,e.buf=k,e.str=N,e}(),Gt=function(){var t={};t.version="1.2.1";function r(F,ie){for(var X=F.split("/"),Q=ie.split("/"),se=0,oe=0,I=Math.min(X.length,Q.length);se<I;++se){if(oe=X[se].length-Q[se].length)return oe;if(X[se]!=Q[se])return X[se]<Q[se]?-1:1}return X.length-Q.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var ie=F.lastIndexOf("/");return ie===-1?F:F.slice(0,ie+1)}function a(F){if(F.charAt(F.length-1)=="/")return a(F.slice(0,-1));var ie=F.lastIndexOf("/");return ie===-1?F:F.slice(ie+1)}function s(F,ie){typeof ie=="string"&&(ie=new Date(ie));var X=ie.getHours();X=X<<6|ie.getMinutes(),X=X<<5|ie.getSeconds()>>>1,F.write_shift(2,X);var Q=ie.getFullYear()-1980;Q=Q<<4|ie.getMonth()+1,Q=Q<<5|ie.getDate(),F.write_shift(2,Q)}function o(F){var ie=F.read_shift(2)&65535,X=F.read_shift(2)&65535,Q=new Date,se=X&31;X>>>=5;var oe=X&15;X>>>=4,Q.setMilliseconds(0),Q.setFullYear(X+1980),Q.setMonth(oe-1),Q.setDate(se);var I=ie&31;ie>>>=5;var we=ie&63;return ie>>>=6,Q.setHours(ie),Q.setMinutes(we),Q.setSeconds(I<<1),Q}function l(F){ba(F,0);for(var ie={},X=0;F.l<=F.length-4;){var Q=F.read_shift(2),se=F.read_shift(2),oe=F.l+se,I={};switch(Q){case 21589:X=F.read_shift(1),X&1&&(I.mtime=F.read_shift(4)),se>5&&(X&2&&(I.atime=F.read_shift(4)),X&4&&(I.ctime=F.read_shift(4))),I.mtime&&(I.mt=new Date(I.mtime*1e3));break}F.l=oe,ie[Q]=I}return ie}var c;function u(){return c||(c={})}function d(F,ie){if(F[0]==80&&F[1]==75)return lt(F,ie);if((F[0]|32)==109&&(F[1]|32)==105)return ji(F,ie);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var X=3,Q=512,se=0,oe=0,I=0,we=0,me=0,ke=[],Ne=F.slice(0,512);ba(Ne,0);var Ce=f(Ne);switch(X=Ce[0],X){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(Ce[1]==0)return lt(F,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}Q!==512&&(Ne=F.slice(0,Q),ba(Ne,28));var Le=F.slice(0,Q);h(Ne,X);var Ke=Ne.read_shift(4,"i");if(X===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);Ne.l+=4,I=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),we=Ne.read_shift(4,"i"),se=Ne.read_shift(4,"i"),me=Ne.read_shift(4,"i"),oe=Ne.read_shift(4,"i");for(var Fe=-1,We=0;We<109&&(Fe=Ne.read_shift(4,"i"),!(Fe<0));++We)ke[We]=Fe;var it=p(F,Q);x(me,oe,it,Q,ke);var bt=y(it,I,ke,Q);bt[I].name="!Directory",se>0&&we!==R&&(bt[we].name="!MiniFAT"),bt[ke[0]].name="!FAT",bt.fat_addrs=ke,bt.ssz=Q;var St={},It=[],un=[],dn=[];v(I,bt,it,It,se,St,un,we),g(un,dn,It),It.shift();var fn={FileIndex:un,FullPaths:dn};return ie&&ie.raw&&(fn.raw={header:Le,sectors:it}),fn}function f(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(q,"Header Signature: "),F.l+=16;var ie=F.read_shift(2,"u");return[F.read_shift(2,"u"),ie]}function h(F,ie){var X=9;switch(F.l+=2,X=F.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function p(F,ie){for(var X=Math.ceil(F.length/ie)-1,Q=[],se=1;se<X;++se)Q[se-1]=F.slice(se*ie,(se+1)*ie);return Q[X-1]=F.slice(X*ie),Q}function g(F,ie,X){for(var Q=0,se=0,oe=0,I=0,we=0,me=X.length,ke=[],Ne=[];Q<me;++Q)ke[Q]=Ne[Q]=Q,ie[Q]=X[Q];for(;we<Ne.length;++we)Q=Ne[we],se=F[Q].L,oe=F[Q].R,I=F[Q].C,ke[Q]===Q&&(se!==-1&&ke[se]!==se&&(ke[Q]=ke[se]),oe!==-1&&ke[oe]!==oe&&(ke[Q]=ke[oe])),I!==-1&&(ke[I]=Q),se!==-1&&Q!=ke[Q]&&(ke[se]=ke[Q],Ne.lastIndexOf(se)<we&&Ne.push(se)),oe!==-1&&Q!=ke[Q]&&(ke[oe]=ke[Q],Ne.lastIndexOf(oe)<we&&Ne.push(oe));for(Q=1;Q<me;++Q)ke[Q]===Q&&(oe!==-1&&ke[oe]!==oe?ke[Q]=ke[oe]:se!==-1&&ke[se]!==se&&(ke[Q]=ke[se]));for(Q=1;Q<me;++Q)if(F[Q].type!==0){if(we=Q,we!=ke[we])do we=ke[we],ie[Q]=ie[we]+"/"+ie[Q];while(we!==0&&ke[we]!==-1&&we!=ke[we]);ke[Q]=-1}for(ie[0]+="/",Q=1;Q<me;++Q)F[Q].type!==2&&(ie[Q]+="/")}function m(F,ie,X){for(var Q=F.start,se=F.size,oe=[],I=Q;X&&se>0&&I>=0;)oe.push(ie.slice(I*A,I*A+A)),se-=A,I=fl(X,I*4);return oe.length===0?Oe(0):xn(oe).slice(0,F.size)}function x(F,ie,X,Q,se){var oe=R;if(F===R){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var I=X[F],we=(Q>>>2)-1;if(!I)return;for(var me=0;me<we&&(oe=fl(I,me*4))!==R;++me)se.push(oe);x(fl(I,Q-4),ie-1,X,Q,se)}}function b(F,ie,X,Q,se){var oe=[],I=[];se||(se=[]);var we=Q-1,me=0,ke=0;for(me=ie;me>=0;){se[me]=!0,oe[oe.length]=me,I.push(F[me]);var Ne=X[Math.floor(me*4/Q)];if(ke=me*4&we,Q<4+ke)throw new Error("FAT boundary crossed: "+me+" 4 "+Q);if(!F[Ne])break;me=fl(F[Ne],ke)}return{nodes:oe,data:GP([I])}}function y(F,ie,X,Q){var se=F.length,oe=[],I=[],we=[],me=[],ke=Q-1,Ne=0,Ce=0,Le=0,Ke=0;for(Ne=0;Ne<se;++Ne)if(we=[],Le=Ne+ie,Le>=se&&(Le-=se),!I[Le]){me=[];var Fe=[];for(Ce=Le;Ce>=0;){Fe[Ce]=!0,I[Ce]=!0,we[we.length]=Ce,me.push(F[Ce]);var We=X[Math.floor(Ce*4/Q)];if(Ke=Ce*4&ke,Q<4+Ke)throw new Error("FAT boundary crossed: "+Ce+" 4 "+Q);if(!F[We]||(Ce=fl(F[We],Ke),Fe[Ce]))break}oe[Le]={nodes:we,data:GP([me])}}return oe}function v(F,ie,X,Q,se,oe,I,we){for(var me=0,ke=Q.length?2:0,Ne=ie[F].data,Ce=0,Le=0,Ke;Ce<Ne.length;Ce+=128){var Fe=Ne.slice(Ce,Ce+128);ba(Fe,64),Le=Fe.read_shift(2),Ke=aj(Fe,0,Le-ke),Q.push(Ke);var We={name:Ke,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},it=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);it!==0&&(We.ct=w(Fe,Fe.l-8));var bt=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);bt!==0&&(We.mt=w(Fe,Fe.l-8)),We.start=Fe.read_shift(4,"i"),We.size=Fe.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=R,We.name=""),We.type===5?(me=We.start,se>0&&me!==R&&(ie[me].name="!StreamData")):We.size>=4096?(We.storage="fat",ie[We.start]===void 0&&(ie[We.start]=b(X,We.start,ie.fat_addrs,ie.ssz)),ie[We.start].name=We.name,We.content=ie[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:me!==R&&We.start!==R&&ie[me]&&(We.content=m(We,ie[me].data,(ie[we]||{}).data))),We.content&&ba(We.content,0),oe[Ke]=We,I.push(We)}}function w(F,ie){return new Date((ka(F,ie+4)/1e7*Math.pow(2,32)+ka(F,ie)/1e7-11644473600)*1e3)}function k(F,ie){return u(),d(c.readFileSync(F),ie)}function N(F,ie){var X=ie&&ie.type;switch(X||Lt&&Buffer.isBuffer(F)&&(X="buffer"),X||"base64"){case"file":return k(F,ie);case"base64":return d(fi(xs(F)),ie);case"binary":return d(fi(F),ie)}return d(F,ie)}function S(F,ie){var X=ie||{},Q=X.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=Q+"/",F.FileIndex[0]={name:Q,type:5}),X.CLSID&&(F.FileIndex[0].clsid=X.CLSID),T(F)}function T(F){var ie="Sh33tJ5";if(!Gt.find(F,"/"+ie)){var X=Oe(4);X[0]=55,X[1]=X[3]=50,X[2]=54,F.FileIndex.push({name:ie,type:2,content:X,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+ie),P(F)}}function P(F,ie){S(F);for(var X=!1,Q=!1,se=F.FullPaths.length-1;se>=0;--se){var oe=F.FileIndex[se];switch(oe.type){case 0:Q?X=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(oe.R*oe.L*oe.C)&&(X=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ie)){var I=new Date(1987,1,19),we=0,me=Object.create?Object.create(null):{},ke=[];for(se=0;se<F.FullPaths.length;++se)me[F.FullPaths[se]]=!0,F.FileIndex[se].type!==0&&ke.push([F.FullPaths[se],F.FileIndex[se]]);for(se=0;se<ke.length;++se){var Ne=n(ke[se][0]);Q=me[Ne],Q||(ke.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:V,ct:I,mt:I,content:null}]),me[Ne]=!0)}for(ke.sort(function(Ke,Fe){return r(Ke[0],Fe[0])}),F.FullPaths=[],F.FileIndex=[],se=0;se<ke.length;++se)F.FullPaths[se]=ke[se][0],F.FileIndex[se]=ke[se][1];for(se=0;se<ke.length;++se){var Ce=F.FileIndex[se],Le=F.FullPaths[se];if(Ce.name=a(Le).replace("/",""),Ce.L=Ce.R=Ce.C=-(Ce.color=1),Ce.size=Ce.content?Ce.content.length:0,Ce.start=0,Ce.clsid=Ce.clsid||V,se===0)Ce.C=ke.length>1?1:-1,Ce.size=0,Ce.type=5;else if(Le.slice(-1)=="/"){for(we=se+1;we<ke.length&&n(F.FullPaths[we])!=Le;++we);for(Ce.C=we>=ke.length?-1:we,we=se+1;we<ke.length&&n(F.FullPaths[we])!=n(Le);++we);Ce.R=we>=ke.length?-1:we,Ce.type=1}else n(F.FullPaths[se+1]||"")==n(Le)&&(Ce.R=se+1),Ce.type=2}}}function _(F,ie){var X=ie||{};if(X.fileType=="mad")return oc(F,X);switch(P(F),X.fileType){case"zip":return br(F,X)}var Q=function(Ke){for(var Fe=0,We=0,it=0;it<Ke.FileIndex.length;++it){var bt=Ke.FileIndex[it];if(bt.content){var St=bt.content.length;St>0&&(St<4096?Fe+=St+63>>6:We+=St+511>>9)}}for(var It=Ke.FullPaths.length+3>>2,un=Fe+7>>3,dn=Fe+127>>7,fn=un+We+It+dn,Kr=fn+127>>7,Un=Kr<=109?0:Math.ceil((Kr-109)/127);fn+Kr+Un+127>>7>Kr;)Un=++Kr<=109?0:Math.ceil((Kr-109)/127);var Tr=[1,Un,Kr,dn,It,We,Fe,0];return Ke.FileIndex[0].size=Fe<<6,Tr[7]=(Ke.FileIndex[0].start=Tr[0]+Tr[1]+Tr[2]+Tr[3]+Tr[4]+Tr[5])+(Tr[6]+7>>3),Tr}(F),se=Oe(Q[7]<<9),oe=0,I=0;{for(oe=0;oe<8;++oe)se.write_shift(1,Z[oe]);for(oe=0;oe<8;++oe)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),oe=0;oe<3;++oe)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,Q[2]),se.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:R),se.write_shift(4,Q[3]),se.write_shift(-4,Q[1]?Q[0]-1:R),se.write_shift(4,Q[1]),oe=0;oe<109;++oe)se.write_shift(-4,oe<Q[2]?Q[1]+oe:-1)}if(Q[1])for(I=0;I<Q[1];++I){for(;oe<236+I*127;++oe)se.write_shift(-4,oe<Q[2]?Q[1]+oe:-1);se.write_shift(-4,I===Q[1]-1?R:I+1)}var we=function(Ke){for(I+=Ke;oe<I-1;++oe)se.write_shift(-4,oe+1);Ke&&(++oe,se.write_shift(-4,R))};for(I=oe=0,I+=Q[1];oe<I;++oe)se.write_shift(-4,G.DIFSECT);for(I+=Q[2];oe<I;++oe)se.write_shift(-4,G.FATSECT);we(Q[3]),we(Q[4]);for(var me=0,ke=0,Ne=F.FileIndex[0];me<F.FileIndex.length;++me)Ne=F.FileIndex[me],Ne.content&&(ke=Ne.content.length,!(ke<4096)&&(Ne.start=I,we(ke+511>>9)));for(we(Q[6]+7>>3);se.l&511;)se.write_shift(-4,G.ENDOFCHAIN);for(I=oe=0,me=0;me<F.FileIndex.length;++me)Ne=F.FileIndex[me],Ne.content&&(ke=Ne.content.length,!(!ke||ke>=4096)&&(Ne.start=I,we(ke+63>>6)));for(;se.l&511;)se.write_shift(-4,G.ENDOFCHAIN);for(oe=0;oe<Q[4]<<2;++oe){var Ce=F.FullPaths[oe];if(!Ce||Ce.length===0){for(me=0;me<17;++me)se.write_shift(4,0);for(me=0;me<3;++me)se.write_shift(4,-1);for(me=0;me<12;++me)se.write_shift(4,0);continue}Ne=F.FileIndex[oe],oe===0&&(Ne.start=Ne.size?Ne.start-1:R);var Le=oe===0&&X.root||Ne.name;if(ke=2*(Le.length+1),se.write_shift(64,Le,"utf16le"),se.write_shift(2,ke),se.write_shift(1,Ne.type),se.write_shift(1,Ne.color),se.write_shift(-4,Ne.L),se.write_shift(-4,Ne.R),se.write_shift(-4,Ne.C),Ne.clsid)se.write_shift(16,Ne.clsid,"hex");else for(me=0;me<4;++me)se.write_shift(4,0);se.write_shift(4,Ne.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,Ne.start),se.write_shift(4,Ne.size),se.write_shift(4,0)}for(oe=1;oe<F.FileIndex.length;++oe)if(Ne=F.FileIndex[oe],Ne.size>=4096)if(se.l=Ne.start+1<<9,Lt&&Buffer.isBuffer(Ne.content))Ne.content.copy(se,se.l,0,Ne.size),se.l+=Ne.size+511&-512;else{for(me=0;me<Ne.size;++me)se.write_shift(1,Ne.content[me]);for(;me&511;++me)se.write_shift(1,0)}for(oe=1;oe<F.FileIndex.length;++oe)if(Ne=F.FileIndex[oe],Ne.size>0&&Ne.size<4096)if(Lt&&Buffer.isBuffer(Ne.content))Ne.content.copy(se,se.l,0,Ne.size),se.l+=Ne.size+63&-64;else{for(me=0;me<Ne.size;++me)se.write_shift(1,Ne.content[me]);for(;me&63;++me)se.write_shift(1,0)}if(Lt)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function E(F,ie){var X=F.FullPaths.map(function(me){return me.toUpperCase()}),Q=X.map(function(me){var ke=me.split("/");return ke[ke.length-(me.slice(-1)=="/"?2:1)]}),se=!1;ie.charCodeAt(0)===47?(se=!0,ie=X[0].slice(0,-1)+ie):se=ie.indexOf("/")!==-1;var oe=ie.toUpperCase(),I=se===!0?X.indexOf(oe):Q.indexOf(oe);if(I!==-1)return F.FileIndex[I];var we=!oe.match(np);for(oe=oe.replace(Of,""),we&&(oe=oe.replace(np,"!")),I=0;I<X.length;++I)if((we?X[I].replace(np,"!"):X[I]).replace(Of,"")==oe||(we?Q[I].replace(np,"!"):Q[I]).replace(Of,"")==oe)return F.FileIndex[I];return null}var A=64,R=-2,q="d0cf11e0a1b11ae1",Z=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(F,ie,X){u();var Q=_(F,X);c.writeFileSync(ie,Q)}function M(F){for(var ie=new Array(F.length),X=0;X<F.length;++X)ie[X]=String.fromCharCode(F[X]);return ie.join("")}function Y(F,ie){var X=_(F,ie);switch(ie&&ie.type||"buffer"){case"file":return u(),c.writeFileSync(ie.filename,X),X;case"binary":return typeof X=="string"?X:M(X);case"base64":return yh(typeof X=="string"?X:M(X));case"buffer":if(Lt)return Buffer.isBuffer(X)?X:Ns(X);case"array":return typeof X=="string"?fi(X):X}return X}var ee;function D(F){try{var ie=F.InflateRaw,X=new ie;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)ee=F;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function J(F,ie){if(!ee)return Ee(F,ie);var X=ee.InflateRaw,Q=new X,se=Q._processChunk(F.slice(F.l),Q._finishFlushFlag);return F.l+=Q.bytesRead,se}function z(F){return ee?ee.deflateRawSync(F):$e(F)}var L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(F){var ie=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var de=typeof Uint8Array<"u",fe=de?new Uint8Array(256):[],be=0;be<256;++be)fe[be]=Te(be);function he(F,ie){var X=fe[F&255];return ie<=8?X>>>8-ie:(X=X<<8|fe[F>>8&255],ie<=16?X>>>16-ie:(X=X<<8|fe[F>>16&255],X>>>24-ie))}function _e(F,ie){var X=ie&7,Q=ie>>>3;return(F[Q]|(X<=6?0:F[Q+1]<<8))>>>X&3}function ue(F,ie){var X=ie&7,Q=ie>>>3;return(F[Q]|(X<=5?0:F[Q+1]<<8))>>>X&7}function C(F,ie){var X=ie&7,Q=ie>>>3;return(F[Q]|(X<=4?0:F[Q+1]<<8))>>>X&15}function B(F,ie){var X=ie&7,Q=ie>>>3;return(F[Q]|(X<=3?0:F[Q+1]<<8))>>>X&31}function K(F,ie){var X=ie&7,Q=ie>>>3;return(F[Q]|(X<=1?0:F[Q+1]<<8))>>>X&127}function je(F,ie,X){var Q=ie&7,se=ie>>>3,oe=(1<<X)-1,I=F[se]>>>Q;return X<8-Q||(I|=F[se+1]<<8-Q,X<16-Q)||(I|=F[se+2]<<16-Q,X<24-Q)||(I|=F[se+3]<<24-Q),I&oe}function H(F,ie,X){var Q=ie&7,se=ie>>>3;return Q<=5?F[se]|=(X&7)<<Q:(F[se]|=X<<Q&255,F[se+1]=(X&7)>>8-Q),ie+3}function U(F,ie,X){var Q=ie&7,se=ie>>>3;return X=(X&1)<<Q,F[se]|=X,ie+1}function ae(F,ie,X){var Q=ie&7,se=ie>>>3;return X<<=Q,F[se]|=X&255,X>>>=8,F[se+1]=X,ie+8}function O(F,ie,X){var Q=ie&7,se=ie>>>3;return X<<=Q,F[se]|=X&255,X>>>=8,F[se+1]=X&255,F[se+2]=X>>>8,ie+16}function W(F,ie){var X=F.length,Q=2*X>ie?2*X:ie+5,se=0;if(X>=ie)return F;if(Lt){var oe=CP(Q);if(F.copy)F.copy(oe);else for(;se<F.length;++se)oe[se]=F[se];return oe}else if(de){var I=new Uint8Array(Q);if(I.set)I.set(F);else for(;se<X;++se)I[se]=F[se];return I}return F.length=Q,F}function ne(F){for(var ie=new Array(F),X=0;X<F;++X)ie[X]=0;return ie}function le(F,ie,X){var Q=1,se=0,oe=0,I=0,we=0,me=F.length,ke=de?new Uint16Array(32):ne(32);for(oe=0;oe<32;++oe)ke[oe]=0;for(oe=me;oe<X;++oe)F[oe]=0;me=F.length;var Ne=de?new Uint16Array(me):ne(me);for(oe=0;oe<me;++oe)ke[se=F[oe]]++,Q<se&&(Q=se),Ne[oe]=0;for(ke[0]=0,oe=1;oe<=Q;++oe)ke[oe+16]=we=we+ke[oe-1]<<1;for(oe=0;oe<me;++oe)we=F[oe],we!=0&&(Ne[oe]=ke[we+16]++);var Ce=0;for(oe=0;oe<me;++oe)if(Ce=F[oe],Ce!=0)for(we=he(Ne[oe],Q)>>Q-Ce,I=(1<<Q+4-Ce)-1;I>=0;--I)ie[we|I<<Ce]=Ce&15|oe<<4;return Q}var Me=de?new Uint16Array(512):ne(512),Ye=de?new Uint16Array(32):ne(32);if(!de){for(var xe=0;xe<512;++xe)Me[xe]=0;for(xe=0;xe<32;++xe)Ye[xe]=0}(function(){for(var F=[],ie=0;ie<32;ie++)F.push(5);le(F,Ye,32);var X=[];for(ie=0;ie<=143;ie++)X.push(8);for(;ie<=255;ie++)X.push(9);for(;ie<=279;ie++)X.push(7);for(;ie<=287;ie++)X.push(8);le(X,Me,288)})();var Pe=function(){for(var ie=de?new Uint8Array(32768):[],X=0,Q=0;X<ye.length-1;++X)for(;Q<ye[X+1];++Q)ie[Q]=X;for(;Q<32768;++Q)ie[Q]=29;var se=de?new Uint8Array(259):[];for(X=0,Q=0;X<te.length-1;++X)for(;Q<te[X+1];++Q)se[Q]=X;function oe(we,me){for(var ke=0;ke<we.length;){var Ne=Math.min(65535,we.length-ke),Ce=ke+Ne==we.length;for(me.write_shift(1,+Ce),me.write_shift(2,Ne),me.write_shift(2,~Ne&65535);Ne-- >0;)me[me.l++]=we[ke++]}return me.l}function I(we,me){for(var ke=0,Ne=0,Ce=de?new Uint16Array(32768):[];Ne<we.length;){var Le=Math.min(65535,we.length-Ne);if(Le<10){for(ke=H(me,ke,+(Ne+Le==we.length)),ke&7&&(ke+=8-(ke&7)),me.l=ke/8|0,me.write_shift(2,Le),me.write_shift(2,~Le&65535);Le-- >0;)me[me.l++]=we[Ne++];ke=me.l*8;continue}ke=H(me,ke,+(Ne+Le==we.length)+2);for(var Ke=0;Le-- >0;){var Fe=we[Ne];Ke=(Ke<<5^Fe)&32767;var We=-1,it=0;if((We=Ce[Ke])&&(We|=Ne&-32768,We>Ne&&(We-=32768),We<Ne))for(;we[We+it]==we[Ne+it]&&it<250;)++it;if(it>2){Fe=se[it],Fe<=22?ke=ae(me,ke,fe[Fe+1]>>1)-1:(ae(me,ke,3),ke+=5,ae(me,ke,fe[Fe-23]>>5),ke+=3);var bt=Fe<8?0:Fe-4>>2;bt>0&&(O(me,ke,it-te[Fe]),ke+=bt),Fe=ie[Ne-We],ke=ae(me,ke,fe[Fe]>>3),ke-=3;var St=Fe<4?0:Fe-2>>1;St>0&&(O(me,ke,Ne-We-ye[Fe]),ke+=St);for(var It=0;It<it;++It)Ce[Ke]=Ne&32767,Ke=(Ke<<5^we[Ne])&32767,++Ne;Le-=it-1}else Fe<=143?Fe=Fe+48:ke=U(me,ke,1),ke=ae(me,ke,fe[Fe]),Ce[Ke]=Ne&32767,++Ne}ke=ae(me,ke,0)-1}return me.l=(ke+7)/8|0,me.l}return function(me,ke){return me.length<8?oe(me,ke):I(me,ke)}}();function $e(F){var ie=Oe(50+Math.floor(F.length*1.1)),X=Pe(F,ie);return ie.slice(0,X)}var Se=de?new Uint16Array(32768):ne(32768),Re=de?new Uint16Array(32768):ne(32768),Qe=de?new Uint16Array(128):ne(128),et=1,Je=1;function ut(F,ie){var X=B(F,ie)+257;ie+=5;var Q=B(F,ie)+1;ie+=5;var se=C(F,ie)+4;ie+=4;for(var oe=0,I=de?new Uint8Array(19):ne(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,ke=de?new Uint8Array(8):ne(8),Ne=de?new Uint8Array(8):ne(8),Ce=I.length,Le=0;Le<se;++Le)I[L[Le]]=oe=ue(F,ie),me<oe&&(me=oe),ke[oe]++,ie+=3;var Ke=0;for(ke[0]=0,Le=1;Le<=me;++Le)Ne[Le]=Ke=Ke+ke[Le-1]<<1;for(Le=0;Le<Ce;++Le)(Ke=I[Le])!=0&&(we[Le]=Ne[Ke]++);var Fe=0;for(Le=0;Le<Ce;++Le)if(Fe=I[Le],Fe!=0){Ke=fe[we[Le]]>>8-Fe;for(var We=(1<<7-Fe)-1;We>=0;--We)Qe[Ke|We<<Fe]=Fe&7|Le<<3}var it=[];for(me=1;it.length<X+Q;)switch(Ke=Qe[K(F,ie)],ie+=Ke&7,Ke>>>=3){case 16:for(oe=3+_e(F,ie),ie+=2,Ke=it[it.length-1];oe-- >0;)it.push(Ke);break;case 17:for(oe=3+ue(F,ie),ie+=3;oe-- >0;)it.push(0);break;case 18:for(oe=11+K(F,ie),ie+=7;oe-- >0;)it.push(0);break;default:it.push(Ke),me<Ke&&(me=Ke);break}var bt=it.slice(0,X),St=it.slice(X);for(Le=X;Le<286;++Le)bt[Le]=0;for(Le=Q;Le<30;++Le)St[Le]=0;return et=le(bt,Se,286),Je=le(St,Re,30),ie}function ur(F,ie){if(F[0]==3&&!(F[1]&3))return[Fl(ie),2];for(var X=0,Q=0,se=CP(ie||1<<18),oe=0,I=se.length>>>0,we=0,me=0;!(Q&1);){if(Q=ue(F,X),X+=3,Q>>>1)Q>>1==1?(we=9,me=5):(X=ut(F,X),we=et,me=Je);else{X&7&&(X+=8-(X&7));var ke=F[X>>>3]|F[(X>>>3)+1]<<8;if(X+=32,ke>0)for(!ie&&I<oe+ke&&(se=W(se,oe+ke),I=se.length);ke-- >0;)se[oe++]=F[X>>>3],X+=8;continue}for(;;){!ie&&I<oe+32767&&(se=W(se,oe+32767),I=se.length);var Ne=je(F,X,we),Ce=Q>>>1==1?Me[Ne]:Se[Ne];if(X+=Ce&15,Ce>>>=4,!(Ce>>>8&255))se[oe++]=Ce;else{if(Ce==256)break;Ce-=257;var Le=Ce<8?0:Ce-4>>2;Le>5&&(Le=0);var Ke=oe+te[Ce];Le>0&&(Ke+=je(F,X,Le),X+=Le),Ne=je(F,X,me),Ce=Q>>>1==1?Ye[Ne]:Re[Ne],X+=Ce&15,Ce>>>=4;var Fe=Ce<4?0:Ce-2>>1,We=ye[Ce];for(Fe>0&&(We+=je(F,X,Fe),X+=Fe),!ie&&I<Ke&&(se=W(se,Ke+100),I=se.length);oe<Ke;)se[oe]=se[oe-We],++oe}}}return ie?[se,X+7>>>3]:[se.slice(0,oe),X+7>>>3]}function Ee(F,ie){var X=F.slice(F.l||0),Q=ur(X,ie);return F.l+=Q[1],Q[0]}function Ue(F,ie){if(F)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function lt(F,ie){var X=F;ba(X,0);var Q=[],se=[],oe={FileIndex:Q,FullPaths:se};S(oe,{root:ie.root});for(var I=X.length-4;(X[I]!=80||X[I+1]!=75||X[I+2]!=5||X[I+3]!=6)&&I>=0;)--I;X.l=I+4,X.l+=4;var we=X.read_shift(2);X.l+=6;var me=X.read_shift(4);for(X.l=me,I=0;I<we;++I){X.l+=20;var ke=X.read_shift(4),Ne=X.read_shift(4),Ce=X.read_shift(2),Le=X.read_shift(2),Ke=X.read_shift(2);X.l+=8;var Fe=X.read_shift(4),We=l(X.slice(X.l+Ce,X.l+Ce+Le));X.l+=Ce+Le+Ke;var it=X.l;X.l=Fe+4,jt(X,ke,Ne,oe,We),X.l=it}return oe}function jt(F,ie,X,Q,se){F.l+=2;var oe=F.read_shift(2),I=F.read_shift(2),we=o(F);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var me=F.read_shift(4),ke=F.read_shift(4),Ne=F.read_shift(4),Ce=F.read_shift(2),Le=F.read_shift(2),Ke="",Fe=0;Fe<Ce;++Fe)Ke+=String.fromCharCode(F[F.l++]);if(Le){var We=l(F.slice(F.l,F.l+Le));(We[21589]||{}).mt&&(we=We[21589].mt),((se||{})[21589]||{}).mt&&(we=se[21589].mt)}F.l+=Le;var it=F.slice(F.l,F.l+ke);switch(I){case 8:it=J(F,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+I)}var bt=!1;oe&8&&(me=F.read_shift(4),me==134695760&&(me=F.read_shift(4),bt=!0),ke=F.read_shift(4),Ne=F.read_shift(4)),ke!=ie&&Ue(bt,"Bad compressed size: "+ie+" != "+ke),Ne!=X&&Ue(bt,"Bad uncompressed size: "+X+" != "+Ne),Xo(Q,Ke,it,{unsafe:!0,mt:we})}function br(F,ie){var X=ie||{},Q=[],se=[],oe=Oe(1),I=X.compression?8:0,we=0,me=0,ke=0,Ne=0,Ce=0,Le=F.FullPaths[0],Ke=Le,Fe=F.FileIndex[0],We=[],it=0;for(me=1;me<F.FullPaths.length;++me)if(Ke=F.FullPaths[me].slice(Le.length),Fe=F.FileIndex[me],!(!Fe.size||!Fe.content||Ke=="Sh33tJ5")){var bt=Ne,St=Oe(Ke.length);for(ke=0;ke<Ke.length;++ke)St.write_shift(1,Ke.charCodeAt(ke)&127);St=St.slice(0,St.l),We[Ce]=YW.buf(Fe.content,0);var It=Fe.content;I==8&&(It=z(It)),oe=Oe(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,we),oe.write_shift(2,I),Fe.mt?s(oe,Fe.mt):oe.write_shift(4,0),oe.write_shift(-4,We[Ce]),oe.write_shift(4,It.length),oe.write_shift(4,Fe.content.length),oe.write_shift(2,St.length),oe.write_shift(2,0),Ne+=oe.length,Q.push(oe),Ne+=St.length,Q.push(St),Ne+=It.length,Q.push(It),oe=Oe(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,we),oe.write_shift(2,I),oe.write_shift(4,0),oe.write_shift(-4,We[Ce]),oe.write_shift(4,It.length),oe.write_shift(4,Fe.content.length),oe.write_shift(2,St.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,bt),it+=oe.l,se.push(oe),it+=St.length,se.push(St),++Ce}return oe=Oe(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ce),oe.write_shift(2,Ce),oe.write_shift(4,it),oe.write_shift(4,Ne),oe.write_shift(2,0),xn([xn(Q),xn(se),oe])}var Jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dt(F,ie){if(F.ctype)return F.ctype;var X=F.name||"",Q=X.match(/\.([^\.]+)$/);return Q&&Jt[Q[1]]||ie&&(Q=(X=ie).match(/[\.\\]([^\.\\])+$/),Q&&Jt[Q[1]])?Jt[Q[1]]:"application/octet-stream"}function Ct(F){for(var ie=yh(F),X=[],Q=0;Q<ie.length;Q+=76)X.push(ie.slice(Q,Q+76));return X.join(`\r
`)+`\r
`}function Bn(F){var ie=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var Ne=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],Q=ie.split(`\r
`),se=0;se<Q.length;++se){var oe=Q[se];if(oe.length==0){X.push("");continue}for(var I=0;I<oe.length;){var we=76,me=oe.slice(I,I+we);me.charAt(we-1)=="="?we--:me.charAt(we-2)=="="?we-=2:me.charAt(we-3)=="="&&(we-=3),me=oe.slice(I,I+we),I+=we,I<oe.length&&(me+="="),X.push(me)}}return X.join(`\r
`)}function Ur(F){for(var ie=[],X=0;X<F.length;++X){for(var Q=F[X];X<=F.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+F[++X];ie.push(Q)}for(var se=0;se<ie.length;++se)ie[se]=ie[se].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return fi(ie.join(`\r
`))}function nt(F,ie,X){for(var Q="",se="",oe="",I,we=0;we<10;++we){var me=ie[we];if(!me||me.match(/^\s*$/))break;var ke=me.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":Q=ke[2].trim();break;case"content-type":oe=ke[2].trim();break;case"content-transfer-encoding":se=ke[2].trim();break}}switch(++we,se.toLowerCase()){case"base64":I=fi(xs(ie.slice(we).join("")));break;case"quoted-printable":I=Ur(ie.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var Ne=Xo(F,Q.slice(X.length),I,{unsafe:!0});oe&&(Ne.ctype=oe)}function ji(F,ie){if(M(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ie&&ie.root||"",Q=(Lt&&Buffer.isBuffer(F)?F.toString("binary"):M(F)).split(`\r
`),se=0,oe="";for(se=0;se<Q.length;++se)if(oe=Q[se],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),X||(X=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),oe.slice(0,X.length)!=X););var I=(Q[1]||"").match(/boundary="(.*?)"/);if(!I)throw new Error("MAD cannot find boundary");var we="--"+(I[1]||""),me=[],ke=[],Ne={FileIndex:me,FullPaths:ke};S(Ne);var Ce,Le=0;for(se=0;se<Q.length;++se){var Ke=Q[se];Ke!==we&&Ke!==we+"--"||(Le++&&nt(Ne,Q.slice(Ce,se),X),Ce=se)}return Ne}function oc(F,ie){var X=ie||{},Q=X.boundary||"SheetJS";Q="------="+Q;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],oe=F.FullPaths[0],I=oe,we=F.FileIndex[0],me=1;me<F.FullPaths.length;++me)if(I=F.FullPaths[me].slice(oe.length),we=F.FileIndex[me],!(!we.size||!we.content||I=="Sh33tJ5")){I=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(it){return"_x"+it.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(it){return"_u"+it.charCodeAt(0).toString(16)+"_"});for(var ke=we.content,Ne=Lt&&Buffer.isBuffer(ke)?ke.toString("binary"):M(ke),Ce=0,Le=Math.min(1024,Ne.length),Ke=0,Fe=0;Fe<=Le;++Fe)(Ke=Ne.charCodeAt(Fe))>=32&&Ke<128&&++Ce;var We=Ce>=Le*4/5;se.push(Q),se.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+I),se.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),se.push("Content-Type: "+dt(we,I)),se.push(""),se.push(We?Bn(Ne):Ct(Ne))}return se.push(Q+`--\r
`),se.join(`\r
`)}function lc(F){var ie={};return S(ie,F),ie}function Xo(F,ie,X,Q){var se=Q&&Q.unsafe;se||S(F);var oe=!se&&Gt.find(F,ie);if(!oe){var I=F.FullPaths[0];ie.slice(0,I.length)==I?I=ie:(I.slice(-1)!="/"&&(I+="/"),I=(I+ie).replace("//","/")),oe={name:a(ie),type:2},F.FileIndex.push(oe),F.FullPaths.push(I),se||Gt.utils.cfb_gc(F)}return oe.content=X,oe.size=X?X.length:0,Q&&(Q.CLSID&&(oe.clsid=Q.CLSID),Q.mt&&(oe.mt=Q.mt),Q.ct&&(oe.ct=Q.ct)),oe}function E0(F,ie){S(F);var X=Gt.find(F,ie);if(X){for(var Q=0;Q<F.FileIndex.length;++Q)if(F.FileIndex[Q]==X)return F.FileIndex.splice(Q,1),F.FullPaths.splice(Q,1),!0}return!1}function A0(F,ie,X){S(F);var Q=Gt.find(F,ie);if(Q){for(var se=0;se<F.FileIndex.length;++se)if(F.FileIndex[se]==Q)return F.FileIndex[se].name=a(X),F.FullPaths[se]=X,!0}return!1}function O0(F){P(F,!0)}return t.find=E,t.read=N,t.parse=d,t.write=Y,t.writeFile=re,t.utils={cfb_new:lc,cfb_add:Xo,cfb_del:E0,cfb_mov:A0,cfb_gc:O0,ReadShift:Df,CheckField:rR,prep_blob:ba,bconcat:xn,use_zlib:D,_deflateRaw:$e,_inflateRaw:Ee,consts:G},t}();function XW(e){return typeof e=="string"?Tx(e):Array.isArray(e)?kW(e):e}function v0(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Tx(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?wh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([XW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=x0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function kn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function BP(e,t){for(var r=[],n=kn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function ej(e){for(var t=[],r=kn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Ex(e){for(var t=[],r=kn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function JW(e){for(var t=[],r=kn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var $m=new Date(1899,11,30,0,0,0);function ha(e,t){var r=e.getTime(),n=$m.getTime()+(e.getTimezoneOffset()-$m.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var $M=new Date,QW=$m.getTime()+($M.getTimezoneOffset()-$m.getTimezoneOffset())*6e4,UP=$M.getTimezoneOffset();function BM(e){var t=new Date;return t.setTime(e*24*60*60*1e3+QW),t.getTimezoneOffset()!==UP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-UP)*6e4),t}var KP=new Date("2017-02-19T19:06:09.000Z"),UM=isNaN(KP.getFullYear())?new Date("2/19/17"):KP,ZW=UM.getFullYear()==2017;function ea(e,t){var r=new Date(e);if(ZW)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(UM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Ax(e,t){if(Lt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function pa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=pa(e[r]));return t}function kr(e,t){for(var r="";r.length<t;)r+=e;return r}function ls(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var eG=["january","february","march","april","may","june","july","august","september","october","november","december"];function bh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&eG.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Lt?n=Ns(r):n=jW(r),Gt.utils.cfb_add(e,t,n)}Gt.utils.cfb_add(e,t,r)}else e.file(t,r)}function tj(){return Gt.utils.cfb_new()}var $r=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,tG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rj=ej(tG),nj=/[&<>'"]/g,rG=/[\u0000-\u0008\u000b-\u001f]/g;function Kt(e){var t=e+"";return t.replace(nj,function(r){return rj[r]}).replace(rG,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function VP(e){return Kt(e).replace(/ /g,"_x0020_")}var KM=/[\u0000-\u001f]/g;function nG(e){var t=e+"";return t.replace(nj,function(r){return rj[r]}).replace(/\n/g,"<br/>").replace(KM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function aG(e){var t=e+"";return t.replace(nj,function(r){return rj[r]}).replace(KM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function iG(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function sG(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function wy(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function zP(e){var t=Fl(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function HP(e){return Ns(e,"binary").toString("utf8")}var ip="foo bar baz",Cf=Lt&&(HP(ip)==wy(ip)&&HP||zP(ip)==wy(ip)&&zP)||wy,wh=Lt?function(e){return Ns(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},oG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),VM=/(^\s|\s$|\n)/;function vn(e,t){return"<"+e+(t.match(VM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function kh(e){return kn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qe(e,t,r){return"<"+e+(r!=null?kh(r):"")+(t!=null?(t.match(VM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Bb(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function lG(e,t){switch(typeof e){case"string":var r=qe("vt:lpwstr",Kt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return qe((e|0)==e?"vt:i4":"vt:r8",Kt(String(e)));case"boolean":return qe("vt:bool",e?"true":"false")}if(e instanceof Date)return qe("vt:filetime",Bb(e));throw new Error("Unable to serialize "+e)}var nn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ed=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],wa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function cG(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function uG(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var WP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},GP=Lt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ns(t)})):WP(e)}:WP,qP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ff(e,a)));return n.join("").replace(Of,"")},aj=Lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Of,""):qP(e,t,r)}:qP,YP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},zM=Lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):YP(e,t,r)}:YP,XP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(yc(e,a)));return n.join("")},y0=Lt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):XP(t,r,n)}:XP,HM=function(e,t){var r=ka(e,t);return r>0?y0(e,t+4,t+4+r-1):""},WM=HM,GM=function(e,t){var r=ka(e,t);return r>0?y0(e,t+4,t+4+r-1):""},qM=GM,YM=function(e,t){var r=2*ka(e,t);return r>0?y0(e,t+4,t+4+r-1):""},XM=YM,JM=function(t,r){var n=ka(t,r);return n>0?aj(t,r+4,r+4+n):""},QM=JM,ZM=function(e,t){var r=ka(e,t);return r>0?y0(e,t+4,t+4+r):""},eR=ZM,tR=function(e,t){return cG(e,t)},Bm=tR,ij=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Lt&&(WM=function(t,r){if(!Buffer.isBuffer(t))return HM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},qM=function(t,r){if(!Buffer.isBuffer(t))return GM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},XM=function(t,r){if(!Buffer.isBuffer(t))return YM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},QM=function(t,r){if(!Buffer.isBuffer(t))return JM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},eR=function(t,r){if(!Buffer.isBuffer(t))return ZM(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Bm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):tR(t,r)},ij=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var yc=function(e,t){return e[t]},ff=function(e,t){return e[t+1]*256+e[t]},dG=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ka=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},fl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},fG=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Df(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Lt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ff(this,u)),u+=2;e*=2;break;case"utf8":r=y0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aj(this,this.l,this.l+e);break;case"wstr":return Df.call(this,e,"dbcs");case"lpstr-ansi":r=WM(this,this.l),e=4+ka(this,this.l);break;case"lpstr-cp":r=qM(this,this.l),e=4+ka(this,this.l);break;case"lpwstr":r=XM(this,this.l),e=4+2*ka(this,this.l);break;case"lpp4":e=4+ka(this,this.l),r=QM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ka(this,this.l),r=eR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=yc(this,this.l+e++))!==0;)s.push(rp(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=ff(this,this.l+e))!==0;)s.push(rp(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=yc(this,u),this.l=u+1,l=Df.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(rp(ff(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=yc(this,u),this.l=u+1,l=Df.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(rp(yc(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=yc(this,this.l),this.l++,n;case 2:return n=(t==="i"?dG:ff)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?fl:fG)(this,this.l),this.l+=4,n):(a=ka(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Bm(this,this.l):a=Bm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=zM(this,this.l,e);break}}return this.l+=e,r}var hG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},pG=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},mG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function gG(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)mG(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,hG(this,t,this.l);break;case 8:if(n=8,r==="f"){uG(this,t,this.l);break}case 16:break;case-4:n=4,pG(this,t,this.l);break}return this.l+=n,this}function rR(e,t){var r=zM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ba(e,t){e.l=t,e.read_shift=Df,e.chk=rR,e.write_shift=gG}function Ui(e,t){e.l+=t}function Oe(e){var t=Fl(e);return ba(t,0),t}function da(){var e=[],t=Lt?256:2048,r=function(u){var d=Oe(u);return ba(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),xn(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Be(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=cZ[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&ij(r)&&e.push(r)}}function Mf(e,t,r){var n=pa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function JP(e,t,r){var n=pa(e);return n.s=Mf(n.s,t.s,r),n.e=Mf(n.e,t.s,r),n}function Rf(e,t){if(e.cRel&&e.c<0)for(e=pa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=pa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=zt(e);return!e.cRel&&e.cRel!=null&&(r=yG(r)),!e.rRel&&e.rRel!=null&&(r=xG(r)),r}function ky(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+In(e.s.c)+":"+(e.e.cRel?"":"$")+In(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+bn(e.s.r)+":"+(e.e.rRel?"":"$")+bn(e.e.r):Rf(e.s,t.biff)+":"+Rf(e.e,t.biff)}function sj(e){return parseInt(vG(e),10)-1}function bn(e){return""+(e+1)}function xG(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vG(e){return e.replace(/\$(\d+)$/,"$1")}function oj(e){for(var t=bG(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function In(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function yG(e){return e.replace(/^([A-Z])/,"$$$1")}function bG(e){return e.replace(/^\$([A-Z])/,"$1")}function wG(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function an(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function zt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Aa(e){var t=e.indexOf(":");return t==-1?{s:an(e),e:an(e)}:{s:an(e.slice(0,t)),e:an(e.slice(t+1))}}function Rr(e,t){return typeof t>"u"||typeof t=="number"?Rr(e.s,e.e):(typeof e!="string"&&(e=zt(e)),typeof t!="string"&&(t=zt(t)),e==t?e:e+":"+t)}function cr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function QP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Lo(e.z,r?ha(t):t)}catch{}try{return e.w=Lo((e.XF||{}).numFmtId||(r?14:0),r?ha(t):t)}catch{return""+t}}function vs(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?b0[e.v]||e.v:t==null?QP(e,e.v):QP(e,t))}function Jl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function nR(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?an(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=cr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=o+f,m=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Sr[14],n.cellDates?(p.t="d",p.w=Lo(p.z,ha(p.v))):(p.t="n",p.v=ha(p.v),p.w=Lo(p.z,p.v))):p.t="s";if(a)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var x=zt({c:m,r:g});s[x]&&s[x].z&&(p.z=s[x].z),s[x]=p}}}return u.s.c<1e7&&(s["!ref"]=Rr(u)),s}function td(e,t){return nR(null,e,t)}function kG(e){return e.read_shift(4,"i")}function vi(e,t){return t||(t=Oe(4)),t.write_shift(4,e),t}function Ln(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function sn(e,t){var r=!1;return t==null&&(r=!0,t=Oe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function jG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function SG(e,t){return t||(t=Oe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function lj(e,t){var r=e.l,n=e.read_shift(1),a=Ln(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(jG(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function NG(e,t){var r=!1;return t==null&&(r=!0,t=Oe(15+4*e.t.length)),t.write_shift(1,0),sn(e.t,t),r?t.slice(0,t.l):t}var TG=lj;function PG(e,t){var r=!1;return t==null&&(r=!0,t=Oe(23+4*e.t.length)),t.write_shift(1,1),sn(e.t,t),t.write_shift(4,1),SG({},t),r?t.slice(0,t.l):t}function Qa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ql(e,t){return t==null&&(t=Oe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Zl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ec(e,t){return t==null&&(t=Oe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var _G=Ln,aR=sn;function cj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Um(e,t){var r=!1;return t==null&&(r=!0,t=Oe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var EG=Ln,Ub=cj,uj=Um;function iR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Bm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):fl(t,0)>>2;return r?a/100:a}function sR(e,t){t==null&&(t=Oe(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function oR(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function AG(e,t){return t||(t=Oe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var tc=oR,rd=AG;function nd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function $l(e,t){return(t||Oe(8)).write_shift(8,e,"f")}function OG(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=BG[a];u&&(t.rgb=c_(u));break;case 2:t.rgb=c_([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Km(e,t){if(t||(t=Oe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function CG(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function DG(e,t){t||(t=Oe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var lR=2,xa=3,sp=11,Vm=19,op=64,MG=65,RG=71,IG=4108,LG=4126,gn=80,ZP={1:{n:"CodePage",t:lR},2:{n:"Category",t:gn},3:{n:"PresentationFormat",t:gn},4:{n:"ByteCount",t:xa},5:{n:"LineCount",t:xa},6:{n:"ParagraphCount",t:xa},7:{n:"SlideCount",t:xa},8:{n:"NoteCount",t:xa},9:{n:"HiddenCount",t:xa},10:{n:"MultimediaClipCount",t:xa},11:{n:"ScaleCrop",t:sp},12:{n:"HeadingPairs",t:IG},13:{n:"TitlesOfParts",t:LG},14:{n:"Manager",t:gn},15:{n:"Company",t:gn},16:{n:"LinksUpToDate",t:sp},17:{n:"CharacterCount",t:xa},19:{n:"SharedDoc",t:sp},22:{n:"HyperlinksChanged",t:sp},23:{n:"AppVersion",t:xa,p:"version"},24:{n:"DigSig",t:MG},26:{n:"ContentType",t:gn},27:{n:"ContentStatus",t:gn},28:{n:"Language",t:gn},29:{n:"Version",t:gn},255:{},2147483648:{n:"Locale",t:Vm},2147483651:{n:"Behavior",t:Vm},1919054434:{}},e_={1:{n:"CodePage",t:lR},2:{n:"Title",t:gn},3:{n:"Subject",t:gn},4:{n:"Author",t:gn},5:{n:"Keywords",t:gn},6:{n:"Comments",t:gn},7:{n:"Template",t:gn},8:{n:"LastAuthor",t:gn},9:{n:"RevNumber",t:gn},10:{n:"EditTime",t:op},11:{n:"LastPrinted",t:op},12:{n:"CreatedDate",t:op},13:{n:"ModifiedDate",t:op},14:{n:"PageCount",t:xa},15:{n:"WordCount",t:xa},16:{n:"CharCount",t:xa},17:{n:"Thumbnail",t:RG},18:{n:"Application",t:gn},19:{n:"DocSecurity",t:xa},255:{},2147483648:{n:"Locale",t:Vm},2147483651:{n:"Behavior",t:Vm},1919054434:{}};function FG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var $G=FG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),BG=pa($G),b0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},lp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function cR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function uR(e,t){var r=JW(UG),n=[],a;n[n.length]=$r,n[n.length]=qe("Types",null,{xmlns:nn.CT,"xmlns:xsd":nn.xsd,"xmlns:xsi":nn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return qe("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=qe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:lp[c][t.bookType]||lp[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:lp[c][t.bookType]||lp[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dR(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Zc(e){var t=[$r,qe("Relationships",null,{xmlns:nn.RELS})];return kn(e["!id"]).forEach(function(r){t[t.length]=qe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ut(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Mt.HLINK,Mt.XPATH,Mt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function KG(e){var t=[$r];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function t_(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function VG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function zG(e){var t=[$r];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(t_(e[r][0],e[r][1])),t.push(VG("",e[r][0]));return t.push(t_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function fR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mm.version+"</meta:generator></office:meta></office:document-meta>"}var _l=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function jy(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Kt(t),n[n.length]=r?qe(e,t,r):vn(e,t))}function hR(e,t){var r=t||{},n=[$r,qe("cp:coreProperties",null,{"xmlns:cp":nn.CORE_PROPS,"xmlns:dc":nn.dc,"xmlns:dcterms":nn.dcterms,"xmlns:dcmitype":nn.dcmitype,"xmlns:xsi":nn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&jy("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Bb(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&jy("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Bb(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=_l.length;++s){var o=_l[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&jy(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var eu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],pR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function mR(e){var t=[],r=qe;return e||(e={}),e.Application="SheetJS",t[t.length]=$r,t[t.length]=qe("Properties",null,{xmlns:nn.EXT_PROPS,"xmlns:vt":nn.vt}),eu.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Kt(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Kt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function gR(e){var t=[$r,qe("Properties",null,{xmlns:nn.CUST_PROPS,"xmlns:vt":nn.vt})];if(!e)return t.join("");var r=1;return kn(e).forEach(function(a){++r,t[t.length]=qe("property",lG(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Kt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var r_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function HG(e,t){var r=[];return kn(r_).map(function(n){for(var a=0;a<_l.length;++a)if(_l[a][1]==n)return _l[a];for(a=0;a<eu.length;++a)if(eu[a][1]==n)return eu[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(vn(r_[n[1]]||n[1],a))}}),qe("DocumentProperties",r.join(""),{xmlns:wa.o})}function WG(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&kn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<_l.length;++o)if(s==_l[o][1])return;for(o=0;o<eu.length;++o)if(s==eu[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(qe(VP(s),l,{"dt:dt":c}))}}),t&&kn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(qe(VP(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+wa.o+'">'+a.join("")+"</"+n+">"}function GG(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=Oe(8);return o.write_shift(4,n),o.write_shift(4,a),o}function n_(e,t){var r=Oe(4),n=Oe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Oe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=GG(t);break;case 31:case 80:for(n=Oe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return xn([r,n])}var xR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function a_(e,t,r){var n=Oe(8),a=[],s=[],o=8,l=0,c=Oe(8),u=Oe(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),o+=8+c.length,!t){u=Oe(8),u.write_shift(4,0),a.unshift(u);var d=[Oe(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Oe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=xn(d),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(xR.indexOf(e[l][0])>-1||pR.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=n_(g.t,h)}else{var x=qG(h);x==-1&&(x=31,h=String(h)),c=n_(x,h)}s.push(c),u=Oe(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var b=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,b),b+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),xn([n].concat(a).concat(s))}function i_(e,t,r,n,a,s){var o=Oe(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Gt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=a_(e,r,n);if(l.push(c),a){var u=a_(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(u)}return xn(l)}function YG(e,t){t||(t=Oe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function XG(e,t){return e.read_shift(t)===1}function Yn(e,t){return t||(t=Oe(2)),t.write_shift(2,+!!e),t}function vR(e){return e.read_shift(2,"u")}function $a(e,t){return t||(t=Oe(2)),t.write_shift(2,e),t}function yR(e,t,r){return r||(r=Oe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function bR(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function JG(e){var t=e.t||"",r=Oe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Oe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return xn(a)}function QG(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ZG(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):QG(e,n,r)}function eq(e,t,r){if(r.biff>5)return ZG(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function wR(e,t,r){return r||(r=Oe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function s_(e,t){t||(t=Oe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function tq(e){var t=Oe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),s_(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&s_(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Bl(e,t,r,n){return n||(n=Oe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function rq(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function nq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function kR(e,t){return t||(t=Oe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function dj(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Oe(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function aq(e,t){var r=!t||t.biff==8,n=Oe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function iq(e,t){var r=!t||t.biff>=8?2:1,n=Oe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function sq(e,t){var r=Oe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=JG(e[a]);var s=xn([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function oq(){var e=Oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function lq(e){var t=Oe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function cq(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=Oe(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function uq(e,t,r,n){var a=Oe(10);return Bl(e,t,n,a),a.write_shift(4,r),a}function dq(e,t,r,n,a){var s=!a||a.biff==8,o=Oe(8+ +s+(1+s)*r.length);return Bl(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function fq(e,t,r,n){var a=r&&r.biff==5;n||(n=Oe(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function hq(e,t){var r=t.biff==8||!t.biff?4:2,n=Oe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function o_(e,t,r,n){var a=r&&r.biff==5;n||(n=Oe(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function pq(e){var t=Oe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function mq(e,t,r,n,a,s){var o=Oe(8);return Bl(e,t,n,o),yR(r,s,o),o}function gq(e,t,r,n){var a=Oe(14);return Bl(e,t,n,a),$l(r,a),a}function xq(e,t,r){if(r.biff<8)return vq(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(rq(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function vq(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=bR(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function yq(e){var t=Oe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)kR(e[r],t);return t}function bq(e){var t=Oe(24),r=an(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return xn([t,tq(e[1])])}function wq(e){var t=e[1].Tooltip,r=Oe(10+2*(t.length+1));r.write_shift(2,2048);var n=an(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function kq(e){return e||(e=Oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function jq(e,t,r){if(!r.cellStyles)return Ui(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Sq(e,t){var r=Oe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Nq(e){for(var t=Oe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Tq(e,t,r){var n=Oe(15);return k0(n,e,t),n.write_shift(8,r,"f"),n}function Pq(e,t,r){var n=Oe(9);return k0(n,e,t),n.write_shift(2,r),n}var _q=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ej({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Fl(1);switch(c.type){case"base64":d=fi(xs(l));break;case"binary":d=fi(l);break;case"buffer":case"array":d=l;break}ba(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var b=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var v=[],w={},k=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=g?32:11;d.l<k&&d[d.l]!=13;)switch(w={},w.name=Rm.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&v.push(w),f!=2&&(d.l+=g?13:14),w.type){case"B":(!p||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,T=0;for(u[0]=[],T=0;T!=v.length;++T)u[0][T]=v[T].name;for(;m-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++S]=[],T=0,T=0;T!=v.length;++T){var P=d.slice(d.l,d.l+v[T].len);d.l+=v[T].len,ba(P,0);var _=Rm.utils.decode(y,P);switch(v[T].type){case"C":_.trim().length&&(u[S][T]=_.replace(/\s+$/,""));break;case"D":_.length===8?u[S][T]=new Date(+_.slice(0,4),+_.slice(4,6)-1,+_.slice(6,8)):u[S][T]=_;break;case"F":u[S][T]=parseFloat(_.trim());break;case"+":case"I":u[S][T]=g?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(_.trim().toUpperCase()){case"Y":case"T":u[S][T]=!0;break;case"N":case"F":u[S][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][T]="##MEMO##"+(g?parseInt(_.trim(),10):P.read_shift(4));break;case"N":_=_.replace(/\u0000/g,"").trim(),_&&_!="."&&(u[S][T]=+_||0);break;case"@":u[S][T]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[S][T]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[S][T]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][T]=-P.read_shift(-8,"f");break;case"B":if(p&&v[T].len==8){u[S][T]=P.read_shift(8,"f");break}case"G":case"P":P.l+=v[T].len;break;case"0":if(v[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[T].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=v,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=td(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Jl(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&vh(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=da(),f=qm(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=l["!cols"]||[],m=0,x=0,b=0,y=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++b;continue}if(h[m]!=null){if(++b,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var v=cr(l["!ref"]),w=[],k=[],N=[];for(m=0;m<=v.e.c-v.s.c;++m){var S="",T="",P=0,_=[];for(x=0;x<p.length;++x)p[x][m]!=null&&_.push(p[x][m]);if(_.length==0||h[m]==null){w[m]="?";continue}for(x=0;x<_.length;++x){switch(typeof _[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=_[x]instanceof Date?"D":"C";break;default:T="C"}P=Math.max(P,String(_[x]).length),S=S&&S!=T?"C":T}P>250&&(P=250),T=((g[m]||{}).DBF||{}).type,T=="C"&&g[m].DBF.len>P&&(P=g[m].DBF.len),S=="B"&&T=="N"&&(S="N",N[m]=g[m].DBF.dec,P=g[m].DBF.len),k[m]=S=="C"||T=="N"?P:s[S]||0,y+=k[m],w[m]=S}var E=d.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*b),E.write_shift(2,y),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[SM]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var A=d.next(32),R=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,R,"sbcs"),A.write_shift(1,w[m]=="?"?"C":w[m],"sbcs"),A.write_shift(4,x),A.write_shift(1,k[m]||s[w[m]]||0),A.write_shift(1,N[m]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),x+=k[m]||s[w[m]]||0}var q=d.next(264);for(q.write_shift(4,13),m=0;m<65;++m)q.write_shift(4,0);for(m=0;m<p.length;++m){var Z=d.next(y);for(Z.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(w[x]){case"L":Z.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":Z.write_shift(8,p[m][x]||0,"f");break;case"N":var V="0";for(typeof p[m][x]=="number"&&(V=p[m][x].toFixed(N[x]||0)),b=0;b<k[x]-V.length;++b)Z.write_shift(1,32);Z.write_shift(1,V,"sbcs");break;case"D":p[m][x]?(Z.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),Z.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),Z.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):Z.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[m][x]!=null?p[m][x]:"").slice(0,k[x]);for(Z.write_shift(1,G,"sbcs"),b=0;b<k[x]-G.length;++b)Z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Eq=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+kn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?OP(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:OP(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(xs(h),p);case"binary":return s(h,p);case"buffer":return s(Lt&&Buffer.isBuffer(h)?h.toString("binary"):x0(h),p);case"array":return s(Ax(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var g=h.split(/[\n\r]+/),m=-1,x=-1,b=0,y=0,v=[],w=[],k=null,N={},S=[],T=[],P=[],_=0,E;for(+p.codepage>=0&&vh(+p.codepage);b!==g.length;++b){_=0;var A=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),R=A.replace(/;;/g,"\0").split(";").map(function(L){return L.replace(/\u0000/g,";")}),q=R[0],Z;if(A.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&w.push(A.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,G=!1,re=!1,M=!1,Y=-1,ee=-1;for(y=1;y<R.length;++y)switch(R[y].charAt(0)){case"A":break;case"X":x=parseInt(R[y].slice(1))-1,G=!0;break;case"Y":for(m=parseInt(R[y].slice(1))-1,G||(x=0),E=v.length;E<=m;++E)v[E]=[];break;case"K":Z=R[y].slice(1),Z.charAt(0)==='"'?Z=Z.slice(1,Z.length-1):Z==="TRUE"?Z=!0:Z==="FALSE"?Z=!1:isNaN(ls(Z))?isNaN(bh(Z).getDate())||(Z=ea(Z)):(Z=ls(Z),k!==null&&IM(k)&&(Z=BM(Z))),V=!0;break;case"E":M=!0;var D=PY(R[y].slice(1),{r:m,c:x});v[m][x]=[v[m][x],D];break;case"S":re=!0,v[m][x]=[v[m][x],"S5S"];break;case"G":break;case"R":Y=parseInt(R[y].slice(1))-1;break;case"C":ee=parseInt(R[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}if(V&&(v[m][x]&&v[m][x].length==2?v[m][x][0]=Z:v[m][x]=Z,k=null),re){if(M)throw new Error("SYLK shared formula cannot have own formula");var J=Y>-1&&v[Y][ee];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");v[m][x][1]=_Y(J[1],{r:m-Y,c:x-ee})}break;case"F":var z=0;for(y=1;y<R.length;++y)switch(R[y].charAt(0)){case"X":x=parseInt(R[y].slice(1))-1,++z;break;case"Y":for(m=parseInt(R[y].slice(1))-1,E=v.length;E<=m;++E)v[E]=[];break;case"M":_=parseInt(R[y].slice(1))/20;break;case"F":break;case"G":break;case"P":k=w[parseInt(R[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=R[y].slice(1).split(" "),E=parseInt(P[0],10);E<=parseInt(P[1],10);++E)_=parseInt(P[2],10),T[E-1]=_===0?{hidden:!0}:{wch:_},fj(T[E-1]);break;case"C":x=parseInt(R[y].slice(1))-1,T[x]||(T[x]={});break;case"R":m=parseInt(R[y].slice(1))-1,S[m]||(S[m]={}),_>0?(S[m].hpt=_,S[m].hpx=PR(_)):_===0&&(S[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}z<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}}return S.length>0&&(N["!rows"]=S),T.length>0&&(N["!cols"]=T),p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),[v,N]}function o(h,p){var g=a(h,p),m=g[0],x=g[1],b=td(m,p);return kn(x).forEach(function(y){b[y]=x[y]}),b}function l(h,p){return Jl(o(h,p),p)}function c(h,p,g,m){var x="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+pj(h.f,{r:g,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=zm(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Hm(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Wm(g.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],x=cr(h["!ref"]),b,y=Array.isArray(h),v=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var k=x.s.c;k<=x.e.c;++k){var N=zt({r:w,c:k});b=y?(h[w]||[])[k]:h[N],!(!b||b.v==null&&(!b.f||b.F))&&m.push(c(b,h,w,k))}return g.join(v)+v+m.join(v)+v+"E"+v}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),Aq=function(){function e(s,o){switch(o.type){case"base64":return t(xs(s),o);case"binary":return t(s,o);case"buffer":return t(Lt&&Buffer.isBuffer(s)?s.toString("binary"):x0(s),o);case"array":return t(Ax(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(ls(g))?isNaN(bh(g).getDate())?f[c][u]=g:f[c][u]=ea(g):f[c][u]=ls(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return td(e(s,o),o)}function n(s,o){return Jl(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=cr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=zt({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Lo(f.z||Sr[14],ha(ea(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,y=u.join(b);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),jR=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,x=0,b=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var v=an(y[1]);if(b.length<=v.r)for(g=b.length;g<=v.r;++g)b[g]||(b[g]=[]);switch(g=v.r,m=v.c,y[2]){case"t":b[g][m]=e(y[3]);break;case"v":b[g][m]=+y[3];break;case"vtf":var w=y[y.length-1];case"vtc":switch(y[3]){case"nl":b[g][m]=!!+y[4];break;default:b[g][m]=+y[4];break}y[2]=="vtf"&&(b[g][m]=[b[g][m],w])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return td(r(f,h),h)}function a(f,h){return Jl(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",x=Aa(f["!ref"]),b=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var v=x.s.c;v<=x.e.c;++v)if(m=zt({r:y,c:v}),g=b?(f[y]||[])[v]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var w=ha(ea(g.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=g.w||Lo(g.z||Sr[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Oq=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(ls(d))?isNaN(bh(d).getDate())?f[h][p]=d:f[h][p]=ea(d):f[h][p]=ls(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var x=10,b=0,y=0;y<=m;++y)b=g[y].indexOf(" "),b==-1?b=g[y].length:b++,x=Math.max(x,b);for(y=0;y<=m;++y){p[y]=[];var v=0;for(e(g[y].slice(0,x).trim(),p,y,v,h),v=1;v<=(g[y].length-x)/10+1;++v)e(g[y].slice(x+(v-1)*10,x+v*10).trim(),p,y,v,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,b=0,y=0,v=0,w=0,k=p.charCodeAt(0),N=!1,S=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=h.dateNF!=null?GW(h.dateNF):null;function _(){var E=d.slice(v,w),A={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)A.t="z";else if(h.raw)A.t="s",A.v=E;else if(E.trim().length===0)A.t="s",A.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(A.t="s",A.v=E.slice(2,-1).replace(/""/g,'"')):EY(E)?(A.t="n",A.f=E.slice(1)):(A.t="s",A.v=E);else if(E=="TRUE")A.t="b",A.v=!0;else if(E=="FALSE")A.t="b",A.v=!1;else if(!isNaN(y=ls(E)))A.t="n",h.cellText!==!1&&(A.w=E),A.v=y;else if(!isNaN(bh(E).getDate())||P&&E.match(P)){A.z=h.dateNF||Sr[14];var R=0;P&&E.match(P)&&(E=qW(E,h.dateNF,E.match(P)||[]),R=1),h.cellDates?(A.t="d",A.v=ea(E,R)):(A.t="n",A.v=ha(ea(E,R))),h.cellText!==!1&&(A.w=Lo(A.z,A.v instanceof Date?ha(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=E;if(A.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][b]=A):g[zt({c:b,r:x})]=A),v=w+1,T=d.charCodeAt(v),m.e.c<b&&(m.e.c=b),m.e.r<x&&(m.e.r=x),S==k)++b;else if(b=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;w<d.length;++w)switch(S=d.charCodeAt(w)){case 34:T===34&&(N=!N);break;case k:case 10:case 13:if(!N&&_())break e;break}return w-v>0&&_(),g["!ref"]=Rr(m),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):td(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:VZ(d,f);switch(f.type){case"base64":h=xs(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Rm<"u"||(h=Lt&&Buffer.isBuffer(d)?d.toString("binary"):x0(d));break;case"array":h=Ax(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Cf(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Cf(h):f.type=="binary"&&typeof Rm<"u",h.slice(0,19)=="socialcalc:version:"?jR.to_sheet(f.type=="string"?h:Cf(h),f):o(h,f)}function c(d,f){return Jl(l(d,f),f)}function u(d){for(var f=[],h=cr(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],b=h.s.c;b<=h.e.c;++b){var y=zt({r:m,c:b});if(p=g?(d[m]||[])[b]:d[y],!p||p.v==null){x.push("          ");continue}for(var v=(p.w||(vs(p),p.w)||"").slice(0,10);v.length<10;)v+=" ";x.push(v+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),l_=function(){function e(D,J,z){if(D){ba(D,D.l||0);for(var L=z.Enum||Y;D.l<D.length;){var te=D.read_shift(2),ye=L[te]||L[65535],Te=D.read_shift(2),de=D.l+Te,fe=ye.f&&ye.f(D,Te,z);if(D.l=de,J(fe,ye,te))return}}}function t(D,J){switch(J.type){case"base64":return r(fi(xs(D)),J);case"binary":return r(fi(D),J);case"buffer":case"array":return r(D,J)}throw"Unsupported type "+J.type}function r(D,J){if(!D)return D;var z=J||{},L=z.dense?[]:{},te="Sheet1",ye="",Te=0,de={},fe=[],be=[],he={s:{r:0,c:0},e:{r:0,c:0}},_e=z.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)z.Enum=Y,e(D,function(K,je,H){switch(H){case 0:z.vers=K,K>=4096&&(z.qpro=!0);break;case 6:he=K;break;case 204:K&&(ye=K);break;case 222:ye=K;break;case 15:case 51:z.qpro||(K[1].v=K[1].v.slice(1));case 13:case 14:case 16:H==14&&(K[2]&112)==112&&(K[2]&15)>1&&(K[2]&15)<15&&(K[1].z=z.dateNF||Sr[14],z.cellDates&&(K[1].t="d",K[1].v=BM(K[1].v))),z.qpro&&K[3]>Te&&(L["!ref"]=Rr(he),de[te]=L,fe.push(te),L=z.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},Te=K[3],te=ye||"Sheet"+(Te+1),ye="");var U=z.dense?(L[K[0].r]||[])[K[0].c]:L[zt(K[0])];if(U){U.t=K[1].t,U.v=K[1].v,K[1].z!=null&&(U.z=K[1].z),K[1].f!=null&&(U.f=K[1].f);break}z.dense?(L[K[0].r]||(L[K[0].r]=[]),L[K[0].r][K[0].c]=K[1]):L[zt(K[0])]=K[1];break}},z);else if(D[2]==26||D[2]==14)z.Enum=ee,D[2]==14&&(z.qpro=!0,D.l=0),e(D,function(K,je,H){switch(H){case 204:te=K;break;case 22:K[1].v=K[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(K[3]>Te&&(L["!ref"]=Rr(he),de[te]=L,fe.push(te),L=z.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},Te=K[3],te="Sheet"+(Te+1)),_e>0&&K[0].r>=_e)break;z.dense?(L[K[0].r]||(L[K[0].r]=[]),L[K[0].r][K[0].c]=K[1]):L[zt(K[0])]=K[1],he.e.c<K[0].c&&(he.e.c=K[0].c),he.e.r<K[0].r&&(he.e.r=K[0].r);break;case 27:K[14e3]&&(be[K[14e3][0]]=K[14e3][1]);break;case 1537:be[K[0]]=K[1],K[0]==Te&&(te=K[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(L["!ref"]=Rr(he),de[ye||te]=L,fe.push(ye||te),!be.length)return{SheetNames:fe,Sheets:de};for(var ue={},C=[],B=0;B<be.length;++B)de[fe[B]]?(C.push(be[B]||fe[B]),ue[be[B]]=de[be[B]]||de[fe[B]]):(C.push(be[B]),ue[be[B]]={"!ref":"A1"});return{SheetNames:C,Sheets:ue}}function n(D,J){var z=J||{};if(+z.codepage>=0&&vh(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var L=da(),te=cr(D["!ref"]),ye=Array.isArray(D),Te=[];Xe(L,0,s(1030)),Xe(L,6,c(te));for(var de=Math.min(te.e.r,8191),fe=te.s.r;fe<=de;++fe)for(var be=bn(fe),he=te.s.c;he<=te.e.c;++he){fe===te.s.r&&(Te[he]=In(he));var _e=Te[he]+be,ue=ye?(D[fe]||[])[he]:D[_e];if(!(!ue||ue.t=="z"))if(ue.t=="n")(ue.v|0)==ue.v&&ue.v>=-32768&&ue.v<=32767?Xe(L,13,p(fe,he,ue.v)):Xe(L,14,m(fe,he,ue.v));else{var C=vs(ue);Xe(L,15,f(fe,he,C.slice(0,239)))}}return Xe(L,1),L.end()}function a(D,J){var z=J||{};if(+z.codepage>=0&&vh(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var L=da();Xe(L,0,o(D));for(var te=0,ye=0;te<D.SheetNames.length;++te)(D.Sheets[D.SheetNames[te]]||{})["!ref"]&&Xe(L,27,M(D.SheetNames[te],ye++));var Te=0;for(te=0;te<D.SheetNames.length;++te){var de=D.Sheets[D.SheetNames[te]];if(!(!de||!de["!ref"])){for(var fe=cr(de["!ref"]),be=Array.isArray(de),he=[],_e=Math.min(fe.e.r,8191),ue=fe.s.r;ue<=_e;++ue)for(var C=bn(ue),B=fe.s.c;B<=fe.e.c;++B){ue===fe.s.r&&(he[B]=In(B));var K=he[B]+C,je=be?(de[ue]||[])[B]:de[K];if(!(!je||je.t=="z"))if(je.t=="n")Xe(L,23,_(ue,B,Te,je.v));else{var H=vs(je);Xe(L,22,S(ue,B,Te,H.slice(0,239)))}}++Te}}return Xe(L,1),L.end()}function s(D){var J=Oe(2);return J.write_shift(2,D),J}function o(D){var J=Oe(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var z=0,L=0,te=0,ye=0;ye<D.SheetNames.length;++ye){var Te=D.SheetNames[ye],de=D.Sheets[Te];if(!(!de||!de["!ref"])){++te;var fe=Aa(de["!ref"]);z<fe.e.r&&(z=fe.e.r),L<fe.e.c&&(L=fe.e.c)}}return z>8191&&(z=8191),J.write_shift(2,z),J.write_shift(1,te),J.write_shift(1,L),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function l(D,J,z){var L={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&z.qpro?(L.s.c=D.read_shift(1),D.l++,L.s.r=D.read_shift(2),L.e.c=D.read_shift(1),D.l++,L.e.r=D.read_shift(2),L):(L.s.c=D.read_shift(2),L.s.r=D.read_shift(2),J==12&&z.qpro&&(D.l+=2),L.e.c=D.read_shift(2),L.e.r=D.read_shift(2),J==12&&z.qpro&&(D.l+=2),L.s.c==65535&&(L.s.c=L.e.c=L.s.r=L.e.r=0),L)}function c(D){var J=Oe(8);return J.write_shift(2,D.s.c),J.write_shift(2,D.s.r),J.write_shift(2,D.e.c),J.write_shift(2,D.e.r),J}function u(D,J,z){var L=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(L[0].c=D.read_shift(1),L[3]=D.read_shift(1),L[0].r=D.read_shift(2),D.l+=2):(L[2]=D.read_shift(1),L[0].c=D.read_shift(2),L[0].r=D.read_shift(2)),L}function d(D,J,z){var L=D.l+J,te=u(D,J,z);if(te[1].t="s",z.vers==20768){D.l++;var ye=D.read_shift(1);return te[1].v=D.read_shift(ye,"utf8"),te}return z.qpro&&D.l++,te[1].v=D.read_shift(L-D.l,"cstr"),te}function f(D,J,z){var L=Oe(7+z.length);L.write_shift(1,255),L.write_shift(2,J),L.write_shift(2,D),L.write_shift(1,39);for(var te=0;te<L.length;++te){var ye=z.charCodeAt(te);L.write_shift(1,ye>=128?95:ye)}return L.write_shift(1,0),L}function h(D,J,z){var L=u(D,J,z);return L[1].v=D.read_shift(2,"i"),L}function p(D,J,z){var L=Oe(7);return L.write_shift(1,255),L.write_shift(2,J),L.write_shift(2,D),L.write_shift(2,z,"i"),L}function g(D,J,z){var L=u(D,J,z);return L[1].v=D.read_shift(8,"f"),L}function m(D,J,z){var L=Oe(13);return L.write_shift(1,255),L.write_shift(2,J),L.write_shift(2,D),L.write_shift(8,z,"f"),L}function x(D,J,z){var L=D.l+J,te=u(D,J,z);if(te[1].v=D.read_shift(8,"f"),z.qpro)D.l=L;else{var ye=D.read_shift(2);w(D.slice(D.l,D.l+ye),te),D.l+=ye}return te}function b(D,J,z){var L=J&32768;return J&=-32769,J=(L?D:0)+(J>=8192?J-16384:J),(L?"":"$")+(z?In(J):bn(J))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(D,J){ba(D,0);for(var z=[],L=0,te="",ye="",Te="",de="";D.l<D.length;){var fe=D[D.l++];switch(fe){case 0:z.push(D.read_shift(8,"f"));break;case 1:ye=b(J[0].c,D.read_shift(2),!0),te=b(J[0].r,D.read_shift(2),!1),z.push(ye+te);break;case 2:{var be=b(J[0].c,D.read_shift(2),!0),he=b(J[0].r,D.read_shift(2),!1);ye=b(J[0].c,D.read_shift(2),!0),te=b(J[0].r,D.read_shift(2),!1),z.push(be+he+":"+ye+te)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(D.read_shift(2));break;case 6:{for(var _e="";fe=D[D.l++];)_e+=String.fromCharCode(fe);z.push('"'+_e.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:de=z.pop(),Te=z.pop(),z.push(["AND","OR"][fe-20]+"("+Te+","+de+")");break;default:if(fe<32&&v[fe])de=z.pop(),Te=z.pop(),z.push(Te+v[fe]+de);else if(y[fe]){if(L=y[fe][1],L==69&&(L=D[D.l++]),L>z.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+z.join("|")+"|");return}var ue=z.slice(-L);z.length-=L,z.push(y[fe][0]+"("+ue.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}z.length==1?J[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function k(D){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=D.read_shift(2),J[3]=D[D.l++],J[0].c=D[D.l++],J}function N(D,J){var z=k(D);return z[1].t="s",z[1].v=D.read_shift(J-4,"cstr"),z}function S(D,J,z,L){var te=Oe(6+L.length);te.write_shift(2,D),te.write_shift(1,z),te.write_shift(1,J),te.write_shift(1,39);for(var ye=0;ye<L.length;++ye){var Te=L.charCodeAt(ye);te.write_shift(1,Te>=128?95:Te)}return te.write_shift(1,0),te}function T(D,J){var z=k(D);z[1].v=D.read_shift(2);var L=z[1].v>>1;if(z[1].v&1)switch(L&7){case 0:L=(L>>3)*5e3;break;case 1:L=(L>>3)*500;break;case 2:L=(L>>3)/20;break;case 3:L=(L>>3)/200;break;case 4:L=(L>>3)/2e3;break;case 5:L=(L>>3)/2e4;break;case 6:L=(L>>3)/16;break;case 7:L=(L>>3)/64;break}return z[1].v=L,z}function P(D,J){var z=k(D),L=D.read_shift(4),te=D.read_shift(4),ye=D.read_shift(2);if(ye==65535)return L===0&&te===3221225472?(z[1].t="e",z[1].v=15):L===0&&te===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var Te=ye&32768;return ye=(ye&32767)-16446,z[1].v=(1-Te*2)*(te*Math.pow(2,ye+32)+L*Math.pow(2,ye)),z}function _(D,J,z,L){var te=Oe(14);if(te.write_shift(2,D),te.write_shift(1,z),te.write_shift(1,J),L==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ye=0,Te=0,de=0,fe=0;return L<0&&(ye=1,L=-L),Te=Math.log2(L)|0,L/=Math.pow(2,Te-31),fe=L>>>0,fe&2147483648||(L/=2,++Te,fe=L>>>0),L-=fe,fe|=2147483648,fe>>>=0,L*=Math.pow(2,32),de=L>>>0,te.write_shift(4,de),te.write_shift(4,fe),Te+=16383+(ye?32768:0),te.write_shift(2,Te),te}function E(D,J){var z=P(D);return D.l+=J-14,z}function A(D,J){var z=k(D),L=D.read_shift(4);return z[1].v=L>>6,z}function R(D,J){var z=k(D),L=D.read_shift(8,"f");return z[1].v=L,z}function q(D,J){var z=R(D);return D.l+=J-10,z}function Z(D,J){return D[D.l+J-1]==0?D.read_shift(J,"cstr"):""}function V(D,J){var z=D[D.l++];z>J-1&&(z=J-1);for(var L="";L.length<z;)L+=String.fromCharCode(D[D.l++]);return L}function G(D,J,z){if(!(!z.qpro||J<21)){var L=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var te=D.read_shift(J-21,"cstr");return[L,te]}}function re(D,J){for(var z={},L=D.l+J;D.l<L;){var te=D.read_shift(2);if(te==14e3){for(z[te]=[0,""],z[te][0]=D.read_shift(2);D[D.l];)z[te][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return z}function M(D,J){var z=Oe(5+D.length);z.write_shift(2,14e3),z.write_shift(2,J);for(var L=0;L<D.length;++L){var te=D.charCodeAt(L);z[z.l++]=te>127?95:te}return z[z.l++]=0,z}var Y={0:{n:"BOF",f:vR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Z},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Cq=/^\s|\s$|[\t\n\r]/;function SR(e,t){if(!t.bookSST)return"";var r=[$r];r[r.length]=qe("sst",null,{xmlns:ed[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(Cq)&&(s+=' xml:space="preserve"'),s+=">"+Kt(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Dq(e){return[e.read_shift(4),e.read_shift(4)]}function Mq(e,t){return t||(t=Oe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Rq=NG;function Iq(e){var t=da();Be(t,159,Mq(e));for(var r=0;r<e.length;++r)Be(t,19,Rq(e[r]));return Be(t,160),t.end()}function Lq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function NR(e){var t=0,r,n=Lq(e),a=n.length+1,s,o,l,c,u;for(r=Fl(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Fq=function(){function e(a,s){switch(s.type){case"base64":return t(xs(a),s);case"binary":return t(a,s);case"buffer":return t(Lt&&Buffer.isBuffer(a)?a.toString("binary"):x0(a),s);case"array":return t(Ax(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var b={v:x,t:"s"};Array.isArray(l)?l[f][m]=b:l[zt({r:f,c:m})]=b}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Rr(u),l}function r(a,s){return Jl(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=cr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=zt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(vs(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function c_(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var $q=6,cs=$q;function zm(e){return Math.floor((e+Math.round(128/cs)/256)*cs)}function Hm(e){return Math.floor((e-5)/cs*100+.5)/100}function Kb(e){return Math.round((e*cs+5)/cs*256)/256}function fj(e){e.width?(e.wpx=zm(e.width),e.wch=Hm(e.wpx),e.MDW=cs):e.wpx?(e.wch=Hm(e.wpx),e.width=Kb(e.wch),e.MDW=cs):typeof e.wch=="number"&&(e.width=Kb(e.wch),e.wpx=zm(e.width),e.MDW=cs),e.customWidth&&delete e.customWidth}var Bq=96,TR=Bq;function Wm(e){return e*96/TR}function PR(e){return e*TR/96}function Uq(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=qe("numFmt",null,{numFmtId:n,formatCode:Kt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Kq(e){var t=[];return t[t.length]=qe("cellXfs",null),e.forEach(function(r){t[t.length]=qe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function _R(e,t){var r=[$r,qe("styleSheet",null,{xmlns:ed[0],"xmlns:vt":nn.vt})],n;return e.SSF&&(n=Uq(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Kq(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Vq(e,t){var r=e.read_shift(2),n=Ln(e);return[r,n]}function zq(e,t,r){r||(r=Oe(6+4*t.length)),r.write_shift(2,e),sn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Hq(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=CG(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=OG(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ln(e),n}function Wq(e,t){t||(t=Oe(25+4*32)),t.write_shift(2,e.sz*20),DG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Km(e.color,t);var n=0;return n=2,t.write_shift(1,n),sn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Gq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Sy,qq=Ui;function u_(e,t){t||(t=Oe(4*3+8*7+16*1)),Sy||(Sy=ej(Gq));var r=Sy[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Km({auto:1},t),Km({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Yq(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function ER(e,t,r){r||(r=Oe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Od(e,t){return t||(t=Oe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Xq=Ui;function Jq(e,t){return t||(t=Oe(51)),t.write_shift(1,0),Od(null,t),Od(null,t),Od(null,t),Od(null,t),Od(null,t),t.length>t.l?t.slice(0,t.l):t}function Qq(e,t){return t||(t=Oe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Um(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Zq(e,t,r){var n=Oe(2052);return n.write_shift(4,e),Um(t,n),Um(r,n),n.length>n.l?n.slice(0,n.l):n}function eY(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Be(e,615,vi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Be(e,44,zq(a,t[a]))}),Be(e,616))}}function tY(e){var t=1;Be(e,611,vi(t)),Be(e,43,Wq({sz:12,color:{theme:1},name:"Calibri",family:2})),Be(e,612)}function rY(e){var t=2;Be(e,603,vi(t)),Be(e,45,u_({patternType:"none"})),Be(e,45,u_({patternType:"gray125"})),Be(e,604)}function nY(e){var t=1;Be(e,613,vi(t)),Be(e,46,Jq()),Be(e,614)}function aY(e){var t=1;Be(e,626,vi(t)),Be(e,47,ER({numFmtId:0},65535)),Be(e,627)}function iY(e,t){Be(e,617,vi(t.length)),t.forEach(function(r){Be(e,47,ER(r,0))}),Be(e,618)}function sY(e){var t=1;Be(e,619,vi(t)),Be(e,48,Qq({xfId:0,name:"Normal"})),Be(e,620)}function oY(e){var t=0;Be(e,505,vi(t)),Be(e,506)}function lY(e){var t=0;Be(e,508,Zq(t,"TableStyleMedium9","PivotStyleMedium4")),Be(e,509)}function cY(e,t){var r=da();return Be(r,278),eY(r,e.SSF),tY(r),rY(r),nY(r),aY(r),iY(r,t.cellXfs),sY(r),oY(r),lY(r),Be(r,279),r.end()}function AR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[$r];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function uY(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ln(e)}}function dY(e){var t=Oe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),sn(e.name,t),t.slice(0,t.l)}function fY(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function hY(e){var t=Oe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function pY(e,t){var r=Oe(8+2*t.length);return r.write_shift(4,e),sn(t,r),r.slice(0,r.l)}function mY(e){return e.l+=4,e.read_shift(4)!=0}function gY(e,t){var r=Oe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function xY(){var e=da();return Be(e,332),Be(e,334,vi(1)),Be(e,335,dY({name:"XLDAPR",version:12e4,flags:3496657072})),Be(e,336),Be(e,339,pY(1,"XLDAPR")),Be(e,52),Be(e,35,vi(514)),Be(e,4096,vi(0)),Be(e,4097,$a(1)),Be(e,36),Be(e,53),Be(e,340),Be(e,337,gY(1)),Be(e,51,hY([[1,0]])),Be(e,338),Be(e,333),e.end()}function OR(){var e=[$r];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function vY(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=zt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Fc=1024;function CR(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[qe("xml",null,{"xmlns:v":wa.v,"xmlns:o":wa.o,"xmlns:x":wa.x,"xmlns:mv":wa.mv}).replace(/\/>/,">"),qe("o:shapelayout",qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qe("v:shapetype",[qe("v:stroke",null,{joinstyle:"miter"}),qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Fc<e*1e3;)Fc+=1e3;return t.forEach(function(s){var o=an(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=qe("v:fill",c,l),d={on:"t",obscured:"t"};++Fc,a=a.concat(["<v:shape"+kh({id:"_x0000_s"+Fc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,qe("v:shadow",null,d),qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),vn("x:AutoFill","False"),vn("x:Row",String(o.r)),vn("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function DR(e){var t=[$r,qe("comments",null,{xmlns:ed[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Kt(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Kt(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(vn("t",Kt(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(vn("t",Kt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function yY(e,t,r){var n=[$r,qe("ThreadedComments",null,{xmlns:nn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(qe("threadedComment",vn("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function bY(e){var t=[$r,qe("personList",null,{xmlns:nn.TCMNT,"xmlns:x":ed[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function wY(e){var t={};t.iauthor=e.read_shift(4);var r=tc(e);return t.rfx=r.s,t.ref=zt(r.s),e.l+=16,t}function kY(e,t){return t==null&&(t=Oe(36)),t.write_shift(4,e[1].iauthor),rd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var jY=Ln;function SY(e){return sn(e.slice(0,54))}function NY(e){var t=da(),r=[];return Be(t,628),Be(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Be(t,632,SY(a.a)))})}),Be(t,631),Be(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:an(n[0]),e:an(n[0])};Be(t,635,kY([s,a])),a.t&&a.t.length>0&&Be(t,637,PG(a)),Be(t,636),delete a.iauthor})}),Be(t,634),Be(t,629),t.end()}function TY(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Gt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var MR=["xlsb","xlsm","xlam","biff8","xla"],PY=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+In(d)+(c?"":"$")+bn(u)}return function(a,s){return t=s,a.replace(e,r)}}(),hj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pj=function(){return function(t,r){return t.replace(hj,function(n,a,s,o,l,c){var u=oj(o)-(s?0:r.c),d=sj(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function _Y(e,t){return e.replace(hj,function(r,n,a,s,o,l){return n+(a=="$"?a+s:In(oj(s)+t.c))+(o=="$"?o+l:bn(sj(l)+t.r))})}function EY(e){return e.length!=1}function Or(e){e.l+=1}function Fo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function RR(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return IR(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Fo(e),l=Fo(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function IR(e){var t=Fo(e),r=Fo(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function AY(e,t,r){if(r.biff<8)return IR(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Fo(e),o=Fo(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function LR(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return OY(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Fo(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function OY(e){var t=Fo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function CY(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function DY(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return MY(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function MY(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function RY(e,t,r){var n=(e[e.l++]&96)>>5,a=RR(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function IY(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=RR(e,s,r);return[n,a,o]}function LY(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function FY(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function $Y(e,t,r){var n=(e[e.l++]&96)>>5,a=AY(e,t-1,r);return[n,a]}function BY(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function d_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function UY(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function KY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function VY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function zY(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function HY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function FR(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function WY(e){return e.read_shift(2),FR(e)}function GY(e){return e.read_shift(2),FR(e)}function qY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=LR(e,0,r);return[n,a]}function YY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=DY(e,0,r);return[n,a]}function XY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=LR(e,0,r);return[n,a,s]}function JY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[JX[a],UR[a],n]}function QY(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ZY(e);return[a,(s[0]===0?UR:XX)[s[1]]]}function ZY(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function eX(e,t,r){e.l+=r&&r.biff==2?3:4}function tX(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function rX(e){return e.l++,b0[e.read_shift(1)]}function nX(e){return e.l++,e.read_shift(2)}function aX(e){return e.l++,e.read_shift(1)!==0}function iX(e){return e.l++,nd(e)}function sX(e,t,r){return e.l++,bR(e,t-1,r)}function oX(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=XG(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=b0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=nd(e);break;case 2:r[1]=eq(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function lX(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?tc:nq)(e));return a}function cX(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=oX(e,r.biff);return o}function uX(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function dX(e,t,r){if(r.biff==5)return fX(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function fX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function hX(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function pX(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function mX(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function gX(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var xX=Ui,vX=Ui,yX=Ui;function w0(e,t,r){return e.l+=2,[CY(e)]}function mj(e){return e.l+=6,[]}var bX=w0,wX=mj,kX=mj,jX=w0;function $R(e){return e.l+=2,[vR(e),e.read_shift(2)&1]}var SX=w0,NX=$R,TX=mj,PX=w0,_X=w0,EX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AX(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=EX[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function OX(e){return e.l+=2,[e.read_shift(4)]}function CX(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function DX(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function MX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function RX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function IX(e){return e.l+=4,[0,0]}var f_={1:{n:"PtgExp",f:tX},2:{n:"PtgTbl",f:yX},3:{n:"PtgAdd",f:Or},4:{n:"PtgSub",f:Or},5:{n:"PtgMul",f:Or},6:{n:"PtgDiv",f:Or},7:{n:"PtgPower",f:Or},8:{n:"PtgConcat",f:Or},9:{n:"PtgLt",f:Or},10:{n:"PtgLe",f:Or},11:{n:"PtgEq",f:Or},12:{n:"PtgGe",f:Or},13:{n:"PtgGt",f:Or},14:{n:"PtgNe",f:Or},15:{n:"PtgIsect",f:Or},16:{n:"PtgUnion",f:Or},17:{n:"PtgRange",f:Or},18:{n:"PtgUplus",f:Or},19:{n:"PtgUminus",f:Or},20:{n:"PtgPercent",f:Or},21:{n:"PtgParen",f:Or},22:{n:"PtgMissArg",f:Or},23:{n:"PtgStr",f:sX},26:{n:"PtgSheet",f:CX},27:{n:"PtgEndSheet",f:DX},28:{n:"PtgErr",f:rX},29:{n:"PtgBool",f:aX},30:{n:"PtgInt",f:nX},31:{n:"PtgNum",f:iX},32:{n:"PtgArray",f:BY},33:{n:"PtgFunc",f:JY},34:{n:"PtgFuncVar",f:QY},35:{n:"PtgName",f:uX},36:{n:"PtgRef",f:qY},37:{n:"PtgArea",f:RY},38:{n:"PtgMemArea",f:hX},39:{n:"PtgMemErr",f:xX},40:{n:"PtgMemNoMem",f:vX},41:{n:"PtgMemFunc",f:pX},42:{n:"PtgRefErr",f:mX},43:{n:"PtgAreaErr",f:LY},44:{n:"PtgRefN",f:YY},45:{n:"PtgAreaN",f:$Y},46:{n:"PtgMemAreaN",f:MX},47:{n:"PtgMemNoMemN",f:RX},57:{n:"PtgNameX",f:dX},58:{n:"PtgRef3d",f:XY},59:{n:"PtgArea3d",f:IY},60:{n:"PtgRefErr3d",f:gX},61:{n:"PtgAreaErr3d",f:FY},255:{}},LX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},FX={1:{n:"PtgElfLel",f:$R},2:{n:"PtgElfRw",f:PX},3:{n:"PtgElfCol",f:bX},6:{n:"PtgElfRwV",f:_X},7:{n:"PtgElfColV",f:jX},10:{n:"PtgElfRadical",f:SX},11:{n:"PtgElfRadicalS",f:TX},13:{n:"PtgElfColS",f:wX},15:{n:"PtgElfColSV",f:kX},16:{n:"PtgElfRadicalLel",f:NX},25:{n:"PtgList",f:AX},29:{n:"PtgSxName",f:OX},255:{}},$X={0:{n:"PtgAttrNoop",f:IX},1:{n:"PtgAttrSemi",f:HY},2:{n:"PtgAttrIf",f:VY},4:{n:"PtgAttrChoose",f:UY},8:{n:"PtgAttrGoto",f:KY},16:{n:"PtgAttrSum",f:eX},32:{n:"PtgAttrBaxcel",f:d_},33:{n:"PtgAttrBaxcel",f:d_},64:{n:"PtgAttrSpace",f:WY},65:{n:"PtgAttrSpaceSemi",f:GY},128:{n:"PtgAttrIfError",f:zY},255:{}};function BX(e,t,r,n){if(n.biff<8)return Ui(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=cX(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=lX(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Ui(e,t)),s}function UX(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=f_[s]||f_[LX[s]],(s===24||s===25)&&(a=(s===24?FX:$X)[e[e.l+1]]),!a||!a.f?Ui(e,t):o.push([a.n,a.f(e,t,r)]);return o}function KX(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var VX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function BR(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function h_(e,t,r){var n=BR(e,t,r);return n=="#REF"?n:zX(n,r)}function yu(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",b=0,y=e[0].length;b<y;++b){var v=e[0][b];switch(v[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=kr(" ",e[0][m][1][1]);break;case 1:x=kr("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+VX[v[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Mf(v[1][1],o,a),l.push(Rf(d,s));break;case"PtgRefN":d=r?Mf(v[1][1],r,a):v[1][1],l.push(Rf(d,s));break;case"PtgRef3d":f=v[1][1],d=Mf(v[1][2],o,a),g=h_(n,f,a),l.push(g+"!"+Rf(d,s));break;case"PtgFunc":case"PtgFuncVar":var w=v[1][0],k=v[1][1];w||(w=0),w&=127;var N=w==0?[]:l.slice(-w);l.length-=w,k==="User"&&(k=N.shift()),l.push(k+"("+N.join(",")+")");break;case"PtgBool":l.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(v[1]);break;case"PtgNum":l.push(String(v[1]));break;case"PtgStr":l.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(v[1]);break;case"PtgAreaN":p=JP(v[1][1],r?{s:r}:o,a),l.push(ky(p,a));break;case"PtgArea":p=JP(v[1][1],o,a),l.push(ky(p,a));break;case"PtgArea3d":f=v[1][1],p=v[1][2],g=h_(n,f,a),l.push(g+"!"+ky(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],T=S?S.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var P=v[1][1];h=v[1][2];var _;if(a.biff<=5)P<0&&(P=-P),n[P]&&(_=n[P][h]);else{var E="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][h]&&n[P][h].itab>0&&(E=n.SheetNames[n[P][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[P]&&n[P][h])E+=n[P][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var A=(BR(n,P,a)||"").split(";;");A[h-1]?E=A[h-1]:E+="SH33TJSERRX"}l.push(E);break}_||(_={Name:"SH33TJSERRY"}),l.push(_.Name);break;case"PtgParen":var R="(",q=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:R=kr(" ",e[0][m][1][1])+R;break;case 3:R=kr("\r",e[0][m][1][1])+R;break;case 4:q=kr(" ",e[0][m][1][1])+q;break;case 5:q=kr("\r",e[0][m][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(R+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:v[1][1],r:v[1][0]};var Z={c:r.c,r:r.r};if(n.sharedf[zt(d)]){var V=n.sharedf[zt(d)];l.push(yu(V,o,Z,n,a))}else{var G=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(yu(u[1],o,Z,n,a)),G=!0;break}G||l.push(v[1])}break;case"PtgArray":l.push("{"+KX(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&re.indexOf(e[0][b][0])==-1){v=e[0][m];var M=!0;switch(v[1][0]){case 4:M=!1;case 0:x=kr(" ",v[1][1]);break;case 5:M=!1;case 1:x=kr("\r",v[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}l.push((M?x:"")+l.pop()+(M?"":x)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function HX(e){if(e==null){var t=Oe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return $l(e);return $l(0)}function WX(e,t,r,n,a){var s=Bl(t,r,a),o=HX(e.v),l=Oe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Oe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=xn([s,o,l,u]);return f}function Ox(e,t,r){var n=e.read_shift(4),a=UX(e,n,r),s=e.read_shift(4),o=s>0?BX(e,s,a,r):null;return[a,o]}var GX=Ox,Cx=Ox,qX=Ox,YX=Ox,XX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},UR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},JX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function QX(e){var t="of:="+e.replace(hj,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function ZX(e){return e.replace(/\./,"!")}var If=typeof Map<"u";function gj(e,t,r){var n=0,a=e.length;if(r){if(If?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=If?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(If?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Dx(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(cs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Hm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Kb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function KR(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ho(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){LM(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function eJ(e,t,r){if(e&&e["!ref"]){var n=cr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function tJ(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Rr(e[r])+'"/>';return t+"</mergeCells>"}function rJ(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=wh(Kt(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+qe("outlinePr",null,u)}!s&&!l||(a[a.length]=qe("sheetPr",l,o))}var nJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],aJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function iJ(e){var t={sheet:1};return nJ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),aJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=NR(e.password).toString(16).toUpperCase()),qe("sheetProtection",null,t)}function sJ(e){return KR(e),qe("pageMargins",null,e)}function oJ(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=qe("col",null,Dx(a,n)));return r[r.length]="</cols>",r.join("")}function lJ(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Rr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Aa(a);o.s.r==o.e.r&&(o.e.r=Aa(t["!ref"]).e.r,a=Rr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),qe("autoFilter",null,{ref:a})}function cJ(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),qe("sheetViews",qe("sheetView",null,a),{})}function uJ(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=b0[e.v];break;case"d":n&&n.cellDates?a=ea(e.v,-1).toISOString():(e=pa(e),e.t="n",a=""+(e.v=ha(ea(e.v)))),typeof e.z>"u"&&(e.z=Sr[14]);break;default:a=e.v;break}var l=vn("v",Kt(a)),c={r:t},u=Ho(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=vn("v",""+gj(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=qe("f",Kt(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),qe("c",l,c)}function dJ(e,t,r,n){var a=[],s=[],o=cr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:u},x,b=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=In(h);for(f=o.s.r;f<=o.e.r;++f){for(s=[],u=bn(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(l=uJ(y,c,e,t))!=null&&s.push(l)}(s.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=Wm(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),a[a.length]=qe("row",s.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=Wm(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level),a[a.length]=qe("row","",m));return a.join("")}function VR(e,t,r,n){var a=[$r,qe("worksheet",null,{xmlns:ed[0],"xmlns:r":nn.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=cr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Rr(d)}n||(n={}),c["!comments"]=[];var f=[];rJ(c,r,e,t,a),a[a.length]=qe("dimension",null,{ref:u}),a[a.length]=cJ(c,t,e,r),t.sheetFormat&&(a[a.length]=qe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=oJ(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=dJ(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=iJ(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=lJ(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=tJ(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=Ut(n,-1,Kt(m[1].Target).replace(/#.*$/,""),Mt.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=Kt(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=Kt(m[1].Tooltip)),a[a.length]=qe("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=sJ(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=vn("ignoredErrors",qe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Ut(n,-1,"../drawings/drawing"+(e+1)+".xml",Mt.DRAW),a[a.length]=qe("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Ut(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Mt.VML),a[a.length]=qe("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function fJ(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function hJ(e,t,r){var n=Oe(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=Wm(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[zt(u)];g&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function pJ(e,t,r,n){var a=hJ(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Be(e,0,a)}var mJ=tc,gJ=rd;function xJ(){}function vJ(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=_G(e),r}function yJ(e,t,r){r==null&&(r=Oe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Km({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),aR(e,r),r.slice(0,r.l)}function bJ(e){var t=Qa(e);return[t]}function wJ(e,t,r){return r==null&&(r=Oe(8)),Ql(t,r)}function kJ(e){var t=Zl(e);return[t]}function jJ(e,t,r){return r==null&&(r=Oe(4)),ec(t,r)}function SJ(e){var t=Qa(e),r=e.read_shift(1);return[t,r,"b"]}function NJ(e,t,r){return r==null&&(r=Oe(9)),Ql(t,r),r.write_shift(1,e.v?1:0),r}function TJ(e){var t=Zl(e),r=e.read_shift(1);return[t,r,"b"]}function PJ(e,t,r){return r==null&&(r=Oe(5)),ec(t,r),r.write_shift(1,e.v?1:0),r}function _J(e){var t=Qa(e),r=e.read_shift(1);return[t,r,"e"]}function EJ(e,t,r){return r==null&&(r=Oe(9)),Ql(t,r),r.write_shift(1,e.v),r}function AJ(e){var t=Zl(e),r=e.read_shift(1);return[t,r,"e"]}function OJ(e,t,r){return r==null&&(r=Oe(8)),ec(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function CJ(e){var t=Qa(e),r=e.read_shift(4);return[t,r,"s"]}function DJ(e,t,r){return r==null&&(r=Oe(12)),Ql(t,r),r.write_shift(4,t.v),r}function MJ(e){var t=Zl(e),r=e.read_shift(4);return[t,r,"s"]}function RJ(e,t,r){return r==null&&(r=Oe(8)),ec(t,r),r.write_shift(4,t.v),r}function IJ(e){var t=Qa(e),r=nd(e);return[t,r,"n"]}function LJ(e,t,r){return r==null&&(r=Oe(16)),Ql(t,r),$l(e.v,r),r}function FJ(e){var t=Zl(e),r=nd(e);return[t,r,"n"]}function $J(e,t,r){return r==null&&(r=Oe(12)),ec(t,r),$l(e.v,r),r}function BJ(e){var t=Qa(e),r=iR(e);return[t,r,"n"]}function UJ(e,t,r){return r==null&&(r=Oe(12)),Ql(t,r),sR(e.v,r),r}function KJ(e){var t=Zl(e),r=iR(e);return[t,r,"n"]}function VJ(e,t,r){return r==null&&(r=Oe(8)),ec(t,r),sR(e.v,r),r}function zJ(e){var t=Qa(e),r=lj(e);return[t,r,"is"]}function HJ(e){var t=Qa(e),r=Ln(e);return[t,r,"str"]}function WJ(e,t,r){return r==null&&(r=Oe(12+4*e.v.length)),Ql(t,r),sn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function GJ(e){var t=Zl(e),r=Ln(e);return[t,r,"str"]}function qJ(e,t,r){return r==null&&(r=Oe(8+4*e.v.length)),ec(t,r),sn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function YJ(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Cx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}function XJ(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Cx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}function JJ(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=nd(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Cx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}function QJ(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=Ln(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Cx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}var ZJ=tc,eQ=rd;function tQ(e,t){return t==null&&(t=Oe(4)),t.write_shift(4,e),t}function rQ(e,t){var r=e.l+t,n=tc(e),a=cj(e),s=Ln(e),o=Ln(e),l=Ln(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function nQ(e,t){var r=Oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));rd({s:an(e[0]),e:an(e[0])},r),uj("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return sn(a||"",r),sn(e[1].Tooltip||"",r),sn("",r),r.slice(0,r.l)}function aQ(){}function iQ(e,t,r){var n=e.l+t,a=oR(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=GX(e,n-e.l,r);o[1]=l}else e.l=n;return o}function sQ(e,t,r){var n=e.l+t,a=tc(e),s=[a];if(r.cellFormula){var o=YX(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function oQ(e,t,r){r==null&&(r=Oe(18));var n=Dx(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var zR=["left","right","top","bottom","header","footer"];function lQ(e){var t={};return zR.forEach(function(r){t[r]=nd(e)}),t}function cQ(e,t){return t==null&&(t=Oe(6*8)),KR(e),zR.forEach(function(r){$l(e[r],t)}),t}function uQ(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function dQ(e,t,r){r==null&&(r=Oe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function fQ(e){var t=Oe(24);return t.write_shift(4,4),t.write_shift(4,1),rd(e,t),t}function hQ(e,t){return t==null&&(t=Oe(16*4+2)),t.write_shift(2,e.password?NR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function pQ(){}function mQ(){}function gQ(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=pa(t),t.z=t.z||Sr[14],t.v=ha(ea(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Ho(a.cellXfs,t,a),t.l&&s["!links"].push([zt(c),t.l]),t.c&&s["!comments"].push([zt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=gj(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Be(e,18,RJ(t,c)):Be(e,7,DJ(t,c))):(c.t="str",o?Be(e,17,qJ(t,c)):Be(e,6,WJ(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Be(e,13,VJ(t,c)):Be(e,2,UJ(t,c)):o?Be(e,16,$J(t,c)):Be(e,5,LJ(t,c)),!0;case"b":return c.t="b",o?Be(e,15,PJ(t,c)):Be(e,4,NJ(t,c)),!0;case"e":return c.t="e",o?Be(e,14,OJ(t,c)):Be(e,3,EJ(t,c)),!0}return o?Be(e,12,jJ(t,c)):Be(e,1,wJ(t,c)),!0}function xQ(e,t,r,n){var a=cr(t["!ref"]||"A1"),s,o="",l=[];Be(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=bn(d),pJ(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=In(h)),s=l[h]+o;var p=c?(t[d]||[])[h]:t[s];if(!p){f=!1;continue}f=gQ(e,p,d,h,n,t,f)}}Be(e,146)}function vQ(e,t){!t||!t["!merges"]||(Be(e,177,tQ(t["!merges"].length)),t["!merges"].forEach(function(r){Be(e,176,eQ(r))}),Be(e,178))}function yQ(e,t){!t||!t["!cols"]||(Be(e,390),t["!cols"].forEach(function(r,n){r&&Be(e,60,oQ(n,r))}),Be(e,391))}function bQ(e,t){!t||!t["!ref"]||(Be(e,648),Be(e,649,fQ(cr(t["!ref"]))),Be(e,650))}function wQ(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Ut(r,-1,n[1].Target.replace(/#.*$/,""),Mt.HLINK);Be(e,494,nQ(n,a))}}),delete t["!links"]}function kQ(e,t,r,n){if(t["!comments"].length>0){var a=Ut(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Mt.VML);Be(e,551,uj("rId"+a)),t["!legacy"]=a}}function jQ(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Rr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Aa(s);l.s.r==l.e.r&&(l.e.r=Aa(t["!ref"]).e.r,s=Rr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Be(e,161,rd(cr(s))),Be(e,162)}}function SQ(e,t,r){Be(e,133),Be(e,137,dQ(t,r)),Be(e,138),Be(e,134)}function NQ(e,t){t["!protect"]&&Be(e,535,hQ(t["!protect"]))}function TQ(e,t,r,n){var a=da(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=cr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Be(a,129),(r.vbaraw||o["!outline"])&&Be(a,147,yJ(l,o["!outline"])),Be(a,148,gJ(c)),SQ(a,o,r.Workbook),yQ(a,o),xQ(a,o,e,t),NQ(a,o),jQ(a,o,r,e),vQ(a,o),wQ(a,o,n),o["!margins"]&&Be(a,476,cQ(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&bQ(a,o),kQ(a,o,e,n),Be(a,130),a.end()}function PQ(e,t){e.l+=10;var r=Ln(e);return{name:r}}var _Q=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function EQ(e){return!e.Workbook||!e.Workbook.WBProps?"false":sG(e.Workbook.WBProps.date1904)?"true":"false"}var AQ="][*?/\\".split("");function HR(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return AQ.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function OQ(e,t,r){e.forEach(function(n,a){HR(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function CQ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];OQ(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)eJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function WR(e){var t=[$r];t[t.length]=qe("workbook",null,{xmlns:ed[0],"xmlns:r":nn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(_Q.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=qe("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Kt(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=qe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=qe("definedName",Kt(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function DQ(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Ub(e),r.name=Ln(e),r}function MQ(e,t){return t||(t=Oe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),uj(e.strRelID,t),sn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function RQ(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ln(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function IQ(e,t){t||(t=Oe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),aR(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function LQ(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=EG(e),o=qX(e,0,r),l=cj(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function FQ(e,t){Be(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Be(e,156,MQ(a))}Be(e,144)}function $Q(e,t){t||(t=Oe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return sn("SheetJS",t),sn(Mm.version,t),sn(Mm.version,t),sn("7262",t),t.length>t.l?t.slice(0,t.l):t}function BQ(e,t){t||(t=Oe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function UQ(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Be(e,135),Be(e,158,BQ(a)),Be(e,136))}}function KQ(e,t){var r=da();return Be(r,131),Be(r,128,$Q()),Be(r,153,IQ(e.Workbook&&e.Workbook.WBProps||null)),UQ(r,e),FQ(r,e),Be(r,132),r.end()}function VQ(e,t,r){return(t.slice(-4)===".bin"?KQ:WR)(e)}function zQ(e,t,r,n,a){return(t.slice(-4)===".bin"?TQ:VR)(e,r,n,a)}function HQ(e,t,r){return(t.slice(-4)===".bin"?cY:_R)(e,r)}function WQ(e,t,r){return(t.slice(-4)===".bin"?Iq:SR)(e,r)}function GQ(e,t,r){return(t.slice(-4)===".bin"?NY:DR)(e)}function qQ(e){return(e.slice(-4)===".bin"?xY:OR)()}function YQ(e,t){var r=[];return e.Props&&r.push(HG(e.Props,t)),e.Custprops&&r.push(WG(e.Props,e.Custprops)),r.join("")}function XQ(){return""}function JQ(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(qe("NumberFormat",null,{"ss:Format":Kt(Sr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(qe("Style",s.join(""),o))}),qe("Styles",r.join(""))}function GR(e){return qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+pj(e.Ref,{r:0,c:0})})}function QQ(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(GR(a)))}return qe("Names",r.join(""))}function ZQ(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(GR(l)))}return s.join("")}function eZ(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(qe("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(vn("ProtectContents","True")),e["!protect"].objects&&a.push(vn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(vn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(vn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(vn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":qe("WorksheetOptions",a.join(""),{xmlns:wa.x})}function tZ(e){return e.map(function(t){var r=iG(t.t||""),n=qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return qe("Comment",n,{"ss:Author":t.a})}).join("")}function rZ(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Kt(pj(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=an(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Kt(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Kt(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=b0[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Sr[14]);break;case"s":f="String",h=aG(e.v||"");break}var p=Ho(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=tZ(e.c)),qe("Cell",m,l)}function nZ(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=PR(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function aZ(e,t,r,n){if(!e["!ref"])return"";var a=cr(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,b){fj(x);var y=!!x.width,v=Dx(b,x),w={"ss:Index":b+1};y&&(w["ss:Width"]=zm(v.width)),x.hidden&&(w["ss:Hidden"]="1"),l.push(qe("Column",null,w))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[nZ(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>u)&&!(s[o].e.c<f)&&!(s[o].e.r<u)){(s[o].s.c!=f||s[o].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=zt(p),m=c?(e[u]||[])[f]:e[g];d.push(rZ(m,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function iZ(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?ZQ(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?aZ(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(eZ(s,t,e,r)),n.join("")}function sZ(e,t){t||(t={}),e.SSF||(e.SSF=pa(Sr)),e.SSF&&(_x(),Px(e.SSF),t.revssf=Ex(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ho(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(YQ(e,t)),r.push(XQ()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(qe("Worksheet",iZ(n,t,e),{"ss:Name":Kt(e.SheetNames[n])}));return r[2]=JQ(e,t),r[3]=QQ(e),$r+qe("Workbook",r.join(""),{xmlns:wa.ss,"xmlns:o":wa.o,"xmlns:x":wa.x,"xmlns:ss":wa.ss,"xmlns:dt":wa.dt,"xmlns:html":wa.html})}var Ny={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function oZ(e,t){var r=[],n=[],a=[],s=0,o,l=BP(ZP,"n"),c=BP(e_,"n");if(e.Props)for(o=kn(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=kn(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<a.length;++s)xR.indexOf(a[s][0])>-1||pR.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&Gt.utils.cfb_add(t,"/SummaryInformation",i_(n,Ny.SI,c,e_)),(r.length||u.length)&&Gt.utils.cfb_add(t,"/DocumentSummaryInformation",i_(r,Ny.DSI,l,ZP,u.length?u:null,Ny.UDI))}function lZ(e,t){var r=t||{},n=Gt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Gt.utils.cfb_add(n,a,qR(e,r)),r.biff==8&&(e.Props||e.Custprops)&&oZ(e,n),r.biff==8&&e.vbaraw&&TY(n,Gt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var cZ={0:{f:fJ},1:{f:bJ},2:{f:BJ},3:{f:_J},4:{f:SJ},5:{f:IJ},6:{f:HJ},7:{f:CJ},8:{f:QJ},9:{f:JJ},10:{f:YJ},11:{f:XJ},12:{f:kJ},13:{f:KJ},14:{f:AJ},15:{f:TJ},16:{f:FJ},17:{f:GJ},18:{f:MJ},19:{f:lj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:LQ},40:{},42:{},43:{f:Hq},44:{f:Vq},45:{f:qq},46:{f:Xq},47:{f:Yq},48:{},49:{f:kG},50:{},51:{f:fY},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:jq},62:{f:zJ},63:{f:vY},64:{f:pQ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ui,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:uQ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vJ},148:{f:mJ,p:16},151:{f:aQ},152:{},153:{f:RQ},154:{},155:{},156:{f:DQ},157:{},158:{},159:{T:1,f:Dq},160:{T:-1},161:{T:1,f:tc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ZJ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:uY},336:{T:-1},337:{f:mY,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ub},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:iQ},427:{f:sQ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lQ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:xJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rQ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ub},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:jY},633:{T:1},634:{T:-1},635:{T:1,f:wY},636:{T:-1},637:{f:TG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:PQ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:mQ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Xe(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&ij(r)&&e.push(r)}}function uZ(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Xe(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function k0(e,t,r){return e||(e=Oe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function dZ(e,t,r,n){var a=Oe(9);return k0(a,e,t),yR(r,n||"b",a),a}function fZ(e,t,r){var n=Oe(8+2*r.length);return k0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function hZ(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ha(ea(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Xe(e,2,Pq(r,n,a)):Xe(e,3,Tq(r,n,a));return;case"b":case"e":Xe(e,5,dZ(r,n,t.v,t.t));return;case"s":case"str":Xe(e,4,fZ(r,n,(t.v||"").slice(0,255)));return}Xe(e,1,k0(null,r,n))}function pZ(e,t,r,n){var a=Array.isArray(t),s=cr(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Rr(s)}for(var u=s.s.r;u<=s.e.r;++u){l=bn(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=In(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&hZ(e,f,u,d)}}}function mZ(e,t){for(var r=t||{},n=da(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Xe(n,r.biff==4?1033:r.biff==3?521:9,dj(e,16,r)),pZ(n,e.Sheets[e.SheetNames[a]],a,r),Xe(n,10),n.end()}function gZ(e,t,r){Xe(e,49,cq({sz:12,name:"Arial"},r))}function xZ(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Xe(e,1054,fq(a,t[a],r))})}function vZ(e,t){var r=Oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Xe(e,2151,r),r=Oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),kR(cr(t["!ref"]||"A1"),r),r.write_shift(4,4),Xe(e,2152,r)}function yZ(e,t){for(var r=0;r<16;++r)Xe(e,224,o_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Xe(e,224,o_(n,0,t))})}function bZ(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Xe(e,440,bq(n)),n[1].Tooltip&&Xe(e,2048,wq(n))}delete t["!links"]}function wZ(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Xe(e,125,Sq(Dx(a,n),a))})}}function kZ(e,t,r,n,a){var s=16+Ho(a.cellXfs,t,a);if(t.v==null&&!t.bf){Xe(e,513,Bl(r,n,s));return}if(t.bf)Xe(e,6,WX(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?ha(ea(t.v)):t.v;Xe(e,515,gq(r,n,o,s));break;case"b":case"e":Xe(e,517,mq(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=gj(a.Strings,t.v,a.revStrings);Xe(e,253,uq(r,n,l,s))}else Xe(e,516,dq(r,n,(t.v||"").slice(0,255),s,a));break;default:Xe(e,513,Bl(r,n,s))}}function jZ(e,t,r){var n=da(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",h=[],p=cr(s["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}Xe(n,2057,dj(r,16,t)),Xe(n,13,$a(1)),Xe(n,12,$a(100)),Xe(n,15,Yn(!0)),Xe(n,17,Yn(!1)),Xe(n,16,$l(.001)),Xe(n,95,Yn(!0)),Xe(n,42,Yn(!1)),Xe(n,43,Yn(!1)),Xe(n,130,$a(1)),Xe(n,128,pq()),Xe(n,131,Yn(!1)),Xe(n,132,Yn(!1)),u&&wZ(n,s["!cols"]),Xe(n,512,hq(p,t)),u&&(s["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=bn(m);for(var x=p.s.c;x<=p.e.c;++x){m===p.s.r&&(h[x]=In(x)),d=h[x]+f;var b=c?(s[m]||[])[x]:s[d];b&&(kZ(n,b,m,x,t),u&&b.l&&s["!links"].push([d,b.l]))}}var y=l.CodeName||l.name||a;return u&&Xe(n,574,lq((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&Xe(n,229,yq(s["!merges"])),u&&bZ(n,s),Xe(n,442,wR(y)),u&&vZ(n,s),Xe(n,10),n.end()}function SZ(e,t,r){var n=da(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Xe(n,2057,dj(e,5,r)),r.bookType=="xla"&&Xe(n,135),Xe(n,225,l?$a(1200):null),Xe(n,193,YG(2)),c&&Xe(n,191),c&&Xe(n,192),Xe(n,226),Xe(n,92,aq("SheetJS",r)),Xe(n,66,$a(l?1200:1252)),l&&Xe(n,353,$a(0)),l&&Xe(n,448),Xe(n,317,Nq(e.SheetNames.length)),l&&e.vbaraw&&Xe(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Xe(n,442,wR(u))}Xe(n,156,$a(17)),Xe(n,25,Yn(!1)),Xe(n,18,Yn(!1)),Xe(n,19,$a(0)),l&&Xe(n,431,Yn(!1)),l&&Xe(n,444,$a(0)),Xe(n,61,oq()),Xe(n,64,Yn(!1)),Xe(n,141,$a(0)),Xe(n,34,Yn(EQ(e)=="true")),Xe(n,14,Yn(!0)),l&&Xe(n,439,Yn(!1)),Xe(n,218,$a(0)),gZ(n,e,r),xZ(n,e.SSF,r),yZ(n,r),l&&Xe(n,352,Yn(!1));var d=n.end(),f=da();l&&Xe(f,140,kq()),l&&r.Strings&&uZ(f,252,sq(r.Strings)),Xe(f,10);var h=f.end(),p=da(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var x=d.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var b=s[m]||{};Xe(p,133,iq({pos:x,hs:b.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var v=[];return d.length&&v.push(d),y.length&&v.push(y),h.length&&v.push(h),xn(v)}function NZ(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=pa(Sr)),e&&e.SSF&&(_x(),Px(e.SSF),r.revssf=Ex(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xj(r),r.cellXfs=[],Ho(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=jZ(a,r,e);return n.unshift(SZ(e,n,r)),xn(n)}function qR(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Aa(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return NZ(e,t);case 4:case 3:case 2:return mZ(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function TZ(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=zt({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||nG(f.w||(vs(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(qe("td",h,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var PZ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',_Z="</body></html>";function EZ(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function YR(e,t){var r=t||{},n=r.header!=null?r.header:PZ,a=r.footer!=null?r.footer:_Z,s=[n],o=Aa(e["!ref"]);r.dense=Array.isArray(e),s.push(EZ(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(TZ(e,o,l,r));return s.push("</table>"+a),s.join("")}function XR(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?an(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Aa(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,b=0,y=0,v=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&m<c;++g){var w=l[g];if(p_(w)){if(n.display)continue;p[m]={hidden:!0}}var k=w.children;for(x=b=0;x<k.length;++x){var N=k[x];if(!(n.display&&p_(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):oG(N.innerHTML),T=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var P=f[h];P.s.c==b+s&&P.s.r<m+a&&m+a<=P.e.r&&(b=P.e.c+1-s,h=-1)}v=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||v>1)&&f.push({s:{r:m+a,c:b+s},e:{r:m+a+(y||1)-1,c:b+s+(v||1)-1}});var _={t:"s",v:S},E=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?_.t=E||"z":n.raw||S.trim().length==0||E=="s"||(S==="TRUE"?_={t:"b",v:!0}:S==="FALSE"?_={t:"b",v:!1}:isNaN(ls(S))?isNaN(bh(S).getDate())||(_={t:"d",v:ea(S)},n.cellDates||(_={t:"n",v:ha(_.v)}),_.z=n.dateNF||Sr[14]):_={t:"n",v:ls(S)})),_.z===void 0&&T!=null&&(_.z=T);var A="",R=N.getElementsByTagName("A");if(R&&R.length)for(var q=0;q<R.length&&!(R[q].hasAttribute("href")&&(A=R[q].getAttribute("href"),A.charAt(0)!="#"));++q);A&&A.charAt(0)!="#"&&(_.l={Target:A}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][b+s]=_):e[zt({c:b+s,r:m+a})]=_,u.e.c<b+s&&(u.e.c=b+s),b+=v}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Rr(u),m>=c&&(e["!fullref"]=Rr((u.e.r=l.length-g+m-1+a,u))),e}function JR(e,t){var r=t||{},n=r.dense?[]:{};return XR(n,e,t)}function AZ(e,t){return Jl(JR(e,t),t)}function p_(e){var t="",r=OZ(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function OZ(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var CZ=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+kh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return $r+t}}(),m_=function(){var e=function(s){return Kt(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+Kt(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Aa(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",x=s["!rows"]||[];for(u=0;u<f.s.r;++u)m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,y={},v="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(b=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){c.push(r);continue}var w=zt({r:u,c:d}),k=g?(s[u]||[])[d]:s[w];if(k&&k.f&&(y["table:formula"]=Kt(QX(k.f)),k.F&&k.F.slice(0,w.length)==w)){var N=Aa(k.F);y["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,y["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":v=k.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=k.v?"true":"false";break;case"n":v=k.w||String(k.v||0),y["office:value-type"]="float",y["office:value"]=k.v||0;break;case"s":case"str":v=k.v==null?"":k.v,y["office:value-type"]="string";break;case"d":v=k.w||ea(k.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=ea(k.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(v);if(k.l&&k.l.Target){var T=k.l.Target;T=T.charAt(0)=="#"?"#"+ZX(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),S=qe("text:a",S,{"xlink:href":T.replace(/&/g,"&amp;")})}c.push("          "+qe("table:table-cell",qe("text:p",S,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;fj(f),f.ods=l;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[$r],u=kh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=kh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(fR().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function QR(e,t){if(t.bookType=="fods")return m_(e,t);var r=tj(),n="",a=[],s=[];return n="mimetype",kt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",kt(r,n,m_(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",kt(r,n,CZ(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",kt(r,n,$r+fR()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",kt(r,n,zG(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",kt(r,n,KG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function DZ(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):fi(wh(e))}function MZ(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function $o(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function RZ(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function jh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Bt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function tu(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Hr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=jh(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=jh(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function hn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Bt(n*8+a.type)),a.type==2&&t.push(Bt(a.data.length)),t.push(a.data))})}),$o(t)}function ii(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=jh(e,n),s=Hr(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:tu(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Hr(l.data),u=tu(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=tu(s[3][0].data)>>>0>0),r.push(o)}return r}function fc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Bt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Bt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Bt(o.data.length)}],n[2].push({data:hn(o.meta),type:2})});var s=hn(n);t.push(Bt(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),$o(t)}function IZ(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=jh(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[$o(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=$o(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function si(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(IZ(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return $o(t)}function hc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Bt(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return $o(t)}function Ty(e,t){var r=new Uint8Array(32),n=Gm(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,RZ(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function Py(e,t){var r=new Uint8Array(32),n=Gm(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Qs(e){var t=Hr(e);return jh(t[1][0].data)}function LZ(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&tu(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Gm(e[7][0].data),d=0,f=[],h=Gm(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var x,b;switch(typeof t[m]){case"string":x=Ty({t:"s",v:t[m]},r),b=Py({t:"s",v:t[m]},r);break;case"number":x=Ty({t:"n",v:t[m]},r),b=Py({t:"n",v:t[m]},r);break;case"boolean":x=Ty({t:"b",v:t[m]},r),b=Py({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(x),d+=x.length,g.push(b),p+=b.length,++c}for(e[2][0].data=Bt(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=$o(f),e[3][0].data=$o(g),c}function FZ(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Aa(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Rr(n)));var s=qm(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(J){return J.forEach(function(z){typeof z=="string"&&o.push(z)})});var l={},c=[],u=Gt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(J,z){return[J,u.FullPaths[z]]}).forEach(function(J){var z=J[0],L=J[1];if(z.type==2&&z.name.match(/\.iwa/)){var te=z.content,ye=si(te),Te=ii(ye);Te.forEach(function(de){c.push(de.id),l[de.id]={deps:[],location:L,type:tu(de.messages[0].meta[1][0].data)}})}}),c.sort(function(J,z){return J-z});var d=c.filter(function(J){return J>1}).map(function(J){return[J,Bt(J)]});u.FileIndex.map(function(J,z){return[J,u.FullPaths[z]]}).forEach(function(J){var z=J[0];if(J[1],!!z.name.match(/\.iwa/)){var L=ii(si(z.content));L.forEach(function(te){te.messages.forEach(function(ye){d.forEach(function(Te){te.messages.some(function(de){return tu(de.meta[1][0].data)!=11006&&MZ(de.data,Te[1])})&&l[Te[0]].deps.push(te.id)})})})}});for(var f=Gt.find(u,l[1].location),h=ii(si(f.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var x=Qs(Hr(p.messages[0].data)[1][0].data);for(f=Gt.find(u,l[x].location),h=ii(si(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=Qs(Hr(p.messages[0].data)[2][0].data),f=Gt.find(u,l[x].location),h=ii(si(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=Qs(Hr(p.messages[0].data)[2][0].data),f=Gt.find(u,l[x].location),h=ii(si(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);var b=Hr(p.messages[0].data);{b[6][0].data=Bt(n.e.r+1),b[7][0].data=Bt(n.e.c+1);var y=Qs(b[46][0].data),v=Gt.find(u,l[y].location),w=ii(si(v.content));{for(var k=0;k<w.length&&w[k].id!=y;++k);if(w[k].id!=y)throw"Bad ColumnRowUIDMapArchive";var N=Hr(w[k].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var S=0;S<=n.e.c;++S){var T=[];T[1]=T[2]=[{type:0,data:Bt(S+420690)}],N[1].push({type:2,data:hn(T)}),N[2].push({type:0,data:Bt(S)}),N[3].push({type:0,data:Bt(S)})}N[4]=[],N[5]=[],N[6]=[];for(var P=0;P<=n.e.r;++P)T=[],T[1]=T[2]=[{type:0,data:Bt(P+726270)}],N[4].push({type:2,data:hn(T)}),N[5].push({type:0,data:Bt(P)}),N[6].push({type:0,data:Bt(P)});w[k].messages[0].data=hn(N)}v.content=hc(fc(w)),v.size=v.content.length,delete b[46];var _=Hr(b[4][0].data);{_[7][0].data=Bt(n.e.r+1);var E=Hr(_[1][0].data),A=Qs(E[2][0].data);v=Gt.find(u,l[A].location),w=ii(si(v.content));{if(w[0].id!=A)throw"Bad HeaderStorageBucket";var R=Hr(w[0].messages[0].data);for(P=0;P<s.length;++P){var q=Hr(R[2][0].data);q[1][0].data=Bt(P),q[4][0].data=Bt(s[P].length),R[2][P]={type:R[2][0].type,data:hn(q)}}w[0].messages[0].data=hn(R)}v.content=hc(fc(w)),v.size=v.content.length;var Z=Qs(_[2][0].data);v=Gt.find(u,l[Z].location),w=ii(si(v.content));{if(w[0].id!=Z)throw"Bad HeaderStorageBucket";for(R=Hr(w[0].messages[0].data),S=0;S<=n.e.c;++S)q=Hr(R[2][0].data),q[1][0].data=Bt(S),q[4][0].data=Bt(n.e.r+1),R[2][S]={type:R[2][0].type,data:hn(q)};w[0].messages[0].data=hn(R)}v.content=hc(fc(w)),v.size=v.content.length;var V=Qs(_[4][0].data);(function(){for(var J=Gt.find(u,l[V].location),z=ii(si(J.content)),L,te=0;te<z.length;++te){var ye=z[te];ye.id==V&&(L=ye)}var Te=Hr(L.messages[0].data);{Te[3]=[];var de=[];o.forEach(function(he,_e){de[1]=[{type:0,data:Bt(_e)}],de[2]=[{type:0,data:Bt(1)}],de[3]=[{type:2,data:DZ(he)}],Te[3].push({type:2,data:hn(de)})})}L.messages[0].data=hn(Te);var fe=fc(z),be=hc(fe);J.content=be,J.size=J.content.length})();var G=Hr(_[3][0].data);{var re=G[1][0];delete G[2];var M=Hr(re.data);{var Y=Qs(M[2][0].data);(function(){for(var J=Gt.find(u,l[Y].location),z=ii(si(J.content)),L,te=0;te<z.length;++te){var ye=z[te];ye.id==Y&&(L=ye)}var Te=Hr(L.messages[0].data);{delete Te[6],delete G[7];var de=new Uint8Array(Te[5][0].data);Te[5]=[];for(var fe=0,be=0;be<=n.e.r;++be){var he=Hr(de);fe+=LZ(he,s[be],o),he[1][0].data=Bt(be),Te[5].push({data:hn(he),type:2})}Te[1]=[{type:0,data:Bt(n.e.c+1)}],Te[2]=[{type:0,data:Bt(n.e.r+1)}],Te[3]=[{type:0,data:Bt(fe)}],Te[4]=[{type:0,data:Bt(n.e.r+1)}]}L.messages[0].data=hn(Te);var _e=fc(z),ue=hc(_e);J.content=ue,J.size=J.content.length})()}re.data=hn(M)}_[3][0].data=hn(G)}b[4][0].data=hn(_)}p.messages[0].data=hn(b);var ee=fc(h),D=hc(ee);return f.content=D,f.size=f.content.length,u}function $Z(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function xj(e){$Z([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function BZ(e,t){return t.bookType=="ods"?QR(e,t):t.bookType=="numbers"?FZ(e,t):t.bookType=="xlsb"?UZ(e,t):KZ(e,t)}function UZ(e,t){Fc=1024,e&&!e.SSF&&(e.SSF=pa(Sr)),e&&e.SSF&&(_x(),Px(e.SSF),t.revssf=Ex(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,If?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=MR.indexOf(t.bookType)>-1,a=cR();xj(t=t||{});var s=tj(),o="",l=0;if(t.cellXfs=[],Ho(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(s,o,hR(e.Props,t)),a.coreprops.push(o),Ut(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(s,o,mR(e.Props)),a.extprops.push(o),Ut(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&kn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(s,o,gR(e.Custprops)),a.custprops.push(o),Ut(t.rels,4,o,Mt.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,kt(s,o,zQ(l-1,o,t,e,d)),a.sheets.push(o),Ut(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Mt.WS[0])}if(f){var p=f["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,kt(s,m,GQ(p,m)),a.comments.push(m),Ut(d,-1,"../comments"+l+"."+r,Mt.CMNT),g=!0),f["!legacy"]&&g&&kt(s,"xl/drawings/vmlDrawing"+l+".vml",CR(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&kt(s,dR(o),Zc(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(s,o,WQ(t.Strings,o,t)),a.strs.push(o),Ut(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(s,o,VQ(e,o)),a.workbooks.push(o),Ut(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(s,o,AR(e.Themes,t)),a.themes.push(o),Ut(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(s,o,HQ(e,o,t)),a.styles.push(o),Ut(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",kt(s,o,e.vbaraw),a.vba.push(o),Ut(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(s,o,qQ(o)),a.metadata.push(o),Ut(t.wbrels,-1,"metadata."+r,Mt.XLMETA),kt(s,"[Content_Types].xml",uR(a,t)),kt(s,"_rels/.rels",Zc(t.rels)),kt(s,"xl/_rels/workbook."+r+".rels",Zc(t.wbrels)),delete t.revssf,delete t.ssf,s}function KZ(e,t){Fc=1024,e&&!e.SSF&&(e.SSF=pa(Sr)),e&&e.SSF&&(_x(),Px(e.SSF),t.revssf=Ex(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,If?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=MR.indexOf(t.bookType)>-1,a=cR();xj(t=t||{});var s=tj(),o="",l=0;if(t.cellXfs=[],Ho(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(s,o,hR(e.Props,t)),a.coreprops.push(o),Ut(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,kt(s,o,mR(e.Props)),a.extprops.push(o),Ut(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&kn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(s,o,gR(e.Custprops)),a.custprops.push(o),Ut(t.rels,4,o,Mt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,kt(s,o,VR(l-1,t,e,f)),a.sheets.push(o),Ut(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Mt.WS[0])}if(h){var g=h["!comments"],m=!1,x="";if(g&&g.length>0){var b=!1;g.forEach(function(y){y[1].forEach(function(v){v.T==!0&&(b=!0)})}),b&&(x="xl/threadedComments/threadedComment"+l+"."+r,kt(s,x,yY(g,d,t)),a.threadedcomments.push(x),Ut(f,-1,"../threadedComments/threadedComment"+l+"."+r,Mt.TCMNT)),x="xl/comments"+l+"."+r,kt(s,x,DR(g)),a.comments.push(x),Ut(f,-1,"../comments"+l+"."+r,Mt.CMNT),m=!0}h["!legacy"]&&m&&kt(s,"xl/drawings/vmlDrawing"+l+".vml",CR(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&kt(s,dR(o),Zc(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(s,o,SR(t.Strings,t)),a.strs.push(o),Ut(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(s,o,WR(e)),a.workbooks.push(o),Ut(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(s,o,AR(e.Themes,t)),a.themes.push(o),Ut(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(s,o,_R(e,t)),a.styles.push(o),Ut(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",kt(s,o,e.vbaraw),a.vba.push(o),Ut(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(s,o,OR()),a.metadata.push(o),Ut(t.wbrels,-1,"metadata."+r,Mt.XLMETA),d.length>1&&(o="xl/persons/person.xml",kt(s,o,bY(d)),a.people.push(o),Ut(t.wbrels,-1,"persons/person.xml",Mt.PEOPLE)),kt(s,"[Content_Types].xml",uR(a,t)),kt(s,"_rels/.rels",Zc(t.rels)),kt(s,"xl/_rels/workbook."+r+".rels",Zc(t.wbrels)),delete t.revssf,delete t.ssf,s}function VZ(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=xs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function ZR(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return v0(t.file,Gt.write(e,{type:Lt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Gt.write(e,t)}function zZ(e,t){var r=pa(t||{}),n=BZ(e,r);return HZ(n,r)}function HZ(e,t){var r={},n=Lt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Gt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Tx(a))}return t.password&&typeof encrypt_agile<"u"?ZR(encrypt_agile(a,t.password),t):t.type==="file"?v0(t.file,a):t.type=="string"?Cf(a):a}function WZ(e,t){var r=t||{},n=lZ(e,r);return ZR(n,r)}function Ti(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return yh(wh(n));case"binary":return wh(n);case"string":return e;case"file":return v0(t.file,n,"utf8");case"buffer":return Lt?Ns(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ti(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function GZ(e,t){switch(t.type){case"base64":return yh(e);case"binary":return e;case"string":return e;case"file":return v0(t.file,e,"binary");case"buffer":return Lt?Ns(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function cp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?yh(r):t.type=="string"?Cf(r):r;case"file":return v0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function eI(e,t){wW(),CQ(e);var r=pa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=eI(e,r);return r.type="array",Tx(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ti(sZ(e,r),r);case"slk":case"sylk":return Ti(Eq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ti(YR(e.Sheets[e.SheetNames[a]],r),r);case"txt":return GZ(rI(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ti(vj(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ti(Aq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return cp(_q.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ti(Oq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ti(Fq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ti(jR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ti(QR(e,r),r);case"wk1":return cp(l_.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return cp(l_.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),cp(qR(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),WZ(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return zZ(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function qZ(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function tI(e,t,r){var n={};return n.type="file",n.file=t,qZ(n),eI(e,n)}function YZ(e,t,r,n,a,s,o,l){var c=bn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=o?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&m===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?m:vs(g,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function qm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=cr(d);break;case"number":c=cr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=bn(c.s.r),h=[],p=[],g=0,m=0,x=Array.isArray(e),b=c.s.r,y=0,v={};x&&!e[b]&&(e[b]=[]);var w=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(w[y]||{}).hidden)switch(h[y]=In(y),r=x?e[b][y]:e[h[y]+f],n){case 1:s[y]=y-c.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=vs(r,null,u),m=v[o]||0,!m)v[o]=1;else{do l=o+"_"+m++;while(v[l]);v[o]=m,v[l]=1}s[y]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(k[b]||{}).hidden){var N=YZ(e,c,b,h,n,s,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=N.row)}return p.length=g,p}var g_=/"/g;function XZ(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=bn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:vs(p,null,l));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===s||m===34||l.forceQuotes){d='"'+d.replace(g_,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(g_,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function vj(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=cr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=In(g));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=XZ(e,a,x,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function rI(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vj(e,t);return r}function JZ(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=cr(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=In(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=bn(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function nI(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?an(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=cr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){kn(m).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var y=m[b],v="z",w="",k=zt({c:l+p,r:o+x+a});u=Sh(s,k),y&&typeof y=="object"&&!(y instanceof Date)?s[k]=y:(typeof y=="number"?v="n":typeof y=="boolean"?v="b":typeof y=="string"?v="s":y instanceof Date?(v="d",n.cellDates||(v="n",y=ha(y)),w=n.dateNF||Sr[14]):y===null&&n.nullError&&(v="e",y=0),u?(u.t=v,u.v=y,delete u.w,delete u.R,w&&(u.z=w)):s[k]=u={t:v,v:y},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=bn(o);if(a)for(p=0;p<h.length;++p)s[In(p+l)+g]={t:"s",v:h[p]};return s["!ref"]=Rr(d),s}function QZ(e,t){return nI(null,e,t)}function Sh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=an(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sh(e,zt(t)):Sh(e,zt({r:t,c:r||0}))}function ZZ(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function eee(){return{SheetNames:[],Sheets:{}}}function tee(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(HR(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function ree(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=ZZ(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function nee(e,t){return e.z=t,e}function aI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function aee(e,t,r){return aI(e,"#"+t,r)}function iee(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function see(e,t,r,n){for(var a=typeof t!="string"?t:cr(t),s=typeof t=="string"?t:Rr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Sh(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Ei={encode_col:In,encode_row:bn,encode_cell:zt,encode_range:Rr,decode_col:oj,decode_row:sj,split_cell:wG,decode_cell:an,decode_range:Aa,format_cell:vs,sheet_add_aoa:nR,sheet_add_json:nI,sheet_add_dom:XR,aoa_to_sheet:td,json_to_sheet:QZ,table_to_sheet:JR,table_to_book:AZ,sheet_to_csv:vj,sheet_to_txt:rI,sheet_to_json:qm,sheet_to_html:YR,sheet_to_formulae:JZ,sheet_to_row_object_array:qm,sheet_get_cell:Sh,book_new:eee,book_append_sheet:tee,book_set_sheet_visibility:ree,cell_set_number_format:nee,cell_set_hyperlink:aI,cell_set_internal_link:aee,cell_add_comment:iee,sheet_set_array_formula:see,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function oee({isOpen:e,onClose:t,data:r,plantName:n,bahanBakuOptions:a}){const s=new Date().toISOString().split("T")[0],o=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],[l,c]=j.useState(o),[u,d]=j.useState(s),[f,h]=j.useState([]),[p,g]=j.useState(!0),[m,x]=j.useState(!1),b=P=>{g(!1),h(_=>_.includes(P)?_.filter(E=>E!==P):[..._,P])},y=()=>{p?(g(!1),h([])):(g(!0),h([]))},v=P=>{if(typeof P=="string")try{return JSON.parse(P)}catch{return[]}return P||[]},w=P=>P.map(_=>`${_.berat} ${_.unit}`).join(", "),k=()=>r.filter(P=>{const _=new Date(P.tanggal),E=new Date(l),A=new Date(u);_.setHours(0,0,0,0),E.setHours(0,0,0,0),A.setHours(0,0,0,0);const R=_>=E&&_<=A,q=p||f.includes(P.bahanBaku);return R&&q}),N=k().length,S=()=>{x(!0);try{const P=k();if(P.length===0){alert("Tidak ada data untuk diekspor dengan filter yang dipilih."),x(!1);return}const _=[...P].sort((L,te)=>new Date(L.tanggal).getTime()-new Date(te.tanggal).getTime()),E={};_.forEach(L=>{const te=L.bahanBaku||"Unknown";E[te]||(E[te]=[]),E[te].push(L)});const A=Object.keys(E).sort((L,te)=>L.localeCompare(te)),R=Ei.book_new(),q=[];q.push([`Data Penerimaan Bahan Baku - ${n}`]),q.push([`Periode: ${T(l)} s/d ${T(u)}`]),q.push([`Filter: ${p?"Semua Bahan Baku":f.join(", ")}`]),q.push([]);let Z=0;A.forEach(L=>{const te=E[L],ye=te.reduce((Te,de)=>Te+(de.totalBerat||0),0);Z+=ye,q.push([`Bahan Baku: ${L}`]),q.push(["No","Tanggal","Detail Berat & Unit","Total Berat"]),te.forEach((Te,de)=>{const fe=v(Te.entries);q.push([de+1,T(Te.tanggal),w(fe),Te.totalBerat||0])}),q.push(["","",`Subtotal ${L} (${te.length} data)`,ye]),q.push([])}),q.push(["","",`Grand Total (${_.length} data)`,Z]);const V=Ei.aoa_to_sheet(q);V["!cols"]=[{wch:5},{wch:15},{wch:35},{wch:15}];const G=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:3}},{s:{r:2,c:0},e:{r:2,c:3}}];q.forEach((L,te)=>{typeof L[0]=="string"&&L[0].startsWith("Bahan Baku: ")&&G.push({s:{r:te,c:0},e:{r:te,c:3}})}),V["!merges"]=G,Ei.book_append_sheet(R,V,"Data Bahan Baku");const re=[];re.push([`Rekap Penerimaan Bahan Baku - ${n}`]),re.push([`Periode: ${T(l)} s/d ${T(u)}`]),re.push([]),re.push(["No","Bahan Baku","Jumlah Penerimaan","Total Berat"]);let M=1,Y=0;A.forEach(L=>{const te=E[L],ye=te.reduce((Te,de)=>Te+(de.totalBerat||0),0);re.push([M++,L,te.length,ye]),Y+=ye}),re.push([]),re.push(["","Total",_.length,Y]);const ee=Ei.aoa_to_sheet(re);ee["!cols"]=[{wch:5},{wch:20},{wch:20},{wch:15}],ee["!merges"]=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:3}}],Ei.book_append_sheet(R,ee,"Rekap Bahan Baku");const D=`${l.replace(/-/g,"")}_${u.replace(/-/g,"")}`,J=p?"Semua":f.length<=2?f.join("_"):`${f.length}_BahanBaku`,z=`BahanBaku_${n}_${J}_${D}.xlsx`;tI(R,z),t()}catch(P){console.error("Export error:",P),alert("Gagal mengekspor data. Silakan coba lagi.")}finally{x(!1)}},T=P=>P?new Date(P).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-";return i.jsx(xt,{isOpen:e,onClose:t,title:"",size:"lg",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green-100 dark:bg-green-900/40 mb-3",children:i.jsx(Ef,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),i.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Export ke Excel"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Data Penerimaan Bahan Baku - ",n]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(Wa,{className:"h-4 w-4 text-primary-500"}),"Rentang Tanggal"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Ae,{label:"Dari Tanggal",type:"date",value:l,onChange:P=>c(P.target.value)}),i.jsx(Ae,{label:"Sampai Tanggal",type:"date",value:u,onChange:P=>d(P.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(_o,{className:"h-4 w-4 text-primary-500"}),"Pilih Bahan Baku"]}),i.jsxs("button",{type:"button",onClick:y,className:Ge("w-full flex items-center gap-3 p-3 rounded-lg border transition-all duration-150",p?"border-primary-400 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700":"border-border bg-card hover:border-primary-300 dark:hover:border-primary-700"),children:[p?i.jsx(fP,{className:"h-5 w-5 text-primary-600 dark:text-primary-400 flex-shrink-0"}):i.jsx(bP,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:Ge("text-sm font-medium",p?"text-primary-700 dark:text-primary-300":"text-foreground"),children:"Semua Bahan Baku"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:a.map(P=>{const _=!p&&f.includes(P.value);return i.jsxs("button",{type:"button",onClick:()=>b(P.value),disabled:p,className:Ge("flex items-center gap-2 p-2.5 rounded-lg border text-left transition-all duration-150",p?"border-primary-200 bg-primary-50/50 dark:bg-primary-900/10 dark:border-primary-800 opacity-60":_?"border-primary-400 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700":"border-border bg-card hover:border-primary-300 dark:hover:border-primary-700"),children:[p||_?i.jsx(fP,{className:"h-4 w-4 text-primary-600 dark:text-primary-400 flex-shrink-0"}):i.jsx(bP,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:Ge("text-xs font-medium truncate",p||_?"text-primary-700 dark:text-primary-300":"text-foreground"),children:P.label})]},P.value)})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-50 dark:bg-dark-800 rounded-lg border border-border",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Data yang akan diekspor:"}),i.jsxs("span",{className:Ge("text-sm font-bold",N>0?"text-green-600 dark:text-green-400":"text-red-500"),children:[N," data"]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-border",children:[i.jsx(ge,{variant:"secondary",onClick:t,children:"Batal"}),i.jsxs(ge,{onClick:S,disabled:N===0||!p&&f.length===0,isLoading:m,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export Excel (",N,")"]})]})]})})}let up=null;function lee(){return(!up||up.state==="closed")&&(up=new(window.AudioContext||window.webkitAudioContext)),up}function iI(){const e=lee();return e.state==="suspended"&&e.resume(),e}function cee(e,t=.3){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(659.25,r),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t,r+.02),a.gain.exponentialRampToValueAtTime(.01,r+.3),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.3);const s=e.createOscillator(),o=e.createGain();s.type="sine",s.frequency.setValueAtTime(783.99,r+.12),o.gain.setValueAtTime(0,r+.12),o.gain.linearRampToValueAtTime(t*.8,r+.14),o.gain.exponentialRampToValueAtTime(.01,r+.5),s.connect(o),o.connect(e.destination),s.start(r+.12),s.stop(r+.5);const l=e.createOscillator(),c=e.createGain();l.type="triangle",l.frequency.setValueAtTime(1318.51,r),c.gain.setValueAtTime(0,r),c.gain.linearRampToValueAtTime(t*.15,r+.02),c.gain.exponentialRampToValueAtTime(.01,r+.25),l.connect(c),c.connect(e.destination),l.start(r),l.stop(r+.25)}function uee(e,t=.25){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(880,r),n.frequency.exponentialRampToValueAtTime(587.33,r+.08),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t,r+.01),a.gain.exponentialRampToValueAtTime(.01,r+.15),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.15);const s=e.createOscillator(),o=e.createGain();s.type="triangle",s.frequency.setValueAtTime(1174.66,r),o.gain.setValueAtTime(0,r),o.gain.linearRampToValueAtTime(t*.3,r+.01),o.gain.exponentialRampToValueAtTime(.01,r+.1),s.connect(o),o.connect(e.destination),s.start(r),s.stop(r+.1)}function dee(e,t=.25){const r=e.currentTime;[523.25,659.25,783.99].forEach((a,s)=>{const o=e.createOscillator(),l=e.createGain(),c=r+s*.1;o.type="sine",o.frequency.setValueAtTime(a,c),l.gain.setValueAtTime(0,c),l.gain.linearRampToValueAtTime(t*(1-s*.15),c+.02),l.gain.exponentialRampToValueAtTime(.01,c+.35),o.connect(l),l.connect(e.destination),o.start(c),o.stop(c+.35)})}function fee(e,t=.2){const r=e.currentTime;for(let n=0;n<2;n++){const a=e.createOscillator(),s=e.createGain(),o=r+n*.18;a.type="triangle",a.frequency.setValueAtTime(740,o),s.gain.setValueAtTime(0,o),s.gain.linearRampToValueAtTime(t,o+.01),s.gain.exponentialRampToValueAtTime(.01,o+.12),a.connect(s),s.connect(e.destination),a.start(o),a.stop(o+.12)}}function hee(e,t=.2){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="square",n.frequency.setValueAtTime(440,r),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t*.5,r+.01),a.gain.exponentialRampToValueAtTime(.01,r+.15),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.15);const s=e.createOscillator(),o=e.createGain();s.type="square",s.frequency.setValueAtTime(349.23,r+.15),o.gain.setValueAtTime(0,r+.15),o.gain.linearRampToValueAtTime(t*.5,r+.16),o.gain.exponentialRampToValueAtTime(.01,r+.35),s.connect(o),o.connect(e.destination),s.start(r+.15),s.stop(r+.35)}const sI={notification:cee,message:uee,success:dee,warning:fee,error:hee};function pee(){const e=j.useRef({}),t=j.useRef(!0);j.useEffect(()=>{const o=localStorage.getItem("plantiq_sound_enabled");o!==null&&(t.current=o==="true")},[]);const r=j.useCallback((o="notification",l=1e3)=>{if(!t.current)return;const c=Date.now(),u=e.current[o]||0;if(!(c-u<l)){e.current[o]=c;try{const d=iI(),f=sI[o];f&&f(d,.3)}catch(d){console.warn("Could not play notification sound:",d)}}},[]),n=j.useCallback(()=>(t.current=!t.current,localStorage.setItem("plantiq_sound_enabled",String(t.current)),t.current),[]),a=j.useCallback(()=>t.current,[]),s=j.useCallback(o=>{t.current=o,localStorage.setItem("plantiq_sound_enabled",String(o))},[]);return{playSound:r,toggleSound:n,isSoundEnabled:a,setSoundEnabled:s}}function _y(e="notification"){if(localStorage.getItem("plantiq_sound_enabled")!=="false")try{const r=iI(),n=sI[e];n&&n(r,.3)}catch(r){console.warn("Could not play notification sound:",r)}}const dp=e=>e.toLocaleString("id-ID",{maximumFractionDigits:0}),oI=e=>{st(async()=>{const{setUserOfflineBackground:t}=await Promise.resolve().then(()=>ot);return{setUserOfflineBackground:t}},void 0).then(({setUserOfflineBackground:t})=>{t(e)}).catch(t=>{console.error("Error setting offline status:",t)})},mee=()=>{const{user:e}=Et(),[t,r]=j.useState([]),[n,a]=j.useState({totalProduksiNPK:0,totalProduksiBlending:0,totalProduksiNPKMini:0,totalDowntime:0,workRequestPending:0,troubleRecordOpen:0,vibrasiWarnings:0,gatePassToday:0,bahanBakuToday:0}),[s,o]=j.useState(!1),[l,c]=j.useState(new Date);j.useEffect(()=>{const w=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(w)},[]);const u=j.useCallback(async()=>{try{const{fetchDataByPlant:w,SHEETS:k}=await st(async()=>{const{fetchDataByPlant:B,SHEETS:K}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:B,SHEETS:K}},void 0),N=new Date().getFullYear(),S=new Date().toISOString().split("T")[0],T=B=>{if(typeof B=="number")return B;if(typeof B=="string"){const K=parseFloat(B.replace(/,/g,""));return isNaN(K)?0:K}return 0},[P,_,E,A,R,q,Z,V,G]=await Promise.all([w(k.PRODUKSI_NPK),w(k.PRODUKSI_BLENDING),w(k.PRODUKSI_NPK_MINI),w(k.DOWNTIME),w(k.WORK_REQUEST),w(k.TROUBLE_RECORD),w(k.VIBRASI),w(k.GATE_PASS),w(k.BAHAN_BAKU)]),re=B=>B.filter(K=>K.tanggal?new Date(K.tanggal).getFullYear()===N:!1),M=B=>B.filter(K=>K.tanggal?K.tanggal.startsWith(S):!1),Y=re(P.data||[]),ee=re(_.data||[]),D=re(E.data||[]),J=re(A.data||[]),z=R.data||[],L=q.data||[],te=Z.data||[],ye=M(V.data||[]),Te=M(G.data||[]),de=Y.reduce((B,K)=>{const H=K.total!==void 0&&K.total!==null?T(K.total):T(K.shiftMalamOnspek)+T(K.shiftMalamOffspek)+T(K.shiftPagiOnspek)+T(K.shiftPagiOffspek)+T(K.shiftSoreOnspek)+T(K.shiftSoreOffspek);return B+H},0),fe=ee.reduce((B,K)=>B+T(K.tonase),0),be=D.reduce((B,K)=>B+T(K.tonase),0),he=J.reduce((B,K)=>B+T(K.downtime),0),_e=z.filter(B=>!B.eksekutor||B.eksekutor==="").length,ue=L.filter(B=>B.status==="Open"||B.status==="In Progress").length,C=te.filter(B=>B.status==="Warning"||B.status==="Critical"||B.status==="Alert").length;a({totalProduksiNPK:de,totalProduksiBlending:fe,totalProduksiNPKMini:be,totalDowntime:he,workRequestPending:_e,troubleRecordOpen:ue,vibrasiWarnings:C,gatePassToday:ye.length,bahanBakuToday:Te.length})}catch(w){console.error("Error fetching dashboard metrics:",w)}},[]);j.useEffect(()=>{u();const w=setInterval(u,6e4);return()=>clearInterval(w)},[u]);const d=j.useCallback(async()=>{if(e)try{const{readData:w,createData:k,updateData:N,SHEETS:S}=await st(async()=>{const{readData:A,createData:R,updateData:q,SHEETS:Z}=await Promise.resolve().then(()=>ot);return{readData:A,createData:R,updateData:q,SHEETS:Z}},void 0),_=((await w(S.ACTIVE_USERS)).data||[]).find(A=>A.username===e.username),E=new Date().toISOString();_?await N(S.ACTIVE_USERS,{id:_.id,lastActive:E,status:"online"}):await k(S.ACTIVE_USERS,{username:e.username,namaLengkap:e.namaLengkap||e.nama||e.username,role:e.role,plant:e.plant,lastActive:E,status:"online"})}catch(w){console.error("Error updating active status:",w)}},[e]),f=j.useCallback(async()=>{try{const{readData:w,SHEETS:k}=await st(async()=>{const{readData:S,SHEETS:T}=await Promise.resolve().then(()=>ot);return{readData:S,SHEETS:T}},void 0),N=await w(k.ACTIVE_USERS);if(N.success&&N.data){const S=N.data,T=new Date().getTime(),P=45*1e3,_=S.filter(R=>{const q=new Date(R.lastActive).getTime();return T-q<P&&R.status==="online"}),E=new Map;_.forEach(R=>{const q=E.get(R.username);if(!q)E.set(R.username,R);else{const Z=new Date(q.lastActive).getTime();new Date(R.lastActive).getTime()>Z&&E.set(R.username,R)}});const A=Array.from(E.values()).sort((R,q)=>(R.namaLengkap||R.username).localeCompare(q.namaLengkap||q.username));r(A)}}catch(w){console.error("Error fetching active users:",w)}},[]);j.useEffect(()=>{if(e){d(),f();const w=setInterval(d,15e3),k=setInterval(f,5e3);return()=>{clearInterval(w),clearInterval(k)}}},[e,d,f]),j.useEffect(()=>{const w=()=>{e&&e.username&&oI(e.username)},k=()=>{w()},N=()=>{document.visibilityState==="hidden"?w():document.visibilityState==="visible"&&e&&d()};return window.addEventListener("beforeunload",k),document.addEventListener("visibilitychange",N),()=>{window.removeEventListener("beforeunload",k),document.removeEventListener("visibilitychange",N)}},[e,d]);const h=w=>{switch(w){case"admin":return"bg-red-500";case"supervisor":return"bg-blue-500";case"manager":return"bg-purple-500";case"avp":return"bg-emerald-500";default:return"bg-gray-500"}},p=w=>{switch(w){case"NPK1":return"bg-orange-500";case"NPK2":return"bg-cyan-500";case"ALL":return"bg-gradient-to-r from-orange-500 to-cyan-500";default:return"bg-gray-500"}},g=w=>w.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),m=w=>w.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),b=[{id:"greeting",icon:"",text:`${(()=>{const w=l.getHours();return w>=5&&w<11?"Selamat Pagi":w>=11&&w<15?"Selamat Siang":w>=15&&w<18?"Selamat Sore":"Selamat Malam"})()}! ${g(l)}  ${m(l)} WIB`,bgColor:"bg-white/15"},{id:"produksi",icon:"",text:`Produksi NPK ${new Date().getFullYear()}: ${dp(n.totalProduksiNPK)} Ton`,bgColor:"bg-green-500/20"},{id:"blending",icon:"",text:`Produksi Blending: ${dp(n.totalProduksiBlending)} Ton`,bgColor:"bg-blue-500/20"},...n.totalProduksiNPKMini>0?[{id:"npkmini",icon:"",text:`Produksi NPK Mini: ${dp(n.totalProduksiNPKMini)} Ton`,bgColor:"bg-teal-500/20"}]:[],...n.totalDowntime>0?[{id:"downtime",icon:"",text:`Total Downtime: ${dp(n.totalDowntime)} Jam`,bgColor:"bg-amber-500/20"}]:[],...n.workRequestPending>0?[{id:"wr-pending",icon:"",text:`Work Request Pending: ${n.workRequestPending} item`,bgColor:"bg-orange-500/20"}]:[],...n.troubleRecordOpen>0?[{id:"trouble",icon:"",text:`Trouble Record Open: ${n.troubleRecordOpen} masalah`,bgColor:"bg-red-500/20"}]:[],...n.vibrasiWarnings>0?[{id:"vibrasi",icon:"",text:`Vibrasi Warning/Critical: ${n.vibrasiWarnings} alat`,bgColor:"bg-yellow-500/20"}]:[],...n.gatePassToday>0?[{id:"gatepass",icon:"",text:`Gate Pass Hari Ini: ${n.gatePassToday} kendaraan`,bgColor:"bg-cyan-500/20"}]:[],...n.bahanBakuToday>0?[{id:"bahanbaku",icon:"",text:`Penerimaan BB Hari Ini: ${n.bahanBakuToday} batch`,bgColor:"bg-purple-500/20"}]:[]],y=b.length+t.length,v=Math.max(y*4,30);return i.jsx("div",{className:"bg-dark-900 text-white overflow-hidden relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:i.jsxs("div",{className:"flex items-center h-8 relative z-10",children:[i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 bg-dark-800 h-full border-r border-dark-700 z-10",children:[i.jsxs("div",{className:"relative",children:[i.jsx(mh,{className:"h-4 w-4"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full animate-ping"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full"})]}),i.jsx("span",{className:"text-[10px] font-semibold whitespace-nowrap tracking-widest text-dark-400 uppercase",children:"LIVE"})]}),i.jsx("div",{className:"flex-1 overflow-hidden relative h-full flex items-center",children:i.jsx("div",{className:Ge("marquee-wrapper",s&&"paused"),children:i.jsxs("div",{className:"marquee-inner",style:{animationDuration:`${v}s`},children:[b.map(w=>i.jsxs("div",{className:Ge("inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 rounded-md","transition-all duration-150 cursor-default","bg-dark-800/80 border border-dark-700/50"),children:[i.jsx("span",{className:"text-xs drop-shadow-sm",children:w.icon}),i.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.text})]},w.id)),t.length>0&&i.jsx("div",{className:"inline-flex items-center mx-4",children:i.jsx("span",{className:"text-white/30",children:""})}),t.length>0&&i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 bg-dark-800 border border-dark-700/50 rounded-md",children:[i.jsx(vu,{className:"h-3 w-3 text-dark-400"}),i.jsxs("span",{className:"text-[11px] font-semibold whitespace-nowrap text-dark-300",children:["Online (",t.length,")"]})]}),t.map(w=>i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1 bg-dark-800/80 border border-dark-700/50 rounded-md cursor-default",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hP,{className:"h-2 w-2 fill-green-400 text-green-400"}),i.jsx(hP,{className:"absolute inset-0 h-2 w-2 fill-green-400 text-green-400 animate-ping opacity-75"})]}),i.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.namaLengkap}),i.jsx("span",{className:Ge("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold uppercase shadow-sm",h(w.role)),children:w.role}),i.jsx("span",{className:Ge("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold shadow-sm",p(w.plant)),children:w.plant})]},w.username))]})})}),i.jsx("div",{className:"hidden lg:flex items-center gap-2 px-3 border-l border-dark-700 h-full bg-dark-800",children:i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-dark-700 rounded text-dark-300",children:[i.jsx(vu,{className:"h-3 w-3"}),i.jsx("span",{className:"text-[11px] font-semibold",children:t.length})]})})]})})},gee=[{name:"Dashboard",path:"/dashboard",icon:i.jsx(XD,{className:"h-5 w-5"})},{name:"Produksi",path:"/produksi",icon:i.jsx(mh,{className:"h-5 w-5"}),children:[{name:"NPK Granul 1",path:"/produksi/npk1"},{name:"NPK Granul 2",path:"/produksi/npk2"},{name:"Blending",path:"/produksi/blending"},{name:"NPK Mini",path:"/produksi/npk-mini"},{name:"Retail",path:"/produksi/retail"}]},{name:"Laporan",path:"/laporan",icon:i.jsx(Ta,{className:"h-5 w-5"}),children:[{name:"KOP NPK1",path:"/laporan/kop-npk1"},{name:"KOP NPK2",path:"/laporan/kop-npk2"},{name:"Timesheet Forklift NPK1",path:"/laporan/timesheet-forklift-npk1"},{name:"Timesheet Forklift NPK2",path:"/laporan/timesheet-forklift-npk2"},{name:"Timesheet Loader NPK1",path:"/laporan/timesheet-loader-npk1"},{name:"Timesheet Loader NPK2",path:"/laporan/timesheet-loader-npk2"},{name:"Downtime NPK1",path:"/laporan/downtime-npk1"},{name:"Downtime NPK2",path:"/laporan/downtime-npk2"},{name:"Pemakaian BB NPK1",path:"/laporan/pemakaian-bb-npk1"},{name:"Pemakaian BB NPK2",path:"/laporan/pemakaian-bb-npk2"}]},{name:"Data",path:"/data",icon:i.jsx(Rb,{className:"h-5 w-5"}),children:[{name:"Inventaris Material",path:"/data/inventaris"},{name:"Work Request NPK1",path:"/data/work-request-npk1"},{name:"Work Request NPK2",path:"/data/work-request-npk2"},{name:"Penerimaan Bahan Baku NPK1",path:"/data/bahan-baku-npk1"},{name:"Penerimaan Bahan Baku NPK2",path:"/data/bahan-baku-npk2"},{name:"Vibrasi NPK1",path:"/data/vibrasi-npk1"},{name:"Vibrasi NPK2",path:"/data/vibrasi-npk2"},{name:"Gate Pass NPK1",path:"/data/gate-pass-npk1"},{name:"Gate Pass NPK2",path:"/data/gate-pass-npk2"},{name:"Perbaikan Tahunan NPK1",path:"/data/perbaikan-tahunan-npk1"},{name:"Perbaikan Tahunan NPK2",path:"/data/perbaikan-tahunan-npk2"},{name:"Trouble Record NPK1",path:"/data/trouble-record-npk1"},{name:"Trouble Record NPK2",path:"/data/trouble-record-npk2"},{name:"Dokumentasi Foto NPK1",path:"/data/dokumentasi-foto-npk1"},{name:"Dokumentasi Foto NPK2",path:"/data/dokumentasi-foto-npk2"},{name:"Rekap BBM NPK1",path:"/data/rekap-bbm-npk1"},{name:"Rekap BBM NPK2",path:"/data/rekap-bbm-npk2"},{name:"Riksa Timb Portabel",path:"/data/riksa-timb-portabel"}]},{name:"Pengaturan",path:"/settings",icon:i.jsx(NH,{className:"h-5 w-5"}),children:[{name:"Profil",path:"/settings/akun"},{name:"RKAP",path:"/settings/rkap"},{name:"Users",path:"/settings/users"},{name:"Approval",path:"/settings/approval"}]}],xee=()=>{const[e,t]=j.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>t(!0),className:Ge("px-2 py-0.5 rounded font-medium text-[10px] transition-all duration-200","bg-muted text-muted-foreground","hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/40 dark:hover:text-primary-400","cursor-pointer flex items-center gap-1"),title:"Klik untuk melihat perjalanan versi",children:[i.jsx(At,{className:"h-3 w-3"}),"v3.0.3"]}),i.jsx(vW,{isOpen:e,onClose:()=>t(!1)})]})},vee=()=>{const e=Ju(),{user:t}=Et(),[r,n]=j.useState([]),{sidebarCollapsed:a,toggleSidebarCollapse:s,sidebarOpen:o,toggleSidebar:l,forceDesktopView:c}=hx(),[u,d]=j.useState(!1);j.useEffect(()=>{const y=()=>{d(window.innerWidth<1024&&!c)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const f=()=>{u&&o&&!c&&l()},p=(()=>{const y=t==null?void 0:t.plant,v=(t==null?void 0:t.role)||"";return gee.map(w=>{if(w.name==="Pengaturan"){if(!j5(v,y))return null;if(w.children){const k=w.children.filter(N=>N.path==="/settings/users"?S5(v):N.path==="/settings/rkap"?N5(v):!0);return k.length===0?null:{...w,children:k}}return w}if(w.name==="Produksi"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path==="/produksi/npk1"||N.path==="/produksi/retail"):y==="NPK2"&&(k=w.children.filter(N=>N.path==="/produksi/npk2"||N.path==="/produksi/blending"||N.path==="/produksi/npk-mini")),{...w,children:k}}if(w.name==="Laporan"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(k=w.children.filter(N=>N.path.includes("npk2"))),{...w,children:k}}if(w.name==="Data"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(k=w.children.filter(N=>N.path.includes("npk2")||N.path==="/data/riksa-timb-portabel"||N.path==="/data/inventaris")),{...w,children:k}}return w}).filter(Boolean)})(),g=y=>{n(v=>v.includes(y)?[]:[y])},m=y=>e.pathname===y,x=y=>y.children?y.children.some(v=>e.pathname===v.path):e.pathname===y.path,b=u&&!c;return i.jsxs(i.Fragment,{children:[b&&o&&i.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:l}),i.jsxs("aside",{className:Ge("fixed left-0 top-0 z-50 h-screen transition-all duration-300","bg-card dark:bg-dark-800","border-r border-border","shadow-soft",b?o?"translate-x-0 w-64":"-translate-x-full w-64":a?"w-20":"w-64"),children:[i.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-border",children:[(!a||b)&&i.jsxs(X0,{to:"/dashboard",className:"flex items-center gap-3 group",onClick:f,children:[i.jsx("div",{className:"relative",children:i.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 group-hover:scale-105"})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-display font-semibold text-base text-foreground",children:"Plantiffy"}),i.jsx("span",{className:"block text-[10px] text-muted-foreground -mt-0.5 tracking-wide",children:"Plant Intelligence"})]})]}),a&&!b&&i.jsx(X0,{to:"/dashboard",className:"mx-auto",onClick:f,children:i.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 hover:scale-105"})}),!b&&!a&&i.jsx(Yt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:s,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(V2,{className:"h-4 w-4"})}),a&&!b&&i.jsx(Yt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:s,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(z2,{className:"h-4 w-4"})}),b&&i.jsx("button",{onClick:l,className:"p-1.5 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(Xa,{className:"h-5 w-5"})})]}),i.jsx("nav",{className:"p-2 space-y-0.5 overflow-y-auto h-[calc(100vh-7.5rem)] scrollbar-thin",children:p.map(y=>i.jsx("div",{children:y.children?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>(!a||b)&&g(y.name),className:Ge("w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150","group relative",x(y)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[x(y)&&i.jsx(Yt.div,{layoutId:"activeParentIndicator",className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 bg-primary-500 rounded-r"}),i.jsx("span",{className:Ge("p-1.5 rounded-md transition-colors",x(y)?"bg-primary-100 dark:bg-primary-800/40 text-primary-600":"text-muted-foreground"),children:y.icon}),(!a||b)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"flex-1 text-left",children:y.name}),i.jsx(jx,{className:Ge("h-4 w-4 transition-transform duration-300",r.includes(y.name)&&"rotate-180")})]})]}),(!a||b)&&i.jsx(Po,{children:r.includes(y.name)&&i.jsx(Yt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden",children:i.jsx("div",{className:"ml-4 pl-4 py-1 space-y-0.5 border-l border-border",children:y.children.map(v=>i.jsx(X0,{to:v.path,onClick:f,className:Ge("block px-3 py-1.5 text-[13px] rounded-md transition-all duration-150 relative",m(v.path)?"bg-primary-500 text-white font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:v.name},v.path))})})})]}):i.jsxs(X0,{to:y.path,onClick:f,className:Ge("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150 relative group",m(y.path)?"bg-primary-500 text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[i.jsx("span",{className:Ge("p-1.5 rounded-md transition-colors",m(y.path)?"bg-white/20":"text-muted-foreground"),children:y.icon}),(!a||b)&&i.jsx("span",{children:y.name})]})},y.name))}),(!a||b)&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-border",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:" 2025 Plantiffy"}),i.jsx(xee,{})]})})]})]})},yee=()=>{const e=d0(),{user:t,logout:r}=Et(),{sidebarCollapsed:n,toggleSidebar:a,darkMode:s,toggleDarkMode:o,forceDesktopView:l,toggleForceDesktopView:c}=hx(),{notifications:u,unreadCount:d,markAsRead:f,markAllAsRead:h,setNotifications:p}=c9(),{isOpen:g,toggleChat:m,unreadChatCount:x,setUnreadChatCount:b}=vm(),[y,v]=j.useState(!1),[w,k]=j.useState(!1),N=j.useRef(null),[S,T]=j.useState(!1),{playSound:P,isSoundEnabled:_,toggleSound:E}=pee(),[A,R]=j.useState(!0),q=j.useRef(0),Z=j.useRef(0);j.useEffect(()=>{R(_())},[_]);const[V,G]=j.useState(!1),[re,M]=j.useState(null),Y=z=>{ee(z.id),z.sheetName&&z.recordId&&(M(z),G(!0),k(!1))};j.useEffect(()=>{const z=()=>{const L=window.innerWidth<1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);T(L)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const ee=async z=>{try{f(z);const{updateData:L,SHEETS:te}=await st(async()=>{const{updateData:ye,SHEETS:Te}=await Promise.resolve().then(()=>ot);return{updateData:ye,SHEETS:Te}},void 0);await L(te.NOTIFICATIONS,{id:z,read:!0})}catch(L){console.error("Error marking notification as read:",L)}},D=async()=>{try{const z=u.filter(ye=>!ye.read);h();const{updateData:L,SHEETS:te}=await st(async()=>{const{updateData:ye,SHEETS:Te}=await Promise.resolve().then(()=>ot);return{updateData:ye,SHEETS:Te}},void 0);await Promise.all(z.map(ye=>L(te.NOTIFICATIONS,{id:ye.id,read:!0})))}catch(z){console.error("Error marking all notifications as read:",z)}};j.useEffect(()=>{const z=async()=>{try{const{readData:L,SHEETS:te}=await st(async()=>{const{readData:Te,SHEETS:de}=await Promise.resolve().then(()=>ot);return{readData:Te,SHEETS:de}},void 0),ye=await L(te.NOTIFICATIONS);if(ye.success&&ye.data){const de=ye.data.filter(be=>be.fromUser===(t==null?void 0:t.username)?!1:be.toUser==="ALL"||be.toUser===(t==null?void 0:t.username)||be.fromPlant===(t==null?void 0:t.plant)).sort((be,he)=>new Date(he.timestamp).getTime()-new Date(be.timestamp).getTime());p(de);const fe=de.filter(be=>!be.read).length;fe>q.current&&q.current>=0&&P("notification"),q.current=fe}}catch(L){console.error("Error loading notifications:",L)}};if(t){z();const L=setInterval(z,1e4);return()=>clearInterval(L)}},[t,p]),j.useEffect(()=>{const z=async()=>{if(t)try{const{readData:L,SHEETS:te}=await st(async()=>{const{readData:Te,SHEETS:de}=await Promise.resolve().then(()=>ot);return{readData:Te,SHEETS:de}},void 0),ye=await L(te.CHAT_MESSAGES);if(ye.success&&ye.data){const Te=ye.data,de=[...Te].sort((K,je)=>new Date(K.timestamp).getTime()-new Date(je.timestamp).getTime()),{setMessages:fe,setLastFetchTimestamp:be}=vm.getState();fe(de),be(new Date().toISOString());const he=`chat_last_read_${t.username}`,_e=localStorage.getItem(he),ue=_e?new Date(_e).getTime():0,C=t.namaLengkap||t.nama||t.username,B=Te.filter(K=>K.sender===C?!1:new Date(K.timestamp).getTime()>ue).length;B>Z.current&&Z.current>=0&&!g&&P("message"),Z.current=B,b(B)}}catch(L){console.error("Error loading chat messages:",L)}};if(t){z();const L=setInterval(z,3e3);return()=>clearInterval(L)}},[t,b,g,P]),j.useEffect(()=>{const z=L=>{N.current&&!N.current.contains(L.target)&&k(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const J=()=>{t&&t.username&&oI(t.username),r(),e("/login")};return i.jsxs("header",{className:Ge("fixed top-8 right-0 z-30 h-14 transition-all duration-300","bg-card/95 dark:bg-dark-800/95 backdrop-blur-sm","border-b border-border",l?"left-64":"left-0 lg:left-64",n&&(l?"left-20":"lg:left-20")),children:[i.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[!l&&i.jsx("button",{onClick:a,className:"lg:hidden p-2 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(vH,{className:"h-5 w-5"})}),i.jsx("div",{className:l?"block":"hidden lg:block"}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1 p-0.5 bg-muted rounded-lg",children:[i.jsx("button",{onClick:()=>{const z=E();R(z),z&&P("success")},className:Ge("p-2 rounded-md transition-all duration-150",A?"text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:A?"Suara notifikasi: Aktif":"Suara notifikasi: Nonaktif",children:A?i.jsx(ZD,{className:"h-4 w-4"}):i.jsx(OH,{className:"h-4 w-4"})}),S&&i.jsx("button",{onClick:c,className:Ge("p-2 rounded-md transition-all duration-150",l?"bg-background shadow-sm text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:l?"Tampilan HP":"Tampilan Desktop",children:l?i.jsx(Lc,{className:"h-4 w-4"}):i.jsx(bH,{className:"h-4 w-4"})}),i.jsx("button",{onClick:o,className:Ge("p-2 rounded-md transition-all duration-150","text-muted-foreground hover:text-foreground"),title:s?"Switch to Light Mode":"Switch to Dark Mode",children:i.jsx(Yt.div,{initial:!1,animate:{rotate:s?180:0},transition:{duration:.3},children:s?i.jsx(Lb,{className:"h-4 w-4"}):i.jsx(JD,{className:"h-4 w-4"})})})]}),i.jsxs("button",{onClick:m,className:Ge("relative p-2 rounded-lg transition-all duration-150",g?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[i.jsx(Em,{className:"h-5 w-5"}),x>0&&!g&&i.jsx(Yt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:x>9?"9+":x})]}),i.jsxs("div",{className:"relative",ref:N,children:[i.jsxs("button",{onClick:()=>k(!w),className:Ge("relative p-2 rounded-lg transition-all duration-150",w?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[i.jsx(Jc,{className:"h-5 w-5"}),d>0&&i.jsx(Yt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),i.jsx(Po,{children:w&&i.jsxs(Yt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border z-50 overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[i.jsxs("h3",{className:"font-semibold text-sm text-foreground flex items-center gap-2",children:[i.jsx(Jc,{className:"h-4 w-4 text-primary-500"}),"Notifikasi"]}),d>0&&i.jsx("button",{onClick:D,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Tandai semua dibaca"})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length===0?i.jsxs("div",{className:"px-4 py-8 text-center text-muted-foreground",children:[i.jsx(Jc,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),i.jsx("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):u.slice(0,10).map(z=>i.jsx("div",{className:Ge("px-4 py-3 border-b border-border hover:bg-muted/50 transition-colors",!z.read&&"bg-primary-50 dark:bg-primary-900/30"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:Ge("mt-1 h-2 w-2 rounded-full flex-shrink-0",z.read?"bg-muted-foreground/30":"bg-primary-500")}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:z.message}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:w5(z.timestamp)}),i.jsxs("div",{className:"flex items-center gap-2",children:[z.sheetName&&z.recordId&&i.jsxs("button",{onClick:()=>Y(z),className:"flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[i.jsx(Ss,{className:"h-3 w-3"}),"Lihat Log"]}),!z.read&&i.jsx("button",{onClick:()=>ee(z.id),className:"text-xs text-muted-foreground hover:text-foreground",children:"Tandai dibaca"})]})]})]})]})},z.id))})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>v(!y),className:Ge("flex items-center gap-2.5 px-2.5 py-1.5 rounded-lg transition-all duration-150","hover:bg-muted",y&&"ring-1 ring-border bg-muted"),children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:((t==null?void 0:t.namaLengkap)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})}),i.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 bg-emerald-500 border-2 border-card dark:border-dark-800 rounded-full"})]}),i.jsxs("div",{className:"hidden md:block text-left",children:[i.jsx("p",{className:"text-sm font-medium text-foreground leading-tight",children:t==null?void 0:t.namaLengkap}),i.jsxs("p",{className:"text-xs text-muted-foreground capitalize flex items-center gap-1",children:[i.jsx("span",{className:Ge("inline-block h-1.5 w-1.5 rounded-full",(t==null?void 0:t.role)==="admin"?"bg-red-500":(t==null?void 0:t.role)==="supervisor"?"bg-blue-500":(t==null?void 0:t.role)==="manager"?"bg-purple-500":(t==null?void 0:t.role)==="avp"?"bg-emerald-500":"bg-gray-500")}),t==null?void 0:t.role,"  ",t==null?void 0:t.plant]})]}),i.jsx(jx,{className:Ge("h-3.5 w-3.5 text-muted-foreground transition-transform duration-200",y&&"rotate-180")})]}),i.jsx(Po,{children:y&&i.jsxs(Yt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 z-50 overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:t==null?void 0:t.namaLengkap}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["@",t==null?void 0:t.username]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ze,{variant:"primary",size:"sm",children:t==null?void 0:t.role}),i.jsx(Ze,{variant:"info",size:"sm",children:t==null?void 0:t.plant})]})]}),i.jsxs("button",{onClick:J,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[i.jsx(xH,{className:"h-4 w-4"}),"Keluar"]})]})})]})]})]}),i.jsx(xW,{isVisible:V,onClose:()=>{G(!1),M(null)},notification:re})]})},bee=()=>{const{user:e}=Et(),{messages:t,isOpen:r,toggleChat:n,addOptimisticMessage:a,removeOptimisticMessage:s,setMessages:o,setUnreadChatCount:l}=vm(),[c,u]=j.useState(""),[d,f]=j.useState(!1),h=j.useRef(null),p=j.useRef(null),[g,m]=j.useState(!1),x=j.useRef(0),[b,y]=j.useState(null),[v,w]=j.useState(null),k=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{const M=Y=>{N.current&&!N.current.contains(Y.target)&&y(null)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const S=()=>{const M=p.current;return M?M.scrollHeight-M.scrollTop-M.clientHeight<100:!0},T=()=>{m(!S())},P=(M="smooth")=>{var Y;(Y=h.current)==null||Y.scrollIntoView({behavior:M})};j.useEffect(()=>{if(r&&e){const M=`chat_last_read_${e.username}`,Y=new Date().toISOString();localStorage.setItem(M,Y),l(0),setTimeout(()=>P("auto"),100)}},[r,e,l]),j.useEffect(()=>{if(r&&e&&t.length>0){const M=`chat_last_read_${e.username}`;localStorage.setItem(M,new Date().toISOString())}},[r,e,t.length]),j.useEffect(()=>{const M=t.length>x.current;x.current=t.length,M&&!g&&P()},[t,g]),j.useEffect(()=>{if(r){const M=setInterval(_,3e3);return()=>clearInterval(M)}},[r]);const _=async()=>{try{const{readData:M,SHEETS:Y}=await st(async()=>{const{readData:D,SHEETS:J}=await Promise.resolve().then(()=>ot);return{readData:D,SHEETS:J}},void 0),ee=await M(Y.CHAT_MESSAGES);if(ee.success&&ee.data){const D=[...ee.data].sort((J,z)=>new Date(J.timestamp).getTime()-new Date(z.timestamp).getTime());o(D)}}catch(M){console.error("Error fetching messages:",M)}},E=(M,Y,ee)=>{ee&&(M.preventDefault(),y({visible:!0,x:M.clientX,y:M.clientY,messageId:Y.id,messageText:Y.message}))},A=(M,Y)=>{Y&&(k.current=setTimeout(()=>{y({visible:!0,x:window.innerWidth/2,y:window.innerHeight-200,messageId:M.id,messageText:M.message})},500))},R=()=>{k.current&&(clearTimeout(k.current),k.current=null)},q=async()=>{if(!(!v||!v.text.trim()))try{const{updateData:M,SHEETS:Y}=await st(async()=>{const{updateData:ee,SHEETS:D}=await Promise.resolve().then(()=>ot);return{updateData:ee,SHEETS:D}},void 0);await M(Y.CHAT_MESSAGES,{id:v.id,message:v.text.trim(),edited:!0}),o(t.map(ee=>ee.id===v.id?{...ee,message:v.text.trim(),edited:!0}:ee)),w(null)}catch(M){console.error("Error editing message:",M)}},Z=async M=>{try{const{deleteData:Y,SHEETS:ee}=await st(async()=>{const{deleteData:D,SHEETS:J}=await Promise.resolve().then(()=>ot);return{deleteData:D,SHEETS:J}},void 0);await Y(ee.CHAT_MESSAGES,M),o(t.filter(D=>D.id!==M)),y(null)}catch(Y){console.error("Error deleting message:",Y)}},V=()=>{b&&(w({id:b.messageId,text:b.messageText}),y(null))},G=async()=>{if(!c.trim()||!e)return;const M=e.namaLengkap||e.nama||e.username,Y=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ee=new Date().toISOString(),D=c.trim(),J={id:Y,sender:M,role:e.role,message:D,timestamp:ee};a(J),u("");const z=`chat_last_read_${e.username}`;localStorage.setItem(z,ee);try{const{createData:L,SHEETS:te}=await st(async()=>{const{createData:de,SHEETS:fe}=await Promise.resolve().then(()=>ot);return{createData:de,SHEETS:fe}},void 0),ye={sender:M,role:e.role,message:D,timestamp:ee};(await L(te.CHAT_MESSAGES,ye)).success||(s(Y),console.error("Failed to send message"))}catch(L){s(Y),console.error("Error sending message:",L)}},re=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),v?q():G()),M.key==="Escape"&&v&&w(null)};return r?i.jsxs(Yt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:Ge("fixed left-4 bottom-4 z-50 w-80 md:w-96","bg-card dark:bg-dark-800","rounded-lg shadow-soft-xl","border border-border","overflow-hidden"),children:[i.jsx("div",{className:"relative px-4 py-3 bg-primary-500 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-1.5 bg-white/15 rounded-md",children:i.jsx(Em,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Chat Tim"}),i.jsxs("p",{className:"text-[11px] text-white/60",children:[t.length," pesan"]})]})]}),i.jsx("button",{onClick:n,className:"p-1.5 hover:bg-white/15 rounded-md transition-colors",children:i.jsx(Xa,{className:"h-4 w-4"})})]})}),(b==null?void 0:b.visible)&&i.jsxs("div",{ref:N,className:"fixed z-[100] bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 min-w-[140px]",style:{left:Math.min(b.x,window.innerWidth-160),top:Math.min(b.y,window.innerHeight-100)},children:[i.jsxs("button",{onClick:V,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:[i.jsx(vy,{className:"h-4 w-4"}),"Edit"]}),i.jsxs("button",{onClick:()=>Z(b.messageId),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[i.jsx(lr,{className:"h-4 w-4"}),"Hapus"]})]}),i.jsxs("div",{ref:p,onScroll:T,className:"h-80 overflow-y-auto p-4 space-y-3 bg-muted/30 dark:bg-dark-900/40",children:[t.length===0?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3 rounded-lg bg-muted flex items-center justify-center",children:i.jsx(Em,{className:"h-7 w-7 opacity-40"})}),i.jsx("p",{className:"text-sm font-medium",children:"Belum ada pesan"}),i.jsx("p",{className:"text-xs mt-1",children:"Mulai percakapan dengan tim!"})]}):t.map((M,Y)=>{const ee=M.sender===((e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||(e==null?void 0:e.username)),D=Y===0||t[Y-1].sender!==M.sender;return i.jsxs(Yt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Ge("flex gap-2",ee?"justify-end":"justify-start"),children:[!ee&&D&&i.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-md bg-primary-100 dark:bg-primary-900/40 flex items-center justify-center text-primary-600 dark:text-primary-400 text-xs font-semibold",children:M.sender.charAt(0).toUpperCase()}),!ee&&!D&&i.jsx("div",{className:"w-7"}),i.jsxs("div",{onContextMenu:J=>E(J,M,ee),onTouchStart:()=>A(M,ee),onTouchEnd:R,onTouchMove:R,className:Ge("max-w-[75%] rounded-lg px-3 py-2 select-none","transition-all duration-150",ee?"bg-primary-500 text-white rounded-br-sm cursor-pointer":"bg-card dark:bg-dark-700 text-foreground border border-border rounded-bl-sm"),children:[!ee&&D&&i.jsxs("p",{className:"text-xs font-semibold text-primary-600 dark:text-primary-400 mb-1",children:[M.sender,i.jsxs("span",{className:"ml-1 font-normal text-muted-foreground capitalize",children:[" ",M.role]})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:M.message}),i.jsxs("div",{className:Ge("flex items-center gap-1 mt-1",ee?"justify-end":"justify-start"),children:[i.jsx("p",{className:Ge("text-[10px]",ee?"text-white/60":"text-muted-foreground"),children:new Date(M.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}),M.edited&&i.jsx("span",{className:Ge("text-[10px] italic",ee?"text-white/50":"text-muted-foreground"),children:"(diedit)"})]})]})]},M.id||Y)}),i.jsx("div",{ref:h})]}),v&&i.jsxs("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/30 border-t border-amber-200 dark:border-amber-700 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-300",children:[i.jsx(vy,{className:"h-4 w-4"}),i.jsx("span",{children:"Mengedit pesan"})]}),i.jsx("button",{onClick:()=>w(null),className:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:i.jsx(Xa,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"p-3 border-t border-border bg-card dark:bg-dark-800",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("input",{type:"text",value:v?v.text:c,onChange:M=>v?w({...v,text:M.target.value}):u(M.target.value),onKeyDown:re,placeholder:v?"Edit pesan...":"Ketik pesan...",className:Ge("w-full px-3 py-2 bg-muted dark:bg-dark-900 border rounded-lg text-sm","focus:outline-none focus:ring-1 focus:ring-ring transition-all duration-150","text-foreground placeholder-muted-foreground",v?"border-amber-400 dark:border-amber-500 bg-amber-50/50 dark:bg-amber-900/20":"border-border focus:border-primary-500")})}),i.jsx(Yt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v?q:G,disabled:v?!v.text.trim():!c.trim()||d,className:Ge("p-2.5 text-white rounded-lg transition-all duration-150","disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",v?"bg-amber-500 hover:bg-amber-600":"bg-primary-500 hover:bg-primary-600"),children:v?i.jsx(vy,{className:"h-5 w-5"}):i.jsx(QD,{className:"h-5 w-5"})})]})})]}):null},wee=({children:e})=>{const{sidebarCollapsed:t,darkMode:r,forceDesktopView:n}=hx(),{isOpen:a}=vm();return j.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),j.useEffect(()=>{n?document.documentElement.classList.add("force-desktop"):document.documentElement.classList.remove("force-desktop")},[n]),i.jsxs("div",{className:Ge("min-h-screen bg-background transition-colors duration-200",n&&"force-desktop-view"),children:[i.jsx("div",{className:Ge("fixed top-0 right-0 z-40 transition-all duration-300",n?"left-64":"left-0 lg:left-64",t&&(n?"left-20":"lg:left-20")),children:i.jsx(mee,{})}),i.jsx(vee,{}),i.jsx(yee,{}),i.jsx("main",{className:Ge("pt-[5.5rem] min-h-screen transition-all duration-300",n?"pl-64":"pl-0 lg:pl-64",t&&(n?"pl-20":"lg:pl-20")),children:i.jsx("div",{className:"p-4 lg:p-6",children:e||i.jsx(y7,{})})}),i.jsx(Po,{children:a&&i.jsx(bee,{})})]})},kee=()=>{st(async()=>{const{fetchDataByPlant:e,SHEETS:t}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:e,SHEETS:t}},void 0).then(({fetchDataByPlant:e,SHEETS:t})=>{Promise.all([e(t.PRODUKSI_NPK),e(t.PRODUKSI_BLENDING),e(t.DOWNTIME),e(t.WORK_REQUEST)]).catch(()=>{})})},jee=()=>{const e=d0(),{login:t}=Et(),[r,n]=j.useState(""),[a,s]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(""),h=j.useCallback(async p=>{p.preventDefault(),f("");const g=r.trim();if(!g||!a){f("Username dan password harus diisi");return}u(!0);try{const m=await uM(g,a);if(m.success&&m.data){const x=m.data.user,b=m.data.session,y=z9("device");t(x,b.id,y),kee(),e("/dashboard",{replace:!0})}else f(m.error||"Username atau password salah"),u(!1)}catch(m){console.error("Login error:",m),f("Terjadi kesalahan. Silakan coba lagi."),u(!1)}},[r,a,t,e]);return i.jsxs("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-500/5 rounded-full blur-3xl"})]}),i.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Yt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center h-14 w-14 rounded-xl bg-primary-500 mb-4",children:i.jsx(mh,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-xl font-display font-semibold text-white",children:"NPK Production"}),i.jsx("p",{className:"text-dark-400 text-sm mt-1",children:"Management System"})]}),i.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-6 text-center",children:"Selamat Datang"}),i.jsxs("form",{onSubmit:h,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Username"}),i.jsxs("div",{className:"relative",children:[i.jsx(gh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),i.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan username",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(_m,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),i.jsx("input",{type:o?"text":"password",value:a,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan password",required:!0}),i.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-500 hover:text-white transition-colors",children:o?i.jsx(pH,{className:"h-5 w-5"}):i.jsx(Ss,{className:"h-5 w-5"})})]})]}),d&&i.jsx(Yt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/15 border border-red-500/30 rounded-lg text-red-300 text-sm text-center",children:d}),i.jsx(ge,{type:"submit",className:"w-full py-3",isLoading:c,children:"Masuk"})]})]}),i.jsx("p",{className:"text-center text-dark-500 text-xs mt-6",children:" 2025 NPK Production Management System"})]})]})};var See=Array.isArray,ma=See,Nee=typeof C0=="object"&&C0&&C0.Object===Object&&C0,lI=Nee,Tee=lI,Pee=typeof self=="object"&&self&&self.Object===Object&&self,_ee=Tee||Pee||Function("return this")(),zi=_ee,Eee=zi,Aee=Eee.Symbol,j0=Aee,x_=j0,cI=Object.prototype,Oee=cI.hasOwnProperty,Cee=cI.toString,Cd=x_?x_.toStringTag:void 0;function Dee(e){var t=Oee.call(e,Cd),r=e[Cd];try{e[Cd]=void 0;var n=!0}catch{}var a=Cee.call(e);return n&&(t?e[Cd]=r:delete e[Cd]),a}var Mee=Dee,Ree=Object.prototype,Iee=Ree.toString;function Lee(e){return Iee.call(e)}var Fee=Lee,v_=j0,$ee=Mee,Bee=Fee,Uee="[object Null]",Kee="[object Undefined]",y_=v_?v_.toStringTag:void 0;function Vee(e){return e==null?e===void 0?Kee:Uee:y_&&y_ in Object(e)?$ee(e):Bee(e)}var Ts=Vee;function zee(e){return e!=null&&typeof e=="object"}var Ps=zee,Hee=Ts,Wee=Ps,Gee="[object Symbol]";function qee(e){return typeof e=="symbol"||Wee(e)&&Hee(e)==Gee}var ad=qee,Yee=ma,Xee=ad,Jee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qee=/^\w*$/;function Zee(e,t){if(Yee(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Xee(e)?!0:Qee.test(e)||!Jee.test(e)||t!=null&&e in Object(t)}var yj=Zee;function ete(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wo=ete;const id=$t(Wo);var tte=Ts,rte=Wo,nte="[object AsyncFunction]",ate="[object Function]",ite="[object GeneratorFunction]",ste="[object Proxy]";function ote(e){if(!rte(e))return!1;var t=tte(e);return t==ate||t==ite||t==nte||t==ste}var bj=ote;const pt=$t(bj);var lte=zi,cte=lte["__core-js_shared__"],ute=cte,Ey=ute,b_=function(){var e=/[^.]+$/.exec(Ey&&Ey.keys&&Ey.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dte(e){return!!b_&&b_ in e}var fte=dte,hte=Function.prototype,pte=hte.toString;function mte(e){if(e!=null){try{return pte.call(e)}catch{}try{return e+""}catch{}}return""}var uI=mte,gte=bj,xte=fte,vte=Wo,yte=uI,bte=/[\\^$.*+?()[\]{}|]/g,wte=/^\[object .+?Constructor\]$/,kte=Function.prototype,jte=Object.prototype,Ste=kte.toString,Nte=jte.hasOwnProperty,Tte=RegExp("^"+Ste.call(Nte).replace(bte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pte(e){if(!vte(e)||xte(e))return!1;var t=gte(e)?Tte:wte;return t.test(yte(e))}var _te=Pte;function Ete(e,t){return e==null?void 0:e[t]}var Ate=Ete,Ote=_te,Cte=Ate;function Dte(e,t){var r=Cte(e,t);return Ote(r)?r:void 0}var rc=Dte,Mte=rc,Rte=Mte(Object,"create"),Mx=Rte,w_=Mx;function Ite(){this.__data__=w_?w_(null):{},this.size=0}var Lte=Ite;function Fte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $te=Fte,Bte=Mx,Ute="__lodash_hash_undefined__",Kte=Object.prototype,Vte=Kte.hasOwnProperty;function zte(e){var t=this.__data__;if(Bte){var r=t[e];return r===Ute?void 0:r}return Vte.call(t,e)?t[e]:void 0}var Hte=zte,Wte=Mx,Gte=Object.prototype,qte=Gte.hasOwnProperty;function Yte(e){var t=this.__data__;return Wte?t[e]!==void 0:qte.call(t,e)}var Xte=Yte,Jte=Mx,Qte="__lodash_hash_undefined__";function Zte(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Jte&&t===void 0?Qte:t,this}var ere=Zte,tre=Lte,rre=$te,nre=Hte,are=Xte,ire=ere;function sd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sd.prototype.clear=tre;sd.prototype.delete=rre;sd.prototype.get=nre;sd.prototype.has=are;sd.prototype.set=ire;var sre=sd;function ore(){this.__data__=[],this.size=0}var lre=ore;function cre(e,t){return e===t||e!==e&&t!==t}var wj=cre,ure=wj;function dre(e,t){for(var r=e.length;r--;)if(ure(e[r][0],t))return r;return-1}var Rx=dre,fre=Rx,hre=Array.prototype,pre=hre.splice;function mre(e){var t=this.__data__,r=fre(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():pre.call(t,r,1),--this.size,!0}var gre=mre,xre=Rx;function vre(e){var t=this.__data__,r=xre(t,e);return r<0?void 0:t[r][1]}var yre=vre,bre=Rx;function wre(e){return bre(this.__data__,e)>-1}var kre=wre,jre=Rx;function Sre(e,t){var r=this.__data__,n=jre(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Nre=Sre,Tre=lre,Pre=gre,_re=yre,Ere=kre,Are=Nre;function od(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}od.prototype.clear=Tre;od.prototype.delete=Pre;od.prototype.get=_re;od.prototype.has=Ere;od.prototype.set=Are;var Ix=od,Ore=rc,Cre=zi,Dre=Ore(Cre,"Map"),kj=Dre,k_=sre,Mre=Ix,Rre=kj;function Ire(){this.size=0,this.__data__={hash:new k_,map:new(Rre||Mre),string:new k_}}var Lre=Ire;function Fre(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $re=Fre,Bre=$re;function Ure(e,t){var r=e.__data__;return Bre(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Lx=Ure,Kre=Lx;function Vre(e){var t=Kre(this,e).delete(e);return this.size-=t?1:0,t}var zre=Vre,Hre=Lx;function Wre(e){return Hre(this,e).get(e)}var Gre=Wre,qre=Lx;function Yre(e){return qre(this,e).has(e)}var Xre=Yre,Jre=Lx;function Qre(e,t){var r=Jre(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Zre=Qre,ene=Lre,tne=zre,rne=Gre,nne=Xre,ane=Zre;function ld(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ld.prototype.clear=ene;ld.prototype.delete=tne;ld.prototype.get=rne;ld.prototype.has=nne;ld.prototype.set=ane;var jj=ld,dI=jj,ine="Expected a function";function Sj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ine);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Sj.Cache||dI),r}Sj.Cache=dI;var fI=Sj;const sne=$t(fI);var one=fI,lne=500;function cne(e){var t=one(e,function(n){return r.size===lne&&r.clear(),n}),r=t.cache;return t}var une=cne,dne=une,fne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hne=/\\(\\)?/g,pne=dne(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fne,function(r,n,a,s){t.push(a?s.replace(hne,"$1"):n||r)}),t}),mne=pne;function gne(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Nj=gne,j_=j0,xne=Nj,vne=ma,yne=ad,S_=j_?j_.prototype:void 0,N_=S_?S_.toString:void 0;function hI(e){if(typeof e=="string")return e;if(vne(e))return xne(e,hI)+"";if(yne(e))return N_?N_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var bne=hI,wne=bne;function kne(e){return e==null?"":wne(e)}var pI=kne,jne=ma,Sne=yj,Nne=mne,Tne=pI;function Pne(e,t){return jne(e)?e:Sne(e,t)?[e]:Nne(Tne(e))}var mI=Pne,_ne=ad;function Ene(e){if(typeof e=="string"||_ne(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Fx=Ene,Ane=mI,One=Fx;function Cne(e,t){t=Ane(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[One(t[r++])];return r&&r==n?e:void 0}var Tj=Cne,Dne=Tj;function Mne(e,t,r){var n=e==null?void 0:Dne(e,t);return n===void 0?r:n}var gI=Mne;const Pa=$t(gI);function Rne(e){return e==null}var Ine=Rne;const yt=$t(Ine);var Lne=Ts,Fne=ma,$ne=Ps,Bne="[object String]";function Une(e){return typeof e=="string"||!Fne(e)&&$ne(e)&&Lne(e)==Bne}var Kne=Une;const Ul=$t(Kne);var xI={exports:{}},Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=Symbol.for("react.element"),_j=Symbol.for("react.portal"),$x=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Vx=Symbol.for("react.context"),Vne=Symbol.for("react.server_context"),zx=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Wx=Symbol.for("react.suspense_list"),Gx=Symbol.for("react.memo"),qx=Symbol.for("react.lazy"),zne=Symbol.for("react.offscreen"),vI;vI=Symbol.for("react.module.reference");function Za(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pj:switch(e=e.type,e){case $x:case Ux:case Bx:case Hx:case Wx:return e;default:switch(e=e&&e.$$typeof,e){case Vne:case Vx:case zx:case qx:case Gx:case Kx:return e;default:return t}}case _j:return t}}}Ht.ContextConsumer=Vx;Ht.ContextProvider=Kx;Ht.Element=Pj;Ht.ForwardRef=zx;Ht.Fragment=$x;Ht.Lazy=qx;Ht.Memo=Gx;Ht.Portal=_j;Ht.Profiler=Ux;Ht.StrictMode=Bx;Ht.Suspense=Hx;Ht.SuspenseList=Wx;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(e){return Za(e)===Vx};Ht.isContextProvider=function(e){return Za(e)===Kx};Ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pj};Ht.isForwardRef=function(e){return Za(e)===zx};Ht.isFragment=function(e){return Za(e)===$x};Ht.isLazy=function(e){return Za(e)===qx};Ht.isMemo=function(e){return Za(e)===Gx};Ht.isPortal=function(e){return Za(e)===_j};Ht.isProfiler=function(e){return Za(e)===Ux};Ht.isStrictMode=function(e){return Za(e)===Bx};Ht.isSuspense=function(e){return Za(e)===Hx};Ht.isSuspenseList=function(e){return Za(e)===Wx};Ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$x||e===Ux||e===Bx||e===Hx||e===Wx||e===zne||typeof e=="object"&&e!==null&&(e.$$typeof===qx||e.$$typeof===Gx||e.$$typeof===Kx||e.$$typeof===Vx||e.$$typeof===zx||e.$$typeof===vI||e.getModuleId!==void 0)};Ht.typeOf=Za;xI.exports=Ht;var Hne=xI.exports,Wne=Ts,Gne=Ps,qne="[object Number]";function Yne(e){return typeof e=="number"||Gne(e)&&Wne(e)==qne}var yI=Yne;const Xne=$t(yI);var Jne=yI;function Qne(e){return Jne(e)&&e!=+e}var Zne=Qne;const cd=$t(Zne);var Xn=function(t){return t===0?0:t>0?1:-1},yl=function(t){return Ul(t)&&t.indexOf("%")===t.length-1},ze=function(t){return Xne(t)&&!cd(t)},eae=function(t){return yt(t)},Xr=function(t){return ze(t)||Ul(t)},tae=0,ud=function(t){var r=++tae;return"".concat(t||"").concat(r)},Jn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&!Ul(t))return n;var s;if(yl(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return cd(s)&&(s=n),a&&s>r&&(s=r),s},lo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},rae=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},aa=function(t,r){return ze(t)&&ze(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ym(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Pa(n,t))===r})}var nae=function(t,r){return ze(t)&&ze(r)?t-r:Ul(t)&&Ul(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ru(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}var aae=["viewBox","children"],iae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],T_=["points","pathLength"],Ay={svg:aae,polygon:T_,polyline:T_},Ej=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!id(n))return null;var a={};return Object.keys(n).forEach(function(s){Ej.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},sae=function(t,r,n){return function(a){return t(r,n,a),null}},Kl=function(t,r,n){if(!id(t)||Vb(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Ej.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=sae(o,r,n))}),a},oae=["children"],lae=["children"];function P_(e,t){if(e==null)return{};var r=cae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}var __={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},us=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},E_=null,Oy=null,Aj=function e(t){if(t===E_&&Array.isArray(Oy))return Oy;var r=[];return j.Children.forEach(t,function(n){yt(n)||(Hne.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Oy=r,E_=t,r};function Ga(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return us(a)}):n=[us(t)],Aj(e).forEach(function(a){var s=Pa(a,"type.displayName")||Pa(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function ya(e,t){var r=Ga(e,t);return r&&r[0]}var A_=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ze(n)||n<=0||!ze(a)||a<=0)},uae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dae=function(t){return t&&t.type&&Ul(t.type)&&uae.indexOf(t.type)>=0},fae=function(t){return t&&zb(t)==="object"&&"clipDot"in t},hae=function(t,r,n,a){var s,o=(s=Ay==null?void 0:Ay[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!pt(t)&&(a&&o.includes(r)||iae.includes(r))||n&&Ej.includes(r)},ct=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!id(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;hae((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},Hb=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return O_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!O_(s,o))return!1}return!0},O_=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},a=n.children,s=P_(n,oae),o=r.props||{},l=o.children,c=P_(o,lae);return a&&l?ru(s,c)&&Hb(a,l):!a&&!l?ru(s,c):!1}return!1},C_=function(t,r){var n=[],a={};return Aj(t).forEach(function(s,o){if(dae(s))n.push(s);else if(s){var l=us(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},pae=function(t){var r=t&&t.type;return r&&__[r]?__[r]:null},mae=function(t,r){return Aj(r).indexOf(t)},gae=["children","width","height","viewBox","className","style","title","desc"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function xae(e,t){if(e==null)return{};var r=vae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gb(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=xae(e,gae),d=a||{width:r,height:n,x:0,y:0},f=vt("recharts-surface",s);return pe.createElement("svg",Wb({},ct(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),pe.createElement("title",null,l),pe.createElement("desc",null,c),t)}var yae=["children","className"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(this,arguments)}function bae(e,t){if(e==null)return{};var r=wae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ot=pe.forwardRef(function(e,t){var r=e.children,n=e.className,a=bae(e,yae),s=vt("recharts-layer",n);return pe.createElement("g",qb({className:s},ct(a,!0),{ref:t}),r)}),yi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function kae(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var jae=kae,Sae=jae;function Nae(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Sae(e,t,r)}var Tae=Nae,Pae="\\ud800-\\udfff",_ae="\\u0300-\\u036f",Eae="\\ufe20-\\ufe2f",Aae="\\u20d0-\\u20ff",Oae=_ae+Eae+Aae,Cae="\\ufe0e\\ufe0f",Dae="\\u200d",Mae=RegExp("["+Dae+Pae+Oae+Cae+"]");function Rae(e){return Mae.test(e)}var bI=Rae;function Iae(e){return e.split("")}var Lae=Iae,wI="\\ud800-\\udfff",Fae="\\u0300-\\u036f",$ae="\\ufe20-\\ufe2f",Bae="\\u20d0-\\u20ff",Uae=Fae+$ae+Bae,Kae="\\ufe0e\\ufe0f",Vae="["+wI+"]",Yb="["+Uae+"]",Xb="\\ud83c[\\udffb-\\udfff]",zae="(?:"+Yb+"|"+Xb+")",kI="[^"+wI+"]",jI="(?:\\ud83c[\\udde6-\\uddff]){2}",SI="[\\ud800-\\udbff][\\udc00-\\udfff]",Hae="\\u200d",NI=zae+"?",TI="["+Kae+"]?",Wae="(?:"+Hae+"(?:"+[kI,jI,SI].join("|")+")"+TI+NI+")*",Gae=TI+NI+Wae,qae="(?:"+[kI+Yb+"?",Yb,jI,SI,Vae].join("|")+")",Yae=RegExp(Xb+"(?="+Xb+")|"+qae+Gae,"g");function Xae(e){return e.match(Yae)||[]}var Jae=Xae,Qae=Lae,Zae=bI,eie=Jae;function tie(e){return Zae(e)?eie(e):Qae(e)}var rie=tie,nie=Tae,aie=bI,iie=rie,sie=pI;function oie(e){return function(t){t=sie(t);var r=aie(t)?iie(t):void 0,n=r?r[0]:t.charAt(0),a=r?nie(r,1).join(""):t.slice(1);return n[e]()+a}}var lie=oie,cie=lie,uie=cie("toUpperCase"),die=uie;const Yx=$t(die);function Zt(e){return function(){return e}}const PI=Math.cos,Jm=Math.sin,ki=Math.sqrt,Qm=Math.PI,Xx=2*Qm,Jb=Math.PI,Qb=2*Jb,ll=1e-6,fie=Qb-ll;function _I(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _I;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class pie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_I:hie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ll)if(!(Math.abs(f*c-u*d)>ll)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-l,m=c*c+u*u,x=p*p+g*g,b=Math.sqrt(m),y=Math.sqrt(h),v=s*Math.tan((Jb-Math.acos((m+h-x)/(2*b*y)))/2),w=v/y,k=v/b;Math.abs(w-1)>ll&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ll||Math.abs(this._y1-d)>ll)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Qb+Qb),h>fie?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ll&&this._append`A${n},${n},0,${+(h>=Jb)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Oj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new pie(t)}function Cj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EI(e){this._context=e}EI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jx(e){return new EI(e)}function AI(e){return e[0]}function OI(e){return e[1]}function CI(e,t){var r=Zt(!0),n=null,a=Jx,s=null,o=Oj(l);e=typeof e=="function"?e:e===void 0?AI:Zt(e),t=typeof t=="function"?t:t===void 0?OI:Zt(t);function l(c){var u,d=(c=Cj(c)).length,f,h=!1,p;for(n==null&&(s=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Zt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function fp(e,t,r){var n=null,a=Zt(!0),s=null,o=Jx,l=null,c=Oj(u);e=typeof e=="function"?e:e===void 0?AI:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?OI:Zt(+r);function u(f){var h,p,g,m=(f=Cj(f)).length,x,b=!1,y,v=new Array(m),w=new Array(m);for(s==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(v[g],w[g]);l.lineEnd(),l.areaEnd()}b&&(v[h]=+e(x,h,f),w[h]=+t(x,h,f),l.point(n?+n(x,h,f):v[h],r?+r(x,h,f):w[h]))}if(y)return l=null,y+""||null}function d(){return CI().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Zt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class DI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mie(e){return new DI(e,!0)}function gie(e){return new DI(e,!1)}const Dj={draw(e,t){const r=ki(t/Qm);e.moveTo(r,0),e.arc(0,0,r,0,Xx)}},xie={draw(e,t){const r=ki(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MI=ki(1/3),vie=MI*2,yie={draw(e,t){const r=ki(t/vie),n=r*MI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},bie={draw(e,t){const r=ki(t),n=-r/2;e.rect(n,n,r,r)}},wie=.8908130915292852,RI=Jm(Qm/10)/Jm(7*Qm/10),kie=Jm(Xx/10)*RI,jie=-PI(Xx/10)*RI,Sie={draw(e,t){const r=ki(t*wie),n=kie*r,a=jie*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Xx*s/5,l=PI(o),c=Jm(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Cy=ki(3),Nie={draw(e,t){const r=-ki(t/(Cy*3));e.moveTo(0,r*2),e.lineTo(-Cy*r,-r),e.lineTo(Cy*r,-r),e.closePath()}},Ma=-.5,Ra=ki(3)/2,Zb=1/ki(12),Tie=(Zb/2+1)*3,Pie={draw(e,t){const r=ki(t/Tie),n=r/2,a=r*Zb,s=n,o=r*Zb+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ma*n-Ra*a,Ra*n+Ma*a),e.lineTo(Ma*s-Ra*o,Ra*s+Ma*o),e.lineTo(Ma*l-Ra*c,Ra*l+Ma*c),e.lineTo(Ma*n+Ra*a,Ma*a-Ra*n),e.lineTo(Ma*s+Ra*o,Ma*o-Ra*s),e.lineTo(Ma*l+Ra*c,Ma*c-Ra*l),e.closePath()}};function _ie(e,t){let r=null,n=Oj(a);e=typeof e=="function"?e:Zt(e||Dj),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Zt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Zt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Zm(){}function eg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function II(e){this._context=e}II.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eie(e){return new II(e)}function LI(e){this._context=e}LI.prototype={areaStart:Zm,areaEnd:Zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Aie(e){return new LI(e)}function FI(e){this._context=e}FI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oie(e){return new FI(e)}function $I(e){this._context=e}$I.prototype={areaStart:Zm,areaEnd:Zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cie(e){return new $I(e)}function D_(e){return e<0?-1:1}function M_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(D_(s)+D_(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function R_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Dy(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function tg(e){this._context=e}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dy(this,this._t0,R_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Dy(this,R_(this,r=M_(this,e,t)),r);break;default:Dy(this,this._t0,r=M_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function BI(e){this._context=new UI(e)}(BI.prototype=Object.create(tg.prototype)).point=function(e,t){tg.prototype.point.call(this,t,e)};function UI(e){this._context=e}UI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Die(e){return new tg(e)}function Mie(e){return new BI(e)}function KI(e){this._context=e}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=I_(e),a=I_(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function I_(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Rie(e){return new KI(e)}function Qx(e,t){this._context=e,this._t=t}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Iie(e){return new Qx(e,.5)}function Lie(e){return new Qx(e,0)}function Fie(e){return new Qx(e,1)}function bu(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ew(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $ie(e,t){return e[t]}function Bie(e){const t=[];return t.key=e,t}function Uie(){var e=Zt([]),t=ew,r=bu,n=$ie;function a(s){var o=Array.from(e.apply(this,arguments),Bie),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Cj(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Zt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Zt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?ew:typeof s=="function"?s:Zt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??bu,a):r},a}function Kie(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}bu(e,t)}}function Vie(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}bu(e,t)}}function zie(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],x=m[n][1]||0,b=m[n-1][1]||0;p+=x-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,bu(e,t)}}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}var Hie=["type","size","sizeType"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wie(e,t,r){return t=Gie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gie(e){var t=qie(e,"string");return Nh(t)=="symbol"?t:t+""}function qie(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yie(e,t){if(e==null)return{};var r=Xie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VI={symbolCircle:Dj,symbolCross:xie,symbolDiamond:yie,symbolSquare:bie,symbolStar:Sie,symbolTriangle:Nie,symbolWye:Pie},Jie=Math.PI/180,Qie=function(t){var r="symbol".concat(Yx(t));return VI[r]||Dj},Zie=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Jie;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ese=function(t,r){VI["symbol".concat(Yx(t))]=r},Mj=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Yie(t,Hie),u=F_(F_({},c),{},{type:n,size:s,sizeType:l}),d=function(){var x=Qie(n),b=_ie().type(x).size(Zie(s,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=ct(u,!0);return h===+h&&p===+p&&s===+s?pe.createElement("path",tw({},g,{className:vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Mj.registerSymbol=ese;function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){Th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HI(n.key),n)}}function ase(e,t,r){return t&&nse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ise(e,t,r){return t=rg(t),sse(e,zI()?Reflect.construct(t,r||[],rg(e).constructor):t.apply(e,r))}function sse(e,t){if(t&&(wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ose(e)}function ose(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!e})()}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(e)}function lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nw(e,t)}function Th(e,t,r){return t=HI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HI(e){var t=cse(e,"string");return wu(t)=="symbol"?t:t+""}function cse(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ia=32,Rj=function(e){function t(){return rse(this,t),ise(this,t,arguments)}return lse(t,e),ase(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ia/2,o=Ia/6,l=Ia/3,c=n.inactive?a:n.color;if(n.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ia,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ia,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return pe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ia/8,"h").concat(Ia,"v").concat(Ia*3/4,"h").concat(-Ia,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(n.legendIcon)){var u=tse({},n);return delete u.legendIcon,pe.cloneElement(n.legendIcon,u)}return pe.createElement(Mj,{fill:c,cx:s,cy:s,size:Ia,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ia,height:Ia},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||c,x=vt(Th(Th({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=pt(p.value)?null:p.value;yi(!pt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return pe.createElement("li",rw({className:x,style:f,key:"legend-item-".concat(g)},Kl(n.props,p,g)),pe.createElement(Gb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);Th(Rj,"displayName","Legend");Th(Rj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var use=Ix;function dse(){this.__data__=new use,this.size=0}var fse=dse;function hse(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var pse=hse;function mse(e){return this.__data__.get(e)}var gse=mse;function xse(e){return this.__data__.has(e)}var vse=xse,yse=Ix,bse=kj,wse=jj,kse=200;function jse(e,t){var r=this.__data__;if(r instanceof yse){var n=r.__data__;if(!bse||n.length<kse-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wse(n)}return r.set(e,t),this.size=r.size,this}var Sse=jse,Nse=Ix,Tse=fse,Pse=pse,_se=gse,Ese=vse,Ase=Sse;function dd(e){var t=this.__data__=new Nse(e);this.size=t.size}dd.prototype.clear=Tse;dd.prototype.delete=Pse;dd.prototype.get=_se;dd.prototype.has=Ese;dd.prototype.set=Ase;var WI=dd,Ose="__lodash_hash_undefined__";function Cse(e){return this.__data__.set(e,Ose),this}var Dse=Cse;function Mse(e){return this.__data__.has(e)}var Rse=Mse,Ise=jj,Lse=Dse,Fse=Rse;function ng(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ise;++t<r;)this.add(e[t])}ng.prototype.add=ng.prototype.push=Lse;ng.prototype.has=Fse;var GI=ng;function $se(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var qI=$se;function Bse(e,t){return e.has(t)}var YI=Bse,Use=GI,Kse=qI,Vse=YI,zse=1,Hse=2;function Wse(e,t,r,n,a,s){var o=r&zse,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Hse?new Use:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var x=o?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Kse(t,function(b,y){if(!Vse(p,y)&&(g===b||a(g,b,r,n,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var XI=Wse,Gse=zi,qse=Gse.Uint8Array,Yse=qse;function Xse(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Jse=Xse;function Qse(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ij=Qse,B_=j0,U_=Yse,Zse=wj,eoe=XI,toe=Jse,roe=Ij,noe=1,aoe=2,ioe="[object Boolean]",soe="[object Date]",ooe="[object Error]",loe="[object Map]",coe="[object Number]",uoe="[object RegExp]",doe="[object Set]",foe="[object String]",hoe="[object Symbol]",poe="[object ArrayBuffer]",moe="[object DataView]",K_=B_?B_.prototype:void 0,My=K_?K_.valueOf:void 0;function goe(e,t,r,n,a,s,o){switch(r){case moe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case poe:return!(e.byteLength!=t.byteLength||!s(new U_(e),new U_(t)));case ioe:case soe:case coe:return Zse(+e,+t);case ooe:return e.name==t.name&&e.message==t.message;case uoe:case foe:return e==t+"";case loe:var l=toe;case doe:var c=n&noe;if(l||(l=roe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=aoe,o.set(e,t);var d=eoe(l(e),l(t),n,a,s,o);return o.delete(e),d;case hoe:if(My)return My.call(e)==My.call(t)}return!1}var xoe=goe;function voe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var JI=voe,yoe=JI,boe=ma;function woe(e,t,r){var n=t(e);return boe(e)?n:yoe(n,r(e))}var koe=woe;function joe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Soe=joe;function Noe(){return[]}var Toe=Noe,Poe=Soe,_oe=Toe,Eoe=Object.prototype,Aoe=Eoe.propertyIsEnumerable,V_=Object.getOwnPropertySymbols,Ooe=V_?function(e){return e==null?[]:(e=Object(e),Poe(V_(e),function(t){return Aoe.call(e,t)}))}:_oe,Coe=Ooe;function Doe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Moe=Doe,Roe=Ts,Ioe=Ps,Loe="[object Arguments]";function Foe(e){return Ioe(e)&&Roe(e)==Loe}var $oe=Foe,z_=$oe,Boe=Ps,QI=Object.prototype,Uoe=QI.hasOwnProperty,Koe=QI.propertyIsEnumerable,Voe=z_(function(){return arguments}())?z_:function(e){return Boe(e)&&Uoe.call(e,"callee")&&!Koe.call(e,"callee")},Lj=Voe,ag={exports:{}};function zoe(){return!1}var Hoe=zoe;ag.exports;(function(e,t){var r=zi,n=Hoe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ag,ag.exports);var ZI=ag.exports,Woe=9007199254740991,Goe=/^(?:0|[1-9]\d*)$/;function qoe(e,t){var r=typeof e;return t=t??Woe,!!t&&(r=="number"||r!="symbol"&&Goe.test(e))&&e>-1&&e%1==0&&e<t}var Fj=qoe,Yoe=9007199254740991;function Xoe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yoe}var $j=Xoe,Joe=Ts,Qoe=$j,Zoe=Ps,ele="[object Arguments]",tle="[object Array]",rle="[object Boolean]",nle="[object Date]",ale="[object Error]",ile="[object Function]",sle="[object Map]",ole="[object Number]",lle="[object Object]",cle="[object RegExp]",ule="[object Set]",dle="[object String]",fle="[object WeakMap]",hle="[object ArrayBuffer]",ple="[object DataView]",mle="[object Float32Array]",gle="[object Float64Array]",xle="[object Int8Array]",vle="[object Int16Array]",yle="[object Int32Array]",ble="[object Uint8Array]",wle="[object Uint8ClampedArray]",kle="[object Uint16Array]",jle="[object Uint32Array]",ir={};ir[mle]=ir[gle]=ir[xle]=ir[vle]=ir[yle]=ir[ble]=ir[wle]=ir[kle]=ir[jle]=!0;ir[ele]=ir[tle]=ir[hle]=ir[rle]=ir[ple]=ir[nle]=ir[ale]=ir[ile]=ir[sle]=ir[ole]=ir[lle]=ir[cle]=ir[ule]=ir[dle]=ir[fle]=!1;function Sle(e){return Zoe(e)&&Qoe(e.length)&&!!ir[Joe(e)]}var Nle=Sle;function Tle(e){return function(t){return e(t)}}var e6=Tle,ig={exports:{}};ig.exports;(function(e,t){var r=lI,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ig,ig.exports);var Ple=ig.exports,_le=Nle,Ele=e6,H_=Ple,W_=H_&&H_.isTypedArray,Ale=W_?Ele(W_):_le,t6=Ale,Ole=Moe,Cle=Lj,Dle=ma,Mle=ZI,Rle=Fj,Ile=t6,Lle=Object.prototype,Fle=Lle.hasOwnProperty;function $le(e,t){var r=Dle(e),n=!r&&Cle(e),a=!r&&!n&&Mle(e),s=!r&&!n&&!a&&Ile(e),o=r||n||a||s,l=o?Ole(e.length,String):[],c=l.length;for(var u in e)(t||Fle.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rle(u,c)))&&l.push(u);return l}var Ble=$le,Ule=Object.prototype;function Kle(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ule;return e===r}var Vle=Kle;function zle(e,t){return function(r){return e(t(r))}}var r6=zle,Hle=r6,Wle=Hle(Object.keys,Object),Gle=Wle,qle=Vle,Yle=Gle,Xle=Object.prototype,Jle=Xle.hasOwnProperty;function Qle(e){if(!qle(e))return Yle(e);var t=[];for(var r in Object(e))Jle.call(e,r)&&r!="constructor"&&t.push(r);return t}var Zle=Qle,ece=bj,tce=$j;function rce(e){return e!=null&&tce(e.length)&&!ece(e)}var S0=rce,nce=Ble,ace=Zle,ice=S0;function sce(e){return ice(e)?nce(e):ace(e)}var Zx=sce,oce=koe,lce=Coe,cce=Zx;function uce(e){return oce(e,cce,lce)}var dce=uce,G_=dce,fce=1,hce=Object.prototype,pce=hce.hasOwnProperty;function mce(e,t,r,n,a,s){var o=r&fce,l=G_(e),c=l.length,u=G_(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:pce.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var v=o?n(y,b,h,t,e,s):n(b,y,h,e,t,s);if(!(v===void 0?b===y||a(b,y,r,n,s):v)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var w=e.constructor,k=t.constructor;w!=k&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof k=="function"&&k instanceof k)&&(m=!1)}return s.delete(e),s.delete(t),m}var gce=mce,xce=rc,vce=zi,yce=xce(vce,"DataView"),bce=yce,wce=rc,kce=zi,jce=wce(kce,"Promise"),Sce=jce,Nce=rc,Tce=zi,Pce=Nce(Tce,"Set"),n6=Pce,_ce=rc,Ece=zi,Ace=_ce(Ece,"WeakMap"),Oce=Ace,aw=bce,iw=kj,sw=Sce,ow=n6,lw=Oce,a6=Ts,fd=uI,q_="[object Map]",Cce="[object Object]",Y_="[object Promise]",X_="[object Set]",J_="[object WeakMap]",Q_="[object DataView]",Dce=fd(aw),Mce=fd(iw),Rce=fd(sw),Ice=fd(ow),Lce=fd(lw),cl=a6;(aw&&cl(new aw(new ArrayBuffer(1)))!=Q_||iw&&cl(new iw)!=q_||sw&&cl(sw.resolve())!=Y_||ow&&cl(new ow)!=X_||lw&&cl(new lw)!=J_)&&(cl=function(e){var t=a6(e),r=t==Cce?e.constructor:void 0,n=r?fd(r):"";if(n)switch(n){case Dce:return Q_;case Mce:return q_;case Rce:return Y_;case Ice:return X_;case Lce:return J_}return t});var Fce=cl,Ry=WI,$ce=XI,Bce=xoe,Uce=gce,Z_=Fce,eE=ma,tE=ZI,Kce=t6,Vce=1,rE="[object Arguments]",nE="[object Array]",hp="[object Object]",zce=Object.prototype,aE=zce.hasOwnProperty;function Hce(e,t,r,n,a,s){var o=eE(e),l=eE(t),c=o?nE:Z_(e),u=l?nE:Z_(t);c=c==rE?hp:c,u=u==rE?hp:u;var d=c==hp,f=u==hp,h=c==u;if(h&&tE(e)){if(!tE(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Ry),o||Kce(e)?$ce(e,t,r,n,a,s):Bce(e,t,c,r,n,a,s);if(!(r&Vce)){var p=d&&aE.call(e,"__wrapped__"),g=f&&aE.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,x=g?t.value():t;return s||(s=new Ry),a(m,x,r,n,s)}}return h?(s||(s=new Ry),Uce(e,t,r,n,a,s)):!1}var Wce=Hce,Gce=Wce,iE=Ps;function i6(e,t,r,n,a){return e===t?!0:e==null||t==null||!iE(e)&&!iE(t)?e!==e&&t!==t:Gce(e,t,r,n,i6,a)}var Bj=i6,qce=WI,Yce=Bj,Xce=1,Jce=2;function Qce(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new qce;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Yce(d,u,Xce|Jce,n,f):h))return!1}}return!0}var Zce=Qce,eue=Wo;function tue(e){return e===e&&!eue(e)}var s6=tue,rue=s6,nue=Zx;function aue(e){for(var t=nue(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,rue(a)]}return t}var iue=aue;function sue(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var o6=sue,oue=Zce,lue=iue,cue=o6;function uue(e){var t=lue(e);return t.length==1&&t[0][2]?cue(t[0][0],t[0][1]):function(r){return r===e||oue(r,e,t)}}var due=uue;function fue(e,t){return e!=null&&t in Object(e)}var hue=fue,pue=mI,mue=Lj,gue=ma,xue=Fj,vue=$j,yue=Fx;function bue(e,t,r){t=pue(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=yue(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&vue(a)&&xue(o,a)&&(gue(e)||mue(e)))}var wue=bue,kue=hue,jue=wue;function Sue(e,t){return e!=null&&jue(e,t,kue)}var Nue=Sue,Tue=Bj,Pue=gI,_ue=Nue,Eue=yj,Aue=s6,Oue=o6,Cue=Fx,Due=1,Mue=2;function Rue(e,t){return Eue(e)&&Aue(t)?Oue(Cue(e),t):function(r){var n=Pue(r,e);return n===void 0&&n===t?_ue(r,e):Tue(t,n,Due|Mue)}}var Iue=Rue;function Lue(e){return e}var hd=Lue;function Fue(e){return function(t){return t==null?void 0:t[e]}}var $ue=Fue,Bue=Tj;function Uue(e){return function(t){return Bue(t,e)}}var Kue=Uue,Vue=$ue,zue=Kue,Hue=yj,Wue=Fx;function Gue(e){return Hue(e)?Vue(Wue(e)):zue(e)}var que=Gue,Yue=due,Xue=Iue,Jue=hd,Que=ma,Zue=que;function ede(e){return typeof e=="function"?e:e==null?Jue:typeof e=="object"?Que(e)?Xue(e[0],e[1]):Yue(e):Zue(e)}var Hi=ede;function tde(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var l6=tde;function rde(e){return e!==e}var nde=rde;function ade(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ide=ade,sde=l6,ode=nde,lde=ide;function cde(e,t,r){return t===t?lde(e,t,r):sde(e,ode,r)}var ude=cde,dde=ude;function fde(e,t){var r=e==null?0:e.length;return!!r&&dde(e,t,0)>-1}var hde=fde;function pde(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var mde=pde;function gde(){}var xde=gde,Iy=n6,vde=xde,yde=Ij,bde=1/0,wde=Iy&&1/yde(new Iy([,-0]))[1]==bde?function(e){return new Iy(e)}:vde,kde=wde,jde=GI,Sde=hde,Nde=mde,Tde=YI,Pde=kde,_de=Ij,Ede=200;function Ade(e,t,r){var n=-1,a=Sde,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Nde;else if(s>=Ede){var u=t?null:Pde(e);if(u)return _de(u);o=!1,a=Tde,c=new jde}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Ode=Ade,Cde=Hi,Dde=Ode;function Mde(e,t){return e&&e.length?Dde(e,Cde(t)):[]}var Rde=Mde;const sE=$t(Rde);function c6(e,t,r){return t===!0?sE(e,r):pt(t)?sE(e,t):e}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}var Ide=["ref"];function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d6(n.key),n)}}function Fde(e,t,r){return t&&lE(e.prototype,t),r&&lE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $de(e,t,r){return t=sg(t),Bde(e,u6()?Reflect.construct(t,r||[],sg(e).constructor):t.apply(e,r))}function Bde(e,t){if(t&&(ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(e)}function Ude(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u6=function(){return!!e})()}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}function Kde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cw(e,t)}function cw(e,t){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cw(e,t)}function ev(e,t,r){return t=d6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=Vde(e,"string");return ku(t)=="symbol"?t:t+""}function Vde(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zde(e,t){if(e==null)return{};var r=Hde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wde(e){return e.value}function Gde(e,t){if(pe.isValidElement(e))return pe.cloneElement(e,t);if(typeof e=="function")return pe.createElement(e,t);t.ref;var r=zde(t,Ide);return pe.createElement(Rj,r)}var cE=1,Oi=function(e){function t(){var r;Lde(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=$de(this,t,[].concat(a)),ev(r,"lastBoundingBox",{width:-1,height:-1}),r}return Kde(t,e),Fde(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>cE||Math.abs(a.height-this.lastBoundingBox.height)>cE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Gi(Gi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Gi(Gi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return pe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Gde(s,Gi(Gi({},this.props),{},{payload:c6(d,u,Wde)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Gi(Gi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ze(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);ev(Oi,"displayName","Legend");ev(Oi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uE=j0,qde=Lj,Yde=ma,dE=uE?uE.isConcatSpreadable:void 0;function Xde(e){return Yde(e)||qde(e)||!!(dE&&e&&e[dE])}var Jde=Xde,Qde=JI,Zde=Jde;function f6(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=Zde),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?f6(l,t-1,r,n,a):Qde(a,l):n||(a[a.length]=l)}return a}var h6=f6;function efe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var tfe=efe,rfe=tfe,nfe=rfe(),afe=nfe,ife=afe,sfe=Zx;function ofe(e,t){return e&&ife(e,t,sfe)}var p6=ofe,lfe=S0;function cfe(e,t){return function(r,n){if(r==null)return r;if(!lfe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var ufe=cfe,dfe=p6,ffe=ufe,hfe=ffe(dfe),Uj=hfe,pfe=Uj,mfe=S0;function gfe(e,t){var r=-1,n=mfe(e)?Array(e.length):[];return pfe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var m6=gfe;function xfe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var vfe=xfe,fE=ad;function yfe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=fE(e),o=t!==void 0,l=t===null,c=t===t,u=fE(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var bfe=yfe,wfe=bfe;function kfe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=wfe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jfe=kfe,Ly=Nj,Sfe=Tj,Nfe=Hi,Tfe=m6,Pfe=vfe,_fe=e6,Efe=jfe,Afe=hd,Ofe=ma;function Cfe(e,t,r){t.length?t=Ly(t,function(s){return Ofe(s)?function(o){return Sfe(o,s.length===1?s[0]:s)}:s}):t=[Afe];var n=-1;t=Ly(t,_fe(Nfe));var a=Tfe(e,function(s,o,l){var c=Ly(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Pfe(a,function(s,o){return Efe(s,o,r)})}var Dfe=Cfe;function Mfe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Rfe=Mfe,Ife=Rfe,hE=Math.max;function Lfe(e,t,r){return t=hE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=hE(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Ife(e,this,l)}}var Ffe=Lfe;function $fe(e){return function(){return e}}var Bfe=$fe,Ufe=rc,Kfe=function(){try{var e=Ufe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),g6=Kfe,Vfe=Bfe,pE=g6,zfe=hd,Hfe=pE?function(e,t){return pE(e,"toString",{configurable:!0,enumerable:!1,value:Vfe(t),writable:!0})}:zfe,Wfe=Hfe,Gfe=800,qfe=16,Yfe=Date.now;function Xfe(e){var t=0,r=0;return function(){var n=Yfe(),a=qfe-(n-r);if(r=n,a>0){if(++t>=Gfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Jfe=Xfe,Qfe=Wfe,Zfe=Jfe,ehe=Zfe(Qfe),the=ehe,rhe=hd,nhe=Ffe,ahe=the;function ihe(e,t){return ahe(nhe(e,t,rhe),e+"")}var she=ihe,ohe=wj,lhe=S0,che=Fj,uhe=Wo;function dhe(e,t,r){if(!uhe(r))return!1;var n=typeof t;return(n=="number"?lhe(r)&&che(t,r.length):n=="string"&&t in r)?ohe(r[t],e):!1}var tv=dhe,fhe=h6,hhe=Dfe,phe=she,mE=tv,mhe=phe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&mE(e,t[0],t[1])?t=[]:r>2&&mE(t[0],t[1],t[2])&&(t=[t[0]]),hhe(e,fhe(t,1),[])}),ghe=mhe;const Kj=$t(ghe);function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function xhe(e,t){return whe(e)||bhe(e,t)||yhe(e,t)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(e,t){if(e){if(typeof e=="string")return gE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(e,t)}}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function whe(e){if(Array.isArray(e))return e}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){khe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function khe(e,t,r){return t=jhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jhe(e){var t=She(e,"string");return Ph(t)=="symbol"?t:t+""}function She(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nhe(e){return Array.isArray(e)&&Xr(e[0])&&Xr(e[1])?e.join(" ~ "):e}var The=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,v=function(){if(d&&d.length){var A={padding:0,margin:0},R=(h?Kj(d,h):d).map(function(q,Z){if(q.type==="none")return null;var V=Fy({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),G=q.formatter||f||Nhe,re=q.value,M=q.name,Y=re,ee=M;if(G&&Y!=null&&ee!=null){var D=G(re,M,q,Z,d);if(Array.isArray(D)){var J=xhe(D,2);Y=J[0],ee=J[1]}else Y=D}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:V},Xr(ee)?pe.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Xr(ee)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},Y),pe.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:A},R)}return null},w=Fy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),k=Fy({margin:0},u),N=!yt(m),S=N?m:"",T=vt("recharts-default-tooltip",p),P=vt("recharts-tooltip-label",g);N&&x&&d!==void 0&&d!==null&&(S=x(m,d));var _=y?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",uw({className:T,style:w},_),pe.createElement("p",{className:P,style:k},pe.isValidElement(S)?S:"".concat(S)),v())};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function pp(e,t,r){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=_he(e,"string");return _h(t)=="symbol"?t:t+""}function _he(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dd="recharts-tooltip-wrapper",Ehe={visibility:"hidden"};function Ahe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(Dd,pp(pp(pp(pp({},"".concat(Dd,"-right"),ze(r)&&t&&ze(t.x)&&r>=t.x),"".concat(Dd,"-left"),ze(r)&&t&&ze(t.x)&&r<t.x),"".concat(Dd,"-bottom"),ze(n)&&t&&ze(t.y)&&n>=t.y),"".concat(Dd,"-top"),ze(n)&&t&&ze(t.y)&&n<t.y))}function vE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&ze(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Ohe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Che(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=vE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=vE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Ohe({translateX:d,translateY:f,useTranslate3d:l})):u=Ehe,{cssProperties:u,cssClasses:Ahe({translateX:d,translateY:f,coordinate:r})}}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v6(n.key),n)}}function Rhe(e,t,r){return t&&Mhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ihe(e,t,r){return t=og(t),Lhe(e,x6()?Reflect.construct(t,r||[],og(e).constructor):t.apply(e,r))}function Lhe(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fhe(e)}function Fhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x6=function(){return!!e})()}function og(e){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(e)}function $he(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dw(e,t)}function dw(e,t){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dw(e,t)}function fw(e,t,r){return t=v6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6(e){var t=Bhe(e,"string");return ju(t)=="symbol"?t:t+""}function Bhe(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wE=1,Uhe=function(e){function t(){var r;Dhe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ihe(this,t,[].concat(a)),fw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return $he(t,e),Rhe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wE||Math.abs(n.height-this.state.lastBoundingBox.height)>wE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,v=Che({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),w=v.cssClasses,k=v.cssProperties,N=bE(bE({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return pe.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(T){n.wrapperNode=T}},u)}}])}(j.PureComponent),Khe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nc={isSsr:Khe()};function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b6(n.key),n)}}function Hhe(e,t,r){return t&&zhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Whe(e,t,r){return t=lg(t),Ghe(e,y6()?Reflect.construct(t,r||[],lg(e).constructor):t.apply(e,r))}function Ghe(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qhe(e)}function qhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!e})()}function lg(e){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(e)}function Yhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hw(e,t)}function Vj(e,t,r){return t=b6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=Xhe(e,"string");return Su(t)=="symbol"?t:t+""}function Xhe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jhe(e){return e.dataKey}function Qhe(e,t){return pe.isValidElement(e)?pe.cloneElement(e,t):typeof e=="function"?pe.createElement(e,t):pe.createElement(The,t)}var Cn=function(e){function t(){return Vhe(this,t),Whe(this,t,arguments)}return Yhe(t,e),Hhe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,w=a.wrapperStyle,k=g??[];f&&k.length&&(k=c6(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,Jhe));var N=k.length>0;return pe.createElement(Uhe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:v,wrapperStyle:w},Qhe(u,jE(jE({},this.props),{},{payload:k})))}}])}(j.PureComponent);Vj(Cn,"displayName","Tooltip");Vj(Cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zhe=zi,e0e=function(){return Zhe.Date.now()},t0e=e0e,r0e=/\s/;function n0e(e){for(var t=e.length;t--&&r0e.test(e.charAt(t)););return t}var a0e=n0e,i0e=a0e,s0e=/^\s+/;function o0e(e){return e&&e.slice(0,i0e(e)+1).replace(s0e,"")}var l0e=o0e,c0e=l0e,SE=Wo,u0e=ad,NE=NaN,d0e=/^[-+]0x[0-9a-f]+$/i,f0e=/^0b[01]+$/i,h0e=/^0o[0-7]+$/i,p0e=parseInt;function m0e(e){if(typeof e=="number")return e;if(u0e(e))return NE;if(SE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=SE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=c0e(e);var r=f0e.test(e);return r||h0e.test(e)?p0e(e.slice(2),r?2:8):d0e.test(e)?NE:+e}var w6=m0e,g0e=Wo,$y=t0e,TE=w6,x0e="Expected a function",v0e=Math.max,y0e=Math.min;function b0e(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(x0e);t=TE(t)||0,g0e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?v0e(TE(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,T=a;return n=a=void 0,u=N,o=e.apply(T,S),o}function g(N){return u=N,l=setTimeout(b,t),d?p(N):o}function m(N){var S=N-c,T=N-u,P=t-S;return f?y0e(P,s-T):P}function x(N){var S=N-c,T=N-u;return c===void 0||S>=t||S<0||f&&T>=s}function b(){var N=$y();if(x(N))return y(N);l=setTimeout(b,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:y($y())}function k(){var N=$y(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return k.cancel=v,k.flush=w,k}var w0e=b0e,k0e=w0e,j0e=Wo,S0e="Expected a function";function N0e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(S0e);return j0e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),k0e(e,t,{leading:n,maxWait:t,trailing:a})}var T0e=N0e;const k6=$t(T0e);function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){P0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0e(e,t,r){return t=_0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _0e(e){var t=E0e(e,"string");return Eh(t)=="symbol"?t:t+""}function E0e(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0e(e,t){return M0e(e)||D0e(e,t)||C0e(e,t)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M0e(e){if(Array.isArray(e))return e}var ul=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,v=e.style,w=v===void 0?{}:v,k=j.useRef(null),N=j.useRef();N.current=y,j.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var S=j.useState({containerWidth:a.width,containerHeight:a.height}),T=A0e(S,2),P=T[0],_=T[1],E=j.useCallback(function(R,q){_(function(Z){var V=Math.round(R),G=Math.round(q);return Z.containerWidth===V&&Z.containerHeight===G?Z:{containerWidth:V,containerHeight:G}})},[]);j.useEffect(function(){var R=function(M){var Y,ee=M[0].contentRect,D=ee.width,J=ee.height;E(D,J),(Y=N.current)===null||Y===void 0||Y.call(N,D,J)};m>0&&(R=k6(R,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(R),Z=k.current.getBoundingClientRect(),V=Z.width,G=Z.height;return E(V,G),q.observe(k.current),function(){q.disconnect()}},[E,m]);var A=j.useMemo(function(){var R=P.containerWidth,q=P.containerHeight;if(R<0||q<0)return null;yi(yl(o)||yl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),yi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=yl(o)?R:o,V=yl(c)?q:c;r&&r>0&&(Z?V=Z/r:V&&(Z=V*r),h&&V>h&&(V=h)),yi(Z>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,V,o,c,d,f,r);var G=!Array.isArray(p)&&us(p.type).endsWith("Chart");return pe.Children.map(p,function(re){return pe.isValidElement(re)?j.cloneElement(re,mp({width:Z,height:V},G?{style:mp({height:"100%",width:"100%",maxHeight:V,maxWidth:Z},re.props.style)}:{})):re})},[r,p,c,h,f,d,P,o]);return pe.createElement("div",{id:x?"".concat(x):void 0,className:vt("recharts-responsive-container",b),style:mp(mp({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:k},A)}),El=function(t){return null};El.displayName="Cell";function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){R0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0e(e,t,r){return t=I0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I0e(e){var t=L0e(e,"string");return Ah(t)=="symbol"?t:t+""}function L0e(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pc={widthCache:{},cacheCount:0},F0e=2e3,$0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AE="recharts_measurement_span";function B0e(e){var t=pw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Lf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nc.isSsr)return{width:0,height:0};var n=B0e(r),a=JSON.stringify({text:t,copyStyle:n});if(pc.widthCache[a])return pc.widthCache[a];try{var s=document.getElementById(AE);s||(s=document.createElement("span"),s.setAttribute("id",AE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=pw(pw({},$0e),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return pc.widthCache[a]=c,++pc.cacheCount>F0e&&(pc.cacheCount=0,pc.widthCache={}),c}catch{return{width:0,height:0}}},U0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function cg(e,t){return H0e(e)||z0e(e,t)||V0e(e,t)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function H0e(e){if(Array.isArray(e))return e}function W0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q0e(n.key),n)}}function G0e(e,t,r){return t&&CE(e.prototype,t),r&&CE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q0e(e){var t=Y0e(e,"string");return Oh(t)=="symbol"?t:t+""}function Y0e(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ME=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,j6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q0e=Object.keys(j6),$c="NaN";function Z0e(e,t){return e*j6[t]}var gp=function(){function e(t,r){W0e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!X0e.test(r)&&(this.num=NaN,this.unit=""),Q0e.includes(r)&&(this.num=Z0e(t,r),this.unit="px")}return G0e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=J0e.exec(r))!==null&&n!==void 0?n:[],s=cg(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function S6(e){if(e.includes($c))return $c;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=DE.exec(t))!==null&&r!==void 0?r:[],a=cg(n,4),s=a[1],o=a[2],l=a[3],c=gp.parse(s??""),u=gp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return $c;t=t.replace(DE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=ME.exec(t))!==null&&f!==void 0?f:[],p=cg(h,4),g=p[1],m=p[2],x=p[3],b=gp.parse(g??""),y=gp.parse(x??""),v=m==="+"?b.add(y):b.subtract(y);if(v.isNaN())return $c;t=t.replace(ME,v.toString())}return t}var RE=/\(([^()]*)\)/;function epe(e){for(var t=e;t.includes("(");){var r=RE.exec(t),n=cg(r,2),a=n[1];t=t.replace(RE,S6(a))}return t}function tpe(e){var t=e.replace(/\s+/g,"");return t=epe(t),t=S6(t),t}function rpe(e){try{return tpe(e)}catch{return $c}}function By(e){var t=rpe(e.slice(5,-1));return t===$c?"":t}var npe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ape=["dx","dy","angle","className","breakAll"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(this,arguments)}function IE(e,t){if(e==null)return{};var r=ipe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ipe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LE(e,t){return cpe(e)||lpe(e,t)||ope(e,t)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(e,t){if(e){if(typeof e=="string")return FE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(e,t)}}function FE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cpe(e){if(Array.isArray(e))return e}var N6=/[ \f\n\r\t\v\u2028\u2029]+/,T6=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];yt(r)||(n?s=r.toString().split(""):s=r.toString().split(N6));var o=s.map(function(c){return{word:c,width:Lf(c,a).width}}),l=n?0:Lf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},upe=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ze(o),f=l,h=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(V,G){var re=G.word,M=G.width,Y=V[V.length-1];if(Y&&(a==null||s||Y.width+M+n<Number(a)))Y.words.push(re),Y.width+=M+n;else{var ee={words:[re],width:M};V.push(ee)}return V},[])},p=h(r),g=function(Z){return Z.reduce(function(V,G){return V.width>G.width?V:G})};if(!d)return p;for(var m="",x=function(Z){var V=f.slice(0,Z),G=T6({breakAll:u,style:c,children:V+m}).wordsWithComputedWidth,re=h(G),M=re.length>o||g(re).width>Number(a);return[M,re]},b=0,y=f.length-1,v=0,w;b<=y&&v<=f.length-1;){var k=Math.floor((b+y)/2),N=k-1,S=x(N),T=LE(S,2),P=T[0],_=T[1],E=x(k),A=LE(E,1),R=A[0];if(!P&&!R&&(b=k+1),P&&R&&(y=k-1),!P&&R){w=_;break}v++}return w||p},$E=function(t){var r=yt(t)?[]:t.toString().split(N6);return[{words:r}]},dpe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!nc.isSsr){var c,u,d=T6({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return $E(a);return upe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return $E(a)},BE="#808080",Vl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,b=x===void 0?BE:x,y=IE(t,npe),v=j.useMemo(function(){return dpe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),w=y.dx,k=y.dy,N=y.angle,S=y.className,T=y.breakAll,P=IE(y,ape);if(!Xr(n)||!Xr(s))return null;var _=n+(ze(w)?w:0),E=s+(ze(k)?k:0),A;switch(m){case"start":A=By("calc(".concat(u,")"));break;case"middle":A=By("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=By("calc(".concat(v.length-1," * -").concat(l,")"));break}var R=[];if(f){var q=v[0].width,Z=y.width;R.push("scale(".concat((ze(Z)?Z/q:1)/q,")"))}return N&&R.push("rotate(".concat(N,", ").concat(_,", ").concat(E,")")),R.length&&(P.transform=R.join(" ")),pe.createElement("text",mw({},ct(P,!0),{x:_,y:E,className:vt("recharts-text",S),textAnchor:p,fill:b.includes("url")?BE:b}),v.map(function(V,G){var re=V.words.join(T?"":" ");return pe.createElement("tspan",{x:_,dy:G===0?A:l,key:"".concat(re,"-").concat(G)},re)}))};function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zj(e){let t,r,n;e.length!==2?(t=Ao,r=(l,c)=>Ao(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ao||e===fpe?e:hpe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function hpe(){return 0}function P6(e){return e===null?NaN:+e}function*ppe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mpe=zj(Ao),N0=mpe.right;zj(P6).center;class UE extends Map{constructor(t,r=vpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(KE(this,t))}has(t){return super.has(KE(this,t))}set(t,r){return super.set(gpe(this,t),r)}delete(t){return super.delete(xpe(this,t))}}function KE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function vpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ype(e=Ao){if(e===Ao)return _6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bpe=Math.sqrt(50),wpe=Math.sqrt(10),kpe=Math.sqrt(2);function ug(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=bpe?10:s>=wpe?5:s>=kpe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ug(e,t,r*2):[l,c,u]}function gw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ug(t,e,r):ug(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function xw(e,t,r){return t=+t,e=+e,r=+r,ug(e,t,r)[2]}function vw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?xw(t,e,r):xw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function VE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function E6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?_6:ype(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));E6(e,t,p,g,a)}const s=e[t];let o=r,l=n;for(Md(e,r,t),a(e[n],s)>0&&Md(e,r,n);o<l;){for(Md(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Md(e,r,l):(++l,Md(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Md(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jpe(e,t,r){if(e=Float64Array.from(ppe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zE(e);if(t>=1)return VE(e);var n,a=(n-1)*t,s=Math.floor(a),o=VE(E6(e,s).subarray(0,s+1)),l=zE(e.subarray(s+1));return o+(l-o)*(a-s)}}function Spe(e,t,r=P6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Npe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _s(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yw=Symbol("implicit");function Hj(){var e=new UE,t=[],r=[],n=yw;function a(s){let o=e.get(s);if(o===void 0){if(n!==yw)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new UE;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Hj(t,r).unknown(n)},ei.apply(a,arguments),a}function Ch(){var e=Hj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;s=(m-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=Npe(h).map(function(b){return g+s*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ch(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ei.apply(f(),arguments)}function A6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return A6(t())},e}function Ff(){return A6(Ch.apply(null,arguments).paddingInner(1))}function Wj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function O6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function T0(){}var Dh=.7,dg=1/Dh,nu="\\s*([+-]?\\d+)\\s*",Mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tpe=/^#([0-9a-f]{3,8})$/,Ppe=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),_pe=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Epe=new RegExp(`^rgba\\(${nu},${nu},${nu},${Mh}\\)$`),Ape=new RegExp(`^rgba\\(${Li},${Li},${Li},${Mh}\\)$`),Ope=new RegExp(`^hsl\\(${Mh},${Li},${Li}\\)$`),Cpe=new RegExp(`^hsla\\(${Mh},${Li},${Li},${Mh}\\)$`),HE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wj(T0,Rh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WE,formatHex:WE,formatHex8:Dpe,formatHsl:Mpe,formatRgb:GE,toString:GE});function WE(){return this.rgb().formatHex()}function Dpe(){return this.rgb().formatHex8()}function Mpe(){return C6(this).formatHsl()}function GE(){return this.rgb().formatRgb()}function Rh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Tpe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qE(t):r===3?new oa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ppe.exec(e))?new oa(t[1],t[2],t[3],1):(t=_pe.exec(e))?new oa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Epe.exec(e))?xp(t[1],t[2],t[3],t[4]):(t=Ape.exec(e))?xp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ope.exec(e))?JE(t[1],t[2]/100,t[3]/100,1):(t=Cpe.exec(e))?JE(t[1],t[2]/100,t[3]/100,t[4]):HE.hasOwnProperty(e)?qE(HE[e]):e==="transparent"?new oa(NaN,NaN,NaN,0):null}function qE(e){return new oa(e>>16&255,e>>8&255,e&255,1)}function xp(e,t,r,n){return n<=0&&(e=t=r=NaN),new oa(e,t,r,n)}function Rpe(e){return e instanceof T0||(e=Rh(e)),e?(e=e.rgb(),new oa(e.r,e.g,e.b,e.opacity)):new oa}function bw(e,t,r,n){return arguments.length===1?Rpe(e):new oa(e,t,r,n??1)}function oa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wj(oa,bw,O6(T0,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dh:Math.pow(Dh,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oa(Al(this.r),Al(this.g),Al(this.b),fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YE,formatHex:YE,formatHex8:Ipe,formatRgb:XE,toString:XE}));function YE(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}`}function Ipe(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}${bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function XE(){const e=fg(this.opacity);return`${e===1?"rgb(":"rgba("}${Al(this.r)}, ${Al(this.g)}, ${Al(this.b)}${e===1?")":`, ${e})`}`}function fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bl(e){return e=Al(e),(e<16?"0":"")+e.toString(16)}function JE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,r,n)}function C6(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof T0||(e=Rh(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new hi(o,l,c,e.opacity)}function Lpe(e,t,r,n){return arguments.length===1?C6(e):new hi(e,t,r,n??1)}function hi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wj(hi,Lpe,O6(T0,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dh:Math.pow(Dh,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new oa(Uy(e>=240?e-240:e+120,a,n),Uy(e,a,n),Uy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hi(QE(this.h),vp(this.s),vp(this.l),fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fg(this.opacity);return`${e===1?"hsl(":"hsla("}${QE(this.h)}, ${vp(this.s)*100}%, ${vp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QE(e){return e=(e||0)%360,e<0?e+360:e}function vp(e){return Math.max(0,Math.min(1,e||0))}function Uy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gj=e=>()=>e;function Fpe(e,t){return function(r){return e+r*t}}function $pe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Bpe(e){return(e=+e)==1?D6:function(t,r){return r-t?$pe(t,r,e):Gj(isNaN(t)?r:t)}}function D6(e,t){var r=t-e;return r?Fpe(e,r):Gj(isNaN(e)?t:e)}const ZE=function e(t){var r=Bpe(t);function n(a,s){var o=r((a=bw(a)).r,(s=bw(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=D6(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Upe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Kpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vpe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=pd(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function zpe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Hpe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=pd(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ky=new RegExp(ww.source,"g");function Wpe(e){return function(){return e}}function Gpe(e){return function(t){return e(t)+""}}function qpe(e,t){var r=ww.lastIndex=Ky.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ww.exec(e))&&(a=Ky.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hg(n,a)})),r=Ky.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Gpe(c[0].x):Wpe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pd(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gj(t):(r==="number"?hg:r==="string"?(n=Rh(t))?(t=n,ZE):qpe:t instanceof Rh?ZE:t instanceof Date?zpe:Kpe(t)?Upe:Array.isArray(t)?Vpe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hpe:hg)(e,t)}function qj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ype(e,t){t===void 0&&(t=e,e=pd);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Xpe(e){return function(){return e}}function pg(e){return+e}var eA=[0,1];function Qn(e){return e}function kw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Xpe(isNaN(t)?NaN:.5)}function Jpe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Qpe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=kw(a,n),s=r(o,s)):(n=kw(n,a),s=r(s,o)),function(l){return s(n(l))}}function Zpe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=kw(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=N0(e,l,1,n)-1;return s[c](a[c](l))}}function P0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rv(){var e=eA,t=eA,r=pd,n,a,s,o=Qn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qn&&(o=Jpe(e[0],e[h-1])),l=h>2?Zpe:Qpe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),hg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,pg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=qj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qn,d()):o!==Qn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function Yj(){return rv()(Qn,Qn)}function eme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nu(e){return e=mg(Math.abs(e)),e?e[1]:NaN}function tme(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function rme(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ih(e){if(!(t=nme.exec(e)))throw new Error("invalid format: "+e);var t;return new Xj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ih.prototype=Xj.prototype;function Xj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ame(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var M6;function ime(e,t){var r=mg(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(M6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+mg(e,Math.max(0,t+s-1))[0]}function tA(e,t){var r=mg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const rA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tA(e*100,t),r:tA,s:ime,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nA(e){return e}var aA=Array.prototype.map,iA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sme(e){var t=e.grouping===void 0||e.thousands===void 0?nA:tme(aA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?nA:rme(aA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ih(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,b=f.width,y=f.comma,v=f.precision,w=f.trim,k=f.type;k==="n"?(y=!0,k="g"):rA[k]||(v===void 0&&(v=12),w=!0,k="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=m==="$"?n:/[%p]/.test(k)?o:"",T=rA[k],P=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function _(E){var A=N,R=S,q,Z,V;if(k==="c")R=T(E)+R,E="";else{E=+E;var G=E<0||1/E<0;if(E=isNaN(E)?c:T(Math.abs(E),v),w&&(E=ame(E)),G&&+E==0&&g!=="+"&&(G=!1),A=(G?g==="("?g:l:g==="-"||g==="("?"":g)+A,R=(k==="s"?iA[8+M6/3]:"")+R+(G&&g==="("?")":""),P){for(q=-1,Z=E.length;++q<Z;)if(V=E.charCodeAt(q),48>V||V>57){R=(V===46?a+E.slice(q+1):E.slice(q))+R,E=E.slice(0,q);break}}}y&&!x&&(E=t(E,1/0));var re=A.length+E.length+R.length,M=re<b?new Array(b-re+1).join(h):"";switch(y&&x&&(E=t(M+E,M.length?b-R.length:1/0),M=""),p){case"<":E=A+E+R+M;break;case"=":E=A+M+E+R;break;case"^":E=M.slice(0,re=M.length>>1)+A+E+R+M.slice(re);break;default:E=M+A+E+R;break}return s(E)}return _.toString=function(){return f+""},_}function d(f,h){var p=u((f=Ih(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Nu(h)/3)))*3,m=Math.pow(10,-g),x=iA[8+g/3];return function(b){return p(m*b)+x}}return{format:u,formatPrefix:d}}var yp,Jj,R6;ome({thousands:",",grouping:[3],currency:["$",""]});function ome(e){return yp=sme(e),Jj=yp.format,R6=yp.formatPrefix,yp}function lme(e){return Math.max(0,-Nu(Math.abs(e)))}function cme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nu(t)/3)))*3-Nu(Math.abs(e)))}function ume(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nu(t)-Nu(e))+1}function I6(e,t,r,n){var a=vw(e,t,r),s;switch(n=Ih(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=cme(a,o))&&(n.precision=s),R6(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ume(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=lme(a))&&(n.precision=s-(n.type==="%")*2);break}}return Jj(n)}function Go(e){var t=e.domain;return e.ticks=function(r){var n=t();return gw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return I6(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=xw(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gg(){var e=Yj();return e.copy=function(){return P0(e,gg())},ei.apply(e,arguments),Go(e)}function L6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return L6(e).unknown(t)},e=arguments.length?Array.from(e,pg):[0,1],Go(r)}function F6(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function sA(e){return Math.log(e)}function oA(e){return Math.exp(e)}function dme(e){return-Math.log(-e)}function fme(e){return-Math.exp(-e)}function hme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pme(e){return e===10?hme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lA(e){return(t,r)=>-e(-t,r)}function Qj(e){const t=e(sA,oA),r=t.domain;let n=10,a,s;function o(){return a=mme(n),s=pme(n),r()[0]<0?(a=lA(a),s=lA(s),e(dme,fme)):e(sA,oA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const x=l==null?10:+l;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=gw(u,d,x))}else b=gw(h,p,Math.min(p-h,x)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ih(c)).precision==null&&(c.trim=!0),c=Jj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(F6(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function $6(){const e=Qj(rv()).domain([1,10]);return e.copy=()=>P0(e,$6()).base(e.base()),ei.apply(e,arguments),e}function cA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zj(e){var t=1,r=e(cA(t),uA(t));return r.constant=function(n){return arguments.length?e(cA(t=+n),uA(t)):t},Go(r)}function B6(){var e=Zj(rv());return e.copy=function(){return P0(e,B6()).constant(e.constant())},ei.apply(e,arguments)}function dA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xme(e){return e<0?-e*e:e*e}function eS(e){var t=e(Qn,Qn),r=1;function n(){return r===1?e(Qn,Qn):r===.5?e(gme,xme):e(dA(r),dA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Go(t)}function tS(){var e=eS(rv());return e.copy=function(){return P0(e,tS()).exponent(e.exponent())},ei.apply(e,arguments),e}function vme(){return tS.apply(null,arguments).exponent(.5)}function fA(e){return Math.sign(e)*e*e}function yme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function U6(){var e=Yj(),t=[0,1],r=!1,n;function a(s){var o=yme(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(fA(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,pg)).map(fA)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return U6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ei.apply(a,arguments),Go(a)}function K6(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Spe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[N0(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ao),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return K6().domain(e).range(t).unknown(n)},ei.apply(s,arguments)}function V6(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[N0(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return V6().domain([e,t]).range(a).unknown(s)},ei.apply(Go(o),arguments)}function z6(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[N0(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return z6().domain(e).range(t).unknown(r)},ei.apply(a,arguments)}const Vy=new Date,zy=new Date;function Qr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Qr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Vy.setTime(+s),zy.setTime(+o),e(Vy),e(zy),Math.floor(r(Vy,zy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const xg=Qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xg);xg.range;const ts=1e3,za=ts*60,rs=za*60,ys=rs*24,rS=ys*7,hA=ys*30,Hy=ys*365,wl=Qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ts)},(e,t)=>(t-e)/ts,e=>e.getUTCSeconds());wl.range;const nS=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ts)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getMinutes());nS.range;const aS=Qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCMinutes());aS.range;const iS=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ts-e.getMinutes()*za)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getHours());iS.range;const sS=Qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCHours());sS.range;const _0=Qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*za)/ys,e=>e.getDate()-1);_0.range;const nv=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ys,e=>e.getUTCDate()-1);nv.range;const H6=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ys,e=>Math.floor(e/ys));H6.range;function ac(e){return Qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*za)/rS)}const av=ac(0),vg=ac(1),bme=ac(2),wme=ac(3),Tu=ac(4),kme=ac(5),jme=ac(6);av.range;vg.range;bme.range;wme.range;Tu.range;kme.range;jme.range;function ic(e){return Qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rS)}const iv=ic(0),yg=ic(1),Sme=ic(2),Nme=ic(3),Pu=ic(4),Tme=ic(5),Pme=ic(6);iv.range;yg.range;Sme.range;Nme.range;Pu.range;Tme.range;Pme.range;const oS=Qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oS.range;const lS=Qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lS.range;const bs=Qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bs.range;const ws=Qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ws.range;function W6(e,t,r,n,a,s){const o=[[wl,1,ts],[wl,5,5*ts],[wl,15,15*ts],[wl,30,30*ts],[s,1,za],[s,5,5*za],[s,15,15*za],[s,30,30*za],[a,1,rs],[a,3,3*rs],[a,6,6*rs],[a,12,12*rs],[n,1,ys],[n,2,2*ys],[r,1,rS],[t,1,hA],[t,3,3*hA],[e,1,Hy]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=zj(([,,x])=>x).right(o,h);if(p===o.length)return e.every(vw(u/Hy,d/Hy,f));if(p===0)return xg.every(Math.max(vw(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[_me,Eme]=W6(ws,lS,iv,H6,sS,aS),[Ame,Ome]=W6(bs,oS,av,_0,iS,nS);function Wy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Cme(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Id(a),d=Ld(a),f=Id(s),h=Ld(s),p=Id(o),g=Ld(o),m=Id(l),x=Ld(l),b=Id(c),y=Ld(c),v={a:G,A:re,b:M,B:Y,c:null,d:yA,e:yA,f:tge,g:dge,G:hge,H:Qme,I:Zme,j:ege,L:G6,m:rge,M:nge,p:ee,q:D,Q:kA,s:jA,S:age,u:ige,U:sge,V:oge,w:lge,W:cge,x:null,X:null,y:uge,Y:fge,Z:pge,"%":wA},w={a:J,A:z,b:L,B:te,c:null,d:bA,e:bA,f:vge,g:_ge,G:Age,H:mge,I:gge,j:xge,L:Y6,m:yge,M:bge,p:ye,q:Te,Q:kA,s:jA,S:wge,u:kge,U:jge,V:Sge,w:Nge,W:Tge,x:null,X:null,y:Pge,Y:Ege,Z:Oge,"%":wA},k={a:_,A:E,b:A,B:R,c:q,d:xA,e:xA,f:qme,g:gA,G:mA,H:vA,I:vA,j:zme,L:Gme,m:Vme,M:Hme,p:P,q:Kme,Q:Xme,s:Jme,S:Wme,u:Lme,U:Fme,V:$me,w:Ime,W:Bme,x:Z,X:V,y:gA,Y:mA,Z:Ume,"%":Yme};v.x=N(r,v),v.X=N(n,v),v.c=N(t,v),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(de,fe){return function(be){var he=[],_e=-1,ue=0,C=de.length,B,K,je;for(be instanceof Date||(be=new Date(+be));++_e<C;)de.charCodeAt(_e)===37&&(he.push(de.slice(ue,_e)),(K=pA[B=de.charAt(++_e)])!=null?B=de.charAt(++_e):K=B==="e"?" ":"0",(je=fe[B])&&(B=je(be,K)),he.push(B),ue=_e+1);return he.push(de.slice(ue,_e)),he.join("")}}function S(de,fe){return function(be){var he=Rd(1900,void 0,1),_e=T(he,de,be+="",0),ue,C;if(_e!=be.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(fe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ue=Gy(Rd(he.y,0,1)),C=ue.getUTCDay(),ue=C>4||C===0?yg.ceil(ue):yg(ue),ue=nv.offset(ue,(he.V-1)*7),he.y=ue.getUTCFullYear(),he.m=ue.getUTCMonth(),he.d=ue.getUTCDate()+(he.w+6)%7):(ue=Wy(Rd(he.y,0,1)),C=ue.getDay(),ue=C>4||C===0?vg.ceil(ue):vg(ue),ue=_0.offset(ue,(he.V-1)*7),he.y=ue.getFullYear(),he.m=ue.getMonth(),he.d=ue.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),C="Z"in he?Gy(Rd(he.y,0,1)).getUTCDay():Wy(Rd(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(C+5)%7:he.w+he.U*7-(C+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Gy(he)):Wy(he)}}function T(de,fe,be,he){for(var _e=0,ue=fe.length,C=be.length,B,K;_e<ue;){if(he>=C)return-1;if(B=fe.charCodeAt(_e++),B===37){if(B=fe.charAt(_e++),K=k[B in pA?fe.charAt(_e++):B],!K||(he=K(de,be,he))<0)return-1}else if(B!=be.charCodeAt(he++))return-1}return he}function P(de,fe,be){var he=u.exec(fe.slice(be));return he?(de.p=d.get(he[0].toLowerCase()),be+he[0].length):-1}function _(de,fe,be){var he=p.exec(fe.slice(be));return he?(de.w=g.get(he[0].toLowerCase()),be+he[0].length):-1}function E(de,fe,be){var he=f.exec(fe.slice(be));return he?(de.w=h.get(he[0].toLowerCase()),be+he[0].length):-1}function A(de,fe,be){var he=b.exec(fe.slice(be));return he?(de.m=y.get(he[0].toLowerCase()),be+he[0].length):-1}function R(de,fe,be){var he=m.exec(fe.slice(be));return he?(de.m=x.get(he[0].toLowerCase()),be+he[0].length):-1}function q(de,fe,be){return T(de,t,fe,be)}function Z(de,fe,be){return T(de,r,fe,be)}function V(de,fe,be){return T(de,n,fe,be)}function G(de){return o[de.getDay()]}function re(de){return s[de.getDay()]}function M(de){return c[de.getMonth()]}function Y(de){return l[de.getMonth()]}function ee(de){return a[+(de.getHours()>=12)]}function D(de){return 1+~~(de.getMonth()/3)}function J(de){return o[de.getUTCDay()]}function z(de){return s[de.getUTCDay()]}function L(de){return c[de.getUTCMonth()]}function te(de){return l[de.getUTCMonth()]}function ye(de){return a[+(de.getUTCHours()>=12)]}function Te(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var fe=N(de+="",v);return fe.toString=function(){return de},fe},parse:function(de){var fe=S(de+="",!1);return fe.toString=function(){return de},fe},utcFormat:function(de){var fe=N(de+="",w);return fe.toString=function(){return de},fe},utcParse:function(de){var fe=S(de+="",!0);return fe.toString=function(){return de},fe}}}var pA={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,Dme=/^%/,Mme=/[\\^$*+?|[\]().{}]/g;function Rt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Rme(e){return e.replace(Mme,"\\$&")}function Id(e){return new RegExp("^(?:"+e.map(Rme).join("|")+")","i")}function Ld(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ime(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Lme(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Fme(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $me(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Bme(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mA(e,t,r){var n=cn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gA(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ume(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kme(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vme(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function xA(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zme(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vA(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Hme(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Wme(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gme(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qme(e,t,r){var n=cn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Yme(e,t,r){var n=Dme.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Xme(e,t,r){var n=cn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Jme(e,t,r){var n=cn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yA(e,t){return Rt(e.getDate(),t,2)}function Qme(e,t){return Rt(e.getHours(),t,2)}function Zme(e,t){return Rt(e.getHours()%12||12,t,2)}function ege(e,t){return Rt(1+_0.count(bs(e),e),t,3)}function G6(e,t){return Rt(e.getMilliseconds(),t,3)}function tge(e,t){return G6(e,t)+"000"}function rge(e,t){return Rt(e.getMonth()+1,t,2)}function nge(e,t){return Rt(e.getMinutes(),t,2)}function age(e,t){return Rt(e.getSeconds(),t,2)}function ige(e){var t=e.getDay();return t===0?7:t}function sge(e,t){return Rt(av.count(bs(e)-1,e),t,2)}function q6(e){var t=e.getDay();return t>=4||t===0?Tu(e):Tu.ceil(e)}function oge(e,t){return e=q6(e),Rt(Tu.count(bs(e),e)+(bs(e).getDay()===4),t,2)}function lge(e){return e.getDay()}function cge(e,t){return Rt(vg.count(bs(e)-1,e),t,2)}function uge(e,t){return Rt(e.getFullYear()%100,t,2)}function dge(e,t){return e=q6(e),Rt(e.getFullYear()%100,t,2)}function fge(e,t){return Rt(e.getFullYear()%1e4,t,4)}function hge(e,t){var r=e.getDay();return e=r>=4||r===0?Tu(e):Tu.ceil(e),Rt(e.getFullYear()%1e4,t,4)}function pge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rt(t/60|0,"0",2)+Rt(t%60,"0",2)}function bA(e,t){return Rt(e.getUTCDate(),t,2)}function mge(e,t){return Rt(e.getUTCHours(),t,2)}function gge(e,t){return Rt(e.getUTCHours()%12||12,t,2)}function xge(e,t){return Rt(1+nv.count(ws(e),e),t,3)}function Y6(e,t){return Rt(e.getUTCMilliseconds(),t,3)}function vge(e,t){return Y6(e,t)+"000"}function yge(e,t){return Rt(e.getUTCMonth()+1,t,2)}function bge(e,t){return Rt(e.getUTCMinutes(),t,2)}function wge(e,t){return Rt(e.getUTCSeconds(),t,2)}function kge(e){var t=e.getUTCDay();return t===0?7:t}function jge(e,t){return Rt(iv.count(ws(e)-1,e),t,2)}function X6(e){var t=e.getUTCDay();return t>=4||t===0?Pu(e):Pu.ceil(e)}function Sge(e,t){return e=X6(e),Rt(Pu.count(ws(e),e)+(ws(e).getUTCDay()===4),t,2)}function Nge(e){return e.getUTCDay()}function Tge(e,t){return Rt(yg.count(ws(e)-1,e),t,2)}function Pge(e,t){return Rt(e.getUTCFullYear()%100,t,2)}function _ge(e,t){return e=X6(e),Rt(e.getUTCFullYear()%100,t,2)}function Ege(e,t){return Rt(e.getUTCFullYear()%1e4,t,4)}function Age(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pu(e):Pu.ceil(e),Rt(e.getUTCFullYear()%1e4,t,4)}function Oge(){return"+0000"}function wA(){return"%"}function kA(e){return+e}function jA(e){return Math.floor(+e/1e3)}var mc,J6,Q6;Cge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cge(e){return mc=Cme(e),J6=mc.format,mc.parse,Q6=mc.utcFormat,mc.utcParse,mc}function Dge(e){return new Date(e)}function Mge(e){return e instanceof Date?+e:+new Date(+e)}function cS(e,t,r,n,a,s,o,l,c,u){var d=Yj(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function k(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?m:s(N)<N?x:n(N)<N?a(N)<N?b:y:r(N)<N?v:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Mge)):h().map(Dge)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?k:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(F6(S,N)):d},d.copy=function(){return P0(d,cS(e,t,r,n,a,s,o,l,c,u))},d}function Rge(){return ei.apply(cS(Ame,Ome,bs,oS,av,_0,iS,nS,wl,J6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ige(){return ei.apply(cS(_me,Eme,ws,lS,iv,nv,sS,aS,wl,Q6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sv(){var e=0,t=1,r,n,a,s,o=Qn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(pd),u.rangeRound=d(qj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function qo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Z6(){var e=Go(sv()(Qn));return e.copy=function(){return qo(e,Z6())},_s.apply(e,arguments)}function eL(){var e=Qj(sv()).domain([1,10]);return e.copy=function(){return qo(e,eL()).base(e.base())},_s.apply(e,arguments)}function tL(){var e=Zj(sv());return e.copy=function(){return qo(e,tL()).constant(e.constant())},_s.apply(e,arguments)}function uS(){var e=eS(sv());return e.copy=function(){return qo(e,uS()).exponent(e.exponent())},_s.apply(e,arguments)}function Lge(){return uS.apply(null,arguments).exponent(.5)}function rL(){var e=[],t=Qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((N0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>jpe(e,s/n))},r.copy=function(){return rL(t).domain(e)},_s.apply(r,arguments)}function ov(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Qn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var b,y,v;return arguments.length?([b,y,v]=x,u=Ype(m,[b,y,v]),p):[u(0),u(.5),u(1)]}}return p.range=g(pd),p.rangeRound=g(qj),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),s=m(t),o=m(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function nL(){var e=Go(ov()(Qn));return e.copy=function(){return qo(e,nL())},_s.apply(e,arguments)}function aL(){var e=Qj(ov()).domain([.1,1,10]);return e.copy=function(){return qo(e,aL()).base(e.base())},_s.apply(e,arguments)}function iL(){var e=Zj(ov());return e.copy=function(){return qo(e,iL()).constant(e.constant())},_s.apply(e,arguments)}function dS(){var e=eS(ov());return e.copy=function(){return qo(e,dS()).exponent(e.exponent())},_s.apply(e,arguments)}function Fge(){return dS.apply(null,arguments).exponent(.5)}const SA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ch,scaleDiverging:nL,scaleDivergingLog:aL,scaleDivergingPow:dS,scaleDivergingSqrt:Fge,scaleDivergingSymlog:iL,scaleIdentity:L6,scaleImplicit:yw,scaleLinear:gg,scaleLog:$6,scaleOrdinal:Hj,scalePoint:Ff,scalePow:tS,scaleQuantile:K6,scaleQuantize:V6,scaleRadial:U6,scaleSequential:Z6,scaleSequentialLog:eL,scaleSequentialPow:uS,scaleSequentialQuantile:rL,scaleSequentialSqrt:Lge,scaleSequentialSymlog:tL,scaleSqrt:vme,scaleSymlog:B6,scaleThreshold:z6,scaleTime:Rge,scaleUtc:Ige,tickFormat:I6},Symbol.toStringTag,{value:"Module"}));var $ge=ad;function Bge(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!$ge(o):r(o,l)))var l=o,c=s}return c}var lv=Bge;function Uge(e,t){return e>t}var sL=Uge,Kge=lv,Vge=sL,zge=hd;function Hge(e){return e&&e.length?Kge(e,zge,Vge):void 0}var Wge=Hge;const mo=$t(Wge);function Gge(e,t){return e<t}var oL=Gge,qge=lv,Yge=oL,Xge=hd;function Jge(e){return e&&e.length?qge(e,Xge,Yge):void 0}var Qge=Jge;const cv=$t(Qge);var Zge=Nj,exe=Hi,txe=m6,rxe=ma;function nxe(e,t){var r=rxe(e)?Zge:txe;return r(e,exe(t))}var axe=nxe,ixe=h6,sxe=axe;function oxe(e,t){return ixe(sxe(e,t),1)}var lxe=oxe;const cxe=$t(lxe);var uxe=Bj;function dxe(e,t){return uxe(e,t)}var fxe=dxe;const _u=$t(fxe);var md=1e9,hxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hS,fr=!0,Ja="[DecimalError] ",Ol=Ja+"Invalid argument: ",fS=Ja+"Exponent out of range: ",gd=Math.floor,dl=Math.pow,pxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ja,en=1e7,sr=7,lL=9007199254740991,bg=gd(lL/sr),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(e){return ds(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,r=t.constructor;return Xt(ds(t,new r(e),0,1),r.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return Ir(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ja))throw Error(Ja+"NaN");if(r.s<1)throw Error(Ja+(r.s?"NaN":"-Infinity"));return r.eq(ja)?new n(0):(fr=!1,t=ds(Lh(r,s),Lh(e,s),s),fr=!0,Xt(t,a))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dL(t,e):cL(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ja+"NaN");return r.s?(fr=!1,t=ds(r,e,0,1).times(e),fr=!0,r.minus(t)):Xt(new n(r),a)};rt.naturalExponential=rt.exp=function(){return uL(this)};rt.naturalLogarithm=rt.ln=function(){return Lh(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cL(t,e):dL(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ol+e);if(t=Ir(a)+1,n=a.d.length-1,r=n*sr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};rt.squareRoot=rt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ja+"NaN")}for(e=Ir(l),fr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ci(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ds(l,s,o+2)).times(.5),Ci(s.d).slice(0,o)===(t=Ci(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Xt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return fr=!0,Xt(n,r)};rt.times=rt.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%en|0,t=l/en|0;s[a]=(s[a]+t)%en|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,fr?Xt(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ki(e,0,md),t===void 0?t=n.rounding:Ki(t,0,8),Xt(r,e+Ir(r)+1,t))};rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=zl(n,!0):(Ki(e,0,md),t===void 0?t=a.rounding:Ki(t,0,8),n=Xt(new a(n),e+1,t),r=zl(n,!0,e+1)),r};rt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?zl(a):(Ki(e,0,md),t===void 0?t=s.rounding:Ki(t,0,8),n=Xt(new s(a),e+Ir(a)+1,t),r=zl(n.abs(),!1,e+Ir(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Ir(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ja);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ja+"Infinity");return l}if(l.eq(ja))return l;if(n=c.precision,e.eq(ja))return Xt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=lL){for(a=new c(ja),t=Math.ceil(n/sr+4),fr=!1;r%2&&(a=a.times(l),TA(a.d,t)),r=gd(r/2),r!==0;)l=l.times(l),TA(l.d,t);return fr=!0,e.s<0?new c(ja).div(a):Xt(a,n)}}else if(s<0)throw Error(Ja+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,fr=!1,a=e.times(Lh(l,n+u)),fr=!0,a=uL(a),a.s=s,a};rt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ir(a),n=zl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ki(e,1,md),t===void 0?t=s.rounding:Ki(t,0,8),a=Xt(new s(a),e,t),r=Ir(a),n=zl(a,e<=r||r<=s.toExpNeg,e)),n};rt.toSignificantDigits=rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ki(e,1,md),t===void 0?t=n.rounding:Ki(t,0,8)),Xt(new n(r),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return zl(e,t<=r.toExpNeg||t>=r.toExpPos)};function cL(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),fr?Xt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/sr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/en|0,c[s]%=en;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,fr?Xt(t,f):t}function Ki(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ol+e)}function Ci(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=sr-n.length,r&&(s+=io(r)),s+=n;o=e[t],n=o+"",r=sr-n.length,r&&(s+=io(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ds=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%en|0,o=s/en|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*en+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,p,g,m,x,b,y,v,w,k,N,S,T,P=n.constructor,_=n.s==a.s?1:-1,E=n.d,A=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ja+"Division by zero");for(c=n.e-a.e,S=A.length,k=E.length,p=new P(_),g=p.d=[],u=0;A[u]==(E[u]||0);)++u;if(A[u]>(E[u]||0)&&--c,s==null?y=s=P.precision:o?y=s+(Ir(n)-Ir(a))+1:y=s,y<0)return new P(0);if(y=y/sr+2|0,u=0,S==1)for(d=0,A=A[0],y++;(u<k||d)&&y--;u++)v=d*en+(E[u]||0),g[u]=v/A|0,d=v%A|0;else{for(d=en/(A[0]+1)|0,d>1&&(A=e(A,d),E=e(E,d),S=A.length,k=E.length),w=S,m=E.slice(0,S),x=m.length;x<S;)m[x++]=0;T=A.slice(),T.unshift(0),N=A[0],A[1]>=en/2&&++N;do d=0,l=t(A,m,S,x),l<0?(b=m[0],S!=x&&(b=b*en+(m[1]||0)),d=b/N|0,d>1?(d>=en&&(d=en-1),f=e(A,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,S<h?T:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(A,m,S,x),l<1&&(d++,r(m,S<x?T:A,x))),x=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[x++]=E[w]||0:(m=[E[w]],x=1);while((w++<k||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Xt(p,o?s+Ir(p)+1:s)}}();function uL(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ir(e)>16)throw Error(fS+Ir(e));if(!e.s)return new d(ja);for(fr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(dl(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ja),d.precision=l;;){if(a=Xt(a.times(e),l),r=r.times(++c),o=s.plus(ds(a,r,l)),Ci(o.d).slice(0,l)===Ci(s.d).slice(0,l)){for(;u--;)s=Xt(s.times(s),l);return d.precision=f,t==null?(fr=!0,Xt(s,f)):s}s=o}}function Ir(e){for(var t=e.e*sr,r=e.d[0];r>=10;r/=10)t++;return t}function qy(e,t,r){if(t>e.LN10.sd())throw fr=!0,r&&(e.precision=r),Error(Ja+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function io(e){for(var t="";e--;)t+="0";return t}function Lh(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(Ja+(p.s?"NaN":"-Infinity"));if(p.eq(ja))return new m(0);if(t==null?(fr=!1,u=x):u=t,p.eq(10))return t==null&&(fr=!0),qy(m,u);if(u+=h,m.precision=u,r=Ci(g),n=r.charAt(0),s=Ir(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ci(p.d),n=r.charAt(0),f++;s=Ir(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=qy(m,u+2,x).times(s+""),p=Lh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(fr=!0,Xt(p,x)):p;for(l=o=p=ds(p.minus(ja),p.plus(ja),u),d=Xt(p.times(p),u),a=3;;){if(o=Xt(o.times(d),u),c=l.plus(ds(o,new m(a),u)),Ci(c.d).slice(0,u)===Ci(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(qy(m,u+2,x).times(s+""))),l=ds(l,new m(f),u),m.precision=x,t==null?(fr=!0,Xt(l,x)):l;l=c,a+=2}}function NA(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=gd(r/sr),e.d=[],n=(r+1)%sr,r<0&&(n+=sr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=sr;n<a;)e.d.push(+t.slice(n,n+=sr));t=t.slice(n),n=sr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),fr&&(e.e>bg||e.e<-bg))throw Error(fS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=sr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/sr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=sr,a=n-sr+o}if(r!==void 0&&(s=dl(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/dl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Ir(e),f.length=1,t=t-s-1,f[0]=dl(10,(sr-t%sr)%sr),e.e=gd(-t/sr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=dl(10,sr-n),f[d]=a>0?(u/dl(10,o-a)%dl(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==en&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=en)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(fr&&(e.e>bg||e.e<-bg))throw Error(fS+Ir(e));return e}function dL(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),fr?Xt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/sr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=en-1;--c[s],c[a]+=en}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,fr?Xt(t,p):t):new h(0)}function zl(e,t,r){var n,a=Ir(e),s=Ci(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+io(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+io(-a-1)+s,r&&(n=r-o)>0&&(s+=io(n))):a>=o?(s+=io(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+io(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=io(n))),e.s<0?"-"+s:s}function TA(e,t){if(e.length>t)return e.length=t,!0}function fL(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ol+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return NA(o,s.toString())}else if(typeof s!="string")throw Error(Ol+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,pxe.test(s))NA(o,s);else throw Error(Ol+s)}if(a.prototype=rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=fL,a.config=a.set=mxe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function mxe(e){if(!e||typeof e!="object")throw Error(Ja+"Object expected");var t,r,n,a=["precision",1,md,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(gd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ol+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ol+r+": "+n);return this}var hS=fL(hxe);ja=new hS(1);const qt=hS;function gxe(e){return bxe(e)||yxe(e)||vxe(e)||xxe()}function xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(e,t){if(e){if(typeof e=="string")return jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jw(e,t)}}function yxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bxe(e){if(Array.isArray(e))return jw(e)}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wxe=function(t){return t},hL={},pL=function(t){return t===hL},PA=function(t){return function r(){return arguments.length===0||arguments.length===1&&pL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},kxe=function e(t,r){return t===1?r:PA(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==hL}).length;return o>=t?r.apply(void 0,a):e(t-o,PA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return pL(f)?c.shift():f});return r.apply(void 0,gxe(d).concat(c))}))})},uv=function(t){return kxe(t.length,t)},Sw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},jxe=uv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Sxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return wxe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Nw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mL=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function Nxe(e){var t;return e===0?t=1:t=Math.floor(new qt(e).abs().log(10).toNumber())+1,t}function Txe(e,t,r){for(var n=new qt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Pxe=uv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),_xe=uv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Exe=uv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const dv={rangeStep:Txe,getDigitCount:Nxe,interpolateNumber:Pxe,uninterpolateNumber:_xe,uninterpolateTruncation:Exe};function Tw(e){return Cxe(e)||Oxe(e)||gL(e)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cxe(e){if(Array.isArray(e))return Pw(e)}function Fh(e,t){return Rxe(e)||Mxe(e,t)||gL(e,t)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gL(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mxe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function Rxe(e){if(Array.isArray(e))return e}function xL(e){var t=Fh(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function vL(e,t,r){if(e.lte(0))return new qt(0);var n=dv.getDigitCount(e.toNumber()),a=new qt(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new qt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new qt(Math.ceil(c))}function Ixe(e,t,r){var n=1,a=new qt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new qt(10).pow(dv.getDigitCount(e)-1),a=new qt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new qt(Math.floor(e)))}else e===0?a=new qt(Math.floor((t-1)/2)):r||(a=new qt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Sxe(jxe(function(c){return a.add(new qt(c-o).mul(n)).toNumber()}),Sw);return l(0,t)}function yL(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var s=vL(new qt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new qt(0):(o=new qt(e).add(t).div(2),o=o.sub(new qt(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new qt(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?yL(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new qt(l).mul(s)),tickMax:o.add(new qt(c).mul(s))})}function Lxe(e){var t=Fh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=xL([r,n]),c=Fh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Tw(Sw(0,a-1).map(function(){return 1/0}))):[].concat(Tw(Sw(0,a-1).map(function(){return-1/0})),[d]);return r>n?Nw(f):f}if(u===d)return Ixe(u,a,s);var h=yL(u,d,o,s),p=h.step,g=h.tickMin,m=h.tickMax,x=dv.rangeStep(g,m.add(new qt(.1).mul(p)),p);return r>n?Nw(x):x}function Fxe(e,t){var r=Fh(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=xL([n,a]),l=Fh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=vL(new qt(u).sub(c).div(d-1),s,0),h=[].concat(Tw(dv.rangeStep(new qt(c),new qt(u).sub(new qt(.99).mul(f)),f)),[u]);return n>a?Nw(h):h}var $xe=mL(Lxe),Bxe=mL(Fxe),Uxe="Invariant failed";function Hl(e,t){throw new Error(Uxe)}var Kxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Vxe(e,t){return Gxe(e)||Wxe(e,t)||Hxe(e,t)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hxe(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gxe(e){if(Array.isArray(e))return e}function qxe(e,t){if(e==null)return{};var r=Yxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kL(n.key),n)}}function Qxe(e,t,r){return t&&Jxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zxe(e,t,r){return t=kg(t),eve(e,bL()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function eve(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(e)}function tve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function rve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_w(e,t)}function wL(e,t,r){return t=kL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kL(e){var t=nve(e,"string");return Eu(t)=="symbol"?t:t+""}function nve(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fv=function(e){function t(){return Xxe(this,t),Zxe(this,t,arguments)}return rve(t,e),Qxe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=qxe(n,Kxe),p=ct(h,!1);this.props.direction==="x"&&d.type!=="number"&&Hl();var g=c.map(function(m){var x=u(m,l),b=x.x,y=x.y,v=x.value,w=x.errorVal;if(!w)return null;var k=[],N,S;if(Array.isArray(w)){var T=Vxe(w,2);N=T[0],S=T[1]}else N=S=w;if(s==="vertical"){var P=d.scale,_=y+a,E=_+o,A=_-o,R=P(v-N),q=P(v+S);k.push({x1:q,y1:E,x2:q,y2:A}),k.push({x1:R,y1:_,x2:q,y2:_}),k.push({x1:R,y1:E,x2:R,y2:A})}else if(s==="horizontal"){var Z=f.scale,V=b+a,G=V-o,re=V+o,M=Z(v-N),Y=Z(v+S);k.push({x1:G,y1:Y,x2:re,y2:Y}),k.push({x1:V,y1:M,x2:V,y2:Y}),k.push({x1:G,y1:M,x2:re,y2:M})}return pe.createElement(Ot,wg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),k.map(function(ee){return pe.createElement("line",wg({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return pe.createElement(Ot,{className:"recharts-errorBars"},g)}}])}(pe.Component);wL(fv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wL(fv,"displayName","ErrorBar");function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ave(e,t,r){return t=ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ive(e){var t=sve(e,"string");return $h(t)=="symbol"?t:t+""}function sve(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jL=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=ya(r,Oi);if(!o)return null;var l=Oi.defaultProps,c=l!==void 0?Qo(Qo({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Qo(Qo({},h),f.props):{},g=p.dataKey,m=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:pS(f),value:m||g,payload:p}}),Qo(Qo(Qo({},c),Oi.getWithHeight(o,a)),{},{payload:u,item:o})};function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function AA(e){return uve(e)||cve(e)||lve(e)||ove()}function ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(e,t){if(e){if(typeof e=="string")return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}}function cve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uve(e){if(Array.isArray(e))return Ew(e)}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function au(e,t,r){return t=dve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dve(e){var t=fve(e,"string");return Bh(t)=="symbol"?t:t+""}function fve(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t,r){return yt(e)||yt(t)?r:Xr(t)?Pa(e,t,r):pt(t)?t(e):r}function $f(e,t,r,n){var a=cxe(e,function(l){return Gr(l,t)});if(r==="number"){var s=a.filter(function(l){return ze(l)||parseFloat(l)});return s.length?[cv(s),mo(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!yt(l)}):a;return o.map(function(l){return Xr(l)||l instanceof Date?l:""})}var hve=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Xn(f-d)!==Xn(h-f)){var g=[];if(Xn(h-f)===Xn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,h),v=Math.max(d,h);if(t>(y+f)/2&&t<=(v+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},pS=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?jr(jr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},pve=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,x=g.cateAxisId,b=m.filter(function(S){return us(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,v=y!==void 0?jr(jr({},y),b[0].props):b[0].props,w=v.barSize,k=v[x];o[k]||(o[k]=[]);var N=yt(w)?r:w;o[k].push({item:b[0],stackList:b.slice(1),barSize:yt(N)?void 0:Jn(N,n,0)})}}return o},mve=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Jn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,g=o.reduce(function(w,k){return w+k.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(w,k){var N={item:k.item,position:{offset:x.offset+x.size+u,size:h?p:k.barSize}},S=[].concat(AA(w),[N]);return x=S[S.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var b=Jn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var v=l===+l?Math.min(y,l):y;d=o.reduce(function(w,k,N){var S=[].concat(AA(w),[{item:k.item,position:{offset:b+(y+u)*N+(y-v)/2,size:v}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},gve=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=jL({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ze(t[p]))return jr(jr({},t),{},au({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ze(t[g]))return jr(jr({},t),{},au({},g,t[g]+(h||0)))}return t},xve=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},SL=function(t,r,n,a,s){var o=r.props.children,l=Ga(o,fv).filter(function(u){return xve(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Gr(d,n);if(yt(f))return u;var h=Array.isArray(f)?[cv(f),mo(f)]:[f,f],p=c.reduce(function(g,m){var x=Gr(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},vve=function(t,r,n,a,s){var o=r.map(function(l){return SL(t,l,n,s,a)}).filter(function(l){return!yt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},NL=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&SL(t,c,u,a)||$f(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},TL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},PL=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},ns=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!cd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},Yy=new WeakMap,bp=function(t,r){if(typeof r!="function")return t;Yy.has(t)||Yy.set(t,new WeakMap);var n=Yy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},_L=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ch(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:gg(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ff(),realScaleType:"point"}:s==="category"?{scale:Ch(),realScaleType:"band"}:{scale:gg(),realScaleType:"linear"};if(Ul(a)){var c="scale".concat(Yx(a));return{scale:(SA[c]||Ff)(),realScaleType:SA[c]?c:"point"}}return pt(a)?{scale:a}:{scale:Ff(),realScaleType:"point"}},CA=1e-4,EL=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-CA,o=Math.max(a[0],a[1])+CA,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},yve=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},bve=function(t,r){if(!r||r.length!==2||!ze(r[0])||!ze(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ze(t[0])||t[0]<n)&&(s[0]=n),(!ze(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},wve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=cd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},kve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=cd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},jve={sign:wve,expand:Kie,none:bu,silhouette:Vie,wiggle:zie,positive:kve},Sve=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=jve[n],o=Uie().keys(a).value(function(l,c){return+Gr(l,c,0)}).order(ew).offset(s);return o(t)},Nve=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?jr(jr({},h.type.defaultProps),h.props):h.props,m=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Xr(m)){var v=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),y.hasStack=!0,y.stackGroups[m]=v}else y.stackGroups[ud("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return jr(jr({},f),{},au({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var b=p.stackGroups[x];return jr(jr({},m),{},au({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Sve(t,b.items,s)}))},g)}return jr(jr({},f),{},au({},h,p))},d)},AL=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=$xe(u,s,l);return t.domain([cv(d),mo(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=Bxe(f,s,l);return{niceTicks:h}}return null};function DA(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(a[t.dataKey])){var l=Ym(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Gr(a,yt(o)?t.dataKey:o);return yt(c)?null:t.scale(c)}var MA=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Gr(o,r.dataKey,r.domain[l]);return yt(c)?null:r.scale(c)-s/2+a},Tve=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Pve=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?jr(jr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Xr(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},_ve=function(t){return t.reduce(function(r,n){return[cv(n.concat([r[0]]).filter(ze)),mo(n.concat([r[1]]).filter(ze))]},[1/0,-1/0])},OL=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=_ve(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},RA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Aw=function(t,r,n){if(pt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ze(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(RA.test(t[0])){var s=+RA.exec(t[0])[1];a[0]=r[0]-s}else pt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ze(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(IA.test(t[1])){var o=+IA.exec(t[1])[1];a[1]=r[1]+o}else pt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},jg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=Kj(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},LA=function(t,r,n){return!t||!t.length||_u(t,Pa(n,"type.defaultProps.domain"))?r:t},CL=function(t,r){var n=t.type.defaultProps?jr(jr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return jr(jr({},ct(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:pS(t),value:Gr(r,a),type:c,payload:r,chartType:u,hide:d})};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){DL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t,r){return t=Eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=Ave(e,"string");return Uh(t)=="symbol"?t:t+""}function Ave(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ove(e,t){return Rve(e)||Mve(e,t)||Dve(e,t)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(e,t){if(e){if(typeof e=="string")return $A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(e,t)}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Rve(e){if(Array.isArray(e))return e}var Sg=Math.PI/180,Ive=function(t){return t*180/Math.PI},rr=function(t,r,n,a){return{x:t+Math.cos(-Sg*a)*n,y:r+Math.sin(-Sg*a)*n}},ML=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Lve=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Jn(t.cx,o,o/2),f=Jn(t.cy,l,l/2),h=ML(o,l,n),p=Jn(t.innerRadius,h,0),g=Jn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var y=r[b],v=y.domain,w=y.reversed,k;if(yt(y.range))a==="angleAxis"?k=[c,u]:a==="radiusAxis"&&(k=[p,g]),w&&(k=[k[1],k[0]]);else{k=y.range;var N=k,S=Ove(N,2);c=S[0],u=S[1]}var T=_L(y,s),P=T.realScaleType,_=T.scale;_.domain(v).range(k),EL(_);var E=AL(_,Xi(Xi({},y),{},{realScaleType:P})),A=Xi(Xi(Xi({},y),E),{},{range:k,radius:g,realScaleType:P,scale:_,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Xi(Xi({},x),{},DL({},b,A))},{})},Fve=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},$ve=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Fve({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Ive(u),angleInRadian:u}},Bve=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Uve=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},BA=function(t,r){var n=t.x,a=t.y,s=$ve({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Bve(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Xi(Xi({},r),{},{radius:o,angle:Uve(p,r)}):null},RL=function(t){return!j.isValidElement(t)&&!pt(t)&&typeof t!="boolean"?t.className:""};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}var Kve=["offset"];function Vve(e){return Gve(e)||Wve(e)||Hve(e)||zve()}function zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(e,t){if(e){if(typeof e=="string")return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(e,t)}}function Wve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gve(e){if(Array.isArray(e))return Ow(e)}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qve(e,t){if(e==null)return{};var r=Yve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){Xve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xve(e,t,r){return t=Jve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jve(e){var t=Qve(e,"string");return Kh(t)=="symbol"?t:t+""}function Qve(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(this,arguments)}var Zve=function(t){var r=t.value,n=t.formatter,a=yt(t.children)?r:t.children;return pt(n)?n(a):a},eye=function(t,r){var n=Xn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},tye=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,x=(f+h)/2,b=eye(p,g),y=b>=0?1:-1,v,w;a==="insideStart"?(v=p+y*o,w=m):a==="insideEnd"?(v=g-y*o,w=!m):a==="end"&&(v=g+y*o,w=m),w=b<=0?w:!w;var k=rr(u,d,x,v),N=rr(u,d,x,v+(w?1:-1)*359),S="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),T=yt(t.id)?ud("recharts-radial-line-"):t.id;return pe.createElement("text",Vh({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),pe.createElement("defs",null,pe.createElement("path",{id:T,d:S})),pe.createElement("textPath",{xlinkHref:"#".concat(T)},r))},rye=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var p=rr(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=rr(o,l,x,h),y=b.x,v=b.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},nye=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,x=m*a,b=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return zr(zr({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return zr(zr({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var k={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return zr(zr({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return zr(zr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?zr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?zr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideTop"?zr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):s==="insideBottom"?zr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?zr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:g},S):s==="insideTopRight"?zr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},S):s==="insideBottomLeft"?zr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},S):s==="insideBottomRight"?zr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:p},S):id(s)&&(ze(s.x)||yl(s.x))&&(ze(s.y)||yl(s.y))?zr({x:l+Jn(s.x,u),y:c+Jn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):zr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},aye=function(t){return"cx"in t&&ze(t.cx)};function rn(e){var t=e.offset,r=t===void 0?5:t,n=qve(e,Kve),a=zr({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||yt(l)&&yt(c)&&!j.isValidElement(u)&&!pt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(pt(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=Zve(a);var g=aye(s),m=ct(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tye(a,p,m);var x=g?rye(a):nye(a);return pe.createElement(Vl,Vh({className:vt("recharts-label",f)},m,x,{breakAll:h}),p)}rn.displayName="Label";var IL=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(ze(m)&&ze(x)){if(ze(f)&&ze(h))return{x:f,y:h,width:m,height:x};if(ze(p)&&ze(g))return{x:p,y:g,width:m,height:x}}return ze(f)&&ze(h)?{x:f,y:h,width:0,height:0}:ze(r)&&ze(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},iye=function(t,r){return t?t===!0?pe.createElement(rn,{key:"label-implicit",viewBox:r}):Xr(t)?pe.createElement(rn,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===rn?j.cloneElement(t,{key:"label-implicit",viewBox:r}):pe.createElement(rn,{key:"label-implicit",content:t,viewBox:r}):pt(t)?pe.createElement(rn,{key:"label-implicit",content:t,viewBox:r}):id(t)?pe.createElement(rn,Vh({viewBox:r},t,{key:"label-implicit"})):null:null},sye=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=IL(t),o=Ga(a,rn).map(function(c,u){return j.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=iye(t.label,r||s);return[l].concat(Vve(o))};rn.parseViewBox=IL;rn.renderCallByParent=sye;function oye(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lye=oye;const cye=$t(lye);function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}var uye=["valueAccessor"],dye=["data","dataKey","clockWise","id","textBreakAll"];function fye(e){return gye(e)||mye(e)||pye(e)||hye()}function hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pye(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function mye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gye(e){if(Array.isArray(e))return Cw(e)}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){xye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xye(e,t,r){return t=vye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vye(e){var t=yye(e,"string");return zh(t)=="symbol"?t:t+""}function yye(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zA(e,t){if(e==null)return{};var r=bye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wye=function(t){return Array.isArray(t.value)?cye(t.value):t.value};function Fi(e){var t=e.valueAccessor,r=t===void 0?wye:t,n=zA(e,uye),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=zA(n,dye);return!a||!a.length?null:pe.createElement(Ot,{className:"recharts-label-list"},a.map(function(d,f){var h=yt(s)?r(d,f):Gr(d&&d.payload,s),p=yt(l)?{}:{id:"".concat(l,"-").concat(f)};return pe.createElement(rn,Ng({},ct(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:rn.parseViewBox(yt(o)?d:VA(VA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Fi.displayName="LabelList";function kye(e,t){return e?e===!0?pe.createElement(Fi,{key:"labelList-implicit",data:t}):pe.isValidElement(e)||pt(e)?pe.createElement(Fi,{key:"labelList-implicit",data:t,content:e}):id(e)?pe.createElement(Fi,Ng({data:t},e,{key:"labelList-implicit"})):null:null}function jye(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ga(n,Fi).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=kye(e.label,t);return[s].concat(fye(a))}Fi.renderCallByParent=jye;function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){Sye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sye(e,t,r){return t=Nye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=Tye(e,"string");return Hh(t)=="symbol"?t:t+""}function Tye(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pye=function(t,r){var n=Xn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},wp=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Sg,h=u?s:s+o*f,p=rr(r,n,d,h),g=rr(r,n,a,h),m=u?s-o*f:s,x=rr(r,n,d*Math.cos(f*Sg),m);return{center:p,circleTangency:g,lineTangency:x,theta:f}},LL=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Pye(o,l),u=o+c,d=rr(r,n,s,o),f=rr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=rr(r,n,a,o),g=rr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},_ye=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xn(d-u),h=wp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,x=wp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,v=x.theta,w=c?Math.abs(u-d):Math.abs(u-d)-m-v;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LL({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var k="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=wp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,T=N.lineTangency,P=N.theta,_=wp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=_.circleTangency,A=_.lineTangency,R=_.theta,q=c?Math.abs(u-d):Math.abs(u-d)-P-R;if(q<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},Eye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FL=function(t){var r=WA(WA({},Eye),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var p=vt("recharts-sector",h),g=o-s,m=Jn(l,g,0,!0),x;return m>0&&Math.abs(d-f)<360?x=_ye({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=LL({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),pe.createElement("path",Dw({},ct(r,!0),{className:p,d:x,role:"img"}))};function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){Aye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aye(e,t,r){return t=Oye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oye(e){var t=Cye(e,"string");return Wh(t)=="symbol"?t:t+""}function Cye(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YA={curveBasisClosed:Aie,curveBasisOpen:Oie,curveBasis:Eie,curveBumpX:mie,curveBumpY:gie,curveLinearClosed:Cie,curveLinear:Jx,curveMonotoneX:Die,curveMonotoneY:Mie,curveNatural:Rie,curveStep:Iie,curveStepAfter:Fie,curveStepBefore:Lie},kp=function(t){return t.x===+t.x&&t.y===+t.y},Fd=function(t){return t.x},$d=function(t){return t.y},Dye=function(t,r){if(pt(t))return t;var n="curve".concat(Yx(t));return(n==="curveMonotone"||n==="curveBump")&&r?YA["".concat(n).concat(r==="vertical"?"Y":"X")]:YA[n]||Jx},Mye=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Dye(n,l),f=u?s.filter(function(m){return kp(m)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return kp(m)}):o,g=f.map(function(m,x){return qA(qA({},m),{},{base:p[x]})});return l==="vertical"?h=fp().y($d).x1(Fd).x0(function(m){return m.base.x}):h=fp().x(Fd).y1($d).y0(function(m){return m.base.y}),h.defined(kp).curve(d),h(g)}return l==="vertical"&&ze(o)?h=fp().y($d).x1(Fd).x0(o):ze(o)?h=fp().x(Fd).y1($d).y0(o):h=CI().x(Fd).y($d),h.defined(kp).curve(d),h(f)},iu=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Mye(t):a;return j.createElement("path",Mw({},ct(t,!1),Xm(t),{className:vt("recharts-curve",r),d:o,ref:s}))},$L={exports:{}},Rye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Iye=Rye,Lye=Iye;function BL(){}function UL(){}UL.resetWarningCache=BL;var Fye=function(){function e(n,a,s,o,l,c){if(c!==Lye){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:UL,resetWarningCache:BL};return r.PropTypes=r,r};$L.exports=Fye();var $ye=$L.exports;const Ft=$t($ye),{getOwnPropertyNames:Bye,getOwnPropertySymbols:Uye}=Object,{hasOwnProperty:Kye}=Object.prototype;function XA(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function jp(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:s}=a,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,a);return s.delete(r),s.delete(n),c}}function Vye(e){return e!=null?e[Symbol.toStringTag]:void 0}function JA(e){return Bye(e).concat(Uye(e))}const zye=Object.hasOwn||((e,t)=>Kye.call(e,t));function sc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Hye="__v",Wye="__o",Gye="_owner",{getOwnPropertyDescriptor:QA,keys:ZA}=Object;function qye(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Yye(e,t){return sc(e.getTime(),t.getTime())}function Xye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Jye(e,t){return e===t}function e4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Qye=sc;function Zye(e,t,r){const n=ZA(e);let a=n.length;if(ZA(t).length!==a)return!1;for(;a-- >0;)if(!KL(e,t,r,n[a]))return!1;return!0}function Bd(e,t,r){const n=JA(e);let a=n.length;if(JA(t).length!==a)return!1;let s,o,l;for(;a-- >0;)if(s=n[a],!KL(e,t,r,s)||(o=QA(e,s),l=QA(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function e1e(e,t){return sc(e.valueOf(),t.valueOf())}function t1e(e,t){return e.source===t.source&&e.flags===t.flags}function t4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function r1e(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function n1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function KL(e,t,r,n){return(n===Gye||n===Wye||n===Hye)&&(e.$$typeof||t.$$typeof)?!0:zye(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const a1e="[object Arguments]",i1e="[object Boolean]",s1e="[object Date]",o1e="[object Error]",l1e="[object Map]",c1e="[object Number]",u1e="[object Object]",d1e="[object RegExp]",f1e="[object Set]",h1e="[object String]",p1e="[object URL]",{isArray:m1e}=Array,r4=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:n4}=Object,g1e=Object.prototype.toString.call.bind(Object.prototype.toString);function x1e({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,x){if(g===m)return!0;if(g==null||m==null)return!1;const b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?s(g,m,x):b==="function"?n(g,m,x):!1;const y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return o(g,m,x);if(m1e(g))return e(g,m,x);if(r4!=null&&r4(g))return d(g,m,x);if(y===Date)return t(g,m,x);if(y===RegExp)return c(g,m,x);if(y===Map)return a(g,m,x);if(y===Set)return u(g,m,x);const v=g1e(g);if(v===s1e)return t(g,m,x);if(v===d1e)return c(g,m,x);if(v===l1e)return a(g,m,x);if(v===f1e)return u(g,m,x);if(v===u1e)return typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,x);if(v===p1e)return f(g,m,x);if(v===o1e)return r(g,m,x);if(v===a1e)return o(g,m,x);if(v===i1e||v===c1e||v===h1e)return l(g,m,x);if(h){let w=h[v];if(!w){const k=Vye(g);k&&(w=h[k])}if(w)return w(g,m,x)}return!1}}function v1e({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?Bd:qye,areDatesEqual:Yye,areErrorsEqual:Xye,areFunctionsEqual:Jye,areMapsEqual:r?XA(e4,Bd):e4,areNumbersEqual:Qye,areObjectsEqual:r?Bd:Zye,arePrimitiveWrappersEqual:e1e,areRegExpsEqual:t1e,areSetsEqual:r?XA(t4,Bd):t4,areTypedArraysEqual:r?Bd:r1e,areUrlsEqual:n1e,unknownTagComparators:void 0};if(t&&(n=n4({},n,t(n))),e){const a=jp(n.areArraysEqual),s=jp(n.areMapsEqual),o=jp(n.areObjectsEqual),l=jp(n.areSetsEqual);n=n4({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function y1e(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function b1e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,s)}}const w1e=Yo();Yo({strict:!0});Yo({circular:!0});Yo({circular:!0,strict:!0});Yo({createInternalComparator:()=>sc});Yo({strict:!0,createInternalComparator:()=>sc});Yo({circular:!0,createInternalComparator:()=>sc});Yo({circular:!0,createInternalComparator:()=>sc,strict:!0});function Yo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,s=v1e(e),o=x1e(s),l=r?r(o):y1e(o);return b1e({circular:t,comparator:o,createState:n,equals:l,strict:a})}function k1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function a4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):k1e(a)};requestAnimationFrame(n)}function Rw(e){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rw(e)}function j1e(e){return P1e(e)||T1e(e)||N1e(e)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N1e(e,t){if(e){if(typeof e=="string")return i4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(e,t)}}function i4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P1e(e){if(Array.isArray(e))return e}function _1e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=j1e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){a4(a.bind(null,u),c);return}a(c),a4(a.bind(null,u));return}Rw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){VL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VL(e,t,r){return t=E1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1e(e){var t=A1e(e,"string");return Gh(t)==="symbol"?t:String(t)}function A1e(e,t){if(Gh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},C1e=function(t){return t},D1e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bf=function(t,r){return Object.keys(r).reduce(function(n,a){return o4(o4({},n),{},VL({},a,t(a,r[a])))},{})},l4=function(t,r,n){return t.map(function(a){return"".concat(D1e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function M1e(e,t){return L1e(e)||I1e(e,t)||zL(e,t)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function L1e(e){if(Array.isArray(e))return e}function F1e(e){return U1e(e)||B1e(e)||zL(e)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zL(e,t){if(e){if(typeof e=="string")return Iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(e,t)}}function B1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U1e(e){if(Array.isArray(e))return Iw(e)}function Iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tg=1e-4,HL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WL=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},c4=function(t,r){return function(n){var a=HL(t,r);return WL(a,n)}},K1e=function(t,r){return function(n){var a=HL(t,r),s=[].concat(F1e(a.map(function(o,l){return o*l}).slice(1)),[0]);return WL(s,n)}},u4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=M1e(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=c4(a,o),h=c4(s,l),p=K1e(a,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,v=y,w=0;w<8;++w){var k=f(v)-y,N=p(v);if(Math.abs(k-y)<Tg||N<Tg)return h(v);v=g(v-k/N)}return h(v)};return m.isStepper=!1,m},V1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*s,m=h+(p-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Tg&&Math.abs(m)<Tg?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},z1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u4(a);case"spring":return V1e();default:if(a.split("(")[0]==="cubic-bezier")return u4(a)}return typeof a=="function"?a:null};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function d4(e){return G1e(e)||W1e(e)||GL(e)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G1e(e){if(Array.isArray(e))return Fw(e)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lw(e,t,r){return t=q1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q1e(e){var t=Y1e(e,"string");return qh(t)==="symbol"?t:String(t)}function Y1e(e,t){if(qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1e(e,t){return Z1e(e)||Q1e(e,t)||GL(e,t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Z1e(e){if(Array.isArray(e))return e}var Pg=function(t,r,n){return t+(r-t)*n},$w=function(t){var r=t.from,n=t.to;return r!==n},ebe=function e(t,r,n){var a=Bf(function(s,o){if($w(o)){var l=t(o.from,o.to,o.velocity),c=X1e(l,2),u=c[0],d=c[1];return pn(pn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Bf(function(s,o){return $w(o)?pn(pn({},o),{},{velocity:Pg(o.velocity,a[s].velocity,n),from:Pg(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const tbe=function(e,t,r,n,a){var s=O1e(e,t),o=s.reduce(function(x,b){return pn(pn({},x),{},Lw({},b,[e[b],t[b]]))},{}),l=s.reduce(function(x,b){return pn(pn({},x),{},Lw({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Bf(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter($w).length},g=function(b){u||(u=b);var y=b-u,v=y/r.dt;l=ebe(r,l,v),a(pn(pn(pn({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,v=Bf(function(k,N){return Pg.apply(void 0,d4(N).concat([r(y)]))},o);if(a(pn(pn(pn({},e),t),v)),y<1)c=requestAnimationFrame(f);else{var w=Bf(function(k,N){return Pg.apply(void 0,d4(N).concat([r(1)]))},o);a(pn(pn(pn({},e),t),w))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var rbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nbe(e,t){if(e==null)return{};var r=abe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function abe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xy(e){return lbe(e)||obe(e)||sbe(e)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(e,t){if(e){if(typeof e=="string")return Bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(e,t)}}function obe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lbe(e){if(Array.isArray(e))return Bw(e)}function Bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hf(e,t,r){return t=qL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ube(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qL(n.key),n)}}function dbe(e,t,r){return t&&ube(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qL(e){var t=fbe(e,"string");return Au(t)==="symbol"?t:String(t)}function fbe(e,t){if(Au(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uw(e,t)}function pbe(e){var t=mbe();return function(){var n=_g(e),a;if(t){var s=_g(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Kw(this,a)}}function Kw(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vw(e)}function Vw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _g(e){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(e)}var Vi=function(e){hbe(r,e);var t=pbe(r);function r(n,a){var s;cbe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Vw(s)),s.changeStyle=s.changeStyle.bind(Vw(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Kw(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Kw(s);s.state={style:c?hf({},c,u):u}}else s.state={style:{}};return s}return dbe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?hf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(w1e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var x={style:c?hf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(oi(oi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=tbe(o,l,z1e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,b){if(b===0)return m;var y=x.duration,v=x.easing,w=v===void 0?"ease":v,k=x.style,N=x.properties,S=x.onAnimationEnd,T=b>0?o[b-1]:x,P=N||Object.keys(k);if(typeof w=="function"||w==="spring")return[].concat(Xy(m),[s.runJSAnimation.bind(s,{from:T.style,to:k,duration:y,easing:w}),y]);var _=l4(P,y,w),E=oi(oi(oi({},T.style),k),{},{transition:_});return[].concat(Xy(m),[E,y,S]).filter(C1e)};return this.manager.start([c].concat(Xy(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=_1e());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?hf({},l,c):c,x=l4(Object.keys(m),o,u);g.start([d,s,oi(oi({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nbe(a,rbe),u=j.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(p){var g=p.props,m=g.style,x=m===void 0?{}:m,b=g.className,y=j.cloneElement(p,oi(oi({},c),{},{style:oi(oi({},x),d),className:b}));return y};return u===1?f(j.Children.only(s)):pe.createElement("div",null,j.Children.map(s,function(h){return f(h)}))}}]),r}(j.PureComponent);Vi.displayName="Animate";Vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vi.propTypes={from:Ft.oneOfType([Ft.object,Ft.string]),to:Ft.oneOfType([Ft.object,Ft.string]),attributeName:Ft.string,duration:Ft.number,begin:Ft.number,easing:Ft.oneOfType([Ft.string,Ft.func]),steps:Ft.arrayOf(Ft.shape({duration:Ft.number.isRequired,style:Ft.object.isRequired,easing:Ft.oneOfType([Ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ft.func]),properties:Ft.arrayOf("string"),onAnimationEnd:Ft.func})),children:Ft.oneOfType([Ft.node,Ft.func]),isActive:Ft.bool,canBegin:Ft.bool,onAnimationEnd:Ft.func,shouldReAnimate:Ft.bool,onAnimationStart:Ft.func,onAnimationReStart:Ft.func};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function gbe(e,t){return bbe(e)||ybe(e,t)||vbe(e,t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vbe(e,t){if(e){if(typeof e=="string")return p4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(e,t)}}function p4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ybe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bbe(e){if(Array.isArray(e))return e}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){wbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wbe(e,t,r){return t=kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kbe(e){var t=jbe(e,"string");return Yh(t)=="symbol"?t:t+""}function jbe(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x4=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Sbe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Nbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mS=function(t){var r=g4(g4({},Nbe),t),n=j.useRef(),a=j.useState(-1),s=gbe(a,2),o=s[0],l=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=vt("recharts-rectangle",p);return y?pe.createElement(Vi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(w){var k=w.width,N=w.height,S=w.x,T=w.y;return pe.createElement(Vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:g},pe.createElement("path",Eg({},ct(r,!0),{className:v,d:x4(S,T,k,N,h),ref:n})))}):pe.createElement("path",Eg({},ct(r,!0),{className:v,d:x4(c,u,d,f,h)}))},Tbe=["points","className","baseLinePoints","connectNulls"];function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}function Pbe(e,t){if(e==null)return{};var r=_be(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v4(e){return Cbe(e)||Obe(e)||Abe(e)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(e,t){if(e){if(typeof e=="string")return zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(e,t)}}function Obe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cbe(e){if(Array.isArray(e))return zw(e)}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y4=function(t){return t&&t.x===+t.x&&t.y===+t.y},Dbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){y4(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),y4(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Uf=function(t,r){var n=Dbe(t);r&&(n=[n.reduce(function(s,o){return[].concat(v4(s),v4(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Mbe=function(t,r,n){var a=Uf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Uf(r.reverse(),n).slice(1))},Rbe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=Pbe(t,Tbe);if(!r||!r.length)return null;var l=vt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Mbe(r,a,s);return pe.createElement("g",{className:l},pe.createElement("path",Bc({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?pe.createElement("path",Bc({},ct(o,!0),{fill:"none",d:Uf(r,s)})):null,c?pe.createElement("path",Bc({},ct(o,!0),{fill:"none",d:Uf(a,s)})):null)}var d=Uf(r,s);return pe.createElement("path",Bc({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}var hv=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=vt("recharts-dot",s);return r===+r&&n===+n&&a===+a?j.createElement("circle",Hw({},ct(t,!1),Xm(t),{className:o,cx:r,cy:n,r:a})):null};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var Ibe=["x","y","top","left","width","height","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){Fbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fbe(e,t,r){return t=$be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $be(e){var t=Bbe(e,"string");return Xh(t)=="symbol"?t:t+""}function Bbe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ube(e,t){if(e==null)return{};var r=Kbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Vbe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},zbe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Ube(t,Ibe),x=Lbe({x:n,y:s,top:l,left:u,width:f,height:p},m);return!ze(n)||!ze(s)||!ze(f)||!ze(p)||!ze(l)||!ze(u)?null:pe.createElement("path",Ww({},ct(x,!0),{className:vt("recharts-cross",g),d:Vbe(n,s,f,p,l,u)}))},Hbe=lv,Wbe=sL,Gbe=Hi;function qbe(e,t){return e&&e.length?Hbe(e,Gbe(t),Wbe):void 0}var Ybe=qbe;const Xbe=$t(Ybe);var Jbe=lv,Qbe=Hi,Zbe=oL;function ewe(e,t){return e&&e.length?Jbe(e,Qbe(t),Zbe):void 0}var twe=ewe;const rwe=$t(twe);var nwe=["cx","cy","angle","ticks","axisLine"],awe=["ticks","tick","angle","tickFormatter","stroke"];function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){pv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k4(e,t){if(e==null)return{};var r=iwe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function swe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XL(n.key),n)}}function owe(e,t,r){return t&&j4(e.prototype,t),r&&j4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lwe(e,t,r){return t=Ag(t),cwe(e,YL()?Reflect.construct(t,r||[],Ag(e).constructor):t.apply(e,r))}function cwe(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uwe(e)}function uwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!e})()}function Ag(e){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(e)}function dwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gw(e,t)}function pv(e,t,r){return t=XL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=fwe(e,"string");return Ou(t)=="symbol"?t:t+""}function fwe(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mv=function(e){function t(){return swe(this,t),lwe(this,t,arguments)}return dwe(t,e),owe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return rr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Xbe(l,function(d){return d.coordinate||0}),u=rwe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=k4(n,nwe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=rr(a,s,d[0],o),h=rr(a,s,d[1],o),p=Zo(Zo(Zo({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return pe.createElement("line",Kf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=k4(a,awe),f=this.getTickTextAnchor(),h=ct(d,!1),p=ct(o,!1),g=s.map(function(m,x){var b=n.getTickValueCoord(m),y=Zo(Zo(Zo(Zo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:m});return pe.createElement(Ot,Kf({className:vt("recharts-polar-radius-axis-tick",RL(o)),key:"tick-".concat(m.coordinate)},Kl(n.props,m,x)),t.renderTickItem(o,y,c?c(m.value,x):m.value))});return pe.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:pe.createElement(Ot,{className:vt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return pe.isValidElement(n)?o=pe.cloneElement(n,a):pt(n)?o=n(a):o=pe.createElement(Vl,Kf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(j.PureComponent);pv(mv,"displayName","PolarRadiusAxis");pv(mv,"axisType","radiusAxis");pv(mv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(this,arguments)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QL(n.key),n)}}function pwe(e,t,r){return t&&N4(e.prototype,t),r&&N4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mwe(e,t,r){return t=Og(t),gwe(e,JL()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function gwe(e,t){if(t&&(Cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xwe(e)}function xwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function vwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qw(e,t)}function gv(e,t,r){return t=QL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=ywe(e,"string");return Cu(t)=="symbol"?t:t+""}function ywe(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bwe=Math.PI/180,T4=1e-5,xv=function(e){function t(){return hwe(this,t),mwe(this,t,arguments)}return vwe(t,e),pwe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=rr(s,o,l,n.coordinate),h=rr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*bwe),o;return s>T4?o=a==="outer"?"start":"end":s<-T4?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=el(el({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return pe.createElement(hv,hl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return rr(a,s,o,h.coordinate)});return pe.createElement(Rbe,hl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ct(this.props,!1),f=ct(o,!1),h=el(el({},d),{},{fill:"none"},ct(l,!1)),p=s.map(function(g,m){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=el(el(el({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:x.x2,y:x.y2});return pe.createElement(Ot,hl({className:vt("recharts-polar-angle-axis-tick",RL(o)),key:"tick-".concat(g.coordinate)},Kl(n.props,g,m)),l&&pe.createElement("line",hl({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return pe.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:pe.createElement(Ot,{className:vt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return pe.isValidElement(n)?o=pe.cloneElement(n,a):pt(n)?o=n(a):o=pe.createElement(Vl,hl({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(j.PureComponent);gv(xv,"displayName","PolarAngleAxis");gv(xv,"axisType","angleAxis");gv(xv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wwe=r6,kwe=wwe(Object.getPrototypeOf,Object),jwe=kwe,Swe=Ts,Nwe=jwe,Twe=Ps,Pwe="[object Object]",_we=Function.prototype,Ewe=Object.prototype,ZL=_we.toString,Awe=Ewe.hasOwnProperty,Owe=ZL.call(Object);function Cwe(e){if(!Twe(e)||Swe(e)!=Pwe)return!1;var t=Nwe(e);if(t===null)return!0;var r=Awe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZL.call(r)==Owe}var Dwe=Cwe;const Mwe=$t(Dwe);var Rwe=Ts,Iwe=Ps,Lwe="[object Boolean]";function Fwe(e){return e===!0||e===!1||Iwe(e)&&Rwe(e)==Lwe}var $we=Fwe;const Bwe=$t($we);function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function Uwe(e,t){return Hwe(e)||zwe(e,t)||Vwe(e,t)||Kwe()}function Kwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vwe(e,t){if(e){if(typeof e=="string")return P4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P4(e,t)}}function P4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Hwe(e){if(Array.isArray(e))return e}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){Wwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wwe(e,t,r){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=qwe(e,"string");return Jh(t)=="symbol"?t:t+""}function qwe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A4=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Ywe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xwe=function(t){var r=E4(E4({},Ywe),t),n=j.useRef(),a=j.useState(-1),s=Uwe(a,2),o=s[0],l=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=vt("recharts-trapezoid",p);return b?pe.createElement(Vi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(v){var w=v.upperWidth,k=v.lowerWidth,N=v.height,S=v.x,T=v.y;return pe.createElement(Vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},pe.createElement("path",Cg({},ct(r,!0),{className:y,d:A4(S,T,w,k,N),ref:n})))}):pe.createElement("g",null,pe.createElement("path",Cg({},ct(r,!0),{className:y,d:A4(c,u,d,f,h)})))},Jwe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Qwe(e,t){if(e==null)return{};var r=Zwe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){eke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eke(e,t,r){return t=tke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tke(e){var t=rke(e,"string");return Qh(t)=="symbol"?t:t+""}function rke(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nke(e,t){return Dg(Dg({},t),e)}function ake(e,t){return e==="symbols"}function C4(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return pe.createElement(mS,r);case"trapezoid":return pe.createElement(Xwe,r);case"sector":return pe.createElement(FL,r);case"symbols":if(ake(t))return pe.createElement(Mj,r);break;default:return null}}function ike(e){return j.isValidElement(e)?e.props:e}function eF(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?nke:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Qwe(e,Jwe),u;if(j.isValidElement(t))u=j.cloneElement(t,Dg(Dg({},c),ike(t)));else if(pt(t))u=t(c);else if(Mwe(t)&&!Bwe(t)){var d=a(t,c);u=pe.createElement(C4,{shapeType:r,elementProps:d})}else{var f=c;u=pe.createElement(C4,{shapeType:r,elementProps:f})}return l?pe.createElement(Ot,{className:o},u):u}function vv(e,t){return t!=null&&"trapezoids"in e.props}function yv(e,t){return t!=null&&"sectors"in e.props}function Zh(e,t){return t!=null&&"points"in e.props}function ske(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function oke(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lke(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function cke(e,t){var r;return vv(e,t)?r=ske:yv(e,t)?r=oke:Zh(e,t)&&(r=lke),r}function uke(e,t){var r;return vv(e,t)?r="trapezoids":yv(e,t)?r="sectors":Zh(e,t)&&(r="points"),r}function dke(e,t){if(vv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(yv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zh(e,t)?t.payload:{}}function fke(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=uke(r,t),s=dke(r,t),o=n.filter(function(c,u){var d=_u(s,c),f=r.props[a].filter(function(g){var m=cke(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Hp;function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function pke(e,t,r){return t&&M4(e.prototype,t),r&&M4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mke(e,t,r){return t=Mg(t),gke(e,tF()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function gke(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xke(e)}function xke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function vke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yw(e,t)}function Ka(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=yke(e,"string");return Du(t)=="symbol"?t:t+""}function yke(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bi=function(e){function t(r){var n;return hke(this,t),n=mke(this,t,[r]),Ka(n,"pieRef",null),Ka(n,"sectorRefs",[]),Ka(n,"id",ud("recharts-pie-")),Ka(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pt(a)&&a()}),Ka(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return vke(t,e),pke(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ct(this.props,!1),f=ct(o,!1),h=ct(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,y=rr(m.cx,m.cy,m.outerRadius+p,b),v=Qt(Qt(Qt(Qt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,m.cx)},y),w=Qt(Qt(Qt(Qt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[rr(m.cx,m.cy,m.outerRadius,b),y]}),k=c;return yt(c)&&yt(u)?k="value":yt(c)&&(k=u),pe.createElement(Ot,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,v,Gr(m,k)))});return pe.createElement(Ot,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,g=Qt(Qt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return pe.createElement(Ot,Uc({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Kl(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),pe.createElement(eF,Uc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return pe.createElement(Vi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(v,w){var k=h&&h[w],N=w>0?Pa(v,"paddingAngle",0):0;if(k){var S=aa(k.endAngle-k.startAngle,v.endAngle-v.startAngle),T=Qt(Qt({},v),{},{startAngle:y+N,endAngle:y+S(m)+N});x.push(T),y=T.endAngle}else{var P=v.endAngle,_=v.startAngle,E=aa(0,P-_),A=E(m),R=Qt(Qt({},v),{},{startAngle:y+N,endAngle:y+A+N});x.push(R),y=R.endAngle}}),pe.createElement(Ot,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!_u(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!ze(u)||!ze(d)||!ze(f)||!ze(h))return null;var m=vt("recharts-pie",l);return pe.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),rn.renderCallByParent(this.props,null,!1),(!p||g)&&Fi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(pe.isValidElement(n))return pe.cloneElement(n,a);if(pt(n))return n(a);var o=vt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return pe.createElement(iu,Uc({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(pe.isValidElement(n))return pe.cloneElement(n,a);var o=s;if(pt(n)&&(o=n(a),pe.isValidElement(o)))return o;var l=vt("recharts-pie-label-text",typeof n!="boolean"&&!pt(n)?n.className:"");return pe.createElement(Vl,Uc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);Hp=bi;Ka(bi,"displayName","Pie");Ka(bi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ka(bi,"parseDeltaAngle",function(e,t){var r=Xn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ka(bi,"getRealPieData",function(e){var t=e.data,r=e.children,n=ct(e,!1),a=Ga(r,El);return t&&t.length?t.map(function(s,o){return Qt(Qt(Qt({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Qt(Qt({},n),s.props)}):[]});Ka(bi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=ML(a,s),l=n+Jn(e.cx,a,a/2),c=r+Jn(e.cy,s,s/2),u=Jn(e.innerRadius,o,0),d=Jn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ka(bi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Qt(Qt({},t.type.defaultProps),t.props):t.props,a=Hp.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Hp.parseCoordinateOfPie(n,r),m=Hp.parseDeltaAngle(o,l),x=Math.abs(m),b=u;yt(u)&&yt(f)?(yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):yt(u)&&(yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(T){return Gr(T,b,0)!==0}).length,v=(x>=360?y:y-1)*c,w=x-y*p-v,k=a.reduce(function(T,P){var _=Gr(P,b,0);return T+(ze(_)?_:0)},0),N;if(k>0){var S;N=a.map(function(T,P){var _=Gr(T,b,0),E=Gr(T,d,P),A=(ze(_)?_:0)/k,R;P?R=S.endAngle+Xn(m)*c*(_!==0?1:0):R=o;var q=R+Xn(m)*((_!==0?p:0)+A*w),Z=(R+q)/2,V=(g.innerRadius+g.outerRadius)/2,G=[{name:E,value:_,payload:T,dataKey:b,type:h}],re=rr(g.cx,g.cy,V,Z);return S=Qt(Qt(Qt({percent:A,cornerRadius:s,name:E,tooltipPayload:G,midAngle:Z,middleRadius:V,tooltipPosition:re},T),g),{},{value:Gr(T,b),startAngle:R,endAngle:q,payload:T,paddingAngle:Xn(m)*c}),S})}return Qt(Qt({},g),{},{sectors:N,data:a})});var bke=Math.ceil,wke=Math.max;function kke(e,t,r,n){for(var a=-1,s=wke(bke((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var jke=kke,Ske=w6,R4=1/0,Nke=17976931348623157e292;function Tke(e){if(!e)return e===0?e:0;if(e=Ske(e),e===R4||e===-R4){var t=e<0?-1:1;return t*Nke}return e===e?e:0}var nF=Tke,Pke=jke,_ke=tv,Jy=nF;function Eke(e){return function(t,r,n){return n&&typeof n!="number"&&_ke(t,r,n)&&(r=n=void 0),t=Jy(t),r===void 0?(r=t,t=0):r=Jy(r),n=n===void 0?t<r?1:-1:Jy(n),Pke(t,r,n,e)}}var Ake=Eke,Oke=Ake,Cke=Oke(),Dke=Cke;const Rg=$t(Dke);function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){aF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aF(e,t,r){return t=Mke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mke(e){var t=Rke(e,"string");return e0(t)=="symbol"?t:t+""}function Rke(e,t){if(e0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ike=["Webkit","Moz","O","ms"],Lke=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Ike.reduce(function(s,o){return L4(L4({},s),{},aF({},o+n,r))},{});return a[t]=r,a};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sF(n.key),n)}}function $ke(e,t,r){return t&&$4(e.prototype,t),r&&$4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bke(e,t,r){return t=Lg(t),Uke(e,iF()?Reflect.construct(t,r||[],Lg(e).constructor):t.apply(e,r))}function Uke(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kke(e)}function Kke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}function Vke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xw(e,t)}function ga(e,t,r){return t=sF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=zke(e,"string");return Mu(t)=="symbol"?t:t+""}function zke(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hke=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ff().domain(Rg(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},B4=function(t){return t.changedTouches&&!!t.changedTouches.length},Ru=function(e){function t(r){var n;return Fke(this,t),n=Bke(this,t,[r]),ga(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ga(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ga(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),ga(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ga(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ga(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ga(n,"handleSlideDragStart",function(a){var s=B4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Vke(t,e),$ke(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Gr(s[n],l,n);return pt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=B4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var v=this.getIndex(b),w=v.startIndex,k=v.endIndex,N=function(){var T=x.length-1;return o==="startX"&&(l>c?w%m===0:k%m===0)||l<c&&k===T||o==="endX"&&(l>c?k%m===0:w%m===0)||l>c&&k===T};this.setState(ga(ga({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&N()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ga({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return pe.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?pe.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=Qy(Qy({},ct(this.props,!1)),{},{x:b,y:u,width:d,height:f}),v=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return pe.createElement(Ot,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return pe.createElement(Ot,{className:"recharts-brush-texts"},pe.createElement(Vl,Ig({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(a)),pe.createElement(Vl,Ig({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!ze(l)||!ze(c)||!ze(u)||!ze(d)||u<=0||d<=0)return null;var v=vt("recharts-brush",s),w=pe.Children.count(o)===1,k=Lke("userSelect","none");return pe.createElement(Ot,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),pe.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return pe.isValidElement(n)?s=pe.cloneElement(n,a):pt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return Qy({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Hke({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(j.PureComponent);ga(Ru,"displayName","Brush");ga(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Wke=Uj;function Gke(e,t){var r;return Wke(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var qke=Gke,Yke=qI,Xke=Hi,Jke=qke,Qke=ma,Zke=tv;function e2e(e,t,r){var n=Qke(e)?Yke:Jke;return r&&Zke(e,t,r)&&(t=void 0),n(e,Xke(t))}var t2e=e2e;const r2e=$t(t2e);var $i=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},U4=g6;function n2e(e,t,r){t=="__proto__"&&U4?U4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var a2e=n2e,i2e=a2e,s2e=p6,o2e=Hi;function l2e(e,t){var r={};return t=o2e(t),s2e(e,function(n,a,s){i2e(r,a,t(n,a,s))}),r}var c2e=l2e;const u2e=$t(c2e);function d2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var f2e=d2e,h2e=Uj;function p2e(e,t){var r=!0;return h2e(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var m2e=p2e,g2e=f2e,x2e=m2e,v2e=Hi,y2e=ma,b2e=tv;function w2e(e,t,r){var n=y2e(e)?g2e:x2e;return r&&b2e(e,t,r)&&(t=void 0),n(e,v2e(t))}var k2e=w2e;const oF=$t(k2e);var j2e=["x","y"];function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){S2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S2e(e,t,r){return t=N2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2e(e){var t=T2e(e,"string");return t0(t)=="symbol"?t:t+""}function T2e(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P2e(e,t){if(e==null)return{};var r=_2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E2e(e,t){var r=e.x,n=e.y,a=P2e(e,j2e),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ud(Ud(Ud(Ud(Ud({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function V4(e){return pe.createElement(eF,Jw({shapeType:"rectangle",propTransformer:E2e,activeClassName:"recharts-active-bar"},e))}var A2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=ze(n)||eae(n);return s?t(n,a):(s||Hl(),r)}},O2e=["value","background"],lF;function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function C2e(e,t){if(e==null)return{};var r=D2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(r),!0).forEach(function(n){go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function R2e(e,t,r){return t&&H4(e.prototype,t),r&&H4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I2e(e,t,r){return t=$g(t),L2e(e,cF()?Reflect.construct(t,r||[],$g(e).constructor):t.apply(e,r))}function L2e(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(e)}function F2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!e})()}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(e)}function $2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qw(e,t)}function go(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=B2e(e,"string");return Iu(t)=="symbol"?t:t+""}function B2e(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bi=function(e){function t(){var r;M2e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=I2e(this,t,[].concat(a)),go(r,"state",{isAnimationFinished:!1}),go(r,"id",ud("recharts-bar-")),go(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),go(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return $2e(t,e),R2e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ct(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Dr(Dr(Dr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return pe.createElement(Ot,Fg({className:"recharts-bar-rectangle"},Kl(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),pe.createElement(V4,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return pe.createElement(Vi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(x,b){var y=h&&h[b];if(y){var v=aa(y.x,x.x),w=aa(y.y,x.y),k=aa(y.width,x.width),N=aa(y.height,x.height);return Dr(Dr({},x),{},{x:v(g),y:w(g),width:k(g),height:N(g)})}if(o==="horizontal"){var S=aa(0,x.height),T=S(g);return Dr(Dr({},x),{},{y:x.y+x.height-T,height:T})}var P=aa(0,x.width),_=P(g);return Dr(Dr({},x),{},{width:_})});return pe.createElement(Ot,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!_u(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=ct(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=C2e(u,O2e);if(!f)return null;var p=Dr(Dr(Dr(Dr(Dr({},h),{},{fill:"#eee"},f),c),Kl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return pe.createElement(V4,Fg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Ga(d,fv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Gr(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return pe.createElement(Ot,g,f.map(function(m){return pe.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=vt("recharts-bar",o),y=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,w=y||v,k=yt(m)?this.id:m;return pe.createElement(Ot,{className:b},y||v?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(k)},pe.createElement("rect",{x:y?u:u-f/2,y:v?d:d-h/2,width:y?f:f*2,height:v?h:h*2}))):null,pe.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(k,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,k),(!p||x)&&Fi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);lF=Bi;go(Bi,"displayName","Bar");go(Bi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});go(Bi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=yve(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,x=m!==void 0?Dr(Dr({},m),r.props):r.props,b=x.dataKey,y=x.children,v=x.minPointSize,w=g==="horizontal"?o:s,k=u?w.scale.domain():null,N=Tve({numericAxis:w}),S=Ga(y,El),T=f.map(function(P,_){var E,A,R,q,Z,V;u?E=bve(u[d+_],k):(E=Gr(P,b),Array.isArray(E)||(E=[N,E]));var G=A2e(v,lF.defaultProps.minPointSize)(E[1],_);if(g==="horizontal"){var re,M=[o.scale(E[0]),o.scale(E[1])],Y=M[0],ee=M[1];A=MA({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:P,index:_}),R=(re=ee??Y)!==null&&re!==void 0?re:void 0,q=p.size;var D=Y-ee;if(Z=Number.isNaN(D)?0:D,V={x:A,y:o.y,width:q,height:o.height},Math.abs(G)>0&&Math.abs(Z)<Math.abs(G)){var J=Xn(Z||G)*(Math.abs(G)-Math.abs(Z));R-=J,Z+=J}}else{var z=[s.scale(E[0]),s.scale(E[1])],L=z[0],te=z[1];if(A=L,R=MA({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:_}),q=te-L,Z=p.size,V={x:s.x,y:R,width:s.width,height:Z},Math.abs(G)>0&&Math.abs(q)<Math.abs(G)){var ye=Xn(q||G)*(Math.abs(G)-Math.abs(q));q+=ye}}return Dr(Dr(Dr({},P),{},{x:A,y:R,width:q,height:Z,value:u?E:E[1],payload:P,background:V},S&&S[_]&&S[_].props),{},{tooltipPayload:[CL(r,P)],tooltipPosition:{x:A+q/2,y:R+Z/2}})});return Dr({data:T,layout:g},h)});function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function U2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function K2e(e,t,r){return t&&W4(e.prototype,t),r&&W4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bv(e,t,r){return t=dF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=V2e(e,"string");return r0(t)=="symbol"?t:t+""}function V2e(e,t){if(r0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fF=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ya(u,Bi);return d.reduce(function(p,g){var m=r[g],x=m.orientation,b=m.domain,y=m.padding,v=y===void 0?{}:y,w=m.mirror,k=m.reversed,N="".concat(x).concat(w?"Mirror":""),S,T,P,_,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=b[1]-b[0],R=1/0,q=m.categoricalDomain.sort(nae);if(q.forEach(function(z,L){L>0&&(R=Math.min((z||0)-(q[L-1]||0),R))}),Number.isFinite(R)){var Z=R/A,V=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=Z*V/2),m.padding==="no-gap"){var G=Jn(t.barCategoryGap,Z*V),re=Z*V/2;S=re-G-(re-G)/V*G}}}a==="xAxis"?T=[n.left+(v.left||0)+(S||0),n.left+n.width-(v.right||0)-(S||0)]:a==="yAxis"?T=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(S||0),n.top+n.height-(v.bottom||0)-(S||0)]:T=m.range,k&&(T=[T[1],T[0]]);var M=_L(m,s,h),Y=M.scale,ee=M.realScaleType;Y.domain(b).range(T),EL(Y);var D=AL(Y,ui(ui({},m),{},{realScaleType:ee}));a==="xAxis"?(E=x==="top"&&!w||x==="bottom"&&w,P=n.left,_=f[N]-E*m.height):a==="yAxis"&&(E=x==="left"&&!w||x==="right"&&w,P=f[N]-E*m.width,_=n.top);var J=ui(ui(ui({},m),D),{},{realScaleType:ee,x:P,y:_,scale:Y,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return J.bandSize=jg(J,D),!m.hide&&a==="xAxis"?f[N]+=(E?-1:1)*J.height:m.hide||(f[N]+=(E?-1:1)*J.width),ui(ui({},p),{},bv({},g,J))},{})},hF=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},z2e=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return hF({x:r,y:n},{x:a,y:s})},pF=function(){function e(t){U2e(this,e),this.scale=t}return K2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();bv(pF,"EPS",1e-4);var gS=function(t){var r=Object.keys(t).reduce(function(n,a){return ui(ui({},n),{},bv({},a,pF.create(t[a])))},{});return ui(ui({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return u2e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return oF(a,function(s,o){return r[o].isInRange(s)})}})};function H2e(e){return(e%180+180)%180}var W2e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=H2e(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},G2e=Hi,q2e=S0,Y2e=Zx;function X2e(e){return function(t,r,n){var a=Object(t);if(!q2e(t)){var s=G2e(r);t=Y2e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var J2e=X2e,Q2e=nF;function Z2e(e){var t=Q2e(e),r=t%1;return t===t?r?t-r:t:0}var eje=Z2e,tje=l6,rje=Hi,nje=eje,aje=Math.max;function ije(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:nje(r);return a<0&&(a=aje(n+a,0)),tje(e,rje(t),a)}var sje=ije,oje=J2e,lje=sje,cje=oje(lje),uje=cje;const dje=$t(uje);var fje=sne(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),xS=j.createContext(void 0),vS=j.createContext(void 0),mF=j.createContext(void 0),gF=j.createContext({}),xF=j.createContext(void 0),vF=j.createContext(0),yF=j.createContext(0),q4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=fje(s);return pe.createElement(xS.Provider,{value:n},pe.createElement(vS.Provider,{value:a},pe.createElement(gF.Provider,{value:s},pe.createElement(mF.Provider,{value:d},pe.createElement(xF.Provider,{value:o},pe.createElement(vF.Provider,{value:u},pe.createElement(yF.Provider,{value:c},l)))))))},hje=function(){return j.useContext(xF)},bF=function(t){var r=j.useContext(xS);r==null&&Hl();var n=r[t];return n==null&&Hl(),n},pje=function(){var t=j.useContext(xS);return lo(t)},mje=function(){var t=j.useContext(vS),r=dje(t,function(n){return oF(n.domain,Number.isFinite)});return r||lo(t)},wF=function(t){var r=j.useContext(vS);r==null&&Hl();var n=r[t];return n==null&&Hl(),n},gje=function(){var t=j.useContext(mF);return t},xje=function(){return j.useContext(gF)},yS=function(){return j.useContext(yF)},bS=function(){return j.useContext(vF)};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function bje(e,t,r){return t&&yje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wje(e,t,r){return t=Bg(t),kje(e,kF()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function kje(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(e)}function jje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function Sje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zw(e,t)}function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(n){wS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wS(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=Nje(e,"string");return Lu(t)=="symbol"?t:t+""}function Nje(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tje(e,t){return Aje(e)||Eje(e,t)||_je(e,t)||Pje()}function Pje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _je(e,t){if(e){if(typeof e=="string")return J4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J4(e,t)}}function J4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Aje(e){if(Array.isArray(e))return e}function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ek.apply(this,arguments)}var Oje=function(t,r){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,r):pt(t)?n=t(r):n=pe.createElement("line",ek({},r,{className:"recharts-reference-line-line"})),n},Cje=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if($i(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if($i(u,"discard")&&!t.x.isInRange(y))return null;var v=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?v.reverse():v}if(a){var w=u.segment,k=w.map(function(N){return t.apply(N,{position:o})});return $i(u,"discard")&&r2e(k,function(N){return!t.isInRange(N)})?null:k}return null};function Dje(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=hje(),d=bF(a),f=wF(s),h=gje();if(!u||!h)return null;yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=gS({x:d.scale,y:f.scale}),g=Xr(t),m=Xr(r),x=n&&n.length===2,b=Cje(p,g,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=Tje(b,2),v=y[0],w=v.x,k=v.y,N=y[1],S=N.x,T=N.y,P=$i(e,"hidden")?"url(#".concat(u,")"):void 0,_=X4(X4({clipPath:P},ct(e,!0)),{},{x1:w,y1:k,x2:S,y2:T});return pe.createElement(Ot,{className:vt("recharts-reference-line",l)},Oje(o,_),rn.renderCallByParent(e,z2e({x1:w,y1:k,x2:S,y2:T})))}var wv=function(e){function t(){return vje(this,t),wje(this,t,arguments)}return Sje(t,e),bje(t,[{key:"render",value:function(){return pe.createElement(Dje,this.props)}}])}(pe.Component);wS(wv,"displayName","ReferenceLine");wS(wv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(this,arguments)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function Ije(e,t,r){return t&&Rje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lje(e,t,r){return t=Ug(t),Fje(e,SF()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function Fje(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $je(e)}function $je(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function Bje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rk(e,t)}function kv(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=Uje(e,"string");return Fu(t)=="symbol"?t:t+""}function Uje(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kje=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=gS({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return $i(t,"discard")&&!o.isInRange(l)?null:l},jv=function(e){function t(){return Mje(this,t),Lje(this,t,arguments)}return Bje(t,e),Ije(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Xr(a),d=Xr(s);if(yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Kje(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,x=g.className,b=$i(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=Z4(Z4({clipPath:b},ct(this.props,!0)),{},{cx:h,cy:p});return pe.createElement(Ot,{className:vt("recharts-reference-dot",x)},t.renderDot(m,y),rn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(pe.Component);kv(jv,"displayName","ReferenceDot");kv(jv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kv(jv,"renderDot",function(e,t){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,t):pt(e)?r=e(t):r=pe.createElement(hv,tk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nk.apply(this,arguments)}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Sv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function Hje(e,t,r){return t&&zje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wje(e,t,r){return t=Kg(t),Gje(e,TF()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function Gje(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qje(e)}function qje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function Yje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ak(e,t)}function Sv(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=Xje(e,"string");return $u(t)=="symbol"?t:t+""}function Xje(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jje=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=gS({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return $i(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:hF(p,g)},Nv=function(e){function t(){return Vje(this,t),Wje(this,t,arguments)}return Yje(t,e),Hje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;yi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xr(a),h=Xr(s),p=Xr(o),g=Xr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var x=Jje(f,h,p,g,this.props);if(!x&&!m)return null;var b=$i(this.props,"hidden")?"url(#".concat(d,")"):void 0;return pe.createElement(Ot,{className:vt("recharts-reference-area",c)},t.renderRect(m,tO(tO({clipPath:b},ct(this.props,!0)),x)),rn.renderCallByParent(this.props,x))}}])}(pe.Component);Sv(Nv,"displayName","ReferenceArea");Sv(Nv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sv(Nv,"renderRect",function(e,t){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,t):pt(e)?r=e(t):r=pe.createElement(mS,nk({},t,{className:"recharts-reference-area-rect"})),r});function _F(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Qje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return W2e(n,r)}function Zje(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Vg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function eSe(e,t){return _F(e,t+1)}function tSe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:_F(n,u)};var m=c,x,b=function(){return x===void 0&&(x=r(g,m)),x},y=g.coordinate,v=c===0||Vg(e,y,b,d,l);v||(c=0,d=o,u+=1),v&&(d=y+e*(b()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){rSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rSe(e,t,r){return t=nSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nSe(e){var t=aSe(e,"string");return n0(t)=="symbol"?t:t+""}function aSe(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iSe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);s[h]=p=En(En({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else s[h]=p=En(En({},p),{},{tickCoord:p.coordinate});var b=Vg(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+a),s[h]=En(En({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function sSe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=En(En({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Vg(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=En(En({},d),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(y){var v=o[y],w,k=function(){return w===void 0&&(w=r(v,y)),w};if(y===0){var N=e*(v.coordinate-e*k()/2-c);o[y]=v=En(En({},v),{},{tickCoord:N<0?v.coordinate-N*e:v.coordinate})}else o[y]=v=En(En({},v),{},{tickCoord:v.coordinate});var S=Vg(e,v.tickCoord,k,c,u);S&&(c=v.tickCoord+e*(k()/2+a),o[y]=En(En({},v),{},{isShow:!0}))},x=0;x<g;x++)m(x);return o}function kS(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ze(c)||nc.isSsr)return eSe(a,typeof c=="number"&&ze(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Lf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(v,w){var k=pt(u)?u(v.value,w):v.value;return p==="width"?Qje(Lf(k,{fontSize:t,letterSpacing:r}),g,f):Lf(k,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Xn(a[1].coordinate-a[0].coordinate):1,b=Zje(s,x,p);return c==="equidistantPreserveStart"?tSe(x,b,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=sSe(x,b,m,a,o,c==="preserveStartEnd"):h=iSe(x,b,m,a,o),h.filter(function(y){return y.isShow}))}var oSe=["viewBox"],lSe=["viewBox"],cSe=["ticks"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){jS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zy(e,t){if(e==null)return{};var r=uSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AF(n.key),n)}}function fSe(e,t,r){return t&&aO(e.prototype,t),r&&aO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hSe(e,t,r){return t=zg(t),pSe(e,EF()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function pSe(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mSe(e)}function mSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function gSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}function ik(e,t){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ik(e,t)}function jS(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=xSe(e,"string");return Bu(t)=="symbol"?t:t+""}function xSe(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xd=function(e){function t(r){var n;return dSe(this,t),n=hSe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return gSe(t,e),fSe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=Zy(n,oSe),l=this.props,c=l.viewBox,u=Zy(l,lSe);return!ru(s,c)||!ru(o,u)||!ru(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,x,b,y,v=f?-1:1,w=n.tickSize||d,k=ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=o+ +!f*c,m=x-v*w,y=m-v*h,b=k;break;case"left":m=x=n.coordinate,g=s+ +!f*l,p=g-v*w,b=p-v*h,y=k;break;case"right":m=x=n.coordinate,g=s+ +f*l,p=g+v*w,b=p+v*h,y=k;break;default:p=g=n.coordinate,x=o+ +f*c,m=x+v*w,y=m+v*h,b=k;break}return{line:{x1:p,y1:m,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Vr(Vr(Vr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Vr(Vr({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Vr(Vr({},f),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return pe.createElement("line",Kc({},f,{className:vt("recharts-cartesian-axis-line",Pa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=kS(Vr(Vr({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ct(this.props,!1),b=ct(d,!1),y=Vr(Vr({},x),{},{fill:"none"},ct(c,!1)),v=p.map(function(w,k){var N=o.getTickLineCoord(w),S=N.line,T=N.tick,P=Vr(Vr(Vr(Vr({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),T),{},{index:k,payload:w,visibleTicksCount:p.length,tickFormatter:f});return pe.createElement(Ot,Kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Kl(o.props,w,k)),c&&pe.createElement("line",Kc({},y,S,{className:vt("recharts-cartesian-axis-tick-line",Pa(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(pt(f)?f(w.value,k):w.value).concat(h||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Zy(f,cSe),g=h;return pt(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:pe.createElement(Ot,{className:vt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=vt(a.className,"recharts-cartesian-axis-tick-value");return pe.isValidElement(n)?o=pe.cloneElement(n,Vr(Vr({},a),{},{className:l})):pt(n)?o=n(Vr(Vr({},a),{},{className:l})):o=pe.createElement(Vl,Kc({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(j.Component);jS(xd,"displayName","CartesianAxis");jS(xd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vSe=["x1","y1","x2","y2","key"],ySe=["offset"];function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){bSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bSe(e,t,r){return t=wSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wSe(e){var t=kSe(e,"string");return Wl(t)=="symbol"?t:t+""}function kSe(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function sO(e,t){if(e==null)return{};var r=jSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var SSe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return pe.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OF(e,t){var r;if(pe.isValidElement(e))r=pe.cloneElement(e,t);else if(pt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=sO(t,vSe),u=ct(c,!1);u.offset;var d=sO(u,ySe);r=pe.createElement("line",kl({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function NSe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Mn(Mn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return OF(a,u)});return pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function TSe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Mn(Mn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return OF(a,u)});return pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function PSe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return pe.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _Se(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return pe.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ESe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return PL(kS(Mn(Mn(Mn({},xd.defaultProps),n),{},{ticks:ns(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},ASe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return PL(kS(Mn(Mn(Mn({},xd.defaultProps),n),{},{ticks:ns(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vf(e){var t,r,n,a,s,o,l=yS(),c=bS(),u=xje(),d=Mn(Mn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gc.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:gc.verticalFill,x:ze(e.x)?e.x:u.left,y:ze(e.y)?e.y:u.top,width:ze(e.width)?e.width:u.width,height:ze(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=pje(),v=mje();if(!ze(p)||p<=0||!ze(g)||g<=0||!ze(f)||f!==+f||!ze(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||ESe,k=d.horizontalCoordinatesGenerator||ASe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&pt(k)){var T=x&&x.length,P=k({yAxis:v?Mn(Mn({},v),{},{ticks:T?x:v.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);yi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&pt(w)){var _=b&&b.length,E=w({xAxis:y?Mn(Mn({},y),{},{ticks:_?b:y.ticks}):void 0,width:l,height:c,offset:u},_?!0:m);yi(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(E),"]")),Array.isArray(E)&&(S=E)}return pe.createElement("g",{className:"recharts-cartesian-grid"},pe.createElement(SSe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),pe.createElement(NSe,kl({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:v})),pe.createElement(TSe,kl({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:v})),pe.createElement(PSe,kl({},d,{horizontalPoints:N})),pe.createElement(_Se,kl({},d,{verticalPoints:S})))}Vf.displayName="CartesianGrid";var OSe=["layout","type","stroke","connectNulls","isRange","ref"],CSe=["key"],CF;function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function DF(e,t){if(e==null)return{};var r=DSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){Di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function RSe(e,t,r){return t&&lO(e.prototype,t),r&&lO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ISe(e,t,r){return t=Hg(t),LSe(e,MF()?Reflect.construct(t,r||[],Hg(e).constructor):t.apply(e,r))}function LSe(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FSe(e)}function FSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!e})()}function Hg(e){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(e)}function $Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sk(e,t)}function Di(e,t,r){return t=RF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=BSe(e,"string");return Uu(t)=="symbol"?t:t+""}function BSe(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mi=function(e){function t(){var r;MSe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=ISe(this,t,[].concat(a)),Di(r,"state",{isAnimationFinished:!0}),Di(r,"id",ud("recharts-area-")),Di(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),pt(o)&&o()}),Di(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),pt(o)&&o()}),r}return $Se(t,e),RSe(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=ct(this.props,!1),p=ct(u,!0),g=d.map(function(x,b){var y=to(to(to({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return pe.createElement(Ot,jl({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=mo(o.map(function(h){return h.y||0}));return ze(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(mo(s.map(function(h){return h.y||0})),f)),ze(f)?pe.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=mo(o.map(function(h){return h.x||0}));return ze(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(mo(s.map(function(h){return h.x||0})),f)),ze(f)?pe.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=DF(l,OSe);return pe.createElement(Ot,{clipPath:s?"url(#clipPath-".concat(o,")"):null},pe.createElement(iu,jl({},ct(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&pe.createElement(iu,jl({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&pe.createElement(iu,jl({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,x=g.prevBaseLine;return pe.createElement(Vi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(m){var v=m.length/l.length,w=l.map(function(T,P){var _=Math.floor(P*v);if(m[_]){var E=m[_],A=aa(E.x,T.x),R=aa(E.y,T.y);return to(to({},T),{},{x:A(y),y:R(y)})}return T}),k;if(ze(c)&&typeof c=="number"){var N=aa(x,c);k=N(y)}else if(yt(c)||cd(c)){var S=aa(x,0);k=S(y)}else k=c.map(function(T,P){var _=Math.floor(P*v);if(x[_]){var E=x[_],A=aa(E.x,T.x),R=aa(E.y,T.y);return to(to({},T),{},{x:A(y),y:R(y)})}return T});return s.renderAreaStatically(w,k,n,a)}return pe.createElement(Ot,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(y))),pe.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!_u(d,o)||!_u(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,v=vt("recharts-area",c),w=f&&f.allowDataOverflow,k=h&&h.allowDataOverflow,N=w||k,S=yt(x)?this.id:x,T=(n=ct(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=T.r,_=P===void 0?3:P,E=T.strokeWidth,A=E===void 0?2:E,R=fae(o)?o:{},q=R.clipDot,Z=q===void 0?!0:q,V=_*2+A;return pe.createElement(Ot,{className:v},w||k?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(S)},pe.createElement("rect",{x:w?d:d-p/2,y:k?u:u-g/2,width:w?p:p*2,height:k?g:g*2})),!Z&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(S)},pe.createElement("rect",{x:d-V/2,y:u-V/2,width:p+V,height:g+V}))):null,y?null:this.renderArea(N,S),(o||y)&&this.renderDots(N,Z,S),(!m||b)&&Fi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);CF=mi;Di(mi,"displayName","Area");Di(mi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Di(mi,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(ze(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Di(mi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=CF.getBaseValue(t,r,n,a),x=p==="horizontal",b=!1,y=f.map(function(w,k){var N;g?N=u[d+k]:(N=Gr(w,c),Array.isArray(N)?b=!0:N=[m,N]);var S=N[1]==null||g&&Gr(w,c)==null;return x?{x:DA({axis:n,ticks:s,bandSize:l,entry:w,index:k}),y:S?null:a.scale(N[1]),value:N,payload:w}:{x:S?null:n.scale(N[1]),y:DA({axis:a,ticks:o,bandSize:l,entry:w,index:k}),value:N,payload:w}}),v;return g||b?v=y.map(function(w){var k=Array.isArray(w.value)?w.value[0]:null;return x?{x:w.x,y:k!=null&&w.y!=null?a.scale(k):null}:{x:k!=null?n.scale(k):null,y:w.y}}):v=x?a.scale(m):n.scale(m),to({points:y,baseLine:v,layout:p,isRange:b},h)});Di(mi,"renderDotItem",function(e,t){var r;if(pe.isValidElement(e))r=pe.cloneElement(e,t);else if(pt(e))r=e(t);else{var n=vt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=DF(t,CSe);r=pe.createElement(hv,jl({},s,{key:a,className:n}))}return r});function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function USe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FF(n.key),n)}}function VSe(e,t,r){return t&&KSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zSe(e,t,r){return t=Wg(t),HSe(e,IF()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function HSe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WSe(e)}function WSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function GSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ok(e,t)}function LF(e,t,r){return t=FF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=qSe(e,"string");return Ku(t)=="symbol"?t:t+""}function qSe(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}function YSe(e){var t=e.xAxisId,r=yS(),n=bS(),a=bF(t);return a==null?null:j.createElement(xd,lk({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ns(o,!0)}}))}var Oo=function(e){function t(){return USe(this,t),zSe(this,t,arguments)}return GSe(t,e),VSe(t,[{key:"render",value:function(){return j.createElement(YSe,this.props)}}])}(j.Component);LF(Oo,"displayName","XAxis");LF(Oo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function XSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UF(n.key),n)}}function QSe(e,t,r){return t&&JSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZSe(e,t,r){return t=Gg(t),eNe(e,$F()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function eNe(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tNe(e)}function tNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function rNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(e,t)}function BF(e,t,r){return t=UF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UF(e){var t=nNe(e,"string");return Vu(t)=="symbol"?t:t+""}function nNe(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}var aNe=function(t){var r=t.yAxisId,n=yS(),a=bS(),s=wF(r);return s==null?null:j.createElement(xd,uk({},s,{className:vt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ns(l,!0)}}))},Co=function(e){function t(){return XSe(this,t),ZSe(this,t,arguments)}return rNe(t,e),QSe(t,[{key:"render",value:function(){return j.createElement(aNe,this.props)}}])}(j.Component);BF(Co,"displayName","YAxis");BF(Co,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cO(e){return lNe(e)||oNe(e)||sNe(e)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNe(e,t){if(e){if(typeof e=="string")return dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(e,t)}}function oNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lNe(e){if(Array.isArray(e))return dk(e)}function dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fk=function(t,r,n,a,s){var o=Ga(t,wv),l=Ga(t,jv),c=[].concat(cO(o),cO(l)),u=Ga(t,Nv),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&$i(x.props,"extendDomain")&&ze(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&$i(x.props,"extendDomain")&&ze(x.props[p])&&ze(x.props[g])){var b=x.props[p],y=x.props[g];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,x){return ze(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},KF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,y,v;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(v=1,y=new Array(b-1);v<b;v++)y[v-1]=arguments[v];x.fn.apply(x.context,y)}else{var w=x.length,k;for(v=0;v<w;v++)switch(x[v].once&&this.removeListener(u,x[v].fn,void 0,!0),b){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,d);break;case 3:x[v].fn.call(x[v].context,d,f);break;case 4:x[v].fn.call(x[v].context,d,f,h);break;default:if(!y)for(k=1,y=new Array(b-1);k<b;k++)y[k-1]=arguments[k];x[v].fn.apply(x[v].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,x=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(KF);var cNe=KF.exports;const uNe=$t(cNe);var e1=new uNe,t1="recharts.syncMouseEvents";function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function dNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VF(n.key),n)}}function hNe(e,t,r){return t&&fNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r1(e,t,r){return t=VF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VF(e){var t=pNe(e,"string");return a0(t)=="symbol"?t:t+""}function pNe(e,t){if(a0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mNe=function(){function e(){dNe(this,e),r1(this,"activeIndex",0),r1(this,"coordinateList",[]),r1(this,"layout","horizontal")}return hNe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function gNe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ze(n)&&ze(a))return!0}return!1}function xNe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=rr(t,r,n,a),l=rr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function vNe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=rr(l,c,u,f),p=rr(l,c,d,f);n=h.x,a=h.y,s=p.x,o=p.y}else return zF(t);return[{x:n,y:a},{x:s,y:o}]}function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){yNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yNe(e,t,r){return t=bNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bNe(e){var t=wNe(e,"string");return i0(t)=="symbol"?t:t+""}function wNe(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kNe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,m=iu;if(h==="ScatterChart")g=o,m=zbe;else if(h==="BarChart")g=xNe(f,o,c,d),m=mS;else if(f==="radial"){var x=zF(o),b=x.cx,y=x.cy,v=x.radius,w=x.startAngle,k=x.endAngle;g={cx:b,cy:y,startAngle:w,endAngle:k,innerRadius:v,outerRadius:v},m=FL}else g={points:vNe(f,o,c)},m=iu;var N=Sp(Sp(Sp(Sp({stroke:"#ccc",pointerEvents:"none"},c),g),ct(p,!1)),{},{payload:l,payloadIndex:u,className:vt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,N):j.createElement(m,N)}var jNe=["item"],SNe=["children","className","width","height","style","compact","title","desc"];function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function dO(e,t){return PNe(e)||TNe(e,t)||WF(e,t)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PNe(e){if(Array.isArray(e))return e}function fO(e,t){if(e==null)return{};var r=_Ne(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ENe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ANe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GF(n.key),n)}}function ONe(e,t,r){return t&&ANe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CNe(e,t,r){return t=qg(t),DNe(e,HF()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function DNe(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MNe(e)}function MNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function RNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function Hu(e){return FNe(e)||LNe(e)||WF(e)||INe()}function INe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WF(e,t){if(e){if(typeof e=="string")return pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(e,t)}}function LNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FNe(e){if(Array.isArray(e))return pk(e)}function pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){ft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ft(e,t,r){return t=GF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=$Ne(e,"string");return zu(t)=="symbol"?t:t+""}function $Ne(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BNe={xAxis:["bottom","top"],yAxis:["left","right"]},UNe={width:"100%",height:"100%"},qF={x:0,y:0};function Np(e){return e}var KNe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},VNe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return De(De(De({},a),rr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return De(De(De({},a),rr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return qF},Tv=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hu(l),Hu(u)):l},[]);return o.length>0?o:t&&t.length&&ze(a)&&ze(s)?t.slice(a,s+1):[]};function YF(e){return e==="number"?[0,"auto"]:void 0}var mk=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Tv(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Ym(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Hu(c),[CL(u,h)]):c},[])},pO=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=KNe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=hve(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=mk(t,r,d,f),p=VNe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},zNe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=TL(d,s);return n.reduce(function(g,m){var x,b=m.type.defaultProps!==void 0?De(De({},m.type.defaultProps),m.props):m.props,y=b.type,v=b.dataKey,w=b.allowDataOverflow,k=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,T=b.includeHidden,P=b[o];if(g[P])return g;var _=Tv(t.data,{graphicalItems:a.filter(function(D){var J,z=o in D.props?D.props[o]:(J=D.type.defaultProps)===null||J===void 0?void 0:J[o];return z===P}),dataStartIndex:c,dataEndIndex:u}),E=_.length,A,R,q;gNe(b.domain,w,y)&&(A=Aw(b.domain,null,w),p&&(y==="number"||N!=="auto")&&(q=$f(_,v,"category")));var Z=YF(y);if(!A||A.length===0){var V,G=(V=b.domain)!==null&&V!==void 0?V:Z;if(v){if(A=$f(_,v,y),y==="category"&&p){var re=rae(A);k&&re?(R=A,A=Rg(0,E)):k||(A=LA(G,A,m).reduce(function(D,J){return D.indexOf(J)>=0?D:[].concat(Hu(D),[J])},[]))}else if(y==="category")k?A=A.filter(function(D){return D!==""&&!yt(D)}):A=LA(G,A,m).reduce(function(D,J){return D.indexOf(J)>=0||J===""||yt(J)?D:[].concat(Hu(D),[J])},[]);else if(y==="number"){var M=vve(_,a.filter(function(D){var J,z,L=o in D.props?D.props[o]:(J=D.type.defaultProps)===null||J===void 0?void 0:J[o],te="hide"in D.props?D.props.hide:(z=D.type.defaultProps)===null||z===void 0?void 0:z.hide;return L===P&&(T||!te)}),v,s,d);M&&(A=M)}p&&(y==="number"||N!=="auto")&&(q=$f(_,v,"category"))}else p?A=Rg(0,E):l&&l[P]&&l[P].hasStack&&y==="number"?A=h==="expand"?[0,1]:OL(l[P].stackGroups,c,u):A=NL(_,a.filter(function(D){var J=o in D.props?D.props[o]:D.type.defaultProps[o],z="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return J===P&&(T||!z)}),y,d,!0);if(y==="number")A=fk(f,A,P,s,S),G&&(A=Aw(G,A,w));else if(y==="category"&&G){var Y=G,ee=A.every(function(D){return Y.indexOf(D)>=0});ee&&(A=Y)}}return De(De({},g),{},ft({},P,De(De({},b),{},{axisType:s,domain:A,categoricalDomain:q,duplicateDomain:R,originalDomain:(x=b.domain)!==null&&x!==void 0?x:Z,isCategorical:p,layout:d})))},{})},HNe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Tv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=TL(d,s),m=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?De(De({},b.type.defaultProps),b.props):b.props,v=y[o],w=YF("number");if(!x[v]){m++;var k;return g?k=Rg(0,p):l&&l[v]&&l[v].hasStack?(k=OL(l[v].stackGroups,c,u),k=fk(f,k,v,s)):(k=Aw(w,NL(h,n.filter(function(N){var S,T,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],_="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===v&&!_}),"number",d),a.defaultProps.allowDataOverflow),k=fk(f,k,v,s)),De(De({},x),{},ft({},v,De(De({axisType:s},a.defaultProps),{},{hide:!0,orientation:Pa(BNe,"".concat(s,".").concat(m%2),null),domain:k,originalDomain:w,isCategorical:g,layout:d})))}return x},{})},WNe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Ga(d,s),p={};return h&&h.length?p=zNe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=HNe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},GNe=function(t){var r=lo(t),n=ns(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Kj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},mO=function(t){var r=t.children,n=t.defaultShowTooltip,a=ya(r,Ru),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},qNe=function(t){return!t||!t.length?!1:t.some(function(r){var n=us(r&&r.type);return n&&n.indexOf("Bar")>=0})},gO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YNe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ya(f,Ru),g=ya(f,Oi),m=Object.keys(c).reduce(function(k,N){var S=c[N],T=S.orientation;return!S.mirror&&!S.hide?De(De({},k),{},ft({},T,k[T]+S.width)):k},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(k,N){var S=o[N],T=S.orientation;return!S.mirror&&!S.hide?De(De({},k),{},ft({},T,Pa(k,"".concat(T))+S.height)):k},{top:h.top||0,bottom:h.bottom||0}),b=De(De({},x),m),y=b.bottom;p&&(b.bottom+=p.props.height||Ru.defaultProps.height),g&&r&&(b=gve(b,a,n,r));var v=u-b.left-b.right,w=d-b.top-b.bottom;return De(De({brushBottom:y},b),{},{width:Math.max(v,0),height:Math.max(w,0)})},XNe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},SS=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var v=y.graphicalItems,w=y.stackGroups,k=y.offset,N=y.updateId,S=y.dataStartIndex,T=y.dataEndIndex,P=b.barSize,_=b.layout,E=b.barGap,A=b.barCategoryGap,R=b.maxBarSize,q=gO(_),Z=q.numericAxisName,V=q.cateAxisName,G=qNe(v),re=[];return v.forEach(function(M,Y){var ee=Tv(b.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:T}),D=M.type.defaultProps!==void 0?De(De({},M.type.defaultProps),M.props):M.props,J=D.dataKey,z=D.maxBarSize,L=D["".concat(Z,"Id")],te=D["".concat(V,"Id")],ye={},Te=c.reduce(function(ae,O){var W=y["".concat(O.axisType,"Map")],ne=D["".concat(O.axisType,"Id")];W&&W[ne]||O.axisType==="zAxis"||Hl();var le=W[ne];return De(De({},ae),{},ft(ft({},O.axisType,le),"".concat(O.axisType,"Ticks"),ns(le)))},ye),de=Te[V],fe=Te["".concat(V,"Ticks")],be=w&&w[L]&&w[L].hasStack&&Pve(M,w[L].stackGroups),he=us(M.type).indexOf("Bar")>=0,_e=jg(de,fe),ue=[],C=G&&pve({barSize:P,stackGroups:w,totalSize:XNe(Te,V)});if(he){var B,K,je=yt(z)?R:z,H=(B=(K=jg(de,fe,!0))!==null&&K!==void 0?K:je)!==null&&B!==void 0?B:0;ue=mve({barGap:E,barCategoryGap:A,bandSize:H!==_e?H:_e,sizeList:C[te],maxBarSize:je}),H!==_e&&(ue=ue.map(function(ae){return De(De({},ae),{},{position:De(De({},ae.position),{},{offset:ae.position.offset-H/2})})}))}var U=M&&M.type&&M.type.getComposedData;U&&re.push({props:De(De({},U(De(De({},Te),{},{displayedData:ee,props:b,dataKey:J,item:M,bandSize:_e,barPosition:ue,offset:k,stackedData:be,layout:_,dataStartIndex:S,dataEndIndex:T}))),{},ft(ft(ft({key:M.key||"item-".concat(Y)},Z,Te[Z]),V,Te[V]),"animationId",N)),childIndex:mae(M,b.children),item:M})}),re},p=function(b,y){var v=b.props,w=b.dataStartIndex,k=b.dataEndIndex,N=b.updateId;if(!A_({props:v}))return null;var S=v.children,T=v.layout,P=v.stackOffset,_=v.data,E=v.reverseStackOrder,A=gO(T),R=A.numericAxisName,q=A.cateAxisName,Z=Ga(S,n),V=Nve(_,Z,"".concat(R,"Id"),"".concat(q,"Id"),P,E),G=c.reduce(function(D,J){var z="".concat(J.axisType,"Map");return De(De({},D),{},ft({},z,WNe(v,De(De({},J),{},{graphicalItems:Z,stackGroups:J.axisType===R&&V,dataStartIndex:w,dataEndIndex:k}))))},{}),re=YNe(De(De({},G),{},{props:v,graphicalItems:Z}),y==null?void 0:y.legendBBox);Object.keys(G).forEach(function(D){G[D]=d(v,G[D],re,D.replace("Map",""),r)});var M=G["".concat(q,"Map")],Y=GNe(M),ee=h(v,De(De({},G),{},{dataStartIndex:w,dataEndIndex:k,updateId:N,graphicalItems:Z,stackGroups:V,offset:re}));return De(De({formattedGraphicalItems:ee,graphicalItems:Z,offset:re,stackGroups:V},Y),G)},g=function(x){function b(y){var v,w,k;return ENe(this,b),k=CNe(this,b,[y]),ft(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(k,"accessibilityManager",new mNe),ft(k,"handleLegendBBoxUpdate",function(N){if(N){var S=k.state,T=S.dataStartIndex,P=S.dataEndIndex,_=S.updateId;k.setState(De({legendBBox:N},p({props:k.props,dataStartIndex:T,dataEndIndex:P,updateId:_},De(De({},k.state),{},{legendBBox:N}))))}}),ft(k,"handleReceiveSyncEvent",function(N,S,T){if(k.props.syncId===N){if(T===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(S)}}),ft(k,"handleBrushChange",function(N){var S=N.startIndex,T=N.endIndex;if(S!==k.state.dataStartIndex||T!==k.state.dataEndIndex){var P=k.state.updateId;k.setState(function(){return De({dataStartIndex:S,dataEndIndex:T},p({props:k.props,dataStartIndex:S,dataEndIndex:T,updateId:P},k.state))}),k.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),ft(k,"handleMouseEnter",function(N){var S=k.getMouseInfo(N);if(S){var T=De(De({},S),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var P=k.props.onMouseEnter;pt(P)&&P(T,N)}}),ft(k,"triggeredAfterMouseMove",function(N){var S=k.getMouseInfo(N),T=S?De(De({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var P=k.props.onMouseMove;pt(P)&&P(T,N)}),ft(k,"handleItemMouseEnter",function(N){k.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ft(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),ft(k,"handleMouseMove",function(N){N.persist(),k.throttleTriggeredAfterMouseMove(N)}),ft(k,"handleMouseLeave",function(N){k.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};k.setState(S),k.triggerSyncEvent(S);var T=k.props.onMouseLeave;pt(T)&&T(S,N)}),ft(k,"handleOuterEvent",function(N){var S=pae(N),T=Pa(k.props,"".concat(S));if(S&&pt(T)){var P,_;/.*touch.*/i.test(S)?_=k.getMouseInfo(N.changedTouches[0]):_=k.getMouseInfo(N),T((P=_)!==null&&P!==void 0?P:{},N)}}),ft(k,"handleClick",function(N){var S=k.getMouseInfo(N);if(S){var T=De(De({},S),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var P=k.props.onClick;pt(P)&&P(T,N)}}),ft(k,"handleMouseDown",function(N){var S=k.props.onMouseDown;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"handleMouseUp",function(N){var S=k.props.onMouseUp;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ft(k,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseDown(N.changedTouches[0])}),ft(k,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseUp(N.changedTouches[0])}),ft(k,"handleDoubleClick",function(N){var S=k.props.onDoubleClick;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"handleContextMenu",function(N){var S=k.props.onContextMenu;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"triggerSyncEvent",function(N){k.props.syncId!==void 0&&e1.emit(t1,k.props.syncId,N,k.eventEmitterSymbol)}),ft(k,"applySyncEvent",function(N){var S=k.props,T=S.layout,P=S.syncMethod,_=k.state.updateId,E=N.dataStartIndex,A=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)k.setState(De({dataStartIndex:E,dataEndIndex:A},p({props:k.props,dataStartIndex:E,dataEndIndex:A,updateId:_},k.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,q=N.chartY,Z=N.activeTooltipIndex,V=k.state,G=V.offset,re=V.tooltipTicks;if(!G)return;if(typeof P=="function")Z=P(re,N);else if(P==="value"){Z=-1;for(var M=0;M<re.length;M++)if(re[M].value===N.activeLabel){Z=M;break}}var Y=De(De({},G),{},{x:G.left,y:G.top}),ee=Math.min(R,Y.x+Y.width),D=Math.min(q,Y.y+Y.height),J=re[Z]&&re[Z].value,z=mk(k.state,k.props.data,Z),L=re[Z]?{x:T==="horizontal"?re[Z].coordinate:ee,y:T==="horizontal"?D:re[Z].coordinate}:qF;k.setState(De(De({},N),{},{activeLabel:J,activeCoordinate:L,activePayload:z,activeTooltipIndex:Z}))}else k.setState(N)}),ft(k,"renderCursor",function(N){var S,T=k.state,P=T.isTooltipActive,_=T.activeCoordinate,E=T.activePayload,A=T.offset,R=T.activeTooltipIndex,q=T.tooltipAxisBandSize,Z=k.getTooltipEventType(),V=(S=N.props.active)!==null&&S!==void 0?S:P,G=k.props.layout,re=N.key||"_recharts-cursor";return pe.createElement(kNe,{key:re,activeCoordinate:_,activePayload:E,activeTooltipIndex:R,chartName:r,element:N,isActive:V,layout:G,offset:A,tooltipAxisBandSize:q,tooltipEventType:Z})}),ft(k,"renderPolarAxis",function(N,S,T){var P=Pa(N,"type.axisType"),_=Pa(k.state,"".concat(P,"Map")),E=N.type.defaultProps,A=E!==void 0?De(De({},E),N.props):N.props,R=_&&_[A["".concat(P,"Id")]];return j.cloneElement(N,De(De({},R),{},{className:vt(P,R.className),key:N.key||"".concat(S,"-").concat(T),ticks:ns(R,!0)}))}),ft(k,"renderPolarGrid",function(N){var S=N.props,T=S.radialLines,P=S.polarAngles,_=S.polarRadius,E=k.state,A=E.radiusAxisMap,R=E.angleAxisMap,q=lo(A),Z=lo(R),V=Z.cx,G=Z.cy,re=Z.innerRadius,M=Z.outerRadius;return j.cloneElement(N,{polarAngles:Array.isArray(P)?P:ns(Z,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(_)?_:ns(q,!0).map(function(Y){return Y.coordinate}),cx:V,cy:G,innerRadius:re,outerRadius:M,key:N.key||"polar-grid",radialLines:T})}),ft(k,"renderLegend",function(){var N=k.state.formattedGraphicalItems,S=k.props,T=S.children,P=S.width,_=S.height,E=k.props.margin||{},A=P-(E.left||0)-(E.right||0),R=jL({children:T,formattedGraphicalItems:N,legendWidth:A,legendContent:u});if(!R)return null;var q=R.item,Z=fO(R,jNe);return j.cloneElement(q,De(De({},Z),{},{chartWidth:P,chartHeight:_,margin:E,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),ft(k,"renderTooltip",function(){var N,S=k.props,T=S.children,P=S.accessibilityLayer,_=ya(T,Cn);if(!_)return null;var E=k.state,A=E.isTooltipActive,R=E.activeCoordinate,q=E.activePayload,Z=E.activeLabel,V=E.offset,G=(N=_.props.active)!==null&&N!==void 0?N:A;return j.cloneElement(_,{viewBox:De(De({},V),{},{x:V.left,y:V.top}),active:G,label:Z,payload:G?q:[],coordinate:R,accessibilityLayer:P})}),ft(k,"renderBrush",function(N){var S=k.props,T=S.margin,P=S.data,_=k.state,E=_.offset,A=_.dataStartIndex,R=_.dataEndIndex,q=_.updateId;return j.cloneElement(N,{key:N.key||"_recharts-brush",onChange:bp(k.handleBrushChange,N.props.onChange),data:P,x:ze(N.props.x)?N.props.x:E.left,y:ze(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(T.bottom||0),width:ze(N.props.width)?N.props.width:E.width,startIndex:A,endIndex:R,updateId:"brush-".concat(q)})}),ft(k,"renderReferenceElement",function(N,S,T){if(!N)return null;var P=k,_=P.clipPathId,E=k.state,A=E.xAxisMap,R=E.yAxisMap,q=E.offset,Z=N.type.defaultProps||{},V=N.props,G=V.xAxisId,re=G===void 0?Z.xAxisId:G,M=V.yAxisId,Y=M===void 0?Z.yAxisId:M;return j.cloneElement(N,{key:N.key||"".concat(S,"-").concat(T),xAxis:A[re],yAxis:R[Y],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:_})}),ft(k,"renderActivePoints",function(N){var S=N.item,T=N.activePoint,P=N.basePoint,_=N.childIndex,E=N.isRange,A=[],R=S.props.key,q=S.item.type.defaultProps!==void 0?De(De({},S.item.type.defaultProps),S.item.props):S.item.props,Z=q.activeDot,V=q.dataKey,G=De(De({index:_,dataKey:V,cx:T.x,cy:T.y,r:4,fill:pS(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ct(Z,!1)),Xm(Z));return A.push(b.renderActiveDot(Z,G,"".concat(R,"-activePoint-").concat(_))),P?A.push(b.renderActiveDot(Z,De(De({},G),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(_))):E&&A.push(null),A}),ft(k,"renderGraphicChild",function(N,S,T){var P=k.filterFormatItem(N,S,T);if(!P)return null;var _=k.getTooltipEventType(),E=k.state,A=E.isTooltipActive,R=E.tooltipAxis,q=E.activeTooltipIndex,Z=E.activeLabel,V=k.props.children,G=ya(V,Cn),re=P.props,M=re.points,Y=re.isRange,ee=re.baseLine,D=P.item.type.defaultProps!==void 0?De(De({},P.item.type.defaultProps),P.item.props):P.item.props,J=D.activeDot,z=D.hide,L=D.activeBar,te=D.activeShape,ye=!!(!z&&A&&G&&(J||L||te)),Te={};_!=="axis"&&G&&G.props.trigger==="click"?Te={onClick:bp(k.handleItemMouseEnter,N.props.onClick)}:_!=="axis"&&(Te={onMouseLeave:bp(k.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:bp(k.handleItemMouseEnter,N.props.onMouseEnter)});var de=j.cloneElement(N,De(De({},P.props),Te));function fe(O){return typeof R.dataKey=="function"?R.dataKey(O.payload):null}if(ye)if(q>=0){var be,he;if(R.dataKey&&!R.allowDuplicatedCategory){var _e=typeof R.dataKey=="function"?fe:"payload.".concat(R.dataKey.toString());be=Ym(M,_e,Z),he=Y&&ee&&Ym(ee,_e,Z)}else be=M==null?void 0:M[q],he=Y&&ee&&ee[q];if(te||L){var ue=N.props.activeIndex!==void 0?N.props.activeIndex:q;return[j.cloneElement(N,De(De(De({},P.props),Te),{},{activeIndex:ue})),null,null]}if(!yt(be))return[de].concat(Hu(k.renderActivePoints({item:P,activePoint:be,basePoint:he,childIndex:q,isRange:Y})))}else{var C,B=(C=k.getItemByXY(k.state.activeCoordinate))!==null&&C!==void 0?C:{graphicalItem:de},K=B.graphicalItem,je=K.item,H=je===void 0?N:je,U=K.childIndex,ae=De(De(De({},P.props),Te),{},{activeIndex:U});return[j.cloneElement(H,ae),null,null]}return Y?[de,null,null]:[de,null]}),ft(k,"renderCustomized",function(N,S,T){return j.cloneElement(N,De(De({key:"recharts-customized-".concat(T)},k.props),k.state))}),ft(k,"renderMap",{CartesianGrid:{handler:Np,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Np},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Np},YAxis:{handler:Np},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:ud("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=k6(k.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),k.state={},k}return RNe(b,x),ONe(b,[{key:"componentDidMount",value:function(){var v,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,w=v.children,k=v.data,N=v.height,S=v.layout,T=ya(w,Cn);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,E=mk(this.state,k,P,_),A=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+N)/2,q=S==="horizontal",Z=q?{x:A,y:R}:{y:A,x:R},V=this.state.formattedGraphicalItems.find(function(re){var M=re.item;return M.type.name==="Scatter"});V&&(Z=De(De({},Z),V.props.points[P].tooltipPosition),E=V.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:_,activePayload:E,activeCoordinate:Z};this.setState(G),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var k,N;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(v){Hb([ya(v.children,Cn)],[ya(this.props.children,Cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=ya(this.props.children,Cn);if(v&&typeof v.props.shared=="boolean"){var w=v.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var w=this.container,k=w.getBoundingClientRect(),N=U0e(k),S={chartX:Math.round(v.pageX-N.left),chartY:Math.round(v.pageY-N.top)},T=k.width/w.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,T);if(!P)return null;var _=this.state,E=_.xAxisMap,A=_.yAxisMap,R=this.getTooltipEventType(),q=pO(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&E&&A){var Z=lo(E).scale,V=lo(A).scale,G=Z&&Z.invert?Z.invert(S.chartX):null,re=V&&V.invert?V.invert(S.chartY):null;return De(De({},S),{},{xValue:G,yValue:re},q)}return q?De(De({},S),q):null}},{key:"inRange",value:function(v,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=v/k,T=w/k;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,_=S>=P.left&&S<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return _?{x:S,y:T}:null}var E=this.state,A=E.angleAxisMap,R=E.radiusAxisMap;if(A&&R){var q=lo(A);return BA({x:S,y:T},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,w=this.getTooltipEventType(),k=ya(v,Cn),N={};k&&w==="axis"&&(k.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Xm(this.props,this.handleOuterEvent);return De(De({},S),N)}},{key:"addListener",value:function(){e1.on(t1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){e1.removeListener(t1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,w,k){for(var N=this.state.formattedGraphicalItems,S=0,T=N.length;S<T;S++){var P=N[S];if(P.item===v||P.props.key===v.key||w===us(P.item.type)&&k===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,w=this.state.offset,k=w.left,N=w.top,S=w.height,T=w.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:v},pe.createElement("rect",{x:k,y:N,height:S,width:T})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(w,k){var N=dO(k,2),S=N[0],T=N[1];return De(De({},w),{},ft({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(w,k){var N=dO(k,2),S=N[0],T=N[1];return De(De({},w),{},ft({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(v){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(v){var w=this.state,k=w.formattedGraphicalItems,N=w.activeItem;if(k&&k.length)for(var S=0,T=k.length;S<T;S++){var P=k[S],_=P.props,E=P.item,A=E.type.defaultProps!==void 0?De(De({},E.type.defaultProps),E.props):E.props,R=us(E.type);if(R==="Bar"){var q=(_.data||[]).find(function(re){return Sbe(v,re)});if(q)return{graphicalItem:P,payload:q}}else if(R==="RadialBar"){var Z=(_.data||[]).find(function(re){return BA(v,re)});if(Z)return{graphicalItem:P,payload:Z}}else if(vv(P,N)||yv(P,N)||Zh(P,N)){var V=fke({graphicalItem:P,activeTooltipItem:N,itemData:A.data}),G=A.activeIndex===void 0?V:A.activeIndex;return{graphicalItem:De(De({},P),{},{childIndex:G}),payload:Zh(P,N)?A.data[V]:P.props.data[V]}}}return null}},{key:"render",value:function(){var v=this;if(!A_(this))return null;var w=this.props,k=w.children,N=w.className,S=w.width,T=w.height,P=w.style,_=w.compact,E=w.title,A=w.desc,R=fO(w,SNe),q=ct(R,!1);if(_)return pe.createElement(q4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(Gb,Vc({},q,{width:S,height:T,title:E,desc:A}),this.renderClipPath(),C_(k,this.renderMap)));if(this.props.accessibilityLayer){var Z,V;q.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,q.role=(V=this.props.role)!==null&&V!==void 0?V:"application",q.onKeyDown=function(re){v.accessibilityManager.keyboardEvent(re)},q.onFocus=function(){v.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return pe.createElement(q4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",Vc({className:vt("recharts-wrapper",N),style:De({position:"relative",cursor:"default",width:S,height:T},P)},G,{ref:function(M){v.container=M}}),pe.createElement(Gb,Vc({},q,{width:S,height:T,title:E,desc:A,style:UNe}),this.renderClipPath(),C_(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ft(g,"displayName",r),ft(g,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ft(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,v=x.data,w=x.children,k=x.width,N=x.height,S=x.layout,T=x.stackOffset,P=x.margin,_=b.dataStartIndex,E=b.dataEndIndex;if(b.updateId===void 0){var A=mO(x);return De(De(De({},A),{},{updateId:0},p(De(De({props:x},A),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:v,prevWidth:k,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:w})}if(y!==b.prevDataKey||v!==b.prevData||k!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||T!==b.prevStackOffset||!ru(P,b.prevMargin)){var R=mO(x),q={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},Z=De(De({},pO(b,v,S)),{},{updateId:b.updateId+1}),V=De(De(De({},R),q),Z);return De(De(De({},V),p(De({props:x},V),b)),{},{prevDataKey:y,prevData:v,prevWidth:k,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:w})}if(!Hb(w,b.prevChildren)){var G,re,M,Y,ee=ya(w,Ru),D=ee&&(G=(re=ee.props)===null||re===void 0?void 0:re.startIndex)!==null&&G!==void 0?G:_,J=ee&&(M=(Y=ee.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&M!==void 0?M:E,z=D!==_||J!==E,L=!yt(v),te=L&&!z?b.updateId:b.updateId+1;return De(De({updateId:te},p(De(De({props:x},b),{},{updateId:te,dataStartIndex:D,dataEndIndex:J}),b)),{},{prevChildren:w,dataStartIndex:D,dataEndIndex:J})}return null}),ft(g,"renderActiveDot",function(x,b,y){var v;return j.isValidElement(x)?v=j.cloneElement(x,b):pt(x)?v=x(b):v=pe.createElement(hv,b),pe.createElement(Ot,{className:"recharts-active-dot",key:y},v)});var m=j.forwardRef(function(b,y){return pe.createElement(g,Vc({},b,{ref:y}))});return m.displayName=g.displayName,m},gk=SS({chartName:"BarChart",GraphicalChild:Bi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Oo},{axisType:"yAxis",AxisComp:Co}],formatAxisMap:fF}),n1=SS({chartName:"PieChart",GraphicalChild:bi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xv},{axisType:"radiusAxis",AxisComp:mv}],formatAxisMap:Lve,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),JNe=SS({chartName:"AreaChart",GraphicalChild:mi,axisComponents:[{axisType:"xAxis",AxisComp:Oo},{axisType:"yAxis",AxisComp:Co}],formatAxisMap:fF});const Tp=["#6366f1","#06b6d4","#f59e0b","#ef4444","#8b5cf6","#ec4899","#10b981","#f97316"],xc={backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06)",padding:"14px 18px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},Wp={strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.15)",vertical:!1},vc={stroke:"#94a3b8",fontSize:11,fontWeight:500,tickLine:!1,axisLine:!1},pf=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Kd=["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],QNe=({isOpen:e,onClose:t,monthName:r,year:n,totalHours:a,details:s,isHighest:o,rank:l,averageHours:c})=>{const u=j.useMemo(()=>{const f={};return s.forEach(h=>{const p=h.item||"Unknown";f[p]||(f[p]={total:0,count:0,details:[]}),f[p].total+=ve(h.downtime),f[p].count+=1,f[p].details.push(h)}),Object.entries(f).map(([h,p])=>({item:h,...p})).sort((h,p)=>p.total-h.total)},[s]),d=c>0?((a-c)/c*100).toFixed(1):"0";return i.jsx(xt,{isOpen:e,onClose:t,size:"full",title:"",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:["Detail Downtime ",r," ",n]}),o&&i.jsxs(Ze,{variant:"danger",className:"animate-pulse",children:[i.jsx(Pm,{className:"h-3 w-3 mr-1"}),"Tertinggi"]}),l<=3&&!o&&i.jsxs(Ze,{variant:"warning",children:["Top ",l]})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Analisis detail downtime per equipment untuk bulan ",r]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:i.jsx(Xa,{className:"h-5 w-5 text-dark-500 dark:text-dark-400"})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:Ge("p-4 rounded-xl",o?"bg-gradient-to-br from-red-500 to-rose-600 text-white":"bg-gradient-to-br from-amber-500 to-orange-500 text-white"),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ai,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Total Downtime"})]}),i.jsx("p",{className:"text-3xl font-bold",children:ce(a)}),i.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ph,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Jumlah Kejadian"})]}),i.jsx("p",{className:"text-3xl font-bold",children:s.length}),i.jsx("p",{className:"text-sm opacity-80",children:"Kejadian"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Eo,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Rata-rata/Kejadian"})]}),i.jsx("p",{className:"text-3xl font-bold",children:s.length>0?(a/s.length).toFixed(1):"0"}),i.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),i.jsxs("div",{className:Ge("p-4 rounded-xl",Number(d)>0?"bg-gradient-to-br from-red-400 to-red-500 text-white":"bg-gradient-to-br from-green-500 to-emerald-500 text-white"),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Number(d)>0?i.jsx(Pl,{className:"h-4 w-4 opacity-80"}):i.jsx(zp,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"vs Rata-rata Bulanan"})]}),i.jsxs("p",{className:"text-3xl font-bold",children:[Number(d)>0?"+":"",d,"%"]}),i.jsx("p",{className:"text-sm opacity-80",children:Number(d)>0?"Di atas rata-rata":"Di bawah rata-rata"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(dH,{className:"h-5 w-5 text-amber-500"}),"Breakdown per Equipment"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,6).map((f,h)=>{const p=a>0?(f.total/a*100).toFixed(1):"0";return i.jsxs(Yt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:Ge("p-4 rounded-xl border transition-all duration-300 hover:shadow-lg",h===0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-dark-800 border-dark-100 dark:border-dark-700"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:Ge("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",h===0?"bg-red-500 text-white":"bg-dark-200 dark:bg-dark-600 text-dark-700 dark:text-dark-200"),children:h+1}),i.jsx("h4",{className:Ge("font-semibold",h===0?"text-red-700 dark:text-red-400":"text-dark-900 dark:text-white"),children:f.item})]}),i.jsxs(Ze,{variant:h===0?"danger":"warning",size:"sm",children:[p,"%"]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total:"}),i.jsxs("span",{className:Ge("ml-1 font-bold",h===0?"text-red-600 dark:text-red-400":"text-dark-900 dark:text-white"),children:[ce(f.total)," Jam"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kejadian:"}),i.jsxs("span",{className:"ml-1 font-medium text-dark-700 dark:text-dark-200",children:[f.count,"x"]})]})]}),i.jsx("div",{className:"mt-3 h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:i.jsx(Yt.div,{initial:{width:0},animate:{width:`${p}%`},transition:{delay:h*.1+.3,duration:.5},className:Ge("h-full rounded-full",h===0?"bg-gradient-to-r from-red-500 to-rose-500":"bg-gradient-to-r from-amber-400 to-orange-500")})})]},f.item)})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4",children:["Detail Kejadian (",s.length," record)"]}),i.jsx("div",{className:"overflow-x-auto rounded-xl border border-dark-100 dark:border-dark-700",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"No"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Tanggal"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Equipment"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Deskripsi"}),i.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Off"}),i.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Start"}),i.jsx("th",{className:"px-4 py-3 text-right font-semibold text-dark-700 dark:text-dark-200",children:"Downtime (Jam)"})]})}),i.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:s.sort((f,h)=>ve(h.downtime)-ve(f.downtime)).slice(0,20).map((f,h)=>i.jsxs("tr",{className:Ge("hover:bg-dark-50 dark:hover:bg-dark-700/50 transition-colors",h===0&&"bg-red-50 dark:bg-red-900/10"),children:[i.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300",children:h+1}),i.jsx("td",{className:"px-4 py-3 text-dark-900 dark:text-white font-medium",children:new Date(f.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Ze,{variant:h===0?"danger":"default",size:"sm",children:f.item})}),i.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300 max-w-xs truncate",children:f.deskripsi||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamOff||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamStart||"-"}),i.jsx("td",{className:Ge("px-4 py-3 text-right font-bold",h===0?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:ce(ve(f.downtime))})]},h))}),s.length>20&&i.jsx("tfoot",{className:"bg-dark-50 dark:bg-dark-800",children:i.jsx("tr",{children:i.jsxs("td",{colSpan:7,className:"px-4 py-3 text-center text-dark-500 dark:text-dark-400",children:["... dan ",s.length-20," record lainnya"]})})})]})})]})]})})},ZNe=({downtimeData:e,year:t,plantLabel:r})=>{const[n,a]=j.useState(null),s=j.useMemo(()=>{const d=pf.map((h,p)=>{const g=e.filter(x=>x.tanggal?new Date(x.tanggal).getMonth()===p:!1),m=g.reduce((x,b)=>x+ve(b.downtime),0);return{month:h,monthIndex:p,hours:m,count:g.length,isHighest:!1,rank:0,details:g.map(x=>({item:x.item,deskripsi:x.deskripsi,tanggal:x.tanggal,jamOff:x.jamOff,jamStart:x.jamStart,downtime:ve(x.downtime)}))}});return[...d].filter(h=>h.hours>0).sort((h,p)=>p.hours-h.hours).forEach((h,p)=>{const g=d.find(m=>m.monthIndex===h.monthIndex);g&&(g.rank=p+1,p===0&&(g.isHighest=!0))}),d},[e]),o=j.useMemo(()=>{const d=s.reduce((m,x)=>m+x.hours,0),f=s.filter(m=>m.hours>0).length,h=f>0?d/f:0,p=s.find(m=>m.isHighest),g=(p==null?void 0:p.hours)||0;return{totalHours:d,averageHours:h,highestMonth:p,maxHours:g,monthsWithData:f}},[s]),l=d=>{d.hours>0&&a(d)},c=d=>d.isHighest?"#ef4444":d.rank===2?"#f97316":d.rank===3?"#f59e0b":"#3b82f6",u=d=>{const{x:f,y:h,width:p,value:g,index:m}=d,x=s[m];return g===0?null:i.jsxs("g",{children:[i.jsx("text",{x:f+p/2,y:h-10,fill:x.isHighest?"#ef4444":"#64748b",textAnchor:"middle",fontSize:11,fontWeight:x.isHighest?"bold":"normal",children:ce(g)}),x.isHighest&&i.jsx("text",{x:f+p/2,y:h-24,fill:"#ef4444",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:" TERTINGGI"})]})};return i.jsxs(i.Fragment,{children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white py-5",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/20 backdrop-blur-sm",children:i.jsx(Pm,{className:"h-5 w-5"})}),i.jsxs(_t,{className:"text-white text-lg",children:["Analisis Downtime Bulanan ",t]})]}),i.jsxs("p",{className:"text-red-100 text-sm",children:[r,"  Klik bar untuk melihat detail"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[i.jsx("p",{className:"text-red-100 text-xs",children:"Total Tahunan"}),i.jsxs("p",{className:"text-xl font-bold",children:[ce(o.totalHours)," Jam"]})]}),o.highestMonth&&i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm border-2 border-white/30",children:[i.jsxs("p",{className:"text-red-100 text-xs flex items-center gap-1",children:[i.jsx(qD,{className:"h-3 w-3"})," Bulan Tertinggi"]}),i.jsx("p",{className:"text-xl font-bold",children:o.highestMonth.month}),i.jsxs("p",{className:"text-red-100 text-xs",children:[ce(o.highestMonth.hours)," Jam"]})]})]})]})}),i.jsxs(An,{className:"pt-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Total Kejadian"}),i.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.length})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 uppercase tracking-wider mb-1",children:"Rata-rata/Bulan"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:[ce(o.averageHours)," Jam"]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Bulan Dengan Data"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[o.monthsWithData," / 12"]})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-1",children:"Rata-rata/Kejadian"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[e.length>0?(o.totalHours/e.length).toFixed(1):"0"," ","Jam"]})]})]}),i.jsx("div",{className:"h-[400px]",children:i.jsx(ul,{width:"100%",height:"100%",children:i.jsxs(gk,{data:s,margin:{top:40,right:30,left:20,bottom:20},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradDowntimeMonth",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:.9}),i.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:.7})]})}),i.jsx(Vf,{...Wp}),i.jsx(Oo,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1}),i.jsx(Co,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Jam",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#64748b"}}}),i.jsx(Cn,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px 16px"},content:({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload;return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-100 dark:border-dark-700 p-4 min-w-[200px]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[h.month," ",t]}),h.isHighest&&i.jsx(Ze,{variant:"danger",size:"sm",children:"Tertinggi"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Downtime:"}),i.jsxs("span",{className:Ge("ml-2 font-bold",h.isHighest?"text-red-600":"text-amber-600"),children:[ce(h.hours)," Jam"]})]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian:"}),i.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:[h.count," kejadian"]})]}),h.rank>0&&i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Peringkat:"}),i.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:["#",h.rank," dari ",o.monthsWithData," bulan"]})]})]}),h.hours>0&&i.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-3 pt-2 border-t border-dark-100 dark:border-dark-700",children:"Klik untuk melihat detail "})]})}return null}}),o.averageHours>0&&i.jsx(wv,{y:o.averageHours,stroke:"#22c55e",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Rata-rata: ${ce(o.averageHours)} Jam`,position:"right",fill:"#22c55e",fontSize:11}}),i.jsxs(Bi,{dataKey:"hours",radius:[8,8,0,0],cursor:"pointer",onClick:d=>l(d),children:[s.map((d,f)=>i.jsx(El,{fill:c(d),className:"hover:opacity-80 transition-opacity"},`cell-${f}`)),i.jsx(Fi,{dataKey:"hours",content:u})]})]})})}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mt-4 pt-4 border-t border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Tertinggi"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 2"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 3"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Lainnya"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-0.5 bg-green-500",style:{backgroundImage:"repeating-linear-gradient(to right, #22c55e, #22c55e 5px, transparent 5px, transparent 10px)"}}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Rata-rata"})]})]})]})]}),n&&i.jsx(QNe,{isOpen:!!n,onClose:()=>a(null),monthName:n.month,monthIndex:n.monthIndex,year:t,totalHours:n.hours,details:n.details,isHighest:n.isHighest,rank:n.rank,averageHours:o.averageHours})]})},eTe=()=>{const{user:e}=Et(),{dashboardPlantFilter:t,dashboardYear:r,setDashboardPlantFilter:n,setDashboardYear:a}=hx(),s=d0(),[o,l]=j.useState(!0),[c,u]=j.useState(new Date().getMonth()),[d,f]=j.useState("tahunan"),[h,p]=j.useState("jam"),[g,m]=j.useState(new Date().getMonth()),[x,b]=j.useState({produksiNPK:[],produksiBlending:[],produksiNPKMini:[],downtime:[],workRequest:[],bahanBaku:[],vibrasi:[],gatePass:[],timesheetForklift:[],timesheetLoader:[],troubleRecord:[],rkap:[],rekapBBM:[]}),y=e==null?void 0:e.plant,v=e==null?void 0:e.role,w=y==="ALL"||v==="manager"||v==="eksternal";j.useEffect(()=>{!w&&y&&n(y)},[y,w,n]);const k=w?t:y||"NPK2";j.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:Y,readData:ee,SHEETS:D}=await st(async()=>{const{fetchDataByPlant:B,readData:K,SHEETS:je}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:B,readData:K,SHEETS:je}},void 0),[J,z,L,te,ye,Te,de,fe,be,he,_e,ue,C]=await Promise.all([Y(D.PRODUKSI_NPK),Y(D.PRODUKSI_BLENDING),Y(D.PRODUKSI_NPK_MINI),Y(D.DOWNTIME),Y(D.WORK_REQUEST),Y(D.BAHAN_BAKU),Y(D.VIBRASI),Y(D.GATE_PASS),Y(D.TIMESHEET_FORKLIFT),Y(D.TIMESHEET_LOADER),Y(D.TROUBLE_RECORD),ee(D.RKAP),Y(D.REKAP_BBM)]);b({produksiNPK:J.success&&J.data?J.data:[],produksiBlending:z.success&&z.data?z.data:[],produksiNPKMini:L.success&&L.data?L.data:[],downtime:te.success&&te.data?te.data:[],workRequest:ye.success&&ye.data?ye.data:[],bahanBaku:Te.success&&Te.data?Te.data:[],vibrasi:de.success&&de.data?de.data:[],gatePass:fe.success&&fe.data?fe.data:[],timesheetForklift:be.success&&be.data?be.data:[],timesheetLoader:he.success&&he.data?he.data:[],troubleRecord:_e.success&&_e.data?_e.data:[],rkap:ue.success&&ue.data?ue.data:[],rekapBBM:C.success&&C.data?C.data:[]})}catch(Y){console.error("Error fetching dashboard data:",Y)}finally{l(!1)}})()},[]);const N=j.useCallback(M=>k==="ALL"?M:M.filter(Y=>Y._plant===k),[k]),S=j.useCallback(M=>k==="ALL"?M:M.filter(Y=>Y.plant===k),[k]),T=j.useCallback(M=>M.filter(Y=>Y.tanggal?new Date(Y.tanggal).getFullYear()===r:!1),[r]),P=j.useMemo(()=>({produksiNPK:T(N(x.produksiNPK)),produksiBlending:T(N(x.produksiBlending)),produksiNPKMini:T(N(x.produksiNPKMini)),downtime:T(N(x.downtime)),workRequest:T(N(x.workRequest)),bahanBaku:T(N(x.bahanBaku)),vibrasi:T(N(x.vibrasi)),gatePass:T(N(x.gatePass)),timesheetForklift:T(N(x.timesheetForklift)),timesheetLoader:T(N(x.timesheetLoader)),troubleRecord:T(N(x.troubleRecord)),rekapBBM:T(N(x.rekapBBM)),rkap:S(x.rkap).filter(M=>Number(M.tahun)===r)}),[x,N,T,S,r]),_=j.useMemo(()=>{const M=P.produksiNPK.reduce((ae,O)=>{const ne=O.total!==void 0&&O.total!==null?ve(O.total):ve(O.shiftMalamOnspek)+ve(O.shiftMalamOffspek)+ve(O.shiftPagiOnspek)+ve(O.shiftPagiOffspek)+ve(O.shiftSoreOnspek)+ve(O.shiftSoreOffspek);return ae+ne},0),Y=P.produksiNPK.reduce((ae,O)=>{const W=O.totalOnspek!==void 0&&O.totalOnspek!==null;return ae+(W?ve(O.totalOnspek):ve(O.shiftMalamOnspek)+ve(O.shiftPagiOnspek)+ve(O.shiftSoreOnspek))},0),ee=P.produksiNPK.reduce((ae,O)=>{const W=O.totalOffspek!==void 0&&O.totalOffspek!==null;return ae+(W?ve(O.totalOffspek):ve(O.shiftMalamOffspek)+ve(O.shiftPagiOffspek)+ve(O.shiftSoreOffspek))},0),D=P.produksiBlending.reduce((ae,O)=>ae+ve(O.tonase),0),J=P.produksiNPKMini.reduce((ae,O)=>ae+ve(O.tonase),0),z=P.rkap.reduce((ae,O)=>{const ne=O.total!==void 0&&O.total!==null?ve(O.total):Kd.reduce((le,Me)=>le+ve(O[Me]),0);return ae+ne},0),L=x.rkap.filter(ae=>ae.plant==="NPK1"&&Number(ae.tahun)===r).reduce((ae,O)=>{const W=O.total!==void 0&&O.total!==null;return ae+(W?ve(O.total):Kd.reduce((ne,le)=>ne+ve(O[le]),0))},0),te=x.rkap.filter(ae=>ae.plant==="NPK2"&&Number(ae.tahun)===r).reduce((ae,O)=>{const W=O.total!==void 0&&O.total!==null;return ae+(W?ve(O.total):Kd.reduce((ne,le)=>ne+ve(O[le]),0))},0),ye=x.produksiNPK.filter(ae=>ae._plant==="NPK1"&&new Date(ae.tanggal).getFullYear()===r).reduce((ae,O)=>{const W=O.total!==void 0&&O.total!==null;return ae+(W?ve(O.total):ve(O.shiftMalamOnspek)+ve(O.shiftMalamOffspek)+ve(O.shiftPagiOnspek)+ve(O.shiftPagiOffspek)+ve(O.shiftSoreOnspek)+ve(O.shiftSoreOffspek))},0),Te=x.produksiNPK.filter(ae=>ae._plant==="NPK2"&&new Date(ae.tanggal).getFullYear()===r).reduce((ae,O)=>{const W=O.total!==void 0&&O.total!==null;return ae+(W?ve(O.total):ve(O.shiftMalamOnspek)+ve(O.shiftMalamOffspek)+ve(O.shiftPagiOnspek)+ve(O.shiftPagiOffspek)+ve(O.shiftSoreOnspek)+ve(O.shiftSoreOffspek))},0),de=P.downtime.reduce((ae,O)=>ae+ve(O.downtime),0),fe=P.workRequest.length,be=P.workRequest.filter(ae=>!ae.eksekutor||ae.eksekutor==="").length,he=P.bahanBaku.reduce((ae,O)=>ae+ve(O.jumlah),0),_e=P.vibrasi.filter(ae=>ae.status==="Warning"||ae.status==="Critical"||ae.status==="Alert").length,ue=P.gatePass.length,C=P.troubleRecord.filter(ae=>ae.status==="Open"||ae.status==="In Progress").length,B=P.timesheetForklift.reduce((ae,O)=>ae+ve(O.jamOperasi),0),K=P.timesheetLoader.reduce((ae,O)=>ae+ve(O.jamOperasi),0),je=P.rekapBBM.reduce((ae,O)=>ae+ve(O.pengajuanSolar),0),H=P.rekapBBM.reduce((ae,O)=>ae+ve(O.realisasiPengisian),0),U=H-je;return{totalProduksiNPK:M,totalOnspek:Y,totalOffspek:ee,totalProduksiBlending:D,totalProduksiNPKMini:J,totalRKAP:z,totalDowntime:de,workRequestTotal:fe,workRequestPending:be,totalBahanBaku:he,vibrasiWarnings:_e,gatePassCount:ue,troubleRecordOpen:C,forkliftHours:B,loaderHours:K,bbmPengajuan:je,bbmRealisasi:H,bbmSelisih:U,bbmRecordCount:P.rekapBBM.length,percentage:z>0?(M/z*100).toFixed(1):"0",rkapNPK1:L,rkapNPK2:te,produksiNPK1:ye,produksiNPK2:Te,percentageNPK1:L>0?(ye/L*100).toFixed(1):"0",percentageNPK2:te>0?(Te/te*100).toFixed(1):"0"}},[P,x,r]),E=j.useMemo(()=>pf.map((Y,ee)=>{const D=P.produksiNPK.filter(fe=>new Date(fe.tanggal).getMonth()===ee),J=D.reduce((fe,be)=>{const he=be.total!==void 0&&be.total!==null;return fe+(he?ve(be.total):ve(be.shiftMalamOnspek)+ve(be.shiftMalamOffspek)+ve(be.shiftPagiOnspek)+ve(be.shiftPagiOffspek)+ve(be.shiftSoreOnspek)+ve(be.shiftSoreOffspek))},0),z=D.reduce((fe,be)=>{const he=be.totalOnspek!==void 0&&be.totalOnspek!==null;return fe+(he?ve(be.totalOnspek):ve(be.shiftMalamOnspek)+ve(be.shiftPagiOnspek)+ve(be.shiftSoreOnspek))},0),L=D.reduce((fe,be)=>{const he=be.totalOffspek!==void 0&&be.totalOffspek!==null;return fe+(he?ve(be.totalOffspek):ve(be.shiftMalamOffspek)+ve(be.shiftPagiOffspek)+ve(be.shiftSoreOffspek))},0),te=Kd[ee],ye=P.rkap.reduce((fe,be)=>fe+ve(be[te]),0),Te=x.rkap.filter(fe=>fe.plant==="NPK1"&&Number(fe.tahun)===r).reduce((fe,be)=>fe+ve(be[te]),0),de=x.rkap.filter(fe=>fe.plant==="NPK2"&&Number(fe.tahun)===r).reduce((fe,be)=>fe+ve(be[te]),0);return{bulan:Y,produksi:J,rkap:ye,rkapNPK1:Te,rkapNPK2:de,onspek:z,offspek:L}}),[P,x,r]),A=j.useMemo(()=>{const M=c,Y=pf[M],ee=Kd[M],D=P.produksiNPK.filter(he=>new Date(he.tanggal).getMonth()===M),J=D.reduce((he,_e)=>{const ue=_e.total!==void 0&&_e.total!==null;return he+(ue?ve(_e.total):ve(_e.shiftMalamOnspek)+ve(_e.shiftMalamOffspek)+ve(_e.shiftPagiOnspek)+ve(_e.shiftPagiOffspek)+ve(_e.shiftSoreOnspek)+ve(_e.shiftSoreOffspek))},0),z=D.reduce((he,_e)=>{const ue=_e.totalOnspek!==void 0&&_e.totalOnspek!==null;return he+(ue?ve(_e.totalOnspek):ve(_e.shiftMalamOnspek)+ve(_e.shiftPagiOnspek)+ve(_e.shiftSoreOnspek))},0),L=D.reduce((he,_e)=>{const ue=_e.totalOffspek!==void 0&&_e.totalOffspek!==null;return he+(ue?ve(_e.totalOffspek):ve(_e.shiftMalamOffspek)+ve(_e.shiftPagiOffspek)+ve(_e.shiftSoreOffspek))},0),ye=P.produksiBlending.filter(he=>new Date(he.tanggal).getMonth()===M).reduce((he,_e)=>he+ve(_e.tonase),0),de=P.produksiNPKMini.filter(he=>new Date(he.tanggal).getMonth()===M).reduce((he,_e)=>he+ve(_e.tonase),0),fe=P.rkap.reduce((he,_e)=>he+ve(_e[ee]),0),be=fe>0?(J/fe*100).toFixed(1):"0";return{monthName:Y,npkProduksi:J,npkOnspek:z,npkOffspek:L,blendingProduksi:ye,npkMiniProduksi:de,rkapThisMonth:fe,percentageRkap:be,totalProduksi:J+ye+de}},[P,c]),R=j.useMemo(()=>{let M=P.downtime;d==="bulanan"&&(M=P.downtime.filter(ee=>ee.tanggal?new Date(ee.tanggal).getMonth()===g:!1));const Y={};return M.forEach(ee=>{const D=ee.item||"Unknown";Y[D]||(Y[D]={jam:0,frekuensi:0}),Y[D].jam+=ve(ee.downtime),Y[D].frekuensi+=1}),Object.entries(Y).map(([ee,D])=>({item:ee,downtime:h==="jam"?D.jam:D.frekuensi,jam:D.jam,frekuensi:D.frekuensi})).sort((ee,D)=>D.downtime-ee.downtime).slice(0,8)},[P,d,h,g]),q=j.useMemo(()=>{let M=P.downtime;return d==="bulanan"&&(M=P.downtime.filter(Y=>Y.tanggal?new Date(Y.tanggal).getMonth()===g:!1)),h==="jam"?M.reduce((Y,ee)=>Y+ve(ee.downtime),0):M.length},[P,d,h,g]),Z=j.useMemo(()=>{const M={};return P.workRequest.forEach(Y=>{const ee=Y.eksekutor||"Belum Ditentukan";M[ee]=(M[ee]||0)+1}),Object.entries(M).map(([Y,ee])=>({eksekutor:Y,count:ee})).sort((Y,ee)=>ee.count-Y.count).slice(0,6)},[P]),V=j.useMemo(()=>{const M={};return P.vibrasi.forEach(Y=>{const ee=Y.status||"Unknown";M[ee]=(M[ee]||0)+1}),Object.entries(M).map(([Y,ee])=>({status:Y,count:ee}))},[P]),G=j.useMemo(()=>[{name:"NPK Granul",value:_.totalProduksiNPK},{name:"Blending/Retail",value:_.totalProduksiBlending},{name:"NPK Mini",value:_.totalProduksiNPKMini}].filter(M=>M.value>0),[_]),re=k==="ALL"?"Semua Plant":k==="NPK1"?"NPK Plant 1":"NPK Plant 2";return o?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx(gH,{className:"h-10 w-10 animate-spin text-primary-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Memuat data dashboard..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20",children:i.jsx(XD,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl font-display font-bold text-foreground tracking-tight",children:["Dashboard - ",re]}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Selamat datang, ",(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama),"! Ringkasan data ",re.toLowerCase()," tahun ",r,"."]})]})]})}),i.jsxs("div",{className:"flex items-center gap-3",children:[w&&i.jsx(at,{value:k,onChange:M=>n(M.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),i.jsx(at,{value:r.toString(),onChange:M=>a(Number(M.target.value)),options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],className:"w-32"})]})]}),i.jsxs(Yt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden bg-gradient-to-br from-indigo-600 via-blue-600 to-cyan-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-500/15",children:[i.jsxs("div",{className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute -right-16 -top-16 w-64 h-64 rounded-full bg-white/20 blur-3xl"}),i.jsx("div",{className:"absolute -left-8 -bottom-8 w-48 h-48 rounded-full bg-white/10 blur-2xl"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx("div",{onClick:()=>s(`/produksi/${k==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-90 transition-opacity",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2.5 rounded-xl bg-white/15 backdrop-blur-sm border border-white/20",children:i.jsx(kx,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold",children:["Produksi Bulan ",A.monthName," ",r]}),i.jsxs("p",{className:"text-blue-100 text-sm",children:["Ringkasan produksi ",re.toLowerCase()," bulan ini"]})]}),i.jsx(qi,{className:"h-5 w-5 opacity-60 ml-1"})]})}),i.jsx("div",{className:"flex items-center gap-2",onClick:M=>M.stopPropagation(),children:i.jsx("select",{value:c,onChange:M=>u(Number(M.target.value)),className:"bg-white/15 backdrop-blur-sm text-white border border-white/20 rounded-xl px-4 py-2.5 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/30 cursor-pointer hover:bg-white/20 transition-colors",children:pf.map((M,Y)=>i.jsx("option",{value:Y,className:"text-dark-900",children:M},Y))})})]}),i.jsx("div",{onClick:()=>s(`/produksi/${k==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-95 transition-opacity",children:i.jsxs("div",{className:"flex flex-wrap gap-4 lg:gap-6 mt-5",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-5 py-3.5 min-w-[140px] border border-white/10 hover:bg-white/15 transition-colors",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider font-semibold mb-1",children:"NPK Produksi"}),i.jsx("p",{className:"text-2xl lg:text-3xl font-bold tabular-nums",children:ce(A.npkProduksi)}),i.jsx("p",{className:"text-blue-200 text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-5 py-3.5 min-w-[140px] border border-white/10 hover:bg-white/15 transition-colors",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider font-semibold mb-1",children:"Target RKAP"}),i.jsx("p",{className:"text-2xl lg:text-3xl font-bold tabular-nums",children:ce(A.rkapThisMonth)}),i.jsx("p",{className:"text-blue-200 text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-5 py-3.5 min-w-[140px] border border-white/10 hover:bg-white/15 transition-colors",children:[i.jsx("p",{className:"text-blue-100 text-xs uppercase tracking-wider font-semibold mb-1",children:"Pencapaian"}),i.jsxs("p",{className:"text-2xl lg:text-3xl font-bold tabular-nums",children:[A.percentageRkap,"%"]}),i.jsx("p",{className:"text-blue-200 text-xs",children:Number(A.percentageRkap)>=100?" Target Tercapai":"dari target"})]})]})}),i.jsxs("div",{className:"mt-5 pt-4 border-t border-white/15 grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"Onspek"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[ce(A.npkOnspek)," Ton"]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"Offspek"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[ce(A.npkOffspek)," Ton"]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"Blending"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[ce(A.blendingProduksi)," Ton"]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"NPK Mini"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[ce(A.npkMiniProduksi)," Ton"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>s(`/produksi/${k==="NPK1"?"npk1":"npk2"}`),className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-blue-600 to-indigo-700 rounded-2xl p-5 text-white cursor-pointer hover:shadow-xl hover:shadow-blue-500/15 transition-all duration-300 group",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(mh,{className:"h-4 w-4"})}),i.jsxs("h3",{className:"font-bold text-base",children:["Produksi Tahunan ",r]})]}),i.jsx(qi,{className:"h-4 w-4 opacity-60 group-hover:opacity-100 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK Granul"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.totalProduksiNPK)}),i.jsxs("p",{className:"text-blue-100 text-[10px]",children:["Ton (",_.percentage,"% RKAP)"]})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Onspek"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.totalOnspek)}),i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Offspek"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.totalOffspek)}),i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Target RKAP"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.totalRKAP)}),i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]})]}),k==="ALL"&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 1"}),i.jsxs(Ze,{variant:Number(_.percentageNPK1)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[_.percentageNPK1,"%"]})]}),i.jsxs("p",{className:"font-semibold",children:[ce(_.produksiNPK1)," /"," ",ce(_.rkapNPK1)," Ton"]})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 2"}),i.jsxs(Ze,{variant:Number(_.percentageNPK2)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[_.percentageNPK2,"%"]})]}),i.jsxs("p",{className:"font-semibold",children:[ce(_.produksiNPK2)," /"," ",ce(_.rkapNPK2)," Ton"]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Blending/Retail"}),i.jsxs("p",{className:"font-semibold",children:[ce(_.totalProduksiBlending)," Ton"]})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-100 text-[10px]",children:"NPK Mini"}),i.jsxs("p",{className:"font-semibold",children:[ce(_.totalProduksiNPKMini)," Ton"]})]})]})]})]}),i.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative overflow-hidden bg-gradient-to-br from-slate-700 via-slate-700 to-gray-800 rounded-2xl p-5 text-white shadow-xl shadow-slate-800/15",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -right-12 -bottom-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(AH,{className:"h-4 w-4"})}),i.jsx("h3",{className:"font-bold text-base",children:"Operasional & Logistik"})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{onClick:()=>s(`/laporan/timesheet-forklift-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Forklift"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.forkliftHours)}),i.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",P.timesheetForklift.length," rec)"]})]}),i.jsxs("div",{onClick:()=>s(`/laporan/timesheet-loader-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Loader"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.loaderHours)}),i.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",P.timesheetLoader.length," rec)"]})]}),i.jsxs("div",{onClick:()=>s(`/data/gate-pass-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Gate Pass"}),i.jsx("p",{className:"text-xl font-bold",children:_.gatePassCount}),i.jsx("p",{className:"text-slate-200 text-[10px]",children:"Transaksi"})]}),i.jsxs("div",{onClick:()=>s(`/data/bahan-baku-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Bahan Baku"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.totalBahanBaku)}),i.jsxs("p",{className:"text-slate-200 text-[10px]",children:[P.bahanBaku.length," item"]})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative overflow-hidden bg-gradient-to-br from-rose-600 via-red-600 to-pink-700 rounded-2xl p-5 text-white shadow-xl shadow-red-500/15",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -left-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(Ai,{className:"h-4 w-4"})}),i.jsx("h3",{className:"font-bold text-base",children:"Downtime & Issues"})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{onClick:()=>s(`/laporan/downtime-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Total Downtime"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.totalDowntime)}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:["Jam (",P.downtime.length," kejadian)"]})]}),i.jsxs("div",{onClick:()=>s(`/data/work-request-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Work Request"}),i.jsx("p",{className:"text-xl font-bold",children:_.workRequestTotal}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:[_.workRequestPending," pending"]})]}),i.jsxs("div",{onClick:()=>s(`/data/trouble-record-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Trouble Open"}),i.jsx("p",{className:"text-xl font-bold",children:_.troubleRecordOpen}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",P.troubleRecord.length," total"]})]}),i.jsxs("div",{onClick:()=>s(`/data/vibrasi-${k==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Vibrasi Alert"}),i.jsx("p",{className:"text-xl font-bold",children:_.vibrasiWarnings}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",P.vibrasi.length," ukur"]})]})]})]})]}),i.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>s(`/data/rekap-bbm-${k==="NPK1"?"npk1":"npk2"}`),className:"relative overflow-hidden bg-gradient-to-br from-amber-500 via-amber-500 to-orange-600 rounded-2xl p-5 text-white shadow-xl shadow-amber-500/15 cursor-pointer hover:shadow-2xl hover:scale-[1.01] transition-all duration-300 group",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(H2,{className:"h-4 w-4"})}),i.jsxs("h3",{className:"font-bold text-base",children:["Rekap BBM Alat Berat ",r]})]}),i.jsx(qi,{className:"h-4 w-4 opacity-60 group-hover:opacity-100 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Pengajuan"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.bbmPengajuan)}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Realisasi"}),i.jsx("p",{className:"text-xl font-bold",children:ce(_.bbmRealisasi)}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Selisih"}),i.jsxs("p",{className:"text-xl font-bold",children:[_.bbmSelisih>=0?"+":"",ce(_.bbmSelisih)]}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:_.bbmSelisih>=0?"Surplus":"Defisit"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Record"}),i.jsx("p",{className:"text-xl font-bold",children:_.bbmRecordCount}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:"Pengajuan"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-indigo-500/5 via-blue-500/5 to-cyan-500/5 dark:from-indigo-500/10 dark:via-blue-500/10 dark:to-cyan-500/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/25",children:i.jsx(Pl,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(_t,{className:"text-base",children:"Produksi vs RKAP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Perbandingan realisasi produksi terhadap target"})]})]}),i.jsx(Ze,{variant:"primary",className:"shadow-sm",children:r})]})}),i.jsx(An,{className:"pt-2",children:i.jsx(ul,{width:"100%",height:320,children:i.jsxs(JNe,{data:E,margin:{top:10,right:10,left:0,bottom:0},children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"gradProduksi",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:.3}),i.jsx("stop",{offset:"50%",stopColor:"#6366f1",stopOpacity:.1}),i.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:.02})]}),i.jsxs("linearGradient",{id:"gradRkap",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:.15}),i.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:.02})]}),i.jsxs("linearGradient",{id:"gradRkapNPK1",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:.15}),i.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:.02})]}),i.jsxs("linearGradient",{id:"gradRkapNPK2",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#f59e0b",stopOpacity:.15}),i.jsx("stop",{offset:"100%",stopColor:"#f59e0b",stopOpacity:.02})]})]}),i.jsx(Vf,{...Wp}),i.jsx(Oo,{dataKey:"bulan",...vc,dy:8}),i.jsx(Co,{...vc,dx:-4,tickFormatter:M=>M>=1e3?`${(M/1e3).toFixed(0)}k`:`${M}`}),i.jsx(Cn,{contentStyle:xc,formatter:(M,Y)=>[ce(M)+" Ton",Y],labelStyle:{fontWeight:600,marginBottom:4},cursor:{stroke:"#6366f1",strokeWidth:1,strokeDasharray:"4 4"}}),i.jsx(Oi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"12px"}}),i.jsx(mi,{type:"monotone",dataKey:"produksi",stroke:"#6366f1",strokeWidth:2.5,fill:"url(#gradProduksi)",dot:{fill:"#6366f1",stroke:"#fff",strokeWidth:2,r:4},activeDot:{fill:"#6366f1",stroke:"#fff",strokeWidth:2,r:6},name:"Produksi",animationDuration:1200,animationEasing:"ease-out"}),k==="ALL"?i.jsxs(i.Fragment,{children:[i.jsx(mi,{type:"monotone",dataKey:"rkapNPK1",stroke:"#10b981",strokeWidth:2,strokeDasharray:"6 4",fill:"url(#gradRkapNPK1)",dot:!1,name:"RKAP NPK 1",animationDuration:1400}),i.jsx(mi,{type:"monotone",dataKey:"rkapNPK2",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"6 4",fill:"url(#gradRkapNPK2)",dot:!1,name:"RKAP NPK 2",animationDuration:1600})]}):i.jsx(mi,{type:"monotone",dataKey:"rkap",stroke:"#10b981",strokeWidth:2,strokeDasharray:"6 4",fill:"url(#gradRkap)",dot:!1,name:"RKAP",animationDuration:1400})]})})})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-emerald-500/5 via-teal-500/5 to-cyan-500/5 dark:from-emerald-500/10 dark:via-teal-500/10 dark:to-cyan-500/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25",children:i.jsx(ph,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(_t,{className:"text-base",children:"Produksi Onspek vs Offspek"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Distribusi kualitas produksi bulanan"})]})]}),i.jsx(Ze,{variant:"success",children:"Monthly"})]})}),i.jsx(An,{className:"pt-2",children:i.jsx(ul,{width:"100%",height:320,children:i.jsxs(gk,{data:E,margin:{top:10,right:10,left:0,bottom:0},children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"gradOnspek",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:.9}),i.jsx("stop",{offset:"100%",stopColor:"#818cf8",stopOpacity:.7})]}),i.jsxs("linearGradient",{id:"gradOffspek",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#f43f5e",stopOpacity:.9}),i.jsx("stop",{offset:"100%",stopColor:"#fb7185",stopOpacity:.7})]})]}),i.jsx(Vf,{...Wp}),i.jsx(Oo,{dataKey:"bulan",...vc,dy:8}),i.jsx(Co,{...vc,dx:-4,tickFormatter:M=>M>=1e3?`${(M/1e3).toFixed(0)}k`:`${M}`}),i.jsx(Cn,{contentStyle:xc,formatter:M=>[ce(M)+" Ton",""],labelStyle:{fontWeight:600,marginBottom:4},cursor:{fill:"rgba(99, 102, 241, 0.04)"}}),i.jsx(Oi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"12px"}}),i.jsx(Bi,{dataKey:"onspek",fill:"url(#gradOnspek)",radius:[6,6,0,0],name:"Onspek",animationDuration:800,animationEasing:"ease-out"}),i.jsx(Bi,{dataKey:"offspek",fill:"url(#gradOffspek)",radius:[6,6,0,0],name:"Offspek",animationDuration:1e3,animationEasing:"ease-out"})]})})})]})]}),i.jsx(ZNe,{downtimeData:P.downtime,year:r,plantLabel:re}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ie,{className:"lg:col-span-2 overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-amber-500/5 via-orange-500/5 to-red-500/5 dark:from-amber-500/10 dark:via-orange-500/10 dark:to-red-500/10",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25",children:i.jsx(Ai,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(_t,{className:"text-base",children:"Downtime per Equipment"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[i.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-400",children:ce(q)})," ",h==="jam"?"Jam":"Kejadian"," Total"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(at,{value:d,onChange:M=>f(M.target.value),options:[{value:"tahunan",label:"Tahunan"},{value:"bulanan",label:"Bulanan"}],className:"w-28"}),d==="bulanan"&&i.jsx(at,{value:g.toString(),onChange:M=>m(Number(M.target.value)),options:pf.map((M,Y)=>({value:Y.toString(),label:M})),className:"w-24"}),i.jsx(at,{value:h,onChange:M=>p(M.target.value),options:[{value:"jam",label:"Jam"},{value:"frekuensi",label:"Frekuensi"}],className:"w-28"})]})]})}),i.jsx(An,{className:"pt-2",children:R.length>0?i.jsx(ul,{width:"100%",height:350,children:i.jsxs(gk,{data:R,layout:"vertical",margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradDowntime",x1:"0",y1:"0",x2:"1",y2:"0",children:[i.jsx("stop",{offset:"0%",stopColor:"#f59e0b",stopOpacity:.8}),i.jsx("stop",{offset:"100%",stopColor:"#f97316",stopOpacity:.95})]})}),i.jsx(Vf,{...Wp,horizontal:!1,vertical:!0}),i.jsx(Oo,{type:"number",...vc}),i.jsx(Co,{type:"category",dataKey:"item",...vc,width:130,tick:{fontSize:11,fontWeight:500}}),i.jsx(Cn,{contentStyle:xc,formatter:(M,Y,ee)=>{var z,L;const D=h==="jam"?" Jam":" Kejadian",J=h==="jam"?`(${((z=ee.payload)==null?void 0:z.frekuensi)||0} kejadian)`:`(${ce(((L=ee.payload)==null?void 0:L.jam)||0)} jam)`;return[`${ce(M)}${D} ${J}`,"Downtime"]},cursor:{fill:"rgba(245, 158, 11, 0.06)"}}),i.jsx(Bi,{dataKey:"downtime",fill:"url(#gradDowntime)",radius:[0,8,8,0],name:h==="jam"?"Downtime (Jam)":"Downtime (Frekuensi)",animationDuration:1e3,animationEasing:"ease-out"})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-muted-foreground",children:[i.jsx(Ai,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data downtime"})]})})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-violet-500/5 via-purple-500/5 to-fuchsia-500/5 dark:from-violet-500/10 dark:via-purple-500/10 dark:to-fuchsia-500/10",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-500/25",children:i.jsx(Eo,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(_t,{className:"text-base",children:"Breakdown Produksi"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Komposisi produksi ",r]})]})]})}),i.jsx(An,{className:"pt-2",children:G.length>0?i.jsx(ul,{width:"100%",height:350,children:i.jsxs(n1,{children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"gradPie0",x1:"0",y1:"0",x2:"1",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),i.jsx("stop",{offset:"100%",stopColor:"#818cf8"})]}),i.jsxs("linearGradient",{id:"gradPie1",x1:"0",y1:"0",x2:"1",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),i.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]}),i.jsxs("linearGradient",{id:"gradPie2",x1:"0",y1:"0",x2:"1",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#f59e0b"}),i.jsx("stop",{offset:"100%",stopColor:"#fbbf24"})]})]}),i.jsx(bi,{data:G,cx:"50%",cy:"50%",innerRadius:70,outerRadius:110,paddingAngle:4,dataKey:"value",cornerRadius:6,label:({name:M,percent:Y})=>`${M} ${(Y*100).toFixed(0)}%`,animationDuration:1200,animationEasing:"ease-out",children:G.map((M,Y)=>i.jsx(El,{fill:`url(#gradPie${Y%3})`,stroke:"rgba(255,255,255,0.6)",strokeWidth:2},`cell-${Y}`))}),i.jsx(Cn,{contentStyle:xc,formatter:M=>[ce(M)+" Ton",""]})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-muted-foreground",children:[i.jsx(Eo,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data produksi"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-rose-500/5 via-pink-500/5 to-fuchsia-500/5 dark:from-rose-500/10 dark:via-pink-500/10 dark:to-fuchsia-500/10",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-rose-500 to-pink-600 text-white shadow-lg shadow-rose-500/25",children:i.jsx(Ta,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(_t,{className:"text-base",children:"Work Request by Eksekutor"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[i.jsx("span",{className:"font-semibold text-rose-600 dark:text-rose-400",children:_.workRequestTotal})," total request"]})]})]})})}),i.jsx(An,{className:"pt-2",children:Z.length>0?i.jsx(ul,{width:"100%",height:300,children:i.jsxs(n1,{children:[i.jsx(bi,{data:Z,cx:"50%",cy:"50%",innerRadius:55,outerRadius:95,paddingAngle:4,dataKey:"count",nameKey:"eksekutor",cornerRadius:5,label:({eksekutor:M,count:Y})=>`${M}: ${Y}`,animationDuration:1200,animationEasing:"ease-out",children:Z.map((M,Y)=>i.jsx(El,{fill:Tp[Y%Tp.length],stroke:"rgba(255,255,255,0.6)",strokeWidth:2},`cell-${Y}`))}),i.jsx(Cn,{contentStyle:xc}),i.jsx(Oi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"8px"}})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-muted-foreground",children:[i.jsx(Ta,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data work request"})]})})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-cyan-500/5 via-sky-500/5 to-blue-500/5 dark:from-cyan-500/10 dark:via-sky-500/10 dark:to-blue-500/10",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-cyan-500 to-sky-600 text-white shadow-lg shadow-cyan-500/25",children:i.jsx(Af,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(_t,{className:"text-base",children:"Status Vibrasi Equipment"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[i.jsx("span",{className:Ge("font-semibold",_.vibrasiWarnings>0?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"),children:_.vibrasiWarnings})," alert aktif"]})]})]})})}),i.jsx(An,{className:"pt-2",children:V.length>0?i.jsx(ul,{width:"100%",height:300,children:i.jsxs(n1,{children:[i.jsx(bi,{data:V,cx:"50%",cy:"50%",innerRadius:55,outerRadius:95,paddingAngle:4,dataKey:"count",nameKey:"status",cornerRadius:5,animationDuration:1200,animationEasing:"ease-out",children:V.map((M,Y)=>{const ee={Normal:"#10b981",Warning:"#f59e0b",Critical:"#ef4444",Alert:"#f43f5e"};return i.jsx(El,{fill:ee[M.status]||Tp[Y%Tp.length],stroke:"rgba(255,255,255,0.6)",strokeWidth:2},`cell-${Y}`)})}),i.jsx(Cn,{contentStyle:xc}),i.jsx(Oi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"8px"}})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-muted-foreground",children:[i.jsx(Af,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data vibrasi"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-slate-500/5 via-gray-500/5 to-zinc-500/5 dark:from-slate-500/10 dark:via-gray-500/10 dark:to-zinc-500/10",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-slate-600 to-gray-700 text-white shadow-lg shadow-slate-600/25",children:i.jsx(qi,{className:"h-4 w-4"})}),i.jsx(_t,{className:"text-base",children:"Aksi Cepat"})]})}),i.jsxs(An,{className:"space-y-2.5",children:[i.jsxs("a",{href:"/produksi/npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-950/30 dark:to-blue-950/30 hover:from-indigo-100 hover:to-blue-100 dark:hover:from-indigo-950/50 dark:hover:to-blue-950/50 rounded-xl transition-all duration-200 group border border-indigo-100/50 dark:border-indigo-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10 dark:bg-indigo-500/20",children:i.jsx(mh,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),i.jsx("span",{className:"text-sm font-medium text-indigo-900 dark:text-indigo-200",children:"Input Produksi"})]}),i.jsx(qi,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),i.jsxs("a",{href:"/laporan/downtime-npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 hover:from-amber-100 hover:to-orange-100 dark:hover:from-amber-950/50 dark:hover:to-orange-950/50 rounded-xl transition-all duration-200 group border border-amber-100/50 dark:border-amber-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10 dark:bg-amber-500/20",children:i.jsx(Ai,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),i.jsx("span",{className:"text-sm font-medium text-amber-900 dark:text-amber-200",children:"Input Downtime"})]}),i.jsx(qi,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),i.jsxs("a",{href:"/data/work-request-npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 hover:from-emerald-100 hover:to-teal-100 dark:hover:from-emerald-950/50 dark:hover:to-teal-950/50 rounded-xl transition-all duration-200 group border border-emerald-100/50 dark:border-emerald-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10 dark:bg-emerald-500/20",children:i.jsx(Ta,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),i.jsx("span",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-200",children:"Work Request"})]}),i.jsx(qi,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),i.jsxs("a",{href:"/data/vibrasi-npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-rose-50 to-pink-50 dark:from-rose-950/30 dark:to-pink-950/30 hover:from-rose-100 hover:to-pink-100 dark:hover:from-rose-950/50 dark:hover:to-pink-950/50 rounded-xl transition-all duration-200 group border border-rose-100/50 dark:border-rose-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-rose-500/10 dark:bg-rose-500/20",children:i.jsx(Af,{className:"h-4 w-4 text-rose-600 dark:text-rose-400"})}),i.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-200",children:"Data Vibrasi"})]}),i.jsx(qi,{className:"h-4 w-4 text-rose-600 dark:text-rose-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),i.jsxs(Ie,{className:"lg:col-span-2 overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-sky-500/5 via-blue-500/5 to-indigo-500/5 dark:from-sky-500/10 dark:via-blue-500/10 dark:to-indigo-500/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 text-white shadow-lg shadow-sky-500/25",children:i.jsx(ph,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsxs(_t,{className:"text-base",children:["Ringkasan Data ",re]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Overview seluruh data tahun ",r]})]})]}),i.jsx(Ze,{variant:"info",children:r})]})}),i.jsx(An,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Record Produksi NPK",value:P.produksiNPK.length,color:"indigo"},{label:"Record Blending",value:P.produksiBlending.length,color:"cyan"},{label:"Record Downtime",value:P.downtime.length,color:"amber"},{label:"Work Request",value:P.workRequest.length,color:"rose"},{label:"Bahan Baku",value:P.bahanBaku.length,color:"sky"},{label:"Data Vibrasi",value:P.vibrasi.length,color:"violet"},{label:"Gate Pass",value:P.gatePass.length,color:"emerald"},{label:"Trouble Record",value:P.troubleRecord.length,color:"pink"}].map((M,Y)=>i.jsxs(Yt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Y*.05},className:`p-4 rounded-xl text-center border border-${M.color}-100 dark:border-${M.color}-900/30 bg-gradient-to-br from-${M.color}-50/80 to-${M.color}-50/30 dark:from-${M.color}-950/30 dark:to-${M.color}-950/10 hover:shadow-soft transition-shadow duration-200`,children:[i.jsx("p",{className:`text-2xl font-bold tabular-nums text-${M.color}-600 dark:text-${M.color}-400`,children:M.value}),i.jsx("p",{className:"text-[11px] font-medium text-muted-foreground mt-1",children:M.label})]},Y))})})]})]})]})};function tTe(e,t,r={}){const{altKey:n=!1,ctrlKey:a=!1,shiftKey:s=!1,enabled:o=!0}=r,l=j.useCallback(c=>{if(!o)return;const u=n?c.altKey:!c.altKey,d=a?c.ctrlKey:!c.ctrlKey,f=s?c.shiftKey:!c.shiftKey;c.key.toLowerCase()===e.toLowerCase()&&u&&d&&f&&(c.preventDefault(),t())},[e,t,n,a,s,o]);j.useEffect(()=>(o&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l,o])}function Br(e,t=!0){tTe("s",e,{ctrlKey:!0,enabled:t})}function rTe(){const{user:e}=Et(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,o]=j.useState(null),l=j.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),c=j.useCallback(async()=>{a(!0),o(null);try{const g=await pM();if(g.success&&g.data){const m=[...g.data].sort((x,b)=>x.nama_material.localeCompare(b.nama_material));r(m)}else o(g.error||"Gagal mengambil data material"),r([])}catch(g){o(g instanceof Error?g.message:"Terjadi kesalahan"),r([])}finally{a(!1)}},[]),u=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await yM(g,m);return x.success&&x.data?(r(b=>[...b,x.data].sort((y,v)=>y.nama_material.localeCompare(v.nama_material))),{success:!0,data:x.data}):(o(x.error||"Gagal menambah material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),d=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await bM(g,m);return x.success?(r(b=>b.map(y=>y.id===g.id?{...y,...g}:y).sort((y,v)=>y.nama_material.localeCompare(v.nama_material))),{success:!0}):(o(x.error||"Gagal mengupdate material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),f=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await wM(g,m);return x.success?(r(b=>b.filter(y=>y.id!==g)),{success:!0}):(o(x.error||"Gagal menghapus material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),h=j.useCallback(async(g,m,x)=>{a(!0),o(null);try{const b=l(),y=await kM(g,m,x,b);return y.success&&y.data?(r(v=>v.map(w=>w.id===g?{...w,stok:y.data.stok_baru}:w)),{success:!0,data:y.data}):(o(y.error||"Gagal menambah stok"),{success:!1,error:y.error})}catch(b){const y=b instanceof Error?b.message:"Terjadi kesalahan";return o(y),{success:!1,error:y}}finally{a(!1)}},[l]),p=j.useCallback(async(g,m,x)=>{a(!0),o(null);try{const b=l(),y=await jM(g,m,x,b);return y.success&&y.data?(r(v=>v.map(w=>w.id===g?{...w,stok:y.data.stok_baru}:w)),{success:!0,data:y.data}):(o(y.error||"Gagal mengurangi stok"),{success:!1,error:y.error})}catch(b){const y=b instanceof Error?b.message:"Terjadi kesalahan";return o(y),{success:!1,error:y}}finally{a(!1)}},[l]);return j.useEffect(()=>{c()},[c]),{materials:t,loading:n,error:s,refetch:c,addMaterial:u,updateMaterial:d,deleteMaterial:f,stockMasuk:h,stockKeluar:p}}function nTe(e){const[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,o]=j.useState(null),[l,c]=j.useState(e),u=j.useCallback(async h=>{a(!0),o(null);try{const p=await mM(h||l);p.success&&p.data?r(p.data):(o(p.error||"Gagal mengambil data transaksi"),r([]))}catch(p){o(p instanceof Error?p.message:"Terjadi kesalahan"),r([])}finally{a(!1)}},[l]),d=j.useCallback(h=>{c(h),u(h)},[u]),f=j.useCallback(()=>{c(void 0),u(void 0)},[u]);return j.useEffect(()=>{u()},[]),{transactions:t,loading:n,error:s,filters:l,refetch:u,updateFilters:d,clearFilters:f}}function Zr(){const{user:e}=Et(),t=j.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),r=j.useCallback(async(s,o)=>{const l=t(),c=await gM(s,o,l);return c.success&&_y("success"),c},[t]),n=j.useCallback(async(s,o)=>{const l=t(),c=await xM(s,o,l);return c.success&&_y("success"),c},[t]),a=j.useCallback(async(s,o)=>{const l=t(),c=await vM(s,o,l);return c.success&&_y("warning"),c},[t]);return{createWithLog:r,updateWithLog:n,deleteWithLog:a,getUserInfo:t}}function XF(){const[e,t]=j.useState([]),r=j.useCallback((l,c,u)=>({newItems:[{...c,id:u,_isPending:!0},...l],rollback:()=>l}),[]),n=j.useCallback((l,c)=>{const u=l.find(f=>f.id===c.id);return{newItems:l.map(f=>f.id===c.id?{...c,_isPending:!0}:f),rollback:()=>l,previousItem:u}},[]),a=j.useCallback((l,c)=>{const u=l.find(f=>f.id===c);return{newItems:l.filter(f=>f.id!==c),rollback:()=>l,deletedItem:u}},[]),s=j.useCallback((l,c,u)=>l.map(d=>d.id===c?{...d,id:u,_isPending:void 0}:d),[]),o=j.useCallback((l,c)=>l.map(u=>u.id===c?{...u,_isPending:void 0}:u),[]);return{pendingActions:e,setPendingActions:t,optimisticAdd:r,optimisticUpdate:n,optimisticDelete:a,confirmAdd:s,confirmUpdate:o}}function JF(){return`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const Vd={tanggal:yr(),shiftMalamOnspek:0,shiftMalamOffspek:0,shiftPagiOnspek:0,shiftPagiOffspek:0,shiftSoreOnspek:0,shiftSoreOffspek:0,totalOnspek:0,totalOffspek:0,total:0},xO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),{optimisticAdd:s,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=XF(),[d,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(!1),[N,S]=j.useState(null),[T,P]=j.useState(null),[_,E]=j.useState(Vd),[A,R]=j.useState(new Date().getFullYear()),[q,Z]=j.useState(new Date().getMonth()),[V,G]=j.useState(!1),[re,M]=j.useState("edit"),[Y,ee]=j.useState(null),[D,J]=j.useState(!1),[z,L]=j.useState(""),te=ne=>{L(ne),J(!0)},ye=(t==null?void 0:t.role)||"",Te=ln(ye),de=j.useCallback(()=>{if(g&&!h){const ne=document.querySelector("form");ne&&ne.requestSubmit()}},[g,h]);Br(de,g);const fe=jn(ye),be=Sn(ye),he=Jr(ye);j.useEffect(()=>{(async()=>{p(!0);try{const{readData:le,SHEETS:Me,getSheetNameByPlant:Ye}=await st(async()=>{const{readData:$e,SHEETS:Se,getSheetNameByPlant:Re}=await Promise.resolve().then(()=>ot);return{readData:$e,SHEETS:Se,getSheetNameByPlant:Re}},void 0),xe=Ye(Me.PRODUKSI_NPK,e),Pe=await le(xe);if(Pe.success&&Pe.data){const $e=Pe.data.map(Se=>({...Se,_plant:e})).sort((Se,Re)=>new Date(Re.tanggal).getTime()-new Date(Se.tanggal).getTime());f($e)}else f([])}catch(le){console.error("Error fetching data:",le),f([])}finally{p(!1)}})()},[e]);const _e=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],ue=j.useMemo(()=>{const ne=new Date().getFullYear(),le=d.map(xe=>{const Pe=new Date(xe.tanggal);return isNaN(Pe.getTime())?ne:Pe.getFullYear()}),Me=[ne,ne-1,ne-2];return[...new Set([...le,...Me])].sort((xe,Pe)=>Pe-xe)},[d]),C=j.useMemo(()=>d.filter(ne=>{const le=new Date(ne.tanggal);return!isNaN(le.getTime())&&le.getFullYear()===A}),[d,A]),B=j.useMemo(()=>{const ne=C.filter(xe=>new Date(xe.tanggal).getMonth()===q),le=ne.reduce((xe,Pe)=>xe+ve(Pe.totalOnspek),0),Me=ne.reduce((xe,Pe)=>xe+ve(Pe.totalOffspek),0),Ye=ne.reduce((xe,Pe)=>xe+ve(Pe.total),0);return{monthName:_e[q],year:A,totalOnspek:le,totalOffspek:Me,total:Ye,entryCount:ne.length}},[C,A,q]);j.useEffect(()=>{const ne=(_.shiftMalamOnspek||0)+(_.shiftPagiOnspek||0)+(_.shiftSoreOnspek||0),le=(_.shiftMalamOffspek||0)+(_.shiftPagiOffspek||0)+(_.shiftSoreOffspek||0);E(Me=>({...Me,totalOnspek:ne,totalOffspek:le,total:ne+le}))},[_.shiftMalamOnspek,_.shiftMalamOffspek,_.shiftPagiOnspek,_.shiftPagiOffspek,_.shiftSoreOnspek,_.shiftSoreOffspek]);const K=async ne=>{if(ne.preventDefault(),m(!1),v(!0),N){const le={..._,id:N,_plant:e},{rollback:Me}=o(d,le);f(Ye=>Ye.map(xe=>xe.id===N?{...le,_isPending:!0}:xe)),n("produksi_npk",{..._,id:N,_plant:e}).then(Ye=>{Ye.success?f(xe=>u(xe,N)):(f(Me()),alert(Ye.error||"Gagal mengupdate data"))}).catch(()=>{f(Me()),alert("Terjadi kesalahan saat mengupdate data")})}else{const le=JF(),Me={..._,id:le,_plant:e,_isPending:!0},{rollback:Ye}=s(d,Me,le);f(xe=>[Me,...xe]),r("produksi_npk",{..._,_plant:e}).then(xe=>{xe.success&&xe.data?f(Pe=>c(Pe,le,xe.data.id||le)):(f(Ye()),alert(xe.error||"Gagal menyimpan data"))}).catch(()=>{f(Ye()),alert("Terjadi kesalahan saat menyimpan data")})}E(Vd),S(null),setTimeout(()=>v(!1),1500)},je=ne=>{if(fe){ee(ne),M("edit"),G(!0);return}E(ne),S(ne.id||null),m(!0)},H=ne=>{if(be){const le=d.find(Me=>Me.id===ne);le&&(ee(le),M("delete"),G(!0));return}P(ne),b(!0)},U=async ne=>{if(!(!Y||!t)){p(!0);try{const{createData:le,SHEETS:Me}=await st(async()=>{const{createData:Pe,SHEETS:$e}=await Promise.resolve().then(()=>ot);return{createData:Pe,SHEETS:$e}},void 0),Ye={type:"produksi_npk",action:re,itemId:Y.id,itemData:Y,targetSheet:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",reason:ne,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},xe=await le(Me.APPROVAL_REQUESTS,Ye);if(xe.success)G(!1),ee(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(xe.error||"Gagal mengirim permintaan")}catch(le){console.error("Error submitting approval:",le),alert(le instanceof Error?le.message:"Gagal mengirim permintaan approval")}finally{p(!1)}}},ae=async()=>{if(!T)return;const{rollback:ne}=l(d,T);f(le=>le.filter(Me=>Me.id!==T)),b(!1),v(!0),a("produksi_npk",{id:T,_plant:e}).then(le=>{le.success||(f(ne()),alert(le.error||"Gagal menghapus data"))}).catch(()=>{f(ne()),alert("Terjadi kesalahan saat menghapus data")}),P(null),setTimeout(()=>v(!1),1500)},O=()=>{E(Vd),S(null),m(!0)},W=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ne=>gt(ne)},{key:"shiftMalamOnspek",header:"Malam Onspek",render:ne=>ce(ve(ne))},{key:"shiftMalamOffspek",header:"Malam Offspek",render:ne=>ce(ve(ne))},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:ne=>ce(ve(ne))},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:ne=>ce(ve(ne))},{key:"shiftSoreOnspek",header:"Sore Onspek",render:ne=>ce(ve(ne))},{key:"shiftSoreOffspek",header:"Sore Offspek",render:ne=>ce(ve(ne))},{key:"total",header:"Total",render:ne=>i.jsx("span",{className:"font-semibold text-primary-600",children:ce(ve(ne))})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Granul"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data produksi NPK Granul untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),Te&&i.jsxs(ge,{onClick:O,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:`rounded-xl p-4 sm:p-5 text-white shadow-md ${e==="NPK1"?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(kx,{className:"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight",children:["Produksi Bulan ",B.monthName," ",B.year]}),i.jsxs("p",{className:"text-white/80 text-xs sm:text-sm",children:[B.entryCount," entry data"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("select",{value:q,onChange:ne=>Z(Number(ne.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 flex-1 min-w-0",children:_e.map((ne,le)=>i.jsx("option",{value:le,className:"text-dark-900",children:ne},le))}),i.jsx("select",{value:A,onChange:ne=>R(Number(ne.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 w-20 sm:w-24",children:ue.map(ne=>i.jsx("option",{value:ne,className:"text-dark-900",children:ne},ne))})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Onspek"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:ce(B.totalOnspek)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Offspek"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:ce(B.totalOffspek)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Total"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:ce(B.total)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Onspek (",A,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:ce(C.reduce((ne,le)=>ne+ve(le.totalOnspek),0))})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Offspek (",A,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:ce(C.reduce((ne,le)=>ne+ve(le.totalOffspek),0))})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Produksi (",A,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:ce(C.reduce((ne,le)=>ne+ve(le.total),0))})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Jumlah Entry (",A,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:C.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(_t,{children:"Data Produksi"})})}),i.jsx(Lr,{data:d,columns:W,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, shift, total produksi...",searchKeys:["tanggal","shiftMalamOnspek","shiftMalamOffspek","shiftPagiOnspek","shiftPagiOffspek","shiftSoreOnspek","shiftSoreOffspek","total"],actions:he?ne=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:le=>{le.stopPropagation(),te(ne.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):ne=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:le=>{le.stopPropagation(),te(ne.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:le=>{le.stopPropagation(),je(ne)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:le=>{le.stopPropagation(),H(ne.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:g,onClose:()=>{m(!1),E(Vd),S(null)},title:N?"Edit Data Produksi":"Tambah Data Produksi",size:"lg",children:i.jsxs("form",{onSubmit:K,className:"space-y-6",children:[i.jsx("div",{children:i.jsx(Ae,{label:"Tanggal",type:"date",value:_.tanggal,onChange:ne=>E(le=>({...le,tanggal:ne.target.value})),required:!0})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Malam"}),i.jsx(Ae,{label:"Onspek (Ton)",type:"number",value:_.shiftMalamOnspek,onChange:ne=>E(le=>({...le,shiftMalamOnspek:Number(ne.target.value)})),min:"0",step:"0.01"}),i.jsx(Ae,{label:"Offspek (Ton)",type:"number",value:_.shiftMalamOffspek,onChange:ne=>E(le=>({...le,shiftMalamOffspek:Number(ne.target.value)})),min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Pagi"}),i.jsx(Ae,{label:"Onspek (Ton)",type:"number",value:_.shiftPagiOnspek,onChange:ne=>E(le=>({...le,shiftPagiOnspek:Number(ne.target.value)})),min:"0",step:"0.01"}),i.jsx(Ae,{label:"Offspek (Ton)",type:"number",value:_.shiftPagiOffspek,onChange:ne=>E(le=>({...le,shiftPagiOffspek:Number(ne.target.value)})),min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Sore"}),i.jsx(Ae,{label:"Onspek (Ton)",type:"number",value:_.shiftSoreOnspek,onChange:ne=>E(le=>({...le,shiftSoreOnspek:Number(ne.target.value)})),min:"0",step:"0.01"}),i.jsx(Ae,{label:"Offspek (Ton)",type:"number",value:_.shiftSoreOffspek,onChange:ne=>E(le=>({...le,shiftSoreOffspek:Number(ne.target.value)})),min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Total (Auto)"}),i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Onspek:"}),i.jsxs("span",{className:"font-semibold text-primary-600",children:[ce(_.totalOnspek||0)," Ton"]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Offspek:"}),i.jsxs("span",{className:"font-semibold text-red-600",children:[ce(_.totalOffspek||0)," Ton"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-medium text-dark-700",children:"Total:"}),i.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[ce(_.total||0)," Ton"]})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{m(!1),E(Vd),S(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:h,children:N?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:x,onClose:()=>{b(!1),P(null)},onConfirm:ae,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:h}),i.jsx(Nn,{isOpen:V,onClose:()=>{G(!1),ee(null)},onSubmit:U,action:re,itemName:"data produksi NPK",loading:h}),i.jsx(Nr,{isVisible:y,message:N?"Data berhasil diupdate!":"Data berhasil disimpan!",onClose:()=>v(!1)}),i.jsx(Zu,{isOpen:w,onClose:()=>k(!1),title:`Produksi NPK Granul ${e==="NPK1"?"1":"2"}`,plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",compactMode:!0,data:d,columns:[{key:"tanggal",header:"Tanggal",render:ne=>gt(ne),width:"80px"},{key:"shiftMalamOnspek",header:"Malam Onspek",render:ne=>ce(ve(ne)),align:"right",width:"70px"},{key:"shiftMalamOffspek",header:"Malam Offspek",render:ne=>ce(ve(ne)),align:"right",width:"70px"},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:ne=>ce(ve(ne)),align:"right",width:"65px"},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:ne=>ce(ve(ne)),align:"right",width:"65px"},{key:"shiftSoreOnspek",header:"Sore Onspek",render:ne=>ce(ve(ne)),align:"right",width:"65px"},{key:"shiftSoreOffspek",header:"Sore Offspek",render:ne=>ce(ve(ne)),align:"right",width:"45px"},{key:"totalOnspek",header:"Total Onspek",render:ne=>ce(ve(ne)),align:"right",width:"70px"},{key:"totalOffspek",header:"Total Offspek",render:ne=>ce(ve(ne)),align:"right",width:"70px"},{key:"total",header:"S. Total",render:ne=>ce(ve(ne)),align:"right",width:"60px"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Onspek:",getValue:ne=>ce(ne.reduce((le,Me)=>le+ve(Me.totalOnspek),0))+" Ton"},{label:"Total Offspek:",getValue:ne=>ce(ne.reduce((le,Me)=>le+ve(Me.totalOffspek),0))+" Ton"},{label:"Grand Total:",getValue:ne=>ce(ne.reduce((le,Me)=>le+ve(Me.total),0))+" Ton"}]}),i.jsx(Fr,{isOpen:D,onClose:()=>{J(!1),L("")},sheetName:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",recordId:z,title:"Log Aktivitas Produksi NPK"})]})},zd={tanggal:yr(),kategori:"Fresh",formula:"",tonase:0},vO=({type:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(!1),[S,T]=j.useState(""),[P,_]=j.useState(zd),[E,A]=j.useState("all"),[R,q]=j.useState(new Date().getMonth()),[Z,V]=j.useState(new Date().getFullYear()),G=e==="blending"?"NPK2":"NPK1",re=e==="blending"?"Produksi Blending":"Produksi Retail",[M,Y]=j.useState(!1),[ee,D]=j.useState("edit"),[J,z]=j.useState(null),[L,te]=j.useState(!1),[ye,Te]=j.useState(""),de=Ee=>{Te(Ee),te(!0)},fe=(t==null?void 0:t.role)||"",be=ln(fe),he=j.useCallback(()=>{if(u&&!l){const Ee=document.querySelector("form");Ee&&Ee.requestSubmit()}},[u,l]);Br(he,u);const _e=jn(fe),ue=Sn(fe),C=Jr(fe),B=e==="blending"?[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]:[{value:"Retail",label:"Retail"}],K=["NPK 15-15-15","NPK 16-16-16","NPK 20-10-10","NPK 12-12-17","NPK 15-15-15-4S"],je=j.useMemo(()=>{const Ee=[...new Set(s.map(jt=>jt.formula).filter(jt=>jt&&jt!=="Tanpa Formula"))],lt=[...new Set([...K,...Ee])].sort().map(jt=>({value:jt,label:jt}));return lt.push({value:"Custom",label:"Custom (Tambah Baru)"}),lt},[s]);j.useEffect(()=>{(async()=>{var Ue,lt;c(!0);try{const{readData:jt,SHEETS:br,getSheetNameByPlant:Jt}=await st(async()=>{const{readData:Bn,SHEETS:Ur,getSheetNameByPlant:nt}=await Promise.resolve().then(()=>ot);return{readData:Bn,SHEETS:Ur,getSheetNameByPlant:nt}},void 0),dt=Jt(br.PRODUKSI_BLENDING,G),Ct=await jt(dt);if(console.log("Raw data from backend:",(Ue=Ct.data)==null?void 0:Ue.slice(0,2)),console.log("Data keys:",(lt=Ct.data)!=null&&lt[0]?Object.keys(Ct.data[0]):"No data"),Ct.success&&Ct.data){const Ur=Ct.data.map(nt=>{Ct.data&&Ct.data.indexOf(nt)===0&&console.log("First item raw:",nt);const ji=nt.tonase??nt.Tonase??nt.total??nt.Total??nt.jumlah??nt.Jumlah??nt.ton??nt.Ton??nt.qty??nt.Qty??nt.quantity??nt.Quantity??0,oc=nt.formula??nt.Formula??nt.formulasi??nt.Formulasi??nt.jenis??nt.Jenis??nt.produk??nt.Produk??"",lc=nt.kategori??nt.Kategori??nt.tipe??nt.Tipe??nt.jenis??nt.Jenis??(e==="retail"?"Retail":"Fresh");return{...nt,id:nt.id??nt.ID??nt.Id??nt.no??nt.No,tanggal:nt.tanggal??nt.Tanggal??nt.tgl??nt.Tgl??nt.date??nt.Date??"",kategori:lc,formula:(oc||"Tanpa Formula").trim(),tonase:ve(ji),_plant:G}}).sort((nt,ji)=>new Date(ji.tanggal).getTime()-new Date(nt.tanggal).getTime());o(Ur),console.log("Normalized data sample:",Ur.slice(0,3)),console.log("Total tonase check:",Ur.slice(0,5).map(nt=>({formula:nt.formula,tonase:nt.tonase})))}else o([])}catch(jt){console.error("Error fetching data:",jt),o([])}finally{c(!1)}})()},[e,G]);const H=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],U=j.useMemo(()=>[...new Set(s.map(Ue=>Ue.formula).filter(Ue=>Ue&&Ue.trim()!==""))].sort(),[s]),ae=j.useMemo(()=>{const Ee=new Date().getFullYear(),Ue=s.map(br=>{const Jt=new Date(br.tanggal);return isNaN(Jt.getTime())?Ee:Jt.getFullYear()}),lt=[Ee,Ee-1,Ee-2];return[...new Set([...Ue,...lt])].sort((br,Jt)=>Jt-br)},[s]),O=j.useMemo(()=>s.filter(Ee=>{const Ue=new Date(Ee.tanggal);if(isNaN(Ue.getTime()))return!1;const lt=Z==="all"||Ue.getFullYear()===Z,jt=R==="all"||Ue.getMonth()===R;return lt&&jt}),[s,R,Z]),W=j.useMemo(()=>E==="all"?O:O.filter(Ee=>Ee.formula===E),[O,E]),ne=Ee=>{const Ue=Ee.tonase;return typeof Ue=="number"&&!isNaN(Ue)?Ue:ve(Ue)},le=j.useMemo(()=>{const Ee=O.reduce((dt,Ct)=>dt+ne(Ct),0),Ue=O.filter(dt=>dt.kategori==="Fresh").reduce((dt,Ct)=>dt+ne(Ct),0),lt=O.filter(dt=>dt.kategori==="Oversack").reduce((dt,Ct)=>dt+ne(Ct),0),jt=O.filter(dt=>dt.kategori==="Retail").reduce((dt,Ct)=>dt+ne(Ct),0);let br=0,Jt=0;if(R!=="all"&&Z!=="all"){const dt=R===0?11:R-1,Ct=R===0?Z-1:Z;Jt=s.filter(Ur=>{const nt=new Date(Ur.tanggal);return isNaN(nt.getTime())?!1:nt.getMonth()===dt&&nt.getFullYear()===Ct}).reduce((Ur,nt)=>Ur+ne(nt),0),br=Jt>0?(Ee-Jt)/Jt*100:0}return{totalTonase:Ee,totalFresh:Ue,totalOversack:lt,totalRetail:jt,entryCount:O.length,uniqueFormulas:new Set(O.map(dt=>dt.formula).filter(dt=>dt&&dt.trim()!=="")).size,growthPercent:br,prevTotalTonase:Jt,avgPerEntry:O.length>0?Ee/O.length:0}},[O,R,Z,s]),Me=j.useMemo(()=>{const Ee={};return O.forEach(Ue=>{const lt=Ue.formula&&Ue.formula.trim()!==""?Ue.formula:"Tanpa Formula";Ee[lt]||(Ee[lt]={total:0,fresh:0,oversack:0,retail:0,count:0,percentage:0});const jt=ne(Ue);Ee[lt].total+=jt,Ee[lt].count+=1,Ue.kategori==="Fresh"?Ee[lt].fresh+=jt:Ue.kategori==="Oversack"?Ee[lt].oversack+=jt:Ue.kategori==="Retail"&&(Ee[lt].retail+=jt)}),Object.keys(Ee).forEach(Ue=>{Ee[Ue].percentage=le.totalTonase>0?Ee[Ue].total/le.totalTonase*100:0}),Ee},[O,le.totalTonase]),Ye=j.useMemo(()=>Object.entries(Me).sort(([,Ee],[,Ue])=>Ue.total-Ee.total).slice(0,10),[Me]),xe=()=>{if(R==="all"||Z==="all"){const Ee=new Date;q(Ee.getMonth()===0?11:Ee.getMonth()-1),V(Ee.getMonth()===0?Ee.getFullYear()-1:Ee.getFullYear())}else R===0?(q(11),V(Ee=>Ee-1)):q(Ee=>Ee-1)},Pe=()=>{if(R==="all"||Z==="all"){const Ee=new Date;q(Ee.getMonth()===11?0:Ee.getMonth()+1),V(Ee.getMonth()===11?Ee.getFullYear()+1:Ee.getFullYear())}else R===11?(q(0),V(Ee=>Ee+1)):q(Ee=>Ee+1)},$e=async Ee=>{Ee.preventDefault(),c(!0);try{if(b){const Ue=await n("produksi_blending",{...P,id:b,_plant:G});if(Ue.success)o(lt=>lt.map(jt=>jt.id===b?{...P,id:b,_plant:G}:jt));else throw new Error(Ue.error||"Gagal mengupdate data")}else{const Ue={...P,_plant:G},lt=await r("produksi_blending",Ue);if(lt.success&&lt.data){const jt={...lt.data,_plant:G};o(br=>[jt,...br])}else throw new Error(lt.error||"Gagal menyimpan data")}d(!1),_(zd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Ue){console.error("Error saving data:",Ue),alert(Ue instanceof Error?Ue.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Se=Ee=>{if(_e){z(Ee),D("edit"),Y(!0);return}_(Ee),y(Ee.id||null);const Ue=je.some(lt=>lt.value===Ee.formula&&lt.value!=="Custom");N(!Ue&&Ee.formula!==""),T(!Ue&&Ee.formula!==""?Ee.formula:""),d(!0)},Re=Ee=>{if(ue){const Ue=s.find(lt=>lt.id===Ee);Ue&&(z(Ue),D("delete"),Y(!0));return}w(Ee),h(!0)},Qe=async Ee=>{if(!(!J||!t)){c(!0);try{const{createData:Ue,SHEETS:lt}=await st(async()=>{const{createData:Jt,SHEETS:dt}=await Promise.resolve().then(()=>ot);return{createData:Jt,SHEETS:dt}},void 0),jt={type:"produksi_blending",action:ee,itemId:J.id,itemData:J,targetSheet:e==="retail"?"produksi_blending_NPK1":"produksi_blending",reason:Ee,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},br=await Ue(lt.APPROVAL_REQUESTS,jt);if(br.success)Y(!1),z(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(br.error||"Gagal mengirim permintaan")}catch(Ue){console.error("Error submitting approval:",Ue),alert(Ue instanceof Error?Ue.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},et=async()=>{if(v){c(!0);try{const Ee=await a("produksi_blending",{id:v,_plant:G});if(Ee.success)o(Ue=>Ue.filter(lt=>lt.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Ee.error||"Gagal menghapus data")}catch(Ee){console.error("Error deleting data:",Ee),alert(Ee instanceof Error?Ee.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Je=()=>{_(zd),y(null),N(!1),T(""),d(!0)},ut=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Ee=>gt(Ee)},{key:"kategori",header:"Kategori",render:Ee=>i.jsx(Ze,{variant:Ee==="Fresh"?"success":Ee==="Oversack"?"warning":"primary",children:Ee})},{key:"formula",header:"Formula"},{key:"tonase",header:"Tonase",render:Ee=>i.jsxs("span",{className:"font-semibold",children:[ce(ve(Ee))," Ton"]})}],ur=Ee=>{const Ue=["from-blue-500 to-blue-600","from-emerald-500 to-emerald-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600","from-rose-500 to-rose-600","from-cyan-500 to-cyan-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600"];return Ue[Ee%Ue.length]};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:re}),i.jsx(Ze,{variant:G==="NPK1"?"primary":"success",children:G})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data ",re.toLowerCase()," untuk ",G]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),be&&i.jsxs(ge,{onClick:Je,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsx(Ie,{className:"overflow-hidden",children:i.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-900 dark:from-dark-700 dark:to-dark-800 p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:i.jsx(kx,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Laporan Produksi"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("button",{onClick:xe,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(V2,{className:"h-5 w-5 text-white"})}),i.jsxs("h2",{className:"text-2xl font-bold text-white min-w-[200px] text-center",children:[R==="all"?"Semua Bulan":H[R]," ",Z==="all"?"Semua Tahun":Z]}),i.jsx("button",{onClick:Pe,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(z2,{className:"h-5 w-5 text-white"})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:R.toString(),onChange:Ee=>q(Ee.target.value==="all"?"all":Number(Ee.target.value)),options:[{value:"all",label:"Semua Bulan"},...H.map((Ee,Ue)=>({value:Ue.toString(),label:Ee}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"}),i.jsx(at,{value:Z.toString(),onChange:Ee=>V(Ee.target.value==="all"?"all":Number(Ee.target.value)),options:[{value:"all",label:"Semua Tahun"},...ae.map(Ee=>({value:Ee.toString(),label:Ee.toString()}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(_o,{className:"h-4 w-4 text-white/70"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Total Produksi"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[ce(le.totalTonase),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),le.growthPercent!==0&&i.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${le.growthPercent>0?"text-green-300":"text-red-300"}`,children:[le.growthPercent>0?i.jsx(qi,{className:"h-3 w-3"}):i.jsx(cH,{className:"h-3 w-3"}),i.jsxs("span",{children:[Math.abs(le.growthPercent).toFixed(1),"% dari bulan lalu"]})]})]}),e==="blending"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(my,{className:"h-4 w-4 text-green-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Fresh"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[ce(le.totalFresh),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[le.totalTonase>0?(le.totalFresh/le.totalTonase*100).toFixed(1):0,"% dari total"]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Cb,{className:"h-4 w-4 text-amber-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Oversack"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[ce(le.totalOversack),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[le.totalTonase>0?(le.totalOversack/le.totalTonase*100).toFixed(1):0,"% dari total"]})]})]}):i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(my,{className:"h-4 w-4 text-blue-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Retail"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[ce(le.totalRetail),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(kH,{className:"h-4 w-4 text-violet-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Jenis Formula"})]}),i.jsx("p",{className:"text-2xl font-bold text-white",children:le.uniqueFormulas}),i.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Formula berbeda"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Eo,{className:"h-4 w-4 text-cyan-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Rata-rata"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[ce(le.avgPerEntry),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Per entry (",le.entryCount," data)"]})]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YD,{className:"h-5 w-5 text-dark-500"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Statistik per Formula"})]}),i.jsx(at,{value:E,onChange:Ee=>A(Ee.target.value),options:[{value:"all",label:"Semua Formula"},...U.map(Ee=>({value:Ee,label:Ee}))],className:"min-w-[200px]"})]}),Ye.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ye.map(([Ee,Ue],lt)=>i.jsxs(Ie,{className:`overflow-hidden cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg ${E===Ee?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onClick:()=>A(E===Ee?"all":Ee),children:[i.jsxs("div",{className:`bg-gradient-to-br ${ur(lt)} p-4`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"bg-white/20 rounded-lg px-2 py-1",children:i.jsxs("span",{className:"text-white text-xs font-medium",children:["#",lt+1]})}),i.jsx(ph,{className:"h-5 w-5 text-white/70"})]}),i.jsx("h4",{className:"text-white font-bold text-lg mt-3 truncate",title:Ee,children:Ee}),i.jsxs("p",{className:"text-white/70 text-sm",children:[Ue.count," entry data"]})]}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400 text-sm",children:"Total Tonase"}),i.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[ce(Ue.total)," Ton"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kontribusi"}),i.jsxs("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:[Ue.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full bg-gradient-to-r ${ur(lt)} rounded-full transition-all duration-500`,style:{width:`${Math.min(Ue.percentage,100)}%`}})})]}),e==="blending"&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Fresh"}),i.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400 text-sm",children:[ce(Ue.fresh)," T"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Oversack"}),i.jsxs("p",{className:"font-semibold text-amber-600 dark:text-amber-400 text-sm",children:[ce(Ue.oversack)," T"]})]})]})]})]},Ee))}):i.jsxs(Ie,{className:"p-8 text-center",children:[i.jsx(_o,{className:"h-12 w-12 text-dark-300 mx-auto mb-3"}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Tidak ada data produksi untuk bulan"," ",H[R]," ",Z]})]})]}),E!=="all"&&Me[E]&&i.jsxs(Ie,{className:"overflow-hidden",children:[i.jsx(Pt,{className:"bg-gradient-to-r from-primary-500 to-primary-600",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:i.jsx(my,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsxs(_t,{className:"text-white",children:["Detail Formula: ",E]}),i.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["Data untuk"," ",R==="all"?"semua bulan":`bulan ${H[R]}`," ",Z==="all"?"semua tahun":Z]})]})]}),i.jsx(ge,{variant:"secondary",size:"sm",onClick:()=>A("all"),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:"Lihat Semua"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Total Tonase"}),i.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[ce(Me[E].total),i.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Jumlah Entry"}),i.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:Me[E].count})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Rata-rata/Entry"}),i.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[ce(Me[E].total/Me[E].count),i.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Kontribusi"}),i.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[Me[E].percentage.toFixed(1),i.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"%"})]})]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs(_t,{children:["Data ",re," - Semua Data",E!=="all"&&i.jsx(Ze,{variant:"primary",className:"ml-2",children:E})]}),i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:[s.length," data total"]})]})}),i.jsx(Lr,{data:s.filter(Ee=>E==="all"||Ee.formula===E),columns:ut,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, formula, kategori, tonase...",searchKeys:["tanggal","formula","kategori","tonase"],actions:C?Ee=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),de(Ee.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):Ee=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),de(Ee.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),Se(Ee)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),Re(Ee.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),_(zd),y(null)},title:b?`Edit Data ${re}`:`Tambah Data ${re}`,size:"md",children:i.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:P.tanggal,onChange:Ee=>_(Ue=>({...Ue,tanggal:Ee.target.value})),required:!0}),i.jsx(at,{label:"Kategori",value:P.kategori,onChange:Ee=>_(Ue=>({...Ue,kategori:Ee.target.value})),options:B,required:!0}),i.jsx(at,{label:"Formula",value:k?"Custom":P.formula,onChange:Ee=>{const Ue=Ee.target.value;Ue==="Custom"?(N(!0),T("")):(N(!1),_(lt=>({...lt,formula:Ue})))},options:je,placeholder:"Pilih formula",required:!0}),k&&i.jsx(Ae,{label:"Formula Custom",type:"text",value:S,onChange:Ee=>{T(Ee.target.value),_(Ue=>({...Ue,formula:Ee.target.value}))},placeholder:"Masukkan formula custom (contoh: NPK 18-18-18)",required:!0}),i.jsx(Ae,{label:"Tonase (Ton)",type:"number",value:P.tonase,onChange:Ee=>_(Ue=>({...Ue,tonase:Number(Ee.target.value)})),min:"0",step:"0.01",required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),_(zd),y(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:et,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:M,onClose:()=>{Y(!1),z(null)},onSubmit:Qe,action:ee,itemName:"data produksi blending",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:m,onClose:()=>x(!1),title:`${re} - ${H[R]} ${Z}${E!=="all"?` (${E})`:""}`,plant:G==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:W,columns:[{key:"tanggal",header:"Tanggal",render:Ee=>gt(Ee),width:"80px"},{key:"kategori",header:"Kategori",width:"70px"},{key:"formula",header:"Formula",width:"120px"},{key:"tonase",header:"Tonase (Ton)",render:Ee=>ce(ve(Ee)),align:"right",width:"80px"}],filters:e==="blending"?{kategori:{label:"Kategori",options:[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]}}:void 0,signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:Ee=>ce(Ee.reduce((Ue,lt)=>Ue+ve(lt.tonase),0))+" Ton"}]}),i.jsx(Fr,{isOpen:L,onClose:()=>{te(!1),Te("")},sheetName:e==="blending"?"produksi_blending":"produksi_blending_NPK1",recordId:ye,title:`Log Aktivitas ${re}`})]})},Hd={tanggal:yr(),formulasi:"",tonase:0},aTe=()=>{const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Zr(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(null),[w,k]=j.useState(Hd),[N,S]=j.useState(""),[T,P]=j.useState(new Date().getFullYear()),[_,E]=j.useState(new Date().getMonth()),[A,R]=j.useState(!1),[q,Z]=j.useState("edit"),[V,G]=j.useState(null),[re,M]=j.useState(!1),[Y,ee]=j.useState(""),D=U=>{ee(U),M(!0)},J=(e==null?void 0:e.role)||"",z=ln(J),L=j.useCallback(()=>{if(c&&!o){const U=document.querySelector("form");U&&U.requestSubmit()}},[c,o]);Br(L,c);const te=jn(J),ye=Sn(J),Te=Jr(J);j.useEffect(()=>{(async()=>{l(!0);try{const{readData:ae,SHEETS:O}=await st(async()=>{const{readData:ne,SHEETS:le}=await Promise.resolve().then(()=>ot);return{readData:ne,SHEETS:le}},void 0),W=await ae(O.PRODUKSI_NPK_MINI);if(W.success&&W.data){const ne=W.data.map(le=>({...le,_plant:"NPK2"})).sort((le,Me)=>new Date(Me.tanggal).getTime()-new Date(le.tanggal).getTime());s(ne)}else s([])}catch(ae){console.error("Error fetching data:",ae),s([])}finally{l(!1)}})()},[]);const de=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],fe=j.useMemo(()=>{const U=new Date().getFullYear(),ae=a.map(ne=>{const le=new Date(ne.tanggal);return isNaN(le.getTime())?U:le.getFullYear()}),O=[U,U-1,U-2];return[...new Set([...ae,...O])].sort((ne,le)=>le-ne)},[a]),be=j.useMemo(()=>a.filter(U=>{const ae=new Date(U.tanggal);return!isNaN(ae.getTime())&&ae.getFullYear()===T}),[a,T]),he=j.useMemo(()=>{const U=be.filter(W=>new Date(W.tanggal).getMonth()===_),ae=U.reduce((W,ne)=>W+ve(ne.tonase),0),O=new Set(U.map(W=>W.formulasi)).size;return{monthName:de[_],year:T,total:ae,formulasiCount:O,entryCount:U.length}},[be,T,_]),_e=async U=>{U.preventDefault(),l(!0);const ae=parseFloat(N.replace(",","."))||0,O={...w,tonase:ae};try{if(x){const W=await r("produksi_npk_mini",{...O,id:x,_plant:"NPK2"});if(W.success)s(ne=>ne.map(le=>le.id===x?{...O,id:x,_plant:"NPK2"}:le));else throw new Error(W.error||"Gagal mengupdate data")}else{const W={...O,_plant:"NPK2"},ne=await t("produksi_npk_mini",W);if(ne.success&&ne.data){const le={...ne.data,_plant:"NPK2"};s(Me=>[le,...Me])}else throw new Error(ne.error||"Gagal menyimpan data")}u(!1),k(Hd),S(""),b(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(W){console.error("Error saving data:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},ue=U=>{if(te){G(U),Z("edit"),R(!0);return}k(U),S(U.tonase?String(U.tonase):""),b(U.id||null),u(!0)},C=U=>{if(ye){const ae=a.find(O=>O.id===U);ae&&(G(ae),Z("delete"),R(!0));return}v(U),f(!0)},B=async U=>{if(!(!V||!e)){l(!0);try{const{createData:ae,SHEETS:O}=await st(async()=>{const{createData:le,SHEETS:Me}=await Promise.resolve().then(()=>ot);return{createData:le,SHEETS:Me}},void 0),W={type:"produksi_npk_mini",action:q,itemId:V.id,itemData:V,targetSheet:"produksi_npk_mini",reason:U,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ne=await ae(O.APPROVAL_REQUESTS,W);if(ne.success)R(!1),G(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ne.error||"Gagal mengirim permintaan")}catch(ae){console.error("Error submitting approval:",ae),alert(ae instanceof Error?ae.message:"Gagal mengirim permintaan approval")}finally{l(!1)}}},K=async()=>{if(y){l(!0);try{const U=await n("produksi_npk_mini",{id:y,_plant:"NPK2"});if(U.success)s(ae=>ae.filter(O=>O.id!==y)),f(!1),v(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(U.error||"Gagal menghapus data")}catch(U){console.error("Error deleting data:",U),alert(U instanceof Error?U.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},je=()=>{k(Hd),S(""),b(null),u(!0)},H=[{key:"tanggal",header:"Tanggal",sortable:!0,render:U=>gt(U)},{key:"formulasi",header:"Formulasi"},{key:"tonase",header:"Tonase",render:U=>i.jsxs("span",{className:"font-semibold text-primary-600",children:[ce(ve(U))," Ton"]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Mini"}),i.jsx(Ze,{variant:"success",children:"NPK2"})]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data produksi NPK Mini untuk NPK2"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),z&&i.jsxs(ge,{onClick:je,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"rounded-xl p-4 sm:p-5 text-white shadow-md bg-gradient-to-r from-green-500 to-green-600",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(kx,{className:"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight",children:["Produksi Bulan ",he.monthName," ",he.year]}),i.jsxs("p",{className:"text-white/80 text-xs sm:text-sm",children:[he.entryCount," entry data"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("select",{value:_,onChange:U=>E(Number(U.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 flex-1 min-w-0",children:de.map((U,ae)=>i.jsx("option",{value:ae,className:"text-dark-900",children:U},ae))}),i.jsx("select",{value:T,onChange:U=>P(Number(U.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 w-20 sm:w-24",children:fe.map(U=>i.jsx("option",{value:U,className:"text-dark-900",children:U},U))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Total"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:ce(he.total)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Formulasi"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:he.formulasiCount}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Jenis"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Tonase (",T,")"]}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:[ce(be.reduce((U,ae)=>U+ve(ae.tonase),0)),i.jsx("span",{className:"text-xs sm:text-sm font-normal text-dark-400 ml-1",children:"Ton"})]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Formulasi (",T,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(be.map(U=>U.formulasi)).size})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Entry (",T,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:be.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(_t,{children:"Data Produksi NPK Mini"})})}),i.jsx(Lr,{data:a,columns:H,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, formulasi, tonase...",searchKeys:["tanggal","formulasi","tonase"],actions:Te?U=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),D(U.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):U=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),D(U.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),ue(U)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),C(U.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),k(Hd),S(""),b(null)},title:x?"Edit Data NPK Mini":"Tambah Data NPK Mini",size:"md",children:i.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:w.tanggal,onChange:U=>k(ae=>({...ae,tanggal:U.target.value})),required:!0}),i.jsx(Ae,{label:"Formulasi",type:"text",value:w.formulasi,onChange:U=>k(ae=>({...ae,formulasi:U.target.value})),placeholder:"Masukkan formulasi (contoh: NPK Mini 15-15-15)",required:!0}),i.jsx(Ae,{label:"Tonase (Ton)",type:"text",inputMode:"decimal",value:N,onChange:U=>{let ae=U.target.value;ae=ae.replace(/[^0-9.,]/g,"");const O=ae.replace(",",".");(O===""||/^\d*\.?\d{0,2}$/.test(O))&&S(ae)},placeholder:"0",required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{u(!1),k(Hd),S(""),b(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:o,children:x?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:d,onClose:()=>{f(!1),v(null)},onConfirm:K,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),i.jsx(Nn,{isOpen:A,onClose:()=>{R(!1),G(null)},onSubmit:B,action:q,itemName:"data produksi NPK Mini",loading:o}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),i.jsx(Zu,{isOpen:g,onClose:()=>m(!1),title:"Produksi NPK Mini",plant:"NPK Plant 2",data:a,columns:[{key:"tanggal",header:"Tanggal",render:U=>gt(U),width:"100px"},{key:"formulasi",header:"Formulasi",width:"150px"},{key:"tonase",header:"Tonase (Ton)",render:U=>ce(ve(U)),align:"right",width:"100px"}],signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:U=>ce(U.reduce((ae,O)=>ae+ve(O.tonase),0))+" Ton"}]}),i.jsx(Fr,{isOpen:re,onClose:()=>{M(!1),ee("")},sheetName:"produksi_npk_mini",recordId:Y,title:"Log Aktivitas Produksi NPK Mini"})]})},a1=new Date().getFullYear(),iTe=[...Array.from({length:a1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(a1+1),label:String(a1+1)}],Wd={tanggal:yr(),item:"",deskripsi:"",jamOff:"",jamStart:"",downtime:0},yO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Wd),[k,N]=j.useState(String(new Date().getFullYear())),[S,T]=j.useState(!1),[P,_]=j.useState("edit"),[E,A]=j.useState(null),[R,q]=j.useState(!1),[Z,V]=j.useState(!1),[G,re]=j.useState(""),M=C=>{re(C),V(!0)},Y=(t==null?void 0:t.role)||"",ee=ln(Y),D=j.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);Br(D,u);const J=jn(Y),z=Sn(Y),L=Jr(Y);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:B,SHEETS:K,getSheetNameByPlant:je}=await st(async()=>{const{readData:ae,SHEETS:O,getSheetNameByPlant:W}=await Promise.resolve().then(()=>ot);return{readData:ae,SHEETS:O,getSheetNameByPlant:W}},void 0),H=je(K.DOWNTIME,e),U=await B(H);if(U.success&&U.data){const ae=U.data.map(O=>({...O,_plant:e})).sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(ae)}else o([])}catch(B){console.error("Error fetching data:",B),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(v.jamOff&&v.jamStart){const C=k5(v.jamOff,v.jamStart);w(B=>({...B,downtime:C}))}},[v.jamOff,v.jamStart]);const te=async C=>{C.preventDefault(),c(!0);try{if(m){const B={...v,id:m,_plant:e},K=await n("downtime",B);if(K.success)o(je=>je.map(H=>H.id===m?{...v,id:m,_plant:e}:H));else throw new Error(K.error||"Gagal mengupdate data")}else{const B={...v,_plant:e},K=await r("downtime",B);if(K.success&&K.data){const je={...K.data,_plant:e};o(H=>[je,...H])}else throw new Error(K.error||"Gagal menyimpan data")}d(!1),w(Wd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(B){console.error("Error saving data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ye=C=>{if(J){A(C),_("edit"),T(!0);return}w(C),x(C.id||null),d(!0)},Te=C=>{if(z){const B=s.find(K=>K.id===C);B&&(A(B),_("delete"),T(!0));return}y(C),h(!0)},de=async C=>{if(!(!E||!t)){c(!0);try{const B="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",K={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:P,targetSheet:"DOWNTIME",targetId:E.id,targetData:JSON.stringify(E),reason:C,status:"pending",requestedAt:new Date().toISOString()}};await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),T(!1),A(null)}catch(B){console.error("Error submitting approval:",B),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},fe=async()=>{if(b){c(!0);try{const C=await a("downtime",{id:b,_plant:e});if(C.success)o(B=>B.filter(K=>K.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(C.error||"Gagal menghapus data")}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},be=()=>{w(Wd),x(null),d(!0)},he=s.filter(C=>new Date(C.tanggal).getFullYear()===parseInt(k)),_e=he.reduce((C,B)=>C+ve(B.downtime),0),ue=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>gt(C)},{key:"item",header:"Equipment"},{key:"deskripsi",header:"Deskripsi"},{key:"jamOff",header:"Jam Off",render:C=>sa(C)},{key:"jamStart",header:"Jam Start",render:C=>sa(C)},{key:"downtime",header:"Downtime (Jam)",render:C=>i.jsxs("span",{className:"font-semibold text-amber-600",children:[ce(ve(C))," Jam"]})},{key:"_plant",header:"Plant",render:C=>i.jsx(Ze,{variant:C==="NPK1"?"primary":"success",children:C})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Downtime"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data downtime equipment untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>q(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ee&&i.jsxs(ge,{onClick:be,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Downtime"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[ce(_e)," Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Kejadian"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:he.length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Rata-rata Downtime"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:[ce(he.length>0?_e/he.length:0)," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Equipment Terdampak"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(he.map(C=>C.item)).size})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Downtime - Tahun ",k]}),i.jsx(at,{value:k,onChange:C=>N(C.target.value),options:iTe,className:"w-32"})]})}),i.jsx(Lr,{data:he,columns:ue,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, deskripsi, plant...",searchKeys:["tanggal","item","deskripsi","jamOff","jamStart","downtime","_plant"],actions:L?C=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),M(C.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):C=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),M(C.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),ye(C)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),Te(C.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Wd),x(null)},title:m?"Edit Data Downtime":"Tambah Data Downtime",size:"md",children:i.jsxs("form",{onSubmit:te,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:C=>w(B=>({...B,tanggal:C.target.value})),required:!0}),i.jsx(Ae,{label:"Equipment",type:"text",value:v.item,onChange:C=>w(B=>({...B,item:C.target.value})),placeholder:"Nama equipment",required:!0}),i.jsx(Ae,{label:"Deskripsi",type:"text",value:v.deskripsi,onChange:C=>w(B=>({...B,deskripsi:C.target.value})),placeholder:"Deskripsi kejadian downtime",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Jam Off",type:"time",value:v.jamOff,onChange:C=>w(B=>({...B,jamOff:C.target.value})),required:!0}),i.jsx(Ae,{label:"Jam Start",type:"time",value:v.jamStart,onChange:C=>w(B=>({...B,jamStart:C.target.value})),required:!0})]}),i.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[i.jsx("span",{className:"font-medium",children:"Downtime (Auto):"})," ",ce(v.downtime||0)," Jam"]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Wd),x(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:fe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:S,onClose:()=>{T(!1),A(null)},onSubmit:de,action:P,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:R,onClose:()=>q(!1),title:`Downtime ${e}`,data:s,columns:[{key:"tanggal",header:"Tanggal",render:C=>gt(C),align:"center"},{key:"item",header:"Equipment",align:"left"},{key:"deskripsi",header:"Deskripsi",align:"left"},{key:"jamOff",header:"Jam Off",render:C=>sa(C),align:"center"},{key:"jamStart",header:"Jam Start",render:C=>sa(C),align:"center"},{key:"downtime",header:"Downtime (Jam)",render:C=>ce(ve(C)),align:"right"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Downtime",getValue:C=>ce(C.reduce((B,K)=>B+ve(K.downtime),0))+" Jam"}],plant:e,compactMode:!0}),i.jsx(Fr,{isOpen:Z,onClose:()=>{V(!1),re("")},sheetName:e==="NPK1"?"downtime_NPK1":"downtime",recordId:G,title:"Log Aktivitas Downtime"})]})},i1=new Date().getFullYear(),sTe=[...Array.from({length:i1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(i1+1),label:String(i1+1)}],Gd={tanggal:yr(),forklift:"",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},bO=(e,t)=>{let r=e.keterangan;return!r&&e.jamOff&&e.jamStart&&(r=uh(e.jamOff,e.jamStart)<=2?"Operasi":"Grounded"),{...e,_plant:t,keterangan:r}},wO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(Gd),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[E,A]=j.useState("edit"),[R,q]=j.useState(null),[Z,V]=j.useState(!1),[G,re]=j.useState(""),M=C=>{re(C),V(!0)},Y=(t==null?void 0:t.role)||"",ee=ln(Y),D=j.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);Br(D,u);const J=jn(Y),z=Sn(Y),L=Jr(Y),te=e==="NPK1"?[{value:"F15",label:"F15"},{value:"F16",label:"F16"},{value:"F17",label:"F17"},{value:"F18",label:"F18"},{value:"ALL",label:"Semua Forklift"}]:[{value:"F19",label:"F19"},{value:"F20",label:"F20"},{value:"F21",label:"F21"},{value:"F22",label:"F22"},{value:"F23",label:"F23"},{value:"ALL",label:"Semua Forklift"}];j.useEffect(()=>{(async()=>{c(!0);try{const{readData:B,SHEETS:K,getSheetNameByPlant:je}=await st(async()=>{const{readData:ae,SHEETS:O,getSheetNameByPlant:W}=await Promise.resolve().then(()=>ot);return{readData:ae,SHEETS:O,getSheetNameByPlant:W}},void 0),H=je(K.TIMESHEET_FORKLIFT,e),U=await B(H);if(U.success&&U.data){const ae=U.data.map(O=>bO(O,e)).sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(ae)}else o([])}catch(B){console.error("Error fetching data:",B),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(k.jamOff&&k.jamStart){const C=uh(k.jamOff,k.jamStart),B=Math.max(0,20-C);N(K=>({...K,jamGrounded:C,jamOperasi:B,keterangan:C<=2?"Operasi":"Grounded"}))}},[k.jamOff,k.jamStart]);const ye=async C=>{C.preventDefault(),c(!0);try{const{readData:B,SHEETS:K,getSheetNameByPlant:je}=await st(async()=>{const{readData:U,SHEETS:ae,getSheetNameByPlant:O}=await Promise.resolve().then(()=>ot);return{readData:U,SHEETS:ae,getSheetNameByPlant:O}},void 0),H=je(K.TIMESHEET_FORKLIFT,e);if(k.forklift==="ALL"&&!b){const U=e==="NPK1"?["F15","F16","F17","F18"]:["F19","F20","F21","F22","F23"];for(const O of U){const W={...k,forklift:O,_plant:e};await r("timesheet_forklift",W)}const ae=await B(H);if(ae.success&&ae.data){const O=ae.data.map(W=>bO(W,e)).sort((W,ne)=>new Date(ne.tanggal).getTime()-new Date(W.tanggal).getTime());o(O)}}else if(b){const U={...k,id:b,_plant:e},ae=await n("timesheet_forklift",U);if(ae.success)o(O=>O.map(W=>W.id===b?{...k,id:b,_plant:e}:W));else throw new Error(ae.error||"Gagal mengupdate data")}else{const U={...k,_plant:e},ae=await r("timesheet_forklift",U);if(ae.success&&ae.data){const O={...ae.data,_plant:e};o(W=>[O,...W])}else throw new Error(ae.error||"Gagal menyimpan data")}d(!1),N(Gd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(B){console.error("Error saving data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Te=C=>{if(J){q(C),A("edit"),_(!0);return}N(C),y(C.id||null),d(!0)},de=C=>{if(z){const B=s.find(K=>K.id===C);B&&(q(B),A("delete"),_(!0));return}w(C),h(!0)},fe=async C=>{if(!(!R||!t)){c(!0);try{const B="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",K={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:E,targetSheet:"TIMESHEET_FORKLIFT",targetId:R.id,targetData:JSON.stringify(R),reason:C,status:"pending",requestedAt:new Date().toISOString()}};await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),_(!1),q(null)}catch(B){console.error("Error submitting approval:",B),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},be=async()=>{if(v){c(!0);try{const C=await a("timesheet_forklift",{id:v,_plant:e});if(C.success)o(B=>B.filter(K=>K.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(C.error||"Gagal menghapus data")}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},he=()=>{N(Gd),y(null),d(!0)},_e=s.filter(C=>new Date(C.tanggal).getFullYear()===parseInt(S)),ue=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>gt(C)},{key:"forklift",header:"Forklift",render:C=>i.jsx(Ze,{variant:"primary",children:C})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:C=>sa(C)},{key:"jamStart",header:"Jam Start",render:C=>sa(C)},{key:"jamGrounded",header:"Jam Grounded",render:C=>i.jsx("span",{className:"font-semibold text-amber-600",children:ce(ve(C))})},{key:"jamOperasi",header:"Jam Operasi",render:C=>i.jsx("span",{className:"font-semibold text-secondary-600",children:ce(ve(C))})},{key:"keterangan",header:"Status",render:C=>i.jsx(Ze,{variant:C==="Operasi"?"success":"warning",children:C})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Forklift"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet forklift harian untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ee&&i.jsxs(ge,{onClick:he,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Grounded"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[ce(_e.reduce((C,B)=>C+ve(B.jamGrounded),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Operasi"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary-600",children:[ce(_e.reduce((C,B)=>C+ve(B.jamOperasi),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Forklift Aktif"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(_e.map(C=>C.forklift)).size})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:_e.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx(_t,{children:"Data Timesheet Forklift"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsx(at,{value:S,onChange:C=>T(C.target.value),options:sTe,className:"w-full sm:w-28"})})]})}),i.jsx(Lr,{data:_e,columns:ue,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, forklift, deskripsi, status...",searchKeys:["tanggal","forklift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi","keterangan"],actions:L?C=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),M(C.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):C=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),M(C.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),Te(C)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),de(C.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),N(Gd),y(null)},title:b?"Edit Timesheet Forklift":"Tambah Timesheet Forklift",size:"md",children:i.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:k.tanggal,onChange:C=>N(B=>({...B,tanggal:C.target.value})),required:!0}),i.jsx(at,{label:"Forklift",value:k.forklift,onChange:C=>N(B=>({...B,forklift:C.target.value})),options:b?te.filter(C=>C.value!=="ALL"):te,placeholder:"Pilih forklift",required:!0}),i.jsx(Ae,{label:"Deskripsi Temuan",type:"text",value:k.deskripsiTemuan,onChange:C=>N(B=>({...B,deskripsiTemuan:C.target.value})),placeholder:"Deskripsi temuan/kejadian"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Jam Off",type:"time",value:k.jamOff,onChange:C=>N(B=>({...B,jamOff:C.target.value})),required:!0}),i.jsx(Ae,{label:"Jam Start",type:"time",value:k.jamStart,onChange:C=>N(B=>({...B,jamStart:C.target.value})),required:!0})]}),i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),i.jsxs("span",{className:"font-semibold text-amber-600",children:[ce(k.jamGrounded||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),i.jsxs("span",{className:"font-semibold text-secondary-600",children:[ce(k.jamOperasi||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),i.jsx(Ze,{variant:k.keterangan==="Operasi"?"success":"warning",children:k.keterangan||"-"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Gd),y(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:be,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:P,onClose:()=>{_(!1),q(null)},onSubmit:fe,action:E,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:m,onClose:()=>x(!1),title:"Timesheet Forklift",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:s,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:C=>gt(C),width:"65px"},{key:"forklift",header:"Forklift",width:"45px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Off",render:C=>sa(C),width:"40px"},{key:"jamStart",header:"Start",render:C=>sa(C),width:"40px"},{key:"jamGrounded",header:"Grounded",render:C=>ce(ve(C)),align:"right",width:"50px"},{key:"jamOperasi",header:"Operasi",render:C=>ce(ve(C)),align:"right",width:"45px"},{key:"keterangan",header:"Status",width:"55px"}],filters:{forklift:{label:"Forklift",options:te.filter(C=>C.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Jam Grounded:",getValue:C=>ce(C.reduce((B,K)=>B+ve(K.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:C=>ce(C.reduce((B,K)=>B+ve(K.jamOperasi),0))+" Jam"}]}),i.jsx(Fr,{isOpen:Z,onClose:()=>{V(!1),re("")},sheetName:e==="NPK1"?"timesheet_forklift_NPK1":"timesheet_forklift",recordId:G,title:"Log Aktivitas Timesheet Forklift"})]})},s1=new Date().getFullYear(),oTe=[...Array.from({length:s1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(s1+1),label:String(s1+1)}],qd={tanggal:yr(),shift:"Malam",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},o1=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"},{value:"ALL",label:"Semua Shift"}],xk=e=>e==="Malam"?8:7,kO=(e,t)=>{let r=e.keterangan;if(!r&&e.jamOff&&e.jamStart){const n=uh(e.jamOff,e.jamStart),a=xk(e.shift||"Malam");r=Math.max(0,a-n)<a?"Grounded":"Operasi"}return{...e,_plant:t,keterangan:r}},jO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(qd),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[E,A]=j.useState("edit"),[R,q]=j.useState(null),[Z,V]=j.useState(!1),[G,re]=j.useState(""),M=ue=>{re(ue),V(!0)},Y=(t==null?void 0:t.role)||"",ee=ln(Y),D=j.useCallback(()=>{if(u&&!l){const ue=document.querySelector("form");ue&&ue.requestSubmit()}},[u,l]);Br(D,u);const J=jn(Y),z=Sn(Y),L=Jr(Y);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:C,SHEETS:B,getSheetNameByPlant:K}=await st(async()=>{const{readData:U,SHEETS:ae,getSheetNameByPlant:O}=await Promise.resolve().then(()=>ot);return{readData:U,SHEETS:ae,getSheetNameByPlant:O}},void 0),je=K(B.TIMESHEET_LOADER,e),H=await C(je);if(H.success&&H.data){const U=H.data.map(ae=>kO(ae,e)).sort((ae,O)=>new Date(O.tanggal).getTime()-new Date(ae.tanggal).getTime());o(U)}else o([])}catch(C){console.error("Error fetching data:",C),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(k.jamOff&&k.jamStart){const ue=uh(k.jamOff,k.jamStart),C=xk(k.shift),B=Math.max(0,C-ue),K=B<C?"Grounded":"Operasi";N(je=>({...je,jamGrounded:ue,jamOperasi:B,keterangan:K}))}},[k.jamOff,k.jamStart,k.shift]);const te=async ue=>{ue.preventDefault(),c(!0);try{const{readData:C,SHEETS:B,getSheetNameByPlant:K}=await st(async()=>{const{readData:H,SHEETS:U,getSheetNameByPlant:ae}=await Promise.resolve().then(()=>ot);return{readData:H,SHEETS:U,getSheetNameByPlant:ae}},void 0),je=K(B.TIMESHEET_LOADER,e);if(k.shift==="ALL"&&!b){const H=["Malam","Pagi","Sore"];for(const ae of H){const O=xk(ae),W=uh(k.jamOff,k.jamStart),ne=Math.max(0,O-W),le=ne<O?"Grounded":"Operasi",Me={...k,shift:ae,jamGrounded:W,jamOperasi:ne,keterangan:le,_plant:e};await r("timesheet_loader",Me)}const U=await C(je);if(U.success&&U.data){const ae=U.data.map(O=>kO(O,e)).sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(ae)}}else if(b){const H={...k,id:b,_plant:e},U=await n("timesheet_loader",H);if(U.success)o(ae=>ae.map(O=>O.id===b?{...k,id:b,_plant:e}:O));else throw new Error(U.error||"Gagal mengupdate data")}else{const H={...k,_plant:e},U=await r("timesheet_loader",H);if(U.success&&U.data){const ae={...U.data,_plant:e};o(O=>[ae,...O])}else throw new Error(U.error||"Gagal menyimpan data")}d(!1),N(qd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(C){console.error("Error saving data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ye=ue=>{if(J){q(ue),A("edit"),_(!0);return}N(ue),y(ue.id||null),d(!0)},Te=ue=>{if(z){const C=s.find(B=>B.id===ue);C&&(q(C),A("delete"),_(!0));return}w(ue),h(!0)},de=async ue=>{if(!(!R||!t)){c(!0);try{const C="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",B={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:E,targetSheet:"TIMESHEET_LOADER",targetId:R.id,targetData:JSON.stringify(R),reason:ue,status:"pending",requestedAt:new Date().toISOString()}};await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),_(!1),q(null)}catch(C){console.error("Error submitting approval:",C),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},fe=async()=>{if(v){c(!0);try{const ue=await a("timesheet_loader",{id:v,_plant:e});if(ue.success)o(C=>C.filter(B=>B.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(ue.error||"Gagal menghapus data")}catch(ue){console.error("Error deleting data:",ue),alert(ue instanceof Error?ue.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},be=()=>{N(qd),y(null),d(!0)},he=s.filter(ue=>new Date(ue.tanggal).getFullYear()===parseInt(S)),_e=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ue=>gt(ue)},{key:"shift",header:"Shift",render:ue=>i.jsx(Ze,{variant:ue==="Malam"?"primary":ue==="Pagi"?"success":"warning",children:ue})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:ue=>sa(ue)},{key:"jamStart",header:"Jam Start",render:ue=>sa(ue)},{key:"jamGrounded",header:"Jam Grounded",render:ue=>i.jsx("span",{className:"font-semibold text-amber-600",children:ce(ve(ue))})},{key:"jamOperasi",header:"Jam Operasi",render:ue=>i.jsx("span",{className:"font-semibold text-secondary-600",children:ce(ve(ue))})},{key:"keterangan",header:"Status",render:ue=>i.jsx(Ze,{variant:ue==="Operasi"?"success":"warning",children:ue})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Loader"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet loader harian untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ee&&i.jsxs(ge,{onClick:be,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Grounded"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[ce(he.reduce((ue,C)=>ue+ve(C.jamGrounded),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Operasi"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary-600",children:[ce(he.reduce((ue,C)=>ue+ve(C.jamOperasi),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Shift"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:he.length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:he.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx(_t,{children:"Data Timesheet Loader"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsx(at,{value:S,onChange:ue=>T(ue.target.value),options:oTe,className:"w-full sm:w-28"})})]})}),i.jsx(Lr,{data:he,columns:_e,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, shift, deskripsi, jam...",searchKeys:["tanggal","shift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi"],actions:L?ue=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),M(ue.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):ue=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),M(ue.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),ye(ue)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),Te(ue.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),N(qd),y(null)},title:b?"Edit Timesheet Loader":"Tambah Timesheet Loader",size:"md",children:i.jsxs("form",{onSubmit:te,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:k.tanggal,onChange:ue=>N(C=>({...C,tanggal:ue.target.value})),required:!0}),i.jsx(at,{label:"Shift",value:k.shift,onChange:ue=>N(C=>({...C,shift:ue.target.value})),options:b?o1.filter(ue=>ue.value!=="ALL"):o1,required:!0}),i.jsx(Ae,{label:"Deskripsi Temuan",type:"text",value:k.deskripsiTemuan,onChange:ue=>N(C=>({...C,deskripsiTemuan:ue.target.value})),placeholder:"Deskripsi temuan/kejadian"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Jam Off",type:"time",value:k.jamOff,onChange:ue=>N(C=>({...C,jamOff:ue.target.value})),required:!0}),i.jsx(Ae,{label:"Jam Start",type:"time",value:k.jamStart,onChange:ue=>N(C=>({...C,jamStart:ue.target.value})),required:!0})]}),i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),i.jsxs("span",{className:"font-semibold text-amber-600",children:[ce(k.jamGrounded||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),i.jsxs("span",{className:"font-semibold text-secondary-600",children:[ce(k.jamOperasi||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),i.jsx(Ze,{variant:k.keterangan==="Operasi"?"success":"warning",children:k.keterangan||"-"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(qd),y(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:fe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:P,onClose:()=>{_(!1),q(null)},onSubmit:de,action:E,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:m,onClose:()=>x(!1),title:"Timesheet Loader",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:s,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:ue=>gt(ue),width:"75px"},{key:"shift",header:"Shift",width:"55px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Jam Off",render:ue=>sa(ue),width:"55px"},{key:"jamStart",header:"Jam Start",render:ue=>sa(ue),width:"60px"},{key:"jamGrounded",header:"Grounded",render:ue=>ce(ve(ue)),align:"right",width:"60px"},{key:"jamOperasi",header:"Operasi",render:ue=>ce(ve(ue)),align:"right",width:"55px"},{key:"keterangan",header:"Status",width:"65px"}],filters:{shift:{label:"Shift",options:o1.filter(ue=>ue.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"menyetujui",label:"Menyetujui"},{role:"operator",label:"Operator Loader"}],summaryRows:[{label:"Total Jam Grounded:",getValue:ue=>ce(ue.reduce((C,B)=>C+ve(B.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:ue=>ce(ue.reduce((C,B)=>C+ve(B.jamOperasi),0))+" Jam"}]}),i.jsx(Fr,{isOpen:Z,onClose:()=>{V(!1),re("")},sheetName:e==="NPK1"?"timesheet_loader_NPK1":"timesheet_loader",recordId:G,title:"Log Aktivitas Timesheet Loader"})]})},l1={sectionHead:"",operatorPanel:""},On={malam:"",pagi:"",sore:""},Tt={awal:"",akhir:""},c1={tanggal:yr(),jenisOperasi:"NORMAL OPERASI",shiftMalam:{...l1},shiftPagi:{...l1},shiftSore:{...l1},steamMalam:{...Tt},steamPagi:{...Tt},steamSore:{...Tt},gasMalam:{...Tt},gasPagi:{...Tt},gasSore:{...Tt},kursDollar:"16000",dryerTempProdukOut:{...On},produkN:{...On},produkP:{...On},produkK:{...On},produkMoisture:{...On},produkKekerasan:{...On},produkTimbangan:{...On},produkTonase:{...On}},u1=new Date().getFullYear(),lTe=[...Array.from({length:u1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(u1+1),label:String(u1+1)}],QF=["shiftMalam","shiftPagi","shiftSore","steamMalam","steamPagi","steamSore","gasMalam","gasPagi","gasSore","dryerTempProdukOut","produkN","produkP","produkK","produkMoisture","produkKekerasan","produkTimbangan","produkTonase"],SO=e=>{const t={...e};return QF.forEach(r=>{t[r]&&typeof t[r]=="object"&&(t[r]=JSON.stringify(t[r]))}),t},cTe=e=>{const t={...e};return QF.forEach(r=>{if(t[r]&&typeof t[r]=="string")try{t[r]=JSON.parse(t[r])}catch{const n=t[r];if(n.startsWith("{")&&n.includes("=")){const a={};n.slice(1,-1).split(", ").forEach(l=>{const[c,u]=l.split("=");c&&u!==void 0&&(a[c.trim()]=u.trim())}),t[r]=a}}}),t},Wt={folwSteam:{label:"0.5 - 2.5"},flowGas:{label:"200 - 300"},tempProdukOut:{label:"55 - 70"},produkN:{label:"13.8 - 16.2"},produkP:{label:"9.2 - 10.2"},produkK:{label:"11.04 - 12.96"},moisture:{label:"Maks. 3"},kekerasan:{label:"Min. 1"},timbangan:{label:"50.00 - 50.3"},tonase:{label:"Min 110 Ton/Shift"}},Kn=e=>{const t=ve(e.awal||"0"),n=ve(e.akhir||"0")-t,a=n/8/1e3;return{selisih:n,flowPerHour:a,costRp:0}},Vn=e=>{const t=ve(e.awal||"0"),n=ve(e.akhir||"0")-t,a=n/8;return{selisih:n,flowPerHour:a,costRp:0}},zn=e=>e/1e3*266263,Hn=(e,t)=>e*.02831*1043.3294/1e6*5.65*t*8,su=(e,t,r=2)=>(Math.random()*(t-e)+e).toFixed(r),NO=()=>({malam:su(55,70,1),pagi:su(55,70,1),sore:su(55,70,1)}),TO=()=>({malam:su(50,50.3,2),pagi:su(50,50.3,2),sore:su(50,50.3,2)}),Zs=({label:e,target:t,value:r,onChange:n,indikator:a,satuan:s})=>i.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:e}),i.jsxs("p",{className:"text-xs text-dark-400",children:[a," | ",s]})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:t})}),i.jsx("div",{children:i.jsx(Ae,{type:"text",placeholder:"Malam",value:r.malam,onChange:o=>n({...r,malam:o.target.value}),className:"text-sm"})}),i.jsx("div",{children:i.jsx(Ae,{type:"text",placeholder:"Pagi",value:r.pagi,onChange:o=>n({...r,pagi:o.target.value}),className:"text-sm"})}),i.jsx("div",{children:i.jsx(Ae,{type:"text",placeholder:"Sore",value:r.sore,onChange:o=>n({...r,sore:o.target.value}),className:"text-sm"})}),i.jsx("div",{})]}),PO=({plant:e})=>{var lt,jt,br,Jt,dt,Ct,Bn,Ur,nt,ji,oc,lc,Xo,E0,A0,O0,F,ie,X,Q,se,oe;const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(null),[S,T]=j.useState(c1),[P,_]=j.useState(""),[E,A]=j.useState(""),[R,q]=j.useState(String(new Date().getFullYear())),[Z,V]=j.useState(!1),[G,re]=j.useState(null),[M,Y]=j.useState(!1),[ee,D]=j.useState(""),J=I=>{D(I),Y(!0)},[z,L]=j.useState(!1),[te,ye]=j.useState(""),[Te,de]=j.useState(!1),[fe,be]=j.useState("edit"),[he,_e]=j.useState(null),[ue,C]=j.useState({steamMalam:{selisih:0,flowPerHour:0,costRp:0},steamPagi:{selisih:0,flowPerHour:0,costRp:0},steamSore:{selisih:0,flowPerHour:0,costRp:0},gasMalam:{selisih:0,flowPerHour:0,costRp:0},gasPagi:{selisih:0,flowPerHour:0,costRp:0},gasSore:{selisih:0,flowPerHour:0,costRp:0},totalSteamRp:0,totalGasRp:0}),[B,K]=j.useState(!1),[je,H]=j.useState(""),U=(t==null?void 0:t.role)||"",ae=ln(U),O=jn(U),W=Sn(U),ne=Jr(U),le=j.useCallback(async()=>{K(!0),H("");try{const{getExchangeRate:I}=await st(async()=>{const{getExchangeRate:me}=await Promise.resolve().then(()=>ot);return{getExchangeRate:me}},void 0),we=await I();we.success&&we.data?(T(me=>({...me,kursDollar:we.data.rate.toString()})),H(` Kurs diupdate: ${we.data.formatted}`)):H(" Gagal mengambil kurs, gunakan manual")}catch(I){console.error("Error fetching exchange rate:",I),H(" Gagal mengambil kurs, gunakan manual")}finally{K(!1)}},[]);j.useEffect(()=>{u&&!v&&le()},[u,v,le]);const Me=j.useCallback(()=>{if(u&&!l){const I=document.querySelector("form");I&&I.requestSubmit()}},[u,l]);Br(Me,u);const Ye=[{value:"NORMAL OPERASI",label:"NORMAL OPERASI"},{value:"ABNORMAL",label:"ABNORMAL"},{value:"SHUTDOWN",label:"SHUTDOWN"},{value:"START UP",label:"START UP"}];j.useEffect(()=>{const I=ve(S.kursDollar||"16000"),we=Kn(S.steamMalam||Tt),me=Kn(S.steamPagi||Tt),ke=Kn(S.steamSore||Tt),Ne=Vn(S.gasMalam||Tt),Ce=Vn(S.gasPagi||Tt),Le=Vn(S.gasSore||Tt);we.costRp=zn(we.selisih),me.costRp=zn(me.selisih),ke.costRp=zn(ke.selisih),Ne.costRp=Hn(Ne.selisih,I),Ce.costRp=Hn(Ce.selisih,I),Le.costRp=Hn(Le.selisih,I);const Ke=we.costRp+me.costRp+ke.costRp,Fe=Ne.costRp+Ce.costRp+Le.costRp;C({steamMalam:we,steamPagi:me,steamSore:ke,gasMalam:Ne,gasPagi:Ce,gasSore:Le,totalSteamRp:Ke,totalGasRp:Fe})},[S.steamMalam,S.steamPagi,S.steamSore,S.gasMalam,S.gasPagi,S.gasSore,S.kursDollar]),j.useEffect(()=>{var I;(I=S.steamMalam)!=null&&I.akhir&&T(we=>{var me;return{...we,steamPagi:{...we.steamPagi,awal:((me=we.steamMalam)==null?void 0:me.akhir)||""}}})},[(lt=S.steamMalam)==null?void 0:lt.akhir]),j.useEffect(()=>{var I;(I=S.steamPagi)!=null&&I.akhir&&T(we=>{var me;return{...we,steamSore:{...we.steamSore,awal:((me=we.steamPagi)==null?void 0:me.akhir)||""}}})},[(jt=S.steamPagi)==null?void 0:jt.akhir]),j.useEffect(()=>{var I;(I=S.gasMalam)!=null&&I.akhir&&T(we=>{var me;return{...we,gasPagi:{...we.gasPagi,awal:((me=we.gasMalam)==null?void 0:me.akhir)||""}}})},[(br=S.gasMalam)==null?void 0:br.akhir]),j.useEffect(()=>{var I;(I=S.gasPagi)!=null&&I.akhir&&T(we=>{var me;return{...we,gasSore:{...we.gasSore,awal:((me=we.gasPagi)==null?void 0:me.akhir)||""}}})},[(Jt=S.gasPagi)==null?void 0:Jt.akhir]);const xe=()=>{T(I=>({...I,dryerTempProdukOut:NO(),produkTimbangan:TO()}))};j.useEffect(()=>{(async()=>{c(!0);try{const{readData:we,SHEETS:me,getSheetNameByPlant:ke}=await st(async()=>{const{readData:Le,SHEETS:Ke,getSheetNameByPlant:Fe}=await Promise.resolve().then(()=>ot);return{readData:Le,SHEETS:Ke,getSheetNameByPlant:Fe}},void 0),Ne=ke(me.KOP,e),Ce=await we(Ne);if(Ce.success&&Ce.data){const Le=Ce.data.map(Ke=>({...cTe(Ke),_plant:e})).sort((Ke,Fe)=>new Date(Fe.tanggal).getTime()-new Date(Ke.tanggal).getTime());o(Le)}else o([])}catch(we){console.error("Error fetching KOP data:",we),o([])}finally{c(!1)}})()},[e]);const Pe=async I=>{I.preventDefault(),c(!0);try{if(v){const we=SO({...S,id:v,_plant:e}),me=await n("kop",we);if(me.success)o(ke=>ke.map(Ne=>Ne.id===v?{...S,id:v,_plant:e}:Ne));else throw new Error(me.error||"Gagal mengupdate data")}else{const we=SO({...S,_plant:e}),me=await r("kop",we);if(me.success&&me.data){const ke={...S,_plant:e};me.data.id&&(ke.id=me.data.id),o(Ne=>[ke,...Ne])}else throw new Error(me.error||"Gagal menyimpan data")}d(!1),T(c1),w(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(we){console.error("Error saving KOP data:",we),alert(we instanceof Error?we.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},$e=I=>{re(I),V(!0)},Se=I=>{if(O){_e(I),be("edit"),de(!0);return}T(I),w(I.id||null),d(!0)},Re=I=>{if(W){const we=s.find(me=>me.id===I);we&&(_e(we),be("delete"),de(!0));return}N(I),h(!0)},Qe=async()=>{if(k){c(!0);try{const I=await a("kop",{id:k,_plant:e});if(I.success)o(we=>we.filter(me=>me.id!==k)),h(!1),N(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(I.error||"Gagal menghapus data")}catch(I){console.error("Error deleting KOP data:",I),alert(I instanceof Error?I.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},et=async I=>{if(!(!he||!t)){c(!0);try{const{createData:we,SHEETS:me}=await st(async()=>{const{createData:ke,SHEETS:Ne}=await Promise.resolve().then(()=>ot);return{createData:ke,SHEETS:Ne}},void 0);await we(me.APPROVAL_REQUESTS,{requestedBy:t.nama||t.namaLengkap,requestedByRole:t.role,requestedByPlant:t.plant,actionType:fe,targetSheet:"KOP",targetId:he.id,targetData:JSON.stringify(he),reason:I,status:"pending",requestedAt:new Date().toISOString()}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),de(!1),_e(null)}catch(we){console.error("Error submitting approval:",we),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Je=()=>{T({...c1,tanggal:yr(),dryerTempProdukOut:NO(),produkTimbangan:TO()}),w(null),d(!0)},ut=I=>{y(I),x(!0)},ur=()=>{var bt,St,It,un,dn,fn,Kr,Un,Tr,ti,ri,ni,Es,As,Os,Cs,Ds,Ms,Rs,Is,Ls,Fs,$s,Bs,Us,Ks,Vs,zs,Hs,Ws,Gs,qs,vd;if(!b)return;const I=window.open("","_blank");if(!I)return;const we=ve(b.kursDollar||"16000"),me=Kn(b.steamMalam||Tt),ke=Kn(b.steamPagi||Tt),Ne=Kn(b.steamSore||Tt);me.costRp=zn(me.selisih),ke.costRp=zn(ke.selisih),Ne.costRp=zn(Ne.selisih);const Ce=Vn(b.gasMalam||Tt),Le=Vn(b.gasPagi||Tt),Ke=Vn(b.gasSore||Tt);Ce.costRp=Hn(Ce.selisih,we),Le.costRp=Hn(Le.selisih,we),Ke.costRp=Hn(Ke.selisih,we);const Fe=me.costRp+ke.costRp+Ne.costRp,We=Ce.costRp+Le.costRp+Ke.costRp,it=ve(((bt=b.produkTonase)==null?void 0:bt.malam)||"0")+ve(((St=b.produkTonase)==null?void 0:St.pagi)||"0")+ve(((It=b.produkTonase)==null?void 0:It.sore)||"0");I.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>KOP - ${gt(b.tanggal)}</title>
        <style>
          @page { size: A4 landscape; margin: 10mm; }
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 9pt; color: #000; }
          .container { width: 100%; }
          .header { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .header-left { font-weight: bold; }
          .header-right { text-align: right; }
          .title { font-size: 11pt; font-weight: bold; margin-bottom: 3px; }
          .subtitle { font-size: 9pt; color: #333; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 8px; }
          th, td { border: 1px solid #000; padding: 3px 5px; text-align: center; font-size: 8pt; }
          th { background-color: #f0f0f0; font-weight: bold; }
          .section-header { background-color: #e8e8e8; font-weight: bold; text-align: left !important; }
          .param-name { text-align: left !important; }
          .number { text-align: right !important; }
          .highlight-cyan { background-color: #E0F7FA; }
          .highlight-blue { background-color: #E3F2FD; }
          .highlight-orange { background-color: #FFF3E0; }
          .summary { margin-top: 15px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-left">
              <div class="title">KEY OPERATING PARAMETER (KOP)</div>
              <div class="subtitle">${b.jenisOperasi}</div>
              <div class="subtitle">PABRIK NPK GRANULAR ${e==="NPK1"?"1":"2"}</div>
            </div>
            <div class="header-right">
              <div class="title">${gt(b.tanggal)}</div>
              <table style="width: auto; margin-left: auto;">
                <tr>
                  <th></th>
                  <th>23:00 - 07:00</th>
                  <th>07:00 - 15:00</th>
                  <th>15:00 - 23:00</th>
                </tr>
                <tr>
                  <td class="param-name"><strong>Section Head</strong></td>
                  <td class="highlight-cyan">${((un=b.shiftMalam)==null?void 0:un.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((dn=b.shiftPagi)==null?void 0:dn.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((fn=b.shiftSore)==null?void 0:fn.sectionHead)||""}</td>
                </tr>
                <tr>
                  <td class="param-name"><strong>Operator Panel</strong></td>
                  <td class="highlight-cyan">${((Kr=b.shiftMalam)==null?void 0:Kr.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Un=b.shiftPagi)==null?void 0:Un.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Tr=b.shiftSore)==null?void 0:Tr.operatorPanel)||""}</td>
                </tr>
              </table>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 30px;">NO</th>
                <th style="width: 150px;">PARAMETER</th>
                <th style="width: 80px;">INDIKATOR</th>
                <th style="width: 70px;">SATUAN</th>
                <th style="width: 90px;">TARGET</th>
                <th colspan="3">AKTUAL</th>
              </tr>
              <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>MALAM</th>
                <th>PAGI</th>
                <th>SORE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td class="section-header" colspan="7">Granulator</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">1.1. Flow Steam</td>
                <td>FI</td>
                <td>M3/H</td>
                <td>${Wt.folwSteam.label}</td>
                <td class="highlight-blue"><strong>${me.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${ke.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Ne.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td>2</td>
                <td class="section-header" colspan="7">Dryer</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.1. Flow Gas</td>
                <td>FT-202</td>
                <td>NM3/H</td>
                <td>${Wt.flowGas.label}</td>
                <td class="highlight-orange"><strong>${Ce.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${Le.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${Ke.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.2. Temperatur Produk Out</td>
                <td>Temp R-002</td>
                <td>Deg.C</td>
                <td>${Wt.tempProdukOut.label}</td>
                <td>${((ti=b.dryerTempProdukOut)==null?void 0:ti.malam)||""}</td>
                <td>${((ri=b.dryerTempProdukOut)==null?void 0:ri.pagi)||""}</td>
                <td>${((ni=b.dryerTempProdukOut)==null?void 0:ni.sore)||""}</td>
              </tr>
              <tr>
                <td>3</td>
                <td class="section-header" colspan="7">Produk NPK (15-10-12)</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.1. N</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Wt.produkN.label}</td>
                <td>${((Es=b.produkN)==null?void 0:Es.malam)||""}</td>
                <td>${((As=b.produkN)==null?void 0:As.pagi)||""}</td>
                <td>${((Os=b.produkN)==null?void 0:Os.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.2. P</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Wt.produkP.label}</td>
                <td>${((Cs=b.produkP)==null?void 0:Cs.malam)||""}</td>
                <td>${((Ds=b.produkP)==null?void 0:Ds.pagi)||""}</td>
                <td>${((Ms=b.produkP)==null?void 0:Ms.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.3. K</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Wt.produkK.label}</td>
                <td>${((Rs=b.produkK)==null?void 0:Rs.malam)||""}</td>
                <td>${((Is=b.produkK)==null?void 0:Is.pagi)||""}</td>
                <td>${((Ls=b.produkK)==null?void 0:Ls.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.4. Moisture (H2O)</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Wt.moisture.label}</td>
                <td>${((Fs=b.produkMoisture)==null?void 0:Fs.malam)||""}</td>
                <td>${(($s=b.produkMoisture)==null?void 0:$s.pagi)||""}</td>
                <td>${((Bs=b.produkMoisture)==null?void 0:Bs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.5. Kekerasan</td>
                <td>Laporan LAB</td>
                <td>Kgf</td>
                <td>${Wt.kekerasan.label}</td>
                <td>${((Us=b.produkKekerasan)==null?void 0:Us.malam)||""}</td>
                <td>${((Ks=b.produkKekerasan)==null?void 0:Ks.pagi)||""}</td>
                <td>${((Vs=b.produkKekerasan)==null?void 0:Vs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.6. Timbangan</td>
                <td>Laporan Shift</td>
                <td>Kg / Karung</td>
                <td>${Wt.timbangan.label}</td>
                <td>${((zs=b.produkTimbangan)==null?void 0:zs.malam)||""}</td>
                <td>${((Hs=b.produkTimbangan)==null?void 0:Hs.pagi)||""}</td>
                <td>${((Ws=b.produkTimbangan)==null?void 0:Ws.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.7. Tonase</td>
                <td>Laporan Shift</td>
                <td>Tonase / Shift</td>
                <td>${Wt.tonase.label}</td>
                <td><strong>${((Gs=b.produkTonase)==null?void 0:Gs.malam)||""} TON</strong></td>
                <td><strong>${((qs=b.produkTonase)==null?void 0:qs.pagi)||""} TON</strong></td>
                <td><strong>${((vd=b.produkTonase)==null?void 0:vd.sore)||""} TON</strong></td>
              </tr>
            </tbody>
          </table>

          <!-- Konsumsi Energi Detail -->
          <table style="margin-top: 15px; width: 48%; display: inline-table;">
            <tr>
              <th colspan="4" style="background-color: #E3F2FD;">KONSUMSI STEAM (M3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (M3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${ce(me.selisih)}</td>
              <td>${me.flowPerHour.toFixed(2)}</td>
              <td class="number">${ce(me.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${ce(ke.selisih)}</td>
              <td>${ke.flowPerHour.toFixed(2)}</td>
              <td class="number">${ce(ke.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${ce(Ne.selisih)}</td>
              <td>${Ne.flowPerHour.toFixed(2)}</td>
              <td class="number">${ce(Ne.costRp)}</td>
            </tr>
            <tr style="background-color: #E3F2FD;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${ce(Fe)}</strong></td>
            </tr>
          </table>

          <table style="margin-top: 15px; width: 48%; display: inline-table; margin-left: 2%;">
            <tr>
              <th colspan="4" style="background-color: #FFF3E0;">KONSUMSI GAS (Nm3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (Nm3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${ce(Ce.selisih)}</td>
              <td>${Ce.flowPerHour.toFixed(2)}</td>
              <td class="number">${ce(Ce.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${ce(Le.selisih)}</td>
              <td>${Le.flowPerHour.toFixed(2)}</td>
              <td class="number">${ce(Le.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${ce(Ke.selisih)}</td>
              <td>${Ke.flowPerHour.toFixed(2)}</td>
              <td class="number">${ce(Ke.costRp)}</td>
            </tr>
            <tr style="background-color: #FFF3E0;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${ce(We)}</strong></td>
            </tr>
          </table>

          <div class="summary">
            <table style="width: auto;">
              <tr>
                <td style="border: none;"><strong>* Total Steam Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${ce(Fe)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Gas Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${ce(We)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Tonase</strong></td>
                <td style="border: none;"></td>
                <td style="border: none; text-align: right;"><strong>${ce(it)} TON</strong></td>
              </tr>
              <tr>
                <td style="border: none; font-size: 7pt; color: #666;">Kurs Dollar: Rp ${ce(we)}</td>
                <td style="border: none;"></td>
                <td style="border: none;"></td>
              </tr>
            </table>
          </div>
        </div>
      </body>
      </html>
    `),I.document.close(),I.focus(),setTimeout(()=>{I.print(),I.close()},250),x(!1)},Ee=()=>{var St,It,un,dn,fn,Kr,Un,Tr,ti,ri,ni,Es,As,Os,Cs,Ds,Ms,Rs,Is,Ls,Fs,$s,Bs,Us,Ks,Vs,zs,Hs,Ws,Gs,qs,vd,NS,TS,PS,_S,ES,AS,OS,CS,DS,MS,RS,IS,LS;if(!te){alert("Pilih tanggal terlebih dahulu");return}const I=s.find(e8=>e8.tanggal===te);if(!I){alert("Data tidak ditemukan untuk tanggal tersebut");return}const we=ve(I.kursDollar||"16000"),me=Kn(I.steamMalam||Tt),ke=Kn(I.steamPagi||Tt),Ne=Kn(I.steamSore||Tt);me.costRp=zn(me.selisih),ke.costRp=zn(ke.selisih),Ne.costRp=zn(Ne.selisih);const Ce=Vn(I.gasMalam||Tt),Le=Vn(I.gasPagi||Tt),Ke=Vn(I.gasSore||Tt);Ce.costRp=Hn(Ce.selisih,we),Le.costRp=Hn(Le.selisih,we),Ke.costRp=Hn(Ke.selisih,we);const Fe=me.costRp+ke.costRp+Ne.costRp,We=Ce.costRp+Le.costRp+Ke.costRp,it=ve(((St=I.produkTonase)==null?void 0:St.malam)||"0")+ve(((It=I.produkTonase)==null?void 0:It.pagi)||"0")+ve(((un=I.produkTonase)==null?void 0:un.sore)||"0"),bt=window.open("","_blank");bt&&(bt.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan KOP - ${gt(I.tanggal)}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 10px; padding: 15px; }
          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }
          .header h1 { font-size: 16px; margin-bottom: 5px; }
          .header h2 { font-size: 12px; font-weight: normal; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 11px; }
          .section { margin-bottom: 15px; }
          .section-title { background: #f0f0f0; padding: 5px 10px; font-weight: bold; font-size: 11px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; font-size: 10px; }
          th, td { border: 1px solid #333; padding: 4px 6px; text-align: center; }
          th { background: #e0e0e0; font-weight: bold; }
          .text-left { text-align: left; }
          .text-right { text-align: right; }
          .highlight { background: #fffde7; }
          .total-row { background: #e3f2fd; font-weight: bold; }
          .cost { color: #2e7d32; }
          .footer { margin-top: 20px; display: flex; justify-content: space-between; }
          .signature { width: 30%; text-align: center; }
          .signature-line { border-top: 1px solid #000; margin-top: 50px; padding-top: 5px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>LAPORAN KEY OPERATING PARAMETER (KOP)</h1>
          <h2>PT PUPUK KUJANG CIKAMPEK - Pabrik NPK Granular ${e==="NPK1"?"1":"2"}</h2>
        </div>

        <div class="info-row">
          <div><strong>Tanggal:</strong> ${gt(I.tanggal)}</div>
          <div><strong>Jenis Operasi:</strong> ${I.jenisOperasi}</div>
          <div><strong>Kurs Dollar:</strong> Rp ${ce(we)}</div>
        </div>

        <!-- Personel Section -->
        <div class="section">
          <div class="section-title">PERSONEL</div>
          <table>
            <thead>
              <tr>
                <th>Shift</th>
                <th>Section Head</th>
                <th>Operator Panel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Malam (23:00 - 07:00)</td>
                <td>${((dn=I.shiftMalam)==null?void 0:dn.sectionHead)||"-"}</td>
                <td>${((fn=I.shiftMalam)==null?void 0:fn.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Pagi (07:00 - 15:00)</td>
                <td>${((Kr=I.shiftPagi)==null?void 0:Kr.sectionHead)||"-"}</td>
                <td>${((Un=I.shiftPagi)==null?void 0:Un.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Sore (15:00 - 23:00)</td>
                <td>${((Tr=I.shiftSore)==null?void 0:Tr.sectionHead)||"-"}</td>
                <td>${((ti=I.shiftSore)==null?void 0:ti.operatorPanel)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Konsumsi Energi Section -->
        <div class="section">
          <div class="section-title">KONSUMSI ENERGI</div>
          <table>
            <thead>
              <tr>
                <th rowspan="2">Parameter</th>
                <th colspan="3">Shift Malam</th>
                <th colspan="3">Shift Pagi</th>
                <th colspan="3">Shift Sore</th>
                <th rowspan="2">Total Biaya (Rp)</th>
              </tr>
              <tr>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left"><strong>Steam (M3)</strong></td>
                <td>${ce(ve(((ri=I.steamMalam)==null?void 0:ri.awal)||"0"))}</td>
                <td>${ce(ve(((ni=I.steamMalam)==null?void 0:ni.akhir)||"0"))}</td>
                <td>${me.flowPerHour.toFixed(2)}</td>
                <td>${ce(ve(((Es=I.steamPagi)==null?void 0:Es.awal)||"0"))}</td>
                <td>${ce(ve(((As=I.steamPagi)==null?void 0:As.akhir)||"0"))}</td>
                <td>${ke.flowPerHour.toFixed(2)}</td>
                <td>${ce(ve(((Os=I.steamSore)==null?void 0:Os.awal)||"0"))}</td>
                <td>${ce(ve(((Cs=I.steamSore)==null?void 0:Cs.akhir)||"0"))}</td>
                <td>${Ne.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${ce(Fe)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Gas (Nm3)</strong></td>
                <td>${ce(ve(((Ds=I.gasMalam)==null?void 0:Ds.awal)||"0"))}</td>
                <td>${ce(ve(((Ms=I.gasMalam)==null?void 0:Ms.akhir)||"0"))}</td>
                <td>${Ce.flowPerHour.toFixed(2)}</td>
                <td>${ce(ve(((Rs=I.gasPagi)==null?void 0:Rs.awal)||"0"))}</td>
                <td>${ce(ve(((Is=I.gasPagi)==null?void 0:Is.akhir)||"0"))}</td>
                <td>${Le.flowPerHour.toFixed(2)}</td>
                <td>${ce(ve(((Ls=I.gasSore)==null?void 0:Ls.awal)||"0"))}</td>
                <td>${ce(ve(((Fs=I.gasSore)==null?void 0:Fs.akhir)||"0"))}</td>
                <td>${Ke.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${ce(We)}</td>
              </tr>
              <tr class="total-row">
                <td colspan="10" class="text-right">Total Biaya Energi:</td>
                <td class="cost">Rp ${ce(Fe+We)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Parameter Operasi Section -->
        <div class="section">
          <div class="section-title">PARAMETER OPERASI</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">Temperatur Produk Out (C)</td>
                <td>55 - 70</td>
                <td>${(($s=I.dryerTempProdukOut)==null?void 0:$s.malam)||"-"}</td>
                <td>${((Bs=I.dryerTempProdukOut)==null?void 0:Bs.pagi)||"-"}</td>
                <td>${((Us=I.dryerTempProdukOut)==null?void 0:Us.sore)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Produk NPK Section -->
        <div class="section">
          <div class="section-title">PRODUK NPK (15-10-12)</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">N (%)</td>
                <td>13.8 - 16.2</td>
                <td>${((Ks=I.produkN)==null?void 0:Ks.malam)||"-"}</td>
                <td>${((Vs=I.produkN)==null?void 0:Vs.pagi)||"-"}</td>
                <td>${((zs=I.produkN)==null?void 0:zs.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">P (%)</td>
                <td>9.2 - 10.2</td>
                <td>${((Hs=I.produkP)==null?void 0:Hs.malam)||"-"}</td>
                <td>${((Ws=I.produkP)==null?void 0:Ws.pagi)||"-"}</td>
                <td>${((Gs=I.produkP)==null?void 0:Gs.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">K (%)</td>
                <td>11.04 - 12.96</td>
                <td>${((qs=I.produkK)==null?void 0:qs.malam)||"-"}</td>
                <td>${((vd=I.produkK)==null?void 0:vd.pagi)||"-"}</td>
                <td>${((NS=I.produkK)==null?void 0:NS.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Moisture (%)</td>
                <td>Maks. 3</td>
                <td>${((TS=I.produkMoisture)==null?void 0:TS.malam)||"-"}</td>
                <td>${((PS=I.produkMoisture)==null?void 0:PS.pagi)||"-"}</td>
                <td>${((_S=I.produkMoisture)==null?void 0:_S.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Kekerasan (Kgf)</td>
                <td>Min. 1</td>
                <td>${((ES=I.produkKekerasan)==null?void 0:ES.malam)||"-"}</td>
                <td>${((AS=I.produkKekerasan)==null?void 0:AS.pagi)||"-"}</td>
                <td>${((OS=I.produkKekerasan)==null?void 0:OS.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Timbangan (Kg/Karung)</td>
                <td>50.00 - 50.3</td>
                <td>${((CS=I.produkTimbangan)==null?void 0:CS.malam)||"-"}</td>
                <td>${((DS=I.produkTimbangan)==null?void 0:DS.pagi)||"-"}</td>
                <td>${((MS=I.produkTimbangan)==null?void 0:MS.sore)||"-"}</td>
              </tr>
              <tr class="highlight">
                <td class="text-left"><strong>Tonase (Ton/Shift)</strong></td>
                <td>Min 110</td>
                <td><strong>${((RS=I.produkTonase)==null?void 0:RS.malam)||"-"}</strong></td>
                <td><strong>${((IS=I.produkTonase)==null?void 0:IS.pagi)||"-"}</strong></td>
                <td><strong>${((LS=I.produkTonase)==null?void 0:LS.sore)||"-"}</strong></td>
              </tr>
              <tr class="total-row">
                <td colspan="2" class="text-right"><strong>Total Tonase:</strong></td>
                <td colspan="3"><strong>${ce(it)} Ton</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary Section -->
        <div class="section">
          <div class="section-title">RINGKASAN</div>
          <table>
            <tbody>
              <tr>
                <td class="text-left" style="width: 40%"><strong>Total Produksi</strong></td>
                <td><strong>${ce(it)} Ton</strong></td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Steam</strong></td>
                <td class="cost">Rp ${ce(Fe)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Gas</strong></td>
                <td class="cost">Rp ${ce(We)}</td>
              </tr>
              <tr class="total-row">
                <td class="text-left"><strong>Total Biaya Energi</strong></td>
                <td class="cost"><strong>Rp ${ce(Fe+We)}</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer Signatures -->
        <div class="footer">
          <div class="signature">
            <div>Dibuat oleh:</div>
            <div class="signature-line">Operator</div>
          </div>
          <div class="signature">
            <div>Diperiksa oleh:</div>
            <div class="signature-line">Section Head</div>
          </div>
          <div class="signature">
            <div>Disetujui oleh:</div>
            <div class="signature-line">Manager</div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #666;">
          Dicetak pada: ${new Date().toLocaleString("id-ID")}
        </div>
      </body>
      </html>
    `),bt.document.close(),bt.focus(),setTimeout(()=>{bt.print(),bt.close()},250),L(!1),ye(""))},Ue=s.filter(I=>{var Le,Ke,Fe,We,it,bt,St,It,un,dn,fn,Kr,Un,Tr,ti,ri,ni;const we=P.toLowerCase(),me=((Le=I.tanggal)==null?void 0:Le.includes(P))||((Ke=I.jenisOperasi)==null?void 0:Ke.toLowerCase().includes(we))||((Fe=I.formulaBiaya)==null?void 0:Fe.toLowerCase().includes(we))||((We=I.kursDollar)==null?void 0:We.toString().includes(P))||((bt=(it=I.steamMalamCalc)==null?void 0:it.selisih)==null?void 0:bt.toString().includes(P))||((It=(St=I.steamPagiCalc)==null?void 0:St.selisih)==null?void 0:It.toString().includes(P))||((dn=(un=I.steamSoreCalc)==null?void 0:un.selisih)==null?void 0:dn.toString().includes(P))||((Kr=(fn=I.gasMalamCalc)==null?void 0:fn.selisih)==null?void 0:Kr.toString().includes(P))||((Tr=(Un=I.gasPagiCalc)==null?void 0:Un.selisih)==null?void 0:Tr.toString().includes(P))||((ri=(ti=I.gasSoreCalc)==null?void 0:ti.selisih)==null?void 0:ri.toString().includes(P)),ke=E?(ni=I.tanggal)==null?void 0:ni.startsWith(E):!0,Ce=new Date(I.tanggal).getFullYear()===parseInt(R);return me&&ke&&Ce});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Key Operating Parameter (KOP)"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Pabrik NPK Granular ",e==="NPK1"?"1":"2"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ge,{variant:"secondary",onClick:()=>L(!0),className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Print Laporan"]}),!ne&&ae&&i.jsxs(ge,{onClick:Je,className:"gap-2",children:[i.jsx(xr,{className:"h-4 w-4"}),"Tambah KOP"]})]})]}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),i.jsx(Ae,{placeholder:"Cari tanggal, jenis operasi, formula, kurs...",value:P,onChange:I=>_(I.target.value),className:"pl-10"})]})}),i.jsx("div",{className:"w-full md:w-32",children:i.jsx(at,{value:R,onChange:I=>q(I.target.value),options:lTe})}),i.jsx("div",{className:"w-full md:w-48",children:i.jsx(Ae,{type:"month",value:E,onChange:I=>A(I.target.value),placeholder:"Filter Bulan"})})]})}),i.jsx(Ie,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-dark-50 dark:bg-dark-700 border-b border-dark-100 dark:border-dark-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Tanggal"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Jenis Operasi"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Total Tonase"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Steam (Rp)"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Gas (Rp)"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-dark-600 uppercase",children:"Aksi"})]})}),i.jsx("tbody",{className:"divide-y divide-dark-100",children:l?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"Memuat data..."]})})}):Ue.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:[i.jsx(Ta,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"Tidak ada data KOP"]})}):Ue.map(I=>{var bt,St,It;const we=ve(((bt=I.produkTonase)==null?void 0:bt.malam)||"0")+ve(((St=I.produkTonase)==null?void 0:St.pagi)||"0")+ve(((It=I.produkTonase)==null?void 0:It.sore)||"0"),me=ve(I.kursDollar||"16000"),ke=Kn(I.steamMalam||Tt),Ne=Kn(I.steamPagi||Tt),Ce=Kn(I.steamSore||Tt),Le=Vn(I.gasMalam||Tt),Ke=Vn(I.gasPagi||Tt),Fe=Vn(I.gasSore||Tt),We=zn(ke.selisih)+zn(Ne.selisih)+zn(Ce.selisih),it=Hn(Le.selisih,me)+Hn(Ke.selisih,me)+Hn(Fe.selisih,me);return i.jsxs("tr",{className:"hover:bg-dark-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"font-medium text-dark-900 dark:text-white",children:gt(I.tanggal)})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Ze,{variant:I.jenisOperasi==="NORMAL OPERASI"?"success":"warning",children:I.jenisOperasi})}),i.jsxs("td",{className:"px-4 py-3 font-semibold text-primary-600",children:[ce(we)," TON"]}),i.jsxs("td",{className:"px-4 py-3 text-blue-700",children:["Rp ",ce(We)]}),i.jsxs("td",{className:"px-4 py-3 text-orange-700",children:["Rp ",ce(it)]}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>$e(I),className:"p-2 text-dark-400 hover:text-dark-600 hover:bg-dark-100 rounded-lg transition-colors",title:"Lihat Detail",children:i.jsx(Ss,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>ut(I),className:"p-2 text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Print",children:i.jsx(Rn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>J(I.id),className:"p-2 text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4"})}),!ne&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Se(I),className:"p-2 text-dark-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit",children:i.jsx(hr,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>Re(I.id),className:"p-2 text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4"})})]})]})})]},I.id)})})]})})}),i.jsx(xt,{isOpen:u,onClose:()=>d(!1),title:v?"Edit KOP":"Tambah KOP Baru",size:"full",children:i.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:S.tanggal,onChange:I=>T({...S,tanggal:I.target.value}),required:!0}),i.jsx(at,{label:"Jenis Operasi",value:S.jenisOperasi,onChange:I=>T({...S,jenisOperasi:I.target.value}),options:Ye})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(vu,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[i.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[i.jsx(Wa,{className:"h-4 w-4"})," Malam (23:00 - 07:00)"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Section Head",value:((dt=S.shiftMalam)==null?void 0:dt.sectionHead)||"",onChange:I=>T({...S,shiftMalam:{...S.shiftMalam,sectionHead:I.target.value}}),placeholder:"Nama Section Head"}),i.jsx(Ae,{label:"Operator Panel",value:((Ct=S.shiftMalam)==null?void 0:Ct.operatorPanel)||"",onChange:I=>T({...S,shiftMalam:{...S.shiftMalam,operatorPanel:I.target.value}}),placeholder:"Nama Operator Panel"})]})]}),i.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:[i.jsxs("h4",{className:"font-medium text-dark-700 dark:text-dark-200 mb-3 flex items-center gap-2",children:[i.jsx(Wa,{className:"h-4 w-4"})," Pagi (07:00 - 15:00)"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Section Head",value:((Bn=S.shiftPagi)==null?void 0:Bn.sectionHead)||"",onChange:I=>T({...S,shiftPagi:{...S.shiftPagi,sectionHead:I.target.value}}),placeholder:"Nama Section Head"}),i.jsx(Ae,{label:"Operator Panel",value:((Ur=S.shiftPagi)==null?void 0:Ur.operatorPanel)||"",onChange:I=>T({...S,shiftPagi:{...S.shiftPagi,operatorPanel:I.target.value}}),placeholder:"Nama Operator Panel"})]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[i.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[i.jsx(Wa,{className:"h-4 w-4"})," Sore (15:00 - 23:00)"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Section Head",value:((nt=S.shiftSore)==null?void 0:nt.sectionHead)||"",onChange:I=>T({...S,shiftSore:{...S.shiftSore,sectionHead:I.target.value}}),placeholder:"Nama Section Head"}),i.jsx(Ae,{label:"Operator Panel",value:((ji=S.shiftSore)==null?void 0:ji.operatorPanel)||"",onChange:I=>T({...S,shiftSore:{...S.shiftSore,operatorPanel:I.target.value}}),placeholder:"Nama Operator Panel"})]})]})]})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Fb,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Steam (M3)"})]}),i.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(mP,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),i.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"Kurs Dollar (Rp)"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{type:"text",value:S.kursDollar,onChange:I=>T({...S,kursDollar:I.target.value}),placeholder:"Contoh: 16000",className:"flex-1"}),i.jsx(ge,{type:"button",variant:"outline",onClick:le,disabled:B,className:"whitespace-nowrap",children:B?i.jsx(vl,{className:"h-4 w-4 animate-spin"}):i.jsx(i.Fragment,{children:i.jsx(vl,{className:"h-4 w-4 mr-1"})})})]}),je&&i.jsx("p",{className:`text-xs mt-1 ${je.startsWith("")?"text-green-600":"text-amber-600"}`,children:je}),i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'* Kurs digunakan untuk perhitungan biaya Steam & Gas. Klik "Auto" untuk ambil kurs real-time.'})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Awal Shift (M3)",type:"text",value:((oc=S.steamMalam)==null?void 0:oc.awal)||"",onChange:I=>T({...S,steamMalam:{...S.steamMalam,awal:I.target.value}})}),i.jsx(Ae,{label:"Akhir Shift (M3)",type:"text",value:((lc=S.steamMalam)==null?void 0:lc.akhir)||"",onChange:I=>T({...S,steamMalam:{...S.steamMalam,akhir:I.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[ce(ue.steamMalam.selisih)," M3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (M3/H):"}),i.jsx("span",{className:"font-semibold text-blue-600",children:ue.steamMalam.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",ce(ue.steamMalam.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Awal Shift (M3)",type:"text",value:((Xo=S.steamPagi)==null?void 0:Xo.awal)||"",onChange:I=>T({...S,steamPagi:{...S.steamPagi,awal:I.target.value}}),placeholder:"Auto dari akhir malam"}),i.jsx(Ae,{label:"Akhir Shift (M3)",type:"text",value:((E0=S.steamPagi)==null?void 0:E0.akhir)||"",onChange:I=>T({...S,steamPagi:{...S.steamPagi,akhir:I.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[ce(ue.steamPagi.selisih)," M3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (M3/H):"}),i.jsx("span",{className:"font-semibold text-blue-600",children:ue.steamPagi.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",ce(ue.steamPagi.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Awal Shift (M3)",type:"text",value:((A0=S.steamSore)==null?void 0:A0.awal)||"",onChange:I=>T({...S,steamSore:{...S.steamSore,awal:I.target.value}}),placeholder:"Auto dari akhir pagi"}),i.jsx(Ae,{label:"Akhir Shift (M3)",type:"text",value:((O0=S.steamSore)==null?void 0:O0.akhir)||"",onChange:I=>T({...S,steamSore:{...S.steamSore,akhir:I.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[ce(ue.steamSore.selisih)," M3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (M3/H):"}),i.jsx("span",{className:"font-semibold text-blue-600",children:ue.steamSore.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",ce(ue.steamSore.costRp)]})]})]})]})]})]}),i.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-xl",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-blue-800",children:"Total Steam Dalam Satu Hari"}),i.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["Rp ",ce(ue.totalSteamRp)]})]})})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(xy,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Gas (Nm3)"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Awal Shift (Nm3)",type:"text",value:((F=S.gasMalam)==null?void 0:F.awal)||"",onChange:I=>T({...S,gasMalam:{...S.gasMalam,awal:I.target.value}})}),i.jsx(Ae,{label:"Akhir Shift (Nm3)",type:"text",value:((ie=S.gasMalam)==null?void 0:ie.akhir)||"",onChange:I=>T({...S,gasMalam:{...S.gasMalam,akhir:I.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[ce(ue.gasMalam.selisih)," Nm3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (Nm3/H):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:ue.gasMalam.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",ce(ue.gasMalam.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Awal Shift (Nm3)",type:"text",value:((X=S.gasPagi)==null?void 0:X.awal)||"",onChange:I=>T({...S,gasPagi:{...S.gasPagi,awal:I.target.value}}),placeholder:"Auto dari akhir malam"}),i.jsx(Ae,{label:"Akhir Shift (Nm3)",type:"text",value:((Q=S.gasPagi)==null?void 0:Q.akhir)||"",onChange:I=>T({...S,gasPagi:{...S.gasPagi,akhir:I.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[ce(ue.gasPagi.selisih)," Nm3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (Nm3/H):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:ue.gasPagi.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",ce(ue.gasPagi.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ae,{label:"Awal Shift (Nm3)",type:"text",value:((se=S.gasSore)==null?void 0:se.awal)||"",onChange:I=>T({...S,gasSore:{...S.gasSore,awal:I.target.value}}),placeholder:"Auto dari akhir pagi"}),i.jsx(Ae,{label:"Akhir Shift (Nm3)",type:"text",value:((oe=S.gasSore)==null?void 0:oe.akhir)||"",onChange:I=>T({...S,gasSore:{...S.gasSore,akhir:I.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[ce(ue.gasSore.selisih)," Nm3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (Nm3/H):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:ue.gasSore.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",ce(ue.gasSore.costRp)]})]})]})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-xl",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-orange-800",children:"Total Gas Dalam Satu Hari"}),i.jsxs("span",{className:"text-xl font-bold text-orange-900",children:["Rp ",ce(ue.totalGasRp)]})]}),i.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"* Rumus: BTU/h = gas  0.02831  1043.3294, MMBTU = BTU/1,000,000, $/h = MMBTU  5.65, Rp = $  kurs  8 jam"})]})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Af,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Parameter Operasi"})]}),i.jsx(ge,{type:"button",variant:"secondary",size:"sm",onClick:xe,children:"Auto-Fill Temp & Timbangan"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 py-2 bg-dark-100 rounded-lg mb-2 px-2",children:[i.jsx("div",{className:"col-span-2 text-xs font-semibold text-dark-600",children:"PARAMETER"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"TARGET"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"MALAM"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"PAGI"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"SORE"}),i.jsx("div",{})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"1. Granulator"}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"1.1. Flow Steam"}),i.jsx("p",{className:"text-xs text-dark-400",children:"FI | M3/H"})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:Wt.folwSteam.label})}),i.jsx("div",{className:"text-center font-semibold text-blue-600",children:ue.steamMalam.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-blue-600",children:ue.steamPagi.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-blue-600",children:ue.steamSore.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 text-secondary-700 dark:text-secondary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"2. Dryer"}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"2.1. Flow Gas"}),i.jsx("p",{className:"text-xs text-dark-400",children:"FT-202 | NM3/H"})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:Wt.flowGas.label})}),i.jsx("div",{className:"text-center font-semibold text-orange-600",children:ue.gasMalam.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-orange-600",children:ue.gasPagi.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-orange-600",children:ue.gasSore.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]}),i.jsx(Zs,{label:"2.2. Temperatur Produk Out",indikator:"Temp R-002",satuan:"Deg.C",target:Wt.tempProdukOut.label,value:S.dryerTempProdukOut||On,onChange:I=>T({...S,dryerTempProdukOut:I})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"3. Produk NPK (15-10-12)"}),i.jsx(Zs,{label:"3.1. N",indikator:"Laporan LAB",satuan:"%",target:Wt.produkN.label,value:S.produkN||On,onChange:I=>T({...S,produkN:I})}),i.jsx(Zs,{label:"3.2. P",indikator:"Laporan LAB",satuan:"%",target:Wt.produkP.label,value:S.produkP||On,onChange:I=>T({...S,produkP:I})}),i.jsx(Zs,{label:"3.3. K",indikator:"Laporan LAB",satuan:"%",target:Wt.produkK.label,value:S.produkK||On,onChange:I=>T({...S,produkK:I})}),i.jsx(Zs,{label:"3.4. Moisture (H2O)",indikator:"Laporan LAB",satuan:"%",target:Wt.moisture.label,value:S.produkMoisture||On,onChange:I=>T({...S,produkMoisture:I})}),i.jsx(Zs,{label:"3.5. Kekerasan",indikator:"Laporan LAB",satuan:"Kgf",target:Wt.kekerasan.label,value:S.produkKekerasan||On,onChange:I=>T({...S,produkKekerasan:I})}),i.jsx(Zs,{label:"3.6. Timbangan",indikator:"Laporan Shift",satuan:"Kg/Karung",target:Wt.timbangan.label,value:S.produkTimbangan||On,onChange:I=>T({...S,produkTimbangan:I})}),i.jsx(Zs,{label:"3.7. Tonase",indikator:"Laporan Shift",satuan:"Ton/Shift",target:Wt.tonase.label,value:S.produkTonase||On,onChange:I=>T({...S,produkTonase:I})})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100 dark:border-dark-700",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),i.jsxs(ge,{type:"submit",disabled:l,className:"gap-2",children:[i.jsx(Vp,{className:"h-4 w-4"}),l?"Menyimpan...":v?"Perbarui":"Simpan"]})]})]})}),i.jsx(xt,{isOpen:m,onClose:()=>x(!1),title:"Preview Print KOP",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-dark-600",children:["Anda akan mencetak KOP untuk tanggal"," ",i.jsx("strong",{children:b&&gt(b.tanggal)})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ge,{variant:"secondary",onClick:()=>x(!1),children:"Batal"}),i.jsxs(ge,{onClick:ur,className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak Sekarang"]})]})]})}),i.jsx(xt,{isOpen:z,onClose:()=>{L(!1),ye("")},title:"Print Laporan KOP",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-dark-600",children:"Pilih tanggal untuk mencetak laporan KOP lengkap"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tanggal"}),i.jsxs("select",{value:te,onChange:I=>ye(I.target.value),className:"w-full px-3 py-2 border border-dark-200 dark:border-dark-600 bg-white dark:bg-dark-800 text-dark-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"-- Pilih Tanggal --"}),s.sort((I,we)=>new Date(we.tanggal).getTime()-new Date(I.tanggal).getTime()).map(I=>i.jsxs("option",{value:I.tanggal,children:[gt(I.tanggal)," - ",I.jenisOperasi]},I.id))]})]}),te&&i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("strong",{children:"Preview:"})," Laporan akan dicetak untuk tanggal"," ",i.jsx("strong",{children:gt(te)})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(ge,{variant:"secondary",onClick:()=>{L(!1),ye("")},children:"Batal"}),i.jsxs(ge,{onClick:Ee,disabled:!te,className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak Laporan"]})]})]})}),i.jsx(xt,{isOpen:Z,onClose:()=>{V(!1),re(null)},title:"Detail Key Operating Parameter",size:"full",children:G&&(()=>{var it,bt,St,It,un,dn,fn,Kr,Un,Tr,ti,ri,ni,Es,As,Os,Cs,Ds,Ms,Rs,Is,Ls,Fs,$s,Bs,Us,Ks,Vs,zs,Hs,Ws,Gs,qs;const I=ve(G.kursDollar||"16000"),we=Kn(G.steamMalam||Tt),me=Kn(G.steamPagi||Tt),ke=Kn(G.steamSore||Tt);we.costRp=zn(we.selisih),me.costRp=zn(me.selisih),ke.costRp=zn(ke.selisih);const Ne=Vn(G.gasMalam||Tt),Ce=Vn(G.gasPagi||Tt),Le=Vn(G.gasSore||Tt);Ne.costRp=Hn(Ne.selisih,I),Ce.costRp=Hn(Ce.selisih,I),Le.costRp=Hn(Le.selisih,I);const Ke=we.costRp+me.costRp+ke.costRp,Fe=Ne.costRp+Ce.costRp+Le.costRp,We=ve(((it=G.produkTonase)==null?void 0:it.malam)||"0")+ve(((bt=G.produkTonase)==null?void 0:bt.pagi)||"0")+ve(((St=G.produkTonase)==null?void 0:St.sore)||"0");return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Key Operating Parameter"}),i.jsxs("h2",{className:"text-2xl font-bold mt-1",children:["NPK GRANULAR ",e==="NPK1"?"1":"2"]}),i.jsx("p",{className:"text-primary-100 text-sm mt-1",children:gt(G.tanggal)})]}),i.jsx(Ze,{variant:G.jenisOperasi==="NORMAL OPERASI"?"success":"warning",className:"bg-white/20 text-white border-0 text-base px-4 py-2",children:G.jenisOperasi})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-4 border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-lg",children:i.jsx(Af,{className:"h-6 w-6 text-green-700 dark:text-green-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Total Tonase"}),i.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[ce(We)," TON"]})]})]})}),i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-lg",children:i.jsx(Ib,{className:"h-6 w-6 text-blue-700 dark:text-blue-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium",children:"Biaya Steam"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:["Rp ",ce(Ke)]})]})]})}),i.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-orange-200 dark:bg-orange-800 rounded-lg",children:i.jsx(xy,{className:"h-6 w-6 text-orange-700 dark:text-orange-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium",children:"Biaya Gas"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["Rp ",ce(Fe)]})]})]})})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(vu,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Posisi"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam (23:00-07:00)"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi (07:00-15:00)"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore (15:00-23:00)"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Section Head"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((It=G.shiftMalam)==null?void 0:It.sectionHead)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((un=G.shiftPagi)==null?void 0:un.sectionHead)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((dn=G.shiftSore)==null?void 0:dn.sectionHead)||"-"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Operator Panel"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((fn=G.shiftMalam)==null?void 0:fn.operatorPanel)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Kr=G.shiftPagi)==null?void 0:Kr.operatorPanel)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Un=G.shiftSore)==null?void 0:Un.operatorPanel)||"-"})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ib,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Konsumsi Steam (M3)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50",children:[i.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-700 dark:text-blue-300",children:"Shift"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Selisih"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Flow (M3/H)"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Biaya (Rp)"})]})}),i.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[i.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Malam"}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(we.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:we.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(we.costRp)})]}),i.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Pagi"}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(me.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:me.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(me.costRp)})]}),i.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Sore"}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(ke.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ke.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(ke.costRp)})]}),i.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50 font-semibold text-blue-800 dark:text-blue-200",children:[i.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),i.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",ce(Ke)]})]})]})]})})]}),i.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(xy,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300",children:"Konsumsi Gas (Nm3)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50",children:[i.jsx("th",{className:"px-3 py-2 text-left font-medium text-orange-700 dark:text-orange-300",children:"Shift"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Selisih"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Flow (Nm3/H)"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Biaya (Rp)"})]})}),i.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[i.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Malam"}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(Ne.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:Ne.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(Ne.costRp)})]}),i.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Pagi"}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(Ce.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:Ce.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(Ce.costRp)})]}),i.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Sore"}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(Le.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:Le.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:ce(Le.costRp)})]}),i.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50 font-semibold text-orange-800 dark:text-orange-200",children:[i.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),i.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",ce(Fe)]})]})]})]})})]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ta,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Parameter Produk NPK (15-10-12)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Parameter"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Target"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore"})]})}),i.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(EH,{className:"h-4 w-4 text-red-500"}),"Temp Produk Out (C)"]})}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.tempProdukOut.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Tr=G.dryerTempProdukOut)==null?void 0:Tr.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ti=G.dryerTempProdukOut)==null?void 0:ti.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ri=G.dryerTempProdukOut)==null?void 0:ri.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"N (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.produkN.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ni=G.produkN)==null?void 0:ni.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Es=G.produkN)==null?void 0:Es.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((As=G.produkN)==null?void 0:As.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"P (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.produkP.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Os=G.produkP)==null?void 0:Os.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Cs=G.produkP)==null?void 0:Cs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ds=G.produkP)==null?void 0:Ds.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"K (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.produkK.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ms=G.produkK)==null?void 0:Ms.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Rs=G.produkK)==null?void 0:Rs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Is=G.produkK)==null?void 0:Is.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"Moisture (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.moisture.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ls=G.produkMoisture)==null?void 0:Ls.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Fs=G.produkMoisture)==null?void 0:Fs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:(($s=G.produkMoisture)==null?void 0:$s.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"Kekerasan (Kgf)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.kekerasan.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Bs=G.produkKekerasan)==null?void 0:Bs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Us=G.produkKekerasan)==null?void 0:Us.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ks=G.produkKekerasan)==null?void 0:Ks.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"Timbangan (Kg/Karung)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.timbangan.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Vs=G.produkTimbangan)==null?void 0:Vs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((zs=G.produkTimbangan)==null?void 0:zs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Hs=G.produkTimbangan)==null?void 0:Hs.sore)||"-"})]}),i.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/30",children:[i.jsx("td",{className:"px-4 py-3 font-semibold text-green-700 dark:text-green-300",children:"Tonase (Ton/Shift)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Wt.tonase.label}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Ws=G.produkTonase)==null?void 0:Ws.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Gs=G.produkTonase)==null?void 0:Gs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((qs=G.produkTonase)==null?void 0:qs.sore)||"-"})]})]})]})})]}),i.jsxs("div",{className:"bg-dark-100 dark:bg-dark-700 rounded-xl p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mP,{className:"h-5 w-5 text-dark-500"}),i.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Kurs Dollar yang digunakan:"})]}),i.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:["Rp ",ce(I)]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-dark-200 dark:border-dark-700",children:[i.jsx(ge,{variant:"secondary",onClick:()=>{V(!1),re(null)},children:"Tutup"}),i.jsxs(ge,{onClick:()=>{V(!1),ut(G)},className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak"]})]})]})})()}),i.jsx(Ar,{isOpen:f,onClose:()=>h(!1),onConfirm:Qe,title:"Hapus Data KOP",message:"Apakah Anda yakin ingin menghapus data KOP ini? Tindakan ini tidak dapat dibatalkan.",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:Te,onClose:()=>{de(!1),_e(null)},onSubmit:et,action:fe,itemName:"data KOP",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!"}),i.jsx(Fr,{isOpen:M,onClose:()=>{Y(!1),D("")},sheetName:e==="NPK1"?"kop_NPK1":"kop",recordId:ee,title:"Log Aktivitas KOP"})]})},d1=new Date().getFullYear(),uTe=[...Array.from({length:d1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(d1+1),label:String(d1+1)}],ZF=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"}],dTe=[{value:"",label:"Semua Shift"},...ZF],f1=[{key:"urea",label:"Urea",unit:"Bucket"},{key:"dap",label:"DAP",unit:"Bucket"},{key:"kcl",label:"KCL",unit:"Bucket"},{key:"za",label:"ZA",unit:"Bucket"},{key:"clayJumbo",label:"Clay (Jumbo)",unit:"Jumbo"},{key:"clayBucket",label:"Clay (Bucket)",unit:"Bucket"},{key:"pewarna",label:"Pewarna",unit:"Bag"},{key:"coatingOilLigno",label:"Coating Oil LIGNO",unit:"Dus"},{key:"riject",label:"Riject",unit:"Bucket"},{key:"tinta",label:"Tinta",unit:"pcs"},{key:"rekon",label:"Rekon",unit:"Ton"},{key:"makeupIjp",label:"MAKEUP IJP",unit:"pcs"}],Yd={tanggal:yr(),shift:"",urea:0,dap:0,kcl:0,za:0,clayJumbo:0,clayBucket:0,pewarna:0,coatingOilLigno:0,riject:0,tinta:0,rekon:0,makeupIjp:0},_O=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Yd),[k,N]=j.useState(""),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[E,A]=j.useState("edit"),[R,q]=j.useState(null),[Z,V]=j.useState(!1),[G,re]=j.useState(""),[M,Y]=j.useState("daily"),ee=O=>{re(O),V(!0)},D=(t==null?void 0:t.role)||"",J=ln(D),z=jn(D),L=Sn(D),te=Jr(D),ye=j.useCallback(()=>{if(u&&!l){const O=document.querySelector("form");O&&O.requestSubmit()}},[u,l]);Br(ye,u),j.useEffect(()=>{(async()=>{c(!0);try{const{readData:W,SHEETS:ne,getSheetNameByPlant:le}=await st(async()=>{const{readData:xe,SHEETS:Pe,getSheetNameByPlant:$e}=await Promise.resolve().then(()=>ot);return{readData:xe,SHEETS:Pe,getSheetNameByPlant:$e}},void 0),Me=le(ne.PEMAKAIAN_BAHAN_BAKU,e),Ye=await W(Me);if(Ye.success&&Ye.data){const xe=Ye.data.map(Pe=>({...Pe,_plant:e})).sort((Pe,$e)=>new Date($e.tanggal).getTime()-new Date(Pe.tanggal).getTime());o(xe)}else o([])}catch(W){console.error("Error fetching data:",W),o([])}finally{c(!1)}})()},[e]);const Te=async O=>{O.preventDefault(),c(!0);try{if(m){const W={...v,id:m,_plant:e},ne=await n("pemakaian_bahan_baku",W);if(ne.success)o(le=>le.map(Me=>Me.id===m?{...v,id:m,_plant:e}:Me));else throw new Error(ne.error||"Gagal mengupdate data")}else{const W={...v,_plant:e},ne=await r("pemakaian_bahan_baku",W);if(ne.success&&ne.data){const le={...ne.data,_plant:e};o(Me=>[le,...Me].sort((Ye,xe)=>new Date(xe.tanggal).getTime()-new Date(Ye.tanggal).getTime()))}else throw new Error(ne.error||"Gagal menambah data")}d(!1),x(null),w(Yd),g(!0)}catch(W){console.error("Error saving data:",W),alert(W instanceof Error?W.message:"Gagal menyimpan data")}finally{c(!1)}},de=O=>{te||(z?(q(O),A("edit"),_(!0)):(w(O),x(O.id||null),d(!0)))},fe=O=>{te||(L?(y(O),A("delete"),_(!0)):(y(O),h(!0)))},be=async()=>{if(b){c(!0);try{const O=await a("pemakaian_bahan_baku",{id:b,_plant:e});if(O.success)o(W=>W.filter(ne=>ne.id!==b));else throw new Error(O.error||"Gagal menghapus data");h(!1),y(null),g(!0)}catch(O){console.error("Error deleting data:",O),alert(O instanceof Error?O.message:"Gagal menghapus data")}finally{c(!1)}}},he=async O=>{try{const{createData:W,SHEETS:ne}=await st(async()=>{const{createData:Ye,SHEETS:xe}=await Promise.resolve().then(()=>ot);return{createData:Ye,SHEETS:xe}},void 0),le=E==="edit"?R:s.find(Ye=>Ye.id===b),Me={requestBy:(t==null?void 0:t.username)||"",requestByName:(t==null?void 0:t.nama)||(t==null?void 0:t.username)||"",requestDate:new Date().toISOString(),action:E,sheetType:`pemakaian_bahan_baku${e==="NPK1"?"_NPK1":""}`,dataId:(le==null?void 0:le.id)||"",dataPreview:JSON.stringify({tanggal:le==null?void 0:le.tanggal,shift:le==null?void 0:le.shift}),reason:O,status:"pending",requesterPlant:e};await W(ne.APPROVAL_REQUESTS,Me),_(!1),q(null),y(null),alert("Permintaan approval telah dikirim")}catch(W){console.error("Error submitting approval:",W),alert("Gagal mengirim permintaan approval")}},_e=s.filter(O=>{const W=k?O.shift===k:!0,le=new Date(O.tanggal).getFullYear()===parseInt(S);return W&&le}),ue=_e.reduce((O,W)=>(O[W.tanggal]||(O[W.tanggal]=[]),O[W.tanggal].push(W),O),{}),C=Object.keys(ue).sort((O,W)=>new Date(W).getTime()-new Date(O).getTime()),K=(()=>{const O=s.filter(Me=>new Date(Me.tanggal).getFullYear()===parseInt(S)),W=O.length,ne=new Set(O.map(Me=>Me.tanggal)).size,le=f1.reduce((Me,Ye)=>(Me[Ye.key]=O.reduce((xe,Pe)=>xe+(Number(Pe[Ye.key])||0),0),Me),{});return{totalRecords:W,totalDays:ne,totals:le}})(),je=O=>{switch(O){case"Malam":return i.jsx(JD,{className:"h-3.5 w-3.5"});case"Pagi":return i.jsx(Lb,{className:"h-3.5 w-3.5"});case"Sore":return i.jsx(_H,{className:"h-3.5 w-3.5"});default:return null}},H=O=>{switch(O){case"Malam":return"default";case"Pagi":return"warning";case"Sore":return"primary";default:return"default"}},U={Malam:0,Pagi:1,Sore:2},ae=[{key:"tanggal",header:"Tanggal",sortable:!0,render:O=>gt(O)},{key:"shift",header:"Shift",render:O=>i.jsx(Ze,{variant:H(O),children:i.jsxs("span",{className:"flex items-center gap-1",children:[je(O),O]})})},{key:"urea",header:"Urea",render:O=>{const W=Number(O)||0;return W>0?i.jsxs("span",{className:"font-medium",children:[W," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"dap",header:"DAP",render:O=>{const W=Number(O)||0;return W>0?i.jsxs("span",{className:"font-medium",children:[W," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"kcl",header:"KCL",render:O=>{const W=Number(O)||0;return W>0?i.jsxs("span",{className:"font-medium",children:[W," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"za",header:"ZA",render:O=>{const W=Number(O)||0;return W>0?i.jsxs("span",{className:"font-medium",children:[W," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"pewarna",header:"Pewarna",render:O=>{const W=Number(O)||0;return W>0?i.jsxs("span",{className:"font-medium",children:[W," Bag"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"coatingOilLigno",header:"Coating Oil",render:O=>{const W=Number(O)||0;return W>0?i.jsxs("span",{className:"font-medium",children:[W," Dus"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Pemakaian Bahan Baku - ",e]}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Catatan pemakaian bahan baku per shift"})]}),J&&i.jsxs(ge,{onClick:()=>{w(Yd),x(null),d(!0)},children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ie,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Total Record"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:K.totalRecords})]}),i.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:i.jsx(_o,{className:"h-6 w-6 text-white"})})]}),i.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-2",children:["Pencatatan tahun ",S]})]})}),i.jsx(Ie,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Total Hari"}),i.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:K.totalDays})]}),i.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:i.jsx(Lb,{className:"h-6 w-6 text-white"})})]}),i.jsx("p",{className:"text-xs text-green-500 dark:text-green-400 mt-2",children:"Hari kerja tercatat"})]})}),i.jsx(Ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border-amber-200 dark:border-amber-800",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 font-medium",children:"Total Urea"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300 mt-1",children:[K.totals.urea||0," ",i.jsx("span",{className:"text-sm font-normal",children:"Bucket"})]})]}),i.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:i.jsx(_o,{className:"h-6 w-6 text-white"})})]}),i.jsxs("p",{className:"text-xs text-amber-500 dark:text-amber-400 mt-2",children:["Pemakaian tahun ",S]})]})}),i.jsx(Ie,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-800",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Total DAP"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:[K.totals.dap||0," ",i.jsx("span",{className:"text-sm font-normal",children:"Bucket"})]})]}),i.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:i.jsx(_o,{className:"h-6 w-6 text-white"})})]}),i.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-2",children:["Pemakaian tahun ",S]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx(_t,{children:"Data Pemakaian Bahan Baku"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[i.jsxs("div",{className:"flex rounded-lg border border-dark-200 dark:border-dark-600 overflow-hidden",children:[i.jsx("button",{onClick:()=>Y("daily"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${M==="daily"?"bg-primary-600 text-white":"bg-white dark:bg-dark-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:"Harian"}),i.jsx("button",{onClick:()=>Y("table"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${M==="table"?"bg-primary-600 text-white":"bg-white dark:bg-dark-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:"Tabel"})]}),i.jsx(at,{value:S,onChange:O=>T(O.target.value),options:uTe,className:"w-full sm:w-28"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YD,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("select",{value:k,onChange:O=>N(O.target.value),className:"px-3 py-2 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:dTe.map(O=>i.jsx("option",{value:O.value,children:O.label},O.value))})]})]})]})}),M==="daily"?i.jsx("div",{className:"p-4 space-y-6",children:l?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Memuat data..."}):C.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Tidak ada data"}):C.map(O=>{const W=ue[O].sort((le,Me)=>(U[le.shift]??99)-(U[Me.shift]??99)),ne=W.map(le=>le.shift);return i.jsxs("div",{className:"border border-dark-200 dark:border-dark-600 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-700 dark:to-primary-800 px-4 py-3 flex items-center justify-between",children:[i.jsx("h3",{className:"font-bold text-white text-sm",children:gt(O)}),i.jsx("div",{className:"flex items-center gap-2",children:ne.map(le=>i.jsx(Ze,{variant:"default",className:"bg-white/20 text-white border-white/30 text-xs",children:le},le))})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-2.5 text-left font-semibold text-gray-700 dark:text-gray-300 w-48",children:"Bahan Baku"}),W.map(le=>i.jsx("th",{className:"px-4 py-2.5 text-center font-semibold text-gray-700 dark:text-gray-300 min-w-[120px]",children:i.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[je(le.shift),le.shift]})},le.shift))]})}),i.jsx("tbody",{children:f1.map((le,Me)=>i.jsxs("tr",{className:Me%2===0?"bg-white dark:bg-dark-800":"bg-gray-50/50 dark:bg-dark-750",children:[i.jsx("td",{className:"px-4 py-2 font-medium text-gray-700 dark:text-gray-300 border-r border-dark-100 dark:border-dark-600",children:le.label}),W.map(Ye=>{const xe=Number(Ye[le.key])||0;return i.jsx("td",{className:"px-4 py-2 text-center",children:xe>0?i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[xe," ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:le.unit})]}):i.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"-"})},Ye.shift)})]},le.key))})]})}),!te&&i.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 px-4 py-2 flex flex-wrap gap-2 border-t border-dark-100 dark:border-dark-600",children:W.map(le=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ze,{variant:H(le.shift),className:"text-xs",children:le.shift}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>ee(le.id),title:"Lihat Log",children:i.jsx(At,{className:"h-3.5 w-3.5 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>de(le),title:"Edit",children:i.jsx(hr,{className:"h-3.5 w-3.5 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>fe(le.id),title:"Hapus",children:i.jsx(lr,{className:"h-3.5 w-3.5 text-red-600"})})]},le.shift))})]},O)})}):i.jsx(Lr,{data:_e,columns:ae,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, shift...",searchKeys:["tanggal","shift"],actions:te?O=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ee(O.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):O=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ee(O.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),de(O)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),fe(O.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),x(null),w(Yd)},title:m?"Edit Data Pemakaian Bahan Baku":"Tambah Data Pemakaian Bahan Baku",children:i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:O=>w({...v,tanggal:O.target.value}),required:!0}),i.jsx(at,{label:"Shift",value:v.shift,onChange:O=>w({...v,shift:O.target.value}),options:ZF,placeholder:"Pilih Shift",required:!0}),i.jsxs("div",{className:"border-t border-dark-200 dark:border-dark-600 pt-4 mt-4",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-3",children:"Jumlah Pemakaian per Bahan Baku"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f1.map(O=>i.jsx(Ae,{label:`${O.label} (${O.unit})`,type:"number",step:"any",min:"0",value:v[O.key]||"",onChange:W=>{const ne=W.target.value===""?0:parseFloat(W.target.value);w(le=>({...le,[O.key]:isNaN(ne)?0:ne}))},placeholder:"0"},O.key))})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(ge,{type:"button",variant:"outline",onClick:()=>{d(!1),x(null),w(Yd)},children:"Batal"}),i.jsx(ge,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:be,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:P,onClose:()=>{_(!1),q(null),y(null)},onSubmit:he,action:E,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:Z,onClose:()=>{V(!1),re("")},sheetName:e==="NPK1"?"pemakaian_bahan_baku_NPK1":"pemakaian_bahan_baku",recordId:G,title:"Log Aktivitas Pemakaian Bahan Baku"})]})},h1=new Date().getFullYear(),fTe=[...Array.from({length:h1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(h1+1),label:String(h1+1)}],Xd={tanggal:yr(),nomorWR:"",item:"",area:"",eksekutor:"",include:"",keterangan:""},hTe=[{value:"Mekanik",label:"Mekanik"},{value:"Bengkel",label:"Bengkel"},{value:"Listrik",label:"Listrik"},{value:"Craftshop",label:"Craftshop"},{value:"Alat Berat",label:"Alat Berat"},{value:"Instrument",label:"Instrument"},{value:"Inspeksi",label:"Inspeksi"}],EO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Xd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,E]=j.useState("edit"),[A,R]=j.useState(null),[q,Z]=j.useState(!1),[V,G]=j.useState(null),[re,M]=j.useState(!1),[Y,ee]=j.useState(""),D=O=>{ee(O),M(!0)},J=Jr((t==null?void 0:t.role)||""),z=ln((t==null?void 0:t.role)||"")&&!J,L=j.useCallback(()=>{if(u&&!l){const O=document.querySelector("form");O&&O.requestSubmit()}},[u,l]);Br(L,u);const te=jn((t==null?void 0:t.role)||""),ye=Sn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:W,SHEETS:ne}=await st(async()=>{const{fetchDataByPlant:Me,SHEETS:Ye}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:Me,SHEETS:Ye}},void 0),le=await W(ne.WORK_REQUEST);if(le.success&&le.data){const Me=[...le.data].sort((Ye,xe)=>new Date(xe.tanggal).getTime()-new Date(Ye.tanggal).getTime());o(Me)}else o([])}catch(W){console.error("Error fetching data:",W),o([])}finally{c(!1)}})()},[]);const Te=async O=>{O.preventDefault(),c(!0);try{if(m){const W={...v,id:m,_plant:S},ne=await n(Yr.WORK_REQUEST,W);if(ne.success)o(le=>le.map(Me=>Me.id===m?{...v,id:m,_plant:S}:Me));else throw new Error(ne.error||"Gagal mengupdate data")}else{const W={...v,_plant:S},ne=await r(Yr.WORK_REQUEST,W);if(ne.success&&ne.data){const le={...ne.data,_plant:S};o(Me=>[le,...Me])}else throw new Error(ne.error||"Gagal menyimpan data")}d(!1),w(Xd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(W){console.error("Error saving data:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},de=O=>{if(te){R(O),E("edit"),P(!0);return}w(O),x(O.id||null),d(!0)},fe=O=>{if(ye){y(O),E("delete"),P(!0);return}y(O),h(!0)},be=async O=>{c(!0);try{const{createData:W,SHEETS:ne}=await st(async()=>{const{createData:Ye,SHEETS:xe}=await Promise.resolve().then(()=>ot);return{createData:Ye,SHEETS:xe}},void 0),le={type:"work_request",action:_,itemId:_==="edit"?A==null?void 0:A.id:b,itemData:_==="edit"?A:s.find(Ye=>Ye.id===b),reason:O,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Me=await W(ne.APPROVAL_REQUESTS,le);if(Me.success)P(!1),R(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Me.error||"Gagal mengirim permintaan")}catch(W){console.error("Error submitting approval:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan")}finally{c(!1)}},he=async()=>{if(b){c(!0);try{const O=s.find(ne=>ne.id===b),W=await a(Yr.WORK_REQUEST,{id:b,_plant:(O==null?void 0:O._plant)||S});if(W.success)o(ne=>ne.filter(le=>le.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(W.error||"Gagal menghapus data")}catch(O){console.error("Error deleting data:",O),alert(O instanceof Error?O.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},_e=()=>{w(Xd),x(null),d(!0)},ue=O=>{G(O),Z(!0)},C=s.filter(O=>{const W=O._plant===S,le=new Date(O.tanggal).getFullYear()===parseInt(k);return W&&le}),B=[{key:"tanggal",header:"Tanggal",sortable:!0,render:O=>gt(O)},{key:"nomorWR",header:"Nomor WR"},{key:"item",header:"Item"},{key:"area",header:"Area"},{key:"eksekutor",header:"Eksekutor"},{key:"include",header:"Include"},{key:"keterangan",header:"Keterangan",render:O=>i.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:O})}],K=C.length,je=j.useMemo(()=>{const O={};return C.forEach(W=>{const ne=W.eksekutor||"Lainnya";O[ne]=(O[ne]||0)+1}),O},[C]),H=j.useMemo(()=>Object.entries(je).sort(([,W],[,ne])=>ne-W)[0]||["",0],[je]),U=j.useMemo(()=>new Set(C.map(O=>O.area).filter(Boolean)).size,[C]),ae=j.useMemo(()=>{const O=new Date;return C.filter(W=>{const ne=new Date(W.tanggal);return ne.getMonth()===O.getMonth()&&ne.getFullYear()===O.getFullYear()}).length},[C]);return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl sm:text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Work Request ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1 text-sm",children:"Kelola permintaan perbaikan dan maintenance"})]}),i.jsx("div",{className:"flex items-center gap-3",children:z&&i.jsxs(ge,{onClick:_e,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Work Request"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total WR (",k,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:K})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Bulan Ini"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ae})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Area Terlibat"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:U})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Top Eksekutor"}),i.jsx("p",{className:"text-sm sm:text-lg font-bold text-dark-900 dark:text-white truncate",children:H[0]}),i.jsxs("p",{className:"text-xs text-dark-400",children:[H[1]," WR"]})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Work Request - Tahun ",k]}),i.jsx(at,{value:k,onChange:O=>N(O.target.value),options:fTe,className:"w-32"})]})}),i.jsx(Lr,{data:C,columns:B,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor WR, item, area, eksekutor...",searchKeys:["tanggal","nomorWR","item","area","eksekutor","include","keterangan"],actions:O=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ue(O)},title:"Lihat Detail",children:i.jsx(Ss,{className:"h-4 w-4 text-blue-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),D(O.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!J&&i.jsxs(i.Fragment,{children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),de(O)},title:te?"Ajukan Edit (perlu approval)":"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),fe(O.id)},title:ye?"Ajukan Hapus (perlu approval)":"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Xd),x(null)},title:m?"Edit Work Request":"Buat Work Request",size:"lg",children:i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:O=>w(W=>({...W,tanggal:O.target.value})),required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Nomor WR",type:"text",value:v.nomorWR,onChange:O=>w(W=>({...W,nomorWR:O.target.value})),placeholder:"Nomor Work Request",required:!0}),i.jsx(Ae,{label:"Item",type:"text",value:v.item,onChange:O=>w(W=>({...W,item:O.target.value})),placeholder:"Item",required:!0})]}),i.jsx(Ae,{label:"Area",type:"text",value:v.area,onChange:O=>w(W=>({...W,area:O.target.value})),placeholder:"Area",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Eksekutor",value:v.eksekutor,onChange:O=>w(W=>({...W,eksekutor:O.target.value})),options:hTe,placeholder:"Pilih eksekutor",required:!0}),i.jsx(Ae,{label:"Include",type:"text",value:v.include,onChange:O=>w(W=>({...W,include:O.target.value})),placeholder:"Include"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Keterangan"}),i.jsx("textarea",{value:v.keterangan,onChange:O=>w(W=>({...W,keterangan:O.target.value})),placeholder:"Keterangan detail work request...",className:"input-field min-h-[100px]",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Xd),x(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:he,title:"Hapus Work Request",message:"Apakah Anda yakin ingin menghapus work request ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:T,onClose:()=>{P(!1),R(null),y(null)},onSubmit:be,action:_,itemName:"Work Request",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(xt,{isOpen:q,onClose:()=>{Z(!1),G(null)},title:"Detail Work Request",size:"lg",children:V&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-dark-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:i.jsx(Ta,{className:"h-6 w-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-dark-900 dark:text-white",children:V.nomorWR}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:gt(V.tanggal)})]})]}),i.jsx(Ze,{variant:S==="NPK1"?"primary":"success",children:S})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Item"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:V.item})]}),i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Area"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:V.area})]}),i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Eksekutor"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:V.eksekutor})})]}),i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Include"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:V.include||"-"})]})]}),i.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[i.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2",children:"Keterangan"}),i.jsx("p",{className:"text-dark-900 dark:text-white whitespace-pre-wrap leading-relaxed",children:V.keterangan||"-"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-200",children:[!J&&i.jsxs(ge,{variant:"secondary",onClick:()=>{Z(!1),G(null),de(V)},children:[i.jsx(hr,{className:"h-4 w-4 mr-2"}),"Edit"]}),i.jsx(ge,{onClick:()=>{Z(!1),G(null)},children:"Tutup"})]})]})}),i.jsx(Fr,{isOpen:re,onClose:()=>{M(!1),ee("")},sheetName:S==="NPK1"?"workrequest_NPK1":"workrequest",recordId:Y,title:"Log Aktivitas Work Request"})]})},p1=new Date().getFullYear(),pTe=[...Array.from({length:p1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(p1+1),label:String(p1+1)}],AO=[{value:"ALL",label:"Semua Bulan"},{value:"1",label:"Januari"},{value:"2",label:"Februari"},{value:"3",label:"Maret"},{value:"4",label:"April"},{value:"5",label:"Mei"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"Agustus"},{value:"9",label:"September"},{value:"10",label:"Oktober"},{value:"11",label:"November"},{value:"12",label:"Desember"}],OO=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Clay",label:"Clay"},{value:"Dolomite",label:"Dolomite"},{value:"Coating Oil",label:"Coating Oil"},{value:"Pewarna",label:"Pewarna"},{value:"Silika",label:"Silika"},{value:"Amnit",label:"Amnit"}],mTe=[{value:"Ton",label:"Ton"},{value:"Pallet",label:"Pallet"},{value:"Jumbo",label:"Jumbo"}],Jd={tanggal:yr(),bahanBaku:"",entries:[{berat:0,unit:"Ton"}],totalBerat:0},CO=({plant:e})=>{var xe;const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),{optimisticAdd:s,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=XF(),[d,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(null),[N,S]=j.useState(null),[T,P]=j.useState(Jd),[_,E]=j.useState(String(new Date().getFullYear())),[A,R]=j.useState(String(new Date().getMonth()+1)),q=e,[Z,V]=j.useState(!1),[G,re]=j.useState("edit"),[M,Y]=j.useState(null),[ee,D]=j.useState(!1),[J,z]=j.useState(""),[L,te]=j.useState(!1),ye=Pe=>{z(Pe),D(!0)},Te=Jr((t==null?void 0:t.role)||""),de=ln((t==null?void 0:t.role)||"")&&!Te,fe=j.useCallback(()=>{if(g&&!h){const Pe=document.querySelector("form");Pe&&Pe.requestSubmit()}},[g,h]);Br(fe,g);const be=jn((t==null?void 0:t.role)||""),he=Sn((t==null?void 0:t.role)||""),_e=Pe=>Pe.reduce(($e,Se)=>$e+(Se.berat||0),0),ue=(Pe,$e,Se)=>{P(Re=>{const Qe=[...Re.entries];return Qe[Pe]={...Qe[Pe],[$e]:$e==="berat"?parseFloat(Se)||0:Se},{...Re,entries:Qe,totalBerat:_e(Qe)}})},C=()=>{P(Pe=>({...Pe,entries:[...Pe.entries,{berat:0,unit:"Ton"}]}))},B=(Pe,$e)=>{Pe.key==="Enter"&&(Pe.preventDefault(),C(),setTimeout(()=>{const Se=document.querySelectorAll('input[type="number"][placeholder="Berat"]'),Re=Se[Se.length-1];Re&&Re.focus()},50))},K=Pe=>{T.entries.length<=1||P($e=>{const Se=$e.entries.filter((Re,Qe)=>Qe!==Pe);return{...$e,entries:Se,totalBerat:_e(Se)}})};j.useEffect(()=>{(async()=>{p(!0);try{const{readData:$e,getSheetNameByPlant:Se}=await st(async()=>{const{readData:et,getSheetNameByPlant:Je}=await Promise.resolve().then(()=>ot);return{readData:et,getSheetNameByPlant:Je}},void 0),Re=Se(Yr.BAHAN_BAKU_NPK,q),Qe=await $e(Re);if(Qe.success&&Qe.data){const Je=[...Qe.data.map(ut=>({...ut,entries:typeof ut.entries=="string"?JSON.parse(ut.entries):ut.entries||[{berat:0,unit:"Ton"}],totalBerat:ut.totalBerat||0,_plant:q}))].sort((ut,ur)=>new Date(ur.tanggal).getTime()-new Date(ut.tanggal).getTime());f(Je)}else f([])}catch($e){console.error("Error fetching data:",$e),f([])}finally{p(!1)}})()},[q]);const je=async Pe=>{if(Pe.preventDefault(),!T.tanggal){alert("Tanggal wajib diisi!");return}if(!T.bahanBaku){alert("Bahan Baku wajib dipilih!");return}if(T.entries.length===0||T.entries.every(Se=>Se.berat===0)){alert("Minimal satu entry berat harus diisi!");return}m(!1),v(!0);const $e={...T,entries:JSON.stringify(T.entries),totalBerat:_e(T.entries),_plant:q};if(w){const Se={...T,id:w,_plant:q,totalBerat:_e(T.entries)},{rollback:Re}=o(d,Se);f(et=>et.map(Je=>Je.id===w?{...Se,_isPending:!0}:Je));const Qe={...$e,id:w};n(Yr.BAHAN_BAKU_NPK,Qe).then(et=>{et.success?f(Je=>u(Je,w)):(f(Re()),alert(et.error||"Gagal mengupdate data"))}).catch(()=>{f(Re()),alert("Terjadi kesalahan saat mengupdate data")})}else{const Se=JF(),Re={...T,id:Se,_plant:q,totalBerat:_e(T.entries),_isPending:!0},{rollback:Qe}=s(d,Re,Se);f(et=>[Re,...et]),r(Yr.BAHAN_BAKU_NPK,$e).then(et=>{et.success&&et.data?f(Je=>c(Je,Se,et.data.id||Se)):(f(Qe()),alert(et.error||"Gagal menyimpan data"))}).catch(()=>{f(Qe()),alert("Terjadi kesalahan saat menyimpan data")})}P(Jd),k(null),setTimeout(()=>v(!1),1500)},H=Pe=>{if(be){Y(Pe),re("edit"),V(!0);return}const $e=typeof Pe.entries=="string"?JSON.parse(Pe.entries):Pe.entries||[{berat:0,unit:"Ton"}];P({...Pe,entries:$e,totalBerat:_e($e)}),k(Pe.id||null),m(!0)},U=Pe=>{if(he){S(Pe),re("delete"),V(!0);return}S(Pe),b(!0)},ae=async Pe=>{p(!0);try{const{createData:$e,SHEETS:Se}=await st(async()=>{const{createData:et,SHEETS:Je}=await Promise.resolve().then(()=>ot);return{createData:et,SHEETS:Je}},void 0),Re={type:"BAHAN_BAKU_NPK",action:G,itemId:G==="edit"?M==null?void 0:M.id:N,itemData:G==="edit"?M:d.find(et=>et.id===N),reason:Pe,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Qe=await $e(Se.APPROVAL_REQUESTS,Re);if(Qe.success)V(!1),Y(null),S(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Qe.error||"Gagal mengirim permintaan")}catch($e){console.error("Error submitting approval:",$e),alert($e instanceof Error?$e.message:"Terjadi kesalahan")}finally{p(!1)}},O=async()=>{if(!N)return;const Pe=d.find(Se=>Se.id===N),{rollback:$e}=l(d,N);f(Se=>Se.filter(Re=>Re.id!==N)),b(!1),v(!0),a(Yr.BAHAN_BAKU_NPK,{id:N,_plant:(Pe==null?void 0:Pe._plant)||q}).then(Se=>{Se.success||(f($e()),alert(Se.error||"Gagal menghapus data"))}).catch(()=>{f($e()),alert("Terjadi kesalahan saat menghapus data")}),S(null),setTimeout(()=>v(!1),1500)},W=()=>{P(Jd),k(null),m(!0)},ne=d.filter(Pe=>{const $e=Pe._plant===q,Se=new Date(Pe.tanggal),Re=Se.getFullYear(),Qe=Se.getMonth()+1,et=Re===parseInt(_),Je=A==="ALL"||Qe===parseInt(A);return $e&&et&&Je}),le=ne.reduce((Pe,$e)=>{const Se=$e.bahanBaku||"Unknown";return Pe[Se]=(Pe[Se]||0)+($e.totalBerat||0),Pe},{}),Me=Pe=>{const $e=typeof Pe=="string"?JSON.parse(Pe):Pe;return!$e||!Array.isArray($e)?"-":$e.map(Se=>`${ce(Se.berat)} ${Se.unit}`).join(", ")},Ye=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Pe=>gt(Pe)},{key:"bahanBaku",header:"Bahan Baku",render:Pe=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_o,{className:"h-4 w-4 text-dark-400"}),i.jsx("span",{className:"font-medium",children:Pe})]})},{key:"entries",header:"Detail Berat & Unit",render:Pe=>i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:Me(Pe)})},{key:"totalBerat",header:"Total Berat",render:Pe=>i.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:ce(ve(Pe))})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Bahan Baku NPK ",q==="NPK1"?"1":"2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data penerimaan bahan baku NPK"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",onClick:()=>te(!0),className:"border-green-300 text-green-700 hover:bg-green-50 dark:border-green-700 dark:text-green-400 dark:hover:bg-green-900/20",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),de&&i.jsxs(ge,{onClick:W,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4",children:Object.entries(le).slice(0,5).map(([Pe,$e])=>i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:Pe}),i.jsx("p",{className:"text-base sm:text-lg font-bold text-dark-900 dark:text-white",children:ce($e)})]},Pe))}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs(_t,{children:["Data Bahan Baku NPK - ",A==="ALL"?"Tahun":(xe=AO.find(Pe=>Pe.value===A))==null?void 0:xe.label," ",_]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(at,{value:A,onChange:Pe=>R(Pe.target.value),options:AO,className:"w-40"}),i.jsx(at,{value:_,onChange:Pe=>E(Pe.target.value),options:pTe,className:"w-28"})]})]})}),i.jsx(Lr,{data:ne,columns:Ye,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, bahan baku, total berat...",searchKeys:["tanggal","bahanBaku","totalBerat"],actions:Te?Pe=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:$e=>{$e.stopPropagation(),ye(Pe.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-blue-600"})})}):Pe=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:$e=>{$e.stopPropagation(),ye(Pe.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-blue-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:$e=>{$e.stopPropagation(),H(Pe)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:$e=>{$e.stopPropagation(),U(Pe.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:g,onClose:()=>{m(!1),P(Jd),k(null)},title:w?"Edit Data Bahan Baku NPK":"Tambah Data Bahan Baku NPK",size:"lg",children:i.jsxs("form",{onSubmit:je,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:T.tanggal,onChange:Pe=>P($e=>({...$e,tanggal:Pe.target.value})),required:!0}),i.jsx(at,{label:"Bahan Baku",value:T.bahanBaku,onChange:Pe=>P($e=>({...$e,bahanBaku:Pe.target.value})),options:OO,placeholder:"Pilih bahan baku",required:!0}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-300",children:"Detail Berat & Unit"}),i.jsxs(ge,{type:"button",variant:"secondary",size:"sm",onClick:C,children:[i.jsx(xr,{className:"h-4 w-4 mr-1"}),"Tambah"]})]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:T.entries.map((Pe,$e)=>i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-50 dark:bg-dark-800 rounded-lg",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Ae,{type:"number",value:Pe.berat||"",onChange:Se=>ue($e,"berat",Se.target.value),onKeyDown:Se=>B(Se),placeholder:"Berat",step:"0.01",min:"0",required:!0})}),i.jsx("div",{className:"w-32",children:i.jsx(at,{value:Pe.unit,onChange:Se=>ue($e,"unit",Se.target.value),options:mTe,required:!0})}),T.entries.length>1&&i.jsx(ge,{type:"button",variant:"ghost",size:"icon",onClick:()=>K($e),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:i.jsx(Xa,{className:"h-4 w-4"})})]},$e))}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:[i.jsx("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:"Total Berat:"}),i.jsx("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:ce(_e(T.entries))})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{m(!1),P(Jd),k(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:h,children:w?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:x,onClose:()=>{b(!1),S(null)},onConfirm:O,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:h}),i.jsx(Nn,{isOpen:Z,onClose:()=>{V(!1),Y(null),S(null)},onSubmit:ae,action:G,itemName:"data bahan baku NPK",loading:h}),i.jsx(Nr,{isVisible:y,message:"Data berhasil disimpan!",onClose:()=>v(!1)}),i.jsx(oee,{isOpen:L,onClose:()=>te(!1),data:d,plantName:q==="NPK1"?"NPK 1":"NPK 2",bahanBakuOptions:OO}),i.jsx(Fr,{isOpen:ee,onClose:()=>{D(!1),z("")},sheetName:q==="NPK1"?"bahanbaku_npk_NPK1":"bahanbaku_npk",recordId:J,title:"Log Aktivitas Bahan Baku NPK"})]})},m1=new Date().getFullYear(),gTe=[...Array.from({length:m1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(m1+1),label:String(m1+1)}],Qd={tanggal:yr(),namaEquipment:"",posisiPengukuran:"",pointPengukuran:"",nilaiVibrasi:0,status:"Normal",keterangan:""},DO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Qd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,E]=j.useState("edit"),[A,R]=j.useState(null),[q,Z]=j.useState(!1),[V,G]=j.useState(""),re=K=>{G(K),Z(!0)},M=(t==null?void 0:t.role)||"",Y=ln(M),ee=j.useCallback(()=>{if(u&&!l){const K=document.querySelector("form");K&&K.requestSubmit()}},[u,l]);Br(ee,u);const D=jn(M),J=Sn(M),z=Jr(M),L=[{value:"Vertical",label:"Vertical"},{value:"Horizontal",label:"Horizontal"},{value:"Axial",label:"Axial"}],te=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:je,SHEETS:H}=await st(async()=>{const{fetchDataByPlant:ae,SHEETS:O}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:ae,SHEETS:O}},void 0),U=await je(H.VIBRASI);if(U.success&&U.data){const ae=[...U.data].sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(ae)}else o([])}catch(je){console.error("Error fetching data:",je),o([])}finally{c(!1)}})()},[]),j.useEffect(()=>{let K="Normal";v.nilaiVibrasi>=7?K="Alert":v.nilaiVibrasi>=4&&(K="Warning"),w(je=>({...je,status:K}))},[v.nilaiVibrasi]);const ye=async K=>{K.preventDefault(),c(!0);try{if(m){const je={...v,id:m,_plant:S},H=await n(Yr.VIBRASI,je);if(H.success)o(U=>U.map(ae=>ae.id===m?{...v,id:m,_plant:S}:ae));else throw new Error(H.error||"Gagal mengupdate data")}else{const je={...v,_plant:S},H=await r(Yr.VIBRASI,je);if(H.success&&H.data){const U={...H.data,_plant:S};o(ae=>[U,...ae])}else throw new Error(H.error||"Gagal menyimpan data")}d(!1),w(Qd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(je){console.error("Error saving data:",je),alert(je instanceof Error?je.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Te=K=>{if(D){R(K),E("edit"),P(!0);return}w(K),x(K.id||null),d(!0)},de=K=>{if(J){const je=s.find(H=>H.id===K);je&&(R(je),E("delete"),P(!0));return}y(K),h(!0)},fe=async K=>{if(!(!A||!t)){c(!0);try{const{createData:je,SHEETS:H}=await st(async()=>{const{createData:O,SHEETS:W}=await Promise.resolve().then(()=>ot);return{createData:O,SHEETS:W}},void 0),U={type:"vibrasi",action:_,itemId:A.id,itemData:A,targetSheet:S==="NPK1"?"vibrasi_NPK1":"vibrasi",reason:K,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ae=await je(H.APPROVAL_REQUESTS,U);if(ae.success)P(!1),R(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ae.error||"Gagal mengirim permintaan")}catch(je){console.error("Error submitting approval:",je),alert(je instanceof Error?je.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},be=async()=>{if(b){c(!0);try{const K=s.find(H=>H.id===b),je=await a(Yr.VIBRASI,{id:b,_plant:(K==null?void 0:K._plant)||S});if(je.success)o(H=>H.filter(U=>U.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(je.error||"Gagal menghapus data")}catch(K){console.error("Error deleting data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},he=()=>{w(Qd),x(null),d(!0)},_e=s.filter(K=>{const je=K._plant===S,U=new Date(K.tanggal).getFullYear()===parseInt(k);return je&&U}),ue={normal:_e.filter(K=>K.status==="Normal").length,warning:_e.filter(K=>K.status==="Warning").length,alert:_e.filter(K=>K.status==="Alert").length},C=K=>{switch(K){case"Normal":return"success";case"Warning":return"warning";case"Alert":return"danger";default:return"default"}},B=[{key:"tanggal",header:"Tanggal",sortable:!0,render:K=>gt(K)},{key:"namaEquipment",header:"Equipment",render:K=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cb,{className:"h-4 w-4 text-dark-400"}),i.jsx("span",{className:"font-medium",children:K})]})},{key:"posisiPengukuran",header:"Posisi Pengukuran",render:K=>i.jsx(Ze,{variant:"default",children:K})},{key:"pointPengukuran",header:"Point Pengukuran",render:K=>i.jsx(Ze,{variant:"primary",children:K})},{key:"nilaiVibrasi",header:"Vibrasi (mm/s)",render:K=>{const je=ve(K);return i.jsx("span",{className:`font-bold ${je>=7?"text-red-600":je>=4?"text-amber-600":"text-green-600"}`,children:ce(je)})}},{key:"status",header:"Status",render:K=>i.jsx(Ze,{variant:C(K),children:K})},{key:"keterangan",header:"Keterangan"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Vibrasi ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Monitoring vibrasi equipment produksi"})]}),i.jsx("div",{className:"flex items-center gap-3",children:Y&&i.jsxs(ge,{onClick:he,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Normal"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ue.normal})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Warning"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:ue.warning})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Alert"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:ue.alert})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pengukuran"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:_e.length})]})]}),i.jsx(Ie,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Cb,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Panduan Status Vibrasi"}),i.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(Ze,{variant:"success",children:"Normal"}),i.jsx("p",{className:"text-dark-600 mt-1",children:"< 4 mm/s"})]}),i.jsxs("div",{children:[i.jsx(Ze,{variant:"warning",children:"Warning"}),i.jsx("p",{className:"text-dark-600 mt-1",children:"4 - 7 mm/s"})]}),i.jsxs("div",{children:[i.jsx(Ze,{variant:"danger",children:"Alert"}),i.jsx("p",{className:"text-dark-600 mt-1",children:"> 7 mm/s"})]})]})]})]})}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Pengukuran Vibrasi - Tahun ",k]}),i.jsx(at,{value:k,onChange:K=>N(K.target.value),options:gTe,className:"w-32"})]})}),i.jsx(Lr,{data:_e,columns:B,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, posisi, status...",searchKeys:["tanggal","namaEquipment","posisiPengukuran","pointPengukuran","nilaiVibrasi","status","keterangan"],actions:z?K=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ge,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),re(K.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):K=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),re(K.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),Te(K)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),de(K.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Qd),x(null)},title:m?"Edit Data Vibrasi":"Tambah Data Vibrasi",size:"md",children:i.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:K=>w(je=>({...je,tanggal:K.target.value})),required:!0}),i.jsx(Ae,{label:"Nama Equipment",type:"text",value:v.namaEquipment,onChange:K=>w(je=>({...je,namaEquipment:K.target.value})),placeholder:"Masukkan nama equipment",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Posisi Pengukuran",value:v.posisiPengukuran,onChange:K=>w(je=>({...je,posisiPengukuran:K.target.value})),options:L,placeholder:"Pilih posisi",required:!0}),i.jsx(at,{label:"Point Pengukuran",value:v.pointPengukuran,onChange:K=>w(je=>({...je,pointPengukuran:K.target.value})),options:te,placeholder:"Pilih point",required:!0})]}),i.jsx(Ae,{label:"Nilai Vibrasi (mm/s)",type:"number",step:"0.1",value:v.nilaiVibrasi||"",onChange:K=>w(je=>({...je,nilaiVibrasi:parseFloat(K.target.value)||0})),placeholder:"0.0",required:!0}),i.jsx("div",{className:"p-4 bg-dark-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600",children:"Status:"}),i.jsx(Ze,{variant:C(v.status||"Normal"),className:"text-lg px-4",children:v.status})]})}),i.jsx(Ae,{label:"Keterangan",type:"text",value:v.keterangan,onChange:K=>w(je=>({...je,keterangan:K.target.value})),placeholder:"Keterangan tambahan"}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Qd),x(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:be,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:T,onClose:()=>{P(!1),R(null)},onSubmit:fe,action:_,itemName:"data vibrasi",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:q,onClose:()=>{Z(!1),G("")},sheetName:S==="NPK1"?"vibrasi_NPK1":"vibrasi",recordId:V,title:"Log Aktivitas Vibrasi"})]})},g1=new Date().getFullYear(),xTe=[...Array.from({length:g1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(g1+1),label:String(g1+1)}],Zd={tanggal:yr(),nomorGatePass:"",noPolisi:"",pemilikBarang:"",namaPembawa:"",mengetahui:"",deskripsiBarang:"",alasanKeluar:""},MO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Zd),[k,N]=j.useState(String(new Date().getFullYear())),[S,T]=j.useState(!1),[P,_]=j.useState(null),E=e,[A,R]=j.useState(!1),[q,Z]=j.useState(""),V=H=>{Z(H),R(!0)},[G,re]=j.useState(!1),[M,Y]=j.useState("edit"),[ee,D]=j.useState(null),J=Jr((t==null?void 0:t.role)||""),z=ln((t==null?void 0:t.role)||"")&&!J,L=j.useCallback(()=>{if(u&&!l){const H=document.querySelector("form");H&&H.requestSubmit()}},[u,l]);Br(L,u);const te=jn((t==null?void 0:t.role)||""),ye=Sn((t==null?void 0:t.role)||""),Te=H=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][H];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:U,SHEETS:ae}=await st(async()=>{const{fetchDataByPlant:W,SHEETS:ne}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:W,SHEETS:ne}},void 0),O=await U(ae.GATE_PASS);if(O.success&&O.data){const W=[...O.data].sort((ne,le)=>new Date(le.tanggal).getTime()-new Date(ne.tanggal).getTime());o(W)}else o([])}catch(U){console.error("Error fetching data:",U),o([])}finally{c(!1)}})()},[]);const de=()=>{const H=new Date,U=H.getFullYear(),ae=H.getMonth(),O=Te(ae),W=E==="NPK1"?"NPK-1":"NPK-2",ne=s.filter(Me=>{if(!Me.tanggal)return!1;const Ye=new Date(Me.tanggal);return Ye.getMonth()===ae&&Ye.getFullYear()===U&&Me._plant===E});return`${String(ne.length+1).padStart(3,"0")}/GP/${W}/${O}/${U}`},fe=async H=>{H.preventDefault(),c(!0);try{if(m){const U={...v,id:m,_plant:E},ae=await n(Yr.GATE_PASS,U);if(ae.success)o(O=>O.map(W=>W.id===m?{...v,id:m,_plant:E}:W));else throw new Error(ae.error||"Gagal mengupdate data")}else{const U={...v,nomorGatePass:v.nomorGatePass||de(),_plant:E},ae=await r(Yr.GATE_PASS,U);if(ae.success&&ae.data){const O={...ae.data,_plant:e};o(W=>[O,...W])}else throw new Error(ae.error||"Gagal menyimpan data")}d(!1),w(Zd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(U){console.error("Error saving data:",U),alert(U instanceof Error?U.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},be=H=>{if(te){D(H),Y("edit"),re(!0);return}w(H),x(H.id||null),d(!0)},he=H=>{if(ye){y(H),Y("delete"),re(!0);return}y(H),h(!0)},_e=async H=>{c(!0);try{const{createData:U,SHEETS:ae}=await st(async()=>{const{createData:ne,SHEETS:le}=await Promise.resolve().then(()=>ot);return{createData:ne,SHEETS:le}},void 0),O={type:"GATE_PASS",action:M,itemId:M==="edit"?ee==null?void 0:ee.id:b,itemData:M==="edit"?ee:s.find(ne=>ne.id===b),reason:H,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},W=await U(ae.APPROVAL_REQUESTS,O);if(W.success)re(!1),D(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(W.error||"Gagal mengirim permintaan")}catch(U){console.error("Error submitting approval:",U),alert(U instanceof Error?U.message:"Terjadi kesalahan")}finally{c(!1)}},ue=async()=>{if(b){c(!0);try{const H=s.find(ae=>ae.id===b),U=await a(Yr.GATE_PASS,{id:b,_plant:(H==null?void 0:H._plant)||E});if(U.success)o(ae=>ae.filter(O=>O.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(U.error||"Gagal menghapus data")}catch(H){console.error("Error deleting data:",H),alert(H instanceof Error?H.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},C=()=>{w({...Zd,nomorGatePass:de()}),x(null),d(!0)},B=s.filter(H=>{const U=H._plant===E,O=new Date(H.tanggal).getFullYear()===parseInt(k);return U&&O}),K=[{key:"tanggal",header:"Tanggal",sortable:!0,render:H=>gt(H)},{key:"nomorGatePass",header:"No. Gate Pass",render:H=>i.jsx("span",{className:"font-mono font-semibold text-primary-600",children:H})},{key:"noPolisi",header:"No Polisi"},{key:"pemilikBarang",header:"Pemilik Barang"},{key:"namaPembawa",header:"Nama Pembawa"},{key:"mengetahui",header:"Mengetahui"},{key:"deskripsiBarang",header:"Deskripsi Barang",render:H=>i.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:H})},{key:"alasanKeluar",header:"Alasan Mengeluarkan",render:H=>i.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:H})}],je=B.length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Gate Pass ",E==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data gate pass barang masuk/keluar"})]}),i.jsx("div",{className:"flex items-center gap-3",children:z&&i.jsxs(ge,{onClick:C,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Gate Pass"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Gate Pass"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:je})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Bulan Ini"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:B.filter(H=>{const U=new Date(H.tanggal),ae=new Date;return U.getMonth()===ae.getMonth()&&U.getFullYear()===ae.getFullYear()}).length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jenis Barang"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(B.map(H=>H.namaBarang).filter(Boolean)).size})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Tahun ",k]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:je})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Gate Pass - Tahun ",k]}),i.jsx(at,{value:k,onChange:H=>N(H.target.value),options:xTe,className:"w-32"})]})}),i.jsx(Lr,{data:B,columns:K,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor GP, no polisi, pemilik, pembawa...",searchKeys:["tanggal","nomorGatePass","noPolisi","pemilikBarang","namaPembawa","mengetahui","deskripsiBarang","alasanKeluar"],actions:H=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:U=>{U.stopPropagation(),_(H),T(!0)},title:"Cetak Gate Pass",children:i.jsx(Rn,{className:"h-4 w-4 text-amber-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:U=>{U.stopPropagation(),V(H.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!J&&i.jsxs(i.Fragment,{children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:U=>{U.stopPropagation(),be(H)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:U=>{U.stopPropagation(),he(H.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Zd),x(null)},title:m?"Edit Gate Pass":"Buat Gate Pass",size:"lg",children:i.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:H=>w(U=>({...U,tanggal:H.target.value})),required:!0}),i.jsx(Ae,{label:"No. Gate Pass",type:"text",value:v.nomorGatePass,onChange:H=>w(U=>({...U,nomorGatePass:H.target.value})),placeholder:"Auto generate",disabled:!m})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"No Polisi",type:"text",value:v.noPolisi,onChange:H=>w(U=>({...U,noPolisi:H.target.value})),placeholder:"Contoh: T 8643 HI",required:!0}),i.jsx(Ae,{label:"Pemilik Barang",type:"text",value:v.pemilikBarang,onChange:H=>w(U=>({...U,pemilikBarang:H.target.value})),placeholder:"Nama pemilik barang",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Nama Pembawa",type:"text",value:v.namaPembawa,onChange:H=>w(U=>({...U,namaPembawa:H.target.value})),placeholder:"Nama pembawa barang",required:!0}),i.jsx(Ae,{label:"Mengetahui",type:"text",value:v.mengetahui,onChange:H=>w(U=>({...U,mengetahui:H.target.value})),placeholder:"Nama yang mengetahui",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Barang"}),i.jsx("textarea",{value:v.deskripsiBarang,onChange:H=>w(U=>({...U,deskripsiBarang:H.target.value})),placeholder:"Deskripsi detail barang...",className:"input-field min-h-[80px]",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Mengeluarkan"}),i.jsx("textarea",{value:v.alasanKeluar,onChange:H=>w(U=>({...U,alasanKeluar:H.target.value})),placeholder:"Alasan mengeluarkan barang...",className:"input-field min-h-[80px]",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Zd),x(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ue,title:"Hapus Gate Pass",message:"Apakah Anda yakin ingin menghapus gate pass ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:G,onClose:()=>{re(!1),D(null),y(null)},onSubmit:_e,action:M,itemName:"gate pass",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),P&&i.jsx(rW,{isOpen:S,onClose:()=>{T(!1),_(null)},data:P,plant:E}),i.jsx(Fr,{isOpen:A,onClose:()=>{R(!1),Z("")},sheetName:E==="NPK1"?"gatepass_NPK1":"gatepass",recordId:q,title:"Log Aktivitas Gate Pass"})]})},x1=new Date().getFullYear(),vTe=[...Array.from({length:x1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(x1+1),label:String(x1+1)}],ef={tanggal:yr(),nomorPerta:"",deskripsi:"",status:"Open",shift:"1",jenisBBM:"Solar",volumeAwal:0,volumePengisian:0,volumePemakaian:0,volumeAkhir:0,keterangan:""},yTe=()=>{var ue;const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Zr(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,b]=j.useState(null),[y,v]=j.useState(ef),[w,k]=j.useState(String(new Date().getFullYear())),[N,S]=j.useState((e==null?void 0:e.plant)||"ALL"),[T,P]=j.useState(!1),[_,E]=j.useState("edit"),[A,R]=j.useState(null),[q,Z]=j.useState(!1),[V,G]=j.useState(""),re=Jr((e==null?void 0:e.role)||""),M=ln((e==null?void 0:e.role)||"")&&!re,Y=j.useCallback(()=>{if(c&&!o){const C=document.querySelector("form");C&&C.requestSubmit()}},[c,o]);Br(Y,c);const ee=jn((e==null?void 0:e.role)||""),D=Sn((e==null?void 0:e.role)||""),J=[{value:"Solar",label:"Solar"},{value:"Pertamax",label:"Pertamax"},{value:"Pertalite",label:"Pertalite"},{value:"Premium",label:"Premium"},{value:"Biosolar",label:"Biosolar"}];j.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:B,SHEETS:K}=await st(async()=>{const{fetchDataByPlant:H,SHEETS:U}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:H,SHEETS:U}},void 0),je=await B(K.PERTA);if(je.success&&je.data){const H=[...je.data].sort((U,ae)=>new Date(ae.tanggal).getTime()-new Date(U.tanggal).getTime());s(H)}else s([])}catch(B){console.error("Error fetching data:",B),s([])}finally{l(!1)}})()},[]),j.useEffect(()=>{const C=(y.volumeAwal||0)+(y.volumePengisian||0)-(y.volumePemakaian||0);v(B=>({...B,volumeAkhir:C>0?C:0}))},[y.volumeAwal,y.volumePengisian,y.volumePemakaian]);const z=async C=>{C.preventDefault(),l(!0);try{const B=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant;if(g){const K={...y,id:g,_plant:B},je=await r("perta",K);if(je.success)s(H=>H.map(U=>U.id===g?{...y,id:g,_plant:B}:U));else throw new Error(je.error||"Gagal mengupdate data")}else{const K={...y,_plant:B},je=await t("perta",K);if(je.success&&je.data){const H={...je.data,_plant:B};s(U=>[H,...U])}else throw new Error(je.error||"Gagal menyimpan data")}u(!1),v(ef),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(B){console.error("Error saving data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},L=C=>{if(ee){R(C),E("edit"),P(!0);return}v(C),m(C.id||null),u(!0)},te=C=>{if(D){b(C),E("delete"),P(!0);return}b(C),f(!0)},ye=async C=>{l(!0);try{const{createData:B,SHEETS:K}=await st(async()=>{const{createData:U,SHEETS:ae}=await Promise.resolve().then(()=>ot);return{createData:U,SHEETS:ae}},void 0),je={type:"PERTA",action:_,itemId:_==="edit"?A==null?void 0:A.id:x,itemData:_==="edit"?A:a.find(U=>U.id===x),reason:C,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},H=await B(K.APPROVAL_REQUESTS,je);if(H.success)P(!1),R(null),b(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(H.error||"Gagal mengirim permintaan")}catch(B){console.error("Error submitting approval:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan")}finally{l(!1)}},Te=async()=>{if(x){l(!0);try{const C=a.find(je=>je.id===x),B=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant,K=await n("perta",{id:x,_plant:(C==null?void 0:C._plant)||B});if(K.success)s(je=>je.filter(H=>H.id!==x)),f(!1),b(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(K.error||"Gagal menghapus data")}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},de=()=>{const C=a[0];v({...ef,volumeAwal:(C==null?void 0:C.volumeAkhir)||0}),m(null),u(!0)},fe=a.filter(C=>{const B=N==="ALL"||C._plant===N,je=new Date(C.tanggal).getFullYear()===parseInt(w);return B&&je}),be=fe.reduce((C,B)=>({pengisian:C.pengisian+(B.volumePengisian||0),pemakaian:C.pemakaian+(B.volumePemakaian||0)}),{pengisian:0,pemakaian:0}),he=((ue=fe[0])==null?void 0:ue.volumeAkhir)||0,_e=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>gt(C)},{key:"shift",header:"Shift",render:C=>i.jsxs(Ze,{variant:"primary",children:["Shift ",C]})},{key:"jenisBBM",header:"Jenis BBM",render:C=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ib,{className:"h-4 w-4 text-amber-500"}),i.jsx("span",{className:"font-medium",children:C})]})},{key:"volumeAwal",header:"Vol. Awal (L)",render:C=>ce(ve(C))},{key:"volumePengisian",header:"Pengisian (L)",render:C=>i.jsxs("span",{className:"text-green-600 font-semibold",children:["+",ce(ve(C))]})},{key:"volumePemakaian",header:"Pemakaian (L)",render:C=>i.jsxs("span",{className:"text-red-600 font-semibold",children:["-",ce(ve(C))]})},{key:"volumeAkhir",header:"Vol. Akhir (L)",render:C=>i.jsx("span",{className:"font-bold text-dark-900 dark:text-white",children:ce(ve(C))})},{key:"keterangan",header:"Keterangan"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Perta (BBM)"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan bakar"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.plant)==="ALL"&&i.jsx(at,{value:N,onChange:C=>S(C.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),M&&i.jsxs(ge,{onClick:de,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stock Saat Ini"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[ce(he)," L"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pengisian"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:["+",ce(be.pengisian)," L"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pemakaian"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:["-",ce(be.pemakaian)," L"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:fe.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Pemakaian BBM - Tahun ",w]}),i.jsx(at,{value:w,onChange:C=>k(C.target.value),options:vTe,className:"w-32"})]})}),i.jsx(Lr,{data:fe,columns:_e,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, shift, jenis BBM, keterangan...",searchKeys:["tanggal","shift","jenisBBM","volumeAwal","volumePengisian","volumePemakaian","volumeAkhir","keterangan"],actions:re?void 0:C=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),G(C.id||""),Z(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-4 w-4 text-gray-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),L(C)},children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),te(C.id)},children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),v(ef),m(null)},title:g?"Edit Data BBM":"Tambah Data BBM",size:"md",children:i.jsxs("form",{onSubmit:z,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:y.tanggal,onChange:C=>v(B=>({...B,tanggal:C.target.value})),required:!0}),i.jsx(at,{label:"Shift",value:y.shift,onChange:C=>v(B=>({...B,shift:C.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0})]}),i.jsx(at,{label:"Jenis BBM",value:y.jenisBBM,onChange:C=>v(B=>({...B,jenisBBM:C.target.value})),options:J,required:!0}),i.jsx(Ae,{label:"Volume Awal (Liter)",type:"number",value:y.volumeAwal||"",onChange:C=>v(B=>({...B,volumeAwal:parseFloat(C.target.value)||0})),placeholder:"0",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Volume Pengisian (Liter)",type:"number",value:y.volumePengisian||"",onChange:C=>v(B=>({...B,volumePengisian:parseFloat(C.target.value)||0})),placeholder:"0"}),i.jsx(Ae,{label:"Volume Pemakaian (Liter)",type:"number",value:y.volumePemakaian||"",onChange:C=>v(B=>({...B,volumePemakaian:parseFloat(C.target.value)||0})),placeholder:"0",required:!0})]}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 font-medium",children:"Volume Akhir:"}),i.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[ce(y.volumeAkhir||0)," Liter"]})]})}),i.jsx(Ae,{label:"Keterangan",type:"text",value:y.keterangan,onChange:C=>v(B=>({...B,keterangan:C.target.value})),placeholder:"Keterangan tambahan"}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{u(!1),v(ef),m(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:d,onClose:()=>{f(!1),b(null)},onConfirm:Te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),i.jsx(Nn,{isOpen:T,onClose:()=>{P(!1),R(null),b(null)},onSubmit:ye,action:_,itemName:"data perta",loading:o}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),i.jsx(Fr,{isOpen:q,onClose:()=>{Z(!1),G("")},sheetName:"perta",recordId:V,title:"Log Aktivitas Perta (BBM)"})]})},v1=new Date().getFullYear(),bTe=[...Array.from({length:v1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(v1+1),label:String(v1+1)}],tf={tanggalMulai:yr(),items:[{item:"",deskripsi:""}],tanggalSelesai:"",jumlahHari:0},RO=({plant:e})=>{var ae;const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(tf),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,E]=j.useState(null),[A,R]=j.useState(!1),[q,Z]=j.useState(""),V=O=>{Z(O),R(!0)},[G,re]=j.useState(!1),[M,Y]=j.useState("edit"),[ee,D]=j.useState(null),J=Jr((t==null?void 0:t.role)||""),z=ln((t==null?void 0:t.role)||"")&&!J,L=j.useCallback(()=>{if(u&&!l){const O=document.querySelector("form");O&&O.requestSubmit()}},[u,l]);Br(L,u);const te=jn((t==null?void 0:t.role)||""),ye=Sn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:W,SHEETS:ne}=await st(async()=>{const{fetchDataByPlant:Me,SHEETS:Ye}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:Me,SHEETS:Ye}},void 0),le=await W(ne.PERBAIKAN_TAHUNAN);if(le.success&&le.data){const Ye=le.data.map(xe=>({...xe,items:typeof xe.items=="string"?JSON.parse(xe.items):xe.items||[]})).sort((xe,Pe)=>new Date(Pe.tanggalMulai||0).getTime()-new Date(xe.tanggalMulai||0).getTime());o(Ye)}else o([])}catch(W){console.error("Error fetching data:",W),o([])}finally{c(!1)}})()},[]),j.useEffect(()=>{if(v.tanggalMulai&&v.tanggalSelesai){const O=new Date(v.tanggalMulai),ne=new Date(v.tanggalSelesai).getTime()-O.getTime(),le=Math.ceil(ne/(1e3*3600*24))+1;w(Me=>({...Me,jumlahHari:le>0?le:0}))}else w(O=>({...O,jumlahHari:0}))},[v.tanggalMulai,v.tanggalSelesai]);const Te=async O=>{O.preventDefault(),c(!0);try{const W={...v,items:JSON.stringify(v.items)};if(m){const ne={...W,id:m,_plant:S},le=await n("perbaikan_tahunan",ne);if(le.success)o(Me=>Me.map(Ye=>Ye.id===m?{...v,id:m,_plant:S}:Ye));else throw new Error(le.error||"Gagal mengupdate data")}else{const ne={...W,_plant:S},le=await r("perbaikan_tahunan",ne);if(le.success&&le.data){const Me={...v,id:le.data.id,_plant:S};o(Ye=>[Me,...Ye])}else throw new Error(le.error||"Gagal menyimpan data")}d(!1),w(tf),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(W){console.error("Error saving data:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},de=O=>{E(O),P(!0)},fe=O=>{if(te){D(O),Y("edit"),re(!0);return}w({...O,items:Array.isArray(O.items)?O.items:[{item:"",deskripsi:""}]}),x(O.id||null),d(!0)},be=O=>{if(ye){y(O),Y("delete"),re(!0);return}y(O),h(!0)},he=async O=>{c(!0);try{const{createData:W,SHEETS:ne}=await st(async()=>{const{createData:Ye,SHEETS:xe}=await Promise.resolve().then(()=>ot);return{createData:Ye,SHEETS:xe}},void 0),le={type:"PERBAIKAN_TAHUNAN",action:M,itemId:M==="edit"?ee==null?void 0:ee.id:b,itemData:M==="edit"?ee:s.find(Ye=>Ye.id===b),reason:O,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Me=await W(ne.APPROVAL_REQUESTS,le);if(Me.success)re(!1),D(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Me.error||"Gagal mengirim permintaan")}catch(W){console.error("Error submitting approval:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan")}finally{c(!1)}},_e=async()=>{if(b){c(!0);try{const O=s.find(ne=>ne.id===b),W=await a("perbaikan_tahunan",{id:b,_plant:(O==null?void 0:O._plant)||S});if(W.success)o(ne=>ne.filter(le=>le.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(W.error||"Gagal menghapus data")}catch(O){console.error("Error deleting data:",O),alert(O instanceof Error?O.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ue=()=>{w(tf),x(null),d(!0)},C=()=>{w(O=>({...O,items:[...O.items,{item:"",deskripsi:""}]}))},B=O=>{v.items.length>1&&w(W=>({...W,items:W.items.filter((ne,le)=>le!==O)}))},K=(O,W,ne)=>{w(le=>({...le,items:le.items.map((Me,Ye)=>Ye===O?{...Me,[W]:ne}:Me)}))},je=s.filter(O=>{const W=O._plant===S,le=new Date(O.tanggalMulai).getFullYear()===parseInt(k);return W&&le}),H=je.reduce((O,W)=>O+(W.jumlahHari||0),0),U=[{key:"tanggalMulai",header:"Tanggal Mulai",sortable:!0,render:O=>gt(O)},{key:"tanggalSelesai",header:"Tanggal Selesai",render:O=>O?gt(O):"-"},{key:"items",header:"Item Perbaikan",render:O=>{const W=O;return!W||!Array.isArray(W)?"-":i.jsxs("div",{className:"max-w-xs",children:[W.slice(0,2).map((ne,le)=>i.jsx("div",{className:"text-sm",children:i.jsx("span",{className:"font-medium",children:ne.item})},le)),W.length>2&&i.jsxs("span",{className:"text-xs text-dark-400",children:["+",W.length-2," lainnya"]})]})}},{key:"jumlahHari",header:"Jumlah Hari",render:O=>i.jsxs(Ze,{variant:"primary",children:[O," Hari"]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Perbaikan Tahunan ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data perbaikan tahunan (PERTA)"})]}),i.jsx("div",{className:"flex items-center gap-3",children:z&&i.jsxs(ge,{onClick:ue,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Perbaikan"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:je.length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Hari Perta"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[H," Hari"]})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Perbaikan Tahunan - Tahun ",k]}),i.jsx(at,{value:k,onChange:O=>N(O.target.value),options:bTe,className:"w-32"})]})}),i.jsx(Lr,{data:je,columns:U,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal mulai, tanggal selesai...",searchKeys:["tanggalMulai","tanggalSelesai","jumlahHari"],actions:O=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),de(O)},title:"Lihat Detail",children:i.jsx(Ss,{className:"h-4 w-4 text-dark-500"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),V(O.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!J&&i.jsxs(i.Fragment,{children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),fe(O)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),be(O.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(tf),x(null)},title:m?"Edit Perbaikan Tahunan":"Tambah Perbaikan Tahunan",size:"lg",children:i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal Mulai Perta",type:"date",value:v.tanggalMulai,onChange:O=>w(W=>({...W,tanggalMulai:O.target.value})),required:!0}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700",children:"Item & Deskripsi Perbaikan"}),i.jsxs(ge,{type:"button",variant:"ghost",size:"sm",onClick:C,children:[i.jsx(jH,{className:"h-4 w-4 mr-1"}),"Tambah Item"]})]}),v.items.map((O,W)=>i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-dark-600",children:["Item ",W+1]}),v.items.length>1&&i.jsx(ge,{type:"button",variant:"ghost",size:"icon",onClick:()=>B(W),className:"h-6 w-6",children:i.jsx(yH,{className:"h-4 w-4 text-red-500"})})]}),i.jsx(Ae,{type:"text",value:O.item,onChange:ne=>K(W,"item",ne.target.value),placeholder:"Nama item perbaikan",required:!0}),i.jsx("textarea",{value:O.deskripsi,onChange:ne=>K(W,"deskripsi",ne.target.value),placeholder:"Deskripsi perbaikan...",className:"input-field min-h-[80px]",required:!0})]},W))]}),i.jsx(Ae,{label:"Tanggal Selesai Perta",type:"date",value:v.tanggalSelesai,onChange:O=>w(W=>({...W,tanggalSelesai:O.target.value}))}),i.jsx("div",{className:"p-4 bg-primary-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 font-medium",children:"Jumlah Hari Perta:"}),i.jsxs(Ze,{variant:"primary",className:"text-lg px-4",children:[v.jumlahHari," Hari"]})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(tf),x(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(xt,{isOpen:T,onClose:()=>{P(!1),E(null)},title:"Detail Perbaikan Tahunan",size:"lg",children:_&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Perbaikan Tahunan (PERTA)"}),i.jsx("h2",{className:"text-2xl font-bold mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),i.jsx("div",{className:"text-right",children:i.jsxs(Ze,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:[_.jumlahHari," Hari"]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(Wa,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Mulai"}),i.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:gt(_.tanggalMulai)})]})]})}),i.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Ic,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Selesai"}),i.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:_.tanggalSelesai?gt(_.tanggalSelesai):"-"})]})]})})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ta,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Item Perbaikan"}),i.jsxs(Ze,{variant:"primary",className:"ml-auto",children:[((ae=_.items)==null?void 0:ae.length)||0," Item"]})]}),i.jsx("div",{className:"space-y-3",children:_.items&&_.items.map((O,W)=>i.jsx("div",{className:"bg-white dark:bg-dark-700 rounded-xl p-4 border border-dark-200 dark:border-dark-600 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-primary-600 font-bold text-sm",children:W+1})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-dark-900 dark:text-white mb-1",children:O.item}),i.jsx("p",{className:"text-dark-600 dark:text-dark-300 text-sm leading-relaxed",children:O.deskripsi})]})]})},W))})]}),i.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-200 dark:bg-amber-800 rounded-lg",children:i.jsx(Ai,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Total Durasi Perbaikan"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:[_.jumlahHari," Hari"]})]})]}),i.jsx(CH,{className:"h-12 w-12 text-amber-300 dark:text-amber-700"})]})}),i.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:i.jsx(ge,{variant:"secondary",onClick:()=>{P(!1),E(null)},children:"Tutup"})})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:_e,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data perbaikan tahunan ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:G,onClose:()=>{re(!1),D(null),y(null)},onSubmit:he,action:M,itemName:"perbaikan tahunan",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:A,onClose:()=>{R(!1),Z("")},sheetName:S==="NPK1"?"perbaikan_tahunan_NPK1":"perbaikan_tahunan",recordId:q,title:"Log Aktivitas Perbaikan Tahunan"})]})},y1=new Date().getFullYear(),wTe=[...Array.from({length:y1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(y1+1),label:String(y1+1)}],rf={nomorBerkas:"",tanggal:yr(),tanggalKejadian:yr(),shift:"1",waktuKejadian:"",kodePeralatan:"",area:"",deskripsiMasalah:"",penyebab:"",tindakan:"",status:"Open",pic:"",targetSelesai:"",keterangan:""},IO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(rf),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,E]=j.useState(null),[A,R]=j.useState(!1),[q,Z]=j.useState(""),V=Se=>{Z(Se),R(!0)},[G,re]=j.useState(!1),[M,Y]=j.useState("edit"),[ee,D]=j.useState(null),J=(t==null?void 0:t.role)||"",z=ln(J),L=j.useCallback(()=>{if(u&&!l){const Se=document.querySelector("form");Se&&Se.requestSubmit()}},[u,l]);Br(L,u);const te=jn(J),ye=Sn(J),Te=Jr(J),[de,fe]=j.useState(!1),[be,he]=j.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[_e,ue]=j.useState(new Date().toISOString().split("T")[0]),[C,B]=j.useState("all"),[K,je]=j.useState(!1),H=[{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Re,SHEETS:Qe}=await st(async()=>{const{fetchDataByPlant:Je,SHEETS:ut}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:Je,SHEETS:ut}},void 0),et=await Re(Qe.TROUBLE_RECORD);if(et.success&&et.data){const Je=[...et.data].sort((ut,ur)=>new Date(ur.tanggal||"").getTime()-new Date(ut.tanggal||"").getTime());o(Je)}else o([])}catch(Re){console.error("Error fetching data:",Re),o([])}finally{c(!1)}})()},[]);const U=async Se=>{Se.preventDefault(),c(!0);try{if(m){const Re={...v,id:m,_plant:S},Qe=await n(Yr.TROUBLE_RECORD,Re);if(Qe.success)o(et=>et.map(Je=>Je.id===m?{...v,id:m,_plant:S}:Je));else throw new Error(Qe.error||"Gagal mengupdate data")}else{const Re={...v,_plant:S},Qe=await r(Yr.TROUBLE_RECORD,Re);if(Qe.success&&Qe.data){const et={...Qe.data,_plant:S};o(Je=>[et,...Je])}else throw new Error(Qe.error||"Gagal menyimpan data")}d(!1),w(rf),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Re){console.error("Error saving data:",Re),alert(Re instanceof Error?Re.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ae=Se=>{E(Se),P(!0)},O=Se=>{if(te){D(Se),Y("edit"),re(!0);return}w(Se),x(Se.id||null),d(!0)},W=Se=>{if(ye){const Re=s.find(Qe=>Qe.id===Se);Re&&(D(Re),Y("delete"),re(!0));return}y(Se),h(!0)},ne=async Se=>{if(!(!ee||!t)){c(!0);try{const{createData:Re,SHEETS:Qe}=await st(async()=>{const{createData:ut,SHEETS:ur}=await Promise.resolve().then(()=>ot);return{createData:ut,SHEETS:ur}},void 0),et={type:"trouble_record",action:M,itemId:ee.id,itemData:ee,targetSheet:S==="NPK1"?"trouble_record_NPK1":"trouble_record",reason:Se,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Je=await Re(Qe.APPROVAL_REQUESTS,et);if(Je.success)re(!1),D(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Je.error||"Gagal mengirim permintaan")}catch(Re){console.error("Error submitting approval:",Re),alert(Re instanceof Error?Re.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},le=async()=>{if(b){c(!0);try{const Se=s.find(Qe=>Qe.id===b),Re=await a(Yr.TROUBLE_RECORD,{id:b,_plant:(Se==null?void 0:Se._plant)||S});if(Re.success)o(Qe=>Qe.filter(et=>et.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Re.error||"Gagal menghapus data")}catch(Se){console.error("Error deleting data:",Se),alert(Se instanceof Error?Se.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Me=()=>{w(rf),x(null),d(!0)},Ye=s.filter(Se=>{const Re=Se._plant===S,et=new Date(Se.tanggal||"").getFullYear()===parseInt(k);return Re&&et}),xe={open:Ye.filter(Se=>Se.status==="Open").length,progress:Ye.filter(Se=>Se.status==="In Progress").length,closed:Ye.filter(Se=>Se.status==="Closed").length,pending:Ye.filter(Se=>Se.status==="Pending").length},Pe=Se=>{switch(Se){case"Open":return"danger";case"In Progress":return"warning";case"Closed":return"success";case"Pending":return"info";default:return"default"}},$e=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Se=>gt(Se)},{key:"shift",header:"Shift",render:Se=>i.jsxs(Ze,{variant:"primary",children:["Shift ",Se]})},{key:"waktuKejadian",header:"Waktu",render:Se=>sa(Se)},{key:"area",header:"Item Terdampak",render:Se=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_f,{className:"h-4 w-4 text-dark-400"}),i.jsx("span",{className:"font-medium",children:Se})]})},{key:"deskripsiMasalah",header:"Deskripsi Masalah",render:Se=>i.jsx("span",{className:"line-clamp-2 max-w-xs",children:Se})},{key:"pic",header:"PIC"},{key:"status",header:"Status",render:Se=>i.jsx(Ze,{variant:Pe(Se),children:Se})},{key:"targetSelesai",header:"Target",render:Se=>gt(Se)}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Trouble Record ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Catatan masalah dan tindak lanjut"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ge,{variant:"secondary",onClick:()=>fe(!0),className:"bg-green-600 hover:bg-green-700 text-white border-0",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export"]}),z&&i.jsxs(ge,{onClick:Me,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Catat Trouble"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-red-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Open"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:xe.open})]}),i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-amber-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"In Progress"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:xe.progress})]}),i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-green-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Closed"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:xe.closed})]}),i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-gray-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Pending"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-600 dark:text-gray-400",children:xe.pending})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Data Trouble Record - Tahun ",k]}),i.jsx(at,{value:k,onChange:Se=>N(Se.target.value),options:wTe,className:"w-32"})]})}),i.jsx(Lr,{data:Ye,columns:$e,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor berkas, item terdampak, masalah, PIC...",searchKeys:["tanggal","nomorBerkas","area","deskripsiMasalah","penyebab","tindakan","status","pic"],actions:Se=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),ae(Se)},title:"Lihat Detail",children:i.jsx(Ss,{className:"h-4 w-4 text-dark-500"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),V(Se.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!Te&&i.jsxs(i.Fragment,{children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),O(Se)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),W(Se.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(rf),x(null)},title:m?"Edit Trouble Record":"Catat Trouble Baru",size:"lg",children:i.jsxs("form",{onSubmit:U,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:Se=>w(Re=>({...Re,tanggal:Se.target.value})),required:!0}),i.jsx(at,{label:"Shift",value:v.shift,onChange:Se=>w(Re=>({...Re,shift:Se.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0}),i.jsx(Ae,{label:"Waktu Kejadian",type:"time",value:v.waktuKejadian,onChange:Se=>w(Re=>({...Re,waktuKejadian:Se.target.value})),required:!0})]}),i.jsx(Ae,{label:"Item yang Terdampak",type:"text",value:v.area,onChange:Se=>w(Re=>({...Re,area:Se.target.value})),placeholder:"Masukkan item/peralatan yang terdampak",required:!0}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Masalah"}),i.jsx("textarea",{value:v.deskripsiMasalah,onChange:Se=>w(Re=>({...Re,deskripsiMasalah:Se.target.value})),placeholder:"Jelaskan masalah yang terjadi...",className:"input-field min-h-[80px]",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Penyebab"}),i.jsx("textarea",{value:v.penyebab,onChange:Se=>w(Re=>({...Re,penyebab:Se.target.value})),placeholder:"Analisa penyebab...",className:"input-field min-h-[60px]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tindakan"}),i.jsx("textarea",{value:v.tindakan,onChange:Se=>w(Re=>({...Re,tindakan:Se.target.value})),placeholder:"Tindakan yang dilakukan/direncanakan...",className:"input-field min-h-[60px]"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(at,{label:"Status",value:v.status,onChange:Se=>w(Re=>({...Re,status:Se.target.value})),options:H,required:!0}),i.jsx(Ae,{label:"PIC",type:"text",value:v.pic,onChange:Se=>w(Re=>({...Re,pic:Se.target.value})),placeholder:"Nama PIC",required:!0}),i.jsx(Ae,{label:"Target Selesai",type:"date",value:v.targetSelesai,onChange:Se=>w(Re=>({...Re,targetSelesai:Se.target.value}))})]}),i.jsx(Ae,{label:"Keterangan",type:"text",value:v.keterangan,onChange:Se=>w(Re=>({...Re,keterangan:Se.target.value})),placeholder:"Keterangan tambahan"}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(rf),x(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(xt,{isOpen:T,onClose:()=>{P(!1),E(null)},title:"Detail Trouble Record",size:"lg",children:_&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:`rounded-2xl p-6 text-white ${_.status==="Open"?"bg-gradient-to-r from-red-500 to-red-600":_.status==="In Progress"?"bg-gradient-to-r from-amber-500 to-amber-600":_.status==="Closed"?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Trouble Record"}),i.jsx("h2",{className:"text-2xl font-bold mt-1",children:_.area||"Item Terdampak"}),i.jsx("p",{className:"text-white/80 text-sm mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),i.jsx(Ze,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:_.status})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Wa,{className:"h-4 w-4 text-primary-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal"})]}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:gt(_.tanggal||"")})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ai,{className:"h-4 w-4 text-amber-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Waktu"})]}),i.jsxs("p",{className:"font-semibold text-dark-900 dark:text-white",children:["Shift ",_.shift," - ",sa(_.waktuKejadian)]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(gh,{className:"h-4 w-4 text-blue-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"PIC"})]}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:_.pic||"-"})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Eo,{className:"h-4 w-4 text-green-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Target Selesai"})]}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:_.targetSelesai?gt(_.targetSelesai):"-"})]})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(_f,{className:"h-5 w-5 text-red-600"}),i.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300",children:"Deskripsi Masalah"})]}),i.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.deskripsiMasalah||"-"})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-amber-600"}),i.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Analisa Penyebab"})]}),i.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.penyebab||"-"})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ic,{className:"h-5 w-5 text-green-600"}),i.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tindakan"})]}),i.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.tindakan||"-"})]}),_.keterangan&&i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-dark-500"}),i.jsx("h3",{className:"font-semibold text-dark-700 dark:text-dark-300",children:"Keterangan Tambahan"})]}),i.jsx("p",{className:"text-dark-600 dark:text-dark-400 leading-relaxed",children:_.keterangan})]}),i.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:i.jsx(ge,{variant:"secondary",onClick:()=>{P(!1),E(null)},children:"Tutup"})})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:le,title:"Hapus Trouble Record",message:"Apakah Anda yakin ingin menghapus record ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:G,onClose:()=>{re(!1),D(null)},onSubmit:ne,action:M,itemName:"data trouble record",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:A,onClose:()=>{R(!1),Z("")},sheetName:S==="NPK1"?"trouble_record_NPK1":"trouble_record",recordId:q,title:"Log Aktivitas Trouble Record"}),i.jsx(xt,{isOpen:de,onClose:()=>fe(!1),title:"",size:"md",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green-100 dark:bg-green-900/40 mb-3",children:i.jsx(Ef,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),i.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Export Trouble Record"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(Wa,{className:"h-4 w-4 text-primary-500"}),"Rentang Tanggal"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Ae,{label:"Dari Tanggal",type:"date",value:be,onChange:Se=>he(Se.target.value)}),i.jsx(Ae,{label:"Sampai Tanggal",type:"date",value:_e,onChange:Se=>ue(Se.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(_f,{className:"h-4 w-4 text-primary-500"}),"Filter Status"]}),i.jsx(at,{value:C,onChange:Se=>B(Se.target.value),options:[{value:"all",label:"Semua Status"},{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}]})]}),(()=>{const Se=Ye.filter(Re=>{const Qe=new Date(Re.tanggal||""),et=new Date(be),Je=new Date(_e);Qe.setHours(0,0,0,0),et.setHours(0,0,0,0),Je.setHours(0,0,0,0);const ut=Qe>=et&&Qe<=Je,ur=C==="all"||Re.status===C;return ut&&ur});return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-50 dark:bg-dark-800 rounded-lg border border-border",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Data yang akan diekspor:"}),i.jsxs("span",{className:`text-sm font-bold ${Se.length>0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[Se.length," data"]})]})})(),i.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-border",children:[i.jsx(ge,{variant:"secondary",onClick:()=>fe(!1),children:"Batal"}),i.jsxs(ge,{onClick:()=>{je(!0);try{const Se=Ye.filter(dt=>{const Ct=new Date(dt.tanggal||""),Bn=new Date(be),Ur=new Date(_e);Ct.setHours(0,0,0,0),Bn.setHours(0,0,0,0),Ur.setHours(0,0,0,0);const nt=Ct>=Bn&&Ct<=Ur,ji=C==="all"||dt.status===C;return nt&&ji});if(Se.length===0){alert("Tidak ada data untuk diekspor."),je(!1);return}const Re=[...Se].sort((dt,Ct)=>new Date(dt.tanggal||"").getTime()-new Date(Ct.tanggal||"").getTime()),Qe=dt=>dt?new Date(dt).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",et=S==="NPK1"?"NPK 1":"NPK 2",Je=Ei.book_new(),ut=[];ut.push([`Trouble Record - ${et}`]),ut.push([`Periode: ${Qe(be)} s/d ${Qe(_e)}`]),ut.push([`Status: ${C==="all"?"Semua":C}`]),ut.push([]),ut.push(["No","Tanggal","Shift","Waktu","Item Terdampak","Deskripsi Masalah","Penyebab","Tindakan","Status","PIC","Target Selesai","Keterangan"]),Re.forEach((dt,Ct)=>{ut.push([Ct+1,Qe(dt.tanggal||""),`Shift ${dt.shift||"-"}`,dt.waktuKejadian||"-",dt.area||"-",dt.deskripsiMasalah||"-",dt.penyebab||"-",dt.tindakan||"-",dt.status||"-",dt.pic||"-",dt.targetSelesai?Qe(dt.targetSelesai):"-",dt.keterangan||"-"])}),ut.push([]),ut.push(["","","","","","","","",`Total: ${Re.length} data`,"","",""]);const ur=Ei.aoa_to_sheet(ut);ur["!cols"]=[{wch:5},{wch:14},{wch:8},{wch:8},{wch:20},{wch:35},{wch:30},{wch:30},{wch:12},{wch:15},{wch:14},{wch:20}],ur["!merges"]=[{s:{r:0,c:0},e:{r:0,c:11}},{s:{r:1,c:0},e:{r:1,c:11}},{s:{r:2,c:0},e:{r:2,c:11}}],Ei.book_append_sheet(Je,ur,"Trouble Record");const Ee=[];Ee.push([`Rekap Trouble Record - ${et}`]),Ee.push([`Periode: ${Qe(be)} s/d ${Qe(_e)}`]),Ee.push([]),Ee.push(["No","Status","Jumlah"]);const Ue=["Open","In Progress","Closed","Pending"];let lt=0;Ue.forEach((dt,Ct)=>{const Bn=Re.filter(Ur=>Ur.status===dt).length;Bn>0&&(Ee.push([Ct+1,dt,Bn]),lt+=Bn)}),Ee.push([]),Ee.push(["","Total",lt]);const jt=Ei.aoa_to_sheet(Ee);jt["!cols"]=[{wch:5},{wch:15},{wch:10}],jt["!merges"]=[{s:{r:0,c:0},e:{r:0,c:2}},{s:{r:1,c:0},e:{r:1,c:2}}],Ei.book_append_sheet(Je,jt,"Rekap Status");const br=`${be.replace(/-/g,"")}_${_e.replace(/-/g,"")}`,Jt=`TroubleRecord_${et.replace(" ","")}_${br}.xlsx`;tI(Je,Jt),fe(!1)}catch(Se){console.error("Export error:",Se),alert("Gagal mengekspor data. Silakan coba lagi.")}finally{je(!1)}},isLoading:K,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]})})]})};function LO({plant:e}){const{user:t}=Et(),r=Jr((t==null?void 0:t.role)||""),[n,a]=j.useState([]),[s,o]=j.useState(!0),[l,c]=j.useState(!1),[u,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState({judul:"",keterangan:""}),[S,T]=j.useState(null),[P,_]=j.useState(!1),[E,A]=j.useState(!1),[R,q]=j.useState("environment"),Z=j.useRef(null),V=j.useRef(null),G=j.useRef(null),re=j.useRef(null),M=dM(Yr.DOKUMENTASI_FOTO,e),Y=j.useCallback(async()=>{o(!0);try{const C=await cM(M);if(C.success&&C.data){const B=C.data.map(K=>({...K,_plant:e,thumbnailUrl:`https://drive.google.com/thumbnail?id=${K.fileId}&sz=w400`}));B.sort((K,je)=>new Date(je.createdAt||je.tanggal).getTime()-new Date(K.createdAt||K.tanggal).getTime()),a(B)}}catch(C){console.error("Error fetching photos:",C)}finally{o(!1)}},[M,e]);j.useEffect(()=>{Y()},[Y]),j.useEffect(()=>()=>{re.current&&(re.current.getTracks().forEach(C=>C.stop()),re.current=null)},[]);const ee=j.useCallback(async(C="environment")=>{T(null),_(!1),re.current&&(re.current.getTracks().forEach(B=>B.stop()),re.current=null);try{const B={video:{facingMode:C,width:{ideal:3840,min:1920},height:{ideal:2160,min:1080},frameRate:{ideal:30,min:24},aspectRatio:{ideal:1.7777777777777777}},audio:!1};let K;try{K=await navigator.mediaDevices.getUserMedia(B)}catch{console.log("High quality not supported, falling back to standard"),K=await navigator.mediaDevices.getUserMedia({video:{facingMode:C,width:{ideal:1920},height:{ideal:1080}},audio:!1})}re.current=K,Z.current&&(Z.current.srcObject=K,_(!0))}catch(B){console.error("Camera error:",B),B instanceof Error&&(B.name==="NotAllowedError"?T("Akses kamera ditolak. Mohon izinkan akses kamera di pengaturan browser."):B.name==="NotFoundError"?T("Kamera tidak ditemukan. Pastikan perangkat memiliki kamera."):B.name==="NotReadableError"?T("Kamera sedang digunakan aplikasi lain. Tutup aplikasi lain dan coba lagi."):T(`Error: ${B.message}`))}},[]),D=j.useCallback(()=>{const C=R==="environment"?"user":"environment";q(C),ee(C)},[R,ee]),J=j.useCallback(()=>{re.current&&(re.current.getTracks().forEach(C=>C.stop()),re.current=null),Z.current&&(Z.current.srcObject=null),_(!1)},[]),z=j.useCallback(()=>{if(!Z.current||!V.current)return;const C=Z.current,B=V.current,K=B.getContext("2d");if(!K)return;const je=C.videoWidth,H=C.videoHeight;B.width=je,B.height=H,K.imageSmoothingEnabled=!0,K.imageSmoothingQuality="high",K.drawImage(C,0,0,je,H);const U=B.toDataURL("image/jpeg",.95);w(U),J()},[J]),L=j.useCallback(()=>{h(!1),A(!0)},[]),te=j.useCallback(C=>{var je;const B=(je=C.target.files)==null?void 0:je[0];if(!B)return;if(B.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}const K=new FileReader;K.onload=H=>{var ae;const U=(ae=H.target)==null?void 0:ae.result;w(U),J(),h(!1),A(!0)},K.readAsDataURL(B),C.target.value=""},[J]),ye=()=>{w(null),N({judul:"",keterangan:""}),T(null),_(!1),h(!0)};j.useEffect(()=>{let C=!0;if(f&&!v){const B=setTimeout(()=>{C&&ee(R)},200);return()=>{C=!1,clearTimeout(B)}}return()=>{C=!1}},[f,v,R,ee]);const Te=j.useCallback(()=>{J(),w(null),N({judul:"",keterangan:""}),T(null),h(!1),A(!1)},[J]),de=j.useCallback(()=>{w(null),ee(R)},[R,ee]),fe=async()=>{if(!v||!k.judul.trim()){alert("Judul foto harus diisi!");return}c(!0);try{const C=`${k.judul.replace(/[^a-zA-Z0-9-_]/g,"_")}_${Date.now()}.jpg`,B=await fM({judul:k.judul.trim(),keterangan:k.keterangan.trim(),imageBase64:v,fileName:C,uploadBy:(t==null?void 0:t.username)||(t==null?void 0:t.nama)||"unknown",plant:e});B.success?(alert("Foto berhasil diupload!"),Te(),Y()):alert(`Gagal upload: ${B.error}`)}catch(C){console.error("Upload error:",C),alert("Terjadi kesalahan saat upload foto")}finally{c(!1)}},be=async()=>{if(!(!(b!=null&&b.id)||!(b!=null&&b.fileId))){c(!0);try{const C=await hM({id:b.id,fileId:b.fileId,plant:e});C.success?(alert("Foto berhasil dihapus!"),x(!1),y(null),Y()):alert(`Gagal menghapus: ${C.error}`)}catch(C){console.error("Delete error:",C),alert("Terjadi kesalahan saat menghapus foto")}finally{c(!1)}}},he=C=>{y(C),g(!0)},ue=n.filter(C=>{var K,je,H,U,ae;const B=u.toLowerCase();return((K=C.judul)==null?void 0:K.toLowerCase().includes(B))||((je=C.keterangan)==null?void 0:je.toLowerCase().includes(B))||((H=C.uploadBy)==null?void 0:H.toLowerCase().includes(B))||((U=C.tanggal)==null?void 0:U.includes(u))||((ae=C.kategori)==null?void 0:ae.toLowerCase().includes(B))}).reduce((C,B)=>{const K=B.judul||"Lainnya";return C[K]||(C[K]=[]),C[K].push(B),C},{});return i.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dokumentasi Foto"}),i.jsxs("p",{className:"text-gray-600",children:["Plant ",e," - ",n.length," foto"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Ae,{type:"text",placeholder:"Cari judul, kategori, keterangan, uploader...",value:u,onChange:C=>d(C.target.value),className:"pl-10 w-full sm:w-80"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ge,{variant:"outline",onClick:Y,disabled:s,className:"flex-1 sm:flex-none",children:[i.jsx(vl,{className:Ge("h-4 w-4 mr-2",s&&"animate-spin")}),"Refresh"]}),!r&&i.jsxs(ge,{onClick:ye,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[i.jsx(dP,{className:"h-4 w-4 mr-2"}),"Ambil Foto"]})]})]})]}),s&&i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(Cm,{})}),!s&&n.length===0&&i.jsxs(Ie,{className:"p-12 text-center",children:[i.jsx(vP,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Foto"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Mulai dokumentasi dengan mengambil foto pertama"}),!r&&i.jsxs(ge,{onClick:ye,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(dP,{className:"h-4 w-4 mr-2"}),"Ambil Foto Sekarang"]})]}),!s&&Object.keys(ue).length>0&&i.jsx("div",{className:"space-y-8",children:Object.entries(ue).map(([C,B])=>{var K;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(mH,{className:"h-5 w-5 text-yellow-500"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:C}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",B.length," foto)"]}),((K=B[0])==null?void 0:K.folderUrl)&&i.jsxs("a",{href:B[0].folderUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[i.jsx(gP,{className:"h-4 w-4"}),"Buka Folder"]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:B.map(je=>i.jsxs(Yt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>he(je),children:[i.jsx("img",{src:je.thumbnailUrl,alt:je.judul,className:"w-full h-full object-cover",loading:"lazy",onError:H=>{H.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'/%3E%3C/svg%3E"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[i.jsx("p",{className:"text-white text-xs truncate",children:je.tanggal}),je.keterangan&&i.jsx("p",{className:"text-white/80 text-xs truncate",children:je.keterangan})]})}),i.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(DH,{className:"h-5 w-5 text-white drop-shadow-lg"})})]},je.id))})]},C)})}),f&&i.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[i.jsx("canvas",{ref:V,style:{display:"none"}}),i.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:te,style:{display:"none"}}),v?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:v,alt:"Captured",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black"}}),i.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[i.jsx("button",{onClick:Te,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(Xa,{size:24})}),i.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Preview Foto"}),i.jsx("div",{style:{width:"48px"}})]}),i.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"48px"},children:[i.jsxs("button",{onClick:de,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[i.jsx("div",{style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)"},children:i.jsx(yy,{size:28})}),i.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Ulangi"})]}),i.jsxs("button",{onClick:L,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[i.jsx("div",{style:{padding:"20px",borderRadius:"50%",backgroundColor:"#22c55e"},children:i.jsx(hH,{size:40})}),i.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Gunakan Foto"})]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:Z,autoPlay:!0,playsInline:!0,muted:!0,onCanPlay:()=>_(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transform:R==="user"?"scaleX(-1)":"none"}}),i.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[i.jsx("button",{onClick:Te,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(Xa,{size:24})}),i.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Ambil Foto"}),i.jsx("button",{onClick:D,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(yy,{size:24})})]}),!P&&!S&&i.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",zIndex:20},children:i.jsxs("div",{style:{textAlign:"center",color:"white"},children:[i.jsx(Cm,{}),i.jsx("p",{style:{marginTop:"8px"},children:"Memuat kamera..."})]})}),S&&i.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black",zIndex:20},children:i.jsxs("div",{style:{textAlign:"center",color:"white",padding:"24px",maxWidth:"320px"},children:[i.jsx(_f,{size:64,style:{margin:"0 auto 16px",color:"#f87171"}}),i.jsx("p",{style:{marginBottom:"24px",fontSize:"18px"},children:S}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[i.jsxs(ge,{onClick:()=>ee(),className:"bg-white text-black hover:bg-gray-200",children:[i.jsx(vl,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]}),i.jsxs(ge,{variant:"outline",onClick:()=>{var C;return(C=G.current)==null?void 0:C.click()},className:"text-white border-white hover:bg-white/10",children:[i.jsx(wP,{className:"h-4 w-4 mr-2"}),"Pilih dari Galeri"]})]})]})}),P&&i.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"32px"},children:[i.jsx("button",{onClick:()=>{var C;return(C=G.current)==null?void 0:C.click()},style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(vP,{size:28})}),i.jsx("button",{onClick:z,style:{padding:"4px",borderRadius:"50%",backgroundColor:"white",border:"none",cursor:"pointer"},children:i.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"50%",border:"4px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"}})})}),i.jsx("div",{style:{width:"60px"}})]})})]})]}),i.jsx(Po,{children:E&&v&&i.jsx(xt,{isOpen:E,onClose:Te,title:"Upload Foto",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[i.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover"}),i.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>{A(!1),h(!0),de()},className:"absolute bottom-2 right-2 bg-white/90 hover:bg-white",children:[i.jsx(yy,{className:"h-4 w-4 mr-1"}),"Ganti Foto"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Judul / Nama Folder ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ae,{type:"text",placeholder:"Contoh: C2-L-001",value:k.judul,onChange:C=>N({...k,judul:C.target.value}),className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Foto akan disimpan di folder sesuai judul ini"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keterangan"}),i.jsx("textarea",{placeholder:"Deskripsi foto (opsional)",value:k.keterangan,onChange:C=>N({...k,keterangan:C.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(ge,{variant:"outline",onClick:Te,className:"flex-1",disabled:l,children:"Batal"}),i.jsx(ge,{onClick:fe,disabled:l||!k.judul.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:l?i.jsxs(i.Fragment,{children:[i.jsx(vl,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wP,{className:"h-4 w-4 mr-2"}),"Upload Foto"]})})]})]})]})})}),i.jsx(Po,{children:p&&b&&i.jsx(xt,{isOpen:p,onClose:()=>{g(!1),y(null)},title:b.judul,size:"xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:i.jsx("img",{src:`https://drive.google.com/thumbnail?id=${b.fileId}&sz=w1200`,alt:b.judul,className:"w-full max-h-[60vh] object-contain"})}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Tanggal:"}),i.jsx("span",{className:"font-medium",children:b.tanggal})]}),b.keterangan&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Keterangan:"}),i.jsx("span",{className:"font-medium",children:b.keterangan})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Diupload oleh:"}),i.jsx("span",{className:"font-medium",children:b.uploadBy})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("a",{href:b.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:i.jsxs(ge,{variant:"outline",className:"w-full",children:[i.jsx(gP,{className:"h-4 w-4 mr-2"}),"Buka di Drive"]})}),i.jsx("a",{href:`https://drive.google.com/uc?export=download&id=${b.fileId}`,download:!0,className:"flex-1",children:i.jsxs(ge,{variant:"outline",className:"w-full",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Download"]})}),!r&&i.jsx(ge,{variant:"outline",onClick:()=>{g(!1),x(!0)},className:"text-red-600 border-red-300 hover:bg-red-50",children:i.jsx(lr,{className:"h-4 w-4"})})]})]})})}),i.jsx(Po,{children:m&&b&&i.jsx(xt,{isOpen:m,onClose:()=>{x(!1),y(null)},title:"Hapus Foto",size:"sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(lr,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900",children:"Apakah Anda yakin ingin menghapus foto ini?"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Foto "',b.judul,'" akan dihapus dari Google Drive. Tindakan ini tidak dapat dibatalkan.']})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ge,{variant:"outline",onClick:()=>{x(!1),y(null)},className:"flex-1",disabled:l,children:"Batal"}),i.jsx(ge,{onClick:be,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?i.jsxs(i.Fragment,{children:[i.jsx(vl,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):i.jsxs(i.Fragment,{children:[i.jsx(lr,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})})})]})}const kTe=[{value:"all",label:"Semua Bulan"},{value:"0",label:"Januari"},{value:"1",label:"Februari"},{value:"2",label:"Maret"},{value:"3",label:"April"},{value:"4",label:"Mei"},{value:"5",label:"Juni"},{value:"6",label:"Juli"},{value:"7",label:"Agustus"},{value:"8",label:"September"},{value:"9",label:"Oktober"},{value:"10",label:"November"},{value:"11",label:"Desember"}],jTe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],b1=new Date().getFullYear(),STe=[{value:"all",label:"Semua Tahun"},...Array.from({length:b1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(b1+1),label:String(b1+1)}],nf={tanggal:yr(),namaAlatBerat:"",pengajuanSolar:0,realisasiPengisian:0,keterangan:""},FO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=Zr(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(nf),[k,N]=j.useState("all"),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),E=e,[A,R]=j.useState(!1),[q,Z]=j.useState("edit"),[V,G]=j.useState(null),[re,M]=j.useState(!1),[Y,ee]=j.useState(""),D=H=>{ee(H),M(!0)},J=Jr((t==null?void 0:t.role)||""),z=ln((t==null?void 0:t.role)||"")&&!J,L=j.useCallback(()=>{if(u&&!l){const H=document.querySelector("form");H&&H.requestSubmit()}},[u,l]);Br(L,u);const te=y2((t==null?void 0:t.role)||""),ye=b2((t==null?void 0:t.role)||""),Te=jn((t==null?void 0:t.role)||""),de=Sn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:U,SHEETS:ae}=await st(async()=>{const{fetchDataByPlant:W,SHEETS:ne}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:W,SHEETS:ne}},void 0),O=await U(ae.REKAP_BBM);if(O.success&&O.data){const W=[...O.data].sort((ne,le)=>new Date(le.tanggal).getTime()-new Date(ne.tanggal).getTime());o(W)}else o([])}catch(U){console.error("Error fetching data:",U),o([])}finally{c(!1)}})()},[]);const fe=async H=>{H.preventDefault(),c(!0);try{if(m){const U={...v,id:m,_plant:E};(await n("rekap_bbm",U)).success&&o(O=>O.map(W=>W.id===m?{...U}:W))}else{const U={...v,_plant:E},ae=await r("rekap_bbm",U);ae.success&&ae.data&&o(O=>[ae.data,...O])}g(!0),d(!1),x(null),w(nf)}catch(U){console.error("Error saving data:",U)}finally{c(!1)}},be=H=>{J||(te?(w(H),x(H.id||null),d(!0)):Te&&(G(H),Z("edit"),R(!0)))},he=H=>{if(!J){if(ye)y(H),h(!0);else if(de){const U=s.find(ae=>ae.id===H);U&&(G(U),Z("delete"),R(!0))}}},_e=async()=>{if(b){c(!0);try{const H=s.find(ae=>ae.id===b);(await a("rekap_bbm",{id:b,_plant:(H==null?void 0:H._plant)||E})).success&&(o(ae=>ae.filter(O=>O.id!==b)),g(!0))}catch(H){console.error("Error deleting data:",H)}finally{c(!1),h(!1),y(null)}}},ue=async H=>{if(V){c(!0);try{const{createData:U,SHEETS:ae}=await st(async()=>{const{createData:W,SHEETS:ne}=await Promise.resolve().then(()=>ot);return{createData:W,SHEETS:ne}},void 0),O={type:q,dataType:"rekap_bbm",dataId:V.id,plant:E,requestBy:t==null?void 0:t.username,requestByName:(t==null?void 0:t.namaLengkap)||(t==null?void 0:t.nama),reason:H,data:JSON.stringify(V),status:"pending",createdAt:new Date().toISOString()};await U(ae.APPROVAL_REQUESTS,O),g(!0)}catch(U){console.error("Error creating approval request:",U)}finally{c(!1),R(!1),G(null)}}},C=j.useMemo(()=>s.filter(H=>!(H._plant!==E||S!=="all"&&new Date(H.tanggal).getFullYear()!==parseInt(S)||k!=="all"&&new Date(H.tanggal).getMonth()!==parseInt(k))),[s,E,k,S]),B=j.useMemo(()=>{const H=C.reduce((W,ne)=>W+(ne.pengajuanSolar||0),0),U=C.reduce((W,ne)=>W+(ne.realisasiPengisian||0),0),ae=U-H,O=C.length;return{totalPengajuan:H,totalRealisasi:U,totalSelisih:ae,totalRecord:O}},[C]),K=[{key:"tanggal",header:"Tanggal",render:(H,U)=>gt(U.tanggal),sortable:!0},{key:"namaAlatBerat",header:"Nama Alat Berat",sortable:!0},{key:"pengajuanSolar",header:"Pengajuan Solar (L)",render:(H,U)=>ce(U.pengajuanSolar),sortable:!0},{key:"realisasiPengisian",header:"Realisasi Pengisian (L)",render:(H,U)=>ce(U.realisasiPengisian),sortable:!0},{key:"selisih",header:"Selisih (L)",render:(H,U)=>{const ae=U.realisasiPengisian-U.pengajuanSolar,O=ae>=0?"text-green-600":"text-red-600";return i.jsx("span",{className:O,children:ce(ae)})},sortable:!1},{key:"keterangan",header:"Keterangan",render:(H,U)=>U.keterangan||"-"}],je=H=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>D(H.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4"})}),!J&&(te||Te)&&i.jsx("button",{onClick:()=>be(H),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:Te?"Ajukan Edit":"Edit",children:i.jsx(hr,{className:"h-4 w-4"})}),!J&&(ye||de)&&i.jsx("button",{onClick:()=>he(H.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:de?"Ajukan Hapus":"Hapus",children:i.jsx(lr,{className:"h-4 w-4"})})]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 rounded-xl p-3 sm:p-4 border border-amber-200 dark:border-amber-800",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-amber-700 dark:text-amber-300 uppercase tracking-wider",children:"Total Pengajuan"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-900 dark:text-amber-100",children:ce(B.totalPengajuan)}),i.jsx("p",{className:"text-[10px] sm:text-xs text-amber-600 dark:text-amber-400",children:"Liter"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 rounded-xl p-3 sm:p-4 border border-blue-200 dark:border-blue-800",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Total Realisasi"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900 dark:text-blue-100",children:ce(B.totalRealisasi)}),i.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 dark:text-blue-400",children:"Liter"})]}),i.jsxs("div",{className:`bg-gradient-to-br rounded-xl p-3 sm:p-4 border ${B.totalSelisih>=0?"from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-900/20 border-green-200 dark:border-green-800":"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20 border-red-200 dark:border-red-800"}`,children:[i.jsx("p",{className:`text-[10px] sm:text-xs font-medium uppercase tracking-wider ${B.totalSelisih>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"Total Selisih"}),i.jsxs("p",{className:`text-lg sm:text-2xl font-bold ${B.totalSelisih>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:[B.totalSelisih>=0?"+":"",ce(B.totalSelisih)]}),i.jsxs("p",{className:`text-[10px] sm:text-xs ${B.totalSelisih>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Liter"," ",B.totalSelisih>=0?"(Surplus)":"(Defisit)"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900/30 dark:to-slate-900/20 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Total Record"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-900 dark:text-slate-100",children:B.totalRecord}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400",children:[S==="all"?"Semua tahun":`Tahun ${S}`,k!=="all"&&`, ${jTe[parseInt(k)]}`]})]})]}),i.jsxs(Ie,{children:[i.jsxs(Pt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:i.jsx(H2,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx(_t,{children:"Rekap Pengajuan BBM Alat Berat"}),i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:["Plant ",E," - Data pengajuan dan realisasi BBM"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:S,onChange:H=>T(H.target.value),options:STe,className:"w-32"}),i.jsx(at,{value:k,onChange:H=>N(H.target.value),options:kTe,className:"w-40"}),i.jsxs(ge,{variant:"secondary",onClick:()=>_(!0),className:"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20",children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),z&&i.jsxs(ge,{onClick:()=>{w(nf),x(null),d(!0)},children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsx(Lr,{data:C,columns:K,actions:je,loading:l,emptyMessage:"Tidak ada data rekap BBM",searchable:!0,searchPlaceholder:"Cari tanggal, nama alat berat, keterangan...",searchKeys:["tanggal","namaAlatBerat","pengajuanSolar","realisasiPengisian","keterangan"]})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),x(null),w(nf)},title:m?"Edit Data BBM":"Tambah Data BBM",size:"md",children:i.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:v.tanggal,onChange:H=>w({...v,tanggal:H.target.value}),required:!0}),i.jsx(Ae,{label:"Nama Alat Berat",placeholder:"Contoh: Forklift 1, Loader A, dll",value:v.namaAlatBerat,onChange:H=>w({...v,namaAlatBerat:H.target.value}),required:!0}),i.jsx(Ae,{label:"Pengajuan Solar (Liter)",type:"text",placeholder:"0",value:v.pengajuanSolar?ce(v.pengajuanSolar):"",onChange:H=>w({...v,pengajuanSolar:ve(H.target.value)}),required:!0}),i.jsx(Ae,{label:"Realisasi Pengisian (Liter)",type:"text",placeholder:"0",value:v.realisasiPengisian?ce(v.realisasiPengisian):"",onChange:H=>w({...v,realisasiPengisian:ve(H.target.value)}),required:!0}),i.jsx(Ae,{label:"Keterangan",placeholder:"Keterangan tambahan (opsional)",value:v.keterangan||"",onChange:H=>w({...v,keterangan:H.target.value})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{d(!1),x(null),w(nf)},children:"Batal"}),i.jsx(ge,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:_e,title:"Hapus Data BBM",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger",isLoading:l}),i.jsx(Nn,{isOpen:A,onClose:()=>{R(!1),G(null)},onSubmit:ue,action:q,itemName:(V==null?void 0:V.namaAlatBerat)||"",loading:l}),i.jsx(Nr,{isVisible:p,message:m?"Data berhasil diupdate!":b?"Data berhasil dihapus!":"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(tW,{isOpen:P,onClose:()=>_(!1),data:C,plant:E}),i.jsx(Fr,{isOpen:re,onClose:()=>{M(!1),ee("")},sheetName:E==="NPK1"?"rekap_bbm_NPK1":"rekap_bbm",recordId:Y,title:"Log Aktivitas Rekap BBM"})]})},w1=new Date().getFullYear(),NTe=[...Array.from({length:w1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(w1+1),label:String(w1+1)}],Pp={tanggal:yr(),area:"",ujiPenambahan10:0,ujiPenambahan20:0,ujiPenambahan30:0,ujiPenambahan40:0,ujiPenambahan50:0,ujiPengurangan50:0,ujiPengurangan40:0,ujiPengurangan30:0,ujiPengurangan20:0,ujiPengurangan10:0},_p={ujiPenambahan10:"",ujiPenambahan20:"",ujiPenambahan30:"",ujiPenambahan40:"",ujiPenambahan50:"",ujiPengurangan50:"",ujiPengurangan40:"",ujiPengurangan30:"",ujiPengurangan20:"",ujiPengurangan10:""},TTe=()=>{const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Zr(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(!1),[w,k]=j.useState(""),N=xe=>{k(xe),v(!0)},[S,T]=j.useState(null),[P,_]=j.useState(null),[E,A]=j.useState(Pp),[R,q]=j.useState(_p),[Z,V]=j.useState(""),[G,re]=j.useState(String(new Date().getFullYear())),[M,Y]=j.useState(!1),[ee,D]=j.useState("edit"),[J,z]=j.useState(null),L=Jr((e==null?void 0:e.role)||""),te=ln((e==null?void 0:e.role)||"")&&!L,ye=j.useCallback(()=>{if(c&&!o){const xe=document.querySelector("form");xe&&xe.requestSubmit()}},[c,o]);Br(ye,c);const Te=y2((e==null?void 0:e.role)||""),de=b2((e==null?void 0:e.role)||""),fe=jn((e==null?void 0:e.role)||""),be=Sn((e==null?void 0:e.role)||""),he=[{value:"NPK 2",label:"NPK 2"},{value:"Blending",label:"Blending"},{value:"NPK Mini",label:"NPK Mini"}],_e=xe=>xe==null?"0.00":xe.toFixed(2),ue=(xe,Pe)=>{const $e=Pe.replace(",",".");if($e===""||/^\d*\.?\d*$/.test($e)){q(Re=>({...Re,[xe]:$e}));const Se=$e===""||$e==="."?0:parseFloat($e)||0;A(Re=>({...Re,[xe]:Se}))}},C=()=>{const xe=Pe=>parseFloat(Pe.replace(",","."))||0;return{ujiPenambahan10:xe(R.ujiPenambahan10),ujiPenambahan20:xe(R.ujiPenambahan20),ujiPenambahan30:xe(R.ujiPenambahan30),ujiPenambahan40:xe(R.ujiPenambahan40),ujiPenambahan50:xe(R.ujiPenambahan50),ujiPengurangan50:xe(R.ujiPengurangan50),ujiPengurangan40:xe(R.ujiPengurangan40),ujiPengurangan30:xe(R.ujiPengurangan30),ujiPengurangan20:xe(R.ujiPengurangan20),ujiPengurangan10:xe(R.ujiPengurangan10)}},B=xe=>{const Pe=xe.ujiPenambahan10-10,$e=xe.ujiPenambahan20-20,Se=xe.ujiPenambahan30-30,Re=xe.ujiPenambahan40-40,Qe=xe.ujiPenambahan50-50,et=xe.ujiPengurangan50-50,Je=xe.ujiPengurangan40-40,ut=xe.ujiPengurangan30-30,ur=xe.ujiPengurangan20-20,Ee=xe.ujiPengurangan10-10,Ue=[Pe,$e,Se,Re,Qe,et,Je,ut,ur,Ee],lt=Ue.reduce((br,Jt)=>br+Math.abs(Jt),0),jt=lt/Ue.length;return{selisihPenambahan10:Pe,selisihPenambahan20:$e,selisihPenambahan30:Se,selisihPenambahan40:Re,selisihPenambahan50:Qe,selisihPengurangan50:et,selisihPengurangan40:Je,selisihPengurangan30:ut,selisihPengurangan20:ur,selisihPengurangan10:Ee,totalSelisih:lt,rataRataSelisih:jt}};j.useEffect(()=>{(async()=>{l(!0);try{const{readData:Pe,SHEETS:$e}=await st(async()=>{const{readData:Re,SHEETS:Qe}=await Promise.resolve().then(()=>ot);return{readData:Re,SHEETS:Qe}},void 0),Se=await Pe($e.RIKSA_TIMB_PORTABEL);if(Se.success&&Se.data){const Qe=[...Se.data.map(et=>({...et,...B(et)}))].sort((et,Je)=>new Date(Je.tanggal).getTime()-new Date(et.tanggal).getTime());s(Qe)}else s([])}catch(Pe){console.error("Error fetching data:",Pe),s([])}finally{l(!1)}})()},[]);const K=async xe=>{xe.preventDefault(),l(!0);try{const Pe=C(),$e={...E,...Pe},Se=B($e),Re={...$e,...Se};if(S){const Qe={...Re,id:S},et=await r("riksa_timb_portabel",Qe);if(et.success)s(Je=>Je.map(ut=>ut.id===S?{...Re,id:S}:ut));else throw new Error(et.error||"Gagal mengupdate data")}else{const Qe=await t("riksa_timb_portabel",Re);if(Qe.success&&Qe.data){const et={...Qe.data,...Se};s(Je=>[et,...Je])}else throw new Error(Qe.error||"Gagal menyimpan data")}u(!1),A(Pp),q(_p),T(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(Pe){console.error("Error saving data:",Pe),alert(Pe instanceof Error?Pe.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},je=xe=>{var Pe,$e,Se,Re,Qe,et,Je,ut,ur,Ee;if(fe){z(xe),D("edit"),Y(!0);return}A(xe),q({ujiPenambahan10:((Pe=xe.ujiPenambahan10)==null?void 0:Pe.toString())||"",ujiPenambahan20:(($e=xe.ujiPenambahan20)==null?void 0:$e.toString())||"",ujiPenambahan30:((Se=xe.ujiPenambahan30)==null?void 0:Se.toString())||"",ujiPenambahan40:((Re=xe.ujiPenambahan40)==null?void 0:Re.toString())||"",ujiPenambahan50:((Qe=xe.ujiPenambahan50)==null?void 0:Qe.toString())||"",ujiPengurangan50:((et=xe.ujiPengurangan50)==null?void 0:et.toString())||"",ujiPengurangan40:((Je=xe.ujiPengurangan40)==null?void 0:Je.toString())||"",ujiPengurangan30:((ut=xe.ujiPengurangan30)==null?void 0:ut.toString())||"",ujiPengurangan20:((ur=xe.ujiPengurangan20)==null?void 0:ur.toString())||"",ujiPengurangan10:((Ee=xe.ujiPengurangan10)==null?void 0:Ee.toString())||""}),T(xe.id||null),u(!0)},H=xe=>{if(be){const Pe=a.find($e=>$e.id===xe);Pe&&(z(Pe),D("delete"),Y(!0));return}_(xe),f(!0)},U=async()=>{if(P){l(!0);try{const xe=await n("riksa_timb_portabel",{id:P,_plant:"NPK2"});if(xe.success)s(Pe=>Pe.filter($e=>$e.id!==P)),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(xe.error||"Gagal menghapus data")}catch(xe){console.error("Error deleting data:",xe),alert(xe instanceof Error?xe.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1),f(!1),_(null)}}},ae=async xe=>{if(J)try{const{createData:Pe,SHEETS:$e}=await st(async()=>{const{createData:Re,SHEETS:Qe}=await Promise.resolve().then(()=>ot);return{createData:Re,SHEETS:Qe}},void 0),Se={requestBy:(e==null?void 0:e.username)||"",requestByName:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",requestDate:new Date().toISOString(),action:ee,sheetType:"riksa_timb_portabel",dataId:J.id||"",dataPreview:`${gt(J.tanggal)} - ${J.area}`,reason:xe,status:"pending",requesterPlant:(e==null?void 0:e.plant)||"NPK2"};await Pe($e.APPROVAL_REQUESTS,Se),alert("Permintaan approval telah dikirim"),Y(!1),z(null)}catch(Pe){console.error("Error submitting approval:",Pe),alert("Gagal mengirim permintaan approval")}},O=xe=>{const Pe={...xe,...B(xe)};b(Pe),m(!0)},W=a.filter(xe=>new Date(xe.tanggal).getFullYear()===parseInt(G)),ne=[{key:"tanggal",header:"Tanggal",render:xe=>gt(xe),sortable:!0},{key:"area",header:"Area",sortable:!0},{key:"rataRataSelisih",header:"Rata-rata Selisih",render:xe=>i.jsxs("span",{className:Ge("font-semibold",Math.abs(xe)<=.5?"text-green-600":Math.abs(xe)<=1?"text-yellow-600":"text-red-600"),children:[_e(xe)," kg"]}),sortable:!0},{key:"actions",header:"Aksi",render:(xe,Pe)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>O(Pe),title:"Lihat Detail",children:i.jsx(Ss,{className:"h-4 w-4 text-blue-500"})}),i.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>N(Pe.id),title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),(Te||fe)&&!L&&i.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>je(Pe),title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),(de||be)&&!L&&i.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>H(Pe.id),title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-500"})})]})}],le=({value:xe,label:Pe})=>{const $e=Math.abs(xe)<=.5,Se=Math.abs(xe)>.5&&Math.abs(xe)<=1;return i.jsxs("div",{className:Ge("flex items-center justify-between p-3 rounded-lg",$e?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":Se?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Pe}),i.jsxs("div",{className:"flex items-center gap-2",children:[xe>=0?i.jsx(Pl,{className:Ge("h-4 w-4",$e?"text-green-500":Se?"text-yellow-500":"text-red-500")}):i.jsx(zp,{className:Ge("h-4 w-4",$e?"text-green-500":Se?"text-yellow-500":"text-red-500")}),i.jsxs("span",{className:Ge("font-bold",$e?"text-green-600":Se?"text-yellow-600":"text-red-600"),children:[xe>=0?"+":"",_e(xe)," kg"]})]})]})},Me=()=>{if(!x)return null;const xe=B(x),Pe=xe.rataRataSelisih<=.5,$e=xe.rataRataSelisih>.5&&xe.rataRataSelisih<=1,Se=[{std:10,hasil:x.ujiPenambahan10,selisih:xe.selisihPenambahan10},{std:20,hasil:x.ujiPenambahan20,selisih:xe.selisihPenambahan20},{std:30,hasil:x.ujiPenambahan30,selisih:xe.selisihPenambahan30},{std:40,hasil:x.ujiPenambahan40,selisih:xe.selisihPenambahan40},{std:50,hasil:x.ujiPenambahan50,selisih:xe.selisihPenambahan50}],Re=[{std:50,hasil:x.ujiPengurangan50,selisih:xe.selisihPengurangan50},{std:40,hasil:x.ujiPengurangan40,selisih:xe.selisihPengurangan40},{std:30,hasil:x.ujiPengurangan30,selisih:xe.selisihPengurangan30},{std:20,hasil:x.ujiPengurangan20,selisih:xe.selisihPengurangan20},{std:10,hasil:x.ujiPengurangan10,selisih:xe.selisihPengurangan10}],Qe=Je=>{const ut=Math.abs(Je);return ut<=.5?"text-green-600":ut<=1?"text-yellow-600":"text-red-600"},et=Je=>{const ut=Math.abs(Je);return ut<=.5?"bg-green-50 dark:bg-green-900/20":ut<=1?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20"};return i.jsx(xt,{isOpen:g,onClose:()=>m(!1),title:"",size:"xl",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:Ge("p-4 rounded-xl text-center",Pe?"bg-gradient-to-r from-green-500 to-emerald-600":$e?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-600"),children:[i.jsx(yP,{className:"h-8 w-8 mx-auto text-white mb-1"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:"Hasil Riksa Timbangan Portabel"}),i.jsxs("p",{className:"text-white/90 text-sm",children:[x.area,"  ",gt(x.tanggal)]}),i.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[Pe?i.jsx(fH,{className:"h-4 w-4 text-white"}):i.jsx(df,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"font-semibold text-white text-sm",children:Pe?"Kalibrasi BAIK":$e?"Perlu Perhatian":"Perlu Kalibrasi Ulang"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Selisih Absolut"}),i.jsxs("p",{className:"text-lg font-bold text-indigo-700 dark:text-indigo-400",children:[_e(xe.totalSelisih)," kg"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rata-rata Selisih"}),i.jsxs("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:[_e(xe.rataRataSelisih)," kg"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-green-500 px-3 py-1.5 flex items-center gap-1.5",children:[i.jsx(Pl,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Penambahan"})]}),i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:"Standar"}),i.jsx("span",{className:"text-center",children:"Hasil"}),i.jsx("span",{className:"text-right",children:"Selisih"})]}),Se.map((Je,ut)=>i.jsxs("div",{className:Ge("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",et(Je.selisih)),children:[i.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Je.std," kg"]}),i.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[_e(Je.hasil)," kg"]}),i.jsxs("span",{className:Ge("text-right font-bold",Qe(Je.selisih)),children:[Je.selisih>=0?"+":"",_e(Je.selisih)," kg"]})]},ut))]})]}),i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-red-500 px-3 py-1.5 flex items-center gap-1.5",children:[i.jsx(zp,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Pengurangan"})]}),i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:"Standar"}),i.jsx("span",{className:"text-center",children:"Hasil"}),i.jsx("span",{className:"text-right",children:"Selisih"})]}),Re.map((Je,ut)=>i.jsxs("div",{className:Ge("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",et(Je.selisih)),children:[i.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Je.std," kg"]}),i.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[_e(Je.hasil)," kg"]}),i.jsxs("span",{className:Ge("text-right font-bold",Qe(Je.selisih)),children:[Je.selisih>=0?"+":"",_e(Je.selisih)," kg"]})]},ut))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t dark:border-dark-700",children:[i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5kg"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-yellow-500"}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5-1kg"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-red-500"}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:">1kg"})]})]}),i.jsx(ge,{size:"sm",onClick:()=>m(!1),children:"Tutup"})]})]})})},Ye=j.useMemo(()=>{const xe=W.length,Pe=W.map(Je=>B(Je)),$e=Pe.filter(Je=>Je.rataRataSelisih<=.5).length,Se=Pe.filter(Je=>Je.rataRataSelisih>.5&&Je.rataRataSelisih<=1).length,Re=Pe.filter(Je=>Je.rataRataSelisih>1).length,Qe=xe>0?Pe.reduce((Je,ut)=>Je+ut.rataRataSelisih,0)/xe:0,et=new Set(W.map(Je=>Je.area).filter(Boolean)).size;return{total:xe,goodCount:$e,warningCount:Se,badCount:Re,avgSelisih:Qe,uniqueAreas:et}},[W]);return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl shadow-lg",children:i.jsx(yP,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-dark-900 dark:text-white",children:"Riksa Timbangan Portabel"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Data pengujian kalibrasi timbangan portabel"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:G,onChange:xe=>re(xe.target.value),options:NTe,className:"w-32"}),te&&i.jsxs(ge,{onClick:()=>u(!0),children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pemeriksaan"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:Ye.total})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Lolos (0.5kg)"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:Ye.goodCount})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Perhatian (>0.5kg)"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:Ye.warningCount+Ye.badCount})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Rata-rata Selisih"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:[_e(Ye.avgSelisih)," kg"]})]})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs(_t,{children:["Data Riksa Timbangan - Tahun ",G]})}),i.jsx(Lr,{columns:ne,data:W,loading:o,emptyMessage:"Belum ada data riksa timbangan portabel",searchable:!0,searchPlaceholder:"Cari tanggal, area, rata-rata selisih...",searchKeys:["tanggal","area","rataRataSelisih","keterangan"]})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),A(Pp),q(_p),T(null)},title:S?"Edit Data Riksa Timbangan":"Tambah Data Riksa Timbangan",size:"lg",children:i.jsxs("form",{onSubmit:K,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ae,{label:"Tanggal",type:"date",value:E.tanggal,onChange:xe=>A({...E,tanggal:xe.target.value}),required:!0}),i.jsx(at,{label:"Area",value:E.area,onChange:xe=>A({...E,area:xe.target.value}),options:he,placeholder:"Pilih Area",required:!0})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[i.jsx(Pl,{className:"h-5 w-5"}),"Uji Penambahan"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsx(Ae,{label:"10 Kg",type:"text",inputMode:"decimal",value:R.ujiPenambahan10,onChange:xe=>ue("ujiPenambahan10",xe.target.value),placeholder:"Contoh: 10.02",required:!0}),i.jsx(Ae,{label:"20 Kg",type:"text",inputMode:"decimal",value:R.ujiPenambahan20,onChange:xe=>ue("ujiPenambahan20",xe.target.value),placeholder:"Contoh: 20.05",required:!0}),i.jsx(Ae,{label:"30 Kg",type:"text",inputMode:"decimal",value:R.ujiPenambahan30,onChange:xe=>ue("ujiPenambahan30",xe.target.value),placeholder:"Contoh: 30.01",required:!0}),i.jsx(Ae,{label:"40 Kg",type:"text",inputMode:"decimal",value:R.ujiPenambahan40,onChange:xe=>ue("ujiPenambahan40",xe.target.value),placeholder:"Contoh: 40.03",required:!0}),i.jsx(Ae,{label:"50 Kg",type:"text",inputMode:"decimal",value:R.ujiPenambahan50,onChange:xe=>ue("ujiPenambahan50",xe.target.value),placeholder:"Contoh: 50.02",required:!0})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2",children:[i.jsx(zp,{className:"h-5 w-5"}),"Uji Pengurangan"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsx(Ae,{label:"50 Kg",type:"text",inputMode:"decimal",value:R.ujiPengurangan50,onChange:xe=>ue("ujiPengurangan50",xe.target.value),placeholder:"Contoh: 50.01",required:!0}),i.jsx(Ae,{label:"40 Kg",type:"text",inputMode:"decimal",value:R.ujiPengurangan40,onChange:xe=>ue("ujiPengurangan40",xe.target.value),placeholder:"Contoh: 40.02",required:!0}),i.jsx(Ae,{label:"30 Kg",type:"text",inputMode:"decimal",value:R.ujiPengurangan30,onChange:xe=>ue("ujiPengurangan30",xe.target.value),placeholder:"Contoh: 30.03",required:!0}),i.jsx(Ae,{label:"20 Kg",type:"text",inputMode:"decimal",value:R.ujiPengurangan20,onChange:xe=>ue("ujiPengurangan20",xe.target.value),placeholder:"Contoh: 20.01",required:!0}),i.jsx(Ae,{label:"10 Kg",type:"text",inputMode:"decimal",value:R.ujiPengurangan10,onChange:xe=>ue("ujiPengurangan10",xe.target.value),placeholder:"Contoh: 10.02",required:!0})]})]}),(E.ujiPenambahan10>0||E.ujiPengurangan10>0)&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preview Selisih"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[E.ujiPenambahan10>0&&i.jsx(le,{value:E.ujiPenambahan10-10,label:"+10kg"}),E.ujiPenambahan20>0&&i.jsx(le,{value:E.ujiPenambahan20-20,label:"+20kg"}),E.ujiPenambahan30>0&&i.jsx(le,{value:E.ujiPenambahan30-30,label:"+30kg"}),E.ujiPenambahan40>0&&i.jsx(le,{value:E.ujiPenambahan40-40,label:"+40kg"}),E.ujiPenambahan50>0&&i.jsx(le,{value:E.ujiPenambahan50-50,label:"+50kg"}),E.ujiPengurangan50>0&&i.jsx(le,{value:E.ujiPengurangan50-50,label:"-50kg"}),E.ujiPengurangan40>0&&i.jsx(le,{value:E.ujiPengurangan40-40,label:"-40kg"}),E.ujiPengurangan30>0&&i.jsx(le,{value:E.ujiPengurangan30-30,label:"-30kg"}),E.ujiPengurangan20>0&&i.jsx(le,{value:E.ujiPengurangan20-20,label:"-20kg"}),E.ujiPengurangan10>0&&i.jsx(le,{value:E.ujiPengurangan10-10,label:"-10kg"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"outline",onClick:()=>{u(!1),A(Pp),q(_p),T(null)},children:"Batal"}),i.jsx(ge,{type:"submit",disabled:o,children:o?"Menyimpan...":S?"Update":"Simpan"})]})]})}),i.jsx(Me,{}),i.jsx(Ar,{isOpen:d,onClose:()=>f(!1),onConfirm:U,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),i.jsx(Nn,{isOpen:M,onClose:()=>{Y(!1),z(null)},onSubmit:ae,action:ee,itemName:J?`${gt(J.tanggal)} - ${J.area}`:"data ini"}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!"}),i.jsx(Fr,{isOpen:y,onClose:()=>{v(!1),k("")},sheetName:"riksa_timb_portabel",recordId:w,title:"Log Aktivitas Riksa Timbangan Portabel"})]})},PTe=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[a,s]=j.useState({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),o=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],l=async c=>{c.preventDefault();const u=await r(a);u.success?(s({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),t()):alert(u.error||"Gagal menambah material")};return i.jsx(xt,{isOpen:e,onClose:t,title:"Tambah Material Baru",size:"md",children:i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsx(Ae,{label:"Kode Material",value:a.kode_material,onChange:c=>s({...a,kode_material:c.target.value}),placeholder:"Contoh: MTL-001",required:!0}),i.jsx(Ae,{label:"Nama Material",value:a.nama_material,onChange:c=>s({...a,nama_material:c.target.value}),placeholder:"Contoh: Bearing SKF 6205",required:!0}),i.jsx(at,{label:"Satuan",value:a.satuan,onChange:c=>s({...a,satuan:c.target.value}),options:o}),i.jsx(Ae,{label:"Stok Awal",type:"number",value:a.stok.toString(),onChange:c=>s({...a,stok:ve(c.target.value)}),min:0}),i.jsx(Ae,{label:"Stok Minimum (Alert)",type:"number",value:a.stok_minimum.toString(),onChange:c=>s({...a,stok_minimum:ve(c.target.value)}),min:0}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ge,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:n,children:"Simpan"})]})]})})},_Te=({isOpen:e,onClose:t,material:r,onSubmit:n,loading:a})=>{const[s,o]=j.useState({kode_material:"",nama_material:"",satuan:"pcs",stok_minimum:0});j.useState(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})}),j.useMemo(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})},[r]);const l=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],c=async u=>{if(u.preventDefault(),!(r!=null&&r.id))return;const d=await n({id:r.id,...s});d.success?t():alert(d.error||"Gagal mengupdate material")};return r?i.jsx(xt,{isOpen:e,onClose:t,title:"Edit Material",size:"md",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsx(Ae,{label:"Kode Material",value:s.kode_material,onChange:u=>o({...s,kode_material:u.target.value}),required:!0}),i.jsx(Ae,{label:"Nama Material",value:s.nama_material,onChange:u=>o({...s,nama_material:u.target.value}),required:!0}),i.jsx(at,{label:"Satuan",value:s.satuan,onChange:u=>o({...s,satuan:u.target.value}),options:l}),i.jsx(Ae,{label:"Stok Minimum (Alert)",type:"number",value:s.stok_minimum.toString(),onChange:u=>o({...s,stok_minimum:ve(u.target.value)}),min:0}),i.jsxs("div",{className:"text-sm text-dark-500 dark:text-dark-400 bg-dark-50 dark:bg-dark-700 p-3 rounded-lg",children:[i.jsxs("p",{children:["Stok saat ini:"," ",i.jsxs("strong",{children:[ce(r.stok)," ",r.satuan]})]}),i.jsx("p",{className:"text-xs mt-1",children:"Untuk mengubah stok, gunakan menu Tambah Stok atau Ambil Stok."})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ge,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:a,children:"Update"})]})]})}):null},ETe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:a})=>{const[s,o]=j.useState({materialId:"",jumlah:0,keterangan:""}),l=r.map(u=>({value:u.id||"",label:`${u.kode_material} - ${u.nama_material} (Stok: ${ce(u.stok)} ${u.satuan})`})),c=async u=>{if(u.preventDefault(),!s.materialId||s.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}const d=await n(s.materialId,s.jumlah,s.keterangan);d.success?(o({materialId:"",jumlah:0,keterangan:""}),t()):alert(d.error||"Gagal menambah stok")};return i.jsx(xt,{isOpen:e,onClose:t,title:"Tambah Stok Material",size:"md",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Db,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),i.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Stok Masuk"})]}),i.jsx(at,{label:"Pilih Material",value:s.materialId,onChange:u=>o({...s,materialId:u.target.value}),options:[{value:"",label:"-- Pilih Material --"},...l],required:!0}),i.jsx(Ae,{label:"Jumlah",type:"number",value:s.jumlah.toString(),onChange:u=>o({...s,jumlah:ve(u.target.value)}),min:1,required:!0}),i.jsx(Ae,{label:"Keterangan",value:s.keterangan,onChange:u=>o({...s,keterangan:u.target.value}),placeholder:"Contoh: Pembelian dari vendor X"}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ge,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsxs(ge,{type:"submit",isLoading:a,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Db,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]})]})]})})},ATe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:a})=>{const[s,o]=j.useState({materialId:"",jumlah:0,keterangan:""}),[l,c]=j.useState(null),u=r.map(h=>({value:h.id||"",label:`${h.kode_material} - ${h.nama_material} (Stok: ${ce(h.stok)} ${h.satuan})`})),d=h=>{o({...s,materialId:h});const p=r.find(g=>g.id===h)||null;c(p)},f=async h=>{if(h.preventDefault(),!s.materialId||s.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}if(l&&s.jumlah>l.stok){alert(`Stok tidak cukup! Stok tersedia: ${ce(l.stok)} ${l.satuan}`);return}const p=await n(s.materialId,s.jumlah,s.keterangan);p.success?(o({materialId:"",jumlah:0,keterangan:""}),c(null),t()):alert(p.error||"Gagal mengambil stok")};return i.jsx(xt,{isOpen:e,onClose:t,title:"Ambil Stok Material",size:"md",children:i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Mb,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),i.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Stok Keluar"})]}),i.jsx(at,{label:"Pilih Material",value:s.materialId,onChange:h=>d(h.target.value),options:[{value:"",label:"-- Pilih Material --"},...u],required:!0}),l&&i.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 p-3 rounded-lg text-sm",children:i.jsxs("p",{children:["Stok tersedia:"," ",i.jsxs("strong",{className:"text-primary-600",children:[ce(l.stok)," ",l.satuan]})]})}),i.jsx(Ae,{label:"Jumlah",type:"number",value:s.jumlah.toString(),onChange:h=>o({...s,jumlah:ve(h.target.value)}),min:1,max:(l==null?void 0:l.stok)||void 0,required:!0}),i.jsx(Ae,{label:"Keterangan",value:s.keterangan,onChange:h=>o({...s,keterangan:h.target.value}),placeholder:"Contoh: Pemakaian untuk maintenance pump",required:!0}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ge,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsxs(ge,{type:"submit",isLoading:a,className:"bg-red-600 hover:bg-red-700",children:[i.jsx(Mb,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]})]})})},OTe=({isOpen:e,onClose:t,materials:r})=>{const{transactions:n,loading:a,updateFilters:s,clearFilters:o}=nTe(),[l,c]=j.useState({material_id:"",start_date:"",end_date:""}),u=r.map(g=>({value:g.id||"",label:`${g.kode_material} - ${g.nama_material}`})),d=g=>{const m=r.find(x=>x.id===g);return m?`${m.kode_material} - ${m.nama_material}`:g},f=()=>{s({material_id:l.material_id||void 0,start_date:l.start_date||void 0,end_date:l.end_date||void 0})},h=()=>{c({material_id:"",start_date:"",end_date:""}),o()},p=[{key:"created_at",header:"Tanggal",render:(g,m)=>w5(m.created_at||"")},{key:"material_id",header:"Material",render:(g,m)=>d(m.material_id)},{key:"tipe_transaksi",header:"Tipe",render:(g,m)=>i.jsx(Ze,{variant:m.tipe_transaksi==="masuk"?"success":"danger",children:m.tipe_transaksi==="masuk"?"Masuk":"Keluar"})},{key:"jumlah",header:"Jumlah",render:(g,m)=>ce(m.jumlah)},{key:"keterangan",header:"Keterangan",render:(g,m)=>m.keterangan||"-"}];return i.jsx(xt,{isOpen:e,onClose:t,title:"Riwayat Transaksi Material",size:"xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-dark-50 dark:bg-dark-700 p-4 rounded-lg",children:[i.jsx(at,{label:"Material",value:l.material_id,onChange:g=>c({...l,material_id:g.target.value}),options:[{value:"",label:"Semua Material"},...u]}),i.jsx(Ae,{label:"Dari Tanggal",type:"date",value:l.start_date,onChange:g=>c({...l,start_date:g.target.value})}),i.jsx(Ae,{label:"Sampai Tanggal",type:"date",value:l.end_date,onChange:g=>c({...l,end_date:g.target.value})}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs(ge,{onClick:f,variant:"primary",size:"sm",children:[i.jsx(Sx,{className:"h-4 w-4 mr-1"}),"Filter"]}),i.jsx(ge,{onClick:h,variant:"outline",size:"sm",children:"Reset"})]})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.jsx(Lr,{data:n,columns:p,loading:a,emptyMessage:"Belum ada transaksi",searchable:!0,searchPlaceholder:"Cari kode, nama material, jenis, keterangan...",searchKeys:["kode_material","nama_material","jenis","keterangan"]})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx(ge,{onClick:t,children:"Tutup"})})]})})},CTe=()=>{const{user:e}=Et(),{materials:t,loading:r,error:n,refetch:a,addMaterial:s,updateMaterial:o,deleteMaterial:l,stockMasuk:c,stockKeluar:u}=rTe(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(!1),[N,S]=j.useState(!1),[T,P]=j.useState(!1),[_,E]=j.useState(""),[A,R]=j.useState(null),[q,Z]=j.useState(null),[V,G]=j.useState(1),re=10,M=Jr((e==null?void 0:e.role)||""),Y=ln((e==null?void 0:e.role)||"")&&!M,ee=y2((e==null?void 0:e.role)||"")&&!M,D=b2((e==null?void 0:e.role)||"")&&!M,J=j.useMemo(()=>[...t],[t]);j.useMemo(()=>{const B=(V-1)*re;return J.slice(B,B+re)},[J,V]),Math.ceil(J.length/re);const z=B=>{R(B),p(!0)},L=B=>{Z(B),k(!0)},te=async()=>{if(!q)return;const B=await l(q);B.success?(S(!0),setTimeout(()=>S(!1),2e3)):alert(B.error||"Gagal menghapus material"),k(!1),Z(null)},ye=async B=>{const K=await s(B);return K.success&&(S(!0),setTimeout(()=>S(!1),2e3)),K},Te=async B=>{const K=await o(B);return K.success&&(S(!0),setTimeout(()=>S(!1),2e3)),K},de=async(B,K,je)=>{const H=await c(B,K,je);return H.success&&(S(!0),setTimeout(()=>S(!1),2e3)),H},fe=async(B,K,je)=>{const H=await u(B,K,je);return H.success&&(S(!0),setTimeout(()=>S(!1),2e3)),H},be=j.useCallback(()=>{},[]);Br(be,d||h||g||x);const he=[{key:"kode_material",header:"Kode",render:(B,K)=>i.jsx("span",{className:"font-mono text-primary-600 dark:text-primary-400",children:K.kode_material})},{key:"nama_material",header:"Nama Material"},{key:"satuan",header:"Satuan",render:(B,K)=>K.satuan.toUpperCase()},{key:"stok",header:"Stok",render:(B,K)=>{const je=K.stok<=K.stok_minimum;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:je?"text-red-600 dark:text-red-400 font-bold":"",children:ce(K.stok)}),je&&i.jsxs(Ze,{variant:"danger",className:"flex items-center gap-1",children:[i.jsx(Pm,{className:"h-3 w-3"}),"Menipis"]})]})}},{key:"stok_minimum",header:"Min. Stok",render:(B,K)=>ce(K.stok_minimum)},{key:"actions",header:"Aksi",render:(B,K)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>{E(K.id||""),P(!0)},className:"p-1.5 text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-900/30 rounded-lg transition-colors",title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-4 w-4"})}),ee&&i.jsx("button",{onClick:()=>z(K),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Material",children:i.jsx(hr,{className:"h-4 w-4"})}),D&&i.jsx("button",{onClick:()=>L(K.id||""),className:"p-1.5 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Hapus Material",children:i.jsx(lr,{className:"h-4 w-4"})})]})}],_e=t.filter(B=>B.stok<=B.stok_minimum).length,ue=t.length,C=t.reduce((B,K)=>B+(K.stok||0),0);return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsx(Nr,{isVisible:N,message:"Berhasil!"}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[i.jsx(_o,{className:"h-7 w-7 text-primary-600"}),"Inventaris Stok Material"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola stok material consumable"})]}),_e>0&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2 flex items-center gap-2",children:[i.jsx(Pm,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),i.jsxs("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:[_e," material stok menipis"]})]})]}),n&&i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:n}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Material"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:ue})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Stok"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:ce(C)})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stok Aman"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ue-_e})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stok Menipis"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:_e})]})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"p-4 flex flex-wrap gap-3",children:[Y&&i.jsxs(i.Fragment,{children:[i.jsxs(ge,{onClick:()=>f(!0),children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Material"]}),i.jsxs(ge,{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Db,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]}),i.jsxs(ge,{onClick:()=>b(!0),className:"bg-red-600 hover:bg-red-700",children:[i.jsx(Mb,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]}),i.jsxs(ge,{variant:"outline",onClick:()=>v(!0),children:[i.jsx(At,{className:"h-4 w-4 mr-2"}),"Riwayat Transaksi"]}),i.jsxs(ge,{variant:"outline",onClick:a,children:[i.jsx(vl,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsx(_t,{className:"flex items-center justify-between",children:i.jsxs("span",{children:["Daftar Material (",J.length,")"]})})}),i.jsx(Lr,{data:J,columns:he,loading:r,emptyMessage:"Belum ada data material",searchable:!0,searchPlaceholder:"Cari kode, nama material, satuan...",searchKeys:["kode_material","nama_material","satuan","stok","stok_minimum"]})]}),i.jsx(PTe,{isOpen:d,onClose:()=>f(!1),onSubmit:ye,loading:r}),i.jsx(_Te,{isOpen:h,onClose:()=>{p(!1),R(null)},material:A,onSubmit:Te,loading:r}),i.jsx(ETe,{isOpen:g,onClose:()=>m(!1),materials:t,onSubmit:de,loading:r}),i.jsx(ATe,{isOpen:x,onClose:()=>b(!1),materials:t,onSubmit:fe,loading:r}),i.jsx(OTe,{isOpen:y,onClose:()=>v(!1),materials:t}),i.jsx(Ar,{isOpen:w,onClose:()=>k(!1),onConfirm:te,title:"Hapus Material",message:"Apakah Anda yakin ingin menghapus material ini? Semua riwayat transaksi material ini akan tetap tersimpan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),i.jsx(Fr,{isOpen:T,onClose:()=>{P(!1),E("")},sheetName:"materials",recordId:_,title:"Log Aktivitas Material"})]})},DTe=()=>{var v,w;const{user:e,logout:t}=Et(),[r,n]=j.useState(!1),[a,s]=j.useState(!1),[o,l]=j.useState("profile"),[c,u]=j.useState({nama:(e==null?void 0:e.nama)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"Produksi"}),[d,f]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=j.useState({emailNotifications:!0,pushNotifications:!0,dailyReport:!0,weeklyReport:!1,alertDowntime:!0,alertWorkRequest:!0}),g=async k=>{k.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await st(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>ot);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,nama:c.nama,email:c.email,phone:c.phone,department:c.department},P=await N(S.USERS,T);if(P.success)s(!0),setTimeout(()=>s(!1),2e3);else throw new Error(P.error||"Gagal mengupdate profile")}}catch(N){console.error("Error updating profile:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate profile")}finally{n(!1)}},m=async k=>{if(k.preventDefault(),d.newPassword!==d.confirmPassword){alert("Password baru dan konfirmasi tidak cocok");return}n(!0);try{const{updateData:N,SHEETS:S}=await st(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>ot);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,password:d.newPassword,currentPassword:d.currentPassword},P=await N(S.USERS,T);if(P.success)f({currentPassword:"",newPassword:"",confirmPassword:""}),s(!0),setTimeout(()=>s(!1),2e3);else throw new Error(P.error||"Gagal mengupdate password")}}catch(N){console.error("Error updating password:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate password")}finally{n(!1)}},x=async k=>{k.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await st(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>ot);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,notificationSettings:h},P=await N(S.USERS,T);if(P.success)s(!0),setTimeout(()=>s(!1),2e3);else throw new Error(P.error||"Gagal mengupdate notifikasi")}}catch(N){console.error("Error updating notifications:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate notifikasi")}finally{n(!1)}},b=k=>{switch(k){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";default:return"warning"}},y=[{id:"profile",label:"Profile",icon:gh},{id:"password",label:"Password",icon:_m},{id:"notifications",label:"Notifikasi",icon:Jc}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Pengaturan Akun"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola informasi akun dan preferensi Anda"})]}),i.jsx(Ie,{className:"p-6 bg-gradient-to-r from-primary-50 to-indigo-50 dark:from-primary-900/30 dark:to-indigo-900/30 border-primary-200 dark:border-primary-800",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white text-2xl font-bold",children:((v=e==null?void 0:e.nama)==null?void 0:v.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:(e==null?void 0:e.nama)||"User"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400",children:(e==null?void 0:e.email)||"user@example.com"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsxs(Ze,{variant:b((e==null?void 0:e.role)||"user"),children:[i.jsx(Am,{className:"h-3 w-3 mr-1"}),((w=e==null?void 0:e.role)==null?void 0:w.toUpperCase())||"USER"]}),i.jsx(Ze,{variant:"primary",children:(e==null?void 0:e.plant)||"NPK2"})]})]}),i.jsx(ge,{variant:"secondary",onClick:t,children:"Logout"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx(Ie,{className:"p-4 h-fit",children:i.jsx("nav",{className:"space-y-1",children:y.map(k=>i.jsxs("button",{onClick:()=>l(k.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ${o===k.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 font-medium":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700"}`,children:[i.jsx(k.icon,{className:"h-5 w-5"}),k.label]},k.id))})}),i.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs(_t,{className:"flex items-center gap-2",children:[i.jsx(gh,{className:"h-5 w-5"}),"Informasi Profile"]})}),i.jsx(An,{children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsx(Ae,{label:"Nama Lengkap",type:"text",value:c.nama,onChange:k=>u(N=>({...N,nama:k.target.value})),required:!0}),i.jsx(Ae,{label:"Email",type:"email",value:c.email,onChange:k=>u(N=>({...N,email:k.target.value})),required:!0}),i.jsx(Ae,{label:"No. Telepon",type:"tel",value:c.phone,onChange:k=>u(N=>({...N,phone:k.target.value})),placeholder:"08xxxxxxxxxx"}),i.jsx(at,{label:"Department",value:c.department,onChange:k=>u(N=>({...N,department:k.target.value})),options:[{value:"Produksi",label:"Produksi"},{value:"Maintenance",label:"Maintenance"},{value:"Quality Control",label:"Quality Control"},{value:"HSE",label:"HSE"},{value:"Admin",label:"Admin"}]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(ge,{type:"submit",isLoading:r,children:[i.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Simpan Perubahan"]})})]})})]}),o==="password"&&i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs(_t,{className:"flex items-center gap-2",children:[i.jsx(_m,{className:"h-5 w-5"}),"Ubah Password"]})}),i.jsx(An,{children:i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsx(Ae,{label:"Password Saat Ini",type:"password",value:d.currentPassword,onChange:k=>f(N=>({...N,currentPassword:k.target.value})),required:!0}),i.jsx(Ae,{label:"Password Baru",type:"password",value:d.newPassword,onChange:k=>f(N=>({...N,newPassword:k.target.value})),required:!0}),i.jsx(Ae,{label:"Konfirmasi Password Baru",type:"password",value:d.confirmPassword,onChange:k=>f(N=>({...N,confirmPassword:k.target.value})),required:!0}),i.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[i.jsx("strong",{children:"Tips:"})," Password minimal 8 karakter, kombinasi huruf besar, huruf kecil, dan angka."]})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(ge,{type:"submit",isLoading:r,children:[i.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})})]}),o==="notifications"&&i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs(_t,{className:"flex items-center gap-2",children:[i.jsx(Jc,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]})}),i.jsx(An,{children:i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi Umum"}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Terima notifikasi via email"})]}),i.jsx("input",{type:"checkbox",checked:h.emailNotifications,onChange:k=>p(N=>({...N,emailNotifications:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi browser/app"})]}),i.jsx("input",{type:"checkbox",checked:h.pushNotifications,onChange:k=>p(N=>({...N,pushNotifications:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Laporan"}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Harian"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi harian"})]}),i.jsx("input",{type:"checkbox",checked:h.dailyReport,onChange:k=>p(N=>({...N,dailyReport:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Mingguan"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi mingguan"})]}),i.jsx("input",{type:"checkbox",checked:h.weeklyReport,onChange:k=>p(N=>({...N,weeklyReport:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Alert"}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Downtime"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi saat terjadi downtime"})]}),i.jsx("input",{type:"checkbox",checked:h.alertDowntime,onChange:k=>p(N=>({...N,alertDowntime:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Work Request"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi work request baru"})]}),i.jsx("input",{type:"checkbox",checked:h.alertWorkRequest,onChange:k=>p(N=>({...N,alertWorkRequest:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(ge,{type:"submit",isLoading:r,children:[i.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})})]})})]})]})]}),i.jsx(Nr,{isVisible:a,message:"Perubahan berhasil disimpan!",onClose:()=>s(!1)})]})},tl=[{key:"januari",label:"Januari"},{key:"februari",label:"Februari"},{key:"maret",label:"Maret"},{key:"april",label:"April"},{key:"mei",label:"Mei"},{key:"juni",label:"Juni"},{key:"juli",label:"Juli"},{key:"agustus",label:"Agustus"},{key:"september",label:"September"},{key:"oktober",label:"Oktober"},{key:"november",label:"November"},{key:"desember",label:"Desember"}],rl={tahun:new Date().getFullYear().toString(),plant:"NPK2",januari:0,februari:0,maret:0,april:0,mei:0,juni:0,juli:0,agustus:0,september:0,oktober:0,november:0,desember:0,total:0},$O=[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"}],MTe=()=>{var je;const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Zr(),[a,s]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(null),[w,k]=j.useState(rl),[N,S]=j.useState((e==null?void 0:e.plant)||"ALL"),[T,P]=j.useState(new Date().getFullYear().toString()),[_,E]=j.useState(!1),[A,R]=j.useState("");j.useEffect(()=>{(async()=>{u(!0);try{const{readData:U,fetchDataByPlant:ae,SHEETS:O}=await st(async()=>{const{readData:le,fetchDataByPlant:Me,SHEETS:Ye}=await Promise.resolve().then(()=>ot);return{readData:le,fetchDataByPlant:Me,SHEETS:Ye}},void 0),W=await U(O.RKAP);W.success&&W.data?s(W.data):s([]);const ne=await ae(O.PRODUKSI_NPK);ne.success&&ne.data?l(ne.data):l([])}catch(U){console.error("Error fetching data:",U),s([]),l([])}finally{u(!1)}})()},[]),j.useEffect(()=>{const H=tl.reduce((U,ae)=>U+(Number(w[ae.key])||0),0);k(U=>({...U,total:H}))},[w.januari,w.februari,w.maret,w.april,w.mei,w.juni,w.juli,w.agustus,w.september,w.oktober,w.november,w.desember]);const q=j.useMemo(()=>{const H={},U=o.filter(ae=>{const W=new Date(ae.tanggal).getFullYear().toString()===T,ne=N==="ALL"||ae._plant===N;return W&&ne});return tl.forEach((ae,O)=>{const W=U.filter(ne=>new Date(ne.tanggal).getMonth()===O);H[ae.key]=W.reduce((ne,le)=>ne+(ve(le.total)||ve(le.shiftMalamOnspek)+ve(le.shiftMalamOffspek)+ve(le.shiftPagiOnspek)+ve(le.shiftPagiOffspek)+ve(le.shiftSoreOnspek)+ve(le.shiftSoreOffspek)),0)}),H},[o,T,N]),Z=j.useMemo(()=>a.filter(H=>{var O;const U=((O=H.tahun)==null?void 0:O.toString())===T,ae=N==="ALL"||H.plant===N;return U&&ae}),[a,T,N]),V=j.useMemo(()=>a.find(H=>{var U;return((U=H.tahun)==null?void 0:U.toString())===T&&H.plant==="NPK1"}),[a,T]),G=j.useMemo(()=>a.find(H=>{var U;return((U=H.tahun)==null?void 0:U.toString())===T&&H.plant==="NPK2"}),[a,T]),re=j.useMemo(()=>{const H={NPK1:{},NPK2:{}};return["NPK1","NPK2"].forEach(U=>{const ae=o.filter(O=>new Date(O.tanggal).getFullYear().toString()===T&&O._plant===U);tl.forEach((O,W)=>{const ne=ae.filter(le=>new Date(le.tanggal).getMonth()===W);H[U][O.key]=ne.reduce((le,Me)=>le+(ve(Me.total)||ve(Me.shiftMalamOnspek)+ve(Me.shiftMalamOffspek)+ve(Me.shiftPagiOnspek)+ve(Me.shiftPagiOffspek)+ve(Me.shiftSoreOnspek)+ve(Me.shiftSoreOffspek)),0)})}),H},[o,T]),M=Z[0],Y=async H=>{H.preventDefault(),u(!0);try{if(x){const U={...w,id:x},ae=await r("rkap",U);if(ae.success)s(O=>O.map(W=>W.id===x?{...w,id:x}:W));else throw new Error(ae.error||"Gagal mengupdate data")}else{const U=await t("rkap",w);if(U.success&&U.data)s(ae=>[U.data,...ae]);else throw new Error(U.error||"Gagal menyimpan data")}f(!1),k(rl),b(null),m(!0),setTimeout(()=>m(!1),2e3)}catch(U){console.error("Error saving data:",U),alert(U instanceof Error?U.message:"Terjadi kesalahan saat menyimpan data")}finally{u(!1)}},ee=H=>{k(H),b(H.id||null),f(!0)},D=H=>{v(H),p(!0)},J=async()=>{if(y){u(!0);try{const H=await n("rkap",{id:y});if(H.success)s(U=>U.filter(ae=>ae.id!==y)),p(!1),v(null),m(!0),setTimeout(()=>m(!1),2e3);else throw new Error(H.error||"Gagal menghapus data")}catch(H){console.error("Error deleting data:",H),alert(H instanceof Error?H.message:"Terjadi kesalahan saat menghapus data")}finally{u(!1)}}},z=()=>{k({...rl,tahun:T,plant:N==="ALL"?"NPK2":N}),b(null),f(!0)},L=(H,U)=>{k(ae=>({...ae,[H]:parseFloat(U)||0}))},te=(V==null?void 0:V.total)||0,ye=(G==null?void 0:G.total)||0,Te=N==="ALL"?te+ye:(M==null?void 0:M.total)||0,de=Object.values(re.NPK1).reduce((H,U)=>H+U,0),fe=Object.values(re.NPK2).reduce((H,U)=>H+U,0),be=N==="ALL"?de+fe:Object.values(q).reduce((H,U)=>H+U,0),he=Te>0?(be/Te*100).toFixed(1):"0",_e=te>0?(de/te*100).toFixed(1):"0",ue=ye>0?(fe/ye*100).toFixed(1):"0",C=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp",B=j.useCallback(()=>{if(d&&!c){const H=document.querySelector("form");H&&H.requestSubmit()}},[d,c]);Br(B,d);const K=N==="ALL"?"Semua Plant":N==="NPK1"?"NPK Plant 1":"NPK Plant 2";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"RKAP (Target Produksi)"}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Rencana Kerja dan Anggaran Perusahaan - ",K]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:T,onChange:H=>P(H.target.value),options:$O,className:"w-32"}),(e==null?void 0:e.plant)==="ALL"&&i.jsx(at,{value:N,onChange:H=>S(H.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),N!=="ALL"&&M&&i.jsxs(ge,{variant:"secondary",onClick:()=>{R(M.id||""),E(!0)},title:"Lihat Log Aktivitas",children:[i.jsx(At,{className:"h-4 w-4 mr-2"}),"Log"]}),C&&N!=="ALL"&&(M?i.jsxs(ge,{onClick:()=>ee(M),children:[i.jsx(hr,{className:"h-4 w-4 mr-2"}),"Edit Target"]}):i.jsxs(ge,{onClick:z,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Target"]}))]})]}),N==="ALL"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ie,{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:i.jsx(Eo,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-blue-900 dark:text-blue-100",children:"NPK Plant 1"}),i.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:["RKAP ",T]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[V&&i.jsx(ge,{size:"sm",variant:"secondary",onClick:()=>{R(V.id||""),E(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-3 w-3"})}),C&&i.jsx(ge,{size:"sm",variant:V?"secondary":"primary",onClick:()=>{V?ee(V):(k({...rl,tahun:T,plant:"NPK1"}),b(null),f(!0))},children:V?i.jsxs(i.Fragment,{children:[i.jsx(hr,{className:"h-3 w-3 mr-1"}),"Edit"]}):i.jsxs(i.Fragment,{children:[i.jsx(xr,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Target"}),i.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:ce(te)}),i.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Realisasi"}),i.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:ce(de)}),i.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Pencapaian"}),i.jsxs("p",{className:`text-xl font-bold ${Number(_e)>=100?"text-green-600":"text-amber-600"}`,children:[_e,"%"]}),i.jsx(Ze,{variant:V?"success":"warning",size:"sm",children:V?"Target Ada":"Belum Ada"})]})]})]}),i.jsxs(Ie,{className:"p-5 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:i.jsx(Eo,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-amber-900 dark:text-amber-100",children:"NPK Plant 2"}),i.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-300",children:["RKAP ",T]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[G&&i.jsx(ge,{size:"sm",variant:"secondary",onClick:()=>{R(G.id||""),E(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-3 w-3"})}),C&&i.jsx(ge,{size:"sm",variant:G?"secondary":"primary",onClick:()=>{G?ee(G):(k({...rl,tahun:T,plant:"NPK2"}),b(null),f(!0))},children:G?i.jsxs(i.Fragment,{children:[i.jsx(hr,{className:"h-3 w-3 mr-1"}),"Edit"]}):i.jsxs(i.Fragment,{children:[i.jsx(xr,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Target"}),i.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:ce(ye)}),i.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Realisasi"}),i.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:ce(fe)}),i.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Pencapaian"}),i.jsxs("p",{className:`text-xl font-bold ${Number(ue)>=100?"text-green-600":"text-amber-600"}`,children:[ue,"%"]}),i.jsx(Ze,{variant:G?"success":"warning",size:"sm",children:G?"Target Ada":"Belum Ada"})]})]})]})]}),i.jsx(Ie,{className:"p-4 bg-gradient-to-r from-dark-100 to-dark-200 dark:from-dark-800 dark:to-dark-700",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-dark-200 dark:bg-dark-600 rounded-xl",children:i.jsx(Pl,{className:"h-6 w-6 text-dark-600 dark:text-dark-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gabungan NPK 1 + NPK 2"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"text-xl font-bold text-dark-900 dark:text-white",children:[ce(be)," /"," ",ce(Te)," Ton"]}),i.jsxs(Ze,{variant:Number(he)>=100?"success":"warning",children:[he,"%"]})]})]})]})})})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ie,{className:"p-4 bg-gradient-to-br from-primary-50 to-indigo-50 border-primary-200",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:i.jsx(Eo,{className:"h-6 w-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Target RKAP ",T]}),i.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[ce(Te)," Ton"]})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:i.jsx(Pl,{className:"h-6 w-6 text-secondary-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Realisasi"}),i.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[ce(be)," Ton"]})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-xl ${Number(he)>=100?"bg-green-100":"bg-amber-100"}`,children:i.jsx(Wa,{className:`h-6 w-6 ${Number(he)>=100?"text-green-600":"text-amber-600"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pencapaian"}),i.jsxs("p",{className:`text-2xl font-bold ${Number(he)>=100?"text-green-600":"text-amber-600"}`,children:[he,"%"]})]})]})})]}),N==="ALL"?i.jsxs(i.Fragment,{children:[i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{className:"text-blue-700 dark:text-blue-400",children:["NPK Plant 1 - Perbandingan Target vs Realisasi ",T]}),i.jsx(Ze,{variant:V?"success":"warning",children:V?"Target Tersedia":"Belum Ada Target"})]})}),i.jsx(An,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-blue-600 dark:text-blue-400",children:"Target NPK 1 (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),i.jsxs("tbody",{children:[tl.map(H=>{const U=Number(V==null?void 0:V[H.key])||0,ae=re.NPK1[H.key]||0,O=ae-U,W=U>0?(ae/U*100).toFixed(1):"0";return i.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-blue-50 dark:hover:bg-blue-900/10",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:H.label}),i.jsx("td",{className:"py-3 px-4 text-right text-blue-600 font-semibold",children:ce(U)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:ce(ae)}),i.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${O>=0?"text-green-600":"text-red-600"}`,children:[O>=0?"+":"",ce(O)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(W)>=100?"success":Number(W)>=80?"warning":"danger",children:[W,"%"]})})]},H.key)}),i.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-900/20 font-bold",children:[i.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 1"}),i.jsx("td",{className:"py-3 px-4 text-right text-blue-700",children:ce(te)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:ce(de)}),i.jsxs("td",{className:`py-3 px-4 text-right ${de-te>=0?"text-green-700":"text-red-700"}`,children:[de-te>=0?"+":"",ce(de-te)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(_e)>=100?"success":"warning",className:"text-base",children:[_e,"%"]})})]})]})]})})})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{className:"text-amber-700 dark:text-amber-400",children:["NPK Plant 2 - Perbandingan Target vs Realisasi ",T]}),i.jsx(Ze,{variant:G?"success":"warning",children:G?"Target Tersedia":"Belum Ada Target"})]})}),i.jsx(An,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-amber-600 dark:text-amber-400",children:"Target NPK 2 (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),i.jsxs("tbody",{children:[tl.map(H=>{const U=Number(G==null?void 0:G[H.key])||0,ae=re.NPK2[H.key]||0,O=ae-U,W=U>0?(ae/U*100).toFixed(1):"0";return i.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-amber-50 dark:hover:bg-amber-900/10",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:H.label}),i.jsx("td",{className:"py-3 px-4 text-right text-amber-600 font-semibold",children:ce(U)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:ce(ae)}),i.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${O>=0?"text-green-600":"text-red-600"}`,children:[O>=0?"+":"",ce(O)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(W)>=100?"success":Number(W)>=80?"warning":"danger",children:[W,"%"]})})]},H.key)}),i.jsxs("tr",{className:"bg-amber-100 dark:bg-amber-900/20 font-bold",children:[i.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 2"}),i.jsx("td",{className:"py-3 px-4 text-right text-amber-700",children:ce(ye)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:ce(fe)}),i.jsxs("td",{className:`py-3 px-4 text-right ${fe-ye>=0?"text-green-700":"text-red-700"}`,children:[fe-ye>=0?"+":"",ce(fe-ye)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(ue)>=100?"success":"warning",className:"text-base",children:[ue,"%"]})})]})]})]})})})]})]}):i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(_t,{children:["Perbandingan Target vs Realisasi Bulanan - ",T]}),i.jsx(Ze,{variant:M?"success":"warning",children:M?"Target Tersedia":"Belum Ada Target"})]})}),i.jsx(An,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Target RKAP (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),i.jsxs("tbody",{children:[tl.map(H=>{const U=Number(M==null?void 0:M[H.key])||0,ae=q[H.key]||0,O=ae-U,W=U>0?(ae/U*100).toFixed(1):"0";return i.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-700/50",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:H.label}),i.jsx("td",{className:"py-3 px-4 text-right text-primary-600 font-semibold",children:ce(U)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:ce(ae)}),i.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${O>=0?"text-green-600":"text-red-600"}`,children:[O>=0?"+":"",ce(O)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(W)>=100?"success":Number(W)>=80?"warning":"danger",children:[W,"%"]})})]},H.key)}),i.jsxs("tr",{className:"bg-dark-100 font-bold",children:[i.jsx("td",{className:"py-3 px-4",children:"TOTAL"}),i.jsx("td",{className:"py-3 px-4 text-right text-primary-700",children:ce(Te)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:ce(be)}),i.jsxs("td",{className:`py-3 px-4 text-right ${be-Te>=0?"text-green-700":"text-red-700"}`,children:[be-Te>=0?"+":"",ce(be-Te)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(he)>=100?"success":"warning",className:"text-base",children:[he,"%"]})})]})]})]})})})]}),C&&N!=="ALL"&&M&&i.jsx("div",{className:"flex justify-end",children:i.jsxs(ge,{variant:"danger",onClick:()=>D(M.id),children:[i.jsx(lr,{className:"h-4 w-4 mr-2"}),"Hapus Target RKAP ",T]})}),i.jsx(xt,{isOpen:d,onClose:()=>{f(!1),k(rl),b(null)},title:x?`Edit Target RKAP ${w.tahun}`:"Buat Target RKAP Baru",size:"lg",children:i.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Tahun",value:((je=w.tahun)==null?void 0:je.toString())||"",onChange:H=>k(U=>({...U,tahun:H.target.value})),options:$O,required:!0,disabled:!!x}),i.jsx(at,{label:"Plant",value:w.plant||"NPK2",onChange:H=>k(U=>({...U,plant:H.target.value})),options:[{value:"NPK1",label:"NPK Plant 1"},{value:"NPK2",label:"NPK Plant 2"}],required:!0,disabled:!!x})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-dark-700 border-b pb-2",children:"Target Bulanan (Ton)"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:tl.map(H=>i.jsx(Ae,{label:H.label,type:"number",value:w[H.key]||"",onChange:U=>L(H.key,U.target.value),placeholder:"0",min:"0"},H.key))})]}),i.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold text-dark-700",children:"Total Target Tahunan:"}),i.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[ce(w.total||0)," Ton"]})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{f(!1),k(rl),b(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:c,children:x?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:h,onClose:()=>{p(!1),v(null)},onConfirm:J,title:"Hapus Target RKAP",message:`Apakah Anda yakin ingin menghapus target RKAP tahun ${T}?`,confirmText:"Hapus",variant:"danger",isLoading:c}),i.jsx(Nr,{isVisible:g,message:"Data berhasil disimpan!",onClose:()=>m(!1)}),i.jsx(Fr,{isOpen:_,onClose:()=>{E(!1),R("")},sheetName:"rkap",recordId:A,title:"Log Aktivitas RKAP"})]})},af={username:"",nama:"",namaLengkap:"",email:"",password:"",role:"user",plant:"NPK2",status:"active"},RTe=()=>{const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Zr(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,b]=j.useState(null),[y,v]=j.useState(af),[w,k]=j.useState(!1),[N,S]=j.useState(""),[T,P]=j.useState("ALL"),_=[{value:"admin",label:"Admin"},{value:"supervisor",label:"Supervisor"},{value:"user",label:"User"},{value:"avp",label:"AVP"},{value:"manager",label:"Manager"},{value:"eksternal",label:"Eksternal"}],E=[{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"},{value:"ALL",label:"Semua Plant"}];j.useEffect(()=>{(async()=>{l(!0);try{const{readData:te,SHEETS:ye}=await st(async()=>{const{readData:de,SHEETS:fe}=await Promise.resolve().then(()=>ot);return{readData:de,SHEETS:fe}},void 0),Te=await te(ye.USERS);if(Te.success&&Te.data){const de=[...Te.data].sort((fe,be)=>(fe.nama||"").localeCompare(be.nama||""));s(de)}else s([])}catch(te){console.error("Error fetching data:",te),s([])}finally{l(!1)}})()},[]);const A=async L=>{var te;L.preventDefault(),l(!0);try{const ye={...y,username:y.username||((te=y.email)==null?void 0:te.split("@")[0])||"",namaLengkap:y.namaLengkap||y.nama||""};if(g&&!ye.password&&delete ye.password,g){const Te={...ye,id:g,updatedAt:new Date().toISOString()},de=await r("users",Te);if(de.success)s(fe=>fe.map(be=>be.id===g?{...ye,id:g,updatedAt:new Date().toISOString()}:be));else throw new Error(de.error||"Gagal mengupdate data")}else{const Te={...ye,createdAt:new Date().toISOString()},de=await t("users",Te);if(de.success&&de.data){const fe={...Te,...de.data};s(be=>[fe,...be])}else throw new Error(de.error||"Gagal menyimpan data")}u(!1),v(af),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(ye){console.error("Error saving data:",ye),alert(ye instanceof Error?ye.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},R=L=>{v({...L,password:"",namaLengkap:L.namaLengkap||L.nama||""}),m(L.id||null),u(!0)},q=L=>{b(L),f(!0)},Z=async()=>{if(x){l(!0);try{const L=await n("users",{id:x});if(L.success)s(te=>te.filter(ye=>ye.id!==x)),f(!1),b(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(L.error||"Gagal menghapus data")}catch(L){console.error("Error deleting data:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},V=async L=>{const te=a.find(ye=>ye.id===L);if(te)try{const ye=te.status==="active"?"inactive":"active",Te={...te,status:ye},de=await r("users",Te);if(de.success)s(fe=>fe.map(be=>be.id===L?{...be,status:ye}:be));else throw new Error(de.error||"Gagal mengupdate status")}catch(ye){console.error("Error toggling status:",ye),alert(ye instanceof Error?ye.message:"Terjadi kesalahan saat mengubah status")}},G=()=>{v(af),m(null),u(!0)},re=a.filter(L=>T==="ALL"||L.role===T),M=L=>{switch(L){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";case"eksternal":return"warning";default:return"primary"}},Y=[{key:"nama",header:"User",render:(L,te)=>{var ye;return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-semibold",children:(ye=te.namaLengkap||te.nama||te.username||"U")==null?void 0:ye.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:te.namaLengkap||te.nama||te.username}),i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["@",te.username,"  ",te.email]})]})]})}},{key:"role",header:"Role",render:L=>i.jsxs(Ze,{variant:M(L),children:[i.jsx(Am,{className:"h-3 w-3 mr-1"}),L.toUpperCase()]})},{key:"plant",header:"Plant",render:L=>i.jsx(Ze,{variant:"info",children:L})},{key:"status",header:"Status",render:(L,te)=>i.jsx("button",{onClick:ye=>{ye.stopPropagation(),V(te.id)},className:"flex items-center gap-2",children:L==="active"?i.jsxs(Ze,{variant:"success",children:[i.jsx(kP,{className:"h-3 w-3 mr-1"}),"Active"]}):i.jsxs(Ze,{variant:"danger",children:[i.jsx(jP,{className:"h-3 w-3 mr-1"}),"Inactive"]})})},{key:"createdAt",header:"Dibuat",render:L=>gt(L)}],ee=(e==null?void 0:e.role)==="admin",D=j.useCallback(()=>{if(c&&!o){const L=document.querySelector("form");L&&L.requestSubmit()}},[c,o]);Br(D,c);const J=re.filter(L=>L.status==="active").length,z=re.filter(L=>L.status==="inactive").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Manajemen User"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola pengguna sistem"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:T,onChange:L=>P(L.target.value),options:[{value:"ALL",label:"Semua Role"},..._],className:"w-40"}),ee&&i.jsxs(ge,{onClick:G,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:i.jsx(vu,{className:"h-6 w-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:re.length})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:i.jsx(kP,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Active Users"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:J})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:i.jsx(jP,{className:"h-6 w-6 text-red-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Inactive Users"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:z})]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(_t,{children:"Daftar User"})})}),i.jsx(Lr,{data:re,columns:Y,loading:o,searchable:!0,searchPlaceholder:"Cari nama, username, email, role...",searchKeys:["nama","namaLengkap","username","email","role","plant"],actions:ee?L=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),S(L.id||""),k(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),R(L)},children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),q(L.id)},children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]}):void 0})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),v(af),m(null)},title:g?"Edit User":"Tambah User Baru",size:"md",children:i.jsxs("form",{onSubmit:A,className:"space-y-4",autoComplete:"off",children:[i.jsx(Ae,{label:"Username",type:"text",value:y.username,onChange:L=>v(te=>({...te,username:L.target.value})),placeholder:"Username untuk login",required:!0,disabled:!!g,autoComplete:"off",name:"new-username"}),i.jsx(Ae,{label:"Nama Lengkap",type:"text",value:y.namaLengkap,onChange:L=>v(te=>({...te,namaLengkap:L.target.value,nama:L.target.value})),placeholder:"Nama lengkap",required:!0,autoComplete:"off"}),i.jsx(Ae,{label:"Email",type:"email",value:y.email,onChange:L=>v(te=>({...te,email:L.target.value})),placeholder:"email@example.com",required:!0,autoComplete:"off"}),i.jsx(Ae,{label:g?"Password Baru (kosongkan jika tidak diubah)":"Password",type:"password",value:y.password,onChange:L=>v(te=>({...te,password:L.target.value})),placeholder:"",required:!g,autoComplete:"new-password",name:"new-password"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Role",value:y.role,onChange:L=>v(te=>({...te,role:L.target.value})),options:_,required:!0}),i.jsx(at,{label:"Plant",value:y.plant,onChange:L=>v(te=>({...te,plant:L.target.value})),options:E,required:!0})]}),i.jsx(at,{label:"Status",value:y.status,onChange:L=>v(te=>({...te,status:L.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{type:"button",variant:"secondary",onClick:()=>{u(!1),v(af),m(null)},children:"Batal"}),i.jsx(ge,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:d,onClose:()=>{f(!1),b(null)},onConfirm:Z,title:"Hapus User",message:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:o}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),i.jsx(Fr,{isOpen:w,onClose:()=>{k(!1),S("")},sheetName:"users",recordId:N,title:"Log Aktivitas User"})]})},ITe=()=>{const{user:e}=Et(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState("pending"),[b,y]=j.useState("");j.useEffect(()=>{(async()=>{a(!0);try{const{readData:G,SHEETS:re}=await st(async()=>{const{readData:Y,SHEETS:ee}=await Promise.resolve().then(()=>ot);return{readData:Y,SHEETS:ee}},void 0),M=await G(re.APPROVAL_REQUESTS);if(M.success&&M.data){const Y=[...M.data].sort((ee,D)=>new Date(D.submittedAt||0).getTime()-new Date(ee.submittedAt||0).getTime());r(Y)}else r([])}catch(G){console.error("Error fetching data:",G),r([])}finally{a(!1)}})()},[]);const v=async()=>{if(p){a(!0);try{const{updateData:V,SHEETS:G}=await st(async()=>{const{updateData:Y,SHEETS:ee}=await Promise.resolve().then(()=>ot);return{updateData:Y,SHEETS:ee}},void 0),re={...p,status:"approved"},M=await V(G.APPROVAL_REQUESTS,re);if(M.success)r(Y=>Y.map(ee=>ee.id===p.id?{...ee,status:"approved"}:ee)),c(!1),g(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(M.error||"Gagal approve data")}catch(V){console.error("Error approving:",V),alert(V instanceof Error?V.message:"Terjadi kesalahan saat approve")}finally{a(!1)}}},w=async()=>{if(p){a(!0);try{const{updateData:V,SHEETS:G}=await st(async()=>{const{updateData:Y,SHEETS:ee}=await Promise.resolve().then(()=>ot);return{updateData:Y,SHEETS:ee}},void 0),re={...p,status:"rejected",rejectReason:b},M=await V(G.APPROVAL_REQUESTS,re);if(M.success)r(Y=>Y.map(ee=>ee.id===p.id?{...ee,status:"rejected"}:ee)),d(!1),g(null),y(""),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(M.error||"Gagal reject data")}catch(V){console.error("Error rejecting:",V),alert(V instanceof Error?V.message:"Terjadi kesalahan saat reject")}finally{a(!1)}}},k=V=>{g(V),o(!0)},N=V=>{g(V),c(!0)},S=V=>{g(V),d(!0)},T=t.filter(V=>m==="all"||V.status===m),P=V=>{switch(V){case"work_request":return{variant:"primary",label:"Work Request"};case"gate_pass":return{variant:"info",label:"Gate Pass"};case"downtime":return{variant:"warning",label:"Downtime"};case"trouble_record":return{variant:"danger",label:"Trouble Record"};default:return{variant:"info",label:V}}},_=V=>{switch(V){case"pending":return{variant:"warning",icon:Ai,label:"Pending"};case"approved":return{variant:"success",icon:Ic,label:"Approved"};case"rejected":return{variant:"danger",icon:df,label:"Rejected"};default:return{variant:"info",icon:Ai,label:V}}},E=[{key:"title",header:"Judul",render:(V,G)=>i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:V}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 line-clamp-1",children:G.description})]})},{key:"type",header:"Tipe",render:V=>{const G=P(V);return i.jsx(Ze,{variant:G.variant,children:G.label})}},{key:"submittedBy",header:"Diajukan Oleh"},{key:"submittedAt",header:"Tanggal",render:V=>gt(V)},{key:"status",header:"Status",render:V=>{const G=_(V);return i.jsxs(Ze,{variant:G.variant,children:[i.jsx(G.icon,{className:"h-3 w-3 mr-1"}),G.label]})}}],A=t.filter(V=>V.status==="pending").length,R=t.filter(V=>V.status==="approved").length,q=t.filter(V=>V.status==="rejected").length,Z=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Approval"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola persetujuan dokumen dan request"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(at,{value:m,onChange:V=>x(V.target.value),options:[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-40"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ie,{className:"p-4 border-l-4 border-l-amber-500 cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",onClick:()=>x("pending"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-xl",children:i.jsx(Ai,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Menunggu Approval"}),i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:A})]})]})}),i.jsx(Ie,{className:"p-4 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",onClick:()=>x("approved"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:i.jsx(Ic,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Approved"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:R})]})]})}),i.jsx(Ie,{className:"p-4 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:()=>x("rejected"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:i.jsx(df,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rejected"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:q})]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Pt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(_t,{children:"Daftar Approval"})})}),i.jsx(Lr,{data:T,columns:E,loading:n,searchable:!0,searchPlaceholder:"Cari judul, deskripsi, status...",searchKeys:["title","description","submittedBy","status","type","action"],actions:V=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),k(V)},children:i.jsx(Ss,{className:"h-4 w-4 text-dark-600"})}),Z&&V.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx(ge,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),N(V)},children:i.jsx(Ic,{className:"h-4 w-4 text-green-600"})}),i.jsx(ge,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),S(V)},children:i.jsx(df,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:s,onClose:()=>{o(!1),g(null)},title:"Detail Approval",size:"md",children:p&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4 p-4 bg-dark-50 rounded-xl",children:[i.jsx(Ta,{className:"h-10 w-10 text-primary-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:p.title}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:p.description})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tipe"}),i.jsx(Ze,{variant:P(p.type).variant,children:P(p.type).label})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Status"}),i.jsx(Ze,{variant:_(p.status).variant,children:_(p.status).label})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Diajukan Oleh"}),i.jsx("p",{className:"font-medium",children:p.submittedBy})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tanggal"}),i.jsx("p",{className:"font-medium",children:gt(p.submittedAt)})]})]}),p.data&&i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[i.jsx("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Detail Data:"}),i.jsx("div",{className:"space-y-1",children:Object.entries(p.data).map(([V,G])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-dark-500 dark:text-dark-400 capitalize",children:[V.replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-medium",children:String(G)})]},V))})]}),Z&&p.status==="pending"&&i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsxs(ge,{variant:"danger",onClick:()=>{o(!1),S(p)},children:[i.jsx(df,{className:"h-4 w-4 mr-2"}),"Reject"]}),i.jsxs(ge,{variant:"success",onClick:()=>{o(!1),N(p)},children:[i.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]})}),i.jsx(Ar,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:v,title:"Approve Request",message:`Apakah Anda yakin ingin menyetujui "${p==null?void 0:p.title}"?`,confirmText:"Approve",variant:"info",isLoading:n}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),g(null),y("")},title:"Reject Request",size:"sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-dark-600",children:['Apakah Anda yakin ingin menolak "',p==null?void 0:p.title,'"?']}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Penolakan (opsional)"}),i.jsx("textarea",{value:b,onChange:V=>y(V.target.value),placeholder:"Masukkan alasan penolakan...",className:"input-field min-h-[80px]"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ge,{variant:"secondary",onClick:()=>{d(!1),g(null),y("")},children:"Batal"}),i.jsx(ge,{variant:"danger",onClick:w,isLoading:n,children:"Reject"})]})]})}),i.jsx(Nr,{isVisible:f,message:"Berhasil!",onClose:()=>h(!1)})]})},LTe=({children:e})=>{const{isLoggedIn:t}=Et();return t?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/login",replace:!0})},FTe=({children:e})=>{const{isLoggedIn:t}=Et();return t?i.jsx(Ll,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e})},BO=({children:e})=>{const{user:t}=Et(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return j5(r,n)?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/dashboard",replace:!0})},$Te=({children:e})=>{const{user:t}=Et(),r=(t==null?void 0:t.role)||"";return t==null||t.plant,S5(r)?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/dashboard",replace:!0})},BTe=({children:e})=>{const{user:t}=Et(),r=(t==null?void 0:t.role)||"";return N5(r)?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/dashboard",replace:!0})};function UTe(){return i.jsxs(i.Fragment,{children:[i.jsxs(w7,{children:[i.jsx(mt,{path:"/login",element:i.jsx(FTe,{children:i.jsx(jee,{})})}),i.jsxs(mt,{path:"/",element:i.jsx(LTe,{children:i.jsx(wee,{})}),children:[i.jsx(mt,{index:!0,element:i.jsx(Ll,{to:"/dashboard",replace:!0})}),i.jsx(mt,{path:"dashboard",element:i.jsx(eTe,{})}),i.jsxs(mt,{path:"produksi",children:[i.jsx(mt,{path:"npk1",element:i.jsx(xO,{plant:"NPK1"})}),i.jsx(mt,{path:"npk2",element:i.jsx(xO,{plant:"NPK2"})}),i.jsx(mt,{path:"blending",element:i.jsx(vO,{type:"blending"})}),i.jsx(mt,{path:"retail",element:i.jsx(vO,{type:"retail"})}),i.jsx(mt,{path:"npk-mini",element:i.jsx(aTe,{})})]}),i.jsxs(mt,{path:"laporan",children:[i.jsx(mt,{path:"kop-npk1",element:i.jsx(PO,{plant:"NPK1"})}),i.jsx(mt,{path:"kop-npk2",element:i.jsx(PO,{plant:"NPK2"})}),i.jsx(mt,{path:"downtime-npk1",element:i.jsx(yO,{plant:"NPK1"})}),i.jsx(mt,{path:"downtime-npk2",element:i.jsx(yO,{plant:"NPK2"})}),i.jsx(mt,{path:"timesheet-forklift-npk1",element:i.jsx(wO,{plant:"NPK1"})}),i.jsx(mt,{path:"timesheet-forklift-npk2",element:i.jsx(wO,{plant:"NPK2"})}),i.jsx(mt,{path:"timesheet-loader-npk1",element:i.jsx(jO,{plant:"NPK1"})}),i.jsx(mt,{path:"timesheet-loader-npk2",element:i.jsx(jO,{plant:"NPK2"})}),i.jsx(mt,{path:"pemakaian-bb-npk1",element:i.jsx(_O,{plant:"NPK1"})}),i.jsx(mt,{path:"pemakaian-bb-npk2",element:i.jsx(_O,{plant:"NPK2"})})]}),i.jsxs(mt,{path:"data",children:[i.jsx(mt,{path:"inventaris",element:i.jsx(CTe,{})}),i.jsx(mt,{path:"work-request-npk1",element:i.jsx(EO,{plant:"NPK1"})}),i.jsx(mt,{path:"work-request-npk2",element:i.jsx(EO,{plant:"NPK2"})}),i.jsx(mt,{path:"bahan-baku-npk1",element:i.jsx(CO,{plant:"NPK1"})}),i.jsx(mt,{path:"bahan-baku-npk2",element:i.jsx(CO,{plant:"NPK2"})}),i.jsx(mt,{path:"vibrasi-npk1",element:i.jsx(DO,{plant:"NPK1"})}),i.jsx(mt,{path:"vibrasi-npk2",element:i.jsx(DO,{plant:"NPK2"})}),i.jsx(mt,{path:"gate-pass-npk1",element:i.jsx(MO,{plant:"NPK1"})}),i.jsx(mt,{path:"gate-pass-npk2",element:i.jsx(MO,{plant:"NPK2"})}),i.jsx(mt,{path:"perbaikan-tahunan-npk1",element:i.jsx(RO,{plant:"NPK1"})}),i.jsx(mt,{path:"perbaikan-tahunan-npk2",element:i.jsx(RO,{plant:"NPK2"})}),i.jsx(mt,{path:"trouble-record-npk1",element:i.jsx(IO,{plant:"NPK1"})}),i.jsx(mt,{path:"trouble-record-npk2",element:i.jsx(IO,{plant:"NPK2"})}),i.jsx(mt,{path:"dokumentasi-foto-npk1",element:i.jsx(LO,{plant:"NPK1"})}),i.jsx(mt,{path:"dokumentasi-foto-npk2",element:i.jsx(LO,{plant:"NPK2"})}),i.jsx(mt,{path:"rekap-bbm-npk1",element:i.jsx(FO,{plant:"NPK1"})}),i.jsx(mt,{path:"rekap-bbm-npk2",element:i.jsx(FO,{plant:"NPK2"})}),i.jsx(mt,{path:"riksa-timb-portabel",element:i.jsx(TTe,{})}),i.jsx(mt,{path:"perta",element:i.jsx(yTe,{})})]}),i.jsxs(mt,{path:"settings",children:[i.jsx(mt,{path:"akun",element:i.jsx(BO,{children:i.jsx(DTe,{})})}),i.jsx(mt,{path:"rkap",element:i.jsx(BTe,{children:i.jsx(MTe,{})})}),i.jsx(mt,{path:"users",element:i.jsx($Te,{children:i.jsx(RTe,{})})}),i.jsx(mt,{path:"approval",element:i.jsx(BO,{children:i.jsx(ITe,{})})})]})]}),i.jsx(mt,{path:"*",element:i.jsx(Ll,{to:"/dashboard",replace:!0})})]}),i.jsx(aW,{})]})}const KTe=()=>{var t;const e=localStorage.getItem("ui-storage");if(e)try{const r=JSON.parse(e);((t=r.state)==null?void 0:t.darkMode)===!0&&(r.state.darkMode=!1,localStorage.setItem("ui-storage",JSON.stringify(r)))}catch{localStorage.removeItem("ui-storage")}document.documentElement.classList.remove("dark")};KTe();k1.createRoot(document.getElementById("root")).render(i.jsx(pe.StrictMode,{children:i.jsx(_7,{children:i.jsx(UTe,{})})}));
