function _3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pA={exports:{}},tm={},mA={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),D3=Symbol.for("react.portal"),M3=Symbol.for("react.fragment"),$3=Symbol.for("react.strict_mode"),R3=Symbol.for("react.profiler"),I3=Symbol.for("react.provider"),L3=Symbol.for("react.context"),B3=Symbol.for("react.forward_ref"),F3=Symbol.for("react.suspense"),K3=Symbol.for("react.memo"),z3=Symbol.for("react.lazy"),ij=Symbol.iterator;function V3(e){return e===null||typeof e!="object"?null:(e=ij&&e[ij]||e["@@iterator"],typeof e=="function"?e:null)}var gA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xA=Object.assign,vA={};function ac(e,t,r){this.props=e,this.context=t,this.refs=vA,this.updater=r||gA}ac.prototype.isReactComponent={};ac.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yA(){}yA.prototype=ac.prototype;function nb(e,t,r){this.props=e,this.context=t,this.refs=vA,this.updater=r||gA}var ab=nb.prototype=new yA;ab.constructor=nb;xA(ab,ac.prototype);ab.isPureReactComponent=!0;var oj=Array.isArray,bA=Object.prototype.hasOwnProperty,sb={current:null},kA={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)bA.call(t,n)&&!kA.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hd,type:e,key:i,ref:o,props:s,_owner:sb.current}}function U3(e,t){return{$$typeof:Hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ib(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function H3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lj=/\/+/g;function Pg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H3(""+e.key):t.toString(36)}function Qf(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hd:case D3:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Pg(o,0):n,oj(s)?(r="",e!=null&&(r=e.replace(lj,"$&/")+"/"),Qf(s,t,r,"",function(u){return u})):s!=null&&(ib(s)&&(s=U3(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lj,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",oj(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Pg(i,l);o+=Qf(i,t,r,c,s)}else if(c=V3(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Pg(i,l++),o+=Qf(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mf(e,t,r){if(e==null)return e;var n=[],s=0;return Qf(e,n,"","",function(i){return t.call(r,i,s++)}),n}function W3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr={current:null},Zf={transition:null},G3={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Zf,ReactCurrentOwner:sb};function jA(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:mf,forEach:function(e,t,r){mf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mf(e,function(){t++}),t},toArray:function(e){return mf(e,function(t){return t})||[]},only:function(e){if(!ib(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=ac;Xe.Fragment=M3;Xe.Profiler=R3;Xe.PureComponent=nb;Xe.StrictMode=$3;Xe.Suspense=F3;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;Xe.act=jA;Xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xA({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sb.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bA.call(t,c)&&!kA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Hd,type:e.type,key:s,ref:i,props:n,_owner:o}};Xe.createContext=function(e){return e={$$typeof:L3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I3,_context:e},e.Consumer=e};Xe.createElement=wA;Xe.createFactory=function(e){var t=wA.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:B3,render:e}};Xe.isValidElement=ib;Xe.lazy=function(e){return{$$typeof:z3,_payload:{_status:-1,_result:e},_init:W3}};Xe.memo=function(e,t){return{$$typeof:K3,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Zf.transition;Zf.transition={};try{e()}finally{Zf.transition=t}};Xe.unstable_act=jA;Xe.useCallback=function(e,t){return Zr.current.useCallback(e,t)};Xe.useContext=function(e){return Zr.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return Zr.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return Zr.current.useEffect(e,t)};Xe.useId=function(){return Zr.current.useId()};Xe.useImperativeHandle=function(e,t,r){return Zr.current.useImperativeHandle(e,t,r)};Xe.useInsertionEffect=function(e,t){return Zr.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return Zr.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return Zr.current.useMemo(e,t)};Xe.useReducer=function(e,t,r){return Zr.current.useReducer(e,t,r)};Xe.useRef=function(e){return Zr.current.useRef(e)};Xe.useState=function(e){return Zr.current.useState(e)};Xe.useSyncExternalStore=function(e,t,r){return Zr.current.useSyncExternalStore(e,t,r)};Xe.useTransition=function(){return Zr.current.useTransition()};Xe.version="18.3.1";mA.exports=Xe;var b=mA.exports;const re=ft(b),q3=_3({__proto__:null,default:re},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3=b,J3=Symbol.for("react.element"),X3=Symbol.for("react.fragment"),Q3=Object.prototype.hasOwnProperty,Z3=Y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e$={key:!0,ref:!0,__self:!0,__source:!0};function SA(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Q3.call(t,n)&&!e$.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:J3,type:e,key:i,ref:o,props:s,_owner:Z3.current}}tm.Fragment=X3;tm.jsx=SA;tm.jsxs=SA;pA.exports=tm;var a=pA.exports,f0={},NA={exports:{}},Nn={},PA={exports:{}},TA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var I=R.length;R.push(B);e:for(;0<I;){var U=I-1>>>1,ee=R[U];if(0<s(ee,B))R[U]=B,R[I]=ee,I=U;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],I=R.pop();if(I!==B){R[0]=I;e:for(var U=0,ee=R.length,H=ee>>>1;U<H;){var oe=2*(U+1)-1,ue=R[oe],de=oe+1,ye=R[de];if(0>s(ue,I))de<ee&&0>s(ye,ue)?(R[U]=ye,R[de]=I,U=de):(R[U]=ue,R[oe]=I,U=oe);else if(de<ee&&0>s(ye,I))R[U]=ye,R[de]=I,U=de;else break e}}return B}function s(R,B){var I=R.sortIndex-B.sortIndex;return I!==0?I:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=R)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function j(R){if(m=!1,x(R),!g)if(r(c)!==null)g=!0,Z(w);else{var B=r(u);B!==null&&V(j,B.startTime-R)}}function w(R,B){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var I=h;try{for(x(B),f=r(c);f!==null&&(!(f.expirationTime>B)||R&&!$());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var ee=U(f.expirationTime<=B);B=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),x(B)}else n(c);f=r(c)}if(f!==null)var H=!0;else{var oe=r(u);oe!==null&&V(j,oe.startTime-B),H=!1}return H}finally{f=null,h=I,p=!1}}var S=!1,N=null,T=-1,A=5,F=-1;function $(){return!(e.unstable_now()-F<A)}function O(){if(N!==null){var R=e.unstable_now();F=R;var B=!0;try{B=N(!0,R)}finally{B?_():(S=!1,N=null)}}else S=!1}var _;if(typeof y=="function")_=function(){y(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=O,_=function(){J.postMessage(null)}}else _=function(){k(O,0)};function Z(R){N=R,S||(S=!0,_())}function V(R,B){T=k(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Z(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var I=h;h=B;try{return R()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=h;h=R;try{return B()}finally{h=I}},e.unstable_scheduleCallback=function(R,B,I){var U=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=I+ee,R={id:d++,callback:B,priorityLevel:R,startTime:I,expirationTime:ee,sortIndex:-1},I>U?(R.sortIndex=I,t(u,R),r(c)===null&&R===r(u)&&(m?(v(T),T=-1):m=!0,V(j,I-U))):(R.sortIndex=ee,t(c,R),g||p||(g=!0,Z(w))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var B=h;return function(){var I=h;h=B;try{return R.apply(this,arguments)}finally{h=I}}}})(TA);PA.exports=TA;var t$=PA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r$=b,jn=t$;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AA=new Set,Ku={};function wo(e,t){kl(e,t),kl(e+"Capture",t)}function kl(e,t){for(Ku[e]=t,e=0;e<t.length;e++)AA.add(t[e])}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h0=Object.prototype.hasOwnProperty,n$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cj={},uj={};function a$(e){return h0.call(uj,e)?!0:h0.call(cj,e)?!1:n$.test(e)?uj[e]=!0:(cj[e]=!0,!1)}function s$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i$(e,t,r,n){if(t===null||typeof t>"u"||s$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sr[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sr[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sr[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sr[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sr[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sr[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sr[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sr[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sr[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var ob=/[\-:]([a-z])/g;function lb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ob,lb);Sr[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ob,lb);Sr[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ob,lb);Sr[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sr[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sr[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function cb(e,t,r,n){var s=Sr.hasOwnProperty(t)?Sr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i$(t,r,s,n)&&(r=null),n||s===null?a$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ts=r$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gf=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),fb=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),CA=Symbol.for("react.offscreen"),dj=Symbol.iterator;function Pc(e){return e===null||typeof e!="object"?null:(e=dj&&e[dj]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,Tg;function du(e){if(Tg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tg=t&&t[1]||""}return`
`+Tg+e}var Ag=!1;function Og(e,t){if(!e||Ag)return"";Ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ag=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?du(e):""}function o$(e){switch(e.tag){case 5:return du(e.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return e=Og(e.type,!1),e;case 11:return e=Og(e.type.render,!1),e;case 1:return e=Og(e.type,!0),e;default:return""}}function x0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case Fo:return"Portal";case p0:return"Profiler";case ub:return"StrictMode";case m0:return"Suspense";case g0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EA:return(e.displayName||"Context")+".Consumer";case OA:return(e._context.displayName||"Context")+".Provider";case db:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fb:return t=e.displayName||null,t!==null?t:x0(e.type)||"Memo";case zs:t=e._payload,e=e._init;try{return x0(e(t))}catch{}}return null}function l$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x0(t);case 8:return t===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _A(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c$(e){var t=_A(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xf(e){e._valueTracker||(e._valueTracker=c$(e))}function DA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_A(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function v0(e,t){var r=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MA(e,t){t=t.checked,t!=null&&cb(e,"checked",t,!1)}function y0(e,t){MA(e,t);var r=mi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?b0(e,t.type,r):t.hasOwnProperty("defaultValue")&&b0(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function b0(e,t,r){(t!=="number"||ph(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fu=Array.isArray;function ll(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function k0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(fu(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mi(r)}}function $A(e,t){var r=mi(t.value),n=mi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vf,IA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vf=vf||document.createElement("div"),vf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u$=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(e){u$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bu[t]=bu[e]})});function LA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bu.hasOwnProperty(e)&&bu[e]?(""+t).trim():t+"px"}function BA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=LA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var d$=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j0(e,t){if(t){if(d$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function S0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=null;function hb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var P0=null,cl=null,ul=null;function gj(e){if(e=qd(e)){if(typeof P0!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=im(t),P0(e.stateNode,e.type,t))}}function FA(e){cl?ul?ul.push(e):ul=[e]:cl=e}function KA(){if(cl){var e=cl,t=ul;if(ul=cl=null,gj(e),t)for(e=0;e<t.length;e++)gj(t[e])}}function zA(e,t){return e(t)}function VA(){}var Eg=!1;function UA(e,t,r){if(Eg)return e(t,r);Eg=!0;try{return zA(e,t,r)}finally{Eg=!1,(cl!==null||ul!==null)&&(VA(),KA())}}function Vu(e,t){var r=e.stateNode;if(r===null)return null;var n=im(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var T0=!1;if(Ga)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){T0=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{T0=!1}function f$(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ku=!1,mh=null,gh=!1,A0=null,h$={onError:function(e){ku=!0,mh=e}};function p$(e,t,r,n,s,i,o,l,c){ku=!1,mh=null,f$.apply(h$,arguments)}function m$(e,t,r,n,s,i,o,l,c){if(p$.apply(this,arguments),ku){if(ku){var u=mh;ku=!1,mh=null}else throw Error(Se(198));gh||(gh=!0,A0=u)}}function jo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xj(e){if(jo(e)!==e)throw Error(Se(188))}function g$(e){var t=e.alternate;if(!t){if(t=jo(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return xj(s),e;if(i===n)return xj(s),t;i=i.sibling}throw Error(Se(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function WA(e){return e=g$(e),e!==null?GA(e):null}function GA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GA(e);if(t!==null)return t;e=e.sibling}return null}var qA=jn.unstable_scheduleCallback,vj=jn.unstable_cancelCallback,x$=jn.unstable_shouldYield,v$=jn.unstable_requestPaint,qt=jn.unstable_now,y$=jn.unstable_getCurrentPriorityLevel,pb=jn.unstable_ImmediatePriority,YA=jn.unstable_UserBlockingPriority,xh=jn.unstable_NormalPriority,b$=jn.unstable_LowPriority,JA=jn.unstable_IdlePriority,rm=null,ga=null;function k$(e){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(rm,e,void 0,(e.current.flags&128)===128)}catch{}}var ra=Math.clz32?Math.clz32:S$,w$=Math.log,j$=Math.LN2;function S$(e){return e>>>=0,e===0?32:31-(w$(e)/j$|0)|0}var yf=64,bf=4194304;function hu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=hu(l):(i&=o,i!==0&&(n=hu(i)))}else o=r&~s,o!==0?n=hu(o):i!==0&&(n=hu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ra(t),s=1<<r,n|=e[r],t&=~s;return n}function N$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ra(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=N$(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function O0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XA(){var e=yf;return yf<<=1,!(yf&4194240)&&(yf=64),e}function Cg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ra(t),e[t]=r}function T$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ra(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function mb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ra(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ht=0;function QA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZA,gb,eO,tO,rO,E0=!1,kf=[],ei=null,ti=null,ri=null,Uu=new Map,Hu=new Map,Ws=[],A$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yj(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Uu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(t.pointerId)}}function Ac(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=qd(t),t!==null&&gb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function O$(e,t,r,n,s){switch(t){case"focusin":return ei=Ac(ei,e,t,r,n,s),!0;case"dragenter":return ti=Ac(ti,e,t,r,n,s),!0;case"mouseover":return ri=Ac(ri,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Uu.set(i,Ac(Uu.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hu.set(i,Ac(Hu.get(i)||null,e,t,r,n,s)),!0}return!1}function nO(e){var t=qi(e.target);if(t!==null){var r=jo(t);if(r!==null){if(t=r.tag,t===13){if(t=HA(r),t!==null){e.blockedOn=t,rO(e.priority,function(){eO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);N0=n,r.target.dispatchEvent(n),N0=null}else return t=qd(r),t!==null&&gb(t),e.blockedOn=r,!1;t.shift()}return!0}function bj(e,t,r){eh(e)&&r.delete(t)}function E$(){E0=!1,ei!==null&&eh(ei)&&(ei=null),ti!==null&&eh(ti)&&(ti=null),ri!==null&&eh(ri)&&(ri=null),Uu.forEach(bj),Hu.forEach(bj)}function Oc(e,t){e.blockedOn===t&&(e.blockedOn=null,E0||(E0=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,E$)))}function Wu(e){function t(s){return Oc(s,e)}if(0<kf.length){Oc(kf[0],e);for(var r=1;r<kf.length;r++){var n=kf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ei!==null&&Oc(ei,e),ti!==null&&Oc(ti,e),ri!==null&&Oc(ri,e),Uu.forEach(t),Hu.forEach(t),r=0;r<Ws.length;r++)n=Ws[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)nO(r),r.blockedOn===null&&Ws.shift()}var dl=ts.ReactCurrentBatchConfig,yh=!0;function C$(e,t,r,n){var s=ht,i=dl.transition;dl.transition=null;try{ht=1,xb(e,t,r,n)}finally{ht=s,dl.transition=i}}function _$(e,t,r,n){var s=ht,i=dl.transition;dl.transition=null;try{ht=4,xb(e,t,r,n)}finally{ht=s,dl.transition=i}}function xb(e,t,r,n){if(yh){var s=C0(e,t,r,n);if(s===null)Kg(e,t,n,bh,r),yj(e,n);else if(O$(s,e,t,r,n))n.stopPropagation();else if(yj(e,n),t&4&&-1<A$.indexOf(e)){for(;s!==null;){var i=qd(s);if(i!==null&&ZA(i),i=C0(e,t,r,n),i===null&&Kg(e,t,n,bh,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Kg(e,t,n,null,r)}}var bh=null;function C0(e,t,r,n){if(bh=null,e=hb(n),e=qi(e),e!==null)if(t=jo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bh=e,null}function aO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y$()){case pb:return 1;case YA:return 4;case xh:case b$:return 16;case JA:return 536870912;default:return 16}default:return 16}}var Ys=null,vb=null,th=null;function sO(){if(th)return th;var e,t=vb,r=t.length,n,s="value"in Ys?Ys.value:Ys.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return th=s.slice(e,1<n?1-n:void 0)}function rh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wf(){return!0}function kj(){return!1}function Pn(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wf:kj,this.isPropagationStopped=kj,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wf)},persist:function(){},isPersistent:wf}),t}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yb=Pn(sc),Gd=Kt({},sc,{view:0,detail:0}),D$=Pn(Gd),_g,Dg,Ec,nm=Kt({},Gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ec&&(Ec&&e.type==="mousemove"?(_g=e.screenX-Ec.screenX,Dg=e.screenY-Ec.screenY):Dg=_g=0,Ec=e),_g)},movementY:function(e){return"movementY"in e?e.movementY:Dg}}),wj=Pn(nm),M$=Kt({},nm,{dataTransfer:0}),$$=Pn(M$),R$=Kt({},Gd,{relatedTarget:0}),Mg=Pn(R$),I$=Kt({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),L$=Pn(I$),B$=Kt({},sc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F$=Pn(B$),K$=Kt({},sc,{data:0}),jj=Pn(K$),z$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U$[e])?!!t[e]:!1}function bb(){return H$}var W$=Kt({},Gd,{key:function(e){if(e.key){var t=z$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bb,charCode:function(e){return e.type==="keypress"?rh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G$=Pn(W$),q$=Kt({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sj=Pn(q$),Y$=Kt({},Gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bb}),J$=Pn(Y$),X$=Kt({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q$=Pn(X$),Z$=Kt({},nm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e5=Pn(Z$),t5=[9,13,27,32],kb=Ga&&"CompositionEvent"in window,wu=null;Ga&&"documentMode"in document&&(wu=document.documentMode);var r5=Ga&&"TextEvent"in window&&!wu,iO=Ga&&(!kb||wu&&8<wu&&11>=wu),Nj=" ",Pj=!1;function oO(e,t){switch(e){case"keyup":return t5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function n5(e,t){switch(e){case"compositionend":return lO(t);case"keypress":return t.which!==32?null:(Pj=!0,Nj);case"textInput":return e=t.data,e===Nj&&Pj?null:e;default:return null}}function a5(e,t){if(zo)return e==="compositionend"||!kb&&oO(e,t)?(e=sO(),th=vb=Ys=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iO&&t.locale!=="ko"?null:t.data;default:return null}}var s5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s5[e.type]:t==="textarea"}function cO(e,t,r,n){FA(n),t=kh(t,"onChange"),0<t.length&&(r=new yb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ju=null,Gu=null;function i5(e){bO(e,0)}function am(e){var t=Ho(e);if(DA(t))return e}function o5(e,t){if(e==="change")return t}var uO=!1;if(Ga){var $g;if(Ga){var Rg="oninput"in document;if(!Rg){var Aj=document.createElement("div");Aj.setAttribute("oninput","return;"),Rg=typeof Aj.oninput=="function"}$g=Rg}else $g=!1;uO=$g&&(!document.documentMode||9<document.documentMode)}function Oj(){ju&&(ju.detachEvent("onpropertychange",dO),Gu=ju=null)}function dO(e){if(e.propertyName==="value"&&am(Gu)){var t=[];cO(t,Gu,e,hb(e)),UA(i5,t)}}function l5(e,t,r){e==="focusin"?(Oj(),ju=t,Gu=r,ju.attachEvent("onpropertychange",dO)):e==="focusout"&&Oj()}function c5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return am(Gu)}function u5(e,t){if(e==="click")return am(t)}function d5(e,t){if(e==="input"||e==="change")return am(t)}function f5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oa=typeof Object.is=="function"?Object.is:f5;function qu(e,t){if(oa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!h0.call(t,s)||!oa(e[s],t[s]))return!1}return!0}function Ej(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cj(e,t){var r=Ej(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ej(r)}}function fO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hO(){for(var e=window,t=ph();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ph(e.document)}return t}function wb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h5(e){var t=hO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fO(r.ownerDocument.documentElement,r)){if(n!==null&&wb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Cj(r,i);var o=Cj(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p5=Ga&&"documentMode"in document&&11>=document.documentMode,Vo=null,_0=null,Su=null,D0=!1;function _j(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;D0||Vo==null||Vo!==ph(n)||(n=Vo,"selectionStart"in n&&wb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Su&&qu(Su,n)||(Su=n,n=kh(_0,"onSelect"),0<n.length&&(t=new yb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vo)))}function jf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Uo={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},Ig={},pO={};Ga&&(pO=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function sm(e){if(Ig[e])return Ig[e];if(!Uo[e])return e;var t=Uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pO)return Ig[e]=t[r];return e}var mO=sm("animationend"),gO=sm("animationiteration"),xO=sm("animationstart"),vO=sm("transitionend"),yO=new Map,Dj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){yO.set(e,t),wo(t,[e])}for(var Lg=0;Lg<Dj.length;Lg++){var Bg=Dj[Lg],m5=Bg.toLowerCase(),g5=Bg[0].toUpperCase()+Bg.slice(1);bi(m5,"on"+g5)}bi(mO,"onAnimationEnd");bi(gO,"onAnimationIteration");bi(xO,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(vO,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x5=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function Mj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,m$(n,t,void 0,e),e.currentTarget=null}function bO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Mj(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Mj(s,l,u),i=c}}}if(gh)throw e=A0,gh=!1,A0=null,e}function At(e,t){var r=t[L0];r===void 0&&(r=t[L0]=new Set);var n=e+"__bubble";r.has(n)||(kO(t,e,2,!1),r.add(n))}function Fg(e,t,r){var n=0;t&&(n|=4),kO(r,e,n,t)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[Sf]){e[Sf]=!0,AA.forEach(function(r){r!=="selectionchange"&&(x5.has(r)||Fg(r,!1,e),Fg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sf]||(t[Sf]=!0,Fg("selectionchange",!1,t))}}function kO(e,t,r,n){switch(aO(t)){case 1:var s=C$;break;case 4:s=_$;break;default:s=xb}r=s.bind(null,t,r,e),s=void 0,!T0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Kg(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}UA(function(){var u=i,d=hb(r),f=[];e:{var h=yO.get(e);if(h!==void 0){var p=yb,g=e;switch(e){case"keypress":if(rh(r)===0)break e;case"keydown":case"keyup":p=G$;break;case"focusin":g="focus",p=Mg;break;case"focusout":g="blur",p=Mg;break;case"beforeblur":case"afterblur":p=Mg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=J$;break;case mO:case gO:case xO:p=L$;break;case vO:p=Q$;break;case"scroll":p=D$;break;case"wheel":p=e5;break;case"copy":case"cut":case"paste":p=F$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sj}var m=(t&4)!==0,k=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,v!==null&&(j=Vu(y,v),j!=null&&m.push(Ju(y,j,x)))),k)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==N0&&(g=r.relatedTarget||r.fromElement)&&(qi(g)||g[qa]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?qi(g):null,g!==null&&(k=jo(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=wj,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Sj,j="onPointerLeave",v="onPointerEnter",y="pointer"),k=p==null?h:Ho(p),x=g==null?h:Ho(g),h=new m(j,y+"leave",p,r,d),h.target=k,h.relatedTarget=x,j=null,qi(d)===u&&(m=new m(v,y+"enter",g,r,d),m.target=x,m.relatedTarget=k,j=m),k=j,p&&g)t:{for(m=p,v=g,y=0,x=m;x;x=Mo(x))y++;for(x=0,j=v;j;j=Mo(j))x++;for(;0<y-x;)m=Mo(m),y--;for(;0<x-y;)v=Mo(v),x--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Mo(m),v=Mo(v)}m=null}else m=null;p!==null&&$j(f,h,p,m,!1),g!==null&&k!==null&&$j(f,k,g,m,!0)}}e:{if(h=u?Ho(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=o5;else if(Tj(h))if(uO)w=d5;else{w=c5;var S=l5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=u5);if(w&&(w=w(e,u))){cO(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&b0(h,"number",h.value)}switch(S=u?Ho(u):window,e){case"focusin":(Tj(S)||S.contentEditable==="true")&&(Vo=S,_0=u,Su=null);break;case"focusout":Su=_0=Vo=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,_j(f,r,d);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":_j(f,r,d)}var N;if(kb)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zo?oO(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(iO&&r.locale!=="ko"&&(zo||T!=="onCompositionStart"?T==="onCompositionEnd"&&zo&&(N=sO()):(Ys=d,vb="value"in Ys?Ys.value:Ys.textContent,zo=!0)),S=kh(u,T),0<S.length&&(T=new jj(T,e,null,r,d),f.push({event:T,listeners:S}),N?T.data=N:(N=lO(r),N!==null&&(T.data=N)))),(N=r5?n5(e,r):a5(e,r))&&(u=kh(u,"onBeforeInput"),0<u.length&&(d=new jj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}bO(f,t)})}function Ju(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kh(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vu(e,r),i!=null&&n.unshift(Ju(e,i,s)),i=Vu(e,t),i!=null&&n.push(Ju(e,i,s))),e=e.return}return n}function Mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $j(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Vu(r,i),c!=null&&o.unshift(Ju(r,c,l))):s||(c=Vu(r,i),c!=null&&o.push(Ju(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var v5=/\r\n?/g,y5=/\u0000|\uFFFD/g;function Rj(e){return(typeof e=="string"?e:""+e).replace(v5,`
`).replace(y5,"")}function Nf(e,t,r){if(t=Rj(t),Rj(e)!==t&&r)throw Error(Se(425))}function wh(){}var M0=null,$0=null;function R0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var I0=typeof setTimeout=="function"?setTimeout:void 0,b5=typeof clearTimeout=="function"?clearTimeout:void 0,Ij=typeof Promise=="function"?Promise:void 0,k5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ij<"u"?function(e){return Ij.resolve(null).then(e).catch(w5)}:I0;function w5(e){setTimeout(function(){throw e})}function zg(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wu(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ic=Math.random().toString(36).slice(2),ha="__reactFiber$"+ic,Xu="__reactProps$"+ic,qa="__reactContainer$"+ic,L0="__reactEvents$"+ic,j5="__reactListeners$"+ic,S5="__reactHandles$"+ic;function qi(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qa]||r[ha]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Lj(e);e!==null;){if(r=e[ha])return r;e=Lj(e)}return t}e=r,r=e.parentNode}return null}function qd(e){return e=e[ha]||e[qa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function im(e){return e[Xu]||null}var B0=[],Wo=-1;function ki(e){return{current:e}}function Ct(e){0>Wo||(e.current=B0[Wo],B0[Wo]=null,Wo--)}function wt(e,t){Wo++,B0[Wo]=e.current,e.current=t}var gi={},Lr=ki(gi),on=ki(!1),co=gi;function wl(e,t){var r=e.type.contextTypes;if(!r)return gi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ln(e){return e=e.childContextTypes,e!=null}function jh(){Ct(on),Ct(Lr)}function Bj(e,t,r){if(Lr.current!==gi)throw Error(Se(168));wt(Lr,t),wt(on,r)}function wO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Se(108,l$(e)||"Unknown",s));return Kt({},r,n)}function Sh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,co=Lr.current,wt(Lr,e),wt(on,on.current),!0}function Fj(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=wO(e,t,co),n.__reactInternalMemoizedMergedChildContext=e,Ct(on),Ct(Lr),wt(Lr,e)):Ct(on),wt(on,r)}var Ma=null,om=!1,Vg=!1;function jO(e){Ma===null?Ma=[e]:Ma.push(e)}function N5(e){om=!0,jO(e)}function wi(){if(!Vg&&Ma!==null){Vg=!0;var e=0,t=ht;try{var r=Ma;for(ht=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ma=null,om=!1}catch(s){throw Ma!==null&&(Ma=Ma.slice(e+1)),qA(pb,wi),s}finally{ht=t,Vg=!1}}return null}var Go=[],qo=0,Nh=null,Ph=0,Dn=[],Mn=0,uo=null,$a=1,Ra="";function Ri(e,t){Go[qo++]=Ph,Go[qo++]=Nh,Nh=e,Ph=t}function SO(e,t,r){Dn[Mn++]=$a,Dn[Mn++]=Ra,Dn[Mn++]=uo,uo=e;var n=$a;e=Ra;var s=32-ra(n)-1;n&=~(1<<s),r+=1;var i=32-ra(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,$a=1<<32-ra(t)+s|r<<s|n,Ra=i+e}else $a=1<<i|r<<s|n,Ra=e}function jb(e){e.return!==null&&(Ri(e,1),SO(e,1,0))}function Sb(e){for(;e===Nh;)Nh=Go[--qo],Go[qo]=null,Ph=Go[--qo],Go[qo]=null;for(;e===uo;)uo=Dn[--Mn],Dn[Mn]=null,Ra=Dn[--Mn],Dn[Mn]=null,$a=Dn[--Mn],Dn[Mn]=null}var bn=null,yn=null,_t=!1,ea=null;function NO(e,t){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,yn=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uo!==null?{id:$a,overflow:Ra}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bn=e,yn=null,!0):!1;default:return!1}}function F0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K0(e){if(_t){var t=yn;if(t){var r=t;if(!Kj(e,t)){if(F0(e))throw Error(Se(418));t=ni(r.nextSibling);var n=bn;t&&Kj(e,t)?NO(n,r):(e.flags=e.flags&-4097|2,_t=!1,bn=e)}}else{if(F0(e))throw Error(Se(418));e.flags=e.flags&-4097|2,_t=!1,bn=e}}}function zj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function Pf(e){if(e!==bn)return!1;if(!_t)return zj(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!R0(e.type,e.memoizedProps)),t&&(t=yn)){if(F0(e))throw PO(),Error(Se(418));for(;t;)NO(e,t),t=ni(t.nextSibling)}if(zj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yn=ni(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=bn?ni(e.stateNode.nextSibling):null;return!0}function PO(){for(var e=yn;e;)e=ni(e.nextSibling)}function jl(){yn=bn=null,_t=!1}function Nb(e){ea===null?ea=[e]:ea.push(e)}var P5=ts.ReactCurrentBatchConfig;function Cc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function Tf(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vj(e){var t=e._init;return t(e._payload)}function TO(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=oi(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,x,j){return y===null||y.tag!==6?(y=Jg(x,v.mode,j),y.return=v,y):(y=s(y,x),y.return=v,y)}function c(v,y,x,j){var w=x.type;return w===Ko?d(v,y,x.props.children,j,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===zs&&Vj(w)===y.type)?(j=s(y,x.props),j.ref=Cc(v,y,x),j.return=v,j):(j=ch(x.type,x.key,x.props,null,v.mode,j),j.ref=Cc(v,y,x),j.return=v,j)}function u(v,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Xg(x,v.mode,j),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,j,w){return y===null||y.tag!==7?(y=ao(x,v.mode,j,w),y.return=v,y):(y=s(y,x),y.return=v,y)}function f(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jg(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gf:return x=ch(y.type,y.key,y.props,null,v.mode,x),x.ref=Cc(v,null,y),x.return=v,x;case Fo:return y=Xg(y,v.mode,x),y.return=v,y;case zs:var j=y._init;return f(v,j(y._payload),x)}if(fu(y)||Pc(y))return y=ao(y,v.mode,x,null),y.return=v,y;Tf(v,y)}return null}function h(v,y,x,j){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:l(v,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gf:return x.key===w?c(v,y,x,j):null;case Fo:return x.key===w?u(v,y,x,j):null;case zs:return w=x._init,h(v,y,w(x._payload),j)}if(fu(x)||Pc(x))return w!==null?null:d(v,y,x,j,null);Tf(v,x)}return null}function p(v,y,x,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(x)||null,l(y,v,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gf:return v=v.get(j.key===null?x:j.key)||null,c(y,v,j,w);case Fo:return v=v.get(j.key===null?x:j.key)||null,u(y,v,j,w);case zs:var S=j._init;return p(v,y,x,S(j._payload),w)}if(fu(j)||Pc(j))return v=v.get(x)||null,d(y,v,j,w,null);Tf(y,j)}return null}function g(v,y,x,j){for(var w=null,S=null,N=y,T=y=0,A=null;N!==null&&T<x.length;T++){N.index>T?(A=N,N=null):A=N.sibling;var F=h(v,N,x[T],j);if(F===null){N===null&&(N=A);break}e&&N&&F.alternate===null&&t(v,N),y=i(F,y,T),S===null?w=F:S.sibling=F,S=F,N=A}if(T===x.length)return r(v,N),_t&&Ri(v,T),w;if(N===null){for(;T<x.length;T++)N=f(v,x[T],j),N!==null&&(y=i(N,y,T),S===null?w=N:S.sibling=N,S=N);return _t&&Ri(v,T),w}for(N=n(v,N);T<x.length;T++)A=p(N,v,T,x[T],j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?T:A.key),y=i(A,y,T),S===null?w=A:S.sibling=A,S=A);return e&&N.forEach(function($){return t(v,$)}),_t&&Ri(v,T),w}function m(v,y,x,j){var w=Pc(x);if(typeof w!="function")throw Error(Se(150));if(x=w.call(x),x==null)throw Error(Se(151));for(var S=w=null,N=y,T=y=0,A=null,F=x.next();N!==null&&!F.done;T++,F=x.next()){N.index>T?(A=N,N=null):A=N.sibling;var $=h(v,N,F.value,j);if($===null){N===null&&(N=A);break}e&&N&&$.alternate===null&&t(v,N),y=i($,y,T),S===null?w=$:S.sibling=$,S=$,N=A}if(F.done)return r(v,N),_t&&Ri(v,T),w;if(N===null){for(;!F.done;T++,F=x.next())F=f(v,F.value,j),F!==null&&(y=i(F,y,T),S===null?w=F:S.sibling=F,S=F);return _t&&Ri(v,T),w}for(N=n(v,N);!F.done;T++,F=x.next())F=p(N,v,T,F.value,j),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?T:F.key),y=i(F,y,T),S===null?w=F:S.sibling=F,S=F);return e&&N.forEach(function(O){return t(v,O)}),_t&&Ri(v,T),w}function k(v,y,x,j){if(typeof x=="object"&&x!==null&&x.type===Ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gf:e:{for(var w=x.key,S=y;S!==null;){if(S.key===w){if(w=x.type,w===Ko){if(S.tag===7){r(v,S.sibling),y=s(S,x.props.children),y.return=v,v=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===zs&&Vj(w)===S.type){r(v,S.sibling),y=s(S,x.props),y.ref=Cc(v,S,x),y.return=v,v=y;break e}r(v,S);break}else t(v,S);S=S.sibling}x.type===Ko?(y=ao(x.props.children,v.mode,j,x.key),y.return=v,v=y):(j=ch(x.type,x.key,x.props,null,v.mode,j),j.ref=Cc(v,y,x),j.return=v,v=j)}return o(v);case Fo:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Xg(x,v.mode,j),y.return=v,v=y}return o(v);case zs:return S=x._init,k(v,y,S(x._payload),j)}if(fu(x))return g(v,y,x,j);if(Pc(x))return m(v,y,x,j);Tf(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,x),y.return=v,v=y):(r(v,y),y=Jg(x,v.mode,j),y.return=v,v=y),o(v)):r(v,y)}return k}var Sl=TO(!0),AO=TO(!1),Th=ki(null),Ah=null,Yo=null,Pb=null;function Tb(){Pb=Yo=Ah=null}function Ab(e){var t=Th.current;Ct(Th),e._currentValue=t}function z0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fl(e,t){Ah=e,Pb=Yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(Pb!==e)if(e={context:e,memoizedValue:t,next:null},Yo===null){if(Ah===null)throw Error(Se(308));Yo=e,Ah.dependencies={lanes:0,firstContext:e}}else Yo=Yo.next=e;return t}var Yi=null;function Ob(e){Yi===null?Yi=[e]:Yi.push(e)}function OO(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ob(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ya(e,n)}function Ya(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vs=!1;function Eb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ai(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ot&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ya(e,r)}return s=n.interleaved,s===null?(t.next=t,Ob(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ya(e,r)}function nh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mb(e,r)}}function Uj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oh(e,t,r,n){var s=e.updateQueue;Vs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Kt({},f,h);break e;case 2:Vs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ho|=o,e.lanes=o,e.memoizedState=f}}function Hj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Se(191,s));s.call(n)}}}var Yd={},xa=ki(Yd),Qu=ki(Yd),Zu=ki(Yd);function Ji(e){if(e===Yd)throw Error(Se(174));return e}function Cb(e,t){switch(wt(Zu,t),wt(Qu,e),wt(xa,Yd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w0(t,e)}Ct(xa),wt(xa,t)}function Nl(){Ct(xa),Ct(Qu),Ct(Zu)}function CO(e){Ji(Zu.current);var t=Ji(xa.current),r=w0(t,e.type);t!==r&&(wt(Qu,e),wt(xa,r))}function _b(e){Qu.current===e&&(Ct(xa),Ct(Qu))}var Rt=ki(0);function Eh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ug=[];function Db(){for(var e=0;e<Ug.length;e++)Ug[e]._workInProgressVersionPrimary=null;Ug.length=0}var ah=ts.ReactCurrentDispatcher,Hg=ts.ReactCurrentBatchConfig,fo=0,Lt=null,or=null,mr=null,Ch=!1,Nu=!1,ed=0,T5=0;function Or(){throw Error(Se(321))}function Mb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!oa(e[r],t[r]))return!1;return!0}function $b(e,t,r,n,s,i){if(fo=i,Lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ah.current=e===null||e.memoizedState===null?C5:_5,e=r(n,s),Nu){i=0;do{if(Nu=!1,ed=0,25<=i)throw Error(Se(301));i+=1,mr=or=null,t.updateQueue=null,ah.current=D5,e=r(n,s)}while(Nu)}if(ah.current=_h,t=or!==null&&or.next!==null,fo=0,mr=or=Lt=null,Ch=!1,t)throw Error(Se(300));return e}function Rb(){var e=ed!==0;return ed=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Lt.memoizedState=mr=e:mr=mr.next=e,mr}function Fn(){if(or===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=or.next;var t=mr===null?Lt.memoizedState:mr.next;if(t!==null)mr=t,or=e;else{if(e===null)throw Error(Se(310));or=e,e={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},mr===null?Lt.memoizedState=mr=e:mr=mr.next=e}return mr}function td(e,t){return typeof t=="function"?t(e):t}function Wg(e){var t=Fn(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=or,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((fo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Lt.lanes|=d,ho|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,oa(n,t.memoizedState)||(nn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Lt.lanes|=i,ho|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gg(e){var t=Fn(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);oa(i,t.memoizedState)||(nn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _O(){}function DO(e,t){var r=Lt,n=Fn(),s=t(),i=!oa(n.memoizedState,s);if(i&&(n.memoizedState=s,nn=!0),n=n.queue,Ib(RO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||mr!==null&&mr.memoizedState.tag&1){if(r.flags|=2048,rd(9,$O.bind(null,r,n,s,t),void 0,null),vr===null)throw Error(Se(349));fo&30||MO(r,t,s)}return s}function MO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $O(e,t,r,n){t.value=r,t.getSnapshot=n,IO(t)&&LO(e)}function RO(e,t,r){return r(function(){IO(t)&&LO(e)})}function IO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!oa(e,r)}catch{return!0}}function LO(e){var t=Ya(e,1);t!==null&&na(t,e,1,-1)}function Wj(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:e},t.queue=e,e=e.dispatch=E5.bind(null,Lt,e),[t.memoizedState,e]}function rd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function BO(){return Fn().memoizedState}function sh(e,t,r,n){var s=fa();Lt.flags|=e,s.memoizedState=rd(1|t,r,void 0,n===void 0?null:n)}function lm(e,t,r,n){var s=Fn();n=n===void 0?null:n;var i=void 0;if(or!==null){var o=or.memoizedState;if(i=o.destroy,n!==null&&Mb(n,o.deps)){s.memoizedState=rd(t,r,i,n);return}}Lt.flags|=e,s.memoizedState=rd(1|t,r,i,n)}function Gj(e,t){return sh(8390656,8,e,t)}function Ib(e,t){return lm(2048,8,e,t)}function FO(e,t){return lm(4,2,e,t)}function KO(e,t){return lm(4,4,e,t)}function zO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VO(e,t,r){return r=r!=null?r.concat([e]):null,lm(4,4,zO.bind(null,t,e),r)}function Lb(){}function UO(e,t){var r=Fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HO(e,t){var r=Fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mb(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function WO(e,t,r){return fo&21?(oa(r,t)||(r=XA(),Lt.lanes|=r,ho|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=r)}function A5(e,t){var r=ht;ht=r!==0&&4>r?r:4,e(!0);var n=Hg.transition;Hg.transition={};try{e(!1),t()}finally{ht=r,Hg.transition=n}}function GO(){return Fn().memoizedState}function O5(e,t,r){var n=ii(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qO(e))YO(t,r);else if(r=OO(e,t,r,n),r!==null){var s=Qr();na(r,e,n,s),JO(r,t,n)}}function E5(e,t,r){var n=ii(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qO(e))YO(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,oa(l,o)){var c=t.interleaved;c===null?(s.next=s,Ob(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=OO(e,t,s,n),r!==null&&(s=Qr(),na(r,e,n,s),JO(r,t,n))}}function qO(e){var t=e.alternate;return e===Lt||t!==null&&t===Lt}function YO(e,t){Nu=Ch=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function JO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mb(e,r)}}var _h={readContext:Bn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},C5={readContext:Bn,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:Gj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sh(4194308,4,zO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sh(4194308,4,e,t)},useInsertionEffect:function(e,t){return sh(4,2,e,t)},useMemo:function(e,t){var r=fa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O5.bind(null,Lt,e),[n.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:Wj,useDebugValue:Lb,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=Wj(!1),t=e[0];return e=A5.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Lt,s=fa();if(_t){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),vr===null)throw Error(Se(349));fo&30||MO(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Gj(RO.bind(null,n,i,e),[e]),n.flags|=2048,rd(9,$O.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=fa(),t=vr.identifierPrefix;if(_t){var r=Ra,n=$a;r=(n&~(1<<32-ra(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ed++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=T5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_5={readContext:Bn,useCallback:UO,useContext:Bn,useEffect:Ib,useImperativeHandle:VO,useInsertionEffect:FO,useLayoutEffect:KO,useMemo:HO,useReducer:Wg,useRef:BO,useState:function(){return Wg(td)},useDebugValue:Lb,useDeferredValue:function(e){var t=Fn();return WO(t,or.memoizedState,e)},useTransition:function(){var e=Wg(td)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:_O,useSyncExternalStore:DO,useId:GO,unstable_isNewReconciler:!1},D5={readContext:Bn,useCallback:UO,useContext:Bn,useEffect:Ib,useImperativeHandle:VO,useInsertionEffect:FO,useLayoutEffect:KO,useMemo:HO,useReducer:Gg,useRef:BO,useState:function(){return Gg(td)},useDebugValue:Lb,useDeferredValue:function(e){var t=Fn();return or===null?t.memoizedState=e:WO(t,or.memoizedState,e)},useTransition:function(){var e=Gg(td)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:_O,useSyncExternalStore:DO,useId:GO,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function V0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cm={isMounted:function(e){return(e=e._reactInternals)?jo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qr(),s=ii(e),i=Ka(n,s);i.payload=t,r!=null&&(i.callback=r),t=ai(e,i,s),t!==null&&(na(t,e,s,n),nh(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qr(),s=ii(e),i=Ka(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ai(e,i,s),t!==null&&(na(t,e,s,n),nh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qr(),n=ii(e),s=Ka(r,n);s.tag=2,t!=null&&(s.callback=t),t=ai(e,s,n),t!==null&&(na(t,e,n,r),nh(t,e,n))}};function qj(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!qu(r,n)||!qu(s,i):!0}function XO(e,t,r){var n=!1,s=gi,i=t.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(s=ln(t)?co:Lr.current,n=t.contextTypes,i=(n=n!=null)?wl(e,s):gi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cm.enqueueReplaceState(t,t.state,null)}function U0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Eb(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bn(i):(i=ln(t)?co:Lr.current,s.context=wl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(V0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cm.enqueueReplaceState(s,s.state,null),Oh(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pl(e,t){try{var r="",n=t;do r+=o$(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function H0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function QO(e,t,r){r=Ka(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mh||(Mh=!0,tv=n),H0(e,t)},r}function ZO(e,t,r){r=Ka(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){H0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){H0(e,t),typeof n!="function"&&(si===null?si=new Set([this]):si.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Jj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M5;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=q5.bind(null,e,t,r),t.then(e,e))}function Xj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qj(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ka(-1,1),t.tag=2,ai(r,t,1))),r.lanes|=1),e)}var $5=ts.ReactCurrentOwner,nn=!1;function Gr(e,t,r,n){t.child=e===null?AO(t,null,r,n):Sl(t,e.child,r,n)}function Zj(e,t,r,n,s){r=r.render;var i=t.ref;return fl(t,s),n=$b(e,t,r,n,i,s),r=Rb(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(_t&&r&&jb(t),t.flags|=1,Gr(e,t,n,s),t.child)}function e1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Wb(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,eE(e,t,i,n,s)):(e=ch(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:qu,r(o,n)&&e.ref===t.ref)return Ja(e,t,s)}return t.flags|=1,e=oi(i,n),e.ref=t.ref,e.return=t,t.child=e}function eE(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(qu(i,n)&&e.ref===t.ref)if(nn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Ja(e,t,s)}return W0(e,t,r,n,s)}function tE(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Xo,mn),mn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(Xo,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,wt(Xo,mn),mn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,wt(Xo,mn),mn|=n;return Gr(e,t,s,r),t.child}function rE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function W0(e,t,r,n,s){var i=ln(r)?co:Lr.current;return i=wl(t,i),fl(t,s),r=$b(e,t,r,n,i,s),n=Rb(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(_t&&n&&jb(t),t.flags|=1,Gr(e,t,r,s),t.child)}function t1(e,t,r,n,s){if(ln(r)){var i=!0;Sh(t)}else i=!1;if(fl(t,s),t.stateNode===null)ih(e,t),XO(t,r,n),U0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=ln(r)?co:Lr.current,u=wl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Yj(t,o,n,u),Vs=!1;var h=t.memoizedState;o.state=h,Oh(t,n,o,s),c=t.memoizedState,l!==n||h!==c||on.current||Vs?(typeof d=="function"&&(V0(t,r,d,n),c=t.memoizedState),(l=Vs||qj(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,EO(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Jn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=ln(r)?co:Lr.current,c=wl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Yj(t,o,n,c),Vs=!1,h=t.memoizedState,o.state=h,Oh(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||on.current||Vs?(typeof p=="function"&&(V0(t,r,p,n),g=t.memoizedState),(u=Vs||qj(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return G0(e,t,r,n,i,s)}function G0(e,t,r,n,s,i){rE(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Fj(t,r,!1),Ja(e,t,i);n=t.stateNode,$5.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Sl(t,e.child,null,i),t.child=Sl(t,null,l,i)):Gr(e,t,l,i),t.memoizedState=n.state,s&&Fj(t,r,!0),t.child}function nE(e){var t=e.stateNode;t.pendingContext?Bj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bj(e,t.context,!1),Cb(e,t.containerInfo)}function r1(e,t,r,n,s){return jl(),Nb(s),t.flags|=256,Gr(e,t,r,n),t.child}var q0={dehydrated:null,treeContext:null,retryLane:0};function Y0(e){return{baseLanes:e,cachePool:null,transitions:null}}function aE(e,t,r){var n=t.pendingProps,s=Rt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),wt(Rt,s&1),e===null)return K0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fm(o,n,0,null),e=ao(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Y0(r),t.memoizedState=q0,e):Bb(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return R5(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=oi(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=oi(l,i):(i=ao(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Y0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=q0,n}return i=e.child,e=i.sibling,n=oi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bb(e,t){return t=fm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Af(e,t,r,n){return n!==null&&Nb(n),Sl(t,e.child,null,r),e=Bb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R5(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=qg(Error(Se(422))),Af(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=fm({mode:"visible",children:n.children},s,0,null),i=ao(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Sl(t,e.child,null,o),t.child.memoizedState=Y0(o),t.memoizedState=q0,i);if(!(t.mode&1))return Af(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Se(419)),n=qg(i,n,void 0),Af(e,t,o,n)}if(l=(o&e.childLanes)!==0,nn||l){if(n=vr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ya(e,s),na(n,e,s,-1))}return Hb(),n=qg(Error(Se(421))),Af(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Y5.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yn=ni(s.nextSibling),bn=t,_t=!0,ea=null,e!==null&&(Dn[Mn++]=$a,Dn[Mn++]=Ra,Dn[Mn++]=uo,$a=e.id,Ra=e.overflow,uo=t),t=Bb(t,n.children),t.flags|=4096,t)}function n1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),z0(e.return,t,r)}function Yg(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function sE(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Gr(e,t,n.children,r),n=Rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n1(e,r,t);else if(e.tag===19)n1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(wt(Rt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Eh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Yg(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Eh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Yg(t,!0,r,null,i);break;case"together":Yg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ih(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ho|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=oi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function I5(e,t,r){switch(t.tag){case 3:nE(t),jl();break;case 5:CO(t);break;case 1:ln(t.type)&&Sh(t);break;case 4:Cb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;wt(Th,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(wt(Rt,Rt.current&1),t.flags|=128,null):r&t.child.childLanes?aE(e,t,r):(wt(Rt,Rt.current&1),e=Ja(e,t,r),e!==null?e.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sE(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(Rt,Rt.current),n)break;return null;case 22:case 23:return t.lanes=0,tE(e,t,r)}return Ja(e,t,r)}var iE,J0,oE,lE;iE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};J0=function(){};oE=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ji(xa.current);var i=null;switch(r){case"input":s=v0(e,s),n=v0(e,n),i=[];break;case"select":s=Kt({},s,{value:void 0}),n=Kt({},n,{value:void 0}),i=[];break;case"textarea":s=k0(e,s),n=k0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wh)}j0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ku.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ku.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&At("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};lE=function(e,t,r,n){r!==n&&(t.flags|=4)};function _c(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function L5(e,t,r){var n=t.pendingProps;switch(Sb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return ln(t.type)&&jh(),Er(t),null;case 3:return n=t.stateNode,Nl(),Ct(on),Ct(Lr),Db(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ea!==null&&(av(ea),ea=null))),J0(e,t),Er(t),null;case 5:_b(t);var s=Ji(Zu.current);if(r=t.type,e!==null&&t.stateNode!=null)oE(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return Er(t),null}if(e=Ji(xa.current),Pf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ha]=t,n[Xu]=i,e=(t.mode&1)!==0,r){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(s=0;s<pu.length;s++)At(pu[s],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":fj(n,i),At("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},At("invalid",n);break;case"textarea":pj(n,i),At("invalid",n)}j0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Nf(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Nf(n.textContent,l,e),s=["children",""+l]):Ku.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&At("scroll",n)}switch(r){case"input":xf(n),hj(n,i,!0);break;case"textarea":xf(n),mj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ha]=t,e[Xu]=n,iE(e,t,!1,!1),t.stateNode=e;e:{switch(o=S0(r,n),r){case"dialog":At("cancel",e),At("close",e),s=n;break;case"iframe":case"object":case"embed":At("load",e),s=n;break;case"video":case"audio":for(s=0;s<pu.length;s++)At(pu[s],e);s=n;break;case"source":At("error",e),s=n;break;case"img":case"image":case"link":At("error",e),At("load",e),s=n;break;case"details":At("toggle",e),s=n;break;case"input":fj(e,n),s=v0(e,n),At("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Kt({},n,{value:void 0}),At("invalid",e);break;case"textarea":pj(e,n),s=k0(e,n),At("invalid",e);break;default:s=n}j0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?BA(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IA(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zu(e,c):typeof c=="number"&&zu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ku.hasOwnProperty(i)?c!=null&&i==="onScroll"&&At("scroll",e):c!=null&&cb(e,i,c,o))}switch(r){case"input":xf(e),hj(e,n,!1);break;case"textarea":xf(e),mj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ll(e,!!n.multiple,i,!1):n.defaultValue!=null&&ll(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)lE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=Ji(Zu.current),Ji(xa.current),Pf(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(i=n.nodeValue!==r)&&(e=bn,e!==null))switch(e.tag){case 3:Nf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ha]=t,t.stateNode=n}return Er(t),null;case 13:if(Ct(Rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&yn!==null&&t.mode&1&&!(t.flags&128))PO(),jl(),t.flags|=98560,i=!1;else if(i=Pf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[ha]=t}else jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),i=!1}else ea!==null&&(av(ea),ea=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?ur===0&&(ur=3):Hb())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return Nl(),J0(e,t),e===null&&Yu(t.stateNode.containerInfo),Er(t),null;case 10:return Ab(t.type._context),Er(t),null;case 17:return ln(t.type)&&jh(),Er(t),null;case 19:if(Ct(Rt),i=t.memoizedState,i===null)return Er(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_c(i,!1);else{if(ur!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eh(e),o!==null){for(t.flags|=128,_c(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wt(Rt,Rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&qt()>Tl&&(t.flags|=128,n=!0,_c(i,!1),t.lanes=4194304)}else{if(!n)if(e=Eh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_c(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_t)return Er(t),null}else 2*qt()-i.renderingStartTime>Tl&&r!==1073741824&&(t.flags|=128,n=!0,_c(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qt(),t.sibling=null,r=Rt.current,wt(Rt,n?r&1|2:r&1),t):(Er(t),null);case 22:case 23:return Ub(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mn&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function B5(e,t){switch(Sb(t),t.tag){case 1:return ln(t.type)&&jh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nl(),Ct(on),Ct(Lr),Db(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _b(t),null;case 13:if(Ct(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Rt),null;case 4:return Nl(),null;case 10:return Ab(t.type._context),null;case 22:case 23:return Ub(),null;case 24:return null;default:return null}}var Of=!1,$r=!1,F5=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Jo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vt(e,t,n)}else r.current=null}function X0(e,t,r){try{r()}catch(n){Vt(e,t,n)}}var a1=!1;function K5(e,t){if(M0=yh,e=hO(),wb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($0={focusedElem:e,selectionRange:r},yh=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,k=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Jn(t.type,m),k);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(j){Vt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return g=a1,a1=!1,g}function Pu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&X0(t,r,i)}s=s.next}while(s!==n)}}function um(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Q0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cE(e){var t=e.alternate;t!==null&&(e.alternate=null,cE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ha],delete t[Xu],delete t[L0],delete t[j5],delete t[S5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uE(e){return e.tag===5||e.tag===3||e.tag===4}function s1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Z0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wh));else if(n!==4&&(e=e.child,e!==null))for(Z0(e,t,r),e=e.sibling;e!==null;)Z0(e,t,r),e=e.sibling}function ev(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ev(e,t,r),e=e.sibling;e!==null;)ev(e,t,r),e=e.sibling}var wr=null,Xn=!1;function Rs(e,t,r){for(r=r.child;r!==null;)dE(e,t,r),r=r.sibling}function dE(e,t,r){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(rm,r)}catch{}switch(r.tag){case 5:$r||Jo(r,t);case 6:var n=wr,s=Xn;wr=null,Rs(e,t,r),wr=n,Xn=s,wr!==null&&(Xn?(e=wr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wr.removeChild(r.stateNode));break;case 18:wr!==null&&(Xn?(e=wr,r=r.stateNode,e.nodeType===8?zg(e.parentNode,r):e.nodeType===1&&zg(e,r),Wu(e)):zg(wr,r.stateNode));break;case 4:n=wr,s=Xn,wr=r.stateNode.containerInfo,Xn=!0,Rs(e,t,r),wr=n,Xn=s;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&X0(r,t,o),s=s.next}while(s!==n)}Rs(e,t,r);break;case 1:if(!$r&&(Jo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vt(r,t,l)}Rs(e,t,r);break;case 21:Rs(e,t,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Rs(e,t,r),$r=n):Rs(e,t,r);break;default:Rs(e,t,r)}}function i1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new F5),t.forEach(function(n){var s=J5.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:wr=l.stateNode,Xn=!1;break e;case 3:wr=l.stateNode.containerInfo,Xn=!0;break e;case 4:wr=l.stateNode.containerInfo,Xn=!0;break e}l=l.return}if(wr===null)throw Error(Se(160));dE(i,o,s),wr=null,Xn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Vt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fE(t,e),t=t.sibling}function fE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),da(e),n&4){try{Pu(3,e,e.return),um(3,e)}catch(m){Vt(e,e.return,m)}try{Pu(5,e,e.return)}catch(m){Vt(e,e.return,m)}}break;case 1:qn(t,e),da(e),n&512&&r!==null&&Jo(r,r.return);break;case 5:if(qn(t,e),da(e),n&512&&r!==null&&Jo(r,r.return),e.flags&32){var s=e.stateNode;try{zu(s,"")}catch(m){Vt(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&MA(s,i),S0(l,o);var u=S0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?BA(s,f):d==="dangerouslySetInnerHTML"?IA(s,f):d==="children"?zu(s,f):cb(s,d,f,u)}switch(l){case"input":y0(s,i);break;case"textarea":$A(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ll(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ll(s,!!i.multiple,i.defaultValue,!0):ll(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xu]=i}catch(m){Vt(e,e.return,m)}}break;case 6:if(qn(t,e),da(e),n&4){if(e.stateNode===null)throw Error(Se(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Vt(e,e.return,m)}}break;case 3:if(qn(t,e),da(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wu(t.containerInfo)}catch(m){Vt(e,e.return,m)}break;case 4:qn(t,e),da(e);break;case 13:qn(t,e),da(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zb=qt())),n&4&&i1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($r=(u=$r)||d,qn(t,e),$r=u):qn(t,e),da(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(f=Oe=d;Oe!==null;){switch(h=Oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Pu(4,h,h.return);break;case 1:Jo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Vt(n,r,m)}}break;case 5:Jo(h,h.return);break;case 22:if(h.memoizedState!==null){l1(f);continue}}p!==null?(p.return=h,Oe=p):l1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=LA("display",o))}catch(m){Vt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Vt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(t,e),da(e),n&4&&i1(e);break;case 21:break;default:qn(t,e),da(e)}}function da(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uE(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zu(s,""),n.flags&=-33);var i=s1(e);ev(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=s1(e);Z0(e,l,o);break;default:throw Error(Se(161))}}catch(c){Vt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z5(e,t,r){Oe=e,hE(e)}function hE(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var s=Oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Of;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$r;l=Of;var u=$r;if(Of=o,($r=c)&&!u)for(Oe=s;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?c1(s):c!==null?(c.return=o,Oe=c):c1(s);for(;i!==null;)Oe=i,hE(i),i=i.sibling;Oe=s,Of=l,$r=u}o1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Oe=i):o1(e)}}function o1(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$r||um(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$r)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Jn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hj(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hj(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}$r||t.flags&512&&Q0(t)}catch(h){Vt(t,t.return,h)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function l1(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function c1(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{um(4,t)}catch(c){Vt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Vt(t,s,c)}}var i=t.return;try{Q0(t)}catch(c){Vt(t,i,c)}break;case 5:var o=t.return;try{Q0(t)}catch(c){Vt(t,o,c)}}}catch(c){Vt(t,t.return,c)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var V5=Math.ceil,Dh=ts.ReactCurrentDispatcher,Fb=ts.ReactCurrentOwner,Ln=ts.ReactCurrentBatchConfig,ot=0,vr=null,er=null,jr=0,mn=0,Xo=ki(0),ur=0,nd=null,ho=0,dm=0,Kb=0,Tu=null,rn=null,zb=0,Tl=1/0,_a=null,Mh=!1,tv=null,si=null,Ef=!1,Js=null,$h=0,Au=0,rv=null,oh=-1,lh=0;function Qr(){return ot&6?qt():oh!==-1?oh:oh=qt()}function ii(e){return e.mode&1?ot&2&&jr!==0?jr&-jr:P5.transition!==null?(lh===0&&(lh=XA()),lh):(e=ht,e!==0||(e=window.event,e=e===void 0?16:aO(e.type)),e):1}function na(e,t,r,n){if(50<Au)throw Au=0,rv=null,Error(Se(185));Wd(e,r,n),(!(ot&2)||e!==vr)&&(e===vr&&(!(ot&2)&&(dm|=r),ur===4&&Gs(e,jr)),cn(e,n),r===1&&ot===0&&!(t.mode&1)&&(Tl=qt()+500,om&&wi()))}function cn(e,t){var r=e.callbackNode;P$(e,t);var n=vh(e,e===vr?jr:0);if(n===0)r!==null&&vj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vj(r),t===1)e.tag===0?N5(u1.bind(null,e)):jO(u1.bind(null,e)),k5(function(){!(ot&6)&&wi()}),r=null;else{switch(QA(n)){case 1:r=pb;break;case 4:r=YA;break;case 16:r=xh;break;case 536870912:r=JA;break;default:r=xh}r=kE(r,pE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pE(e,t){if(oh=-1,lh=0,ot&6)throw Error(Se(327));var r=e.callbackNode;if(hl()&&e.callbackNode!==r)return null;var n=vh(e,e===vr?jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rh(e,n);else{t=n;var s=ot;ot|=2;var i=gE();(vr!==e||jr!==t)&&(_a=null,Tl=qt()+500,no(e,t));do try{W5();break}catch(l){mE(e,l)}while(!0);Tb(),Dh.current=i,ot=s,er!==null?t=0:(vr=null,jr=0,t=ur)}if(t!==0){if(t===2&&(s=O0(e),s!==0&&(n=s,t=nv(e,s))),t===1)throw r=nd,no(e,0),Gs(e,n),cn(e,qt()),r;if(t===6)Gs(e,n);else{if(s=e.current.alternate,!(n&30)&&!U5(s)&&(t=Rh(e,n),t===2&&(i=O0(e),i!==0&&(n=i,t=nv(e,i))),t===1))throw r=nd,no(e,0),Gs(e,n),cn(e,qt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:Ii(e,rn,_a);break;case 3:if(Gs(e,n),(n&130023424)===n&&(t=zb+500-qt(),10<t)){if(vh(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Qr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=I0(Ii.bind(null,e,rn,_a),t);break}Ii(e,rn,_a);break;case 4:if(Gs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ra(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V5(n/1960))-n,10<n){e.timeoutHandle=I0(Ii.bind(null,e,rn,_a),n);break}Ii(e,rn,_a);break;case 5:Ii(e,rn,_a);break;default:throw Error(Se(329))}}}return cn(e,qt()),e.callbackNode===r?pE.bind(null,e):null}function nv(e,t){var r=Tu;return e.current.memoizedState.isDehydrated&&(no(e,t).flags|=256),e=Rh(e,t),e!==2&&(t=rn,rn=r,t!==null&&av(t)),e}function av(e){rn===null?rn=e:rn.push.apply(rn,e)}function U5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!oa(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gs(e,t){for(t&=~Kb,t&=~dm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ra(t),n=1<<r;e[r]=-1,t&=~n}}function u1(e){if(ot&6)throw Error(Se(327));hl();var t=vh(e,0);if(!(t&1))return cn(e,qt()),null;var r=Rh(e,t);if(e.tag!==0&&r===2){var n=O0(e);n!==0&&(t=n,r=nv(e,n))}if(r===1)throw r=nd,no(e,0),Gs(e,t),cn(e,qt()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ii(e,rn,_a),cn(e,qt()),null}function Vb(e,t){var r=ot;ot|=1;try{return e(t)}finally{ot=r,ot===0&&(Tl=qt()+500,om&&wi())}}function po(e){Js!==null&&Js.tag===0&&!(ot&6)&&hl();var t=ot;ot|=1;var r=Ln.transition,n=ht;try{if(Ln.transition=null,ht=1,e)return e()}finally{ht=n,Ln.transition=r,ot=t,!(ot&6)&&wi()}}function Ub(){mn=Xo.current,Ct(Xo)}function no(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b5(r)),er!==null)for(r=er.return;r!==null;){var n=r;switch(Sb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jh();break;case 3:Nl(),Ct(on),Ct(Lr),Db();break;case 5:_b(n);break;case 4:Nl();break;case 13:Ct(Rt);break;case 19:Ct(Rt);break;case 10:Ab(n.type._context);break;case 22:case 23:Ub()}r=r.return}if(vr=e,er=e=oi(e.current,null),jr=mn=t,ur=0,nd=null,Kb=dm=ho=0,rn=Tu=null,Yi!==null){for(t=0;t<Yi.length;t++)if(r=Yi[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Yi=null}return e}function mE(e,t){do{var r=er;try{if(Tb(),ah.current=_h,Ch){for(var n=Lt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ch=!1}if(fo=0,mr=or=Lt=null,Nu=!1,ed=0,Fb.current=null,r===null||r.return===null){ur=1,nd=t,er=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xj(o);if(p!==null){p.flags&=-257,Qj(p,o,l,i,t),p.mode&1&&Jj(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){Jj(i,u,t),Hb();break e}c=Error(Se(426))}}else if(_t&&l.mode&1){var k=Xj(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Qj(k,o,l,i,t),Nb(Pl(c,l));break e}}i=c=Pl(c,l),ur!==4&&(ur=2),Tu===null?Tu=[i]:Tu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=QO(i,c,t);Uj(i,v);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(si===null||!si.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=ZO(i,l,t);Uj(i,j);break e}}i=i.return}while(i!==null)}vE(r)}catch(w){t=w,er===r&&r!==null&&(er=r=r.return);continue}break}while(!0)}function gE(){var e=Dh.current;return Dh.current=_h,e===null?_h:e}function Hb(){(ur===0||ur===3||ur===2)&&(ur=4),vr===null||!(ho&268435455)&&!(dm&268435455)||Gs(vr,jr)}function Rh(e,t){var r=ot;ot|=2;var n=gE();(vr!==e||jr!==t)&&(_a=null,no(e,t));do try{H5();break}catch(s){mE(e,s)}while(!0);if(Tb(),ot=r,Dh.current=n,er!==null)throw Error(Se(261));return vr=null,jr=0,ur}function H5(){for(;er!==null;)xE(er)}function W5(){for(;er!==null&&!x$();)xE(er)}function xE(e){var t=bE(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?vE(e):er=t,Fb.current=null}function vE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B5(r,t),r!==null){r.flags&=32767,er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ur=6,er=null;return}}else if(r=L5(r,t,mn),r!==null){er=r;return}if(t=t.sibling,t!==null){er=t;return}er=t=e}while(t!==null);ur===0&&(ur=5)}function Ii(e,t,r){var n=ht,s=Ln.transition;try{Ln.transition=null,ht=1,G5(e,t,r,n)}finally{Ln.transition=s,ht=n}return null}function G5(e,t,r,n){do hl();while(Js!==null);if(ot&6)throw Error(Se(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(T$(e,i),e===vr&&(er=vr=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ef||(Ef=!0,kE(xh,function(){return hl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ln.transition,Ln.transition=null;var o=ht;ht=1;var l=ot;ot|=4,Fb.current=null,K5(e,r),fE(r,e),h5($0),yh=!!M0,$0=M0=null,e.current=r,z5(r),v$(),ot=l,ht=o,Ln.transition=i}else e.current=r;if(Ef&&(Ef=!1,Js=e,$h=s),i=e.pendingLanes,i===0&&(si=null),k$(r.stateNode),cn(e,qt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mh)throw Mh=!1,e=tv,tv=null,e;return $h&1&&e.tag!==0&&hl(),i=e.pendingLanes,i&1?e===rv?Au++:(Au=0,rv=e):Au=0,wi(),null}function hl(){if(Js!==null){var e=QA($h),t=Ln.transition,r=ht;try{if(Ln.transition=null,ht=16>e?16:e,Js===null)var n=!1;else{if(e=Js,Js=null,$h=0,ot&6)throw Error(Se(331));var s=ot;for(ot|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:Pu(8,d,i)}var f=d.child;if(f!==null)f.return=d,Oe=f;else for(;Oe!==null;){d=Oe;var h=d.sibling,p=d.return;if(cE(d),d===u){Oe=null;break}if(h!==null){h.return=p,Oe=h;break}Oe=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var k=m.sibling;m.sibling=null,m=k}while(m!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Oe=v;break e}Oe=i.return}}var y=e.current;for(Oe=y;Oe!==null;){o=Oe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Oe=x;else e:for(o=y;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:um(9,l)}}catch(w){Vt(l,l.return,w)}if(l===o){Oe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Oe=j;break e}Oe=l.return}}if(ot=s,wi(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(rm,e)}catch{}n=!0}return n}finally{ht=r,Ln.transition=t}}return!1}function d1(e,t,r){t=Pl(r,t),t=QO(e,t,1),e=ai(e,t,1),t=Qr(),e!==null&&(Wd(e,1,t),cn(e,t))}function Vt(e,t,r){if(e.tag===3)d1(e,e,r);else for(;t!==null;){if(t.tag===3){d1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(si===null||!si.has(n))){e=Pl(r,e),e=ZO(t,e,1),t=ai(t,e,1),e=Qr(),t!==null&&(Wd(t,1,e),cn(t,e));break}}t=t.return}}function q5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qr(),e.pingedLanes|=e.suspendedLanes&r,vr===e&&(jr&r)===r&&(ur===4||ur===3&&(jr&130023424)===jr&&500>qt()-zb?no(e,0):Kb|=r),cn(e,t)}function yE(e,t){t===0&&(e.mode&1?(t=bf,bf<<=1,!(bf&130023424)&&(bf=4194304)):t=1);var r=Qr();e=Ya(e,t),e!==null&&(Wd(e,t,r),cn(e,r))}function Y5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yE(e,r)}function J5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),yE(e,r)}var bE;bE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nn=!1,I5(e,t,r);nn=!!(e.flags&131072)}else nn=!1,_t&&t.flags&1048576&&SO(t,Ph,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ih(e,t),e=t.pendingProps;var s=wl(t,Lr.current);fl(t,r),s=$b(null,t,n,e,s,r);var i=Rb();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(n)?(i=!0,Sh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eb(t),s.updater=cm,t.stateNode=s,s._reactInternals=t,U0(t,n,e,r),t=G0(null,t,n,!0,i,r)):(t.tag=0,_t&&i&&jb(t),Gr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ih(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Q5(n),e=Jn(n,e),s){case 0:t=W0(null,t,n,e,r);break e;case 1:t=t1(null,t,n,e,r);break e;case 11:t=Zj(null,t,n,e,r);break e;case 14:t=e1(null,t,n,Jn(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jn(n,s),W0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jn(n,s),t1(e,t,n,s,r);case 3:e:{if(nE(t),e===null)throw Error(Se(387));n=t.pendingProps,i=t.memoizedState,s=i.element,EO(e,t),Oh(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Pl(Error(Se(423)),t),t=r1(e,t,n,r,s);break e}else if(n!==s){s=Pl(Error(Se(424)),t),t=r1(e,t,n,r,s);break e}else for(yn=ni(t.stateNode.containerInfo.firstChild),bn=t,_t=!0,ea=null,r=AO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jl(),n===s){t=Ja(e,t,r);break e}Gr(e,t,n,r)}t=t.child}return t;case 5:return CO(t),e===null&&K0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,R0(n,s)?o=null:i!==null&&R0(n,i)&&(t.flags|=32),rE(e,t),Gr(e,t,o,r),t.child;case 6:return e===null&&K0(t),null;case 13:return aE(e,t,r);case 4:return Cb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sl(t,null,n,r):Gr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jn(n,s),Zj(e,t,n,s,r);case 7:return Gr(e,t,t.pendingProps,r),t.child;case 8:return Gr(e,t,t.pendingProps.children,r),t.child;case 12:return Gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,wt(Th,n._currentValue),n._currentValue=o,i!==null)if(oa(i.value,o)){if(i.children===s.children&&!on.current){t=Ja(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ka(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),z0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),z0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fl(t,r),s=Bn(s),n=n(s),t.flags|=1,Gr(e,t,n,r),t.child;case 14:return n=t.type,s=Jn(n,t.pendingProps),s=Jn(n.type,s),e1(e,t,n,s,r);case 15:return eE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jn(n,s),ih(e,t),t.tag=1,ln(n)?(e=!0,Sh(t)):e=!1,fl(t,r),XO(t,n,s),U0(t,n,s,r),G0(null,t,n,!0,e,r);case 19:return sE(e,t,r);case 22:return tE(e,t,r)}throw Error(Se(156,t.tag))};function kE(e,t){return qA(e,t)}function X5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new X5(e,t,r,n)}function Wb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q5(e){if(typeof e=="function")return Wb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===db)return 11;if(e===fb)return 14}return 2}function oi(e,t){var r=e.alternate;return r===null?(r=Rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ch(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Wb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ko:return ao(r.children,s,i,t);case ub:o=8,s|=8;break;case p0:return e=Rn(12,r,t,s|2),e.elementType=p0,e.lanes=i,e;case m0:return e=Rn(13,r,t,s),e.elementType=m0,e.lanes=i,e;case g0:return e=Rn(19,r,t,s),e.elementType=g0,e.lanes=i,e;case CA:return fm(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case OA:o=10;break e;case EA:o=9;break e;case db:o=11;break e;case fb:o=14;break e;case zs:o=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=Rn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ao(e,t,r,n){return e=Rn(7,e,n,t),e.lanes=r,e}function fm(e,t,r,n){return e=Rn(22,e,n,t),e.elementType=CA,e.lanes=r,e.stateNode={isHidden:!1},e}function Jg(e,t,r){return e=Rn(6,e,null,t),e.lanes=r,e}function Xg(e,t,r){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Z5(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gb(e,t,r,n,s,i,o,l,c){return e=new Z5(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Rn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eb(i),e}function eR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wE(e){if(!e)return gi;e=e._reactInternals;e:{if(jo(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(ln(r))return wO(e,r,t)}return t}function jE(e,t,r,n,s,i,o,l,c){return e=Gb(r,n,!0,e,s,i,o,l,c),e.context=wE(null),r=e.current,n=Qr(),s=ii(r),i=Ka(n,s),i.callback=t??null,ai(r,i,s),e.current.lanes=s,Wd(e,s,n),cn(e,n),e}function hm(e,t,r,n){var s=t.current,i=Qr(),o=ii(s);return r=wE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ka(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ai(s,t,o),e!==null&&(na(e,s,o,i),nh(e,s,o)),o}function Ih(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function f1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qb(e,t){f1(e,t),(e=e.alternate)&&f1(e,t)}function tR(){return null}var SE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yb(e){this._internalRoot=e}pm.prototype.render=Yb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));hm(e,t,null,null)};pm.prototype.unmount=Yb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;po(function(){hm(null,e,null,null)}),t[qa]=null}};function pm(e){this._internalRoot=e}pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ws.length&&t!==0&&t<Ws[r].priority;r++);Ws.splice(r,0,e),r===0&&nO(e)}};function Jb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function h1(){}function rR(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ih(o);i.call(u)}}var o=jE(t,n,e,0,null,!1,!1,"",h1);return e._reactRootContainer=o,e[qa]=o.current,Yu(e.nodeType===8?e.parentNode:e),po(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ih(c);l.call(u)}}var c=Gb(e,0,!1,null,null,!1,!1,"",h1);return e._reactRootContainer=c,e[qa]=c.current,Yu(e.nodeType===8?e.parentNode:e),po(function(){hm(t,c,r,n)}),c}function gm(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ih(o);l.call(c)}}hm(t,o,e,s)}else o=rR(r,t,e,s,n);return Ih(o)}ZA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hu(t.pendingLanes);r!==0&&(mb(t,r|1),cn(t,qt()),!(ot&6)&&(Tl=qt()+500,wi()))}break;case 13:po(function(){var n=Ya(e,1);if(n!==null){var s=Qr();na(n,e,1,s)}}),qb(e,1)}};gb=function(e){if(e.tag===13){var t=Ya(e,134217728);if(t!==null){var r=Qr();na(t,e,134217728,r)}qb(e,134217728)}};eO=function(e){if(e.tag===13){var t=ii(e),r=Ya(e,t);if(r!==null){var n=Qr();na(r,e,t,n)}qb(e,t)}};tO=function(){return ht};rO=function(e,t){var r=ht;try{return ht=e,t()}finally{ht=r}};P0=function(e,t,r){switch(t){case"input":if(y0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=im(n);if(!s)throw Error(Se(90));DA(n),y0(n,s)}}}break;case"textarea":$A(e,r);break;case"select":t=r.value,t!=null&&ll(e,!!r.multiple,t,!1)}};zA=Vb;VA=po;var nR={usingClientEntryPoint:!1,Events:[qd,Ho,im,FA,KA,Vb]},Dc={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aR={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WA(e),e===null?null:e.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{rm=Cf.inject(aR),ga=Cf}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nR;Nn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jb(t))throw Error(Se(200));return eR(e,t,null,r)};Nn.createRoot=function(e,t){if(!Jb(e))throw Error(Se(299));var r=!1,n="",s=SE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gb(e,1,!1,null,null,r,!1,n,s),e[qa]=t.current,Yu(e.nodeType===8?e.parentNode:e),new Yb(t)};Nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=WA(t),e=e===null?null:e.stateNode,e};Nn.flushSync=function(e){return po(e)};Nn.hydrate=function(e,t,r){if(!mm(t))throw Error(Se(200));return gm(null,e,t,!0,r)};Nn.hydrateRoot=function(e,t,r){if(!Jb(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=SE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=jE(t,null,e,1,r??null,s,!1,i,o),e[qa]=t.current,Yu(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pm(t)};Nn.render=function(e,t,r){if(!mm(t))throw Error(Se(200));return gm(null,e,t,!1,r)};Nn.unmountComponentAtNode=function(e){if(!mm(e))throw Error(Se(40));return e._reactRootContainer?(po(function(){gm(null,null,e,!1,function(){e._reactRootContainer=null,e[qa]=null})}),!0):!1};Nn.unstable_batchedUpdates=Vb;Nn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mm(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return gm(e,t,r,!1,n)};Nn.version="18.3.1-next-f1338f8080-20240426";function NE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NE)}catch(e){console.error(e)}}NE(),NA.exports=Nn;var PE=NA.exports,p1=PE;f0.createRoot=p1.createRoot,f0.hydrateRoot=p1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}var Xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xs||(Xs={}));const m1="popstate";function sR(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return sv("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Lh(s)}return oR(t,r,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iR(){return Math.random().toString(36).substr(2,8)}function g1(e,t){return{usr:e.state,key:e.key,idx:t}}function sv(e,t,r,n){return r===void 0&&(r=null),ad({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oc(t):t,{state:r,key:t&&t.key||n||iR()})}function Lh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function oR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Xs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ad({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Xs.Pop;let k=d(),v=k==null?null:k-u;u=k,c&&c({action:l,location:m.location,delta:v})}function h(k,v){l=Xs.Push;let y=sv(m.location,k,v);u=d()+1;let x=g1(y,u),j=m.createHref(y);try{o.pushState(x,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(j)}i&&c&&c({action:l,location:m.location,delta:1})}function p(k,v){l=Xs.Replace;let y=sv(m.location,k,v);u=d();let x=g1(y,u),j=m.createHref(y);o.replaceState(x,"",j),i&&c&&c({action:l,location:m.location,delta:0})}function g(k){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof k=="string"?k:Lh(k);return y=y.replace(/ $/,"%20"),Jt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(m1,f),c=k,()=>{s.removeEventListener(m1,f),c=null}},createHref(k){return t(s,k)},createURL:g,encodeLocation(k){let v=g(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(k){return o.go(k)}};return m}var x1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(x1||(x1={}));function lR(e,t,r){return r===void 0&&(r="/"),cR(e,t,r)}function cR(e,t,r,n){let s=typeof t=="string"?oc(t):t,i=Qb(s.pathname||"/",r);if(i==null)return null;let o=TE(e);uR(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=wR(i);l=yR(o[c],u)}return l}function TE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Jt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=li([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:xR(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of AE(i.path))s(i,o,c)}),t}function AE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=AE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function uR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dR=/^:[\w-]+$/,fR=3,hR=2,pR=1,mR=10,gR=-2,v1=e=>e==="*";function xR(e,t){let r=e.split("/"),n=r.length;return r.some(v1)&&(n+=gR),t&&(n+=hR),r.filter(s=>!v1(s)).reduce((s,i)=>s+(dR.test(i)?fR:i===""?pR:mR),n)}function vR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function yR(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=bR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:li([i,f.pathname]),pathnameBase:TR(li([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=li([i,f.pathnameBase]))}return o}function bR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function kR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Xb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function wR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const jR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SR=e=>jR.test(e);function NR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?oc(e):e,i;if(r)if(SR(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Xb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=y1(r.substring(1),"/"):i=y1(r,t)}else i=t;return{pathname:i,search:AR(n),hash:OR(s)}}function y1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zb(e,t){let r=PR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ek(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=oc(e):(s=ad({},e),Jt(!s.pathname||!s.pathname.includes("?"),Qg("?","pathname","search",s)),Jt(!s.pathname||!s.pathname.includes("#"),Qg("#","pathname","hash",s)),Jt(!s.search||!s.search.includes("#"),Qg("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=NR(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const li=e=>e.join("/").replace(/\/\/+/g,"/"),TR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ER(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OE=["post","put","patch","delete"];new Set(OE);const CR=["get",...OE];new Set(CR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}const tk=b.createContext(null),_R=b.createContext(null),ji=b.createContext(null),xm=b.createContext(null),rs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),EE=b.createContext(null);function DR(e,t){let{relative:r}=t===void 0?{}:t;lc()||Jt(!1);let{basename:n,navigator:s}=b.useContext(ji),{hash:i,pathname:o,search:l}=_E(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:li([n,o])),s.createHref({pathname:c,search:l,hash:i})}function lc(){return b.useContext(xm)!=null}function cc(){return lc()||Jt(!1),b.useContext(xm).location}function CE(e){b.useContext(ji).static||b.useLayoutEffect(e)}function Jd(){let{isDataRoute:e}=b.useContext(rs);return e?qR():MR()}function MR(){lc()||Jt(!1);let e=b.useContext(tk),{basename:t,future:r,navigator:n}=b.useContext(ji),{matches:s}=b.useContext(rs),{pathname:i}=cc(),o=JSON.stringify(Zb(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return CE(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=ek(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:li([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const $R=b.createContext(null);function RR(e){let t=b.useContext(rs).outlet;return t&&b.createElement($R.Provider,{value:e},t)}function _E(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(ji),{matches:s}=b.useContext(rs),{pathname:i}=cc(),o=JSON.stringify(Zb(s,n.v7_relativeSplatPath));return b.useMemo(()=>ek(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function IR(e,t){return LR(e,t)}function LR(e,t,r,n){lc()||Jt(!1);let{navigator:s}=b.useContext(ji),{matches:i}=b.useContext(rs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=cc(),d;if(t){var f;let k=typeof t=="string"?oc(t):t;c==="/"||(f=k.pathname)!=null&&f.startsWith(c)||Jt(!1),d=k}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let k=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let g=lR(e,{pathname:p}),m=VR(g&&g.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:li([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:li([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return t&&m?b.createElement(xm.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xs.Pop}},m):m}function BR(){let e=GR(),t=ER(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const FR=b.createElement(BR,null);class KR extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(rs.Provider,{value:this.props.routeContext},b.createElement(EE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zR(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(tk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(rs.Provider,{value:t},n)}function VR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Jt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,k=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||FR,c&&(u<0&&h===0?(YR("route-fallback"),g=!0,k=null):u===h&&(g=!0,k=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),y=()=>{let x;return p?x=m:g?x=k:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,b.createElement(zR,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(KR,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var DE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DE||{}),ME=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ME||{});function UR(e){let t=b.useContext(tk);return t||Jt(!1),t}function HR(e){let t=b.useContext(_R);return t||Jt(!1),t}function WR(e){let t=b.useContext(rs);return t||Jt(!1),t}function $E(e){let t=WR(),r=t.matches[t.matches.length-1];return r.route.id||Jt(!1),r.route.id}function GR(){var e;let t=b.useContext(EE),r=HR(),n=$E();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qR(){let{router:e}=UR(DE.UseNavigateStable),t=$E(ME.UseNavigateStable),r=b.useRef(!1);return CE(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sd({fromRouteId:t},i)))},[e,t])}const b1={};function YR(e,t,r){b1[e]||(b1[e]=!0)}function JR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mo(e){let{to:t,replace:r,state:n,relative:s}=e;lc()||Jt(!1);let{future:i,static:o}=b.useContext(ji),{matches:l}=b.useContext(rs),{pathname:c}=cc(),u=Jd(),d=ek(t,Zb(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function XR(e){return RR(e.context)}function ze(e){Jt(!1)}function QR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Xs.Pop,navigator:i,static:o=!1,future:l}=e;lc()&&Jt(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:sd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=oc(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=b.useMemo(()=>{let k=Qb(d,c);return k==null?null:{location:{pathname:k,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return m==null?null:b.createElement(ji.Provider,{value:u},b.createElement(xm.Provider,{children:r,value:m}))}function ZR(e){let{children:t,location:r}=e;return IR(iv(t),r)}new Promise(()=>{});function iv(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,iv(n.props.children,i));return}n.type!==ze&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=iv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function eI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rI(e,t){return e.button===0&&(!t||t==="_self")&&!tI(e)}const nI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aI="6";try{window.__reactRouterVersion=aI}catch{}const sI="startTransition",k1=q3[sI];function iI(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=sR({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&k1?k1(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>JR(n),[n]),b.createElement(QR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const oI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=eI(t,nI),{basename:p}=b.useContext(ji),g,m=!1;if(typeof u=="string"&&lI.test(u)&&(g=u,oI))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),w=Qb(j.pathname,p);j.origin===x.origin&&w!=null?u=w+j.search+j.hash:m=!0}catch{}let k=DR(u,{relative:s}),v=cI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(x){n&&n(x),x.defaultPrevented||v(x)}return b.createElement("a",ov({},h,{href:g||k,onClick:m||i?n:y,ref:r,target:c}))});var w1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(w1||(w1={}));var j1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(j1||(j1={}));function cI(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Jd(),u=cc(),d=_E(e,{relative:o});return b.useCallback(f=>{if(rI(f,r)){f.preventDefault();let h=n!==void 0?n:Lh(u)===Lh(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}const uI={},S1=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(uI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},dI=e=>e?S1(e):S1;var RE={exports:{}},IE={},LE={exports:{}},BE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=b;function fI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hI=typeof Object.is=="function"?Object.is:fI,pI=Al.useState,mI=Al.useEffect,gI=Al.useLayoutEffect,xI=Al.useDebugValue;function vI(e,t){var r=t(),n=pI({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return gI(function(){s.value=r,s.getSnapshot=t,ex(s)&&i({inst:s})},[e,r,t]),mI(function(){return ex(s)&&i({inst:s}),e(function(){ex(s)&&i({inst:s})})},[e]),xI(r),r}function ex(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hI(e,r)}catch{return!0}}function yI(e,t){return t()}var bI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yI:vI;BE.useSyncExternalStore=Al.useSyncExternalStore!==void 0?Al.useSyncExternalStore:bI;LE.exports=BE;var kI=LE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=b,wI=kI;function jI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SI=typeof Object.is=="function"?Object.is:jI,NI=wI.useSyncExternalStore,PI=vm.useRef,TI=vm.useEffect,AI=vm.useMemo,OI=vm.useDebugValue;IE.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=PI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=AI(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return f=g}return f=p}if(g=f,SI(d,p))return g;var m=n(p);return s!==void 0&&s(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=NI(e,i[0],i[1]);return TI(function(){o.hasValue=!0,o.value=l},[l]),OI(l),l};RE.exports=IE;var EI=RE.exports;const CI=ft(EI),FE={},{useDebugValue:_I}=re,{useSyncExternalStoreWithSelector:DI}=CI;let N1=!1;const MI=e=>e;function $I(e,t=MI,r){(FE?"production":void 0)!=="production"&&r&&!N1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),N1=!0);const n=DI(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return _I(n),n}const P1=e=>{(FE?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?dI(e):e,r=(n,s)=>$I(t,n,s);return Object.assign(r,t),r},Xd=e=>e?P1(e):P1,RI={};function II(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const id=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return id(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return id(n)(r)}}}},LI=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,v)=>({...v,...k}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...k)},n,s);const d=id(i.serialize),f=()=>{const k=i.partialize({...n()});let v;const y=d({state:k,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{v=x});if(v)throw v;return y},h=s.setState;s.setState=(k,v)=>{h(k,v),f()};const p=e((...k)=>{r(...k),f()},n,s);let g;const m=()=>{var k;if(!u)return;o=!1,l.forEach(y=>y(n()));const v=((k=i.onRehydrateStorage)==null?void 0:k.call(i,n()))||void 0;return id(u.getItem.bind(u))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var x;return g=i.merge(y,(x=n())!=null?x:p),r(g,!0),f()}).then(()=>{v==null||v(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{v==null||v(void 0,y)})};return s.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:k=>(l.add(k),()=>{l.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},m(),g||p},BI=(e,t)=>(r,n,s)=>{let i={storage:II(()=>localStorage),partialize:m=>m,version:0,merge:(m,k)=>({...k,...m}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,s);const d=()=>{const m=i.partialize({...n()});return u.setItem(i.name,{state:m,version:i.version})},f=s.setState;s.setState=(m,k)=>{f(m,k),d()};const h=e((...m)=>{r(...m),d()},n,s);s.getInitialState=()=>h;let p;const g=()=>{var m,k;if(!u)return;o=!1,l.forEach(y=>{var x;return y((x=n())!=null?x:h)});const v=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(m=n())!=null?m:h))||void 0;return id(u.getItem.bind(u))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var x;const[j,w]=y;if(p=i.merge(w,(x=n())!=null?x:h),r(p,!0),j)return d()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||g(),p||h},FI=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((RI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),LI(e,t)):BI(e,t),rk=FI,nt=Xd()(rk(e=>({isLoggedIn:!1,user:null,sessionId:null,deviceId:null,login:(t,r,n)=>e({isLoggedIn:!0,user:t,sessionId:r,deviceId:n}),logout:()=>e({isLoggedIn:!1,user:null,sessionId:null,deviceId:null}),updateUser:t=>e(r=>({user:r.user?{...r.user,...t}:null}))}),{name:"auth-storage"})),ym=Xd()(rk(e=>({sidebarOpen:!1,sidebarCollapsed:!1,activeTab:"dashboard",dashboardPlantFilter:"ALL",dashboardYear:new Date().getFullYear(),darkMode:!1,forceDesktopView:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSidebarCollapse:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setActiveTab:t=>e({activeTab:t}),setDashboardPlantFilter:t=>e({dashboardPlantFilter:t}),setDashboardYear:t=>e({dashboardYear:t}),toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleForceDesktopView:()=>e(t=>({forceDesktopView:!t.forceDesktopView}))}),{name:"ui-storage",partialize:e=>({darkMode:e.darkMode,forceDesktopView:e.forceDesktopView})})),KI=Xd(e=>({notifications:[],unreadCount:0,addNotification:t=>e(r=>({notifications:[t,...r.notifications],unreadCount:r.unreadCount+1})),markAsRead:t=>e(r=>({notifications:r.notifications.map(n=>n.id===t?{...n,read:!0}:n),unreadCount:Math.max(0,r.unreadCount-1)})),markAllAsRead:()=>e(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0})),clearNotifications:()=>e({notifications:[],unreadCount:0}),setNotifications:t=>e({notifications:t,unreadCount:t.filter(r=>!r.read).length})})),Bh=Xd()(rk(e=>({messages:[],isOpen:!1,unreadChatCount:0,lastReadTimestamp:null,lastFetchTimestamp:null,toggleChat:()=>e(t=>({isOpen:!t.isOpen})),addMessage:t=>e(r=>r.messages.some(s=>s.id===t.id)?r:{messages:[...r.messages,t]}),addOptimisticMessage:t=>e(r=>({messages:[...r.messages,t]})),removeOptimisticMessage:t=>e(r=>({messages:r.messages.filter(n=>n.id!==t)})),setMessages:t=>e(r=>{const s=r.messages.filter(o=>o.id&&o.id.startsWith("temp_")).filter(o=>!t.some(c=>c.sender===o.sender&&c.message===o.message&&Math.abs(new Date(c.timestamp).getTime()-new Date(o.timestamp).getTime())<5e3)),i=[...t,...s];return i.sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),{messages:i}}),setUnreadChatCount:t=>e({unreadChatCount:t}),markChatAsRead:()=>e({unreadChatCount:0,lastReadTimestamp:new Date().toISOString()}),setLastFetchTimestamp:t=>e({lastFetchTimestamp:t})}),{name:"chat-storage",partialize:e=>({messages:e.messages.slice(-100),lastFetchTimestamp:e.lastFetchTimestamp})}));Xd(e=>({loading:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t})}));const zI="modulepreload",VI=function(e){return"/"+e},T1={},Re=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=VI(c),c in T1)return;T1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":zI,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function KE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=KE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=KE(e))&&(n&&(n+=" "),n+=t);return n}const nk="-",UI=e=>{const t=WI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(nk);return l[0]===""&&l.length!==1&&l.shift(),zE(l,t)||HI(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},zE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?zE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(nk);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},A1=/^\[(.+)\]$/,HI=e=>{if(A1.test(e)){const t=A1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},WI=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return qI(Object.entries(e.classGroups),r).forEach(([i,o])=>{lv(o,n,i,t)}),n},lv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:O1(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(GI(s)){lv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{lv(o,O1(t,i),r,n)})})},O1=(e,t)=>{let r=e;return t.split(nk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GI=e=>e.isThemeGetter,qI=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,YI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},VE="!",JI=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let k=0;k<l.length;k++){let v=l[k];if(u===0){if(v===s&&(n||l.slice(k,k+i)===t)){c.push(l.slice(d,k)),d=k+i;continue}if(v==="/"){f=k;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(VE),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},XI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},QI=e=>({cache:YI(e.cacheSize),parseClassName:JI(e),...UI(e)}),ZI=/\s+/,eL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(ZI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const k=XI(d).join(":"),v=f?k+VE:k,y=v+m;if(i.includes(y))continue;i.push(y);const x=s(m,g);for(let j=0;j<x.length;++j){const w=x[j];i.push(v+w)}l=u+(l.length>0?" "+l:l)}return l};function tL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=UE(t))&&(n&&(n+=" "),n+=r);return n}const UE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=UE(e[n]))&&(r&&(r+=" "),r+=t);return r};function rL(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=QI(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=eL(c,r);return s(c,d),d}return function(){return i(tL.apply(null,arguments))}}const Tt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},HE=/^\[(?:([a-z-]+):)?(.+)\]$/i,nL=/^\d+\/\d+$/,aL=new Set(["px","full","screen"]),sL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=e=>pl(e)||aL.has(e)||nL.test(e),Is=e=>uc(e,"length",xL),pl=e=>!!e&&!Number.isNaN(Number(e)),tx=e=>uc(e,"number",pl),Mc=e=>!!e&&Number.isInteger(Number(e)),uL=e=>e.endsWith("%")&&pl(e.slice(0,-1)),Ge=e=>HE.test(e),Ls=e=>sL.test(e),dL=new Set(["length","size","percentage"]),fL=e=>uc(e,dL,WE),hL=e=>uc(e,"position",WE),pL=new Set(["image","url"]),mL=e=>uc(e,pL,yL),gL=e=>uc(e,"",vL),$c=()=>!0,uc=(e,t,r)=>{const n=HE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xL=e=>iL.test(e)&&!oL.test(e),WE=()=>!1,vL=e=>lL.test(e),yL=e=>cL.test(e),bL=()=>{const e=Tt("colors"),t=Tt("spacing"),r=Tt("blur"),n=Tt("brightness"),s=Tt("borderColor"),i=Tt("borderRadius"),o=Tt("borderSpacing"),l=Tt("borderWidth"),c=Tt("contrast"),u=Tt("grayscale"),d=Tt("hueRotate"),f=Tt("invert"),h=Tt("gap"),p=Tt("gradientColorStops"),g=Tt("gradientColorStopPositions"),m=Tt("inset"),k=Tt("margin"),v=Tt("opacity"),y=Tt("padding"),x=Tt("saturate"),j=Tt("scale"),w=Tt("sepia"),S=Tt("skew"),N=Tt("space"),T=Tt("translate"),A=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ge,t],O=()=>[Ge,t],_=()=>["",Oa,Is],z=()=>["auto",pl,Ge],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ge],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[pl,Ge];return{cacheSize:500,separator:":",theme:{colors:[$c],spacing:[Oa,Is],blur:["none","",Ls,Ge],brightness:U(),borderColor:[e],borderRadius:["none","","full",Ls,Ge],borderSpacing:O(),borderWidth:_(),contrast:U(),grayscale:B(),hueRotate:U(),invert:B(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[uL,Is],inset:$(),margin:$(),opacity:U(),padding:O(),saturate:U(),scale:U(),sepia:B(),skew:U(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Ls]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Ge]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mc,Ge]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Mc,Ge]}],"grid-cols":[{"grid-cols":[$c]}],"col-start-end":[{col:["auto",{span:["full",Mc,Ge]},Ge]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[$c]}],"row-start-end":[{row:["auto",{span:[Mc,Ge]},Ge]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Ls]},Ls]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ls,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tx]}],"font-family":[{font:[$c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",pl,tx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,Is]}],"underline-offset":[{"underline-offset":["auto",Oa,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),hL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Oa,Ge]}],"outline-w":[{outline:[Oa,Is]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Oa,Is]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ls,gL]}],"shadow-color":[{shadow:[$c]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ls,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Mc,Ge]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oa,Is,tx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kL=rL(bL);function Ee(...e){return kL(We(e))}function Ue(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"}function GE(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function an(e){if(e==null||e===""||e===0||e==="0")return"-";const t=String(e).trim();if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(t)){const n=t.split(":"),s=n[0].padStart(2,"0"),i=n[1];return`${s}:${i}`}const r=parseFloat(t);if(!isNaN(r)&&r>=0&&(r<1||r>0&&t.includes("."))){const n=r%1,s=Math.round(n*24*60),i=Math.floor(s/60)%24,o=s%60;return`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}try{const n=new Date(t);if(!isNaN(n.getTime())){if(n.getFullYear()===1899)return"-";const s=n.getHours(),i=n.getMinutes();return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}catch{}return t||"-"}function Y(e){return e==null?"0":e.toLocaleString("id-ID",{maximumFractionDigits:2})}function le(e){if(e==null||e==="")return 0;if(typeof e=="number")return isNaN(e)?0:e;const r=String(e).trim().match(/^[\d.,\-]+/);if(!r)return 0;const n=r[0].replace(/\./g,"").replace(",","."),s=parseFloat(n);return isNaN(s)?0:s}function qE(e,t){if(!e||!t)return 0;const[r,n]=e.split(":").map(Number),[s,i]=t.split(":").map(Number);let o=r*60+n,l=s*60+i;return l<o&&(l+=24*60),Number(((l-o)/60).toFixed(2))}function cv(e,t){return qE(e,t)}function wL(e=""){const t=Date.now(),r=Math.random().toString(36).substring(2,9);return`${e}${e?"_":""}${t}_${r}`}function $t(){return new Date().toISOString().split("T")[0]}function yr(e){return["admin","supervisor","avp","user"].includes(e)}function ak(e){return["admin","avp","supervisor"].includes(e)}function sk(e){return["admin","avp","supervisor"].includes(e)}function Nr(e){return e==="user"}function Pr(e){return e==="user"}function fr(e){return["manager","eksternal"].includes(e)}function YE(e,t){return!!(e==="admin"&&t==="ALL"||e==="admin"||["avp","supervisor"].includes(e))}function JE(e,t){return e==="admin"&&t==="ALL"}function XE(e){return!["user","manager","eksternal"].includes(e)}const QE=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bm=b.createContext({}),km=b.createContext(null),wm=typeof document<"u",ik=wm?b.useLayoutEffect:b.useEffect,ZE=b.createContext({strict:!1}),ok=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jL="framerAppearId",eC="data-"+ok(jL);function SL(e,t,r,n){const{visualElement:s}=b.useContext(bm),i=b.useContext(ZE),o=b.useContext(km),l=b.useContext(QE).reducedMotion,c=b.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(r,o)});const d=b.useRef(!!(r[eC]&&!window.HandoffComplete));return ik(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Qo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NL(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Qo(r)&&(r.current=n))},[t])}function od(e){return typeof e=="string"||Array.isArray(e)}function jm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const lk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ck=["initial",...lk];function Sm(e){return jm(e.animate)||ck.some(t=>od(e[t]))}function tC(e){return!!(Sm(e)||e.variants)}function PL(e,t){if(Sm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||od(r)?r:void 0,animate:od(n)?n:void 0}}return e.inherit!==!1?t:{}}function TL(e){const{initial:t,animate:r}=PL(e,b.useContext(bm));return b.useMemo(()=>({initial:t,animate:r}),[E1(t),E1(r)])}function E1(e){return Array.isArray(e)?e.join(" "):e}const C1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ld={};for(const e in C1)ld[e]={isEnabled:t=>C1[e].some(r=>!!t[r])};function AL(e){for(const t in e)ld[t]={...ld[t],...e[t]}}const uk=b.createContext({}),rC=b.createContext({}),OL=Symbol.for("motionComponentSymbol");function EL({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&AL(e);function i(l,c){let u;const d={...b.useContext(QE),...l,layoutId:CL(l)},{isStatic:f}=d,h=TL(l),p=n(l,f);if(!f&&wm){h.visualElement=SL(s,p,d,t);const g=b.useContext(rC),m=b.useContext(ZE).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,g))}return b.createElement(bm.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...d}):null,r(s,l,NL(p,h.visualElement,c),p,f,h.visualElement))}const o=b.forwardRef(i);return o[OL]=s,o}function CL({layoutId:e}){const t=b.useContext(uk).id;return t&&e!==void 0?t+"-"+e:e}function _L(e){function t(n,s={}){return EL(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const DL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dk(e){return typeof e!="string"||e.includes("-")?!1:!!(DL.indexOf(e)>-1||/[A-Z]/.test(e))}const Fh={};function ML(e){Object.assign(Fh,e)}const Qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],So=new Set(Qd);function nC(e,{layout:t,layoutId:r}){return So.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Fh[e]||e==="opacity")}const un=e=>!!(e&&e.getVelocity),$L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RL=Qd.length;function IL(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<RL;o++){const l=Qd[o];if(e[l]!==void 0){const c=$L[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const aC=e=>t=>typeof t=="string"&&t.startsWith(e),sC=aC("--"),uv=aC("var(--"),LL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,BL=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xi=(e,t,r)=>Math.min(Math.max(r,e),t),No={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ou={...No,transform:e=>xi(0,1,e)},_f={...No,default:1},Eu=e=>Math.round(e*1e5)/1e5,Nm=/(-)?([\d]*\.?[\d])+/g,iC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zd(e){return typeof e=="string"}const ef=e=>({test:t=>Zd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ks=ef("deg"),va=ef("%"),Ke=ef("px"),KL=ef("vh"),zL=ef("vw"),_1={...va,parse:e=>va.parse(e)/100,transform:e=>va.transform(e*100)},D1={...No,transform:Math.round},oC={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,size:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,rotate:Ks,rotateX:Ks,rotateY:Ks,rotateZ:Ks,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Ks,skewX:Ks,skewY:Ks,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:Ou,originX:_1,originY:_1,originZ:Ke,zIndex:D1,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:D1};function fk(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(sC(f)){i[f]=h;continue}const p=oC[f],g=BL(h,p);if(So.has(f)){if(c=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):s[f]=g}if(t.transform||(c||n?s.transform=IL(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const hk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lC(e,t,r){for(const n in t)!un(t[n])&&!nC(n,r)&&(e[n]=t[n])}function VL({transformTemplate:e},t,r){return b.useMemo(()=>{const n=hk();return fk(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function UL(e,t,r){const n=e.style||{},s={};return lC(s,n,e),Object.assign(s,VL(e,t,r)),e.transformValues?e.transformValues(s):s}function HL(e,t,r){const n={},s=UL(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const WL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WL.has(e)}let cC=e=>!Kh(e);function GL(e){e&&(cC=t=>t.startsWith("on")?!Kh(t):e(t))}try{GL(require("@emotion/is-prop-valid").default)}catch{}function qL(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(cC(s)||r===!0&&Kh(s)||!t&&!Kh(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function M1(e,t,r){return typeof e=="string"?e:Ke.transform(t+r*e)}function YL(e,t,r){const n=M1(t,e.x,e.width),s=M1(r,e.y,e.height);return`${n} ${s}`}const JL={offset:"stroke-dashoffset",array:"stroke-dasharray"},XL={offset:"strokeDashoffset",array:"strokeDasharray"};function QL(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?JL:XL;e[i.offset]=Ke.transform(-n);const o=Ke.transform(t),l=Ke.transform(r);e[i.array]=`${o} ${l}`}function pk(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(fk(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=YL(m,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&QL(p,o,l,c,!1)}const uC=()=>({...hk(),attrs:{}}),mk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZL(e,t,r,n){const s=b.useMemo(()=>{const i=uC();return pk(i,t,{enableHardwareAcceleration:!1},mk(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};lC(i,e.style,e),s.style={...i,...s.style}}return s}function e6(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(dk(r)?ZL:HL)(n,i,o,r),d={...qL(n,typeof r=="string",e),...c,ref:s},{children:f}=n,h=b.useMemo(()=>un(f)?f.get():f,[f]);return b.createElement(r,{...d,children:h})}}function dC(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const fC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hC(e,t,r,n){dC(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(fC.has(s)?s:ok(s),t.attrs[s])}function gk(e,t){const{style:r}=e,n={};for(const s in r)(un(r[s])||t.style&&un(t.style[s])||nC(s,e))&&(n[s]=r[s]);return n}function pC(e,t){const r=gk(e,t);for(const n in e)if(un(e[n])||un(t[n])){const s=Qd.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function xk(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function mC(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const zh=e=>Array.isArray(e),t6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),r6=e=>zh(e)?e[e.length-1]||0:e;function uh(e){const t=un(e)?e.get():e;return t6(t)?t.toValue():t}function n6({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:a6(n,s,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const gC=e=>(t,r)=>{const n=b.useContext(bm),s=b.useContext(km),i=()=>n6(e,t,n,s);return r?i():mC(i)};function a6(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=uh(i[h]);let{initial:o,animate:l}=e;const c=Sm(e),u=tC(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!jm(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=xk(e,p);if(!g)return;const{transitionEnd:m,transition:k,...v}=g;for(const y in v){let x=v[y];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[y]=x)}for(const y in m)s[y]=m[y]}),s}const Yt=e=>e;class $1{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function s6(e){let t=new $1,r=new $1,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Df=["prepare","read","update","preRender","render","postRender"],i6=40;function o6(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Df.reduce((f,h)=>(f[h]=s6(()=>r=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(f-s.timestamp,i6),1),s.timestamp=f,s.isProcessing=!0,Df.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:Df.reduce((f,h)=>{const p=i[h];return f[h]=(g,m=!1,k=!1)=>(r||c(),p.schedule(g,m,k)),f},{}),cancel:f=>Df.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:jt,cancel:Xa,state:Cr,steps:rx}=o6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),l6={useVisualState:gC({scrapeMotionValuesFromProps:pC,createRenderState:uC,onMount:(e,t,{renderState:r,latestValues:n})=>{jt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),jt.render(()=>{pk(r,n,{enableHardwareAcceleration:!1},mk(t.tagName),e.transformTemplate),hC(t,r)})}})},c6={useVisualState:gC({scrapeMotionValuesFromProps:gk,createRenderState:hk})};function u6(e,{forwardMotionProps:t=!1},r,n){return{...dk(e)?l6:c6,preloadedFeatures:r,useRender:e6(t),createVisualElement:n,Component:e}}function Ia(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const xC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Pm(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const d6=e=>t=>xC(t)&&e(t,Pm(t));function za(e,t,r,n){return Ia(e,t,d6(r),n)}const f6=(e,t)=>r=>t(e(r)),ci=(...e)=>e.reduce(f6);function vC(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const R1=vC("dragHorizontal"),I1=vC("dragVertical");function yC(e){let t=!1;if(e==="y")t=I1();else if(e==="x")t=R1();else{const r=R1(),n=I1();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function bC(){const e=yC(!0);return e?(e(),!1):!0}class Si{constructor(t){this.isMounted=!1,this.node=t}update(){}}function L1(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||bC())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&jt.update(()=>l[n](i,o))};return za(e.current,r,s,{passive:!e.getProps()[n]})}class h6 extends Si{mount(){this.unmount=ci(L1(this.node,!0),L1(this.node,!1))}unmount(){}}class p6 extends Si{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ci(Ia(this.node.current,"focus",()=>this.onFocus()),Ia(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const kC=(e,t)=>t?e===t?!0:kC(e,t.parentElement):!1;function nx(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Pm(r))}class m6 extends Si{constructor(){super(...arguments),this.removeStartListeners=Yt,this.removeEndListeners=Yt,this.removeAccessibleListeners=Yt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=za(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();jt.update(()=>{!f&&!kC(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=za(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ci(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||nx("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&jt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ia(this.node.current,"keyup",o),nx("down",(l,c)=>{this.startPress(l,c)})},r=Ia(this.node.current,"keydown",t),n=()=>{this.isPressing&&nx("cancel",(i,o)=>this.cancelPress(i,o))},s=Ia(this.node.current,"blur",n);this.removeAccessibleListeners=ci(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&jt.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bC()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&jt.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=za(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ia(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ci(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dv=new WeakMap,ax=new WeakMap,g6=e=>{const t=dv.get(e.target);t&&t(e)},x6=e=>{e.forEach(g6)};function v6({root:e,...t}){const r=e||document;ax.has(r)||ax.set(r,{});const n=ax.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(x6,{root:e,...t})),n[s]}function y6(e,t,r){const n=v6(t);return dv.set(e,r),n.observe(e),()=>{dv.delete(e),n.unobserve(e)}}const b6={some:0,all:1};class k6 extends Si{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:b6[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return y6(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(w6(t,r))&&this.startObserver()}unmount(){}}function w6({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const j6={inView:{Feature:k6},tap:{Feature:m6},focus:{Feature:p6},hover:{Feature:h6}};function wC(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function S6(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function N6(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Tm(e,t,r){const n=e.getProps();return xk(n,t,r!==void 0?r:n.custom,S6(e),N6(e))}let vk=Yt;const so=e=>e*1e3,Va=e=>e/1e3,P6={current:!1},jC=e=>Array.isArray(e)&&typeof e[0]=="number";function SC(e){return!!(!e||typeof e=="string"&&NC[e]||jC(e)||Array.isArray(e)&&e.every(SC))}const mu=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,NC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mu([0,.65,.55,1]),circOut:mu([.55,0,1,.45]),backIn:mu([.31,.01,.66,-.59]),backOut:mu([.33,1.53,.69,.99])};function PC(e){if(e)return jC(e)?mu(e):Array.isArray(e)?e.map(PC):NC[e]}function T6(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=PC(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function A6(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const TC=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,O6=1e-7,E6=12;function C6(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=TC(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>O6&&++l<E6);return o}function tf(e,t,r,n){if(e===t&&r===n)return Yt;const s=i=>C6(i,0,1,e,r);return i=>i===0||i===1?i:TC(s(i),t,n)}const _6=tf(.42,0,1,1),D6=tf(0,0,.58,1),AC=tf(.42,0,.58,1),M6=e=>Array.isArray(e)&&typeof e[0]!="number",OC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,EC=e=>t=>1-e(1-t),yk=e=>1-Math.sin(Math.acos(e)),CC=EC(yk),$6=OC(yk),_C=tf(.33,1.53,.69,.99),bk=EC(_C),R6=OC(bk),I6=e=>(e*=2)<1?.5*bk(e):.5*(2-Math.pow(2,-10*(e-1))),L6={linear:Yt,easeIn:_6,easeInOut:AC,easeOut:D6,circIn:yk,circInOut:$6,circOut:CC,backIn:bk,backInOut:R6,backOut:_C,anticipate:I6},B1=e=>{if(Array.isArray(e)){vk(e.length===4);const[t,r,n,s]=e;return tf(t,r,n,s)}else if(typeof e=="string")return L6[e];return e},kk=(e,t)=>r=>!!(Zd(r)&&FL.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),DC=(e,t,r)=>n=>{if(!Zd(n))return n;const[s,i,o,l]=n.match(Nm);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},B6=e=>xi(0,255,e),sx={...No,transform:e=>Math.round(B6(e))},Xi={test:kk("rgb","red"),parse:DC("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+sx.transform(e)+", "+sx.transform(t)+", "+sx.transform(r)+", "+Eu(Ou.transform(n))+")"};function F6(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const fv={test:kk("#"),parse:F6,transform:Xi.transform},Zo={test:kk("hsl","hue"),parse:DC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+va.transform(Eu(t))+", "+va.transform(Eu(r))+", "+Eu(Ou.transform(n))+")"},Wr={test:e=>Xi.test(e)||fv.test(e)||Zo.test(e),parse:e=>Xi.test(e)?Xi.parse(e):Zo.test(e)?Zo.parse(e):fv.parse(e),transform:e=>Zd(e)?e:e.hasOwnProperty("red")?Xi.transform(e):Zo.transform(e)},It=(e,t,r)=>-r*e+r*t+e;function ix(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function K6({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=ix(c,l,e+1/3),i=ix(c,l,e),o=ix(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const ox=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},z6=[fv,Xi,Zo],V6=e=>z6.find(t=>t.test(e));function F1(e){const t=V6(e);let r=t.parse(e);return t===Zo&&(r=K6(r)),r}const MC=(e,t)=>{const r=F1(e),n=F1(t),s={...r};return i=>(s.red=ox(r.red,n.red,i),s.green=ox(r.green,n.green,i),s.blue=ox(r.blue,n.blue,i),s.alpha=It(r.alpha,n.alpha,i),Xi.transform(s))};function U6(e){var t,r;return isNaN(e)&&Zd(e)&&(((t=e.match(Nm))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(iC))===null||r===void 0?void 0:r.length)||0)>0}const $C={regex:LL,countKey:"Vars",token:"${v}",parse:Yt},RC={regex:iC,countKey:"Colors",token:"${c}",parse:Wr.parse},IC={regex:Nm,countKey:"Numbers",token:"${n}",parse:No.parse};function lx(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function Vh(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&lx(r,$C),lx(r,RC),lx(r,IC),r}function LC(e){return Vh(e).values}function BC(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Vh(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<n?l=l.replace($C.token,o[c]):c<n+r?l=l.replace(RC.token,Wr.transform(o[c])):l=l.replace(IC.token,Eu(o[c]));return l}}const H6=e=>typeof e=="number"?0:e;function W6(e){const t=LC(e);return BC(e)(t.map(H6))}const vi={test:U6,parse:LC,createTransformer:BC,getAnimatableNone:W6},FC=(e,t)=>r=>`${r>0?t:e}`;function KC(e,t){return typeof e=="number"?r=>It(e,t,r):Wr.test(e)?MC(e,t):e.startsWith("var(")?FC(e,t):VC(e,t)}const zC=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>KC(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},G6=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=KC(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},VC=(e,t)=>{const r=vi.createTransformer(t),n=Vh(e),s=Vh(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?ci(zC(n.values,s.values),r):FC(e,t)},cd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},K1=(e,t)=>r=>It(e,t,r);function q6(e){return typeof e=="number"?K1:typeof e=="string"?Wr.test(e)?MC:VC:Array.isArray(e)?zC:typeof e=="object"?G6:K1}function Y6(e,t,r){const n=[],s=r||q6(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Yt:t;l=ci(c,l)}n.push(l)}return n}function UC(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(vk(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Y6(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=cd(e[d],e[d+1],u);return o[d](f)};return r?u=>c(xi(e[0],e[i-1],u)):c}function J6(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=cd(0,t,n);e.push(It(r,1,s))}}function X6(e){const t=[0];return J6(t,e.length-1),t}function Q6(e,t){return e.map(r=>r*t)}function Z6(e,t){return e.map(()=>t||AC).splice(0,e.length-1)}function Uh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=M6(n)?n.map(B1):B1(n),i={done:!1,value:t[0]},o=Q6(r&&r.length===t.length?r:X6(t),e),l=UC(o,t,{ease:Array.isArray(s)?s:Z6(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function HC(e,t){return t?e*(1e3/t):0}const eB=5;function WC(e,t,r){const n=Math.max(t-eB,0);return HC(r-e(n),t-n)}const cx=.001,tB=.01,rB=10,nB=.05,aB=1;function sB({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=xi(nB,aB,o),e=xi(tB,rB,Va(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,p=hv(u,o),g=Math.exp(-f);return cx-h/p*g},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=hv(Math.pow(u,2),o);return(-s(u)+cx>0?-1:1)*((h-p)*g)/m}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-cx+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=oB(s,i,l);if(e=so(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const iB=12;function oB(e,t,r){let n=r;for(let s=1;s<iB;s++)n=n-e(n)/t(n);return n}function hv(e,t){return e*Math.sqrt(1-t*t)}const lB=["duration","bounce"],cB=["stiffness","damping","mass"];function z1(e,t){return t.some(r=>e[r]!==void 0)}function uB(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!z1(e,cB)&&z1(e,lB)){const r=sB(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function GC({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=uB({...n,velocity:-Va(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),m=i-s,k=Va(Math.sqrt(l/u)),v=Math.abs(m)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let y;if(g<1){const x=hv(k,g);y=j=>{const w=Math.exp(-g*k*j);return i-w*((p+g*k*m)/x*Math.sin(x*j)+m*Math.cos(x*j))}}else if(g===1)y=x=>i-Math.exp(-k*x)*(m+(p+k*m)*x);else{const x=k*Math.sqrt(g*g-1);y=j=>{const w=Math.exp(-g*k*j),S=Math.min(x*j,300);return i-w*((p+g*k*m)*Math.sinh(S)+x*m*Math.cosh(S))/x}}return{calculatedDuration:h&&d||null,next:x=>{const j=y(x);if(h)o.done=x>=d;else{let w=p;x!==0&&(g<1?w=WC(y,x,j):w=0);const S=Math.abs(w)<=r,N=Math.abs(i-j)<=t;o.done=S&&N}return o.value=o.done?i:j,o}}}function V1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,g=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let m=r*t;const k=f+m,v=o===void 0?k:o(k);v!==k&&(m=v-f);const y=T=>-m*Math.exp(-T/n),x=T=>v+y(T),j=T=>{const A=y(T),F=x(T);h.done=Math.abs(A)<=u,h.value=h.done?v:F};let w,S;const N=T=>{p(h.value)&&(w=T,S=GC({keyframes:[h.value,g(h.value)],velocity:WC(x,T,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:T=>{let A=!1;return!S&&w===void 0&&(A=!0,j(T),N(T)),w!==void 0&&T>w?S.next(T-w):(!A&&j(T),h)}}}const dB=e=>{const t=({timestamp:r})=>e(r);return{start:()=>jt.update(t,!0),stop:()=>Xa(t),now:()=>Cr.isProcessing?Cr.timestamp:performance.now()}},U1=2e4;function H1(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<U1;)t+=r,n=e.next(t);return t>=U1?1/0:t}const fB={decay:V1,inertia:V1,tween:Uh,keyframes:Uh,spring:GC};function Hh({autoplay:e=!0,delay:t=0,driver:r=dB,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,m,k;const v=()=>{k=new Promise(U=>{m=U})};v();let y;const x=fB[s]||Uh;let j;x!==Uh&&typeof n[0]!="number"&&(j=UC([0,100],n,{clamp:!1}),n=[0,100]);const w=x({...h,keyframes:n});let S;l==="mirror"&&(S=x({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let N="idle",T=null,A=null,F=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=H1(w));const{calculatedDuration:$}=w;let O=1/0,_=1/0;$!==null&&(O=$+o,_=O*(i+1)-o);let z=0;const J=U=>{if(A===null)return;p>0&&(A=Math.min(A,U)),p<0&&(A=Math.min(U-_/p,A)),T!==null?z=T:z=Math.round(U-A)*p;const ee=z-t*(p>=0?1:-1),H=p>=0?ee<0:ee>_;z=Math.max(ee,0),N==="finished"&&T===null&&(z=_);let oe=z,ue=w;if(i){const fe=Math.min(z,_)/O;let xe=Math.floor(fe),ve=fe%1;!ve&&fe>=1&&(ve=1),ve===1&&xe--,xe=Math.min(xe,i+1),!!(xe%2)&&(l==="reverse"?(ve=1-ve,o&&(ve-=o/O)):l==="mirror"&&(ue=S)),oe=xi(0,1,ve)*O}const de=H?{done:!1,value:n[0]}:ue.next(oe);j&&(de.value=j(de.value));let{done:ye}=de;!H&&$!==null&&(ye=p>=0?z>=_:z<=0);const be=T===null&&(N==="finished"||N==="running"&&ye);return f&&f(de.value),be&&R(),de},Z=()=>{y&&y.stop(),y=void 0},V=()=>{N="idle",Z(),m(),v(),A=F=null},R=()=>{N="finished",d&&d(),Z(),m()},B=()=>{if(g)return;y||(y=r(J));const U=y.now();c&&c(),T!==null?A=U-T:(!A||N==="finished")&&(A=U),N==="finished"&&v(),F=A,T=null,N="running",y.start()};e&&B();const I={then(U,ee){return k.then(U,ee)},get time(){return Va(z)},set time(U){U=so(U),z=U,T!==null||!y||p===0?T=U:A=y.now()-U/p},get duration(){const U=w.calculatedDuration===null?H1(w):w.calculatedDuration;return Va(U)},get speed(){return p},set speed(U){U===p||!y||(p=U,I.time=Va(z))},get state(){return N},play:B,pause:()=>{N="paused",T=z},stop:()=>{g=!0,N!=="idle"&&(N="idle",u&&u(),V())},cancel:()=>{F!==null&&J(F),V()},complete:()=>{N="finished"},sample:U=>(A=0,J(U))};return I}function hB(e){let t;return()=>(t===void 0&&(t=e()),t)}const pB=hB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Mf=10,gB=2e4,xB=(e,t)=>t.type==="spring"||e==="backgroundColor"||!SC(t.ease);function vB(e,t,{onUpdate:r,onComplete:n,...s}){if(!(pB()&&mB.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:f,duration:h=300,ease:p,times:g}=s;if(xB(t,s)){const x=Hh({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const w=[];let S=0;for(;!j.done&&S<gB;)j=x.sample(S),w.push(j.value),S+=Mf;g=void 0,f=w,h=S-Mf,p="linear"}const m=T6(e.owner.current,t,f,{...s,duration:h,ease:p,times:g}),k=()=>{u=!1,m.cancel()},v=()=>{u=!0,jt.update(k),l(),d()};return m.onfinish=()=>{u||(e.set(A6(f,s)),n&&n(),v())},{then(x,j){return c.then(x,j)},attachTimeline(x){return m.timeline=x,m.onfinish=null,Yt},get time(){return Va(m.currentTime||0)},set time(x){m.currentTime=so(x)},get speed(){return m.playbackRate},set speed(x){m.playbackRate=x},get duration(){return Va(h)},play:()=>{o||(m.play(),Xa(k))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:x}=m;if(x){const j=Hh({...s,autoplay:!1});e.setWithVelocity(j.sample(x-Mf).value,j.sample(x).value,Mf)}v()},complete:()=>{u||m.finish()},cancel:v}}function yB({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Yt,pause:Yt,stop:Yt,then:i=>(i(),Promise.resolve()),cancel:Yt,complete:Yt});return t?Hh({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const bB={type:"spring",stiffness:500,damping:25,restSpeed:10},kB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wB={type:"keyframes",duration:.8},jB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SB=(e,{keyframes:t})=>t.length>2?wB:So.has(e)?e.startsWith("scale")?kB(t[1]):bB:jB,pv=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vi.test(t)||t==="0")&&!t.startsWith("url(")),NB=new Set(["brightness","contrast","saturate","opacity"]);function PB(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Nm)||[];if(!n)return e;const s=r.replace(n,"");let i=NB.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const TB=/([a-z-]*)\(.*?\)/g,mv={...vi,getAnimatableNone:e=>{const t=e.match(TB);return t?t.map(PB).join(" "):e}},AB={...oC,color:Wr,backgroundColor:Wr,outlineColor:Wr,fill:Wr,stroke:Wr,borderColor:Wr,borderTopColor:Wr,borderRightColor:Wr,borderBottomColor:Wr,borderLeftColor:Wr,filter:mv,WebkitFilter:mv},wk=e=>AB[e];function qC(e,t){let r=wk(e);return r!==mv&&(r=vi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const YC=e=>/^0[^.\s]+$/.test(e);function OB(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||YC(e)}function EB(e,t,r,n){const s=pv(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),OB(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=qC(t,l)}return i}function CB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function jk(e,t){return e[t]||e.default||e}const _B={skipAnimations:!1},Sk=(e,t,r,n={})=>s=>{const i=jk(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-so(o);const c=EB(t,e,r,i),u=c[0],d=c[c.length-1],f=pv(e,u),h=pv(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(CB(i)||(p={...p,...SB(e,p)}),p.duration&&(p.duration=so(p.duration)),p.repeatDelay&&(p.repeatDelay=so(p.repeatDelay)),!f||!h||P6.current||i.type===!1||_B.skipAnimations)return yB(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=vB(t,e,p);if(g)return g}return Hh(p)};function Wh(e){return!!(un(e)&&e.add)}const JC=e=>/^\-?\d*\.?\d+$/.test(e);function Nk(e,t){e.indexOf(t)===-1&&e.push(t)}function Pk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Tk{constructor(){this.subscriptions=[]}add(t){return Nk(this.subscriptions,t),()=>Pk(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DB=e=>!isNaN(parseFloat(e));class MB{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Cr;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,jt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>jt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DB(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Tk);const n=this.events[t].add(r);return t==="change"?()=>{n(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?HC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(e,t){return new MB(e,t)}const XC=e=>t=>t.test(e),$B={test:e=>e==="auto",parse:e=>e},QC=[No,Ke,va,Ks,zL,KL,$B],Rc=e=>QC.find(XC(e)),RB=[...QC,Wr,vi],IB=e=>RB.find(XC(e));function LB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ol(r))}function BB(e,t){const r=Tm(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=r6(i[o]);LB(e,o,l)}}function FB(e,t,r){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(JC(d)||YC(d))?d=parseFloat(d):!IB(d)&&vi.test(u)&&(d=qC(c,u)),e.addValue(c,Ol(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function KB(e,t){return t?(t[e]||t.default||t).from:void 0}function zB(e,t,r){const n={};for(const s in e){const i=KB(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function VB({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function UB(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function ZC(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&VB(d,f))continue;const g={delay:r,elapsed:0,...jk(i||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[eC];if(v){const y=window.HandoffAppearAnimations(v,f,h,jt);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let m=!g.isHandoff&&!UB(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(Sk(f,h,p,e.shouldReduceMotion&&So.has(f)?{type:!1}:g));const k=h.animation;Wh(c)&&(c.add(f),k.then(()=>c.remove(f))),u.push(k)}return o&&Promise.all(u).then(()=>{o&&BB(e,o)}),u}function gv(e,t,r={}){const n=Tm(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(ZC(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return HB(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function HB(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(WB).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(gv(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function WB(e,t){return e.sortNodePosition(t)}function GB(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>gv(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=gv(e,t,r);else{const s=typeof t=="function"?Tm(e,t,r.custom):t;n=Promise.all(ZC(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const qB=[...lk].reverse(),YB=lk.length;function JB(e){return t=>Promise.all(t.map(({animation:r,options:n})=>GB(e,r,n)))}function XB(e){let t=JB(e);const r=ZB();let n=!0;const s=(c,u)=>{const d=Tm(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let v=0;v<YB;v++){const y=qB[v],x=r[y],j=d[y]!==void 0?d[y]:f[y],w=od(j),S=y===u?x.isActive:null;S===!1&&(m=v);let N=j===f[y]&&j!==d[y]&&w;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),x.protectedKeys={...g},!x.isActive&&S===null||!j&&!x.prevProp||jm(j)||typeof j=="boolean")continue;let A=QB(x.prevProp,j)||y===u&&x.isActive&&!N&&w||v>m&&w,F=!1;const $=Array.isArray(j)?j:[j];let O=$.reduce(s,{});S===!1&&(O={});const{prevResolvedValues:_={}}=x,z={..._,...O},J=Z=>{A=!0,p.has(Z)&&(F=!0,p.delete(Z)),x.needsAnimating[Z]=!0};for(const Z in z){const V=O[Z],R=_[Z];if(g.hasOwnProperty(Z))continue;let B=!1;zh(V)&&zh(R)?B=!wC(V,R):B=V!==R,B?V!==void 0?J(Z):p.add(Z):V!==void 0&&p.has(Z)?J(Z):x.protectedKeys[Z]=!0}x.prevProp=j,x.prevResolvedValues=O,x.isActive&&(g={...g,...O}),n&&e.blockInitialAnimation&&(A=!1),A&&(!N||F)&&h.push(...$.map(Z=>({animation:Z,options:{type:y,...c}})))}if(p.size){const v={};p.forEach(y=>{const x=e.getBaseTarget(y);x!==void 0&&(v[y]=x)}),h.push({animation:v})}let k=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(k=!1),n=!1,k?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function QB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wC(t,e):!1}function Ei(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZB(){return{animate:Ei(!0),whileInView:Ei(),whileHover:Ei(),whileTap:Ei(),whileDrag:Ei(),whileFocus:Ei(),exit:Ei()}}class eF extends Si{constructor(t){super(t),t.animationState||(t.animationState=XB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),jm(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let tF=0;class rF extends Si{constructor(){super(...arguments),this.id=tF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const nF={animation:{Feature:eF},exit:{Feature:rF}},W1=(e,t)=>Math.abs(e-t);function aF(e,t){const r=W1(e.x,t.x),n=W1(e.y,t.y);return Math.sqrt(r**2+n**2)}class e_{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=aF(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=Cr;this.history.push({...g,timestamp:m});const{onStart:k,onMove:v}=this.handlers;h||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ux(h,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=dx(f.type==="pointercancel"?this.lastMoveEventInfo:ux(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,k),g&&g(f,k)},!xC(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Pm(t),l=ux(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Cr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,dx(l,this.history)),this.removeListeners=ci(za(this.contextWindow,"pointermove",this.handlePointerMove),za(this.contextWindow,"pointerup",this.handlePointerUp),za(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xa(this.updatePoint)}}function ux(e,t){return t?{point:t(e.point)}:e}function G1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dx({point:e},t){return{point:e,delta:G1(e,t_(t)),offset:G1(e,sF(t)),velocity:iF(t,.1)}}function sF(e){return e[0]}function t_(e){return e[e.length-1]}function iF(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=t_(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>so(t)));)r--;if(!n)return{x:0,y:0};const i=Va(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sn(e){return e.max-e.min}function xv(e,t=0,r=.01){return Math.abs(e-t)<=r}function q1(e,t,r,n=.5){e.origin=n,e.originPoint=It(t.min,t.max,e.origin),e.scale=Sn(r)/Sn(t),(xv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=It(r.min,r.max,e.origin)-e.originPoint,(xv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Cu(e,t,r,n){q1(e.x,t.x,r.x,n?n.originX:void 0),q1(e.y,t.y,r.y,n?n.originY:void 0)}function Y1(e,t,r){e.min=r.min+t.min,e.max=e.min+Sn(t)}function oF(e,t,r){Y1(e.x,t.x,r.x),Y1(e.y,t.y,r.y)}function J1(e,t,r){e.min=t.min-r.min,e.max=e.min+Sn(t)}function _u(e,t,r){J1(e.x,t.x,r.x),J1(e.y,t.y,r.y)}function lF(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?It(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?It(r,e,n.max):Math.min(e,r)),e}function X1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function cF(e,{top:t,left:r,bottom:n,right:s}){return{x:X1(e.x,r,s),y:X1(e.y,t,n)}}function Q1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function uF(e,t){return{x:Q1(e.x,t.x),y:Q1(e.y,t.y)}}function dF(e,t){let r=.5;const n=Sn(e),s=Sn(t);return s>n?r=cd(t.min,t.max-n,e.min):n>s&&(r=cd(e.min,e.max-s,t.min)),xi(0,1,r)}function fF(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const vv=.35;function hF(e=vv){return e===!1?e=0:e===!0&&(e=vv),{x:Z1(e,"left","right"),y:Z1(e,"top","bottom")}}function Z1(e,t,r){return{min:eS(e,t),max:eS(e,r)}}function eS(e,t){return typeof e=="number"?e:e[t]||0}const tS=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:tS(),y:tS()}),rS=()=>({min:0,max:0}),Qt=()=>({x:rS(),y:rS()});function _n(e){return[e("x"),e("y")]}function r_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function pF({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mF(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function fx(e){return e===void 0||e===1}function yv({scale:e,scaleX:t,scaleY:r}){return!fx(e)||!fx(t)||!fx(r)}function Li(e){return yv(e)||n_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function n_(e){return nS(e.x)||nS(e.y)}function nS(e){return e&&e!=="0%"}function Gh(e,t,r){const n=e-r,s=t*n;return r+s}function aS(e,t,r,n,s){return s!==void 0&&(e=Gh(e,s,n)),Gh(e,r,n)+t}function bv(e,t=0,r=1,n,s){e.min=aS(e.min,t,r,n,s),e.max=aS(e.max,t,r,n,s)}function a_(e,{x:t,y:r}){bv(e.x,t.translate,t.scale,t.originPoint),bv(e.y,r.translate,r.scale,r.originPoint)}function gF(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,a_(e,o)),n&&Li(i.latestValues)&&tl(e,i.latestValues))}t.x=sS(t.x),t.y=sS(t.y)}function sS(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Us(e,t){e.min=e.min+t,e.max=e.max+t}function iS(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=It(e.min,e.max,i);bv(e,t[r],t[n],o,t.scale)}const xF=["x","scaleX","originX"],vF=["y","scaleY","originY"];function tl(e,t){iS(e.x,t,xF),iS(e.y,t,vF)}function s_(e,t){return r_(mF(e.getBoundingClientRect(),t))}function yF(e,t,r){const n=s_(e,r),{scroll:s}=t;return s&&(Us(n.x,s.offset.x),Us(n.y,s.offset.y)),n}const i_=({current:e})=>e?e.ownerDocument.defaultView:null,bF=new WeakMap;class kF{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Pm(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yC(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(k=>{let v=this.getAxisMotionValue(k).get()||0;if(va.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[k];x&&(v=Sn(x)*(parseFloat(v)/100))}}this.originPoint[k]=v}),g&&jt.update(()=>g(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:k}=f;if(p&&this.currentDirection===null){this.currentDirection=wF(k),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>_n(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new e_(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:i_(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&jt.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!$f(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=lF(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Qo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=cF(s.layoutBox,r):this.constraints=!1,this.elastic=hF(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=fF(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Qo(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=yF(n,s.root,this.visualElement.getTransformPagePoint());let o=uF(s.layout.layoutBox,i);if(r){const l=r(pF(o));this.hasMutatedConstraints=!!l,l&&(o=r_(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=_n(d=>{if(!$f(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Sk(t,n,0,r))}stopAnimation(){_n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_n(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){_n(r=>{const{drag:n}=this.getProps();if(!$f(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-It(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qo(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_n(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=dF({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_n(o=>{if(!$f(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(It(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;bF.set(this.visualElement,this);const t=this.visualElement.current,r=za(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Qo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Ia(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(_n(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=vv,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function $f(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function wF(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class jF extends Si{constructor(t){super(t),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new kF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const oS=e=>(t,r)=>{e&&jt.update(()=>e(t,r))};class SF extends Si{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(t){this.session=new e_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:oS(t),onStart:oS(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&jt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=za(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NF(){const e=b.useContext(km);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=b.useId();return b.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ic={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ke.test(e))e=parseFloat(e);else return e;const r=lS(e,t.target.x),n=lS(e,t.target.y);return`${r}% ${n}%`}},PF={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=vi.parse(e);if(s.length>5)return n;const i=vi.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=It(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class TF extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;ML(AF),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||jt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function o_(e){const[t,r]=NF(),n=b.useContext(uk);return re.createElement(TF,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(rC),isPresent:t,safeToRemove:r})}const AF={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:PF},l_=["TopLeft","TopRight","BottomLeft","BottomRight"],OF=l_.length,cS=e=>typeof e=="string"?parseFloat(e):e,uS=e=>typeof e=="number"||Ke.test(e);function EF(e,t,r,n,s,i){s?(e.opacity=It(0,r.opacity!==void 0?r.opacity:1,CF(n)),e.opacityExit=It(t.opacity!==void 0?t.opacity:1,0,_F(n))):i&&(e.opacity=It(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<OF;o++){const l=`border${l_[o]}Radius`;let c=dS(t,l),u=dS(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||uS(c)===uS(u)?(e[l]=Math.max(It(cS(c),cS(u),n),0),(va.test(u)||va.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=It(t.rotate||0,r.rotate||0,n))}function dS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const CF=c_(0,.5,CC),_F=c_(.5,.95,Yt);function c_(e,t,r){return n=>n<e?0:n>t?1:r(cd(e,t,n))}function fS(e,t){e.min=t.min,e.max=t.max}function An(e,t){fS(e.x,t.x),fS(e.y,t.y)}function hS(e,t,r,n,s){return e-=t,e=Gh(e,1/r,n),s!==void 0&&(e=Gh(e,1/s,n)),e}function DF(e,t=0,r=1,n=.5,s,i=e,o=e){if(va.test(t)&&(t=parseFloat(t),t=It(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=It(i.min,i.max,n);e===i&&(l-=t),e.min=hS(e.min,t,r,l,s),e.max=hS(e.max,t,r,l,s)}function pS(e,t,[r,n,s],i,o){DF(e,t[r],t[n],t[s],t.scale,i,o)}const MF=["x","scaleX","originX"],$F=["y","scaleY","originY"];function mS(e,t,r,n){pS(e.x,t,MF,r?r.x:void 0,n?n.x:void 0),pS(e.y,t,$F,r?r.y:void 0,n?n.y:void 0)}function gS(e){return e.translate===0&&e.scale===1}function u_(e){return gS(e.x)&&gS(e.y)}function RF(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function d_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function xS(e){return Sn(e.x)/Sn(e.y)}class IF{constructor(){this.members=[]}add(t){Nk(this.members,t),t.scheduleRender()}remove(t){if(Pk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vS(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const LF=(e,t)=>e.depth-t.depth;class BF{constructor(){this.children=[],this.isDirty=!1}add(t){Nk(this.children,t),this.isDirty=!0}remove(t){Pk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LF),this.isDirty=!1,this.children.forEach(t)}}function FF(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Xa(n),e(i-t))};return jt.read(n,!0),()=>Xa(n)}function KF(e){window.MotionDebug&&window.MotionDebug.record(e)}function zF(e){return e instanceof SVGElement&&e.tagName!=="svg"}function VF(e,t,r){const n=un(e)?e:Ol(e);return n.start(Sk("",n,t,r)),n.animation}const yS=["","X","Y","Z"],UF={visibility:"hidden"},bS=1e3;let HF=0;const Bi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function f_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=HF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bi.totalNodes=Bi.resolvedTargetDeltas=Bi.recalculatedProjection=0,this.nodes.forEach(qF),this.nodes.forEach(ZF),this.nodes.forEach(eK),this.nodes.forEach(YF),KF(Bi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BF)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Tk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zF(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=FF(h,250),dh.hasAnimatedSinceResize&&(dh.hasAnimatedSinceResize=!1,this.nodes.forEach(wS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||sK,{onLayoutAnimationStart:k,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!d_(this.targetLayout,g)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const j={...jk(m,"layout"),onPlay:k,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||wS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kS);return}this.isUpdating||this.nodes.forEach(XF),this.isUpdating=!1,this.nodes.forEach(QF),this.nodes.forEach(WF),this.nodes.forEach(GF),this.clearAllSnapshots();const l=performance.now();Cr.delta=xi(0,1e3/60,l-Cr.timestamp),Cr.timestamp=l,Cr.isProcessing=!0,rx.update.process(Cr),rx.preRender.process(Cr),rx.render.process(Cr),Cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(JF),this.sharedNodes.forEach(rK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!u_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Li(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),iK(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Qt();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Us(l.x,c.offset.x),Us(l.y,c.offset.y)),l}removeElementScroll(o){const l=Qt();An(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){An(l,o);const{scroll:h}=this.root;h&&(Us(l.x,-h.offset.x),Us(l.y,-h.offset.y))}Us(l.x,d.offset.x),Us(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Qt();An(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&tl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Li(d.latestValues)&&tl(c,d.latestValues)}return Li(this.latestValues)&&tl(c,this.latestValues),c}removeTransform(o){const l=Qt();An(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Li(u.latestValues))continue;yv(u.latestValues)&&u.updateSnapshot();const d=Qt(),f=u.measurePageBox();An(d,f),mS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Li(this.latestValues)&&mS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Cr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),_u(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),An(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):An(this.target,this.layout.layoutBox),a_(this.target,this.targetDelta)):An(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),_u(this.relativeTargetOrigin,this.target,p.target),An(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yv(this.parent.latestValues)||n_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Cr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;An(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;gF(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=el(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=el(),this.projectionDeltaWithTransform=el());const m=this.projectionTransform;Cu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=vS(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Bi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Qt(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,k=this.getStack(),v=!k||k.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(aK));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const w=j/1e3;jS(f.x,o.x,w),jS(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_u(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nK(this.relativeTarget,this.relativeTargetOrigin,h,w),x&&RF(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Qt()),An(x,this.relativeTarget)),m&&(this.animationValues=d,EF(d,u,this.latestValues,w,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{dh.hasAnimatedSinceResize=!0,this.currentAnimation=VF(0,bS,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&h_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qt();const f=Sn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Sn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}An(l,c),tl(l,d),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new IF),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<yS.length;d++){const f="rotate"+yS[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UF;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uh(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=uh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=vS(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Fh){if(h[m]===void 0)continue;const{correct:k,applyTo:v}=Fh[m],y=u.transform==="none"?h[m]:k(h[m],f);if(v){const x=v.length;for(let j=0;j<x;j++)u[v[j]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?uh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(kS),this.root.sharedNodes.clear()}}}function WF(e){e.updateLayout()}function GF(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?_n(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Sn(h);h.min=n[f].min,h.max=h.min+p}):h_(i,r.layoutBox,n)&&_n(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Sn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=el();Cu(l,n,r.layoutBox);const c=el();o?Cu(c,e.applyTransform(s,!0),r.measuredBox):Cu(c,n,r.layoutBox);const u=!u_(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Qt();_u(g,r.layoutBox,h.layoutBox);const m=Qt();_u(m,n,p.layoutBox),d_(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function qF(e){Bi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JF(e){e.clearSnapshot()}function kS(e){e.clearMeasurements()}function XF(e){e.isLayoutDirty=!1}function QF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZF(e){e.resolveTargetDelta()}function eK(e){e.calcProjection()}function tK(e){e.resetRotation()}function rK(e){e.removeLeadSnapshot()}function jS(e,t,r){e.translate=It(t.translate,0,r),e.scale=It(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function SS(e,t,r,n){e.min=It(t.min,r.min,n),e.max=It(t.max,r.max,n)}function nK(e,t,r,n){SS(e.x,t.x,r.x,n),SS(e.y,t.y,r.y,n)}function aK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sK={duration:.45,ease:[.4,0,.1,1]},NS=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),PS=NS("applewebkit/")&&!NS("chrome/")?Math.round:Yt;function TS(e){e.min=PS(e.min),e.max=PS(e.max)}function iK(e){TS(e.x),TS(e.y)}function h_(e,t,r){return e==="position"||e==="preserve-aspect"&&!xv(xS(t),xS(r),.2)}const oK=f_({attachResizeListener:(e,t)=>Ia(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hx={current:void 0},p_=f_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hx.current){const e=new oK({});e.mount(window),e.setOptions({layoutScroll:!0}),hx.current=e}return hx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lK={pan:{Feature:SF},drag:{Feature:jF,ProjectionNode:p_,MeasureLayout:o_}},cK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function uK(e){const t=cK.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function kv(e,t,r=1){const[n,s]=uK(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return JC(o)?parseFloat(o):o}else return uv(s)?kv(s,t,r+1):s}function dK(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!uv(i))return;const o=kv(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!uv(i))continue;const o=kv(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const fK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),m_=e=>fK.has(e),hK=e=>Object.keys(e).some(m_),AS=e=>e===No||e===Ke,OS=(e,t)=>parseFloat(e.split(", ")[t]),ES=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return OS(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?OS(i[1],e):0}},pK=new Set(["x","y","z"]),mK=Qd.filter(e=>!pK.has(e));function gK(e){const t=[];return mK.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const El={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ES(4,13),y:ES(5,14)};El.translateX=El.x;El.translateY=El.y;const xK=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=El[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=El[u](c,i)}),e},vK=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(m_);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=Rc(d);const h=t[c];let p;if(zh(h)){const g=h.length,m=h[0]===null?1:0;d=h[m],f=Rc(d);for(let k=m;k<g&&h[k]!==null;k++)p?vk(Rc(h[k])===p):p=Rc(h[k])}else p=Rc(h);if(f!==p)if(AS(f)&&AS(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===Ke&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(i=gK(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=xK(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),wm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function yK(e,t,r,n){return hK(t)?vK(e,t,r,n):{target:t,transitionEnd:n}}const bK=(e,t,r,n)=>{const s=dK(e,t,n);return t=s.target,n=s.transitionEnd,yK(e,t,r,n)},wv={current:null},g_={current:!1};function kK(){if(g_.current=!0,!!wm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wv.current=e.matches;e.addListener(t),t()}else wv.current=!1}function wK(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(un(i))e.addValue(s,i),Wh(n)&&n.add(s);else if(un(o))e.addValue(s,Ol(i,{owner:e})),Wh(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Ol(l!==void 0?l:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const CS=new WeakMap,x_=Object.keys(ld),jK=x_.length,_S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SK=ck.length;class NK{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>jt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Sm(r),this.isVariantNode=tC(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&un(h)&&(h.set(l[f],!1),Wh(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,CS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),g_.current||kK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CS.delete(this.current),this.projection&&this.projection.unmount(),Xa(this.notifyUpdate),Xa(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=So.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&jt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,l;for(let c=0;c<jK;c++){const u=x_[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=ld[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Qo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<_S.length;n++){const s=_S[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=wK(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<SK;n++){const s=ck[n],i=this.props[s];(od(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ol(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=xk(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!un(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Tk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class v_ extends NK{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=zB(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){FB(this,n,o);const l=bK(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function PK(e){return window.getComputedStyle(e)}class TK extends v_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(So.has(r)){const n=wk(r);return n&&n.default||0}else{const n=PK(t),s=(sC(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return s_(t,r)}build(t,r,n,s){fk(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return gk(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){dC(t,r,n,s)}}class AK extends v_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(So.has(r)){const n=wk(r);return n&&n.default||0}return r=fC.has(r)?r:ok(r),t.getAttribute(r)}measureInstanceViewportBox(){return Qt()}scrapeMotionValuesFromProps(t,r){return pC(t,r)}build(t,r,n,s){pk(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){hC(t,r,n,s)}mount(t){this.isSVGTag=mk(t.tagName),super.mount(t)}}const OK=(e,t)=>dk(e)?new AK(t,{enableHardwareAcceleration:!1}):new TK(t,{enableHardwareAcceleration:!0}),EK={layout:{ProjectionNode:p_,MeasureLayout:o_}},CK={...nF,...j6,...lK,...EK},lr=_L((e,t)=>u6(e,t,CK,OK));function y_(){const e=b.useRef(!1);return ik(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function _K(){const e=y_(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>jt.postRender(n),[n]),t]}class DK extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MK({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(DK,{isPresent:t,childRef:n,sizeRef:s},b.cloneElement(e,{ref:n}))}const px=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=mC($K),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return b.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=b.createElement(MK,{isPresent:r},e)),b.createElement(km.Provider,{value:u},e)};function $K(){return new Map}function RK(e){return b.useEffect(()=>()=>e(),[])}const Fi=e=>e.key||"";function IK(e,t){e.forEach(r=>{const n=Fi(r);t.set(n,r)})}function LK(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const ui=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=b.useContext(uk).forceRender||_K()[0],c=y_(),u=LK(e);let d=u;const f=b.useRef(new Map).current,h=b.useRef(d),p=b.useRef(new Map).current,g=b.useRef(!0);if(ik(()=>{g.current=!1,IK(u,p),h.current=d}),RK(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return b.createElement(b.Fragment,null,d.map(y=>b.createElement(px,{key:Fi(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},y)));d=[...d];const m=h.current.map(Fi),k=u.map(Fi),v=m.length;for(let y=0;y<v;y++){const x=m[y];k.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,x)=>{if(k.indexOf(x)!==-1)return;const j=p.get(x);if(!j)return;const w=m.indexOf(x);let S=y;if(!S){const N=()=>{f.delete(x);const T=Array.from(p.keys()).filter(A=>!k.includes(A));if(T.forEach(A=>p.delete(A)),h.current=u.filter(A=>{const F=Fi(A);return F===x||T.includes(F)}),!f.size){if(c.current===!1)return;l(),n&&n()}};S=b.createElement(px,{key:Fi(j),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:i,mode:o},j),f.set(x,S)}d.splice(w,0,S)}),d=d.map(y=>{const x=y.key;return f.has(x)?y:b.createElement(px,{key:Fi(y),isPresent:!0,presenceAffectsLayout:i,mode:o},y)}),b.createElement(b.Fragment,null,f.size?d:d.map(y=>b.cloneElement(y)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...BK,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${FK(e)}`,l].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Pe("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=Pe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Pe("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=Pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Pe("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Pe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=Pe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=Pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Pe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Pe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=Pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Pe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Pe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Pe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Pe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Pe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Pe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Pe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Pe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Pe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ce=b.forwardRef(({className:e,variant:t="primary",size:r="md",isLoading:n,children:s,disabled:i,...o},l)=>{const c={primary:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600 shadow-lg shadow-primary-500/25",secondary:"bg-white text-dark-700 border border-dark-200 hover:bg-dark-50 hover:border-dark-300",danger:"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600 shadow-lg shadow-red-500/25",success:"bg-gradient-to-r from-secondary-600 to-secondary-500 text-white hover:from-secondary-700 hover:to-secondary-600 shadow-lg shadow-secondary-500/25",ghost:"text-dark-600 hover:bg-dark-100 hover:text-dark-900",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50"},u={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return a.jsxs("button",{ref:l,className:Ee("inline-flex items-center justify-center font-medium rounded-xl","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",c[t],u[r],e),disabled:i||n,...o,children:[n&&a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})});ce.displayName="Button";const he=b.forwardRef(({className:e,label:t,error:r,helperText:n,id:s,...i},o)=>{const l=s||i.name;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-1.5",children:t}),a.jsx("input",{id:l,ref:o,className:Ee("w-full px-4 py-3 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-xl","text-dark-900 dark:text-white","placeholder:text-dark-400 dark:placeholder:text-dark-500","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","transition-all duration-200","disabled:bg-dark-100 dark:disabled:bg-dark-700 disabled:cursor-not-allowed",r&&"border-red-500 focus:ring-red-500",e),...i}),r&&a.jsx("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400",children:r}),n&&!r&&a.jsx("p",{className:"mt-1.5 text-sm text-dark-500 dark:text-dark-400",children:n})]})});he.displayName="Input";const Me=b.forwardRef(({className:e,label:t,error:r,options:n,placeholder:s,id:i,...o},l)=>{const c=i||o.name;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-1.5",children:t}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:c,ref:l,className:Ee("w-full px-4 py-3 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-xl","text-dark-900 dark:text-white","appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","transition-all duration-200","disabled:bg-dark-100 dark:disabled:bg-dark-700 disabled:cursor-not-allowed","[&>option]:bg-white [&>option]:dark:bg-dark-800 [&>option]:text-dark-900 [&>option]:dark:text-white",r&&"border-red-500 focus:ring-red-500",e),...o,children:[s&&a.jsx("option",{value:"",disabled:!0,children:s}),n.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))]}),a.jsx(Em,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400 pointer-events-none"})]}),r&&a.jsx("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400",children:r})]})});Me.displayName="Select";const we=({children:e,className:t,onClick:r})=>a.jsx("div",{className:Ee("bg-white dark:bg-dark-800 rounded-2xl border border-dark-100 dark:border-dark-700 shadow-soft overflow-hidden",t),onClick:r,children:e}),tt=({children:e,className:t})=>a.jsx("div",{className:Ee("px-6 py-4 border-b border-dark-100 dark:border-dark-700",t),children:e}),rt=({children:e,className:t})=>a.jsx("h3",{className:Ee("text-lg font-semibold text-dark-900 dark:text-white",t),children:e}),qr=({children:e,className:t})=>a.jsx("div",{className:Ee("p-6",t),children:e}),qe=({isOpen:e,onClose:t,title:r,description:n,children:s,size:i="md",showCloseButton:o=!0,closeOnOverlayClick:l=!0,className:c})=>{const u=b.useRef(null),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl"};b.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const f=h=>{l&&h.target===h.currentTarget&&t()};return typeof window>"u"?null:PE.createPortal(a.jsx(ui,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx(lr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-dark-900/60 backdrop-blur-sm",onClick:f}),a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",onClick:f,children:a.jsxs(lr.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:Ee("relative w-full bg-white dark:bg-dark-800 rounded-2xl shadow-xl",d[i],c),onClick:h=>h.stopPropagation(),children:[(r||o)&&a.jsxs("div",{className:"flex items-start justify-between px-6 py-4 border-b border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{children:[r&&a.jsx("h2",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:r}),n&&a.jsx("p",{className:"mt-1 text-sm text-dark-500 dark:text-dark-400",children:n})]}),o&&a.jsx("button",{onClick:t,className:"p-2 text-dark-400 hover:text-dark-600 dark:hover:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(Kn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:s})]})})]})}),document.body)},Xt=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Konfirmasi",cancelText:o="Batal",variant:l="danger",isLoading:c=!1})=>{const u={danger:"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600",warning:"bg-gradient-to-r from-amber-600 to-amber-500 text-white hover:from-amber-700 hover:to-amber-600",info:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600"};return a.jsx(qe,{isOpen:e,onClose:t,size:"sm",showCloseButton:!1,children:a.jsxs("div",{className:"text-center py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2.5 text-sm font-medium text-dark-700 dark:text-dark-200 bg-white dark:bg-dark-700 border border-dark-200 dark:border-dark-600 rounded-xl hover:bg-dark-50 dark:hover:bg-dark-600 transition-colors",disabled:c,children:o}),a.jsx("button",{onClick:r,className:Ee("px-4 py-2.5 text-sm font-medium rounded-xl transition-colors",u[l]),disabled:c,children:c?"Loading...":i})]})]})})},Tr=({isOpen:e,onClose:t,onSubmit:r,action:n,itemName:s="data ini",loading:i=!1})=>{const[o,l]=b.useState(""),c=()=>{if(!o.trim()){alert("Mohon isi alasan permintaan");return}r(o),l("")},u=()=>{l(""),t()};return a.jsx(qe,{isOpen:e,onClose:u,title:`Permintaan ${n==="edit"?"Edit":"Hapus"} Data`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsx(Hi,{className:"h-5 w-5 text-amber-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsx("p",{className:"font-medium",children:"Perlu Persetujuan"}),a.jsxs("p",{className:"mt-1",children:["Anda akan mengajukan permintaan untuk"," ",a.jsx("strong",{children:n==="edit"?"mengedit":"menghapus"})," ",s,". Permintaan ini akan dikirim ke AVP, Supervisor, atau Admin untuk disetujui."]})]})]}),a.jsx(he,{label:"Alasan Permintaan",placeholder:`Jelaskan alasan mengapa Anda ingin ${n==="edit"?"mengedit":"menghapus"} data ini...`,value:o,onChange:d=>l(d.target.value),required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[a.jsx(ce,{variant:"secondary",onClick:u,disabled:i,children:"Batal"}),a.jsxs(ce,{onClick:c,disabled:i,children:[a.jsx(j_,{className:"h-4 w-4 mr-2"}),i?"Mengirim...":"Kirim Permintaan"]})]})]})})},Te=({children:e,variant:t="default",size:r="md",className:n})=>{const s={default:"bg-dark-100 text-dark-700",primary:"bg-primary-100 text-primary-700",success:"bg-secondary-100 text-secondary-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700",info:"bg-cyan-100 text-cyan-700"},i={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs"};return a.jsx("span",{className:Ee("inline-flex items-center font-medium rounded-full",s[t],i[r],n),children:e})},c8=({children:e,className:t})=>a.jsx("div",{className:Ee("w-full overflow-x-auto",t),children:a.jsx("table",{className:"w-full border-collapse",children:e})}),u8=({children:e,className:t})=>a.jsx("thead",{className:Ee("bg-dark-50 dark:bg-dark-800",t),children:e}),d8=({children:e,className:t})=>a.jsx("tbody",{className:Ee("divide-y divide-dark-100 dark:divide-dark-700",t),children:e}),VS=({children:e,className:t,onClick:r,isClickable:n})=>a.jsx("tr",{className:Ee("transition-colors",n&&"cursor-pointer hover:bg-primary-50/50 dark:hover:bg-primary-900/20",t),onClick:r,children:e}),US=({children:e,className:t,sortable:r,sorted:n,onSort:s,style:i})=>a.jsx("th",{className:Ee("px-6 py-4 text-left text-xs font-semibold text-dark-500 dark:text-dark-400 uppercase tracking-wider",r&&"cursor-pointer select-none hover:text-dark-700 dark:hover:text-dark-200",t),onClick:r?s:void 0,style:i,children:a.jsxs("div",{className:"flex items-center gap-2",children:[e,r&&a.jsxs("span",{className:"flex flex-col",children:[a.jsx(b_,{className:Ee("h-3 w-3 -mb-1",n==="asc"?"text-primary-600":"text-dark-300 dark:text-dark-500")}),a.jsx(Em,{className:Ee("h-3 w-3",n==="desc"?"text-primary-600":"text-dark-300 dark:text-dark-500")})]})]})}),HS=({children:e,className:t})=>a.jsx("td",{className:Ee("px-6 py-4 text-sm text-dark-700 dark:text-dark-200 whitespace-nowrap",t),children:e}),f8=({message:e="Tidak ada data",icon:t})=>a.jsx("tr",{children:a.jsx("td",{colSpan:100,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 text-dark-400",children:[t,a.jsx("p",{className:"text-sm",children:e})]})})}),h8=()=>a.jsx("tr",{children:a.jsx("td",{colSpan:100,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Memuat data..."})]})})}),p8=({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,itemsPerPage:s=10})=>{const i=(e-1)*s+1,o=Math.min(e*s,n||0),l=()=>{const c=[];if(t<=5)for(let d=1;d<=t;d++)c.push(d);else if(e<=3){for(let d=1;d<=4;d++)c.push(d);c.push("..."),c.push(t)}else if(e>=t-2){c.push(1),c.push("...");for(let d=t-3;d<=t;d++)c.push(d)}else{c.push(1),c.push("...");for(let d=e-1;d<=e+1;d++)c.push(d);c.push("..."),c.push(t)}return c};return t<=1?null:a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-dark-100 dark:border-dark-700",children:[n&&a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Menampilkan ",i," - ",o," dari ",n," data"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 text-dark-500 dark:text-dark-400 hover:text-dark-700 dark:hover:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Ak,{className:"h-5 w-5"})}),l().map((c,u)=>a.jsx("button",{onClick:()=>typeof c=="number"&&r(c),disabled:c==="...",className:Ee("min-w-[40px] h-10 px-3 text-sm font-medium rounded-lg transition-colors",c===e?"bg-primary-600 text-white":c==="..."?"text-dark-400 cursor-default":"text-dark-600 dark:text-dark-300 hover:bg-dark-100 dark:hover:bg-dark-700"),children:c},u)),a.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 text-dark-500 dark:text-dark-400 hover:text-dark-700 dark:hover:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Ok,{className:"h-5 w-5"})})]})]})},m8=({value:e,onChange:t,placeholder:r="Cari..."})=>a.jsxs("div",{className:"relative w-full max-w-xs",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx(he,{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"pl-10"})]});function rr({data:e,columns:t,loading:r=!1,emptyMessage:n="Tidak ada data",searchable:s=!0,searchKeys:i=[],pagination:o=!0,itemsPerPage:l=10,onRowClick:c,actions:u}){const[d,f]=b.useState(""),[h,p]=b.useState(1),[g,m]=b.useState(null),[k,v]=b.useState("asc"),y=d?e.filter(N=>i.some(T=>{const A=N[T];return typeof A=="string"?A.toLowerCase().includes(d.toLowerCase()):typeof A=="number"?A.toString().includes(d):!1})):e,x=g?[...y].sort((N,T)=>{const A=N[g],F=T[g];if(A===F)return 0;if(A==null)return 1;if(F==null)return-1;const $=A<F?-1:1;return k==="asc"?$:-$}):y,j=Math.ceil(x.length/l),w=o?x.slice((h-1)*l,h*l):x,S=N=>{g===N?v(k==="asc"?"desc":"asc"):(m(N),v("asc"))};return a.jsxs("div",{className:"card",children:[s&&a.jsx("div",{className:"px-6 py-4 border-b border-dark-100",children:a.jsx(m8,{value:d,onChange:f})}),a.jsxs(c8,{children:[a.jsx(u8,{children:a.jsxs(VS,{children:[t.map(N=>a.jsx(US,{sortable:N.sortable,sorted:g===N.key?k:null,onSort:()=>N.sortable&&S(N.key),style:{width:N.width},children:N.header},N.key)),u&&a.jsx(US,{children:"Aksi"})]})}),a.jsx(d8,{children:r?a.jsx(h8,{}):w.length===0?a.jsx(f8,{message:n}):w.map((N,T)=>a.jsxs(VS,{onClick:()=>c==null?void 0:c(N),isClickable:!!c,children:[t.map(A=>a.jsx(HS,{children:A.render?A.render(N[A.key],N):String(N[A.key]??"-")},A.key)),u&&a.jsx(HS,{children:u(N)})]},T))})]}),o&&a.jsx(p8,{currentPage:h,totalPages:j,onPageChange:p,totalItems:x.length,itemsPerPage:l})]})}const Qh=({size:e="md",className:t})=>{const r={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-10 w-10 border-3"};return a.jsx("div",{className:Ee("border-primary-600 border-t-transparent rounded-full animate-spin",r[e],t)})},Wt=({isVisible:e,message:t="Berhasil!",onClose:r,autoCloseDelay:n=1500})=>(b.useEffect(()=>{if(e&&r&&n>0){const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)}},[e,r,n]),e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-900/60 backdrop-blur-sm",onClick:r,children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl text-center animate-scale-in",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-secondary-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg font-semibold text-dark-900",children:t})]})}):null),dc=({isOpen:e,onClose:t,title:r,data:n,columns:s,signatures:i,filters:o,summaryRows:l,plant:c,compactMode:u=!1})=>{const d=b.useRef(null),[f,h]=b.useState($t()),[p,g]=b.useState($t()),[m,k]=b.useState("ALL"),[v,y]=b.useState("ALL"),[x,j]=b.useState("ALL"),[w,S]=b.useState({});if(b.useEffect(()=>{const O={};i.forEach(_=>{O[_.role]={jabatan:"",nama:"",noBadge:""}}),S(O)},[i]),!e)return null;const N=n.filter(O=>{const _=new Date(O.tanggal),z=new Date(f),J=new Date(p);return J.setHours(23,59,59,999),!(_<z||_>J||o!=null&&o.kategori&&m!=="ALL"&&O.kategori!==m||o!=null&&o.forklift&&v!=="ALL"&&O.forklift!==v||o!=null&&o.shift&&x!=="ALL"&&O.shift!==x)}).sort((O,_)=>new Date(O.tanggal).getTime()-new Date(_.tanggal).getTime()),T=()=>{const O=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],_=new Date;return`${_.getDate()} ${O[_.getMonth()]} ${_.getFullYear()}`},A=()=>{const O=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],_=new Date(f),z=new Date(p);return`${_.getDate()} ${O[_.getMonth()]} ${_.getFullYear()} - ${z.getDate()} ${O[z.getMonth()]} ${z.getFullYear()}`},F=()=>{const O=d.current;if(!O)return;const _=window.open("","_blank");_&&(_.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${r}</title>
        <style>
          @page {
            size: A4;
            margin: ${u?"8mm":"12mm"};
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Times New Roman', Times, serif;
            font-size: ${u?"8pt":"10pt"};
            line-height: ${u?"1.2":"1.4"};
            color: #000;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
          }
          .header {
            text-align: center;
            margin-bottom: ${u?"10px":"15px"};
          }
          .header h1 {
            font-size: ${u?"13pt":"14pt"};
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: ${u?"3px":"4px"};
            letter-spacing: 1px;
          }
          .header .periode {
            font-size: ${u?"10pt":"11pt"};
            font-weight: bold;
            text-transform: uppercase;
          }
          .filter-info {
            font-size: ${u?"8pt":"9pt"};
            margin-bottom: ${u?"6px":"10px"};
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: ${u?"6px":"8px"};
            font-size: ${u?"7.5pt":"9pt"};
          }
          th, td {
            border: 1px solid #000;
            padding: ${u?"2px 3px":"5px 6px"};
            text-align: center;
          }
          thead tr:first-child th {
            background-color: transparent;
            font-weight: bold;
            border: 1px solid #000;
          }
          thead tr:nth-child(2) th {
            background-color: transparent;
            font-weight: bold;
          }
          tbody td {
            text-align: center;
            white-space: nowrap;
          }
          td.number, .number {
            text-align: right;
            white-space: nowrap;
          }
          td.left {
            text-align: left;
          }
          .summary-row td {
            font-weight: bold;
            border: 1px solid #000;
          }
          .subtotal-label {
            text-align: center;
            font-weight: bold;
          }
          .footer {
            margin-top: ${u?"12px":"20px"};
            text-align: right;
            font-size: ${u?"8pt":"10pt"};
            color: #000;
            font-style: italic;
          }
          .signatures {
            display: flex;
            justify-content: flex-end;
            margin-top: ${u?"15px":"30px"};
            padding-right: 20px;
          }
          .signature-box {
            text-align: center;
            min-width: ${u?"140px":"180px"};
          }
          .signature-box .label {
            font-size: ${u?"8pt":"10pt"};
            margin-bottom: ${u?"3px":"5px"};
          }
          .signature-box .position {
            font-size: ${u?"8pt":"10pt"};
            font-weight: bold;
            color: #000;
            margin-bottom: ${u?"40px":"60px"};
          }
          .signature-box .name {
            font-size: ${u?"8pt":"10pt"};
            font-weight: bold;
            color: #000;
            text-decoration: underline;
            margin-bottom: 2px;
          }
          .signature-box .badge {
            font-size: ${u?"8pt":"10pt"};
            font-weight: bold;
            color: #000;
          }
          .multi-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: ${u?"15px":"30px"};
            gap: ${u?"12px":"20px"};
          }
          .multi-signatures .signature-box {
            flex: 1;
            text-align: center;
          }
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${O.innerHTML}
      </body>
      </html>
    `),_.document.close(),_.focus(),setTimeout(()=>{_.print(),_.close()},250))},$=(O,_,z)=>{S(J=>({...J,[O]:{...J[O],[_]:z}}))};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h2",{className:"text-lg font-bold text-dark-900",children:["Cetak ",r]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 rounded-lg",children:a.jsx(Kn,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 border-b bg-dark-50 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[a.jsx(aa,{className:"inline h-4 w-4 mr-1"}),"Tanggal Mulai"]}),a.jsx("input",{type:"date",value:f,onChange:O=>h(O.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[a.jsx(aa,{className:"inline h-4 w-4 mr-1"}),"Tanggal Akhir"]}),a.jsx("input",{type:"date",value:p,onChange:O=>g(O.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),((o==null?void 0:o.kategori)||(o==null?void 0:o.forklift)||(o==null?void 0:o.shift))&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(o==null?void 0:o.kategori)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.kategori.label}),a.jsxs("select",{value:m,onChange:O=>k(O.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.kategori.options.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))]})]}),(o==null?void 0:o.forklift)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.forklift.label}),a.jsxs("select",{value:v,onChange:O=>y(O.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.forklift.options.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))]})]}),(o==null?void 0:o.shift)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.shift.label}),a.jsxs("select",{value:x,onChange:O=>j(O.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.shift.options.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-dark-700",children:"Data Tanda Tangan"}),a.jsx("div",{className:"space-y-3",children:i.map(O=>{var _,z,J;return a.jsxs("div",{className:"p-3 bg-white rounded-lg border border-dark-200",children:[a.jsx("h4",{className:"text-xs font-semibold text-dark-600 mb-2",children:O.label}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:((_=w[O.role])==null?void 0:_.jabatan)||"",onChange:Z=>$(O.role,"jabatan",Z.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),a.jsx("input",{type:"text",placeholder:"Nama",value:((z=w[O.role])==null?void 0:z.nama)||"",onChange:Z=>$(O.role,"nama",Z.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),O.role!=="operator"&&a.jsx("input",{type:"text",placeholder:"No. Badge",value:((J=w[O.role])==null?void 0:J.noBadge)||"",onChange:Z=>$(O.role,"noBadge",Z.target.value),className:"flex-1 min-w-[120px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"})]})]},O.role)})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-dark-500",children:[N.length," data ditemukan"]}),a.jsxs("button",{onClick:F,disabled:N.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:a.jsx("div",{ref:d,className:"bg-white p-6 shadow-lg mx-auto",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsxs("h1",{children:["LAPORAN ",r.toUpperCase()]}),a.jsxs("div",{className:"periode",children:["PERIODE : ",A().toUpperCase()]})]}),(m!=="ALL"||v!=="ALL"||x!=="ALL")&&a.jsxs("div",{className:"filter-info",children:[m!=="ALL"&&a.jsxs("span",{children:["Kategori: ",m," | "]}),v!=="ALL"&&a.jsxs("span",{children:["Forklift: ",v," | "]}),x!=="ALL"&&a.jsxs("span",{children:["Shift: ",x]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"30px"},children:"No"}),s.map(O=>a.jsx("th",{style:{width:O.width},children:O.header},O.key))]})}),a.jsxs("tbody",{children:[N.map((O,_)=>a.jsxs("tr",{children:[a.jsx("td",{className:"center",children:_+1}),s.map(z=>{const J=z.render?z.render(O[z.key],O):O[z.key];return a.jsx("td",{className:z.align==="right"?"number":z.align==="center"?"center":"",children:J},z.key)})]},_)),l&&l.map((O,_)=>a.jsxs("tr",{className:"summary-row",children:[a.jsx("td",{colSpan:s.length,style:{textAlign:"right",paddingRight:"10px"},children:O.label}),a.jsx("td",{className:"number",children:O.getValue(N)})]},`summary-${_}`))]})]}),a.jsxs("div",{className:"footer",children:["Cikampek, ",T()]}),a.jsx("div",{className:i.length>1?"multi-signatures":"signatures",children:i.map(O=>{var _,z,J,Z;return a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"label",children:O.label}),a.jsx("div",{className:"position",children:((_=w[O.role])==null?void 0:_.jabatan)||""}),O.role!=="operator"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"name",children:((z=w[O.role])==null?void 0:z.nama)||""}),a.jsx("div",{className:"badge",children:((J=w[O.role])==null?void 0:J.noBadge)||""})]}):a.jsx("div",{className:"name",children:((Z=w[O.role])==null?void 0:Z.nama)||""})]},O.role)})})]})})})]})})},g8=({isOpen:e,onClose:t,data:r,plant:n})=>{const s=b.useRef(null),[i,o]=b.useState($t()),[l,c]=b.useState($t()),[u,d]=b.useState({nama:"",noBadge:"",jabatan:""}),[f,h]=b.useState({nama:"",noBadge:"",jabatan:""});if(b.useEffect(()=>{if(e){const j=new Date,w=new Date(j.getFullYear(),j.getMonth(),1),S=new Date(j.getFullYear(),j.getMonth()+1,0);o(w.toISOString().split("T")[0]),c(S.toISOString().split("T")[0])}},[e]),!e)return null;const p=r.filter(j=>{const w=new Date(j.tanggal),S=new Date(i),N=new Date(l);return N.setHours(23,59,59,999),w>=S&&w<=N}).sort((j,w)=>new Date(j.tanggal).getTime()-new Date(w.tanggal).getTime()),g=p.reduce((j,w)=>j+(w.pengajuanSolar||0),0),m=p.reduce((j,w)=>j+(w.realisasiPengisian||0),0),k=m-g,v=()=>{const j=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],w=new Date;return`${w.getDate()} ${j[w.getMonth()]} ${w.getFullYear()}`},y=()=>{const j=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],w=new Date(i),S=new Date(l);return`${w.getDate()} ${j[w.getMonth()]} ${w.getFullYear()} - ${S.getDate()} ${j[S.getMonth()]} ${S.getFullYear()}`},x=()=>{const j=s.current;if(!j)return;const w=window.open("","_blank");w&&(w.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Rekap BBM Alat Berat - ${n}</title>
        <style>
          @page {
            size: A4 portrait;
            margin: 6mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 7pt;
            line-height: 1.1;
            color: #1a1a2e;
            background: #fff;
          }
          .print-container {
            width: 100%;
            max-width: 200mm;
            padding: 3px;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 2px solid #2563eb;
          }
          .header h1 {
            font-size: 12pt;
            font-weight: 700;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 8pt;
            font-weight: 600;
            margin: 3px 0;
          }
          .header .periode {
            font-size: 8pt;
            color: #64748b;
            margin-top: 3px;
          }
          .header .periode span {
            font-weight: 600;
            color: #334155;
          }
          
          /* Table Styles */
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 6px;
            font-size: 6pt;
          }
          thead th {
            background: linear-gradient(180deg, #1e40af, #1e3a8a);
            color: white;
            font-weight: 600;
            padding: 3px 2px;
            text-align: center;
            border: 1px solid #1e3a8a;
            text-transform: uppercase;
            font-size: 6pt;
            letter-spacing: 0.2px;
          }
          tbody td {
            padding: 2px 3px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 6pt;
          }
          tbody tr:nth-child(even) {
            background-color: #f8fafc;
          }
          tbody tr:hover {
            background-color: #e0e7ff;
          }
          .text-left {
            text-align: left !important;
          }
          .text-right {
            text-align: right !important;
          }
          .font-mono {
            font-family: 'Consolas', monospace;
          }
          
          /* Number formatting */
          .number-positive {
            color: #059669;
            font-weight: 600;
          }
          .number-negative {
            color: #dc2626;
            font-weight: 600;
          }
          
          /* Summary Row */
          .summary-row td {
            background: linear-gradient(180deg, #f59e0b, #d97706) !important;
            color: white !important;
            font-weight: 700 !important;
            border-color: #b45309 !important;
            padding: 3px 2px !important;
            font-size: 6pt !important;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 10px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 30px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 140px;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 30px;
            min-height: 12px;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            text-decoration: underline;
            text-underline-offset: 2px;
            margin-bottom: 1px;
            min-height: 12px;
          }
          
          .signature-badge {
            font-size: 7pt;
            color: #475569;
            font-weight: 500;
            min-height: 10px;
          }
          
          /* Summary Cards */
          .summary-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 6px;
          }
          
          .summary-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 4px;
            padding: 4px 10px;
            text-align: center;
            min-width: 90px;
          }
          
          .summary-card.pengajuan {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-color: #f59e0b;
          }
          
          .summary-card.realisasi {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-positive {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-negative {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #ef4444;
          }
          
          .summary-card-label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 1px;
          }
          
          .summary-card-value {
            font-size: 9pt;
            font-weight: 700;
            color: #1e40af;
          }
          
          .summary-card.pengajuan .summary-card-value { color: #b45309; }
          .summary-card.realisasi .summary-card-value { color: #16a34a; }
          .summary-card.selisih-positive .summary-card-value { color: #16a34a; }
          .summary-card.selisih-negative .summary-card-value { color: #dc2626; }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${j.innerHTML}
      </body>
      </html>
    `),w.document.close(),w.focus(),setTimeout(()=>{w.print(),w.close()},300))};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-amber-500 to-orange-500",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Jh,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Rekap BBM Alat Berat"}),a.jsxs("p",{className:"text-amber-100 text-sm",children:["Plant ",n]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(Kn,{className:"h-6 w-6 text-white"})})]}),a.jsxs("div",{className:"p-5 border-b bg-gradient-to-b from-amber-50 to-white space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[a.jsx(aa,{className:"h-4 w-4 text-amber-600"}),"Tanggal Mulai"]}),a.jsx("input",{type:"date",value:i,onChange:j=>o(j.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[a.jsx(aa,{className:"h-4 w-4 text-amber-600"}),"Tanggal Akhir"]}),a.jsx("input",{type:"date",value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-bold text-dark-700 flex items-center gap-2",children:[a.jsx(_l,{className:"h-4 w-4 text-amber-600"}),"Data Tanda Tangan"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[a.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Mengetahui"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:u.jabatan,onChange:j=>d({...u,jabatan:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:u.nama,onChange:j=>d({...u,nama:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsxs("div",{className:"relative",children:[a.jsx(RS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"No. Badge",value:u.noBadge,onChange:j=>d({...u,noBadge:j.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]}),a.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[a.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Dibuat Oleh"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:f.jabatan,onChange:j=>h({...f,jabatan:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:f.nama,onChange:j=>h({...f,nama:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsxs("div",{className:"relative",children:[a.jsx(RS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"No. Badge",value:f.noBadge,onChange:j=>h({...f,noBadge:j.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("span",{className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-full font-medium",children:[p.length," data"]}),a.jsx("span",{className:"text-dark-500",children:"ditemukan dalam periode ini"})]}),a.jsxs("button",{onClick:x,disabled:p.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-amber-500/30 transition-all",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Cetak Laporan"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:a.jsx("div",{ref:s,className:"bg-white p-6 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsx("h1",{children:"LAPORAN REKAP BBM ALAT BERAT"}),a.jsxs("div",{className:"plant-badge",children:["PLANT ",n]}),a.jsxs("div",{className:"periode",children:["Periode: ",a.jsx("span",{children:y()})]})]}),a.jsxs("div",{className:"summary-cards",children:[a.jsxs("div",{className:"summary-card pengajuan",children:[a.jsx("div",{className:"summary-card-label",children:"Total Pengajuan"}),a.jsxs("div",{className:"summary-card-value",children:[Y(g)," L"]})]}),a.jsxs("div",{className:"summary-card realisasi",children:[a.jsx("div",{className:"summary-card-label",children:"Total Realisasi"}),a.jsxs("div",{className:"summary-card-value",children:[Y(m)," L"]})]}),a.jsxs("div",{className:`summary-card ${k>=0?"selisih-positive":"selisih-negative"}`,children:[a.jsx("div",{className:"summary-card-label",children:"Selisih"}),a.jsxs("div",{className:"summary-card-value",children:[k>=0?"+":"",Y(k)," L"]})]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"40px"},children:"No"}),a.jsx("th",{style:{width:"100px"},children:"Tanggal"}),a.jsx("th",{children:"Nama Alat Berat"}),a.jsx("th",{style:{width:"120px"},children:"Pengajuan (L)"}),a.jsx("th",{style:{width:"120px"},children:"Realisasi (L)"}),a.jsx("th",{style:{width:"100px"},children:"Selisih (L)"}),a.jsx("th",{children:"Keterangan"})]})}),a.jsxs("tbody",{children:[p.map((j,w)=>{const S=(j.realisasiPengisian||0)-(j.pengajuanSolar||0);return a.jsxs("tr",{children:[a.jsx("td",{children:w+1}),a.jsx("td",{children:Ue(j.tanggal)}),a.jsx("td",{className:"text-left",children:j.namaAlatBerat}),a.jsx("td",{className:"text-right font-mono",children:Y(j.pengajuanSolar)}),a.jsx("td",{className:"text-right font-mono",children:Y(j.realisasiPengisian)}),a.jsxs("td",{className:`text-right font-mono ${S>=0?"number-positive":"number-negative"}`,children:[S>=0?"+":"",Y(S)]}),a.jsx("td",{className:"text-left",children:j.keterangan||"-"})]},j.id||w)}),a.jsxs("tr",{className:"summary-row",children:[a.jsx("td",{colSpan:3,style:{textAlign:"center",fontWeight:"bold"},children:"TOTAL"}),a.jsx("td",{className:"text-right font-mono",children:Y(g)}),a.jsx("td",{className:"text-right font-mono",children:Y(m)}),a.jsxs("td",{className:`text-right font-mono ${k>=0?"number-positive":"number-negative"}`,children:[k>=0?"+":"",Y(k)]}),a.jsx("td",{})]})]})]}),a.jsxs("div",{className:"footer",children:[a.jsxs("div",{className:"print-date",children:["Cikampek, ",v()]}),a.jsxs("div",{className:"signatures-container",children:[a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Mengetahui,"}),a.jsx("div",{className:"signature-jabatan",children:u.jabatan||""}),a.jsx("div",{className:"signature-name",children:u.nama||""}),a.jsx("div",{className:"signature-badge",children:u.noBadge||""})]}),a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Dibuat Oleh,"}),a.jsx("div",{className:"signature-jabatan",children:f.jabatan||""}),a.jsx("div",{className:"signature-name",children:f.nama||""}),a.jsx("div",{className:"signature-badge",children:f.noBadge||""})]})]})]})]})})})]})})},x8=({isOpen:e,onClose:t,data:r,plant:n})=>{const s=b.useRef(null);if(!e)return null;const i=()=>{const c=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=new Date;return`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`},o=c=>{const u=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],d=new Date(c);return`${d.getDate()} ${u[d.getMonth()]} ${d.getFullYear()}`},l=()=>{const c=s.current;if(!c)return;const u=window.open("","_blank");u&&(u.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Gate Pass - ${r.nomorGatePass}</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 8pt;
            line-height: 1.2;
            color: #1a1a2e;
            background: #fff;
          }
          .page-wrapper {
            width: 100%;
            height: 287mm;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
            padding: 5px 8px;
            height: 140mm;
            overflow: hidden;
          }
          .divider-line {
            width: 100%;
            border-top: 1px dashed #94a3b8;
            margin: 2mm 0;
            position: relative;
          }
          .divider-line::before {
            content: ' potong di sini';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 10px;
            font-size: 7pt;
            color: #94a3b8;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #1e40af;
            position: relative;
          }
          .header::after {
            content: '';
            position: absolute;
            bottom: -1.5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1.5px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
          }
          .header h1 {
            font-size: 13pt;
            font-weight: 800;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2px;
          }
          .header .subtitle {
            font-size: 7pt;
            color: #64748b;
            font-weight: 500;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 7pt;
            font-weight: 600;
            margin-top: 3px;
            box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
          }
          
          /* Gate Pass Number */
          .gatepass-number {
            text-align: center;
            margin: 6px 0;
            padding: 5px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1.5px solid #f59e0b;
            border-radius: 6px;
          }
          .gatepass-number label {
            font-size: 6pt;
            color: #92400e;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 1px;
          }
          .gatepass-number .number {
            font-size: 11pt;
            font-weight: 800;
            color: #92400e;
            font-family: 'Consolas', monospace;
            letter-spacing: 2px;
          }
          
          /* Info Grid */
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
          }
          .info-item {
            padding: 4px 6px;
            background: #f8fafc;
            border-radius: 4px;
            border-left: 2px solid #3b82f6;
          }
          .info-item.full-width {
            grid-column: span 2;
          }
          .info-item label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 1px;
            font-weight: 600;
          }
          .info-item .value {
            font-size: 8pt;
            color: #1e293b;
            font-weight: 500;
          }
          
          /* Description Section */
          .description-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 5px;
            border: 1px solid #7dd3fc;
          }
          .description-section h3 {
            font-size: 7pt;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #7dd3fc;
          }
          .description-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Reason Section */
          .reason-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #fef3c7, #fef9c3);
            border-radius: 5px;
            border: 1px solid #fcd34d;
          }
          .reason-section h3 {
            font-size: 7pt;
            color: #a16207;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #fcd34d;
          }
          .reason-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 6px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            padding: 0 10px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 120px;
            padding: 5px;
            background: #fafafa;
            border-radius: 5px;
            border: 1px dashed #cbd5e1;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
            font-weight: 500;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 20px;
            min-height: 10px;
          }
          
          .signature-space {
            height: 25px;
            margin-bottom: 3px;
          }
          
          .signature-line {
            width: 100px;
            height: 1px;
            background: #1e293b;
            margin: 0 auto 3px auto;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 1px;
            min-height: 10px;
          }
          
          .signature-badge {
            font-size: 6pt;
            color: #475569;
            font-weight: 500;
            min-height: 8px;
          }
          
          /* Stamp/Seal Style (Optional visual) */
          .official-stamp {
            text-align: center;
            margin-top: 5px;
            padding-top: 4px;
            border-top: 1px dashed #e2e8f0;
          }
          .official-stamp p {
            font-size: 6pt;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          /* Copy Label */
          .copy-label {
            position: absolute;
            top: 3px;
            right: 5px;
            font-size: 6pt;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
          }
          .print-container {
            position: relative;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="page-wrapper">
          <div class="print-container">
            <div class="copy-label">Lembar 1 - Arsip</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
          <div class="divider-line"></div>
          <div class="print-container">
            <div class="copy-label">Lembar 2 - Pembawa</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
        </div>
      </body>
      </html>
    `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},300))};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-blue-600 to-indigo-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(la,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Gate Pass"}),a.jsx("p",{className:"text-blue-100 text-sm",children:r.nomorGatePass})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(Kn,{className:"h-6 w-6 text-white"})})]}),a.jsx("div",{className:"p-5 border-b bg-gradient-to-b from-blue-50 to-white flex items-center justify-end",children:a.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 font-semibold shadow-lg shadow-blue-500/30 transition-all",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Cetak Gate Pass"]})}),a.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:a.jsx("div",{ref:s,className:"bg-white p-10 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsx("h1",{children:"GATE PASS"}),a.jsx("div",{className:"subtitle",children:"Surat Izin Keluar Barang"}),a.jsxs("div",{className:"plant-badge",children:["PT. PUPUK KUJANG CIKAMPEK - ",n]})]}),a.jsxs("div",{className:"gatepass-number",children:[a.jsx("label",{children:"Nomor Gate Pass"}),a.jsx("div",{className:"number",children:r.nomorGatePass})]}),a.jsxs("div",{className:"info-grid",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Tanggal"}),a.jsx("div",{className:"value",children:o(r.tanggal)})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"No Polisi"}),a.jsx("div",{className:"value",children:r.noPolisi||"-"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Pemilik Barang"}),a.jsx("div",{className:"value",children:r.pemilikBarang||"-"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Nama Pembawa"}),a.jsx("div",{className:"value",children:r.namaPembawa||"-"})]})]}),a.jsxs("div",{className:"description-section",children:[a.jsx("h3",{children:"Deskripsi Barang"}),a.jsx("p",{children:r.deskripsiBarang||"-"})]}),a.jsxs("div",{className:"reason-section",children:[a.jsx("h3",{children:"Alasan Mengeluarkan"}),a.jsx("p",{children:r.alasanKeluar||"-"})]}),a.jsxs("div",{className:"footer",children:[a.jsxs("div",{className:"print-date",children:["Cikampek, ",i()]}),a.jsxs("div",{className:"signatures-container",children:[a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Pembawa,"}),a.jsx("div",{className:"signature-space"}),a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-name",children:r.namaPembawa||""})]}),a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Mengetahui,"}),a.jsx("div",{className:"signature-space"}),a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-name",children:r.mengetahui||""})]})]}),a.jsx("div",{className:"official-stamp",children:a.jsx("p",{children:"Dokumen ini tidak sah tanpa tanda tangan basah"})})]})]})})})]})})};function v8(){const[e,t]=b.useState(null),[r,n]=b.useState(!1),[s,i]=b.useState(!1);return b.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0?(i(!0),!0):!1)return;const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{i(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:s,install:async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;return l==="accepted"?(i(!0),n(!1),t(null),!0):!1}catch(l){return console.error("Error installing PWA:",l),!1}}}}function y8(){const{isInstallable:e,isInstalled:t,install:r}=v8(),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1);b.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;c(f);const h=setTimeout(()=>{const p=localStorage.getItem("pwa-install-dismissed"),g=p?parseInt(p):0,m=(Date.now()-g)/(1e3*60*60*24);!t&&(e||f)&&m>7&&s(!0)},3e3);return()=>clearTimeout(h)},[e,t]);const u=async()=>{l?o(!0):await r()&&s(!1)},d=()=>{s(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return!n||t?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-slide-up",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-4 max-w-md mx-auto",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:a.jsx(N_,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Install PlantIQ"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Akses lebih cepat langsung dari layar utama HP Anda"}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[a.jsx(k_,{className:"w-4 h-4"}),"Install"]}),a.jsx("button",{onClick:d,className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Nanti"})]})]}),a.jsx("button",{onClick:d,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 p-1",children:a.jsx(Kn,{className:"w-4 h-4"})})]})})}),i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-scale-up",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("img",{src:"/icons/icon-96x96.png",alt:"PlantIQ",className:"w-10 h-10 rounded-lg"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Install PlantIQ di iPhone"}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Ikuti langkah berikut untuk menambahkan aplikasi ke layar utama:"})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"1"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Ketuk ikon ",a.jsx("strong",{children:"Share"})," (kotak dengan panah ke atas) di bagian bawah Safari"]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"2"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Scroll ke bawah dan ketuk"," ",a.jsx("strong",{children:'"Add to Home Screen"'})]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"3"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Ketuk ",a.jsx("strong",{children:'"Add"'})," di pojok kanan atas"]})})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-xl transition-colors",children:"Mengerti"})]})}),a.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes scale-up {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        
        .animate-scale-up {
          animation: scale-up 0.2s ease-out;
        }
      `})]})}const T_="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec";async function Cm(e){try{const t=await fetch(`${T_}${e}`,{method:"GET",redirect:"follow"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return{success:!0,data:r.data||r}}catch(t){return console.error("API GET Error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function tn(e){try{const t=await fetch(T_,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return r.success===!1?{success:!1,error:r.error||"Unknown error"}:{success:!0,data:r.data!==void 0?r.data:r}}catch(t){return console.error("API POST Error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function Zh(e){return Cm(`?action=read&sheet=${e}`)}async function b8(e,t){return tn({action:"create",sheet:e,data:t})}async function k8(e,t){return tn({action:"update",sheet:e,data:t})}async function w8(e,t){return tn({action:"delete",sheet:e,data:{id:t}})}async function A_(e,t){return tn({action:"login",data:{username:e,password:t}})}async function j8(e){const t=await Zh(e),r=await Zh(`${e}_NPK1`),n=[];return t.success&&t.data&&n.push(...t.data.map(s=>({...s,_plant:"NPK2"}))),r.success&&r.data&&n.push(...r.data.map(s=>({...s,_plant:"NPK1"}))),{success:!0,data:n}}function O_(e,t){return t==="NPK1"?`${e}_NPK1`:e}const xr={PRODUKSI_NPK:"produksi_npk",PRODUKSI_BLENDING:"produksi_blending",PRODUKSI_NPK_MINI:"produksi_npk_mini",TIMESHEET_FORKLIFT:"timesheet_forklift",TIMESHEET_LOADER:"timesheet_loader",DOWNTIME:"downtime",WORK_REQUEST:"workrequest",BAHAN_BAKU:"bahanbaku",BAHAN_BAKU_NPK:"bahanbaku_npk",VIBRASI:"vibrasi",GATE_PASS:"gatepass",PERTA:"perta",PERBAIKAN_TAHUNAN:"perbaikan_tahunan",TROUBLE_RECORD:"trouble_record",KOP:"kop",REKAP_BBM:"rekap_bbm",PEMANTAUAN_BAHAN_BAKU:"pemantauan_bahan_baku",RIKSA_TIMB_PORTABEL:"riksa_timb_portabel",USERS:"users",SESSIONS:"sessions",APPROVAL_REQUESTS:"approval_requests",MONTHLY_NOTES:"monthly_notes",NOTIFICATIONS:"notifications",CHAT_MESSAGES:"chat_messages",AKUN:"akun",RKAP:"rkap",DOKUMENTASI_FOTO:"dokumentasi_foto",ACTIVE_USERS:"active_users",MATERIALS:"materials",MATERIAL_TRANSACTIONS:"material_transactions"};async function E_(e){return tn({action:"uploadPhoto",data:e})}async function C_(e){return tn({action:"deletePhoto",data:e})}async function S8(){return Cm("?action=getExchangeRate")}async function __(){return Cm("?action=getMaterials")}async function D_(e){return tn({action:"addMaterial",data:e})}async function M_(e){return tn({action:"updateMaterial",data:e})}async function $_(e){return tn({action:"deleteMaterial",data:{id:e}})}async function R_(e,t,r){return tn({action:"updateStockMasuk",data:{materialId:e,jumlah:t,keterangan:r}})}async function I_(e,t,r){return tn({action:"updateStockKeluar",data:{materialId:e,jumlah:t,keterangan:r}})}async function L_(e){let t="?action=getMaterialTransactions";return e&&(e.material_id&&(t+=`&material_id=${encodeURIComponent(e.material_id)}`),e.start_date&&(t+=`&start_date=${encodeURIComponent(e.start_date)}`),e.end_date&&(t+=`&end_date=${encodeURIComponent(e.end_date)}`)),Cm(t)}async function B_(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return tn({action:"createWithLog",sheet:n,data:t,userInfo:r})}async function F_(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return tn({action:"updateWithLog",sheet:n,data:t,userInfo:r})}async function K_(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return tn({action:"deleteWithLog",sheet:n,data:{id:t.id},userInfo:r})}async function Ek(e,t){return tn({action:"getActivityLogs",filters:{sheet_name:e,record_id:t}})}function Ck(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function _k(e){return{create:"Menambahkan",update:"Mengubah",delete:"Menghapus"}[e]||e}function Dk(e){return{create:"",update:"",delete:""}[e]||""}const Ie=Object.freeze(Object.defineProperty({__proto__:null,SHEETS:xr,addMaterial:D_,createData:b8,createDataWithLog:B_,deleteData:w8,deleteDataWithLog:K_,deleteMaterial:$_,deletePhoto:C_,fetchDataByPlant:j8,getActionDisplayText:_k,getActionIcon:Dk,getExchangeRate:S8,getMaterialTransactions:L_,getMaterials:__,getRecordActivityLogs:Ek,getSheetNameByPlant:O_,loginUser:A_,parseActivityLogChanges:Ck,readData:Zh,updateData:k8,updateDataWithLog:F_,updateMaterial:M_,updateStockKeluar:I_,updateStockMasuk:R_,uploadPhoto:E_},Symbol.toStringTag,{value:"Module"}));function N8({isVisible:e,onClose:t,notification:r}){const[n,s]=b.useState([]),[i,o]=b.useState(!1),[l,c]=b.useState(null);b.useEffect(()=>{e&&(r!=null&&r.sheetName)&&(r!=null&&r.recordId)&&u()},[e,r]);const u=async()=>{if(!(!(r!=null&&r.sheetName)||!(r!=null&&r.recordId))){o(!0),c(null);try{const p=await Ek(r.sheetName,r.recordId);p.success&&p.data?s(p.data):c(p.error||"Gagal memuat log aktivitas")}catch{c("Terjadi kesalahan saat memuat data")}finally{o(!1)}}},d=p=>{try{return new Date(p).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return p}},f=p=>{switch(p){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},h=p=>{const g=Ck(p);if(!g)return null;if(g.deleted_data)return a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),a.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(g.deleted_data,null,2)})]});const m=Object.entries(g);return m.length===0?null:a.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),a.jsx("div",{className:"space-y-1",children:m.map(([k,v])=>a.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[k,":"]}),a.jsx("span",{className:"text-red-500 line-through",children:String(v.old||"-")}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(v.new||"-")})]},k))})]})};return a.jsx(qe,{isOpen:e,onClose:t,title:"Detail Log Aktivitas",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[a.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:r.message}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d(r.timestamp)})]}),i&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Qh,{})}),l&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),!i&&!l&&n.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-sm",children:"Tidak ada log aktivitas"})]}),!i&&!l&&n.length>0&&a.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Riwayat perubahan data:"}),n.map(p=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:Dk(p.action)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:f(p.action),children:_k(p.action)}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:p.user_name||p.user_id})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[p.user_role,"  ",p.plant]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(p.timestamp)})]}),p.record_preview&&a.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Data: "}),p.record_preview]}),h(p.changes)]},p.id))]})]})})}function Br({isOpen:e,onClose:t,sheetName:r,recordId:n,title:s="Log Aktivitas"}){const[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(null);b.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0),d(null);try{const m=await Ek(r,n);m.success&&m.data?o(m.data):d(m.error||"Gagal memuat log aktivitas")}catch{d("Terjadi kesalahan saat memuat data")}finally{c(!1)}}},h=m=>{try{return new Date(m).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return m}},p=m=>{switch(m){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},g=m=>{const k=Ck(m);if(!k)return null;if(k.deleted_data)return a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),a.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(k.deleted_data,null,2)})]});const v=Object.entries(k);return v.length===0?null:a.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),a.jsx("div",{className:"space-y-1",children:v.map(([y,x])=>a.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[y,":"]}),a.jsx("span",{className:"text-red-500 line-through",children:String(x.old||"-")}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(x.new||"-")})]},y))})]})};return a.jsx(qe,{isOpen:e,onClose:t,title:s,size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[l&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Qh,{})}),u&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),!l&&!u&&i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-sm",children:"Belum ada log aktivitas untuk data ini"})]}),!l&&!u&&i.length>0&&a.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Riwayat perubahan data (",i.length," aktivitas):"]}),i.map(m=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:Dk(m.action)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:p(m.action),children:_k(m.action)}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.user_name||m.user_id})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[m.user_role,"  ",m.plant]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(m.timestamp)})]}),m.record_preview&&a.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Data: "}),m.record_preview]}),g(m.changes)]},m.id))]})]})})}const z_=async e=>{try{const{readData:t,updateData:r,SHEETS:n}=await Re(async()=>{const{readData:l,updateData:c,SHEETS:u}=await Promise.resolve().then(()=>Ie);return{readData:l,updateData:c,SHEETS:u}},void 0),o=((await t(n.ACTIVE_USERS)).data||[]).find(l=>l.username===e);o&&await r(n.ACTIVE_USERS,{id:o.id,status:"offline",lastActive:new Date(0).toISOString()})}catch(t){console.error("Error setting offline status:",t)}},P8=()=>{const{user:e}=nt(),[t,r]=b.useState([]),[n,s]=b.useState(!1),i=b.useCallback(async()=>{if(e)try{const{readData:u,createData:d,updateData:f,SHEETS:h}=await Re(async()=>{const{readData:v,createData:y,updateData:x,SHEETS:j}=await Promise.resolve().then(()=>Ie);return{readData:v,createData:y,updateData:x,SHEETS:j}},void 0),m=((await u(h.ACTIVE_USERS)).data||[]).find(v=>v.username===e.username),k=new Date().toISOString();m?await f(h.ACTIVE_USERS,{id:m.id,lastActive:k,status:"online"}):await d(h.ACTIVE_USERS,{username:e.username,namaLengkap:e.namaLengkap||e.nama||e.username,role:e.role,plant:e.plant,lastActive:k,status:"online"})}catch(u){console.error("Error updating active status:",u)}},[e]),o=b.useCallback(async()=>{try{const{readData:u,SHEETS:d}=await Re(async()=>{const{readData:h,SHEETS:p}=await Promise.resolve().then(()=>Ie);return{readData:h,SHEETS:p}},void 0),f=await u(d.ACTIVE_USERS);if(f.success&&f.data){const h=f.data,p=new Date().getTime(),g=45*1e3,m=h.filter(k=>{const v=new Date(k.lastActive).getTime();return p-v<g&&k.status==="online"});r(m)}}catch(u){console.error("Error fetching active users:",u)}},[]);if(b.useEffect(()=>{if(e){i(),o();const u=setInterval(i,15e3),d=setInterval(o,5e3);return()=>{clearInterval(u),clearInterval(d)}}},[e,i,o]),b.useEffect(()=>{const u=()=>{e&&e.username&&z_(e.username)},d=()=>{u()},f=()=>{document.visibilityState==="hidden"?u():document.visibilityState==="visible"&&e&&i()};return window.addEventListener("beforeunload",d),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("beforeunload",d),document.removeEventListener("visibilitychange",f)}},[e,i]),t.length===0)return null;const l=u=>{switch(u){case"admin":return"bg-red-500";case"supervisor":return"bg-blue-500";case"manager":return"bg-purple-500";case"avp":return"bg-emerald-500";default:return"bg-gray-500"}},c=u=>{switch(u){case"NPK1":return"bg-orange-500";case"NPK2":return"bg-cyan-500";case"ALL":return"bg-gradient-to-r from-orange-500 to-cyan-500";default:return"bg-gray-500"}};return a.jsx("div",{className:"bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 text-white overflow-hidden",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:a.jsxs("div",{className:"flex items-center h-8",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 bg-primary-700/50 h-full border-r border-white/20 z-10",children:[a.jsx(Xh,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-xs font-semibold whitespace-nowrap",children:["Online (",t.length,")"]})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative h-full flex items-center",children:a.jsx("div",{className:Ee("marquee-wrapper",n&&"paused"),children:a.jsx("div",{className:"marquee-inner",style:{animationDuration:`${Math.max(t.length*6,15)}s`},children:t.map(u=>a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 mx-3 bg-white/10 rounded-full backdrop-blur-sm",children:[a.jsx(HK,{className:"h-2 w-2 fill-green-400 text-green-400 animate-pulse"}),a.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:u.namaLengkap}),a.jsx("span",{className:Ee("text-[10px] px-1.5 py-0.5 rounded-full text-white font-medium uppercase",l(u.role)),children:u.role}),a.jsx("span",{className:Ee("text-[10px] px-1.5 py-0.5 rounded-full text-white font-medium",c(u.plant)),children:u.plant})]},u.username))})})})]})})},T8=[{name:"Dashboard",path:"/dashboard",icon:a.jsx(YK,{className:"h-5 w-5"})},{name:"Produksi",path:"/produksi",icon:a.jsx(Yh,{className:"h-5 w-5"}),children:[{name:"NPK Granul 1",path:"/produksi/npk1"},{name:"NPK Granul 2",path:"/produksi/npk2"},{name:"Blending",path:"/produksi/blending"},{name:"NPK Mini",path:"/produksi/npk-mini"},{name:"Retail",path:"/produksi/retail"}]},{name:"Laporan",path:"/laporan",icon:a.jsx(la,{className:"h-5 w-5"}),children:[{name:"KOP NPK1",path:"/laporan/kop-npk1"},{name:"KOP NPK2",path:"/laporan/kop-npk2"},{name:"Timesheet Forklift NPK1",path:"/laporan/timesheet-forklift-npk1"},{name:"Timesheet Forklift NPK2",path:"/laporan/timesheet-forklift-npk2"},{name:"Timesheet Loader NPK1",path:"/laporan/timesheet-loader-npk1"},{name:"Timesheet Loader NPK2",path:"/laporan/timesheet-loader-npk2"},{name:"Downtime NPK1",path:"/laporan/downtime-npk1"},{name:"Downtime NPK2",path:"/laporan/downtime-npk2"},{name:"Pemantauan BB NPK1",path:"/laporan/pemantauan-bb-npk1"},{name:"Pemantauan BB NPK2",path:"/laporan/pemantauan-bb-npk2"}]},{name:"Data",path:"/data",icon:a.jsx(WK,{className:"h-5 w-5"}),children:[{name:"Inventaris Material",path:"/data/inventaris"},{name:"Work Request NPK1",path:"/data/work-request-npk1"},{name:"Work Request NPK2",path:"/data/work-request-npk2"},{name:"Penerimaan Bahan Baku NPK1",path:"/data/bahan-baku-npk1"},{name:"Penerimaan Bahan Baku NPK2",path:"/data/bahan-baku-npk2"},{name:"Vibrasi NPK1",path:"/data/vibrasi-npk1"},{name:"Vibrasi NPK2",path:"/data/vibrasi-npk2"},{name:"Gate Pass NPK1",path:"/data/gate-pass-npk1"},{name:"Gate Pass NPK2",path:"/data/gate-pass-npk2"},{name:"Perbaikan Tahunan NPK1",path:"/data/perbaikan-tahunan-npk1"},{name:"Perbaikan Tahunan NPK2",path:"/data/perbaikan-tahunan-npk2"},{name:"Trouble Record NPK1",path:"/data/trouble-record-npk1"},{name:"Trouble Record NPK2",path:"/data/trouble-record-npk2"},{name:"Dokumentasi Foto NPK1",path:"/data/dokumentasi-foto-npk1"},{name:"Dokumentasi Foto NPK2",path:"/data/dokumentasi-foto-npk2"},{name:"Rekap BBM NPK1",path:"/data/rekap-bbm-npk1"},{name:"Rekap BBM NPK2",path:"/data/rekap-bbm-npk2"},{name:"Riksa Timb Portabel",path:"/data/riksa-timb-portabel"}]},{name:"Pengaturan",path:"/settings",icon:a.jsx(a8,{className:"h-5 w-5"}),children:[{name:"Profil",path:"/settings/akun"},{name:"RKAP",path:"/settings/rkap"},{name:"Users",path:"/settings/users"},{name:"Approval",path:"/settings/approval"}]}],A8=()=>{const e=cc(),{user:t}=nt(),[r,n]=b.useState(["Produksi","Laporan","Data","Pengaturan"]),{sidebarCollapsed:s,toggleSidebarCollapse:i,sidebarOpen:o,toggleSidebar:l,forceDesktopView:c}=ym(),[u,d]=b.useState(!1);b.useEffect(()=>{const y=()=>{d(window.innerWidth<1024&&!c)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const f=()=>{u&&o&&!c&&l()},p=(()=>{const y=t==null?void 0:t.plant,x=(t==null?void 0:t.role)||"";return T8.map(j=>{if(j.name==="Pengaturan"){if(!YE(x,y))return null;if(j.children){const w=j.children.filter(S=>S.path==="/settings/users"?JE(x,y):S.path==="/settings/rkap"?XE(x):!0);return w.length===0?null:{...j,children:w}}return j}if(j.name==="Produksi"&&j.children){let w=j.children;return y==="NPK1"?w=j.children.filter(S=>S.path==="/produksi/npk1"||S.path==="/produksi/retail"):y==="NPK2"&&(w=j.children.filter(S=>S.path==="/produksi/npk2"||S.path==="/produksi/blending"||S.path==="/produksi/npk-mini")),{...j,children:w}}if(j.name==="Laporan"&&j.children){let w=j.children;return y==="NPK1"?w=j.children.filter(S=>S.path.includes("npk1")):y==="NPK2"&&(w=j.children.filter(S=>S.path.includes("npk2"))),{...j,children:w}}if(j.name==="Data"&&j.children){let w=j.children;return y==="NPK1"?w=j.children.filter(S=>S.path.includes("npk1")):y==="NPK2"&&(w=j.children.filter(S=>S.path.includes("npk2")||S.path==="/data/riksa-timb-portabel"||S.path==="/data/inventaris")),{...j,children:w}}return j}).filter(Boolean)})(),g=y=>{n(x=>x.includes(y)?x.filter(j=>j!==y):[...x,y])},m=y=>e.pathname===y,k=y=>y.children?y.children.some(x=>e.pathname===x.path):e.pathname===y.path,v=u&&!c;return a.jsxs(a.Fragment,{children:[v&&o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:l}),a.jsxs("aside",{className:Ee("fixed left-0 top-0 z-50 h-screen bg-white dark:bg-dark-800 border-r border-dark-100 dark:border-dark-700 transition-all duration-300",v?o?"translate-x-0 w-64":"-translate-x-full w-64":s?"w-20":"w-64"),children:[a.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-dark-100 dark:border-dark-700",children:[(!s||v)&&a.jsxs(Zg,{to:"/dashboard",className:"flex items-center gap-3",onClick:f,children:[a.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-9 w-9"}),a.jsx("span",{className:"font-display font-bold text-dark-900 dark:text-white",children:"Plantiffy"}),a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400",children:"v2.3.5"})]}),!v&&a.jsx("button",{onClick:i,className:"p-2 text-dark-500 dark:text-dark-400 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:s?a.jsx(Ok,{className:"h-5 w-5"}):a.jsx(Ak,{className:"h-5 w-5"})}),v&&a.jsx("button",{onClick:l,className:"p-2 text-dark-500 dark:text-dark-400 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(Kn,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"p-4 space-y-1 overflow-y-auto h-[calc(100vh-4rem)]",children:p.map(y=>a.jsx("div",{children:y.children?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>(!s||v)&&g(y.name),className:Ee("w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200",k(y)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700 hover:text-dark-900 dark:hover:text-white"),children:[y.icon,(!s||v)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"flex-1 text-left",children:y.name}),a.jsx(Em,{className:Ee("h-4 w-4 transition-transform duration-200",r.includes(y.name)&&"rotate-180")})]})]}),(!s||v)&&a.jsx(ui,{children:r.includes(y.name)&&a.jsx(lr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsx("div",{className:"pl-12 py-1 space-y-1",children:y.children.map(x=>a.jsx(Zg,{to:x.path,onClick:f,className:Ee("block px-4 py-2 text-sm rounded-lg transition-colors",m(x.path)?"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-400 font-medium":"text-dark-500 dark:text-dark-400 hover:text-dark-900 dark:hover:text-white hover:bg-dark-50 dark:hover:bg-dark-700"),children:x.name},x.path))})})})]}):a.jsxs(Zg,{to:y.path,onClick:f,className:Ee("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200",m(y.path)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 shadow-sm":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700 hover:text-dark-900 dark:hover:text-white"),children:[y.icon,(!s||v)&&a.jsx("span",{children:y.name})]})},y.name))})]})]})},O8=()=>{const e=Jd(),{user:t,logout:r}=nt(),{sidebarCollapsed:n,toggleSidebar:s,darkMode:i,toggleDarkMode:o,forceDesktopView:l,toggleForceDesktopView:c}=ym(),{notifications:u,unreadCount:d,markAsRead:f,markAllAsRead:h,setNotifications:p}=KI(),{isOpen:g,toggleChat:m,unreadChatCount:k,setUnreadChatCount:v}=Bh(),[y,x]=b.useState(!1),[j,w]=b.useState(!1),S=b.useRef(null),[N,T]=b.useState(!1),[A,F]=b.useState(!1),[$,O]=b.useState(null),_=V=>{z(V.id),V.sheetName&&V.recordId&&(O(V),F(!0),w(!1))};b.useEffect(()=>{const V=()=>{const R=window.innerWidth<1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);T(R)};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]);const z=async V=>{try{f(V);const{updateData:R,SHEETS:B}=await Re(async()=>{const{updateData:I,SHEETS:U}=await Promise.resolve().then(()=>Ie);return{updateData:I,SHEETS:U}},void 0);await R(B.NOTIFICATIONS,{id:V,read:!0})}catch(R){console.error("Error marking notification as read:",R)}},J=async()=>{try{h();const{updateData:V,SHEETS:R}=await Re(async()=>{const{updateData:I,SHEETS:U}=await Promise.resolve().then(()=>Ie);return{updateData:I,SHEETS:U}},void 0),B=u.filter(I=>!I.read);for(const I of B)await V(R.NOTIFICATIONS,{id:I.id,read:!0})}catch(V){console.error("Error marking all notifications as read:",V)}};b.useEffect(()=>{const V=async()=>{try{const{readData:R,SHEETS:B}=await Re(async()=>{const{readData:U,SHEETS:ee}=await Promise.resolve().then(()=>Ie);return{readData:U,SHEETS:ee}},void 0),I=await R(B.NOTIFICATIONS);if(I.success&&I.data){const ee=I.data.filter(H=>H.fromUser===(t==null?void 0:t.username)?!1:H.toUser==="ALL"||H.toUser===(t==null?void 0:t.username)||H.fromPlant===(t==null?void 0:t.plant)).sort((H,oe)=>new Date(oe.timestamp).getTime()-new Date(H.timestamp).getTime());p(ee)}}catch(R){console.error("Error loading notifications:",R)}};if(t){V();const R=setInterval(V,1e4);return()=>clearInterval(R)}},[t,p]),b.useEffect(()=>{const V=async()=>{if(t)try{const{readData:R,SHEETS:B}=await Re(async()=>{const{readData:U,SHEETS:ee}=await Promise.resolve().then(()=>Ie);return{readData:U,SHEETS:ee}},void 0),I=await R(B.CHAT_MESSAGES);if(I.success&&I.data){const U=I.data,ee=[...U].sort((xe,ve)=>new Date(xe.timestamp).getTime()-new Date(ve.timestamp).getTime()),{setMessages:H,setLastFetchTimestamp:oe}=Bh.getState();H(ee),oe(new Date().toISOString());const ue=`chat_last_read_${t.username}`,de=localStorage.getItem(ue),ye=de?new Date(de).getTime():0,be=t.namaLengkap||t.nama||t.username,fe=U.filter(xe=>xe.sender===be?!1:new Date(xe.timestamp).getTime()>ye).length;v(fe)}}catch(R){console.error("Error loading chat messages:",R)}};if(t){V();const R=setInterval(V,3e3);return()=>clearInterval(R)}},[t,v]),b.useEffect(()=>{const V=R=>{S.current&&!S.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const Z=async()=>{t&&t.username&&await z_(t.username),r(),e("/login")};return a.jsxs("header",{className:Ee("fixed top-8 right-0 z-30 h-16 bg-white/80 dark:bg-dark-800/80 backdrop-blur-md border-b border-dark-100 dark:border-dark-700 transition-all duration-300",l?"left-64":"left-0 lg:left-64",n&&(l?"left-20":"lg:left-20")),children:[a.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[!l&&a.jsx("button",{onClick:s,className:"lg:hidden p-2 text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700 rounded-lg",children:a.jsx(QK,{className:"h-5 w-5"})}),a.jsx("div",{className:l?"block":"hidden lg:block"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[N&&a.jsx("button",{onClick:c,className:Ee("p-2 rounded-lg transition-colors",l?"bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-400":"text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),title:l?"Tampilan HP":"Tampilan Desktop",children:l?a.jsx(N_,{className:"h-5 w-5"}):a.jsx(e8,{className:"h-5 w-5"})}),a.jsx("button",{onClick:o,className:Ee("p-2 rounded-lg transition-colors","text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),title:i?"Switch to Light Mode":"Switch to Dark Mode",children:i?a.jsx(s8,{className:"h-5 w-5"}):a.jsx(t8,{className:"h-5 w-5"})}),a.jsxs("button",{onClick:m,className:Ee("relative p-2 rounded-lg transition-colors",g?"bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-400":"text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),children:[a.jsx(Tv,{className:"h-5 w-5"}),k>0&&!g&&a.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 text-white text-[10px] font-medium rounded-full flex items-center justify-center",children:k>9?"9+":k})]}),a.jsxs("div",{className:"relative",ref:S,children:[a.jsxs("button",{onClick:()=>w(!j),className:Ee("relative p-2 rounded-lg transition-colors",j?"bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-400":"text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),children:[a.jsx(qh,{className:"h-5 w-5"}),d>0&&a.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 text-white text-[10px] font-medium rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),a.jsx(ui,{children:j&&a.jsxs(lr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-dark-800 rounded-xl shadow-lg border border-dark-100 dark:border-dark-700 z-50 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi"}),d>0&&a.jsx("button",{onClick:J,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Tandai semua dibaca"})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length===0?a.jsxs("div",{className:"px-4 py-8 text-center text-dark-400",children:[a.jsx(qh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):u.slice(0,10).map(V=>a.jsx("div",{className:Ee("px-4 py-3 border-b border-dark-50 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-700 transition-colors",!V.read&&"bg-primary-50 dark:bg-primary-900/30"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:Ee("mt-1 h-2 w-2 rounded-full flex-shrink-0",V.read?"bg-dark-300 dark:bg-dark-500":"bg-primary-500")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-dark-700 dark:text-dark-200 line-clamp-2",children:V.message}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-dark-400",children:GE(V.timestamp)}),a.jsxs("div",{className:"flex items-center gap-2",children:[V.sheetName&&V.recordId&&a.jsxs("button",{onClick:()=>_(V),className:"flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[a.jsx(Ni,{className:"h-3 w-3"}),"Lihat Log"]}),!V.read&&a.jsx("button",{onClick:()=>z(V.id),className:"text-xs text-dark-500 hover:text-dark-700 dark:text-dark-400 dark:hover:text-dark-200",children:"Tandai dibaca"})]})]})]})]})},V.id))})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-3 px-3 py-2 hover:bg-dark-50 dark:hover:bg-dark-700 rounded-xl transition-colors",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:a.jsx(_l,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-dark-900 dark:text-white",children:t==null?void 0:t.namaLengkap}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 capitalize",children:t==null?void 0:t.role})]}),a.jsx(Em,{className:"h-4 w-4 text-dark-400"})]}),a.jsx(ui,{children:y&&a.jsxs(lr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-800 rounded-xl shadow-lg border border-dark-100 dark:border-dark-700 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-dark-100 dark:border-dark-700",children:[a.jsx("p",{className:"text-sm font-medium text-dark-900 dark:text-white",children:t==null?void 0:t.namaLengkap}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Te,{variant:"primary",size:"sm",children:t==null?void 0:t.role}),a.jsx(Te,{variant:"info",size:"sm",children:t==null?void 0:t.plant})]})]}),a.jsxs("button",{onClick:Z,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(XK,{className:"h-4 w-4"}),"Keluar"]})]})})]})]})]}),a.jsx(N8,{isVisible:A,onClose:()=>{F(!1),O(null)},notification:$})]})},E8=()=>{const{user:e}=nt(),{messages:t,isOpen:r,toggleChat:n,addOptimisticMessage:s,removeOptimisticMessage:i,setMessages:o,setUnreadChatCount:l}=Bh(),[c,u]=b.useState(""),[d,f]=b.useState(!1),h=b.useRef(null),p=b.useRef(null),[g,m]=b.useState(!1),k=b.useRef(0),[v,y]=b.useState(null),[x,j]=b.useState(null),w=b.useRef(null),S=b.useRef(null);b.useEffect(()=>{const B=I=>{S.current&&!S.current.contains(I.target)&&y(null)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const N=()=>{const B=p.current;return B?B.scrollHeight-B.scrollTop-B.clientHeight<100:!0},T=()=>{m(!N())},A=(B="smooth")=>{var I;(I=h.current)==null||I.scrollIntoView({behavior:B})};b.useEffect(()=>{if(r&&e){const B=`chat_last_read_${e.username}`,I=new Date().toISOString();localStorage.setItem(B,I),l(0),setTimeout(()=>A("auto"),100)}},[r,e,l]),b.useEffect(()=>{if(r&&e&&t.length>0){const B=`chat_last_read_${e.username}`;localStorage.setItem(B,new Date().toISOString())}},[r,e,t.length]),b.useEffect(()=>{const B=t.length>k.current;k.current=t.length,B&&!g&&A()},[t,g]),b.useEffect(()=>{if(r){const B=setInterval(F,3e3);return()=>clearInterval(B)}},[r]);const F=async()=>{try{const{readData:B,SHEETS:I}=await Re(async()=>{const{readData:ee,SHEETS:H}=await Promise.resolve().then(()=>Ie);return{readData:ee,SHEETS:H}},void 0),U=await B(I.CHAT_MESSAGES);if(U.success&&U.data){const ee=[...U.data].sort((H,oe)=>new Date(H.timestamp).getTime()-new Date(oe.timestamp).getTime());o(ee)}}catch(B){console.error("Error fetching messages:",B)}},$=(B,I,U)=>{U&&(B.preventDefault(),y({visible:!0,x:B.clientX,y:B.clientY,messageId:I.id,messageText:I.message}))},O=(B,I)=>{I&&(w.current=setTimeout(()=>{y({visible:!0,x:window.innerWidth/2,y:window.innerHeight-200,messageId:B.id,messageText:B.message})},500))},_=()=>{w.current&&(clearTimeout(w.current),w.current=null)},z=async()=>{if(!(!x||!x.text.trim()))try{const{updateData:B,SHEETS:I}=await Re(async()=>{const{updateData:U,SHEETS:ee}=await Promise.resolve().then(()=>Ie);return{updateData:U,SHEETS:ee}},void 0);await B(I.CHAT_MESSAGES,{id:x.id,message:x.text.trim(),edited:!0}),o(t.map(U=>U.id===x.id?{...U,message:x.text.trim(),edited:!0}:U)),j(null)}catch(B){console.error("Error editing message:",B)}},J=async B=>{try{const{deleteData:I,SHEETS:U}=await Re(async()=>{const{deleteData:ee,SHEETS:H}=await Promise.resolve().then(()=>Ie);return{deleteData:ee,SHEETS:H}},void 0);await I(U.CHAT_MESSAGES,B),o(t.filter(ee=>ee.id!==B)),y(null)}catch(I){console.error("Error deleting message:",I)}},Z=()=>{v&&(j({id:v.messageId,text:v.messageText}),y(null))},V=async()=>{if(!c.trim()||!e)return;const B=e.namaLengkap||e.nama||e.username,I=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,U=new Date().toISOString(),ee=c.trim(),H={id:I,sender:B,role:e.role,message:ee,timestamp:U};s(H),u("");const oe=`chat_last_read_${e.username}`;localStorage.setItem(oe,U);try{const{createData:ue,SHEETS:de}=await Re(async()=>{const{createData:fe,SHEETS:xe}=await Promise.resolve().then(()=>Ie);return{createData:fe,SHEETS:xe}},void 0),ye={sender:B,role:e.role,message:ee,timestamp:U};(await ue(de.CHAT_MESSAGES,ye)).success||(i(I),console.error("Failed to send message"))}catch(ue){i(I),console.error("Error sending message:",ue)}},R=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),x?z():V()),B.key==="Escape"&&x&&j(null)};return r?a.jsxs(lr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"fixed left-4 bottom-4 z-50 w-80 bg-white dark:bg-dark-800 rounded-2xl shadow-2xl border border-dark-100 dark:border-dark-700 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-primary-600 to-primary-500 text-white flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tv,{className:"h-5 w-5"}),a.jsx("span",{className:"font-semibold",children:"Chat Tim"})]}),a.jsx("button",{onClick:n,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(Kn,{className:"h-4 w-4"})})]}),(v==null?void 0:v.visible)&&a.jsxs("div",{ref:S,className:"fixed z-[100] bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-200 dark:border-dark-600 py-2 min-w-[140px]",style:{left:Math.min(v.x,window.innerWidth-160),top:Math.min(v.y,window.innerHeight-100)},children:[a.jsxs("button",{onClick:Z,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-dark-700 dark:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[a.jsx(xx,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>J(v.messageId),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Mt,{className:"h-4 w-4"}),"Hapus"]})]}),a.jsxs("div",{ref:p,onScroll:T,className:"h-80 overflow-y-auto p-4 space-y-3 bg-dark-50 dark:bg-dark-900",children:[t.length===0?a.jsxs("div",{className:"text-center text-dark-400 py-8",children:[a.jsx(Tv,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Belum ada pesan"})]}):t.map((B,I)=>{const U=B.sender===((e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||(e==null?void 0:e.username));return a.jsx("div",{className:Ee("flex",U?"justify-end":"justify-start"),children:a.jsxs("div",{onContextMenu:ee=>$(ee,B,U),onTouchStart:()=>O(B,U),onTouchEnd:_,onTouchMove:_,className:Ee("max-w-[80%] rounded-2xl px-4 py-2 select-none",U?"bg-primary-500 text-white rounded-br-md cursor-pointer":"bg-white dark:bg-dark-800 text-dark-700 dark:text-dark-200 rounded-bl-md shadow-sm"),children:[a.jsxs("p",{className:Ee("text-xs font-medium mb-1",U?"text-white/90":"text-primary-600 dark:text-primary-400"),children:[B.sender,a.jsxs("span",{className:Ee("ml-1 font-normal capitalize",U?"text-white/70":"text-dark-400"),children:["(",B.role,")"]})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:B.message}),a.jsxs("p",{className:Ee("text-[10px] mt-1 flex items-center gap-1",U?"text-white/70":"text-dark-400"),children:[new Date(B.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),B.edited&&a.jsx("span",{className:"italic",children:"(diedit)"})]})]})},B.id||I)}),a.jsx("div",{ref:h})]}),x&&a.jsxs("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/30 border-t border-amber-200 dark:border-amber-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-300",children:[a.jsx(xx,{className:"h-4 w-4"}),a.jsx("span",{children:"Mengedit pesan"})]}),a.jsx("button",{onClick:()=>j(null),className:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:a.jsx(Kn,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"p-3 border-t border-dark-100 dark:border-dark-700 bg-white dark:bg-dark-800",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:x?x.text:c,onChange:B=>x?j({...x,text:B.target.value}):u(B.target.value),onKeyDown:R,placeholder:x?"Edit pesan...":"Ketik pesan...",className:Ee("flex-1 px-4 py-2 bg-dark-50 dark:bg-dark-900 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:border-transparent text-dark-900 dark:text-dark-100",x?"border-amber-300 dark:border-amber-600 focus:ring-amber-500":"border-dark-100 dark:border-dark-600 focus:ring-primary-500")}),a.jsx("button",{onClick:x?z:V,disabled:x?!x.text.trim():!c.trim()||d,className:Ee("p-2 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors",x?"bg-amber-500 hover:bg-amber-600":"bg-primary-500 hover:bg-primary-600"),children:x?a.jsx(xx,{className:"h-4 w-4"}):a.jsx(j_,{className:"h-4 w-4"})})]})})]}):null},C8=({children:e})=>{const{sidebarCollapsed:t,darkMode:r,forceDesktopView:n}=ym(),{isOpen:s}=Bh();return b.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),b.useEffect(()=>{n?document.documentElement.classList.add("force-desktop"):document.documentElement.classList.remove("force-desktop")},[n]),a.jsxs("div",{className:Ee("min-h-screen bg-dark-50 dark:bg-dark-900 transition-colors duration-300",n&&"force-desktop-view"),children:[a.jsx("div",{className:Ee("fixed top-0 right-0 z-40 transition-all duration-300",n?"left-64":"left-0 lg:left-64",t&&(n?"left-20":"lg:left-20")),children:a.jsx(P8,{})}),a.jsx(A8,{}),a.jsx(O8,{}),a.jsx("main",{className:Ee("pt-24 min-h-screen transition-all duration-300",n?"pl-64":"pl-0 lg:pl-64",t&&(n?"pl-20":"lg:pl-20")),children:a.jsx("div",{className:"p-4 lg:p-6",children:e||a.jsx(XR,{})})}),a.jsx(ui,{children:s&&a.jsx(E8,{})})]})},_8=()=>{const e=Jd(),{login:t}=nt(),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(""),h=async p=>{p.preventDefault(),f(""),u(!0);try{const g=await A_(r.trim(),s);if(g.success&&g.data){const m=g.data.user,k=g.data.session,v=wL("device");t(m,k.id,v),e("/dashboard")}else f(g.error||"Username atau password salah")}catch(g){console.error("Login error:",g),f("Terjadi kesalahan. Silakan coba lagi.")}finally{u(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-900 via-primary-800 to-dark-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/20 rounded-full blur-3xl"})]}),a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(lr.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center h-16 w-16 rounded-2xl bg-gradient-to-br from-primary-500 to-primary-600 shadow-lg shadow-primary-500/50 mb-4",children:a.jsx(Yh,{className:"h-8 w-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-display font-bold text-white",children:"NPK Production"}),a.jsx("p",{className:"text-primary-200 mt-1",children:"Management System"})]}),a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-6 text-center",children:"Selamat Datang"}),a.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-primary-100",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(_l,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder:text-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent transition-all",placeholder:"Masukkan username",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-primary-100",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pv,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx("input",{type:o?"text":"password",value:s,onChange:p=>i(p.target.value),className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder:text-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent transition-all",placeholder:"Masukkan password",required:!0}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 hover:text-white transition-colors",children:o?a.jsx(GK,{className:"h-5 w-5"}):a.jsx(Ni,{className:"h-5 w-5"})})]})]}),d&&a.jsx(lr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm text-center",children:d}),a.jsx(ce,{type:"submit",className:"w-full py-3",isLoading:c,children:"Masuk"})]})]}),a.jsx("p",{className:"text-center text-primary-300 text-sm mt-6",children:" 2025 NPK Production Management System"})]})]})};var D8=Array.isArray,dn=D8,M8=typeof pf=="object"&&pf&&pf.Object===Object&&pf,V_=M8,$8=V_,R8=typeof self=="object"&&self&&self.Object===Object&&self,I8=$8||R8||Function("return this")(),Na=I8,L8=Na,B8=L8.Symbol,rf=B8,WS=rf,U_=Object.prototype,F8=U_.hasOwnProperty,K8=U_.toString,Lc=WS?WS.toStringTag:void 0;function z8(e){var t=F8.call(e,Lc),r=e[Lc];try{e[Lc]=void 0;var n=!0}catch{}var s=K8.call(e);return n&&(t?e[Lc]=r:delete e[Lc]),s}var V8=z8,U8=Object.prototype,H8=U8.toString;function W8(e){return H8.call(e)}var G8=W8,GS=rf,q8=V8,Y8=G8,J8="[object Null]",X8="[object Undefined]",qS=GS?GS.toStringTag:void 0;function Q8(e){return e==null?e===void 0?X8:J8:qS&&qS in Object(e)?q8(e):Y8(e)}var ns=Q8;function Z8(e){return e!=null&&typeof e=="object"}var as=Z8,ez=ns,tz=as,rz="[object Symbol]";function nz(e){return typeof e=="symbol"||tz(e)&&ez(e)==rz}var fc=nz,az=dn,sz=fc,iz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oz=/^\w*$/;function lz(e,t){if(az(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sz(e)?!0:oz.test(e)||!iz.test(e)||t!=null&&e in Object(t)}var Mk=lz;function cz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pi=cz;const hc=ft(Pi);var uz=ns,dz=Pi,fz="[object AsyncFunction]",hz="[object Function]",pz="[object GeneratorFunction]",mz="[object Proxy]";function gz(e){if(!dz(e))return!1;var t=uz(e);return t==hz||t==pz||t==fz||t==mz}var $k=gz;const Ve=ft($k);var xz=Na,vz=xz["__core-js_shared__"],yz=vz,yx=yz,YS=function(){var e=/[^.]+$/.exec(yx&&yx.keys&&yx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bz(e){return!!YS&&YS in e}var kz=bz,wz=Function.prototype,jz=wz.toString;function Sz(e){if(e!=null){try{return jz.call(e)}catch{}try{return e+""}catch{}}return""}var H_=Sz,Nz=$k,Pz=kz,Tz=Pi,Az=H_,Oz=/[\\^$.*+?()[\]{}|]/g,Ez=/^\[object .+?Constructor\]$/,Cz=Function.prototype,_z=Object.prototype,Dz=Cz.toString,Mz=_z.hasOwnProperty,$z=RegExp("^"+Dz.call(Mz).replace(Oz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rz(e){if(!Tz(e)||Pz(e))return!1;var t=Nz(e)?$z:Ez;return t.test(Az(e))}var Iz=Rz;function Lz(e,t){return e==null?void 0:e[t]}var Bz=Lz,Fz=Iz,Kz=Bz;function zz(e,t){var r=Kz(e,t);return Fz(r)?r:void 0}var Po=zz,Vz=Po,Uz=Vz(Object,"create"),_m=Uz,JS=_m;function Hz(){this.__data__=JS?JS(null):{},this.size=0}var Wz=Hz;function Gz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qz=Gz,Yz=_m,Jz="__lodash_hash_undefined__",Xz=Object.prototype,Qz=Xz.hasOwnProperty;function Zz(e){var t=this.__data__;if(Yz){var r=t[e];return r===Jz?void 0:r}return Qz.call(t,e)?t[e]:void 0}var e7=Zz,t7=_m,r7=Object.prototype,n7=r7.hasOwnProperty;function a7(e){var t=this.__data__;return t7?t[e]!==void 0:n7.call(t,e)}var s7=a7,i7=_m,o7="__lodash_hash_undefined__";function l7(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i7&&t===void 0?o7:t,this}var c7=l7,u7=Wz,d7=qz,f7=e7,h7=s7,p7=c7;function pc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pc.prototype.clear=u7;pc.prototype.delete=d7;pc.prototype.get=f7;pc.prototype.has=h7;pc.prototype.set=p7;var m7=pc;function g7(){this.__data__=[],this.size=0}var x7=g7;function v7(e,t){return e===t||e!==e&&t!==t}var Rk=v7,y7=Rk;function b7(e,t){for(var r=e.length;r--;)if(y7(e[r][0],t))return r;return-1}var Dm=b7,k7=Dm,w7=Array.prototype,j7=w7.splice;function S7(e){var t=this.__data__,r=k7(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():j7.call(t,r,1),--this.size,!0}var N7=S7,P7=Dm;function T7(e){var t=this.__data__,r=P7(t,e);return r<0?void 0:t[r][1]}var A7=T7,O7=Dm;function E7(e){return O7(this.__data__,e)>-1}var C7=E7,_7=Dm;function D7(e,t){var r=this.__data__,n=_7(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var M7=D7,$7=x7,R7=N7,I7=A7,L7=C7,B7=M7;function mc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mc.prototype.clear=$7;mc.prototype.delete=R7;mc.prototype.get=I7;mc.prototype.has=L7;mc.prototype.set=B7;var Mm=mc,F7=Po,K7=Na,z7=F7(K7,"Map"),Ik=z7,XS=m7,V7=Mm,U7=Ik;function H7(){this.size=0,this.__data__={hash:new XS,map:new(U7||V7),string:new XS}}var W7=H7;function G7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var q7=G7,Y7=q7;function J7(e,t){var r=e.__data__;return Y7(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $m=J7,X7=$m;function Q7(e){var t=X7(this,e).delete(e);return this.size-=t?1:0,t}var Z7=Q7,eV=$m;function tV(e){return eV(this,e).get(e)}var rV=tV,nV=$m;function aV(e){return nV(this,e).has(e)}var sV=aV,iV=$m;function oV(e,t){var r=iV(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var lV=oV,cV=W7,uV=Z7,dV=rV,fV=sV,hV=lV;function gc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gc.prototype.clear=cV;gc.prototype.delete=uV;gc.prototype.get=dV;gc.prototype.has=fV;gc.prototype.set=hV;var Lk=gc,W_=Lk,pV="Expected a function";function Bk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pV);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Bk.Cache||W_),r}Bk.Cache=W_;var G_=Bk;const mV=ft(G_);var gV=G_,xV=500;function vV(e){var t=gV(e,function(n){return r.size===xV&&r.clear(),n}),r=t.cache;return t}var yV=vV,bV=yV,kV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wV=/\\(\\)?/g,jV=bV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kV,function(r,n,s,i){t.push(s?i.replace(wV,"$1"):n||r)}),t}),SV=jV;function NV(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Fk=NV,QS=rf,PV=Fk,TV=dn,AV=fc,ZS=QS?QS.prototype:void 0,eN=ZS?ZS.toString:void 0;function q_(e){if(typeof e=="string")return e;if(TV(e))return PV(e,q_)+"";if(AV(e))return eN?eN.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var OV=q_,EV=OV;function CV(e){return e==null?"":EV(e)}var Y_=CV,_V=dn,DV=Mk,MV=SV,$V=Y_;function RV(e,t){return _V(e)?e:DV(e,t)?[e]:MV($V(e))}var J_=RV,IV=fc;function LV(e){if(typeof e=="string"||IV(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rm=LV,BV=J_,FV=Rm;function KV(e,t){t=BV(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FV(t[r++])];return r&&r==n?e:void 0}var Kk=KV,zV=Kk;function VV(e,t,r){var n=e==null?void 0:zV(e,t);return n===void 0?r:n}var X_=VV;const kn=ft(X_);function UV(e){return e==null}var HV=UV;const He=ft(HV);var WV=ns,GV=dn,qV=as,YV="[object String]";function JV(e){return typeof e=="string"||!GV(e)&&qV(e)&&WV(e)==YV}var XV=JV;const go=ft(XV);var Q_={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk=Symbol.for("react.element"),Vk=Symbol.for("react.portal"),Im=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),Fm=Symbol.for("react.provider"),Km=Symbol.for("react.context"),QV=Symbol.for("react.server_context"),zm=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Um=Symbol.for("react.suspense_list"),Hm=Symbol.for("react.memo"),Wm=Symbol.for("react.lazy"),ZV=Symbol.for("react.offscreen"),Z_;Z_=Symbol.for("react.module.reference");function Vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zk:switch(e=e.type,e){case Im:case Bm:case Lm:case Vm:case Um:return e;default:switch(e=e&&e.$$typeof,e){case QV:case Km:case zm:case Wm:case Hm:case Fm:return e;default:return t}}case Vk:return t}}}pt.ContextConsumer=Km;pt.ContextProvider=Fm;pt.Element=zk;pt.ForwardRef=zm;pt.Fragment=Im;pt.Lazy=Wm;pt.Memo=Hm;pt.Portal=Vk;pt.Profiler=Bm;pt.StrictMode=Lm;pt.Suspense=Vm;pt.SuspenseList=Um;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(e){return Vn(e)===Km};pt.isContextProvider=function(e){return Vn(e)===Fm};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zk};pt.isForwardRef=function(e){return Vn(e)===zm};pt.isFragment=function(e){return Vn(e)===Im};pt.isLazy=function(e){return Vn(e)===Wm};pt.isMemo=function(e){return Vn(e)===Hm};pt.isPortal=function(e){return Vn(e)===Vk};pt.isProfiler=function(e){return Vn(e)===Bm};pt.isStrictMode=function(e){return Vn(e)===Lm};pt.isSuspense=function(e){return Vn(e)===Vm};pt.isSuspenseList=function(e){return Vn(e)===Um};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Im||e===Bm||e===Lm||e===Vm||e===Um||e===ZV||typeof e=="object"&&e!==null&&(e.$$typeof===Wm||e.$$typeof===Hm||e.$$typeof===Fm||e.$$typeof===Km||e.$$typeof===zm||e.$$typeof===Z_||e.getModuleId!==void 0)};pt.typeOf=Vn;Q_.exports=pt;var e9=Q_.exports,t9=ns,r9=as,n9="[object Number]";function a9(e){return typeof e=="number"||r9(e)&&t9(e)==n9}var e4=a9;const s9=ft(e4);var i9=e4;function o9(e){return i9(e)&&e!=+e}var l9=o9;const nf=ft(l9);var Yr=function(t){return t===0?0:t>0?1:-1},Zi=function(t){return go(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return s9(t)&&!nf(t)},c9=function(t){return He(t)},dr=function(t){return Ne(t)||go(t)},u9=0,xc=function(t){var r=++u9;return"".concat(t||"").concat(r)},Jr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!go(t))return n;var i;if(Zi(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return nf(i)&&(i=n),s&&i>r&&(i=r),i},qs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},d9=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},xn=function(t,r){return Ne(t)&&Ne(r)?function(n){return t+n*(r-t)}:function(){return r}};function ep(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):kn(n,t))===r})}var f9=function(t,r){return Ne(t)&&Ne(r)?t-r:go(t)&&go(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function xl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var h9=["viewBox","children"],p9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tN=["points","pathLength"],bx={svg:h9,polygon:tN,polyline:tN},Uk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!hc(n))return null;var s={};return Object.keys(n).forEach(function(i){Uk.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},m9=function(t,r,n){return function(s){return t(r,n,s),null}},xo=function(t,r,n){if(!hc(t)||Av(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Uk.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=m9(o,r,n))}),s},g9=["children"],x9=["children"];function rN(e,t){if(e==null)return{};var r=v9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}var nN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ha=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aN=null,kx=null,Hk=function e(t){if(t===aN&&Array.isArray(kx))return kx;var r=[];return b.Children.forEach(t,function(n){He(n)||(e9.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kx=r,aN=t,r};function wn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ha(s)}):n=[Ha(t)],Hk(e).forEach(function(s){var i=kn(s,"type.displayName")||kn(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function gn(e,t){var r=wn(e,t);return r&&r[0]}var sN=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Ne(n)||n<=0||!Ne(s)||s<=0)},y9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],b9=function(t){return t&&t.type&&go(t.type)&&y9.indexOf(t.type)>=0},k9=function(t){return t&&Ov(t)==="object"&&"clipDot"in t},w9=function(t,r,n,s){var i,o=(i=bx==null?void 0:bx[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ve(t)&&(s&&o.includes(r)||p9.includes(r))||n&&Uk.includes(r)},Le=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!hc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;w9((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},Ev=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iN(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!iN(i,o))return!1}return!0},iN=function(t,r){if(He(t)&&He(r))return!0;if(!He(t)&&!He(r)){var n=t.props||{},s=n.children,i=rN(n,g9),o=r.props||{},l=o.children,c=rN(o,x9);return s&&l?xl(i,c)&&Ev(s,l):!s&&!l?xl(i,c):!1}return!1},oN=function(t,r){var n=[],s={};return Hk(t).forEach(function(i,o){if(b9(i))n.push(i);else if(i){var l=Ha(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},j9=function(t){var r=t&&t.type;return r&&nN[r]?nN[r]:null},S9=function(t,r){return Hk(r).indexOf(t)},N9=["children","width","height","viewBox","className","style","title","desc"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(this,arguments)}function P9(e,t){if(e==null)return{};var r=T9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _v(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=P9(e,N9),d=s||{width:r,height:n,x:0,y:0},f=We("recharts-surface",i);return re.createElement("svg",Cv({},Le(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),re.createElement("title",null,l),re.createElement("desc",null,c),t)}var A9=["children","className"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function O9(e,t){if(e==null)return{};var r=E9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ct=re.forwardRef(function(e,t){var r=e.children,n=e.className,s=O9(e,A9),i=We("recharts-layer",n);return re.createElement("g",Dv({className:i},Le(s,!0),{ref:t}),r)}),sa=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function C9(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var _9=C9,D9=_9;function M9(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:D9(e,t,r)}var $9=M9,R9="\\ud800-\\udfff",I9="\\u0300-\\u036f",L9="\\ufe20-\\ufe2f",B9="\\u20d0-\\u20ff",F9=I9+L9+B9,K9="\\ufe0e\\ufe0f",z9="\\u200d",V9=RegExp("["+z9+R9+F9+K9+"]");function U9(e){return V9.test(e)}var t4=U9;function H9(e){return e.split("")}var W9=H9,r4="\\ud800-\\udfff",G9="\\u0300-\\u036f",q9="\\ufe20-\\ufe2f",Y9="\\u20d0-\\u20ff",J9=G9+q9+Y9,X9="\\ufe0e\\ufe0f",Q9="["+r4+"]",Mv="["+J9+"]",$v="\\ud83c[\\udffb-\\udfff]",Z9="(?:"+Mv+"|"+$v+")",n4="[^"+r4+"]",a4="(?:\\ud83c[\\udde6-\\uddff]){2}",s4="[\\ud800-\\udbff][\\udc00-\\udfff]",eU="\\u200d",i4=Z9+"?",o4="["+X9+"]?",tU="(?:"+eU+"(?:"+[n4,a4,s4].join("|")+")"+o4+i4+")*",rU=o4+i4+tU,nU="(?:"+[n4+Mv+"?",Mv,a4,s4,Q9].join("|")+")",aU=RegExp($v+"(?="+$v+")|"+nU+rU,"g");function sU(e){return e.match(aU)||[]}var iU=sU,oU=W9,lU=t4,cU=iU;function uU(e){return lU(e)?cU(e):oU(e)}var dU=uU,fU=$9,hU=t4,pU=dU,mU=Y_;function gU(e){return function(t){t=mU(t);var r=hU(t)?pU(t):void 0,n=r?r[0]:t.charAt(0),s=r?fU(r,1).join(""):t.slice(1);return n[e]()+s}}var xU=gU,vU=xU,yU=vU("toUpperCase"),bU=yU;const Gm=ft(bU);function kt(e){return function(){return e}}const l4=Math.cos,rp=Math.sin,ca=Math.sqrt,np=Math.PI,qm=2*np,Rv=Math.PI,Iv=2*Rv,Ki=1e-6,kU=Iv-Ki;function c4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class jU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c4:wU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ki)if(!(Math.abs(f*c-u*d)>Ki)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,k=p*p+g*g,v=Math.sqrt(m),y=Math.sqrt(h),x=i*Math.tan((Rv-Math.acos((m+h-k)/(2*v*y)))/2),j=x/y,w=x/v;Math.abs(j-1)>Ki&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ki||Math.abs(this._y1-d)>Ki)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Iv+Iv),h>kU?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ki&&this._append`A${n},${n},0,${+(h>=Rv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Wk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jU(t)}function Gk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u4(e){this._context=e}u4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ym(e){return new u4(e)}function d4(e){return e[0]}function f4(e){return e[1]}function h4(e,t){var r=kt(!0),n=null,s=Ym,i=null,o=Wk(l);e=typeof e=="function"?e:e===void 0?d4:kt(e),t=typeof t=="function"?t:t===void 0?f4:kt(t);function l(c){var u,d=(c=Gk(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:kt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:kt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:kt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Rf(e,t,r){var n=null,s=kt(!0),i=null,o=Ym,l=null,c=Wk(u);e=typeof e=="function"?e:e===void 0?d4:kt(+e),t=typeof t=="function"?t:kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?f4:kt(+r);function u(f){var h,p,g,m=(f=Gk(f)).length,k,v=!1,y,x=new Array(m),j=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&s(k=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(x[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(x[h]=+e(k,h,f),j[h]=+t(k,h,f),l.point(n?+n(k,h,f):x[h],r?+r(k,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return h4().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:kt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:kt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:kt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class p4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function SU(e){return new p4(e,!0)}function NU(e){return new p4(e,!1)}const qk={draw(e,t){const r=ca(t/np);e.moveTo(r,0),e.arc(0,0,r,0,qm)}},PU={draw(e,t){const r=ca(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},m4=ca(1/3),TU=m4*2,AU={draw(e,t){const r=ca(t/TU),n=r*m4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OU={draw(e,t){const r=ca(t),n=-r/2;e.rect(n,n,r,r)}},EU=.8908130915292852,g4=rp(np/10)/rp(7*np/10),CU=rp(qm/10)*g4,_U=-l4(qm/10)*g4,DU={draw(e,t){const r=ca(t*EU),n=CU*r,s=_U*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=qm*i/5,l=l4(o),c=rp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},wx=ca(3),MU={draw(e,t){const r=-ca(t/(wx*3));e.moveTo(0,r*2),e.lineTo(-wx*r,-r),e.lineTo(wx*r,-r),e.closePath()}},On=-.5,En=ca(3)/2,Lv=1/ca(12),$U=(Lv/2+1)*3,RU={draw(e,t){const r=ca(t/$U),n=r/2,s=r*Lv,i=n,o=r*Lv+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(On*n-En*s,En*n+On*s),e.lineTo(On*i-En*o,En*i+On*o),e.lineTo(On*l-En*c,En*l+On*c),e.lineTo(On*n+En*s,On*s-En*n),e.lineTo(On*i+En*o,On*o-En*i),e.lineTo(On*l+En*c,On*c-En*l),e.closePath()}};function IU(e,t){let r=null,n=Wk(s);e=typeof e=="function"?e:kt(e||qk),t=typeof t=="function"?t:kt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:kt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:kt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function ap(){}function sp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function x4(e){this._context=e}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LU(e){return new x4(e)}function v4(e){this._context=e}v4.prototype={areaStart:ap,areaEnd:ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BU(e){return new v4(e)}function y4(e){this._context=e}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FU(e){return new y4(e)}function b4(e){this._context=e}b4.prototype={areaStart:ap,areaEnd:ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KU(e){return new b4(e)}function lN(e){return e<0?-1:1}function cN(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(lN(i)+lN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function uN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jx(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function ip(e){this._context=e}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jx(this,this._t0,uN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jx(this,uN(this,r=cN(this,e,t)),r);break;default:jx(this,this._t0,r=cN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function k4(e){this._context=new w4(e)}(k4.prototype=Object.create(ip.prototype)).point=function(e,t){ip.prototype.point.call(this,t,e)};function w4(e){this._context=e}w4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function zU(e){return new ip(e)}function VU(e){return new k4(e)}function j4(e){this._context=e}j4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dN(e),s=dN(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dN(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function UU(e){return new j4(e)}function Jm(e,t){this._context=e,this._t=t}Jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function HU(e){return new Jm(e,.5)}function WU(e){return new Jm(e,0)}function GU(e){return new Jm(e,1)}function Dl(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Bv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qU(e,t){return e[t]}function YU(e){const t=[];return t.key=e,t}function JU(){var e=kt([]),t=Bv,r=Dl,n=qU;function s(i){var o=Array.from(e.apply(this,arguments),YU),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Gk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:kt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:kt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Bv:typeof i=="function"?i:kt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Dl,s):r},s}function XU(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Dl(e,t)}}function QU(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dl(e,t)}}function ZU(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],k=m[n][1]||0,v=m[n-1][1]||0;p+=k-v}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Dl(e,t)}}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}var eH=["type","size","sizeType"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(this,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return t=rH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return ud(t)=="symbol"?t:t+""}function nH(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){if(e==null)return{};var r=sH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var S4={symbolCircle:qk,symbolCross:PU,symbolDiamond:AU,symbolSquare:OU,symbolStar:DU,symbolTriangle:MU,symbolWye:RU},iH=Math.PI/180,oH=function(t){var r="symbol".concat(Gm(t));return S4[r]||qk},lH=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*iH;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cH=function(t,r){S4["symbol".concat(Gm(t))]=r},Yk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=aH(t,eH),u=hN(hN({},c),{},{type:n,size:i,sizeType:l}),d=function(){var k=oH(n),v=IU().type(k).size(lH(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,g=Le(u,!0);return h===+h&&p===+p&&i===+i?re.createElement("path",Fv({},g,{className:We("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Yk.registerSymbol=cH;function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){dd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P4(n.key),n)}}function hH(e,t,r){return t&&fH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pH(e,t,r){return t=op(t),mH(e,N4()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function mH(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gH(e)}function gH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(e)}function xH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zv(e,t)}function zv(e,t){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zv(e,t)}function dd(e,t,r){return t=P4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4(e){var t=vH(e,"string");return Ml(t)=="symbol"?t:t+""}function vH(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cn=32,Jk=function(e){function t(){return dH(this,t),pH(this,t,arguments)}return xH(t,e),hH(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Cn/2,o=Cn/6,l=Cn/3,c=n.inactive?s:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Cn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cn,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var u=uH({},n);return delete u.legendIcon,re.cloneElement(n.legendIcon,u)}return re.createElement(Yk,{fill:c,cx:i,cy:i,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Cn,height:Cn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,k=We(dd(dd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ve(p.value)?null:p.value;sa(!Ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return re.createElement("li",Kv({className:k,style:f,key:"legend-item-".concat(g)},xo(n.props,p,g)),re.createElement(_v,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(v,p,g):v))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);dd(Jk,"displayName","Legend");dd(Jk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yH=Mm;function bH(){this.__data__=new yH,this.size=0}var kH=bH;function wH(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var jH=wH;function SH(e){return this.__data__.get(e)}var NH=SH;function PH(e){return this.__data__.has(e)}var TH=PH,AH=Mm,OH=Ik,EH=Lk,CH=200;function _H(e,t){var r=this.__data__;if(r instanceof AH){var n=r.__data__;if(!OH||n.length<CH-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new EH(n)}return r.set(e,t),this.size=r.size,this}var DH=_H,MH=Mm,$H=kH,RH=jH,IH=NH,LH=TH,BH=DH;function vc(e){var t=this.__data__=new MH(e);this.size=t.size}vc.prototype.clear=$H;vc.prototype.delete=RH;vc.prototype.get=IH;vc.prototype.has=LH;vc.prototype.set=BH;var T4=vc,FH="__lodash_hash_undefined__";function KH(e){return this.__data__.set(e,FH),this}var zH=KH;function VH(e){return this.__data__.has(e)}var UH=VH,HH=Lk,WH=zH,GH=UH;function lp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new HH;++t<r;)this.add(e[t])}lp.prototype.add=lp.prototype.push=WH;lp.prototype.has=GH;var A4=lp;function qH(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var O4=qH;function YH(e,t){return e.has(t)}var E4=YH,JH=A4,XH=O4,QH=E4,ZH=1,eW=2;function tW(e,t,r,n,s,i){var o=r&ZH,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&eW?new JH:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var k=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(k!==void 0){if(k)continue;h=!1;break}if(p){if(!XH(t,function(v,y){if(!QH(p,y)&&(g===v||s(g,v,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var C4=tW,rW=Na,nW=rW.Uint8Array,aW=nW;function sW(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var iW=sW;function oW(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Xk=oW,mN=rf,gN=aW,lW=Rk,cW=C4,uW=iW,dW=Xk,fW=1,hW=2,pW="[object Boolean]",mW="[object Date]",gW="[object Error]",xW="[object Map]",vW="[object Number]",yW="[object RegExp]",bW="[object Set]",kW="[object String]",wW="[object Symbol]",jW="[object ArrayBuffer]",SW="[object DataView]",xN=mN?mN.prototype:void 0,Sx=xN?xN.valueOf:void 0;function NW(e,t,r,n,s,i,o){switch(r){case SW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jW:return!(e.byteLength!=t.byteLength||!i(new gN(e),new gN(t)));case pW:case mW:case vW:return lW(+e,+t);case gW:return e.name==t.name&&e.message==t.message;case yW:case kW:return e==t+"";case xW:var l=uW;case bW:var c=n&fW;if(l||(l=dW),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=hW,o.set(e,t);var d=cW(l(e),l(t),n,s,i,o);return o.delete(e),d;case wW:if(Sx)return Sx.call(e)==Sx.call(t)}return!1}var PW=NW;function TW(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var _4=TW,AW=_4,OW=dn;function EW(e,t,r){var n=t(e);return OW(e)?n:AW(n,r(e))}var CW=EW;function _W(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var DW=_W;function MW(){return[]}var $W=MW,RW=DW,IW=$W,LW=Object.prototype,BW=LW.propertyIsEnumerable,vN=Object.getOwnPropertySymbols,FW=vN?function(e){return e==null?[]:(e=Object(e),RW(vN(e),function(t){return BW.call(e,t)}))}:IW,KW=FW;function zW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var VW=zW,UW=ns,HW=as,WW="[object Arguments]";function GW(e){return HW(e)&&UW(e)==WW}var qW=GW,yN=qW,YW=as,D4=Object.prototype,JW=D4.hasOwnProperty,XW=D4.propertyIsEnumerable,QW=yN(function(){return arguments}())?yN:function(e){return YW(e)&&JW.call(e,"callee")&&!XW.call(e,"callee")},Qk=QW,cp={exports:{}};function ZW(){return!1}var eG=ZW;cp.exports;(function(e,t){var r=Na,n=eG,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cp,cp.exports);var M4=cp.exports,tG=9007199254740991,rG=/^(?:0|[1-9]\d*)$/;function nG(e,t){var r=typeof e;return t=t??tG,!!t&&(r=="number"||r!="symbol"&&rG.test(e))&&e>-1&&e%1==0&&e<t}var Zk=nG,aG=9007199254740991;function sG(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aG}var ew=sG,iG=ns,oG=ew,lG=as,cG="[object Arguments]",uG="[object Array]",dG="[object Boolean]",fG="[object Date]",hG="[object Error]",pG="[object Function]",mG="[object Map]",gG="[object Number]",xG="[object Object]",vG="[object RegExp]",yG="[object Set]",bG="[object String]",kG="[object WeakMap]",wG="[object ArrayBuffer]",jG="[object DataView]",SG="[object Float32Array]",NG="[object Float64Array]",PG="[object Int8Array]",TG="[object Int16Array]",AG="[object Int32Array]",OG="[object Uint8Array]",EG="[object Uint8ClampedArray]",CG="[object Uint16Array]",_G="[object Uint32Array]",Ot={};Ot[SG]=Ot[NG]=Ot[PG]=Ot[TG]=Ot[AG]=Ot[OG]=Ot[EG]=Ot[CG]=Ot[_G]=!0;Ot[cG]=Ot[uG]=Ot[wG]=Ot[dG]=Ot[jG]=Ot[fG]=Ot[hG]=Ot[pG]=Ot[mG]=Ot[gG]=Ot[xG]=Ot[vG]=Ot[yG]=Ot[bG]=Ot[kG]=!1;function DG(e){return lG(e)&&oG(e.length)&&!!Ot[iG(e)]}var MG=DG;function $G(e){return function(t){return e(t)}}var $4=$G,up={exports:{}};up.exports;(function(e,t){var r=V_,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(up,up.exports);var RG=up.exports,IG=MG,LG=$4,bN=RG,kN=bN&&bN.isTypedArray,BG=kN?LG(kN):IG,R4=BG,FG=VW,KG=Qk,zG=dn,VG=M4,UG=Zk,HG=R4,WG=Object.prototype,GG=WG.hasOwnProperty;function qG(e,t){var r=zG(e),n=!r&&KG(e),s=!r&&!n&&VG(e),i=!r&&!n&&!s&&HG(e),o=r||n||s||i,l=o?FG(e.length,String):[],c=l.length;for(var u in e)(t||GG.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UG(u,c)))&&l.push(u);return l}var YG=qG,JG=Object.prototype;function XG(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||JG;return e===r}var QG=XG;function ZG(e,t){return function(r){return e(t(r))}}var I4=ZG,eq=I4,tq=eq(Object.keys,Object),rq=tq,nq=QG,aq=rq,sq=Object.prototype,iq=sq.hasOwnProperty;function oq(e){if(!nq(e))return aq(e);var t=[];for(var r in Object(e))iq.call(e,r)&&r!="constructor"&&t.push(r);return t}var lq=oq,cq=$k,uq=ew;function dq(e){return e!=null&&uq(e.length)&&!cq(e)}var af=dq,fq=YG,hq=lq,pq=af;function mq(e){return pq(e)?fq(e):hq(e)}var Xm=mq,gq=CW,xq=KW,vq=Xm;function yq(e){return gq(e,vq,xq)}var bq=yq,wN=bq,kq=1,wq=Object.prototype,jq=wq.hasOwnProperty;function Sq(e,t,r,n,s,i){var o=r&kq,l=wN(e),c=l.length,u=wN(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:jq.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var k=o;++f<c;){h=l[f];var v=e[h],y=t[h];if(n)var x=o?n(y,v,h,t,e,i):n(v,y,h,e,t,i);if(!(x===void 0?v===y||s(v,y,r,n,i):x)){m=!1;break}k||(k=h=="constructor")}if(m&&!k){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(e),i.delete(t),m}var Nq=Sq,Pq=Po,Tq=Na,Aq=Pq(Tq,"DataView"),Oq=Aq,Eq=Po,Cq=Na,_q=Eq(Cq,"Promise"),Dq=_q,Mq=Po,$q=Na,Rq=Mq($q,"Set"),L4=Rq,Iq=Po,Lq=Na,Bq=Iq(Lq,"WeakMap"),Fq=Bq,Vv=Oq,Uv=Ik,Hv=Dq,Wv=L4,Gv=Fq,B4=ns,yc=H_,jN="[object Map]",Kq="[object Object]",SN="[object Promise]",NN="[object Set]",PN="[object WeakMap]",TN="[object DataView]",zq=yc(Vv),Vq=yc(Uv),Uq=yc(Hv),Hq=yc(Wv),Wq=yc(Gv),zi=B4;(Vv&&zi(new Vv(new ArrayBuffer(1)))!=TN||Uv&&zi(new Uv)!=jN||Hv&&zi(Hv.resolve())!=SN||Wv&&zi(new Wv)!=NN||Gv&&zi(new Gv)!=PN)&&(zi=function(e){var t=B4(e),r=t==Kq?e.constructor:void 0,n=r?yc(r):"";if(n)switch(n){case zq:return TN;case Vq:return jN;case Uq:return SN;case Hq:return NN;case Wq:return PN}return t});var Gq=zi,Nx=T4,qq=C4,Yq=PW,Jq=Nq,AN=Gq,ON=dn,EN=M4,Xq=R4,Qq=1,CN="[object Arguments]",_N="[object Array]",If="[object Object]",Zq=Object.prototype,DN=Zq.hasOwnProperty;function eY(e,t,r,n,s,i){var o=ON(e),l=ON(t),c=o?_N:AN(e),u=l?_N:AN(t);c=c==CN?If:c,u=u==CN?If:u;var d=c==If,f=u==If,h=c==u;if(h&&EN(e)){if(!EN(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Nx),o||Xq(e)?qq(e,t,r,n,s,i):Yq(e,t,c,r,n,s,i);if(!(r&Qq)){var p=d&&DN.call(e,"__wrapped__"),g=f&&DN.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,k=g?t.value():t;return i||(i=new Nx),s(m,k,r,n,i)}}return h?(i||(i=new Nx),Jq(e,t,r,n,s,i)):!1}var tY=eY,rY=tY,MN=as;function F4(e,t,r,n,s){return e===t?!0:e==null||t==null||!MN(e)&&!MN(t)?e!==e&&t!==t:rY(e,t,r,n,F4,s)}var tw=F4,nY=T4,aY=tw,sY=1,iY=2;function oY(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new nY;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?aY(d,u,sY|iY,n,f):h))return!1}}return!0}var lY=oY,cY=Pi;function uY(e){return e===e&&!cY(e)}var K4=uY,dY=K4,fY=Xm;function hY(e){for(var t=fY(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,dY(s)]}return t}var pY=hY;function mY(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var z4=mY,gY=lY,xY=pY,vY=z4;function yY(e){var t=xY(e);return t.length==1&&t[0][2]?vY(t[0][0],t[0][1]):function(r){return r===e||gY(r,e,t)}}var bY=yY;function kY(e,t){return e!=null&&t in Object(e)}var wY=kY,jY=J_,SY=Qk,NY=dn,PY=Zk,TY=ew,AY=Rm;function OY(e,t,r){t=jY(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=AY(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&TY(s)&&PY(o,s)&&(NY(e)||SY(e)))}var EY=OY,CY=wY,_Y=EY;function DY(e,t){return e!=null&&_Y(e,t,CY)}var MY=DY,$Y=tw,RY=X_,IY=MY,LY=Mk,BY=K4,FY=z4,KY=Rm,zY=1,VY=2;function UY(e,t){return LY(e)&&BY(t)?FY(KY(e),t):function(r){var n=RY(r,e);return n===void 0&&n===t?IY(r,e):$Y(t,n,zY|VY)}}var HY=UY;function WY(e){return e}var bc=WY;function GY(e){return function(t){return t==null?void 0:t[e]}}var qY=GY,YY=Kk;function JY(e){return function(t){return YY(t,e)}}var XY=JY,QY=qY,ZY=XY,eJ=Mk,tJ=Rm;function rJ(e){return eJ(e)?QY(tJ(e)):ZY(e)}var nJ=rJ,aJ=bY,sJ=HY,iJ=bc,oJ=dn,lJ=nJ;function cJ(e){return typeof e=="function"?e:e==null?iJ:typeof e=="object"?oJ(e)?sJ(e[0],e[1]):aJ(e):lJ(e)}var Pa=cJ;function uJ(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var V4=uJ;function dJ(e){return e!==e}var fJ=dJ;function hJ(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var pJ=hJ,mJ=V4,gJ=fJ,xJ=pJ;function vJ(e,t,r){return t===t?xJ(e,t,r):mJ(e,gJ,r)}var yJ=vJ,bJ=yJ;function kJ(e,t){var r=e==null?0:e.length;return!!r&&bJ(e,t,0)>-1}var wJ=kJ;function jJ(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var SJ=jJ;function NJ(){}var PJ=NJ,Px=L4,TJ=PJ,AJ=Xk,OJ=1/0,EJ=Px&&1/AJ(new Px([,-0]))[1]==OJ?function(e){return new Px(e)}:TJ,CJ=EJ,_J=A4,DJ=wJ,MJ=SJ,$J=E4,RJ=CJ,IJ=Xk,LJ=200;function BJ(e,t,r){var n=-1,s=DJ,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=MJ;else if(i>=LJ){var u=t?null:RJ(e);if(u)return IJ(u);o=!1,s=$J,c=new _J}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var FJ=BJ,KJ=Pa,zJ=FJ;function VJ(e,t){return e&&e.length?zJ(e,KJ(t)):[]}var UJ=VJ;const $N=ft(UJ);function U4(e,t,r){return t===!0?$N(e,r):Ve(t)?$N(e,t):e}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}var HJ=["ref"];function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){Qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W4(n.key),n)}}function GJ(e,t,r){return t&&IN(e.prototype,t),r&&IN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qJ(e,t,r){return t=dp(t),YJ(e,H4()?Reflect.construct(t,r||[],dp(e).constructor):t.apply(e,r))}function YJ(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JJ(e)}function JJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(e)}function XJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qv(e,t)}function Qm(e,t,r){return t=W4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e){var t=QJ(e,"string");return $l(t)=="symbol"?t:t+""}function QJ(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZJ(e,t){if(e==null)return{};var r=eX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tX(e){return e.value}function rX(e,t){if(re.isValidElement(e))return re.cloneElement(e,t);if(typeof e=="function")return re.createElement(e,t);t.ref;var r=ZJ(t,HJ);return re.createElement(Jk,r)}var LN=1,pa=function(e){function t(){var r;WJ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=qJ(this,t,[].concat(s)),Qm(r,"lastBoundingBox",{width:-1,height:-1}),r}return XJ(t,e),GJ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>LN||Math.abs(s.height-this.lastBoundingBox.height)>LN)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ea({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ea(Ea({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Ea(Ea({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},rX(i,Ea(Ea({},this.props),{},{payload:U4(d,u,tX)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Ea(Ea({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ne(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(b.PureComponent);Qm(pa,"displayName","Legend");Qm(pa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BN=rf,nX=Qk,aX=dn,FN=BN?BN.isConcatSpreadable:void 0;function sX(e){return aX(e)||nX(e)||!!(FN&&e&&e[FN])}var iX=sX,oX=_4,lX=iX;function G4(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=lX),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?G4(l,t-1,r,n,s):oX(s,l):n||(s[s.length]=l)}return s}var q4=G4;function cX(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var uX=cX,dX=uX,fX=dX(),hX=fX,pX=hX,mX=Xm;function gX(e,t){return e&&pX(e,t,mX)}var Y4=gX,xX=af;function vX(e,t){return function(r,n){if(r==null)return r;if(!xX(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var yX=vX,bX=Y4,kX=yX,wX=kX(bX),rw=wX,jX=rw,SX=af;function NX(e,t){var r=-1,n=SX(e)?Array(e.length):[];return jX(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var J4=NX;function PX(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var TX=PX,KN=fc;function AX(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=KN(e),o=t!==void 0,l=t===null,c=t===t,u=KN(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var OX=AX,EX=OX;function CX(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=EX(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var _X=CX,Tx=Fk,DX=Kk,MX=Pa,$X=J4,RX=TX,IX=$4,LX=_X,BX=bc,FX=dn;function KX(e,t,r){t.length?t=Tx(t,function(i){return FX(i)?function(o){return DX(o,i.length===1?i[0]:i)}:i}):t=[BX];var n=-1;t=Tx(t,IX(MX));var s=$X(e,function(i,o,l){var c=Tx(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return RX(s,function(i,o){return LX(i,o,r)})}var zX=KX;function VX(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var UX=VX,HX=UX,zN=Math.max;function WX(e,t,r){return t=zN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=zN(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),HX(e,this,l)}}var GX=WX;function qX(e){return function(){return e}}var YX=qX,JX=Po,XX=function(){try{var e=JX(Object,"defineProperty");return e({},"",{}),e}catch{}}(),X4=XX,QX=YX,VN=X4,ZX=bc,eQ=VN?function(e,t){return VN(e,"toString",{configurable:!0,enumerable:!1,value:QX(t),writable:!0})}:ZX,tQ=eQ,rQ=800,nQ=16,aQ=Date.now;function sQ(e){var t=0,r=0;return function(){var n=aQ(),s=nQ-(n-r);if(r=n,s>0){if(++t>=rQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var iQ=sQ,oQ=tQ,lQ=iQ,cQ=lQ(oQ),uQ=cQ,dQ=bc,fQ=GX,hQ=uQ;function pQ(e,t){return hQ(fQ(e,t,dQ),e+"")}var mQ=pQ,gQ=Rk,xQ=af,vQ=Zk,yQ=Pi;function bQ(e,t,r){if(!yQ(r))return!1;var n=typeof t;return(n=="number"?xQ(r)&&vQ(t,r.length):n=="string"&&t in r)?gQ(r[t],e):!1}var Zm=bQ,kQ=q4,wQ=zX,jQ=mQ,UN=Zm,SQ=jQ(function(e,t){if(e==null)return[];var r=t.length;return r>1&&UN(e,t[0],t[1])?t=[]:r>2&&UN(t[0],t[1],t[2])&&(t=[t[0]]),wQ(e,kQ(t,1),[])}),NQ=SQ;const nw=ft(NQ);function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(this,arguments)}function PQ(e,t){return EQ(e)||OQ(e,t)||AQ(e,t)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function EQ(e){if(Array.isArray(e))return e}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return t=_Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=DQ(e,"string");return fd(t)=="symbol"?t:t+""}function DQ(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MQ(e){return Array.isArray(e)&&dr(e[0])&&dr(e[1])?e.join(" ~ "):e}var $Q=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,k=t.labelFormatter,v=t.accessibilityLayer,y=v===void 0?!1:v,x=function(){if(d&&d.length){var O={padding:0,margin:0},_=(h?nw(d,h):d).map(function(z,J){if(z.type==="none")return null;var Z=Ax({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),V=z.formatter||f||MQ,R=z.value,B=z.name,I=R,U=B;if(V&&I!=null&&U!=null){var ee=V(R,B,z,J,d);if(Array.isArray(ee)){var H=PQ(ee,2);I=H[0],U=H[1]}else I=ee}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:Z},dr(U)?re.createElement("span",{className:"recharts-tooltip-item-name"},U):null,dr(U)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},I),re.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:O},_)}return null},j=Ax({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Ax({margin:0},u),S=!He(m),N=S?m:"",T=We("recharts-default-tooltip",p),A=We("recharts-tooltip-label",g);S&&k&&d!==void 0&&d!==null&&(N=k(m,d));var F=y?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",Yv({className:T,style:j},F),re.createElement("p",{className:A,style:w},re.isValidElement(N)?N:"".concat(N)),x())};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Lf(e,t,r){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=IQ(e,"string");return hd(t)=="symbol"?t:t+""}function IQ(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bc="recharts-tooltip-wrapper",LQ={visibility:"hidden"};function BQ(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return We(Bc,Lf(Lf(Lf(Lf({},"".concat(Bc,"-right"),Ne(r)&&t&&Ne(t.x)&&r>=t.x),"".concat(Bc,"-left"),Ne(r)&&t&&Ne(t.x)&&r<t.x),"".concat(Bc,"-bottom"),Ne(n)&&t&&Ne(t.y)&&n>=t.y),"".concat(Bc,"-top"),Ne(n)&&t&&Ne(t.y)&&n<t.y))}function GN(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ne(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function FQ(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function KQ(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=GN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=GN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=FQ({translateX:d,translateY:f,useTranslate3d:l})):u=LQ,{cssProperties:u,cssClasses:BQ({translateX:d,translateY:f,coordinate:r})}}function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z4(n.key),n)}}function UQ(e,t,r){return t&&VQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HQ(e,t,r){return t=fp(t),WQ(e,Q4()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function WQ(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GQ(e)}function GQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function qQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jv(e,t)}function Jv(e,t){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Jv(e,t)}function Xv(e,t,r){return t=Z4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4(e){var t=YQ(e,"string");return Rl(t)=="symbol"?t:t+""}function YQ(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JN=1,JQ=function(e){function t(){var r;zQ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=HQ(this,t,[].concat(s)),Xv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return qQ(t,e),UQ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>JN||Math.abs(n.height-this.state.lastBoundingBox.height)>JN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,k=s.useTranslate3d,v=s.viewBox,y=s.wrapperStyle,x=KQ({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:k,viewBox:v}),j=x.cssClasses,w=x.cssProperties,S=YN(YN({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return re.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(T){n.wrapperNode=T}},u)}}])}(b.PureComponent),XQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},To={isSsr:XQ()};function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tD(n.key),n)}}function eZ(e,t,r){return t&&ZQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tZ(e,t,r){return t=hp(t),rZ(e,eD()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function rZ(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nZ(e)}function nZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function aZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qv(e,t)}function aw(e,t,r){return t=tD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=sZ(e,"string");return Il(t)=="symbol"?t:t+""}function sZ(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iZ(e){return e.dataKey}function oZ(e,t){return re.isValidElement(e)?re.cloneElement(e,t):typeof e=="function"?re.createElement(e,t):re.createElement($Q,t)}var Mr=function(e){function t(){return QQ(this,t),tZ(this,t,arguments)}return aZ(t,e),eZ(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,k=s.position,v=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,j=s.wrapperStyle,w=g??[];f&&w.length&&(w=U4(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,iZ));var S=w.length>0;return re.createElement(JQ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:k,reverseDirection:v,useTranslate3d:y,viewBox:x,wrapperStyle:j},oZ(u,QN(QN({},this.props),{},{payload:w})))}}])}(b.PureComponent);aw(Mr,"displayName","Tooltip");aw(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!To.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lZ=Na,cZ=function(){return lZ.Date.now()},uZ=cZ,dZ=/\s/;function fZ(e){for(var t=e.length;t--&&dZ.test(e.charAt(t)););return t}var hZ=fZ,pZ=hZ,mZ=/^\s+/;function gZ(e){return e&&e.slice(0,pZ(e)+1).replace(mZ,"")}var xZ=gZ,vZ=xZ,ZN=Pi,yZ=fc,eP=NaN,bZ=/^[-+]0x[0-9a-f]+$/i,kZ=/^0b[01]+$/i,wZ=/^0o[0-7]+$/i,jZ=parseInt;function SZ(e){if(typeof e=="number")return e;if(yZ(e))return eP;if(ZN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ZN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vZ(e);var r=kZ.test(e);return r||wZ.test(e)?jZ(e.slice(2),r?2:8):bZ.test(e)?eP:+e}var rD=SZ,NZ=Pi,Ox=uZ,tP=rD,PZ="Expected a function",TZ=Math.max,AZ=Math.min;function OZ(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(PZ);t=tP(t)||0,NZ(r)&&(d=!!r.leading,f="maxWait"in r,i=f?TZ(tP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var N=n,T=s;return n=s=void 0,u=S,o=e.apply(T,N),o}function g(S){return u=S,l=setTimeout(v,t),d?p(S):o}function m(S){var N=S-c,T=S-u,A=t-N;return f?AZ(A,i-T):A}function k(S){var N=S-c,T=S-u;return c===void 0||N>=t||N<0||f&&T>=i}function v(){var S=Ox();if(k(S))return y(S);l=setTimeout(v,m(S))}function y(S){return l=void 0,h&&n?p(S):(n=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function j(){return l===void 0?o:y(Ox())}function w(){var S=Ox(),N=k(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return w.cancel=x,w.flush=j,w}var EZ=OZ,CZ=EZ,_Z=Pi,DZ="Expected a function";function MZ(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(DZ);return _Z(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),CZ(e,t,{leading:n,maxWait:t,trailing:s})}var $Z=MZ;const nD=ft($Z);function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){RZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZ(e,t,r){return t=IZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IZ(e){var t=LZ(e,"string");return pd(t)=="symbol"?t:t+""}function LZ(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){return VZ(e)||zZ(e,t)||KZ(e,t)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KZ(e,t){if(e){if(typeof e=="string")return nP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nP(e,t)}}function nP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function VZ(e){if(Array.isArray(e))return e}var Vi=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,k=e.id,v=e.className,y=e.onResize,x=e.style,j=x===void 0?{}:x,w=b.useRef(null),S=b.useRef();S.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var N=b.useState({containerWidth:s.width,containerHeight:s.height}),T=BZ(N,2),A=T[0],F=T[1],$=b.useCallback(function(_,z){F(function(J){var Z=Math.round(_),V=Math.round(z);return J.containerWidth===Z&&J.containerHeight===V?J:{containerWidth:Z,containerHeight:V}})},[]);b.useEffect(function(){var _=function(B){var I,U=B[0].contentRect,ee=U.width,H=U.height;$(ee,H),(I=S.current)===null||I===void 0||I.call(S,ee,H)};m>0&&(_=nD(_,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(_),J=w.current.getBoundingClientRect(),Z=J.width,V=J.height;return $(Z,V),z.observe(w.current),function(){z.disconnect()}},[$,m]);var O=b.useMemo(function(){var _=A.containerWidth,z=A.containerHeight;if(_<0||z<0)return null;sa(Zi(o)||Zi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),sa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=Zi(o)?_:o,Z=Zi(c)?z:c;r&&r>0&&(J?Z=J/r:Z&&(J=Z*r),h&&Z>h&&(Z=h)),sa(J>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,Z,o,c,d,f,r);var V=!Array.isArray(p)&&Ha(p.type).endsWith("Chart");return re.Children.map(p,function(R){return re.isValidElement(R)?b.cloneElement(R,Bf({width:J,height:Z},V?{style:Bf({height:"100%",width:"100%",maxHeight:Z,maxWidth:J},R.props.style)}:{})):R})},[r,p,c,h,f,d,A,o]);return re.createElement("div",{id:k?"".concat(k):void 0,className:We("recharts-responsive-container",v),style:Bf(Bf({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),io=function(t){return null};io.displayName="Cell";function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=WZ(e,"string");return md(t)=="symbol"?t:t+""}function WZ(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $o={widthCache:{},cacheCount:0},GZ=2e3,qZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sP="recharts_measurement_span";function YZ(e){var t=Zv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Du=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||To.isSsr)return{width:0,height:0};var n=YZ(r),s=JSON.stringify({text:t,copyStyle:n});if($o.widthCache[s])return $o.widthCache[s];try{var i=document.getElementById(sP);i||(i=document.createElement("span"),i.setAttribute("id",sP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Zv(Zv({},qZ),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return $o.widthCache[s]=c,++$o.cacheCount>GZ&&($o.cacheCount=0,$o.widthCache={}),c}catch{return{width:0,height:0}}},JZ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function pp(e,t){return eee(e)||ZZ(e,t)||QZ(e,t)||XZ()}function XZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QZ(e,t){if(e){if(typeof e=="string")return iP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iP(e,t)}}function iP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eee(e){if(Array.isArray(e))return e}function tee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nee(n.key),n)}}function ree(e,t,r){return t&&oP(e.prototype,t),r&&oP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nee(e){var t=aee(e,"string");return gd(t)=="symbol"?t:t+""}function aee(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,see=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oee=Object.keys(aD),nl="NaN";function lee(e,t){return e*aD[t]}var Ff=function(){function e(t,r){tee(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!see.test(r)&&(this.num=NaN,this.unit=""),oee.includes(r)&&(this.num=lee(t,r),this.unit="px")}return ree(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=iee.exec(r))!==null&&n!==void 0?n:[],i=pp(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function sD(e){if(e.includes(nl))return nl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=lP.exec(t))!==null&&r!==void 0?r:[],s=pp(n,4),i=s[1],o=s[2],l=s[3],c=Ff.parse(i??""),u=Ff.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return nl;t=t.replace(lP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=cP.exec(t))!==null&&f!==void 0?f:[],p=pp(h,4),g=p[1],m=p[2],k=p[3],v=Ff.parse(g??""),y=Ff.parse(k??""),x=m==="+"?v.add(y):v.subtract(y);if(x.isNaN())return nl;t=t.replace(cP,x.toString())}return t}var uP=/\(([^()]*)\)/;function cee(e){for(var t=e;t.includes("(");){var r=uP.exec(t),n=pp(r,2),s=n[1];t=t.replace(uP,sD(s))}return t}function uee(e){var t=e.replace(/\s+/g,"");return t=cee(t),t=sD(t),t}function dee(e){try{return uee(e)}catch{return nl}}function Ex(e){var t=dee(e.slice(5,-1));return t===nl?"":t}var fee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hee=["dx","dy","angle","className","breakAll"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function dP(e,t){if(e==null)return{};var r=pee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fP(e,t){return vee(e)||xee(e,t)||gee(e,t)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(e,t){if(e){if(typeof e=="string")return hP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hP(e,t)}}function hP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vee(e){if(Array.isArray(e))return e}var iD=/[ \f\n\r\t\v\u2028\u2029]+/,oD=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];He(r)||(n?i=r.toString().split(""):i=r.toString().split(iD));var o=i.map(function(c){return{word:c,width:Du(c,s).width}}),l=n?0:Du("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},yee=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ne(o),f=l,h=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(Z,V){var R=V.word,B=V.width,I=Z[Z.length-1];if(I&&(s==null||i||I.width+B+n<Number(s)))I.words.push(R),I.width+=B+n;else{var U={words:[R],width:B};Z.push(U)}return Z},[])},p=h(r),g=function(J){return J.reduce(function(Z,V){return Z.width>V.width?Z:V})};if(!d)return p;for(var m="",k=function(J){var Z=f.slice(0,J),V=oD({breakAll:u,style:c,children:Z+m}).wordsWithComputedWidth,R=h(V),B=R.length>o||g(R).width>Number(s);return[B,R]},v=0,y=f.length-1,x=0,j;v<=y&&x<=f.length-1;){var w=Math.floor((v+y)/2),S=w-1,N=k(S),T=fP(N,2),A=T[0],F=T[1],$=k(w),O=fP($,1),_=O[0];if(!A&&!_&&(v=w+1),A&&_&&(y=w-1),!A&&_){j=F;break}x++}return j||p},pP=function(t){var r=He(t)?[]:t.toString().split(iD);return[{words:r}]},bee=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!To.isSsr){var c,u,d=oD({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return pP(s);return yee({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return pP(s)},mP="#808080",vo=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,k=t.fill,v=k===void 0?mP:k,y=dP(t,fee),x=b.useMemo(function(){return bee({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,w=y.dy,S=y.angle,N=y.className,T=y.breakAll,A=dP(y,hee);if(!dr(n)||!dr(i))return null;var F=n+(Ne(j)?j:0),$=i+(Ne(w)?w:0),O;switch(m){case"start":O=Ex("calc(".concat(u,")"));break;case"middle":O=Ex("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Ex("calc(".concat(x.length-1," * -").concat(l,")"));break}var _=[];if(f){var z=x[0].width,J=y.width;_.push("scale(".concat((Ne(J)?J/z:1)/z,")"))}return S&&_.push("rotate(".concat(S,", ").concat(F,", ").concat($,")")),_.length&&(A.transform=_.join(" ")),re.createElement("text",ey({},Le(A,!0),{x:F,y:$,className:We("recharts-text",N),textAnchor:p,fill:v.includes("url")?mP:v}),x.map(function(Z,V){var R=Z.words.join(T?"":" ");return re.createElement("tspan",{x:F,dy:V===0?O:l,key:"".concat(R,"-").concat(V)},R)}))};function fi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sw(e){let t,r,n;e.length!==2?(t=fi,r=(l,c)=>fi(e(l),c),n=(l,c)=>e(l)-c):(t=e===fi||e===kee?e:wee,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function wee(){return 0}function lD(e){return e===null?NaN:+e}function*jee(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const See=sw(fi),sf=See.right;sw(lD).center;class gP extends Map{constructor(t,r=Tee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(xP(this,t))}has(t){return super.has(xP(this,t))}set(t,r){return super.set(Nee(this,t),r)}delete(t){return super.delete(Pee(this,t))}}function xP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Nee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Pee({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Tee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Aee(e=fi){if(e===fi)return cD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function cD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Oee=Math.sqrt(50),Eee=Math.sqrt(10),Cee=Math.sqrt(2);function mp(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Oee?10:i>=Eee?5:i>=Cee?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?mp(e,t,r*2):[l,c,u]}function ty(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?mp(t,e,r):mp(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function ry(e,t,r){return t=+t,e=+e,r=+r,mp(e,t,r)[2]}function ny(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?ry(t,e,r):ry(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function vP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uD(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?cD:Aee(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));uD(e,t,p,g,s)}const i=e[t];let o=r,l=n;for(Fc(e,r,t),s(e[n],i)>0&&Fc(e,r,n);o<l;){for(Fc(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Fc(e,r,l):(++l,Fc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Fc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _ee(e,t,r){if(e=Float64Array.from(jee(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return yP(e);if(t>=1)return vP(e);var n,s=(n-1)*t,i=Math.floor(s),o=vP(uD(e,i).subarray(0,i+1)),l=yP(e.subarray(i+1));return o+(l-o)*(s-i)}}function Dee(e,t,r=lD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Mee(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ss(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ay=Symbol("implicit");function iw(){var e=new gP,t=[],r=[],n=ay;function s(i){let o=e.get(i);if(o===void 0){if(n!==ay)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new gP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return iw(t,r).unknown(n)},Un.apply(s,arguments),s}function xd(){var e=iw().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var k=Mee(h).map(function(v){return g+i*v});return r(p?k.reverse():k)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xd(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Un.apply(f(),arguments)}function dD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dD(t())},e}function Mu(){return dD(xd.apply(null,arguments).paddingInner(1))}function ow(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function of(){}var vd=.7,gp=1/vd,vl="\\s*([+-]?\\d+)\\s*",yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$ee=/^#([0-9a-f]{3,8})$/,Ree=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),Iee=new RegExp(`^rgb\\(${ya},${ya},${ya}\\)$`),Lee=new RegExp(`^rgba\\(${vl},${vl},${vl},${yd}\\)$`),Bee=new RegExp(`^rgba\\(${ya},${ya},${ya},${yd}\\)$`),Fee=new RegExp(`^hsl\\(${yd},${ya},${ya}\\)$`),Kee=new RegExp(`^hsla\\(${yd},${ya},${ya},${yd}\\)$`),bP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ow(of,bd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kP,formatHex:kP,formatHex8:zee,formatHsl:Vee,formatRgb:wP,toString:wP});function kP(){return this.rgb().formatHex()}function zee(){return this.rgb().formatHex8()}function Vee(){return hD(this).formatHsl()}function wP(){return this.rgb().formatRgb()}function bd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$ee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jP(t):r===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ree.exec(e))?new sn(t[1],t[2],t[3],1):(t=Iee.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lee.exec(e))?Kf(t[1],t[2],t[3],t[4]):(t=Bee.exec(e))?Kf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fee.exec(e))?PP(t[1],t[2]/100,t[3]/100,1):(t=Kee.exec(e))?PP(t[1],t[2]/100,t[3]/100,t[4]):bP.hasOwnProperty(e)?jP(bP[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function jP(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Kf(e,t,r,n){return n<=0&&(e=t=r=NaN),new sn(e,t,r,n)}function Uee(e){return e instanceof of||(e=bd(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function sy(e,t,r,n){return arguments.length===1?Uee(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ow(sn,sy,fD(of,{brighter(e){return e=e==null?gp:Math.pow(gp,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(oo(this.r),oo(this.g),oo(this.b),xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SP,formatHex:SP,formatHex8:Hee,formatRgb:NP,toString:NP}));function SP(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function Hee(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function NP(){const e=xp(this.opacity);return`${e===1?"rgb(":"rgba("}${oo(this.r)}, ${oo(this.g)}, ${oo(this.b)}${e===1?")":`, ${e})`}`}function xp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=oo(e),(e<16?"0":"")+e.toString(16)}function PP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ta(e,t,r,n)}function hD(e){if(e instanceof ta)return new ta(e.h,e.s,e.l,e.opacity);if(e instanceof of||(e=bd(e)),!e)return new ta;if(e instanceof ta)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ta(o,l,c,e.opacity)}function Wee(e,t,r,n){return arguments.length===1?hD(e):new ta(e,t,r,n??1)}function ta(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ow(ta,Wee,fD(of,{brighter(e){return e=e==null?gp:Math.pow(gp,e),new ta(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new ta(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new sn(Cx(e>=240?e-240:e+120,s,n),Cx(e,s,n),Cx(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ta(TP(this.h),zf(this.s),zf(this.l),xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xp(this.opacity);return`${e===1?"hsl(":"hsla("}${TP(this.h)}, ${zf(this.s)*100}%, ${zf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TP(e){return e=(e||0)%360,e<0?e+360:e}function zf(e){return Math.max(0,Math.min(1,e||0))}function Cx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lw=e=>()=>e;function Gee(e,t){return function(r){return e+r*t}}function qee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Yee(e){return(e=+e)==1?pD:function(t,r){return r-t?qee(t,r,e):lw(isNaN(t)?r:t)}}function pD(e,t){var r=t-e;return r?Gee(e,r):lw(isNaN(e)?t:e)}const AP=function e(t){var r=Yee(t);function n(s,i){var o=r((s=sy(s)).r,(i=sy(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=pD(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Jee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Xee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=kc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Zee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ete(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=kc(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var iy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_x=new RegExp(iy.source,"g");function tte(e){return function(){return e}}function rte(e){return function(t){return e(t)+""}}function nte(e,t){var r=iy.lastIndex=_x.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=iy.exec(e))&&(s=_x.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:vp(n,s)})),r=_x.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?rte(c[0].x):tte(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function kc(e,t){var r=typeof t,n;return t==null||r==="boolean"?lw(t):(r==="number"?vp:r==="string"?(n=bd(t))?(t=n,AP):nte:t instanceof bd?AP:t instanceof Date?Zee:Xee(t)?Jee:Array.isArray(t)?Qee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ete:vp)(e,t)}function cw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ate(e,t){t===void 0&&(t=e,e=kc);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ste(e){return function(){return e}}function yp(e){return+e}var OP=[0,1];function Xr(e){return e}function oy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ste(isNaN(t)?NaN:.5)}function ite(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ote(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=oy(s,n),i=r(o,i)):(n=oy(n,s),i=r(i,o)),function(l){return i(n(l))}}function lte(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=oy(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=sf(e,l,1,n)-1;return i[c](s[c](l))}}function lf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eg(){var e=OP,t=OP,r=kc,n,s,i,o=Xr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Xr&&(o=ite(e[0],e[h-1])),l=h>2?lte:ote,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),vp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,yp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=cw,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Xr,d()):o!==Xr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function uw(){return eg()(Xr,Xr)}function cte(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ll(e){return e=bp(Math.abs(e)),e?e[1]:NaN}function ute(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function dte(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kd(e){if(!(t=fte.exec(e)))throw new Error("invalid format: "+e);var t;return new dw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kd.prototype=dw.prototype;function dw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hte(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var mD;function pte(e,t){var r=bp(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(mD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+bp(e,Math.max(0,t+i-1))[0]}function EP(e,t){var r=bp(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const CP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cte,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EP(e*100,t),r:EP,s:pte,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _P(e){return e}var DP=Array.prototype.map,MP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mte(e){var t=e.grouping===void 0||e.thousands===void 0?_P:ute(DP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_P:dte(DP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=kd(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,k=f.zero,v=f.width,y=f.comma,x=f.precision,j=f.trim,w=f.type;w==="n"?(y=!0,w="g"):CP[w]||(x===void 0&&(x=12),j=!0,w="g"),(k||h==="0"&&p==="=")&&(k=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",N=m==="$"?n:/[%p]/.test(w)?o:"",T=CP[w],A=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function F($){var O=S,_=N,z,J,Z;if(w==="c")_=T($)+_,$="";else{$=+$;var V=$<0||1/$<0;if($=isNaN($)?c:T(Math.abs($),x),j&&($=hte($)),V&&+$==0&&g!=="+"&&(V=!1),O=(V?g==="("?g:l:g==="-"||g==="("?"":g)+O,_=(w==="s"?MP[8+mD/3]:"")+_+(V&&g==="("?")":""),A){for(z=-1,J=$.length;++z<J;)if(Z=$.charCodeAt(z),48>Z||Z>57){_=(Z===46?s+$.slice(z+1):$.slice(z))+_,$=$.slice(0,z);break}}}y&&!k&&($=t($,1/0));var R=O.length+$.length+_.length,B=R<v?new Array(v-R+1).join(h):"";switch(y&&k&&($=t(B+$,B.length?v-_.length:1/0),B=""),p){case"<":$=O+$+_+B;break;case"=":$=O+B+$+_;break;case"^":$=B.slice(0,R=B.length>>1)+O+$+_+B.slice(R);break;default:$=B+O+$+_;break}return i($)}return F.toString=function(){return f+""},F}function d(f,h){var p=u((f=kd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ll(h)/3)))*3,m=Math.pow(10,-g),k=MP[8+g/3];return function(v){return p(m*v)+k}}return{format:u,formatPrefix:d}}var Vf,fw,gD;gte({thousands:",",grouping:[3],currency:["$",""]});function gte(e){return Vf=mte(e),fw=Vf.format,gD=Vf.formatPrefix,Vf}function xte(e){return Math.max(0,-Ll(Math.abs(e)))}function vte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ll(t)/3)))*3-Ll(Math.abs(e)))}function yte(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ll(t)-Ll(e))+1}function xD(e,t,r,n){var s=ny(e,t,r),i;switch(n=kd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=vte(s,o))&&(n.precision=i),gD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=yte(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=xte(s))&&(n.precision=i-(n.type==="%")*2);break}}return fw(n)}function Ti(e){var t=e.domain;return e.ticks=function(r){var n=t();return ty(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return xD(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=ry(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function kp(){var e=uw();return e.copy=function(){return lf(e,kp())},Un.apply(e,arguments),Ti(e)}function vD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,yp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return vD(e).unknown(t)},e=arguments.length?Array.from(e,yp):[0,1],Ti(r)}function yD(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function $P(e){return Math.log(e)}function RP(e){return Math.exp(e)}function bte(e){return-Math.log(-e)}function kte(e){return-Math.exp(-e)}function wte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jte(e){return e===10?wte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ste(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IP(e){return(t,r)=>-e(-t,r)}function hw(e){const t=e($P,RP),r=t.domain;let n=10,s,i;function o(){return s=Ste(n),i=jte(n),r()[0]<0?(s=IP(s),i=IP(i),e(bte,kte)):e($P,RP),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const k=l==null?10:+l;let v=[];if(!(n%1)&&p-h<k){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<k&&(v=ty(u,d,k))}else v=ty(h,p,Math.min(p-h,k)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kd(c)).precision==null&&(c.trim=!0),c=fw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(yD(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function bD(){const e=hw(eg()).domain([1,10]);return e.copy=()=>lf(e,bD()).base(e.base()),Un.apply(e,arguments),e}function LP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pw(e){var t=1,r=e(LP(t),BP(t));return r.constant=function(n){return arguments.length?e(LP(t=+n),BP(t)):t},Ti(r)}function kD(){var e=pw(eg());return e.copy=function(){return lf(e,kD()).constant(e.constant())},Un.apply(e,arguments)}function FP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pte(e){return e<0?-e*e:e*e}function mw(e){var t=e(Xr,Xr),r=1;function n(){return r===1?e(Xr,Xr):r===.5?e(Nte,Pte):e(FP(r),FP(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ti(t)}function gw(){var e=mw(eg());return e.copy=function(){return lf(e,gw()).exponent(e.exponent())},Un.apply(e,arguments),e}function Tte(){return gw.apply(null,arguments).exponent(.5)}function KP(e){return Math.sign(e)*e*e}function Ate(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wD(){var e=uw(),t=[0,1],r=!1,n;function s(i){var o=Ate(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(KP(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,yp)).map(KP)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return wD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Un.apply(s,arguments),Ti(s)}function jD(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Dee(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[sf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(fi),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return jD().domain(e).range(t).unknown(n)},Un.apply(i,arguments)}function SD(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[sf(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return SD().domain([e,t]).range(s).unknown(i)},Un.apply(Ti(o),arguments)}function ND(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[sf(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return ND().domain(e).range(t).unknown(r)},Un.apply(s,arguments)}const Dx=new Date,Mx=new Date;function hr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>hr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Dx.setTime(+i),Mx.setTime(+o),e(Dx),e(Mx),Math.floor(r(Dx,Mx))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const wp=hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):wp);wp.range;const La=1e3,In=La*60,Ba=In*60,Qa=Ba*24,xw=Qa*7,zP=Qa*30,$x=Qa*365,to=hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCSeconds());to.range;const vw=hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getMinutes());vw.range;const yw=hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCMinutes());yw.range;const bw=hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La-e.getMinutes()*In)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getHours());bw.range;const kw=hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCHours());kw.range;const cf=hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*In)/Qa,e=>e.getDate()-1);cf.range;const tg=hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>e.getUTCDate()-1);tg.range;const PD=hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>Math.floor(e/Qa));PD.range;function Ao(e){return hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*In)/xw)}const rg=Ao(0),jp=Ao(1),Ote=Ao(2),Ete=Ao(3),Bl=Ao(4),Cte=Ao(5),_te=Ao(6);rg.range;jp.range;Ote.range;Ete.range;Bl.range;Cte.range;_te.range;function Oo(e){return hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xw)}const ng=Oo(0),Sp=Oo(1),Dte=Oo(2),Mte=Oo(3),Fl=Oo(4),$te=Oo(5),Rte=Oo(6);ng.range;Sp.range;Dte.range;Mte.range;Fl.range;$te.range;Rte.range;const ww=hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ww.range;const jw=hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jw.range;const Za=hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Za.range;const es=hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});es.range;function TD(e,t,r,n,s,i){const o=[[to,1,La],[to,5,5*La],[to,15,15*La],[to,30,30*La],[i,1,In],[i,5,5*In],[i,15,15*In],[i,30,30*In],[s,1,Ba],[s,3,3*Ba],[s,6,6*Ba],[s,12,12*Ba],[n,1,Qa],[n,2,2*Qa],[r,1,xw],[t,1,zP],[t,3,3*zP],[e,1,$x]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=sw(([,,k])=>k).right(o,h);if(p===o.length)return e.every(ny(u/$x,d/$x,f));if(p===0)return wp.every(Math.max(ny(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Ite,Lte]=TD(es,jw,ng,PD,kw,yw),[Bte,Fte]=TD(Za,ww,rg,cf,bw,vw);function Rx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ix(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Kte(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=zc(s),d=Vc(s),f=zc(i),h=Vc(i),p=zc(o),g=Vc(o),m=zc(l),k=Vc(l),v=zc(c),y=Vc(c),x={a:V,A:R,b:B,B:I,c:null,d:qP,e:qP,f:ure,g:bre,G:wre,H:ore,I:lre,j:cre,L:AD,m:dre,M:fre,p:U,q:ee,Q:XP,s:QP,S:hre,u:pre,U:mre,V:gre,w:xre,W:vre,x:null,X:null,y:yre,Y:kre,Z:jre,"%":JP},j={a:H,A:oe,b:ue,B:de,c:null,d:YP,e:YP,f:Tre,g:Ire,G:Bre,H:Sre,I:Nre,j:Pre,L:ED,m:Are,M:Ore,p:ye,q:be,Q:XP,s:QP,S:Ere,u:Cre,U:_re,V:Dre,w:Mre,W:$re,x:null,X:null,y:Rre,Y:Lre,Z:Fre,"%":JP},w={a:F,A:$,b:O,B:_,c:z,d:WP,e:WP,f:nre,g:HP,G:UP,H:GP,I:GP,j:Zte,L:rre,m:Qte,M:ere,p:A,q:Xte,Q:sre,s:ire,S:tre,u:Wte,U:Gte,V:qte,w:Hte,W:Yte,x:J,X:Z,y:HP,Y:UP,Z:Jte,"%":are};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(fe,xe){return function(ve){var te=[],ne=-1,G=0,Q=fe.length,L,C,ae;for(ve instanceof Date||(ve=new Date(+ve));++ne<Q;)fe.charCodeAt(ne)===37&&(te.push(fe.slice(G,ne)),(C=VP[L=fe.charAt(++ne)])!=null?L=fe.charAt(++ne):C=L==="e"?" ":"0",(ae=xe[L])&&(L=ae(ve,C)),te.push(L),G=ne+1);return te.push(fe.slice(G,ne)),te.join("")}}function N(fe,xe){return function(ve){var te=Kc(1900,void 0,1),ne=T(te,fe,ve+="",0),G,Q;if(ne!=ve.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(xe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(G=Ix(Kc(te.y,0,1)),Q=G.getUTCDay(),G=Q>4||Q===0?Sp.ceil(G):Sp(G),G=tg.offset(G,(te.V-1)*7),te.y=G.getUTCFullYear(),te.m=G.getUTCMonth(),te.d=G.getUTCDate()+(te.w+6)%7):(G=Rx(Kc(te.y,0,1)),Q=G.getDay(),G=Q>4||Q===0?jp.ceil(G):jp(G),G=cf.offset(G,(te.V-1)*7),te.y=G.getFullYear(),te.m=G.getMonth(),te.d=G.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Q="Z"in te?Ix(Kc(te.y,0,1)).getUTCDay():Rx(Kc(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Q+5)%7:te.w+te.U*7-(Q+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Ix(te)):Rx(te)}}function T(fe,xe,ve,te){for(var ne=0,G=xe.length,Q=ve.length,L,C;ne<G;){if(te>=Q)return-1;if(L=xe.charCodeAt(ne++),L===37){if(L=xe.charAt(ne++),C=w[L in VP?xe.charAt(ne++):L],!C||(te=C(fe,ve,te))<0)return-1}else if(L!=ve.charCodeAt(te++))return-1}return te}function A(fe,xe,ve){var te=u.exec(xe.slice(ve));return te?(fe.p=d.get(te[0].toLowerCase()),ve+te[0].length):-1}function F(fe,xe,ve){var te=p.exec(xe.slice(ve));return te?(fe.w=g.get(te[0].toLowerCase()),ve+te[0].length):-1}function $(fe,xe,ve){var te=f.exec(xe.slice(ve));return te?(fe.w=h.get(te[0].toLowerCase()),ve+te[0].length):-1}function O(fe,xe,ve){var te=v.exec(xe.slice(ve));return te?(fe.m=y.get(te[0].toLowerCase()),ve+te[0].length):-1}function _(fe,xe,ve){var te=m.exec(xe.slice(ve));return te?(fe.m=k.get(te[0].toLowerCase()),ve+te[0].length):-1}function z(fe,xe,ve){return T(fe,t,xe,ve)}function J(fe,xe,ve){return T(fe,r,xe,ve)}function Z(fe,xe,ve){return T(fe,n,xe,ve)}function V(fe){return o[fe.getDay()]}function R(fe){return i[fe.getDay()]}function B(fe){return c[fe.getMonth()]}function I(fe){return l[fe.getMonth()]}function U(fe){return s[+(fe.getHours()>=12)]}function ee(fe){return 1+~~(fe.getMonth()/3)}function H(fe){return o[fe.getUTCDay()]}function oe(fe){return i[fe.getUTCDay()]}function ue(fe){return c[fe.getUTCMonth()]}function de(fe){return l[fe.getUTCMonth()]}function ye(fe){return s[+(fe.getUTCHours()>=12)]}function be(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var xe=S(fe+="",x);return xe.toString=function(){return fe},xe},parse:function(fe){var xe=N(fe+="",!1);return xe.toString=function(){return fe},xe},utcFormat:function(fe){var xe=S(fe+="",j);return xe.toString=function(){return fe},xe},utcParse:function(fe){var xe=N(fe+="",!0);return xe.toString=function(){return fe},xe}}}var VP={"-":"",_:" ",0:"0"},br=/^\s*\d+/,zte=/^%/,Vte=/[\\^$*+?|[\]().{}]/g;function ut(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Ute(e){return e.replace(Vte,"\\$&")}function zc(e){return new RegExp("^(?:"+e.map(Ute).join("|")+")","i")}function Vc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Hte(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Wte(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Gte(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qte(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Yte(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UP(e,t,r){var n=br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function HP(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jte(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xte(e,t,r){var n=br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Qte(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WP(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Zte(e,t,r){var n=br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GP(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ere(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tre(e,t,r){var n=br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function rre(e,t,r){var n=br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function nre(e,t,r){var n=br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function are(e,t,r){var n=zte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sre(e,t,r){var n=br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ire(e,t,r){var n=br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function qP(e,t){return ut(e.getDate(),t,2)}function ore(e,t){return ut(e.getHours(),t,2)}function lre(e,t){return ut(e.getHours()%12||12,t,2)}function cre(e,t){return ut(1+cf.count(Za(e),e),t,3)}function AD(e,t){return ut(e.getMilliseconds(),t,3)}function ure(e,t){return AD(e,t)+"000"}function dre(e,t){return ut(e.getMonth()+1,t,2)}function fre(e,t){return ut(e.getMinutes(),t,2)}function hre(e,t){return ut(e.getSeconds(),t,2)}function pre(e){var t=e.getDay();return t===0?7:t}function mre(e,t){return ut(rg.count(Za(e)-1,e),t,2)}function OD(e){var t=e.getDay();return t>=4||t===0?Bl(e):Bl.ceil(e)}function gre(e,t){return e=OD(e),ut(Bl.count(Za(e),e)+(Za(e).getDay()===4),t,2)}function xre(e){return e.getDay()}function vre(e,t){return ut(jp.count(Za(e)-1,e),t,2)}function yre(e,t){return ut(e.getFullYear()%100,t,2)}function bre(e,t){return e=OD(e),ut(e.getFullYear()%100,t,2)}function kre(e,t){return ut(e.getFullYear()%1e4,t,4)}function wre(e,t){var r=e.getDay();return e=r>=4||r===0?Bl(e):Bl.ceil(e),ut(e.getFullYear()%1e4,t,4)}function jre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ut(t/60|0,"0",2)+ut(t%60,"0",2)}function YP(e,t){return ut(e.getUTCDate(),t,2)}function Sre(e,t){return ut(e.getUTCHours(),t,2)}function Nre(e,t){return ut(e.getUTCHours()%12||12,t,2)}function Pre(e,t){return ut(1+tg.count(es(e),e),t,3)}function ED(e,t){return ut(e.getUTCMilliseconds(),t,3)}function Tre(e,t){return ED(e,t)+"000"}function Are(e,t){return ut(e.getUTCMonth()+1,t,2)}function Ore(e,t){return ut(e.getUTCMinutes(),t,2)}function Ere(e,t){return ut(e.getUTCSeconds(),t,2)}function Cre(e){var t=e.getUTCDay();return t===0?7:t}function _re(e,t){return ut(ng.count(es(e)-1,e),t,2)}function CD(e){var t=e.getUTCDay();return t>=4||t===0?Fl(e):Fl.ceil(e)}function Dre(e,t){return e=CD(e),ut(Fl.count(es(e),e)+(es(e).getUTCDay()===4),t,2)}function Mre(e){return e.getUTCDay()}function $re(e,t){return ut(Sp.count(es(e)-1,e),t,2)}function Rre(e,t){return ut(e.getUTCFullYear()%100,t,2)}function Ire(e,t){return e=CD(e),ut(e.getUTCFullYear()%100,t,2)}function Lre(e,t){return ut(e.getUTCFullYear()%1e4,t,4)}function Bre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Fl(e):Fl.ceil(e),ut(e.getUTCFullYear()%1e4,t,4)}function Fre(){return"+0000"}function JP(){return"%"}function XP(e){return+e}function QP(e){return Math.floor(+e/1e3)}var Ro,_D,DD;Kre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kre(e){return Ro=Kte(e),_D=Ro.format,Ro.parse,DD=Ro.utcFormat,Ro.utcParse,Ro}function zre(e){return new Date(e)}function Vre(e){return e instanceof Date?+e:+new Date(+e)}function Sw(e,t,r,n,s,i,o,l,c,u){var d=uw(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),k=u("%I %p"),v=u("%a %d"),y=u("%b %d"),x=u("%B"),j=u("%Y");function w(S){return(c(S)<S?p:l(S)<S?g:o(S)<S?m:i(S)<S?k:n(S)<S?s(S)<S?v:y:r(S)<S?x:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Vre)):h().map(zre)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?w:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(yD(N,S)):d},d.copy=function(){return lf(d,Sw(e,t,r,n,s,i,o,l,c,u))},d}function Ure(){return Un.apply(Sw(Bte,Fte,Za,ww,rg,cf,bw,vw,to,_D).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hre(){return Un.apply(Sw(Ite,Lte,es,jw,ng,tg,kw,yw,to,DD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ag(){var e=0,t=1,r,n,s,i,o=Xr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(kc),u.rangeRound=d(cw),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Ai(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MD(){var e=Ti(ag()(Xr));return e.copy=function(){return Ai(e,MD())},ss.apply(e,arguments)}function $D(){var e=hw(ag()).domain([1,10]);return e.copy=function(){return Ai(e,$D()).base(e.base())},ss.apply(e,arguments)}function RD(){var e=pw(ag());return e.copy=function(){return Ai(e,RD()).constant(e.constant())},ss.apply(e,arguments)}function Nw(){var e=mw(ag());return e.copy=function(){return Ai(e,Nw()).exponent(e.exponent())},ss.apply(e,arguments)}function Wre(){return Nw.apply(null,arguments).exponent(.5)}function ID(){var e=[],t=Xr;function r(n){if(n!=null&&!isNaN(n=+n))return t((sf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(fi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>_ee(e,i/n))},r.copy=function(){return ID(t).domain(e)},ss.apply(r,arguments)}function sg(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Xr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(k){var v,y,x;return arguments.length?([v,y,x]=k,u=ate(m,[v,y,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(kc),p.rangeRound=g(cw),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function LD(){var e=Ti(sg()(Xr));return e.copy=function(){return Ai(e,LD())},ss.apply(e,arguments)}function BD(){var e=hw(sg()).domain([.1,1,10]);return e.copy=function(){return Ai(e,BD()).base(e.base())},ss.apply(e,arguments)}function FD(){var e=pw(sg());return e.copy=function(){return Ai(e,FD()).constant(e.constant())},ss.apply(e,arguments)}function Pw(){var e=mw(sg());return e.copy=function(){return Ai(e,Pw()).exponent(e.exponent())},ss.apply(e,arguments)}function Gre(){return Pw.apply(null,arguments).exponent(.5)}const ZP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xd,scaleDiverging:LD,scaleDivergingLog:BD,scaleDivergingPow:Pw,scaleDivergingSqrt:Gre,scaleDivergingSymlog:FD,scaleIdentity:vD,scaleImplicit:ay,scaleLinear:kp,scaleLog:bD,scaleOrdinal:iw,scalePoint:Mu,scalePow:gw,scaleQuantile:jD,scaleQuantize:SD,scaleRadial:wD,scaleSequential:MD,scaleSequentialLog:$D,scaleSequentialPow:Nw,scaleSequentialQuantile:ID,scaleSequentialSqrt:Wre,scaleSequentialSymlog:RD,scaleSqrt:Tte,scaleSymlog:kD,scaleThreshold:ND,scaleTime:Ure,scaleUtc:Hre,tickFormat:xD},Symbol.toStringTag,{value:"Module"}));var qre=fc;function Yre(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!qre(o):r(o,l)))var l=o,c=i}return c}var ig=Yre;function Jre(e,t){return e>t}var KD=Jre,Xre=ig,Qre=KD,Zre=bc;function ene(e){return e&&e.length?Xre(e,Zre,Qre):void 0}var tne=ene;const og=ft(tne);function rne(e,t){return e<t}var zD=rne,nne=ig,ane=zD,sne=bc;function ine(e){return e&&e.length?nne(e,sne,ane):void 0}var one=ine;const lg=ft(one);var lne=Fk,cne=Pa,une=J4,dne=dn;function fne(e,t){var r=dne(e)?lne:une;return r(e,cne(t))}var hne=fne,pne=q4,mne=hne;function gne(e,t){return pne(mne(e,t),1)}var xne=gne;const vne=ft(xne);var yne=tw;function bne(e,t){return yne(e,t)}var kne=bne;const uf=ft(kne);var wc=1e9,wne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Aw,Dt=!0,zn="[DecimalError] ",lo=zn+"Invalid argument: ",Tw=zn+"Exponent out of range: ",jc=Math.floor,Ui=Math.pow,jne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,pr=1e7,Et=7,VD=9007199254740991,Np=jc(VD/Et),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return Wa(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return yt(Wa(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return tr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vn))throw Error(zn+"NaN");if(r.s<1)throw Error(zn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(Dt=!1,t=Wa(wd(r,i),wd(e,i),i),Dt=!0,yt(t,s))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WD(t,e):UD(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(zn+"NaN");return r.s?(Dt=!1,t=Wa(r,e,0,1).times(e),Dt=!0,r.minus(t)):yt(new n(r),s)};Ce.naturalExponential=Ce.exp=function(){return HD(this)};Ce.naturalLogarithm=Ce.ln=function(){return wd(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UD(t,e):WD(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lo+e);if(t=tr(s)+1,n=s.d.length-1,r=n*Et+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zn+"NaN")}for(e=tr(l),Dt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=ma(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=jc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Wa(l,i,o+2)).times(.5),ma(i.d).slice(0,o)===(t=ma(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(yt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Dt=!0,yt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%pr|0,t=l/pr|0;i[s]=(i[s]+t)%pr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Dt?yt(e,f.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ja(e,0,wc),t===void 0?t=n.rounding:ja(t,0,8),yt(r,e+tr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=yo(n,!0):(ja(e,0,wc),t===void 0?t=s.rounding:ja(t,0,8),n=yt(new s(n),e+1,t),r=yo(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?yo(s):(ja(e,0,wc),t===void 0?t=i.rounding:ja(t,0,8),n=yt(new i(s),e+tr(s)+1,t),r=yo(n.abs(),!1,e+tr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return yt(new t(e),tr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vn);if(l=new c(l),!l.s){if(e.s<1)throw Error(zn+"Infinity");return l}if(l.eq(vn))return l;if(n=c.precision,e.eq(vn))return yt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=VD){for(s=new c(vn),t=Math.ceil(n/Et+4),Dt=!1;r%2&&(s=s.times(l),t2(s.d,t)),r=jc(r/2),r!==0;)l=l.times(l),t2(l.d,t);return Dt=!0,e.s<0?new c(vn).div(s):yt(s,n)}}else if(i<0)throw Error(zn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Dt=!1,s=e.times(wd(l,n+u)),Dt=!0,s=HD(s),s.s=i,s};Ce.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=tr(s),n=yo(s,r<=i.toExpNeg||r>=i.toExpPos)):(ja(e,1,wc),t===void 0?t=i.rounding:ja(t,0,8),s=yt(new i(s),e,t),r=tr(s),n=yo(s,e<=r||r<=i.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ja(e,1,wc),t===void 0?t=n.rounding:ja(t,0,8)),yt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tr(e),r=e.constructor;return yo(e,t<=r.toExpNeg||t>=r.toExpPos)};function UD(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Dt?yt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Et),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/pr|0,c[i]%=pr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Dt?yt(t,f):t}function ja(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lo+e)}function ma(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Et-n.length,r&&(i+=Hs(r)),i+=n;o=e[t],n=o+"",r=Et-n.length,r&&(i+=Hs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Wa=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%pr|0,o=i/pr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*pr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,g,m,k,v,y,x,j,w,S,N,T,A=n.constructor,F=n.s==s.s?1:-1,$=n.d,O=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(zn+"Division by zero");for(c=n.e-s.e,N=O.length,w=$.length,p=new A(F),g=p.d=[],u=0;O[u]==($[u]||0);)++u;if(O[u]>($[u]||0)&&--c,i==null?y=i=A.precision:o?y=i+(tr(n)-tr(s))+1:y=i,y<0)return new A(0);if(y=y/Et+2|0,u=0,N==1)for(d=0,O=O[0],y++;(u<w||d)&&y--;u++)x=d*pr+($[u]||0),g[u]=x/O|0,d=x%O|0;else{for(d=pr/(O[0]+1)|0,d>1&&(O=e(O,d),$=e($,d),N=O.length,w=$.length),j=N,m=$.slice(0,N),k=m.length;k<N;)m[k++]=0;T=O.slice(),T.unshift(0),S=O[0],O[1]>=pr/2&&++S;do d=0,l=t(O,m,N,k),l<0?(v=m[0],N!=k&&(v=v*pr+(m[1]||0)),d=v/S|0,d>1?(d>=pr&&(d=pr-1),f=e(O,d),h=f.length,k=m.length,l=t(f,m,h,k),l==1&&(d--,r(f,N<h?T:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<k&&f.unshift(0),r(m,f,k),l==-1&&(k=m.length,l=t(O,m,N,k),l<1&&(d++,r(m,N<k?T:O,k))),k=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[k++]=$[j]||0:(m=[$[j]],k=1);while((j++<w||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,yt(p,o?i+tr(p)+1:i)}}();function HD(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(tr(e)>16)throw Error(Tw+tr(e));if(!e.s)return new d(vn);for(Dt=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ui(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(vn),d.precision=l;;){if(s=yt(s.times(e),l),r=r.times(++c),o=i.plus(Wa(s,r,l)),ma(o.d).slice(0,l)===ma(i.d).slice(0,l)){for(;u--;)i=yt(i.times(i),l);return d.precision=f,t==null?(Dt=!0,yt(i,f)):i}i=o}}function tr(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function Lx(e,t,r){if(t>e.LN10.sd())throw Dt=!0,r&&(e.precision=r),Error(zn+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function Hs(e){for(var t="";e--;)t+="0";return t}function wd(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,k=m.precision;if(p.s<1)throw Error(zn+(p.s?"NaN":"-Infinity"));if(p.eq(vn))return new m(0);if(t==null?(Dt=!1,u=k):u=t,p.eq(10))return t==null&&(Dt=!0),Lx(m,u);if(u+=h,m.precision=u,r=ma(g),n=r.charAt(0),i=tr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ma(p.d),n=r.charAt(0),f++;i=tr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Lx(m,u+2,k).times(i+""),p=wd(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=k,t==null?(Dt=!0,yt(p,k)):p;for(l=o=p=Wa(p.minus(vn),p.plus(vn),u),d=yt(p.times(p),u),s=3;;){if(o=yt(o.times(d),u),c=l.plus(Wa(o,new m(s),u)),ma(c.d).slice(0,u)===ma(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Lx(m,u+2,k).times(i+""))),l=Wa(l,new m(f),u),m.precision=k,t==null?(Dt=!0,yt(l,k)):l;l=c,s+=2}}function e2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=jc(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Et;n<s;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Dt&&(e.e>Np||e.e<-Np))throw Error(Tw+r)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Et,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Et),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Et,s=n-Et+o}if(r!==void 0&&(i=Ui(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Ui(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=tr(e),f.length=1,t=t-i-1,f[0]=Ui(10,(Et-t%Et)%Et),e.e=jc(-t/Et)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ui(10,Et-n),f[d]=s>0?(u/Ui(10,o-s)%Ui(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==pr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=pr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Dt&&(e.e>Np||e.e<-Np))throw Error(Tw+tr(e));return e}function WD(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Dt?yt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Et),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=pr-1;--c[i],c[s]+=pr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Dt?yt(t,p):t):new h(0)}function yo(e,t,r){var n,s=tr(e),i=ma(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Hs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Hs(-s-1)+i,r&&(n=r-o)>0&&(i+=Hs(n))):s>=o?(i+=Hs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Hs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Hs(n))),e.s<0?"-"+i:i}function t2(e,t){if(e.length>t)return e.length=t,!0}function GD(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return e2(o,i.toString())}else if(typeof i!="string")throw Error(lo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jne.test(i))e2(o,i);else throw Error(lo+i)}if(s.prototype=Ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=GD,s.config=s.set=Sne,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Sne(e){if(!e||typeof e!="object")throw Error(zn+"Object expected");var t,r,n,s=["precision",1,wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(jc(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(lo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lo+r+": "+n);return this}var Aw=GD(wne);vn=new Aw(1);const vt=Aw;function Nne(e){return One(e)||Ane(e)||Tne(e)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(e,t){if(e){if(typeof e=="string")return ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ly(e,t)}}function Ane(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function One(e){if(Array.isArray(e))return ly(e)}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ene=function(t){return t},qD={},YD=function(t){return t===qD},r2=function(t){return function r(){return arguments.length===0||arguments.length===1&&YD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Cne=function e(t,r){return t===1?r:r2(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==qD}).length;return o>=t?r.apply(void 0,s):e(t-o,r2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return YD(f)?c.shift():f});return r.apply(void 0,Nne(d).concat(c))}))})},cg=function(t){return Cne(t.length,t)},cy=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},_ne=cg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Dne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Ene;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},uy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},JD=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Mne(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function $ne(e,t,r){for(var n=new vt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var Rne=cg(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Ine=cg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Lne=cg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ug={rangeStep:$ne,getDigitCount:Mne,interpolateNumber:Rne,uninterpolateNumber:Ine,uninterpolateTruncation:Lne};function dy(e){return Kne(e)||Fne(e)||XD(e)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kne(e){if(Array.isArray(e))return fy(e)}function jd(e,t){return Une(e)||Vne(e,t)||XD(e,t)||zne()}function zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XD(e,t){if(e){if(typeof e=="string")return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(e,t)}}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vne(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Une(e){if(Array.isArray(e))return e}function QD(e){var t=jd(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function ZD(e,t,r){if(e.lte(0))return new vt(0);var n=ug.getDigitCount(e.toNumber()),s=new vt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new vt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new vt(Math.ceil(c))}function Hne(e,t,r){var n=1,s=new vt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new vt(10).pow(ug.getDigitCount(e)-1),s=new vt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new vt(Math.floor(e)))}else e===0?s=new vt(Math.floor((t-1)/2)):r||(s=new vt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Dne(_ne(function(c){return s.add(new vt(c-o).mul(n)).toNumber()}),cy);return l(0,t)}function eM(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var i=ZD(new vt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new vt(0):(o=new vt(e).add(t).div(2),o=o.sub(new vt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new vt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?eM(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new vt(l).mul(i)),tickMax:o.add(new vt(c).mul(i))})}function Wne(e){var t=jd(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=QD([r,n]),c=jd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(dy(cy(0,s-1).map(function(){return 1/0}))):[].concat(dy(cy(0,s-1).map(function(){return-1/0})),[d]);return r>n?uy(f):f}if(u===d)return Hne(u,s,i);var h=eM(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,k=ug.rangeStep(g,m.add(new vt(.1).mul(p)),p);return r>n?uy(k):k}function Gne(e,t){var r=jd(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=QD([n,s]),l=jd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=ZD(new vt(u).sub(c).div(d-1),i,0),h=[].concat(dy(ug.rangeStep(new vt(c),new vt(u).sub(new vt(.99).mul(f)),f)),[u]);return n>s?uy(h):h}var qne=JD(Wne),Yne=JD(Gne),Jne="Invariant failed";function bo(e,t){throw new Error(Jne)}var Xne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(this,arguments)}function Qne(e,t){return rae(e)||tae(e,t)||eae(e,t)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(e,t){if(e){if(typeof e=="string")return n2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(e,t)}}function n2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rae(e){if(Array.isArray(e))return e}function nae(e,t){if(e==null)return{};var r=aae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nM(n.key),n)}}function oae(e,t,r){return t&&iae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lae(e,t,r){return t=Tp(t),cae(e,tM()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function cae(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uae(e)}function uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function dae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hy(e,t)}function rM(e,t,r){return t=nM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nM(e){var t=fae(e,"string");return Kl(t)=="symbol"?t:t+""}function fae(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var df=function(e){function t(){return sae(this,t),lae(this,t,arguments)}return dae(t,e),oae(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=nae(n,Xne),p=Le(h,!1);this.props.direction==="x"&&d.type!=="number"&&bo();var g=c.map(function(m){var k=u(m,l),v=k.x,y=k.y,x=k.value,j=k.errorVal;if(!j)return null;var w=[],S,N;if(Array.isArray(j)){var T=Qne(j,2);S=T[0],N=T[1]}else S=N=j;if(i==="vertical"){var A=d.scale,F=y+s,$=F+o,O=F-o,_=A(x-S),z=A(x+N);w.push({x1:z,y1:$,x2:z,y2:O}),w.push({x1:_,y1:F,x2:z,y2:F}),w.push({x1:_,y1:$,x2:_,y2:O})}else if(i==="horizontal"){var J=f.scale,Z=v+s,V=Z-o,R=Z+o,B=J(x-S),I=J(x+N);w.push({x1:V,y1:I,x2:R,y2:I}),w.push({x1:Z,y1:B,x2:Z,y2:I}),w.push({x1:V,y1:B,x2:R,y2:B})}return re.createElement(ct,Pp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},p),w.map(function(U){return re.createElement("line",Pp({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return re.createElement(ct,{className:"recharts-errorBars"},g)}}])}(re.Component);rM(df,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rM(df,"displayName","ErrorBar");function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hae(e,t,r){return t=pae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pae(e){var t=mae(e,"string");return Sd(t)=="symbol"?t:t+""}function mae(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aM=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=gn(r,pa);if(!o)return null;var l=pa.defaultProps,c=l!==void 0?Ci(Ci({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ci(Ci({},h),f.props):{},g=p.dataKey,m=p.name,k=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:c.iconType||k||"square",color:Ow(f),value:m||g,payload:p}}),Ci(Ci(Ci({},c),pa.getWithHeight(o,s)),{},{payload:u,item:o})};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function s2(e){return yae(e)||vae(e)||xae(e)||gae()}function gae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function vae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yae(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){yl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yl(e,t,r){return t=bae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bae(e){var t=kae(e,"string");return Nd(t)=="symbol"?t:t+""}function kae(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cr(e,t,r){return He(e)||He(t)?r:dr(t)?kn(e,t,r):Ve(t)?t(e):r}function $u(e,t,r,n){var s=vne(e,function(l){return cr(l,t)});if(r==="number"){var i=s.filter(function(l){return Ne(l)||parseFloat(l)});return i.length?[lg(i),og(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!He(l)}):s;return o.map(function(l){return dr(l)||l instanceof Date?l:""})}var wae=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Yr(f-d)!==Yr(h-f)){var g=[];if(Yr(h-f)===Yr(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var k=h+c[1]-c[0];g[0]=Math.min(f,(k+f)/2),g[1]=Math.max(f,(k+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),x=Math.max(d,h);if(t>(y+f)/2&&t<=(x+f)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},Ow=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ut(Ut({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jae=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,k=g.cateAxisId,v=m.filter(function(N){return Ha(N.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,x=y!==void 0?Ut(Ut({},y),v[0].props):v[0].props,j=x.barSize,w=x[k];o[w]||(o[w]=[]);var S=He(j)?r:j;o[w].push({item:v[0],stackList:v.slice(1),barSize:He(S)?void 0:Jr(S,n,0)})}}return o},Sae=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Jr(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(j,w){return j+w.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,k={offset:m-u,size:0};d=o.reduce(function(j,w){var S={item:w.item,position:{offset:k.offset+k.size+u,size:h?p:w.barSize}},N=[].concat(s2(j),[S]);return k=N[N.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){N.push({item:T,position:k})}),N},f)}else{var v=Jr(n,s,0,!0);s-2*v-(c-1)*u<=0&&(u=0);var y=(s-2*v-(c-1)*u)/c;y>1&&(y>>=0);var x=l===+l?Math.min(y,l):y;d=o.reduce(function(j,w,S){var N=[].concat(s2(j),[{item:w.item,position:{offset:v+(y+u)*S+(y-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){N.push({item:T,position:N[N.length-1].position})}),N},f)}return d},Nae=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=aM({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ne(t[p]))return Ut(Ut({},t),{},yl({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ne(t[g]))return Ut(Ut({},t),{},yl({},g,t[g]+(h||0)))}return t},Pae=function(t,r,n){return He(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},sM=function(t,r,n,s,i){var o=r.props.children,l=wn(o,df).filter(function(u){return Pae(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=cr(d,n);if(He(f))return u;var h=Array.isArray(f)?[lg(f),og(f)]:[f,f],p=c.reduce(function(g,m){var k=cr(d,m,0),v=h[0]-Math.abs(Array.isArray(k)?k[0]:k),y=h[1]+Math.abs(Array.isArray(k)?k[1]:k);return[Math.min(v,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Tae=function(t,r,n,s,i){var o=r.map(function(l){return sM(t,l,n,i,s)}).filter(function(l){return!He(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},iM=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&sM(t,c,u,s)||$u(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},oM=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},lM=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Fa=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Yr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!nf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Bx=new WeakMap,Uf=function(t,r){if(typeof r!="function")return t;Bx.has(t)||Bx.set(t,new WeakMap);var n=Bx.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},cM=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:kp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Mu(),realScaleType:"point"}:i==="category"?{scale:xd(),realScaleType:"band"}:{scale:kp(),realScaleType:"linear"};if(go(s)){var c="scale".concat(Gm(s));return{scale:(ZP[c]||Mu)(),realScaleType:ZP[c]?c:"point"}}return Ve(s)?{scale:s}:{scale:Mu(),realScaleType:"point"}},o2=1e-4,uM=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-o2,o=Math.max(s[0],s[1])+o2,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Aae=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Oae=function(t,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},Eae=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=nf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Cae=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=nf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},_ae={sign:Eae,expand:XU,none:Dl,silhouette:QU,wiggle:ZU,positive:Cae},Dae=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=_ae[n],o=JU().keys(s).value(function(l,c){return+cr(l,c,0)}).order(Bv).offset(i);return o(t)},Mae=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ut(Ut({},h.type.defaultProps),h.props):h.props,m=g.stackId,k=g.hide;if(k)return f;var v=g[n],y=f[v]||{hasStack:!1,stackGroups:{}};if(dr(m)){var x=y.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};x.items.push(h),y.hasStack=!0,y.stackGroups[m]=x}else y.stackGroups[xc("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Ut(Ut({},f),{},yl({},v,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,k){var v=p.stackGroups[k];return Ut(Ut({},m),{},yl({},k,{numericAxisId:n,cateAxisId:s,items:v.items,stackedData:Dae(t,v.items,i)}))},g)}return Ut(Ut({},f),{},yl({},h,p))},d)},dM=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=qne(u,i,l);return t.domain([lg(d),og(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=Yne(f,i,l);return{niceTicks:h}}return null};function l2(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(s[t.dataKey])){var l=ep(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=cr(s,He(o)?t.dataKey:o);return He(c)?null:t.scale(c)}var c2=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=cr(o,r.dataKey,r.domain[l]);return He(c)?null:r.scale(c)-i/2+s},$ae=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Rae=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ut(Ut({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(dr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Iae=function(t){return t.reduce(function(r,n){return[lg(n.concat([r[0]]).filter(Ne)),og(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},fM=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Iae(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},u2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,my=function(t,r,n){if(Ve(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Ne(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(u2.test(t[0])){var i=+u2.exec(t[0])[1];s[0]=r[0]-i}else Ve(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Ne(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(d2.test(t[1])){var o=+d2.exec(t[1])[1];s[1]=r[1]+o}else Ve(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Ap=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=nw(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},f2=function(t,r,n){return!t||!t.length||uf(t,kn(n,"type.defaultProps.domain"))?r:t},hM=function(t,r){var n=t.type.defaultProps?Ut(Ut({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ut(Ut({},Le(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Ow(t),value:cr(r,s),type:c,payload:r,chartType:u,hide:d})};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){pM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pM(e,t,r){return t=Lae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lae(e){var t=Bae(e,"string");return Pd(t)=="symbol"?t:t+""}function Bae(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fae(e,t){return Uae(e)||Vae(e,t)||zae(e,t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zae(e,t){if(e){if(typeof e=="string")return p2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p2(e,t)}}function p2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Uae(e){if(Array.isArray(e))return e}var Op=Math.PI/180,Hae=function(t){return t*180/Math.PI},St=function(t,r,n,s){return{x:t+Math.cos(-Op*s)*n,y:r+Math.sin(-Op*s)*n}},mM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Wae=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Jr(t.cx,o,o/2),f=Jr(t.cy,l,l/2),h=mM(o,l,n),p=Jr(t.innerRadius,h,0),g=Jr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(k,v){var y=r[v],x=y.domain,j=y.reversed,w;if(He(y.range))s==="angleAxis"?w=[c,u]:s==="radiusAxis"&&(w=[p,g]),j&&(w=[w[1],w[0]]);else{w=y.range;var S=w,N=Fae(S,2);c=N[0],u=N[1]}var T=cM(y,i),A=T.realScaleType,F=T.scale;F.domain(x).range(w),uM(F);var $=dM(F,Da(Da({},y),{},{realScaleType:A})),O=Da(Da(Da({},y),$),{},{range:w,radius:g,realScaleType:A,scale:F,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Da(Da({},k),{},pM({},v,O))},{})},Gae=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},qae=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=Gae({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Hae(u),angleInRadian:u}},Yae=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Jae=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},m2=function(t,r){var n=t.x,s=t.y,i=qae({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Yae(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Da(Da({},r),{},{radius:o,angle:Jae(p,r)}):null},gM=function(t){return!b.isValidElement(t)&&!Ve(t)&&typeof t!="boolean"?t.className:""};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}var Xae=["offset"];function Qae(e){return rse(e)||tse(e)||ese(e)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function tse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rse(e){if(Array.isArray(e))return gy(e)}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nse(e,t){if(e==null)return{};var r=ase(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ase(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t,r){return t=ise(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ise(e){var t=ose(e,"string");return Td(t)=="symbol"?t:t+""}function ose(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}var lse=function(t){var r=t.value,n=t.formatter,s=He(t.children)?r:t.children;return Ve(n)?n(s):s},cse=function(t,r){var n=Yr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},use=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,k=(f+h)/2,v=cse(p,g),y=v>=0?1:-1,x,j;s==="insideStart"?(x=p+y*o,j=m):s==="insideEnd"?(x=g-y*o,j=!m):s==="end"&&(x=g+y*o,j=m),j=v<=0?j:!j;var w=St(u,d,k,x),S=St(u,d,k,x+(j?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),T=He(t.id)?xc("recharts-radial-line-"):t.id;return re.createElement("text",Ad({},n,{dominantBaseline:"central",className:We("recharts-radial-bar-label",l)}),re.createElement("defs",null,re.createElement("path",{id:T,d:N})),re.createElement("textPath",{xlinkHref:"#".concat(T)},r))},dse=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=St(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var k=(c+u)/2,v=St(o,l,k,h),y=v.x,x=v.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},fse=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,k=m*s,v=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var x={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return ir(ir({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return ir(ir({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-k,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return ir(ir({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+k,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ir(ir({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?ir({x:l+k,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?ir({x:l+u-k,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideTop"?ir({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?ir({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?ir({x:l+k,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideTopRight"?ir({x:l+u-k,y:c+h,textAnchor:v,verticalAnchor:g},N):i==="insideBottomLeft"?ir({x:l+k,y:c+d-h,textAnchor:y,verticalAnchor:p},N):i==="insideBottomRight"?ir({x:l+u-k,y:c+d-h,textAnchor:v,verticalAnchor:p},N):hc(i)&&(Ne(i.x)||Zi(i.x))&&(Ne(i.y)||Zi(i.y))?ir({x:l+Jr(i.x,u),y:c+Jr(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):ir({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},hse=function(t){return"cx"in t&&Ne(t.cx)};function gr(e){var t=e.offset,r=t===void 0?5:t,n=nse(e,Xae),s=ir({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||He(l)&&He(c)&&!b.isValidElement(u)&&!Ve(u))return null;if(b.isValidElement(u))return b.cloneElement(u,s);var p;if(Ve(u)){if(p=b.createElement(u,s),b.isValidElement(p))return p}else p=lse(s);var g=hse(i),m=Le(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return use(s,p,m);var k=g?dse(s):fse(s);return re.createElement(vo,Ad({className:We("recharts-label",f)},m,k,{breakAll:h}),p)}gr.displayName="Label";var xM=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,k=t.height,v=t.clockWise,y=t.labelViewBox;if(y)return y;if(Ne(m)&&Ne(k)){if(Ne(f)&&Ne(h))return{x:f,y:h,width:m,height:k};if(Ne(p)&&Ne(g))return{x:p,y:g,width:m,height:k}}return Ne(f)&&Ne(h)?{x:f,y:h,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},pse=function(t,r){return t?t===!0?re.createElement(gr,{key:"label-implicit",viewBox:r}):dr(t)?re.createElement(gr,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===gr?b.cloneElement(t,{key:"label-implicit",viewBox:r}):re.createElement(gr,{key:"label-implicit",content:t,viewBox:r}):Ve(t)?re.createElement(gr,{key:"label-implicit",content:t,viewBox:r}):hc(t)?re.createElement(gr,Ad({viewBox:r},t,{key:"label-implicit"})):null:null},mse=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=xM(t),o=wn(s,gr).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=pse(t.label,r||i);return[l].concat(Qae(o))};gr.parseViewBox=xM;gr.renderCallByParent=mse;function gse(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xse=gse;const vse=ft(xse);function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}var yse=["valueAccessor"],bse=["data","dataKey","clockWise","id","textBreakAll"];function kse(e){return Nse(e)||Sse(e)||jse(e)||wse()}function wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jse(e,t){if(e){if(typeof e=="string")return xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xy(e,t)}}function Sse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nse(e){if(Array.isArray(e))return xy(e)}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){Pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pse(e,t,r){return t=Tse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tse(e){var t=Ase(e,"string");return Od(t)=="symbol"?t:t+""}function Ase(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y2(e,t){if(e==null)return{};var r=Ose(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ese=function(t){return Array.isArray(t.value)?vse(t.value):t.value};function ba(e){var t=e.valueAccessor,r=t===void 0?Ese:t,n=y2(e,yse),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=y2(n,bse);return!s||!s.length?null:re.createElement(ct,{className:"recharts-label-list"},s.map(function(d,f){var h=He(i)?r(d,f):cr(d&&d.payload,i),p=He(l)?{}:{id:"".concat(l,"-").concat(f)};return re.createElement(gr,Ep({},Le(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:gr.parseViewBox(He(o)?d:v2(v2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ba.displayName="LabelList";function Cse(e,t){return e?e===!0?re.createElement(ba,{key:"labelList-implicit",data:t}):re.isValidElement(e)||Ve(e)?re.createElement(ba,{key:"labelList-implicit",data:t,content:e}):hc(e)?re.createElement(ba,Ep({data:t},e,{key:"labelList-implicit"})):null:null}function _se(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=wn(n,ba).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Cse(e.label,t);return[i].concat(kse(s))}ba.renderCallByParent=_se;function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(this,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dse(e,t,r){return t=Mse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mse(e){var t=$se(e,"string");return Ed(t)=="symbol"?t:t+""}function $se(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rse=function(t,r){var n=Yr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Hf=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Op,h=u?i:i+o*f,p=St(r,n,d,h),g=St(r,n,s,h),m=u?i-o*f:i,k=St(r,n,d*Math.cos(f*Op),m);return{center:p,circleTangency:g,lineTangency:k,theta:f}},vM=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Rse(o,l),u=o+c,d=St(r,n,i,o),f=St(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=St(r,n,s,o),g=St(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ise=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Yr(d-u),h=Hf({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,k=Hf({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=k.circleTangency,y=k.lineTangency,x=k.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-x;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vM({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var S=Hf({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,T=S.lineTangency,A=S.theta,F=Hf({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=F.circleTangency,O=F.lineTangency,_=F.theta,z=c?Math.abs(u-d):Math.abs(u-d)-A-_;if(z<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Lse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yM=function(t){var r=k2(k2({},Lse),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=We("recharts-sector",h),g=o-i,m=Jr(l,g,0,!0),k;return m>0&&Math.abs(d-f)<360?k=Ise({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):k=vM({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),re.createElement("path",vy({},Le(r,!0),{className:p,d:k,role:"img"}))};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return t=Fse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=Kse(e,"string");return Cd(t)=="symbol"?t:t+""}function Kse(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S2={curveBasisClosed:BU,curveBasisOpen:FU,curveBasis:LU,curveBumpX:SU,curveBumpY:NU,curveLinearClosed:KU,curveLinear:Ym,curveMonotoneX:zU,curveMonotoneY:VU,curveNatural:UU,curveStep:HU,curveStepAfter:GU,curveStepBefore:WU},Wf=function(t){return t.x===+t.x&&t.y===+t.y},Uc=function(t){return t.x},Hc=function(t){return t.y},zse=function(t,r){if(Ve(t))return t;var n="curve".concat(Gm(t));return(n==="curveMonotone"||n==="curveBump")&&r?S2["".concat(n).concat(r==="vertical"?"Y":"X")]:S2[n]||Ym},Vse=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=zse(n,l),f=u?i.filter(function(m){return Wf(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Wf(m)}):o,g=f.map(function(m,k){return j2(j2({},m),{},{base:p[k]})});return l==="vertical"?h=Rf().y(Hc).x1(Uc).x0(function(m){return m.base.x}):h=Rf().x(Uc).y1(Hc).y0(function(m){return m.base.y}),h.defined(Wf).curve(d),h(g)}return l==="vertical"&&Ne(o)?h=Rf().y(Hc).x1(Uc).x0(o):Ne(o)?h=Rf().x(Uc).y1(Hc).y0(o):h=h4().x(Uc).y(Hc),h.defined(Wf).curve(d),h(f)},Cp=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Vse(t):s;return b.createElement("path",yy({},Le(t,!1),tp(t),{className:We("recharts-curve",r),d:o,ref:i}))},bM={exports:{}},Use="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hse=Use,Wse=Hse;function kM(){}function wM(){}wM.resetWarningCache=kM;var Gse=function(){function e(n,s,i,o,l,c){if(c!==Wse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wM,resetWarningCache:kM};return r.PropTypes=r,r};bM.exports=Gse();var qse=bM.exports;const dt=ft(qse),{getOwnPropertyNames:Yse,getOwnPropertySymbols:Jse}=Object,{hasOwnProperty:Xse}=Object.prototype;function N2(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Gf(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Qse(e){return e!=null?e[Symbol.toStringTag]:void 0}function P2(e){return Yse(e).concat(Jse(e))}const Zse=Object.hasOwn||((e,t)=>Xse.call(e,t));function Eo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const eie="__v",tie="__o",rie="_owner",{getOwnPropertyDescriptor:T2,keys:A2}=Object;function nie(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function aie(e,t){return Eo(e.getTime(),t.getTime())}function sie(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iie(e,t){return e===t}function O2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const oie=Eo;function lie(e,t,r){const n=A2(e);let s=n.length;if(A2(t).length!==s)return!1;for(;s-- >0;)if(!jM(e,t,r,n[s]))return!1;return!0}function Wc(e,t,r){const n=P2(e);let s=n.length;if(P2(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!jM(e,t,r,i)||(o=T2(e,i),l=T2(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function cie(e,t){return Eo(e.valueOf(),t.valueOf())}function uie(e,t){return e.source===t.source&&e.flags===t.flags}function E2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function die(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function fie(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jM(e,t,r,n){return(n===rie||n===tie||n===eie)&&(e.$$typeof||t.$$typeof)?!0:Zse(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const hie="[object Arguments]",pie="[object Boolean]",mie="[object Date]",gie="[object Error]",xie="[object Map]",vie="[object Number]",yie="[object Object]",bie="[object RegExp]",kie="[object Set]",wie="[object String]",jie="[object URL]",{isArray:Sie}=Array,C2=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:_2}=Object,Nie=Object.prototype.toString.call.bind(Object.prototype.toString);function Pie({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:s,areNumbersEqual:i,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,k){if(g===m)return!0;if(g==null||m==null)return!1;const v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?i(g,m,k):v==="function"?n(g,m,k):!1;const y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return o(g,m,k);if(Sie(g))return e(g,m,k);if(C2!=null&&C2(g))return d(g,m,k);if(y===Date)return t(g,m,k);if(y===RegExp)return c(g,m,k);if(y===Map)return s(g,m,k);if(y===Set)return u(g,m,k);const x=Nie(g);if(x===mie)return t(g,m,k);if(x===bie)return c(g,m,k);if(x===xie)return s(g,m,k);if(x===kie)return u(g,m,k);if(x===yie)return typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,k);if(x===jie)return f(g,m,k);if(x===gie)return r(g,m,k);if(x===hie)return o(g,m,k);if(x===pie||x===vie||x===wie)return l(g,m,k);if(h){let j=h[x];if(!j){const w=Qse(g);w&&(j=h[w])}if(j)return j(g,m,k)}return!1}}function Tie({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?Wc:nie,areDatesEqual:aie,areErrorsEqual:sie,areFunctionsEqual:iie,areMapsEqual:r?N2(O2,Wc):O2,areNumbersEqual:oie,areObjectsEqual:r?Wc:lie,arePrimitiveWrappersEqual:cie,areRegExpsEqual:uie,areSetsEqual:r?N2(E2,Wc):E2,areTypedArraysEqual:r?Wc:die,areUrlsEqual:fie,unknownTagComparators:void 0};if(t&&(n=_2({},n,t(n))),e){const s=Gf(n.areArraysEqual),i=Gf(n.areMapsEqual),o=Gf(n.areObjectsEqual),l=Gf(n.areSetsEqual);n=_2({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function Aie(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function Oie({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const Eie=Oi();Oi({strict:!0});Oi({circular:!0});Oi({circular:!0,strict:!0});Oi({createInternalComparator:()=>Eo});Oi({strict:!0,createInternalComparator:()=>Eo});Oi({circular:!0,createInternalComparator:()=>Eo});Oi({circular:!0,createInternalComparator:()=>Eo,strict:!0});function Oi(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=Tie(e),o=Pie(i),l=r?r(o):Aie(o);return Oie({circular:t,comparator:o,createState:n,equals:l,strict:s})}function Cie(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function D2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Cie(s)};requestAnimationFrame(n)}function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function _ie(e){return Rie(e)||$ie(e)||Mie(e)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mie(e,t){if(e){if(typeof e=="string")return M2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(e,t)}}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rie(e){if(Array.isArray(e))return e}function Iie(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=_ie(o),c=l[0],u=l.slice(1);if(typeof c=="number"){D2(s.bind(null,u),c);return}s(c),D2(s.bind(null,u));return}by(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){SM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SM(e,t,r){return t=Lie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Bie(e,"string");return _d(t)==="symbol"?t:String(t)}function Bie(e,t){if(_d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fie=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Kie=function(t){return t},zie=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ru=function(t,r){return Object.keys(r).reduce(function(n,s){return R2(R2({},n),{},SM({},s,t(s,r[s])))},{})},I2=function(t,r,n){return t.map(function(s){return"".concat(zie(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Vie(e,t){return Wie(e)||Hie(e,t)||NM(e,t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wie(e){if(Array.isArray(e))return e}function Gie(e){return Jie(e)||Yie(e)||NM(e)||qie()}function qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NM(e,t){if(e){if(typeof e=="string")return ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ky(e,t)}}function Yie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jie(e){if(Array.isArray(e))return ky(e)}function ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _p=1e-4,PM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},TM=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},L2=function(t,r){return function(n){var s=PM(t,r);return TM(s,n)}},Xie=function(t,r){return function(n){var s=PM(t,r),i=[].concat(Gie(s.map(function(o,l){return o*l}).slice(1)),[0]);return TM(i,n)}},B2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(k){return parseFloat(k)}),d=Vie(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=L2(s,o),h=L2(i,l),p=Xie(s,o),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var y=v>1?1:v,x=y,j=0;j<8;++j){var w=f(x)-y,S=p(x);if(Math.abs(w-y)<_p||S<_p)return h(x);x=g(x-w/S)}return h(x)};return m.isStepper=!1,m},Qie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,k=h*l/1e3+d;return Math.abs(k-f)<_p&&Math.abs(m)<_p?[f,0]:[k,m]};return c.isStepper=!0,c.dt=l,c},Zie=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B2(s);case"spring":return Qie();default:if(s.split("(")[0]==="cubic-bezier")return B2(s)}return typeof s=="function"?s:null};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function F2(e){return roe(e)||toe(e)||AM(e)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function roe(e){if(Array.isArray(e))return jy(e)}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){wy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wy(e,t,r){return t=noe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function noe(e){var t=aoe(e,"string");return Dd(t)==="symbol"?t:String(t)}function aoe(e,t){if(Dd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function soe(e,t){return loe(e)||ooe(e,t)||AM(e,t)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(e,t){if(e){if(typeof e=="string")return jy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jy(e,t)}}function jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ooe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function loe(e){if(Array.isArray(e))return e}var Dp=function(t,r,n){return t+(r-t)*n},Sy=function(t){var r=t.from,n=t.to;return r!==n},coe=function e(t,r,n){var s=Ru(function(i,o){if(Sy(o)){var l=t(o.from,o.to,o.velocity),c=soe(l,2),u=c[0],d=c[1];return kr(kr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ru(function(i,o){return Sy(o)?kr(kr({},o),{},{velocity:Dp(o.velocity,s[i].velocity,n),from:Dp(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const uoe=function(e,t,r,n,s){var i=Fie(e,t),o=i.reduce(function(k,v){return kr(kr({},k),{},wy({},v,[e[v],t[v]]))},{}),l=i.reduce(function(k,v){return kr(kr({},k),{},wy({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ru(function(v,y){return y.from},l)},p=function(){return!Object.values(l).filter(Sy).length},g=function(v){u||(u=v);var y=v-u,x=y/r.dt;l=coe(r,l,x),s(kr(kr(kr({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},m=function(v){d||(d=v);var y=(v-d)/n,x=Ru(function(w,S){return Dp.apply(void 0,F2(S).concat([r(y)]))},o);if(s(kr(kr(kr({},e),t),x)),y<1)c=requestAnimationFrame(f);else{var j=Ru(function(w,S){return Dp.apply(void 0,F2(S).concat([r(1)]))},o);s(kr(kr(kr({},e),t),j))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var doe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function foe(e,t){if(e==null)return{};var r=hoe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hoe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Fx(e){return xoe(e)||goe(e)||moe(e)||poe()}function poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function moe(e,t){if(e){if(typeof e=="string")return Ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ny(e,t)}}function goe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xoe(e){if(Array.isArray(e))return Ny(e)}function Ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vu(e,t,r){return t=OM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function voe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OM(n.key),n)}}function boe(e,t,r){return t&&yoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OM(e){var t=koe(e,"string");return zl(t)==="symbol"?t:String(t)}function koe(e,t){if(zl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function woe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Py(e,t)}function joe(e){var t=Soe();return function(){var n=Mp(e),s;if(t){var i=Mp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Ty(this,s)}}function Ty(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ay(e)}function Ay(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Soe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}var Sa=function(e){woe(r,e);var t=joe(r);function r(n,s){var i;voe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ay(i)),i.changeStyle=i.changeStyle.bind(Ay(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Ty(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Ty(i);i.state={style:c?vu({},c,u):u}}else i.state={style:{}};return i}return boe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?vu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Eie(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var k={style:c?vu({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(k)}this.runAnimation(Yn(Yn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=uoe(o,l,Zie(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,k,v){if(v===0)return m;var y=k.duration,x=k.easing,j=x===void 0?"ease":x,w=k.style,S=k.properties,N=k.onAnimationEnd,T=v>0?o[v-1]:k,A=S||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(Fx(m),[i.runJSAnimation.bind(i,{from:T.style,to:w,duration:y,easing:j}),y]);var F=I2(A,y,j),$=Yn(Yn(Yn({},T.style),w),{},{transition:F});return[].concat(Fx(m),[$,y,N]).filter(Kie)};return this.manager.start([c].concat(Fx(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Iie());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?vu({},l,c):c,k=I2(Object.keys(m),o,u);g.start([d,i,Yn(Yn({},m),{},{transition:k}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=foe(s,doe),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,k=m===void 0?{}:m,v=g.className,y=b.cloneElement(p,Yn(Yn({},c),{},{style:Yn(Yn({},k),d),className:v}));return y};return u===1?f(b.Children.only(i)):re.createElement("div",null,b.Children.map(i,function(h){return f(h)}))}}]),r}(b.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:dt.oneOfType([dt.object,dt.string]),to:dt.oneOfType([dt.object,dt.string]),attributeName:dt.string,duration:dt.number,begin:dt.number,easing:dt.oneOfType([dt.string,dt.func]),steps:dt.arrayOf(dt.shape({duration:dt.number.isRequired,style:dt.object.isRequired,easing:dt.oneOfType([dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dt.func]),properties:dt.arrayOf("string"),onAnimationEnd:dt.func})),children:dt.oneOfType([dt.node,dt.func]),isActive:dt.bool,canBegin:dt.bool,onAnimationEnd:dt.func,shouldReAnimate:dt.bool,onAnimationStart:dt.func,onAnimationReStart:dt.func};function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function Noe(e,t){return Ooe(e)||Aoe(e,t)||Toe(e,t)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Toe(e,t){if(e){if(typeof e=="string")return V2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(e,t)}}function V2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ooe(e){if(Array.isArray(e))return e}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function H2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){Eoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eoe(e,t,r){return t=Coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=_oe(e,"string");return Md(t)=="symbol"?t:t+""}function _oe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W2=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},Doe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},Moe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ew=function(t){var r=H2(H2({},Moe),t),n=b.useRef(),s=b.useState(-1),i=Noe(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,k=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=We("recharts-rectangle",p);return y?re.createElement(Sa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(j){var w=j.width,S=j.height,N=j.x,T=j.y;return re.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:m,isActive:v,easing:g},re.createElement("path",$p({},Le(r,!0),{className:x,d:W2(N,T,w,S,h),ref:n})))}):re.createElement("path",$p({},Le(r,!0),{className:x,d:W2(c,u,d,f,h)}))},$oe=["points","className","baseLinePoints","connectNulls"];function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function Roe(e,t){if(e==null)return{};var r=Ioe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ioe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G2(e){return Koe(e)||Foe(e)||Boe(e)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Boe(e,t){if(e){if(typeof e=="string")return Oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oy(e,t)}}function Foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Koe(e){if(Array.isArray(e))return Oy(e)}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q2=function(t){return t&&t.x===+t.x&&t.y===+t.y},zoe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){q2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),q2(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Iu=function(t,r){var n=zoe(t);r&&(n=[n.reduce(function(i,o){return[].concat(G2(i),G2(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Voe=function(t,r,n){var s=Iu(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Iu(r.reverse(),n).slice(1))},Uoe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=Roe(t,$oe);if(!r||!r.length)return null;var l=We("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=Voe(r,s,i);return re.createElement("g",{className:l},re.createElement("path",al({},Le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?re.createElement("path",al({},Le(o,!0),{fill:"none",d:Iu(r,i)})):null,c?re.createElement("path",al({},Le(o,!0),{fill:"none",d:Iu(s,i)})):null)}var d=Iu(r,i);return re.createElement("path",al({},Le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}var dg=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=We("recharts-dot",i);return r===+r&&n===+n&&s===+s?b.createElement("circle",Ey({},Le(t,!1),tp(t),{className:o,cx:r,cy:n,r:s})):null};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}var Hoe=["x","y","top","left","width","height","className"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Woe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){Goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t,r){return t=qoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qoe(e){var t=Yoe(e,"string");return $d(t)=="symbol"?t:t+""}function Yoe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Joe(e,t){if(e==null)return{};var r=Xoe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Qoe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Zoe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Joe(t,Hoe),k=Woe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Ne(n)||!Ne(i)||!Ne(f)||!Ne(p)||!Ne(l)||!Ne(u)?null:re.createElement("path",Cy({},Le(k,!0),{className:We("recharts-cross",g),d:Qoe(n,i,f,p,l,u)}))},ele=ig,tle=KD,rle=Pa;function nle(e,t){return e&&e.length?ele(e,rle(t),tle):void 0}var ale=nle;const sle=ft(ale);var ile=ig,ole=Pa,lle=zD;function cle(e,t){return e&&e.length?ile(e,ole(t),lle):void 0}var ule=cle;const dle=ft(ule);var fle=["cx","cy","angle","ticks","axisLine"],hle=["ticks","tick","angle","tickFormatter","stroke"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lu.apply(this,arguments)}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t){if(e==null)return{};var r=ple(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ple(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CM(n.key),n)}}function gle(e,t,r){return t&&Q2(e.prototype,t),r&&Q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xle(e,t,r){return t=Rp(t),vle(e,EM()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function vle(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(e)}function yle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EM=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function ble(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_y(e,t)}function fg(e,t,r){return t=CM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=kle(e,"string");return Vl(t)=="symbol"?t:t+""}function kle(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hg=function(e){function t(){return mle(this,t),xle(this,t,arguments)}return ble(t,e),gle(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return St(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=sle(l,function(d){return d.coordinate||0}),u=dle(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=X2(n,fle),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=St(s,i,d[0],o),h=St(s,i,d[1],o),p=_i(_i(_i({},Le(u,!1)),{},{fill:"none"},Le(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return re.createElement("line",Lu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=X2(s,hle),f=this.getTickTextAnchor(),h=Le(d,!1),p=Le(o,!1),g=i.map(function(m,k){var v=n.getTickValueCoord(m),y=_i(_i(_i(_i({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:k},v),{},{payload:m});return re.createElement(ct,Lu({className:We("recharts-polar-radius-axis-tick",gM(o)),key:"tick-".concat(m.coordinate)},xo(n.props,m,k)),t.renderTickItem(o,y,c?c(m.value,k):m.value))});return re.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:re.createElement(ct,{className:We("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),gr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return re.isValidElement(n)?o=re.cloneElement(n,s):Ve(n)?o=n(s):o=re.createElement(vo,Lu({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);fg(hg,"displayName","PolarRadiusAxis");fg(hg,"axisType","radiusAxis");fg(hg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DM(n.key),n)}}function jle(e,t,r){return t&&eT(e.prototype,t),r&&eT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sle(e,t,r){return t=Ip(t),Nle(e,_M()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function Nle(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ple(e)}function Ple(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_M=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function Tle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dy(e,t)}function pg(e,t,r){return t=DM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(e){var t=Ale(e,"string");return Ul(t)=="symbol"?t:t+""}function Ale(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ole=Math.PI/180,tT=1e-5,mg=function(e){function t(){return wle(this,t),Sle(this,t,arguments)}return Tle(t,e),jle(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=St(i,o,l,n.coordinate),h=St(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*Ole),o;return i>tT?o=s==="outer"?"start":"end":i<-tT?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Di(Di({},Le(this.props,!1)),{},{fill:"none"},Le(l,!1));if(c==="circle")return re.createElement(dg,Gi({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return St(s,i,o,h.coordinate)});return re.createElement(Uoe,Gi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Le(this.props,!1),f=Le(o,!1),h=Di(Di({},d),{},{fill:"none"},Le(l,!1)),p=i.map(function(g,m){var k=n.getTickLineCoord(g),v=n.getTickTextAnchor(g),y=Di(Di(Di({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:k.x2,y:k.y2});return re.createElement(ct,Gi({className:We("recharts-polar-angle-axis-tick",gM(o)),key:"tick-".concat(g.coordinate)},xo(n.props,g,m)),l&&re.createElement("line",Gi({className:"recharts-polar-angle-axis-tick-line"},h,k)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return re.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:re.createElement(ct,{className:We("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return re.isValidElement(n)?o=re.cloneElement(n,s):Ve(n)?o=n(s):o=re.createElement(vo,Gi({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);pg(mg,"displayName","PolarAngleAxis");pg(mg,"axisType","angleAxis");pg(mg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ele=I4,Cle=Ele(Object.getPrototypeOf,Object),_le=Cle,Dle=ns,Mle=_le,$le=as,Rle="[object Object]",Ile=Function.prototype,Lle=Object.prototype,MM=Ile.toString,Ble=Lle.hasOwnProperty,Fle=MM.call(Object);function Kle(e){if(!$le(e)||Dle(e)!=Rle)return!1;var t=Mle(e);if(t===null)return!0;var r=Ble.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MM.call(r)==Fle}var zle=Kle;const Vle=ft(zle);var Ule=ns,Hle=as,Wle="[object Boolean]";function Gle(e){return e===!0||e===!1||Hle(e)&&Ule(e)==Wle}var qle=Gle;const Yle=ft(qle);function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function Jle(e,t){return ece(e)||Zle(e,t)||Qle(e,t)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(e,t){if(e){if(typeof e=="string")return rT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rT(e,t)}}function rT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ece(e){if(Array.isArray(e))return e}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){tce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tce(e,t,r){return t=rce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rce(e){var t=nce(e,"string");return Rd(t)=="symbol"?t:t+""}function nce(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sT=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},ace={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sce=function(t){var r=aT(aT({},ace),t),n=b.useRef(),s=b.useState(-1),i=Jle(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,k=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=We("recharts-trapezoid",p);return v?re.createElement(Sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:v},function(x){var j=x.upperWidth,w=x.lowerWidth,S=x.height,N=x.x,T=x.y;return re.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:m,easing:g},re.createElement("path",Lp({},Le(r,!0),{className:y,d:sT(N,T,j,w,S),ref:n})))}):re.createElement("g",null,re.createElement("path",Lp({},Le(r,!0),{className:y,d:sT(c,u,d,f,h)})))},ice=["option","shapeType","propTransformer","activeClassName","isActive"];function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function oce(e,t){if(e==null)return{};var r=lce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){cce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cce(e,t,r){return t=uce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uce(e){var t=dce(e,"string");return Id(t)=="symbol"?t:t+""}function dce(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fce(e,t){return Bp(Bp({},t),e)}function hce(e,t){return e==="symbols"}function oT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return re.createElement(Ew,r);case"trapezoid":return re.createElement(sce,r);case"sector":return re.createElement(yM,r);case"symbols":if(hce(t))return re.createElement(Yk,r);break;default:return null}}function pce(e){return b.isValidElement(e)?e.props:e}function $M(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?fce:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=oce(e,ice),u;if(b.isValidElement(t))u=b.cloneElement(t,Bp(Bp({},c),pce(t)));else if(Ve(t))u=t(c);else if(Vle(t)&&!Yle(t)){var d=s(t,c);u=re.createElement(oT,{shapeType:r,elementProps:d})}else{var f=c;u=re.createElement(oT,{shapeType:r,elementProps:f})}return l?re.createElement(ct,{className:o},u):u}function gg(e,t){return t!=null&&"trapezoids"in e.props}function xg(e,t){return t!=null&&"sectors"in e.props}function Ld(e,t){return t!=null&&"points"in e.props}function mce(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function gce(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function xce(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function vce(e,t){var r;return gg(e,t)?r=mce:xg(e,t)?r=gce:Ld(e,t)&&(r=xce),r}function yce(e,t){var r;return gg(e,t)?r="trapezoids":xg(e,t)?r="sectors":Ld(e,t)&&(r="points"),r}function bce(e,t){if(gg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ld(e,t)?t.payload:{}}function kce(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=yce(r,t),i=bce(r,t),o=n.filter(function(c,u){var d=uf(i,c),f=r.props[s].filter(function(g){var m=vce(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var hh;function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IM(n.key),n)}}function jce(e,t,r){return t&&cT(e.prototype,t),r&&cT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sce(e,t,r){return t=Fp(t),Nce(e,RM()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function Nce(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pce(e)}function Pce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function Tce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},My(e,t)}function $n(e,t,r){return t=IM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e){var t=Ace(e,"string");return Hl(t)=="symbol"?t:t+""}function Ace(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ia=function(e){function t(r){var n;return wce(this,t),n=Sce(this,t,[r]),$n(n,"pieRef",null),$n(n,"sectorRefs",[]),$n(n,"id",xc("recharts-pie-")),$n(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ve(s)&&s()}),$n(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ve(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Tce(t,e),jce(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Le(this.props,!1),f=Le(o,!1),h=Le(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,k){var v=(m.startAngle+m.endAngle)/2,y=St(m.cx,m.cy,m.outerRadius+p,v),x=bt(bt(bt(bt({},d),m),{},{stroke:"none"},f),{},{index:k,textAnchor:t.getTextAnchor(y.x,m.cx)},y),j=bt(bt(bt(bt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:k,points:[St(m.cx,m.cy,m.outerRadius,v),y]}),w=c;return He(c)&&He(u)?w="value":He(c)&&(w=u),re.createElement(ct,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(k)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,x,cr(m,w)))});return re.createElement(ct,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,g=bt(bt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return re.createElement(ct,sl({ref:function(k){k&&!s.sectorRefs.includes(k)&&s.sectorRefs.push(k)},tabIndex:-1,className:"recharts-pie-sector"},xo(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),re.createElement($M,sl({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return re.createElement(Sa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,k=[],v=i&&i[0],y=v.startAngle;return i.forEach(function(x,j){var w=h&&h[j],S=j>0?kn(x,"paddingAngle",0):0;if(w){var N=xn(w.endAngle-w.startAngle,x.endAngle-x.startAngle),T=bt(bt({},x),{},{startAngle:y+S,endAngle:y+N(m)+S});k.push(T),y=T.endAngle}else{var A=x.endAngle,F=x.startAngle,$=xn(0,A-F),O=$(m),_=bt(bt({},x),{},{startAngle:y+S,endAngle:y+O+S});k.push(_),y=_.endAngle}}),re.createElement(ct,null,n.renderSectorsStatically(k))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!uf(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Ne(u)||!Ne(d)||!Ne(f)||!Ne(h))return null;var m=We("recharts-pie",l);return re.createElement(ct,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),gr.renderCallByParent(this.props,null,!1),(!p||g)&&ba.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(re.isValidElement(n))return re.cloneElement(n,s);if(Ve(n))return n(s);var o=We("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return re.createElement(Cp,sl({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(re.isValidElement(n))return re.cloneElement(n,s);var o=i;if(Ve(n)&&(o=n(s),re.isValidElement(o)))return o;var l=We("recharts-pie-label-text",typeof n!="boolean"&&!Ve(n)?n.className:"");return re.createElement(vo,sl({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);hh=ia;$n(ia,"displayName","Pie");$n(ia,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!To.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$n(ia,"parseDeltaAngle",function(e,t){var r=Yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$n(ia,"getRealPieData",function(e){var t=e.data,r=e.children,n=Le(e,!1),s=wn(r,io);return t&&t.length?t.map(function(i,o){return bt(bt(bt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return bt(bt({},n),i.props)}):[]});$n(ia,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=mM(s,i),l=n+Jr(e.cx,s,s/2),c=r+Jr(e.cy,i,i/2),u=Jr(e.innerRadius,o,0),d=Jr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});$n(ia,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?bt(bt({},t.type.defaultProps),t.props):t.props,s=hh.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=hh.parseCoordinateOfPie(n,r),m=hh.parseDeltaAngle(o,l),k=Math.abs(m),v=u;He(u)&&He(f)?(sa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):He(u)&&(sa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var y=s.filter(function(T){return cr(T,v,0)!==0}).length,x=(k>=360?y:y-1)*c,j=k-y*p-x,w=s.reduce(function(T,A){var F=cr(A,v,0);return T+(Ne(F)?F:0)},0),S;if(w>0){var N;S=s.map(function(T,A){var F=cr(T,v,0),$=cr(T,d,A),O=(Ne(F)?F:0)/w,_;A?_=N.endAngle+Yr(m)*c*(F!==0?1:0):_=o;var z=_+Yr(m)*((F!==0?p:0)+O*j),J=(_+z)/2,Z=(g.innerRadius+g.outerRadius)/2,V=[{name:$,value:F,payload:T,dataKey:v,type:h}],R=St(g.cx,g.cy,Z,J);return N=bt(bt(bt({percent:O,cornerRadius:i,name:$,tooltipPayload:V,midAngle:J,middleRadius:Z,tooltipPosition:R},T),g),{},{value:cr(T,v),startAngle:_,endAngle:z,payload:T,paddingAngle:Yr(m)*c}),N})}return bt(bt({},g),{},{sectors:S,data:s})});var Oce=Math.ceil,Ece=Math.max;function Cce(e,t,r,n){for(var s=-1,i=Ece(Oce((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var _ce=Cce,Dce=rD,uT=1/0,Mce=17976931348623157e292;function $ce(e){if(!e)return e===0?e:0;if(e=Dce(e),e===uT||e===-uT){var t=e<0?-1:1;return t*Mce}return e===e?e:0}var LM=$ce,Rce=_ce,Ice=Zm,Kx=LM;function Lce(e){return function(t,r,n){return n&&typeof n!="number"&&Ice(t,r,n)&&(r=n=void 0),t=Kx(t),r===void 0?(r=t,t=0):r=Kx(r),n=n===void 0?t<r?1:-1:Kx(n),Rce(t,r,n,e)}}var Bce=Lce,Fce=Bce,Kce=Fce(),zce=Kce;const Kp=ft(zce);function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){BM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BM(e,t,r){return t=Vce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vce(e){var t=Uce(e,"string");return Bd(t)=="symbol"?t:t+""}function Uce(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hce=["Webkit","Moz","O","ms"],Wce=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Hce.reduce(function(i,o){return fT(fT({},i),{},BM({},o+n,r))},{});return s[t]=r,s};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(this,arguments)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KM(n.key),n)}}function qce(e,t,r){return t&&pT(e.prototype,t),r&&pT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yce(e,t,r){return t=Vp(t),Jce(e,FM()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function Jce(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(e)}function Xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function Qce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$y(e,t)}function pn(e,t,r){return t=KM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KM(e){var t=Zce(e,"string");return Wl(t)=="symbol"?t:t+""}function Zce(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eue=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Mu().domain(Kp(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},mT=function(t){return t.changedTouches&&!!t.changedTouches.length},Gl=function(e){function t(r){var n;return Gce(this,t),n=Yce(this,t,[r]),pn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),pn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),pn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),pn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),pn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),pn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),pn(n,"handleSlideDragStart",function(s){var i=mT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Qce(t,e),qce(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=cr(i[n],l,n);return Ve(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var k=this.getIndex({startX:o+m,endX:l+m});(k.startIndex!==h||k.endIndex!==p)&&g&&g(k),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=mT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,k=d.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),v[o]=u+y;var x=this.getIndex(v),j=x.startIndex,w=x.endIndex,S=function(){var T=k.length-1;return o==="startX"&&(l>c?j%m===0:w%m===0)||l<c&&w===T||o==="endX"&&(l>c?w%m===0:j%m===0)||l>c&&w===T};this.setState(pn(pn({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&S()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(pn({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return re.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?re.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,k=c.endIndex,v=Math.max(n,this.props.x),y=zx(zx({},Le(this.props,!1)),{},{x:v,y:u,width:d,height:f}),x=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[k])===null||o===void 0?void 0:o.name);return re.createElement(ct,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return re.createElement(ct,{className:"recharts-brush-texts"},re.createElement(vo,zp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),re.createElement(vo,zp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,k=h.isSlideMoving,v=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!Ne(l)||!Ne(c)||!Ne(u)||!Ne(d)||u<=0||d<=0)return null;var x=We("recharts-brush",i),j=re.Children.count(o)===1,w=Wce("userSelect","none");return re.createElement(ct,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||k||v||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),re.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return re.isValidElement(n)?i=re.cloneElement(n,s):Ve(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return zx({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?eue({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(b.PureComponent);pn(Gl,"displayName","Brush");pn(Gl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tue=rw;function rue(e,t){var r;return tue(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var nue=rue,aue=O4,sue=Pa,iue=nue,oue=dn,lue=Zm;function cue(e,t,r){var n=oue(e)?aue:iue;return r&&lue(e,t,r)&&(t=void 0),n(e,sue(t))}var uue=cue;const due=ft(uue);var ka=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},gT=X4;function fue(e,t,r){t=="__proto__"&&gT?gT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hue=fue,pue=hue,mue=Y4,gue=Pa;function xue(e,t){var r={};return t=gue(t),mue(e,function(n,s,i){pue(r,s,t(n,s,i))}),r}var vue=xue;const yue=ft(vue);function bue(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var kue=bue,wue=rw;function jue(e,t){var r=!0;return wue(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Sue=jue,Nue=kue,Pue=Sue,Tue=Pa,Aue=dn,Oue=Zm;function Eue(e,t,r){var n=Aue(e)?Nue:Pue;return r&&Oue(e,t,r)&&(t=void 0),n(e,Tue(t))}var Cue=Eue;const zM=ft(Cue);var _ue=["x","y"];function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){Due(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Due(e,t,r){return t=Mue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mue(e){var t=$ue(e,"string");return Fd(t)=="symbol"?t:t+""}function $ue(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rue(e,t){if(e==null)return{};var r=Iue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lue(e,t){var r=e.x,n=e.y,s=Rue(e,_ue),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Gc(Gc(Gc(Gc(Gc({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function vT(e){return re.createElement($M,Ry({shapeType:"rectangle",propTransformer:Lue,activeClassName:"recharts-active-bar"},e))}var Bue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Ne(n)||c9(n);return i?t(n,s):(i||bo(),r)}},Fue=["value","background"],VM;function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function Kue(e,t){if(e==null)return{};var r=zue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HM(n.key),n)}}function Uue(e,t,r){return t&&bT(e.prototype,t),r&&bT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hue(e,t,r){return t=Hp(t),Wue(e,UM()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function Wue(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(e)}function Gue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function que(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Iy(e,t)}function Qs(e,t,r){return t=HM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HM(e){var t=Yue(e,"string");return ql(t)=="symbol"?t:t+""}function Yue(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wa=function(e){function t(){var r;Vue(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Hue(this,t,[].concat(s)),Qs(r,"state",{isAnimationFinished:!1}),Qs(r,"id",xc("recharts-bar-")),Qs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Qs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return que(t,e),Uue(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Le(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Zt(Zt(Zt({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return re.createElement(ct,Up({className:"recharts-bar-rectangle"},xo(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),re.createElement(vT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return re.createElement(Sa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(k,v){var y=h&&h[v];if(y){var x=xn(y.x,k.x),j=xn(y.y,k.y),w=xn(y.width,k.width),S=xn(y.height,k.height);return Zt(Zt({},k),{},{x:x(g),y:j(g),width:w(g),height:S(g)})}if(o==="horizontal"){var N=xn(0,k.height),T=N(g);return Zt(Zt({},k),{},{y:k.y+k.height-T,height:T})}var A=xn(0,k.width),F=A(g);return Zt(Zt({},k),{},{width:F})});return re.createElement(ct,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!uf(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Le(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Kue(u,Fue);if(!f)return null;var p=Zt(Zt(Zt(Zt(Zt({},h),{},{fill:"#eee"},f),c),xo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return re.createElement(vT,Up({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wn(d,df);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(k,v){var y=Array.isArray(k.value)?k.value[1]:k.value;return{x:k.x,y:k.y,value:y,errorVal:cr(k,v)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return re.createElement(ct,g,f.map(function(m){return re.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!i||!i.length)return null;var k=this.state.isAnimationFinished,v=We("recharts-bar",o),y=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,j=y||x,w=He(m)?this.id:m;return re.createElement(ct,{className:v},y||x?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(w)},re.createElement("rect",{x:y?u:u-f/2,y:x?d:d-h/2,width:y?f:f*2,height:x?h:h*2}))):null,re.createElement(ct,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!p||k)&&ba.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(b.PureComponent);VM=wa;Qs(wa,"displayName","Bar");Qs(wa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!To.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qs(wa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Aae(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,k=m!==void 0?Zt(Zt({},m),r.props):r.props,v=k.dataKey,y=k.children,x=k.minPointSize,j=g==="horizontal"?o:i,w=u?j.scale.domain():null,S=$ae({numericAxis:j}),N=wn(y,io),T=f.map(function(A,F){var $,O,_,z,J,Z;u?$=Oae(u[d+F],w):($=cr(A,v),Array.isArray($)||($=[S,$]));var V=Bue(x,VM.defaultProps.minPointSize)($[1],F);if(g==="horizontal"){var R,B=[o.scale($[0]),o.scale($[1])],I=B[0],U=B[1];O=c2({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:F}),_=(R=U??I)!==null&&R!==void 0?R:void 0,z=p.size;var ee=I-U;if(J=Number.isNaN(ee)?0:ee,Z={x:O,y:o.y,width:z,height:o.height},Math.abs(V)>0&&Math.abs(J)<Math.abs(V)){var H=Yr(J||V)*(Math.abs(V)-Math.abs(J));_-=H,J+=H}}else{var oe=[i.scale($[0]),i.scale($[1])],ue=oe[0],de=oe[1];if(O=ue,_=c2({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:F}),z=de-ue,J=p.size,Z={x:i.x,y:_,width:i.width,height:J},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var ye=Yr(z||V)*(Math.abs(V)-Math.abs(z));z+=ye}}return Zt(Zt(Zt({},A),{},{x:O,y:_,width:z,height:J,value:u?$:$[1],payload:A,background:Z},N&&N[F]&&N[F].props),{},{tooltipPayload:[hM(r,A)],tooltipPosition:{x:O+z/2,y:_+J/2}})});return Zt({data:T,layout:g},h)});function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function Jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WM(n.key),n)}}function Xue(e,t,r){return t&&kT(e.prototype,t),r&&kT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vg(e,t,r){return t=WM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WM(e){var t=Que(e,"string");return Kd(t)=="symbol"?t:t+""}function Que(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GM=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!gn(u,wa);return d.reduce(function(p,g){var m=r[g],k=m.orientation,v=m.domain,y=m.padding,x=y===void 0?{}:y,j=m.mirror,w=m.reversed,S="".concat(k).concat(j?"Mirror":""),N,T,A,F,$;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=v[1]-v[0],_=1/0,z=m.categoricalDomain.sort(f9);if(z.forEach(function(oe,ue){ue>0&&(_=Math.min((oe||0)-(z[ue-1]||0),_))}),Number.isFinite(_)){var J=_/O,Z=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=J*Z/2),m.padding==="no-gap"){var V=Jr(t.barCategoryGap,J*Z),R=J*Z/2;N=R-V-(R-V)/Z*V}}}s==="xAxis"?T=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:s==="yAxis"?T=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:T=m.range,w&&(T=[T[1],T[0]]);var B=cM(m,i,h),I=B.scale,U=B.realScaleType;I.domain(v).range(T),uM(I);var ee=dM(I,Qn(Qn({},m),{},{realScaleType:U}));s==="xAxis"?($=k==="top"&&!j||k==="bottom"&&j,A=n.left,F=f[S]-$*m.height):s==="yAxis"&&($=k==="left"&&!j||k==="right"&&j,A=f[S]-$*m.width,F=n.top);var H=Qn(Qn(Qn({},m),ee),{},{realScaleType:U,x:A,y:F,scale:I,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return H.bandSize=Ap(H,ee),!m.hide&&s==="xAxis"?f[S]+=($?-1:1)*H.height:m.hide||(f[S]+=($?-1:1)*H.width),Qn(Qn({},p),{},vg({},g,H))},{})},qM=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Zue=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return qM({x:r,y:n},{x:s,y:i})},YM=function(){function e(t){Jue(this,e),this.scale=t}return Xue(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();vg(YM,"EPS",1e-4);var Cw=function(t){var r=Object.keys(t).reduce(function(n,s){return Qn(Qn({},n),{},vg({},s,YM.create(t[s])))},{});return Qn(Qn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return yue(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return zM(s,function(i,o){return r[o].isInRange(i)})}})};function ede(e){return(e%180+180)%180}var tde=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ede(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},rde=Pa,nde=af,ade=Xm;function sde(e){return function(t,r,n){var s=Object(t);if(!nde(t)){var i=rde(r);t=ade(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var ide=sde,ode=LM;function lde(e){var t=ode(e),r=t%1;return t===t?r?t-r:t:0}var cde=lde,ude=V4,dde=Pa,fde=cde,hde=Math.max;function pde(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:fde(r);return s<0&&(s=hde(n+s,0)),ude(e,dde(t),s)}var mde=pde,gde=ide,xde=mde,vde=gde(xde),yde=vde;const bde=ft(yde);var kde=mV(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_w=b.createContext(void 0),Dw=b.createContext(void 0),JM=b.createContext(void 0),XM=b.createContext({}),QM=b.createContext(void 0),ZM=b.createContext(0),e3=b.createContext(0),jT=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=kde(i);return re.createElement(_w.Provider,{value:n},re.createElement(Dw.Provider,{value:s},re.createElement(XM.Provider,{value:i},re.createElement(JM.Provider,{value:d},re.createElement(QM.Provider,{value:o},re.createElement(ZM.Provider,{value:u},re.createElement(e3.Provider,{value:c},l)))))))},wde=function(){return b.useContext(QM)},t3=function(t){var r=b.useContext(_w);r==null&&bo();var n=r[t];return n==null&&bo(),n},jde=function(){var t=b.useContext(_w);return qs(t)},Sde=function(){var t=b.useContext(Dw),r=bde(t,function(n){return zM(n.domain,Number.isFinite)});return r||qs(t)},r3=function(t){var r=b.useContext(Dw);r==null&&bo();var n=r[t];return n==null&&bo(),n},Nde=function(){var t=b.useContext(JM);return t},Pde=function(){return b.useContext(XM)},Mw=function(){return b.useContext(e3)},$w=function(){return b.useContext(ZM)};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ade(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a3(n.key),n)}}function Ode(e,t,r){return t&&Ade(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ede(e,t,r){return t=Wp(t),Cde(e,n3()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function Cde(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _de(e)}function _de(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function Dde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ly(e,t)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){Rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rw(e,t,r){return t=a3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=Mde(e,"string");return Yl(t)=="symbol"?t:t+""}function Mde(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $de(e,t){return Bde(e)||Lde(e,t)||Ide(e,t)||Rde()}function Rde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(e,t){if(e){if(typeof e=="string")return PT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PT(e,t)}}function PT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Bde(e){if(Array.isArray(e))return e}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}var Fde=function(t,r){var n;return re.isValidElement(t)?n=re.cloneElement(t,r):Ve(t)?n=t(r):n=re.createElement("line",By({},r,{className:"recharts-reference-line-line"})),n},Kde=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(ka(u,"discard")&&!t.y.isInRange(m))return null;var k=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?k.reverse():k}if(r){var v=u.x,y=t.x.apply(v,{position:o});if(ka(u,"discard")&&!t.x.isInRange(y))return null;var x=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?x.reverse():x}if(s){var j=u.segment,w=j.map(function(S){return t.apply(S,{position:o})});return ka(u,"discard")&&due(w,function(S){return!t.isInRange(S)})?null:w}return null};function zde(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=wde(),d=t3(s),f=r3(i),h=Nde();if(!u||!h)return null;sa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Cw({x:d.scale,y:f.scale}),g=dr(t),m=dr(r),k=n&&n.length===2,v=Kde(p,g,m,k,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var y=$de(v,2),x=y[0],j=x.x,w=x.y,S=y[1],N=S.x,T=S.y,A=ka(e,"hidden")?"url(#".concat(u,")"):void 0,F=NT(NT({clipPath:A},Le(e,!0)),{},{x1:j,y1:w,x2:N,y2:T});return re.createElement(ct,{className:We("recharts-reference-line",l)},Fde(o,F),gr.renderCallByParent(e,Zue({x1:j,y1:w,x2:N,y2:T})))}var yg=function(e){function t(){return Tde(this,t),Ede(this,t,arguments)}return Dde(t,e),Ode(t,[{key:"render",value:function(){return re.createElement(zde,this.props)}}])}(re.Component);Rw(yg,"displayName","ReferenceLine");Rw(yg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ude(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i3(n.key),n)}}function Hde(e,t,r){return t&&Ude(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wde(e,t,r){return t=Gp(t),Gde(e,s3()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function Gde(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(e)}function qde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(e)}function Yde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ky(e,t)}function bg(e,t,r){return t=i3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3(e){var t=Jde(e,"string");return Jl(t)=="symbol"?t:t+""}function Jde(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xde=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Cw({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ka(t,"discard")&&!o.isInRange(l)?null:l},kg=function(e){function t(){return Vde(this,t),Wde(this,t,arguments)}return Yde(t,e),Hde(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=dr(s),d=dr(i);if(sa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Xde(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,k=g.className,v=ka(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=AT(AT({clipPath:v},Le(this.props,!0)),{},{cx:h,cy:p});return re.createElement(ct,{className:We("recharts-reference-dot",k)},t.renderDot(m,y),gr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(re.Component);bg(kg,"displayName","ReferenceDot");bg(kg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bg(kg,"renderDot",function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):Ve(e)?r=e(t):r=re.createElement(dg,Fy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){wg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l3(n.key),n)}}function efe(e,t,r){return t&&Zde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tfe(e,t,r){return t=qp(t),rfe(e,o3()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function rfe(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nfe(e)}function nfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function afe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vy(e,t)}function wg(e,t,r){return t=l3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e){var t=sfe(e,"string");return Xl(t)=="symbol"?t:t+""}function sfe(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ife=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Cw({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ka(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:qM(p,g)},jg=function(e){function t(){return Qde(this,t),tfe(this,t,arguments)}return afe(t,e),efe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;sa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=dr(s),h=dr(i),p=dr(o),g=dr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var k=ife(f,h,p,g,this.props);if(!k&&!m)return null;var v=ka(this.props,"hidden")?"url(#".concat(d,")"):void 0;return re.createElement(ct,{className:We("recharts-reference-area",c)},t.renderRect(m,ET(ET({clipPath:v},Le(this.props,!0)),k)),gr.renderCallByParent(this.props,k))}}])}(re.Component);wg(jg,"displayName","ReferenceArea");wg(jg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wg(jg,"renderRect",function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):Ve(e)?r=e(t):r=re.createElement(Ew,zy({},t,{className:"recharts-reference-area-rect"})),r});function c3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function ofe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tde(n,r)}function lfe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Yp(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function cfe(e,t){return c3(e,t+1)}function ufe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:c3(n,u)};var m=c,k,v=function(){return k===void 0&&(k=r(g,m)),k},y=g.coordinate,x=c===0||Yp(e,y,v,d,l);x||(c=0,d=o,u+=1),x&&(d=y+e*(v()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){dfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dfe(e,t,r){return t=ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=hfe(e,"string");return zd(t)=="symbol"?t:t+""}function hfe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pfe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var k=e*(p.coordinate+e*m()/2-c);i[h]=p=_r(_r({},p),{},{tickCoord:k>0?p.coordinate-k*e:p.coordinate})}else i[h]=p=_r(_r({},p),{},{tickCoord:p.coordinate});var v=Yp(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+s),i[h]=_r(_r({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function mfe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=_r(_r({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Yp(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=_r(_r({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(y){var x=o[y],j,w=function(){return j===void 0&&(j=r(x,y)),j};if(y===0){var S=e*(x.coordinate-e*w()/2-c);o[y]=x=_r(_r({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[y]=x=_r(_r({},x),{},{tickCoord:x.coordinate});var N=Yp(e,x.tickCoord,w,c,u);N&&(c=x.tickCoord+e*(w()/2+s),o[y]=_r(_r({},x),{},{isShow:!0}))},k=0;k<g;k++)m(k);return o}function Iw(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(Ne(c)||To.isSsr)return cfe(s,typeof c=="number"&&Ne(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Du(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,j){var w=Ve(u)?u(x.value,j):x.value;return p==="width"?ofe(Du(w,{fontSize:t,letterSpacing:r}),g,f):Du(w,{fontSize:t,letterSpacing:r})[p]},k=s.length>=2?Yr(s[1].coordinate-s[0].coordinate):1,v=lfe(i,k,p);return c==="equidistantPreserveStart"?ufe(k,v,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=mfe(k,v,m,s,o,c==="preserveStartEnd"):h=pfe(k,v,m,s,o),h.filter(function(y){return y.isShow}))}var gfe=["viewBox"],xfe=["viewBox"],vfe=["ticks"];function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vx(e,t){if(e==null)return{};var r=yfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d3(n.key),n)}}function kfe(e,t,r){return t&&DT(e.prototype,t),r&&DT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wfe(e,t,r){return t=Jp(t),jfe(e,u3()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function jfe(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sfe(e)}function Sfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u3=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function Nfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uy(e,t)}function Uy(e,t){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Uy(e,t)}function Lw(e,t,r){return t=d3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e){var t=Pfe(e,"string");return Ql(t)=="symbol"?t:t+""}function Pfe(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sc=function(e){function t(r){var n;return bfe(this,t),n=wfe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Nfe(t,e),kfe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Vx(n,gfe),l=this.props,c=l.viewBox,u=Vx(l,xfe);return!xl(i,c)||!xl(o,u)||!xl(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,k,v,y,x=f?-1:1,j=n.tickSize||d,w=Ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,k=o+ +!f*c,m=k-x*j,y=m-x*h,v=w;break;case"left":m=k=n.coordinate,g=i+ +!f*l,p=g-x*j,v=p-x*h,y=w;break;case"right":m=k=n.coordinate,g=i+ +f*l,p=g+x*j,v=p+x*h,y=w;break;default:p=g=n.coordinate,k=o+ +f*c,m=k+x*j,y=m+x*h,v=w;break}return{line:{x1:p,y1:m,x2:g,y2:k},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=sr(sr(sr({},Le(this.props,!1)),Le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=sr(sr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=sr(sr({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return re.createElement("line",il({},f,{className:We("recharts-cartesian-axis-line",kn(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=Iw(sr(sr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),k=Le(this.props,!1),v=Le(d,!1),y=sr(sr({},k),{},{fill:"none"},Le(c,!1)),x=p.map(function(j,w){var S=o.getTickLineCoord(j),N=S.line,T=S.tick,A=sr(sr(sr(sr({textAnchor:g,verticalAnchor:m},k),{},{stroke:"none",fill:u},v),T),{},{index:w,payload:j,visibleTicksCount:p.length,tickFormatter:f});return re.createElement(ct,il({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},xo(o.props,j,w)),c&&re.createElement("line",il({},y,N,{className:We("recharts-cartesian-axis-tick-line",kn(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(Ve(f)?f(j.value,w):j.value).concat(h||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Vx(f,vfe),g=h;return Ve(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:re.createElement(ct,{className:We("recharts-cartesian-axis",u),ref:function(k){n.layerReference=k}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),gr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=We(s.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(n)?o=re.cloneElement(n,sr(sr({},s),{},{className:l})):Ve(n)?o=n(sr(sr({},s),{},{className:l})):o=re.createElement(vo,il({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);Lw(Sc,"displayName","CartesianAxis");Lw(Sc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tfe=["x1","y1","x2","y2","key"],Afe=["offset"];function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Ofe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ofe(e,t,r){return t=Efe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Efe(e){var t=Cfe(e,"string");return ko(t)=="symbol"?t:t+""}function Cfe(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ro.apply(this,arguments)}function $T(e,t){if(e==null)return{};var r=_fe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _fe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dfe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return re.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f3(e,t){var r;if(re.isValidElement(e))r=re.cloneElement(e,t);else if(Ve(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=$T(t,Tfe),u=Le(c,!1);u.offset;var d=$T(u,Afe);r=re.createElement("line",ro({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Mfe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rr(Rr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return f3(s,u)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $fe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rr(Rr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return f3(s,u)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rfe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var k=p%t.length;return re.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ife(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var k=p%n.length;return re.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[k],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Lfe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return lM(Iw(Rr(Rr(Rr({},Sc.defaultProps),n),{},{ticks:Fa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Bfe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return lM(Iw(Rr(Rr(Rr({},Sc.defaultProps),n),{},{ticks:Fa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Io={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Bu(e){var t,r,n,s,i,o,l=Mw(),c=$w(),u=Pde(),d=Rr(Rr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Io.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Io.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Io.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Io.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Io.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Io.verticalFill,x:Ne(e.x)?e.x:u.left,y:Ne(e.y)?e.y:u.top,width:Ne(e.width)?e.width:u.width,height:Ne(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,k=d.horizontalValues,v=d.verticalValues,y=jde(),x=Sde();if(!Ne(p)||p<=0||!Ne(g)||g<=0||!Ne(f)||f!==+f||!Ne(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Lfe,w=d.horizontalCoordinatesGenerator||Bfe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Ve(w)){var T=k&&k.length,A=w({yAxis:x?Rr(Rr({},x),{},{ticks:T?k:x.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);sa(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ko(A),"]")),Array.isArray(A)&&(S=A)}if((!N||!N.length)&&Ve(j)){var F=v&&v.length,$=j({xAxis:y?Rr(Rr({},y),{},{ticks:F?v:y.ticks}):void 0,width:l,height:c,offset:u},F?!0:m);sa(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ko($),"]")),Array.isArray($)&&(N=$)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(Dfe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),re.createElement(Mfe,ro({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:x})),re.createElement($fe,ro({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:x})),re.createElement(Rfe,ro({},d,{horizontalPoints:S})),re.createElement(Ife,ro({},d,{verticalPoints:N})))}Bu.displayName="CartesianGrid";var Ffe=["type","layout","connectNulls","ref"],Kfe=["key"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function RT(e,t){if(e==null)return{};var r=zfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(this,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){Zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lo(e){return Wfe(e)||Hfe(e)||Ufe(e)||Vfe()}function Vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ufe(e,t){if(e){if(typeof e=="string")return Hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hy(e,t)}}function Hfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wfe(e){if(Array.isArray(e))return Hy(e)}function Hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p3(n.key),n)}}function qfe(e,t,r){return t&&LT(e.prototype,t),r&&LT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yfe(e,t,r){return t=Xp(t),Jfe(e,h3()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function Jfe(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xfe(e)}function Xfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h3=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function Qfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wy(e,t)}function Zn(e,t,r){return t=p3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3(e){var t=Zfe(e,"string");return Zl(t)=="symbol"?t:t+""}function Zfe(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zs=function(e){function t(){var r;Gfe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Yfe(this,t,[].concat(s)),Zn(r,"state",{isAnimationFinished:!0,totalLength:0}),Zn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Zn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,y){return v+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Lo(c.slice(0,g)),[f-m]);break}var k=p.length%2===0?[0,h]:[h];return[].concat(Lo(t.repeat(c,d)),Lo(p),k).map(function(v){return"".concat(v,"px")}).join(", ")}),Zn(r,"id",xc("recharts-line-")),Zn(r,"pathRef",function(o){r.mainCurve=o}),Zn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Zn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qfe(t,e),qfe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wn(d,df);if(!f)return null;var h=function(m,k){return{x:m.x,y:m.y,value:m.value,errorVal:cr(m.payload,k)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return re.createElement(ct,p,f.map(function(g){return re.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Le(this.props,!1),h=Le(c,!0),p=u.map(function(m,k){var v=hn(hn(hn({key:"dot-".concat(k),r:3},f),h),{},{index:k,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,v)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return re.createElement(ct,Fu({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=RT(l,Ffe),h=hn(hn(hn({},Le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return re.createElement(Cp,Fu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,k=o.height,v=this.state,y=v.prevPoints,x=v.totalLength;return re.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(y){var S=y.length/l.length,N=l.map(function(O,_){var z=Math.floor(_*S);if(y[z]){var J=y[z],Z=xn(J.x,O.x),V=xn(J.y,O.y);return hn(hn({},O),{},{x:Z(w),y:V(w)})}if(g){var R=xn(m*2,O.x),B=xn(k/2,O.y);return hn(hn({},O),{},{x:R(w),y:B(w)})}return hn(hn({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(N,n,s)}var T=xn(0,x),A=T(w),F;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});F=i.getStrokeDasharray(A,x,$)}else F=i.generateSimpleStrokeDasharray(x,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!uf(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,g=s.height,m=s.isAnimationActive,k=s.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,x=We("recharts-line",c),j=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=j||w,N=He(k)?this.id:k,T=(n=Le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=T.r,F=A===void 0?3:A,$=T.strokeWidth,O=$===void 0?2:$,_=k9(o)?o:{},z=_.clipDot,J=z===void 0?!0:z,Z=F*2+O;return re.createElement(ct,{className:x},j||w?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(N)},re.createElement("rect",{x:j?h:h-p/2,y:w?f:f-g/2,width:j?p:p*2,height:w?g:g*2})),!J&&re.createElement("clipPath",{id:"clipPath-dots-".concat(N)},re.createElement("rect",{x:h-Z/2,y:f-Z/2,width:p+Z,height:g+Z}))):null,!y&&this.renderCurve(S,N),this.renderErrorBar(S,N),(y||o)&&this.renderDots(S,J,N),(!m||v)&&ba.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Lo(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Lo(o),Lo(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(re.isValidElement(n))i=re.cloneElement(n,s);else if(Ve(n))i=n(s);else{var o=s.key,l=RT(s,Kfe),c=We("recharts-line-dot",typeof n!="boolean"?n.className:"");i=re.createElement(dg,Fu({key:o},l,{className:c}))}return i}}])}(b.PureComponent);Zn(Zs,"displayName","Line");Zn(Zs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!To.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zn(Zs,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=cr(h,o);return d==="horizontal"?{x:l2({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:He(g)?null:n.scale(g),value:g,payload:h}:{x:He(g)?null:r.scale(g),y:l2({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return hn({points:f,layout:d},u)});function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function ehe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function the(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x3(n.key),n)}}function rhe(e,t,r){return t&&the(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nhe(e,t,r){return t=Qp(t),ahe(e,m3()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function ahe(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return she(e)}function she(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m3=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function ihe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}function Gy(e,t){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gy(e,t)}function g3(e,t,r){return t=x3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3(e){var t=ohe(e,"string");return ec(t)=="symbol"?t:t+""}function ohe(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function lhe(e){var t=e.xAxisId,r=Mw(),n=$w(),s=t3(t);return s==null?null:b.createElement(Sc,qy({},s,{className:We("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Fa(o,!0)}}))}var hi=function(e){function t(){return ehe(this,t),nhe(this,t,arguments)}return ihe(t,e),rhe(t,[{key:"render",value:function(){return b.createElement(lhe,this.props)}}])}(b.Component);g3(hi,"displayName","XAxis");g3(hi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function che(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b3(n.key),n)}}function dhe(e,t,r){return t&&uhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fhe(e,t,r){return t=Zp(t),hhe(e,v3()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function hhe(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(e)}function phe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function mhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yy(e,t)}function y3(e,t,r){return t=b3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3(e){var t=ghe(e,"string");return tc(t)=="symbol"?t:t+""}function ghe(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}var xhe=function(t){var r=t.yAxisId,n=Mw(),s=$w(),i=r3(r);return i==null?null:b.createElement(Sc,Jy({},i,{className:We("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Fa(l,!0)}}))},pi=function(e){function t(){return che(this,t),fhe(this,t,arguments)}return mhe(t,e),dhe(t,[{key:"render",value:function(){return b.createElement(xhe,this.props)}}])}(b.Component);y3(pi,"displayName","YAxis");y3(pi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BT(e){return khe(e)||bhe(e)||yhe(e)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(e,t){if(e){if(typeof e=="string")return Xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(e,t)}}function bhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function khe(e){if(Array.isArray(e))return Xy(e)}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qy=function(t,r,n,s,i){var o=wn(t,yg),l=wn(t,kg),c=[].concat(BT(o),BT(l)),u=wn(t,jg),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,k){if(k.props[d]===n&&ka(k.props,"extendDomain")&&Ne(k.props[f])){var v=k.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,k){if(k.props[d]===n&&ka(k.props,"extendDomain")&&Ne(k.props[p])&&Ne(k.props[g])){var v=k.props[p],y=k.props[g];return[Math.min(m[0],v,y),Math.max(m[1],v,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,k){return Ne(k)?[Math.min(m[0],k),Math.max(m[1],k)]:m},h)),h},k3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var k=this._events[m],v=arguments.length,y,x;if(k.fn){switch(k.once&&this.removeListener(u,k.fn,void 0,!0),v){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,f),!0;case 4:return k.fn.call(k.context,d,f,h),!0;case 5:return k.fn.call(k.context,d,f,h,p),!0;case 6:return k.fn.call(k.context,d,f,h,p,g),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];k.fn.apply(k.context,y)}else{var j=k.length,w;for(x=0;x<j;x++)switch(k[x].once&&this.removeListener(u,k[x].fn,void 0,!0),v){case 1:k[x].fn.call(k[x].context);break;case 2:k[x].fn.call(k[x].context,d);break;case 3:k[x].fn.call(k[x].context,d,f);break;case 4:k[x].fn.call(k[x].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];k[x].fn.apply(k[x].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,k=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&k.push(g[m]);k.length?this._events[p]=k.length===1?k[0]:k:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(k3);var whe=k3.exports;const jhe=ft(whe);var Ux=new jhe,Hx="recharts.syncMouseEvents";function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function She(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w3(n.key),n)}}function Phe(e,t,r){return t&&Nhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wx(e,t,r){return t=w3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w3(e){var t=The(e,"string");return Vd(t)=="symbol"?t:t+""}function The(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ahe=function(){function e(){She(this,e),Wx(this,"activeIndex",0),Wx(this,"coordinateList",[]),Wx(this,"layout","horizontal")}return Phe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ohe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Ne(n)&&Ne(s))return!0}return!1}function Ehe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function j3(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=St(t,r,n,s),l=St(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Che(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=St(l,c,u,f),p=St(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return j3(t);return[{x:n,y:s},{x:i,y:o}]}function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){_he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _he(e,t,r){return t=Dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dhe(e){var t=Mhe(e,"string");return Ud(t)=="symbol"?t:t+""}function Mhe(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $he(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Cp;if(h==="ScatterChart")g=o,m=Zoe;else if(h==="BarChart")g=Ehe(f,o,c,d),m=Ew;else if(f==="radial"){var k=j3(o),v=k.cx,y=k.cy,x=k.radius,j=k.startAngle,w=k.endAngle;g={cx:v,cy:y,startAngle:j,endAngle:w,innerRadius:x,outerRadius:x},m=yM}else g={points:Che(f,o,c)},m=Cp;var S=qf(qf(qf(qf({stroke:"#ccc",pointerEvents:"none"},c),g),Le(p,!1)),{},{payload:l,payloadIndex:u,className:We("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,S):b.createElement(m,S)}var Rhe=["item"],Ihe=["children","className","width","height","style","compact","title","desc"];function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}function KT(e,t){return Fhe(e)||Bhe(e,t)||N3(e,t)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Fhe(e){if(Array.isArray(e))return e}function zT(e,t){if(e==null)return{};var r=Khe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Khe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P3(n.key),n)}}function Uhe(e,t,r){return t&&Vhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hhe(e,t,r){return t=em(t),Whe(e,S3()?Reflect.construct(t,r||[],em(e).constructor):t.apply(e,r))}function Whe(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ghe(e)}function Ghe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S3=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(e)}function qhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zy(e,t)}function Zy(e,t){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zy(e,t)}function nc(e){return Xhe(e)||Jhe(e)||N3(e)||Yhe()}function Yhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3(e,t){if(e){if(typeof e=="string")return eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(e,t)}}function Jhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xhe(e){if(Array.isArray(e))return eb(e)}function eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fe(e,t,r){return t=P3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3(e){var t=Qhe(e,"string");return rc(t)=="symbol"?t:t+""}function Qhe(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zhe={xAxis:["bottom","top"],yAxis:["left","right"]},epe={width:"100%",height:"100%"},T3={x:0,y:0};function Yf(e){return e}var tpe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},rpe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ge(ge(ge({},s),St(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ge(ge(ge({},s),St(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return T3},Sg=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(nc(l),nc(u)):l},[]);return o.length>0?o:t&&t.length&&Ne(s)&&Ne(i)?t.slice(s,i+1):[]};function A3(e){return e==="number"?[0,"auto"]:void 0}var tb=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Sg(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=ep(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(nc(c),[hM(u,h)]):c},[])},UT=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=tpe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=wae(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=tb(t,r,d,f),p=rpe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},npe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=oM(d,i);return n.reduce(function(g,m){var k,v=m.type.defaultProps!==void 0?ge(ge({},m.type.defaultProps),m.props):m.props,y=v.type,x=v.dataKey,j=v.allowDataOverflow,w=v.allowDuplicatedCategory,S=v.scale,N=v.ticks,T=v.includeHidden,A=v[o];if(g[A])return g;var F=Sg(t.data,{graphicalItems:s.filter(function(ee){var H,oe=o in ee.props?ee.props[o]:(H=ee.type.defaultProps)===null||H===void 0?void 0:H[o];return oe===A}),dataStartIndex:c,dataEndIndex:u}),$=F.length,O,_,z;Ohe(v.domain,j,y)&&(O=my(v.domain,null,j),p&&(y==="number"||S!=="auto")&&(z=$u(F,x,"category")));var J=A3(y);if(!O||O.length===0){var Z,V=(Z=v.domain)!==null&&Z!==void 0?Z:J;if(x){if(O=$u(F,x,y),y==="category"&&p){var R=d9(O);w&&R?(_=O,O=Kp(0,$)):w||(O=f2(V,O,m).reduce(function(ee,H){return ee.indexOf(H)>=0?ee:[].concat(nc(ee),[H])},[]))}else if(y==="category")w?O=O.filter(function(ee){return ee!==""&&!He(ee)}):O=f2(V,O,m).reduce(function(ee,H){return ee.indexOf(H)>=0||H===""||He(H)?ee:[].concat(nc(ee),[H])},[]);else if(y==="number"){var B=Tae(F,s.filter(function(ee){var H,oe,ue=o in ee.props?ee.props[o]:(H=ee.type.defaultProps)===null||H===void 0?void 0:H[o],de="hide"in ee.props?ee.props.hide:(oe=ee.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ue===A&&(T||!de)}),x,i,d);B&&(O=B)}p&&(y==="number"||S!=="auto")&&(z=$u(F,x,"category"))}else p?O=Kp(0,$):l&&l[A]&&l[A].hasStack&&y==="number"?O=h==="expand"?[0,1]:fM(l[A].stackGroups,c,u):O=iM(F,s.filter(function(ee){var H=o in ee.props?ee.props[o]:ee.type.defaultProps[o],oe="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return H===A&&(T||!oe)}),y,d,!0);if(y==="number")O=Qy(f,O,A,i,N),V&&(O=my(V,O,j));else if(y==="category"&&V){var I=V,U=O.every(function(ee){return I.indexOf(ee)>=0});U&&(O=I)}}return ge(ge({},g),{},Fe({},A,ge(ge({},v),{},{axisType:i,domain:O,categoricalDomain:z,duplicateDomain:_,originalDomain:(k=v.domain)!==null&&k!==void 0?k:J,isCategorical:p,layout:d})))},{})},ape=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Sg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=oM(d,i),m=-1;return n.reduce(function(k,v){var y=v.type.defaultProps!==void 0?ge(ge({},v.type.defaultProps),v.props):v.props,x=y[o],j=A3("number");if(!k[x]){m++;var w;return g?w=Kp(0,p):l&&l[x]&&l[x].hasStack?(w=fM(l[x].stackGroups,c,u),w=Qy(f,w,x,i)):(w=my(j,iM(h,n.filter(function(S){var N,T,A=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],F="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return A===x&&!F}),"number",d),s.defaultProps.allowDataOverflow),w=Qy(f,w,x,i)),ge(ge({},k),{},Fe({},x,ge(ge({axisType:i},s.defaultProps),{},{hide:!0,orientation:kn(Zhe,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:j,isCategorical:g,layout:d})))}return k},{})},spe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=wn(d,i),p={};return h&&h.length?p=npe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=ape(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},ipe=function(t){var r=qs(t),n=Fa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nw(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ap(r,n)}},HT=function(t){var r=t.children,n=t.defaultShowTooltip,s=gn(r,Gl),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ope=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ha(r&&r.type);return n&&n.indexOf("Bar")>=0})},WT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lpe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=gn(f,Gl),g=gn(f,pa),m=Object.keys(c).reduce(function(w,S){var N=c[S],T=N.orientation;return!N.mirror&&!N.hide?ge(ge({},w),{},Fe({},T,w[T]+N.width)):w},{left:h.left||0,right:h.right||0}),k=Object.keys(o).reduce(function(w,S){var N=o[S],T=N.orientation;return!N.mirror&&!N.hide?ge(ge({},w),{},Fe({},T,kn(w,"".concat(T))+N.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=ge(ge({},k),m),y=v.bottom;p&&(v.bottom+=p.props.height||Gl.defaultProps.height),g&&r&&(v=Nae(v,s,n,r));var x=u-v.left-v.right,j=d-v.top-v.bottom;return ge(ge({brushBottom:y},v),{},{width:Math.max(x,0),height:Math.max(j,0)})},cpe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Bw=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,y){var x=y.graphicalItems,j=y.stackGroups,w=y.offset,S=y.updateId,N=y.dataStartIndex,T=y.dataEndIndex,A=v.barSize,F=v.layout,$=v.barGap,O=v.barCategoryGap,_=v.maxBarSize,z=WT(F),J=z.numericAxisName,Z=z.cateAxisName,V=ope(x),R=[];return x.forEach(function(B,I){var U=Sg(v.data,{graphicalItems:[B],dataStartIndex:N,dataEndIndex:T}),ee=B.type.defaultProps!==void 0?ge(ge({},B.type.defaultProps),B.props):B.props,H=ee.dataKey,oe=ee.maxBarSize,ue=ee["".concat(J,"Id")],de=ee["".concat(Z,"Id")],ye={},be=c.reduce(function(P,M){var ie=y["".concat(M.axisType,"Map")],D=ee["".concat(M.axisType,"Id")];ie&&ie[D]||M.axisType==="zAxis"||bo();var E=ie[D];return ge(ge({},P),{},Fe(Fe({},M.axisType,E),"".concat(M.axisType,"Ticks"),Fa(E)))},ye),fe=be[Z],xe=be["".concat(Z,"Ticks")],ve=j&&j[ue]&&j[ue].hasStack&&Rae(B,j[ue].stackGroups),te=Ha(B.type).indexOf("Bar")>=0,ne=Ap(fe,xe),G=[],Q=V&&jae({barSize:A,stackGroups:j,totalSize:cpe(be,Z)});if(te){var L,C,ae=He(oe)?_:oe,X=(L=(C=Ap(fe,xe,!0))!==null&&C!==void 0?C:ae)!==null&&L!==void 0?L:0;G=Sae({barGap:$,barCategoryGap:O,bandSize:X!==ne?X:ne,sizeList:Q[de],maxBarSize:ae}),X!==ne&&(G=G.map(function(P){return ge(ge({},P),{},{position:ge(ge({},P.position),{},{offset:P.position.offset-X/2})})}))}var K=B&&B.type&&B.type.getComposedData;K&&R.push({props:ge(ge({},K(ge(ge({},be),{},{displayedData:U,props:v,dataKey:H,item:B,bandSize:ne,barPosition:G,offset:w,stackedData:ve,layout:F,dataStartIndex:N,dataEndIndex:T}))),{},Fe(Fe(Fe({key:B.key||"item-".concat(I)},J,be[J]),Z,be[Z]),"animationId",S)),childIndex:S9(B,v.children),item:B})}),R},p=function(v,y){var x=v.props,j=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!sN({props:x}))return null;var N=x.children,T=x.layout,A=x.stackOffset,F=x.data,$=x.reverseStackOrder,O=WT(T),_=O.numericAxisName,z=O.cateAxisName,J=wn(N,n),Z=Mae(F,J,"".concat(_,"Id"),"".concat(z,"Id"),A,$),V=c.reduce(function(ee,H){var oe="".concat(H.axisType,"Map");return ge(ge({},ee),{},Fe({},oe,spe(x,ge(ge({},H),{},{graphicalItems:J,stackGroups:H.axisType===_&&Z,dataStartIndex:j,dataEndIndex:w}))))},{}),R=lpe(ge(ge({},V),{},{props:x,graphicalItems:J}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(ee){V[ee]=d(x,V[ee],R,ee.replace("Map",""),r)});var B=V["".concat(z,"Map")],I=ipe(B),U=h(x,ge(ge({},V),{},{dataStartIndex:j,dataEndIndex:w,updateId:S,graphicalItems:J,stackGroups:Z,offset:R}));return ge(ge({formattedGraphicalItems:U,graphicalItems:J,offset:R,stackGroups:Z},I),V)},g=function(k){function v(y){var x,j,w;return zhe(this,v),w=Hhe(this,v,[y]),Fe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(w,"accessibilityManager",new Ahe),Fe(w,"handleLegendBBoxUpdate",function(S){if(S){var N=w.state,T=N.dataStartIndex,A=N.dataEndIndex,F=N.updateId;w.setState(ge({legendBBox:S},p({props:w.props,dataStartIndex:T,dataEndIndex:A,updateId:F},ge(ge({},w.state),{},{legendBBox:S}))))}}),Fe(w,"handleReceiveSyncEvent",function(S,N,T){if(w.props.syncId===S){if(T===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),Fe(w,"handleBrushChange",function(S){var N=S.startIndex,T=S.endIndex;if(N!==w.state.dataStartIndex||T!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return ge({dataStartIndex:N,dataEndIndex:T},p({props:w.props,dataStartIndex:N,dataEndIndex:T,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:T})}}),Fe(w,"handleMouseEnter",function(S){var N=w.getMouseInfo(S);if(N){var T=ge(ge({},N),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var A=w.props.onMouseEnter;Ve(A)&&A(T,S)}}),Fe(w,"triggeredAfterMouseMove",function(S){var N=w.getMouseInfo(S),T=N?ge(ge({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(T),w.triggerSyncEvent(T);var A=w.props.onMouseMove;Ve(A)&&A(T,S)}),Fe(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Fe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Fe(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Fe(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var T=w.props.onMouseLeave;Ve(T)&&T(N,S)}),Fe(w,"handleOuterEvent",function(S){var N=j9(S),T=kn(w.props,"".concat(N));if(N&&Ve(T)){var A,F;/.*touch.*/i.test(N)?F=w.getMouseInfo(S.changedTouches[0]):F=w.getMouseInfo(S),T((A=F)!==null&&A!==void 0?A:{},S)}}),Fe(w,"handleClick",function(S){var N=w.getMouseInfo(S);if(N){var T=ge(ge({},N),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var A=w.props.onClick;Ve(A)&&A(T,S)}}),Fe(w,"handleMouseDown",function(S){var N=w.props.onMouseDown;if(Ve(N)){var T=w.getMouseInfo(S);N(T,S)}}),Fe(w,"handleMouseUp",function(S){var N=w.props.onMouseUp;if(Ve(N)){var T=w.getMouseInfo(S);N(T,S)}}),Fe(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Fe(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Fe(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Fe(w,"handleDoubleClick",function(S){var N=w.props.onDoubleClick;if(Ve(N)){var T=w.getMouseInfo(S);N(T,S)}}),Fe(w,"handleContextMenu",function(S){var N=w.props.onContextMenu;if(Ve(N)){var T=w.getMouseInfo(S);N(T,S)}}),Fe(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Ux.emit(Hx,w.props.syncId,S,w.eventEmitterSymbol)}),Fe(w,"applySyncEvent",function(S){var N=w.props,T=N.layout,A=N.syncMethod,F=w.state.updateId,$=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(ge({dataStartIndex:$,dataEndIndex:O},p({props:w.props,dataStartIndex:$,dataEndIndex:O,updateId:F},w.state)));else if(S.activeTooltipIndex!==void 0){var _=S.chartX,z=S.chartY,J=S.activeTooltipIndex,Z=w.state,V=Z.offset,R=Z.tooltipTicks;if(!V)return;if(typeof A=="function")J=A(R,S);else if(A==="value"){J=-1;for(var B=0;B<R.length;B++)if(R[B].value===S.activeLabel){J=B;break}}var I=ge(ge({},V),{},{x:V.left,y:V.top}),U=Math.min(_,I.x+I.width),ee=Math.min(z,I.y+I.height),H=R[J]&&R[J].value,oe=tb(w.state,w.props.data,J),ue=R[J]?{x:T==="horizontal"?R[J].coordinate:U,y:T==="horizontal"?ee:R[J].coordinate}:T3;w.setState(ge(ge({},S),{},{activeLabel:H,activeCoordinate:ue,activePayload:oe,activeTooltipIndex:J}))}else w.setState(S)}),Fe(w,"renderCursor",function(S){var N,T=w.state,A=T.isTooltipActive,F=T.activeCoordinate,$=T.activePayload,O=T.offset,_=T.activeTooltipIndex,z=T.tooltipAxisBandSize,J=w.getTooltipEventType(),Z=(N=S.props.active)!==null&&N!==void 0?N:A,V=w.props.layout,R=S.key||"_recharts-cursor";return re.createElement($he,{key:R,activeCoordinate:F,activePayload:$,activeTooltipIndex:_,chartName:r,element:S,isActive:Z,layout:V,offset:O,tooltipAxisBandSize:z,tooltipEventType:J})}),Fe(w,"renderPolarAxis",function(S,N,T){var A=kn(S,"type.axisType"),F=kn(w.state,"".concat(A,"Map")),$=S.type.defaultProps,O=$!==void 0?ge(ge({},$),S.props):S.props,_=F&&F[O["".concat(A,"Id")]];return b.cloneElement(S,ge(ge({},_),{},{className:We(A,_.className),key:S.key||"".concat(N,"-").concat(T),ticks:Fa(_,!0)}))}),Fe(w,"renderPolarGrid",function(S){var N=S.props,T=N.radialLines,A=N.polarAngles,F=N.polarRadius,$=w.state,O=$.radiusAxisMap,_=$.angleAxisMap,z=qs(O),J=qs(_),Z=J.cx,V=J.cy,R=J.innerRadius,B=J.outerRadius;return b.cloneElement(S,{polarAngles:Array.isArray(A)?A:Fa(J,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(F)?F:Fa(z,!0).map(function(I){return I.coordinate}),cx:Z,cy:V,innerRadius:R,outerRadius:B,key:S.key||"polar-grid",radialLines:T})}),Fe(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,N=w.props,T=N.children,A=N.width,F=N.height,$=w.props.margin||{},O=A-($.left||0)-($.right||0),_=aM({children:T,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!_)return null;var z=_.item,J=zT(_,Rhe);return b.cloneElement(z,ge(ge({},J),{},{chartWidth:A,chartHeight:F,margin:$,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Fe(w,"renderTooltip",function(){var S,N=w.props,T=N.children,A=N.accessibilityLayer,F=gn(T,Mr);if(!F)return null;var $=w.state,O=$.isTooltipActive,_=$.activeCoordinate,z=$.activePayload,J=$.activeLabel,Z=$.offset,V=(S=F.props.active)!==null&&S!==void 0?S:O;return b.cloneElement(F,{viewBox:ge(ge({},Z),{},{x:Z.left,y:Z.top}),active:V,label:J,payload:V?z:[],coordinate:_,accessibilityLayer:A})}),Fe(w,"renderBrush",function(S){var N=w.props,T=N.margin,A=N.data,F=w.state,$=F.offset,O=F.dataStartIndex,_=F.dataEndIndex,z=F.updateId;return b.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Uf(w.handleBrushChange,S.props.onChange),data:A,x:Ne(S.props.x)?S.props.x:$.left,y:Ne(S.props.y)?S.props.y:$.top+$.height+$.brushBottom-(T.bottom||0),width:Ne(S.props.width)?S.props.width:$.width,startIndex:O,endIndex:_,updateId:"brush-".concat(z)})}),Fe(w,"renderReferenceElement",function(S,N,T){if(!S)return null;var A=w,F=A.clipPathId,$=w.state,O=$.xAxisMap,_=$.yAxisMap,z=$.offset,J=S.type.defaultProps||{},Z=S.props,V=Z.xAxisId,R=V===void 0?J.xAxisId:V,B=Z.yAxisId,I=B===void 0?J.yAxisId:B;return b.cloneElement(S,{key:S.key||"".concat(N,"-").concat(T),xAxis:O[R],yAxis:_[I],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),Fe(w,"renderActivePoints",function(S){var N=S.item,T=S.activePoint,A=S.basePoint,F=S.childIndex,$=S.isRange,O=[],_=N.props.key,z=N.item.type.defaultProps!==void 0?ge(ge({},N.item.type.defaultProps),N.item.props):N.item.props,J=z.activeDot,Z=z.dataKey,V=ge(ge({index:F,dataKey:Z,cx:T.x,cy:T.y,r:4,fill:Ow(N.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Le(J,!1)),tp(J));return O.push(v.renderActiveDot(J,V,"".concat(_,"-activePoint-").concat(F))),A?O.push(v.renderActiveDot(J,ge(ge({},V),{},{cx:A.x,cy:A.y}),"".concat(_,"-basePoint-").concat(F))):$&&O.push(null),O}),Fe(w,"renderGraphicChild",function(S,N,T){var A=w.filterFormatItem(S,N,T);if(!A)return null;var F=w.getTooltipEventType(),$=w.state,O=$.isTooltipActive,_=$.tooltipAxis,z=$.activeTooltipIndex,J=$.activeLabel,Z=w.props.children,V=gn(Z,Mr),R=A.props,B=R.points,I=R.isRange,U=R.baseLine,ee=A.item.type.defaultProps!==void 0?ge(ge({},A.item.type.defaultProps),A.item.props):A.item.props,H=ee.activeDot,oe=ee.hide,ue=ee.activeBar,de=ee.activeShape,ye=!!(!oe&&O&&V&&(H||ue||de)),be={};F!=="axis"&&V&&V.props.trigger==="click"?be={onClick:Uf(w.handleItemMouseEnter,S.props.onClick)}:F!=="axis"&&(be={onMouseLeave:Uf(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Uf(w.handleItemMouseEnter,S.props.onMouseEnter)});var fe=b.cloneElement(S,ge(ge({},A.props),be));function xe(M){return typeof _.dataKey=="function"?_.dataKey(M.payload):null}if(ye)if(z>=0){var ve,te;if(_.dataKey&&!_.allowDuplicatedCategory){var ne=typeof _.dataKey=="function"?xe:"payload.".concat(_.dataKey.toString());ve=ep(B,ne,J),te=I&&U&&ep(U,ne,J)}else ve=B==null?void 0:B[z],te=I&&U&&U[z];if(de||ue){var G=S.props.activeIndex!==void 0?S.props.activeIndex:z;return[b.cloneElement(S,ge(ge(ge({},A.props),be),{},{activeIndex:G})),null,null]}if(!He(ve))return[fe].concat(nc(w.renderActivePoints({item:A,activePoint:ve,basePoint:te,childIndex:z,isRange:I})))}else{var Q,L=(Q=w.getItemByXY(w.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:fe},C=L.graphicalItem,ae=C.item,X=ae===void 0?S:ae,K=C.childIndex,P=ge(ge(ge({},A.props),be),{},{activeIndex:K});return[b.cloneElement(X,P),null,null]}return I?[fe,null,null]:[fe,null]}),Fe(w,"renderCustomized",function(S,N,T){return b.cloneElement(S,ge(ge({key:"recharts-customized-".concat(T)},w.props),w.state))}),Fe(w,"renderMap",{CartesianGrid:{handler:Yf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Yf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Yf},YAxis:{handler:Yf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:xc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=nD(w.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return qhe(v,k),Uhe(v,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,w=x.data,S=x.height,N=x.layout,T=gn(j,Mr);if(T){var A=T.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,$=tb(this.state,w,A,F),O=this.state.tooltipTicks[A].coordinate,_=(this.state.offset.top+S)/2,z=N==="horizontal",J=z?{x:O,y:_}:{y:O,x:_},Z=this.state.formattedGraphicalItems.find(function(R){var B=R.item;return B.type.name==="Scatter"});Z&&(J=ge(ge({},J),Z.props.points[A].tooltipPosition),$=Z.props.points[A].tooltipPayload);var V={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:F,activePayload:$,activeCoordinate:J};this.setState(V),this.renderCursor(T),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){Ev([gn(x.children,Mr)],[gn(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=gn(this.props.children,Mr);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),S=JZ(w),N={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},T=w.width/j.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,T);if(!A)return null;var F=this.state,$=F.xAxisMap,O=F.yAxisMap,_=this.getTooltipEventType(),z=UT(this.state,this.props.data,this.props.layout,A);if(_!=="axis"&&$&&O){var J=qs($).scale,Z=qs(O).scale,V=J&&J.invert?J.invert(N.chartX):null,R=Z&&Z.invert?Z.invert(N.chartY):null;return ge(ge({},N),{},{xValue:V,yValue:R},z)}return z?ge(ge({},N),z):null}},{key:"inRange",value:function(x,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=x/w,T=j/w;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,F=N>=A.left&&N<=A.left+A.width&&T>=A.top&&T<=A.top+A.height;return F?{x:N,y:T}:null}var $=this.state,O=$.angleAxisMap,_=$.radiusAxisMap;if(O&&_){var z=qs(O);return m2({x:N,y:T},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),w=gn(x,Mr),S={};w&&j==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=tp(this.props,this.handleOuterEvent);return ge(ge({},N),S)}},{key:"addListener",value:function(){Ux.on(Hx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ux.removeListener(Hx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,w){for(var S=this.state.formattedGraphicalItems,N=0,T=S.length;N<T;N++){var A=S[N];if(A.item===x||A.props.key===x.key||j===Ha(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,w=j.left,S=j.top,N=j.height,T=j.width;return re.createElement("defs",null,re.createElement("clipPath",{id:x},re.createElement("rect",{x:w,y:S,height:N,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,w){var S=KT(w,2),N=S[0],T=S[1];return ge(ge({},j),{},Fe({},N,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,w){var S=KT(w,2),N=S[0],T=S[1];return ge(ge({},j),{},Fe({},N,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,w=j.formattedGraphicalItems,S=j.activeItem;if(w&&w.length)for(var N=0,T=w.length;N<T;N++){var A=w[N],F=A.props,$=A.item,O=$.type.defaultProps!==void 0?ge(ge({},$.type.defaultProps),$.props):$.props,_=Ha($.type);if(_==="Bar"){var z=(F.data||[]).find(function(R){return Doe(x,R)});if(z)return{graphicalItem:A,payload:z}}else if(_==="RadialBar"){var J=(F.data||[]).find(function(R){return m2(x,R)});if(J)return{graphicalItem:A,payload:J}}else if(gg(A,S)||xg(A,S)||Ld(A,S)){var Z=kce({graphicalItem:A,activeTooltipItem:S,itemData:O.data}),V=O.activeIndex===void 0?Z:O.activeIndex;return{graphicalItem:ge(ge({},A),{},{childIndex:V}),payload:Ld(A,S)?O.data[Z]:A.props.data[Z]}}}return null}},{key:"render",value:function(){var x=this;if(!sN(this))return null;var j=this.props,w=j.children,S=j.className,N=j.width,T=j.height,A=j.style,F=j.compact,$=j.title,O=j.desc,_=zT(j,Ihe),z=Le(_,!1);if(F)return re.createElement(jT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(_v,ol({},z,{width:N,height:T,title:$,desc:O}),this.renderClipPath(),oN(w,this.renderMap)));if(this.props.accessibilityLayer){var J,Z;z.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,z.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",z.onKeyDown=function(R){x.accessibilityManager.keyboardEvent(R)},z.onFocus=function(){x.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return re.createElement(jT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",ol({className:We("recharts-wrapper",S),style:ge({position:"relative",cursor:"default",width:N,height:T},A)},V,{ref:function(B){x.container=B}}),re.createElement(_v,ol({},z,{width:N,height:T,title:$,desc:O,style:epe}),this.renderClipPath(),oN(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Fe(g,"displayName",r),Fe(g,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Fe(g,"getDerivedStateFromProps",function(k,v){var y=k.dataKey,x=k.data,j=k.children,w=k.width,S=k.height,N=k.layout,T=k.stackOffset,A=k.margin,F=v.dataStartIndex,$=v.dataEndIndex;if(v.updateId===void 0){var O=HT(k);return ge(ge(ge({},O),{},{updateId:0},p(ge(ge({props:k},O),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:x,prevWidth:w,prevHeight:S,prevLayout:N,prevStackOffset:T,prevMargin:A,prevChildren:j})}if(y!==v.prevDataKey||x!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||N!==v.prevLayout||T!==v.prevStackOffset||!xl(A,v.prevMargin)){var _=HT(k),z={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},J=ge(ge({},UT(v,x,N)),{},{updateId:v.updateId+1}),Z=ge(ge(ge({},_),z),J);return ge(ge(ge({},Z),p(ge({props:k},Z),v)),{},{prevDataKey:y,prevData:x,prevWidth:w,prevHeight:S,prevLayout:N,prevStackOffset:T,prevMargin:A,prevChildren:j})}if(!Ev(j,v.prevChildren)){var V,R,B,I,U=gn(j,Gl),ee=U&&(V=(R=U.props)===null||R===void 0?void 0:R.startIndex)!==null&&V!==void 0?V:F,H=U&&(B=(I=U.props)===null||I===void 0?void 0:I.endIndex)!==null&&B!==void 0?B:$,oe=ee!==F||H!==$,ue=!He(x),de=ue&&!oe?v.updateId:v.updateId+1;return ge(ge({updateId:de},p(ge(ge({props:k},v),{},{updateId:de,dataStartIndex:ee,dataEndIndex:H}),v)),{},{prevChildren:j,dataStartIndex:ee,dataEndIndex:H})}return null}),Fe(g,"renderActiveDot",function(k,v,y){var x;return b.isValidElement(k)?x=b.cloneElement(k,v):Ve(k)?x=k(v):x=re.createElement(dg,v),re.createElement(ct,{className:"recharts-active-dot",key:y},x)});var m=b.forwardRef(function(v,y){return re.createElement(g,ol({},v,{ref:y}))});return m.displayName=g.displayName,m},upe=Bw({chartName:"LineChart",GraphicalChild:Zs,axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:pi}],formatAxisMap:GM}),rb=Bw({chartName:"BarChart",GraphicalChild:wa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hi},{axisType:"yAxis",AxisComp:pi}],formatAxisMap:GM}),Gx=Bw({chartName:"PieChart",GraphicalChild:ia,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mg},{axisType:"radiusAxis",AxisComp:hg}],formatAxisMap:Wae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const dpe=["Urea","DAP","KCL","ZA","Dolomite","Clay"],Bo=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],yu=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],qc=["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],fpe=({isOpen:e,onClose:t,monthName:r,year:n,totalHours:s,details:i,isHighest:o,rank:l,averageHours:c})=>{const u=b.useMemo(()=>{const f={};return i.forEach(h=>{const p=h.item||"Unknown";f[p]||(f[p]={total:0,count:0,details:[]}),f[p].total+=le(h.downtime),f[p].count+=1,f[p].details.push(h)}),Object.entries(f).map(([h,p])=>({item:h,...p})).sort((h,p)=>p.total-h.total)},[i]),d=c>0?((s-c)/c*100).toFixed(1):"0";return a.jsx(qe,{isOpen:e,onClose:t,size:"full",title:"",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:["Detail Downtime ",r," ",n]}),o&&a.jsxs(Te,{variant:"danger",className:"animate-pulse",children:[a.jsx(Cl,{className:"h-3 w-3 mr-1"}),"Tertinggi"]}),l<=3&&!o&&a.jsxs(Te,{variant:"warning",children:["Top ",l]})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Analisis detail downtime per equipment untuk bulan ",r]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(Kn,{className:"h-5 w-5 text-dark-500"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:Ee("p-4 rounded-xl",o?"bg-gradient-to-br from-red-500 to-rose-600 text-white":"bg-gradient-to-br from-amber-500 to-orange-500 text-white"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ua,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Total Downtime"})]}),a.jsx("p",{className:"text-3xl font-bold",children:Y(s)}),a.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Am,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Jumlah Kejadian"})]}),a.jsx("p",{className:"text-3xl font-bold",children:i.length}),a.jsx("p",{className:"text-sm opacity-80",children:"Kejadian"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ml,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Rata-rata/Kejadian"})]}),a.jsx("p",{className:"text-3xl font-bold",children:i.length>0?(s/i.length).toFixed(1):"0"}),a.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),a.jsxs("div",{className:Ee("p-4 rounded-xl",Number(d)>0?"bg-gradient-to-br from-red-400 to-red-500 text-white":"bg-gradient-to-br from-green-500 to-emerald-500 text-white"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Number(d)>0?a.jsx(di,{className:"h-4 w-4 opacity-80"}):a.jsx(gl,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"vs Rata-rata Bulanan"})]}),a.jsxs("p",{className:"text-3xl font-bold",children:[Number(d)>0?"+":"",d,"%"]}),a.jsx("p",{className:"text-sm opacity-80",children:Number(d)>0?"Di atas rata-rata":"Di bawah rata-rata"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(zK,{className:"h-5 w-5 text-amber-500"}),"Breakdown per Equipment"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,6).map((f,h)=>{const p=s>0?(f.total/s*100).toFixed(1):"0";return a.jsxs(lr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:Ee("p-4 rounded-xl border transition-all duration-300 hover:shadow-lg",h===0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-dark-800 border-dark-100 dark:border-dark-700"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:Ee("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",h===0?"bg-red-500 text-white":"bg-dark-200 dark:bg-dark-600 text-dark-700 dark:text-dark-200"),children:h+1}),a.jsx("h4",{className:Ee("font-semibold",h===0?"text-red-700 dark:text-red-400":"text-dark-900 dark:text-white"),children:f.item})]}),a.jsxs(Te,{variant:h===0?"danger":"warning",size:"sm",children:[p,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total:"}),a.jsxs("span",{className:Ee("ml-1 font-bold",h===0?"text-red-600 dark:text-red-400":"text-dark-900 dark:text-white"),children:[Y(f.total)," Jam"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kejadian:"}),a.jsxs("span",{className:"ml-1 font-medium text-dark-700 dark:text-dark-200",children:[f.count,"x"]})]})]}),a.jsx("div",{className:"mt-3 h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:a.jsx(lr.div,{initial:{width:0},animate:{width:`${p}%`},transition:{delay:h*.1+.3,duration:.5},className:Ee("h-full rounded-full",h===0?"bg-gradient-to-r from-red-500 to-rose-500":"bg-gradient-to-r from-amber-400 to-orange-500")})})]},f.item)})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4",children:["Detail Kejadian (",i.length," record)"]}),a.jsx("div",{className:"overflow-x-auto rounded-xl border border-dark-100 dark:border-dark-700",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"No"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Tanggal"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Equipment"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Deskripsi"}),a.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Off"}),a.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Start"}),a.jsx("th",{className:"px-4 py-3 text-right font-semibold text-dark-700 dark:text-dark-200",children:"Downtime (Jam)"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:i.sort((f,h)=>le(h.downtime)-le(f.downtime)).slice(0,20).map((f,h)=>a.jsxs("tr",{className:Ee("hover:bg-dark-50 dark:hover:bg-dark-700/50 transition-colors",h===0&&"bg-red-50 dark:bg-red-900/10"),children:[a.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300",children:h+1}),a.jsx("td",{className:"px-4 py-3 text-dark-900 dark:text-white font-medium",children:new Date(f.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(Te,{variant:h===0?"danger":"default",size:"sm",children:f.item})}),a.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300 max-w-xs truncate",children:f.deskripsi||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamOff||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamStart||"-"}),a.jsx("td",{className:Ee("px-4 py-3 text-right font-bold",h===0?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:Y(le(f.downtime))})]},h))}),i.length>20&&a.jsx("tfoot",{className:"bg-dark-50 dark:bg-dark-800",children:a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-4 py-3 text-center text-dark-500",children:["... dan ",i.length-20," record lainnya"]})})})]})})]})]})})},hpe=({downtimeData:e,year:t,plantLabel:r})=>{const[n,s]=b.useState(null),i=b.useMemo(()=>{const d=yu.map((h,p)=>{const g=e.filter(k=>k.tanggal?new Date(k.tanggal).getMonth()===p:!1),m=g.reduce((k,v)=>k+le(v.downtime),0);return{month:h,monthIndex:p,hours:m,count:g.length,isHighest:!1,rank:0,details:g.map(k=>({item:k.item,deskripsi:k.deskripsi,tanggal:k.tanggal,jamOff:k.jamOff,jamStart:k.jamStart,downtime:le(k.downtime)}))}});return[...d].filter(h=>h.hours>0).sort((h,p)=>p.hours-h.hours).forEach((h,p)=>{const g=d.find(m=>m.monthIndex===h.monthIndex);g&&(g.rank=p+1,p===0&&(g.isHighest=!0))}),d},[e]),o=b.useMemo(()=>{const d=i.reduce((m,k)=>m+k.hours,0),f=i.filter(m=>m.hours>0).length,h=f>0?d/f:0,p=i.find(m=>m.isHighest),g=(p==null?void 0:p.hours)||0;return{totalHours:d,averageHours:h,highestMonth:p,maxHours:g,monthsWithData:f}},[i]),l=d=>{d.hours>0&&s(d)},c=d=>d.isHighest?"#ef4444":d.rank===2?"#f97316":d.rank===3?"#f59e0b":"#3b82f6",u=d=>{const{x:f,y:h,width:p,value:g,index:m}=d,k=i[m];return g===0?null:a.jsxs("g",{children:[a.jsx("text",{x:f+p/2,y:h-10,fill:k.isHighest?"#ef4444":"#64748b",textAnchor:"middle",fontSize:11,fontWeight:k.isHighest?"bold":"normal",children:Y(g)}),k.isHighest&&a.jsx("text",{x:f+p/2,y:h-24,fill:"#ef4444",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:" TERTINGGI"})]})};return a.jsxs(a.Fragment,{children:[a.jsxs(we,{className:"overflow-hidden",children:[a.jsx(tt,{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white py-5",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Cl,{className:"h-5 w-5"}),a.jsxs(rt,{className:"text-white text-lg",children:["Analisis Downtime Bulanan ",t]})]}),a.jsxs("p",{className:"text-red-100 text-sm",children:[r,"  Klik bar untuk melihat detail"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-red-100 text-xs",children:"Total Tahunan"}),a.jsxs("p",{className:"text-xl font-bold",children:[Y(o.totalHours)," Jam"]})]}),o.highestMonth&&a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm border-2 border-white/30",children:[a.jsxs("p",{className:"text-red-100 text-xs flex items-center gap-1",children:[a.jsx(b_,{className:"h-3 w-3"})," Bulan Tertinggi"]}),a.jsx("p",{className:"text-xl font-bold",children:o.highestMonth.month}),a.jsxs("p",{className:"text-red-100 text-xs",children:[Y(o.highestMonth.hours)," Jam"]})]})]})]})}),a.jsxs(qr,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Total Kejadian"}),a.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.length})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 uppercase tracking-wider mb-1",children:"Rata-rata/Bulan"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:[Y(o.averageHours)," Jam"]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Bulan Dengan Data"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[o.monthsWithData," / 12"]})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-1",children:"Rata-rata/Kejadian"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[e.length>0?(o.totalHours/e.length).toFixed(1):"0"," ","Jam"]})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(Vi,{width:"100%",height:"100%",children:a.jsxs(rb,{data:i,margin:{top:40,right:30,left:20,bottom:20},children:[a.jsx(Bu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(hi,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1}),a.jsx(pi,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Jam",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#64748b"}}}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px 16px"},content:({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload;return a.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-100 dark:border-dark-700 p-4 min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[h.month," ",t]}),h.isHighest&&a.jsx(Te,{variant:"danger",size:"sm",children:"Tertinggi"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500",children:"Total Downtime:"}),a.jsxs("span",{className:Ee("ml-2 font-bold",h.isHighest?"text-red-600":"text-amber-600"),children:[Y(h.hours)," Jam"]})]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500",children:"Jumlah Kejadian:"}),a.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:[h.count," kejadian"]})]}),h.rank>0&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500",children:"Peringkat:"}),a.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:["#",h.rank," dari ",o.monthsWithData," bulan"]})]})]}),h.hours>0&&a.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-3 pt-2 border-t border-dark-100 dark:border-dark-700",children:"Klik untuk melihat detail "})]})}return null}}),o.averageHours>0&&a.jsx(yg,{y:o.averageHours,stroke:"#22c55e",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Rata-rata: ${Y(o.averageHours)} Jam`,position:"right",fill:"#22c55e",fontSize:11}}),a.jsxs(wa,{dataKey:"hours",radius:[8,8,0,0],cursor:"pointer",onClick:d=>l(d),children:[i.map((d,f)=>a.jsx(io,{fill:c(d),className:"hover:opacity-80 transition-opacity"},`cell-${f}`)),a.jsx(ba,{dataKey:"hours",content:u})]})]})})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mt-4 pt-4 border-t border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Tertinggi"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 3"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Lainnya"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-0.5 bg-green-500",style:{backgroundImage:"repeating-linear-gradient(to right, #22c55e, #22c55e 5px, transparent 5px, transparent 10px)"}}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Rata-rata"})]})]})]})]}),n&&a.jsx(fpe,{isOpen:!!n,onClose:()=>s(null),monthName:n.month,monthIndex:n.monthIndex,year:t,totalHours:n.hours,details:n.details,isHighest:n.isHighest,rank:n.rank,averageHours:o.averageHours})]})},ppe=()=>{const{user:e}=nt(),{dashboardPlantFilter:t,dashboardYear:r,setDashboardPlantFilter:n,setDashboardYear:s}=ym(),i=Jd(),[o,l]=b.useState(!0),[c,u]=b.useState(new Date().getMonth()),[d,f]=b.useState("tahunan"),[h,p]=b.useState("jam"),[g,m]=b.useState(new Date().getMonth()),[k,v]=b.useState("Urea"),[y,x]=b.useState([]),[j,w]=b.useState({produksiNPK:[],produksiBlending:[],produksiNPKMini:[],downtime:[],workRequest:[],bahanBaku:[],vibrasi:[],gatePass:[],timesheetForklift:[],timesheetLoader:[],troubleRecord:[],rkap:[],rekapBBM:[]}),S=e==null?void 0:e.plant,N=e==null?void 0:e.role,T=S==="ALL"||N==="manager"||N==="eksternal";b.useEffect(()=>{!T&&S&&n(S)},[S,T,n]);const A=T?t:S||"NPK2";b.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:oe,readData:ue,SHEETS:de}=await Re(async()=>{const{fetchDataByPlant:K,readData:P,SHEETS:M}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:K,readData:P,SHEETS:M}},void 0),[ye,be,fe,xe,ve,te,ne,G,Q,L,C,ae,X]=await Promise.all([oe(de.PRODUKSI_NPK),oe(de.PRODUKSI_BLENDING),oe(de.PRODUKSI_NPK_MINI),oe(de.DOWNTIME),oe(de.WORK_REQUEST),oe(de.BAHAN_BAKU),oe(de.VIBRASI),oe(de.GATE_PASS),oe(de.TIMESHEET_FORKLIFT),oe(de.TIMESHEET_LOADER),oe(de.TROUBLE_RECORD),ue(de.RKAP),oe(de.REKAP_BBM)]);w({produksiNPK:ye.success&&ye.data?ye.data:[],produksiBlending:be.success&&be.data?be.data:[],produksiNPKMini:fe.success&&fe.data?fe.data:[],downtime:xe.success&&xe.data?xe.data:[],workRequest:ve.success&&ve.data?ve.data:[],bahanBaku:te.success&&te.data?te.data:[],vibrasi:ne.success&&ne.data?ne.data:[],gatePass:G.success&&G.data?G.data:[],timesheetForklift:Q.success&&Q.data?Q.data:[],timesheetLoader:L.success&&L.data?L.data:[],troubleRecord:C.success&&C.data?C.data:[],rkap:ae.success&&ae.data?ae.data:[],rekapBBM:X.success&&X.data?X.data:[]})}catch(oe){console.error("Error fetching dashboard data:",oe)}finally{l(!1)}})()},[]),b.useEffect(()=>{(async()=>{try{const{fetchDataByPlant:oe,SHEETS:ue}=await Re(async()=>{const{fetchDataByPlant:de,SHEETS:ye}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:de,SHEETS:ye}},void 0);if(ue.PEMANTAUAN_BAHAN_BAKU){const de=await oe(ue.PEMANTAUAN_BAHAN_BAKU);de.success&&de.data&&x(de.data)}}catch(oe){console.error("Error fetching pemantauan bahan baku:",oe)}})()},[]);const F=b.useCallback(H=>A==="ALL"?H:H.filter(oe=>oe._plant===A),[A]),$=b.useCallback(H=>A==="ALL"?H:H.filter(oe=>oe.plant===A),[A]),O=b.useCallback(H=>H.filter(oe=>oe.tanggal?new Date(oe.tanggal).getFullYear()===r:!1),[r]),_=b.useMemo(()=>({produksiNPK:O(F(j.produksiNPK)),produksiBlending:O(F(j.produksiBlending)),produksiNPKMini:O(F(j.produksiNPKMini)),downtime:O(F(j.downtime)),workRequest:O(F(j.workRequest)),bahanBaku:O(F(j.bahanBaku)),vibrasi:O(F(j.vibrasi)),gatePass:O(F(j.gatePass)),timesheetForklift:O(F(j.timesheetForklift)),timesheetLoader:O(F(j.timesheetLoader)),troubleRecord:O(F(j.troubleRecord)),rekapBBM:O(F(j.rekapBBM)),rkap:$(j.rkap).filter(H=>Number(H.tahun)===r)}),[j,F,O,$,r]),z=b.useMemo(()=>{const H=_.produksiNPK.reduce((E,q)=>{const me=q.total!==void 0&&q.total!==null?le(q.total):le(q.shiftMalamOnspek)+le(q.shiftMalamOffspek)+le(q.shiftPagiOnspek)+le(q.shiftPagiOffspek)+le(q.shiftSoreOnspek)+le(q.shiftSoreOffspek);return E+me},0),oe=_.produksiNPK.reduce((E,q)=>{const W=q.totalOnspek!==void 0&&q.totalOnspek!==null;return E+(W?le(q.totalOnspek):le(q.shiftMalamOnspek)+le(q.shiftPagiOnspek)+le(q.shiftSoreOnspek))},0),ue=_.produksiNPK.reduce((E,q)=>{const W=q.totalOffspek!==void 0&&q.totalOffspek!==null;return E+(W?le(q.totalOffspek):le(q.shiftMalamOffspek)+le(q.shiftPagiOffspek)+le(q.shiftSoreOffspek))},0),de=_.produksiBlending.reduce((E,q)=>E+le(q.tonase),0),ye=_.produksiNPKMini.reduce((E,q)=>E+le(q.tonase),0),be=_.rkap.reduce((E,q)=>{const me=q.total!==void 0&&q.total!==null?le(q.total):qc.reduce((ke,_e)=>ke+le(q[_e]),0);return E+me},0),fe=j.rkap.filter(E=>E.plant==="NPK1"&&Number(E.tahun)===r).reduce((E,q)=>{const W=q.total!==void 0&&q.total!==null;return E+(W?le(q.total):qc.reduce((me,ke)=>me+le(q[ke]),0))},0),xe=j.rkap.filter(E=>E.plant==="NPK2"&&Number(E.tahun)===r).reduce((E,q)=>{const W=q.total!==void 0&&q.total!==null;return E+(W?le(q.total):qc.reduce((me,ke)=>me+le(q[ke]),0))},0),ve=j.produksiNPK.filter(E=>E._plant==="NPK1"&&new Date(E.tanggal).getFullYear()===r).reduce((E,q)=>{const W=q.total!==void 0&&q.total!==null;return E+(W?le(q.total):le(q.shiftMalamOnspek)+le(q.shiftMalamOffspek)+le(q.shiftPagiOnspek)+le(q.shiftPagiOffspek)+le(q.shiftSoreOnspek)+le(q.shiftSoreOffspek))},0),te=j.produksiNPK.filter(E=>E._plant==="NPK2"&&new Date(E.tanggal).getFullYear()===r).reduce((E,q)=>{const W=q.total!==void 0&&q.total!==null;return E+(W?le(q.total):le(q.shiftMalamOnspek)+le(q.shiftMalamOffspek)+le(q.shiftPagiOnspek)+le(q.shiftPagiOffspek)+le(q.shiftSoreOnspek)+le(q.shiftSoreOffspek))},0),ne=_.downtime.reduce((E,q)=>E+le(q.downtime),0),G=_.workRequest.length,Q=_.workRequest.filter(E=>!E.eksekutor||E.eksekutor==="").length,L=_.bahanBaku.reduce((E,q)=>E+le(q.jumlah),0),C=_.vibrasi.filter(E=>E.status==="Warning"||E.status==="Critical"||E.status==="Alert").length,ae=_.gatePass.length,X=_.troubleRecord.filter(E=>E.status==="Open"||E.status==="In Progress").length,K=_.timesheetForklift.reduce((E,q)=>E+le(q.jamOperasi),0),P=_.timesheetLoader.reduce((E,q)=>E+le(q.jamOperasi),0),M=_.rekapBBM.reduce((E,q)=>E+le(q.pengajuanSolar),0),ie=_.rekapBBM.reduce((E,q)=>E+le(q.realisasiPengisian),0),D=ie-M;return{totalProduksiNPK:H,totalOnspek:oe,totalOffspek:ue,totalProduksiBlending:de,totalProduksiNPKMini:ye,totalRKAP:be,totalDowntime:ne,workRequestTotal:G,workRequestPending:Q,totalBahanBaku:L,vibrasiWarnings:C,gatePassCount:ae,troubleRecordOpen:X,forkliftHours:K,loaderHours:P,bbmPengajuan:M,bbmRealisasi:ie,bbmSelisih:D,bbmRecordCount:_.rekapBBM.length,percentage:be>0?(H/be*100).toFixed(1):"0",rkapNPK1:fe,rkapNPK2:xe,produksiNPK1:ve,produksiNPK2:te,percentageNPK1:fe>0?(ve/fe*100).toFixed(1):"0",percentageNPK2:xe>0?(te/xe*100).toFixed(1):"0"}},[_,j,r]),J=b.useMemo(()=>yu.map((oe,ue)=>{const de=_.produksiNPK.filter(G=>new Date(G.tanggal).getMonth()===ue),ye=de.reduce((G,Q)=>{const L=Q.total!==void 0&&Q.total!==null;return G+(L?le(Q.total):le(Q.shiftMalamOnspek)+le(Q.shiftMalamOffspek)+le(Q.shiftPagiOnspek)+le(Q.shiftPagiOffspek)+le(Q.shiftSoreOnspek)+le(Q.shiftSoreOffspek))},0),be=de.reduce((G,Q)=>{const L=Q.totalOnspek!==void 0&&Q.totalOnspek!==null;return G+(L?le(Q.totalOnspek):le(Q.shiftMalamOnspek)+le(Q.shiftPagiOnspek)+le(Q.shiftSoreOnspek))},0),fe=de.reduce((G,Q)=>{const L=Q.totalOffspek!==void 0&&Q.totalOffspek!==null;return G+(L?le(Q.totalOffspek):le(Q.shiftMalamOffspek)+le(Q.shiftPagiOffspek)+le(Q.shiftSoreOffspek))},0),xe=qc[ue],ve=_.rkap.reduce((G,Q)=>G+le(Q[xe]),0),te=j.rkap.filter(G=>G.plant==="NPK1"&&Number(G.tahun)===r).reduce((G,Q)=>G+le(Q[xe]),0),ne=j.rkap.filter(G=>G.plant==="NPK2"&&Number(G.tahun)===r).reduce((G,Q)=>G+le(Q[xe]),0);return{bulan:oe,produksi:ye,rkap:ve,rkapNPK1:te,rkapNPK2:ne,onspek:be,offspek:fe}}),[_,j,r]),Z=b.useMemo(()=>{const H=c,oe=yu[H],ue=qc[H],de=_.produksiNPK.filter(L=>new Date(L.tanggal).getMonth()===H),ye=de.reduce((L,C)=>{const ae=C.total!==void 0&&C.total!==null;return L+(ae?le(C.total):le(C.shiftMalamOnspek)+le(C.shiftMalamOffspek)+le(C.shiftPagiOnspek)+le(C.shiftPagiOffspek)+le(C.shiftSoreOnspek)+le(C.shiftSoreOffspek))},0),be=de.reduce((L,C)=>{const ae=C.totalOnspek!==void 0&&C.totalOnspek!==null;return L+(ae?le(C.totalOnspek):le(C.shiftMalamOnspek)+le(C.shiftPagiOnspek)+le(C.shiftSoreOnspek))},0),fe=de.reduce((L,C)=>{const ae=C.totalOffspek!==void 0&&C.totalOffspek!==null;return L+(ae?le(C.totalOffspek):le(C.shiftMalamOffspek)+le(C.shiftPagiOffspek)+le(C.shiftSoreOffspek))},0),ve=_.produksiBlending.filter(L=>new Date(L.tanggal).getMonth()===H).reduce((L,C)=>L+le(C.tonase),0),ne=_.produksiNPKMini.filter(L=>new Date(L.tanggal).getMonth()===H).reduce((L,C)=>L+le(C.tonase),0),G=_.rkap.reduce((L,C)=>L+le(C[ue]),0),Q=G>0?(ye/G*100).toFixed(1):"0";return{monthName:oe,npkProduksi:ye,npkOnspek:be,npkOffspek:fe,blendingProduksi:ve,npkMiniProduksi:ne,rkapThisMonth:G,percentageRkap:Q,totalProduksi:ye+ve+ne}},[_,c]),V=b.useMemo(()=>{let H=_.downtime;d==="bulanan"&&(H=_.downtime.filter(ue=>ue.tanggal?new Date(ue.tanggal).getMonth()===g:!1));const oe={};return H.forEach(ue=>{const de=ue.item||"Unknown";oe[de]||(oe[de]={jam:0,frekuensi:0}),oe[de].jam+=le(ue.downtime),oe[de].frekuensi+=1}),Object.entries(oe).map(([ue,de])=>({item:ue,downtime:h==="jam"?de.jam:de.frekuensi,jam:de.jam,frekuensi:de.frekuensi})).sort((ue,de)=>de.downtime-ue.downtime).slice(0,8)},[_,d,h,g]),R=b.useMemo(()=>{let H=_.downtime;return d==="bulanan"&&(H=_.downtime.filter(oe=>oe.tanggal?new Date(oe.tanggal).getMonth()===g:!1)),h==="jam"?H.reduce((oe,ue)=>oe+le(ue.downtime),0):H.length},[_,d,h,g]),B=b.useMemo(()=>{const H={};return _.workRequest.forEach(oe=>{const ue=oe.eksekutor||"Belum Ditentukan";H[ue]=(H[ue]||0)+1}),Object.entries(H).map(([oe,ue])=>({eksekutor:oe,count:ue})).sort((oe,ue)=>ue.count-oe.count).slice(0,6)},[_]),I=b.useMemo(()=>{const H={};return _.vibrasi.forEach(oe=>{const ue=oe.status||"Unknown";H[ue]=(H[ue]||0)+1}),Object.entries(H).map(([oe,ue])=>({status:oe,count:ue}))},[_]),U=b.useMemo(()=>[{name:"NPK Granul",value:z.totalProduksiNPK},{name:"Blending/Retail",value:z.totalProduksiBlending},{name:"NPK Mini",value:z.totalProduksiNPKMini}].filter(H=>H.value>0),[z]),ee=A==="ALL"?"Semua Plant":A==="NPK1"?"NPK Plant 1":"NPK Plant 2";return o?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(JK,{className:"h-12 w-12 animate-spin text-primary-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-dark-500 dark:text-dark-400",children:"Memuat data dashboard..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Dashboard - ",ee]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Selamat datang, ",(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama),"! Berikut ringkasan data ",ee.toLowerCase()," tahun ",r,"."]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[T&&a.jsx(Me,{value:A,onChange:H=>n(H.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),a.jsx(Me,{value:r.toString(),onChange:H=>s(Number(H.target.value)),options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],className:"w-32"})]})]}),a.jsxs(lr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white shadow-lg",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{onClick:()=>i(`/produksi/${A==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-80 transition-opacity",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Om,{className:"h-6 w-6"}),a.jsxs("h2",{className:"text-xl font-bold",children:["Produksi Bulan ",Z.monthName," ",r]}),a.jsx(Ca,{className:"h-5 w-5 opacity-60 ml-2"})]}),a.jsxs("p",{className:"text-primary-100 text-sm",children:["Ringkasan produksi ",ee.toLowerCase()," bulan ini"]})]}),a.jsx("div",{className:"flex items-center gap-2",onClick:H=>H.stopPropagation(),children:a.jsx("select",{value:c,onChange:H=>u(Number(H.target.value)),className:"bg-white/20 backdrop-blur-sm text-white border-0 rounded-lg px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/30 cursor-pointer",children:yu.map((H,oe)=>a.jsx("option",{value:oe,className:"text-dark-900",children:H},oe))})})]}),a.jsx("div",{onClick:()=>i(`/produksi/${A==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-90 transition-opacity",children:a.jsxs("div",{className:"flex flex-wrap gap-4 lg:gap-8 mt-4",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-6 py-4 backdrop-blur-sm min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"NPK Produksi"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:Y(Z.npkProduksi)}),a.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-6 py-4 backdrop-blur-sm min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"Target RKAP"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:Y(Z.rkapThisMonth)}),a.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-6 py-4 backdrop-blur-sm min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"Pencapaian"}),a.jsxs("p",{className:"text-2xl lg:text-3xl font-bold",children:[Z.percentageRkap,"%"]}),a.jsx("p",{className:"text-primary-100 text-xs",children:Number(Z.percentageRkap)>=100?" Target Tercapai":"dari target"})]})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Onspek"}),a.jsxs("p",{className:"font-semibold",children:[Y(Z.npkOnspek)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Offspek"}),a.jsxs("p",{className:"font-semibold",children:[Y(Z.npkOffspek)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Blending"}),a.jsxs("p",{className:"font-semibold",children:[Y(Z.blendingProduksi)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"NPK Mini"}),a.jsxs("p",{className:"font-semibold",children:[Y(Z.npkMiniProduksi)," Ton"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>i(`/produksi/${A==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yh,{className:"h-5 w-5"}),a.jsxs("h3",{className:"font-bold",children:["Produksi Tahunan ",r]})]}),a.jsx(Ca,{className:"h-4 w-4 opacity-60"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK Granul"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.totalProduksiNPK)}),a.jsxs("p",{className:"text-blue-100 text-[10px]",children:["Ton (",z.percentage,"% RKAP)"]})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Onspek"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.totalOnspek)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Offspek"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.totalOffspek)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Target RKAP"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.totalRKAP)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]})]}),A==="ALL"&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 1"}),a.jsxs(Te,{variant:Number(z.percentageNPK1)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[z.percentageNPK1,"%"]})]}),a.jsxs("p",{className:"font-semibold",children:[Y(z.produksiNPK1)," / ",Y(z.rkapNPK1)," Ton"]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 2"}),a.jsxs(Te,{variant:Number(z.percentageNPK2)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[z.percentageNPK2,"%"]})]}),a.jsxs("p",{className:"font-semibold",children:[Y(z.produksiNPK2)," / ",Y(z.rkapNPK2)," Ton"]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Blending/Retail"}),a.jsxs("p",{className:"font-semibold",children:[Y(z.totalProduksiBlending)," Ton"]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsx("p",{className:"text-blue-100 text-[10px]",children:"NPK Mini"}),a.jsxs("p",{className:"font-semibold",children:[Y(z.totalProduksiNPKMini)," Ton"]})]})]})]}),a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-slate-600 to-slate-700 rounded-2xl p-5 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P_,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Operasional & Logistik"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{onClick:()=>i(`/laporan/timesheet-forklift-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Forklift"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.forkliftHours)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",_.timesheetForklift.length," rec)"]})]}),a.jsxs("div",{onClick:()=>i(`/laporan/timesheet-loader-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Loader"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.loaderHours)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",_.timesheetLoader.length," rec)"]})]}),a.jsxs("div",{onClick:()=>i(`/data/gate-pass-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Gate Pass"}),a.jsx("p",{className:"text-xl font-bold",children:z.gatePassCount}),a.jsx("p",{className:"text-slate-200 text-[10px]",children:"Transaksi"})]}),a.jsxs("div",{onClick:()=>i(`/data/bahan-baku-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Bahan Baku"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.totalBahanBaku)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:[_.bahanBaku.length," item"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl p-5 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ua,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Downtime & Issues"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{onClick:()=>i(`/laporan/downtime-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Total Downtime"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.totalDowntime)}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["Jam (",_.downtime.length," kejadian)"]})]}),a.jsxs("div",{onClick:()=>i(`/data/work-request-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Work Request"}),a.jsx("p",{className:"text-xl font-bold",children:z.workRequestTotal}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:[z.workRequestPending," pending"]})]}),a.jsxs("div",{onClick:()=>i(`/data/trouble-record-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Trouble Open"}),a.jsx("p",{className:"text-xl font-bold",children:z.troubleRecordOpen}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",_.troubleRecord.length," total"]})]}),a.jsxs("div",{onClick:()=>i(`/data/vibrasi-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Vibrasi Alert"}),a.jsx("p",{className:"text-xl font-bold",children:z.vibrasiWarnings}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",_.vibrasi.length," ukur"]})]})]})]}),a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>i(`/data/rekap-bbm-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jh,{className:"h-5 w-5"}),a.jsxs("h3",{className:"font-bold",children:["Rekap BBM Alat Berat ",r]})]}),a.jsx(Ca,{className:"h-4 w-4 opacity-60"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Pengajuan"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.bbmPengajuan)}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold",children:Y(z.bbmRealisasi)}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Selisih"}),a.jsxs("p",{className:"text-xl font-bold",children:[z.bbmSelisih>=0?"+":"",Y(z.bbmSelisih)]}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:z.bbmSelisih>=0?"Surplus":"Defisit"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Record"}),a.jsx("p",{className:"text-xl font-bold",children:z.bbmRecordCount}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Pengajuan"})]})]})]})]}),a.jsxs(lr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},onClick:()=>i(`/laporan/pemantauan-bb-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yi,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Pemantauan Stok Bahan Baku"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Me,{value:k,onChange:H=>{H.stopPropagation(),v(H.target.value)},onClick:H=>H.stopPropagation(),className:"w-full sm:w-40 bg-white/20 border-white/30 text-white text-sm",options:dpe.map(H=>({value:H,label:H}))}),a.jsx(Ca,{className:"h-4 w-4 opacity-60"})]})]}),(()=>{const oe=y.filter(xe=>xe._plant===A||A==="ALL").filter(xe=>xe.bahanBaku===k).sort((xe,ve)=>new Date(ve.tanggal).getTime()-new Date(xe.tanggal).getTime()),ue=oe[0],de=oe.length,ye=oe.filter(xe=>new Date(xe.tanggal).getFullYear()===r),be=ye.reduce((xe,ve)=>xe+(ve.bahanBakuIn||0),0),fe=ye.reduce((xe,ve)=>xe+(ve.bahanBakuOut||0),0);return a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Stok Terakhir"}),a.jsx("p",{className:"text-xl font-bold",children:Y((ue==null?void 0:ue.stockAkhir)||0)}),a.jsxs("p",{className:"text-emerald-100 text-[10px]",children:["Ton (",(ue==null?void 0:ue.tanggal)||"-",")"]})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Masuk ",r]}),a.jsx("p",{className:"text-xl font-bold",children:Y(be)}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Keluar ",r]}),a.jsx("p",{className:"text-xl font-bold",children:Y(fe)}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Total Record"}),a.jsx("p",{className:"text-xl font-bold",children:de}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Pencatatan"})]})]})})()]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Produksi vs RKAP"}),a.jsx(Te,{variant:"primary",children:r})]})}),a.jsx(qr,{children:a.jsx(Vi,{width:"100%",height:300,children:a.jsxs(upe,{data:J,children:[a.jsx(Bu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(hi,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),a.jsx(pi,{stroke:"#64748b",fontSize:12}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:H=>[Y(H)+" Ton",""]}),a.jsx(pa,{}),a.jsx(Zs,{type:"monotone",dataKey:"produksi",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},name:"Produksi"}),A==="ALL"?a.jsxs(a.Fragment,{children:[a.jsx(Zs,{type:"monotone",dataKey:"rkapNPK1",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP NPK 1"}),a.jsx(Zs,{type:"monotone",dataKey:"rkapNPK2",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP NPK 2"})]}):a.jsx(Zs,{type:"monotone",dataKey:"rkap",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP"})]})})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Produksi Onspek vs Offspek"}),a.jsx(Te,{variant:"success",children:"Monthly"})]})}),a.jsx(qr,{children:a.jsx(Vi,{width:"100%",height:300,children:a.jsxs(rb,{data:J,children:[a.jsx(Bu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(hi,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),a.jsx(pi,{stroke:"#64748b",fontSize:12}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:H=>[Y(H)+" Ton",""]}),a.jsx(pa,{}),a.jsx(wa,{dataKey:"onspek",fill:"#3b82f6",radius:[4,4,0,0],name:"Onspek"}),a.jsx(wa,{dataKey:"offspek",fill:"#ef4444",radius:[4,4,0,0],name:"Offspek"})]})})})]})]}),a.jsx(hpe,{downtimeData:_.downtime,year:r,plantLabel:ee}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(we,{className:"lg:col-span-2",children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rt,{children:"Downtime per Equipment"}),a.jsxs(Te,{variant:"warning",children:[Y(R)," ",h==="jam"?"Jam":"Kejadian"," Total"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Me,{value:d,onChange:H=>f(H.target.value),options:[{value:"tahunan",label:"Tahunan"},{value:"bulanan",label:"Bulanan"}],className:"w-28"}),d==="bulanan"&&a.jsx(Me,{value:g.toString(),onChange:H=>m(Number(H.target.value)),options:yu.map((H,oe)=>({value:oe.toString(),label:H})),className:"w-24"}),a.jsx(Me,{value:h,onChange:H=>p(H.target.value),options:[{value:"jam",label:"Jam"},{value:"frekuensi",label:"Frekuensi"}],className:"w-28"})]})]})}),a.jsx(qr,{children:V.length>0?a.jsx(Vi,{width:"100%",height:350,children:a.jsxs(rb,{data:V,layout:"vertical",children:[a.jsx(Bu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(hi,{type:"number",stroke:"#64748b",fontSize:12}),a.jsx(pi,{type:"category",dataKey:"item",stroke:"#64748b",fontSize:12,width:120}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:(H,oe,ue)=>{var be,fe;const de=h==="jam"?" Jam":" Kejadian",ye=h==="jam"?`(${((be=ue.payload)==null?void 0:be.frekuensi)||0} kejadian)`:`(${Y(((fe=ue.payload)==null?void 0:fe.jam)||0)} jam)`;return[`${Y(H)}${de} ${ye}`,"Downtime"]}}),a.jsx(wa,{dataKey:"downtime",fill:"#f59e0b",radius:[0,8,8,0],name:h==="jam"?"Downtime (Jam)":"Downtime (Frekuensi)"})]})}):a.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data downtime"})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsx(rt,{children:"Breakdown Produksi"})}),a.jsx(qr,{children:U.length>0?a.jsx(Vi,{width:"100%",height:350,children:a.jsxs(Gx,{children:[a.jsx(ia,{data:U,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:H,percent:oe})=>`${H} ${(oe*100).toFixed(0)}%`,children:U.map((H,oe)=>a.jsx(io,{fill:Bo[oe%Bo.length]},`cell-${oe}`))}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:H=>[Y(H)+" Ton",""]})]})}):a.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data produksi"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Work Request by Eksekutor"}),a.jsxs(Te,{variant:"danger",children:[z.workRequestTotal," Total"]})]})}),a.jsx(qr,{children:B.length>0?a.jsx(Vi,{width:"100%",height:300,children:a.jsxs(Gx,{children:[a.jsx(ia,{data:B,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"eksekutor",label:({eksekutor:H,count:oe})=>`${H}: ${oe}`,children:B.map((H,oe)=>a.jsx(io,{fill:Bo[oe%Bo.length]},`cell-${oe}`))}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),a.jsx(pa,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data work request"})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Status Vibrasi Equipment"}),a.jsxs(Te,{variant:z.vibrasiWarnings>0?"danger":"success",children:[z.vibrasiWarnings," Alert"]})]})}),a.jsx(qr,{children:I.length>0?a.jsx(Vi,{width:"100%",height:300,children:a.jsxs(Gx,{children:[a.jsx(ia,{data:I,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"status",children:I.map((H,oe)=>{const ue={Normal:"#22c55e",Warning:"#f59e0b",Critical:"#ef4444",Alert:"#ef4444"};return a.jsx(io,{fill:ue[H.status]||Bo[oe%Bo.length]},`cell-${oe}`)})}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),a.jsx(pa,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data vibrasi"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(we,{children:[a.jsx(tt,{children:a.jsx(rt,{children:"Aksi Cepat"})}),a.jsxs(qr,{className:"space-y-3",children:[a.jsxs("a",{href:"/produksi/npk2",className:"flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yh,{className:"h-5 w-5 text-primary-600"}),a.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Input Produksi"})]}),a.jsx(Ca,{className:"h-4 w-4 text-primary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/laporan/downtime-npk2",className:"flex items-center justify-between p-3 bg-amber-50 hover:bg-amber-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ua,{className:"h-5 w-5 text-amber-600"}),a.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Input Downtime"})]}),a.jsx(Ca,{className:"h-4 w-4 text-amber-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/data/work-request-npk2",className:"flex items-center justify-between p-3 bg-secondary-50 hover:bg-secondary-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(la,{className:"h-5 w-5 text-secondary-600"}),a.jsx("span",{className:"text-sm font-medium text-secondary-900",children:"Work Request"})]}),a.jsx(Ca,{className:"h-4 w-4 text-secondary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/data/vibrasi-npk2",className:"flex items-center justify-between p-3 bg-red-50 hover:bg-red-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nv,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-sm font-medium text-red-900",children:"Data Vibrasi"})]}),a.jsx(Ca,{className:"h-4 w-4 text-red-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),a.jsxs(we,{className:"lg:col-span-2",children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Ringkasan Data ",ee]}),a.jsx(Te,{variant:"info",children:r})]})}),a.jsx(qr,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:_.produksiNPK.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Produksi NPK"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary-600",children:_.produksiBlending.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Blending"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:_.downtime.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Downtime"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.workRequest.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Work Request"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:_.bahanBaku.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Bahan Baku"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:_.vibrasi.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Data Vibrasi"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:_.gatePass.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Gate Pass"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-pink-600",children:_.troubleRecord.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Trouble Record"})]})]})})]})]})]})};function mpe(e,t,r={}){const{altKey:n=!1,ctrlKey:s=!1,shiftKey:i=!1,enabled:o=!0}=r,l=b.useCallback(c=>{if(!o)return;const u=n?c.altKey:!c.altKey,d=s?c.ctrlKey:!c.ctrlKey,f=i?c.shiftKey:!c.shiftKey;c.key.toLowerCase()===e.toLowerCase()&&u&&d&&f&&(c.preventDefault(),t())},[e,t,n,s,i,o]);b.useEffect(()=>(o&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l,o])}function nr(e,t=!0){mpe("s",e,{ctrlKey:!0,enabled:t})}function gpe(){const[e,t]=b.useState([]),[r,n]=b.useState(!1),[s,i]=b.useState(null),o=b.useCallback(async()=>{n(!0),i(null);try{const h=await __();if(h.success&&h.data){const p=[...h.data].sort((g,m)=>g.nama_material.localeCompare(m.nama_material));t(p)}else i(h.error||"Gagal mengambil data material"),t([])}catch(h){i(h instanceof Error?h.message:"Terjadi kesalahan"),t([])}finally{n(!1)}},[]),l=b.useCallback(async h=>{n(!0),i(null);try{const p=await D_(h);return p.success&&p.data?(t(g=>[...g,p.data].sort((m,k)=>m.nama_material.localeCompare(k.nama_material))),{success:!0,data:p.data}):(i(p.error||"Gagal menambah material"),{success:!1,error:p.error})}catch(p){const g=p instanceof Error?p.message:"Terjadi kesalahan";return i(g),{success:!1,error:g}}finally{n(!1)}},[]),c=b.useCallback(async h=>{n(!0),i(null);try{const p=await M_(h);return p.success?(t(g=>g.map(m=>m.id===h.id?{...m,...h}:m).sort((m,k)=>m.nama_material.localeCompare(k.nama_material))),{success:!0}):(i(p.error||"Gagal mengupdate material"),{success:!1,error:p.error})}catch(p){const g=p instanceof Error?p.message:"Terjadi kesalahan";return i(g),{success:!1,error:g}}finally{n(!1)}},[]),u=b.useCallback(async h=>{n(!0),i(null);try{const p=await $_(h);return p.success?(t(g=>g.filter(m=>m.id!==h)),{success:!0}):(i(p.error||"Gagal menghapus material"),{success:!1,error:p.error})}catch(p){const g=p instanceof Error?p.message:"Terjadi kesalahan";return i(g),{success:!1,error:g}}finally{n(!1)}},[]),d=b.useCallback(async(h,p,g)=>{n(!0),i(null);try{const m=await R_(h,p,g);return m.success&&m.data?(t(k=>k.map(v=>v.id===h?{...v,stok:m.data.stok_baru}:v)),{success:!0,data:m.data}):(i(m.error||"Gagal menambah stok"),{success:!1,error:m.error})}catch(m){const k=m instanceof Error?m.message:"Terjadi kesalahan";return i(k),{success:!1,error:k}}finally{n(!1)}},[]),f=b.useCallback(async(h,p,g)=>{n(!0),i(null);try{const m=await I_(h,p,g);return m.success&&m.data?(t(k=>k.map(v=>v.id===h?{...v,stok:m.data.stok_baru}:v)),{success:!0,data:m.data}):(i(m.error||"Gagal mengurangi stok"),{success:!1,error:m.error})}catch(m){const k=m instanceof Error?m.message:"Terjadi kesalahan";return i(k),{success:!1,error:k}}finally{n(!1)}},[]);return b.useEffect(()=>{o()},[o]),{materials:e,loading:r,error:s,refetch:o,addMaterial:l,updateMaterial:c,deleteMaterial:u,stockMasuk:d,stockKeluar:f}}function xpe(e){const[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState(e),u=b.useCallback(async h=>{s(!0),o(null);try{const p=await L_(h||l);p.success&&p.data?r(p.data):(o(p.error||"Gagal mengambil data transaksi"),r([]))}catch(p){o(p instanceof Error?p.message:"Terjadi kesalahan"),r([])}finally{s(!1)}},[l]),d=b.useCallback(h=>{c(h),u(h)},[u]),f=b.useCallback(()=>{c(void 0),u(void 0)},[u]);return b.useEffect(()=>{u()},[]),{transactions:t,loading:n,error:i,filters:l,refetch:u,updateFilters:d,clearFilters:f}}function Ar(){const{user:e}=nt(),t=b.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),r=b.useCallback(async(i,o)=>{const l=t();return B_(i,o,l)},[t]),n=b.useCallback(async(i,o)=>{const l=t();return F_(i,o,l)},[t]),s=b.useCallback(async(i,o)=>{const l=t();return K_(i,o,l)},[t]);return{createWithLog:r,updateWithLog:n,deleteWithLog:s,getUserInfo:t}}const Yc={tanggal:$t(),shiftMalamOnspek:0,shiftMalamOffspek:0,shiftPagiOnspek:0,shiftPagiOffspek:0,shiftSoreOnspek:0,shiftSoreOffspek:0,totalOnspek:0,totalOffspek:0,total:0},GT=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[v,y]=b.useState(null),[x,j]=b.useState(null),[w,S]=b.useState(Yc),[N,T]=b.useState(""),[A,F]=b.useState(new Date().getFullYear()),[$,O]=b.useState(new Date().getMonth()),[_,z]=b.useState(!1),[J,Z]=b.useState("edit"),[V,R]=b.useState(null),[B,I]=b.useState(!1),[U,ee]=b.useState(""),H=P=>{ee(P),I(!0)},oe=(t==null?void 0:t.role)||"",ue=yr(oe),de=b.useCallback(()=>{if(u&&!l){const P=document.querySelector("form");P&&P.requestSubmit()}},[u,l]);nr(de,u);const ye=Nr(oe),be=Pr(oe),fe=fr(oe);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:M,SHEETS:ie,getSheetNameByPlant:D}=await Re(async()=>{const{readData:W,SHEETS:me,getSheetNameByPlant:ke}=await Promise.resolve().then(()=>Ie);return{readData:W,SHEETS:me,getSheetNameByPlant:ke}},void 0),E=D(ie.PRODUKSI_NPK,e),q=await M(E);if(q.success&&q.data){const W=q.data.map(me=>({...me,_plant:e})).sort((me,ke)=>new Date(ke.tanggal).getTime()-new Date(me.tanggal).getTime());o(W)}else o([])}catch(M){console.error("Error fetching data:",M),o([])}finally{c(!1)}})()},[e]);const xe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],ve=b.useMemo(()=>{const P=new Date().getFullYear(),M=i.map(E=>{const q=new Date(E.tanggal);return isNaN(q.getTime())?P:q.getFullYear()}),ie=[P,P-1,P-2];return[...new Set([...M,...ie])].sort((E,q)=>q-E)},[i]),te=b.useMemo(()=>i.filter(P=>{const M=new Date(P.tanggal);return!isNaN(M.getTime())&&M.getFullYear()===A}),[i,A]),ne=b.useMemo(()=>{const P=te.filter(E=>new Date(E.tanggal).getMonth()===$),M=P.reduce((E,q)=>E+le(q.totalOnspek),0),ie=P.reduce((E,q)=>E+le(q.totalOffspek),0),D=P.reduce((E,q)=>E+le(q.total),0);return{monthName:xe[$],year:A,totalOnspek:M,totalOffspek:ie,total:D,entryCount:P.length}},[te,A,$]);b.useEffect(()=>{const P=(w.shiftMalamOnspek||0)+(w.shiftPagiOnspek||0)+(w.shiftSoreOnspek||0),M=(w.shiftMalamOffspek||0)+(w.shiftPagiOffspek||0)+(w.shiftSoreOffspek||0);S(ie=>({...ie,totalOnspek:P,totalOffspek:M,total:P+M}))},[w.shiftMalamOnspek,w.shiftMalamOffspek,w.shiftPagiOnspek,w.shiftPagiOffspek,w.shiftSoreOnspek,w.shiftSoreOffspek]);const G=async P=>{P.preventDefault(),c(!0);try{if(v){const M=await n("produksi_npk",{...w,id:v,_plant:e});if(M.success)o(ie=>ie.map(D=>D.id===v?{...w,id:v,_plant:e}:D));else throw new Error(M.error||"Gagal mengupdate data")}else{const M={...w,_plant:e},ie=await r("produksi_npk",M);if(ie.success&&ie.data){const D={...ie.data,_plant:e};o(E=>[D,...E])}else throw new Error(ie.error||"Gagal menyimpan data")}d(!1),S(Yc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(M){console.error("Error saving data:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Q=P=>{if(ye){R(P),Z("edit"),z(!0);return}S(P),y(P.id||null),d(!0)},L=P=>{if(be){const M=i.find(ie=>ie.id===P);M&&(R(M),Z("delete"),z(!0));return}j(P),h(!0)},C=async P=>{if(!(!V||!t)){c(!0);try{const M="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",ie={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:J,targetSheet:`PRODUKSI_NPK_${e}`,targetId:V.id,targetData:JSON.stringify(V),reason:P,status:"pending",requestedAt:new Date().toISOString()}};await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),z(!1),R(null)}catch(M){console.error("Error submitting approval:",M),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ae=async()=>{if(x){c(!0);try{const P=await s("produksi_npk",{id:x,_plant:e});if(P.success)o(M=>M.filter(ie=>ie.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(P.error||"Gagal menghapus data")}catch(P){console.error("Error deleting data:",P),alert(P instanceof Error?P.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},X=()=>{S(Yc),y(null),d(!0)},K=[{key:"tanggal",header:"Tanggal",sortable:!0,render:P=>Ue(P)},{key:"shiftMalamOnspek",header:"Malam Onspek",render:P=>Y(le(P))},{key:"shiftMalamOffspek",header:"Malam Offspek",render:P=>Y(le(P))},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:P=>Y(le(P))},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:P=>Y(le(P))},{key:"shiftSoreOnspek",header:"Sore Onspek",render:P=>Y(le(P))},{key:"shiftSoreOffspek",header:"Sore Offspek",render:P=>Y(le(P))},{key:"total",header:"Total",render:P=>a.jsx("span",{className:"font-semibold text-primary-600",children:Y(le(P))})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Granul"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data produksi NPK Granul untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ue&&a.jsxs(ce,{onClick:X,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx("div",{className:`rounded-xl p-5 text-white shadow-md ${e==="NPK1"?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Om,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold",children:["Produksi Bulan ",ne.monthName," ",ne.year]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[ne.entryCount," entry data"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[a.jsx("select",{value:$,onChange:P=>O(Number(P.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:xe.map((P,M)=>a.jsx("option",{value:M,className:"text-dark-900",children:P},M))}),a.jsx("select",{value:A,onChange:P=>F(Number(P.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:ve.map(P=>a.jsx("option",{value:P,className:"text-dark-900",children:P},P))}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Onspek"}),a.jsxs("p",{className:"text-xl font-bold",children:[Y(ne.totalOnspek)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Offspek"}),a.jsxs("p",{className:"text-xl font-bold",children:[Y(ne.totalOffspek)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold",children:[Y(ne.total)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Onspek (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:Y(te.reduce((P,M)=>P+le(M.totalOnspek),0))})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Offspek (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y(te.reduce((P,M)=>P+le(M.totalOffspek),0))})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Produksi (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:Y(te.reduce((P,M)=>P+le(M.total),0))})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Entry (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:te.length})]})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Data Produksi"}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:N,onChange:P=>T(P.target.value),className:"pl-9 w-64"})]})})]})}),a.jsx(rr,{data:i.filter(P=>{var M,ie;return((M=P.tanggal)==null?void 0:M.includes(N))||((ie=P.total)==null?void 0:ie.toString().includes(N))}),columns:K,loading:l,searchable:!1,actions:fe?P=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),H(P.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):P=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),H(P.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),Q(P)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),L(P.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),S(Yc),y(null)},title:v?"Edit Data Produksi":"Tambah Data Produksi",size:"lg",children:a.jsxs("form",{onSubmit:G,className:"space-y-6",children:[a.jsx("div",{children:a.jsx(he,{label:"Tanggal",type:"date",value:w.tanggal,onChange:P=>S(M=>({...M,tanggal:P.target.value})),required:!0})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Malam"}),a.jsx(he,{label:"Onspek (Ton)",type:"number",value:w.shiftMalamOnspek,onChange:P=>S(M=>({...M,shiftMalamOnspek:Number(P.target.value)})),min:"0",step:"0.01"}),a.jsx(he,{label:"Offspek (Ton)",type:"number",value:w.shiftMalamOffspek,onChange:P=>S(M=>({...M,shiftMalamOffspek:Number(P.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Pagi"}),a.jsx(he,{label:"Onspek (Ton)",type:"number",value:w.shiftPagiOnspek,onChange:P=>S(M=>({...M,shiftPagiOnspek:Number(P.target.value)})),min:"0",step:"0.01"}),a.jsx(he,{label:"Offspek (Ton)",type:"number",value:w.shiftPagiOffspek,onChange:P=>S(M=>({...M,shiftPagiOffspek:Number(P.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Sore"}),a.jsx(he,{label:"Onspek (Ton)",type:"number",value:w.shiftSoreOnspek,onChange:P=>S(M=>({...M,shiftSoreOnspek:Number(P.target.value)})),min:"0",step:"0.01"}),a.jsx(he,{label:"Offspek (Ton)",type:"number",value:w.shiftSoreOffspek,onChange:P=>S(M=>({...M,shiftSoreOffspek:Number(P.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Total (Auto)"}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Onspek:"}),a.jsxs("span",{className:"font-semibold text-primary-600",children:[Y(w.totalOnspek||0)," Ton"]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Offspek:"}),a.jsxs("span",{className:"font-semibold text-red-600",children:[Y(w.totalOffspek||0)," Ton"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"font-medium text-dark-700",children:"Total:"}),a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[Y(w.total||0)," Ton"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),S(Yc),y(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:ae,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:_,onClose:()=>{z(!1),R(null)},onSubmit:C,action:J,itemName:"data produksi NPK",loading:l}),a.jsx(Wt,{isVisible:p,message:v?"Data berhasil diupdate!":"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(dc,{isOpen:m,onClose:()=>k(!1),title:`Produksi NPK Granul ${e==="NPK1"?"1":"2"}`,plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,columns:[{key:"tanggal",header:"Tanggal",render:P=>Ue(P),width:"80px"},{key:"shiftMalamOnspek",header:"Malam Onspek",render:P=>Y(le(P)),align:"right",width:"70px"},{key:"shiftMalamOffspek",header:"Malam Offspek",render:P=>Y(le(P)),align:"right",width:"70px"},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:P=>Y(le(P)),align:"right",width:"65px"},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:P=>Y(le(P)),align:"right",width:"65px"},{key:"shiftSoreOnspek",header:"Sore Onspek",render:P=>Y(le(P)),align:"right",width:"65px"},{key:"shiftSoreOffspek",header:"Sore Offspek",render:P=>Y(le(P)),align:"right",width:"45px"},{key:"totalOnspek",header:"Total Onspek",render:P=>Y(le(P)),align:"right",width:"70px"},{key:"totalOffspek",header:"Total Offspek",render:P=>Y(le(P)),align:"right",width:"70px"},{key:"total",header:"S. Total",render:P=>Y(le(P)),align:"right",width:"60px"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Onspek:",getValue:P=>Y(P.reduce((M,ie)=>M+le(ie.totalOnspek),0))+" Ton"},{label:"Total Offspek:",getValue:P=>Y(P.reduce((M,ie)=>M+le(ie.totalOffspek),0))+" Ton"},{label:"Grand Total:",getValue:P=>Y(P.reduce((M,ie)=>M+le(ie.total),0))+" Ton"}]}),a.jsx(Br,{isOpen:B,onClose:()=>{I(!1),ee("")},sheetName:e==="NPK1"?"ProduksiNPK_NPK1":"ProduksiNPK",recordId:U,title:"Log Aktivitas Produksi NPK"})]})},Jc={tanggal:$t(),kategori:"Fresh",formula:"",tonase:0},qT=({type:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[v,y]=b.useState(null),[x,j]=b.useState(null),[w,S]=b.useState(!1),[N,T]=b.useState(""),[A,F]=b.useState(Jc),[$,O]=b.useState(""),[_,z]=b.useState("all"),[J,Z]=b.useState(new Date().getMonth()),[V,R]=b.useState(new Date().getFullYear()),B=e==="blending"?"NPK2":"NPK1",I=e==="blending"?"Produksi Blending":"Produksi Retail",[U,ee]=b.useState(!1),[H,oe]=b.useState("edit"),[ue,de]=b.useState(null),[ye,be]=b.useState(!1),[fe,xe]=b.useState(""),ve=pe=>{xe(pe),be(!0)},te=(t==null?void 0:t.role)||"",ne=yr(te),G=b.useCallback(()=>{if(u&&!l){const pe=document.querySelector("form");pe&&pe.requestSubmit()}},[u,l]);nr(G,u);const Q=Nr(te),L=Pr(te),C=fr(te),ae=e==="blending"?[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]:[{value:"Retail",label:"Retail"}],X=["NPK 15-15-15","NPK 16-16-16","NPK 20-10-10","NPK 12-12-17","NPK 15-15-15-4S"],K=b.useMemo(()=>{const pe=[...new Set(i.map(lt=>lt.formula).filter(lt=>lt&&lt!=="Tanpa Formula"))],Be=[...new Set([...X,...pe])].sort().map(lt=>({value:lt,label:lt}));return Be.push({value:"Custom",label:"Custom (Tambah Baru)"}),Be},[i]);b.useEffect(()=>{(async()=>{var je,Be;c(!0);try{const{readData:lt,SHEETS:fn,getSheetNameByPlant:Fr}=await Re(async()=>{const{readData:_o,SHEETS:Tn,getSheetNameByPlant:$e}=await Promise.resolve().then(()=>Ie);return{readData:_o,SHEETS:Tn,getSheetNameByPlant:$e}},void 0),Pt=Fr(fn.PRODUKSI_BLENDING,B),Gt=await lt(Pt);if(console.log("Raw data from backend:",(je=Gt.data)==null?void 0:je.slice(0,2)),console.log("Data keys:",(Be=Gt.data)!=null&&Be[0]?Object.keys(Gt.data[0]):"No data"),Gt.success&&Gt.data){const Tn=Gt.data.map($e=>{Gt.data&&Gt.data.indexOf($e)===0&&console.log("First item raw:",$e);const Do=$e.tonase??$e.Tonase??$e.total??$e.Total??$e.jumlah??$e.Jumlah??$e.ton??$e.Ton??$e.qty??$e.Qty??$e.quantity??$e.Quantity??0,ff=$e.formula??$e.Formula??$e.formulasi??$e.Formulasi??$e.jenis??$e.Jenis??$e.produk??$e.Produk??"",hf=$e.kategori??$e.Kategori??$e.tipe??$e.Tipe??$e.jenis??$e.Jenis??(e==="retail"?"Retail":"Fresh");return{...$e,id:$e.id??$e.ID??$e.Id??$e.no??$e.No,tanggal:$e.tanggal??$e.Tanggal??$e.tgl??$e.Tgl??$e.date??$e.Date??"",kategori:hf,formula:(ff||"Tanpa Formula").trim(),tonase:le(Do),_plant:B}}).sort(($e,Do)=>new Date(Do.tanggal).getTime()-new Date($e.tanggal).getTime());o(Tn),console.log("Normalized data sample:",Tn.slice(0,3)),console.log("Total tonase check:",Tn.slice(0,5).map($e=>({formula:$e.formula,tonase:$e.tonase})))}else o([])}catch(lt){console.error("Error fetching data:",lt),o([])}finally{c(!1)}})()},[e,B]);const P=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],M=b.useMemo(()=>[...new Set(i.map(je=>je.formula).filter(je=>je&&je.trim()!==""))].sort(),[i]),ie=b.useMemo(()=>{const pe=new Date().getFullYear(),je=i.map(fn=>{const Fr=new Date(fn.tanggal);return isNaN(Fr.getTime())?pe:Fr.getFullYear()}),Be=[pe,pe-1,pe-2];return[...new Set([...je,...Be])].sort((fn,Fr)=>Fr-fn)},[i]),D=b.useMemo(()=>i.filter(pe=>{const je=new Date(pe.tanggal);if(isNaN(je.getTime()))return!1;const Be=V==="all"||je.getFullYear()===V,lt=J==="all"||je.getMonth()===J;return Be&&lt}),[i,J,V]),E=b.useMemo(()=>_==="all"?D:D.filter(pe=>pe.formula===_),[D,_]),q=pe=>{const je=pe.tonase;return typeof je=="number"&&!isNaN(je)?je:le(je)},W=b.useMemo(()=>{const pe=D.reduce((Pt,Gt)=>Pt+q(Gt),0),je=D.filter(Pt=>Pt.kategori==="Fresh").reduce((Pt,Gt)=>Pt+q(Gt),0),Be=D.filter(Pt=>Pt.kategori==="Oversack").reduce((Pt,Gt)=>Pt+q(Gt),0),lt=D.filter(Pt=>Pt.kategori==="Retail").reduce((Pt,Gt)=>Pt+q(Gt),0);let fn=0,Fr=0;if(J!=="all"&&V!=="all"){const Pt=J===0?11:J-1,Gt=J===0?V-1:V;Fr=i.filter(Tn=>{const $e=new Date(Tn.tanggal);return isNaN($e.getTime())?!1:$e.getMonth()===Pt&&$e.getFullYear()===Gt}).reduce((Tn,$e)=>Tn+q($e),0),fn=Fr>0?(pe-Fr)/Fr*100:0}return{totalTonase:pe,totalFresh:je,totalOversack:Be,totalRetail:lt,entryCount:D.length,uniqueFormulas:new Set(D.map(Pt=>Pt.formula).filter(Pt=>Pt&&Pt.trim()!=="")).size,growthPercent:fn,prevTotalTonase:Fr,avgPerEntry:D.length>0?pe/D.length:0}},[D,J,V,i]),me=b.useMemo(()=>{const pe={};return D.forEach(je=>{const Be=je.formula&&je.formula.trim()!==""?je.formula:"Tanpa Formula";pe[Be]||(pe[Be]={total:0,fresh:0,oversack:0,retail:0,count:0,percentage:0});const lt=q(je);pe[Be].total+=lt,pe[Be].count+=1,je.kategori==="Fresh"?pe[Be].fresh+=lt:je.kategori==="Oversack"?pe[Be].oversack+=lt:je.kategori==="Retail"&&(pe[Be].retail+=lt)}),Object.keys(pe).forEach(je=>{pe[je].percentage=W.totalTonase>0?pe[je].total/W.totalTonase*100:0}),pe},[D,W.totalTonase]),ke=b.useMemo(()=>Object.entries(me).sort(([,pe],[,je])=>je.total-pe.total).slice(0,10),[me]),_e=()=>{if(J==="all"||V==="all"){const pe=new Date;Z(pe.getMonth()===0?11:pe.getMonth()-1),R(pe.getMonth()===0?pe.getFullYear()-1:pe.getFullYear())}else J===0?(Z(11),R(pe=>pe-1)):Z(pe=>pe-1)},Ye=()=>{if(J==="all"||V==="all"){const pe=new Date;Z(pe.getMonth()===11?0:pe.getMonth()+1),R(pe.getMonth()===11?pe.getFullYear()+1:pe.getFullYear())}else J===11?(Z(0),R(pe=>pe+1)):Z(pe=>pe+1)},at=async pe=>{pe.preventDefault(),c(!0);try{if(v){const je=await n("produksi_blending",{...A,id:v,_plant:B});if(je.success)o(Be=>Be.map(lt=>lt.id===v?{...A,id:v,_plant:B}:lt));else throw new Error(je.error||"Gagal mengupdate data")}else{const je={...A,_plant:B},Be=await r("produksi_blending",je);if(Be.success&&Be.data){const lt={...Be.data,_plant:B};o(fn=>[lt,...fn])}else throw new Error(Be.error||"Gagal menyimpan data")}d(!1),F(Jc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(je){console.error("Error saving data:",je),alert(je instanceof Error?je.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},mt=pe=>{if(Q){de(pe),oe("edit"),ee(!0);return}F(pe),y(pe.id||null);const je=K.some(Be=>Be.value===pe.formula&&Be.value!=="Custom");S(!je&&pe.formula!==""),T(!je&&pe.formula!==""?pe.formula:""),d(!0)},Qe=pe=>{if(L){const je=i.find(Be=>Be.id===pe);je&&(de(je),oe("delete"),ee(!0));return}j(pe),h(!0)},zt=async pe=>{if(!(!ue||!t)){c(!0);try{const je="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",Be={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:H,targetSheet:e==="retail"?"PRODUKSI_BLENDING_NPK1":"PRODUKSI_BLENDING",targetId:ue.id,targetData:JSON.stringify(ue),reason:pe,status:"pending",requestedAt:new Date().toISOString()}};await fetch(je,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),ee(!1),de(null)}catch(je){console.error("Error submitting approval:",je),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ua=async()=>{if(x){c(!0);try{const pe=await s("produksi_blending",{id:x,_plant:B});if(pe.success)o(je=>je.filter(Be=>Be.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(pe.error||"Gagal menghapus data")}catch(pe){console.error("Error deleting data:",pe),alert(pe instanceof Error?pe.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Ta=()=>{F(Jc),y(null),S(!1),T(""),d(!0)},Co=[{key:"tanggal",header:"Tanggal",sortable:!0,render:pe=>Ue(pe)},{key:"kategori",header:"Kategori",render:pe=>a.jsx(Te,{variant:pe==="Fresh"?"success":pe==="Oversack"?"warning":"primary",children:pe})},{key:"formula",header:"Formula"},{key:"tonase",header:"Tonase",render:pe=>a.jsxs("span",{className:"font-semibold",children:[Y(le(pe))," Ton"]})}],is=pe=>{const je=["from-blue-500 to-blue-600","from-emerald-500 to-emerald-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600","from-rose-500 to-rose-600","from-cyan-500 to-cyan-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600"];return je[pe%je.length]};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:I}),a.jsx(Te,{variant:B==="NPK1"?"primary":"success",children:B})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data ",I.toLowerCase()," untuk ",B]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ne&&a.jsxs(ce,{onClick:Ta,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(we,{className:"overflow-hidden",children:a.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-900 dark:from-dark-700 dark:to-dark-800 p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:a.jsx(Om,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Laporan Produksi"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("button",{onClick:_e,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(Ak,{className:"h-5 w-5 text-white"})}),a.jsxs("h2",{className:"text-2xl font-bold text-white min-w-[200px] text-center",children:[J==="all"?"Semua Bulan":P[J]," ",V==="all"?"Semua Tahun":V]}),a.jsx("button",{onClick:Ye,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(Ok,{className:"h-5 w-5 text-white"})})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:J.toString(),onChange:pe=>Z(pe.target.value==="all"?"all":Number(pe.target.value)),options:[{value:"all",label:"Semua Bulan"},...P.map((pe,je)=>({value:je.toString(),label:pe}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"}),a.jsx(Me,{value:V.toString(),onChange:pe=>R(pe.target.value==="all"?"all":Number(pe.target.value)),options:[{value:"all",label:"Semua Tahun"},...ie.map(pe=>({value:pe.toString(),label:pe.toString()}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(yi,{className:"h-4 w-4 text-white/70"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Total Produksi"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[Y(W.totalTonase),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),W.growthPercent!==0&&a.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${W.growthPercent>0?"text-green-300":"text-red-300"}`,children:[W.growthPercent>0?a.jsx(Ca,{className:"h-3 w-3"}):a.jsx(KK,{className:"h-3 w-3"}),a.jsxs("span",{children:[Math.abs(W.growthPercent).toFixed(1),"% dari bulan lalu"]})]})]}),e==="blending"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mx,{className:"h-4 w-4 text-green-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Fresh"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[Y(W.totalFresh),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[W.totalTonase>0?(W.totalFresh/W.totalTonase*100).toFixed(1):0,"% dari total"]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gu,{className:"h-4 w-4 text-amber-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Oversack"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[Y(W.totalOversack),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[W.totalTonase>0?(W.totalOversack/W.totalTonase*100).toFixed(1):0,"% dari total"]})]})]}):a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mx,{className:"h-4 w-4 text-blue-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Retail"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[Y(W.totalRetail),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(r8,{className:"h-4 w-4 text-violet-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Jenis Formula"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:W.uniqueFormulas}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Formula berbeda"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ml,{className:"h-4 w-4 text-cyan-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Rata-rata"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[Y(W.avgPerEntry),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Per entry (",W.entryCount," data)"]})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(w_,{className:"h-5 w-5 text-dark-500"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Statistik per Formula"})]}),a.jsx(Me,{value:_,onChange:pe=>z(pe.target.value),options:[{value:"all",label:"Semua Formula"},...M.map(pe=>({value:pe,label:pe}))],className:"min-w-[200px]"})]}),ke.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ke.map(([pe,je],Be)=>a.jsxs(we,{className:`overflow-hidden cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg ${_===pe?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onClick:()=>z(_===pe?"all":pe),children:[a.jsxs("div",{className:`bg-gradient-to-br ${is(Be)} p-4`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"bg-white/20 rounded-lg px-2 py-1",children:a.jsxs("span",{className:"text-white text-xs font-medium",children:["#",Be+1]})}),a.jsx(Am,{className:"h-5 w-5 text-white/70"})]}),a.jsx("h4",{className:"text-white font-bold text-lg mt-3 truncate",title:pe,children:pe}),a.jsxs("p",{className:"text-white/70 text-sm",children:[je.count," entry data"]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400 text-sm",children:"Total Tonase"}),a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[Y(je.total)," Ton"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kontribusi"}),a.jsxs("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:[je.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${is(Be)} rounded-full transition-all duration-500`,style:{width:`${Math.min(je.percentage,100)}%`}})})]}),e==="blending"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Fresh"}),a.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400 text-sm",children:[Y(je.fresh)," T"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Oversack"}),a.jsxs("p",{className:"font-semibold text-amber-600 dark:text-amber-400 text-sm",children:[Y(je.oversack)," T"]})]})]})]})]},pe))}):a.jsxs(we,{className:"p-8 text-center",children:[a.jsx(yi,{className:"h-12 w-12 text-dark-300 mx-auto mb-3"}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Tidak ada data produksi untuk bulan"," ",P[J]," ",V]})]})]}),_!=="all"&&me[_]&&a.jsxs(we,{className:"overflow-hidden",children:[a.jsx(tt,{className:"bg-gradient-to-r from-primary-500 to-primary-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:a.jsx(mx,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(rt,{className:"text-white",children:["Detail Formula: ",_]}),a.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["Data untuk"," ",J==="all"?"semua bulan":`bulan ${P[J]}`," ",V==="all"?"semua tahun":V]})]})]}),a.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>z("all"),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:"Lihat Semua"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Total Tonase"}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[Y(me[_].total),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:me[_].count})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Rata-rata/Entry"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[Y(me[_].total/me[_].count),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Kontribusi"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[me[_].percentage.toFixed(1),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"%"})]})]})]})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(rt,{children:["Data ",I," - Semua Data",_!=="all"&&a.jsx(Te,{variant:"primary",className:"ml-2",children:_})]}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:[i.length," data total"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:$,onChange:pe=>O(pe.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(rr,{data:i.filter(pe=>{var je,Be,lt;return(_==="all"||pe.formula===_)&&(((je=pe.tanggal)==null?void 0:je.includes($))||((Be=pe.formula)==null?void 0:Be.toLowerCase().includes($.toLowerCase()))||((lt=pe.kategori)==null?void 0:lt.toLowerCase().includes($.toLowerCase())))}),columns:Co,loading:l,searchable:!1,actions:C?pe=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),ve(pe.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):pe=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),ve(pe.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),mt(pe)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:je=>{je.stopPropagation(),Qe(pe.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),F(Jc),y(null)},title:v?`Edit Data ${I}`:`Tambah Data ${I}`,size:"md",children:a.jsxs("form",{onSubmit:at,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:A.tanggal,onChange:pe=>F(je=>({...je,tanggal:pe.target.value})),required:!0}),a.jsx(Me,{label:"Kategori",value:A.kategori,onChange:pe=>F(je=>({...je,kategori:pe.target.value})),options:ae,required:!0}),a.jsx(Me,{label:"Formula",value:w?"Custom":A.formula,onChange:pe=>{const je=pe.target.value;je==="Custom"?(S(!0),T("")):(S(!1),F(Be=>({...Be,formula:je})))},options:K,placeholder:"Pilih formula",required:!0}),w&&a.jsx(he,{label:"Formula Custom",type:"text",value:N,onChange:pe=>{T(pe.target.value),F(je=>({...je,formula:pe.target.value}))},placeholder:"Masukkan formula custom (contoh: NPK 18-18-18)",required:!0}),a.jsx(he,{label:"Tonase (Ton)",type:"number",value:A.tonase,onChange:pe=>F(je=>({...je,tonase:Number(pe.target.value)})),min:"0",step:"0.01",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),F(Jc),y(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:ua,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:U,onClose:()=>{ee(!1),de(null)},onSubmit:zt,action:H,itemName:"data produksi blending",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(dc,{isOpen:m,onClose:()=>k(!1),title:`${I} - ${P[J]} ${V}${_!=="all"?` (${_})`:""}`,plant:B==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:E,columns:[{key:"tanggal",header:"Tanggal",render:pe=>Ue(pe),width:"80px"},{key:"kategori",header:"Kategori",width:"70px"},{key:"formula",header:"Formula",width:"120px"},{key:"tonase",header:"Tonase (Ton)",render:pe=>Y(le(pe)),align:"right",width:"80px"}],filters:e==="blending"?{kategori:{label:"Kategori",options:[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]}}:void 0,signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:pe=>Y(pe.reduce((je,Be)=>je+le(Be.tonase),0))+" Ton"}]}),a.jsx(Br,{isOpen:ye,onClose:()=>{be(!1),xe("")},sheetName:e==="blending"?"produksi_blending":"produksi_blending_NPK1",recordId:fe,title:`Log Aktivitas ${I}`})]})},Xc={tanggal:$t(),formulasi:"",tonase:0},vpe=()=>{const{user:e}=nt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Ar(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,v]=b.useState(null),[y,x]=b.useState(null),[j,w]=b.useState(Xc),[S,N]=b.useState(""),[T,A]=b.useState(new Date().getFullYear()),[F,$]=b.useState(new Date().getMonth()),[O,_]=b.useState(!1),[z,J]=b.useState(""),[Z,V]=b.useState(!1),[R,B]=b.useState("edit"),[I,U]=b.useState(null),[ee,H]=b.useState(!1),[oe,ue]=b.useState(""),de=E=>{ue(E),H(!0)},ye=(e==null?void 0:e.role)||"",be=yr(ye),fe=b.useCallback(()=>{if(c&&!o){const E=document.querySelector("form");E&&E.requestSubmit()}},[c,o]);nr(fe,c);const xe=Nr(ye),ve=Pr(ye),te=fr(ye),ne=[{value:"NPK Mini 15-15-15",label:"NPK Mini 15-15-15"},{value:"NPK Mini 16-16-16",label:"NPK Mini 16-16-16"},{value:"NPK Mini 20-10-10",label:"NPK Mini 20-10-10"},{value:"NPK Mini 12-12-17",label:"NPK Mini 12-12-17"},{value:"Custom",label:"Custom"}];b.useEffect(()=>{(async()=>{l(!0);try{const{readData:q,SHEETS:W}=await Re(async()=>{const{readData:ke,SHEETS:_e}=await Promise.resolve().then(()=>Ie);return{readData:ke,SHEETS:_e}},void 0),me=await q(W.PRODUKSI_NPK_MINI);if(me.success&&me.data){const ke=me.data.map(_e=>({..._e,_plant:"NPK2"})).sort((_e,Ye)=>new Date(Ye.tanggal).getTime()-new Date(_e.tanggal).getTime());i(ke)}else i([])}catch(q){console.error("Error fetching data:",q),i([])}finally{l(!1)}})()},[]);const G=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],Q=b.useMemo(()=>{const E=new Date().getFullYear(),q=s.map(ke=>{const _e=new Date(ke.tanggal);return isNaN(_e.getTime())?E:_e.getFullYear()}),W=[E,E-1,E-2];return[...new Set([...q,...W])].sort((ke,_e)=>_e-ke)},[s]),L=b.useMemo(()=>s.filter(E=>{const q=new Date(E.tanggal);return!isNaN(q.getTime())&&q.getFullYear()===T}),[s,T]),C=b.useMemo(()=>{const E=L.filter(me=>new Date(me.tanggal).getMonth()===F),q=E.reduce((me,ke)=>me+le(ke.tonase),0),W=new Set(E.map(me=>me.formulasi)).size;return{monthName:G[F],year:T,total:q,formulasiCount:W,entryCount:E.length}},[L,T,F]),ae=async E=>{E.preventDefault(),l(!0);try{if(k){const q=await r("produksi_npk_mini",{...j,id:k,_plant:"NPK2"});if(q.success)i(W=>W.map(me=>me.id===k?{...j,id:k,_plant:"NPK2"}:me));else throw new Error(q.error||"Gagal mengupdate data")}else{const q={...j,_plant:"NPK2"},W=await t("produksi_npk_mini",q);if(W.success&&W.data){const me={...W.data,_plant:"NPK2"};i(ke=>[me,...ke])}else throw new Error(W.error||"Gagal menyimpan data")}u(!1),w(Xc),v(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(q){console.error("Error saving data:",q),alert(q instanceof Error?q.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},X=E=>{if(xe){U(E),B("edit"),V(!0);return}w(E),v(E.id||null);const q=ne.some(W=>W.value===E.formulasi&&W.value!=="Custom");_(!q&&E.formulasi!==""),J(!q&&E.formulasi!==""?E.formulasi:""),u(!0)},K=E=>{if(ve){const q=s.find(W=>W.id===E);q&&(U(q),B("delete"),V(!0));return}x(E),f(!0)},P=async E=>{if(!(!I||!e)){l(!0);try{const q="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",W={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:e.nama,requestedByRole:e.role,requestedByPlant:e.plant,actionType:R,targetSheet:"PRODUKSI_NPK_MINI",targetId:I.id,targetData:JSON.stringify(I),reason:E,status:"pending",requestedAt:new Date().toISOString()}},me=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W),mode:"no-cors"});console.log("Approval response:",me.status),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),V(!1),U(null)}catch(q){console.error("Error submitting approval:",q),alert("Gagal mengirim permintaan approval")}finally{l(!1)}}},M=async()=>{if(y){l(!0);try{const E=await n("produksi_npk_mini",{id:y,_plant:"NPK2"});if(E.success)i(q=>q.filter(W=>W.id!==y)),f(!1),x(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(E.error||"Gagal menghapus data")}catch(E){console.error("Error deleting data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},ie=()=>{w(Xc),v(null),_(!1),J(""),u(!0)},D=[{key:"tanggal",header:"Tanggal",sortable:!0,render:E=>Ue(E)},{key:"formulasi",header:"Formulasi"},{key:"tonase",header:"Tonase",render:E=>a.jsxs("span",{className:"font-semibold text-primary-600",children:[Y(le(E))," Ton"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Mini"}),a.jsx(Te,{variant:"success",children:"NPK2"})]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data produksi NPK Mini untuk NPK2"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),be&&a.jsxs(ce,{onClick:ie,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx("div",{className:"rounded-xl p-5 text-white shadow-md bg-gradient-to-r from-green-500 to-green-600",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Om,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold",children:["Produksi Bulan ",C.monthName," ",C.year]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[C.entryCount," entry data"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[a.jsx("select",{value:F,onChange:E=>$(Number(E.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:G.map((E,q)=>a.jsx("option",{value:q,className:"text-dark-900",children:E},q))}),a.jsx("select",{value:T,onChange:E=>A(Number(E.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:Q.map(E=>a.jsx("option",{value:E,className:"text-dark-900",children:E},E))}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold",children:[Y(C.total)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Formulasi"}),a.jsxs("p",{className:"text-xl font-bold",children:[C.formulasiCount," ",a.jsx("span",{className:"text-sm font-normal",children:"Jenis"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Tonase (",T,")"]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[Y(L.reduce((E,q)=>E+le(q.tonase),0))," ","Ton"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Formulasi (",T,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(L.map(E=>E.formulasi)).size})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Entry (",T,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:L.length})]})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Data Produksi NPK Mini"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:S,onChange:E=>N(E.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(rr,{data:s.filter(E=>{var q,W;return((q=E.tanggal)==null?void 0:q.includes(S))||((W=E.formulasi)==null?void 0:W.toLowerCase().includes(S.toLowerCase()))}),columns:D,loading:o,searchable:!1,actions:te?E=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),de(E.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):E=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),de(E.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),X(E)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),K(E.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:c,onClose:()=>{u(!1),w(Xc),v(null)},title:k?"Edit Data NPK Mini":"Tambah Data NPK Mini",size:"md",children:a.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:j.tanggal,onChange:E=>w(q=>({...q,tanggal:E.target.value})),required:!0}),a.jsx(Me,{label:"Formulasi",value:O?"Custom":j.formulasi,onChange:E=>{const q=E.target.value;q==="Custom"?(_(!0),J("")):(_(!1),w(W=>({...W,formulasi:q})))},options:ne,placeholder:"Pilih formulasi",required:!0}),O&&a.jsx(he,{label:"Formulasi Custom",type:"text",value:z,onChange:E=>{J(E.target.value),w(q=>({...q,formulasi:E.target.value}))},placeholder:"Masukkan formulasi custom (contoh: NPK Mini 18-18-18)",required:!0}),a.jsx(he,{label:"Tonase (Ton)",type:"number",value:j.tonase,onChange:E=>w(q=>({...q,tonase:Number(E.target.value)})),min:"0",step:"0.01",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{u(!1),w(Xc),v(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:o,children:k?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:d,onClose:()=>{f(!1),x(null)},onConfirm:M,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Tr,{isOpen:Z,onClose:()=>{V(!1),U(null)},onSubmit:P,action:R,itemName:"data produksi NPK Mini",loading:o}),a.jsx(Wt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),a.jsx(dc,{isOpen:g,onClose:()=>m(!1),title:"Produksi NPK Mini",plant:"NPK Plant 2",data:s,columns:[{key:"tanggal",header:"Tanggal",render:E=>Ue(E),width:"100px"},{key:"formulasi",header:"Formulasi",width:"150px"},{key:"tonase",header:"Tonase (Ton)",render:E=>Y(le(E)),align:"right",width:"100px"}],signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:E=>Y(E.reduce((q,W)=>q+le(W.tonase),0))+" Ton"}]}),a.jsx(Br,{isOpen:ee,onClose:()=>{H(!1),ue("")},sheetName:"produksi_npk_mini",recordId:oe,title:"Log Aktivitas Produksi NPK Mini"})]})},qx=new Date().getFullYear(),ype=[...Array.from({length:qx-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(qx+1),label:String(qx+1)}],Qc={tanggal:$t(),item:"",deskripsi:"",jamOff:"",jamStart:"",downtime:0},YT=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(Qc),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),[A,F]=b.useState(!1),[$,O]=b.useState("edit"),[_,z]=b.useState(null),[J,Z]=b.useState(!1),[V,R]=b.useState(!1),[B,I]=b.useState(""),U=C=>{I(C),R(!0)},ee=(t==null?void 0:t.role)||"",H=yr(ee),oe=b.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);nr(oe,u);const ue=Nr(ee),de=Pr(ee),ye=fr(ee);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:ae,SHEETS:X,getSheetNameByPlant:K}=await Re(async()=>{const{readData:ie,SHEETS:D,getSheetNameByPlant:E}=await Promise.resolve().then(()=>Ie);return{readData:ie,SHEETS:D,getSheetNameByPlant:E}},void 0),P=K(X.DOWNTIME,e),M=await ae(P);if(M.success&&M.data){const ie=M.data.map(D=>({...D,_plant:e})).sort((D,E)=>new Date(E.tanggal).getTime()-new Date(D.tanggal).getTime());o(ie)}else o([])}catch(ae){console.error("Error fetching data:",ae),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(x.jamOff&&x.jamStart){const C=qE(x.jamOff,x.jamStart);j(ae=>({...ae,downtime:C}))}},[x.jamOff,x.jamStart]);const be=async C=>{C.preventDefault(),c(!0);try{if(m){const ae={...x,id:m,_plant:e},X=await n("downtime",ae);if(X.success)o(K=>K.map(P=>P.id===m?{...x,id:m,_plant:e}:P));else throw new Error(X.error||"Gagal mengupdate data")}else{const ae={...x,_plant:e},X=await r("downtime",ae);if(X.success&&X.data){const K={...X.data,_plant:e};o(P=>[K,...P])}else throw new Error(X.error||"Gagal menyimpan data")}d(!1),j(Qc),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(ae){console.error("Error saving data:",ae),alert(ae instanceof Error?ae.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},fe=C=>{if(ue){z(C),O("edit"),F(!0);return}j(C),k(C.id||null),d(!0)},xe=C=>{if(de){const ae=i.find(X=>X.id===C);ae&&(z(ae),O("delete"),F(!0));return}y(C),h(!0)},ve=async C=>{if(!(!_||!t)){c(!0);try{const ae="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",X={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:$,targetSheet:"DOWNTIME",targetId:_.id,targetData:JSON.stringify(_),reason:C,status:"pending",requestedAt:new Date().toISOString()}};await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),F(!1),z(null)}catch(ae){console.error("Error submitting approval:",ae),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},te=async()=>{if(v){c(!0);try{const C=await s("downtime",{id:v,_plant:e});if(C.success)o(ae=>ae.filter(X=>X.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(C.error||"Gagal menghapus data")}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ne=()=>{j(Qc),k(null),d(!0)},G=i.filter(C=>{var P,M,ie;const ae=((P=C.tanggal)==null?void 0:P.includes(w))||((M=C.item)==null?void 0:M.toLowerCase().includes(w.toLowerCase()))||((ie=C.deskripsi)==null?void 0:ie.toLowerCase().includes(w.toLowerCase())),K=new Date(C.tanggal).getFullYear()===parseInt(N);return ae&&K}),Q=G.reduce((C,ae)=>C+le(ae.downtime),0),L=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>Ue(C)},{key:"item",header:"Equipment"},{key:"deskripsi",header:"Deskripsi"},{key:"jamOff",header:"Jam Off",render:C=>an(C)},{key:"jamStart",header:"Jam Start",render:C=>an(C)},{key:"downtime",header:"Downtime (Jam)",render:C=>a.jsxs("span",{className:"font-semibold text-amber-600",children:[Y(le(C))," Jam"]})},{key:"_plant",header:"Plant",render:C=>a.jsx(Te,{variant:C==="NPK1"?"primary":"success",children:C})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Downtime"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data downtime equipment untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>Z(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),H&&a.jsxs(ce,{onClick:ne,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Downtime"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[Y(Q)," Jam"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rata-rata Downtime"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[Y(G.length>0?Q/G.length:0)," ","Jam"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Equipment Terdampak"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(G.map(C=>C.item)).size})]})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Downtime - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:C=>T(C.target.value),options:ype,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:C=>S(C.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:G,columns:L,loading:l,searchable:!1,actions:ye?C=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),U(C.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):C=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),U(C.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),fe(C)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),xe(C.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(Qc),k(null)},title:m?"Edit Data Downtime":"Tambah Data Downtime",size:"md",children:a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:C=>j(ae=>({...ae,tanggal:C.target.value})),required:!0}),a.jsx(he,{label:"Equipment",type:"text",value:x.item,onChange:C=>j(ae=>({...ae,item:C.target.value})),placeholder:"Nama equipment",required:!0}),a.jsx(he,{label:"Deskripsi",type:"text",value:x.deskripsi,onChange:C=>j(ae=>({...ae,deskripsi:C.target.value})),placeholder:"Deskripsi kejadian downtime",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Jam Off",type:"time",value:x.jamOff,onChange:C=>j(ae=>({...ae,jamOff:C.target.value})),required:!0}),a.jsx(he,{label:"Jam Start",type:"time",value:x.jamStart,onChange:C=>j(ae=>({...ae,jamStart:C.target.value})),required:!0})]}),a.jsx("div",{className:"p-4 bg-amber-50 rounded-xl",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("span",{className:"font-medium",children:"Downtime (Auto):"})," ",Y(x.downtime||0)," Jam"]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(Qc),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:A,onClose:()=>{F(!1),z(null)},onSubmit:ve,action:$,loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(dc,{isOpen:J,onClose:()=>Z(!1),title:`Downtime ${e}`,data:i,columns:[{key:"tanggal",header:"Tanggal",render:C=>Ue(C),align:"center"},{key:"item",header:"Equipment",align:"left"},{key:"deskripsi",header:"Deskripsi",align:"left"},{key:"jamOff",header:"Jam Off",render:C=>an(C),align:"center"},{key:"jamStart",header:"Jam Start",render:C=>an(C),align:"center"},{key:"downtime",header:"Downtime (Jam)",render:C=>Y(le(C)),align:"right"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Downtime",getValue:C=>Y(C.reduce((ae,X)=>ae+le(X.downtime),0))+" Jam"}],plant:e,compactMode:!0}),a.jsx(Br,{isOpen:V,onClose:()=>{R(!1),I("")},sheetName:e==="NPK1"?"downtime_NPK1":"downtime",recordId:B,title:"Log Aktivitas Downtime"})]})},Yx=new Date().getFullYear(),bpe=[...Array.from({length:Yx-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(Yx+1),label:String(Yx+1)}],Zc={tanggal:$t(),forklift:"",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},JT=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[v,y]=b.useState(null),[x,j]=b.useState(null),[w,S]=b.useState(Zc),[N,T]=b.useState(""),[A,F]=b.useState(String(new Date().getFullYear())),[$,O]=b.useState(!1),[_,z]=b.useState("edit"),[J,Z]=b.useState(null),[V,R]=b.useState(!1),[B,I]=b.useState(""),U=C=>{I(C),R(!0)},ee=(t==null?void 0:t.role)||"",H=yr(ee),oe=b.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);nr(oe,u);const ue=Nr(ee),de=Pr(ee),ye=fr(ee),be=e==="NPK1"?[{value:"F15",label:"F15"},{value:"F16",label:"F16"},{value:"F17",label:"F17"},{value:"F18",label:"F18"},{value:"ALL",label:"Semua Forklift"}]:[{value:"F19",label:"F19"},{value:"F20",label:"F20"},{value:"F21",label:"F21"},{value:"F22",label:"F22"},{value:"F23",label:"F23"},{value:"ALL",label:"Semua Forklift"}];b.useEffect(()=>{(async()=>{c(!0);try{const{readData:ae,SHEETS:X,getSheetNameByPlant:K}=await Re(async()=>{const{readData:ie,SHEETS:D,getSheetNameByPlant:E}=await Promise.resolve().then(()=>Ie);return{readData:ie,SHEETS:D,getSheetNameByPlant:E}},void 0),P=K(X.TIMESHEET_FORKLIFT,e),M=await ae(P);if(M.success&&M.data){const ie=M.data.map(D=>({...D,_plant:e})).sort((D,E)=>new Date(E.tanggal).getTime()-new Date(D.tanggal).getTime());o(ie)}else o([])}catch(ae){console.error("Error fetching data:",ae),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(w.jamOff&&w.jamStart){const C=cv(w.jamOff,w.jamStart),ae=Math.max(0,20-C);S(X=>({...X,jamGrounded:C,jamOperasi:ae,keterangan:C<=2?"Operasi":"Grounded"}))}},[w.jamOff,w.jamStart]);const fe=async C=>{C.preventDefault(),c(!0);try{const{readData:ae,SHEETS:X,getSheetNameByPlant:K}=await Re(async()=>{const{readData:M,SHEETS:ie,getSheetNameByPlant:D}=await Promise.resolve().then(()=>Ie);return{readData:M,SHEETS:ie,getSheetNameByPlant:D}},void 0),P=K(X.TIMESHEET_FORKLIFT,e);if(w.forklift==="ALL"&&!v){const M=e==="NPK1"?["F15","F16","F17","F18"]:["F19","F20","F21","F22","F23"];for(const D of M){const E={...w,forklift:D,_plant:e};await r("timesheet_forklift",E)}const ie=await ae(P);if(ie.success&&ie.data){const D=ie.data.map(E=>({...E,_plant:e})).sort((E,q)=>new Date(q.tanggal).getTime()-new Date(E.tanggal).getTime());o(D)}}else if(v){const M={...w,id:v,_plant:e},ie=await n("timesheet_forklift",M);if(ie.success)o(D=>D.map(E=>E.id===v?{...w,id:v,_plant:e}:E));else throw new Error(ie.error||"Gagal mengupdate data")}else{const M={...w,_plant:e},ie=await r("timesheet_forklift",M);if(ie.success&&ie.data){const D={...ie.data,_plant:e};o(E=>[D,...E])}else throw new Error(ie.error||"Gagal menyimpan data")}d(!1),S(Zc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(ae){console.error("Error saving data:",ae),alert(ae instanceof Error?ae.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},xe=C=>{if(ue){Z(C),z("edit"),O(!0);return}S(C),y(C.id||null),d(!0)},ve=C=>{if(de){const ae=i.find(X=>X.id===C);ae&&(Z(ae),z("delete"),O(!0));return}j(C),h(!0)},te=async C=>{if(!(!J||!t)){c(!0);try{const ae="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",X={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:_,targetSheet:"TIMESHEET_FORKLIFT",targetId:J.id,targetData:JSON.stringify(J),reason:C,status:"pending",requestedAt:new Date().toISOString()}};await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),O(!1),Z(null)}catch(ae){console.error("Error submitting approval:",ae),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ne=async()=>{if(x){c(!0);try{const C=await s("timesheet_forklift",{id:x,_plant:e});if(C.success)o(ae=>ae.filter(X=>X.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(C.error||"Gagal menghapus data")}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},G=()=>{S(Zc),y(null),d(!0)},Q=i.filter(C=>{var P,M,ie;const ae=((P=C.tanggal)==null?void 0:P.includes(N))||((M=C.forklift)==null?void 0:M.toLowerCase().includes(N.toLowerCase()))||((ie=C.deskripsiTemuan)==null?void 0:ie.toLowerCase().includes(N.toLowerCase())),K=new Date(C.tanggal).getFullYear()===parseInt(A);return ae&&K}),L=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>Ue(C)},{key:"forklift",header:"Forklift",render:C=>a.jsx(Te,{variant:"primary",children:C})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:C=>an(C)},{key:"jamStart",header:"Jam Start",render:C=>an(C)},{key:"jamGrounded",header:"Jam Grounded",render:C=>a.jsx("span",{className:"font-semibold text-amber-600",children:Y(le(C))})},{key:"jamOperasi",header:"Jam Operasi",render:C=>a.jsx("span",{className:"font-semibold text-secondary-600",children:Y(le(C))})},{key:"keterangan",header:"Status",render:C=>a.jsx(Te,{variant:C==="Operasi"?"success":"warning",children:C})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Forklift"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet forklift harian untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),H&&a.jsxs(ce,{onClick:G,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Grounded"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[Y(Q.reduce((C,ae)=>C+le(ae.jamGrounded),0))," ","Jam"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Operasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[Y(Q.reduce((C,ae)=>C+le(ae.jamOperasi),0))," ","Jam"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Forklift Aktif"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(Q.map(C=>C.forklift)).size})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:Q.length})]})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(rt,{children:"Data Timesheet Forklift"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(Me,{value:A,onChange:C=>F(C.target.value),options:bpe,className:"w-full sm:w-28"}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:N,onChange:C=>T(C.target.value),className:"pl-9"})]})]})]})}),a.jsx(rr,{data:Q,columns:L,loading:l,searchable:!1,actions:ye?C=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),U(C.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):C=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),U(C.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),xe(C)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:ae=>{ae.stopPropagation(),ve(C.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),S(Zc),y(null)},title:v?"Edit Timesheet Forklift":"Tambah Timesheet Forklift",size:"md",children:a.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:w.tanggal,onChange:C=>S(ae=>({...ae,tanggal:C.target.value})),required:!0}),a.jsx(Me,{label:"Forklift",value:w.forklift,onChange:C=>S(ae=>({...ae,forklift:C.target.value})),options:v?be.filter(C=>C.value!=="ALL"):be,placeholder:"Pilih forklift",required:!0}),a.jsx(he,{label:"Deskripsi Temuan",type:"text",value:w.deskripsiTemuan,onChange:C=>S(ae=>({...ae,deskripsiTemuan:C.target.value})),placeholder:"Deskripsi temuan/kejadian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Jam Off",type:"time",value:w.jamOff,onChange:C=>S(ae=>({...ae,jamOff:C.target.value})),required:!0}),a.jsx(he,{label:"Jam Start",type:"time",value:w.jamStart,onChange:C=>S(ae=>({...ae,jamStart:C.target.value})),required:!0})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),a.jsxs("span",{className:"font-semibold text-amber-600",children:[Y(w.jamGrounded||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),a.jsxs("span",{className:"font-semibold text-secondary-600",children:[Y(w.jamOperasi||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),a.jsx(Te,{variant:w.keterangan==="Operasi"?"success":"warning",children:w.keterangan||"-"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),S(Zc),y(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:ne,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:$,onClose:()=>{O(!1),Z(null)},onSubmit:te,action:_,loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(dc,{isOpen:m,onClose:()=>k(!1),title:"Timesheet Forklift",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:C=>Ue(C),width:"65px"},{key:"forklift",header:"Forklift",width:"45px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Off",render:C=>an(C),width:"40px"},{key:"jamStart",header:"Start",render:C=>an(C),width:"40px"},{key:"jamGrounded",header:"Grounded",render:C=>Y(le(C)),align:"right",width:"50px"},{key:"jamOperasi",header:"Operasi",render:C=>Y(le(C)),align:"right",width:"45px"},{key:"keterangan",header:"Status",width:"55px"}],filters:{forklift:{label:"Forklift",options:be.filter(C=>C.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Jam Grounded:",getValue:C=>Y(C.reduce((ae,X)=>ae+le(X.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:C=>Y(C.reduce((ae,X)=>ae+le(X.jamOperasi),0))+" Jam"}]}),a.jsx(Br,{isOpen:V,onClose:()=>{R(!1),I("")},sheetName:e==="NPK1"?"timesheet_forklift_NPK1":"timesheet_forklift",recordId:B,title:"Log Aktivitas Timesheet Forklift"})]})},Jx=new Date().getFullYear(),kpe=[...Array.from({length:Jx-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(Jx+1),label:String(Jx+1)}],eu={tanggal:$t(),shift:"Malam",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},Xx=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"},{value:"ALL",label:"Semua Shift"}],XT=e=>e==="Malam"?8:7,QT=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[v,y]=b.useState(null),[x,j]=b.useState(null),[w,S]=b.useState(eu),[N,T]=b.useState(""),[A,F]=b.useState(String(new Date().getFullYear())),[$,O]=b.useState(!1),[_,z]=b.useState("edit"),[J,Z]=b.useState(null),[V,R]=b.useState(!1),[B,I]=b.useState(""),U=L=>{I(L),R(!0)},ee=(t==null?void 0:t.role)||"",H=yr(ee),oe=b.useCallback(()=>{if(u&&!l){const L=document.querySelector("form");L&&L.requestSubmit()}},[u,l]);nr(oe,u);const ue=Nr(ee),de=Pr(ee),ye=fr(ee);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:C,SHEETS:ae,getSheetNameByPlant:X}=await Re(async()=>{const{readData:M,SHEETS:ie,getSheetNameByPlant:D}=await Promise.resolve().then(()=>Ie);return{readData:M,SHEETS:ie,getSheetNameByPlant:D}},void 0),K=X(ae.TIMESHEET_LOADER,e),P=await C(K);if(P.success&&P.data){const M=P.data.map(ie=>({...ie,_plant:e})).sort((ie,D)=>new Date(D.tanggal).getTime()-new Date(ie.tanggal).getTime());o(M)}else o([])}catch(C){console.error("Error fetching data:",C),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{if(w.jamOff&&w.jamStart){const L=cv(w.jamOff,w.jamStart),C=XT(w.shift),ae=Math.max(0,C-L),X=ae<C?"Grounded":"Operasi";S(K=>({...K,jamGrounded:L,jamOperasi:ae,keterangan:X}))}},[w.jamOff,w.jamStart,w.shift]);const be=async L=>{L.preventDefault(),c(!0);try{const{readData:C,SHEETS:ae,getSheetNameByPlant:X}=await Re(async()=>{const{readData:P,SHEETS:M,getSheetNameByPlant:ie}=await Promise.resolve().then(()=>Ie);return{readData:P,SHEETS:M,getSheetNameByPlant:ie}},void 0),K=X(ae.TIMESHEET_LOADER,e);if(w.shift==="ALL"&&!v){const P=["Malam","Pagi","Sore"];for(const ie of P){const D=XT(ie),E=cv(w.jamOff,w.jamStart),q=Math.max(0,D-E),W=q<D?"Grounded":"Operasi",me={...w,shift:ie,jamGrounded:E,jamOperasi:q,keterangan:W,_plant:e};await r("timesheet_loader",me)}const M=await C(K);if(M.success&&M.data){const ie=M.data.map(D=>({...D,_plant:e})).sort((D,E)=>new Date(E.tanggal).getTime()-new Date(D.tanggal).getTime());o(ie)}}else if(v){const P={...w,id:v,_plant:e},M=await n("timesheet_loader",P);if(M.success)o(ie=>ie.map(D=>D.id===v?{...w,id:v,_plant:e}:D));else throw new Error(M.error||"Gagal mengupdate data")}else{const P={...w,_plant:e},M=await r("timesheet_loader",P);if(M.success&&M.data){const ie={...M.data,_plant:e};o(D=>[ie,...D])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),S(eu),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(C){console.error("Error saving data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},fe=L=>{if(ue){Z(L),z("edit"),O(!0);return}S(L),y(L.id||null),d(!0)},xe=L=>{if(de){const C=i.find(ae=>ae.id===L);C&&(Z(C),z("delete"),O(!0));return}j(L),h(!0)},ve=async L=>{if(!(!J||!t)){c(!0);try{const C="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",ae={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:_,targetSheet:"TIMESHEET_LOADER",targetId:J.id,targetData:JSON.stringify(J),reason:L,status:"pending",requestedAt:new Date().toISOString()}};await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),O(!1),Z(null)}catch(C){console.error("Error submitting approval:",C),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},te=async()=>{if(x){c(!0);try{const L=await s("timesheet_loader",{id:x,_plant:e});if(L.success)o(C=>C.filter(ae=>ae.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(L.error||"Gagal menghapus data")}catch(L){console.error("Error deleting data:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ne=()=>{S(eu),y(null),d(!0)},G=i.filter(L=>{var K,P,M;const C=((K=L.tanggal)==null?void 0:K.includes(N))||((P=L.shift)==null?void 0:P.toLowerCase().includes(N.toLowerCase()))||((M=L.deskripsiTemuan)==null?void 0:M.toLowerCase().includes(N.toLowerCase())),X=new Date(L.tanggal).getFullYear()===parseInt(A);return C&&X}),Q=[{key:"tanggal",header:"Tanggal",sortable:!0,render:L=>Ue(L)},{key:"shift",header:"Shift",render:L=>a.jsx(Te,{variant:L==="Malam"?"primary":L==="Pagi"?"success":"warning",children:L})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:L=>an(L)},{key:"jamStart",header:"Jam Start",render:L=>an(L)},{key:"jamGrounded",header:"Jam Grounded",render:L=>a.jsx("span",{className:"font-semibold text-amber-600",children:Y(le(L))})},{key:"jamOperasi",header:"Jam Operasi",render:L=>a.jsx("span",{className:"font-semibold text-secondary-600",children:Y(le(L))})},{key:"keterangan",header:"Status",render:L=>a.jsx(Te,{variant:L==="Operasi"?"success":"warning",children:L})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Loader"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet loader harian untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),H&&a.jsxs(ce,{onClick:ne,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Grounded"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[Y(G.reduce((L,C)=>L+le(C.jamGrounded),0))," ","Jam"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Operasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[Y(G.reduce((L,C)=>L+le(C.jamOperasi),0))," ","Jam"]})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Shift"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]}),a.jsxs(we,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(rt,{children:"Data Timesheet Loader"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(Me,{value:A,onChange:L=>F(L.target.value),options:kpe,className:"w-full sm:w-28"}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:N,onChange:L=>T(L.target.value),className:"pl-9"})]})]})]})}),a.jsx(rr,{data:G,columns:Q,loading:l,searchable:!1,actions:ye?L=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),U(L.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):L=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),U(L.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),fe(L)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),xe(L.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),S(eu),y(null)},title:v?"Edit Timesheet Loader":"Tambah Timesheet Loader",size:"md",children:a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:w.tanggal,onChange:L=>S(C=>({...C,tanggal:L.target.value})),required:!0}),a.jsx(Me,{label:"Shift",value:w.shift,onChange:L=>S(C=>({...C,shift:L.target.value})),options:v?Xx.filter(L=>L.value!=="ALL"):Xx,required:!0}),a.jsx(he,{label:"Deskripsi Temuan",type:"text",value:w.deskripsiTemuan,onChange:L=>S(C=>({...C,deskripsiTemuan:L.target.value})),placeholder:"Deskripsi temuan/kejadian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Jam Off",type:"time",value:w.jamOff,onChange:L=>S(C=>({...C,jamOff:L.target.value})),required:!0}),a.jsx(he,{label:"Jam Start",type:"time",value:w.jamStart,onChange:L=>S(C=>({...C,jamStart:L.target.value})),required:!0})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),a.jsxs("span",{className:"font-semibold text-amber-600",children:[Y(w.jamGrounded||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),a.jsxs("span",{className:"font-semibold text-secondary-600",children:[Y(w.jamOperasi||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),a.jsx(Te,{variant:w.keterangan==="Operasi"?"success":"warning",children:w.keterangan||"-"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),S(eu),y(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:$,onClose:()=>{O(!1),Z(null)},onSubmit:ve,action:_,loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(dc,{isOpen:m,onClose:()=>k(!1),title:"Timesheet Loader",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:L=>Ue(L),width:"75px"},{key:"shift",header:"Shift",width:"55px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Jam Off",render:L=>an(L),width:"55px"},{key:"jamStart",header:"Jam Start",render:L=>an(L),width:"60px"},{key:"jamGrounded",header:"Grounded",render:L=>Y(le(L)),align:"right",width:"60px"},{key:"jamOperasi",header:"Operasi",render:L=>Y(le(L)),align:"right",width:"55px"},{key:"keterangan",header:"Status",width:"65px"}],filters:{shift:{label:"Shift",options:Xx.filter(L=>L.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"menyetujui",label:"Menyetujui"},{role:"operator",label:"Operator Loader"}],summaryRows:[{label:"Total Jam Grounded:",getValue:L=>Y(L.reduce((C,ae)=>C+le(ae.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:L=>Y(L.reduce((C,ae)=>C+le(ae.jamOperasi),0))+" Jam"}]}),a.jsx(Br,{isOpen:V,onClose:()=>{R(!1),I("")},sheetName:e==="NPK1"?"timesheet_loader_NPK1":"timesheet_loader",recordId:B,title:"Log Aktivitas Timesheet Loader"})]})},Qx={sectionHead:"",operatorPanel:""},Dr={malam:"",pagi:"",sore:""},et={awal:"",akhir:""},Zx={tanggal:$t(),jenisOperasi:"NORMAL OPERASI",shiftMalam:{...Qx},shiftPagi:{...Qx},shiftSore:{...Qx},steamMalam:{...et},steamPagi:{...et},steamSore:{...et},gasMalam:{...et},gasPagi:{...et},gasSore:{...et},kursDollar:"16000",dryerTempProdukOut:{...Dr},produkN:{...Dr},produkP:{...Dr},produkK:{...Dr},produkMoisture:{...Dr},produkKekerasan:{...Dr},produkTimbangan:{...Dr},produkTonase:{...Dr}},e0=new Date().getFullYear(),wpe=[...Array.from({length:e0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(e0+1),label:String(e0+1)}],O3=["shiftMalam","shiftPagi","shiftSore","steamMalam","steamPagi","steamSore","gasMalam","gasPagi","gasSore","dryerTempProdukOut","produkN","produkP","produkK","produkMoisture","produkKekerasan","produkTimbangan","produkTonase"],ZT=e=>{const t={...e};return O3.forEach(r=>{t[r]&&typeof t[r]=="object"&&(t[r]=JSON.stringify(t[r]))}),t},jpe=e=>{const t={...e};return O3.forEach(r=>{if(t[r]&&typeof t[r]=="string")try{t[r]=JSON.parse(t[r])}catch{const n=t[r];if(n.startsWith("{")&&n.includes("=")){const s={};n.slice(1,-1).split(", ").forEach(l=>{const[c,u]=l.split("=");c&&u!==void 0&&(s[c.trim()]=u.trim())}),t[r]=s}}}),t},xt={folwSteam:{label:"0.5 - 2.5"},flowGas:{label:"200 - 300"},tempProdukOut:{label:"55 - 70"},produkN:{label:"13.8 - 16.2"},produkP:{label:"9.2 - 10.2"},produkK:{label:"11.04 - 12.96"},moisture:{label:"Maks. 3"},kekerasan:{label:"Min. 1"},timbangan:{label:"50.00 - 50.3"},tonase:{label:"Min 110 Ton/Shift"}},zr=e=>{const t=le(e.awal||"0"),n=le(e.akhir||"0")-t,s=n/8/1e3;return{selisih:n,flowPerHour:s,costRp:0}},Vr=e=>{const t=le(e.awal||"0"),n=le(e.akhir||"0")-t,s=n/8;return{selisih:n,flowPerHour:s,costRp:0}},Ur=e=>e/1e3*266263,Hr=(e,t)=>e*.02831*1043.3294/1e6*5.65*t*8,bl=(e,t,r=2)=>(Math.random()*(t-e)+e).toFixed(r),eA=()=>({malam:bl(55,70,1),pagi:bl(55,70,1),sore:bl(55,70,1)}),tA=()=>({malam:bl(50,50.3,2),pagi:bl(50,50.3,2),sore:bl(50,50.3,2)}),Bs=({label:e,target:t,value:r,onChange:n,indikator:s,satuan:i})=>a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700",children:e}),a.jsxs("p",{className:"text-xs text-dark-400",children:[s," | ",i]})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:t})}),a.jsx("div",{children:a.jsx(he,{type:"text",placeholder:"Malam",value:r.malam,onChange:o=>n({...r,malam:o.target.value}),className:"text-sm"})}),a.jsx("div",{children:a.jsx(he,{type:"text",placeholder:"Pagi",value:r.pagi,onChange:o=>n({...r,pagi:o.target.value}),className:"text-sm"})}),a.jsx("div",{children:a.jsx(he,{type:"text",placeholder:"Sore",value:r.sore,onChange:o=>n({...r,sore:o.target.value}),className:"text-sm"})}),a.jsx("div",{})]}),rA=({plant:e})=>{var pe,je,Be,lt,fn,Fr,Pt,Gt,_o,Tn,$e,Do,ff,hf,Ng,Fw,Kw,zw,Vw,Uw,Hw,Ww;const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[v,y]=b.useState(null),[x,j]=b.useState(null),[w,S]=b.useState(null),[N,T]=b.useState(Zx),[A,F]=b.useState(""),[$,O]=b.useState(""),[_,z]=b.useState(String(new Date().getFullYear())),[J,Z]=b.useState(!1),[V,R]=b.useState(null),[B,I]=b.useState(!1),[U,ee]=b.useState(""),H=se=>{ee(se),I(!0)},[oe,ue]=b.useState(!1),[de,ye]=b.useState(""),[be,fe]=b.useState(!1),[xe,ve]=b.useState("edit"),[te,ne]=b.useState(null),[G,Q]=b.useState({steamMalam:{selisih:0,flowPerHour:0,costRp:0},steamPagi:{selisih:0,flowPerHour:0,costRp:0},steamSore:{selisih:0,flowPerHour:0,costRp:0},gasMalam:{selisih:0,flowPerHour:0,costRp:0},gasPagi:{selisih:0,flowPerHour:0,costRp:0},gasSore:{selisih:0,flowPerHour:0,costRp:0},totalSteamRp:0,totalGasRp:0}),[L,C]=b.useState(!1),[ae,X]=b.useState(""),K=(t==null?void 0:t.role)||"",P=yr(K),M=Nr(K),ie=Pr(K),D=fr(K),E=b.useCallback(async()=>{C(!0),X("");try{const{getExchangeRate:se}=await Re(async()=>{const{getExchangeRate:De}=await Promise.resolve().then(()=>Ie);return{getExchangeRate:De}},void 0),Ae=await se();Ae.success&&Ae.data?(T(De=>({...De,kursDollar:Ae.data.rate.toString()})),X(` Kurs diupdate: ${Ae.data.formatted}`)):X(" Gagal mengambil kurs, gunakan manual")}catch(se){console.error("Error fetching exchange rate:",se),X(" Gagal mengambil kurs, gunakan manual")}finally{C(!1)}},[]);b.useEffect(()=>{u&&!x&&E()},[u,x,E]);const q=b.useCallback(()=>{if(u&&!l){const se=document.querySelector("form");se&&se.requestSubmit()}},[u,l]);nr(q,u);const W=[{value:"NORMAL OPERASI",label:"NORMAL OPERASI"},{value:"ABNORMAL",label:"ABNORMAL"},{value:"SHUTDOWN",label:"SHUTDOWN"},{value:"START UP",label:"START UP"}];b.useEffect(()=>{const se=le(N.kursDollar||"16000"),Ae=zr(N.steamMalam||et),De=zr(N.steamPagi||et),Ze=zr(N.steamSore||et),Je=Vr(N.gasMalam||et),st=Vr(N.gasPagi||et),it=Vr(N.gasSore||et);Ae.costRp=Ur(Ae.selisih),De.costRp=Ur(De.selisih),Ze.costRp=Ur(Ze.selisih),Je.costRp=Hr(Je.selisih,se),st.costRp=Hr(st.selisih,se),it.costRp=Hr(it.selisih,se);const gt=Ae.costRp+De.costRp+Ze.costRp,ar=Je.costRp+st.costRp+it.costRp;Q({steamMalam:Ae,steamPagi:De,steamSore:Ze,gasMalam:Je,gasPagi:st,gasSore:it,totalSteamRp:gt,totalGasRp:ar})},[N.steamMalam,N.steamPagi,N.steamSore,N.gasMalam,N.gasPagi,N.gasSore,N.kursDollar]),b.useEffect(()=>{var se;(se=N.steamMalam)!=null&&se.akhir&&T(Ae=>{var De;return{...Ae,steamPagi:{...Ae.steamPagi,awal:((De=Ae.steamMalam)==null?void 0:De.akhir)||""}}})},[(pe=N.steamMalam)==null?void 0:pe.akhir]),b.useEffect(()=>{var se;(se=N.steamPagi)!=null&&se.akhir&&T(Ae=>{var De;return{...Ae,steamSore:{...Ae.steamSore,awal:((De=Ae.steamPagi)==null?void 0:De.akhir)||""}}})},[(je=N.steamPagi)==null?void 0:je.akhir]),b.useEffect(()=>{var se;(se=N.gasMalam)!=null&&se.akhir&&T(Ae=>{var De;return{...Ae,gasPagi:{...Ae.gasPagi,awal:((De=Ae.gasMalam)==null?void 0:De.akhir)||""}}})},[(Be=N.gasMalam)==null?void 0:Be.akhir]),b.useEffect(()=>{var se;(se=N.gasPagi)!=null&&se.akhir&&T(Ae=>{var De;return{...Ae,gasSore:{...Ae.gasSore,awal:((De=Ae.gasPagi)==null?void 0:De.akhir)||""}}})},[(lt=N.gasPagi)==null?void 0:lt.akhir]);const me=()=>{T(se=>({...se,dryerTempProdukOut:eA(),produkTimbangan:tA()}))};b.useEffect(()=>{(async()=>{c(!0);try{const{readData:Ae,SHEETS:De,getSheetNameByPlant:Ze}=await Re(async()=>{const{readData:it,SHEETS:gt,getSheetNameByPlant:ar}=await Promise.resolve().then(()=>Ie);return{readData:it,SHEETS:gt,getSheetNameByPlant:ar}},void 0),Je=Ze(De.KOP,e),st=await Ae(Je);if(st.success&&st.data){const it=st.data.map(gt=>({...jpe(gt),_plant:e})).sort((gt,ar)=>new Date(ar.tanggal).getTime()-new Date(gt.tanggal).getTime());o(it)}else o([])}catch(Ae){console.error("Error fetching KOP data:",Ae),o([])}finally{c(!1)}})()},[e]);const ke=async se=>{se.preventDefault(),c(!0);try{if(x){const Ae=ZT({...N,id:x,_plant:e}),De=await n("kop",Ae);if(De.success)o(Ze=>Ze.map(Je=>Je.id===x?{...N,id:x,_plant:e}:Je));else throw new Error(De.error||"Gagal mengupdate data")}else{const Ae=ZT({...N,_plant:e}),De=await r("kop",Ae);if(De.success&&De.data){const Ze={...N,_plant:e};De.data.id&&(Ze.id=De.data.id),o(Je=>[Ze,...Je])}else throw new Error(De.error||"Gagal menyimpan data")}d(!1),T(Zx),j(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Ae){console.error("Error saving KOP data:",Ae),alert(Ae instanceof Error?Ae.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},_e=se=>{R(se),Z(!0)},Ye=se=>{if(M){ne(se),ve("edit"),fe(!0);return}T(se),j(se.id||null),d(!0)},at=se=>{if(ie){const Ae=i.find(De=>De.id===se);Ae&&(ne(Ae),ve("delete"),fe(!0));return}S(se),h(!0)},mt=async()=>{if(w){c(!0);try{const se=await s("kop",{id:w,_plant:e});if(se.success)o(Ae=>Ae.filter(De=>De.id!==w)),h(!1),S(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(se.error||"Gagal menghapus data")}catch(se){console.error("Error deleting KOP data:",se),alert(se instanceof Error?se.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Qe=async se=>{if(!(!te||!t)){c(!0);try{const{createData:Ae,SHEETS:De}=await Re(async()=>{const{createData:Ze,SHEETS:Je}=await Promise.resolve().then(()=>Ie);return{createData:Ze,SHEETS:Je}},void 0);await Ae(De.APPROVAL_REQUESTS,{requestedBy:t.nama||t.namaLengkap,requestedByRole:t.role,requestedByPlant:t.plant,actionType:xe,targetSheet:"KOP",targetId:te.id,targetData:JSON.stringify(te),reason:se,status:"pending",requestedAt:new Date().toISOString()}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),fe(!1),ne(null)}catch(Ae){console.error("Error submitting approval:",Ae),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},zt=()=>{T({...Zx,tanggal:$t(),dryerTempProdukOut:eA(),produkTimbangan:tA()}),j(null),d(!0)},ua=se=>{y(se),k(!0)},Ta=()=>{var Kr,Wn,Gn,os,ls,cs,us,ds,fs,hs,ps,ms,gs,xs,vs,ys,bs,ks,ws,js,Ss,Ns,Ps,Ts,As,Os,Es,Cs,_s,Ds,Ms,$s,Nc;if(!v)return;const se=window.open("","_blank");if(!se)return;const Ae=le(v.kursDollar||"16000"),De=zr(v.steamMalam||et),Ze=zr(v.steamPagi||et),Je=zr(v.steamSore||et);De.costRp=Ur(De.selisih),Ze.costRp=Ur(Ze.selisih),Je.costRp=Ur(Je.selisih);const st=Vr(v.gasMalam||et),it=Vr(v.gasPagi||et),gt=Vr(v.gasSore||et);st.costRp=Hr(st.selisih,Ae),it.costRp=Hr(it.selisih,Ae),gt.costRp=Hr(gt.selisih,Ae);const ar=De.costRp+Ze.costRp+Je.costRp,Hn=st.costRp+it.costRp+gt.costRp,Aa=le(((Kr=v.produkTonase)==null?void 0:Kr.malam)||"0")+le(((Wn=v.produkTonase)==null?void 0:Wn.pagi)||"0")+le(((Gn=v.produkTonase)==null?void 0:Gn.sore)||"0");se.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>KOP - ${Ue(v.tanggal)}</title>
        <style>
          @page { size: A4 landscape; margin: 10mm; }
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 9pt; color: #000; }
          .container { width: 100%; }
          .header { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .header-left { font-weight: bold; }
          .header-right { text-align: right; }
          .title { font-size: 11pt; font-weight: bold; margin-bottom: 3px; }
          .subtitle { font-size: 9pt; color: #333; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 8px; }
          th, td { border: 1px solid #000; padding: 3px 5px; text-align: center; font-size: 8pt; }
          th { background-color: #f0f0f0; font-weight: bold; }
          .section-header { background-color: #e8e8e8; font-weight: bold; text-align: left !important; }
          .param-name { text-align: left !important; }
          .number { text-align: right !important; }
          .highlight-cyan { background-color: #E0F7FA; }
          .highlight-blue { background-color: #E3F2FD; }
          .highlight-orange { background-color: #FFF3E0; }
          .summary { margin-top: 15px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-left">
              <div class="title">KEY OPERATING PARAMETER (KOP)</div>
              <div class="subtitle">${v.jenisOperasi}</div>
              <div class="subtitle">PABRIK NPK GRANULAR ${e==="NPK1"?"1":"2"}</div>
            </div>
            <div class="header-right">
              <div class="title">${Ue(v.tanggal)}</div>
              <table style="width: auto; margin-left: auto;">
                <tr>
                  <th></th>
                  <th>23:00 - 07:00</th>
                  <th>07:00 - 15:00</th>
                  <th>15:00 - 23:00</th>
                </tr>
                <tr>
                  <td class="param-name"><strong>Section Head</strong></td>
                  <td class="highlight-cyan">${((os=v.shiftMalam)==null?void 0:os.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((ls=v.shiftPagi)==null?void 0:ls.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((cs=v.shiftSore)==null?void 0:cs.sectionHead)||""}</td>
                </tr>
                <tr>
                  <td class="param-name"><strong>Operator Panel</strong></td>
                  <td class="highlight-cyan">${((us=v.shiftMalam)==null?void 0:us.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((ds=v.shiftPagi)==null?void 0:ds.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((fs=v.shiftSore)==null?void 0:fs.operatorPanel)||""}</td>
                </tr>
              </table>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 30px;">NO</th>
                <th style="width: 150px;">PARAMETER</th>
                <th style="width: 80px;">INDIKATOR</th>
                <th style="width: 70px;">SATUAN</th>
                <th style="width: 90px;">TARGET</th>
                <th colspan="3">AKTUAL</th>
              </tr>
              <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>MALAM</th>
                <th>PAGI</th>
                <th>SORE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td class="section-header" colspan="7">Granulator</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">1.1. Flow Steam</td>
                <td>FI</td>
                <td>M3/H</td>
                <td>${xt.folwSteam.label}</td>
                <td class="highlight-blue"><strong>${De.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Ze.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Je.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td>2</td>
                <td class="section-header" colspan="7">Dryer</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.1. Flow Gas</td>
                <td>FT-202</td>
                <td>NM3/H</td>
                <td>${xt.flowGas.label}</td>
                <td class="highlight-orange"><strong>${st.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${it.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${gt.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.2. Temperatur Produk Out</td>
                <td>Temp R-002</td>
                <td>Deg.C</td>
                <td>${xt.tempProdukOut.label}</td>
                <td>${((hs=v.dryerTempProdukOut)==null?void 0:hs.malam)||""}</td>
                <td>${((ps=v.dryerTempProdukOut)==null?void 0:ps.pagi)||""}</td>
                <td>${((ms=v.dryerTempProdukOut)==null?void 0:ms.sore)||""}</td>
              </tr>
              <tr>
                <td>3</td>
                <td class="section-header" colspan="7">Produk NPK (15-10-12)</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.1. N</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${xt.produkN.label}</td>
                <td>${((gs=v.produkN)==null?void 0:gs.malam)||""}</td>
                <td>${((xs=v.produkN)==null?void 0:xs.pagi)||""}</td>
                <td>${((vs=v.produkN)==null?void 0:vs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.2. P</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${xt.produkP.label}</td>
                <td>${((ys=v.produkP)==null?void 0:ys.malam)||""}</td>
                <td>${((bs=v.produkP)==null?void 0:bs.pagi)||""}</td>
                <td>${((ks=v.produkP)==null?void 0:ks.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.3. K</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${xt.produkK.label}</td>
                <td>${((ws=v.produkK)==null?void 0:ws.malam)||""}</td>
                <td>${((js=v.produkK)==null?void 0:js.pagi)||""}</td>
                <td>${((Ss=v.produkK)==null?void 0:Ss.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.4. Moisture (H2O)</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${xt.moisture.label}</td>
                <td>${((Ns=v.produkMoisture)==null?void 0:Ns.malam)||""}</td>
                <td>${((Ps=v.produkMoisture)==null?void 0:Ps.pagi)||""}</td>
                <td>${((Ts=v.produkMoisture)==null?void 0:Ts.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.5. Kekerasan</td>
                <td>Laporan LAB</td>
                <td>Kgf</td>
                <td>${xt.kekerasan.label}</td>
                <td>${((As=v.produkKekerasan)==null?void 0:As.malam)||""}</td>
                <td>${((Os=v.produkKekerasan)==null?void 0:Os.pagi)||""}</td>
                <td>${((Es=v.produkKekerasan)==null?void 0:Es.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.6. Timbangan</td>
                <td>Laporan Shift</td>
                <td>Kg / Karung</td>
                <td>${xt.timbangan.label}</td>
                <td>${((Cs=v.produkTimbangan)==null?void 0:Cs.malam)||""}</td>
                <td>${((_s=v.produkTimbangan)==null?void 0:_s.pagi)||""}</td>
                <td>${((Ds=v.produkTimbangan)==null?void 0:Ds.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.7. Tonase</td>
                <td>Laporan Shift</td>
                <td>Tonase / Shift</td>
                <td>${xt.tonase.label}</td>
                <td><strong>${((Ms=v.produkTonase)==null?void 0:Ms.malam)||""} TON</strong></td>
                <td><strong>${(($s=v.produkTonase)==null?void 0:$s.pagi)||""} TON</strong></td>
                <td><strong>${((Nc=v.produkTonase)==null?void 0:Nc.sore)||""} TON</strong></td>
              </tr>
            </tbody>
          </table>

          <!-- Konsumsi Energi Detail -->
          <table style="margin-top: 15px; width: 48%; display: inline-table;">
            <tr>
              <th colspan="4" style="background-color: #E3F2FD;">KONSUMSI STEAM (M3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (M3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${Y(De.selisih)}</td>
              <td>${De.flowPerHour.toFixed(2)}</td>
              <td class="number">${Y(De.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${Y(Ze.selisih)}</td>
              <td>${Ze.flowPerHour.toFixed(2)}</td>
              <td class="number">${Y(Ze.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${Y(Je.selisih)}</td>
              <td>${Je.flowPerHour.toFixed(2)}</td>
              <td class="number">${Y(Je.costRp)}</td>
            </tr>
            <tr style="background-color: #E3F2FD;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${Y(ar)}</strong></td>
            </tr>
          </table>

          <table style="margin-top: 15px; width: 48%; display: inline-table; margin-left: 2%;">
            <tr>
              <th colspan="4" style="background-color: #FFF3E0;">KONSUMSI GAS (Nm3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (Nm3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${Y(st.selisih)}</td>
              <td>${st.flowPerHour.toFixed(2)}</td>
              <td class="number">${Y(st.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${Y(it.selisih)}</td>
              <td>${it.flowPerHour.toFixed(2)}</td>
              <td class="number">${Y(it.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${Y(gt.selisih)}</td>
              <td>${gt.flowPerHour.toFixed(2)}</td>
              <td class="number">${Y(gt.costRp)}</td>
            </tr>
            <tr style="background-color: #FFF3E0;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${Y(Hn)}</strong></td>
            </tr>
          </table>

          <div class="summary">
            <table style="width: auto;">
              <tr>
                <td style="border: none;"><strong>* Total Steam Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${Y(ar)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Gas Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${Y(Hn)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Tonase</strong></td>
                <td style="border: none;"></td>
                <td style="border: none; text-align: right;"><strong>${Y(Aa)} TON</strong></td>
              </tr>
              <tr>
                <td style="border: none; font-size: 7pt; color: #666;">Kurs Dollar: Rp ${Y(Ae)}</td>
                <td style="border: none;"></td>
                <td style="border: none;"></td>
              </tr>
            </table>
          </div>
        </div>
      </body>
      </html>
    `),se.document.close(),se.focus(),setTimeout(()=>{se.print(),se.close()},250),k(!1)},Co=()=>{var Wn,Gn,os,ls,cs,us,ds,fs,hs,ps,ms,gs,xs,vs,ys,bs,ks,ws,js,Ss,Ns,Ps,Ts,As,Os,Es,Cs,_s,Ds,Ms,$s,Nc,Gw,qw,Yw,Jw,Xw,Qw,Zw,ej,tj,rj,nj,aj,sj;if(!de){alert("Pilih tanggal terlebih dahulu");return}const se=i.find(C3=>C3.tanggal===de);if(!se){alert("Data tidak ditemukan untuk tanggal tersebut");return}const Ae=le(se.kursDollar||"16000"),De=zr(se.steamMalam||et),Ze=zr(se.steamPagi||et),Je=zr(se.steamSore||et);De.costRp=Ur(De.selisih),Ze.costRp=Ur(Ze.selisih),Je.costRp=Ur(Je.selisih);const st=Vr(se.gasMalam||et),it=Vr(se.gasPagi||et),gt=Vr(se.gasSore||et);st.costRp=Hr(st.selisih,Ae),it.costRp=Hr(it.selisih,Ae),gt.costRp=Hr(gt.selisih,Ae);const ar=De.costRp+Ze.costRp+Je.costRp,Hn=st.costRp+it.costRp+gt.costRp,Aa=le(((Wn=se.produkTonase)==null?void 0:Wn.malam)||"0")+le(((Gn=se.produkTonase)==null?void 0:Gn.pagi)||"0")+le(((os=se.produkTonase)==null?void 0:os.sore)||"0"),Kr=window.open("","_blank");Kr&&(Kr.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan KOP - ${Ue(se.tanggal)}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 10px; padding: 15px; }
          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }
          .header h1 { font-size: 16px; margin-bottom: 5px; }
          .header h2 { font-size: 12px; font-weight: normal; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 11px; }
          .section { margin-bottom: 15px; }
          .section-title { background: #f0f0f0; padding: 5px 10px; font-weight: bold; font-size: 11px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; font-size: 10px; }
          th, td { border: 1px solid #333; padding: 4px 6px; text-align: center; }
          th { background: #e0e0e0; font-weight: bold; }
          .text-left { text-align: left; }
          .text-right { text-align: right; }
          .highlight { background: #fffde7; }
          .total-row { background: #e3f2fd; font-weight: bold; }
          .cost { color: #2e7d32; }
          .footer { margin-top: 20px; display: flex; justify-content: space-between; }
          .signature { width: 30%; text-align: center; }
          .signature-line { border-top: 1px solid #000; margin-top: 50px; padding-top: 5px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>LAPORAN KEY OPERATING PARAMETER (KOP)</h1>
          <h2>PT PUPUK KUJANG CIKAMPEK - Pabrik NPK Granular ${e==="NPK1"?"1":"2"}</h2>
        </div>

        <div class="info-row">
          <div><strong>Tanggal:</strong> ${Ue(se.tanggal)}</div>
          <div><strong>Jenis Operasi:</strong> ${se.jenisOperasi}</div>
          <div><strong>Kurs Dollar:</strong> Rp ${Y(Ae)}</div>
        </div>

        <!-- Personel Section -->
        <div class="section">
          <div class="section-title">PERSONEL</div>
          <table>
            <thead>
              <tr>
                <th>Shift</th>
                <th>Section Head</th>
                <th>Operator Panel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Malam (23:00 - 07:00)</td>
                <td>${((ls=se.shiftMalam)==null?void 0:ls.sectionHead)||"-"}</td>
                <td>${((cs=se.shiftMalam)==null?void 0:cs.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Pagi (07:00 - 15:00)</td>
                <td>${((us=se.shiftPagi)==null?void 0:us.sectionHead)||"-"}</td>
                <td>${((ds=se.shiftPagi)==null?void 0:ds.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Sore (15:00 - 23:00)</td>
                <td>${((fs=se.shiftSore)==null?void 0:fs.sectionHead)||"-"}</td>
                <td>${((hs=se.shiftSore)==null?void 0:hs.operatorPanel)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Konsumsi Energi Section -->
        <div class="section">
          <div class="section-title">KONSUMSI ENERGI</div>
          <table>
            <thead>
              <tr>
                <th rowspan="2">Parameter</th>
                <th colspan="3">Shift Malam</th>
                <th colspan="3">Shift Pagi</th>
                <th colspan="3">Shift Sore</th>
                <th rowspan="2">Total Biaya (Rp)</th>
              </tr>
              <tr>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left"><strong>Steam (M3)</strong></td>
                <td>${Y(le(((ps=se.steamMalam)==null?void 0:ps.awal)||"0"))}</td>
                <td>${Y(le(((ms=se.steamMalam)==null?void 0:ms.akhir)||"0"))}</td>
                <td>${De.flowPerHour.toFixed(2)}</td>
                <td>${Y(le(((gs=se.steamPagi)==null?void 0:gs.awal)||"0"))}</td>
                <td>${Y(le(((xs=se.steamPagi)==null?void 0:xs.akhir)||"0"))}</td>
                <td>${Ze.flowPerHour.toFixed(2)}</td>
                <td>${Y(le(((vs=se.steamSore)==null?void 0:vs.awal)||"0"))}</td>
                <td>${Y(le(((ys=se.steamSore)==null?void 0:ys.akhir)||"0"))}</td>
                <td>${Je.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${Y(ar)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Gas (Nm3)</strong></td>
                <td>${Y(le(((bs=se.gasMalam)==null?void 0:bs.awal)||"0"))}</td>
                <td>${Y(le(((ks=se.gasMalam)==null?void 0:ks.akhir)||"0"))}</td>
                <td>${st.flowPerHour.toFixed(2)}</td>
                <td>${Y(le(((ws=se.gasPagi)==null?void 0:ws.awal)||"0"))}</td>
                <td>${Y(le(((js=se.gasPagi)==null?void 0:js.akhir)||"0"))}</td>
                <td>${it.flowPerHour.toFixed(2)}</td>
                <td>${Y(le(((Ss=se.gasSore)==null?void 0:Ss.awal)||"0"))}</td>
                <td>${Y(le(((Ns=se.gasSore)==null?void 0:Ns.akhir)||"0"))}</td>
                <td>${gt.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${Y(Hn)}</td>
              </tr>
              <tr class="total-row">
                <td colspan="10" class="text-right">Total Biaya Energi:</td>
                <td class="cost">Rp ${Y(ar+Hn)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Parameter Operasi Section -->
        <div class="section">
          <div class="section-title">PARAMETER OPERASI</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">Temperatur Produk Out (C)</td>
                <td>55 - 70</td>
                <td>${((Ps=se.dryerTempProdukOut)==null?void 0:Ps.malam)||"-"}</td>
                <td>${((Ts=se.dryerTempProdukOut)==null?void 0:Ts.pagi)||"-"}</td>
                <td>${((As=se.dryerTempProdukOut)==null?void 0:As.sore)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Produk NPK Section -->
        <div class="section">
          <div class="section-title">PRODUK NPK (15-10-12)</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">N (%)</td>
                <td>13.8 - 16.2</td>
                <td>${((Os=se.produkN)==null?void 0:Os.malam)||"-"}</td>
                <td>${((Es=se.produkN)==null?void 0:Es.pagi)||"-"}</td>
                <td>${((Cs=se.produkN)==null?void 0:Cs.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">P (%)</td>
                <td>9.2 - 10.2</td>
                <td>${((_s=se.produkP)==null?void 0:_s.malam)||"-"}</td>
                <td>${((Ds=se.produkP)==null?void 0:Ds.pagi)||"-"}</td>
                <td>${((Ms=se.produkP)==null?void 0:Ms.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">K (%)</td>
                <td>11.04 - 12.96</td>
                <td>${(($s=se.produkK)==null?void 0:$s.malam)||"-"}</td>
                <td>${((Nc=se.produkK)==null?void 0:Nc.pagi)||"-"}</td>
                <td>${((Gw=se.produkK)==null?void 0:Gw.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Moisture (%)</td>
                <td>Maks. 3</td>
                <td>${((qw=se.produkMoisture)==null?void 0:qw.malam)||"-"}</td>
                <td>${((Yw=se.produkMoisture)==null?void 0:Yw.pagi)||"-"}</td>
                <td>${((Jw=se.produkMoisture)==null?void 0:Jw.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Kekerasan (Kgf)</td>
                <td>Min. 1</td>
                <td>${((Xw=se.produkKekerasan)==null?void 0:Xw.malam)||"-"}</td>
                <td>${((Qw=se.produkKekerasan)==null?void 0:Qw.pagi)||"-"}</td>
                <td>${((Zw=se.produkKekerasan)==null?void 0:Zw.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Timbangan (Kg/Karung)</td>
                <td>50.00 - 50.3</td>
                <td>${((ej=se.produkTimbangan)==null?void 0:ej.malam)||"-"}</td>
                <td>${((tj=se.produkTimbangan)==null?void 0:tj.pagi)||"-"}</td>
                <td>${((rj=se.produkTimbangan)==null?void 0:rj.sore)||"-"}</td>
              </tr>
              <tr class="highlight">
                <td class="text-left"><strong>Tonase (Ton/Shift)</strong></td>
                <td>Min 110</td>
                <td><strong>${((nj=se.produkTonase)==null?void 0:nj.malam)||"-"}</strong></td>
                <td><strong>${((aj=se.produkTonase)==null?void 0:aj.pagi)||"-"}</strong></td>
                <td><strong>${((sj=se.produkTonase)==null?void 0:sj.sore)||"-"}</strong></td>
              </tr>
              <tr class="total-row">
                <td colspan="2" class="text-right"><strong>Total Tonase:</strong></td>
                <td colspan="3"><strong>${Y(Aa)} Ton</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary Section -->
        <div class="section">
          <div class="section-title">RINGKASAN</div>
          <table>
            <tbody>
              <tr>
                <td class="text-left" style="width: 40%"><strong>Total Produksi</strong></td>
                <td><strong>${Y(Aa)} Ton</strong></td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Steam</strong></td>
                <td class="cost">Rp ${Y(ar)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Gas</strong></td>
                <td class="cost">Rp ${Y(Hn)}</td>
              </tr>
              <tr class="total-row">
                <td class="text-left"><strong>Total Biaya Energi</strong></td>
                <td class="cost"><strong>Rp ${Y(ar+Hn)}</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer Signatures -->
        <div class="footer">
          <div class="signature">
            <div>Dibuat oleh:</div>
            <div class="signature-line">Operator</div>
          </div>
          <div class="signature">
            <div>Diperiksa oleh:</div>
            <div class="signature-line">Section Head</div>
          </div>
          <div class="signature">
            <div>Disetujui oleh:</div>
            <div class="signature-line">Manager</div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #666;">
          Dicetak pada: ${new Date().toLocaleString("id-ID")}
        </div>
      </body>
      </html>
    `),Kr.document.close(),Kr.focus(),setTimeout(()=>{Kr.print(),Kr.close()},250),ue(!1),ye(""))},is=i.filter(se=>{var st,it,gt;const Ae=((st=se.tanggal)==null?void 0:st.includes(A))||((it=se.jenisOperasi)==null?void 0:it.toLowerCase().includes(A.toLowerCase())),De=$?(gt=se.tanggal)==null?void 0:gt.startsWith($):!0,Je=new Date(se.tanggal).getFullYear()===parseInt(_);return Ae&&De&&Je});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Key Operating Parameter (KOP)"}),a.jsx(Te,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Pabrik NPK Granular ",e==="NPK1"?"1":"2"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{variant:"secondary",onClick:()=>ue(!0),className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Print Laporan"]}),!D&&P&&a.jsxs(ce,{onClick:zt,className:"gap-2",children:[a.jsx(Ft,{className:"h-4 w-4"}),"Tambah KOP"]})]})]}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{placeholder:"Cari berdasarkan tanggal atau jenis operasi...",value:A,onChange:se=>F(se.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-full md:w-32",children:a.jsx(Me,{value:_,onChange:se=>z(se.target.value),options:wpe})}),a.jsx("div",{className:"w-full md:w-48",children:a.jsx(he,{type:"month",value:$,onChange:se=>O(se.target.value),placeholder:"Filter Bulan"})})]})}),a.jsx(we,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-dark-50 border-b border-dark-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Tanggal"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Jenis Operasi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Total Tonase"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Steam (Rp)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Gas (Rp)"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-dark-600 uppercase",children:"Aksi"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100",children:l?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"Memuat data..."]})})}):is.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:[a.jsx(la,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"Tidak ada data KOP"]})}):is.map(se=>{var Kr,Wn,Gn;const Ae=le(((Kr=se.produkTonase)==null?void 0:Kr.malam)||"0")+le(((Wn=se.produkTonase)==null?void 0:Wn.pagi)||"0")+le(((Gn=se.produkTonase)==null?void 0:Gn.sore)||"0"),De=le(se.kursDollar||"16000"),Ze=zr(se.steamMalam||et),Je=zr(se.steamPagi||et),st=zr(se.steamSore||et),it=Vr(se.gasMalam||et),gt=Vr(se.gasPagi||et),ar=Vr(se.gasSore||et),Hn=Ur(Ze.selisih)+Ur(Je.selisih)+Ur(st.selisih),Aa=Hr(it.selisih,De)+Hr(gt.selisih,De)+Hr(ar.selisih,De);return a.jsxs("tr",{className:"hover:bg-dark-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"font-medium text-dark-900 dark:text-white",children:Ue(se.tanggal)})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(Te,{variant:se.jenisOperasi==="NORMAL OPERASI"?"success":"warning",children:se.jenisOperasi})}),a.jsxs("td",{className:"px-4 py-3 font-semibold text-primary-600",children:[Y(Ae)," TON"]}),a.jsxs("td",{className:"px-4 py-3 text-blue-700",children:["Rp ",Y(Hn)]}),a.jsxs("td",{className:"px-4 py-3 text-orange-700",children:["Rp ",Y(Aa)]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>_e(se),className:"p-2 text-dark-400 hover:text-dark-600 hover:bg-dark-100 rounded-lg transition-colors",title:"Lihat Detail",children:a.jsx(Ni,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>ua(se),className:"p-2 text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Print",children:a.jsx(Ir,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>H(se.id),className:"p-2 text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4"})}),!D&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Ye(se),className:"p-2 text-dark-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>at(se.id),className:"p-2 text-dark-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4"})})]})]})})]},se.id)})})]})})}),a.jsx(qe,{isOpen:u,onClose:()=>d(!1),title:x?"Edit KOP":"Tambah KOP Baru",size:"full",children:a.jsxs("form",{onSubmit:ke,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:N.tanggal,onChange:se=>T({...N,tanggal:se.target.value}),required:!0}),a.jsx(Me,{label:"Jenis Operasi",value:N.jenisOperasi,onChange:se=>T({...N,jenisOperasi:se.target.value}),options:W})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Xh,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(aa,{className:"h-4 w-4"})," Malam (23:00 - 07:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Section Head",value:((fn=N.shiftMalam)==null?void 0:fn.sectionHead)||"",onChange:se=>T({...N,shiftMalam:{...N.shiftMalam,sectionHead:se.target.value}}),placeholder:"Nama Section Head"}),a.jsx(he,{label:"Operator Panel",value:((Fr=N.shiftMalam)==null?void 0:Fr.operatorPanel)||"",onChange:se=>T({...N,shiftMalam:{...N.shiftMalam,operatorPanel:se.target.value}}),placeholder:"Nama Operator Panel"})]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(aa,{className:"h-4 w-4"})," Pagi (07:00 - 15:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Section Head",value:((Pt=N.shiftPagi)==null?void 0:Pt.sectionHead)||"",onChange:se=>T({...N,shiftPagi:{...N.shiftPagi,sectionHead:se.target.value}}),placeholder:"Nama Section Head"}),a.jsx(he,{label:"Operator Panel",value:((Gt=N.shiftPagi)==null?void 0:Gt.operatorPanel)||"",onChange:se=>T({...N,shiftPagi:{...N.shiftPagi,operatorPanel:se.target.value}}),placeholder:"Nama Operator Panel"})]})]}),a.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(aa,{className:"h-4 w-4"})," Sore (15:00 - 23:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Section Head",value:((_o=N.shiftSore)==null?void 0:_o.sectionHead)||"",onChange:se=>T({...N,shiftSore:{...N.shiftSore,sectionHead:se.target.value}}),placeholder:"Nama Section Head"}),a.jsx(he,{label:"Operator Panel",value:((Tn=N.shiftSore)==null?void 0:Tn.operatorPanel)||"",onChange:se=>T({...N,shiftSore:{...N.shiftSore,operatorPanel:se.target.value}}),placeholder:"Nama Operator Panel"})]})]})]})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(o8,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Steam (M3)"})]}),a.jsxs("div",{className:"mb-4 p-3 bg-amber-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(MS,{className:"h-4 w-4 text-amber-600"}),a.jsx("label",{className:"text-sm font-medium text-dark-700",children:"Kurs Dollar (Rp)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(he,{type:"text",value:N.kursDollar,onChange:se=>T({...N,kursDollar:se.target.value}),placeholder:"Contoh: 16000",className:"flex-1"}),a.jsx(ce,{type:"button",variant:"outline",onClick:E,disabled:L,className:"whitespace-nowrap",children:L?a.jsx(Qi,{className:"h-4 w-4 animate-spin"}):a.jsx(a.Fragment,{children:a.jsx(Qi,{className:"h-4 w-4 mr-1"})})})]}),ae&&a.jsx("p",{className:`text-xs mt-1 ${ae.startsWith("")?"text-green-600":"text-amber-600"}`,children:ae}),a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'* Kurs digunakan untuk perhitungan biaya Steam & Gas. Klik "Auto" untuk ambil kurs real-time.'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Awal Shift (M3)",type:"text",value:(($e=N.steamMalam)==null?void 0:$e.awal)||"",onChange:se=>T({...N,steamMalam:{...N.steamMalam,awal:se.target.value}})}),a.jsx(he,{label:"Akhir Shift (M3)",type:"text",value:((Do=N.steamMalam)==null?void 0:Do.akhir)||"",onChange:se=>T({...N,steamMalam:{...N.steamMalam,akhir:se.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[Y(G.steamMalam.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:G.steamMalam.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",Y(G.steamMalam.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Awal Shift (M3)",type:"text",value:((ff=N.steamPagi)==null?void 0:ff.awal)||"",onChange:se=>T({...N,steamPagi:{...N.steamPagi,awal:se.target.value}}),placeholder:"Auto dari akhir malam"}),a.jsx(he,{label:"Akhir Shift (M3)",type:"text",value:((hf=N.steamPagi)==null?void 0:hf.akhir)||"",onChange:se=>T({...N,steamPagi:{...N.steamPagi,akhir:se.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[Y(G.steamPagi.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:G.steamPagi.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",Y(G.steamPagi.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Awal Shift (M3)",type:"text",value:((Ng=N.steamSore)==null?void 0:Ng.awal)||"",onChange:se=>T({...N,steamSore:{...N.steamSore,awal:se.target.value}}),placeholder:"Auto dari akhir pagi"}),a.jsx(he,{label:"Akhir Shift (M3)",type:"text",value:((Fw=N.steamSore)==null?void 0:Fw.akhir)||"",onChange:se=>T({...N,steamSore:{...N.steamSore,akhir:se.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[Y(G.steamSore.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:G.steamSore.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",Y(G.steamSore.costRp)]})]})]})]})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total Steam Dalam Satu Hari"}),a.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["Rp ",Y(G.totalSteamRp)]})]})})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gx,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Gas (Nm3)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Awal Shift (Nm3)",type:"text",value:((Kw=N.gasMalam)==null?void 0:Kw.awal)||"",onChange:se=>T({...N,gasMalam:{...N.gasMalam,awal:se.target.value}})}),a.jsx(he,{label:"Akhir Shift (Nm3)",type:"text",value:((zw=N.gasMalam)==null?void 0:zw.akhir)||"",onChange:se=>T({...N,gasMalam:{...N.gasMalam,akhir:se.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[Y(G.gasMalam.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:G.gasMalam.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",Y(G.gasMalam.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Awal Shift (Nm3)",type:"text",value:((Vw=N.gasPagi)==null?void 0:Vw.awal)||"",onChange:se=>T({...N,gasPagi:{...N.gasPagi,awal:se.target.value}}),placeholder:"Auto dari akhir malam"}),a.jsx(he,{label:"Akhir Shift (Nm3)",type:"text",value:((Uw=N.gasPagi)==null?void 0:Uw.akhir)||"",onChange:se=>T({...N,gasPagi:{...N.gasPagi,akhir:se.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[Y(G.gasPagi.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:G.gasPagi.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",Y(G.gasPagi.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(he,{label:"Awal Shift (Nm3)",type:"text",value:((Hw=N.gasSore)==null?void 0:Hw.awal)||"",onChange:se=>T({...N,gasSore:{...N.gasSore,awal:se.target.value}}),placeholder:"Auto dari akhir pagi"}),a.jsx(he,{label:"Akhir Shift (Nm3)",type:"text",value:((Ww=N.gasSore)==null?void 0:Ww.akhir)||"",onChange:se=>T({...N,gasSore:{...N.gasSore,akhir:se.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[Y(G.gasSore.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:G.gasSore.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",Y(G.gasSore.costRp)]})]})]})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-orange-800",children:"Total Gas Dalam Satu Hari"}),a.jsxs("span",{className:"text-xl font-bold text-orange-900",children:["Rp ",Y(G.totalGasRp)]})]}),a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"* Rumus: BTU/h = gas  0.02831  1043.3294, MMBTU = BTU/1,000,000, $/h = MMBTU  5.65, Rp = $  kurs  8 jam"})]})]}),a.jsxs(we,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nv,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Parameter Operasi"})]}),a.jsx(ce,{type:"button",variant:"secondary",size:"sm",onClick:me,children:"Auto-Fill Temp & Timbangan"})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 py-2 bg-dark-100 rounded-lg mb-2 px-2",children:[a.jsx("div",{className:"col-span-2 text-xs font-semibold text-dark-600",children:"PARAMETER"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"TARGET"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"MALAM"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"PAGI"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"SORE"}),a.jsx("div",{})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-primary-50 text-primary-700 font-semibold px-3 py-2 rounded-lg mb-2",children:"1. Granulator"}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700",children:"1.1. Flow Steam"}),a.jsx("p",{className:"text-xs text-dark-400",children:"FI | M3/H"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:xt.folwSteam.label})}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:G.steamMalam.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:G.steamPagi.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:G.steamSore.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-secondary-50 text-secondary-700 font-semibold px-3 py-2 rounded-lg mb-2",children:"2. Dryer"}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700",children:"2.1. Flow Gas"}),a.jsx("p",{className:"text-xs text-dark-400",children:"FT-202 | NM3/H"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:xt.flowGas.label})}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:G.gasMalam.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:G.gasPagi.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:G.gasSore.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]}),a.jsx(Bs,{label:"2.2. Temperatur Produk Out",indikator:"Temp R-002",satuan:"Deg.C",target:xt.tempProdukOut.label,value:N.dryerTempProdukOut||Dr,onChange:se=>T({...N,dryerTempProdukOut:se})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-amber-50 text-amber-700 font-semibold px-3 py-2 rounded-lg mb-2",children:"3. Produk NPK (15-10-12)"}),a.jsx(Bs,{label:"3.1. N",indikator:"Laporan LAB",satuan:"%",target:xt.produkN.label,value:N.produkN||Dr,onChange:se=>T({...N,produkN:se})}),a.jsx(Bs,{label:"3.2. P",indikator:"Laporan LAB",satuan:"%",target:xt.produkP.label,value:N.produkP||Dr,onChange:se=>T({...N,produkP:se})}),a.jsx(Bs,{label:"3.3. K",indikator:"Laporan LAB",satuan:"%",target:xt.produkK.label,value:N.produkK||Dr,onChange:se=>T({...N,produkK:se})}),a.jsx(Bs,{label:"3.4. Moisture (H2O)",indikator:"Laporan LAB",satuan:"%",target:xt.moisture.label,value:N.produkMoisture||Dr,onChange:se=>T({...N,produkMoisture:se})}),a.jsx(Bs,{label:"3.5. Kekerasan",indikator:"Laporan LAB",satuan:"Kgf",target:xt.kekerasan.label,value:N.produkKekerasan||Dr,onChange:se=>T({...N,produkKekerasan:se})}),a.jsx(Bs,{label:"3.6. Timbangan",indikator:"Laporan Shift",satuan:"Kg/Karung",target:xt.timbangan.label,value:N.produkTimbangan||Dr,onChange:se=>T({...N,produkTimbangan:se})}),a.jsx(Bs,{label:"3.7. Tonase",indikator:"Laporan Shift",satuan:"Ton/Shift",target:xt.tonase.label,value:N.produkTonase||Dr,onChange:se=>T({...N,produkTonase:se})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),a.jsxs(ce,{type:"submit",disabled:l,className:"gap-2",children:[a.jsx(fh,{className:"h-4 w-4"}),l?"Menyimpan...":x?"Perbarui":"Simpan"]})]})]})}),a.jsx(qe,{isOpen:m,onClose:()=>k(!1),title:"Preview Print KOP",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-dark-600",children:["Anda akan mencetak KOP untuk tanggal"," ",a.jsx("strong",{children:v&&Ue(v.tanggal)})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(ce,{variant:"secondary",onClick:()=>k(!1),children:"Batal"}),a.jsxs(ce,{onClick:Ta,className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak Sekarang"]})]})]})}),a.jsx(qe,{isOpen:oe,onClose:()=>{ue(!1),ye("")},title:"Print Laporan KOP",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-dark-600",children:"Pilih tanggal untuk mencetak laporan KOP lengkap"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tanggal"}),a.jsxs("select",{value:de,onChange:se=>ye(se.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"",children:"-- Pilih Tanggal --"}),i.sort((se,Ae)=>new Date(Ae.tanggal).getTime()-new Date(se.tanggal).getTime()).map(se=>a.jsxs("option",{value:se.tanggal,children:[Ue(se.tanggal)," - ",se.jenisOperasi]},se.id))]})]}),de&&a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Preview:"})," Laporan akan dicetak untuk tanggal"," ",a.jsx("strong",{children:Ue(de)})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(ce,{variant:"secondary",onClick:()=>{ue(!1),ye("")},children:"Batal"}),a.jsxs(ce,{onClick:Co,disabled:!de,className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak Laporan"]})]})]})}),a.jsx(qe,{isOpen:J,onClose:()=>{Z(!1),R(null)},title:"Detail Key Operating Parameter",size:"full",children:V&&(()=>{var Aa,Kr,Wn,Gn,os,ls,cs,us,ds,fs,hs,ps,ms,gs,xs,vs,ys,bs,ks,ws,js,Ss,Ns,Ps,Ts,As,Os,Es,Cs,_s,Ds,Ms,$s;const se=le(V.kursDollar||"16000"),Ae=zr(V.steamMalam||et),De=zr(V.steamPagi||et),Ze=zr(V.steamSore||et);Ae.costRp=Ur(Ae.selisih),De.costRp=Ur(De.selisih),Ze.costRp=Ur(Ze.selisih);const Je=Vr(V.gasMalam||et),st=Vr(V.gasPagi||et),it=Vr(V.gasSore||et);Je.costRp=Hr(Je.selisih,se),st.costRp=Hr(st.selisih,se),it.costRp=Hr(it.selisih,se);const gt=Ae.costRp+De.costRp+Ze.costRp,ar=Je.costRp+st.costRp+it.costRp,Hn=le(((Aa=V.produkTonase)==null?void 0:Aa.malam)||"0")+le(((Kr=V.produkTonase)==null?void 0:Kr.pagi)||"0")+le(((Wn=V.produkTonase)==null?void 0:Wn.sore)||"0");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Key Operating Parameter"}),a.jsxs("h2",{className:"text-2xl font-bold mt-1",children:["NPK GRANULAR ",e==="NPK1"?"1":"2"]}),a.jsx("p",{className:"text-primary-100 text-sm mt-1",children:Ue(V.tanggal)})]}),a.jsx(Te,{variant:V.jenisOperasi==="NORMAL OPERASI"?"success":"warning",className:"bg-white/20 text-white border-0 text-base px-4 py-2",children:V.jenisOperasi})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-4 border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-lg",children:a.jsx(Nv,{className:"h-6 w-6 text-green-700 dark:text-green-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Total Tonase"}),a.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[Y(Hn)," TON"]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-lg",children:a.jsx(Wi,{className:"h-6 w-6 text-blue-700 dark:text-blue-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium",children:"Biaya Steam"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:["Rp ",Y(gt)]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-orange-200 dark:bg-orange-800 rounded-lg",children:a.jsx(gx,{className:"h-6 w-6 text-orange-700 dark:text-orange-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium",children:"Biaya Gas"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["Rp ",Y(ar)]})]})]})})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Xh,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Posisi"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam (23:00-07:00)"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi (07:00-15:00)"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore (15:00-23:00)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Section Head"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Gn=V.shiftMalam)==null?void 0:Gn.sectionHead)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((os=V.shiftPagi)==null?void 0:os.sectionHead)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((ls=V.shiftSore)==null?void 0:ls.sectionHead)||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Operator Panel"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((cs=V.shiftMalam)==null?void 0:cs.operatorPanel)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((us=V.shiftPagi)==null?void 0:us.operatorPanel)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((ds=V.shiftSore)==null?void 0:ds.operatorPanel)||"-"})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Wi,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Konsumsi Steam (M3)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50",children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-700 dark:text-blue-300",children:"Shift"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Selisih"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Flow (M3/H)"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Biaya (Rp)"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Malam"}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(Ae.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Ae.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(Ae.costRp)})]}),a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Pagi"}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(De.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:De.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(De.costRp)})]}),a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Sore"}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(Ze.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Ze.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(Ze.costRp)})]}),a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50 font-semibold text-blue-800 dark:text-blue-200",children:[a.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),a.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",Y(gt)]})]})]})]})})]}),a.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gx,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300",children:"Konsumsi Gas (Nm3)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50",children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-orange-700 dark:text-orange-300",children:"Shift"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Selisih"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Flow (Nm3/H)"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Biaya (Rp)"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Malam"}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(Je.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Je.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(Je.costRp)})]}),a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Pagi"}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(st.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:st.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(st.costRp)})]}),a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Sore"}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(it.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:it.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Y(it.costRp)})]}),a.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50 font-semibold text-orange-800 dark:text-orange-200",children:[a.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),a.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",Y(ar)]})]})]})]})})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(la,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Parameter Produk NPK (15-10-12)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Parameter"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Target"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i8,{className:"h-4 w-4 text-red-500"}),"Temp Produk Out (C)"]})}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.tempProdukOut.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((fs=V.dryerTempProdukOut)==null?void 0:fs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((hs=V.dryerTempProdukOut)==null?void 0:hs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ps=V.dryerTempProdukOut)==null?void 0:ps.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"N (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.produkN.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ms=V.produkN)==null?void 0:ms.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((gs=V.produkN)==null?void 0:gs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((xs=V.produkN)==null?void 0:xs.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"P (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.produkP.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((vs=V.produkP)==null?void 0:vs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ys=V.produkP)==null?void 0:ys.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((bs=V.produkP)==null?void 0:bs.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"K (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.produkK.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ks=V.produkK)==null?void 0:ks.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ws=V.produkK)==null?void 0:ws.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((js=V.produkK)==null?void 0:js.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Moisture (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.moisture.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ss=V.produkMoisture)==null?void 0:Ss.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ns=V.produkMoisture)==null?void 0:Ns.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ps=V.produkMoisture)==null?void 0:Ps.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Kekerasan (Kgf)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.kekerasan.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ts=V.produkKekerasan)==null?void 0:Ts.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((As=V.produkKekerasan)==null?void 0:As.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Os=V.produkKekerasan)==null?void 0:Os.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Timbangan (Kg/Karung)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.timbangan.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Es=V.produkTimbangan)==null?void 0:Es.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Cs=V.produkTimbangan)==null?void 0:Cs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((_s=V.produkTimbangan)==null?void 0:_s.sore)||"-"})]}),a.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/30",children:[a.jsx("td",{className:"px-4 py-3 font-semibold text-green-700 dark:text-green-300",children:"Tonase (Ton/Shift)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:xt.tonase.label}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Ds=V.produkTonase)==null?void 0:Ds.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Ms=V.produkTonase)==null?void 0:Ms.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:(($s=V.produkTonase)==null?void 0:$s.sore)||"-"})]})]})]})})]}),a.jsxs("div",{className:"bg-dark-100 dark:bg-dark-700 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(MS,{className:"h-5 w-5 text-dark-500"}),a.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Kurs Dollar yang digunakan:"})]}),a.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:["Rp ",Y(se)]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-dark-200 dark:border-dark-700",children:[a.jsx(ce,{variant:"secondary",onClick:()=>{Z(!1),R(null)},children:"Tutup"}),a.jsxs(ce,{onClick:()=>{Z(!1),ua(V)},className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak"]})]})]})})()}),a.jsx(Xt,{isOpen:f,onClose:()=>h(!1),onConfirm:mt,title:"Hapus Data KOP",message:"Apakah Anda yakin ingin menghapus data KOP ini? Tindakan ini tidak dapat dibatalkan.",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:be,onClose:()=>{fe(!1),ne(null)},onSubmit:Qe,action:xe,itemName:"data KOP",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!"}),a.jsx(Br,{isOpen:B,onClose:()=>{I(!1),ee("")},sheetName:e==="NPK1"?"kop_NPK1":"kop",recordId:U,title:"Log Aktivitas KOP"})]})},t0=new Date().getFullYear(),Spe=[...Array.from({length:t0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(t0+1),label:String(t0+1)}],Fs=e=>e==null?"0.00":e.toFixed(2),r0=e=>{if(!e||e==="")return 0;const t=parseFloat(e);return isNaN(t)?0:t},E3=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Dolomite",label:"Dolomite"},{value:"Clay",label:"Clay"}],Npe=[...E3],tu={tanggal:$t(),bahanBaku:"",stockAwal:0,bahanBakuIn:0,bahanBakuOut:0,stockAkhir:0},nA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(tu),[w,S]=b.useState(""),[N,T]=b.useState("Urea"),[A,F]=b.useState(String(new Date().getFullYear())),[$,O]=b.useState({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),[_,z]=b.useState(!1),[J,Z]=b.useState("edit"),[V,R]=b.useState(null),[B,I]=b.useState(!1),[U,ee]=b.useState(""),H=P=>{ee(P),I(!0)},oe=(t==null?void 0:t.role)||"",ue=yr(oe),de=b.useCallback(()=>{if(u&&!l){const P=document.querySelector("form");P&&P.requestSubmit()}},[u,l]);nr(de,u);const ye=Nr(oe),be=Pr(oe),fe=fr(oe);b.useEffect(()=>{(async()=>{c(!0);try{const{readData:M,SHEETS:ie,getSheetNameByPlant:D}=await Re(async()=>{const{readData:W,SHEETS:me,getSheetNameByPlant:ke}=await Promise.resolve().then(()=>Ie);return{readData:W,SHEETS:me,getSheetNameByPlant:ke}},void 0),E=D(ie.PEMANTAUAN_BAHAN_BAKU,e),q=await M(E);if(q.success&&q.data){const W=q.data.map(me=>({...me,_plant:e})).sort((me,ke)=>new Date(ke.tanggal).getTime()-new Date(me.tanggal).getTime());o(W)}else o([])}catch(M){console.error("Error fetching data:",M),o([])}finally{c(!1)}})()},[e]),b.useEffect(()=>{const P=r0($.stockAwal),M=r0($.bahanBakuIn),ie=r0($.bahanBakuOut),D=P+M-ie;j(E=>({...E,stockAwal:P,bahanBakuIn:M,bahanBakuOut:ie,stockAkhir:D>=0?D:0}))},[$.stockAwal,$.bahanBakuIn,$.bahanBakuOut]),b.useEffect(()=>{if(x.bahanBaku&&!m){const P=i.filter(M=>M.bahanBaku===x.bahanBaku).sort((M,ie)=>new Date(ie.tanggal).getTime()-new Date(M.tanggal).getTime())[0];P&&(j(M=>({...M,stockAwal:P.stockAkhir})),O(M=>({...M,stockAwal:String(P.stockAkhir)})))}},[x.bahanBaku,i,m]);const xe=async P=>{P.preventDefault(),c(!0);try{if(m){const M={...x,id:m,_plant:e},ie=await n("pemantauan_bahan_baku",M);if(ie.success)o(D=>D.map(E=>E.id===m?{...x,id:m,_plant:e}:E));else throw new Error(ie.error||"Gagal mengupdate data")}else{const M={...x,_plant:e},ie=await r("pemantauan_bahan_baku",M);if(ie.success&&ie.data){const D={...ie.data,_plant:e};o(E=>[D,...E].sort((q,W)=>new Date(W.tanggal).getTime()-new Date(q.tanggal).getTime()))}else throw new Error(ie.error||"Gagal menambah data")}d(!1),k(null),j(tu),O({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),g(!0)}catch(M){console.error("Error saving data:",M),alert(M instanceof Error?M.message:"Gagal menyimpan data")}finally{c(!1)}},ve=P=>{fe||(ye?(R(P),Z("edit"),z(!0)):(j(P),O({stockAwal:String(P.stockAwal||""),bahanBakuIn:String(P.bahanBakuIn||""),bahanBakuOut:String(P.bahanBakuOut||"")}),k(P.id||null),d(!0)))},te=P=>{fe||(be?(y(P),Z("delete"),z(!0)):(y(P),h(!0)))},ne=async()=>{if(v){c(!0);try{const P=await s("pemantauan_bahan_baku",{id:v,_plant:e});if(P.success)o(M=>M.filter(ie=>ie.id!==v));else throw new Error(P.error||"Gagal menghapus data");h(!1),y(null),g(!0)}catch(P){console.error("Error deleting data:",P),alert(P instanceof Error?P.message:"Gagal menghapus data")}finally{c(!1)}}},G=async P=>{try{const{createData:M,SHEETS:ie}=await Re(async()=>{const{createData:q,SHEETS:W}=await Promise.resolve().then(()=>Ie);return{createData:q,SHEETS:W}},void 0),D=J==="edit"?V:i.find(q=>q.id===v),E={requestBy:(t==null?void 0:t.username)||"",requestByName:(t==null?void 0:t.nama)||(t==null?void 0:t.username)||"",requestDate:new Date().toISOString(),action:J,sheetType:`pemantauan_bahan_baku${e==="NPK1"?"_NPK1":""}`,dataId:(D==null?void 0:D.id)||"",dataPreview:JSON.stringify({tanggal:D==null?void 0:D.tanggal,bahanBaku:D==null?void 0:D.bahanBaku,stockAkhir:D==null?void 0:D.stockAkhir}),reason:P,status:"pending",requesterPlant:e};await M(ie.APPROVAL_REQUESTS,E),z(!1),R(null),y(null),alert("Permintaan approval telah dikirim")}catch(M){console.error("Error submitting approval:",M),alert("Gagal mengirim permintaan approval")}},L=(()=>{const P=i.filter(me=>me.bahanBaku===N),M=P.filter(me=>me.tanggal===$t()),ie=P.sort((me,ke)=>new Date(ke.tanggal).getTime()-new Date(me.tanggal).getTime())[0],D=(ie==null?void 0:ie.stockAkhir)||0,E=M.reduce((me,ke)=>me+ke.bahanBakuIn,0),q=M.reduce((me,ke)=>me+ke.bahanBakuOut,0),W=P.length;return{totalStockAkhir:D,totalBahanBakuIn:E,totalBahanBakuOut:q,totalRecords:W,lastDate:(ie==null?void 0:ie.tanggal)||"-"}})(),C=i.filter(P=>{var q,W;const M=N?P.bahanBaku===N:!0,ie=((q=P.bahanBaku)==null?void 0:q.toLowerCase().includes(w.toLowerCase()))||((W=P.tanggal)==null?void 0:W.includes(w)),E=new Date(P.tanggal).getFullYear()===parseInt(A);return M&&ie&&E}),X=(()=>{if(!N)return null;const P=i.filter(ie=>ie.bahanBaku===N),M=P.sort((ie,D)=>new Date(D.tanggal).getTime()-new Date(ie.tanggal).getTime())[0];return{currentStock:(M==null?void 0:M.stockAkhir)||0,totalRecords:P.length}})(),K=[{key:"tanggal",header:"Tanggal",sortable:!0,render:P=>Ue(P)},{key:"bahanBaku",header:"Bahan Baku",render:P=>a.jsx(Te,{variant:"default",children:P})},{key:"stockAwal",header:"Stock Awal",render:P=>a.jsxs("span",{className:"font-medium",children:[Fs(P)," Ton"]})},{key:"bahanBakuIn",header:"Bahan Baku In",render:P=>a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["+",Fs(P)," Ton"]})},{key:"bahanBakuOut",header:"Bahan Baku Out",render:P=>a.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",Fs(P)," Ton"]})},{key:"stockAkhir",header:"Stock Akhir",render:P=>a.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[Fs(P)," Ton"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Pemantauan Bahan Baku - ",e]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Monitor stok bahan baku harian"})]}),ue&&a.jsxs(ce,{onClick:()=>{j(tu),O({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),k(null),d(!0)},children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(we,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:["Stock Akhir ",N]}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:[Fs(L.totalStockAkhir)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:a.jsx(yi,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-2",children:["Update terakhir: ",L.lastDate]})]})}),a.jsx(we,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:[N," Masuk Hari Ini"]}),a.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:["+",Fs(L.totalBahanBakuIn)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:a.jsx(di,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-green-500 dark:text-green-400 mt-2",children:["Total ",N," yang masuk"]})]})}),a.jsx(we,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:[N," Keluar Hari Ini"]}),a.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:["-",Fs(L.totalBahanBakuOut)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:a.jsx(gl,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-red-500 dark:text-red-400 mt-2",children:["Total ",N," yang digunakan"]})]})}),a.jsx(we,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:["Total Record ",N]}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:[L.totalRecords," ",a.jsx("span",{className:"text-sm font-normal",children:"Data"})]})]}),a.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:a.jsx(Am,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-2",children:["Jumlah pencatatan ",N]})]})})]}),a.jsx(we,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-800 rounded-lg",children:a.jsx(yi,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Informasi Pemantauan Bahan Baku"}),a.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2 space-y-1 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Stock Awal:"})," Input manual di awal bulan, selanjutnya otomatis terisi dari stock akhir terakhir"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Stock Akhir:"})," Dihitung otomatis = Stock Awal + Bahan Baku In - Bahan Baku Out"]}),a.jsxs("li",{children:["Gunakan ",a.jsx("strong",{children:"Filter Bahan Baku"})," di atas tabel untuk melihat data per jenis bahan baku"]}),a.jsx("li",{children:"Bahan baku yang dipantau: Urea, DAP, KCL, ZA, Dolomite, dan Clay"})]})]})]})})}),a.jsxs(we,{children:[a.jsxs(tt,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(rt,{children:"Data Pemantauan Bahan Baku"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(Me,{value:A,onChange:P=>F(P.target.value),options:Spe,className:"w-full sm:w-28"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(w_,{className:"h-4 w-4 text-gray-500"}),a.jsx("select",{value:N,onChange:P=>T(P.target.value),className:"px-3 py-2 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:Npe.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))})]}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(he,{placeholder:"Cari tanggal...",value:w,onChange:P=>S(P.target.value),className:"pl-10"})]})]})]}),N&&X&&a.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:"primary",children:N}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Stock Terkini:"," ",a.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[Fs(X.currentStock)," Ton"]})]})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[X.totalRecords," data tercatat"]})]})})]}),a.jsx(rr,{data:C,columns:K,loading:l,searchable:!1,actions:fe?P=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),H(P.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):P=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),H(P.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),ve(P)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),te(P.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),k(null),j(tu),O({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},title:m?"Edit Data Pemantauan":"Tambah Data Pemantauan",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:P=>j({...x,tanggal:P.target.value}),required:!0}),a.jsx(Me,{label:"Bahan Baku",value:x.bahanBaku,onChange:P=>j({...x,bahanBaku:P.target.value}),options:E3,placeholder:"Pilih Bahan Baku",required:!0}),a.jsx(he,{label:"Stock Awal (Ton)",type:"text",inputMode:"decimal",value:$.stockAwal,onChange:P=>{const M=P.target.value;(/^[0-9]*\.?[0-9]*$/.test(M)||M==="")&&O(ie=>({...ie,stockAwal:M}))},placeholder:"0.00",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"* Stock awal otomatis terisi dari stock akhir terakhir untuk bahan baku yang dipilih"}),a.jsx(he,{label:"Bahan Baku In (Ton)",type:"text",inputMode:"decimal",value:$.bahanBakuIn,onChange:P=>{const M=P.target.value;(/^[0-9]*\.?[0-9]*$/.test(M)||M==="")&&O(ie=>({...ie,bahanBakuIn:M}))},placeholder:"0.00",required:!0}),a.jsx(he,{label:"Bahan Baku Out (Ton)",type:"text",inputMode:"decimal",value:$.bahanBakuOut,onChange:P=>{const M=P.target.value;(/^[0-9]*\.?[0-9]*$/.test(M)||M==="")&&O(ie=>({...ie,bahanBakuOut:M}))},placeholder:"0.00",required:!0}),a.jsx(he,{label:"Stock Akhir (Ton)",type:"number",value:x.stockAkhir||0,disabled:!0,className:"bg-gray-100 dark:bg-gray-700"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>{d(!1),k(null),j(tu),O({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},children:"Batal"}),a.jsx(ce,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ne,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:_,onClose:()=>{z(!1),R(null),y(null)},onSubmit:G,action:J,loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:B,onClose:()=>{I(!1),ee("")},sheetName:e==="NPK1"?"pemantauan_bahan_baku_NPK1":"pemantauan_bahan_baku",recordId:U,title:"Log Aktivitas Pemantauan Bahan Baku"})]})},n0=new Date().getFullYear(),Ppe=[...Array.from({length:n0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(n0+1),label:String(n0+1)}],ru={tanggal:$t(),nomorWR:"",item:"",area:"",eksekutor:"",include:"",keterangan:""},Tpe=[{value:"Mekanik",label:"Mekanik"},{value:"Bengkel",label:"Bengkel"},{value:"Listrik",label:"Listrik"},{value:"Craftshop",label:"Craftshop"},{value:"Alat Berat",label:"Alat Berat"},{value:"Instrument",label:"Instrument"},{value:"Inspeksi",label:"Inspeksi"}],aA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(ru),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),A=e,[F,$]=b.useState(!1),[O,_]=b.useState("edit"),[z,J]=b.useState(null),[Z,V]=b.useState(!1),[R,B]=b.useState(null),[I,U]=b.useState(!1),[ee,H]=b.useState(""),oe=K=>{H(K),U(!0)},ue=fr((t==null?void 0:t.role)||""),de=yr((t==null?void 0:t.role)||"")&&!ue,ye=b.useCallback(()=>{if(u&&!l){const K=document.querySelector("form");K&&K.requestSubmit()}},[u,l]);nr(ye,u);const be=Nr((t==null?void 0:t.role)||""),fe=Pr((t==null?void 0:t.role)||"");b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:P,SHEETS:M}=await Re(async()=>{const{fetchDataByPlant:D,SHEETS:E}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:D,SHEETS:E}},void 0),ie=await P(M.WORK_REQUEST);if(ie.success&&ie.data){const D=[...ie.data].sort((E,q)=>new Date(q.tanggal).getTime()-new Date(E.tanggal).getTime());o(D)}else o([])}catch(P){console.error("Error fetching data:",P),o([])}finally{c(!1)}})()},[]);const xe=async K=>{K.preventDefault(),c(!0);try{if(m){const P={...x,id:m,_plant:A},M=await n(xr.WORK_REQUEST,P);if(M.success)o(ie=>ie.map(D=>D.id===m?{...x,id:m,_plant:A}:D));else throw new Error(M.error||"Gagal mengupdate data")}else{const P={...x,_plant:A},M=await r(xr.WORK_REQUEST,P);if(M.success&&M.data){const ie={...M.data,_plant:A};o(D=>[ie,...D])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),j(ru),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(P){console.error("Error saving data:",P),alert(P instanceof Error?P.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ve=K=>{if(be){J(K),_("edit"),$(!0);return}j(K),k(K.id||null),d(!0)},te=K=>{if(fe){y(K),_("delete"),$(!0);return}y(K),h(!0)},ne=async K=>{c(!0);try{const{createData:P,SHEETS:M}=await Re(async()=>{const{createData:E,SHEETS:q}=await Promise.resolve().then(()=>Ie);return{createData:E,SHEETS:q}},void 0),ie={type:"work_request",action:O,itemId:O==="edit"?z==null?void 0:z.id:v,itemData:O==="edit"?z:i.find(E=>E.id===v),reason:K,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},D=await P(M.APPROVAL_REQUESTS,ie);if(D.success)$(!1),J(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(D.error||"Gagal mengirim permintaan")}catch(P){console.error("Error submitting approval:",P),alert(P instanceof Error?P.message:"Terjadi kesalahan")}finally{c(!1)}},G=async()=>{if(v){c(!0);try{const K=i.find(M=>M.id===v),P=await s(xr.WORK_REQUEST,{id:v,_plant:K==null?void 0:K._plant});if(P.success)o(M=>M.filter(ie=>ie.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(P.error||"Gagal menghapus data")}catch(K){console.error("Error deleting data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Q=()=>{j(ru),k(null),d(!0)},L=K=>{B(K),V(!0)},C=i.filter(K=>{var E,q,W,me,ke,_e;const P=((E=K.tanggal)==null?void 0:E.includes(w))||((q=K.nomorWR)==null?void 0:q.toLowerCase().includes(w.toLowerCase()))||((W=K.item)==null?void 0:W.toLowerCase().includes(w.toLowerCase()))||((me=K.area)==null?void 0:me.toLowerCase().includes(w.toLowerCase()))||((ke=K.keterangan)==null?void 0:ke.toLowerCase().includes(w.toLowerCase()))||((_e=K.include)==null?void 0:_e.toLowerCase().includes(w.toLowerCase())),M=K._plant===A,D=new Date(K.tanggal).getFullYear()===parseInt(N);return P&&M&&D}),ae=[{key:"tanggal",header:"Tanggal",sortable:!0,render:K=>Ue(K)},{key:"nomorWR",header:"Nomor WR"},{key:"item",header:"Item"},{key:"area",header:"Area"},{key:"eksekutor",header:"Eksekutor"},{key:"include",header:"Include"},{key:"keterangan",header:"Keterangan",render:K=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:K})}],X=C.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Work Request ",A==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola permintaan perbaikan dan maintenance"})]}),a.jsx("div",{className:"flex items-center gap-3",children:de&&a.jsxs(ce,{onClick:Q,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Buat Work Request"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(la,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Work Request"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:X})]})]})})}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Work Request - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:K=>T(K.target.value),options:Ppe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:K=>S(K.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:C,columns:ae,loading:l,searchable:!1,actions:K=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),L(K)},title:"Lihat Detail",children:a.jsx(Ni,{className:"h-4 w-4 text-blue-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),oe(K.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),!ue&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),ve(K)},title:be?"Ajukan Edit (perlu approval)":"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),te(K.id)},title:fe?"Ajukan Hapus (perlu approval)":"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(ru),k(null)},title:m?"Edit Work Request":"Buat Work Request",size:"lg",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:K=>j(P=>({...P,tanggal:K.target.value})),required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Nomor WR",type:"text",value:x.nomorWR,onChange:K=>j(P=>({...P,nomorWR:K.target.value})),placeholder:"Nomor Work Request",required:!0}),a.jsx(he,{label:"Item",type:"text",value:x.item,onChange:K=>j(P=>({...P,item:K.target.value})),placeholder:"Item",required:!0})]}),a.jsx(he,{label:"Area",type:"text",value:x.area,onChange:K=>j(P=>({...P,area:K.target.value})),placeholder:"Area",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Me,{label:"Eksekutor",value:x.eksekutor,onChange:K=>j(P=>({...P,eksekutor:K.target.value})),options:Tpe,placeholder:"Pilih eksekutor",required:!0}),a.jsx(he,{label:"Include",type:"text",value:x.include,onChange:K=>j(P=>({...P,include:K.target.value})),placeholder:"Include"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Keterangan"}),a.jsx("textarea",{value:x.keterangan,onChange:K=>j(P=>({...P,keterangan:K.target.value})),placeholder:"Keterangan detail work request...",className:"input-field min-h-[100px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(ru),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:G,title:"Hapus Work Request",message:"Apakah Anda yakin ingin menghapus work request ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:F,onClose:()=>{$(!1),J(null),y(null)},onSubmit:ne,action:O,itemName:"Work Request",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(qe,{isOpen:Z,onClose:()=>{V(!1),B(null)},title:"Detail Work Request",size:"lg",children:R&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-dark-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:a.jsx(la,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-dark-900 dark:text-white",children:R.nomorWR}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:Ue(R.tanggal)})]})]}),a.jsx(Te,{variant:A==="NPK1"?"primary":"success",children:A})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Item"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:R.item})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Area"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:R.area})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Eksekutor"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:R.eksekutor})})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Include"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:R.include||"-"})]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[a.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2",children:"Keterangan"}),a.jsx("p",{className:"text-dark-900 dark:text-white whitespace-pre-wrap leading-relaxed",children:R.keterangan||"-"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-200",children:[!ue&&a.jsxs(ce,{variant:"secondary",onClick:()=>{V(!1),B(null),ve(R)},children:[a.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsx(ce,{onClick:()=>{V(!1),B(null)},children:"Tutup"})]})]})}),a.jsx(Br,{isOpen:I,onClose:()=>{U(!1),H("")},sheetName:A==="NPK1"?"workrequest_NPK1":"workrequest",recordId:ee,title:"Log Aktivitas Work Request"})]})},a0=new Date().getFullYear(),Ape=[...Array.from({length:a0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(a0+1),label:String(a0+1)}],Ope=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Clay",label:"Clay"},{value:"Dolomite",label:"Dolomite"},{value:"Coating Oil",label:"Coating Oil"},{value:"Pewarna",label:"Pewarna"},{value:"Silika",label:"Silika"},{value:"Amnit",label:"Amnit"}],Epe=[{value:"Ton",label:"Ton"},{value:"Pallet",label:"Pallet"},{value:"Jumbo",label:"Jumbo"}],nu={tanggal:$t(),bahanBaku:"",entries:[{berat:0,unit:"Ton"}],totalBerat:0},sA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(nu),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),A=e,[F,$]=b.useState(!1),[O,_]=b.useState("edit"),[z,J]=b.useState(null),[Z,V]=b.useState(!1),[R,B]=b.useState(""),I=K=>{B(K),V(!0)},U=fr((t==null?void 0:t.role)||""),ee=yr((t==null?void 0:t.role)||"")&&!U,H=b.useCallback(()=>{if(u&&!l){const K=document.querySelector("form");K&&K.requestSubmit()}},[u,l]);nr(H,u);const oe=Nr((t==null?void 0:t.role)||""),ue=Pr((t==null?void 0:t.role)||""),de=K=>K.reduce((P,M)=>P+(M.berat||0),0),ye=(K,P,M)=>{j(ie=>{const D=[...ie.entries];return D[K]={...D[K],[P]:P==="berat"?parseFloat(M)||0:M},{...ie,entries:D,totalBerat:de(D)}})},be=()=>{j(K=>({...K,entries:[...K.entries,{berat:0,unit:"Ton"}]}))},fe=K=>{x.entries.length<=1||j(P=>{const M=P.entries.filter((ie,D)=>D!==K);return{...P,entries:M,totalBerat:de(M)}})};b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:P}=await Re(async()=>{const{fetchDataByPlant:ie}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:ie}},void 0),M=await P(xr.BAHAN_BAKU_NPK);if(M.success&&M.data){const D=[...M.data.map(E=>({...E,entries:typeof E.entries=="string"?JSON.parse(E.entries):E.entries||[{berat:0,unit:"Ton"}],totalBerat:E.totalBerat||0}))].sort((E,q)=>new Date(q.tanggal).getTime()-new Date(E.tanggal).getTime());o(D)}else o([])}catch(P){console.error("Error fetching data:",P),o([])}finally{c(!1)}})()},[]);const xe=async K=>{K.preventDefault(),c(!0);try{const P={...x,entries:JSON.stringify(x.entries),totalBerat:de(x.entries),_plant:A};if(m){const M={...P,id:m},ie=await n(xr.BAHAN_BAKU_NPK,M);if(ie.success)o(D=>D.map(E=>E.id===m?{...x,id:m,_plant:A,totalBerat:de(x.entries)}:E));else throw new Error(ie.error||"Gagal mengupdate data")}else{const M=await r(xr.BAHAN_BAKU_NPK,P);if(M.success&&M.data){const ie={...x,id:M.data.id,_plant:A,totalBerat:de(x.entries)};o(D=>[ie,...D])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),j(nu),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(P){console.error("Error saving data:",P),alert(P instanceof Error?P.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ve=K=>{if(oe){J(K),_("edit"),$(!0);return}const P=typeof K.entries=="string"?JSON.parse(K.entries):K.entries||[{berat:0,unit:"Ton"}];j({...K,entries:P,totalBerat:de(P)}),k(K.id||null),d(!0)},te=K=>{if(ue){y(K),_("delete"),$(!0);return}y(K),h(!0)},ne=async K=>{c(!0);try{const{createData:P,SHEETS:M}=await Re(async()=>{const{createData:E,SHEETS:q}=await Promise.resolve().then(()=>Ie);return{createData:E,SHEETS:q}},void 0),ie={type:"BAHAN_BAKU_NPK",action:O,itemId:O==="edit"?z==null?void 0:z.id:v,itemData:O==="edit"?z:i.find(E=>E.id===v),reason:K,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},D=await P(M.APPROVAL_REQUESTS,ie);if(D.success)$(!1),J(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(D.error||"Gagal mengirim permintaan")}catch(P){console.error("Error submitting approval:",P),alert(P instanceof Error?P.message:"Terjadi kesalahan")}finally{c(!1)}},G=async()=>{if(v){c(!0);try{const K=i.find(M=>M.id===v),P=await s(xr.BAHAN_BAKU_NPK,{id:v,_plant:K==null?void 0:K._plant});if(P.success)o(M=>M.filter(ie=>ie.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(P.error||"Gagal menghapus data")}catch(K){console.error("Error deleting data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Q=()=>{j(nu),k(null),d(!0)},L=i.filter(K=>{var E,q;const P=((E=K.tanggal)==null?void 0:E.includes(w))||((q=K.bahanBaku)==null?void 0:q.toLowerCase().includes(w.toLowerCase())),M=K._plant===A,D=new Date(K.tanggal).getFullYear()===parseInt(N);return P&&M&&D}),C=L.reduce((K,P)=>{const M=P.bahanBaku||"Unknown";return K[M]=(K[M]||0)+(P.totalBerat||0),K},{}),ae=K=>{const P=typeof K=="string"?JSON.parse(K):K;return!P||!Array.isArray(P)?"-":P.map(M=>`${Y(M.berat)} ${M.unit}`).join(", ")},X=[{key:"tanggal",header:"Tanggal",sortable:!0,render:K=>Ue(K)},{key:"bahanBaku",header:"Bahan Baku",render:K=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yi,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:K})]})},{key:"entries",header:"Detail Berat & Unit",render:K=>a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:ae(K)})},{key:"totalBerat",header:"Total Berat",render:K=>a.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:Y(le(K))})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Bahan Baku NPK ",A==="NPK1"?"1":"2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data penerimaan bahan baku NPK"})]}),a.jsx("div",{className:"flex items-center gap-3",children:ee&&a.jsxs(ce,{onClick:Q,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(C).slice(0,5).map(([K,P])=>a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(yi,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:K}),a.jsx("p",{className:"text-lg font-bold text-dark-900 dark:text-white",children:Y(P)})]})]})},K))}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Bahan Baku NPK - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:K=>T(K.target.value),options:Ape,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:K=>S(K.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:L,columns:X,loading:l,searchable:!1,actions:U?K=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),I(K.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-blue-600"})})}):K=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),I(K.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-blue-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),ve(K)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),te(K.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(nu),k(null)},title:m?"Edit Data Bahan Baku NPK":"Tambah Data Bahan Baku NPK",size:"lg",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:K=>j(P=>({...P,tanggal:K.target.value})),required:!0}),a.jsx(Me,{label:"Bahan Baku",value:x.bahanBaku,onChange:K=>j(P=>({...P,bahanBaku:K.target.value})),options:Ope,placeholder:"Pilih bahan baku",required:!0}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-300",children:"Detail Berat & Unit"}),a.jsxs(ce,{type:"button",variant:"secondary",size:"sm",onClick:be,children:[a.jsx(Ft,{className:"h-4 w-4 mr-1"}),"Tambah"]})]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:x.entries.map((K,P)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-50 dark:bg-dark-800 rounded-lg",children:[a.jsx("div",{className:"flex-1",children:a.jsx(he,{type:"number",value:K.berat||"",onChange:M=>ye(P,"berat",M.target.value),placeholder:"Berat",step:"0.01",min:"0",required:!0})}),a.jsx("div",{className:"w-32",children:a.jsx(Me,{value:K.unit,onChange:M=>ye(P,"unit",M.target.value),options:Epe,required:!0})}),x.entries.length>1&&a.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>fe(P),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(Kn,{className:"h-4 w-4"})})]},P))}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:[a.jsx("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:"Total Berat:"}),a.jsx("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:Y(de(x.entries))})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(nu),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:G,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:F,onClose:()=>{$(!1),J(null),y(null)},onSubmit:ne,action:O,itemName:"data bahan baku NPK",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:Z,onClose:()=>{V(!1),B("")},sheetName:A==="NPK1"?"bahanbaku_npk_NPK1":"bahanbaku_npk",recordId:R,title:"Log Aktivitas Bahan Baku NPK"})]})},s0=new Date().getFullYear(),Cpe=[...Array.from({length:s0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(s0+1),label:String(s0+1)}],au={tanggal:$t(),namaEquipment:"",posisiPengukuran:"",pointPengukuran:"",nilaiVibrasi:0,status:"Normal",keterangan:""},iA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(au),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),A=e,[F,$]=b.useState(!1),[O,_]=b.useState("edit"),[z,J]=b.useState(null),[Z,V]=b.useState(!1),[R,B]=b.useState(""),I=X=>{B(X),V(!0)},U=(t==null?void 0:t.role)||"",ee=yr(U),H=b.useCallback(()=>{if(u&&!l){const X=document.querySelector("form");X&&X.requestSubmit()}},[u,l]);nr(H,u);const oe=Nr(U),ue=Pr(U),de=fr(U),ye=[{value:"Vertical",label:"Vertical"},{value:"Horizontal",label:"Horizontal"},{value:"Axial",label:"Axial"}],be=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}];b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:K,SHEETS:P}=await Re(async()=>{const{fetchDataByPlant:ie,SHEETS:D}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:ie,SHEETS:D}},void 0),M=await K(P.VIBRASI);if(M.success&&M.data){const ie=[...M.data].sort((D,E)=>new Date(E.tanggal).getTime()-new Date(D.tanggal).getTime());o(ie)}else o([])}catch(K){console.error("Error fetching data:",K),o([])}finally{c(!1)}})()},[]),b.useEffect(()=>{let X="Normal";x.nilaiVibrasi>=7?X="Alert":x.nilaiVibrasi>=4&&(X="Warning"),j(K=>({...K,status:X}))},[x.nilaiVibrasi]);const fe=async X=>{X.preventDefault(),c(!0);try{if(m){const K={...x,id:m,_plant:A},P=await n(xr.VIBRASI,K);if(P.success)o(M=>M.map(ie=>ie.id===m?{...x,id:m,_plant:A}:ie));else throw new Error(P.error||"Gagal mengupdate data")}else{const K={...x,_plant:A},P=await r(xr.VIBRASI,K);if(P.success&&P.data){const M={...P.data,_plant:A};o(ie=>[M,...ie])}else throw new Error(P.error||"Gagal menyimpan data")}d(!1),j(au),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(K){console.error("Error saving data:",K),alert(K instanceof Error?K.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},xe=X=>{if(oe){J(X),_("edit"),$(!0);return}j(X),k(X.id||null),d(!0)},ve=X=>{if(ue){const K=i.find(P=>P.id===X);K&&(J(K),_("delete"),$(!0));return}y(X),h(!0)},te=async X=>{if(!(!z||!t)){c(!0);try{const K="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",P={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:O,targetSheet:"VIBRASI",targetId:z.id,targetData:JSON.stringify(z),reason:X,status:"pending",requestedAt:new Date().toISOString()}};await fetch(K,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),$(!1),J(null)}catch(K){console.error("Error submitting approval:",K),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ne=async()=>{if(v){c(!0);try{const X=i.find(P=>P.id===v),K=await s(xr.VIBRASI,{id:v,_plant:X==null?void 0:X._plant});if(K.success)o(P=>P.filter(M=>M.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(K.error||"Gagal menghapus data")}catch(X){console.error("Error deleting data:",X),alert(X instanceof Error?X.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},G=()=>{j(au),k(null),d(!0)},Q=i.filter(X=>{var D,E,q,W;const K=((D=X.tanggal)==null?void 0:D.includes(w))||((E=X.namaEquipment)==null?void 0:E.toLowerCase().includes(w.toLowerCase()))||((q=X.posisiPengukuran)==null?void 0:q.toLowerCase().includes(w.toLowerCase()))||((W=X.pointPengukuran)==null?void 0:W.toLowerCase().includes(w.toLowerCase())),P=X._plant===A,ie=new Date(X.tanggal).getFullYear()===parseInt(N);return K&&P&&ie}),L={normal:Q.filter(X=>X.status==="Normal").length,warning:Q.filter(X=>X.status==="Warning").length,alert:Q.filter(X=>X.status==="Alert").length},C=X=>{switch(X){case"Normal":return"success";case"Warning":return"warning";case"Alert":return"danger";default:return"default"}},ae=[{key:"tanggal",header:"Tanggal",sortable:!0,render:X=>Ue(X)},{key:"namaEquipment",header:"Equipment",render:X=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gu,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:X})]})},{key:"posisiPengukuran",header:"Posisi Pengukuran",render:X=>a.jsx(Te,{variant:"default",children:X})},{key:"pointPengukuran",header:"Point Pengukuran",render:X=>a.jsx(Te,{variant:"primary",children:X})},{key:"nilaiVibrasi",header:"Vibrasi (mm/s)",render:X=>{const K=le(X);return a.jsx("span",{className:`font-bold ${K>=7?"text-red-600":K>=4?"text-amber-600":"text-green-600"}`,children:Y(K)})}},{key:"status",header:"Status",render:X=>a.jsx(Te,{variant:C(X),children:X})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Vibrasi ",A==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Monitoring vibrasi equipment produksi"})]}),a.jsx("div",{className:"flex items-center gap-3",children:ee&&a.jsxs(ce,{onClick:G,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(gu,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Normal"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:L.normal})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Cl,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Warning"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:L.warning})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Cl,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Alert"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:L.alert})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-dark-100 rounded-lg",children:a.jsx(gu,{className:"h-5 w-5 text-dark-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pengukuran"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:Q.length})]})]})})]}),a.jsx(we,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(gu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Panduan Status Vibrasi"}),a.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(Te,{variant:"success",children:"Normal"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"< 4 mm/s"})]}),a.jsxs("div",{children:[a.jsx(Te,{variant:"warning",children:"Warning"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"4 - 7 mm/s"})]}),a.jsxs("div",{children:[a.jsx(Te,{variant:"danger",children:"Alert"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"> 7 mm/s"})]})]})]})]})}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Pengukuran Vibrasi - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:X=>T(X.target.value),options:Cpe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:X=>S(X.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:Q,columns:ae,loading:l,searchable:!1,actions:de?X=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ce,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),I(X.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})})}):X=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),I(X.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),xe(X)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:K=>{K.stopPropagation(),ve(X.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(au),k(null)},title:m?"Edit Data Vibrasi":"Tambah Data Vibrasi",size:"md",children:a.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:X=>j(K=>({...K,tanggal:X.target.value})),required:!0}),a.jsx(he,{label:"Nama Equipment",type:"text",value:x.namaEquipment,onChange:X=>j(K=>({...K,namaEquipment:X.target.value})),placeholder:"Masukkan nama equipment",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Me,{label:"Posisi Pengukuran",value:x.posisiPengukuran,onChange:X=>j(K=>({...K,posisiPengukuran:X.target.value})),options:ye,placeholder:"Pilih posisi",required:!0}),a.jsx(Me,{label:"Point Pengukuran",value:x.pointPengukuran,onChange:X=>j(K=>({...K,pointPengukuran:X.target.value})),options:be,placeholder:"Pilih point",required:!0})]}),a.jsx(he,{label:"Nilai Vibrasi (mm/s)",type:"number",step:"0.1",value:x.nilaiVibrasi||"",onChange:X=>j(K=>({...K,nilaiVibrasi:parseFloat(X.target.value)||0})),placeholder:"0.0",required:!0}),a.jsx("div",{className:"p-4 bg-dark-50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600",children:"Status:"}),a.jsx(Te,{variant:C(x.status||"Normal"),className:"text-lg px-4",children:x.status})]})}),a.jsx(he,{label:"Keterangan",type:"text",value:x.keterangan,onChange:X=>j(K=>({...K,keterangan:X.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(au),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ne,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:F,onClose:()=>{$(!1),J(null)},onSubmit:te,action:O,itemName:"data vibrasi",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:Z,onClose:()=>{V(!1),B("")},sheetName:A==="NPK1"?"vibrasi_NPK1":"vibrasi",recordId:R,title:"Log Aktivitas Vibrasi"})]})},i0=new Date().getFullYear(),_pe=[...Array.from({length:i0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(i0+1),label:String(i0+1)}],su={tanggal:$t(),nomorGatePass:"",noPolisi:"",pemilikBarang:"",namaPembawa:"",mengetahui:"",deskripsiBarang:"",alasanKeluar:""},oA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(su),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),[A,F]=b.useState(!1),[$,O]=b.useState(null),_=e,[z,J]=b.useState(!1),[Z,V]=b.useState(""),R=P=>{V(P),J(!0)},[B,I]=b.useState(!1),[U,ee]=b.useState("edit"),[H,oe]=b.useState(null),ue=fr((t==null?void 0:t.role)||""),de=yr((t==null?void 0:t.role)||"")&&!ue,ye=b.useCallback(()=>{if(u&&!l){const P=document.querySelector("form");P&&P.requestSubmit()}},[u,l]);nr(ye,u);const be=Nr((t==null?void 0:t.role)||""),fe=Pr((t==null?void 0:t.role)||""),xe=P=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][P];b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:M,SHEETS:ie}=await Re(async()=>{const{fetchDataByPlant:E,SHEETS:q}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:E,SHEETS:q}},void 0),D=await M(ie.GATE_PASS);if(D.success&&D.data){const E=[...D.data].sort((q,W)=>new Date(W.tanggal).getTime()-new Date(q.tanggal).getTime());o(E)}else o([])}catch(M){console.error("Error fetching data:",M),o([])}finally{c(!1)}})()},[]);const ve=()=>{const P=new Date,M=P.getFullYear(),ie=P.getMonth(),D=xe(ie),E=_==="NPK1"?"NPK-1":"NPK-2",q=i.filter(me=>{if(!me.tanggal)return!1;const ke=new Date(me.tanggal);return ke.getMonth()===ie&&ke.getFullYear()===M&&me._plant===_});return`${String(q.length+1).padStart(3,"0")}/GP/${E}/${D}/${M}`},te=async P=>{P.preventDefault(),c(!0);try{if(m){const M={...x,id:m,_plant:_},ie=await n(xr.GATE_PASS,M);if(ie.success)o(D=>D.map(E=>E.id===m?{...x,id:m,_plant:_}:E));else throw new Error(ie.error||"Gagal mengupdate data")}else{const M={...x,nomorGatePass:x.nomorGatePass||ve(),_plant:_},ie=await r(xr.GATE_PASS,M);if(ie.success&&ie.data){const D={...ie.data,_plant:e};o(E=>[D,...E])}else throw new Error(ie.error||"Gagal menyimpan data")}d(!1),j(su),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(M){console.error("Error saving data:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ne=P=>{if(be){oe(P),ee("edit"),I(!0);return}j(P),k(P.id||null),d(!0)},G=P=>{if(fe){y(P),ee("delete"),I(!0);return}y(P),h(!0)},Q=async P=>{c(!0);try{const{createData:M,SHEETS:ie}=await Re(async()=>{const{createData:q,SHEETS:W}=await Promise.resolve().then(()=>Ie);return{createData:q,SHEETS:W}},void 0),D={type:"GATE_PASS",action:U,itemId:U==="edit"?H==null?void 0:H.id:v,itemData:U==="edit"?H:i.find(q=>q.id===v),reason:P,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},E=await M(ie.APPROVAL_REQUESTS,D);if(E.success)I(!1),oe(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(E.error||"Gagal mengirim permintaan")}catch(M){console.error("Error submitting approval:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan")}finally{c(!1)}},L=async()=>{if(v){c(!0);try{const P=i.find(ie=>ie.id===v),M=await s(xr.GATE_PASS,{id:v,_plant:P==null?void 0:P._plant});if(M.success)o(ie=>ie.filter(D=>D.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(M.error||"Gagal menghapus data")}catch(P){console.error("Error deleting data:",P),alert(P instanceof Error?P.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},C=()=>{j({...su,nomorGatePass:ve()}),k(null),d(!0)},ae=i.filter(P=>{var q,W,me,ke,_e,Ye,at,mt;const M=((q=P.tanggal)==null?void 0:q.includes(w))||((W=P.nomorGatePass)==null?void 0:W.toLowerCase().includes(w.toLowerCase()))||((me=P.noPolisi)==null?void 0:me.toLowerCase().includes(w.toLowerCase()))||((ke=P.pemilikBarang)==null?void 0:ke.toLowerCase().includes(w.toLowerCase()))||((_e=P.namaPembawa)==null?void 0:_e.toLowerCase().includes(w.toLowerCase()))||((Ye=P.mengetahui)==null?void 0:Ye.toLowerCase().includes(w.toLowerCase()))||((at=P.deskripsiBarang)==null?void 0:at.toLowerCase().includes(w.toLowerCase()))||((mt=P.alasanKeluar)==null?void 0:mt.toLowerCase().includes(w.toLowerCase())),ie=P._plant===_,E=new Date(P.tanggal).getFullYear()===parseInt(N);return M&&ie&&E}),X=[{key:"tanggal",header:"Tanggal",sortable:!0,render:P=>Ue(P)},{key:"nomorGatePass",header:"No. Gate Pass",render:P=>a.jsx("span",{className:"font-mono font-semibold text-primary-600",children:P})},{key:"noPolisi",header:"No Polisi"},{key:"pemilikBarang",header:"Pemilik Barang"},{key:"namaPembawa",header:"Nama Pembawa"},{key:"mengetahui",header:"Mengetahui"},{key:"deskripsiBarang",header:"Deskripsi Barang",render:P=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:P})},{key:"alasanKeluar",header:"Alasan Mengeluarkan",render:P=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:P})}],K=ae.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Gate Pass ",_==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data gate pass barang masuk/keluar"})]}),a.jsx("div",{className:"flex items-center gap-3",children:de&&a.jsxs(ce,{onClick:C,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Buat Gate Pass"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(P_,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gate Pass"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:K})]})]})})}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Gate Pass - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:P=>T(P.target.value),options:_pe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:P=>S(P.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:ae,columns:X,loading:l,searchable:!1,actions:P=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),O(P),F(!0)},title:"Cetak Gate Pass",children:a.jsx(Ir,{className:"h-4 w-4 text-amber-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),R(P.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),!ue&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),ne(P)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:M=>{M.stopPropagation(),G(P.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(su),k(null)},title:m?"Edit Gate Pass":"Buat Gate Pass",size:"lg",children:a.jsxs("form",{onSubmit:te,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:P=>j(M=>({...M,tanggal:P.target.value})),required:!0}),a.jsx(he,{label:"No. Gate Pass",type:"text",value:x.nomorGatePass,onChange:P=>j(M=>({...M,nomorGatePass:P.target.value})),placeholder:"Auto generate",disabled:!m})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"No Polisi",type:"text",value:x.noPolisi,onChange:P=>j(M=>({...M,noPolisi:P.target.value})),placeholder:"Contoh: T 8643 HI",required:!0}),a.jsx(he,{label:"Pemilik Barang",type:"text",value:x.pemilikBarang,onChange:P=>j(M=>({...M,pemilikBarang:P.target.value})),placeholder:"Nama pemilik barang",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Nama Pembawa",type:"text",value:x.namaPembawa,onChange:P=>j(M=>({...M,namaPembawa:P.target.value})),placeholder:"Nama pembawa barang",required:!0}),a.jsx(he,{label:"Mengetahui",type:"text",value:x.mengetahui,onChange:P=>j(M=>({...M,mengetahui:P.target.value})),placeholder:"Nama yang mengetahui",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Barang"}),a.jsx("textarea",{value:x.deskripsiBarang,onChange:P=>j(M=>({...M,deskripsiBarang:P.target.value})),placeholder:"Deskripsi detail barang...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Mengeluarkan"}),a.jsx("textarea",{value:x.alasanKeluar,onChange:P=>j(M=>({...M,alasanKeluar:P.target.value})),placeholder:"Alasan mengeluarkan barang...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(su),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:L,title:"Hapus Gate Pass",message:"Apakah Anda yakin ingin menghapus gate pass ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:B,onClose:()=>{I(!1),oe(null),y(null)},onSubmit:Q,action:U,itemName:"gate pass",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),$&&a.jsx(x8,{isOpen:A,onClose:()=>{F(!1),O(null)},data:$,plant:_}),a.jsx(Br,{isOpen:z,onClose:()=>{J(!1),V("")},sheetName:_==="NPK1"?"gatepass_NPK1":"gatepass",recordId:Z,title:"Log Aktivitas Gate Pass"})]})},o0=new Date().getFullYear(),Dpe=[...Array.from({length:o0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(o0+1),label:String(o0+1)}],iu={tanggal:$t(),nomorPerta:"",deskripsi:"",status:"Open",shift:"1",jenisBBM:"Solar",volumeAwal:0,volumePengisian:0,volumePemakaian:0,volumeAkhir:0,keterangan:""},Mpe=()=>{var te;const{user:e}=nt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Ar(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(null),[k,v]=b.useState(null),[y,x]=b.useState(iu),[j,w]=b.useState(""),[S,N]=b.useState(String(new Date().getFullYear())),[T,A]=b.useState((e==null?void 0:e.plant)||"ALL"),[F,$]=b.useState(!1),[O,_]=b.useState("edit"),[z,J]=b.useState(null),Z=fr((e==null?void 0:e.role)||""),V=yr((e==null?void 0:e.role)||"")&&!Z,R=b.useCallback(()=>{if(c&&!o){const ne=document.querySelector("form");ne&&ne.requestSubmit()}},[c,o]);nr(R,c);const B=Nr((e==null?void 0:e.role)||""),I=Pr((e==null?void 0:e.role)||""),U=[{value:"Solar",label:"Solar"},{value:"Pertamax",label:"Pertamax"},{value:"Pertalite",label:"Pertalite"},{value:"Premium",label:"Premium"},{value:"Biosolar",label:"Biosolar"}];b.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:G,SHEETS:Q}=await Re(async()=>{const{fetchDataByPlant:C,SHEETS:ae}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:C,SHEETS:ae}},void 0),L=await G(Q.PERTA);if(L.success&&L.data){const C=[...L.data].sort((ae,X)=>new Date(X.tanggal).getTime()-new Date(ae.tanggal).getTime());i(C)}else i([])}catch(G){console.error("Error fetching data:",G),i([])}finally{l(!1)}})()},[]),b.useEffect(()=>{const ne=(y.volumeAwal||0)+(y.volumePengisian||0)-(y.volumePemakaian||0);x(G=>({...G,volumeAkhir:ne>0?ne:0}))},[y.volumeAwal,y.volumePengisian,y.volumePemakaian]);const ee=async ne=>{ne.preventDefault(),l(!0);try{const G=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant;if(g){const Q={...y,id:g,_plant:G},L=await r("perta",Q);if(L.success)i(C=>C.map(ae=>ae.id===g?{...y,id:g,_plant:G}:ae));else throw new Error(L.error||"Gagal mengupdate data")}else{const Q={...y,_plant:G},L=await t("perta",Q);if(L.success&&L.data){const C={...L.data,_plant:G};i(ae=>[C,...ae])}else throw new Error(L.error||"Gagal menyimpan data")}u(!1),x(iu),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(G){console.error("Error saving data:",G),alert(G instanceof Error?G.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},H=ne=>{if(B){J(ne),_("edit"),$(!0);return}x(ne),m(ne.id||null),u(!0)},oe=ne=>{if(I){v(ne),_("delete"),$(!0);return}v(ne),f(!0)},ue=async ne=>{l(!0);try{const{createData:G,SHEETS:Q}=await Re(async()=>{const{createData:ae,SHEETS:X}=await Promise.resolve().then(()=>Ie);return{createData:ae,SHEETS:X}},void 0),L={type:"PERTA",action:O,itemId:O==="edit"?z==null?void 0:z.id:k,itemData:O==="edit"?z:s.find(ae=>ae.id===k),reason:ne,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},C=await G(Q.APPROVAL_REQUESTS,L);if(C.success)$(!1),J(null),v(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(C.error||"Gagal mengirim permintaan")}catch(G){console.error("Error submitting approval:",G),alert(G instanceof Error?G.message:"Terjadi kesalahan")}finally{l(!1)}},de=async()=>{if(k){l(!0);try{const ne=s.find(Q=>Q.id===k),G=await n("perta",{id:k,_plant:ne==null?void 0:ne._plant});if(G.success)i(Q=>Q.filter(L=>L.id!==k)),f(!1),v(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(G.error||"Gagal menghapus data")}catch(ne){console.error("Error deleting data:",ne),alert(ne instanceof Error?ne.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},ye=()=>{const ne=s[0];x({...iu,volumeAwal:(ne==null?void 0:ne.volumeAkhir)||0}),m(null),u(!0)},be=s.filter(ne=>{var ae,X;const G=((ae=ne.tanggal)==null?void 0:ae.includes(j))||((X=ne.jenisBBM)==null?void 0:X.toLowerCase().includes(j.toLowerCase())),Q=T==="ALL"||ne._plant===T,C=new Date(ne.tanggal).getFullYear()===parseInt(S);return G&&Q&&C}),fe=be.reduce((ne,G)=>({pengisian:ne.pengisian+(G.volumePengisian||0),pemakaian:ne.pemakaian+(G.volumePemakaian||0)}),{pengisian:0,pemakaian:0}),xe=((te=be[0])==null?void 0:te.volumeAkhir)||0,ve=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ne=>Ue(ne)},{key:"shift",header:"Shift",render:ne=>a.jsxs(Te,{variant:"primary",children:["Shift ",ne]})},{key:"jenisBBM",header:"Jenis BBM",render:ne=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wi,{className:"h-4 w-4 text-amber-500"}),a.jsx("span",{className:"font-medium",children:ne})]})},{key:"volumeAwal",header:"Vol. Awal (L)",render:ne=>Y(le(ne))},{key:"volumePengisian",header:"Pengisian (L)",render:ne=>a.jsxs("span",{className:"text-green-600 font-semibold",children:["+",Y(le(ne))]})},{key:"volumePemakaian",header:"Pemakaian (L)",render:ne=>a.jsxs("span",{className:"text-red-600 font-semibold",children:["-",Y(le(ne))]})},{key:"volumeAkhir",header:"Vol. Akhir (L)",render:ne=>a.jsx("span",{className:"font-bold text-dark-900 dark:text-white",children:Y(le(ne))})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Perta (BBM)"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan bakar"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.plant)==="ALL"&&a.jsx(Me,{value:T,onChange:ne=>A(ne.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),V&&a.jsxs(ce,{onClick:ye,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(we,{className:"p-4 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Wi,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Stock Saat Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[Y(xe)," L"]})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Wi,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pengisian"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",Y(fe.pengisian)," L"]})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Wi,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pemakaian"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",Y(fe.pemakaian)," L"]})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-dark-100 rounded-lg",children:a.jsx(Wi,{className:"h-5 w-5 text-dark-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:be.length})]})]})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Pemakaian BBM - Tahun ",S]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:S,onChange:ne=>N(ne.target.value),options:Dpe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:j,onChange:ne=>w(ne.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:be,columns:ve,loading:o,searchable:!1,actions:Z?void 0:ne=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),H(ne)},children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),oe(ne.id)},children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(qe,{isOpen:c,onClose:()=>{u(!1),x(iu),m(null)},title:g?"Edit Data BBM":"Tambah Data BBM",size:"md",children:a.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:y.tanggal,onChange:ne=>x(G=>({...G,tanggal:ne.target.value})),required:!0}),a.jsx(Me,{label:"Shift",value:y.shift,onChange:ne=>x(G=>({...G,shift:ne.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0})]}),a.jsx(Me,{label:"Jenis BBM",value:y.jenisBBM,onChange:ne=>x(G=>({...G,jenisBBM:ne.target.value})),options:U,required:!0}),a.jsx(he,{label:"Volume Awal (Liter)",type:"number",value:y.volumeAwal||"",onChange:ne=>x(G=>({...G,volumeAwal:parseFloat(ne.target.value)||0})),placeholder:"0",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"Volume Pengisian (Liter)",type:"number",value:y.volumePengisian||"",onChange:ne=>x(G=>({...G,volumePengisian:parseFloat(ne.target.value)||0})),placeholder:"0"}),a.jsx(he,{label:"Volume Pemakaian (Liter)",type:"number",value:y.volumePemakaian||"",onChange:ne=>x(G=>({...G,volumePemakaian:parseFloat(ne.target.value)||0})),placeholder:"0",required:!0})]}),a.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600 font-medium",children:"Volume Akhir:"}),a.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[Y(y.volumeAkhir||0)," Liter"]})]})}),a.jsx(he,{label:"Keterangan",type:"text",value:y.keterangan,onChange:ne=>x(G=>({...G,keterangan:ne.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{u(!1),x(iu),m(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:d,onClose:()=>{f(!1),v(null)},onConfirm:de,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Tr,{isOpen:F,onClose:()=>{$(!1),J(null),v(null)},onSubmit:ue,action:O,itemName:"data perta",loading:o}),a.jsx(Wt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)})]})},l0=new Date().getFullYear(),$pe=[...Array.from({length:l0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(l0+1),label:String(l0+1)}],ou={tanggalMulai:$t(),items:[{item:"",deskripsi:""}],tanggalSelesai:"",jumlahHari:0},lA=({plant:e})=>{var ie;const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(ou),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),A=e,[F,$]=b.useState(!1),[O,_]=b.useState(null),[z,J]=b.useState(!1),[Z,V]=b.useState(""),R=D=>{V(D),J(!0)},[B,I]=b.useState(!1),[U,ee]=b.useState("edit"),[H,oe]=b.useState(null),ue=fr((t==null?void 0:t.role)||""),de=yr((t==null?void 0:t.role)||"")&&!ue,ye=b.useCallback(()=>{if(u&&!l){const D=document.querySelector("form");D&&D.requestSubmit()}},[u,l]);nr(ye,u);const be=Nr((t==null?void 0:t.role)||""),fe=Pr((t==null?void 0:t.role)||"");b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:E,SHEETS:q}=await Re(async()=>{const{fetchDataByPlant:me,SHEETS:ke}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:me,SHEETS:ke}},void 0),W=await E(q.PERBAIKAN_TAHUNAN);if(W.success&&W.data){const ke=W.data.map(_e=>({..._e,items:typeof _e.items=="string"?JSON.parse(_e.items):_e.items||[]})).sort((_e,Ye)=>new Date(Ye.tanggalMulai||0).getTime()-new Date(_e.tanggalMulai||0).getTime());o(ke)}else o([])}catch(E){console.error("Error fetching data:",E),o([])}finally{c(!1)}})()},[]),b.useEffect(()=>{if(x.tanggalMulai&&x.tanggalSelesai){const D=new Date(x.tanggalMulai),q=new Date(x.tanggalSelesai).getTime()-D.getTime(),W=Math.ceil(q/(1e3*3600*24))+1;j(me=>({...me,jumlahHari:W>0?W:0}))}else j(D=>({...D,jumlahHari:0}))},[x.tanggalMulai,x.tanggalSelesai]);const xe=async D=>{D.preventDefault(),c(!0);try{const E={...x,items:JSON.stringify(x.items)};if(m){const q={...E,id:m,_plant:A},W=await n("perbaikan_tahunan",q);if(W.success)o(me=>me.map(ke=>ke.id===m?{...x,id:m,_plant:A}:ke));else throw new Error(W.error||"Gagal mengupdate data")}else{const q={...E,_plant:A},W=await r("perbaikan_tahunan",q);if(W.success&&W.data){const me={...x,id:W.data.id,_plant:A};o(ke=>[me,...ke])}else throw new Error(W.error||"Gagal menyimpan data")}d(!1),j(ou),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(E){console.error("Error saving data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ve=D=>{_(D),$(!0)},te=D=>{if(be){oe(D),ee("edit"),I(!0);return}j({...D,items:Array.isArray(D.items)?D.items:[{item:"",deskripsi:""}]}),k(D.id||null),d(!0)},ne=D=>{if(fe){y(D),ee("delete"),I(!0);return}y(D),h(!0)},G=async D=>{c(!0);try{const{createData:E,SHEETS:q}=await Re(async()=>{const{createData:ke,SHEETS:_e}=await Promise.resolve().then(()=>Ie);return{createData:ke,SHEETS:_e}},void 0),W={type:"PERBAIKAN_TAHUNAN",action:U,itemId:U==="edit"?H==null?void 0:H.id:v,itemData:U==="edit"?H:i.find(ke=>ke.id===v),reason:D,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},me=await E(q.APPROVAL_REQUESTS,W);if(me.success)I(!1),oe(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(me.error||"Gagal mengirim permintaan")}catch(E){console.error("Error submitting approval:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan")}finally{c(!1)}},Q=async()=>{if(v){c(!0);try{const D=i.find(q=>q.id===v),E=await s("perbaikan_tahunan",{id:v,_plant:D==null?void 0:D._plant});if(E.success)o(q=>q.filter(W=>W.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(E.error||"Gagal menghapus data")}catch(D){console.error("Error deleting data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},L=()=>{j(ou),k(null),d(!0)},C=()=>{j(D=>({...D,items:[...D.items,{item:"",deskripsi:""}]}))},ae=D=>{x.items.length>1&&j(E=>({...E,items:E.items.filter((q,W)=>W!==D)}))},X=(D,E,q)=>{j(W=>({...W,items:W.items.map((me,ke)=>ke===D?{...me,[E]:q}:me)}))},K=i.filter(D=>{var ke,_e,Ye;const E=((ke=D.tanggalMulai)==null?void 0:ke.includes(w))||((_e=D.tanggalSelesai)==null?void 0:_e.includes(w))||((Ye=D.items)==null?void 0:Ye.some(at=>{var mt,Qe;return((mt=at.item)==null?void 0:mt.toLowerCase().includes(w.toLowerCase()))||((Qe=at.deskripsi)==null?void 0:Qe.toLowerCase().includes(w.toLowerCase()))})),q=D._plant===A,me=new Date(D.tanggalMulai).getFullYear()===parseInt(N);return E&&q&&me}),P=K.reduce((D,E)=>D+(E.jumlahHari||0),0),M=[{key:"tanggalMulai",header:"Tanggal Mulai",sortable:!0,render:D=>Ue(D)},{key:"tanggalSelesai",header:"Tanggal Selesai",render:D=>D?Ue(D):"-"},{key:"items",header:"Item Perbaikan",render:D=>{const E=D;return!E||!Array.isArray(E)?"-":a.jsxs("div",{className:"max-w-xs",children:[E.slice(0,2).map((q,W)=>a.jsx("div",{className:"text-sm",children:a.jsx("span",{className:"font-medium",children:q.item})},W)),E.length>2&&a.jsxs("span",{className:"text-xs text-dark-400",children:["+",E.length-2," lainnya"]})]})}},{key:"jumlahHari",header:"Jumlah Hari",render:D=>a.jsxs(Te,{variant:"primary",children:[D," Hari"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Perbaikan Tahunan ",A==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data perbaikan tahunan (PERTA)"})]}),a.jsx("div",{className:"flex items-center gap-3",children:de&&a.jsxs(ce,{onClick:L,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(zS,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Perbaikan"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:K.length})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(aa,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Hari Perta"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[P," Hari"]})]})]})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Perbaikan Tahunan - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:D=>T(D.target.value),options:$pe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:D=>S(D.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:K,columns:M,loading:l,searchable:!1,actions:D=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),ve(D)},title:"Lihat Detail",children:a.jsx(Ni,{className:"h-4 w-4 text-dark-500"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),R(D.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),!ue&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),te(D)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),ne(D.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(ou),k(null)},title:m?"Edit Perbaikan Tahunan":"Tambah Perbaikan Tahunan",size:"lg",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal Mulai Perta",type:"date",value:x.tanggalMulai,onChange:D=>j(E=>({...E,tanggalMulai:D.target.value})),required:!0}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700",children:"Item & Deskripsi Perbaikan"}),a.jsxs(ce,{type:"button",variant:"ghost",size:"sm",onClick:C,children:[a.jsx(n8,{className:"h-4 w-4 mr-1"}),"Tambah Item"]})]}),x.items.map((D,E)=>a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-dark-600",children:["Item ",E+1]}),x.items.length>1&&a.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>ae(E),className:"h-6 w-6",children:a.jsx(ZK,{className:"h-4 w-4 text-red-500"})})]}),a.jsx(he,{type:"text",value:D.item,onChange:q=>X(E,"item",q.target.value),placeholder:"Nama item perbaikan",required:!0}),a.jsx("textarea",{value:D.deskripsi,onChange:q=>X(E,"deskripsi",q.target.value),placeholder:"Deskripsi perbaikan...",className:"input-field min-h-[80px]",required:!0})]},E))]}),a.jsx(he,{label:"Tanggal Selesai Perta",type:"date",value:x.tanggalSelesai,onChange:D=>j(E=>({...E,tanggalSelesai:D.target.value}))}),a.jsx("div",{className:"p-4 bg-primary-50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600 font-medium",children:"Jumlah Hari Perta:"}),a.jsxs(Te,{variant:"primary",className:"text-lg px-4",children:[x.jumlahHari," Hari"]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(ou),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qe,{isOpen:F,onClose:()=>{$(!1),_(null)},title:"Detail Perbaikan Tahunan",size:"lg",children:O&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Perbaikan Tahunan (PERTA)"}),a.jsx("h2",{className:"text-2xl font-bold mt-1",children:A==="NPK1"?"NPK 1":"NPK 2"})]}),a.jsx("div",{className:"text-right",children:a.jsxs(Te,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:[O.jumlahHari," Hari"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(aa,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Mulai"}),a.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:Ue(O.tanggalMulai)})]})]})}),a.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(rl,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Selesai"}),a.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:O.tanggalSelesai?Ue(O.tanggalSelesai):"-"})]})]})})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(la,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Item Perbaikan"}),a.jsxs(Te,{variant:"primary",className:"ml-auto",children:[((ie=O.items)==null?void 0:ie.length)||0," Item"]})]}),a.jsx("div",{className:"space-y-3",children:O.items&&O.items.map((D,E)=>a.jsx("div",{className:"bg-white dark:bg-dark-700 rounded-xl p-4 border border-dark-200 dark:border-dark-600 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-bold text-sm",children:E+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-dark-900 dark:text-white mb-1",children:D.item}),a.jsx("p",{className:"text-dark-600 dark:text-dark-300 text-sm leading-relaxed",children:D.deskripsi})]})]})},E))})]}),a.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-200 dark:bg-amber-800 rounded-lg",children:a.jsx(Ua,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Total Durasi Perbaikan"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:[O.jumlahHari," Hari"]})]})]}),a.jsx(zS,{className:"h-12 w-12 text-amber-300 dark:text-amber-700"})]})}),a.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:a.jsx(ce,{variant:"secondary",onClick:()=>{$(!1),_(null)},children:"Tutup"})})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Q,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data perbaikan tahunan ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:B,onClose:()=>{I(!1),oe(null),y(null)},onSubmit:G,action:U,itemName:"perbaikan tahunan",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:z,onClose:()=>{J(!1),V("")},sheetName:A==="NPK1"?"perbaikan_tahunan_NPK1":"perbaikan_tahunan",recordId:Z,title:"Log Aktivitas Perbaikan Tahunan"})]})},c0=new Date().getFullYear(),Rpe=[...Array.from({length:c0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(c0+1),label:String(c0+1)}],lu={nomorBerkas:"",tanggal:$t(),tanggalKejadian:$t(),shift:"1",waktuKejadian:"",kodePeralatan:"",area:"",deskripsiMasalah:"",penyebab:"",tindakan:"",status:"Open",pic:"",targetSelesai:"",keterangan:""},cA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(lu),[w,S]=b.useState(""),[N,T]=b.useState(String(new Date().getFullYear())),A=e,[F,$]=b.useState(!1),[O,_]=b.useState(null),[z,J]=b.useState(!1),[Z,V]=b.useState(""),R=D=>{V(D),J(!0)},[B,I]=b.useState(!1),[U,ee]=b.useState("edit"),[H,oe]=b.useState(null),ue=(t==null?void 0:t.role)||"",de=yr(ue),ye=b.useCallback(()=>{if(u&&!l){const D=document.querySelector("form");D&&D.requestSubmit()}},[u,l]);nr(ye,u);const be=Nr(ue),fe=Pr(ue),xe=fr(ue),ve=[{value:"Granulator",label:"Granulator"},{value:"Dryer",label:"Dryer"},{value:"Cooler",label:"Cooler"},{value:"Screening",label:"Screening"},{value:"Coater",label:"Coater"},{value:"Bagging",label:"Bagging"},{value:"Utility",label:"Utility"},{value:"Conveyor",label:"Conveyor"},{value:"Bucket Elevator",label:"Bucket Elevator"},{value:"Control Room",label:"Control Room"},{value:"Furnace",label:"Furnace"},{value:"Scrubbing System",label:"Scrubbing System"},{value:"Lainnya",label:"Lainnya"}],te=[{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}];b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:E,SHEETS:q}=await Re(async()=>{const{fetchDataByPlant:me,SHEETS:ke}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:me,SHEETS:ke}},void 0),W=await E(q.TROUBLE_RECORD);if(W.success&&W.data){const me=[...W.data].sort((ke,_e)=>new Date(_e.tanggal||"").getTime()-new Date(ke.tanggal||"").getTime());o(me)}else o([])}catch(E){console.error("Error fetching data:",E),o([])}finally{c(!1)}})()},[]);const ne=async D=>{D.preventDefault(),c(!0);try{if(m){const E={...x,id:m,_plant:A},q=await n(xr.TROUBLE_RECORD,E);if(q.success)o(W=>W.map(me=>me.id===m?{...x,id:m,_plant:A}:me));else throw new Error(q.error||"Gagal mengupdate data")}else{const E={...x,_plant:A},q=await r(xr.TROUBLE_RECORD,E);if(q.success&&q.data){const W={...q.data,_plant:A};o(me=>[W,...me])}else throw new Error(q.error||"Gagal menyimpan data")}d(!1),j(lu),k(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(E){console.error("Error saving data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},G=D=>{_(D),$(!0)},Q=D=>{if(be){oe(D),ee("edit"),I(!0);return}j(D),k(D.id||null),d(!0)},L=D=>{if(fe){const E=i.find(q=>q.id===D);E&&(oe(E),ee("delete"),I(!0));return}y(D),h(!0)},C=async D=>{if(!(!H||!t)){c(!0);try{const E="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",q={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:U,targetSheet:"TROUBLE_RECORD",targetId:H.id,targetData:JSON.stringify(H),reason:D,status:"pending",requestedAt:new Date().toISOString()}};await fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),I(!1),oe(null)}catch(E){console.error("Error submitting approval:",E),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ae=async()=>{if(v){c(!0);try{const D=i.find(q=>q.id===v),E=await s(xr.TROUBLE_RECORD,{id:v,_plant:D==null?void 0:D._plant});if(E.success)o(q=>q.filter(W=>W.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(E.error||"Gagal menghapus data")}catch(D){console.error("Error deleting data:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},X=()=>{j(lu),k(null),d(!0)},K=i.filter(D=>{var ke,_e,Ye,at;const E=((ke=D.tanggal)==null?void 0:ke.includes(w))||((_e=D.area)==null?void 0:_e.toLowerCase().includes(w.toLowerCase()))||((Ye=D.deskripsiMasalah)==null?void 0:Ye.toLowerCase().includes(w.toLowerCase()))||((at=D.pic)==null?void 0:at.toLowerCase().includes(w.toLowerCase())),q=D._plant===A,me=new Date(D.tanggal||"").getFullYear()===parseInt(N);return E&&q&&me}),P={open:K.filter(D=>D.status==="Open").length,progress:K.filter(D=>D.status==="In Progress").length,closed:K.filter(D=>D.status==="Closed").length,pending:K.filter(D=>D.status==="Pending").length},M=D=>{switch(D){case"Open":return"danger";case"In Progress":return"warning";case"Closed":return"success";case"Pending":return"info";default:return"default"}},ie=[{key:"tanggal",header:"Tanggal",sortable:!0,render:D=>Ue(D)},{key:"shift",header:"Shift",render:D=>a.jsxs(Te,{variant:"primary",children:["Shift ",D]})},{key:"waktuKejadian",header:"Waktu",render:D=>an(D)},{key:"area",header:"Area",render:D=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hi,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:D})]})},{key:"deskripsiMasalah",header:"Deskripsi Masalah",render:D=>a.jsx("span",{className:"line-clamp-2 max-w-xs",children:D})},{key:"pic",header:"PIC"},{key:"status",header:"Status",render:D=>a.jsx(Te,{variant:M(D),children:D})},{key:"targetSelesai",header:"Target",render:D=>Ue(D)}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Trouble Record ",A==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Catatan masalah dan tindak lanjut"})]}),a.jsx("div",{className:"flex items-center gap-3",children:de&&a.jsxs(ce,{onClick:X,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Catat Trouble"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(we,{className:"p-4 border-l-4 border-l-red-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Hi,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Open"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:P.open})]})]})}),a.jsx(we,{className:"p-4 border-l-4 border-l-amber-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Ua,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:P.progress})]})]})}),a.jsx(we,{className:"p-4 border-l-4 border-l-green-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Hi,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Closed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:P.closed})]})]})}),a.jsx(we,{className:"p-4 border-l-4 border-l-gray-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(Hi,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:P.pending})]})]})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Data Trouble Record - Tahun ",N]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:D=>T(D.target.value),options:Rpe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:w,onChange:D=>S(D.target.value),className:"pl-9 w-64"})]})]})]})}),a.jsx(rr,{data:K,columns:ie,loading:l,searchable:!1,actions:D=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),G(D)},title:"Lihat Detail",children:a.jsx(Ni,{className:"h-4 w-4 text-dark-500"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),R(D.id)},title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),!xe&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),Q(D)},title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),L(D.id)},title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),j(lu),k(null)},title:m?"Edit Trouble Record":"Catat Trouble Baru",size:"lg",children:a.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:D=>j(E=>({...E,tanggal:D.target.value})),required:!0}),a.jsx(Me,{label:"Shift",value:x.shift,onChange:D=>j(E=>({...E,shift:D.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0}),a.jsx(he,{label:"Waktu Kejadian",type:"time",value:x.waktuKejadian,onChange:D=>j(E=>({...E,waktuKejadian:D.target.value})),required:!0})]}),a.jsx(Me,{label:"Area",value:x.area,onChange:D=>j(E=>({...E,area:D.target.value})),options:ve,placeholder:"Pilih area",required:!0}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Masalah"}),a.jsx("textarea",{value:x.deskripsiMasalah,onChange:D=>j(E=>({...E,deskripsiMasalah:D.target.value})),placeholder:"Jelaskan masalah yang terjadi...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Penyebab"}),a.jsx("textarea",{value:x.penyebab,onChange:D=>j(E=>({...E,penyebab:D.target.value})),placeholder:"Analisa penyebab...",className:"input-field min-h-[60px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tindakan"}),a.jsx("textarea",{value:x.tindakan,onChange:D=>j(E=>({...E,tindakan:D.target.value})),placeholder:"Tindakan yang dilakukan/direncanakan...",className:"input-field min-h-[60px]"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(Me,{label:"Status",value:x.status,onChange:D=>j(E=>({...E,status:D.target.value})),options:te,required:!0}),a.jsx(he,{label:"PIC",type:"text",value:x.pic,onChange:D=>j(E=>({...E,pic:D.target.value})),placeholder:"Nama PIC",required:!0}),a.jsx(he,{label:"Target Selesai",type:"date",value:x.targetSelesai,onChange:D=>j(E=>({...E,targetSelesai:D.target.value}))})]}),a.jsx(he,{label:"Keterangan",type:"text",value:x.keterangan,onChange:D=>j(E=>({...E,keterangan:D.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(lu),k(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qe,{isOpen:F,onClose:()=>{$(!1),_(null)},title:"Detail Trouble Record",size:"lg",children:O&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:`rounded-2xl p-6 text-white ${O.status==="Open"?"bg-gradient-to-r from-red-500 to-red-600":O.status==="In Progress"?"bg-gradient-to-r from-amber-500 to-amber-600":O.status==="Closed"?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Trouble Record"}),a.jsx("h2",{className:"text-2xl font-bold mt-1",children:O.area}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:A==="NPK1"?"NPK 1":"NPK 2"})]}),a.jsx(Te,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:O.status})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(aa,{className:"h-4 w-4 text-primary-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:Ue(O.tanggal||"")})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ua,{className:"h-4 w-4 text-amber-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Waktu"})]}),a.jsxs("p",{className:"font-semibold text-dark-900 dark:text-white",children:["Shift ",O.shift," - ",an(O.waktuKejadian)]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_l,{className:"h-4 w-4 text-blue-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"PIC"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:O.pic||"-"})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ml,{className:"h-4 w-4 text-green-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Target Selesai"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:O.targetSelesai?Ue(O.targetSelesai):"-"})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Hi,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300",children:"Deskripsi Masalah"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:O.deskripsiMasalah||"-"})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(la,{className:"h-5 w-5 text-amber-600"}),a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Analisa Penyebab"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:O.penyebab||"-"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(rl,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tindakan"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:O.tindakan||"-"})]}),O.keterangan&&a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(la,{className:"h-5 w-5 text-dark-500"}),a.jsx("h3",{className:"font-semibold text-dark-700 dark:text-dark-300",children:"Keterangan Tambahan"})]}),a.jsx("p",{className:"text-dark-600 dark:text-dark-400 leading-relaxed",children:O.keterangan})]}),a.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:a.jsx(ce,{variant:"secondary",onClick:()=>{$(!1),_(null)},children:"Tutup"})})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ae,title:"Hapus Trouble Record",message:"Apakah Anda yakin ingin menghapus record ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:B,onClose:()=>{I(!1),oe(null)},onSubmit:C,action:U,itemName:"data trouble record",loading:l}),a.jsx(Wt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:z,onClose:()=>{J(!1),V("")},sheetName:A==="NPK1"?"trouble_record_NPK1":"trouble_record",recordId:Z,title:"Log Aktivitas Trouble Record"})]})};function uA({plant:e}){const{user:t}=nt(),r=fr((t==null?void 0:t.role)||""),[n,s]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(!1),[u,d]=b.useState(""),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(!1),[v,y]=b.useState(null),[x,j]=b.useState(null),[w,S]=b.useState({judul:"",keterangan:""}),[N,T]=b.useState(null),[A,F]=b.useState(!1),[$,O]=b.useState(!1),[_,z]=b.useState("environment"),J=b.useRef(null),Z=b.useRef(null),V=b.useRef(null),R=b.useRef(null),B=O_(xr.DOKUMENTASI_FOTO,e),I=b.useCallback(async()=>{o(!0);try{const Q=await Zh(B);if(Q.success&&Q.data){const L=Q.data.map(C=>({...C,_plant:e,thumbnailUrl:`https://drive.google.com/thumbnail?id=${C.fileId}&sz=w400`}));L.sort((C,ae)=>new Date(ae.createdAt||ae.tanggal).getTime()-new Date(C.createdAt||C.tanggal).getTime()),s(L)}}catch(Q){console.error("Error fetching photos:",Q)}finally{o(!1)}},[B,e]);b.useEffect(()=>{I()},[I]),b.useEffect(()=>()=>{R.current&&(R.current.getTracks().forEach(Q=>Q.stop()),R.current=null)},[]);const U=b.useCallback(async(Q="environment")=>{T(null),F(!1),R.current&&(R.current.getTracks().forEach(L=>L.stop()),R.current=null);try{const L={video:{facingMode:Q,width:{ideal:3840,min:1920},height:{ideal:2160,min:1080},frameRate:{ideal:30,min:24},aspectRatio:{ideal:1.7777777777777777}},audio:!1};let C;try{C=await navigator.mediaDevices.getUserMedia(L)}catch{console.log("High quality not supported, falling back to standard"),C=await navigator.mediaDevices.getUserMedia({video:{facingMode:Q,width:{ideal:1920},height:{ideal:1080}},audio:!1})}R.current=C,J.current&&(J.current.srcObject=C,F(!0))}catch(L){console.error("Camera error:",L),L instanceof Error&&(L.name==="NotAllowedError"?T("Akses kamera ditolak. Mohon izinkan akses kamera di pengaturan browser."):L.name==="NotFoundError"?T("Kamera tidak ditemukan. Pastikan perangkat memiliki kamera."):L.name==="NotReadableError"?T("Kamera sedang digunakan aplikasi lain. Tutup aplikasi lain dan coba lagi."):T(`Error: ${L.message}`))}},[]),ee=b.useCallback(()=>{const Q=_==="environment"?"user":"environment";z(Q),U(Q)},[_,U]),H=b.useCallback(()=>{R.current&&(R.current.getTracks().forEach(Q=>Q.stop()),R.current=null),J.current&&(J.current.srcObject=null),F(!1)},[]),oe=b.useCallback(()=>{if(!J.current||!Z.current)return;const Q=J.current,L=Z.current,C=L.getContext("2d");if(!C)return;const ae=Q.videoWidth,X=Q.videoHeight;L.width=ae,L.height=X,C.imageSmoothingEnabled=!0,C.imageSmoothingQuality="high",C.drawImage(Q,0,0,ae,X);const K=L.toDataURL("image/jpeg",.95);j(K),H()},[H]),ue=b.useCallback(()=>{h(!1),O(!0)},[]),de=b.useCallback(Q=>{var ae;const L=(ae=Q.target.files)==null?void 0:ae[0];if(!L)return;if(L.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}const C=new FileReader;C.onload=X=>{var P;const K=(P=X.target)==null?void 0:P.result;j(K),H(),h(!1),O(!0)},C.readAsDataURL(L),Q.target.value=""},[H]),ye=()=>{j(null),S({judul:"",keterangan:""}),T(null),F(!1),h(!0)};b.useEffect(()=>{let Q=!0;if(f&&!x){const L=setTimeout(()=>{Q&&U(_)},200);return()=>{Q=!1,clearTimeout(L)}}return()=>{Q=!1}},[f,x,_,U]);const be=b.useCallback(()=>{H(),j(null),S({judul:"",keterangan:""}),T(null),h(!1),O(!1)},[H]),fe=b.useCallback(()=>{j(null),U(_)},[_,U]),xe=async()=>{if(!x||!w.judul.trim()){alert("Judul foto harus diisi!");return}c(!0);try{const Q=`${w.judul.replace(/[^a-zA-Z0-9-_]/g,"_")}_${Date.now()}.jpg`,L=await E_({judul:w.judul.trim(),keterangan:w.keterangan.trim(),imageBase64:x,fileName:Q,uploadBy:(t==null?void 0:t.username)||(t==null?void 0:t.nama)||"unknown",plant:e});L.success?(alert("Foto berhasil diupload!"),be(),I()):alert(`Gagal upload: ${L.error}`)}catch(Q){console.error("Upload error:",Q),alert("Terjadi kesalahan saat upload foto")}finally{c(!1)}},ve=async()=>{if(!(!(v!=null&&v.id)||!(v!=null&&v.fileId))){c(!0);try{const Q=await C_({id:v.id,fileId:v.fileId,plant:e});Q.success?(alert("Foto berhasil dihapus!"),k(!1),y(null),I()):alert(`Gagal menghapus: ${Q.error}`)}catch(Q){console.error("Delete error:",Q),alert("Terjadi kesalahan saat menghapus foto")}finally{c(!1)}}},te=Q=>{y(Q),g(!0)},G=n.filter(Q=>{var L,C,ae;return((L=Q.judul)==null?void 0:L.toLowerCase().includes(u.toLowerCase()))||((C=Q.keterangan)==null?void 0:C.toLowerCase().includes(u.toLowerCase()))||((ae=Q.uploadBy)==null?void 0:ae.toLowerCase().includes(u.toLowerCase()))}).reduce((Q,L)=>{const C=L.judul||"Lainnya";return Q[C]||(Q[C]=[]),Q[C].push(L),Q},{});return a.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dokumentasi Foto"}),a.jsxs("p",{className:"text-gray-600",children:["Plant ",e," - ",n.length," foto"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(he,{type:"text",placeholder:"Cari foto...",value:u,onChange:Q=>d(Q.target.value),className:"pl-10 w-full sm:w-64"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{variant:"outline",onClick:I,disabled:i,className:"flex-1 sm:flex-none",children:[a.jsx(Qi,{className:Ee("h-4 w-4 mr-2",i&&"animate-spin")}),"Refresh"]}),!r&&a.jsxs(ce,{onClick:ye,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[a.jsx(DS,{className:"h-4 w-4 mr-2"}),"Ambil Foto"]})]})]})]}),i&&a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Qh,{})}),!i&&n.length===0&&a.jsxs(we,{className:"p-12 text-center",children:[a.jsx(IS,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Foto"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Mulai dokumentasi dengan mengambil foto pertama"}),!r&&a.jsxs(ce,{onClick:ye,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(DS,{className:"h-4 w-4 mr-2"}),"Ambil Foto Sekarang"]})]}),!i&&Object.keys(G).length>0&&a.jsx("div",{className:"space-y-8",children:Object.entries(G).map(([Q,L])=>{var C;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(qK,{className:"h-5 w-5 text-yellow-500"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:Q}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",L.length," foto)"]}),((C=L[0])==null?void 0:C.folderUrl)&&a.jsxs("a",{href:L[0].folderUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[a.jsx($S,{className:"h-4 w-4"}),"Buka Folder"]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:L.map(ae=>a.jsxs(lr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>te(ae),children:[a.jsx("img",{src:ae.thumbnailUrl,alt:ae.judul,className:"w-full h-full object-cover",loading:"lazy",onError:X=>{X.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'/%3E%3C/svg%3E"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[a.jsx("p",{className:"text-white text-xs truncate",children:ae.tanggal}),ae.keterangan&&a.jsx("p",{className:"text-white/80 text-xs truncate",children:ae.keterangan})]})}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(l8,{className:"h-5 w-5 text-white drop-shadow-lg"})})]},ae.id))})]},Q)})}),f&&a.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[a.jsx("canvas",{ref:Z,style:{display:"none"}}),a.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:de,style:{display:"none"}}),x?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:x,alt:"Captured",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black"}}),a.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[a.jsx("button",{onClick:be,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(Kn,{size:24})}),a.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Preview Foto"}),a.jsx("div",{style:{width:"48px"}})]}),a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"48px"},children:[a.jsxs("button",{onClick:fe,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[a.jsx("div",{style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)"},children:a.jsx(vx,{size:28})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Ulangi"})]}),a.jsxs("button",{onClick:ue,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[a.jsx("div",{style:{padding:"20px",borderRadius:"50%",backgroundColor:"#22c55e"},children:a.jsx(UK,{size:40})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Gunakan Foto"})]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:J,autoPlay:!0,playsInline:!0,muted:!0,onCanPlay:()=>F(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transform:_==="user"?"scaleX(-1)":"none"}}),a.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[a.jsx("button",{onClick:be,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(Kn,{size:24})}),a.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Ambil Foto"}),a.jsx("button",{onClick:ee,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(vx,{size:24})})]}),!A&&!N&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",zIndex:20},children:a.jsxs("div",{style:{textAlign:"center",color:"white"},children:[a.jsx(Qh,{}),a.jsx("p",{style:{marginTop:"8px"},children:"Memuat kamera..."})]})}),N&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black",zIndex:20},children:a.jsxs("div",{style:{textAlign:"center",color:"white",padding:"24px",maxWidth:"320px"},children:[a.jsx(Hi,{size:64,style:{margin:"0 auto 16px",color:"#f87171"}}),a.jsx("p",{style:{marginBottom:"24px",fontSize:"18px"},children:N}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs(ce,{onClick:()=>U(),className:"bg-white text-black hover:bg-gray-200",children:[a.jsx(Qi,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]}),a.jsxs(ce,{variant:"outline",onClick:()=>{var Q;return(Q=V.current)==null?void 0:Q.click()},className:"text-white border-white hover:bg-white/10",children:[a.jsx(BS,{className:"h-4 w-4 mr-2"}),"Pilih dari Galeri"]})]})]})}),A&&a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"32px"},children:[a.jsx("button",{onClick:()=>{var Q;return(Q=V.current)==null?void 0:Q.click()},style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(IS,{size:28})}),a.jsx("button",{onClick:oe,style:{padding:"4px",borderRadius:"50%",backgroundColor:"white",border:"none",cursor:"pointer"},children:a.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"50%",border:"4px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"}})})}),a.jsx("div",{style:{width:"60px"}})]})})]})]}),a.jsx(ui,{children:$&&x&&a.jsx(qe,{isOpen:$,onClose:be,title:"Upload Foto",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[a.jsx("img",{src:x,alt:"Captured",className:"w-full h-48 object-cover"}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{O(!1),h(!0),fe()},className:"absolute bottom-2 right-2 bg-white/90 hover:bg-white",children:[a.jsx(vx,{className:"h-4 w-4 mr-1"}),"Ganti Foto"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Judul / Nama Folder ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(he,{type:"text",placeholder:"Contoh: C2-L-001",value:w.judul,onChange:Q=>S({...w,judul:Q.target.value}),className:"w-full"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Foto akan disimpan di folder sesuai judul ini"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keterangan"}),a.jsx("textarea",{placeholder:"Deskripsi foto (opsional)",value:w.keterangan,onChange:Q=>S({...w,keterangan:Q.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx(ce,{variant:"outline",onClick:be,className:"flex-1",disabled:l,children:"Batal"}),a.jsx(ce,{onClick:xe,disabled:l||!w.judul.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Qi,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):a.jsxs(a.Fragment,{children:[a.jsx(BS,{className:"h-4 w-4 mr-2"}),"Upload Foto"]})})]})]})]})})}),a.jsx(ui,{children:p&&v&&a.jsx(qe,{isOpen:p,onClose:()=>{g(!1),y(null)},title:v.judul,size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:a.jsx("img",{src:`https://drive.google.com/thumbnail?id=${v.fileId}&sz=w1200`,alt:v.judul,className:"w-full max-h-[60vh] object-contain"})}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Tanggal:"}),a.jsx("span",{className:"font-medium",children:v.tanggal})]}),v.keterangan&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Keterangan:"}),a.jsx("span",{className:"font-medium",children:v.keterangan})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Diupload oleh:"}),a.jsx("span",{className:"font-medium",children:v.uploadBy})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("a",{href:v.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:a.jsxs(ce,{variant:"outline",className:"w-full",children:[a.jsx($S,{className:"h-4 w-4 mr-2"}),"Buka di Drive"]})}),a.jsx("a",{href:`https://drive.google.com/uc?export=download&id=${v.fileId}`,download:!0,className:"flex-1",children:a.jsxs(ce,{variant:"outline",className:"w-full",children:[a.jsx(k_,{className:"h-4 w-4 mr-2"}),"Download"]})}),!r&&a.jsx(ce,{variant:"outline",onClick:()=>{g(!1),k(!0)},className:"text-red-600 border-red-300 hover:bg-red-50",children:a.jsx(Mt,{className:"h-4 w-4"})})]})]})})}),a.jsx(ui,{children:m&&v&&a.jsx(qe,{isOpen:m,onClose:()=>{k(!1),y(null)},title:"Hapus Foto",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:a.jsx(Mt,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:"Apakah Anda yakin ingin menghapus foto ini?"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Foto "',v.judul,'" akan dihapus dari Google Drive. Tindakan ini tidak dapat dibatalkan.']})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ce,{variant:"outline",onClick:()=>{k(!1),y(null)},className:"flex-1",disabled:l,children:"Batal"}),a.jsx(ce,{onClick:ve,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Qi,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})})})]})}const Ipe=[{value:"all",label:"Semua Bulan"},{value:"0",label:"Januari"},{value:"1",label:"Februari"},{value:"2",label:"Maret"},{value:"3",label:"April"},{value:"4",label:"Mei"},{value:"5",label:"Juni"},{value:"6",label:"Juli"},{value:"7",label:"Agustus"},{value:"8",label:"September"},{value:"9",label:"Oktober"},{value:"10",label:"November"},{value:"11",label:"Desember"}],Lpe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u0=new Date().getFullYear(),Bpe=[{value:"all",label:"Semua Tahun"},...Array.from({length:u0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(u0+1),label:String(u0+1)}],cu={tanggal:$t(),namaAlatBerat:"",pengajuanSolar:0,realisasiPengisian:0,keterangan:""},dA=({plant:e})=>{const{user:t}=nt(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Ar(),[i,o]=b.useState([]),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[m,k]=b.useState(null),[v,y]=b.useState(null),[x,j]=b.useState(cu),[w,S]=b.useState("all"),[N,T]=b.useState(String(new Date().getFullYear())),[A,F]=b.useState(!1),$=e,[O,_]=b.useState(!1),[z,J]=b.useState("edit"),[Z,V]=b.useState(null),[R,B]=b.useState(!1),[I,U]=b.useState(""),ee=X=>{U(X),B(!0)},H=fr((t==null?void 0:t.role)||""),oe=yr((t==null?void 0:t.role)||"")&&!H,ue=b.useCallback(()=>{if(u&&!l){const X=document.querySelector("form");X&&X.requestSubmit()}},[u,l]);nr(ue,u);const de=ak((t==null?void 0:t.role)||""),ye=sk((t==null?void 0:t.role)||""),be=Nr((t==null?void 0:t.role)||""),fe=Pr((t==null?void 0:t.role)||"");b.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:K,SHEETS:P}=await Re(async()=>{const{fetchDataByPlant:ie,SHEETS:D}=await Promise.resolve().then(()=>Ie);return{fetchDataByPlant:ie,SHEETS:D}},void 0),M=await K(P.REKAP_BBM);if(M.success&&M.data){const ie=[...M.data].sort((D,E)=>new Date(E.tanggal).getTime()-new Date(D.tanggal).getTime());o(ie)}else o([])}catch(K){console.error("Error fetching data:",K),o([])}finally{c(!1)}})()},[]);const xe=async X=>{X.preventDefault(),c(!0);try{if(m){const K={...x,id:m,_plant:$};(await n("rekap_bbm",K)).success&&o(M=>M.map(ie=>ie.id===m?{...K}:ie))}else{const K={...x,_plant:$},P=await r("rekap_bbm",K);P.success&&P.data&&o(M=>[P.data,...M])}g(!0),d(!1),k(null),j(cu)}catch(K){console.error("Error saving data:",K)}finally{c(!1)}},ve=X=>{H||(de?(j(X),k(X.id||null),d(!0)):be&&(V(X),J("edit"),_(!0)))},te=X=>{if(!H){if(ye)y(X),h(!0);else if(fe){const K=i.find(P=>P.id===X);K&&(V(K),J("delete"),_(!0))}}},ne=async()=>{if(v){c(!0);try{const X=i.find(P=>P.id===v);(await s("rekap_bbm",{id:v,_plant:X==null?void 0:X._plant})).success&&(o(P=>P.filter(M=>M.id!==v)),g(!0))}catch(X){console.error("Error deleting data:",X)}finally{c(!1),h(!1),y(null)}}},G=async X=>{if(Z){c(!0);try{const{createData:K,SHEETS:P}=await Re(async()=>{const{createData:ie,SHEETS:D}=await Promise.resolve().then(()=>Ie);return{createData:ie,SHEETS:D}},void 0),M={type:z,dataType:"rekap_bbm",dataId:Z.id,plant:$,requestBy:t==null?void 0:t.username,requestByName:(t==null?void 0:t.namaLengkap)||(t==null?void 0:t.nama),reason:X,data:JSON.stringify(Z),status:"pending",createdAt:new Date().toISOString()};await K(P.APPROVAL_REQUESTS,M),g(!0)}catch(K){console.error("Error creating approval request:",K)}finally{c(!1),_(!1),V(null)}}},Q=b.useMemo(()=>i.filter(X=>!(X._plant!==$||N!=="all"&&new Date(X.tanggal).getFullYear()!==parseInt(N)||w!=="all"&&new Date(X.tanggal).getMonth()!==parseInt(w))),[i,$,w,N]),L=b.useMemo(()=>{const X=Q.reduce((ie,D)=>ie+(D.pengajuanSolar||0),0),K=Q.reduce((ie,D)=>ie+(D.realisasiPengisian||0),0),P=K-X,M=Q.length;return{totalPengajuan:X,totalRealisasi:K,totalSelisih:P,totalRecord:M}},[Q]),C=[{key:"tanggal",header:"Tanggal",render:(X,K)=>Ue(K.tanggal),sortable:!0},{key:"namaAlatBerat",header:"Nama Alat Berat",sortable:!0},{key:"pengajuanSolar",header:"Pengajuan Solar (L)",render:(X,K)=>Y(K.pengajuanSolar),sortable:!0},{key:"realisasiPengisian",header:"Realisasi Pengisian (L)",render:(X,K)=>Y(K.realisasiPengisian),sortable:!0},{key:"selisih",header:"Selisih (L)",render:(X,K)=>{const P=K.realisasiPengisian-K.pengajuanSolar,M=P>=0?"text-green-600":"text-red-600";return a.jsx("span",{className:M,children:Y(P)})},sortable:!1},{key:"keterangan",header:"Keterangan",render:(X,K)=>K.keterangan||"-"}],ae=X=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>ee(X.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4"})}),!H&&(de||be)&&a.jsx("button",{onClick:()=>ve(X),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:be?"Ajukan Edit":"Edit",children:a.jsx(Bt,{className:"h-4 w-4"})}),!H&&(ye||fe)&&a.jsx("button",{onClick:()=>te(X.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:fe?"Ajukan Hapus":"Hapus",children:a.jsx(Mt,{className:"h-4 w-4"})})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-5 border border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-amber-500 rounded-lg",children:a.jsx(Jh,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-amber-700 uppercase tracking-wider",children:"Total Pengajuan"}),a.jsx("p",{className:"text-2xl font-bold text-amber-900",children:Y(L.totalPengajuan)}),a.jsx("p",{className:"text-xs text-amber-600",children:"Liter"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-blue-500 rounded-lg",children:a.jsx(di,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total Realisasi"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Y(L.totalRealisasi)}),a.jsx("p",{className:"text-xs text-blue-600",children:"Liter"})]})]})}),a.jsx("div",{className:`bg-gradient-to-br rounded-xl p-5 border ${L.totalSelisih>=0?"from-green-50 to-green-100 border-green-200":"from-red-50 to-red-100 border-red-200"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-lg ${L.totalSelisih>=0?"bg-green-500":"bg-red-500"}`,children:a.jsx(gl,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-xs font-medium uppercase tracking-wider ${L.totalSelisih>=0?"text-green-700":"text-red-700"}`,children:"Total Selisih"}),a.jsxs("p",{className:`text-2xl font-bold ${L.totalSelisih>=0?"text-green-900":"text-red-900"}`,children:[L.totalSelisih>=0?"+":"",Y(L.totalSelisih)]}),a.jsxs("p",{className:`text-xs ${L.totalSelisih>=0?"text-green-600":"text-red-600"}`,children:["Liter"," ",L.totalSelisih>=0?"(Surplus)":"(Defisit)"]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-5 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-slate-500 rounded-lg",children:a.jsx(Am,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Total Record"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:L.totalRecord}),a.jsxs("p",{className:"text-xs text-slate-600",children:[N==="all"?"Semua tahun":`Tahun ${N}`,w!=="all"&&`, ${Lpe[parseInt(w)]}`]})]})]})})]}),a.jsxs(we,{children:[a.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Jh,{className:"h-6 w-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx(rt,{children:"Rekap Pengajuan BBM Alat Berat"}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:["Plant ",$," - Data pengajuan dan realisasi BBM"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:N,onChange:X=>T(X.target.value),options:Bpe,className:"w-32"}),a.jsx(Me,{value:w,onChange:X=>S(X.target.value),options:Ipe,className:"w-40"}),a.jsxs(ce,{variant:"secondary",onClick:()=>F(!0),className:"border-amber-300 text-amber-700 hover:bg-amber-50",children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),oe&&a.jsxs(ce,{onClick:()=>{j(cu),k(null),d(!0)},children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(rr,{data:Q,columns:C,actions:ae,loading:l,emptyMessage:"Tidak ada data rekap BBM",searchable:!0,searchKeys:["namaAlatBerat","keterangan"]})]}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),k(null),j(cu)},title:m?"Edit Data BBM":"Tambah Data BBM",size:"md",children:a.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:x.tanggal,onChange:X=>j({...x,tanggal:X.target.value}),required:!0}),a.jsx(he,{label:"Nama Alat Berat",placeholder:"Contoh: Forklift 1, Loader A, dll",value:x.namaAlatBerat,onChange:X=>j({...x,namaAlatBerat:X.target.value}),required:!0}),a.jsx(he,{label:"Pengajuan Solar (Liter)",type:"text",placeholder:"0",value:x.pengajuanSolar?Y(x.pengajuanSolar):"",onChange:X=>j({...x,pengajuanSolar:le(X.target.value)}),required:!0}),a.jsx(he,{label:"Realisasi Pengisian (Liter)",type:"text",placeholder:"0",value:x.realisasiPengisian?Y(x.realisasiPengisian):"",onChange:X=>j({...x,realisasiPengisian:le(X.target.value)}),required:!0}),a.jsx(he,{label:"Keterangan",placeholder:"Keterangan tambahan (opsional)",value:x.keterangan||"",onChange:X=>j({...x,keterangan:X.target.value})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{d(!1),k(null),j(cu)},children:"Batal"}),a.jsx(ce,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ne,title:"Hapus Data BBM",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger",isLoading:l}),a.jsx(Tr,{isOpen:O,onClose:()=>{_(!1),V(null)},onSubmit:G,action:z,itemName:(Z==null?void 0:Z.namaAlatBerat)||"",loading:l}),a.jsx(Wt,{isVisible:p,message:m?"Data berhasil diupdate!":v?"Data berhasil dihapus!":"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(g8,{isOpen:A,onClose:()=>F(!1),data:Q,plant:$}),a.jsx(Br,{isOpen:R,onClose:()=>{B(!1),U("")},sheetName:$==="NPK1"?"rekap_bbm_NPK1":"rekap_bbm",recordId:I,title:"Log Aktivitas Rekap BBM"})]})},d0=new Date().getFullYear(),Fpe=[...Array.from({length:d0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(d0+1),label:String(d0+1)}],Jf={tanggal:$t(),area:"",ujiPenambahan10:0,ujiPenambahan20:0,ujiPenambahan30:0,ujiPenambahan40:0,ujiPenambahan50:0,ujiPengurangan50:0,ujiPengurangan40:0,ujiPengurangan30:0,ujiPengurangan20:0,ujiPengurangan10:0},Xf={ujiPenambahan10:"",ujiPenambahan20:"",ujiPenambahan30:"",ujiPenambahan40:"",ujiPenambahan50:"",ujiPengurangan50:"",ujiPengurangan40:"",ujiPengurangan30:"",ujiPengurangan20:"",ujiPengurangan10:""},Kpe=()=>{const{user:e}=nt(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Ar(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,v]=b.useState(null),[y,x]=b.useState(!1),[j,w]=b.useState(""),S=W=>{w(W),x(!0)},[N,T]=b.useState(null),[A,F]=b.useState(null),[$,O]=b.useState(Jf),[_,z]=b.useState(Xf),[J,Z]=b.useState(""),[V,R]=b.useState(String(new Date().getFullYear())),[B,I]=b.useState(!1),[U,ee]=b.useState("edit"),[H,oe]=b.useState(null),ue=fr((e==null?void 0:e.role)||""),de=yr((e==null?void 0:e.role)||"")&&!ue,ye=b.useCallback(()=>{if(c&&!o){const W=document.querySelector("form");W&&W.requestSubmit()}},[c,o]);nr(ye,c);const be=ak((e==null?void 0:e.role)||""),fe=sk((e==null?void 0:e.role)||""),xe=Nr((e==null?void 0:e.role)||""),ve=Pr((e==null?void 0:e.role)||""),te=[{value:"NPK 2",label:"NPK 2"},{value:"Blending",label:"Blending"},{value:"NPK Mini",label:"NPK Mini"}],ne=W=>W==null?"0.00":W.toFixed(2),G=(W,me)=>{const ke=me.replace(",",".");if(ke===""||/^\d*\.?\d*$/.test(ke)){z(Ye=>({...Ye,[W]:ke}));const _e=ke===""||ke==="."?0:parseFloat(ke)||0;O(Ye=>({...Ye,[W]:_e}))}},Q=()=>{const W=me=>parseFloat(me.replace(",","."))||0;return{ujiPenambahan10:W(_.ujiPenambahan10),ujiPenambahan20:W(_.ujiPenambahan20),ujiPenambahan30:W(_.ujiPenambahan30),ujiPenambahan40:W(_.ujiPenambahan40),ujiPenambahan50:W(_.ujiPenambahan50),ujiPengurangan50:W(_.ujiPengurangan50),ujiPengurangan40:W(_.ujiPengurangan40),ujiPengurangan30:W(_.ujiPengurangan30),ujiPengurangan20:W(_.ujiPengurangan20),ujiPengurangan10:W(_.ujiPengurangan10)}},L=W=>{const me=W.ujiPenambahan10-10,ke=W.ujiPenambahan20-20,_e=W.ujiPenambahan30-30,Ye=W.ujiPenambahan40-40,at=W.ujiPenambahan50-50,mt=W.ujiPengurangan50-50,Qe=W.ujiPengurangan40-40,zt=W.ujiPengurangan30-30,ua=W.ujiPengurangan20-20,Ta=W.ujiPengurangan10-10,Co=[me,ke,_e,Ye,at,mt,Qe,zt,ua,Ta],is=Co.reduce((je,Be)=>je+Math.abs(Be),0),pe=is/Co.length;return{selisihPenambahan10:me,selisihPenambahan20:ke,selisihPenambahan30:_e,selisihPenambahan40:Ye,selisihPenambahan50:at,selisihPengurangan50:mt,selisihPengurangan40:Qe,selisihPengurangan30:zt,selisihPengurangan20:ua,selisihPengurangan10:Ta,totalSelisih:is,rataRataSelisih:pe}};b.useEffect(()=>{(async()=>{l(!0);try{const{readData:me,SHEETS:ke}=await Re(async()=>{const{readData:Ye,SHEETS:at}=await Promise.resolve().then(()=>Ie);return{readData:Ye,SHEETS:at}},void 0),_e=await me(ke.RIKSA_TIMB_PORTABEL);if(_e.success&&_e.data){const at=[..._e.data.map(mt=>({...mt,...L(mt)}))].sort((mt,Qe)=>new Date(Qe.tanggal).getTime()-new Date(mt.tanggal).getTime());i(at)}else i([])}catch(me){console.error("Error fetching data:",me),i([])}finally{l(!1)}})()},[]);const C=async W=>{W.preventDefault(),l(!0);try{const me=Q(),ke={...$,...me},_e=L(ke),Ye={...ke,..._e};if(N){const at={...Ye,id:N},mt=await r("riksa_timb_portabel",at);if(mt.success)i(Qe=>Qe.map(zt=>zt.id===N?{...Ye,id:N}:zt));else throw new Error(mt.error||"Gagal mengupdate data")}else{const at=await t("riksa_timb_portabel",Ye);if(at.success&&at.data){const mt={...at.data,..._e};i(Qe=>[mt,...Qe])}else throw new Error(at.error||"Gagal menyimpan data")}u(!1),O(Jf),z(Xf),T(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(me){console.error("Error saving data:",me),alert(me instanceof Error?me.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},ae=W=>{var me,ke,_e,Ye,at,mt,Qe,zt,ua,Ta;if(xe){oe(W),ee("edit"),I(!0);return}O(W),z({ujiPenambahan10:((me=W.ujiPenambahan10)==null?void 0:me.toString())||"",ujiPenambahan20:((ke=W.ujiPenambahan20)==null?void 0:ke.toString())||"",ujiPenambahan30:((_e=W.ujiPenambahan30)==null?void 0:_e.toString())||"",ujiPenambahan40:((Ye=W.ujiPenambahan40)==null?void 0:Ye.toString())||"",ujiPenambahan50:((at=W.ujiPenambahan50)==null?void 0:at.toString())||"",ujiPengurangan50:((mt=W.ujiPengurangan50)==null?void 0:mt.toString())||"",ujiPengurangan40:((Qe=W.ujiPengurangan40)==null?void 0:Qe.toString())||"",ujiPengurangan30:((zt=W.ujiPengurangan30)==null?void 0:zt.toString())||"",ujiPengurangan20:((ua=W.ujiPengurangan20)==null?void 0:ua.toString())||"",ujiPengurangan10:((Ta=W.ujiPengurangan10)==null?void 0:Ta.toString())||""}),T(W.id||null),u(!0)},X=W=>{if(ve){const me=s.find(ke=>ke.id===W);me&&(oe(me),ee("delete"),I(!0));return}F(W),f(!0)},K=async()=>{if(A){l(!0);try{const W=await n("riksa_timb_portabel",{id:A});if(W.success)i(me=>me.filter(ke=>ke.id!==A)),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(W.error||"Gagal menghapus data")}catch(W){console.error("Error deleting data:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1),f(!1),F(null)}}},P=async W=>{if(H)try{const{createData:me,SHEETS:ke}=await Re(async()=>{const{createData:Ye,SHEETS:at}=await Promise.resolve().then(()=>Ie);return{createData:Ye,SHEETS:at}},void 0),_e={requestBy:(e==null?void 0:e.username)||"",requestByName:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",requestDate:new Date().toISOString(),action:U,sheetType:"riksa_timb_portabel",dataId:H.id||"",dataPreview:`${Ue(H.tanggal)} - ${H.area}`,reason:W,status:"pending",requesterPlant:(e==null?void 0:e.plant)||"NPK2"};await me(ke.APPROVAL_REQUESTS,_e),alert("Permintaan approval telah dikirim"),I(!1),oe(null)}catch(me){console.error("Error submitting approval:",me),alert("Gagal mengirim permintaan approval")}},M=W=>{const me={...W,...L(W)};v(me),m(!0)},ie=s.filter(W=>{const me=W.area.toLowerCase().includes(J.toLowerCase())||W.tanggal.includes(J),_e=new Date(W.tanggal).getFullYear()===parseInt(V);return me&&_e}),D=[{key:"tanggal",header:"Tanggal",render:W=>Ue(W),sortable:!0},{key:"area",header:"Area",sortable:!0},{key:"rataRataSelisih",header:"Rata-rata Selisih",render:W=>a.jsxs("span",{className:Ee("font-semibold",Math.abs(W)<=.5?"text-green-600":Math.abs(W)<=1?"text-yellow-600":"text-red-600"),children:[ne(W)," kg"]}),sortable:!0},{key:"actions",header:"Aksi",render:(W,me)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>M(me),title:"Lihat Detail",children:a.jsx(Ni,{className:"h-4 w-4 text-blue-500"})}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>S(me.id),title:"Lihat Log",children:a.jsx(Nt,{className:"h-4 w-4 text-purple-600"})}),(be||xe)&&!ue&&a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>ae(me),title:"Edit",children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),(fe||ve)&&!ue&&a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>X(me.id),title:"Hapus",children:a.jsx(Mt,{className:"h-4 w-4 text-red-500"})})]})}],E=({value:W,label:me})=>{const ke=Math.abs(W)<=.5,_e=Math.abs(W)>.5&&Math.abs(W)<=1;return a.jsxs("div",{className:Ee("flex items-center justify-between p-3 rounded-lg",ke?"bg-green-50 border border-green-200":_e?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"),children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:me}),a.jsxs("div",{className:"flex items-center gap-2",children:[W>=0?a.jsx(di,{className:Ee("h-4 w-4",ke?"text-green-500":_e?"text-yellow-500":"text-red-500")}):a.jsx(gl,{className:Ee("h-4 w-4",ke?"text-green-500":_e?"text-yellow-500":"text-red-500")}),a.jsxs("span",{className:Ee("font-bold",ke?"text-green-600":_e?"text-yellow-600":"text-red-600"),children:[W>=0?"+":"",ne(W)," kg"]})]})]})},q=()=>{if(!k)return null;const W=L(k),me=W.rataRataSelisih<=.5,ke=W.rataRataSelisih>.5&&W.rataRataSelisih<=1,_e=[{std:10,hasil:k.ujiPenambahan10,selisih:W.selisihPenambahan10},{std:20,hasil:k.ujiPenambahan20,selisih:W.selisihPenambahan20},{std:30,hasil:k.ujiPenambahan30,selisih:W.selisihPenambahan30},{std:40,hasil:k.ujiPenambahan40,selisih:W.selisihPenambahan40},{std:50,hasil:k.ujiPenambahan50,selisih:W.selisihPenambahan50}],Ye=[{std:50,hasil:k.ujiPengurangan50,selisih:W.selisihPengurangan50},{std:40,hasil:k.ujiPengurangan40,selisih:W.selisihPengurangan40},{std:30,hasil:k.ujiPengurangan30,selisih:W.selisihPengurangan30},{std:20,hasil:k.ujiPengurangan20,selisih:W.selisihPengurangan20},{std:10,hasil:k.ujiPengurangan10,selisih:W.selisihPengurangan10}],at=Qe=>{const zt=Math.abs(Qe);return zt<=.5?"text-green-600":zt<=1?"text-yellow-600":"text-red-600"},mt=Qe=>{const zt=Math.abs(Qe);return zt<=.5?"bg-green-50":zt<=1?"bg-yellow-50":"bg-red-50"};return a.jsx(qe,{isOpen:g,onClose:()=>m(!1),title:"",size:"xl",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:Ee("p-4 rounded-xl text-center",me?"bg-gradient-to-r from-green-500 to-emerald-600":ke?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-600"),children:[a.jsx(LS,{className:"h-8 w-8 mx-auto text-white mb-1"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Hasil Riksa Timbangan Portabel"}),a.jsxs("p",{className:"text-white/90 text-sm",children:[k.area,"  ",Ue(k.tanggal)]}),a.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[me?a.jsx(VK,{className:"h-4 w-4 text-white"}):a.jsx(xu,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:me?"Kalibrasi BAIK":ke?"Perlu Perhatian":"Perlu Kalibrasi Ulang"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Selisih Absolut"}),a.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[ne(W.totalSelisih)," kg"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Rata-rata Selisih"}),a.jsxs("p",{className:"text-lg font-bold text-purple-700",children:[ne(W.rataRataSelisih)," kg"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-green-500 px-3 py-1.5 flex items-center gap-1.5",children:[a.jsx(di,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Penambahan"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 text-xs font-medium text-gray-500",children:[a.jsx("span",{children:"Standar"}),a.jsx("span",{className:"text-center",children:"Hasil"}),a.jsx("span",{className:"text-right",children:"Selisih"})]}),_e.map((Qe,zt)=>a.jsxs("div",{className:Ee("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",mt(Qe.selisih)),children:[a.jsxs("span",{className:"font-medium text-gray-700",children:[Qe.std," kg"]}),a.jsxs("span",{className:"text-center font-semibold text-gray-800",children:[ne(Qe.hasil)," kg"]}),a.jsxs("span",{className:Ee("text-right font-bold",at(Qe.selisih)),children:[Qe.selisih>=0?"+":"",ne(Qe.selisih)," kg"]})]},zt))]})]}),a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-red-500 px-3 py-1.5 flex items-center gap-1.5",children:[a.jsx(gl,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Pengurangan"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 text-xs font-medium text-gray-500",children:[a.jsx("span",{children:"Standar"}),a.jsx("span",{className:"text-center",children:"Hasil"}),a.jsx("span",{className:"text-right",children:"Selisih"})]}),Ye.map((Qe,zt)=>a.jsxs("div",{className:Ee("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",mt(Qe.selisih)),children:[a.jsxs("span",{className:"font-medium text-gray-700",children:[Qe.std," kg"]}),a.jsxs("span",{className:"text-center font-semibold text-gray-800",children:[ne(Qe.hasil)," kg"]}),a.jsxs("span",{className:Ee("text-right font-bold",at(Qe.selisih)),children:[Qe.selisih>=0?"+":"",ne(Qe.selisih)," kg"]})]},zt))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),a.jsx("span",{className:"text-gray-500",children:"0.5kg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-yellow-500"}),a.jsx("span",{className:"text-gray-500",children:"0.5-1kg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-red-500"}),a.jsx("span",{className:"text-gray-500",children:">1kg"})]})]}),a.jsx(ce,{size:"sm",onClick:()=>m(!1),children:"Tutup"})]})]})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we,{children:[a.jsxs(tt,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl shadow-lg",children:a.jsx(LS,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(rt,{children:["Riksa Timbangan Portabel - Tahun ",V]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Data pengujian kalibrasi timbangan portabel"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:V,onChange:W=>R(W.target.value),options:Fpe,className:"w-32"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(he,{placeholder:"Cari data...",value:J,onChange:W=>Z(W.target.value),className:"pl-10 w-64"})]}),de&&a.jsxs(ce,{onClick:()=>u(!0),children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(rr,{columns:D,data:ie,loading:o,emptyMessage:"Belum ada data riksa timbangan portabel"})]}),a.jsx(qe,{isOpen:c,onClose:()=>{u(!1),O(Jf),z(Xf),T(null)},title:N?"Edit Data Riksa Timbangan":"Tambah Data Riksa Timbangan",size:"lg",children:a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Tanggal",type:"date",value:$.tanggal,onChange:W=>O({...$,tanggal:W.target.value}),required:!0}),a.jsx(Me,{label:"Area",value:$.area,onChange:W=>O({...$,area:W.target.value}),options:te,placeholder:"Pilih Area",required:!0})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[a.jsx(di,{className:"h-5 w-5"}),"Uji Penambahan"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(he,{label:"10 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan10,onChange:W=>G("ujiPenambahan10",W.target.value),placeholder:"Contoh: 10.02",required:!0}),a.jsx(he,{label:"20 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan20,onChange:W=>G("ujiPenambahan20",W.target.value),placeholder:"Contoh: 20.05",required:!0}),a.jsx(he,{label:"30 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan30,onChange:W=>G("ujiPenambahan30",W.target.value),placeholder:"Contoh: 30.01",required:!0}),a.jsx(he,{label:"40 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan40,onChange:W=>G("ujiPenambahan40",W.target.value),placeholder:"Contoh: 40.03",required:!0}),a.jsx(he,{label:"50 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan50,onChange:W=>G("ujiPenambahan50",W.target.value),placeholder:"Contoh: 50.02",required:!0})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2",children:[a.jsx(gl,{className:"h-5 w-5"}),"Uji Pengurangan"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(he,{label:"50 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan50,onChange:W=>G("ujiPengurangan50",W.target.value),placeholder:"Contoh: 50.01",required:!0}),a.jsx(he,{label:"40 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan40,onChange:W=>G("ujiPengurangan40",W.target.value),placeholder:"Contoh: 40.02",required:!0}),a.jsx(he,{label:"30 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan30,onChange:W=>G("ujiPengurangan30",W.target.value),placeholder:"Contoh: 30.03",required:!0}),a.jsx(he,{label:"20 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan20,onChange:W=>G("ujiPengurangan20",W.target.value),placeholder:"Contoh: 20.01",required:!0}),a.jsx(he,{label:"10 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan10,onChange:W=>G("ujiPengurangan10",W.target.value),placeholder:"Contoh: 10.02",required:!0})]})]}),($.ujiPenambahan10>0||$.ujiPengurangan10>0)&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preview Selisih"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[$.ujiPenambahan10>0&&a.jsx(E,{value:$.ujiPenambahan10-10,label:"+10kg"}),$.ujiPenambahan20>0&&a.jsx(E,{value:$.ujiPenambahan20-20,label:"+20kg"}),$.ujiPenambahan30>0&&a.jsx(E,{value:$.ujiPenambahan30-30,label:"+30kg"}),$.ujiPenambahan40>0&&a.jsx(E,{value:$.ujiPenambahan40-40,label:"+40kg"}),$.ujiPenambahan50>0&&a.jsx(E,{value:$.ujiPenambahan50-50,label:"+50kg"}),$.ujiPengurangan50>0&&a.jsx(E,{value:$.ujiPengurangan50-50,label:"-50kg"}),$.ujiPengurangan40>0&&a.jsx(E,{value:$.ujiPengurangan40-40,label:"-40kg"}),$.ujiPengurangan30>0&&a.jsx(E,{value:$.ujiPengurangan30-30,label:"-30kg"}),$.ujiPengurangan20>0&&a.jsx(E,{value:$.ujiPengurangan20-20,label:"-20kg"}),$.ujiPengurangan10>0&&a.jsx(E,{value:$.ujiPengurangan10-10,label:"-10kg"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>{u(!1),O(Jf),z(Xf),T(null)},children:"Batal"}),a.jsx(ce,{type:"submit",disabled:o,children:o?"Menyimpan...":N?"Update":"Simpan"})]})]})}),a.jsx(q,{}),a.jsx(Xt,{isOpen:d,onClose:()=>f(!1),onConfirm:K,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),a.jsx(Tr,{isOpen:B,onClose:()=>{I(!1),oe(null)},onSubmit:P,action:U,itemName:H?`${Ue(H.tanggal)} - ${H.area}`:"data ini"}),a.jsx(Wt,{isVisible:h,message:"Data berhasil disimpan!"}),a.jsx(Br,{isOpen:y,onClose:()=>{x(!1),w("")},sheetName:"riksa_timb_portabel",recordId:j,title:"Log Aktivitas Riksa Timbangan Portabel"})]})},zpe=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[s,i]=b.useState({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),o=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],l=async c=>{c.preventDefault();const u=await r(s);u.success?(i({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),t()):alert(u.error||"Gagal menambah material")};return a.jsx(qe,{isOpen:e,onClose:t,title:"Tambah Material Baru",size:"md",children:a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsx(he,{label:"Kode Material",value:s.kode_material,onChange:c=>i({...s,kode_material:c.target.value}),placeholder:"Contoh: MTL-001",required:!0}),a.jsx(he,{label:"Nama Material",value:s.nama_material,onChange:c=>i({...s,nama_material:c.target.value}),placeholder:"Contoh: Bearing SKF 6205",required:!0}),a.jsx(Me,{label:"Satuan",value:s.satuan,onChange:c=>i({...s,satuan:c.target.value}),options:o}),a.jsx(he,{label:"Stok Awal",type:"number",value:s.stok.toString(),onChange:c=>i({...s,stok:le(c.target.value)}),min:0}),a.jsx(he,{label:"Stok Minimum (Alert)",type:"number",value:s.stok_minimum.toString(),onChange:c=>i({...s,stok_minimum:le(c.target.value)}),min:0}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:n,children:"Simpan"})]})]})})},Vpe=({isOpen:e,onClose:t,material:r,onSubmit:n,loading:s})=>{const[i,o]=b.useState({kode_material:"",nama_material:"",satuan:"pcs",stok_minimum:0});b.useState(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})}),b.useMemo(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})},[r]);const l=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],c=async u=>{if(u.preventDefault(),!(r!=null&&r.id))return;const d=await n({id:r.id,...i});d.success?t():alert(d.error||"Gagal mengupdate material")};return r?a.jsx(qe,{isOpen:e,onClose:t,title:"Edit Material",size:"md",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsx(he,{label:"Kode Material",value:i.kode_material,onChange:u=>o({...i,kode_material:u.target.value}),required:!0}),a.jsx(he,{label:"Nama Material",value:i.nama_material,onChange:u=>o({...i,nama_material:u.target.value}),required:!0}),a.jsx(Me,{label:"Satuan",value:i.satuan,onChange:u=>o({...i,satuan:u.target.value}),options:l}),a.jsx(he,{label:"Stok Minimum (Alert)",type:"number",value:i.stok_minimum.toString(),onChange:u=>o({...i,stok_minimum:le(u.target.value)}),min:0}),a.jsxs("div",{className:"text-sm text-dark-500 dark:text-dark-400 bg-dark-50 dark:bg-dark-700 p-3 rounded-lg",children:[a.jsxs("p",{children:["Stok saat ini:"," ",a.jsxs("strong",{children:[Y(r.stok)," ",r.satuan]})]}),a.jsx("p",{className:"text-xs mt-1",children:"Untuk mengubah stok, gunakan menu Tambah Stok atau Ambil Stok."})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:s,children:"Update"})]})]})}):null},Upe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:s})=>{const[i,o]=b.useState({materialId:"",jumlah:0,keterangan:""}),l=r.map(u=>({value:u.id||"",label:`${u.kode_material} - ${u.nama_material} (Stok: ${Y(u.stok)} ${u.satuan})`})),c=async u=>{if(u.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}const d=await n(i.materialId,i.jumlah,i.keterangan);d.success?(o({materialId:"",jumlah:0,keterangan:""}),t()):alert(d.error||"Gagal menambah stok")};return a.jsx(qe,{isOpen:e,onClose:t,title:"Tambah Stok Material",size:"md",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(jv,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Stok Masuk"})]}),a.jsx(Me,{label:"Pilih Material",value:i.materialId,onChange:u=>o({...i,materialId:u.target.value}),options:[{value:"",label:"-- Pilih Material --"},...l],required:!0}),a.jsx(he,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:u=>o({...i,jumlah:le(u.target.value)}),min:1,required:!0}),a.jsx(he,{label:"Keterangan",value:i.keterangan,onChange:u=>o({...i,keterangan:u.target.value}),placeholder:"Contoh: Pembelian dari vendor X"}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsxs(ce,{type:"submit",isLoading:s,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(jv,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]})]})]})})},Hpe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:s})=>{const[i,o]=b.useState({materialId:"",jumlah:0,keterangan:""}),[l,c]=b.useState(null),u=r.map(h=>({value:h.id||"",label:`${h.kode_material} - ${h.nama_material} (Stok: ${Y(h.stok)} ${h.satuan})`})),d=h=>{o({...i,materialId:h});const p=r.find(g=>g.id===h)||null;c(p)},f=async h=>{if(h.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}if(l&&i.jumlah>l.stok){alert(`Stok tidak cukup! Stok tersedia: ${Y(l.stok)} ${l.satuan}`);return}const p=await n(i.materialId,i.jumlah,i.keterangan);p.success?(o({materialId:"",jumlah:0,keterangan:""}),c(null),t()):alert(p.error||"Gagal mengambil stok")};return a.jsx(qe,{isOpen:e,onClose:t,title:"Ambil Stok Material",size:"md",children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(Sv,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Stok Keluar"})]}),a.jsx(Me,{label:"Pilih Material",value:i.materialId,onChange:h=>d(h.target.value),options:[{value:"",label:"-- Pilih Material --"},...u],required:!0}),l&&a.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 p-3 rounded-lg text-sm",children:a.jsxs("p",{children:["Stok tersedia:"," ",a.jsxs("strong",{className:"text-primary-600",children:[Y(l.stok)," ",l.satuan]})]})}),a.jsx(he,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:h=>o({...i,jumlah:le(h.target.value)}),min:1,max:(l==null?void 0:l.stok)||void 0,required:!0}),a.jsx(he,{label:"Keterangan",value:i.keterangan,onChange:h=>o({...i,keterangan:h.target.value}),placeholder:"Contoh: Pemakaian untuk maintenance pump",required:!0}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsxs(ce,{type:"submit",isLoading:s,className:"bg-red-600 hover:bg-red-700",children:[a.jsx(Sv,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]})]})})},Wpe=({isOpen:e,onClose:t,materials:r})=>{const{transactions:n,loading:s,updateFilters:i,clearFilters:o}=xpe(),[l,c]=b.useState({material_id:"",start_date:"",end_date:""}),u=r.map(g=>({value:g.id||"",label:`${g.kode_material} - ${g.nama_material}`})),d=g=>{const m=r.find(k=>k.id===g);return m?`${m.kode_material} - ${m.nama_material}`:g},f=()=>{i({material_id:l.material_id||void 0,start_date:l.start_date||void 0,end_date:l.end_date||void 0})},h=()=>{c({material_id:"",start_date:"",end_date:""}),o()},p=[{key:"created_at",header:"Tanggal",render:(g,m)=>GE(m.created_at||"")},{key:"material_id",header:"Material",render:(g,m)=>d(m.material_id)},{key:"tipe_transaksi",header:"Tipe",render:(g,m)=>a.jsx(Te,{variant:m.tipe_transaksi==="masuk"?"success":"danger",children:m.tipe_transaksi==="masuk"?"Masuk":"Keluar"})},{key:"jumlah",header:"Jumlah",render:(g,m)=>Y(m.jumlah)},{key:"keterangan",header:"Keterangan",render:(g,m)=>m.keterangan||"-"}];return a.jsx(qe,{isOpen:e,onClose:t,title:"Riwayat Transaksi Material",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-dark-50 dark:bg-dark-700 p-4 rounded-lg",children:[a.jsx(Me,{label:"Material",value:l.material_id,onChange:g=>c({...l,material_id:g.target.value}),options:[{value:"",label:"Semua Material"},...u]}),a.jsx(he,{label:"Dari Tanggal",type:"date",value:l.start_date,onChange:g=>c({...l,start_date:g.target.value})}),a.jsx(he,{label:"Sampai Tanggal",type:"date",value:l.end_date,onChange:g=>c({...l,end_date:g.target.value})}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs(ce,{onClick:f,variant:"primary",size:"sm",children:[a.jsx(Ht,{className:"h-4 w-4 mr-1"}),"Filter"]}),a.jsx(ce,{onClick:h,variant:"outline",size:"sm",children:"Reset"})]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsx(rr,{data:n,columns:p,loading:s,emptyMessage:"Belum ada transaksi"})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(ce,{onClick:t,children:"Tutup"})})]})})},Gpe=()=>{const{user:e}=nt(),{materials:t,loading:r,error:n,refetch:s,addMaterial:i,updateMaterial:o,deleteMaterial:l,stockMasuk:c,stockKeluar:u}=gpe(),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[k,v]=b.useState(!1),[y,x]=b.useState(!1),[j,w]=b.useState(!1),[S,N]=b.useState(!1),[T,A]=b.useState(null),[F,$]=b.useState(null),[O,_]=b.useState(""),[z,J]=b.useState(1),Z=10,V=fr((e==null?void 0:e.role)||""),R=yr((e==null?void 0:e.role)||"")&&!V,B=ak((e==null?void 0:e.role)||"")&&!V,I=sk((e==null?void 0:e.role)||"")&&!V,U=b.useMemo(()=>{let G=[...t];if(O){const Q=O.toLowerCase();G=G.filter(L=>L.kode_material.toLowerCase().includes(Q)||L.nama_material.toLowerCase().includes(Q))}return G},[t,O]),ee=b.useMemo(()=>{const G=(z-1)*Z;return U.slice(G,G+Z)},[U,z]),H=Math.ceil(U.length/Z),oe=G=>{A(G),p(!0)},ue=G=>{$(G),w(!0)},de=async()=>{if(!F)return;const G=await l(F);G.success?(N(!0),setTimeout(()=>N(!1),2e3)):alert(G.error||"Gagal menghapus material"),w(!1),$(null)},ye=async G=>{const Q=await i(G);return Q.success&&(N(!0),setTimeout(()=>N(!1),2e3)),Q},be=async G=>{const Q=await o(G);return Q.success&&(N(!0),setTimeout(()=>N(!1),2e3)),Q},fe=async(G,Q,L)=>{const C=await c(G,Q,L);return C.success&&(N(!0),setTimeout(()=>N(!1),2e3)),C},xe=async(G,Q,L)=>{const C=await u(G,Q,L);return C.success&&(N(!0),setTimeout(()=>N(!1),2e3)),C},ve=b.useCallback(()=>{},[]);nr(ve,d||h||g||k);const te=[{key:"kode_material",header:"Kode",render:(G,Q)=>a.jsx("span",{className:"font-mono text-primary-600 dark:text-primary-400",children:Q.kode_material})},{key:"nama_material",header:"Nama Material"},{key:"satuan",header:"Satuan",render:(G,Q)=>Q.satuan.toUpperCase()},{key:"stok",header:"Stok",render:(G,Q)=>{const L=Q.stok<=Q.stok_minimum;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:L?"text-red-600 dark:text-red-400 font-bold":"",children:Y(Q.stok)}),L&&a.jsxs(Te,{variant:"danger",className:"flex items-center gap-1",children:[a.jsx(Cl,{className:"h-3 w-3"}),"Menipis"]})]})}},{key:"stok_minimum",header:"Min. Stok",render:(G,Q)=>Y(Q.stok_minimum)},{key:"actions",header:"Aksi",render:(G,Q)=>a.jsxs("div",{className:"flex items-center gap-1",children:[B&&a.jsx("button",{onClick:()=>oe(Q),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Material",children:a.jsx(Bt,{className:"h-4 w-4"})}),I&&a.jsx("button",{onClick:()=>ue(Q.id||""),className:"p-1.5 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Hapus Material",children:a.jsx(Mt,{className:"h-4 w-4"})})]})}],ne=t.filter(G=>G.stok<=G.stok_minimum).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Wt,{isVisible:S,message:"Berhasil!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[a.jsx(yi,{className:"h-7 w-7 text-primary-600"}),"Inventaris Stok Material"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola stok material consumable"})]}),ne>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2 flex items-center gap-2",children:[a.jsx(Cl,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),a.jsxs("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:[ne," material stok menipis"]})]})]}),n&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:n}),a.jsx(we,{children:a.jsxs("div",{className:"p-4 flex flex-wrap gap-3",children:[R&&a.jsxs(a.Fragment,{children:[a.jsxs(ce,{onClick:()=>f(!0),children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah Material"]}),a.jsxs(ce,{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(jv,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]}),a.jsxs(ce,{onClick:()=>v(!0),className:"bg-red-600 hover:bg-red-700",children:[a.jsx(Sv,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]}),a.jsxs(ce,{variant:"outline",onClick:()=>x(!0),children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Riwayat Transaksi"]}),a.jsxs(ce,{variant:"outline",onClick:s,children:[a.jsx(Qi,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs(rt,{className:"flex items-center justify-between",children:[a.jsxs("span",{children:["Daftar Material (",U.length,")"]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"Cari material...",value:O,onChange:G=>{_(G.target.value),J(1)},className:"pl-9 pr-4 py-2 text-sm border border-dark-200 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-800 text-dark-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx(rr,{data:ee,columns:te,loading:r,emptyMessage:"Belum ada data material"}),H>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-dark-200 dark:border-dark-700",children:[a.jsxs("span",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Halaman ",z," dari ",H]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>J(G=>Math.max(1,G-1)),disabled:z===1,children:"Sebelumnya"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>J(G=>Math.min(H,G+1)),disabled:z===H,children:"Selanjutnya"})]})]})]})]}),a.jsx(zpe,{isOpen:d,onClose:()=>f(!1),onSubmit:ye,loading:r}),a.jsx(Vpe,{isOpen:h,onClose:()=>{p(!1),A(null)},material:T,onSubmit:be,loading:r}),a.jsx(Upe,{isOpen:g,onClose:()=>m(!1),materials:t,onSubmit:fe,loading:r}),a.jsx(Hpe,{isOpen:k,onClose:()=>v(!1),materials:t,onSubmit:xe,loading:r}),a.jsx(Wpe,{isOpen:y,onClose:()=>x(!1),materials:t}),a.jsx(Xt,{isOpen:j,onClose:()=>w(!1),onConfirm:de,title:"Hapus Material",message:"Apakah Anda yakin ingin menghapus material ini? Semua riwayat transaksi material ini akan tetap tersimpan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"})]})},qpe=()=>{var x,j;const{user:e,logout:t}=nt(),[r,n]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState("profile"),[c,u]=b.useState({nama:(e==null?void 0:e.nama)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"Produksi"}),[d,f]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=b.useState({emailNotifications:!0,pushNotifications:!0,dailyReport:!0,weeklyReport:!1,alertDowntime:!0,alertWorkRequest:!0}),g=async w=>{w.preventDefault(),n(!0);try{const{updateData:S,SHEETS:N}=await Re(async()=>{const{updateData:T,SHEETS:A}=await Promise.resolve().then(()=>Ie);return{updateData:T,SHEETS:A}},void 0);if(e!=null&&e.id){const T={id:e.id,nama:c.nama,email:c.email,phone:c.phone,department:c.department},A=await S(N.USERS,T);if(A.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(A.error||"Gagal mengupdate profile")}}catch(S){console.error("Error updating profile:",S),alert(S instanceof Error?S.message:"Terjadi kesalahan saat mengupdate profile")}finally{n(!1)}},m=async w=>{if(w.preventDefault(),d.newPassword!==d.confirmPassword){alert("Password baru dan konfirmasi tidak cocok");return}n(!0);try{const{updateData:S,SHEETS:N}=await Re(async()=>{const{updateData:T,SHEETS:A}=await Promise.resolve().then(()=>Ie);return{updateData:T,SHEETS:A}},void 0);if(e!=null&&e.id){const T={id:e.id,password:d.newPassword,currentPassword:d.currentPassword},A=await S(N.USERS,T);if(A.success)f({currentPassword:"",newPassword:"",confirmPassword:""}),i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(A.error||"Gagal mengupdate password")}}catch(S){console.error("Error updating password:",S),alert(S instanceof Error?S.message:"Terjadi kesalahan saat mengupdate password")}finally{n(!1)}},k=async w=>{w.preventDefault(),n(!0);try{const{updateData:S,SHEETS:N}=await Re(async()=>{const{updateData:T,SHEETS:A}=await Promise.resolve().then(()=>Ie);return{updateData:T,SHEETS:A}},void 0);if(e!=null&&e.id){const T={id:e.id,notificationSettings:h},A=await S(N.USERS,T);if(A.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(A.error||"Gagal mengupdate notifikasi")}}catch(S){console.error("Error updating notifications:",S),alert(S instanceof Error?S.message:"Terjadi kesalahan saat mengupdate notifikasi")}finally{n(!1)}},v=w=>{switch(w){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";default:return"warning"}},y=[{id:"profile",label:"Profile",icon:_l},{id:"password",label:"Password",icon:Pv},{id:"notifications",label:"Notifikasi",icon:qh}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Pengaturan Akun"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola informasi akun dan preferensi Anda"})]}),a.jsx(we,{className:"p-6 bg-gradient-to-r from-primary-50 to-indigo-50 border-primary-200",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white text-2xl font-bold",children:((x=e==null?void 0:e.nama)==null?void 0:x.charAt(0).toUpperCase())||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:(e==null?void 0:e.nama)||"User"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400",children:(e==null?void 0:e.email)||"user@example.com"}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsxs(Te,{variant:v((e==null?void 0:e.role)||"user"),children:[a.jsx(S_,{className:"h-3 w-3 mr-1"}),((j=e==null?void 0:e.role)==null?void 0:j.toUpperCase())||"USER"]}),a.jsx(Te,{variant:"primary",children:(e==null?void 0:e.plant)||"NPK2"})]})]}),a.jsx(ce,{variant:"secondary",onClick:t,children:"Logout"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx(we,{className:"p-4 h-fit",children:a.jsx("nav",{className:"space-y-1",children:y.map(w=>a.jsxs("button",{onClick:()=>l(w.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ${o===w.id?"bg-primary-100 text-primary-700 font-medium":"text-dark-600 hover:bg-dark-50"}`,children:[a.jsx(w.icon,{className:"h-5 w-5"}),w.label]},w.id))})}),a.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(_l,{className:"h-5 w-5"}),"Informasi Profile"]})}),a.jsx(qr,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx(he,{label:"Nama Lengkap",type:"text",value:c.nama,onChange:w=>u(S=>({...S,nama:w.target.value})),required:!0}),a.jsx(he,{label:"Email",type:"email",value:c.email,onChange:w=>u(S=>({...S,email:w.target.value})),required:!0}),a.jsx(he,{label:"No. Telepon",type:"tel",value:c.phone,onChange:w=>u(S=>({...S,phone:w.target.value})),placeholder:"08xxxxxxxxxx"}),a.jsx(Me,{label:"Department",value:c.department,onChange:w=>u(S=>({...S,department:w.target.value})),options:[{value:"Produksi",label:"Produksi"},{value:"Maintenance",label:"Maintenance"},{value:"Quality Control",label:"Quality Control"},{value:"HSE",label:"HSE"},{value:"Admin",label:"Admin"}]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(ce,{type:"submit",isLoading:r,children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Simpan Perubahan"]})})]})})]}),o==="password"&&a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Pv,{className:"h-5 w-5"}),"Ubah Password"]})}),a.jsx(qr,{children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsx(he,{label:"Password Saat Ini",type:"password",value:d.currentPassword,onChange:w=>f(S=>({...S,currentPassword:w.target.value})),required:!0}),a.jsx(he,{label:"Password Baru",type:"password",value:d.newPassword,onChange:w=>f(S=>({...S,newPassword:w.target.value})),required:!0}),a.jsx(he,{label:"Konfirmasi Password Baru",type:"password",value:d.confirmPassword,onChange:w=>f(S=>({...S,confirmPassword:w.target.value})),required:!0}),a.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-200",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:"Tips:"})," Password minimal 8 karakter, kombinasi huruf besar, huruf kecil, dan angka."]})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(ce,{type:"submit",isLoading:r,children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})})]}),o==="notifications"&&a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(qh,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]})}),a.jsx(qr,{children:a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi Umum"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Terima notifikasi via email"})]}),a.jsx("input",{type:"checkbox",checked:h.emailNotifications,onChange:w=>p(S=>({...S,emailNotifications:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi browser/app"})]}),a.jsx("input",{type:"checkbox",checked:h.pushNotifications,onChange:w=>p(S=>({...S,pushNotifications:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Laporan"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Harian"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi harian"})]}),a.jsx("input",{type:"checkbox",checked:h.dailyReport,onChange:w=>p(S=>({...S,dailyReport:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Mingguan"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi mingguan"})]}),a.jsx("input",{type:"checkbox",checked:h.weeklyReport,onChange:w=>p(S=>({...S,weeklyReport:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Alert"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Downtime"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi saat terjadi downtime"})]}),a.jsx("input",{type:"checkbox",checked:h.alertDowntime,onChange:w=>p(S=>({...S,alertDowntime:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Work Request"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi work request baru"})]}),a.jsx("input",{type:"checkbox",checked:h.alertWorkRequest,onChange:w=>p(S=>({...S,alertWorkRequest:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(ce,{type:"submit",isLoading:r,children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})})]})})]})]})]}),a.jsx(Wt,{isVisible:s,message:"Perubahan berhasil disimpan!",onClose:()=>i(!1)})]})},Mi=[{key:"januari",label:"Januari"},{key:"februari",label:"Februari"},{key:"maret",label:"Maret"},{key:"april",label:"April"},{key:"mei",label:"Mei"},{key:"juni",label:"Juni"},{key:"juli",label:"Juli"},{key:"agustus",label:"Agustus"},{key:"september",label:"September"},{key:"oktober",label:"Oktober"},{key:"november",label:"November"},{key:"desember",label:"Desember"}],$i={tahun:new Date().getFullYear().toString(),plant:"NPK2",januari:0,februari:0,maret:0,april:0,mei:0,juni:0,juli:0,agustus:0,september:0,oktober:0,november:0,desember:0,total:0},fA=[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"}],Ype=()=>{var ve;const{user:e}=nt(),[t,r]=b.useState([]),[n,s]=b.useState([]),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(null),[m,k]=b.useState(null),[v,y]=b.useState($i),[x,j]=b.useState((e==null?void 0:e.plant)||"ALL"),[w,S]=b.useState(new Date().getFullYear().toString());b.useEffect(()=>{(async()=>{o(!0);try{const{readData:ne,fetchDataByPlant:G,SHEETS:Q}=await Re(async()=>{const{readData:ae,fetchDataByPlant:X,SHEETS:K}=await Promise.resolve().then(()=>Ie);return{readData:ae,fetchDataByPlant:X,SHEETS:K}},void 0),L=await ne(Q.RKAP);L.success&&L.data?r(L.data):r([]);const C=await G(Q.PRODUKSI_NPK);C.success&&C.data?s(C.data):s([])}catch(ne){console.error("Error fetching data:",ne),r([]),s([])}finally{o(!1)}})()},[]),b.useEffect(()=>{const te=Mi.reduce((ne,G)=>ne+(Number(v[G.key])||0),0);y(ne=>({...ne,total:te}))},[v.januari,v.februari,v.maret,v.april,v.mei,v.juni,v.juli,v.agustus,v.september,v.oktober,v.november,v.desember]);const N=b.useMemo(()=>{const te={},ne=n.filter(G=>{const L=new Date(G.tanggal).getFullYear().toString()===w,C=x==="ALL"||G._plant===x;return L&&C});return Mi.forEach((G,Q)=>{const L=ne.filter(C=>new Date(C.tanggal).getMonth()===Q);te[G.key]=L.reduce((C,ae)=>C+(le(ae.total)||le(ae.shiftMalamOnspek)+le(ae.shiftMalamOffspek)+le(ae.shiftPagiOnspek)+le(ae.shiftPagiOffspek)+le(ae.shiftSoreOnspek)+le(ae.shiftSoreOffspek)),0)}),te},[n,w,x]),T=b.useMemo(()=>t.filter(te=>{var Q;const ne=((Q=te.tahun)==null?void 0:Q.toString())===w,G=x==="ALL"||te.plant===x;return ne&&G}),[t,w,x]),A=b.useMemo(()=>t.find(te=>{var ne;return((ne=te.tahun)==null?void 0:ne.toString())===w&&te.plant==="NPK1"}),[t,w]),F=b.useMemo(()=>t.find(te=>{var ne;return((ne=te.tahun)==null?void 0:ne.toString())===w&&te.plant==="NPK2"}),[t,w]),$=b.useMemo(()=>{const te={NPK1:{},NPK2:{}};return["NPK1","NPK2"].forEach(ne=>{const G=n.filter(Q=>new Date(Q.tanggal).getFullYear().toString()===w&&Q._plant===ne);Mi.forEach((Q,L)=>{const C=G.filter(ae=>new Date(ae.tanggal).getMonth()===L);te[ne][Q.key]=C.reduce((ae,X)=>ae+(le(X.total)||le(X.shiftMalamOnspek)+le(X.shiftMalamOffspek)+le(X.shiftPagiOnspek)+le(X.shiftPagiOffspek)+le(X.shiftSoreOnspek)+le(X.shiftSoreOffspek)),0)})}),te},[n,w]),O=T[0],_=async te=>{te.preventDefault(),o(!0);try{const{createData:ne,updateData:G,SHEETS:Q}=await Re(async()=>{const{createData:L,updateData:C,SHEETS:ae}=await Promise.resolve().then(()=>Ie);return{createData:L,updateData:C,SHEETS:ae}},void 0);if(p){const L={...v,id:p},C=await G(Q.RKAP,L);if(C.success)r(ae=>ae.map(X=>X.id===p?{...v,id:p}:X));else throw new Error(C.error||"Gagal mengupdate data")}else{const L=await ne(Q.RKAP,v);if(L.success&&L.data)r(C=>[L.data,...C]);else throw new Error(L.error||"Gagal menyimpan data")}c(!1),y($i),g(null),h(!0),setTimeout(()=>h(!1),2e3)}catch(ne){console.error("Error saving data:",ne),alert(ne instanceof Error?ne.message:"Terjadi kesalahan saat menyimpan data")}finally{o(!1)}},z=te=>{y(te),g(te.id||null),c(!0)},J=te=>{k(te),d(!0)},Z=async()=>{if(m){o(!0);try{const{deleteData:te,SHEETS:ne}=await Re(async()=>{const{deleteData:Q,SHEETS:L}=await Promise.resolve().then(()=>Ie);return{deleteData:Q,SHEETS:L}},void 0),G=await te(ne.RKAP,m);if(G.success)r(Q=>Q.filter(L=>L.id!==m)),d(!1),k(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(G.error||"Gagal menghapus data")}catch(te){console.error("Error deleting data:",te),alert(te instanceof Error?te.message:"Terjadi kesalahan saat menghapus data")}finally{o(!1)}}},V=()=>{y({...$i,tahun:w,plant:x==="ALL"?"NPK2":x}),g(null),c(!0)},R=(te,ne)=>{y(G=>({...G,[te]:parseFloat(ne)||0}))},B=(A==null?void 0:A.total)||0,I=(F==null?void 0:F.total)||0,U=x==="ALL"?B+I:(O==null?void 0:O.total)||0,ee=Object.values($.NPK1).reduce((te,ne)=>te+ne,0),H=Object.values($.NPK2).reduce((te,ne)=>te+ne,0),oe=x==="ALL"?ee+H:Object.values(N).reduce((te,ne)=>te+ne,0),ue=U>0?(oe/U*100).toFixed(1):"0",de=B>0?(ee/B*100).toFixed(1):"0",ye=I>0?(H/I*100).toFixed(1):"0",be=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp",fe=b.useCallback(()=>{if(l&&!i){const te=document.querySelector("form");te&&te.requestSubmit()}},[l,i]);nr(fe,l);const xe=x==="ALL"?"Semua Plant":x==="NPK1"?"NPK Plant 1":"NPK Plant 2";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"RKAP (Target Produksi)"}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Rencana Kerja dan Anggaran Perusahaan - ",xe]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:w,onChange:te=>S(te.target.value),options:fA,className:"w-32"}),(e==null?void 0:e.plant)==="ALL"&&a.jsx(Me,{value:x,onChange:te=>j(te.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),be&&x!=="ALL"&&(O?a.jsxs(ce,{onClick:()=>z(O),children:[a.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Edit Target"]}):a.jsxs(ce,{onClick:V,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Buat Target"]}))]})]}),x==="ALL"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(we,{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:a.jsx(ml,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-blue-900 dark:text-blue-100",children:"NPK Plant 1"}),a.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:["RKAP ",w]})]})]}),be&&a.jsx(ce,{size:"sm",variant:A?"secondary":"primary",onClick:()=>{A?z(A):(y({...$i,tahun:w,plant:"NPK1"}),g(null),c(!0))},children:A?a.jsxs(a.Fragment,{children:[a.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ft,{className:"h-3 w-3 mr-1"}),"Buat"]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Target"}),a.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:Y(B)}),a.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:Y(ee)}),a.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Pencapaian"}),a.jsxs("p",{className:`text-xl font-bold ${Number(de)>=100?"text-green-600":"text-amber-600"}`,children:[de,"%"]}),a.jsx(Te,{variant:A?"success":"warning",size:"sm",children:A?"Target Ada":"Belum Ada"})]})]})]}),a.jsxs(we,{className:"p-5 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:a.jsx(ml,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-amber-900 dark:text-amber-100",children:"NPK Plant 2"}),a.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-300",children:["RKAP ",w]})]})]}),be&&a.jsx(ce,{size:"sm",variant:F?"secondary":"primary",onClick:()=>{F?z(F):(y({...$i,tahun:w,plant:"NPK2"}),g(null),c(!0))},children:F?a.jsxs(a.Fragment,{children:[a.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ft,{className:"h-3 w-3 mr-1"}),"Buat"]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Target"}),a.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:Y(I)}),a.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:Y(H)}),a.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Pencapaian"}),a.jsxs("p",{className:`text-xl font-bold ${Number(ye)>=100?"text-green-600":"text-amber-600"}`,children:[ye,"%"]}),a.jsx(Te,{variant:F?"success":"warning",size:"sm",children:F?"Target Ada":"Belum Ada"})]})]})]})]}),a.jsx(we,{className:"p-4 bg-gradient-to-r from-dark-100 to-dark-200 dark:from-dark-800 dark:to-dark-700",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-dark-200 dark:bg-dark-600 rounded-xl",children:a.jsx(di,{className:"h-6 w-6 text-dark-600 dark:text-dark-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gabungan NPK 1 + NPK 2"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xl font-bold text-dark-900 dark:text-white",children:[Y(oe)," / ",Y(U)," Ton"]}),a.jsxs(Te,{variant:Number(ue)>=100?"success":"warning",children:[ue,"%"]})]})]})]})})})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(we,{className:"p-4 bg-gradient-to-br from-primary-50 to-indigo-50 border-primary-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:a.jsx(ml,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Target RKAP ",w]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[Y(U)," Ton"]})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:a.jsx(di,{className:"h-6 w-6 text-secondary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Realisasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[Y(oe)," Ton"]})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl ${Number(ue)>=100?"bg-green-100":"bg-amber-100"}`,children:a.jsx(aa,{className:`h-6 w-6 ${Number(ue)>=100?"text-green-600":"text-amber-600"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pencapaian"}),a.jsxs("p",{className:`text-2xl font-bold ${Number(ue)>=100?"text-green-600":"text-amber-600"}`,children:[ue,"%"]})]})]})})]}),x==="ALL"?a.jsxs(a.Fragment,{children:[a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{className:"text-blue-700 dark:text-blue-400",children:["NPK Plant 1 - Perbandingan Target vs Realisasi ",w]}),a.jsx(Te,{variant:A?"success":"warning",children:A?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(qr,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-blue-600",children:"Target NPK 1 (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[Mi.map(te=>{const ne=Number(A==null?void 0:A[te.key])||0,G=$.NPK1[te.key]||0,Q=G-ne,L=ne>0?(G/ne*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 hover:bg-blue-50 dark:hover:bg-blue-900/10",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:te.label}),a.jsx("td",{className:"py-3 px-4 text-right text-blue-600 font-semibold",children:Y(ne)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:Y(G)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${Q>=0?"text-green-600":"text-red-600"}`,children:[Q>=0?"+":"",Y(Q)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(L)>=100?"success":Number(L)>=80?"warning":"danger",children:[L,"%"]})})]},te.key)}),a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-900/20 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 1"}),a.jsx("td",{className:"py-3 px-4 text-right text-blue-700",children:Y(B)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:Y(ee)}),a.jsxs("td",{className:`py-3 px-4 text-right ${ee-B>=0?"text-green-700":"text-red-700"}`,children:[ee-B>=0?"+":"",Y(ee-B)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(de)>=100?"success":"warning",className:"text-base",children:[de,"%"]})})]})]})]})})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{className:"text-amber-700 dark:text-amber-400",children:["NPK Plant 2 - Perbandingan Target vs Realisasi ",w]}),a.jsx(Te,{variant:F?"success":"warning",children:F?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(qr,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-amber-600",children:"Target NPK 2 (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[Mi.map(te=>{const ne=Number(F==null?void 0:F[te.key])||0,G=$.NPK2[te.key]||0,Q=G-ne,L=ne>0?(G/ne*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 hover:bg-amber-50 dark:hover:bg-amber-900/10",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:te.label}),a.jsx("td",{className:"py-3 px-4 text-right text-amber-600 font-semibold",children:Y(ne)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:Y(G)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${Q>=0?"text-green-600":"text-red-600"}`,children:[Q>=0?"+":"",Y(Q)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(L)>=100?"success":Number(L)>=80?"warning":"danger",children:[L,"%"]})})]},te.key)}),a.jsxs("tr",{className:"bg-amber-100 dark:bg-amber-900/20 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 2"}),a.jsx("td",{className:"py-3 px-4 text-right text-amber-700",children:Y(I)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:Y(H)}),a.jsxs("td",{className:`py-3 px-4 text-right ${H-I>=0?"text-green-700":"text-red-700"}`,children:[H-I>=0?"+":"",Y(H-I)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(ye)>=100?"success":"warning",className:"text-base",children:[ye,"%"]})})]})]})]})})})]})]}):a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(rt,{children:["Perbandingan Target vs Realisasi Bulanan - ",w]}),a.jsx(Te,{variant:O?"success":"warning",children:O?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(qr,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Target RKAP (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[Mi.map(te=>{const ne=Number(O==null?void 0:O[te.key])||0,G=N[te.key]||0,Q=G-ne,L=ne>0?(G/ne*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 hover:bg-dark-50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:te.label}),a.jsx("td",{className:"py-3 px-4 text-right text-primary-600 font-semibold",children:Y(ne)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:Y(G)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${Q>=0?"text-green-600":"text-red-600"}`,children:[Q>=0?"+":"",Y(Q)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(L)>=100?"success":Number(L)>=80?"warning":"danger",children:[L,"%"]})})]},te.key)}),a.jsxs("tr",{className:"bg-dark-100 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL"}),a.jsx("td",{className:"py-3 px-4 text-right text-primary-700",children:Y(U)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:Y(oe)}),a.jsxs("td",{className:`py-3 px-4 text-right ${oe-U>=0?"text-green-700":"text-red-700"}`,children:[oe-U>=0?"+":"",Y(oe-U)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Te,{variant:Number(ue)>=100?"success":"warning",className:"text-base",children:[ue,"%"]})})]})]})]})})})]}),be&&x!=="ALL"&&O&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(ce,{variant:"danger",onClick:()=>J(O.id),children:[a.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Hapus Target RKAP ",w]})}),a.jsx(qe,{isOpen:l,onClose:()=>{c(!1),y($i),g(null)},title:p?`Edit Target RKAP ${v.tahun}`:"Buat Target RKAP Baru",size:"lg",children:a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Me,{label:"Tahun",value:((ve=v.tahun)==null?void 0:ve.toString())||"",onChange:te=>y(ne=>({...ne,tahun:te.target.value})),options:fA,required:!0,disabled:!!p}),a.jsx(Me,{label:"Plant",value:v.plant||"NPK2",onChange:te=>y(ne=>({...ne,plant:te.target.value})),options:[{value:"NPK1",label:"NPK Plant 1"},{value:"NPK2",label:"NPK Plant 2"}],required:!0,disabled:!!p})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-dark-700 border-b pb-2",children:"Target Bulanan (Ton)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Mi.map(te=>a.jsx(he,{label:te.label,type:"number",value:v[te.key]||"",onChange:ne=>R(te.key,ne.target.value),placeholder:"0",min:"0"},te.key))})]}),a.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-dark-700",children:"Total Target Tahunan:"}),a.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[Y(v.total||0)," Ton"]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{c(!1),y($i),g(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:i,children:p?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:u,onClose:()=>{d(!1),k(null)},onConfirm:Z,title:"Hapus Target RKAP",message:`Apakah Anda yakin ingin menghapus target RKAP tahun ${w}?`,confirmText:"Hapus",variant:"danger",isLoading:i}),a.jsx(Wt,{isVisible:f,message:"Data berhasil disimpan!",onClose:()=>h(!1)})]})},uu={username:"",nama:"",namaLengkap:"",email:"",password:"",role:"user",plant:"NPK2",status:"active"},Jpe=()=>{const{user:e}=nt(),[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[p,g]=b.useState(null),[m,k]=b.useState(uu),[v,y]=b.useState(""),[x,j]=b.useState("ALL"),w=[{value:"admin",label:"Admin"},{value:"supervisor",label:"Supervisor"},{value:"user",label:"User"},{value:"avp",label:"AVP"},{value:"manager",label:"Manager"},{value:"eksternal",label:"Eksternal"}],S=[{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"},{value:"ALL",label:"Semua Plant"}];b.useEffect(()=>{(async()=>{s(!0);try{const{readData:U,SHEETS:ee}=await Re(async()=>{const{readData:oe,SHEETS:ue}=await Promise.resolve().then(()=>Ie);return{readData:oe,SHEETS:ue}},void 0),H=await U(ee.USERS);if(H.success&&H.data){const oe=[...H.data].sort((ue,de)=>(ue.nama||"").localeCompare(de.nama||""));r(oe)}else r([])}catch(U){console.error("Error fetching data:",U),r([])}finally{s(!1)}})()},[]);const N=async I=>{var U;I.preventDefault(),s(!0);try{const{createData:ee,updateData:H,SHEETS:oe}=await Re(async()=>{const{createData:de,updateData:ye,SHEETS:be}=await Promise.resolve().then(()=>Ie);return{createData:de,updateData:ye,SHEETS:be}},void 0),ue={...m,username:m.username||((U=m.email)==null?void 0:U.split("@")[0])||"",namaLengkap:m.namaLengkap||m.nama||""};if(f&&!ue.password&&delete ue.password,f){const de={...ue,id:f,updatedAt:new Date().toISOString()},ye=await H(oe.USERS,de);if(ye.success)r(be=>be.map(fe=>fe.id===f?{...ue,id:f,updatedAt:new Date().toISOString()}:fe));else throw new Error(ye.error||"Gagal mengupdate data")}else{const de={...ue,createdAt:new Date().toISOString()},ye=await ee(oe.USERS,de);if(ye.success&&ye.data){const be={...de,...ye.data};r(fe=>[be,...fe])}else throw new Error(ye.error||"Gagal menyimpan data")}o(!1),k(uu),h(null),d(!0),setTimeout(()=>d(!1),2e3)}catch(ee){console.error("Error saving data:",ee),alert(ee instanceof Error?ee.message:"Terjadi kesalahan saat menyimpan data")}finally{s(!1)}},T=I=>{k({...I,password:"",namaLengkap:I.namaLengkap||I.nama||""}),h(I.id||null),o(!0)},A=I=>{g(I),c(!0)},F=async()=>{if(p){s(!0);try{const{deleteData:I,SHEETS:U}=await Re(async()=>{const{deleteData:H,SHEETS:oe}=await Promise.resolve().then(()=>Ie);return{deleteData:H,SHEETS:oe}},void 0),ee=await I(U.USERS,p);if(ee.success)r(H=>H.filter(oe=>oe.id!==p)),c(!1),g(null),d(!0),setTimeout(()=>d(!1),2e3);else throw new Error(ee.error||"Gagal menghapus data")}catch(I){console.error("Error deleting data:",I),alert(I instanceof Error?I.message:"Terjadi kesalahan saat menghapus data")}finally{s(!1)}}},$=async I=>{const U=t.find(ee=>ee.id===I);if(U)try{const{updateData:ee,SHEETS:H}=await Re(async()=>{const{updateData:ye,SHEETS:be}=await Promise.resolve().then(()=>Ie);return{updateData:ye,SHEETS:be}},void 0),oe=U.status==="active"?"inactive":"active",ue={...U,status:oe},de=await ee(H.USERS,ue);if(de.success)r(ye=>ye.map(be=>be.id===I?{...be,status:oe}:be));else throw new Error(de.error||"Gagal mengupdate status")}catch(ee){console.error("Error toggling status:",ee),alert(ee instanceof Error?ee.message:"Terjadi kesalahan saat mengubah status")}},O=()=>{k(uu),h(null),o(!0)},_=t.filter(I=>{var H,oe,ue,de;const U=((H=I.nama)==null?void 0:H.toLowerCase().includes(v.toLowerCase()))||((oe=I.namaLengkap)==null?void 0:oe.toLowerCase().includes(v.toLowerCase()))||((ue=I.username)==null?void 0:ue.toLowerCase().includes(v.toLowerCase()))||((de=I.email)==null?void 0:de.toLowerCase().includes(v.toLowerCase())),ee=x==="ALL"||I.role===x;return U&&ee}),z=I=>{switch(I){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";case"eksternal":return"warning";default:return"primary"}},J=[{key:"nama",header:"User",render:(I,U)=>{var ee;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-semibold",children:(ee=U.namaLengkap||U.nama||U.username||"U")==null?void 0:ee.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:U.namaLengkap||U.nama||U.username}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["@",U.username,"  ",U.email]})]})]})}},{key:"role",header:"Role",render:I=>a.jsxs(Te,{variant:z(I),children:[a.jsx(S_,{className:"h-3 w-3 mr-1"}),I.toUpperCase()]})},{key:"plant",header:"Plant",render:I=>a.jsx(Te,{variant:"info",children:I})},{key:"status",header:"Status",render:(I,U)=>a.jsx("button",{onClick:ee=>{ee.stopPropagation(),$(U.id)},className:"flex items-center gap-2",children:I==="active"?a.jsxs(Te,{variant:"success",children:[a.jsx(FS,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(Te,{variant:"danger",children:[a.jsx(KS,{className:"h-3 w-3 mr-1"}),"Inactive"]})})},{key:"createdAt",header:"Dibuat",render:I=>Ue(I)}],Z=(e==null?void 0:e.role)==="admin",V=b.useCallback(()=>{if(i&&!n){const I=document.querySelector("form");I&&I.requestSubmit()}},[i,n]);nr(V,i);const R=_.filter(I=>I.status==="active").length,B=_.filter(I=>I.status==="inactive").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Manajemen User"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola pengguna sistem"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{value:x,onChange:I=>j(I.target.value),options:[{value:"ALL",label:"Semua Role"},...w],className:"w-40"}),Z&&a.jsxs(ce,{onClick:O,children:[a.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:a.jsx(Xh,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:_.length})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(FS,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:R})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(KS,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Inactive Users"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:B})]})]})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Daftar User"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari user...",value:v,onChange:I=>y(I.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(rr,{data:_,columns:J,loading:n,searchable:!1,actions:Z?I=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:U=>{U.stopPropagation(),T(I)},children:a.jsx(Bt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:U=>{U.stopPropagation(),A(I.id)},children:a.jsx(Mt,{className:"h-4 w-4 text-red-600"})})]}):void 0})]}),a.jsx(qe,{isOpen:i,onClose:()=>{o(!1),k(uu),h(null)},title:f?"Edit User":"Tambah User Baru",size:"md",children:a.jsxs("form",{onSubmit:N,className:"space-y-4",autoComplete:"off",children:[a.jsx(he,{label:"Username",type:"text",value:m.username,onChange:I=>k(U=>({...U,username:I.target.value})),placeholder:"Username untuk login",required:!0,disabled:!!f,autoComplete:"off",name:"new-username"}),a.jsx(he,{label:"Nama Lengkap",type:"text",value:m.namaLengkap,onChange:I=>k(U=>({...U,namaLengkap:I.target.value,nama:I.target.value})),placeholder:"Nama lengkap",required:!0,autoComplete:"off"}),a.jsx(he,{label:"Email",type:"email",value:m.email,onChange:I=>k(U=>({...U,email:I.target.value})),placeholder:"email@example.com",required:!0,autoComplete:"off"}),a.jsx(he,{label:f?"Password Baru (kosongkan jika tidak diubah)":"Password",type:"password",value:m.password,onChange:I=>k(U=>({...U,password:I.target.value})),placeholder:"",required:!f,autoComplete:"new-password",name:"new-password"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Me,{label:"Role",value:m.role,onChange:I=>k(U=>({...U,role:I.target.value})),options:w,required:!0}),a.jsx(Me,{label:"Plant",value:m.plant,onChange:I=>k(U=>({...U,plant:I.target.value})),options:S,required:!0})]}),a.jsx(Me,{label:"Status",value:m.status,onChange:I=>k(U=>({...U,status:I.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{o(!1),k(uu),h(null)},children:"Batal"}),a.jsx(ce,{type:"submit",isLoading:n,children:f?"Update":"Simpan"})]})]})}),a.jsx(Xt,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:F,title:"Hapus User",message:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:n}),a.jsx(Wt,{isVisible:u,message:"Data berhasil disimpan!",onClose:()=>d(!1)})]})},Xpe=()=>{const{user:e}=nt(),[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(null),[m,k]=b.useState(""),[v,y]=b.useState("pending"),[x,j]=b.useState("");b.useEffect(()=>{(async()=>{s(!0);try{const{readData:B,SHEETS:I}=await Re(async()=>{const{readData:ee,SHEETS:H}=await Promise.resolve().then(()=>Ie);return{readData:ee,SHEETS:H}},void 0),U=await B(I.APPROVAL_REQUESTS);if(U.success&&U.data){const ee=[...U.data].sort((H,oe)=>new Date(oe.submittedAt||0).getTime()-new Date(H.submittedAt||0).getTime());r(ee)}else r([])}catch(B){console.error("Error fetching data:",B),r([])}finally{s(!1)}})()},[]);const w=async()=>{if(p){s(!0);try{const{updateData:R,SHEETS:B}=await Re(async()=>{const{updateData:ee,SHEETS:H}=await Promise.resolve().then(()=>Ie);return{updateData:ee,SHEETS:H}},void 0),I={...p,status:"approved"},U=await R(B.APPROVAL_REQUESTS,I);if(U.success)r(ee=>ee.map(H=>H.id===p.id?{...H,status:"approved"}:H)),c(!1),g(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(U.error||"Gagal approve data")}catch(R){console.error("Error approving:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan saat approve")}finally{s(!1)}}},S=async()=>{if(p){s(!0);try{const{updateData:R,SHEETS:B}=await Re(async()=>{const{updateData:ee,SHEETS:H}=await Promise.resolve().then(()=>Ie);return{updateData:ee,SHEETS:H}},void 0),I={...p,status:"rejected",rejectReason:x},U=await R(B.APPROVAL_REQUESTS,I);if(U.success)r(ee=>ee.map(H=>H.id===p.id?{...H,status:"rejected"}:H)),d(!1),g(null),j(""),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(U.error||"Gagal reject data")}catch(R){console.error("Error rejecting:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan saat reject")}finally{s(!1)}}},N=R=>{g(R),o(!0)},T=R=>{g(R),c(!0)},A=R=>{g(R),d(!0)},F=t.filter(R=>{var U,ee,H;const B=((U=R.title)==null?void 0:U.toLowerCase().includes(m.toLowerCase()))||((ee=R.description)==null?void 0:ee.toLowerCase().includes(m.toLowerCase()))||((H=R.submittedBy)==null?void 0:H.toLowerCase().includes(m.toLowerCase())),I=v==="all"||R.status===v;return B&&I}),$=R=>{switch(R){case"work_request":return{variant:"primary",label:"Work Request"};case"gate_pass":return{variant:"info",label:"Gate Pass"};case"downtime":return{variant:"warning",label:"Downtime"};case"trouble_record":return{variant:"danger",label:"Trouble Record"};default:return{variant:"info",label:R}}},O=R=>{switch(R){case"pending":return{variant:"warning",icon:Ua,label:"Pending"};case"approved":return{variant:"success",icon:rl,label:"Approved"};case"rejected":return{variant:"danger",icon:xu,label:"Rejected"};default:return{variant:"info",icon:Ua,label:R}}},_=[{key:"title",header:"Judul",render:(R,B)=>a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:R}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 line-clamp-1",children:B.description})]})},{key:"type",header:"Tipe",render:R=>{const B=$(R);return a.jsx(Te,{variant:B.variant,children:B.label})}},{key:"submittedBy",header:"Diajukan Oleh"},{key:"submittedAt",header:"Tanggal",render:R=>Ue(R)},{key:"status",header:"Status",render:R=>{const B=O(R);return a.jsxs(Te,{variant:B.variant,children:[a.jsx(B.icon,{className:"h-3 w-3 mr-1"}),B.label]})}}],z=t.filter(R=>R.status==="pending").length,J=t.filter(R=>R.status==="approved").length,Z=t.filter(R=>R.status==="rejected").length,V=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Approval"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola persetujuan dokumen dan request"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(Me,{value:v,onChange:R=>y(R.target.value),options:[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-40"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(we,{className:"p-4 border-l-4 border-l-amber-500 cursor-pointer hover:bg-amber-50 transition-colors",onClick:()=>y("pending"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:a.jsx(Ua,{className:"h-6 w-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Menunggu Approval"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:z})]})]})}),a.jsx(we,{className:"p-4 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50 transition-colors",onClick:()=>y("approved"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(rl,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:J})]})]})}),a.jsx(we,{className:"p-4 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50 transition-colors",onClick:()=>y("rejected"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(xu,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:Z})]})]})})]}),a.jsxs(we,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Daftar Approval"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(he,{type:"text",placeholder:"Cari...",value:m,onChange:R=>k(R.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(rr,{data:F,columns:_,loading:n,searchable:!1,actions:R=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),N(R)},children:a.jsx(Ni,{className:"h-4 w-4 text-dark-600"})}),V&&R.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),T(R)},children:a.jsx(rl,{className:"h-4 w-4 text-green-600"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),A(R)},children:a.jsx(xu,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(qe,{isOpen:i,onClose:()=>{o(!1),g(null)},title:"Detail Approval",size:"md",children:p&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-dark-50 rounded-xl",children:[a.jsx(la,{className:"h-10 w-10 text-primary-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:p.title}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:p.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tipe"}),a.jsx(Te,{variant:$(p.type).variant,children:$(p.type).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Status"}),a.jsx(Te,{variant:O(p.status).variant,children:O(p.status).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Diajukan Oleh"}),a.jsx("p",{className:"font-medium",children:p.submittedBy})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tanggal"}),a.jsx("p",{className:"font-medium",children:Ue(p.submittedAt)})]})]}),p.data&&a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsx("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Detail Data:"}),a.jsx("div",{className:"space-y-1",children:Object.entries(p.data).map(([R,B])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-dark-500 dark:text-dark-400 capitalize",children:[R.replace(/([A-Z])/g," $1").trim(),":"]}),a.jsx("span",{className:"font-medium",children:String(B)})]},R))})]}),V&&p.status==="pending"&&a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsxs(ce,{variant:"danger",onClick:()=>{o(!1),A(p)},children:[a.jsx(xu,{className:"h-4 w-4 mr-2"}),"Reject"]}),a.jsxs(ce,{variant:"success",onClick:()=>{o(!1),T(p)},children:[a.jsx(rl,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]})}),a.jsx(Xt,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:w,title:"Approve Request",message:`Apakah Anda yakin ingin menyetujui "${p==null?void 0:p.title}"?`,confirmText:"Approve",variant:"info",isLoading:n}),a.jsx(qe,{isOpen:u,onClose:()=>{d(!1),g(null),j("")},title:"Reject Request",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-dark-600",children:['Apakah Anda yakin ingin menolak "',p==null?void 0:p.title,'"?']}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Penolakan (opsional)"}),a.jsx("textarea",{value:x,onChange:R=>j(R.target.value),placeholder:"Masukkan alasan penolakan...",className:"input-field min-h-[80px]"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(ce,{variant:"secondary",onClick:()=>{d(!1),g(null),j("")},children:"Batal"}),a.jsx(ce,{variant:"danger",onClick:S,isLoading:n,children:"Reject"})]})]})}),a.jsx(Wt,{isVisible:f,message:"Berhasil!",onClose:()=>h(!1)})]})},Qpe=({children:e})=>{const{isLoggedIn:t}=nt();return t?a.jsx(a.Fragment,{children:e}):a.jsx(mo,{to:"/login",replace:!0})},Zpe=({children:e})=>{const{isLoggedIn:t}=nt();return t?a.jsx(mo,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e})},hA=({children:e})=>{const{user:t}=nt(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return YE(r,n)?a.jsx(a.Fragment,{children:e}):a.jsx(mo,{to:"/dashboard",replace:!0})},eme=({children:e})=>{const{user:t}=nt(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return JE(r,n)?a.jsx(a.Fragment,{children:e}):a.jsx(mo,{to:"/dashboard",replace:!0})},tme=({children:e})=>{const{user:t}=nt(),r=(t==null?void 0:t.role)||"";return XE(r)?a.jsx(a.Fragment,{children:e}):a.jsx(mo,{to:"/dashboard",replace:!0})};function rme(){return a.jsxs(a.Fragment,{children:[a.jsxs(ZR,{children:[a.jsx(ze,{path:"/login",element:a.jsx(Zpe,{children:a.jsx(_8,{})})}),a.jsxs(ze,{path:"/",element:a.jsx(Qpe,{children:a.jsx(C8,{})}),children:[a.jsx(ze,{index:!0,element:a.jsx(mo,{to:"/dashboard",replace:!0})}),a.jsx(ze,{path:"dashboard",element:a.jsx(ppe,{})}),a.jsxs(ze,{path:"produksi",children:[a.jsx(ze,{path:"npk1",element:a.jsx(GT,{plant:"NPK1"})}),a.jsx(ze,{path:"npk2",element:a.jsx(GT,{plant:"NPK2"})}),a.jsx(ze,{path:"blending",element:a.jsx(qT,{type:"blending"})}),a.jsx(ze,{path:"retail",element:a.jsx(qT,{type:"retail"})}),a.jsx(ze,{path:"npk-mini",element:a.jsx(vpe,{})})]}),a.jsxs(ze,{path:"laporan",children:[a.jsx(ze,{path:"kop-npk1",element:a.jsx(rA,{plant:"NPK1"})}),a.jsx(ze,{path:"kop-npk2",element:a.jsx(rA,{plant:"NPK2"})}),a.jsx(ze,{path:"downtime-npk1",element:a.jsx(YT,{plant:"NPK1"})}),a.jsx(ze,{path:"downtime-npk2",element:a.jsx(YT,{plant:"NPK2"})}),a.jsx(ze,{path:"timesheet-forklift-npk1",element:a.jsx(JT,{plant:"NPK1"})}),a.jsx(ze,{path:"timesheet-forklift-npk2",element:a.jsx(JT,{plant:"NPK2"})}),a.jsx(ze,{path:"timesheet-loader-npk1",element:a.jsx(QT,{plant:"NPK1"})}),a.jsx(ze,{path:"timesheet-loader-npk2",element:a.jsx(QT,{plant:"NPK2"})}),a.jsx(ze,{path:"pemantauan-bb-npk1",element:a.jsx(nA,{plant:"NPK1"})}),a.jsx(ze,{path:"pemantauan-bb-npk2",element:a.jsx(nA,{plant:"NPK2"})})]}),a.jsxs(ze,{path:"data",children:[a.jsx(ze,{path:"inventaris",element:a.jsx(Gpe,{})}),a.jsx(ze,{path:"work-request-npk1",element:a.jsx(aA,{plant:"NPK1"})}),a.jsx(ze,{path:"work-request-npk2",element:a.jsx(aA,{plant:"NPK2"})}),a.jsx(ze,{path:"bahan-baku-npk1",element:a.jsx(sA,{plant:"NPK1"})}),a.jsx(ze,{path:"bahan-baku-npk2",element:a.jsx(sA,{plant:"NPK2"})}),a.jsx(ze,{path:"vibrasi-npk1",element:a.jsx(iA,{plant:"NPK1"})}),a.jsx(ze,{path:"vibrasi-npk2",element:a.jsx(iA,{plant:"NPK2"})}),a.jsx(ze,{path:"gate-pass-npk1",element:a.jsx(oA,{plant:"NPK1"})}),a.jsx(ze,{path:"gate-pass-npk2",element:a.jsx(oA,{plant:"NPK2"})}),a.jsx(ze,{path:"perbaikan-tahunan-npk1",element:a.jsx(lA,{plant:"NPK1"})}),a.jsx(ze,{path:"perbaikan-tahunan-npk2",element:a.jsx(lA,{plant:"NPK2"})}),a.jsx(ze,{path:"trouble-record-npk1",element:a.jsx(cA,{plant:"NPK1"})}),a.jsx(ze,{path:"trouble-record-npk2",element:a.jsx(cA,{plant:"NPK2"})}),a.jsx(ze,{path:"dokumentasi-foto-npk1",element:a.jsx(uA,{plant:"NPK1"})}),a.jsx(ze,{path:"dokumentasi-foto-npk2",element:a.jsx(uA,{plant:"NPK2"})}),a.jsx(ze,{path:"rekap-bbm-npk1",element:a.jsx(dA,{plant:"NPK1"})}),a.jsx(ze,{path:"rekap-bbm-npk2",element:a.jsx(dA,{plant:"NPK2"})}),a.jsx(ze,{path:"riksa-timb-portabel",element:a.jsx(Kpe,{})}),a.jsx(ze,{path:"perta",element:a.jsx(Mpe,{})})]}),a.jsxs(ze,{path:"settings",children:[a.jsx(ze,{path:"akun",element:a.jsx(hA,{children:a.jsx(qpe,{})})}),a.jsx(ze,{path:"rkap",element:a.jsx(tme,{children:a.jsx(Ype,{})})}),a.jsx(ze,{path:"users",element:a.jsx(eme,{children:a.jsx(Jpe,{})})}),a.jsx(ze,{path:"approval",element:a.jsx(hA,{children:a.jsx(Xpe,{})})})]})]}),a.jsx(ze,{path:"*",element:a.jsx(mo,{to:"/dashboard",replace:!0})})]}),a.jsx(y8,{})]})}const nme=()=>{var t;const e=localStorage.getItem("ui-storage");if(e)try{const r=JSON.parse(e);((t=r.state)==null?void 0:t.darkMode)===!0&&(r.state.darkMode=!1,localStorage.setItem("ui-storage",JSON.stringify(r)))}catch{localStorage.removeItem("ui-storage")}document.documentElement.classList.remove("dark")};nme();f0.createRoot(document.getElementById("root")).render(a.jsx(re.StrictMode,{children:a.jsx(iI,{children:a.jsx(rme,{})})}));
