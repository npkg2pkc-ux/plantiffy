function r8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UO={exports:{}},ex={},KO={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.element"),n8=Symbol.for("react.portal"),a8=Symbol.for("react.fragment"),i8=Symbol.for("react.strict_mode"),s8=Symbol.for("react.profiler"),o8=Symbol.for("react.provider"),l8=Symbol.for("react.context"),c8=Symbol.for("react.forward_ref"),u8=Symbol.for("react.suspense"),d8=Symbol.for("react.memo"),f8=Symbol.for("react.lazy"),FS=Symbol.iterator;function h8(e){return e===null||typeof e!="object"?null:(e=FS&&e[FS]||e["@@iterator"],typeof e=="function"?e:null)}var VO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zO=Object.assign,HO={};function Wu(e,t,r){this.props=e,this.context=t,this.refs=HO,this.updater=r||VO}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WO(){}WO.prototype=Wu.prototype;function vk(e,t,r){this.props=e,this.context=t,this.refs=HO,this.updater=r||VO}var yk=vk.prototype=new WO;yk.constructor=vk;zO(yk,Wu.prototype);yk.isPureReactComponent=!0;var $S=Array.isArray,GO=Object.prototype.hasOwnProperty,bk={current:null},qO={key:!0,ref:!0,__self:!0,__source:!0};function YO(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)GO.call(t,n)&&!qO.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:c0,type:e,key:s,ref:o,props:a,_owner:bk.current}}function p8(e,t){return{$$typeof:c0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wk(e){return typeof e=="object"&&e!==null&&e.$$typeof===c0}function m8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BS=/\/+/g;function Cv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m8(""+e.key):t.toString(36)}function Dp(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case c0:case n8:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Cv(o,0):n,$S(a)?(r="",e!=null&&(r=e.replace(BS,"$&/")+"/"),Dp(a,t,r,"",function(u){return u})):a!=null&&(wk(a)&&(a=p8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(BS,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",$S(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Cv(s,l);o+=Dp(s,t,r,c,a)}else if(c=h8(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Cv(s,l++),o+=Dp(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function I0(e,t,r){if(e==null)return e;var n=[],a=0;return Dp(e,n,"","",function(s){return t.call(r,s,a++)}),n}function g8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ta={current:null},Mp={transition:null},x8={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:Mp,ReactCurrentOwner:bk};function XO(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:I0,forEach:function(e,t,r){I0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I0(e,function(){t++}),t},toArray:function(e){return I0(e,function(t){return t})||[]},only:function(e){if(!wk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Wu;Pt.Fragment=a8;Pt.Profiler=s8;Pt.PureComponent=vk;Pt.StrictMode=i8;Pt.Suspense=u8;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8;Pt.act=XO;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zO({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=bk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GO.call(t,c)&&!qO.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:c0,type:e.type,key:a,ref:s,props:n,_owner:o}};Pt.createContext=function(e){return e={$$typeof:l8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o8,_context:e},e.Consumer=e};Pt.createElement=YO;Pt.createFactory=function(e){var t=YO.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:c8,render:e}};Pt.isValidElement=wk;Pt.lazy=function(e){return{$$typeof:f8,_payload:{_status:-1,_result:e},_init:g8}};Pt.memo=function(e,t){return{$$typeof:d8,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Mp.transition;Mp.transition={};try{e()}finally{Mp.transition=t}};Pt.unstable_act=XO;Pt.useCallback=function(e,t){return ta.current.useCallback(e,t)};Pt.useContext=function(e){return ta.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return ta.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return ta.current.useEffect(e,t)};Pt.useId=function(){return ta.current.useId()};Pt.useImperativeHandle=function(e,t,r){return ta.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return ta.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return ta.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return ta.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return ta.current.useReducer(e,t,r)};Pt.useRef=function(e){return ta.current.useRef(e)};Pt.useState=function(e){return ta.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return ta.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return ta.current.useTransition()};Pt.version="18.3.1";KO.exports=Pt;var j=KO.exports;const de=Bt(j),JO=r8({__proto__:null,default:de},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v8=j,y8=Symbol.for("react.element"),b8=Symbol.for("react.fragment"),w8=Object.prototype.hasOwnProperty,k8=v8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j8={key:!0,ref:!0,__self:!0,__source:!0};function QO(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)w8.call(t,n)&&!j8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:y8,type:e,key:s,ref:o,props:a,_owner:k8.current}}ex.Fragment=b8;ex.jsx=QO;ex.jsxs=QO;UO.exports=ex;var i=UO.exports,N1={},ZO={exports:{}},Oa={},eC={exports:{}},tC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,q){var ue=te.length;te.push(q);e:for(;0<ue;){var le=ue-1>>>1,B=te[le];if(0<a(B,q))te[le]=q,te[ue]=B,ue=le;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var q=te[0],ue=te.pop();if(ue!==q){te[0]=ue;e:for(var le=0,B=te.length,F=B>>>1;le<F;){var L=2*(le+1)-1,R=te[L],G=L+1,be=te[G];if(0>a(R,ue))G<B&&0>a(be,R)?(te[le]=be,te[G]=ue,le=G):(te[le]=R,te[L]=ue,le=L);else if(G<B&&0>a(be,ue))te[le]=be,te[G]=ue,le=G;else break e}}return q}function a(te,q){var ue=te.sortIndex-q.sortIndex;return ue!==0?ue:te.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(te){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=te)n(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(u)}}function w(te){if(m=!1,v(te),!g)if(r(c)!==null)g=!0,W(k);else{var q=r(u);q!==null&&Y(w,q.startTime-te)}}function k(te,q){g=!1,m&&(m=!1,b(T),T=-1),p=!0;var ue=h;try{for(v(q),f=r(c);f!==null&&(!(f.expirationTime>q)||te&&!O());){var le=f.callback;if(typeof le=="function"){f.callback=null,h=f.priorityLevel;var B=le(f.expirationTime<=q);q=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),v(q)}else n(c);f=r(c)}if(f!==null)var F=!0;else{var L=r(u);L!==null&&Y(w,L.startTime-q),F=!1}return F}finally{f=null,h=ue,p=!1}}var N=!1,S=null,T=-1,P=5,_=-1;function O(){return!(e.unstable_now()-_<P)}function C(){if(S!==null){var te=e.unstable_now();_=te;var q=!0;try{q=S(!0,te)}finally{q?D():(N=!1,S=null)}}else N=!1}var D;if(typeof y=="function")D=function(){y(C)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=C,D=function(){ee.postMessage(null)}}else D=function(){x(C,0)};function W(te){S=te,N||(N=!0,D())}function Y(te,q){T=x(function(){te(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(k))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(te){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var ue=h;h=q;try{return te()}finally{h=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,q){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=h;h=te;try{return q()}finally{h=ue}},e.unstable_scheduleCallback=function(te,q,ue){var le=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?le+ue:le):ue=le,te){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ue+B,te={id:d++,callback:q,priorityLevel:te,startTime:ue,expirationTime:B,sortIndex:-1},ue>le?(te.sortIndex=ue,t(u,te),r(c)===null&&te===r(u)&&(m?(b(T),T=-1):m=!0,Y(w,ue-le))):(te.sortIndex=B,t(c,te),g||p||(g=!0,W(k))),te},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(te){var q=h;return function(){var ue=h;h=q;try{return te.apply(this,arguments)}finally{h=ue}}}})(tC);eC.exports=tC;var S8=eC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N8=j,_a=S8;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,Hf={};function Gl(e,t){ou(e,t),ou(e+"Capture",t)}function ou(e,t){for(Hf[e]=t,e=0;e<t.length;e++)rC.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T1=Object.prototype.hasOwnProperty,T8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,US={},KS={};function P8(e){return T1.call(KS,e)?!0:T1.call(US,e)?!1:T8.test(e)?KS[e]=!0:(US[e]=!0,!1)}function _8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E8(e,t,r,n){if(t===null||typeof t>"u"||_8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ra(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jn[e]=new ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jn[t]=new ra(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jn[e]=new ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jn[e]=new ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jn[e]=new ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jn[e]=new ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jn[e]=new ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jn[e]=new ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jn[e]=new ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var kk=/[\-:]([a-z])/g;function jk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kk,jk);jn[t]=new ra(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kk,jk);jn[t]=new ra(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kk,jk);jn[t]=new ra(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jn[e]=new ra(e,1,!1,e.toLowerCase(),null,!1,!1)});jn.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jn[e]=new ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sk(e,t,r,n){var a=jn.hasOwnProperty(t)?jn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E8(t,r,a,n)&&(r=null),n||a===null?P8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ts=N8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L0=Symbol.for("react.element"),bc=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),Nk=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),nC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),E1=Symbol.for("react.suspense_list"),Pk=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),iC=Symbol.for("react.offscreen"),VS=Symbol.iterator;function yd(e){return e===null||typeof e!="object"?null:(e=VS&&e[VS]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,Dv;function of(e){if(Dv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dv=t&&t[1]||""}return`
`+Dv+e}var Mv=!1;function Rv(e,t){if(!e||Mv)return"";Mv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Mv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?of(e):""}function A8(e){switch(e.tag){case 5:return of(e.type);case 16:return of("Lazy");case 13:return of("Suspense");case 19:return of("SuspenseList");case 0:case 2:case 15:return e=Rv(e.type,!1),e;case 11:return e=Rv(e.type.render,!1),e;case 1:return e=Rv(e.type,!0),e;default:return""}}function A1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wc:return"Fragment";case bc:return"Portal";case P1:return"Profiler";case Nk:return"StrictMode";case _1:return"Suspense";case E1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aC:return(e.displayName||"Context")+".Consumer";case nC:return(e._context.displayName||"Context")+".Provider";case Tk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pk:return t=e.displayName||null,t!==null?t:A1(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return A1(e(t))}catch{}}return null}function O8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A1(t);case 8:return t===Nk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C8(e){var t=sC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F0(e){e._valueTracker||(e._valueTracker=C8(e))}function oC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function O1(e,t){var r=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ro(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lC(e,t){t=t.checked,t!=null&&Sk(e,"checked",t,!1)}function C1(e,t){lC(e,t);var r=Ro(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?D1(e,t.type,r):t.hasOwnProperty("defaultValue")&&D1(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function D1(e,t,r){(t!=="number"||Qp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lf=Array.isArray;function zc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ro(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function M1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(lf(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ro(r)}}function cC(e,t){var r=Ro(t.value),n=Ro(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function GS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $0,dC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($0=$0||document.createElement("div"),$0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D8=["Webkit","ms","Moz","O"];Object.keys(xf).forEach(function(e){D8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xf[t]=xf[e]})});function fC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xf.hasOwnProperty(e)&&xf[e]?(""+t).trim():t+"px"}function hC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=fC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var M8=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I1(e,t){if(t){if(M8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function L1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F1=null;function _k(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $1=null,Hc=null,Wc=null;function qS(e){if(e=f0(e)){if(typeof $1!="function")throw Error(We(280));var t=e.stateNode;t&&(t=ix(t),$1(e.stateNode,e.type,t))}}function pC(e){Hc?Wc?Wc.push(e):Wc=[e]:Hc=e}function mC(){if(Hc){var e=Hc,t=Wc;if(Wc=Hc=null,qS(e),t)for(e=0;e<t.length;e++)qS(t[e])}}function gC(e,t){return e(t)}function xC(){}var Iv=!1;function vC(e,t,r){if(Iv)return e(t,r);Iv=!0;try{return gC(e,t,r)}finally{Iv=!1,(Hc!==null||Wc!==null)&&(xC(),mC())}}function Gf(e,t){var r=e.stateNode;if(r===null)return null;var n=ix(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var B1=!1;if(gs)try{var bd={};Object.defineProperty(bd,"passive",{get:function(){B1=!0}}),window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{B1=!1}function R8(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var vf=!1,Zp=null,em=!1,U1=null,I8={onError:function(e){vf=!0,Zp=e}};function L8(e,t,r,n,a,s,o,l,c){vf=!1,Zp=null,R8.apply(I8,arguments)}function F8(e,t,r,n,a,s,o,l,c){if(L8.apply(this,arguments),vf){if(vf){var u=Zp;vf=!1,Zp=null}else throw Error(We(198));em||(em=!0,U1=u)}}function ql(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YS(e){if(ql(e)!==e)throw Error(We(188))}function $8(e){var t=e.alternate;if(!t){if(t=ql(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return YS(a),e;if(s===n)return YS(a),t;s=s.sibling}throw Error(We(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function bC(e){return e=$8(e),e!==null?wC(e):null}function wC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wC(e);if(t!==null)return t;e=e.sibling}return null}var kC=_a.unstable_scheduleCallback,XS=_a.unstable_cancelCallback,B8=_a.unstable_shouldYield,U8=_a.unstable_requestPaint,Pr=_a.unstable_now,K8=_a.unstable_getCurrentPriorityLevel,Ek=_a.unstable_ImmediatePriority,jC=_a.unstable_UserBlockingPriority,tm=_a.unstable_NormalPriority,V8=_a.unstable_LowPriority,SC=_a.unstable_IdlePriority,tx=null,$i=null;function z8(e){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(tx,e,void 0,(e.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:G8,H8=Math.log,W8=Math.LN2;function G8(e){return e>>>=0,e===0?32:31-(H8(e)/W8|0)|0}var B0=64,U0=4194304;function cf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=cf(l):(s&=o,s!==0&&(n=cf(s)))}else o=r&~a,o!==0?n=cf(o):s!==0&&(n=cf(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wi(t),a=1<<r,n|=e[r],t&=~a;return n}function q8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wi(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=q8(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function K1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NC(){var e=B0;return B0<<=1,!(B0&4194240)&&(B0=64),e}function Lv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function u0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wi(t),e[t]=r}function X8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wi(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Ak(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var zt=0;function TC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PC,Ok,_C,EC,AC,V1=!1,K0=[],ko=null,jo=null,So=null,qf=new Map,Yf=new Map,fo=[],J8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JS(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":qf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(t.pointerId)}}function wd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=f0(t),t!==null&&Ok(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Q8(e,t,r,n,a){switch(t){case"focusin":return ko=wd(ko,e,t,r,n,a),!0;case"dragenter":return jo=wd(jo,e,t,r,n,a),!0;case"mouseover":return So=wd(So,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return qf.set(s,wd(qf.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Yf.set(s,wd(Yf.get(s)||null,e,t,r,n,a)),!0}return!1}function OC(e){var t=ml(e.target);if(t!==null){var r=ql(t);if(r!==null){if(t=r.tag,t===13){if(t=yC(r),t!==null){e.blockedOn=t,AC(e.priority,function(){_C(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=z1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);F1=n,r.target.dispatchEvent(n),F1=null}else return t=f0(r),t!==null&&Ok(t),e.blockedOn=r,!1;t.shift()}return!0}function QS(e,t,r){Rp(e)&&r.delete(t)}function Z8(){V1=!1,ko!==null&&Rp(ko)&&(ko=null),jo!==null&&Rp(jo)&&(jo=null),So!==null&&Rp(So)&&(So=null),qf.forEach(QS),Yf.forEach(QS)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,V1||(V1=!0,_a.unstable_scheduleCallback(_a.unstable_NormalPriority,Z8)))}function Xf(e){function t(a){return kd(a,e)}if(0<K0.length){kd(K0[0],e);for(var r=1;r<K0.length;r++){var n=K0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ko!==null&&kd(ko,e),jo!==null&&kd(jo,e),So!==null&&kd(So,e),qf.forEach(t),Yf.forEach(t),r=0;r<fo.length;r++)n=fo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fo.length&&(r=fo[0],r.blockedOn===null);)OC(r),r.blockedOn===null&&fo.shift()}var Gc=Ts.ReactCurrentBatchConfig,nm=!0;function e$(e,t,r,n){var a=zt,s=Gc.transition;Gc.transition=null;try{zt=1,Ck(e,t,r,n)}finally{zt=a,Gc.transition=s}}function t$(e,t,r,n){var a=zt,s=Gc.transition;Gc.transition=null;try{zt=4,Ck(e,t,r,n)}finally{zt=a,Gc.transition=s}}function Ck(e,t,r,n){if(nm){var a=z1(e,t,r,n);if(a===null)Gv(e,t,n,am,r),JS(e,n);else if(Q8(a,e,t,r,n))n.stopPropagation();else if(JS(e,n),t&4&&-1<J8.indexOf(e)){for(;a!==null;){var s=f0(a);if(s!==null&&PC(s),s=z1(e,t,r,n),s===null&&Gv(e,t,n,am,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Gv(e,t,n,null,r)}}var am=null;function z1(e,t,r,n){if(am=null,e=_k(n),e=ml(e),e!==null)if(t=ql(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return am=e,null}function CC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K8()){case Ek:return 1;case jC:return 4;case tm:case V8:return 16;case SC:return 536870912;default:return 16}default:return 16}}var mo=null,Dk=null,Ip=null;function DC(){if(Ip)return Ip;var e,t=Dk,r=t.length,n,a="value"in mo?mo.value:mo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Ip=a.slice(e,1<n?1-n:void 0)}function Lp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function V0(){return!0}function ZS(){return!1}function Ca(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?V0:ZS,this.isPropagationStopped=ZS,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=V0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=V0)},persist:function(){},isPersistent:V0}),t}var Gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mk=Ca(Gu),d0=vr({},Gu,{view:0,detail:0}),r$=Ca(d0),Fv,$v,jd,rx=vr({},d0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jd&&(jd&&e.type==="mousemove"?(Fv=e.screenX-jd.screenX,$v=e.screenY-jd.screenY):$v=Fv=0,jd=e),Fv)},movementY:function(e){return"movementY"in e?e.movementY:$v}}),eN=Ca(rx),n$=vr({},rx,{dataTransfer:0}),a$=Ca(n$),i$=vr({},d0,{relatedTarget:0}),Bv=Ca(i$),s$=vr({},Gu,{animationName:0,elapsedTime:0,pseudoElement:0}),o$=Ca(s$),l$=vr({},Gu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c$=Ca(l$),u$=vr({},Gu,{data:0}),tN=Ca(u$),d$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h$[e])?!!t[e]:!1}function Rk(){return p$}var m$=vr({},d0,{key:function(e){if(e.key){var t=d$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rk,charCode:function(e){return e.type==="keypress"?Lp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g$=Ca(m$),x$=vr({},rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rN=Ca(x$),v$=vr({},d0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rk}),y$=Ca(v$),b$=vr({},Gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),w$=Ca(b$),k$=vr({},rx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j$=Ca(k$),S$=[9,13,27,32],Ik=gs&&"CompositionEvent"in window,yf=null;gs&&"documentMode"in document&&(yf=document.documentMode);var N$=gs&&"TextEvent"in window&&!yf,MC=gs&&(!Ik||yf&&8<yf&&11>=yf),nN=" ",aN=!1;function RC(e,t){switch(e){case"keyup":return S$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kc=!1;function T$(e,t){switch(e){case"compositionend":return IC(t);case"keypress":return t.which!==32?null:(aN=!0,nN);case"textInput":return e=t.data,e===nN&&aN?null:e;default:return null}}function P$(e,t){if(kc)return e==="compositionend"||!Ik&&RC(e,t)?(e=DC(),Ip=Dk=mo=null,kc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MC&&t.locale!=="ko"?null:t.data;default:return null}}var _$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_$[e.type]:t==="textarea"}function LC(e,t,r,n){pC(n),t=im(t,"onChange"),0<t.length&&(r=new Mk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bf=null,Jf=null;function E$(e){qC(e,0)}function nx(e){var t=Nc(e);if(oC(t))return e}function A$(e,t){if(e==="change")return t}var FC=!1;if(gs){var Uv;if(gs){var Kv="oninput"in document;if(!Kv){var sN=document.createElement("div");sN.setAttribute("oninput","return;"),Kv=typeof sN.oninput=="function"}Uv=Kv}else Uv=!1;FC=Uv&&(!document.documentMode||9<document.documentMode)}function oN(){bf&&(bf.detachEvent("onpropertychange",$C),Jf=bf=null)}function $C(e){if(e.propertyName==="value"&&nx(Jf)){var t=[];LC(t,Jf,e,_k(e)),vC(E$,t)}}function O$(e,t,r){e==="focusin"?(oN(),bf=t,Jf=r,bf.attachEvent("onpropertychange",$C)):e==="focusout"&&oN()}function C$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nx(Jf)}function D$(e,t){if(e==="click")return nx(t)}function M$(e,t){if(e==="input"||e==="change")return nx(t)}function R$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ti=typeof Object.is=="function"?Object.is:R$;function Qf(e,t){if(Ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!T1.call(t,a)||!Ti(e[a],t[a]))return!1}return!0}function lN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cN(e,t){var r=lN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lN(r)}}function BC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UC(){for(var e=window,t=Qp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qp(e.document)}return t}function Lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I$(e){var t=UC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&BC(r.ownerDocument.documentElement,r)){if(n!==null&&Lk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=cN(r,s);var o=cN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L$=gs&&"documentMode"in document&&11>=document.documentMode,jc=null,H1=null,wf=null,W1=!1;function uN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;W1||jc==null||jc!==Qp(n)||(n=jc,"selectionStart"in n&&Lk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wf&&Qf(wf,n)||(wf=n,n=im(H1,"onSelect"),0<n.length&&(t=new Mk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jc)))}function z0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sc={animationend:z0("Animation","AnimationEnd"),animationiteration:z0("Animation","AnimationIteration"),animationstart:z0("Animation","AnimationStart"),transitionend:z0("Transition","TransitionEnd")},Vv={},KC={};gs&&(KC=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function ax(e){if(Vv[e])return Vv[e];if(!Sc[e])return e;var t=Sc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in KC)return Vv[e]=t[r];return e}var VC=ax("animationend"),zC=ax("animationiteration"),HC=ax("animationstart"),WC=ax("transitionend"),GC=new Map,dN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(e,t){GC.set(e,t),Gl(t,[e])}for(var zv=0;zv<dN.length;zv++){var Hv=dN[zv],F$=Hv.toLowerCase(),$$=Hv[0].toUpperCase()+Hv.slice(1);Ko(F$,"on"+$$)}Ko(VC,"onAnimationEnd");Ko(zC,"onAnimationIteration");Ko(HC,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(WC,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B$=new Set("cancel close invalid load scroll toggle".split(" ").concat(uf));function fN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,F8(n,t,void 0,e),e.currentTarget=null}function qC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;fN(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;fN(a,l,u),s=c}}}if(em)throw e=U1,em=!1,U1=null,e}function ar(e,t){var r=t[J1];r===void 0&&(r=t[J1]=new Set);var n=e+"__bubble";r.has(n)||(YC(t,e,2,!1),r.add(n))}function Wv(e,t,r){var n=0;t&&(n|=4),YC(r,e,n,t)}var H0="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[H0]){e[H0]=!0,rC.forEach(function(r){r!=="selectionchange"&&(B$.has(r)||Wv(r,!1,e),Wv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[H0]||(t[H0]=!0,Wv("selectionchange",!1,t))}}function YC(e,t,r,n){switch(CC(t)){case 1:var a=e$;break;case 4:a=t$;break;default:a=Ck}r=a.bind(null,t,r,e),a=void 0,!B1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Gv(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ml(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}vC(function(){var u=s,d=_k(r),f=[];e:{var h=GC.get(e);if(h!==void 0){var p=Mk,g=e;switch(e){case"keypress":if(Lp(r)===0)break e;case"keydown":case"keyup":p=g$;break;case"focusin":g="focus",p=Bv;break;case"focusout":g="blur",p=Bv;break;case"beforeblur":case"afterblur":p=Bv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=a$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=y$;break;case VC:case zC:case HC:p=o$;break;case WC:p=w$;break;case"scroll":p=r$;break;case"wheel":p=j$;break;case"copy":case"cut":case"paste":p=c$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rN}var m=(t&4)!==0,x=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,b!==null&&(w=Gf(y,b),w!=null&&m.push(eh(y,w,v)))),x)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==F1&&(g=r.relatedTarget||r.fromElement)&&(ml(g)||g[xs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?ml(g):null,g!==null&&(x=ql(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=eN,w="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=rN,w="onPointerLeave",b="onPointerEnter",y="pointer"),x=p==null?h:Nc(p),v=g==null?h:Nc(g),h=new m(w,y+"leave",p,r,d),h.target=x,h.relatedTarget=v,w=null,ml(d)===u&&(m=new m(b,y+"enter",g,r,d),m.target=v,m.relatedTarget=x,w=m),x=w,p&&g)t:{for(m=p,b=g,y=0,v=m;v;v=cc(v))y++;for(v=0,w=b;w;w=cc(w))v++;for(;0<y-v;)m=cc(m),y--;for(;0<v-y;)b=cc(b),v--;for(;y--;){if(m===b||b!==null&&m===b.alternate)break t;m=cc(m),b=cc(b)}m=null}else m=null;p!==null&&hN(f,h,p,m,!1),g!==null&&x!==null&&hN(f,x,g,m,!0)}}e:{if(h=u?Nc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=A$;else if(iN(h))if(FC)k=M$;else{k=C$;var N=O$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=D$);if(k&&(k=k(e,u))){LC(f,k,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&D1(h,"number",h.value)}switch(N=u?Nc(u):window,e){case"focusin":(iN(N)||N.contentEditable==="true")&&(jc=N,H1=u,wf=null);break;case"focusout":wf=H1=jc=null;break;case"mousedown":W1=!0;break;case"contextmenu":case"mouseup":case"dragend":W1=!1,uN(f,r,d);break;case"selectionchange":if(L$)break;case"keydown":case"keyup":uN(f,r,d)}var S;if(Ik)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else kc?RC(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(MC&&r.locale!=="ko"&&(kc||T!=="onCompositionStart"?T==="onCompositionEnd"&&kc&&(S=DC()):(mo=d,Dk="value"in mo?mo.value:mo.textContent,kc=!0)),N=im(u,T),0<N.length&&(T=new tN(T,e,null,r,d),f.push({event:T,listeners:N}),S?T.data=S:(S=IC(r),S!==null&&(T.data=S)))),(S=N$?T$(e,r):P$(e,r))&&(u=im(u,"onBeforeInput"),0<u.length&&(d=new tN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}qC(f,t)})}function eh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function im(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Gf(e,r),s!=null&&n.unshift(eh(e,s,a)),s=Gf(e,t),s!=null&&n.push(eh(e,s,a))),e=e.return}return n}function cc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hN(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Gf(r,s),c!=null&&o.unshift(eh(r,c,l))):a||(c=Gf(r,s),c!=null&&o.push(eh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var U$=/\r\n?/g,K$=/\u0000|\uFFFD/g;function pN(e){return(typeof e=="string"?e:""+e).replace(U$,`
`).replace(K$,"")}function W0(e,t,r){if(t=pN(t),pN(e)!==t&&r)throw Error(We(425))}function sm(){}var G1=null,q1=null;function Y1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var X1=typeof setTimeout=="function"?setTimeout:void 0,V$=typeof clearTimeout=="function"?clearTimeout:void 0,mN=typeof Promise=="function"?Promise:void 0,z$=typeof queueMicrotask=="function"?queueMicrotask:typeof mN<"u"?function(e){return mN.resolve(null).then(e).catch(H$)}:X1;function H$(e){setTimeout(function(){throw e})}function qv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Xf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Xf(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Mi="__reactFiber$"+qu,th="__reactProps$"+qu,xs="__reactContainer$"+qu,J1="__reactEvents$"+qu,W$="__reactListeners$"+qu,G$="__reactHandles$"+qu;function ml(e){var t=e[Mi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xs]||r[Mi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gN(e);e!==null;){if(r=e[Mi])return r;e=gN(e)}return t}e=r,r=e.parentNode}return null}function f0(e){return e=e[Mi]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function ix(e){return e[th]||null}var Q1=[],Tc=-1;function Vo(e){return{current:e}}function or(e){0>Tc||(e.current=Q1[Tc],Q1[Tc]=null,Tc--)}function er(e,t){Tc++,Q1[Tc]=e.current,e.current=t}var Io={},Fn=Vo(Io),la=Vo(!1),Cl=Io;function lu(e,t){var r=e.type.contextTypes;if(!r)return Io;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ca(e){return e=e.childContextTypes,e!=null}function om(){or(la),or(Fn)}function xN(e,t,r){if(Fn.current!==Io)throw Error(We(168));er(Fn,t),er(la,r)}function XC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(We(108,O8(e)||"Unknown",a));return vr({},r,n)}function lm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Cl=Fn.current,er(Fn,e),er(la,la.current),!0}function vN(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=XC(e,t,Cl),n.__reactInternalMemoizedMergedChildContext=e,or(la),or(Fn),er(Fn,e)):or(la),er(la,r)}var es=null,sx=!1,Yv=!1;function JC(e){es===null?es=[e]:es.push(e)}function q$(e){sx=!0,JC(e)}function zo(){if(!Yv&&es!==null){Yv=!0;var e=0,t=zt;try{var r=es;for(zt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}es=null,sx=!1}catch(a){throw es!==null&&(es=es.slice(e+1)),kC(Ek,zo),a}finally{zt=t,Yv=!1}}return null}var Pc=[],_c=0,cm=null,um=0,Ba=[],Ua=0,Dl=null,rs=1,ns="";function il(e,t){Pc[_c++]=um,Pc[_c++]=cm,cm=e,um=t}function QC(e,t,r){Ba[Ua++]=rs,Ba[Ua++]=ns,Ba[Ua++]=Dl,Dl=e;var n=rs;e=ns;var a=32-wi(n)-1;n&=~(1<<a),r+=1;var s=32-wi(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,rs=1<<32-wi(t)+a|r<<a|n,ns=s+e}else rs=1<<s|r<<a|n,ns=e}function Fk(e){e.return!==null&&(il(e,1),QC(e,1,0))}function $k(e){for(;e===cm;)cm=Pc[--_c],Pc[_c]=null,um=Pc[--_c],Pc[_c]=null;for(;e===Dl;)Dl=Ba[--Ua],Ba[Ua]=null,ns=Ba[--Ua],Ba[Ua]=null,rs=Ba[--Ua],Ba[Ua]=null}var Na=null,Sa=null,dr=!1,pi=null;function ZC(e,t){var r=Ha(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Na=e,Sa=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Na=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Dl!==null?{id:rs,overflow:ns}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ha(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Na=e,Sa=null,!0):!1;default:return!1}}function Z1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eb(e){if(dr){var t=Sa;if(t){var r=t;if(!yN(e,t)){if(Z1(e))throw Error(We(418));t=No(r.nextSibling);var n=Na;t&&yN(e,t)?ZC(n,r):(e.flags=e.flags&-4097|2,dr=!1,Na=e)}}else{if(Z1(e))throw Error(We(418));e.flags=e.flags&-4097|2,dr=!1,Na=e}}}function bN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Na=e}function G0(e){if(e!==Na)return!1;if(!dr)return bN(e),dr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Y1(e.type,e.memoizedProps)),t&&(t=Sa)){if(Z1(e))throw e3(),Error(We(418));for(;t;)ZC(e,t),t=No(t.nextSibling)}if(bN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sa=No(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=Na?No(e.stateNode.nextSibling):null;return!0}function e3(){for(var e=Sa;e;)e=No(e.nextSibling)}function cu(){Sa=Na=null,dr=!1}function Bk(e){pi===null?pi=[e]:pi.push(e)}var Y$=Ts.ReactCurrentBatchConfig;function Sd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function q0(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wN(e){var t=e._init;return t(e._payload)}function t3(e){function t(b,y){if(e){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=Eo(b,y),b.index=0,b.sibling=null,b}function s(b,y,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,v,w){return y===null||y.tag!==6?(y=ry(v,b.mode,w),y.return=b,y):(y=a(y,v),y.return=b,y)}function c(b,y,v,w){var k=v.type;return k===wc?d(b,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===so&&wN(k)===y.type)?(w=a(y,v.props),w.ref=Sd(b,y,v),w.return=b,w):(w=zp(v.type,v.key,v.props,null,b.mode,w),w.ref=Sd(b,y,v),w.return=b,w)}function u(b,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ny(v,b.mode,w),y.return=b,y):(y=a(y,v.children||[]),y.return=b,y)}function d(b,y,v,w,k){return y===null||y.tag!==7?(y=Tl(v,b.mode,w,k),y.return=b,y):(y=a(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ry(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case L0:return v=zp(y.type,y.key,y.props,null,b.mode,v),v.ref=Sd(b,null,y),v.return=b,v;case bc:return y=ny(y,b.mode,v),y.return=b,y;case so:var w=y._init;return f(b,w(y._payload),v)}if(lf(y)||yd(y))return y=Tl(y,b.mode,v,null),y.return=b,y;q0(b,y)}return null}function h(b,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(b,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case L0:return v.key===k?c(b,y,v,w):null;case bc:return v.key===k?u(b,y,v,w):null;case so:return k=v._init,h(b,y,k(v._payload),w)}if(lf(v)||yd(v))return k!==null?null:d(b,y,v,w,null);q0(b,v)}return null}function p(b,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(v)||null,l(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case L0:return b=b.get(w.key===null?v:w.key)||null,c(y,b,w,k);case bc:return b=b.get(w.key===null?v:w.key)||null,u(y,b,w,k);case so:var N=w._init;return p(b,y,v,N(w._payload),k)}if(lf(w)||yd(w))return b=b.get(v)||null,d(y,b,w,k,null);q0(y,w)}return null}function g(b,y,v,w){for(var k=null,N=null,S=y,T=y=0,P=null;S!==null&&T<v.length;T++){S.index>T?(P=S,S=null):P=S.sibling;var _=h(b,S,v[T],w);if(_===null){S===null&&(S=P);break}e&&S&&_.alternate===null&&t(b,S),y=s(_,y,T),N===null?k=_:N.sibling=_,N=_,S=P}if(T===v.length)return r(b,S),dr&&il(b,T),k;if(S===null){for(;T<v.length;T++)S=f(b,v[T],w),S!==null&&(y=s(S,y,T),N===null?k=S:N.sibling=S,N=S);return dr&&il(b,T),k}for(S=n(b,S);T<v.length;T++)P=p(S,b,T,v[T],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?T:P.key),y=s(P,y,T),N===null?k=P:N.sibling=P,N=P);return e&&S.forEach(function(O){return t(b,O)}),dr&&il(b,T),k}function m(b,y,v,w){var k=yd(v);if(typeof k!="function")throw Error(We(150));if(v=k.call(v),v==null)throw Error(We(151));for(var N=k=null,S=y,T=y=0,P=null,_=v.next();S!==null&&!_.done;T++,_=v.next()){S.index>T?(P=S,S=null):P=S.sibling;var O=h(b,S,_.value,w);if(O===null){S===null&&(S=P);break}e&&S&&O.alternate===null&&t(b,S),y=s(O,y,T),N===null?k=O:N.sibling=O,N=O,S=P}if(_.done)return r(b,S),dr&&il(b,T),k;if(S===null){for(;!_.done;T++,_=v.next())_=f(b,_.value,w),_!==null&&(y=s(_,y,T),N===null?k=_:N.sibling=_,N=_);return dr&&il(b,T),k}for(S=n(b,S);!_.done;T++,_=v.next())_=p(S,b,T,_.value,w),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?T:_.key),y=s(_,y,T),N===null?k=_:N.sibling=_,N=_);return e&&S.forEach(function(C){return t(b,C)}),dr&&il(b,T),k}function x(b,y,v,w){if(typeof v=="object"&&v!==null&&v.type===wc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case L0:e:{for(var k=v.key,N=y;N!==null;){if(N.key===k){if(k=v.type,k===wc){if(N.tag===7){r(b,N.sibling),y=a(N,v.props.children),y.return=b,b=y;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===so&&wN(k)===N.type){r(b,N.sibling),y=a(N,v.props),y.ref=Sd(b,N,v),y.return=b,b=y;break e}r(b,N);break}else t(b,N);N=N.sibling}v.type===wc?(y=Tl(v.props.children,b.mode,w,v.key),y.return=b,b=y):(w=zp(v.type,v.key,v.props,null,b.mode,w),w.ref=Sd(b,y,v),w.return=b,b=w)}return o(b);case bc:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(b,y.sibling),y=a(y,v.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=ny(v,b.mode,w),y.return=b,b=y}return o(b);case so:return N=v._init,x(b,y,N(v._payload),w)}if(lf(v))return g(b,y,v,w);if(yd(v))return m(b,y,v,w);q0(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,v),y.return=b,b=y):(r(b,y),y=ry(v,b.mode,w),y.return=b,b=y),o(b)):r(b,y)}return x}var uu=t3(!0),r3=t3(!1),dm=Vo(null),fm=null,Ec=null,Uk=null;function Kk(){Uk=Ec=fm=null}function Vk(e){var t=dm.current;or(dm),e._currentValue=t}function tb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qc(e,t){fm=e,Uk=Ec=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ia=!0),e.firstContext=null)}function Ja(e){var t=e._currentValue;if(Uk!==e)if(e={context:e,memoizedValue:t,next:null},Ec===null){if(fm===null)throw Error(We(308));Ec=e,fm.dependencies={lanes:0,firstContext:e}}else Ec=Ec.next=e;return t}var gl=null;function zk(e){gl===null?gl=[e]:gl.push(e)}function n3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,zk(t)):(r.next=a.next,a.next=r),t.interleaved=r,vs(e,n)}function vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oo=!1;function Hk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vs(e,r)}return a=n.interleaved,a===null?(t.next=t,zk(n)):(t.next=a.next,a.next=t),n.interleaved=t,vs(e,r)}function Fp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ak(e,r)}}function kN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hm(e,t,r,n){var a=e.updateQueue;oo=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=vr({},f,h);break e;case 2:oo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=f}}function jN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(We(191,a));a.call(n)}}}var h0={},Bi=Vo(h0),rh=Vo(h0),nh=Vo(h0);function xl(e){if(e===h0)throw Error(We(174));return e}function Wk(e,t){switch(er(nh,t),er(rh,e),er(Bi,h0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R1(t,e)}or(Bi),er(Bi,t)}function du(){or(Bi),or(rh),or(nh)}function i3(e){xl(nh.current);var t=xl(Bi.current),r=R1(t,e.type);t!==r&&(er(rh,e),er(Bi,r))}function Gk(e){rh.current===e&&(or(Bi),or(rh))}var pr=Vo(0);function pm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xv=[];function qk(){for(var e=0;e<Xv.length;e++)Xv[e]._workInProgressVersionPrimary=null;Xv.length=0}var $p=Ts.ReactCurrentDispatcher,Jv=Ts.ReactCurrentBatchConfig,Ml=0,gr=null,Gr=null,nn=null,mm=!1,kf=!1,ah=0,X$=0;function _n(){throw Error(We(321))}function Yk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ti(e[r],t[r]))return!1;return!0}function Xk(e,t,r,n,a,s){if(Ml=s,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$p.current=e===null||e.memoizedState===null?eB:tB,e=r(n,a),kf){s=0;do{if(kf=!1,ah=0,25<=s)throw Error(We(301));s+=1,nn=Gr=null,t.updateQueue=null,$p.current=rB,e=r(n,a)}while(kf)}if($p.current=gm,t=Gr!==null&&Gr.next!==null,Ml=0,nn=Gr=gr=null,mm=!1,t)throw Error(We(300));return e}function Jk(){var e=ah!==0;return ah=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?gr.memoizedState=nn=e:nn=nn.next=e,nn}function Qa(){if(Gr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=nn===null?gr.memoizedState:nn.next;if(t!==null)nn=t,Gr=e;else{if(e===null)throw Error(We(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},nn===null?gr.memoizedState=nn=e:nn=nn.next=e}return nn}function ih(e,t){return typeof t=="function"?t(e):t}function Qv(e){var t=Qa(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=Gr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Ml&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,gr.lanes|=d,Rl|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Ti(n,t.memoizedState)||(ia=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,gr.lanes|=s,Rl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zv(e){var t=Qa(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Ti(s,t.memoizedState)||(ia=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function s3(){}function o3(e,t){var r=gr,n=Qa(),a=t(),s=!Ti(n.memoizedState,a);if(s&&(n.memoizedState=a,ia=!0),n=n.queue,Qk(u3.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||nn!==null&&nn.memoizedState.tag&1){if(r.flags|=2048,sh(9,c3.bind(null,r,n,a,t),void 0,null),cn===null)throw Error(We(349));Ml&30||l3(r,t,a)}return a}function l3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c3(e,t,r,n){t.value=r,t.getSnapshot=n,d3(t)&&f3(e)}function u3(e,t,r){return r(function(){d3(t)&&f3(e)})}function d3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ti(e,r)}catch{return!0}}function f3(e){var t=vs(e,1);t!==null&&ki(t,e,1,-1)}function SN(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:e},t.queue=e,e=e.dispatch=Z$.bind(null,gr,e),[t.memoizedState,e]}function sh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h3(){return Qa().memoizedState}function Bp(e,t,r,n){var a=Di();gr.flags|=e,a.memoizedState=sh(1|t,r,void 0,n===void 0?null:n)}function ox(e,t,r,n){var a=Qa();n=n===void 0?null:n;var s=void 0;if(Gr!==null){var o=Gr.memoizedState;if(s=o.destroy,n!==null&&Yk(n,o.deps)){a.memoizedState=sh(t,r,s,n);return}}gr.flags|=e,a.memoizedState=sh(1|t,r,s,n)}function NN(e,t){return Bp(8390656,8,e,t)}function Qk(e,t){return ox(2048,8,e,t)}function p3(e,t){return ox(4,2,e,t)}function m3(e,t){return ox(4,4,e,t)}function g3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x3(e,t,r){return r=r!=null?r.concat([e]):null,ox(4,4,g3.bind(null,t,e),r)}function Zk(){}function v3(e,t){var r=Qa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function y3(e,t){var r=Qa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function b3(e,t,r){return Ml&21?(Ti(r,t)||(r=NC(),gr.lanes|=r,Rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ia=!0),e.memoizedState=r)}function J$(e,t){var r=zt;zt=r!==0&&4>r?r:4,e(!0);var n=Jv.transition;Jv.transition={};try{e(!1),t()}finally{zt=r,Jv.transition=n}}function w3(){return Qa().memoizedState}function Q$(e,t,r){var n=_o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k3(e))j3(t,r);else if(r=n3(e,t,r,n),r!==null){var a=Zn();ki(r,e,n,a),S3(r,t,n)}}function Z$(e,t,r){var n=_o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k3(e))j3(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ti(l,o)){var c=t.interleaved;c===null?(a.next=a,zk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=n3(e,t,a,n),r!==null&&(a=Zn(),ki(r,e,n,a),S3(r,t,n))}}function k3(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function j3(e,t){kf=mm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ak(e,r)}}var gm={readContext:Ja,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},eB={readContext:Ja,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:Ja,useEffect:NN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bp(4194308,4,g3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bp(4,2,e,t)},useMemo:function(e,t){var r=Di();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Di();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Q$.bind(null,gr,e),[n.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:SN,useDebugValue:Zk,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=SN(!1),t=e[0];return e=J$.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gr,a=Di();if(dr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),cn===null)throw Error(We(349));Ml&30||l3(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,NN(u3.bind(null,n,s,e),[e]),n.flags|=2048,sh(9,c3.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Di(),t=cn.identifierPrefix;if(dr){var r=ns,n=rs;r=(n&~(1<<32-wi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ah++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=X$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tB={readContext:Ja,useCallback:v3,useContext:Ja,useEffect:Qk,useImperativeHandle:x3,useInsertionEffect:p3,useLayoutEffect:m3,useMemo:y3,useReducer:Qv,useRef:h3,useState:function(){return Qv(ih)},useDebugValue:Zk,useDeferredValue:function(e){var t=Qa();return b3(t,Gr.memoizedState,e)},useTransition:function(){var e=Qv(ih)[0],t=Qa().memoizedState;return[e,t]},useMutableSource:s3,useSyncExternalStore:o3,useId:w3,unstable_isNewReconciler:!1},rB={readContext:Ja,useCallback:v3,useContext:Ja,useEffect:Qk,useImperativeHandle:x3,useInsertionEffect:p3,useLayoutEffect:m3,useMemo:y3,useReducer:Zv,useRef:h3,useState:function(){return Zv(ih)},useDebugValue:Zk,useDeferredValue:function(e){var t=Qa();return Gr===null?t.memoizedState=e:b3(t,Gr.memoizedState,e)},useTransition:function(){var e=Zv(ih)[0],t=Qa().memoizedState;return[e,t]},useMutableSource:s3,useSyncExternalStore:o3,useId:w3,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lx={isMounted:function(e){return(e=e._reactInternals)?ql(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zn(),a=_o(e),s=ls(n,a);s.payload=t,r!=null&&(s.callback=r),t=To(e,s,a),t!==null&&(ki(t,e,a,n),Fp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zn(),a=_o(e),s=ls(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=To(e,s,a),t!==null&&(ki(t,e,a,n),Fp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zn(),n=_o(e),a=ls(r,n);a.tag=2,t!=null&&(a.callback=t),t=To(e,a,n),t!==null&&(ki(t,e,n,r),Fp(t,e,n))}};function TN(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qf(r,n)||!Qf(a,s):!0}function N3(e,t,r){var n=!1,a=Io,s=t.contextType;return typeof s=="object"&&s!==null?s=Ja(s):(a=ca(t)?Cl:Fn.current,n=t.contextTypes,s=(n=n!=null)?lu(e,a):Io),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function PN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lx.enqueueReplaceState(t,t.state,null)}function nb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Hk(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ja(s):(s=ca(t)?Cl:Fn.current,a.context=lu(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rb(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&lx.enqueueReplaceState(a,a.state,null),hm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fu(e,t){try{var r="",n=t;do r+=A8(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function ey(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ab(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nB=typeof WeakMap=="function"?WeakMap:Map;function T3(e,t,r){r=ls(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vm||(vm=!0,pb=n),ab(e,t)},r}function P3(e,t,r){r=ls(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ab(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ab(e,t),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _N(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nB;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=xB.bind(null,e,t,r),t.then(e,e))}function EN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AN(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ls(-1,1),t.tag=2,To(r,t,1))),r.lanes|=1),e)}var aB=Ts.ReactCurrentOwner,ia=!1;function Gn(e,t,r,n){t.child=e===null?r3(t,null,r,n):uu(t,e.child,r,n)}function ON(e,t,r,n,a){r=r.render;var s=t.ref;return qc(t,a),n=Xk(e,t,r,n,s,a),r=Jk(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ys(e,t,a)):(dr&&r&&Fk(t),t.flags|=1,Gn(e,t,n,a),t.child)}function CN(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!o2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,_3(e,t,s,n,a)):(e=zp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Qf,r(o,n)&&e.ref===t.ref)return ys(e,t,a)}return t.flags|=1,e=Eo(s,n),e.ref=t.ref,e.return=t,t.child=e}function _3(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Qf(s,n)&&e.ref===t.ref)if(ia=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ia=!0);else return t.lanes=e.lanes,ys(e,t,a)}return ib(e,t,r,n,a)}function E3(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Oc,va),va|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Oc,va),va|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,er(Oc,va),va|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,er(Oc,va),va|=n;return Gn(e,t,a,r),t.child}function A3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ib(e,t,r,n,a){var s=ca(r)?Cl:Fn.current;return s=lu(t,s),qc(t,a),r=Xk(e,t,r,n,s,a),n=Jk(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ys(e,t,a)):(dr&&n&&Fk(t),t.flags|=1,Gn(e,t,r,a),t.child)}function DN(e,t,r,n,a){if(ca(r)){var s=!0;lm(t)}else s=!1;if(qc(t,a),t.stateNode===null)Up(e,t),N3(t,r,n),nb(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ja(u):(u=ca(r)?Cl:Fn.current,u=lu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&PN(t,o,n,u),oo=!1;var h=t.memoizedState;o.state=h,hm(t,n,o,a),c=t.memoizedState,l!==n||h!==c||la.current||oo?(typeof d=="function"&&(rb(t,r,d,n),c=t.memoizedState),(l=oo||TN(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,a3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:di(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ja(c):(c=ca(r)?Cl:Fn.current,c=lu(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&PN(t,o,n,c),oo=!1,h=t.memoizedState,o.state=h,hm(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||la.current||oo?(typeof p=="function"&&(rb(t,r,p,n),g=t.memoizedState),(u=oo||TN(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return sb(e,t,r,n,s,a)}function sb(e,t,r,n,a,s){A3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&vN(t,r,!1),ys(e,t,s);n=t.stateNode,aB.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=uu(t,e.child,null,s),t.child=uu(t,null,l,s)):Gn(e,t,l,s),t.memoizedState=n.state,a&&vN(t,r,!0),t.child}function O3(e){var t=e.stateNode;t.pendingContext?xN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xN(e,t.context,!1),Wk(e,t.containerInfo)}function MN(e,t,r,n,a){return cu(),Bk(a),t.flags|=256,Gn(e,t,r,n),t.child}var ob={dehydrated:null,treeContext:null,retryLane:0};function lb(e){return{baseLanes:e,cachePool:null,transitions:null}}function C3(e,t,r){var n=t.pendingProps,a=pr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),er(pr,a&1),e===null)return eb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dx(o,n,0,null),e=Tl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=lb(r),t.memoizedState=ob,e):e2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iB(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Eo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Eo(l,s):(s=Tl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?lb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=ob,n}return s=e.child,e=s.sibling,n=Eo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function e2(e,t){return t=dx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Y0(e,t,r,n){return n!==null&&Bk(n),uu(t,e.child,null,r),e=e2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iB(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=ey(Error(We(422))),Y0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=dx({mode:"visible",children:n.children},a,0,null),s=Tl(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&uu(t,e.child,null,o),t.child.memoizedState=lb(o),t.memoizedState=ob,s);if(!(t.mode&1))return Y0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(We(419)),n=ey(s,n,void 0),Y0(e,t,o,n)}if(l=(o&e.childLanes)!==0,ia||l){if(n=cn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,vs(e,a),ki(n,e,a,-1))}return s2(),n=ey(Error(We(421))),Y0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=vB.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Sa=No(a.nextSibling),Na=t,dr=!0,pi=null,e!==null&&(Ba[Ua++]=rs,Ba[Ua++]=ns,Ba[Ua++]=Dl,rs=e.id,ns=e.overflow,Dl=t),t=e2(t,n.children),t.flags|=4096,t)}function RN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tb(e.return,t,r)}function ty(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function D3(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Gn(e,t,n.children,r),n=pr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RN(e,r,t);else if(e.tag===19)RN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(er(pr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&pm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ty(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&pm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ty(t,!0,r,null,s);break;case"together":ty(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Up(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ys(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=Eo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Eo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sB(e,t,r){switch(t.tag){case 3:O3(t),cu();break;case 5:i3(t);break;case 1:ca(t.type)&&lm(t);break;case 4:Wk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;er(dm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(er(pr,pr.current&1),t.flags|=128,null):r&t.child.childLanes?C3(e,t,r):(er(pr,pr.current&1),e=ys(e,t,r),e!==null?e.sibling:null);er(pr,pr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return D3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),er(pr,pr.current),n)break;return null;case 22:case 23:return t.lanes=0,E3(e,t,r)}return ys(e,t,r)}var M3,cb,R3,I3;M3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cb=function(){};R3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xl(Bi.current);var s=null;switch(r){case"input":a=O1(e,a),n=O1(e,n),s=[];break;case"select":a=vr({},a,{value:void 0}),n=vr({},n,{value:void 0}),s=[];break;case"textarea":a=M1(e,a),n=M1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sm)}I1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ar("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};I3=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nd(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function oB(e,t,r){var n=t.pendingProps;switch($k(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return ca(t.type)&&om(),En(t),null;case 3:return n=t.stateNode,du(),or(la),or(Fn),qk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(G0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pi!==null&&(xb(pi),pi=null))),cb(e,t),En(t),null;case 5:Gk(t);var a=xl(nh.current);if(r=t.type,e!==null&&t.stateNode!=null)R3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return En(t),null}if(e=xl(Bi.current),G0(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Mi]=t,n[th]=s,e=(t.mode&1)!==0,r){case"dialog":ar("cancel",n),ar("close",n);break;case"iframe":case"object":case"embed":ar("load",n);break;case"video":case"audio":for(a=0;a<uf.length;a++)ar(uf[a],n);break;case"source":ar("error",n);break;case"img":case"image":case"link":ar("error",n),ar("load",n);break;case"details":ar("toggle",n);break;case"input":zS(n,s),ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ar("invalid",n);break;case"textarea":WS(n,s),ar("invalid",n)}I1(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&W0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&W0(n.textContent,l,e),a=["children",""+l]):Hf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ar("scroll",n)}switch(r){case"input":F0(n),HS(n,s,!0);break;case"textarea":F0(n),GS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=sm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mi]=t,e[th]=n,M3(e,t,!1,!1),t.stateNode=e;e:{switch(o=L1(r,n),r){case"dialog":ar("cancel",e),ar("close",e),a=n;break;case"iframe":case"object":case"embed":ar("load",e),a=n;break;case"video":case"audio":for(a=0;a<uf.length;a++)ar(uf[a],e);a=n;break;case"source":ar("error",e),a=n;break;case"img":case"image":case"link":ar("error",e),ar("load",e),a=n;break;case"details":ar("toggle",e),a=n;break;case"input":zS(e,n),a=O1(e,n),ar("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=vr({},n,{value:void 0}),ar("invalid",e);break;case"textarea":WS(e,n),a=M1(e,n),ar("invalid",e);break;default:a=n}I1(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?hC(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dC(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wf(e,c):typeof c=="number"&&Wf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ar("scroll",e):c!=null&&Sk(e,s,c,o))}switch(r){case"input":F0(e),HS(e,n,!1);break;case"textarea":F0(e),GS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ro(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?zc(e,!!n.multiple,s,!1):n.defaultValue!=null&&zc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)I3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=xl(nh.current),xl(Bi.current),G0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mi]=t,(s=n.nodeValue!==r)&&(e=Na,e!==null))switch(e.tag){case 3:W0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&W0(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mi]=t,t.stateNode=n}return En(t),null;case 13:if(or(pr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dr&&Sa!==null&&t.mode&1&&!(t.flags&128))e3(),cu(),t.flags|=98560,s=!1;else if(s=G0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(We(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[Mi]=t}else cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),s=!1}else pi!==null&&(xb(pi),pi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?Yr===0&&(Yr=3):s2())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return du(),cb(e,t),e===null&&Zf(t.stateNode.containerInfo),En(t),null;case 10:return Vk(t.type._context),En(t),null;case 17:return ca(t.type)&&om(),En(t),null;case 19:if(or(pr),s=t.memoizedState,s===null)return En(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Nd(s,!1);else{if(Yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pm(e),o!==null){for(t.flags|=128,Nd(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(pr,pr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pr()>hu&&(t.flags|=128,n=!0,Nd(s,!1),t.lanes=4194304)}else{if(!n)if(e=pm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dr)return En(t),null}else 2*Pr()-s.renderingStartTime>hu&&r!==1073741824&&(t.flags|=128,n=!0,Nd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pr(),t.sibling=null,r=pr.current,er(pr,n?r&1|2:r&1),t):(En(t),null);case 22:case 23:return i2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?va&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function lB(e,t){switch($k(t),t.tag){case 1:return ca(t.type)&&om(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return du(),or(la),or(Fn),qk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gk(t),null;case 13:if(or(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(pr),null;case 4:return du(),null;case 10:return Vk(t.type._context),null;case 22:case 23:return i2(),null;case 24:return null;default:return null}}var X0=!1,Dn=!1,cB=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Ac(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wr(e,t,n)}else r.current=null}function ub(e,t,r){try{r()}catch(n){wr(e,t,n)}}var IN=!1;function uB(e,t){if(G1=nm,e=UC(),Lk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(q1={focusedElem:e,selectionRange:r},nm=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:di(t.type,m),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(w){wr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return g=IN,IN=!1,g}function jf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ub(t,r,s)}a=a.next}while(a!==n)}}function cx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function db(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L3(e){var t=e.alternate;t!==null&&(e.alternate=null,L3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mi],delete t[th],delete t[J1],delete t[W$],delete t[G$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function F3(e){return e.tag===5||e.tag===3||e.tag===4}function LN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sm));else if(n!==4&&(e=e.child,e!==null))for(fb(e,t,r),e=e.sibling;e!==null;)fb(e,t,r),e=e.sibling}function hb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hb(e,t,r),e=e.sibling;e!==null;)hb(e,t,r),e=e.sibling}var xn=null,fi=!1;function Zs(e,t,r){for(r=r.child;r!==null;)$3(e,t,r),r=r.sibling}function $3(e,t,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(tx,r)}catch{}switch(r.tag){case 5:Dn||Ac(r,t);case 6:var n=xn,a=fi;xn=null,Zs(e,t,r),xn=n,fi=a,xn!==null&&(fi?(e=xn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xn.removeChild(r.stateNode));break;case 18:xn!==null&&(fi?(e=xn,r=r.stateNode,e.nodeType===8?qv(e.parentNode,r):e.nodeType===1&&qv(e,r),Xf(e)):qv(xn,r.stateNode));break;case 4:n=xn,a=fi,xn=r.stateNode.containerInfo,fi=!0,Zs(e,t,r),xn=n,fi=a;break;case 0:case 11:case 14:case 15:if(!Dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ub(r,t,o),a=a.next}while(a!==n)}Zs(e,t,r);break;case 1:if(!Dn&&(Ac(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){wr(r,t,l)}Zs(e,t,r);break;case 21:Zs(e,t,r);break;case 22:r.mode&1?(Dn=(n=Dn)||r.memoizedState!==null,Zs(e,t,r),Dn=n):Zs(e,t,r);break;default:Zs(e,t,r)}}function FN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cB),t.forEach(function(n){var a=yB.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function oi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:xn=l.stateNode,fi=!1;break e;case 3:xn=l.stateNode.containerInfo,fi=!0;break e;case 4:xn=l.stateNode.containerInfo,fi=!0;break e}l=l.return}if(xn===null)throw Error(We(160));$3(s,o,a),xn=null,fi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){wr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B3(t,e),t=t.sibling}function B3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oi(t,e),Ei(e),n&4){try{jf(3,e,e.return),cx(3,e)}catch(m){wr(e,e.return,m)}try{jf(5,e,e.return)}catch(m){wr(e,e.return,m)}}break;case 1:oi(t,e),Ei(e),n&512&&r!==null&&Ac(r,r.return);break;case 5:if(oi(t,e),Ei(e),n&512&&r!==null&&Ac(r,r.return),e.flags&32){var a=e.stateNode;try{Wf(a,"")}catch(m){wr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&lC(a,s),L1(l,o);var u=L1(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?hC(a,f):d==="dangerouslySetInnerHTML"?dC(a,f):d==="children"?Wf(a,f):Sk(a,d,f,u)}switch(l){case"input":C1(a,s);break;case"textarea":cC(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zc(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?zc(a,!!s.multiple,s.defaultValue,!0):zc(a,!!s.multiple,s.multiple?[]:"",!1))}a[th]=s}catch(m){wr(e,e.return,m)}}break;case 6:if(oi(t,e),Ei(e),n&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){wr(e,e.return,m)}}break;case 3:if(oi(t,e),Ei(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xf(t.containerInfo)}catch(m){wr(e,e.return,m)}break;case 4:oi(t,e),Ei(e);break;case 13:oi(t,e),Ei(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(n2=Pr())),n&4&&FN(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dn=(u=Dn)||d,oi(t,e),Dn=u):oi(t,e),Ei(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(tt=e,d=e.child;d!==null;){for(f=tt=d;tt!==null;){switch(h=tt,p=h.child,h.tag){case 0:case 11:case 14:case 15:jf(4,h,h.return);break;case 1:Ac(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){wr(n,r,m)}}break;case 5:Ac(h,h.return);break;case 22:if(h.memoizedState!==null){BN(f);continue}}p!==null?(p.return=h,tt=p):BN(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fC("display",o))}catch(m){wr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){wr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oi(t,e),Ei(e),n&4&&FN(e);break;case 21:break;default:oi(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(F3(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Wf(a,""),n.flags&=-33);var s=LN(e);hb(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=LN(e);fb(e,l,o);break;default:throw Error(We(161))}}catch(c){wr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dB(e,t,r){tt=e,U3(e)}function U3(e,t,r){for(var n=(e.mode&1)!==0;tt!==null;){var a=tt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||X0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Dn;l=X0;var u=Dn;if(X0=o,(Dn=c)&&!u)for(tt=a;tt!==null;)o=tt,c=o.child,o.tag===22&&o.memoizedState!==null?UN(a):c!==null?(c.return=o,tt=c):UN(a);for(;s!==null;)tt=s,U3(s),s=s.sibling;tt=a,X0=l,Dn=u}$N(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,tt=s):$N(e)}}function $N(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dn||cx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:di(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jN(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Dn||t.flags&512&&db(t)}catch(h){wr(t,t.return,h)}}if(t===e){tt=null;break}if(r=t.sibling,r!==null){r.return=t.return,tt=r;break}tt=t.return}}function BN(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,tt=r;break}tt=t.return}}function UN(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cx(4,t)}catch(c){wr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){wr(t,a,c)}}var s=t.return;try{db(t)}catch(c){wr(t,s,c)}break;case 5:var o=t.return;try{db(t)}catch(c){wr(t,o,c)}}}catch(c){wr(t,t.return,c)}if(t===e){tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,tt=l;break}tt=t.return}}var fB=Math.ceil,xm=Ts.ReactCurrentDispatcher,t2=Ts.ReactCurrentOwner,Ga=Ts.ReactCurrentBatchConfig,Dt=0,cn=null,Mr=null,wn=0,va=0,Oc=Vo(0),Yr=0,oh=null,Rl=0,ux=0,r2=0,Sf=null,na=null,n2=0,hu=1/0,Qi=null,vm=!1,pb=null,Po=null,J0=!1,go=null,ym=0,Nf=0,mb=null,Kp=-1,Vp=0;function Zn(){return Dt&6?Pr():Kp!==-1?Kp:Kp=Pr()}function _o(e){return e.mode&1?Dt&2&&wn!==0?wn&-wn:Y$.transition!==null?(Vp===0&&(Vp=NC()),Vp):(e=zt,e!==0||(e=window.event,e=e===void 0?16:CC(e.type)),e):1}function ki(e,t,r,n){if(50<Nf)throw Nf=0,mb=null,Error(We(185));u0(e,r,n),(!(Dt&2)||e!==cn)&&(e===cn&&(!(Dt&2)&&(ux|=r),Yr===4&&ho(e,wn)),ua(e,n),r===1&&Dt===0&&!(t.mode&1)&&(hu=Pr()+500,sx&&zo()))}function ua(e,t){var r=e.callbackNode;Y8(e,t);var n=rm(e,e===cn?wn:0);if(n===0)r!==null&&XS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&XS(r),t===1)e.tag===0?q$(KN.bind(null,e)):JC(KN.bind(null,e)),z$(function(){!(Dt&6)&&zo()}),r=null;else{switch(TC(n)){case 1:r=Ek;break;case 4:r=jC;break;case 16:r=tm;break;case 536870912:r=SC;break;default:r=tm}r=Y3(r,K3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function K3(e,t){if(Kp=-1,Vp=0,Dt&6)throw Error(We(327));var r=e.callbackNode;if(Yc()&&e.callbackNode!==r)return null;var n=rm(e,e===cn?wn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bm(e,n);else{t=n;var a=Dt;Dt|=2;var s=z3();(cn!==e||wn!==t)&&(Qi=null,hu=Pr()+500,Nl(e,t));do try{mB();break}catch(l){V3(e,l)}while(!0);Kk(),xm.current=s,Dt=a,Mr!==null?t=0:(cn=null,wn=0,t=Yr)}if(t!==0){if(t===2&&(a=K1(e),a!==0&&(n=a,t=gb(e,a))),t===1)throw r=oh,Nl(e,0),ho(e,n),ua(e,Pr()),r;if(t===6)ho(e,n);else{if(a=e.current.alternate,!(n&30)&&!hB(a)&&(t=bm(e,n),t===2&&(s=K1(e),s!==0&&(n=s,t=gb(e,s))),t===1))throw r=oh,Nl(e,0),ho(e,n),ua(e,Pr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:sl(e,na,Qi);break;case 3:if(ho(e,n),(n&130023424)===n&&(t=n2+500-Pr(),10<t)){if(rm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=X1(sl.bind(null,e,na,Qi),t);break}sl(e,na,Qi);break;case 4:if(ho(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-wi(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fB(n/1960))-n,10<n){e.timeoutHandle=X1(sl.bind(null,e,na,Qi),n);break}sl(e,na,Qi);break;case 5:sl(e,na,Qi);break;default:throw Error(We(329))}}}return ua(e,Pr()),e.callbackNode===r?K3.bind(null,e):null}function gb(e,t){var r=Sf;return e.current.memoizedState.isDehydrated&&(Nl(e,t).flags|=256),e=bm(e,t),e!==2&&(t=na,na=r,t!==null&&xb(t)),e}function xb(e){na===null?na=e:na.push.apply(na,e)}function hB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ti(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ho(e,t){for(t&=~r2,t&=~ux,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wi(t),n=1<<r;e[r]=-1,t&=~n}}function KN(e){if(Dt&6)throw Error(We(327));Yc();var t=rm(e,0);if(!(t&1))return ua(e,Pr()),null;var r=bm(e,t);if(e.tag!==0&&r===2){var n=K1(e);n!==0&&(t=n,r=gb(e,n))}if(r===1)throw r=oh,Nl(e,0),ho(e,t),ua(e,Pr()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sl(e,na,Qi),ua(e,Pr()),null}function a2(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(hu=Pr()+500,sx&&zo())}}function Il(e){go!==null&&go.tag===0&&!(Dt&6)&&Yc();var t=Dt;Dt|=1;var r=Ga.transition,n=zt;try{if(Ga.transition=null,zt=1,e)return e()}finally{zt=n,Ga.transition=r,Dt=t,!(Dt&6)&&zo()}}function i2(){va=Oc.current,or(Oc)}function Nl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,V$(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch($k(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&om();break;case 3:du(),or(la),or(Fn),qk();break;case 5:Gk(n);break;case 4:du();break;case 13:or(pr);break;case 19:or(pr);break;case 10:Vk(n.type._context);break;case 22:case 23:i2()}r=r.return}if(cn=e,Mr=e=Eo(e.current,null),wn=va=t,Yr=0,oh=null,r2=ux=Rl=0,na=Sf=null,gl!==null){for(t=0;t<gl.length;t++)if(r=gl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}gl=null}return e}function V3(e,t){do{var r=Mr;try{if(Kk(),$p.current=gm,mm){for(var n=gr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}mm=!1}if(Ml=0,nn=Gr=gr=null,kf=!1,ah=0,t2.current=null,r===null||r.return===null){Yr=1,oh=t,Mr=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=wn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=EN(o);if(p!==null){p.flags&=-257,AN(p,o,l,s,t),p.mode&1&&_N(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){_N(s,u,t),s2();break e}c=Error(We(426))}}else if(dr&&l.mode&1){var x=EN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),AN(x,o,l,s,t),Bk(fu(c,l));break e}}s=c=fu(c,l),Yr!==4&&(Yr=2),Sf===null?Sf=[s]:Sf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=T3(s,c,t);kN(s,b);break e;case 1:l=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Po===null||!Po.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=P3(s,l,t);kN(s,w);break e}}s=s.return}while(s!==null)}W3(r)}catch(k){t=k,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function z3(){var e=xm.current;return xm.current=gm,e===null?gm:e}function s2(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),cn===null||!(Rl&268435455)&&!(ux&268435455)||ho(cn,wn)}function bm(e,t){var r=Dt;Dt|=2;var n=z3();(cn!==e||wn!==t)&&(Qi=null,Nl(e,t));do try{pB();break}catch(a){V3(e,a)}while(!0);if(Kk(),Dt=r,xm.current=n,Mr!==null)throw Error(We(261));return cn=null,wn=0,Yr}function pB(){for(;Mr!==null;)H3(Mr)}function mB(){for(;Mr!==null&&!B8();)H3(Mr)}function H3(e){var t=q3(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?W3(e):Mr=t,t2.current=null}function W3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lB(r,t),r!==null){r.flags&=32767,Mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yr=6,Mr=null;return}}else if(r=oB(r,t,va),r!==null){Mr=r;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Yr===0&&(Yr=5)}function sl(e,t,r){var n=zt,a=Ga.transition;try{Ga.transition=null,zt=1,gB(e,t,r,n)}finally{Ga.transition=a,zt=n}return null}function gB(e,t,r,n){do Yc();while(go!==null);if(Dt&6)throw Error(We(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(X8(e,s),e===cn&&(Mr=cn=null,wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||J0||(J0=!0,Y3(tm,function(){return Yc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ga.transition,Ga.transition=null;var o=zt;zt=1;var l=Dt;Dt|=4,t2.current=null,uB(e,r),B3(r,e),I$(q1),nm=!!G1,q1=G1=null,e.current=r,dB(r),U8(),Dt=l,zt=o,Ga.transition=s}else e.current=r;if(J0&&(J0=!1,go=e,ym=a),s=e.pendingLanes,s===0&&(Po=null),z8(r.stateNode),ua(e,Pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(vm)throw vm=!1,e=pb,pb=null,e;return ym&1&&e.tag!==0&&Yc(),s=e.pendingLanes,s&1?e===mb?Nf++:(Nf=0,mb=e):Nf=0,zo(),null}function Yc(){if(go!==null){var e=TC(ym),t=Ga.transition,r=zt;try{if(Ga.transition=null,zt=16>e?16:e,go===null)var n=!1;else{if(e=go,go=null,ym=0,Dt&6)throw Error(We(331));var a=Dt;for(Dt|=4,tt=e.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(tt=u;tt!==null;){var d=tt;switch(d.tag){case 0:case 11:case 15:jf(8,d,s)}var f=d.child;if(f!==null)f.return=d,tt=f;else for(;tt!==null;){d=tt;var h=d.sibling,p=d.return;if(L3(d),d===u){tt=null;break}if(h!==null){h.return=p,tt=h;break}tt=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,tt=b;break e}tt=s.return}}var y=e.current;for(tt=y;tt!==null;){o=tt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,tt=v;else e:for(o=y;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cx(9,l)}}catch(k){wr(l,l.return,k)}if(l===o){tt=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,tt=w;break e}tt=l.return}}if(Dt=a,zo(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(tx,e)}catch{}n=!0}return n}finally{zt=r,Ga.transition=t}}return!1}function VN(e,t,r){t=fu(r,t),t=T3(e,t,1),e=To(e,t,1),t=Zn(),e!==null&&(u0(e,1,t),ua(e,t))}function wr(e,t,r){if(e.tag===3)VN(e,e,r);else for(;t!==null;){if(t.tag===3){VN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){e=fu(r,e),e=P3(t,e,1),t=To(t,e,1),e=Zn(),t!==null&&(u0(t,1,e),ua(t,e));break}}t=t.return}}function xB(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&r,cn===e&&(wn&r)===r&&(Yr===4||Yr===3&&(wn&130023424)===wn&&500>Pr()-n2?Nl(e,0):r2|=r),ua(e,t)}function G3(e,t){t===0&&(e.mode&1?(t=U0,U0<<=1,!(U0&130023424)&&(U0=4194304)):t=1);var r=Zn();e=vs(e,t),e!==null&&(u0(e,t,r),ua(e,r))}function vB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G3(e,r)}function yB(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),G3(e,r)}var q3;q3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||la.current)ia=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ia=!1,sB(e,t,r);ia=!!(e.flags&131072)}else ia=!1,dr&&t.flags&1048576&&QC(t,um,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Up(e,t),e=t.pendingProps;var a=lu(t,Fn.current);qc(t,r),a=Xk(null,t,n,e,a,r);var s=Jk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ca(n)?(s=!0,lm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Hk(t),a.updater=lx,t.stateNode=a,a._reactInternals=t,nb(t,n,e,r),t=sb(null,t,n,!0,s,r)):(t.tag=0,dr&&s&&Fk(t),Gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Up(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=wB(n),e=di(n,e),a){case 0:t=ib(null,t,n,e,r);break e;case 1:t=DN(null,t,n,e,r);break e;case 11:t=ON(null,t,n,e,r);break e;case 14:t=CN(null,t,n,di(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:di(n,a),ib(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:di(n,a),DN(e,t,n,a,r);case 3:e:{if(O3(t),e===null)throw Error(We(387));n=t.pendingProps,s=t.memoizedState,a=s.element,a3(e,t),hm(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=fu(Error(We(423)),t),t=MN(e,t,n,r,a);break e}else if(n!==a){a=fu(Error(We(424)),t),t=MN(e,t,n,r,a);break e}else for(Sa=No(t.stateNode.containerInfo.firstChild),Na=t,dr=!0,pi=null,r=r3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cu(),n===a){t=ys(e,t,r);break e}Gn(e,t,n,r)}t=t.child}return t;case 5:return i3(t),e===null&&eb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,Y1(n,a)?o=null:s!==null&&Y1(n,s)&&(t.flags|=32),A3(e,t),Gn(e,t,o,r),t.child;case 6:return e===null&&eb(t),null;case 13:return C3(e,t,r);case 4:return Wk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uu(t,null,n,r):Gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:di(n,a),ON(e,t,n,a,r);case 7:return Gn(e,t,t.pendingProps,r),t.child;case 8:return Gn(e,t,t.pendingProps.children,r),t.child;case 12:return Gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,er(dm,n._currentValue),n._currentValue=o,s!==null)if(Ti(s.value,o)){if(s.children===a.children&&!la.current){t=ys(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ls(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),tb(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(We(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),tb(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,qc(t,r),a=Ja(a),n=n(a),t.flags|=1,Gn(e,t,n,r),t.child;case 14:return n=t.type,a=di(n,t.pendingProps),a=di(n.type,a),CN(e,t,n,a,r);case 15:return _3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:di(n,a),Up(e,t),t.tag=1,ca(n)?(e=!0,lm(t)):e=!1,qc(t,r),N3(t,n,a),nb(t,n,a,r),sb(null,t,n,!0,e,r);case 19:return D3(e,t,r);case 22:return E3(e,t,r)}throw Error(We(156,t.tag))};function Y3(e,t){return kC(e,t)}function bB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(e,t,r,n){return new bB(e,t,r,n)}function o2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wB(e){if(typeof e=="function")return o2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tk)return 11;if(e===Pk)return 14}return 2}function Eo(e,t){var r=e.alternate;return r===null?(r=Ha(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zp(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")o2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wc:return Tl(r.children,a,s,t);case Nk:o=8,a|=8;break;case P1:return e=Ha(12,r,t,a|2),e.elementType=P1,e.lanes=s,e;case _1:return e=Ha(13,r,t,a),e.elementType=_1,e.lanes=s,e;case E1:return e=Ha(19,r,t,a),e.elementType=E1,e.lanes=s,e;case iC:return dx(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nC:o=10;break e;case aC:o=9;break e;case Tk:o=11;break e;case Pk:o=14;break e;case so:o=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Ha(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Tl(e,t,r,n){return e=Ha(7,e,n,t),e.lanes=r,e}function dx(e,t,r,n){return e=Ha(22,e,n,t),e.elementType=iC,e.lanes=r,e.stateNode={isHidden:!1},e}function ry(e,t,r){return e=Ha(6,e,null,t),e.lanes=r,e}function ny(e,t,r){return t=Ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kB(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function l2(e,t,r,n,a,s,o,l,c){return e=new kB(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ha(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hk(s),e}function jB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function X3(e){if(!e)return Io;e=e._reactInternals;e:{if(ql(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(ca(r))return XC(e,r,t)}return t}function J3(e,t,r,n,a,s,o,l,c){return e=l2(r,n,!0,e,a,s,o,l,c),e.context=X3(null),r=e.current,n=Zn(),a=_o(r),s=ls(n,a),s.callback=t??null,To(r,s,a),e.current.lanes=a,u0(e,a,n),ua(e,n),e}function fx(e,t,r,n){var a=t.current,s=Zn(),o=_o(a);return r=X3(r),t.context===null?t.context=r:t.pendingContext=r,t=ls(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=To(a,t,o),e!==null&&(ki(e,a,o,s),Fp(e,a,o)),o}function wm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function c2(e,t){zN(e,t),(e=e.alternate)&&zN(e,t)}function SB(){return null}var Q3=typeof reportError=="function"?reportError:function(e){console.error(e)};function u2(e){this._internalRoot=e}hx.prototype.render=u2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));fx(e,t,null,null)};hx.prototype.unmount=u2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Il(function(){fx(null,e,null,null)}),t[xs]=null}};function hx(e){this._internalRoot=e}hx.prototype.unstable_scheduleHydration=function(e){if(e){var t=EC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fo.length&&t!==0&&t<fo[r].priority;r++);fo.splice(r,0,e),r===0&&OC(e)}};function d2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function px(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HN(){}function NB(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=wm(o);s.call(u)}}var o=J3(t,n,e,0,null,!1,!1,"",HN);return e._reactRootContainer=o,e[xs]=o.current,Zf(e.nodeType===8?e.parentNode:e),Il(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=wm(c);l.call(u)}}var c=l2(e,0,!1,null,null,!1,!1,"",HN);return e._reactRootContainer=c,e[xs]=c.current,Zf(e.nodeType===8?e.parentNode:e),Il(function(){fx(t,c,r,n)}),c}function mx(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=wm(o);l.call(c)}}fx(t,o,e,a)}else o=NB(r,t,e,a,n);return wm(o)}PC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cf(t.pendingLanes);r!==0&&(Ak(t,r|1),ua(t,Pr()),!(Dt&6)&&(hu=Pr()+500,zo()))}break;case 13:Il(function(){var n=vs(e,1);if(n!==null){var a=Zn();ki(n,e,1,a)}}),c2(e,1)}};Ok=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var r=Zn();ki(t,e,134217728,r)}c2(e,134217728)}};_C=function(e){if(e.tag===13){var t=_o(e),r=vs(e,t);if(r!==null){var n=Zn();ki(r,e,t,n)}c2(e,t)}};EC=function(){return zt};AC=function(e,t){var r=zt;try{return zt=e,t()}finally{zt=r}};$1=function(e,t,r){switch(t){case"input":if(C1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ix(n);if(!a)throw Error(We(90));oC(n),C1(n,a)}}}break;case"textarea":cC(e,r);break;case"select":t=r.value,t!=null&&zc(e,!!r.multiple,t,!1)}};gC=a2;xC=Il;var TB={usingClientEntryPoint:!1,Events:[f0,Nc,ix,pC,mC,a2]},Td={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PB={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bC(e),e===null?null:e.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||SB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q0.isDisabled&&Q0.supportsFiber)try{tx=Q0.inject(PB),$i=Q0}catch{}}Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TB;Oa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d2(t))throw Error(We(200));return jB(e,t,null,r)};Oa.createRoot=function(e,t){if(!d2(e))throw Error(We(299));var r=!1,n="",a=Q3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=l2(e,1,!1,null,null,r,!1,n,a),e[xs]=t.current,Zf(e.nodeType===8?e.parentNode:e),new u2(t)};Oa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=bC(t),e=e===null?null:e.stateNode,e};Oa.flushSync=function(e){return Il(e)};Oa.hydrate=function(e,t,r){if(!px(t))throw Error(We(200));return mx(null,e,t,!0,r)};Oa.hydrateRoot=function(e,t,r){if(!d2(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=Q3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=J3(t,null,e,1,r??null,a,!1,s,o),e[xs]=t.current,Zf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new hx(t)};Oa.render=function(e,t,r){if(!px(t))throw Error(We(200));return mx(null,e,t,!1,r)};Oa.unmountComponentAtNode=function(e){if(!px(e))throw Error(We(40));return e._reactRootContainer?(Il(function(){mx(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1};Oa.unstable_batchedUpdates=a2;Oa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!px(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return mx(e,t,r,!1,n)};Oa.version="18.3.1-next-f1338f8080-20240426";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(e){console.error(e)}}Z3(),ZO.exports=Oa;var e5=ZO.exports,WN=e5;N1.createRoot=WN.createRoot,N1.hydrateRoot=WN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}var xo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xo||(xo={}));const GN="popstate";function _B(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return vb("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:km(a)}return AB(t,r,null,e)}function Er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EB(){return Math.random().toString(36).substr(2,8)}function qN(e,t){return{usr:e.state,key:e.key,idx:t}}function vb(e,t,r,n){return r===void 0&&(r=null),lh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yu(t):t,{state:r,key:t&&t.key||n||EB()})}function km(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function AB(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=xo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(lh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=xo.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:b})}function h(x,b){l=xo.Push;let y=vb(m.location,x,b);u=d()+1;let v=qN(y,u),w=m.createHref(y);try{o.pushState(v,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}s&&c&&c({action:l,location:m.location,delta:1})}function p(x,b){l=xo.Replace;let y=vb(m.location,x,b);u=d();let v=qN(y,u),w=m.createHref(y);o.replaceState(v,"",w),s&&c&&c({action:l,location:m.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:km(x);return y=y.replace(/ $/,"%20"),Er(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let m={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(GN,f),c=x,()=>{a.removeEventListener(GN,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return o.go(x)}};return m}var YN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(YN||(YN={}));function OB(e,t,r){return r===void 0&&(r="/"),CB(e,t,r)}function CB(e,t,r,n){let a=typeof t=="string"?Yu(t):t,s=h2(a.pathname||"/",r);if(s==null)return null;let o=t5(e);DB(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=HB(s);l=KB(o[c],u)}return l}function t5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Er(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ao([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Er(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t5(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:BB(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of r5(s.path))a(s,o,c)}),t}function r5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=r5(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const MB=/^:[\w-]+$/,RB=3,IB=2,LB=1,FB=10,$B=-2,XN=e=>e==="*";function BB(e,t){let r=e.split("/"),n=r.length;return r.some(XN)&&(n+=$B),t&&(n+=IB),r.filter(a=>!XN(a)).reduce((a,s)=>a+(MB.test(s)?RB:s===""?LB:FB),n)}function UB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function KB(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=VB({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ao([s,f.pathname]),pathnameBase:XB(Ao([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ao([s,f.pathnameBase]))}return o}function VB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function zB(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),f2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function HB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return f2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function h2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const WB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GB=e=>WB.test(e);function qB(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Yu(e):e,s;if(r)if(GB(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),f2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=JN(r.substring(1),"/"):s=JN(r,t)}else s=t;return{pathname:s,search:JB(n),hash:QB(a)}}function JN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ay(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function p2(e,t){let r=YB(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function m2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Yu(e):(a=lh({},e),Er(!a.pathname||!a.pathname.includes("?"),ay("?","pathname","search",a)),Er(!a.pathname||!a.pathname.includes("#"),ay("#","pathname","hash",a)),Er(!a.search||!a.search.includes("#"),ay("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=qB(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ao=e=>e.join("/").replace(/\/\/+/g,"/"),XB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const n5=["post","put","patch","delete"];new Set(n5);const e7=["get",...n5];new Set(e7);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}const g2=j.createContext(null),t7=j.createContext(null),Ho=j.createContext(null),gx=j.createContext(null),Ps=j.createContext({outlet:null,matches:[],isDataRoute:!1}),a5=j.createContext(null);function r7(e,t){let{relative:r}=t===void 0?{}:t;Xu()||Er(!1);let{basename:n,navigator:a}=j.useContext(Ho),{hash:s,pathname:o,search:l}=s5(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ao([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Xu(){return j.useContext(gx)!=null}function Ju(){return Xu()||Er(!1),j.useContext(gx).location}function i5(e){j.useContext(Ho).static||j.useLayoutEffect(e)}function p0(){let{isDataRoute:e}=j.useContext(Ps);return e?x7():n7()}function n7(){Xu()||Er(!1);let e=j.useContext(g2),{basename:t,future:r,navigator:n}=j.useContext(Ho),{matches:a}=j.useContext(Ps),{pathname:s}=Ju(),o=JSON.stringify(p2(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return i5(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=m2(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ao([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const a7=j.createContext(null);function i7(e){let t=j.useContext(Ps).outlet;return t&&j.createElement(a7.Provider,{value:e},t)}function s5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(Ho),{matches:a}=j.useContext(Ps),{pathname:s}=Ju(),o=JSON.stringify(p2(a,n.v7_relativeSplatPath));return j.useMemo(()=>m2(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function s7(e,t){return o7(e,t)}function o7(e,t,r,n){Xu()||Er(!1);let{navigator:a}=j.useContext(Ho),{matches:s}=j.useContext(Ps),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ju(),d;if(t){var f;let x=typeof t=="string"?Yu(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Er(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=OB(e,{pathname:p}),m=f7(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ao([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ao([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&m?j.createElement(gx.Provider,{value:{location:ch({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xo.Pop}},m):m}function l7(){let e=g7(),t=ZB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const c7=j.createElement(l7,null);class u7 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(Ps.Provider,{value:this.props.routeContext},j.createElement(a5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d7(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(g2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ps.Provider,{value:t},n)}function f7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Er(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||c7,c&&(u<0&&h===0?(v7("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let v;return p?v=m:g?v=x:f.route.Component?v=j.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,j.createElement(d7,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(u7,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var o5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o5||{}),l5=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(l5||{});function h7(e){let t=j.useContext(g2);return t||Er(!1),t}function p7(e){let t=j.useContext(t7);return t||Er(!1),t}function m7(e){let t=j.useContext(Ps);return t||Er(!1),t}function c5(e){let t=m7(),r=t.matches[t.matches.length-1];return r.route.id||Er(!1),r.route.id}function g7(){var e;let t=j.useContext(a5),r=p7(),n=c5();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function x7(){let{router:e}=h7(o5.UseNavigateStable),t=c5(l5.UseNavigateStable),r=j.useRef(!1);return i5(()=>{r.current=!0}),j.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ch({fromRouteId:t},s)))},[e,t])}const QN={};function v7(e,t,r){QN[e]||(QN[e]=!0)}function y7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ll(e){let{to:t,replace:r,state:n,relative:a}=e;Xu()||Er(!1);let{future:s,static:o}=j.useContext(Ho),{matches:l}=j.useContext(Ps),{pathname:c}=Ju(),u=p0(),d=m2(t,p2(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function b7(e){return i7(e.context)}function mt(e){Er(!1)}function w7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=xo.Pop,navigator:s,static:o=!1,future:l}=e;Xu()&&Er(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:o,future:ch({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Yu(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=j.useMemo(()=>{let x=h2(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:j.createElement(Ho.Provider,{value:u},j.createElement(gx.Provider,{children:r,value:m}))}function k7(e){let{children:t,location:r}=e;return s7(yb(t),r)}new Promise(()=>{});function yb(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,yb(n.props.children,s));return}n.type!==mt&&Er(!1),!n.props.index||!n.props.children||Er(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yb(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function j7(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function S7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N7(e,t){return e.button===0&&(!t||t==="_self")&&!S7(e)}const T7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P7="6";try{window.__reactRouterVersion=P7}catch{}const _7="startTransition",ZN=JO[_7];function E7(e){let{basename:t,children:r,future:n,window:a}=e,s=j.useRef();s.current==null&&(s.current=_B({window:a,v5Compat:!0}));let o=s.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=j.useCallback(f=>{u&&ZN?ZN(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>y7(n),[n]),j.createElement(w7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const A7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z0=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=j7(t,T7),{basename:p}=j.useContext(Ho),g,m=!1;if(typeof u=="string"&&O7.test(u)&&(g=u,A7))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=h2(w.pathname,p);w.origin===v.origin&&k!=null?u=k+w.search+w.hash:m=!0}catch{}let x=r7(u,{relative:a}),b=C7(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||b(v)}return j.createElement("a",bb({},h,{href:g||x,onClick:m||s?n:y,ref:r,target:c}))});var eT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eT||(eT={}));var tT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tT||(tT={}));function C7(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=p0(),u=Ju(),d=s5(e,{relative:o});return j.useCallback(f=>{if(N7(f,r)){f.preventDefault();let h=n!==void 0?n:km(u)===km(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}const D7={},rT=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(D7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},M7=e=>e?rT(e):rT;var u5={exports:{}},d5={},f5={exports:{}},h5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=j;function R7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I7=typeof Object.is=="function"?Object.is:R7,L7=pu.useState,F7=pu.useEffect,$7=pu.useLayoutEffect,B7=pu.useDebugValue;function U7(e,t){var r=t(),n=L7({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return $7(function(){a.value=r,a.getSnapshot=t,iy(a)&&s({inst:a})},[e,r,t]),F7(function(){return iy(a)&&s({inst:a}),e(function(){iy(a)&&s({inst:a})})},[e]),B7(r),r}function iy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!I7(e,r)}catch{return!0}}function K7(e,t){return t()}var V7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K7:U7;h5.useSyncExternalStore=pu.useSyncExternalStore!==void 0?pu.useSyncExternalStore:V7;f5.exports=h5;var z7=f5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=j,H7=z7;function W7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G7=typeof Object.is=="function"?Object.is:W7,q7=H7.useSyncExternalStore,Y7=xx.useRef,X7=xx.useEffect,J7=xx.useMemo,Q7=xx.useDebugValue;d5.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=Y7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=J7(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return f=g}return f=p}if(g=f,G7(d,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=q7(e,s[0],s[1]);return X7(function(){o.hasValue=!0,o.value=l},[l]),Q7(l),l};u5.exports=d5;var Z7=u5.exports;const e9=Bt(Z7),p5={},{useDebugValue:t9}=de,{useSyncExternalStoreWithSelector:r9}=e9;let nT=!1;const n9=e=>e;function a9(e,t=n9,r){(p5?"production":void 0)!=="production"&&r&&!nT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nT=!0);const n=r9(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return t9(n),n}const aT=e=>{(p5?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?M7(e):e,r=(n,a)=>a9(t,n,a);return Object.assign(r,t),r},m0=e=>e?aT(e):aT,i9={};function s9(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(a))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const uh=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return uh(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return uh(n)(r)}}}},o9=(e,t)=>(r,n,a)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=uh(s.serialize),f=()=>{const x=s.partialize({...n()});let b;const y=d({state:x,version:s.version}).then(v=>u.setItem(s.name,v)).catch(v=>{b=v});if(b)throw b;return y},h=a.setState;a.setState=(x,b)=>{h(x,b),f()};const p=e((...x)=>{r(...x),f()},n,a);let g;const m=()=>{var x;if(!u)return;o=!1,l.forEach(y=>y(n()));const b=((x=s.onRehydrateStorage)==null?void 0:x.call(s,n()))||void 0;return uh(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var v;return g=s.merge(y,(v=n())!=null?v:p),r(g,!0),f()}).then(()=>{b==null||b(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},m(),g||p},l9=(e,t)=>(r,n,a)=>{let s={storage:s9(()=>localStorage),partialize:m=>m,version:0,merge:(m,x)=>({...x,...m}),...t},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...m)},n,a);const d=()=>{const m=s.partialize({...n()});return u.setItem(s.name,{state:m,version:s.version})},f=a.setState;a.setState=(m,x)=>{f(m,x),d()};const h=e((...m)=>{r(...m),d()},n,a);a.getInitialState=()=>h;let p;const g=()=>{var m,x;if(!u)return;o=!1,l.forEach(y=>{var v;return y((v=n())!=null?v:h)});const b=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(m=n())!=null?m:h))||void 0;return uh(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[w,k]=y;if(p=s.merge(k,(v=n())!=null?v:h),r(p,!0),w)return d()}).then(()=>{b==null||b(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:m=>{s={...s,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},s.skipHydration||g(),p||h},c9=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((i9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),o9(e,t)):l9(e,t),x2=c9,Et=m0()(x2(e=>({isLoggedIn:!1,user:null,sessionId:null,deviceId:null,login:(t,r,n)=>e({isLoggedIn:!0,user:t,sessionId:r,deviceId:n}),logout:()=>e({isLoggedIn:!1,user:null,sessionId:null,deviceId:null}),updateUser:t=>e(r=>({user:r.user?{...r.user,...t}:null}))}),{name:"auth-storage"})),vx=m0()(x2(e=>({sidebarOpen:!1,sidebarCollapsed:!1,activeTab:"dashboard",dashboardPlantFilter:"ALL",dashboardYear:new Date().getFullYear(),darkMode:!1,forceDesktopView:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSidebarCollapse:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setActiveTab:t=>e({activeTab:t}),setDashboardPlantFilter:t=>e({dashboardPlantFilter:t}),setDashboardYear:t=>e({dashboardYear:t}),toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleForceDesktopView:()=>e(t=>({forceDesktopView:!t.forceDesktopView}))}),{name:"ui-storage",partialize:e=>({darkMode:e.darkMode,forceDesktopView:e.forceDesktopView})})),u9=m0((e,t)=>({notifications:[],unreadCount:0,isMarkingAllAsRead:!1,lastMarkedAllReadTimestamp:null,addNotification:r=>e(n=>({notifications:[r,...n.notifications],unreadCount:n.unreadCount+1})),markAsRead:r=>e(n=>({notifications:n.notifications.map(a=>a.id===r?{...a,read:!0}:a),unreadCount:Math.max(0,n.unreadCount-1)})),markAllAsRead:()=>e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0,lastMarkedAllReadTimestamp:Date.now()})),setMarkingAllAsRead:r=>e({isMarkingAllAsRead:r}),clearNotifications:()=>e({notifications:[],unreadCount:0}),setNotifications:r=>{const n=t();if(n.lastMarkedAllReadTimestamp&&Date.now()-n.lastMarkedAllReadTimestamp<3e3){const a=r.map(s=>{const o=n.notifications.find(l=>l.id===s.id);return o&&o.read?{...s,read:!0}:s});e({notifications:a,unreadCount:a.filter(s=>!s.read).length})}else e({notifications:r,unreadCount:r.filter(a=>!a.read).length})}})),jm=m0()(x2(e=>({messages:[],isOpen:!1,unreadChatCount:0,lastReadTimestamp:null,lastFetchTimestamp:null,toggleChat:()=>e(t=>({isOpen:!t.isOpen})),addMessage:t=>e(r=>r.messages.some(a=>a.id===t.id)?r:{messages:[...r.messages,t]}),addOptimisticMessage:t=>e(r=>({messages:[...r.messages,t]})),removeOptimisticMessage:t=>e(r=>({messages:r.messages.filter(n=>n.id!==t)})),setMessages:t=>e(r=>{const a=r.messages.filter(o=>o.id&&o.id.startsWith("temp_")).filter(o=>!t.some(c=>c.sender===o.sender&&c.message===o.message&&Math.abs(new Date(c.timestamp).getTime()-new Date(o.timestamp).getTime())<5e3)),s=[...t,...a];return s.sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),{messages:s}}),setUnreadChatCount:t=>e({unreadChatCount:t}),markChatAsRead:()=>e({unreadChatCount:0,lastReadTimestamp:new Date().toISOString()}),setLastFetchTimestamp:t=>e({lastFetchTimestamp:t})}),{name:"chat-storage",partialize:e=>({messages:e.messages.slice(-100),lastFetchTimestamp:e.lastFetchTimestamp})}));m0(e=>({loading:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t})}));const d9="modulepreload",f9=function(e){return"/"+e},iT={},st=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=f9(c),c in iT)return;iT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":d9,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function m5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=m5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=m5(e))&&(n&&(n+=" "),n+=t);return n}const v2="-",h9=e=>{const t=m9(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(v2);return l[0]===""&&l.length!==1&&l.shift(),g5(l,t)||p9(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},g5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?g5(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(v2);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},sT=/^\[(.+)\]$/,p9=e=>{if(sT.test(e)){const t=sT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},m9=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return x9(Object.entries(e.classGroups),r).forEach(([s,o])=>{wb(o,n,s,t)}),n},wb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:oT(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(g9(a)){wb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{wb(o,oT(t,s),r,n)})})},oT=(e,t)=>{let r=e;return t.split(v2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g9=e=>e.isThemeGetter,x9=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,v9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},x5="!",y9=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===a&&(n||l.slice(x,x+s)===t)){c.push(l.slice(d,x)),d=x+s;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(x5),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},b9=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w9=e=>({cache:v9(e.cacheSize),parseClassName:y9(e),...h9(e)}),k9=/\s+/,j9=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(k9);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=b9(d).join(":"),b=f?x+x5:x,y=b+m;if(s.includes(y))continue;s.push(y);const v=a(m,g);for(let w=0;w<v.length;++w){const k=v[w];s.push(b+k)}l=u+(l.length>0?" "+l:l)}return l};function S9(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v5(t))&&(n&&(n+=" "),n+=r);return n}const v5=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=v5(e[n]))&&(r&&(r+=" "),r+=t);return r};function N9(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=w9(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=j9(c,r);return a(c,d),d}return function(){return s(S9.apply(null,arguments))}}const nr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y5=/^\[(?:([a-z-]+):)?(.+)\]$/i,T9=/^\d+\/\d+$/,P9=new Set(["px","full","screen"]),_9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,O9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=e=>Xc(e)||P9.has(e)||T9.test(e),eo=e=>Qu(e,"length",B9),Xc=e=>!!e&&!Number.isNaN(Number(e)),sy=e=>Qu(e,"number",Xc),Pd=e=>!!e&&Number.isInteger(Number(e)),D9=e=>e.endsWith("%")&&Xc(e.slice(0,-1)),wt=e=>y5.test(e),to=e=>_9.test(e),M9=new Set(["length","size","percentage"]),R9=e=>Qu(e,M9,b5),I9=e=>Qu(e,"position",b5),L9=new Set(["image","url"]),F9=e=>Qu(e,L9,K9),$9=e=>Qu(e,"",U9),_d=()=>!0,Qu=(e,t,r)=>{const n=y5.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},B9=e=>E9.test(e)&&!A9.test(e),b5=()=>!1,U9=e=>O9.test(e),K9=e=>C9.test(e),V9=()=>{const e=nr("colors"),t=nr("spacing"),r=nr("blur"),n=nr("brightness"),a=nr("borderColor"),s=nr("borderRadius"),o=nr("borderSpacing"),l=nr("borderWidth"),c=nr("contrast"),u=nr("grayscale"),d=nr("hueRotate"),f=nr("invert"),h=nr("gap"),p=nr("gradientColorStops"),g=nr("gradientColorStopPositions"),m=nr("inset"),x=nr("margin"),b=nr("opacity"),y=nr("padding"),v=nr("saturate"),w=nr("scale"),k=nr("sepia"),N=nr("skew"),S=nr("space"),T=nr("translate"),P=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",wt,t],C=()=>[wt,t],D=()=>["",Yi,eo],H=()=>["auto",Xc,wt],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",wt],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Xc,wt];return{cacheSize:500,separator:":",theme:{colors:[_d],spacing:[Yi,eo],blur:["none","",to,wt],brightness:le(),borderColor:[e],borderRadius:["none","","full",to,wt],borderSpacing:C(),borderWidth:D(),contrast:le(),grayscale:q(),hueRotate:le(),invert:q(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[D9,eo],inset:O(),margin:O(),opacity:le(),padding:C(),saturate:le(),scale:le(),sepia:q(),skew:le(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[to]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),wt]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pd,wt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Pd,wt]}],"grid-cols":[{"grid-cols":[_d]}],"col-start-end":[{col:["auto",{span:["full",Pd,wt]},wt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_d]}],"row-start-end":[{row:["auto",{span:[Pd,wt]},wt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,t]}],"min-w":[{"min-w":[wt,t,"min","max","fit"]}],"max-w":[{"max-w":[wt,t,"none","full","min","max","fit","prose",{screen:[to]},to]}],h:[{h:[wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",to,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sy]}],"font-family":[{font:[_d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Xc,sy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yi,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yi,eo]}],"underline-offset":[{"underline-offset":["auto",Yi,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),I9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Yi,wt]}],"outline-w":[{outline:[Yi,eo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Yi,eo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",to,$9]}],"shadow-color":[{shadow:[_d]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",to,wt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Pd,wt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yi,eo,sy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z9=N9(V9);function Ge(...e){return z9(vt(e))}function gt(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"}function w5(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function sa(e){if(e==null||e===""||e===0||e==="0")return"-";const t=String(e).trim();if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(t)){const n=t.split(":"),a=n[0].padStart(2,"0"),s=n[1];return`${a}:${s}`}const r=parseFloat(t);if(!isNaN(r)&&r>=0&&(r<1||r>0&&t.includes("."))){const n=r%1,a=Math.round(n*24*60),s=Math.floor(a/60)%24,o=a%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}try{const n=new Date(t);if(!isNaN(n.getTime())){if(n.getFullYear()===1899)return"-";const a=n.getHours(),s=n.getMinutes();return`${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}}catch{}return t||"-"}function oe(e){return e==null?"0":e.toLocaleString("id-ID",{maximumFractionDigits:2})}function ve(e){if(e==null||e==="")return 0;if(typeof e=="number")return isNaN(e)?0:e;const r=String(e).trim().match(/^[\d.,\-]+/);if(!r)return 0;const n=r[0].replace(/\./g,"").replace(",","."),a=parseFloat(n);return isNaN(a)?0:a}function k5(e,t){if(!e||!t)return 0;const[r,n]=e.split(":").map(Number),[a,s]=t.split(":").map(Number);let o=r*60+n,l=a*60+s;return l<o&&(l+=24*60),Number(((l-o)/60).toFixed(2))}function dh(e,t){return k5(e,t)}function H9(e=""){const t=Date.now(),r=Math.random().toString(36).substring(2,9);return`${e}${e?"_":""}${t}_${r}`}function yr(){return new Date().toISOString().split("T")[0]}function un(e){return["admin","supervisor","avp","user"].includes(e)}function y2(e){return["admin","avp","supervisor"].includes(e)}function b2(e){return["admin","avp","supervisor"].includes(e)}function Nn(e){return e==="user"}function Tn(e){return e==="user"}function Qr(e){return["manager","eksternal"].includes(e)}function j5(e,t){return!!(e==="admin"&&t==="ALL"||e==="admin"||["avp","supervisor"].includes(e))}function S5(e,t){return e==="admin"}function N5(e){return!["user","manager","eksternal"].includes(e)}const T5=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yx=j.createContext({}),bx=j.createContext(null),wx=typeof document<"u",w2=wx?j.useLayoutEffect:j.useEffect,P5=j.createContext({strict:!1}),k2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),W9="framerAppearId",_5="data-"+k2(W9);function G9(e,t,r,n){const{visualElement:a}=j.useContext(yx),s=j.useContext(P5),o=j.useContext(bx),l=j.useContext(T5).reducedMotion,c=j.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;j.useInsertionEffect(()=>{u&&u.update(r,o)});const d=j.useRef(!!(r[_5]&&!window.HandoffComplete));return w2(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Cc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function q9(e,t,r){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Cc(r)&&(r.current=n))},[t])}function fh(e){return typeof e=="string"||Array.isArray(e)}function kx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const j2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S2=["initial",...j2];function jx(e){return kx(e.animate)||S2.some(t=>fh(e[t]))}function E5(e){return!!(jx(e)||e.variants)}function Y9(e,t){if(jx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||fh(r)?r:void 0,animate:fh(n)?n:void 0}}return e.inherit!==!1?t:{}}function X9(e){const{initial:t,animate:r}=Y9(e,j.useContext(yx));return j.useMemo(()=>({initial:t,animate:r}),[lT(t),lT(r)])}function lT(e){return Array.isArray(e)?e.join(" "):e}const cT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hh={};for(const e in cT)hh[e]={isEnabled:t=>cT[e].some(r=>!!t[r])};function J9(e){for(const t in e)hh[t]={...hh[t],...e[t]}}const N2=j.createContext({}),A5=j.createContext({}),Q9=Symbol.for("motionComponentSymbol");function Z9({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&J9(e);function s(l,c){let u;const d={...j.useContext(T5),...l,layoutId:eU(l)},{isStatic:f}=d,h=X9(l),p=n(l,f);if(!f&&wx){h.visualElement=G9(a,p,d,t);const g=j.useContext(A5),m=j.useContext(P5).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,g))}return j.createElement(yx.Provider,{value:h},u&&h.visualElement?j.createElement(u,{visualElement:h.visualElement,...d}):null,r(a,l,q9(p,h.visualElement,c),p,f,h.visualElement))}const o=j.forwardRef(s);return o[Q9]=a,o}function eU({layoutId:e}){const t=j.useContext(N2).id;return t&&e!==void 0?t+"-"+e:e}function tU(e){function t(n,a={}){return Z9(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const rU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T2(e){return typeof e!="string"||e.includes("-")?!1:!!(rU.indexOf(e)>-1||/[A-Z]/.test(e))}const Sm={};function nU(e){Object.assign(Sm,e)}const g0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(g0);function O5(e,{layout:t,layoutId:r}){return Yl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sm[e]||e==="opacity")}const fa=e=>!!(e&&e.getVelocity),aU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iU=g0.length;function sU(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let s="";for(let o=0;o<iU;o++){const l=g0[o];if(e[l]!==void 0){const c=aU[l]||l;s+=`${c}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),a?s=a(e,n?"":s):r&&n&&(s="none"),s}const C5=e=>t=>typeof t=="string"&&t.startsWith(e),D5=C5("--"),kb=C5("var(--"),oU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Lo=(e,t,r)=>Math.min(Math.max(r,e),t),Xl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tf={...Xl,transform:e=>Lo(0,1,e)},ep={...Xl,default:1},Pf=e=>Math.round(e*1e5)/1e5,Sx=/(-)?([\d]*\.?[\d])+/g,M5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function x0(e){return typeof e=="string"}const v0=e=>({test:t=>x0(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ao=v0("deg"),Ui=v0("%"),ht=v0("px"),uU=v0("vh"),dU=v0("vw"),uT={...Ui,parse:e=>Ui.parse(e)/100,transform:e=>Ui.transform(e*100)},dT={...Xl,transform:Math.round},R5={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,size:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:ao,skewX:ao,skewY:ao,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Tf,originX:uT,originY:uT,originZ:ht,zIndex:dT,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:dT};function P2(e,t,r,n){const{style:a,vars:s,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(D5(f)){s[f]=h;continue}const p=R5[f],g=lU(h,p);if(Yl.has(f)){if(c=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):a[f]=g}if(t.transform||(c||n?a.transform=sU(e.transform,r,d,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;a.transformOrigin=`${f} ${h} ${p}`}}const _2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I5(e,t,r){for(const n in t)!fa(t[n])&&!O5(n,r)&&(e[n]=t[n])}function fU({transformTemplate:e},t,r){return j.useMemo(()=>{const n=_2();return P2(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function hU(e,t,r){const n=e.style||{},a={};return I5(a,n,e),Object.assign(a,fU(e,t,r)),e.transformValues?e.transformValues(a):a}function pU(e,t,r){const n={},a=hU(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const mU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mU.has(e)}let L5=e=>!Nm(e);function gU(e){e&&(L5=t=>t.startsWith("on")?!Nm(t):e(t))}try{gU(require("@emotion/is-prop-valid").default)}catch{}function xU(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(L5(a)||r===!0&&Nm(a)||!t&&!Nm(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function fT(e,t,r){return typeof e=="string"?e:ht.transform(t+r*e)}function vU(e,t,r){const n=fT(t,e.x,e.width),a=fT(r,e.y,e.height);return`${n} ${a}`}const yU={offset:"stroke-dashoffset",array:"stroke-dasharray"},bU={offset:"strokeDashoffset",array:"strokeDasharray"};function wU(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?yU:bU;e[s.offset]=ht.transform(-n);const o=ht.transform(t),l=ht.transform(r);e[s.array]=`${o} ${l}`}function E2(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(P2(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(a!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=vU(m,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&wU(p,o,l,c,!1)}const F5=()=>({..._2(),attrs:{}}),A2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kU(e,t,r,n){const a=j.useMemo(()=>{const s=F5();return E2(s,t,{enableHardwareAcceleration:!1},A2(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};I5(s,e.style,e),a.style={...s,...a.style}}return a}function jU(e=!1){return(r,n,a,{latestValues:s},o)=>{const c=(T2(r)?kU:pU)(n,s,o,r),d={...xU(n,typeof r=="string",e),...c,ref:a},{children:f}=n,h=j.useMemo(()=>fa(f)?f.get():f,[f]);return j.createElement(r,{...d,children:h})}}function $5(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const B5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U5(e,t,r,n){$5(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(B5.has(a)?a:k2(a),t.attrs[a])}function O2(e,t){const{style:r}=e,n={};for(const a in r)(fa(r[a])||t.style&&fa(t.style[a])||O5(a,e))&&(n[a]=r[a]);return n}function K5(e,t){const r=O2(e,t);for(const n in e)if(fa(e[n])||fa(t[n])){const a=g0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}function C2(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function V5(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tm=e=>Array.isArray(e),SU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NU=e=>Tm(e)?e[e.length-1]||0:e;function Hp(e){const t=fa(e)?e.get():e;return SU(t)?t.toValue():t}function TU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,s){const o={latestValues:PU(n,a,s,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const z5=e=>(t,r)=>{const n=j.useContext(yx),a=j.useContext(bx),s=()=>TU(e,t,n,a);return r?s():V5(s)};function PU(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=Hp(s[h]);let{initial:o,animate:l}=e;const c=jx(e),u=E5(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!kx(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=C2(e,p);if(!g)return;const{transitionEnd:m,transition:x,...b}=g;for(const y in b){let v=b[y];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(a[y]=v)}for(const y in m)a[y]=m[y]}),a}const _r=e=>e;class hT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function _U(e){let t=new hT,r=new hT,n=0,a=!1,s=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&a,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&a&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){s=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}a=!1,s&&(s=!1,l.process(c))}};return l}const tp=["prepare","read","update","preRender","render","postRender"],EU=40;function AU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=tp.reduce((f,h)=>(f[h]=_U(()=>r=!0),f),{}),o=f=>s[f].process(a),l=()=>{const f=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,EU),1),a.timestamp=f,a.isProcessing=!0,tp.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,a.isProcessing||e(l)};return{schedule:tp.reduce((f,h)=>{const p=s[h];return f[h]=(g,m=!1,x=!1)=>(r||c(),p.schedule(g,m,x)),f},{}),cancel:f=>tp.forEach(h=>s[h].cancel(f)),state:a,steps:s}}const{schedule:tr,cancel:bs,state:An,steps:oy}=AU(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0),OU={useVisualState:z5({scrapeMotionValuesFromProps:K5,createRenderState:F5,onMount:(e,t,{renderState:r,latestValues:n})=>{tr.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),tr.render(()=>{E2(r,n,{enableHardwareAcceleration:!1},A2(t.tagName),e.transformTemplate),U5(t,r)})}})},CU={useVisualState:z5({scrapeMotionValuesFromProps:O2,createRenderState:_2})};function DU(e,{forwardMotionProps:t=!1},r,n){return{...T2(e)?OU:CU,preloadedFeatures:r,useRender:jU(t),createVisualElement:n,Component:e}}function as(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const H5=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Nx(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const MU=e=>t=>H5(t)&&e(t,Nx(t));function cs(e,t,r,n){return as(e,t,MU(r),n)}const RU=(e,t)=>r=>t(e(r)),Oo=(...e)=>e.reduce(RU);function W5(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const pT=W5("dragHorizontal"),mT=W5("dragVertical");function G5(e){let t=!1;if(e==="y")t=mT();else if(e==="x")t=pT();else{const r=pT(),n=mT();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function q5(){const e=G5(!0);return e?(e(),!1):!0}class Wo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function gT(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(s,o)=>{if(s.pointerType==="touch"||q5())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&tr.update(()=>l[n](s,o))};return cs(e.current,r,a,{passive:!e.getProps()[n]})}class IU extends Wo{mount(){this.unmount=Oo(gT(this.node,!0),gT(this.node,!1))}unmount(){}}class LU extends Wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oo(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Y5=(e,t)=>t?e===t?!0:Y5(e,t.parentElement):!1;function ly(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Nx(r))}class FU extends Wo{constructor(){super(...arguments),this.removeStartListeners=_r,this.removeEndListeners=_r,this.removeAccessibleListeners=_r,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=cs(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();tr.update(()=>{!f&&!Y5(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=cs(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Oo(s,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ly("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&tr.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=as(this.node.current,"keyup",o),ly("down",(l,c)=>{this.startPress(l,c)})},r=as(this.node.current,"keydown",t),n=()=>{this.isPressing&&ly("cancel",(s,o)=>this.cancelPress(s,o))},a=as(this.node.current,"blur",n);this.removeAccessibleListeners=Oo(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&tr.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!q5()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&tr.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=cs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=as(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Oo(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const jb=new WeakMap,cy=new WeakMap,$U=e=>{const t=jb.get(e.target);t&&t(e)},BU=e=>{e.forEach($U)};function UU({root:e,...t}){const r=e||document;cy.has(r)||cy.set(r,{});const n=cy.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(BU,{root:e,...t})),n[a]}function KU(e,t,r){const n=UU(t);return jb.set(e,r),n.observe(e),()=>{jb.delete(e),n.unobserve(e)}}const VU={some:0,all:1};class zU extends Wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:VU[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return KU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(HU(t,r))&&this.startObserver()}unmount(){}}function HU({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const WU={inView:{Feature:zU},tap:{Feature:FU},focus:{Feature:LU},hover:{Feature:IU}};function X5(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function GU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function qU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Tx(e,t,r){const n=e.getProps();return C2(n,t,r!==void 0?r:n.custom,GU(e),qU(e))}let D2=_r;const Pl=e=>e*1e3,us=e=>e/1e3,YU={current:!1},J5=e=>Array.isArray(e)&&typeof e[0]=="number";function Q5(e){return!!(!e||typeof e=="string"&&Z5[e]||J5(e)||Array.isArray(e)&&e.every(Q5))}const df=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Z5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:df([0,.65,.55,1]),circOut:df([.55,0,1,.45]),backIn:df([.31,.01,.66,-.59]),backOut:df([.33,1.53,.69,.99])};function eD(e){if(e)return J5(e)?df(e):Array.isArray(e)?e.map(eD):Z5[e]}function XU(e,t,r,{delay:n=0,duration:a,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=eD(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function JU(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const tD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,QU=1e-7,ZU=12;function eK(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=tD(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>QU&&++l<ZU);return o}function y0(e,t,r,n){if(e===t&&r===n)return _r;const a=s=>eK(s,0,1,e,r);return s=>s===0||s===1?s:tD(a(s),t,n)}const tK=y0(.42,0,1,1),rK=y0(0,0,.58,1),rD=y0(.42,0,.58,1),nK=e=>Array.isArray(e)&&typeof e[0]!="number",nD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aD=e=>t=>1-e(1-t),M2=e=>1-Math.sin(Math.acos(e)),iD=aD(M2),aK=nD(M2),sD=y0(.33,1.53,.69,.99),R2=aD(sD),iK=nD(R2),sK=e=>(e*=2)<1?.5*R2(e):.5*(2-Math.pow(2,-10*(e-1))),oK={linear:_r,easeIn:tK,easeInOut:rD,easeOut:rK,circIn:M2,circInOut:aK,circOut:iD,backIn:R2,backInOut:iK,backOut:sD,anticipate:sK},xT=e=>{if(Array.isArray(e)){D2(e.length===4);const[t,r,n,a]=e;return y0(t,r,n,a)}else if(typeof e=="string")return oK[e];return e},I2=(e,t)=>r=>!!(x0(r)&&cU.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),oD=(e,t,r)=>n=>{if(!x0(n))return n;const[a,s,o,l]=n.match(Sx);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lK=e=>Lo(0,255,e),uy={...Xl,transform:e=>Math.round(lK(e))},vl={test:I2("rgb","red"),parse:oD("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+uy.transform(e)+", "+uy.transform(t)+", "+uy.transform(r)+", "+Pf(Tf.transform(n))+")"};function cK(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Sb={test:I2("#"),parse:cK,transform:vl.transform},Dc={test:I2("hsl","hue"),parse:oD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ui.transform(Pf(t))+", "+Ui.transform(Pf(r))+", "+Pf(Tf.transform(n))+")"},Wn={test:e=>vl.test(e)||Sb.test(e)||Dc.test(e),parse:e=>vl.test(e)?vl.parse(e):Dc.test(e)?Dc.parse(e):Sb.parse(e),transform:e=>x0(e)?e:e.hasOwnProperty("red")?vl.transform(e):Dc.transform(e)},mr=(e,t,r)=>-r*e+r*t+e;function dy(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function uK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=dy(c,l,e+1/3),s=dy(c,l,e),o=dy(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const fy=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},dK=[Sb,vl,Dc],fK=e=>dK.find(t=>t.test(e));function vT(e){const t=fK(e);let r=t.parse(e);return t===Dc&&(r=uK(r)),r}const lD=(e,t)=>{const r=vT(e),n=vT(t),a={...r};return s=>(a.red=fy(r.red,n.red,s),a.green=fy(r.green,n.green,s),a.blue=fy(r.blue,n.blue,s),a.alpha=mr(r.alpha,n.alpha,s),vl.transform(a))};function hK(e){var t,r;return isNaN(e)&&x0(e)&&(((t=e.match(Sx))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(M5))===null||r===void 0?void 0:r.length)||0)>0}const cD={regex:oU,countKey:"Vars",token:"${v}",parse:_r},uD={regex:M5,countKey:"Colors",token:"${c}",parse:Wn.parse},dD={regex:Sx,countKey:"Numbers",token:"${n}",parse:Xl.parse};function hy(e,{regex:t,countKey:r,token:n,parse:a}){const s=e.tokenised.match(t);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...s.map(a)))}function Pm(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&hy(r,cD),hy(r,uD),hy(r,dD),r}function fD(e){return Pm(e).values}function hD(e){const{values:t,numColors:r,numVars:n,tokenised:a}=Pm(e),s=t.length;return o=>{let l=a;for(let c=0;c<s;c++)c<n?l=l.replace(cD.token,o[c]):c<n+r?l=l.replace(uD.token,Wn.transform(o[c])):l=l.replace(dD.token,Pf(o[c]));return l}}const pK=e=>typeof e=="number"?0:e;function mK(e){const t=fD(e);return hD(e)(t.map(pK))}const Fo={test:hK,parse:fD,createTransformer:hD,getAnimatableNone:mK},pD=(e,t)=>r=>`${r>0?t:e}`;function mD(e,t){return typeof e=="number"?r=>mr(e,t,r):Wn.test(e)?lD(e,t):e.startsWith("var(")?pD(e,t):xD(e,t)}const gD=(e,t)=>{const r=[...e],n=r.length,a=e.map((s,o)=>mD(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}},gK=(e,t)=>{const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=mD(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}},xD=(e,t)=>{const r=Fo.createTransformer(t),n=Pm(e),a=Pm(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Oo(gD(n.values,a.values),r):pD(e,t)},ph=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},yT=(e,t)=>r=>mr(e,t,r);function xK(e){return typeof e=="number"?yT:typeof e=="string"?Wn.test(e)?lD:xD:Array.isArray(e)?gD:typeof e=="object"?gK:yT}function vK(e,t,r){const n=[],a=r||xK(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||_r:t;l=Oo(c,l)}n.push(l)}return n}function vD(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(D2(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=vK(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ph(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Lo(e[0],e[s-1],u)):c}function yK(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=ph(0,t,n);e.push(mr(r,1,a))}}function bK(e){const t=[0];return yK(t,e.length-1),t}function wK(e,t){return e.map(r=>r*t)}function kK(e,t){return e.map(()=>t||rD).splice(0,e.length-1)}function _m({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=nK(n)?n.map(xT):xT(n),s={done:!1,value:t[0]},o=wK(r&&r.length===t.length?r:bK(t),e),l=vD(o,t,{ease:Array.isArray(a)?a:kK(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}function yD(e,t){return t?e*(1e3/t):0}const jK=5;function bD(e,t,r){const n=Math.max(t-jK,0);return yD(r-e(n),t-n)}const py=.001,SK=.01,NK=10,TK=.05,PK=1;function _K({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,s,o=1-t;o=Lo(TK,PK,o),e=Lo(SK,NK,us(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=Nb(u,o),g=Math.exp(-f);return py-h/p*g},s=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=Nb(Math.pow(u,2),o);return(-a(u)+py>0?-1:1)*((h-p)*g)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-py+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=AK(a,s,l);if(e=Pl(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const EK=12;function AK(e,t,r){let n=r;for(let a=1;a<EK;a++)n=n-e(n)/t(n);return n}function Nb(e,t){return e*Math.sqrt(1-t*t)}const OK=["duration","bounce"],CK=["stiffness","damping","mass"];function bT(e,t){return t.some(r=>e[r]!==void 0)}function DK(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!bT(e,CK)&&bT(e,OK)){const r=_K(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function wD({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],s=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=DK({...n,velocity:-us(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),m=s-a,x=us(Math.sqrt(l/u)),b=Math.abs(m)<5;r||(r=b?.01:2),t||(t=b?.005:.5);let y;if(g<1){const v=Nb(x,g);y=w=>{const k=Math.exp(-g*x*w);return s-k*((p+g*x*m)/v*Math.sin(v*w)+m*Math.cos(v*w))}}else if(g===1)y=v=>s-Math.exp(-x*v)*(m+(p+x*m)*v);else{const v=x*Math.sqrt(g*g-1);y=w=>{const k=Math.exp(-g*x*w),N=Math.min(v*w,300);return s-k*((p+g*x*m)*Math.sinh(N)+v*m*Math.cosh(N))/v}}return{calculatedDuration:h&&d||null,next:v=>{const w=y(v);if(h)o.done=v>=d;else{let k=p;v!==0&&(g<1?k=bD(y,v,w):k=0);const N=Math.abs(k)<=r,S=Math.abs(s-w)<=t;o.done=N&&S}return o.value=o.done?s:w,o}}}function wT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,g=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let m=r*t;const x=f+m,b=o===void 0?x:o(x);b!==x&&(m=b-f);const y=T=>-m*Math.exp(-T/n),v=T=>b+y(T),w=T=>{const P=y(T),_=v(T);h.done=Math.abs(P)<=u,h.value=h.done?b:_};let k,N;const S=T=>{p(h.value)&&(k=T,N=wD({keyframes:[h.value,g(h.value)],velocity:bD(v,T,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let P=!1;return!N&&k===void 0&&(P=!0,w(T),S(T)),k!==void 0&&T>k?N.next(T-k):(!P&&w(T),h)}}}const MK=e=>{const t=({timestamp:r})=>e(r);return{start:()=>tr.update(t,!0),stop:()=>bs(t),now:()=>An.isProcessing?An.timestamp:performance.now()}},kT=2e4;function jT(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kT;)t+=r,n=e.next(t);return t>=kT?1/0:t}const RK={decay:wT,inertia:wT,tween:_m,keyframes:_m,spring:wD};function Em({autoplay:e=!0,delay:t=0,driver:r=MK,keyframes:n,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,m,x;const b=()=>{x=new Promise(le=>{m=le})};b();let y;const v=RK[a]||_m;let w;v!==_m&&typeof n[0]!="number"&&(w=vD([0,100],n,{clamp:!1}),n=[0,100]);const k=v({...h,keyframes:n});let N;l==="mirror"&&(N=v({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",T=null,P=null,_=null;k.calculatedDuration===null&&s&&(k.calculatedDuration=jT(k));const{calculatedDuration:O}=k;let C=1/0,D=1/0;O!==null&&(C=O+o,D=C*(s+1)-o);let H=0;const ee=le=>{if(P===null)return;p>0&&(P=Math.min(P,le)),p<0&&(P=Math.min(le-D/p,P)),T!==null?H=T:H=Math.round(le-P)*p;const B=H-t*(p>=0?1:-1),F=p>=0?B<0:B>D;H=Math.max(B,0),S==="finished"&&T===null&&(H=D);let L=H,R=k;if(s){const ce=Math.min(H,D)/C;let pe=Math.floor(ce),Pe=ce%1;!Pe&&ce>=1&&(Pe=1),Pe===1&&pe--,pe=Math.min(pe,s+1),!!(pe%2)&&(l==="reverse"?(Pe=1-Pe,o&&(Pe-=o/C)):l==="mirror"&&(R=N)),L=Lo(0,1,Pe)*C}const G=F?{done:!1,value:n[0]}:R.next(L);w&&(G.value=w(G.value));let{done:be}=G;!F&&O!==null&&(be=p>=0?H>=D:H<=0);const Te=T===null&&(S==="finished"||S==="running"&&be);return f&&f(G.value),Te&&te(),G},W=()=>{y&&y.stop(),y=void 0},Y=()=>{S="idle",W(),m(),b(),P=_=null},te=()=>{S="finished",d&&d(),W(),m()},q=()=>{if(g)return;y||(y=r(ee));const le=y.now();c&&c(),T!==null?P=le-T:(!P||S==="finished")&&(P=le),S==="finished"&&b(),_=P,T=null,S="running",y.start()};e&&q();const ue={then(le,B){return x.then(le,B)},get time(){return us(H)},set time(le){le=Pl(le),H=le,T!==null||!y||p===0?T=le:P=y.now()-le/p},get duration(){const le=k.calculatedDuration===null?jT(k):k.calculatedDuration;return us(le)},get speed(){return p},set speed(le){le===p||!y||(p=le,ue.time=us(H))},get state(){return S},play:q,pause:()=>{S="paused",T=H},stop:()=>{g=!0,S!=="idle"&&(S="idle",u&&u(),Y())},cancel:()=>{_!==null&&ee(_),Y()},complete:()=>{S="finished"},sample:le=>(P=0,ee(le))};return ue}function IK(e){let t;return()=>(t===void 0&&(t=e()),t)}const LK=IK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),rp=10,$K=2e4,BK=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Q5(t.ease);function UK(e,t,{onUpdate:r,onComplete:n,...a}){if(!(LK()&&FK.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:f,duration:h=300,ease:p,times:g}=a;if(BK(t,a)){const v=Em({...a,repeat:0,delay:0});let w={done:!1,value:f[0]};const k=[];let N=0;for(;!w.done&&N<$K;)w=v.sample(N),k.push(w.value),N+=rp;g=void 0,f=k,h=N-rp,p="linear"}const m=XU(e.owner.current,t,f,{...a,duration:h,ease:p,times:g}),x=()=>{u=!1,m.cancel()},b=()=>{u=!0,tr.update(x),l(),d()};return m.onfinish=()=>{u||(e.set(JU(f,a)),n&&n(),b())},{then(v,w){return c.then(v,w)},attachTimeline(v){return m.timeline=v,m.onfinish=null,_r},get time(){return us(m.currentTime||0)},set time(v){m.currentTime=Pl(v)},get speed(){return m.playbackRate},set speed(v){m.playbackRate=v},get duration(){return us(h)},play:()=>{o||(m.play(),bs(x))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:v}=m;if(v){const w=Em({...a,autoplay:!1});e.setWithVelocity(w.sample(v-rp).value,w.sample(v).value,rp)}b()},complete:()=>{u||m.finish()},cancel:b}}function KK({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:_r,pause:_r,stop:_r,then:s=>(s(),Promise.resolve()),cancel:_r,complete:_r});return t?Em({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const VK={type:"spring",stiffness:500,damping:25,restSpeed:10},zK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HK={type:"keyframes",duration:.8},WK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GK=(e,{keyframes:t})=>t.length>2?HK:Yl.has(e)?e.startsWith("scale")?zK(t[1]):VK:WK,Tb=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fo.test(t)||t==="0")&&!t.startsWith("url(")),qK=new Set(["brightness","contrast","saturate","opacity"]);function YK(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Sx)||[];if(!n)return e;const a=r.replace(n,"");let s=qK.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const XK=/([a-z-]*)\(.*?\)/g,Pb={...Fo,getAnimatableNone:e=>{const t=e.match(XK);return t?t.map(YK).join(" "):e}},JK={...R5,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:Pb,WebkitFilter:Pb},L2=e=>JK[e];function kD(e,t){let r=L2(e);return r!==Pb&&(r=Fo),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const jD=e=>/^0[^.\s]+$/.test(e);function QK(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||jD(e)}function ZK(e,t,r,n){const a=Tb(t,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),QK(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];s[d]=kD(t,l)}return s}function eV({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function F2(e,t){return e[t]||e.default||e}const tV={skipAnimations:!1},$2=(e,t,r,n={})=>a=>{const s=F2(n,e)||{},o=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Pl(o);const c=ZK(t,e,r,s),u=c[0],d=c[c.length-1],f=Tb(e,u),h=Tb(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:g=>{t.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{a(),s.onComplete&&s.onComplete()}};if(eV(s)||(p={...p,...GK(e,p)}),p.duration&&(p.duration=Pl(p.duration)),p.repeatDelay&&(p.repeatDelay=Pl(p.repeatDelay)),!f||!h||YU.current||s.type===!1||tV.skipAnimations)return KK(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=UK(t,e,p);if(g)return g}return Em(p)};function Am(e){return!!(fa(e)&&e.add)}const SD=e=>/^\-?\d*\.?\d+$/.test(e);function B2(e,t){e.indexOf(t)===-1&&e.push(t)}function U2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class K2{constructor(){this.subscriptions=[]}add(t){return B2(this.subscriptions,t),()=>U2(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rV=e=>!isNaN(parseFloat(e));class nV{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=An;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rV(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new K2);const n=this.events[t].add(r);return t==="change"?()=>{n(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(e,t){return new nV(e,t)}const ND=e=>t=>t.test(e),aV={test:e=>e==="auto",parse:e=>e},TD=[Xl,ht,Ui,ao,dU,uU,aV],Ed=e=>TD.find(ND(e)),iV=[...TD,Wn,Fo],sV=e=>iV.find(ND(e));function oV(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,mu(r))}function lV(e,t){const r=Tx(e,t);let{transitionEnd:n={},transition:a={},...s}=r?e.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const l=NU(s[o]);oV(e,o,l)}}function cV(e,t,r){var n,a;const s=Object.keys(t).filter(l=>!e.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),d!=null&&(typeof d=="string"&&(SD(d)||jD(d))?d=parseFloat(d):!sV(d)&&Fo.test(u)&&(d=kD(c,u)),e.addValue(c,mu(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function uV(e,t){return t?(t[e]||t.default||t).from:void 0}function dV(e,t,r){const n={};for(const a in e){const s=uV(a,t);if(s!==void 0)n[a]=s;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function fV({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function hV(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function PD(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(s=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&fV(d,f))continue;const g={delay:r,elapsed:0,...F2(s||{},f)};if(window.HandoffAppearAnimations){const b=e.getProps()[_5];if(b){const y=window.HandoffAppearAnimations(b,f,h,tr);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let m=!g.isHandoff&&!hV(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start($2(f,h,p,e.shouldReduceMotion&&Yl.has(f)?{type:!1}:g));const x=h.animation;Am(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&lV(e,o)}),u}function _b(e,t,r={}){const n=Tx(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(PD(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return pV(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function pV(e,t,r=0,n=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(mV).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(_b(u,t,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function mV(e,t){return e.sortNodePosition(t)}function gV(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>_b(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=_b(e,t,r);else{const a=typeof t=="function"?Tx(e,t,r.custom):t;n=Promise.all(PD(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}const xV=[...j2].reverse(),vV=j2.length;function yV(e){return t=>Promise.all(t.map(({animation:r,options:n})=>gV(e,r,n)))}function bV(e){let t=yV(e);const r=kV();let n=!0;const a=(c,u)=>{const d=Tx(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function s(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let b=0;b<vV;b++){const y=xV[b],v=r[y],w=d[y]!==void 0?d[y]:f[y],k=fh(w),N=y===u?v.isActive:null;N===!1&&(m=b);let S=w===f[y]&&w!==d[y]&&k;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...g},!v.isActive&&N===null||!w&&!v.prevProp||kx(w)||typeof w=="boolean")continue;let P=wV(v.prevProp,w)||y===u&&v.isActive&&!S&&k||b>m&&k,_=!1;const O=Array.isArray(w)?w:[w];let C=O.reduce(a,{});N===!1&&(C={});const{prevResolvedValues:D={}}=v,H={...D,...C},ee=W=>{P=!0,p.has(W)&&(_=!0,p.delete(W)),v.needsAnimating[W]=!0};for(const W in H){const Y=C[W],te=D[W];if(g.hasOwnProperty(W))continue;let q=!1;Tm(Y)&&Tm(te)?q=!X5(Y,te):q=Y!==te,q?Y!==void 0?ee(W):p.add(W):Y!==void 0&&p.has(W)?ee(W):v.protectedKeys[W]=!0}v.prevProp=w,v.prevResolvedValues=C,v.isActive&&(g={...g,...C}),n&&e.blockInitialAnimation&&(P=!1),P&&(!S||_)&&h.push(...O.map(W=>({animation:W,options:{type:y,...c}})))}if(p.size){const b={};p.forEach(y=>{const v=e.getBaseTarget(y);v!==void 0&&(b[y]=v)}),h.push({animation:b})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r}}function wV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!X5(t,e):!1}function Zo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kV(){return{animate:Zo(!0),whileInView:Zo(),whileHover:Zo(),whileTap:Zo(),whileDrag:Zo(),whileFocus:Zo(),exit:Zo()}}class jV extends Wo{constructor(t){super(t),t.animationState||(t.animationState=bV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),kx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let SV=0;class NV extends Wo{constructor(){super(...arguments),this.id=SV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const TV={animation:{Feature:jV},exit:{Feature:NV}},ST=(e,t)=>Math.abs(e-t);function PV(e,t){const r=ST(e.x,t.x),n=ST(e.y,t.y);return Math.sqrt(r**2+n**2)}class _D{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=gy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=PV(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=An;this.history.push({...g,timestamp:m});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=my(h,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gy(f.type==="pointercancel"?this.lastMoveEventInfo:my(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),g&&g(f,x)},!H5(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Nx(t),l=my(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=An;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,gy(l,this.history)),this.removeListeners=Oo(cs(this.contextWindow,"pointermove",this.handlePointerMove),cs(this.contextWindow,"pointerup",this.handlePointerUp),cs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function my(e,t){return t?{point:t(e.point)}:e}function NT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gy({point:e},t){return{point:e,delta:NT(e,ED(t)),offset:NT(e,_V(t)),velocity:EV(t,.1)}}function _V(e){return e[0]}function ED(e){return e[e.length-1]}function EV(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=ED(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Pl(t)));)r--;if(!n)return{x:0,y:0};const s=us(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ea(e){return e.max-e.min}function Eb(e,t=0,r=.01){return Math.abs(e-t)<=r}function TT(e,t,r,n=.5){e.origin=n,e.originPoint=mr(t.min,t.max,e.origin),e.scale=Ea(r)/Ea(t),(Eb(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mr(r.min,r.max,e.origin)-e.originPoint,(Eb(e.translate)||isNaN(e.translate))&&(e.translate=0)}function _f(e,t,r,n){TT(e.x,t.x,r.x,n?n.originX:void 0),TT(e.y,t.y,r.y,n?n.originY:void 0)}function PT(e,t,r){e.min=r.min+t.min,e.max=e.min+Ea(t)}function AV(e,t,r){PT(e.x,t.x,r.x),PT(e.y,t.y,r.y)}function _T(e,t,r){e.min=t.min-r.min,e.max=e.min+Ea(t)}function Ef(e,t,r){_T(e.x,t.x,r.x),_T(e.y,t.y,r.y)}function OV(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?mr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?mr(r,e,n.max):Math.min(e,r)),e}function ET(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function CV(e,{top:t,left:r,bottom:n,right:a}){return{x:ET(e.x,r,a),y:ET(e.y,t,n)}}function AT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function DV(e,t){return{x:AT(e.x,t.x),y:AT(e.y,t.y)}}function MV(e,t){let r=.5;const n=Ea(e),a=Ea(t);return a>n?r=ph(t.min,t.max-n,e.min):n>a&&(r=ph(e.min,e.max-a,t.min)),Lo(0,1,r)}function RV(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ab=.35;function IV(e=Ab){return e===!1?e=0:e===!0&&(e=Ab),{x:OT(e,"left","right"),y:OT(e,"top","bottom")}}function OT(e,t,r){return{min:CT(e,t),max:CT(e,r)}}function CT(e,t){return typeof e=="number"?e:e[t]||0}const DT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mc=()=>({x:DT(),y:DT()}),MT=()=>({min:0,max:0}),Cr=()=>({x:MT(),y:MT()});function Fa(e){return[e("x"),e("y")]}function AD({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function LV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FV(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function xy(e){return e===void 0||e===1}function Ob({scale:e,scaleX:t,scaleY:r}){return!xy(e)||!xy(t)||!xy(r)}function ol(e){return Ob(e)||OD(e)||e.z||e.rotate||e.rotateX||e.rotateY}function OD(e){return RT(e.x)||RT(e.y)}function RT(e){return e&&e!=="0%"}function Om(e,t,r){const n=e-r,a=t*n;return r+a}function IT(e,t,r,n,a){return a!==void 0&&(e=Om(e,a,n)),Om(e,r,n)+t}function Cb(e,t=0,r=1,n,a){e.min=IT(e.min,t,r,n,a),e.max=IT(e.max,t,r,n,a)}function CD(e,{x:t,y:r}){Cb(e.x,t.translate,t.scale,t.originPoint),Cb(e.y,r.translate,r.scale,r.originPoint)}function $V(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rc(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,CD(e,o)),n&&ol(s.latestValues)&&Rc(e,s.latestValues))}t.x=LT(t.x),t.y=LT(t.y)}function LT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function lo(e,t){e.min=e.min+t,e.max=e.max+t}function FT(e,t,[r,n,a]){const s=t[a]!==void 0?t[a]:.5,o=mr(e.min,e.max,s);Cb(e,t[r],t[n],o,t.scale)}const BV=["x","scaleX","originX"],UV=["y","scaleY","originY"];function Rc(e,t){FT(e.x,t,BV),FT(e.y,t,UV)}function DD(e,t){return AD(FV(e.getBoundingClientRect(),t))}function KV(e,t,r){const n=DD(e,r),{scroll:a}=t;return a&&(lo(n.x,a.offset.x),lo(n.y,a.offset.y)),n}const MD=({current:e})=>e?e.ownerDocument.defaultView:null,VV=new WeakMap;class zV{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Nx(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=G5(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ui.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const v=y.layout.layoutBox[x];v&&(b=Ea(v)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&tr.update(()=>g(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=HV(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _D(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:MD(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&tr.update(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!np(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=OV(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Cc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=CV(a.layoutBox,r):this.constraints=!1,this.elastic=IV(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Fa(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=RV(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Cc(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=KV(n,a.root,this.visualElement.getTransformPagePoint());let o=DV(a.layout.layoutBox,s);if(r){const l=r(LV(o));this.hasMutatedConstraints=!!l,l&&(o=AD(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fa(d=>{if(!np(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start($2(t,n,0,r))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fa(r=>{const{drag:n}=this.getProps();if(!np(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-mr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Cc(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fa(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=MV({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fa(o=>{if(!np(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(mr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;VV.set(this.visualElement,this);const t=this.visualElement.current,r=cs(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Cc(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=as(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=Ab,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function np(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function HV(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class WV extends Wo{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new zV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const $T=e=>(t,r)=>{e&&tr.update(()=>e(t,r))};class GV extends Wo{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new _D(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$T(t),onStart:$T(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&tr.update(()=>a(s,o))}}}mount(){this.removePointerDownListener=cs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qV(){const e=j.useContext(bx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=j.useId();return j.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const Wp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ad={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ht.test(e))e=parseFloat(e);else return e;const r=BT(e,t.target.x),n=BT(e,t.target.y);return`${r}% ${n}%`}},YV={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Fo.parse(e);if(a.length>5)return n;const s=Fo.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=mr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}};class XV extends de.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;nU(JV),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||tr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RD(e){const[t,r]=qV(),n=j.useContext(N2);return de.createElement(XV,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(A5),isPresent:t,safeToRemove:r})}const JV={borderRadius:{...Ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ad,borderTopRightRadius:Ad,borderBottomLeftRadius:Ad,borderBottomRightRadius:Ad,boxShadow:YV},ID=["TopLeft","TopRight","BottomLeft","BottomRight"],QV=ID.length,UT=e=>typeof e=="string"?parseFloat(e):e,KT=e=>typeof e=="number"||ht.test(e);function ZV(e,t,r,n,a,s){a?(e.opacity=mr(0,r.opacity!==void 0?r.opacity:1,ez(n)),e.opacityExit=mr(t.opacity!==void 0?t.opacity:1,0,tz(n))):s&&(e.opacity=mr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<QV;o++){const l=`border${ID[o]}Radius`;let c=VT(t,l),u=VT(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||KT(c)===KT(u)?(e[l]=Math.max(mr(UT(c),UT(u),n),0),(Ui.test(u)||Ui.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=mr(t.rotate||0,r.rotate||0,n))}function VT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ez=LD(0,.5,iD),tz=LD(.5,.95,_r);function LD(e,t,r){return n=>n<e?0:n>t?1:r(ph(e,t,n))}function zT(e,t){e.min=t.min,e.max=t.max}function Da(e,t){zT(e.x,t.x),zT(e.y,t.y)}function HT(e,t,r,n,a){return e-=t,e=Om(e,1/r,n),a!==void 0&&(e=Om(e,1/a,n)),e}function rz(e,t=0,r=1,n=.5,a,s=e,o=e){if(Ui.test(t)&&(t=parseFloat(t),t=mr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=mr(s.min,s.max,n);e===s&&(l-=t),e.min=HT(e.min,t,r,l,a),e.max=HT(e.max,t,r,l,a)}function WT(e,t,[r,n,a],s,o){rz(e,t[r],t[n],t[a],t.scale,s,o)}const nz=["x","scaleX","originX"],az=["y","scaleY","originY"];function GT(e,t,r,n){WT(e.x,t,nz,r?r.x:void 0,n?n.x:void 0),WT(e.y,t,az,r?r.y:void 0,n?n.y:void 0)}function qT(e){return e.translate===0&&e.scale===1}function FD(e){return qT(e.x)&&qT(e.y)}function iz(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function $D(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function YT(e){return Ea(e.x)/Ea(e.y)}class sz{constructor(){this.members=[]}add(t){B2(this.members,t),t.scheduleRender()}remove(t){if(U2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XT(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y;if((a||s)&&(n=`translate3d(${a}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const oz=(e,t)=>e.depth-t.depth;class lz{constructor(){this.children=[],this.isDirty=!1}add(t){B2(this.children,t),this.isDirty=!0}remove(t){U2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(oz),this.isDirty=!1,this.children.forEach(t)}}function cz(e,t){const r=performance.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(bs(n),e(s-t))};return tr.read(n,!0),()=>bs(n)}function uz(e){window.MotionDebug&&window.MotionDebug.record(e)}function dz(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fz(e,t,r){const n=fa(e)?e:mu(e);return n.start($2("",n,t,r)),n.animation}const JT=["","X","Y","Z"],hz={visibility:"hidden"},QT=1e3;let pz=0;const ll={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function BD({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=pz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ll.totalNodes=ll.resolvedTargetDeltas=ll.recalculatedProjection=0,this.nodes.forEach(xz),this.nodes.forEach(kz),this.nodes.forEach(jz),this.nodes.forEach(vz),uz(ll)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lz)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dz(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=cz(h,250),Wp.hasAnimatedSinceResize&&(Wp.hasAnimatedSinceResize=!1,this.nodes.forEach(eP))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||_z,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!$D(this.targetLayout,g)||p,v=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const w={...F2(m,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||eP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}this.isUpdating||this.nodes.forEach(bz),this.isUpdating=!1,this.nodes.forEach(wz),this.nodes.forEach(mz),this.nodes.forEach(gz),this.clearAllSnapshots();const l=performance.now();An.delta=Lo(0,1e3/60,l-An.timestamp),An.timestamp=l,An.isProcessing=!0,oy.update.process(An),oy.preRender.process(An),oy.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yz),this.sharedNodes.forEach(Nz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!FD(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ol(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Ez(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Cr();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(lo(l.x,c.offset.x),lo(l.y,c.offset.y)),l}removeElementScroll(o){const l=Cr();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Da(l,o);const{scroll:h}=this.root;h&&(lo(l.x,-h.offset.x),lo(l.y,-h.offset.y))}lo(l.x,d.offset.x),lo(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Cr();Da(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ol(d.latestValues)&&Rc(c,d.latestValues)}return ol(this.latestValues)&&Rc(c,this.latestValues),c}removeTransform(o){const l=Cr();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ol(u.latestValues))continue;Ob(u.latestValues)&&u.updateSnapshot();const d=Cr(),f=u.measurePageBox();Da(d,f),GT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ol(this.latestValues)&&GT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Ef(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),CD(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Ef(this.relativeTargetOrigin,this.target,p.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ll.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ob(this.parent.latestValues)||OD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===An.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Da(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;$V(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Mc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mc(),this.projectionDeltaWithTransform=Mc());const m=this.projectionTransform;_f(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=XT(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),ll.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Cr(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,x=this.getStack(),b=!x||x.members.length<=1,y=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(Pz));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const k=w/1e3;tP(f.x,o.x,k),tP(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ef(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tz(this.relativeTarget,this.relativeTargetOrigin,h,k),v&&iz(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Cr()),Da(v,this.relativeTarget)),m&&(this.animationValues=d,ZV(d,u,this.latestValues,k,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{Wp.hasAnimatedSinceResize=!0,this.currentAnimation=fz(0,QT,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&UD(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Cr();const f=Ea(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ea(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Da(l,c),Rc(l,d),_f(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sz),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<JT.length;d++){const f="rotate"+JT[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hz;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hp(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Hp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=XT(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Sm){if(h[m]===void 0)continue;const{correct:x,applyTo:b}=Sm[m],y=u.transform==="none"?h[m]:x(h[m],f);if(b){const v=b.length;for(let w=0;w<v;w++)u[b[w]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?Hp(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function mz(e){e.updateLayout()}function gz(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?Fa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ea(h);h.min=n[f].min,h.max=h.min+p}):UD(s,r.layoutBox,n)&&Fa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ea(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Mc();_f(l,n,r.layoutBox);const c=Mc();o?_f(c,e.applyTransform(a,!0),r.measuredBox):_f(c,n,r.layoutBox);const u=!FD(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Cr();Ef(g,r.layoutBox,h.layoutBox);const m=Cr();Ef(m,n,p.layoutBox),$D(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function xz(e){ll.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yz(e){e.clearSnapshot()}function ZT(e){e.clearMeasurements()}function bz(e){e.isLayoutDirty=!1}function wz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kz(e){e.resolveTargetDelta()}function jz(e){e.calcProjection()}function Sz(e){e.resetRotation()}function Nz(e){e.removeLeadSnapshot()}function tP(e,t,r){e.translate=mr(t.translate,0,r),e.scale=mr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function rP(e,t,r,n){e.min=mr(t.min,r.min,n),e.max=mr(t.max,r.max,n)}function Tz(e,t,r,n){rP(e.x,t.x,r.x,n),rP(e.y,t.y,r.y,n)}function Pz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _z={duration:.45,ease:[.4,0,.1,1]},nP=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),aP=nP("applewebkit/")&&!nP("chrome/")?Math.round:_r;function iP(e){e.min=aP(e.min),e.max=aP(e.max)}function Ez(e){iP(e.x),iP(e.y)}function UD(e,t,r){return e==="position"||e==="preserve-aspect"&&!Eb(YT(t),YT(r),.2)}const Az=BD({attachResizeListener:(e,t)=>as(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},KD=BD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vy.current){const e=new Az({});e.mount(window),e.setOptions({layoutScroll:!0}),vy.current=e}return vy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Oz={pan:{Feature:GV},drag:{Feature:WV,ProjectionNode:KD,MeasureLayout:RD}},Cz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Dz(e){const t=Cz.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Db(e,t,r=1){const[n,a]=Dz(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return SD(o)?parseFloat(o):o}else return kb(a)?Db(a,t,r+1):a}function Mz(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const s=a.get();if(!kb(s))return;const o=Db(s,n);o&&a.set(o)});for(const a in t){const s=t[a];if(!kb(s))continue;const o=Db(s,n);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=s))}return{target:t,transitionEnd:r}}const Rz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),VD=e=>Rz.has(e),Iz=e=>Object.keys(e).some(VD),sP=e=>e===Xl||e===ht,oP=(e,t)=>parseFloat(e.split(", ")[t]),lP=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return oP(a[1],t);{const s=n.match(/^matrix\((.+)\)$/);return s?oP(s[1],e):0}},Lz=new Set(["x","y","z"]),Fz=g0.filter(e=>!Lz.has(e));function $z(e){const t=[];return Fz.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const gu={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lP(4,13),y:lP(5,14)};gu.translateX=gu.x;gu.translateY=gu.y;const Bz=(e,t,r)=>{const n=t.measureViewportBox(),a=t.current,s=getComputedStyle(a),{display:o}=s,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=gu[u](n,s)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=gu[u](c,s)}),e},Uz=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(VD);let s=[],o=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=Ed(d);const h=t[c];let p;if(Tm(h)){const g=h.length,m=h[0]===null?1:0;d=h[m],f=Ed(d);for(let x=m;x<g&&h[x]!==null;x++)p?D2(Ed(h[x])===p):p=Ed(h[x])}else p=Ed(h);if(f!==p)if(sP(f)&&sP(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===ht&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(s=$z(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=Bz(t,e,l);return s.length&&s.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),wx&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Kz(e,t,r,n){return Iz(t)?Uz(e,t,r,n):{target:t,transitionEnd:n}}const Vz=(e,t,r,n)=>{const a=Mz(e,t,n);return t=a.target,n=a.transitionEnd,Kz(e,t,r,n)},Mb={current:null},zD={current:!1};function zz(){if(zD.current=!0,!!wx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mb.current=e.matches;e.addListener(t),t()}else Mb.current=!1}function Hz(e,t,r){const{willChange:n}=t;for(const a in t){const s=t[a],o=r[a];if(fa(s))e.addValue(a,s),Am(n)&&n.add(a);else if(fa(o))e.addValue(a,mu(s,{owner:e})),Am(n)&&n.remove(a);else if(o!==s)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(s)}else{const l=e.getStaticValue(a);e.addValue(a,mu(l!==void 0?l:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const cP=new WeakMap,HD=Object.keys(hh),Wz=HD.length,uP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Gz=S2.length;class qz{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=jx(r),this.isVariantNode=E5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&fa(h)&&(h.set(l[f],!1),Am(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,cP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),zD.current||zz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cP.delete(this.current),this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Yl.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,s){let o,l;for(let c=0;c<Wz;c++){const u=HD[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=hh[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Cc(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<uP.length;n++){const a=uP[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s=t["on"+a];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Hz(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<Gz;n++){const a=S2[n],s=this.props[a];(fh(s)||s===!1)&&(r[a]=s)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=mu(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=C2(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!fa(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new K2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class WD extends qz{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},s){let o=dV(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),s){cV(this,n,o);const l=Vz(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function Yz(e){return window.getComputedStyle(e)}class Xz extends WD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Yl.has(r)){const n=L2(r);return n&&n.default||0}else{const n=Yz(t),a=(D5(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return DD(t,r)}build(t,r,n,a){P2(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return O2(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fa(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){$5(t,r,n,a)}}class Jz extends WD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Yl.has(r)){const n=L2(r);return n&&n.default||0}return r=B5.has(r)?r:k2(r),t.getAttribute(r)}measureInstanceViewportBox(){return Cr()}scrapeMotionValuesFromProps(t,r){return K5(t,r)}build(t,r,n,a){E2(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){U5(t,r,n,a)}mount(t){this.isSVGTag=A2(t.tagName),super.mount(t)}}const Qz=(e,t)=>T2(e)?new Jz(t,{enableHardwareAcceleration:!1}):new Xz(t,{enableHardwareAcceleration:!0}),Zz={layout:{ProjectionNode:KD,MeasureLayout:RD}},eH={...TV,...WU,...Oz,...Zz},Rt=tU((e,t)=>DU(e,t,eH,Qz));function GD(){const e=j.useRef(!1);return w2(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function tH(){const e=GD(),[t,r]=j.useState(0),n=j.useCallback(()=>{e.current&&r(t+1)},[t]);return[j.useCallback(()=>tr.postRender(n),[n]),t]}class rH extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function nH({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=a.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),j.createElement(rH,{isPresent:t,childRef:n,sizeRef:a},j.cloneElement(e,{ref:n}))}const yy=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o})=>{const l=V5(aH),c=j.useId(),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),s?void 0:[r]);return j.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),j.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=j.createElement(nH,{isPresent:r},e)),j.createElement(bx.Provider,{value:u},e)};function aH(){return new Map}function iH(e){return j.useEffect(()=>()=>e(),[])}const cl=e=>e.key||"";function sH(e,t){e.forEach(r=>{const n=cl(r);t.set(n,r)})}function oH(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const Co=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=j.useContext(N2).forceRender||tH()[0],c=GD(),u=oH(e);let d=u;const f=j.useRef(new Map).current,h=j.useRef(d),p=j.useRef(new Map).current,g=j.useRef(!0);if(w2(()=>{g.current=!1,sH(u,p),h.current=d}),iH(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return j.createElement(j.Fragment,null,d.map(y=>j.createElement(yy,{key:cl(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:o},y)));d=[...d];const m=h.current.map(cl),x=u.map(cl),b=m.length;for(let y=0;y<b;y++){const v=m[y];x.indexOf(v)===-1&&!f.has(v)&&f.set(v,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,v)=>{if(x.indexOf(v)!==-1)return;const w=p.get(v);if(!w)return;const k=m.indexOf(v);let N=y;if(!N){const S=()=>{f.delete(v);const T=Array.from(p.keys()).filter(P=>!x.includes(P));if(T.forEach(P=>p.delete(P)),h.current=u.filter(P=>{const _=cl(P);return _===v||T.includes(_)}),!f.size){if(c.current===!1)return;l(),n&&n()}};N=j.createElement(yy,{key:cl(w),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:s,mode:o},w),f.set(v,N)}d.splice(k,0,N)}),d=d.map(y=>{const v=y.key;return f.has(v)?y:j.createElement(yy,{key:cl(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),j.createElement(j.Fragment,null,f.size?d:d.map(y=>j.cloneElement(y)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>j.createElement("svg",{ref:d,...lH,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${cH(e)}`,l].join(" "),...u},[...t.map(([f,h])=>j.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ze("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ze("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=ze("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ze("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=ze("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ze("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=ze("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ze("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ze("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ze("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=ze("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ze("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=ze("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=ze("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ze("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ze("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ze("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ze("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ze("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ze("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ze("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ze("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ze("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ze("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ze("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ze("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=ze("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=ze("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ze("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=ze("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=ze("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ze("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=ze("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ze("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=ze("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=ze("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=ze("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ze("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=ze("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ze("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=ze("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function jP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function IH(...e){return t=>{let r=!1;const n=e.map(a=>{const s=jP(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():jP(e[a],null)}}}}var LH=Symbol.for("react.lazy"),Im=JO[" use ".trim().toString()];function FH(e){return typeof e=="object"&&e!==null&&"then"in e}function tM(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===LH&&"_payload"in e&&FH(e._payload)}function $H(e){const t=UH(e),r=j.forwardRef((n,a)=>{let{children:s,...o}=n;tM(s)&&typeof Im=="function"&&(s=Im(s._payload));const l=j.Children.toArray(s),c=l.find(VH);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var BH=$H("Slot");function UH(e){const t=j.forwardRef((r,n)=>{let{children:a,...s}=r;if(tM(a)&&typeof Im=="function"&&(a=Im(a._payload)),j.isValidElement(a)){const o=HH(a),l=zH(s,a.props);return a.type!==j.Fragment&&(l.ref=n?IH(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KH=Symbol("radix.slottable");function VH(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KH}function zH(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function HH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const SP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NP=vt,rM=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return NP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=SP(d)||SP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...s,...l}[m]):{...s,...l}[m]===x})?[...u,f,h]:u},[]);return NP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},WH=rM("inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-secondary text-secondary-foreground border border-border hover:bg-muted active:bg-muted/80",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",success:"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800",outline:"border border-border bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"text-muted-foreground hover:bg-accent hover:text-accent-foreground",link:"text-primary-600 underline-offset-4 hover:underline p-0 h-auto",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800"},size:{sm:"h-8 rounded-md px-3 text-xs gap-1.5",md:"h-9 rounded-lg px-4 gap-2",lg:"h-11 rounded-lg px-6 text-base gap-2",icon:"h-9 w-9 rounded-lg"}},defaultVariants:{variant:"primary",size:"md"}}),ye=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,isLoading:a,children:s,disabled:o,...l},c)=>{const u=n?BH:"button";return i.jsxs(u,{ref:c,className:Ge(WH({variant:t,size:r,className:e})),disabled:o||a,...l,children:[a&&i.jsxs("svg",{className:"animate-spin h-4 w-4 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})});ye.displayName="Button";const Oe=j.forwardRef(({className:e,label:t,error:r,helperText:n,id:a,type:s,...o},l)=>{const c=a||o.name;return i.jsxs("div",{className:"w-full",children:[t&&i.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),i.jsx("input",{id:c,type:s,ref:l,className:Ge("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","file:border-0 file:bg-transparent file:text-sm file:font-medium",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o}),r&&i.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r}),n&&!r&&i.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground",children:n})]})});Oe.displayName="Input";const at=j.forwardRef(({className:e,label:t,error:r,options:n,placeholder:a,id:s,...o},l)=>{const c=s||o.name;return i.jsxs("div",{className:"w-full",children:[t&&i.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-foreground mb-1.5",children:t}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{id:c,ref:l,className:Ge("flex h-9 w-full rounded-lg border border-input bg-background px-3.5 py-2 text-sm","text-foreground appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500","transition-colors duration-150","disabled:cursor-not-allowed disabled:bg-muted disabled:text-muted-foreground","[&>option]:bg-background [&>option]:text-foreground",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...o,children:[a&&i.jsx("option",{value:"",disabled:!0,children:a}),n.map(u=>i.jsx("option",{value:u.value,children:u.label},u.value))]}),i.jsx(_x,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),r&&i.jsx("p",{className:"mt-1.5 text-xs text-red-600 dark:text-red-400",children:r})]})});at.displayName="Select";const Ie=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("bg-card text-card-foreground rounded-xl border border-border/60 shadow-soft","transition-all duration-300 ease-out","hover:shadow-soft-md","dark:bg-card/90 dark:backdrop-blur-sm dark:border-border/40",t),...r,children:e}));Ie.displayName="Card";const Nt=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("flex flex-col gap-1 px-5 py-4",t),...r,children:e}));Nt.displayName="CardHeader";const Tt=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("h3",{ref:n,className:Ge("text-sm font-semibold text-foreground leading-none tracking-tight",t),...r,children:e}));Tt.displayName="CardTitle";const GH=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("p",{ref:n,className:Ge("text-xs text-muted-foreground",t),...r,children:e}));GH.displayName="CardDescription";const tn=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("px-5 pb-5",t),...r,children:e}));tn.displayName="CardContent";const qH=j.forwardRef(({children:e,className:t,...r},n)=>i.jsx("div",{ref:n,className:Ge("flex items-center px-5 py-3 border-t border-border",t),...r,children:e}));qH.displayName="CardFooter";const xt=({isOpen:e,onClose:t,title:r,description:n,children:a,size:s="md",showCloseButton:o=!0,closeOnOverlayClick:l=!1,className:c})=>{const u=j.useRef(null),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl"};j.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const f=h=>{l&&h.target===h.currentTarget&&t()};return typeof window>"u"?null:e5.createPortal(i.jsx(Co,{children:e&&i.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[i.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm",onClick:f}),i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",onClick:f,children:i.jsxs(Rt.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:Ge("relative w-full bg-card rounded-lg shadow-soft-xl border border-border",d[s],c),onClick:h=>h.stopPropagation(),children:[(r||o)&&i.jsxs("div",{className:"flex items-start justify-between px-5 py-4 border-b border-border",children:[i.jsxs("div",{children:[r&&i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:r}),n&&i.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:n})]}),o&&i.jsx("button",{onClick:t,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(Za,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"px-5 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:a})]})})]})}),document.body)},Ar=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:s="Konfirmasi",cancelText:o="Batal",variant:l="danger",isLoading:c=!1})=>{const u={danger:"bg-red-600 text-white hover:bg-red-700",warning:"bg-amber-600 text-white hover:bg-amber-700",info:"bg-primary-600 text-white hover:bg-primary-700"};return i.jsx(xt,{isOpen:e,onClose:t,size:"sm",showCloseButton:!1,children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:n}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:a}),i.jsxs("div",{className:"flex justify-center gap-3",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-foreground bg-secondary border border-border rounded-lg hover:bg-muted transition-colors",disabled:c,children:o}),i.jsx("button",{onClick:r,className:Ge("px-4 py-2 text-sm font-medium rounded-lg transition-colors",u[l]),disabled:c,children:c?"Loading...":s})]})]})})},Pn=({isOpen:e,onClose:t,onSubmit:r,action:n,itemName:a="data ini",loading:s=!1})=>{const[o,l]=j.useState(""),c=()=>{if(!o.trim()){alert("Mohon isi alasan permintaan");return}r(o),l("")},u=()=>{l(""),t()};return i.jsx(xt,{isOpen:e,onClose:u,title:`Permintaan ${n==="edit"?"Edit":"Hapus"} Data`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[i.jsx(Af,{className:"h-5 w-5 text-amber-600 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-800",children:[i.jsx("p",{className:"font-medium",children:"Perlu Persetujuan"}),i.jsxs("p",{className:"mt-1",children:["Anda akan mengajukan permintaan untuk"," ",i.jsx("strong",{children:n==="edit"?"mengedit":"menghapus"})," ",a,". Permintaan ini akan dikirim ke AVP, Supervisor, atau Admin untuk disetujui."]})]})]}),i.jsx(Oe,{label:"Alasan Permintaan",placeholder:`Jelaskan alasan mengapa Anda ingin ${n==="edit"?"mengedit":"menghapus"} data ini...`,value:o,onChange:d=>l(d.target.value),required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[i.jsx(ye,{variant:"secondary",onClick:u,disabled:s,children:"Batal"}),i.jsxs(ye,{onClick:c,disabled:s,children:[i.jsx(QD,{className:"h-4 w-4 mr-2"}),s?"Mengirim...":"Kirim Permintaan"]})]})]})})},YH=rM("inline-flex items-center font-medium transition-colors",{variants:{variant:{default:"bg-secondary text-secondary-foreground",primary:"bg-primary-50 text-primary-700 dark:bg-primary-950/50 dark:text-primary-300",success:"bg-emerald-50 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-300",warning:"bg-amber-50 text-amber-700 dark:bg-amber-950/50 dark:text-amber-300",danger:"bg-red-50 text-red-700 dark:bg-red-950/50 dark:text-red-300",info:"bg-cyan-50 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-300",outline:"border border-border text-foreground"},size:{sm:"px-1.5 py-0.5 text-[10px] rounded",md:"px-2 py-0.5 text-xs rounded-md",lg:"px-2.5 py-1 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"md"}}),Ze=({className:e,variant:t,size:r,...n})=>i.jsx("span",{className:Ge(YH({variant:t,size:r,className:e})),...n}),XH=({children:e,className:t})=>i.jsx("div",{className:Ge("w-full overflow-x-auto",t),children:i.jsx("table",{className:"w-full border-collapse",children:e})}),JH=({children:e,className:t})=>i.jsx("thead",{className:Ge("bg-muted/50 border-b border-border",t),children:e}),QH=({children:e,className:t})=>i.jsx("tbody",{className:Ge("divide-y divide-border",t),children:e}),TP=({children:e,className:t,onClick:r,isClickable:n})=>i.jsx("tr",{className:Ge("transition-colors",n&&"cursor-pointer hover:bg-muted/50",t),onClick:r,children:e}),PP=({children:e,className:t,sortable:r,sorted:n,onSort:a,style:s})=>i.jsx("th",{className:Ge("px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",r&&"cursor-pointer select-none hover:text-foreground",t),onClick:r?a:void 0,style:s,children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[e,r&&i.jsxs("span",{className:"flex flex-col",children:[i.jsx(qD,{className:Ge("h-3 w-3 -mb-1",n==="asc"?"text-primary-600":"text-muted-foreground/30")}),i.jsx(_x,{className:Ge("h-3 w-3",n==="desc"?"text-primary-600":"text-muted-foreground/30")})]})]})}),_P=({children:e,className:t})=>i.jsx("td",{className:Ge("px-4 py-3 text-sm text-foreground whitespace-nowrap",t),children:e}),ZH=({message:e="Tidak ada data",icon:t})=>i.jsx("tr",{children:i.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t,i.jsx("p",{className:"text-sm",children:e})]})})}),eW=()=>i.jsx("tr",{children:i.jsx("td",{colSpan:100,className:"px-4 py-12 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Memuat data..."})]})})}),tW=({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,itemsPerPage:a=10})=>{const s=(e-1)*a+1,o=Math.min(e*a,n||0),l=()=>{const c=[];if(t<=5)for(let d=1;d<=t;d++)c.push(d);else if(e<=3){for(let d=1;d<=4;d++)c.push(d);c.push("..."),c.push(t)}else if(e>=t-2){c.push(1),c.push("...");for(let d=t-3;d<=t;d++)c.push(d)}else{c.push(1),c.push("...");for(let d=e-1;d<=e+1;d++)c.push(d);c.push("..."),c.push(t)}return c};return t<=1?null:i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[n&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Menampilkan ",s," - ",o," dari ",n," data"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(V2,{className:"h-4 w-4"})}),l().map((c,u)=>i.jsx("button",{onClick:()=>typeof c=="number"&&r(c),disabled:c==="...",className:Ge("min-w-[36px] h-9 px-2.5 text-sm font-medium rounded-lg transition-colors",c===e?"bg-primary-600 text-white":c==="..."?"text-muted-foreground cursor-default":"text-foreground hover:bg-muted"),children:c},u)),i.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(z2,{className:"h-4 w-4"})})]})]})},rW=({value:e,onChange:t,placeholder:r="Cari..."})=>i.jsxs("div",{className:"relative w-full max-w-xs",children:[i.jsx(Ex,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),i.jsx(Oe,{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"pl-10"})]});function Lr({data:e,columns:t,loading:r=!1,emptyMessage:n="Tidak ada data",searchable:a=!0,searchKeys:s=[],searchPlaceholder:o="Cari...",pagination:l=!0,itemsPerPage:c=10,onRowClick:u,actions:d}){const[f,h]=j.useState(""),[p,g]=j.useState(1),[m,x]=j.useState(null),[b,y]=j.useState("asc"),v=f?e.filter(T=>s.some(P=>{const _=T[P];return typeof _=="string"?_.toLowerCase().includes(f.toLowerCase()):typeof _=="number"?_.toString().includes(f):!1})):e,w=m?[...v].sort((T,P)=>{const _=T[m],O=P[m];if(_===O)return 0;if(_==null)return 1;if(O==null)return-1;const C=_<O?-1:1;return b==="asc"?C:-C}):v,k=Math.ceil(w.length/c),N=l?w.slice((p-1)*c,p*c):w,S=T=>{m===T?y(b==="asc"?"desc":"asc"):(x(T),y("asc"))};return i.jsxs("div",{className:"card",children:[a&&i.jsx("div",{className:"px-4 py-3 border-b border-border",children:i.jsx(rW,{value:f,onChange:h,placeholder:o})}),i.jsxs(XH,{children:[i.jsx(JH,{children:i.jsxs(TP,{children:[t.map(T=>i.jsx(PP,{sortable:T.sortable,sorted:m===T.key?b:null,onSort:()=>T.sortable&&S(T.key),style:{width:T.width},children:T.header},T.key)),d&&i.jsx(PP,{children:"Aksi"})]})}),i.jsx(QH,{children:r?i.jsx(eW,{}):N.length===0?i.jsx(ZH,{message:n}):N.map((T,P)=>i.jsxs(TP,{onClick:()=>u==null?void 0:u(T),isClickable:!!u,children:[t.map(_=>i.jsx(_P,{children:_.render?_.render(T[_.key],T):String(T[_.key]??"-")},_.key)),d&&i.jsx(_P,{children:d(T)})]},P))})]}),l&&i.jsx(tW,{currentPage:p,totalPages:k,onPageChange:g,totalItems:w.length,itemsPerPage:c})]})}const Lm=({size:e="md",className:t})=>{const r={sm:"h-4 w-4 border-2",md:"h-5 w-5 border-2",lg:"h-8 w-8 border-[3px]"};return i.jsx("div",{className:Ge("border-primary-600 border-t-transparent rounded-full animate-spin",r[e],t)})},Nr=({isVisible:e,message:t="Berhasil!",onClose:r,autoCloseDelay:n=1500})=>(j.useEffect(()=>{if(e&&r&&n>0){const a=setTimeout(()=>{r()},n);return()=>clearTimeout(a)}},[e,r,n]),e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-foreground/20 backdrop-blur-sm",onClick:r,children:i.jsxs("div",{className:"bg-card rounded-lg p-8 shadow-soft-xl text-center animate-scale-in border border-border",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-7 h-7 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("p",{className:"text-base font-semibold text-foreground",children:t})]})}):null),Zu=({isOpen:e,onClose:t,title:r,data:n,columns:a,signatures:s,filters:o,summaryRows:l,plant:c,compactMode:u=!1})=>{const d=j.useRef(null),[f,h]=j.useState(yr()),[p,g]=j.useState(yr()),[m,x]=j.useState("ALL"),[b,y]=j.useState("ALL"),[v,w]=j.useState("ALL"),[k,N]=j.useState({});if(j.useEffect(()=>{const C={};s.forEach(D=>{C[D.role]={jabatan:"",nama:"",noBadge:""}}),N(C)},[s]),!e)return null;const S=n.filter(C=>{const D=new Date(C.tanggal),H=new Date(f),ee=new Date(p);return ee.setHours(23,59,59,999),!(D<H||D>ee||o!=null&&o.kategori&&m!=="ALL"&&C.kategori!==m||o!=null&&o.forklift&&b!=="ALL"&&C.forklift!==b||o!=null&&o.shift&&v!=="ALL"&&C.shift!==v)}).sort((C,D)=>new Date(C.tanggal).getTime()-new Date(D.tanggal).getTime()),T=()=>{const C=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],D=new Date;return`${D.getDate()} ${C[D.getMonth()]} ${D.getFullYear()}`},P=()=>{const C=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],D=new Date(f),H=new Date(p);return`${D.getDate()} ${C[D.getMonth()]} ${D.getFullYear()} - ${H.getDate()} ${C[H.getMonth()]} ${H.getFullYear()}`},_=()=>{const C=d.current;if(!C)return;const D=window.open("","_blank");D&&(D.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${r}</title>
        <style>
          @page {
            size: A4;
            margin: ${u?"8mm 10mm":"12mm"};
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Times New Roman', Times, serif;
            font-size: ${u?"9pt":"10pt"};
            line-height: ${u?"1.2":"1.4"};
            color: #000;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
          }
          .header {
            text-align: center;
            margin-bottom: ${u?"8px":"15px"};
          }
          .header h1 {
            font-size: ${u?"12pt":"14pt"};
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: ${u?"3px":"4px"};
            letter-spacing: 1px;
            color: #000;
          }
          .header .periode {
            font-size: ${u?"10pt":"11pt"};
            font-weight: bold;
            text-transform: uppercase;
            color: #000;
          }
          .filter-info {
            font-size: ${u?"8pt":"9pt"};
            margin-bottom: ${u?"5px":"10px"};
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: ${u?"6px":"8px"};
            font-size: ${u?"8pt":"9pt"};
          }
          th, td {
            border: 1px solid #000;
            padding: ${u?"2px 4px":"5px 6px"};
            text-align: center;
            line-height: ${u?"1.2":"1.4"};
          }
          thead tr:first-child th {
            background-color: transparent;
            font-weight: bold;
            border: 1px solid #000;
            padding: ${u?"3px 4px":"5px 6px"};
          }
          thead tr:nth-child(2) th {
            background-color: transparent;
            font-weight: bold;
          }
          tbody td {
            text-align: center;
            white-space: nowrap;
          }
          td.number, .number {
            text-align: right;
            white-space: nowrap;
          }
          td.left {
            text-align: left;
          }
          .summary-row td {
            font-weight: bold;
            border: 1px solid #000;
          }
          .subtotal-label {
            text-align: center;
            font-weight: bold;
          }
          .footer {
            margin-top: ${u?"10px":"20px"};
            text-align: right;
            font-size: ${u?"9pt":"10pt"};
            color: #000;
            font-style: italic;
          }
          .signatures {
            display: flex;
            justify-content: flex-end;
            margin-top: ${u?"12px":"30px"};
            padding-right: 20px;
          }
          .signature-box {
            text-align: center;
            min-width: ${u?"140px":"180px"};
          }
          .signature-box .label {
            font-size: ${u?"9pt":"10pt"};
            margin-bottom: ${u?"3px":"5px"};
          }
          .signature-box .position {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            margin-bottom: ${u?"35px":"60px"};
          }
          .signature-box .name {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
            text-decoration: underline;
            margin-bottom: 2px;
          }
          .signature-box .badge {
            font-size: ${u?"9pt":"10pt"};
            font-weight: bold;
            color: #000;
          }
          .multi-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: ${u?"12px":"30px"};
            gap: ${u?"10px":"20px"};
          }
          .multi-signatures .signature-box {
            flex: 1;
            text-align: center;
          }
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${C.innerHTML}
      </body>
      </html>
    `),D.document.close(),D.focus(),setTimeout(()=>{D.print(),D.close()},250))},O=(C,D,H)=>{N(ee=>({...ee,[C]:{...ee[C],[D]:H}}))};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxs("h2",{className:"text-lg font-bold text-dark-900",children:["Cetak ",r]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 rounded-lg",children:i.jsx(Za,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 border-b bg-dark-50 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[i.jsx(qa,{className:"inline h-4 w-4 mr-1"}),"Tanggal Mulai"]}),i.jsx("input",{type:"date",value:f,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[i.jsx(qa,{className:"inline h-4 w-4 mr-1"}),"Tanggal Akhir"]}),i.jsx("input",{type:"date",value:p,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),((o==null?void 0:o.kategori)||(o==null?void 0:o.forklift)||(o==null?void 0:o.shift))&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(o==null?void 0:o.kategori)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.kategori.label}),i.jsxs("select",{value:m,onChange:C=>x(C.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"ALL",children:"Semua"}),o.kategori.options.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))]})]}),(o==null?void 0:o.forklift)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.forklift.label}),i.jsxs("select",{value:b,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"ALL",children:"Semua"}),o.forklift.options.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))]})]}),(o==null?void 0:o.shift)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.shift.label}),i.jsxs("select",{value:v,onChange:C=>w(C.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"ALL",children:"Semua"}),o.shift.options.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-dark-700",children:"Data Tanda Tangan"}),i.jsx("div",{className:"space-y-3",children:s.map(C=>{var D,H,ee;return i.jsxs("div",{className:"p-3 bg-white rounded-lg border border-dark-200",children:[i.jsx("h4",{className:"text-xs font-semibold text-dark-600 mb-2",children:C.label}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx("input",{type:"text",placeholder:"Jabatan",value:((D=k[C.role])==null?void 0:D.jabatan)||"",onChange:W=>O(C.role,"jabatan",W.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),i.jsx("input",{type:"text",placeholder:"Nama",value:((H=k[C.role])==null?void 0:H.nama)||"",onChange:W=>O(C.role,"nama",W.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),C.role!=="operator"&&i.jsx("input",{type:"text",placeholder:"No. Badge",value:((ee=k[C.role])==null?void 0:ee.noBadge)||"",onChange:W=>O(C.role,"noBadge",W.target.value),className:"flex-1 min-w-[120px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"})]})]},C.role)})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-dark-500",children:[S.length," data ditemukan"]}),i.jsxs("button",{onClick:_,disabled:S.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:i.jsx("div",{ref:d,className:"bg-white p-6 shadow-lg mx-auto",style:{maxWidth:"210mm",minHeight:"297mm"},children:i.jsxs("div",{className:"print-container",children:[i.jsxs("div",{className:"header",children:[i.jsxs("h1",{children:["LAPORAN ",r.toUpperCase()]}),i.jsxs("div",{className:"periode",children:["PERIODE : ",P().toUpperCase()]})]}),(m!=="ALL"||b!=="ALL"||v!=="ALL")&&i.jsxs("div",{className:"filter-info",children:[m!=="ALL"&&i.jsxs("span",{children:["Kategori: ",m," | "]}),b!=="ALL"&&i.jsxs("span",{children:["Forklift: ",b," | "]}),v!=="ALL"&&i.jsxs("span",{children:["Shift: ",v]})]}),i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{style:{width:"30px"},children:"No"}),a.map(C=>i.jsx("th",{style:{width:C.width},children:C.header},C.key))]})}),i.jsxs("tbody",{children:[S.map((C,D)=>i.jsxs("tr",{children:[i.jsx("td",{className:"center",children:D+1}),a.map(H=>{const ee=H.render?H.render(C[H.key],C):C[H.key];return i.jsx("td",{className:H.align==="right"?"number":H.align==="center"?"center":"",children:ee},H.key)})]},D)),l&&l.map((C,D)=>i.jsxs("tr",{className:"summary-row",children:[i.jsx("td",{colSpan:a.length,style:{textAlign:"right",paddingRight:"10px"},children:C.label}),i.jsx("td",{className:"number",children:C.getValue(S)})]},`summary-${D}`))]})]}),i.jsxs("div",{className:"footer",children:["Cikampek, ",T()]}),i.jsx("div",{className:s.length>1?"multi-signatures":"signatures",children:s.map(C=>{var D,H,ee,W;return i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"label",children:C.label}),i.jsx("div",{className:"position",children:((D=k[C.role])==null?void 0:D.jabatan)||""}),C.role!=="operator"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"name",children:((H=k[C.role])==null?void 0:H.nama)||""}),i.jsx("div",{className:"badge",children:((ee=k[C.role])==null?void 0:ee.noBadge)||""})]}):i.jsx("div",{className:"name",children:((W=k[C.role])==null?void 0:W.nama)||""})]},C.role)})})]})})})]})})},nW=({isOpen:e,onClose:t,data:r,plant:n})=>{const a=j.useRef(null),[s,o]=j.useState(yr()),[l,c]=j.useState(yr()),[u,d]=j.useState({nama:"",noBadge:"",jabatan:""}),[f,h]=j.useState({nama:"",noBadge:"",jabatan:""});if(j.useEffect(()=>{if(e){const w=new Date,k=new Date(w.getFullYear(),w.getMonth(),1),N=new Date(w.getFullYear(),w.getMonth()+1,0);o(k.toISOString().split("T")[0]),c(N.toISOString().split("T")[0])}},[e]),!e)return null;const p=r.filter(w=>{const k=new Date(w.tanggal),N=new Date(s),S=new Date(l);return S.setHours(23,59,59,999),k>=N&&k<=S}).sort((w,k)=>new Date(w.tanggal).getTime()-new Date(k.tanggal).getTime()),g=p.reduce((w,k)=>w+(k.pengajuanSolar||0),0),m=p.reduce((w,k)=>w+(k.realisasiPengisian||0),0),x=m-g,b=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],k=new Date;return`${k.getDate()} ${w[k.getMonth()]} ${k.getFullYear()}`},y=()=>{const w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],k=new Date(s),N=new Date(l);return`${k.getDate()} ${w[k.getMonth()]} ${k.getFullYear()} - ${N.getDate()} ${w[N.getMonth()]} ${N.getFullYear()}`},v=()=>{const w=a.current;if(!w)return;const k=window.open("","_blank");k&&(k.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Rekap BBM Alat Berat - ${n}</title>
        <style>
          @page {
            size: A4 portrait;
            margin: 6mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 7pt;
            line-height: 1.1;
            color: #1a1a2e;
            background: #fff;
          }
          .print-container {
            width: 100%;
            max-width: 200mm;
            padding: 3px;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 2px solid #2563eb;
          }
          .header h1 {
            font-size: 12pt;
            font-weight: 700;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 8pt;
            font-weight: 600;
            margin: 3px 0;
          }
          .header .periode {
            font-size: 8pt;
            color: #64748b;
            margin-top: 3px;
          }
          .header .periode span {
            font-weight: 600;
            color: #334155;
          }
          
          /* Table Styles */
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 6px;
            font-size: 6pt;
          }
          thead th {
            background: linear-gradient(180deg, #1e40af, #1e3a8a);
            color: white;
            font-weight: 600;
            padding: 3px 2px;
            text-align: center;
            border: 1px solid #1e3a8a;
            text-transform: uppercase;
            font-size: 6pt;
            letter-spacing: 0.2px;
          }
          tbody td {
            padding: 2px 3px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 6pt;
          }
          tbody tr:nth-child(even) {
            background-color: #f8fafc;
          }
          tbody tr:hover {
            background-color: #e0e7ff;
          }
          .text-left {
            text-align: left !important;
          }
          .text-right {
            text-align: right !important;
          }
          .font-mono {
            font-family: 'Consolas', monospace;
          }
          
          /* Number formatting */
          .number-positive {
            color: #059669;
            font-weight: 600;
          }
          .number-negative {
            color: #dc2626;
            font-weight: 600;
          }
          
          /* Summary Row */
          .summary-row td {
            background: linear-gradient(180deg, #f59e0b, #d97706) !important;
            color: white !important;
            font-weight: 700 !important;
            border-color: #b45309 !important;
            padding: 3px 2px !important;
            font-size: 6pt !important;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 10px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 30px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 140px;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 30px;
            min-height: 12px;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            text-decoration: underline;
            text-underline-offset: 2px;
            margin-bottom: 1px;
            min-height: 12px;
          }
          
          .signature-badge {
            font-size: 7pt;
            color: #475569;
            font-weight: 500;
            min-height: 10px;
          }
          
          /* Summary Cards */
          .summary-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 6px;
          }
          
          .summary-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 4px;
            padding: 4px 10px;
            text-align: center;
            min-width: 90px;
          }
          
          .summary-card.pengajuan {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-color: #f59e0b;
          }
          
          .summary-card.realisasi {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-positive {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-negative {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #ef4444;
          }
          
          .summary-card-label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 1px;
          }
          
          .summary-card-value {
            font-size: 9pt;
            font-weight: 700;
            color: #1e40af;
          }
          
          .summary-card.pengajuan .summary-card-value { color: #b45309; }
          .summary-card.realisasi .summary-card-value { color: #16a34a; }
          .summary-card.selisih-positive .summary-card-value { color: #16a34a; }
          .summary-card.selisih-negative .summary-card-value { color: #dc2626; }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${w.innerHTML}
      </body>
      </html>
    `),k.document.close(),k.focus(),setTimeout(()=>{k.print(),k.close()},300))};return i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-amber-500 to-orange-500",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:i.jsx(H2,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Rekap BBM Alat Berat"}),i.jsxs("p",{className:"text-amber-100 text-sm",children:["Plant ",n]})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(Za,{className:"h-6 w-6 text-white"})})]}),i.jsxs("div",{className:"p-5 border-b bg-gradient-to-b from-amber-50 to-white space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[i.jsx(qa,{className:"h-4 w-4 text-amber-600"}),"Tanggal Mulai"]}),i.jsx("input",{type:"date",value:s,onChange:w=>o(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[i.jsx(qa,{className:"h-4 w-4 text-amber-600"}),"Tanggal Akhir"]}),i.jsx("input",{type:"date",value:l,onChange:w=>c(w.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-bold text-dark-700 flex items-center gap-2",children:[i.jsx(yh,{className:"h-4 w-4 text-amber-600"}),"Data Tanda Tangan"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[i.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Mengetahui"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",placeholder:"Jabatan",value:u.jabatan,onChange:w=>d({...u,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:u.nama,onChange:w=>d({...u,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsxs("div",{className:"relative",children:[i.jsx(gP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),i.jsx("input",{type:"text",placeholder:"No. Badge",value:u.noBadge,onChange:w=>d({...u,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]}),i.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[i.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Dibuat Oleh"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",placeholder:"Jabatan",value:f.jabatan,onChange:w=>h({...f,jabatan:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:f.nama,onChange:w=>h({...f,nama:w.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),i.jsxs("div",{className:"relative",children:[i.jsx(gP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),i.jsx("input",{type:"text",placeholder:"No. Badge",value:f.noBadge,onChange:w=>h({...f,noBadge:w.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsxs("span",{className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-full font-medium",children:[p.length," data"]}),i.jsx("span",{className:"text-dark-500",children:"ditemukan dalam periode ini"})]}),i.jsxs("button",{onClick:v,disabled:p.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-amber-500/30 transition-all",children:[i.jsx(Rn,{className:"h-5 w-5"}),"Cetak Laporan"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:i.jsx("div",{ref:a,className:"bg-white p-6 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:i.jsxs("div",{className:"print-container",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"LAPORAN REKAP BBM ALAT BERAT"}),i.jsxs("div",{className:"plant-badge",children:["PLANT ",n]}),i.jsxs("div",{className:"periode",children:["Periode: ",i.jsx("span",{children:y()})]})]}),i.jsxs("div",{className:"summary-cards",children:[i.jsxs("div",{className:"summary-card pengajuan",children:[i.jsx("div",{className:"summary-card-label",children:"Total Pengajuan"}),i.jsxs("div",{className:"summary-card-value",children:[oe(g)," L"]})]}),i.jsxs("div",{className:"summary-card realisasi",children:[i.jsx("div",{className:"summary-card-label",children:"Total Realisasi"}),i.jsxs("div",{className:"summary-card-value",children:[oe(m)," L"]})]}),i.jsxs("div",{className:`summary-card ${x>=0?"selisih-positive":"selisih-negative"}`,children:[i.jsx("div",{className:"summary-card-label",children:"Selisih"}),i.jsxs("div",{className:"summary-card-value",children:[x>=0?"+":"",oe(x)," L"]})]})]}),i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{style:{width:"40px"},children:"No"}),i.jsx("th",{style:{width:"100px"},children:"Tanggal"}),i.jsx("th",{children:"Nama Alat Berat"}),i.jsx("th",{style:{width:"120px"},children:"Pengajuan (L)"}),i.jsx("th",{style:{width:"120px"},children:"Realisasi (L)"}),i.jsx("th",{style:{width:"100px"},children:"Selisih (L)"}),i.jsx("th",{children:"Keterangan"})]})}),i.jsxs("tbody",{children:[p.map((w,k)=>{const N=(w.realisasiPengisian||0)-(w.pengajuanSolar||0);return i.jsxs("tr",{children:[i.jsx("td",{children:k+1}),i.jsx("td",{children:gt(w.tanggal)}),i.jsx("td",{className:"text-left",children:w.namaAlatBerat}),i.jsx("td",{className:"text-right font-mono",children:oe(w.pengajuanSolar)}),i.jsx("td",{className:"text-right font-mono",children:oe(w.realisasiPengisian)}),i.jsxs("td",{className:`text-right font-mono ${N>=0?"number-positive":"number-negative"}`,children:[N>=0?"+":"",oe(N)]}),i.jsx("td",{className:"text-left",children:w.keterangan||"-"})]},w.id||k)}),i.jsxs("tr",{className:"summary-row",children:[i.jsx("td",{colSpan:3,style:{textAlign:"center",fontWeight:"bold"},children:"TOTAL"}),i.jsx("td",{className:"text-right font-mono",children:oe(g)}),i.jsx("td",{className:"text-right font-mono",children:oe(m)}),i.jsxs("td",{className:`text-right font-mono ${x>=0?"number-positive":"number-negative"}`,children:[x>=0?"+":"",oe(x)]}),i.jsx("td",{})]})]})]}),i.jsxs("div",{className:"footer",children:[i.jsxs("div",{className:"print-date",children:["Cikampek, ",b()]}),i.jsxs("div",{className:"signatures-container",children:[i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Mengetahui,"}),i.jsx("div",{className:"signature-jabatan",children:u.jabatan||""}),i.jsx("div",{className:"signature-name",children:u.nama||""}),i.jsx("div",{className:"signature-badge",children:u.noBadge||""})]}),i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Dibuat Oleh,"}),i.jsx("div",{className:"signature-jabatan",children:f.jabatan||""}),i.jsx("div",{className:"signature-name",children:f.nama||""}),i.jsx("div",{className:"signature-badge",children:f.noBadge||""})]})]})]})]})})})]})})},aW=({isOpen:e,onClose:t,data:r,plant:n})=>{const a=j.useRef(null);if(!e)return null;const s=()=>{const c=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=new Date;return`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`},o=c=>{const u=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],d=new Date(c);return`${d.getDate()} ${u[d.getMonth()]} ${d.getFullYear()}`},l=()=>{const c=a.current;if(!c)return;const u=window.open("","_blank");u&&(u.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Gate Pass - ${r.nomorGatePass}</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 8pt;
            line-height: 1.2;
            color: #1a1a2e;
            background: #fff;
          }
          .page-wrapper {
            width: 100%;
            height: 287mm;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
            padding: 5px 8px;
            height: 140mm;
            overflow: hidden;
          }
          .divider-line {
            width: 100%;
            border-top: 1px dashed #94a3b8;
            margin: 2mm 0;
            position: relative;
          }
          .divider-line::before {
            content: ' potong di sini';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 10px;
            font-size: 7pt;
            color: #94a3b8;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #1e40af;
            position: relative;
          }
          .header::after {
            content: '';
            position: absolute;
            bottom: -1.5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1.5px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
          }
          .header h1 {
            font-size: 13pt;
            font-weight: 800;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2px;
          }
          .header .subtitle {
            font-size: 7pt;
            color: #64748b;
            font-weight: 500;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 7pt;
            font-weight: 600;
            margin-top: 3px;
            box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
          }
          
          /* Gate Pass Number */
          .gatepass-number {
            text-align: center;
            margin: 6px 0;
            padding: 5px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1.5px solid #f59e0b;
            border-radius: 6px;
          }
          .gatepass-number label {
            font-size: 6pt;
            color: #92400e;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 1px;
          }
          .gatepass-number .number {
            font-size: 11pt;
            font-weight: 800;
            color: #92400e;
            font-family: 'Consolas', monospace;
            letter-spacing: 2px;
          }
          
          /* Info Grid */
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
          }
          .info-item {
            padding: 4px 6px;
            background: #f8fafc;
            border-radius: 4px;
            border-left: 2px solid #3b82f6;
          }
          .info-item.full-width {
            grid-column: span 2;
          }
          .info-item label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 1px;
            font-weight: 600;
          }
          .info-item .value {
            font-size: 8pt;
            color: #1e293b;
            font-weight: 500;
          }
          
          /* Description Section */
          .description-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 5px;
            border: 1px solid #7dd3fc;
          }
          .description-section h3 {
            font-size: 7pt;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #7dd3fc;
          }
          .description-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Reason Section */
          .reason-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #fef3c7, #fef9c3);
            border-radius: 5px;
            border: 1px solid #fcd34d;
          }
          .reason-section h3 {
            font-size: 7pt;
            color: #a16207;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #fcd34d;
          }
          .reason-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 6px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            padding: 0 10px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 120px;
            padding: 5px;
            background: #fafafa;
            border-radius: 5px;
            border: 1px dashed #cbd5e1;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
            font-weight: 500;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 20px;
            min-height: 10px;
          }
          
          .signature-space {
            height: 25px;
            margin-bottom: 3px;
          }
          
          .signature-line {
            width: 100px;
            height: 1px;
            background: #1e293b;
            margin: 0 auto 3px auto;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 1px;
            min-height: 10px;
          }
          
          .signature-badge {
            font-size: 6pt;
            color: #475569;
            font-weight: 500;
            min-height: 8px;
          }
          
          /* Stamp/Seal Style (Optional visual) */
          .official-stamp {
            text-align: center;
            margin-top: 5px;
            padding-top: 4px;
            border-top: 1px dashed #e2e8f0;
          }
          .official-stamp p {
            font-size: 6pt;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          /* Copy Label */
          .copy-label {
            position: absolute;
            top: 3px;
            right: 5px;
            font-size: 6pt;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
          }
          .print-container {
            position: relative;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="page-wrapper">
          <div class="print-container">
            <div class="copy-label">Lembar 1 - Arsip</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
          <div class="divider-line"></div>
          <div class="print-container">
            <div class="copy-label">Lembar 2 - Pembawa</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
        </div>
      </body>
      </html>
    `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},300))};return i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-blue-600 to-indigo-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:i.jsx(Ta,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Gate Pass"}),i.jsx("p",{className:"text-blue-100 text-sm",children:r.nomorGatePass})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(Za,{className:"h-6 w-6 text-white"})})]}),i.jsx("div",{className:"p-5 border-b bg-gradient-to-b from-blue-50 to-white flex items-center justify-end",children:i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 font-semibold shadow-lg shadow-blue-500/30 transition-all",children:[i.jsx(Rn,{className:"h-5 w-5"}),"Cetak Gate Pass"]})}),i.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:i.jsx("div",{ref:a,className:"bg-white p-10 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:i.jsxs("div",{className:"print-container",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"GATE PASS"}),i.jsx("div",{className:"subtitle",children:"Surat Izin Keluar Barang"}),i.jsxs("div",{className:"plant-badge",children:["PT. PUPUK KUJANG CIKAMPEK - ",n]})]}),i.jsxs("div",{className:"gatepass-number",children:[i.jsx("label",{children:"Nomor Gate Pass"}),i.jsx("div",{className:"number",children:r.nomorGatePass})]}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Tanggal"}),i.jsx("div",{className:"value",children:o(r.tanggal)})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"No Polisi"}),i.jsx("div",{className:"value",children:r.noPolisi||"-"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Pemilik Barang"}),i.jsx("div",{className:"value",children:r.pemilikBarang||"-"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Nama Pembawa"}),i.jsx("div",{className:"value",children:r.namaPembawa||"-"})]})]}),i.jsxs("div",{className:"description-section",children:[i.jsx("h3",{children:"Deskripsi Barang"}),i.jsx("p",{children:r.deskripsiBarang||"-"})]}),i.jsxs("div",{className:"reason-section",children:[i.jsx("h3",{children:"Alasan Mengeluarkan"}),i.jsx("p",{children:r.alasanKeluar||"-"})]}),i.jsxs("div",{className:"footer",children:[i.jsxs("div",{className:"print-date",children:["Cikampek, ",s()]}),i.jsxs("div",{className:"signatures-container",children:[i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Pembawa,"}),i.jsx("div",{className:"signature-space"}),i.jsx("div",{className:"signature-line"}),i.jsx("div",{className:"signature-name",children:r.namaPembawa||""})]}),i.jsxs("div",{className:"signature-box",children:[i.jsx("div",{className:"signature-label",children:"Mengetahui,"}),i.jsx("div",{className:"signature-space"}),i.jsx("div",{className:"signature-line"}),i.jsx("div",{className:"signature-name",children:r.mengetahui||""})]})]}),i.jsx("div",{className:"official-stamp",children:i.jsx("p",{children:"Dokumen ini tidak sah tanpa tanda tangan basah"})})]})]})})})]})})};function iW(){const[e,t]=j.useState(null),[r,n]=j.useState(!1),[a,s]=j.useState(!1);return j.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0?(s(!0),!0):!1)return;const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{s(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:a,install:async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;return l==="accepted"?(s(!0),n(!1),t(null),!0):!1}catch(l){return console.error("Error installing PWA:",l),!1}}}}function sW(){const{isInstallable:e,isInstalled:t,install:r}=iW(),[n,a]=j.useState(!1),[s,o]=j.useState(!1),[l,c]=j.useState(!1);j.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;c(f);const h=setTimeout(()=>{const p=localStorage.getItem("pwa-install-dismissed"),g=p?parseInt(p):0,m=(Date.now()-g)/(1e3*60*60*24);!t&&(e||f)&&m>7&&a(!0)},3e3);return()=>clearTimeout(h)},[e,t]);const u=async()=>{l?o(!0):await r()&&a(!1)},d=()=>{a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return!n||t?null:i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-slide-up",children:i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-2xl border border-gray-200 dark:border-dark-600 p-4 max-w-md mx-auto",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:i.jsx(Lc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Install Plantiffy"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Akses lebih cepat langsung dari layar utama HP Anda"}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[i.jsx(xu,{className:"w-4 h-4"}),"Install"]}),i.jsx("button",{onClick:d,className:"px-3 py-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:"Nanti"})]})]}),i.jsx("button",{onClick:d,className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 p-1",children:i.jsx(Za,{className:"w-4 h-4"})})]})})}),s&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-scale-up",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx("img",{src:"/icons/icon-96x96.png",alt:"PlantIQ",className:"w-10 h-10 rounded-lg"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Install Plantiffy di iPhone"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Ikuti langkah berikut untuk menambahkan aplikasi ke layar utama:"})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"1"}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ikon ",i.jsx("strong",{children:"Share"})," (kotak dengan panah ke atas) di bagian bawah Safari"]})})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"2"}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Scroll ke bawah dan ketuk"," ",i.jsx("strong",{children:'"Add to Home Screen"'})]})})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:"3"}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ketuk ",i.jsx("strong",{children:'"Add"'})," di pojok kanan atas"]})})]})]}),i.jsx("button",{onClick:()=>o(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-xl transition-colors",children:"Mengerti"})]})}),i.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes scale-up {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        
        .animate-scale-up {
          animation: scale-up 0.2s ease-out;
        }
      `})]})}const W2=6e4,bh=new Map,ap=new Map;function oW(e){const t=bh.get(e);return t?Date.now()-t.timestamp>t.ttl?(bh.delete(e),null):t.data:null}function lW(e,t,r=W2){bh.set(e,{data:t,timestamp:Date.now(),ttl:r})}function nM(e){const t=[];bh.forEach((r,n)=>{n.includes(e)&&t.push(n)}),t.forEach(r=>bh.delete(r))}async function aM(e,t,r=W2){const n=oW(e);if(n!==null)return{success:!0,data:n};const a=ap.get(e);if(a)return a;const s=t().then(o=>(ap.delete(e),o.success&&o.data&&lW(e,o.data,r),o)).catch(o=>{throw ap.delete(e),o});return ap.set(e,s),s}function G2(e){nM(e)}const iM={DEFAULT:W2},sM={readData:e=>`read:${e}`,fetchByPlant:e=>`plant:${e}`,dashboard:()=>"dashboard:all"},oM="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",lM=3e4,cW=15e3,uW=6e4;function cM(e){const t=new AbortController;return setTimeout(()=>t.abort(),e),t}async function Ax(e,t=lM){const r=cM(t);try{const n=await fetch(`${oM}${e}`,{method:"GET",redirect:"follow",signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return{success:!0,data:a.data||a}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API GET Timeout:",e),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API GET Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function $n(e,t=lM){const r=cM(t);try{const n=await fetch(oM,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e),signal:r.signal});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return a.success===!1?{success:!1,error:a.error||"Unknown error"}:{success:!0,data:a.data!==void 0?a.data:a}}catch(n){return n instanceof Error&&n.name==="AbortError"?(console.error("API POST Timeout"),{success:!1,error:"Request timeout - silakan coba lagi"}):(console.error("API POST Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"})}}async function dW(e){return $n(e,cW)}function fW(e){return $n(e,uW)}async function Fm(e){return Ax(`?action=read&sheet=${e}`)}async function uM(e,t=!0){if(!t)return Fm(e);const r=sM.readData(e);return aM(r,()=>Fm(e),iM.DEFAULT)}async function hW(e,t){const r=await $n({action:"create",sheet:e,data:t});return r.success&&G2(e),r}async function pW(e,t){const r=await $n({action:"update",sheet:e,data:t});return r.success&&G2(e),r}async function mW(e,t){const r=await $n({action:"delete",sheet:e,data:{id:t}});return r.success&&G2(e),r}async function dM(e,t){return dW({action:"login",data:{username:e,password:t}})}function gW(e,t){fW({action:"update",sheet:Xr.ACTIVE_USERS,data:{id:t||"",username:e,status:"offline",lastActive:new Date(0).toISOString()}}).catch(r=>console.error("Background offline update failed:",r))}async function xW(e,t=!0){const r=sM.fetchByPlant(e);return t?aM(r,()=>EP(e),iM.DEFAULT):EP(e)}async function EP(e){const[t,r]=await Promise.all([Fm(e),Fm(`${e}_NPK1`)]),n=[];return t.success&&t.data&&n.push(...t.data.map(a=>({...a,_plant:"NPK2"}))),r.success&&r.data&&n.push(...r.data.map(a=>({...a,_plant:"NPK1"}))),{success:!0,data:n}}function fM(e,t){return t==="NPK1"?`${e}_NPK1`:e}const Xr={PRODUKSI_NPK:"produksi_npk",PRODUKSI_BLENDING:"produksi_blending",PRODUKSI_NPK_MINI:"produksi_npk_mini",TIMESHEET_FORKLIFT:"timesheet_forklift",TIMESHEET_LOADER:"timesheet_loader",DOWNTIME:"downtime",WORK_REQUEST:"workrequest",BAHAN_BAKU:"bahanbaku",BAHAN_BAKU_NPK:"bahanbaku_npk",VIBRASI:"vibrasi",GATE_PASS:"gatepass",PERTA:"perta",PERBAIKAN_TAHUNAN:"perbaikan_tahunan",TROUBLE_RECORD:"trouble_record",KOP:"kop",REKAP_BBM:"rekap_bbm",PEMAKAIAN_BAHAN_BAKU:"pemakaian_bahan_baku",RIKSA_TIMB_PORTABEL:"riksa_timb_portabel",USERS:"users",SESSIONS:"sessions",APPROVAL_REQUESTS:"approval_requests",MONTHLY_NOTES:"monthly_notes",NOTIFICATIONS:"notifications",CHAT_MESSAGES:"chat_messages",AKUN:"akun",RKAP:"rkap",DOKUMENTASI_FOTO:"dokumentasi_foto",ACTIVE_USERS:"active_users",MATERIALS:"materials",MATERIAL_TRANSACTIONS:"material_transactions"};async function hM(e){return $n({action:"uploadPhoto",data:e})}async function pM(e){return $n({action:"deletePhoto",data:e})}async function vW(){return Ax("?action=getExchangeRate")}async function mM(){return Ax("?action=getMaterials")}async function gM(e){let t="?action=getMaterialTransactions";return e&&(e.material_id&&(t+=`&material_id=${encodeURIComponent(e.material_id)}`),e.start_date&&(t+=`&start_date=${encodeURIComponent(e.start_date)}`),e.end_date&&(t+=`&end_date=${encodeURIComponent(e.end_date)}`)),Ax(t)}async function xM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return $n({action:"createWithLog",sheet:n,data:t,userInfo:r})}async function vM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return $n({action:"updateWithLog",sheet:n,data:t,userInfo:r})}async function yM(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return $n({action:"deleteWithLog",sheet:n,data:{id:t.id},userInfo:r})}async function q2(e,t){return $n({action:"getActivityLogs",filters:{sheet_name:e,record_id:t}})}function Y2(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function X2(e){return{create:"Menambahkan",update:"Mengubah",delete:"Menghapus"}[e]||e}function J2(e){return{create:"",update:"",delete:""}[e]||""}async function bM(e,t){return $n({action:"addMaterialWithLog",data:e,userInfo:t})}async function wM(e,t){return $n({action:"updateMaterialWithLog",data:e,userInfo:t})}async function kM(e,t){return $n({action:"deleteMaterialWithLog",data:{id:e},userInfo:t})}async function jM(e,t,r,n){return $n({action:"updateStockMasukWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}async function SM(e,t,r,n){return $n({action:"updateStockKeluarWithLog",data:{materialId:e,jumlah:t,keterangan:r},userInfo:n})}const ot=Object.freeze(Object.defineProperty({__proto__:null,SHEETS:Xr,addMaterialWithLog:bM,clearCacheByPattern:nM,createData:hW,createDataWithLog:xM,deleteData:mW,deleteDataWithLog:yM,deleteMaterialWithLog:kM,deletePhoto:pM,fetchDataByPlant:xW,getActionDisplayText:X2,getActionIcon:J2,getExchangeRate:vW,getMaterialTransactions:gM,getMaterials:mM,getRecordActivityLogs:q2,getSheetNameByPlant:fM,loginUser:dM,parseActivityLogChanges:Y2,readData:uM,setUserOfflineBackground:gW,updateData:pW,updateDataWithLog:vM,updateMaterialWithLog:wM,updateStockKeluarWithLog:SM,updateStockMasukWithLog:jM,uploadPhoto:hM},Symbol.toStringTag,{value:"Module"}));function yW({isVisible:e,onClose:t,notification:r}){const[n,a]=j.useState([]),[s,o]=j.useState(!1),[l,c]=j.useState(null);j.useEffect(()=>{e&&(r!=null&&r.sheetName)&&(r!=null&&r.recordId)&&u()},[e,r]);const u=async()=>{if(!(!(r!=null&&r.sheetName)||!(r!=null&&r.recordId))){o(!0),c(null);try{const p=await q2(r.sheetName,r.recordId);p.success&&p.data?a(p.data):c(p.error||"Gagal memuat log aktivitas")}catch{c("Terjadi kesalahan saat memuat data")}finally{o(!1)}}},d=p=>{try{return new Date(p).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return p}},f=p=>{switch(p){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},h=p=>{const g=Y2(p);if(!g)return null;if(g.deleted_data)return i.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),i.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(g.deleted_data,null,2)})]});const m=Object.entries(g);return m.length===0?null:i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),i.jsx("div",{className:"space-y-1",children:m.map(([x,b])=>i.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[i.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[x,":"]}),i.jsx("span",{className:"text-red-500 line-through",children:String(b.old||"-")}),i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(b.new||"-")})]},x))})]})};return i.jsx(xt,{isOpen:e,onClose:t,title:"Detail Log Aktivitas",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[r&&i.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:r.message}),i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d(r.timestamp)})]}),s&&i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Lm,{})}),l&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),!s&&!l&&n.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("p",{className:"text-sm",children:"Tidak ada log aktivitas"})]}),!s&&!l&&n.length>0&&i.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Riwayat perubahan data:"}),n.map(p=>i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:J2(p.action)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:f(p.action),children:X2(p.action)}),i.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:p.user_name||p.user_id})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[p.user_role,"  ",p.plant]})]})]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(p.timestamp)})]}),p.record_preview&&i.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"text-gray-400",children:"Data: "}),p.record_preview]}),h(p.changes)]},p.id))]})]})})}function Fr({isOpen:e,onClose:t,sheetName:r,recordId:n,title:a="Log Aktivitas"}){const[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(null);j.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0),d(null);try{const m=await q2(r,n);m.success&&m.data?o(m.data):d(m.error||"Gagal memuat log aktivitas")}catch{d("Terjadi kesalahan saat memuat data")}finally{c(!1)}}},h=m=>{try{return new Date(m).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return m}},p=m=>{switch(m){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},g=m=>{const x=Y2(m);if(!x)return null;if(x.deleted_data)return i.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),i.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(x.deleted_data,null,2)})]});const b=Object.entries(x);return b.length===0?null:i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[i.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),i.jsx("div",{className:"space-y-1",children:b.map(([y,v])=>i.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[i.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[y,":"]}),i.jsx("span",{className:"text-red-500 line-through",children:String(v.old||"-")}),i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(v.new||"-")})]},y))})]})};return i.jsx(xt,{isOpen:e,onClose:t,title:a,size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[l&&i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Lm,{})}),u&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),!l&&!u&&s.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("p",{className:"text-sm",children:"Belum ada log aktivitas untuk data ini"})]}),!l&&!u&&s.length>0&&i.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Riwayat perubahan data (",s.length," aktivitas):"]}),s.map(m=>i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:J2(m.action)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:p(m.action),children:X2(m.action)}),i.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.user_name||m.user_id})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[m.user_role,"  ",m.plant]})]})]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(m.timestamp)})]}),m.record_preview&&i.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"text-gray-400",children:"Data: "}),m.record_preview]}),g(m.changes)]},m.id))]})]})})}const uc=[{version:"3.2.1",date:"1 Maret 2026",title:"Dashboard BB  Perbaikan Satuan & Hapus Ranking",type:"patch",icon:i.jsx(Od,{className:"h-5 w-5"}),highlights:["Perbaikan satuan material: Pewarna (Bag), Coating Oil (Dus), Tinta (pcs), Rekon (Ton), MAKEUP IJP (pcs), Clay Jumbo (Jumbo)","Hapus ranking/peringkat karena satuan berbeda tidak bisa dibandingkan (apple to apple)","Chart dikelompokkan per satuan (Bucket, Jumbo, Bag, Dus, pcs, Ton)","Trend bulanan hanya menampilkan material dengan satuan yang sama (Bucket)","Panel detail material dikelompokkan per satuan tanpa sorting","Progress bar hanya membandingkan sesama satuan yang sama"]},{version:"3.2.0",date:"1 Maret 2026",title:"Dashboard  Visualisasi Pemakaian Bahan Baku",type:"minor",icon:i.jsx(Od,{className:"h-5 w-5"}),highlights:["Ditambahkan section Pemakaian Bahan Baku di Dashboard","3 mode tampilan interaktif: Material Chart, Shift Breakdown, Monthly Trend","Gradient header card dengan quick stats 6 material utama (klik untuk select)","Bar chart total pemakaian per material dikelompokkan per satuan","Detail shift per material (Malam/Pagi/Sore) dengan bar chart terpisah","Area chart trend bulanan untuk material satuan Bucket","Panel detail material dikelompokkan per satuan"]},{version:"3.1.1",date:"1 Maret 2026",title:"Pemakaian BB  Summary Cards Semua Bahan Baku",type:"patch",icon:i.jsx(Od,{className:"h-5 w-5"}),highlights:["Summary cards diperkecil menjadi grid compact (7 kolom)","Menampilkan total pemakaian seluruh 12 bahan baku sekaligus","Ditambah card Total Record dan Total Hari di awal"]},{version:"3.1.0",date:"1 Maret 2026",title:"Pemakaian Bahan Baku  Ganti Pemantauan BB",type:"minor",icon:i.jsx(Od,{className:"h-5 w-5"}),highlights:["Halaman 'Pemantauan Bahan Baku' dihapus dari menu Laporan","Ditambahkan halaman baru 'Pemakaian Bahan Baku' di menu Laporan","Data pemakaian per shift (Malam, Pagi, Sore) untuk 12 jenis bahan baku","Tampilan harian (grid per tanggal) dan mode tabel","Bahan baku: Urea, DAP, KCL, ZA, Clay Jumbo/Bucket, Pewarna, Coating Oil LIGNO, Riject, Tinta, Rekon, MAKEUP IJP","Sheet lama pemantauan_bahan_baku diganti dengan pemakaian_bahan_baku"]},{version:"3.0.2",date:"26 Februari 2026",title:"Trouble Record  Item Terdampak & Export Excel",type:"patch",icon:i.jsx(Of,{className:"h-5 w-5"}),highlights:["Field 'Area' pada Trouble Record diganti menjadi 'Item yang Terdampak'","Input diubah dari dropdown (Select) menjadi text input manual (textbox)","Ditambahkan fitur Export ke Excel dengan filter tanggal dan status","File export mencakup 2 sheet: Data detail & Rekap per Status"]},{version:"3.0.1",date:"25 Februari 2026",title:"Sidebar Accordion  Satu Menu Terbuka",type:"patch",icon:i.jsx($b,{className:"h-5 w-5"}),highlights:["Sidebar menu parent kini berperilaku seperti accordion","Hanya satu menu parent yang bisa terbuka dalam satu waktu","Membuka menu baru otomatis menutup menu yang sebelumnya terbuka","Navigasi lebih rapi dan fokus"]},{version:"3.0.0",date:"23 Februari 2026",title:"Major UI Overhaul  Modern Dashboard & Charts",type:"major",icon:i.jsx(jH,{className:"h-5 w-5"}),highlights:["Semua chart di-upgrade ke desain modern: gradient fills, glassmorphism tooltips, animated legends","Produksi vs RKAP: diubah dari LineChart ke AreaChart dengan gradient fill area transparan yang cantik","Onspek vs Offspek: bar chart dengan gradient warna indigo & rose, rounded corners lebih halus","Pie charts (Breakdown Produksi, Work Request, Vibrasi): donut chart modern dengan gradient fills, corner radius, dan white stroke separator","Downtime per Equipment: horizontal bar chart dengan gradient fills amber-orange + enhanced empty state","Semua chart: axis tanpa garis border (cleaner), grid transparan halus, tooltip glassmorphism blur","Dashboard hero cards: redesign total  gradient backgrounds jadi lebih deep & vibrant, decorative blur orbs, backdrop glass borders","Setiap card section punya icon header dengan gradient background dan shadow warna","KPI Card: upgrade ke v3.0  accent line atas, rounded-xl, hover lift effect, gradient variant baru","Card component: modern rounded-xl, subtle border, dark mode backdrop-blur","Quick Actions: redesign dengan gradient background per-item, bordered icon containers","Data Summary: animated grid cards dengan gradient backgrounds per-warna","CSS: glassmorphism v3.0, chart-specific dark mode support, hover-lift utility, gradient-border effect, text-gradient-vibrant","Overall: tampilan enterprise premium  visual hierarchy lebih jelas, spacing lebih lapang, warna lebih vibrant"]},{version:"2.7.1",date:"20 Februari 2026",title:"Export Excel - Grup per Bahan Baku",type:"patch",icon:i.jsx(Of,{className:"h-5 w-5"}),highlights:["Data di Excel dikelompokkan per bahan baku (Urea, DAP, KCL, dll)","Setiap kelompok memiliki header dan subtotal masing-masing","Grand total di akhir sheet"]},{version:"2.7.0",date:"20 Februari 2026",title:"Export Excel Bahan Baku NPK",type:"minor",icon:i.jsx(Of,{className:"h-5 w-5"}),highlights:["Export data penerimaan bahan baku ke file Excel (.xlsx)","Filter berdasarkan rentang tanggal (dari - sampai)","Pilih per bahan baku atau semua bahan baku sekaligus","Sheet 1: Data detail lengkap dengan semua kolom","Sheet 2: Rekap total per bahan baku","Tersedia di halaman Bahan Baku NPK 1 dan NPK 2","Preview jumlah data sebelum export"]},{version:"2.6.2",date:"19 Februari 2026",title:"Modal Tidak Tertutup Saat Klik di Luar",type:"patch",icon:i.jsx(Rm,{className:"h-5 w-5"}),highlights:["Modal form tidak lagi tertutup saat klik di luar area modal","Data input yang sedang diisi tidak akan hilang karena klik tidak sengaja","Berlaku untuk semua modal di seluruh halaman aplikasi","User tetap bisa menutup modal via tombol X atau tombol Batal"]},{version:"2.6.1",date:"16 Februari 2026",title:"Fix Input Tonase NPK Mini",type:"patch",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Input tonase NPK Mini menggunakan placeholder '0' - tidak lagi pre-fill nilai lama","Support input desimal dengan koma (,) dan titik (.) sebagai pemisah","Maksimal 2 angka di belakang koma (contoh: 12,50 atau 12.50)","Fix keyboard mobile - sekarang bisa ketik koma & titik di iPhone dan Android"]},{version:"2.6.0",date:"16 Februari 2026",title:"Summary Cards & Mobile Responsive All Pages",type:"minor",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Summary cards informatif di SEMUA halaman data (Work Request, Inventaris, Riksa Timbangan, dll)","Grid 2 kolom di mobile untuk semua summary cards - tidak terpotong di iPhone & Android","Font & padding responsif (text-lg sm:text-2xl, p-3 sm:p-4) di 15+ halaman","Fix pencarian Inventaris Material - sekarang mencari di seluruh database, bukan hanya halaman aktif","Work Request: tambah card Bulan Ini, Area Terlibat, Top Eksekutor","Riksa Timbangan: tambah card Total Pemeriksaan, Lolos, Perhatian, Rata-rata Selisih","Inventaris: tambah card Total Material, Total Stok, Stok Aman, Stok Menipis"]},{version:"2.5.4",date:"16 Februari 2026",title:"Mobile Responsive Produksi",type:"patch",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Perbaikan layout halaman Produksi NPK Granul agar tidak terpotong di HP","Redesain banner produksi bulanan - compact & proporsional di iPhone & Android","Summary cards 2 kolom di mobile (sebelumnya 1 kolom penuh, terlalu besar)","Ukuran font & padding responsif (sm/xs) untuk tampilan lebih profesional","Fix halaman Produksi NPK Mini dengan layout mobile yang sama"]},{version:"2.5.3",date:"15 Februari 2026",title:"Work Request & Data Integrity Fix",type:"patch",icon:i.jsx(by,{className:"h-5 w-5"}),highlights:["Fix Work Request NPK1 - eksekutor, include, keterangan sekarang tersimpan dengan benar","Perbaikan header validation di backend (Code.gs) untuk konsistensi kolom","Tambah fungsi Fix All Sheet Headers di menu Google Sheets"]},{version:"2.5.1",date:"11 Februari 2026",title:"Work Request & Data Integrity Fix",type:"patch",icon:i.jsx(by,{className:"h-5 w-5"}),highlights:["Fix Work Request NPK1 - eksekutor, include, keterangan sekarang tersimpan dengan benar","Perbaikan header validation di backend (Code.gs) untuk konsistensi kolom","Fix Activity Log di halaman Produksi NPK (sheet name mismatch)","Perbaikan approval handler di 5 halaman - gunakan API helper yang benar","Approval request sekarang plant-aware (NPK1/NPK2)","Tambah fungsi Fix All Sheet Headers di menu Google Sheets"]},{version:"2.5.0",date:"6 Februari 2026",title:"Notification Sound & Activity Enhancement",type:"minor",icon:i.jsx(eM,{className:"h-5 w-5"}),highlights:["Suara notifikasi interaktif untuk data baru, edit, dan pesan masuk","Sound system menggunakan Web Audio API (tanpa file eksternal)","5 jenis suara: notification, message, success, warning, error","Toggle suara on/off di header","Creator logging - pembuat data masuk ke log aktivitas","Version history modal - lihat perjalanan aplikasi"]},{version:"2.4.3",date:"28 Januari 2026",title:"Stability & Performance Fix",type:"patch",icon:i.jsx(by,{className:"h-5 w-5"}),highlights:["Fix cache invalidation pada mutasi data","Perbaikan polling interval untuk real-time update","Optimasi memory usage pada background tasks","Fix issue duplicate active users di marquee"]},{version:"2.4.2",date:"20 Januari 2026",title:"Chat Enhancement",type:"patch",icon:i.jsx(Mm,{className:"h-5 w-5"}),highlights:["Edit dan hapus pesan chat (klik kanan / long press)","Optimistic UI untuk pengiriman pesan instan","Smart scroll - tidak auto-scroll saat baca pesan lama","Per-user read tracking independen"]},{version:"2.4.1",date:"12 Januari 2026",title:"UI Polish & Bug Fixes",type:"patch",icon:i.jsx(_H,{className:"h-5 w-5"}),highlights:["Perbaikan tampilan dark mode","Fix responsive layout pada mobile","Peningkatan animasi sidebar","Fix badge count notifikasi"]},{version:"2.4.0",date:"5 Januari 2026",title:"Activity Logging & Notification System",type:"minor",icon:i.jsx(Jc,{className:"h-5 w-5"}),highlights:["Sistem logging aktivitas lengkap (create, update, delete)","Notifikasi otomatis ke supervisor & admin","Modal log aktivitas per record","Tracking perubahan data (old vs new values)","Filter dan pencarian log aktivitas"]},{version:"2.3.0",date:"20 Desember 2025",title:"Inventaris Material Consumable",type:"minor",icon:i.jsx(Fb,{className:"h-5 w-5"}),highlights:["Fitur inventaris stok material consumable","Manajemen stok masuk & keluar","History transaksi material","Alert stok minimum","Laporan transaksi material"]},{version:"2.2.0",date:"10 Desember 2025",title:"Real-time Chat & Active Users",type:"minor",icon:i.jsx(vu,{className:"h-5 w-5"}),highlights:["Chat tim real-time antar pengguna","Live active users marquee","Status online/offline tracking","Dashboard metrics di info bar","Background polling untuk updated data"]},{version:"2.1.0",date:"25 November 2025",title:"Dual Plant System",type:"minor",icon:i.jsx($b,{className:"h-5 w-5"}),highlights:["Dukungan dual plant: NPK1 & NPK2","Data terpisah per plant","Admin dapat melihat semua plant","Filter menu berdasarkan plant user","Gate Pass, Work Request, Vibrasi per plant"]},{version:"2.0.0",date:"10 November 2025",title:"PlantIQ v2 - Major Redesign",type:"major",icon:i.jsx(TH,{className:"h-5 w-5"}),highlights:["Redesain UI/UX modern dengan design system baru","Dark mode support","Responsive mobile-first design","Force desktop view pada mobile","Animasi halus dengan Framer Motion","Performance optimization dengan caching"]},{version:"1.8.0",date:"20 Oktober 2025",title:"Approval System & Security",type:"minor",icon:i.jsx(Rm,{className:"h-5 w-5"}),highlights:["Sistem approval untuk edit & hapus data sensitif","Role-based access control (RBAC)","Session management per device","Multi-device detection"]},{version:"1.7.0",date:"5 Oktober 2025",title:"Dokumentasi Foto & Gate Pass Print",type:"minor",icon:i.jsx(Ta,{className:"h-5 w-5"}),highlights:["Upload dokumentasi foto ke Google Drive","Print Gate Pass format resmi","Print laporan BBM","Print KOP dengan format standar"]},{version:"1.6.0",date:"18 September 2025",title:"Report & Dashboard Enhancement",type:"minor",icon:i.jsx(mh,{className:"h-5 w-5"}),highlights:["Dashboard KPI cards dengan metrik real-time","Grafik produksi vs RKAP","Laporan pemantauan bahan baku","Filter tahun & bulan pada dashboard","Export data ke format print"]},{version:"1.5.0",date:"1 September 2025",title:"PWA & Offline Support",type:"minor",icon:i.jsx(Lc,{className:"h-5 w-5"}),highlights:["Progressive Web App (PWA) - install di HP","Service Worker untuk offline caching","Push notification support","Install prompt otomatis","Splash screen & app icons"]},{version:"1.4.0",date:"15 Agustus 2025",title:"Data Management Expansion",type:"minor",icon:i.jsx(Od,{className:"h-5 w-5"}),highlights:["Trouble Record management","Perbaikan Tahunan tracking","Riksa Timbangan Portabel","Rekap BBM Alat Berat","Timesheet Forklift & Loader"]},{version:"1.3.0",date:"1 Agustus 2025",title:"Vibrasi Monitoring & Work Request",type:"minor",icon:i.jsx(_s,{className:"h-5 w-5"}),highlights:["Monitoring vibrasi equipment","Status alert: Normal, Warning, Critical","Work Request management","Tracking eksekutor dan progress"]},{version:"1.2.0",date:"15 Juli 2025",title:"Production Data & Bahan Baku",type:"minor",icon:i.jsx(Fb,{className:"h-5 w-5"}),highlights:["Input produksi NPK Granul (3 shift)","Produksi Blending/Retail","Penerimaan bahan baku NPK","Perhitungan otomatis total produksi"]},{version:"1.1.0",date:"1 Juli 2025",title:"User Management & Auth",type:"minor",icon:i.jsx(Dm,{className:"h-5 w-5"}),highlights:["Sistem login & registrasi","Manajemen user oleh admin","Role: Admin, Supervisor, AVP, Manager, User","Profil dan pengaturan akun"]},{version:"1.0.0",date:"15 Juni 2025",title:"PlantIQ v1 - Initial Release",type:"major",icon:i.jsx(EH,{className:"h-5 w-5"}),highlights:["Rilis awal aplikasi PlantIQ / Plantiffy","Dashboard produksi plant NPK","Integrasi Google Sheets sebagai database","Google Apps Script sebagai backend API","Deploy di Vercel untuk frontend","Arsitektur React + TypeScript + Vite"]}];function bW({isOpen:e,onClose:t}){const[r,n]=j.useState(null),a=l=>{switch(l){case"major":return i.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-[10px] font-bold rounded-full uppercase",children:"Major"});case"minor":return i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-[10px] font-bold rounded-full uppercase",children:"Minor"});case"patch":return i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[10px] font-bold rounded-full uppercase",children:"Patch"})}},s=l=>{switch(l){case"major":return"border-red-400 dark:border-red-500 bg-red-500";case"minor":return"border-blue-400 dark:border-blue-500 bg-blue-500";case"patch":return"border-gray-300 dark:border-gray-600 bg-gray-400 dark:bg-gray-500"}},o=l=>{switch(l){case"major":return"bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-400";case"minor":return"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400";case"patch":return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}};return i.jsx(xt,{isOpen:e,onClose:t,title:"",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-primary-100 dark:bg-primary-900/40 mb-3",children:i.jsx(At,{className:"h-7 w-7 text-primary-600 dark:text-primary-400"})}),i.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Perjalanan Plantiffy"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Riwayat pengembangan dari versi awal hingga sekarang"}),i.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(dH,{className:"h-3 w-3"}),uc.length," versi"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[uc[uc.length-1].date,"  ",uc[0].date]})]})]}),i.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 -mr-2 space-y-0",children:uc.map((l,c)=>i.jsxs("div",{className:"relative flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-0",children:[i.jsx("div",{className:Ge("w-3 h-3 rounded-full border-2 mt-2 flex-shrink-0 z-10",s(l.type))}),c<uc.length-1&&i.jsx("div",{className:"w-0.5 flex-1 bg-border min-h-[20px]"})]}),i.jsxs("div",{className:Ge("flex-1 mb-4 p-3 rounded-lg border transition-all duration-200 cursor-pointer","hover:shadow-soft",r===l.version?"border-primary-300 dark:border-primary-700 bg-primary-50/50 dark:bg-primary-900/10":"border-border bg-card dark:bg-dark-800/50 hover:border-primary-200 dark:hover:border-primary-800"),onClick:()=>n(r===l.version?null:l.version),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:Ge("flex-shrink-0 p-1.5 rounded-lg",o(l.type)),children:l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("span",{className:"font-bold text-sm text-foreground",children:["v",l.version]}),a(l.type),c===0&&i.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-[10px] font-bold rounded-full uppercase animate-pulse",children:"Terbaru"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:l.date})]})]}),i.jsx("h4",{className:"text-sm font-semibold text-foreground mt-2",children:l.title}),i.jsx("ul",{className:"mt-2 space-y-1",children:l.highlights.slice(0,r===l.version?void 0:2).map((u,d)=>i.jsxs("li",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{className:"text-primary-500 mt-0.5 flex-shrink-0",children:""}),i.jsx("span",{children:u})]},d))}),l.highlights.length>2&&r!==l.version&&i.jsxs("p",{className:"text-[11px] text-primary-500 mt-1.5 font-medium",children:["+",l.highlights.length-2," lainnya  klik untuk detail"]})]})]},l.version))}),i.jsx("div",{className:"pt-3 border-t border-border text-center",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dibuat dengan  oleh Tim Plantiffy  Deployed on"," ",i.jsx("span",{className:"font-semibold text-foreground",children:"Vercel"})]})})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var $m={};$m.version="0.18.5";var NM=1252,wW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],TM=function(e){wW.indexOf(e)!=-1&&(NM=e)};function kW(){TM(1252)}var wh=function(e){TM(e)};function jW(){wh(1200),kW()}var ip=function(t){return String.fromCharCode(t)},AP=function(t){return String.fromCharCode(t)},Bm,vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kh(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=vo.charAt(s)+vo.charAt(o)+vo.charAt(l)+vo.charAt(c);return t}function ws(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=vo.indexOf(e.charAt(u++)),o=vo.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=vo.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=vo.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Ft=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Es=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Fl(e){return Ft?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function OP(e){return Ft?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var xi=function(t){return Ft?Es(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ox(e){if(typeof ArrayBuffer>"u")return xi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function b0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function SW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var yn=Ft?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Es(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function NW(e){for(var t=[],r=0,n=e.length+250,a=Fl(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Fl(65535),n=65530)}return t.push(a.slice(0,r)),yn(t)}var Df=/\u0000/g,sp=/[\u0001-\u0006]/g;function Qc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function bi(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}function Q2(e,t){var r=""+e;return r.length>=t?r:kr(" ",t-r.length)+r}function Um(e,t){var r=""+e;return r.length>=t?r:r+kr(" ",t-r.length)}function TW(e,t){var r=""+Math.round(e);return r.length>=t?r:kr("0",t-r.length)+r}function PW(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}var CP=Math.pow(2,32);function dc(e,t){if(e>CP||e<-CP)return TW(e,t);var r=Math.round(e);return PW(r,t)}function Km(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var DP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Sy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _W(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Sr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},MP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},EW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vm(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function op(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=IW(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var PM=new Date(1899,11,31,0,0,0),AW=PM.getTime(),OW=new Date(1900,2,1,0,0,0);function _M(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=OW&&(r+=24*60*60*1e3),(r-(AW+(e.getTimezoneOffset()-PM.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Z2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function CW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function DW(e){var t=e<0?12:11,r=Z2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function MW(e){var t=Z2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function RW(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=DW(e):t===10?r=e.toFixed(10).substr(0,12):r=MW(e),Z2(CW(r.toUpperCase()))}function Bb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):RW(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return $o(14,_M(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function IW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function LW(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Sy[r.m-1][1];case 5:return Sy[r.m-1][0];default:return Sy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return DP[r.q][0];default:return DP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?bi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=bi(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?bi(c,u):"";return d}function yo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var EM=/%/g;function FW(e,t,r){var n=t.replace(EM,""),a=t.length-n.length;return ds(e,n,r*Math.pow(10,2*a))+kr("%",a)}function $W(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ds(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function AM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+AM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var OM=/# (\?+)( ?)\/( ?)(\d+)/;function BW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?kr(" ",e[1].length+1+e[4].length):Q2(o,e[1].length)+e[2]+"/"+e[3]+bi(l,e[4].length))}function UW(e,t,r){return r+(t===0?"":""+t)+kr(" ",e[1].length+2+e[4].length)}var CM=/^#*0*\.([0#]+)/,DM=/\).*[0#]/,MM=/\(###\) ###\\?-####/;function qn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function RP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function IP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function KW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function VW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function La(e,t,r){if(e.charCodeAt(0)===40&&!t.match(DM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?La("n",n,r):"("+La("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return $W(e,t,r);if(t.indexOf("%")!==-1)return FW(e,t,r);if(t.indexOf("E")!==-1)return AM(t,r);if(t.charCodeAt(0)===36)return"$"+La(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+dc(c,t.length);if(t.match(/^[#?]+$/))return a=dc(r,0),a==="0"&&(a=""),a.length>t.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(OM))return BW(s,c,u);if(t.match(/^#+0+$/))return u+dc(c,t.length-t.indexOf("0"));if(s=t.match(CM))return a=RP(r,s[1].length).replace(/^([^\.]+)$/,"$1."+qn(s[1])).replace(/\.$/,"."+qn(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+kr("0",qn(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+RP(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+yo(dc(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+La(e,t,-r):yo(""+(Math.floor(r)+KW(r,s[1].length)))+"."+bi(IP(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return La(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qc(La(e,t.replace(/[\\-]/g,""),r)),o=0,Qc(Qc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(MM))return a=La(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Vm(c,Math.pow(10,o)-1,!1),a=""+u,d=ds("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Um(l[2],o),d.length<s[4].length&&(d=qn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Vm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Q2(l[1],o)+s[2]+"/"+s[3]+Um(l[2],o):kr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=dc(r,0),t.length<=a.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return qn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=IP(r,s[1].length),r<0?"-"+La(e,t,-r):yo(VW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?bi(0,3-g.length):"")+g})+"."+bi(o,s[1].length);switch(t){case"###,##0.00":return La(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=yo(dc(c,0));return p!=="0"?u+p:"";case"###,###.00":return La(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return La(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function zW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ds(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function HW(e,t,r){var n=t.replace(EM,""),a=t.length-n.length;return ds(e,n,r*Math.pow(10,2*a))+kr("%",a)}function RM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+RM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ai(e,t,r){if(e.charCodeAt(0)===40&&!t.match(DM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ai("n",n,r):"("+Ai("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return zW(e,t,r);if(t.indexOf("%")!==-1)return HW(e,t,r);if(t.indexOf("E")!==-1)return RM(t,r);if(t.charCodeAt(0)===36)return"$"+Ai(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+bi(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(OM))return UW(s,c,u);if(t.match(/^#+0+$/))return u+bi(c,t.length-t.indexOf("0"));if(s=t.match(CM))return a=(""+r).replace(/^([^\.]+)$/,"$1."+qn(s[1])).replace(/\.$/,"."+qn(s[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+kr("0",qn(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+yo(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ai(e,t,-r):yo(""+r)+"."+kr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ai(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qc(Ai(e,t.replace(/[\\-]/g,""),r)),o=0,Qc(Qc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(MM))return a=Ai(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Vm(c,Math.pow(10,o)-1,!1),a=""+u,d=ds("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Um(l[2],o),d.length<s[4].length&&(d=qn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Vm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Q2(l[1],o)+s[2]+"/"+s[3]+Um(l[2],o):kr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:qn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return qn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ai(e,t,-r):yo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?bi(0,3-g.length):"")+g})+"."+bi(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=yo(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ai(e,t.slice(0,t.lastIndexOf(".")),r)+qn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ds(e,t,r){return(r|0)===r?Ai(e,t,r):La(e,t,r)}function WW(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var IM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function LM(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Km(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(IM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function GW(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Km(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=op(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=op(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=op(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(IM)){if(u==null&&(u=op(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",LM(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,b=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(b=Math.max(b,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var v="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=LW(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;v+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=Bb(t,r);break}var k="",N,S;if(v.length>0){v.charCodeAt(0)==40?(N=t<0&&v.charCodeAt(0)===45?-t:t,S=ds("n",v,N)):(N=t<0&&n>1?-t:t,S=ds("n",v,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),w=S.length-1;var T=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){T=o;break}var P=a.length;if(T===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=S.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=S.substr(0,w+1),w=-1),a[o].t="t",P=o);w>=0&&P<a.length&&(a[P].v=S.substr(0,w+1)+a[P].v)}else if(T!==a.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,o=T;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")-1:a[o].v.length-1,k=a[o].v.substr(d+1);d>=0;--d)w>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(k=S.charAt(w--)+k);a[o].v=k,a[o].t="t",P=o}for(w>=0&&P<a.length&&(a[P].v=S.substr(0,w+1)+a[P].v),w=S.indexOf(".")+1,o=T;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==T)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")+1:0,k=a[o].v.substr(0,d);d<a[o].v.length;++d)w<S.length&&(k+=S.charAt(w++));a[o].v=k,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=ds(a[o].t,a[o].v,N),a[o].t="t");var _="";for(o=0;o!==a.length;++o)a[o]!=null&&(_+=a[o].v);return _}var LP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function FP(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function qW(e,t){var r=WW(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(LP),l=r[1].match(LP);return FP(t,o)?[n,r[0]]:FP(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function $o(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Sr)[e],n==null&&(n=r.table&&r.table[MP[e]]||Sr[MP[e]]),n==null&&(n=EW[e]||"General");break}if(Km(n,0))return Bb(t,r);t instanceof Date&&(t=_M(t,r.date1904));var a=qW(n,t);if(Km(a[1]))return Bb(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return GW(a[1],t,r,a[0])}function FM(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Sr[r]==null){t<0&&(t=r);continue}if(Sr[r]==e){t=r;break}}t<0&&(t=391)}return Sr[t]=e,t}function Cx(e){for(var t=0;t!=392;++t)e[t]!==void 0&&FM(e[t],t)}function Dx(){Sr=_W()}var $M=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function YW(e){var t=typeof e=="number"?Sr[e]:e;return t=t.replace($M,"(\\d+)"),new RegExp("^"+t+"$")}function XW(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match($M)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var JW=function(){var e={};e.version="1.2.0";function t(){for(var S=0,T=new Array(256),P=0;P!=256;++P)S=P,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,T[P]=S;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(S){var T=0,P=0,_=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_=0;_!=256;++_)O[_]=S[_];for(_=0;_!=256;++_)for(P=S[_],T=256+_;T<4096;T+=256)P=O[T]=P>>>8^S[P&255];var C=[];for(_=1;_!=16;++_)C[_-1]=typeof Int32Array<"u"?O.subarray(_*256,_*256+256):O.slice(_*256,_*256+256);return C}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],x=a[11],b=a[12],y=a[13],v=a[14];function w(S,T){for(var P=T^-1,_=0,O=S.length;_<O;)P=P>>>8^r[(P^S.charCodeAt(_++))&255];return~P}function k(S,T){for(var P=T^-1,_=S.length-15,O=0;O<_;)P=v[S[O++]^P&255]^y[S[O++]^P>>8&255]^b[S[O++]^P>>16&255]^x[S[O++]^P>>>24]^m[S[O++]]^g[S[O++]]^p[S[O++]]^h[S[O++]]^f[S[O++]]^d[S[O++]]^u[S[O++]]^c[S[O++]]^l[S[O++]]^o[S[O++]]^s[S[O++]]^r[S[O++]];for(_+=15;O<_;)P=P>>>8^r[(P^S[O++])&255];return~P}function N(S,T){for(var P=T^-1,_=0,O=S.length,C=0,D=0;_<O;)C=S.charCodeAt(_++),C<128?P=P>>>8^r[(P^C)&255]:C<2048?(P=P>>>8^r[(P^(192|C>>6&31))&255],P=P>>>8^r[(P^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,D=S.charCodeAt(_++)&1023,P=P>>>8^r[(P^(240|C>>8&7))&255],P=P>>>8^r[(P^(128|C>>2&63))&255],P=P>>>8^r[(P^(128|D>>6&15|(C&3)<<4))&255],P=P>>>8^r[(P^(128|D&63))&255]):(P=P>>>8^r[(P^(224|C>>12&15))&255],P=P>>>8^r[(P^(128|C>>6&63))&255],P=P>>>8^r[(P^(128|C&63))&255]);return~P}return e.table=r,e.bstr=w,e.buf=k,e.str=N,e}(),qt=function(){var t={};t.version="1.2.1";function r(K,ae){for(var Q=K.split("/"),Z=ae.split("/"),ie=0,se=0,U=Math.min(Q.length,Z.length);ie<U;++ie){if(se=Q[ie].length-Z[ie].length)return se;if(Q[ie]!=Z[ie])return Q[ie]<Z[ie]?-1:1}return Q.length-Z.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(0,ae+1)}function a(K){if(K.charAt(K.length-1)=="/")return a(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(ae+1)}function s(K,ae){typeof ae=="string"&&(ae=new Date(ae));var Q=ae.getHours();Q=Q<<6|ae.getMinutes(),Q=Q<<5|ae.getSeconds()>>>1,K.write_shift(2,Q);var Z=ae.getFullYear()-1980;Z=Z<<4|ae.getMonth()+1,Z=Z<<5|ae.getDate(),K.write_shift(2,Z)}function o(K){var ae=K.read_shift(2)&65535,Q=K.read_shift(2)&65535,Z=new Date,ie=Q&31;Q>>>=5;var se=Q&15;Q>>>=4,Z.setMilliseconds(0),Z.setFullYear(Q+1980),Z.setMonth(se-1),Z.setDate(ie);var U=ae&31;ae>>>=5;var we=ae&63;return ae>>>=6,Z.setHours(ae),Z.setMinutes(we),Z.setSeconds(U<<1),Z}function l(K){ba(K,0);for(var ae={},Q=0;K.l<=K.length-4;){var Z=K.read_shift(2),ie=K.read_shift(2),se=K.l+ie,U={};switch(Z){case 21589:Q=K.read_shift(1),Q&1&&(U.mtime=K.read_shift(4)),ie>5&&(Q&2&&(U.atime=K.read_shift(4)),Q&4&&(U.ctime=K.read_shift(4))),U.mtime&&(U.mt=new Date(U.mtime*1e3));break}K.l=se,ae[Z]=U}return ae}var c;function u(){return c||(c={})}function d(K,ae){if(K[0]==80&&K[1]==75)return lt(K,ae);if((K[0]|32)==109&&(K[1]|32)==105)return _i(K,ae);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var Q=3,Z=512,ie=0,se=0,U=0,we=0,he=0,je=[],Ne=K.slice(0,512);ba(Ne,0);var De=f(Ne);switch(Q=De[0],Q){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(De[1]==0)return lt(K,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}Z!==512&&(Ne=K.slice(0,Z),ba(Ne,28));var Le=K.slice(0,Z);h(Ne,Q);var Ve=Ne.read_shift(4,"i");if(Q===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);Ne.l+=4,U=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),we=Ne.read_shift(4,"i"),ie=Ne.read_shift(4,"i"),he=Ne.read_shift(4,"i"),se=Ne.read_shift(4,"i");for(var $e=-1,qe=0;qe<109&&($e=Ne.read_shift(4,"i"),!($e<0));++qe)je[qe]=$e;var it=p(K,Z);x(he,se,it,Z,je);var bt=y(it,U,je,Z);bt[U].name="!Directory",ie>0&&we!==D&&(bt[we].name="!MiniFAT"),bt[je[0]].name="!FAT",bt.fat_addrs=je,bt.ssz=Z;var St={},Lt=[],fn=[],hn=[];v(U,bt,it,Lt,ie,St,fn,we),g(fn,hn,Lt),Lt.shift();var pn={FileIndex:fn,FullPaths:hn};return ae&&ae.raw&&(pn.raw={header:Le,sectors:it}),pn}function f(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(H,"Header Signature: "),K.l+=16;var ae=K.read_shift(2,"u");return[K.read_shift(2,"u"),ae]}function h(K,ae){var Q=9;switch(K.l+=2,Q=K.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function p(K,ae){for(var Q=Math.ceil(K.length/ae)-1,Z=[],ie=1;ie<Q;++ie)Z[ie-1]=K.slice(ie*ae,(ie+1)*ae);return Z[Q-1]=K.slice(Q*ae),Z}function g(K,ae,Q){for(var Z=0,ie=0,se=0,U=0,we=0,he=Q.length,je=[],Ne=[];Z<he;++Z)je[Z]=Ne[Z]=Z,ae[Z]=Q[Z];for(;we<Ne.length;++we)Z=Ne[we],ie=K[Z].L,se=K[Z].R,U=K[Z].C,je[Z]===Z&&(ie!==-1&&je[ie]!==ie&&(je[Z]=je[ie]),se!==-1&&je[se]!==se&&(je[Z]=je[se])),U!==-1&&(je[U]=Z),ie!==-1&&Z!=je[Z]&&(je[ie]=je[Z],Ne.lastIndexOf(ie)<we&&Ne.push(ie)),se!==-1&&Z!=je[Z]&&(je[se]=je[Z],Ne.lastIndexOf(se)<we&&Ne.push(se));for(Z=1;Z<he;++Z)je[Z]===Z&&(se!==-1&&je[se]!==se?je[Z]=je[se]:ie!==-1&&je[ie]!==ie&&(je[Z]=je[ie]));for(Z=1;Z<he;++Z)if(K[Z].type!==0){if(we=Z,we!=je[we])do we=je[we],ae[Z]=ae[we]+"/"+ae[Z];while(we!==0&&je[we]!==-1&&we!=je[we]);je[Z]=-1}for(ae[0]+="/",Z=1;Z<he;++Z)K[Z].type!==2&&(ae[Z]+="/")}function m(K,ae,Q){for(var Z=K.start,ie=K.size,se=[],U=Z;Q&&ie>0&&U>=0;)se.push(ae.slice(U*C,U*C+C)),ie-=C,U=hl(Q,U*4);return se.length===0?Ce(0):yn(se).slice(0,K.size)}function x(K,ae,Q,Z,ie){var se=D;if(K===D){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var U=Q[K],we=(Z>>>2)-1;if(!U)return;for(var he=0;he<we&&(se=hl(U,he*4))!==D;++he)ie.push(se);x(hl(U,Z-4),ae-1,Q,Z,ie)}}function b(K,ae,Q,Z,ie){var se=[],U=[];ie||(ie=[]);var we=Z-1,he=0,je=0;for(he=ae;he>=0;){ie[he]=!0,se[se.length]=he,U.push(K[he]);var Ne=Q[Math.floor(he*4/Z)];if(je=he*4&we,Z<4+je)throw new Error("FAT boundary crossed: "+he+" 4 "+Z);if(!K[Ne])break;he=hl(K[Ne],je)}return{nodes:se,data:WP([U])}}function y(K,ae,Q,Z){var ie=K.length,se=[],U=[],we=[],he=[],je=Z-1,Ne=0,De=0,Le=0,Ve=0;for(Ne=0;Ne<ie;++Ne)if(we=[],Le=Ne+ae,Le>=ie&&(Le-=ie),!U[Le]){he=[];var $e=[];for(De=Le;De>=0;){$e[De]=!0,U[De]=!0,we[we.length]=De,he.push(K[De]);var qe=Q[Math.floor(De*4/Z)];if(Ve=De*4&je,Z<4+Ve)throw new Error("FAT boundary crossed: "+De+" 4 "+Z);if(!K[qe]||(De=hl(K[qe],Ve),$e[De]))break}se[Le]={nodes:we,data:WP([he])}}return se}function v(K,ae,Q,Z,ie,se,U,we){for(var he=0,je=Z.length?2:0,Ne=ae[K].data,De=0,Le=0,Ve;De<Ne.length;De+=128){var $e=Ne.slice(De,De+128);ba($e,64),Le=$e.read_shift(2),Ve=aj($e,0,Le-je),Z.push(Ve);var qe={name:Ve,type:$e.read_shift(1),color:$e.read_shift(1),L:$e.read_shift(4,"i"),R:$e.read_shift(4,"i"),C:$e.read_shift(4,"i"),clsid:$e.read_shift(16),state:$e.read_shift(4,"i"),start:0,size:0},it=$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2);it!==0&&(qe.ct=w($e,$e.l-8));var bt=$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2);bt!==0&&(qe.mt=w($e,$e.l-8)),qe.start=$e.read_shift(4,"i"),qe.size=$e.read_shift(4,"i"),qe.size<0&&qe.start<0&&(qe.size=qe.type=0,qe.start=D,qe.name=""),qe.type===5?(he=qe.start,ie>0&&he!==D&&(ae[he].name="!StreamData")):qe.size>=4096?(qe.storage="fat",ae[qe.start]===void 0&&(ae[qe.start]=b(Q,qe.start,ae.fat_addrs,ae.ssz)),ae[qe.start].name=qe.name,qe.content=ae[qe.start].data.slice(0,qe.size)):(qe.storage="minifat",qe.size<0?qe.size=0:he!==D&&qe.start!==D&&ae[he]&&(qe.content=m(qe,ae[he].data,(ae[we]||{}).data))),qe.content&&ba(qe.content,0),se[Ve]=qe,U.push(qe)}}function w(K,ae){return new Date((ka(K,ae+4)/1e7*Math.pow(2,32)+ka(K,ae)/1e7-11644473600)*1e3)}function k(K,ae){return u(),d(c.readFileSync(K),ae)}function N(K,ae){var Q=ae&&ae.type;switch(Q||Ft&&Buffer.isBuffer(K)&&(Q="buffer"),Q||"base64"){case"file":return k(K,ae);case"base64":return d(xi(ws(K)),ae);case"binary":return d(xi(K),ae)}return d(K,ae)}function S(K,ae){var Q=ae||{},Z=Q.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=Z+"/",K.FileIndex[0]={name:Z,type:5}),Q.CLSID&&(K.FileIndex[0].clsid=Q.CLSID),T(K)}function T(K){var ae="Sh33tJ5";if(!qt.find(K,"/"+ae)){var Q=Ce(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,K.FileIndex.push({name:ae,type:2,content:Q,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+ae),P(K)}}function P(K,ae){S(K);for(var Q=!1,Z=!1,ie=K.FullPaths.length-1;ie>=0;--ie){var se=K.FileIndex[ie];switch(se.type){case 0:Z?Q=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(se.R*se.L*se.C)&&(Q=!0),se.R>-1&&se.L>-1&&se.R==se.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ae)){var U=new Date(1987,1,19),we=0,he=Object.create?Object.create(null):{},je=[];for(ie=0;ie<K.FullPaths.length;++ie)he[K.FullPaths[ie]]=!0,K.FileIndex[ie].type!==0&&je.push([K.FullPaths[ie],K.FileIndex[ie]]);for(ie=0;ie<je.length;++ie){var Ne=n(je[ie][0]);Z=he[Ne],Z||(je.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:W,ct:U,mt:U,content:null}]),he[Ne]=!0)}for(je.sort(function(Ve,$e){return r(Ve[0],$e[0])}),K.FullPaths=[],K.FileIndex=[],ie=0;ie<je.length;++ie)K.FullPaths[ie]=je[ie][0],K.FileIndex[ie]=je[ie][1];for(ie=0;ie<je.length;++ie){var De=K.FileIndex[ie],Le=K.FullPaths[ie];if(De.name=a(Le).replace("/",""),De.L=De.R=De.C=-(De.color=1),De.size=De.content?De.content.length:0,De.start=0,De.clsid=De.clsid||W,ie===0)De.C=je.length>1?1:-1,De.size=0,De.type=5;else if(Le.slice(-1)=="/"){for(we=ie+1;we<je.length&&n(K.FullPaths[we])!=Le;++we);for(De.C=we>=je.length?-1:we,we=ie+1;we<je.length&&n(K.FullPaths[we])!=n(Le);++we);De.R=we>=je.length?-1:we,De.type=1}else n(K.FullPaths[ie+1]||"")==n(Le)&&(De.R=ie+1),De.type=2}}}function _(K,ae){var Q=ae||{};if(Q.fileType=="mad")return oc(K,Q);switch(P(K),Q.fileType){case"zip":return br(K,Q)}var Z=function(Ve){for(var $e=0,qe=0,it=0;it<Ve.FileIndex.length;++it){var bt=Ve.FileIndex[it];if(bt.content){var St=bt.content.length;St>0&&(St<4096?$e+=St+63>>6:qe+=St+511>>9)}}for(var Lt=Ve.FullPaths.length+3>>2,fn=$e+7>>3,hn=$e+127>>7,pn=fn+qe+Lt+hn,Kr=pn+127>>7,Un=Kr<=109?0:Math.ceil((Kr-109)/127);pn+Kr+Un+127>>7>Kr;)Un=++Kr<=109?0:Math.ceil((Kr-109)/127);var Tr=[1,Un,Kr,hn,Lt,qe,$e,0];return Ve.FileIndex[0].size=$e<<6,Tr[7]=(Ve.FileIndex[0].start=Tr[0]+Tr[1]+Tr[2]+Tr[3]+Tr[4]+Tr[5])+(Tr[6]+7>>3),Tr}(K),ie=Ce(Z[7]<<9),se=0,U=0;{for(se=0;se<8;++se)ie.write_shift(1,ee[se]);for(se=0;se<8;++se)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),se=0;se<3;++se)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,Z[2]),ie.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:D),ie.write_shift(4,Z[3]),ie.write_shift(-4,Z[1]?Z[0]-1:D),ie.write_shift(4,Z[1]),se=0;se<109;++se)ie.write_shift(-4,se<Z[2]?Z[1]+se:-1)}if(Z[1])for(U=0;U<Z[1];++U){for(;se<236+U*127;++se)ie.write_shift(-4,se<Z[2]?Z[1]+se:-1);ie.write_shift(-4,U===Z[1]-1?D:U+1)}var we=function(Ve){for(U+=Ve;se<U-1;++se)ie.write_shift(-4,se+1);Ve&&(++se,ie.write_shift(-4,D))};for(U=se=0,U+=Z[1];se<U;++se)ie.write_shift(-4,Y.DIFSECT);for(U+=Z[2];se<U;++se)ie.write_shift(-4,Y.FATSECT);we(Z[3]),we(Z[4]);for(var he=0,je=0,Ne=K.FileIndex[0];he<K.FileIndex.length;++he)Ne=K.FileIndex[he],Ne.content&&(je=Ne.content.length,!(je<4096)&&(Ne.start=U,we(je+511>>9)));for(we(Z[6]+7>>3);ie.l&511;)ie.write_shift(-4,Y.ENDOFCHAIN);for(U=se=0,he=0;he<K.FileIndex.length;++he)Ne=K.FileIndex[he],Ne.content&&(je=Ne.content.length,!(!je||je>=4096)&&(Ne.start=U,we(je+63>>6)));for(;ie.l&511;)ie.write_shift(-4,Y.ENDOFCHAIN);for(se=0;se<Z[4]<<2;++se){var De=K.FullPaths[se];if(!De||De.length===0){for(he=0;he<17;++he)ie.write_shift(4,0);for(he=0;he<3;++he)ie.write_shift(4,-1);for(he=0;he<12;++he)ie.write_shift(4,0);continue}Ne=K.FileIndex[se],se===0&&(Ne.start=Ne.size?Ne.start-1:D);var Le=se===0&&Q.root||Ne.name;if(je=2*(Le.length+1),ie.write_shift(64,Le,"utf16le"),ie.write_shift(2,je),ie.write_shift(1,Ne.type),ie.write_shift(1,Ne.color),ie.write_shift(-4,Ne.L),ie.write_shift(-4,Ne.R),ie.write_shift(-4,Ne.C),Ne.clsid)ie.write_shift(16,Ne.clsid,"hex");else for(he=0;he<4;++he)ie.write_shift(4,0);ie.write_shift(4,Ne.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Ne.start),ie.write_shift(4,Ne.size),ie.write_shift(4,0)}for(se=1;se<K.FileIndex.length;++se)if(Ne=K.FileIndex[se],Ne.size>=4096)if(ie.l=Ne.start+1<<9,Ft&&Buffer.isBuffer(Ne.content))Ne.content.copy(ie,ie.l,0,Ne.size),ie.l+=Ne.size+511&-512;else{for(he=0;he<Ne.size;++he)ie.write_shift(1,Ne.content[he]);for(;he&511;++he)ie.write_shift(1,0)}for(se=1;se<K.FileIndex.length;++se)if(Ne=K.FileIndex[se],Ne.size>0&&Ne.size<4096)if(Ft&&Buffer.isBuffer(Ne.content))Ne.content.copy(ie,ie.l,0,Ne.size),ie.l+=Ne.size+63&-64;else{for(he=0;he<Ne.size;++he)ie.write_shift(1,Ne.content[he]);for(;he&63;++he)ie.write_shift(1,0)}if(Ft)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function O(K,ae){var Q=K.FullPaths.map(function(he){return he.toUpperCase()}),Z=Q.map(function(he){var je=he.split("/");return je[je.length-(he.slice(-1)=="/"?2:1)]}),ie=!1;ae.charCodeAt(0)===47?(ie=!0,ae=Q[0].slice(0,-1)+ae):ie=ae.indexOf("/")!==-1;var se=ae.toUpperCase(),U=ie===!0?Q.indexOf(se):Z.indexOf(se);if(U!==-1)return K.FileIndex[U];var we=!se.match(sp);for(se=se.replace(Df,""),we&&(se=se.replace(sp,"!")),U=0;U<Q.length;++U)if((we?Q[U].replace(sp,"!"):Q[U]).replace(Df,"")==se||(we?Z[U].replace(sp,"!"):Z[U]).replace(Df,"")==se)return K.FileIndex[U];return null}var C=64,D=-2,H="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(K,ae,Q){u();var Z=_(K,Q);c.writeFileSync(ae,Z)}function q(K){for(var ae=new Array(K.length),Q=0;Q<K.length;++Q)ae[Q]=String.fromCharCode(K[Q]);return ae.join("")}function ue(K,ae){var Q=_(K,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,Q),Q;case"binary":return typeof Q=="string"?Q:q(Q);case"base64":return kh(typeof Q=="string"?Q:q(Q));case"buffer":if(Ft)return Buffer.isBuffer(Q)?Q:Es(Q);case"array":return typeof Q=="string"?xi(Q):Q}return Q}var le;function B(K){try{var ae=K.InflateRaw,Q=new ae;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)le=K;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function F(K,ae){if(!le)return Ee(K,ae);var Q=le.InflateRaw,Z=new Q,ie=Z._processChunk(K.slice(K.l),Z._finishFlushFlag);return K.l+=Z.bytesRead,ie}function L(K){return le?le.deflateRawSync(K):Fe(K)}var R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(K){var ae=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var ce=typeof Uint8Array<"u",pe=ce?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)pe[Pe]=Te(Pe);function ge(K,ae){var Q=pe[K&255];return ae<=8?Q>>>8-ae:(Q=Q<<8|pe[K>>8&255],ae<=16?Q>>>16-ae:(Q=Q<<8|pe[K>>16&255],Q>>>24-ae))}function Ae(K,ae){var Q=ae&7,Z=ae>>>3;return(K[Z]|(Q<=6?0:K[Z+1]<<8))>>>Q&3}function ne(K,ae){var Q=ae&7,Z=ae>>>3;return(K[Z]|(Q<=5?0:K[Z+1]<<8))>>>Q&7}function E(K,ae){var Q=ae&7,Z=ae>>>3;return(K[Z]|(Q<=4?0:K[Z+1]<<8))>>>Q&15}function A(K,ae){var Q=ae&7,Z=ae>>>3;return(K[Z]|(Q<=3?0:K[Z+1]<<8))>>>Q&31}function M(K,ae){var Q=ae&7,Z=ae>>>3;return(K[Z]|(Q<=1?0:K[Z+1]<<8))>>>Q&127}function me(K,ae,Q){var Z=ae&7,ie=ae>>>3,se=(1<<Q)-1,U=K[ie]>>>Z;return Q<8-Z||(U|=K[ie+1]<<8-Z,Q<16-Z)||(U|=K[ie+2]<<16-Z,Q<24-Z)||(U|=K[ie+3]<<24-Z),U&se}function z(K,ae,Q){var Z=ae&7,ie=ae>>>3;return Z<=5?K[ie]|=(Q&7)<<Z:(K[ie]|=Q<<Z&255,K[ie+1]=(Q&7)>>8-Z),ae+3}function V(K,ae,Q){var Z=ae&7,ie=ae>>>3;return Q=(Q&1)<<Z,K[ie]|=Q,ae+1}function fe(K,ae,Q){var Z=ae&7,ie=ae>>>3;return Q<<=Z,K[ie]|=Q&255,Q>>>=8,K[ie+1]=Q,ae+8}function I(K,ae,Q){var Z=ae&7,ie=ae>>>3;return Q<<=Z,K[ie]|=Q&255,Q>>>=8,K[ie+1]=Q&255,K[ie+2]=Q>>>8,ae+16}function X(K,ae){var Q=K.length,Z=2*Q>ae?2*Q:ae+5,ie=0;if(Q>=ae)return K;if(Ft){var se=OP(Z);if(K.copy)K.copy(se);else for(;ie<K.length;++ie)se[ie]=K[ie];return se}else if(ce){var U=new Uint8Array(Z);if(U.set)U.set(K);else for(;ie<Q;++ie)U[ie]=K[ie];return U}return K.length=Z,K}function re(K){for(var ae=new Array(K),Q=0;Q<K;++Q)ae[Q]=0;return ae}function J(K,ae,Q){var Z=1,ie=0,se=0,U=0,we=0,he=K.length,je=ce?new Uint16Array(32):re(32);for(se=0;se<32;++se)je[se]=0;for(se=he;se<Q;++se)K[se]=0;he=K.length;var Ne=ce?new Uint16Array(he):re(he);for(se=0;se<he;++se)je[ie=K[se]]++,Z<ie&&(Z=ie),Ne[se]=0;for(je[0]=0,se=1;se<=Z;++se)je[se+16]=we=we+je[se-1]<<1;for(se=0;se<he;++se)we=K[se],we!=0&&(Ne[se]=je[we+16]++);var De=0;for(se=0;se<he;++se)if(De=K[se],De!=0)for(we=ge(Ne[se],Z)>>Z-De,U=(1<<Z+4-De)-1;U>=0;--U)ae[we|U<<De]=De&15|se<<4;return Z}var ke=ce?new Uint16Array(512):re(512),Ke=ce?new Uint16Array(32):re(32);if(!ce){for(var xe=0;xe<512;++xe)ke[xe]=0;for(xe=0;xe<32;++xe)Ke[xe]=0}(function(){for(var K=[],ae=0;ae<32;ae++)K.push(5);J(K,Ke,32);var Q=[];for(ae=0;ae<=143;ae++)Q.push(8);for(;ae<=255;ae++)Q.push(9);for(;ae<=279;ae++)Q.push(7);for(;ae<=287;ae++)Q.push(8);J(Q,ke,288)})();var _e=function(){for(var ae=ce?new Uint8Array(32768):[],Q=0,Z=0;Q<be.length-1;++Q)for(;Z<be[Q+1];++Z)ae[Z]=Q;for(;Z<32768;++Z)ae[Z]=29;var ie=ce?new Uint8Array(259):[];for(Q=0,Z=0;Q<G.length-1;++Q)for(;Z<G[Q+1];++Z)ie[Z]=Q;function se(we,he){for(var je=0;je<we.length;){var Ne=Math.min(65535,we.length-je),De=je+Ne==we.length;for(he.write_shift(1,+De),he.write_shift(2,Ne),he.write_shift(2,~Ne&65535);Ne-- >0;)he[he.l++]=we[je++]}return he.l}function U(we,he){for(var je=0,Ne=0,De=ce?new Uint16Array(32768):[];Ne<we.length;){var Le=Math.min(65535,we.length-Ne);if(Le<10){for(je=z(he,je,+(Ne+Le==we.length)),je&7&&(je+=8-(je&7)),he.l=je/8|0,he.write_shift(2,Le),he.write_shift(2,~Le&65535);Le-- >0;)he[he.l++]=we[Ne++];je=he.l*8;continue}je=z(he,je,+(Ne+Le==we.length)+2);for(var Ve=0;Le-- >0;){var $e=we[Ne];Ve=(Ve<<5^$e)&32767;var qe=-1,it=0;if((qe=De[Ve])&&(qe|=Ne&-32768,qe>Ne&&(qe-=32768),qe<Ne))for(;we[qe+it]==we[Ne+it]&&it<250;)++it;if(it>2){$e=ie[it],$e<=22?je=fe(he,je,pe[$e+1]>>1)-1:(fe(he,je,3),je+=5,fe(he,je,pe[$e-23]>>5),je+=3);var bt=$e<8?0:$e-4>>2;bt>0&&(I(he,je,it-G[$e]),je+=bt),$e=ae[Ne-qe],je=fe(he,je,pe[$e]>>3),je-=3;var St=$e<4?0:$e-2>>1;St>0&&(I(he,je,Ne-qe-be[$e]),je+=St);for(var Lt=0;Lt<it;++Lt)De[Ve]=Ne&32767,Ve=(Ve<<5^we[Ne])&32767,++Ne;Le-=it-1}else $e<=143?$e=$e+48:je=V(he,je,1),je=fe(he,je,pe[$e]),De[Ve]=Ne&32767,++Ne}je=fe(he,je,0)-1}return he.l=(je+7)/8|0,he.l}return function(he,je){return he.length<8?se(he,je):U(he,je)}}();function Fe(K){var ae=Ce(50+Math.floor(K.length*1.1)),Q=_e(K,ae);return ae.slice(0,Q)}var Se=ce?new Uint16Array(32768):re(32768),Re=ce?new Uint16Array(32768):re(32768),Qe=ce?new Uint16Array(128):re(128),et=1,Je=1;function ut(K,ae){var Q=A(K,ae)+257;ae+=5;var Z=A(K,ae)+1;ae+=5;var ie=E(K,ae)+4;ae+=4;for(var se=0,U=ce?new Uint8Array(19):re(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,je=ce?new Uint8Array(8):re(8),Ne=ce?new Uint8Array(8):re(8),De=U.length,Le=0;Le<ie;++Le)U[R[Le]]=se=ne(K,ae),he<se&&(he=se),je[se]++,ae+=3;var Ve=0;for(je[0]=0,Le=1;Le<=he;++Le)Ne[Le]=Ve=Ve+je[Le-1]<<1;for(Le=0;Le<De;++Le)(Ve=U[Le])!=0&&(we[Le]=Ne[Ve]++);var $e=0;for(Le=0;Le<De;++Le)if($e=U[Le],$e!=0){Ve=pe[we[Le]]>>8-$e;for(var qe=(1<<7-$e)-1;qe>=0;--qe)Qe[Ve|qe<<$e]=$e&7|Le<<3}var it=[];for(he=1;it.length<Q+Z;)switch(Ve=Qe[M(K,ae)],ae+=Ve&7,Ve>>>=3){case 16:for(se=3+Ae(K,ae),ae+=2,Ve=it[it.length-1];se-- >0;)it.push(Ve);break;case 17:for(se=3+ne(K,ae),ae+=3;se-- >0;)it.push(0);break;case 18:for(se=11+M(K,ae),ae+=7;se-- >0;)it.push(0);break;default:it.push(Ve),he<Ve&&(he=Ve);break}var bt=it.slice(0,Q),St=it.slice(Q);for(Le=Q;Le<286;++Le)bt[Le]=0;for(Le=Z;Le<30;++Le)St[Le]=0;return et=J(bt,Se,286),Je=J(St,Re,30),ae}function ur(K,ae){if(K[0]==3&&!(K[1]&3))return[Fl(ae),2];for(var Q=0,Z=0,ie=OP(ae||1<<18),se=0,U=ie.length>>>0,we=0,he=0;!(Z&1);){if(Z=ne(K,Q),Q+=3,Z>>>1)Z>>1==1?(we=9,he=5):(Q=ut(K,Q),we=et,he=Je);else{Q&7&&(Q+=8-(Q&7));var je=K[Q>>>3]|K[(Q>>>3)+1]<<8;if(Q+=32,je>0)for(!ae&&U<se+je&&(ie=X(ie,se+je),U=ie.length);je-- >0;)ie[se++]=K[Q>>>3],Q+=8;continue}for(;;){!ae&&U<se+32767&&(ie=X(ie,se+32767),U=ie.length);var Ne=me(K,Q,we),De=Z>>>1==1?ke[Ne]:Se[Ne];if(Q+=De&15,De>>>=4,!(De>>>8&255))ie[se++]=De;else{if(De==256)break;De-=257;var Le=De<8?0:De-4>>2;Le>5&&(Le=0);var Ve=se+G[De];Le>0&&(Ve+=me(K,Q,Le),Q+=Le),Ne=me(K,Q,he),De=Z>>>1==1?Ke[Ne]:Re[Ne],Q+=De&15,De>>>=4;var $e=De<4?0:De-2>>1,qe=be[De];for($e>0&&(qe+=me(K,Q,$e),Q+=$e),!ae&&U<Ve&&(ie=X(ie,Ve+100),U=ie.length);se<Ve;)ie[se]=ie[se-qe],++se}}}return ae?[ie,Q+7>>>3]:[ie.slice(0,se),Q+7>>>3]}function Ee(K,ae){var Q=K.slice(K.l||0),Z=ur(Q,ae);return K.l+=Z[1],Z[0]}function Ue(K,ae){if(K)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function lt(K,ae){var Q=K;ba(Q,0);var Z=[],ie=[],se={FileIndex:Z,FullPaths:ie};S(se,{root:ae.root});for(var U=Q.length-4;(Q[U]!=80||Q[U+1]!=75||Q[U+2]!=5||Q[U+3]!=6)&&U>=0;)--U;Q.l=U+4,Q.l+=4;var we=Q.read_shift(2);Q.l+=6;var he=Q.read_shift(4);for(Q.l=he,U=0;U<we;++U){Q.l+=20;var je=Q.read_shift(4),Ne=Q.read_shift(4),De=Q.read_shift(2),Le=Q.read_shift(2),Ve=Q.read_shift(2);Q.l+=8;var $e=Q.read_shift(4),qe=l(Q.slice(Q.l+De,Q.l+De+Le));Q.l+=De+Le+Ve;var it=Q.l;Q.l=$e+4,jt(Q,je,Ne,se,qe),Q.l=it}return se}function jt(K,ae,Q,Z,ie){K.l+=2;var se=K.read_shift(2),U=K.read_shift(2),we=o(K);if(se&8257)throw new Error("Unsupported ZIP encryption");for(var he=K.read_shift(4),je=K.read_shift(4),Ne=K.read_shift(4),De=K.read_shift(2),Le=K.read_shift(2),Ve="",$e=0;$e<De;++$e)Ve+=String.fromCharCode(K[K.l++]);if(Le){var qe=l(K.slice(K.l,K.l+Le));(qe[21589]||{}).mt&&(we=qe[21589].mt),((ie||{})[21589]||{}).mt&&(we=ie[21589].mt)}K.l+=Le;var it=K.slice(K.l,K.l+je);switch(U){case 8:it=F(K,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+U)}var bt=!1;se&8&&(he=K.read_shift(4),he==134695760&&(he=K.read_shift(4),bt=!0),je=K.read_shift(4),Ne=K.read_shift(4)),je!=ae&&Ue(bt,"Bad compressed size: "+ae+" != "+je),Ne!=Q&&Ue(bt,"Bad uncompressed size: "+Q+" != "+Ne),Qo(Z,Ve,it,{unsafe:!0,mt:we})}function br(K,ae){var Q=ae||{},Z=[],ie=[],se=Ce(1),U=Q.compression?8:0,we=0,he=0,je=0,Ne=0,De=0,Le=K.FullPaths[0],Ve=Le,$e=K.FileIndex[0],qe=[],it=0;for(he=1;he<K.FullPaths.length;++he)if(Ve=K.FullPaths[he].slice(Le.length),$e=K.FileIndex[he],!(!$e.size||!$e.content||Ve=="Sh33tJ5")){var bt=Ne,St=Ce(Ve.length);for(je=0;je<Ve.length;++je)St.write_shift(1,Ve.charCodeAt(je)&127);St=St.slice(0,St.l),qe[De]=JW.buf($e.content,0);var Lt=$e.content;U==8&&(Lt=L(Lt)),se=Ce(30),se.write_shift(4,67324752),se.write_shift(2,20),se.write_shift(2,we),se.write_shift(2,U),$e.mt?s(se,$e.mt):se.write_shift(4,0),se.write_shift(-4,qe[De]),se.write_shift(4,Lt.length),se.write_shift(4,$e.content.length),se.write_shift(2,St.length),se.write_shift(2,0),Ne+=se.length,Z.push(se),Ne+=St.length,Z.push(St),Ne+=Lt.length,Z.push(Lt),se=Ce(46),se.write_shift(4,33639248),se.write_shift(2,0),se.write_shift(2,20),se.write_shift(2,we),se.write_shift(2,U),se.write_shift(4,0),se.write_shift(-4,qe[De]),se.write_shift(4,Lt.length),se.write_shift(4,$e.content.length),se.write_shift(2,St.length),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(4,0),se.write_shift(4,bt),it+=se.l,ie.push(se),it+=St.length,ie.push(St),++De}return se=Ce(22),se.write_shift(4,101010256),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,De),se.write_shift(2,De),se.write_shift(4,it),se.write_shift(4,Ne),se.write_shift(2,0),yn([yn(Z),yn(ie),se])}var Jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dt(K,ae){if(K.ctype)return K.ctype;var Q=K.name||"",Z=Q.match(/\.([^\.]+)$/);return Z&&Jt[Z[1]]||ae&&(Z=(Q=ae).match(/[\.\\]([^\.\\])+$/),Z&&Jt[Z[1]])?Jt[Z[1]]:"application/octet-stream"}function Ct(K){for(var ae=kh(K),Q=[],Z=0;Z<ae.length;Z+=76)Q.push(ae.slice(Z,Z+76));return Q.join(`\r
`)+`\r
`}function Bn(K){var ae=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var Ne=je.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],Z=ae.split(`\r
`),ie=0;ie<Z.length;++ie){var se=Z[ie];if(se.length==0){Q.push("");continue}for(var U=0;U<se.length;){var we=76,he=se.slice(U,U+we);he.charAt(we-1)=="="?we--:he.charAt(we-2)=="="?we-=2:he.charAt(we-3)=="="&&(we-=3),he=se.slice(U,U+we),U+=we,U<se.length&&(he+="="),Q.push(he)}}return Q.join(`\r
`)}function Ur(K){for(var ae=[],Q=0;Q<K.length;++Q){for(var Z=K[Q];Q<=K.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+K[++Q];ae.push(Z)}for(var ie=0;ie<ae.length;++ie)ae[ie]=ae[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(se){return String.fromCharCode(parseInt(se.slice(1),16))});return xi(ae.join(`\r
`))}function nt(K,ae,Q){for(var Z="",ie="",se="",U,we=0;we<10;++we){var he=ae[we];if(!he||he.match(/^\s*$/))break;var je=he.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":Z=je[2].trim();break;case"content-type":se=je[2].trim();break;case"content-transfer-encoding":ie=je[2].trim();break}}switch(++we,ie.toLowerCase()){case"base64":U=xi(ws(ae.slice(we).join("")));break;case"quoted-printable":U=Ur(ae.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Ne=Qo(K,Z.slice(Q.length),U,{unsafe:!0});se&&(Ne.ctype=se)}function _i(K,ae){if(q(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ae&&ae.root||"",Z=(Ft&&Buffer.isBuffer(K)?K.toString("binary"):q(K)).split(`\r
`),ie=0,se="";for(ie=0;ie<Z.length;++ie)if(se=Z[ie],!!/^Content-Location:/i.test(se)&&(se=se.slice(se.indexOf("file")),Q||(Q=se.slice(0,se.lastIndexOf("/")+1)),se.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),se.slice(0,Q.length)!=Q););var U=(Z[1]||"").match(/boundary="(.*?)"/);if(!U)throw new Error("MAD cannot find boundary");var we="--"+(U[1]||""),he=[],je=[],Ne={FileIndex:he,FullPaths:je};S(Ne);var De,Le=0;for(ie=0;ie<Z.length;++ie){var Ve=Z[ie];Ve!==we&&Ve!==we+"--"||(Le++&&nt(Ne,Z.slice(De,ie),Q),De=ie)}return Ne}function oc(K,ae){var Q=ae||{},Z=Q.boundary||"SheetJS";Z="------="+Z;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],se=K.FullPaths[0],U=se,we=K.FileIndex[0],he=1;he<K.FullPaths.length;++he)if(U=K.FullPaths[he].slice(se.length),we=K.FileIndex[he],!(!we.size||!we.content||U=="Sh33tJ5")){U=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(it){return"_x"+it.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(it){return"_u"+it.charCodeAt(0).toString(16)+"_"});for(var je=we.content,Ne=Ft&&Buffer.isBuffer(je)?je.toString("binary"):q(je),De=0,Le=Math.min(1024,Ne.length),Ve=0,$e=0;$e<=Le;++$e)(Ve=Ne.charCodeAt($e))>=32&&Ve<128&&++De;var qe=De>=Le*4/5;ie.push(Z),ie.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+U),ie.push("Content-Transfer-Encoding: "+(qe?"quoted-printable":"base64")),ie.push("Content-Type: "+dt(we,U)),ie.push(""),ie.push(qe?Bn(Ne):Ct(Ne))}return ie.push(Z+`--\r
`),ie.join(`\r
`)}function lc(K){var ae={};return S(ae,K),ae}function Qo(K,ae,Q,Z){var ie=Z&&Z.unsafe;ie||S(K);var se=!ie&&qt.find(K,ae);if(!se){var U=K.FullPaths[0];ae.slice(0,U.length)==U?U=ae:(U.slice(-1)!="/"&&(U+="/"),U=(U+ae).replace("//","/")),se={name:a(ae),type:2},K.FileIndex.push(se),K.FullPaths.push(U),ie||qt.utils.cfb_gc(K)}return se.content=Q,se.size=Q?Q.length:0,Z&&(Z.CLSID&&(se.clsid=Z.CLSID),Z.mt&&(se.mt=Z.mt),Z.ct&&(se.ct=Z.ct)),se}function C0(K,ae){S(K);var Q=qt.find(K,ae);if(Q){for(var Z=0;Z<K.FileIndex.length;++Z)if(K.FileIndex[Z]==Q)return K.FileIndex.splice(Z,1),K.FullPaths.splice(Z,1),!0}return!1}function D0(K,ae,Q){S(K);var Z=qt.find(K,ae);if(Z){for(var ie=0;ie<K.FileIndex.length;++ie)if(K.FileIndex[ie]==Z)return K.FileIndex[ie].name=a(Q),K.FullPaths[ie]=Q,!0}return!1}function M0(K){P(K,!0)}return t.find=O,t.read=N,t.parse=d,t.write=ue,t.writeFile=te,t.utils={cfb_new:lc,cfb_add:Qo,cfb_del:C0,cfb_mov:D0,cfb_gc:M0,ReadShift:Rf,CheckField:nR,prep_blob:ba,bconcat:yn,use_zlib:B,_deflateRaw:Fe,_inflateRaw:Ee,consts:Y},t}();function QW(e){return typeof e=="string"?Ox(e):Array.isArray(e)?SW(e):e}function w0(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Ox(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Sh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([QW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=b0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Sn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function $P(e,t){for(var r=[],n=Sn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function ej(e){for(var t=[],r=Sn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Mx(e){for(var t=[],r=Sn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function ZW(e){for(var t=[],r=Sn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var zm=new Date(1899,11,30,0,0,0);function ha(e,t){var r=e.getTime(),n=zm.getTime()+(e.getTimezoneOffset()-zm.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var BM=new Date,eG=zm.getTime()+(BM.getTimezoneOffset()-zm.getTimezoneOffset())*6e4,BP=BM.getTimezoneOffset();function UM(e){var t=new Date;return t.setTime(e*24*60*60*1e3+eG),t.getTimezoneOffset()!==BP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-BP)*6e4),t}var UP=new Date("2017-02-19T19:06:09.000Z"),KM=isNaN(UP.getFullYear())?new Date("2/19/17"):UP,tG=KM.getFullYear()==2017;function ea(e,t){var r=new Date(e);if(tG)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(KM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Rx(e,t){if(Ft&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function pa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=pa(e[r]));return t}function kr(e,t){for(var r="";r.length<t;)r+=e;return r}function fs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var rG=["january","february","march","april","may","june","july","august","september","october","november","december"];function jh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&rG.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ft?n=Es(r):n=NW(r),qt.utils.cfb_add(e,t,n)}qt.utils.cfb_add(e,t,r)}else e.file(t,r)}function tj(){return qt.utils.cfb_new()}var $r=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,nG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rj=ej(nG),nj=/[&<>'"]/g,aG=/[\u0000-\u0008\u000b-\u001f]/g;function Vt(e){var t=e+"";return t.replace(nj,function(r){return rj[r]}).replace(aG,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function KP(e){return Vt(e).replace(/ /g,"_x0020_")}var VM=/[\u0000-\u001f]/g;function iG(e){var t=e+"";return t.replace(nj,function(r){return rj[r]}).replace(/\n/g,"<br/>").replace(VM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function sG(e){var t=e+"";return t.replace(nj,function(r){return rj[r]}).replace(VM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function oG(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function lG(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ny(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function VP(e){var t=Fl(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function zP(e){return Es(e,"binary").toString("utf8")}var lp="foo bar baz",Mf=Ft&&(zP(lp)==Ny(lp)&&zP||VP(lp)==Ny(lp)&&VP)||Ny,Sh=Ft?function(e){return Es(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},cG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),zM=/(^\s|\s$|\n)/;function bn(e,t){return"<"+e+(t.match(zM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Nh(e){return Sn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ye(e,t,r){return"<"+e+(r!=null?Nh(r):"")+(t!=null?(t.match(zM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Ub(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function uG(e,t){switch(typeof e){case"string":var r=Ye("vt:lpwstr",Vt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ye((e|0)==e?"vt:i4":"vt:r8",Vt(String(e)));case"boolean":return Ye("vt:bool",e?"true":"false")}if(e instanceof Date)return Ye("vt:filetime",Ub(e));throw new Error("Unable to serialize "+e)}var sn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ed=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],wa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function dG(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function fG(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var HP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},WP=Ft?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Es(t)})):HP(e)}:HP,GP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(hf(e,a)));return n.join("").replace(Df,"")},aj=Ft?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Df,""):GP(e,t,r)}:GP,qP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},HM=Ft?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):qP(e,t,r)}:qP,YP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(yc(e,a)));return n.join("")},k0=Ft?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):YP(t,r,n)}:YP,WM=function(e,t){var r=ka(e,t);return r>0?k0(e,t+4,t+4+r-1):""},GM=WM,qM=function(e,t){var r=ka(e,t);return r>0?k0(e,t+4,t+4+r-1):""},YM=qM,XM=function(e,t){var r=2*ka(e,t);return r>0?k0(e,t+4,t+4+r-1):""},JM=XM,QM=function(t,r){var n=ka(t,r);return n>0?aj(t,r+4,r+4+n):""},ZM=QM,eR=function(e,t){var r=ka(e,t);return r>0?k0(e,t+4,t+4+r):""},tR=eR,rR=function(e,t){return dG(e,t)},Hm=rR,ij=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ft&&(GM=function(t,r){if(!Buffer.isBuffer(t))return WM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},YM=function(t,r){if(!Buffer.isBuffer(t))return qM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},JM=function(t,r){if(!Buffer.isBuffer(t))return XM(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},ZM=function(t,r){if(!Buffer.isBuffer(t))return QM(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},tR=function(t,r){if(!Buffer.isBuffer(t))return eR(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Hm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):rR(t,r)},ij=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var yc=function(e,t){return e[t]},hf=function(e,t){return e[t+1]*256+e[t]},hG=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ka=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},pG=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Rf(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Ft&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(hf(this,u)),u+=2;e*=2;break;case"utf8":r=k0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aj(this,this.l,this.l+e);break;case"wstr":return Rf.call(this,e,"dbcs");case"lpstr-ansi":r=GM(this,this.l),e=4+ka(this,this.l);break;case"lpstr-cp":r=YM(this,this.l),e=4+ka(this,this.l);break;case"lpwstr":r=JM(this,this.l),e=4+2*ka(this,this.l);break;case"lpp4":e=4+ka(this,this.l),r=ZM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ka(this,this.l),r=tR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=yc(this,this.l+e++))!==0;)s.push(ip(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=hf(this,this.l+e))!==0;)s.push(ip(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=yc(this,u),this.l=u+1,l=Rf.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ip(hf(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=yc(this,u),this.l=u+1,l=Rf.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ip(yc(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=yc(this,this.l),this.l++,n;case 2:return n=(t==="i"?hG:hf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?hl:pG)(this,this.l),this.l+=4,n):(a=ka(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Hm(this,this.l):a=Hm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=HM(this,this.l,e);break}}return this.l+=e,r}var mG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},gG=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},xG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function vG(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)xG(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,mG(this,t,this.l);break;case 8:if(n=8,r==="f"){fG(this,t,this.l);break}case 16:break;case-4:n=4,gG(this,t,this.l);break}return this.l+=n,this}function nR(e,t){var r=HM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ba(e,t){e.l=t,e.read_shift=Rf,e.chk=nR,e.write_shift=vG}function zi(e,t){e.l+=t}function Ce(e){var t=Fl(e);return ba(t,0),t}function da(){var e=[],t=Ft?256:2048,r=function(u){var d=Ce(u);return ba(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),yn(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Be(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=dZ[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&ij(r)&&e.push(r)}}function If(e,t,r){var n=pa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function XP(e,t,r){var n=pa(e);return n.s=If(n.s,t.s,r),n.e=If(n.e,t.s,r),n}function Lf(e,t){if(e.cRel&&e.c<0)for(e=pa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=pa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ht(e);return!e.cRel&&e.cRel!=null&&(r=wG(r)),!e.rRel&&e.rRel!=null&&(r=yG(r)),r}function Ty(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+In(e.s.c)+":"+(e.e.cRel?"":"$")+In(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+kn(e.s.r)+":"+(e.e.rRel?"":"$")+kn(e.e.r):Lf(e.s,t.biff)+":"+Lf(e.e,t.biff)}function sj(e){return parseInt(bG(e),10)-1}function kn(e){return""+(e+1)}function yG(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bG(e){return e.replace(/\$(\d+)$/,"$1")}function oj(e){for(var t=kG(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function In(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wG(e){return e.replace(/^([A-Z])/,"$$$1")}function kG(e){return e.replace(/^\$([A-Z])/,"$1")}function jG(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function on(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ht(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Aa(e){var t=e.indexOf(":");return t==-1?{s:on(e),e:on(e)}:{s:on(e.slice(0,t)),e:on(e.slice(t+1))}}function Rr(e,t){return typeof t>"u"||typeof t=="number"?Rr(e.s,e.e):(typeof e!="string"&&(e=Ht(e)),typeof t!="string"&&(t=Ht(t)),e==t?e:e+":"+t)}function cr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function JP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=$o(e.z,r?ha(t):t)}catch{}try{return e.w=$o((e.XF||{}).numFmtId||(r?14:0),r?ha(t):t)}catch{return""+t}}function ks(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?j0[e.v]||e.v:t==null?JP(e,e.v):JP(e,t))}function Jl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function aR(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?on(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=cr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=o+f,m=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Sr[14],n.cellDates?(p.t="d",p.w=$o(p.z,ha(p.v))):(p.t="n",p.v=ha(p.v),p.w=$o(p.z,p.v))):p.t="s";if(a)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var x=Ht({c:m,r:g});s[x]&&s[x].z&&(p.z=s[x].z),s[x]=p}}}return u.s.c<1e7&&(s["!ref"]=Rr(u)),s}function td(e,t){return aR(null,e,t)}function SG(e){return e.read_shift(4,"i")}function ji(e,t){return t||(t=Ce(4)),t.write_shift(4,e),t}function Ln(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ln(e,t){var r=!1;return t==null&&(r=!0,t=Ce(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function NG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function TG(e,t){return t||(t=Ce(4)),t.write_shift(2,0),t.write_shift(2,0),t}function lj(e,t){var r=e.l,n=e.read_shift(1),a=Ln(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(NG(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function PG(e,t){var r=!1;return t==null&&(r=!0,t=Ce(15+4*e.t.length)),t.write_shift(1,0),ln(e.t,t),r?t.slice(0,t.l):t}var _G=lj;function EG(e,t){var r=!1;return t==null&&(r=!0,t=Ce(23+4*e.t.length)),t.write_shift(1,1),ln(e.t,t),t.write_shift(4,1),TG({},t),r?t.slice(0,t.l):t}function ti(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ql(e,t){return t==null&&(t=Ce(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Zl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ec(e,t){return t==null&&(t=Ce(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var AG=Ln,iR=ln;function cj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Wm(e,t){var r=!1;return t==null&&(r=!0,t=Ce(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var OG=Ln,Kb=cj,uj=Wm;function sR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Hm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):hl(t,0)>>2;return r?a/100:a}function oR(e,t){t==null&&(t=Ce(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function lR(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function CG(e,t){return t||(t=Ce(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var tc=lR,rd=CG;function nd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function $l(e,t){return(t||Ce(8)).write_shift(8,e,"f")}function DG(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=KG[a];u&&(t.rgb=l_(u));break;case 2:t.rgb=l_([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Gm(e,t){if(t||(t=Ce(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function MG(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function RG(e,t){t||(t=Ce(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var cR=2,xa=3,cp=11,qm=19,up=64,IG=65,LG=71,FG=4108,$G=4126,vn=80,QP={1:{n:"CodePage",t:cR},2:{n:"Category",t:vn},3:{n:"PresentationFormat",t:vn},4:{n:"ByteCount",t:xa},5:{n:"LineCount",t:xa},6:{n:"ParagraphCount",t:xa},7:{n:"SlideCount",t:xa},8:{n:"NoteCount",t:xa},9:{n:"HiddenCount",t:xa},10:{n:"MultimediaClipCount",t:xa},11:{n:"ScaleCrop",t:cp},12:{n:"HeadingPairs",t:FG},13:{n:"TitlesOfParts",t:$G},14:{n:"Manager",t:vn},15:{n:"Company",t:vn},16:{n:"LinksUpToDate",t:cp},17:{n:"CharacterCount",t:xa},19:{n:"SharedDoc",t:cp},22:{n:"HyperlinksChanged",t:cp},23:{n:"AppVersion",t:xa,p:"version"},24:{n:"DigSig",t:IG},26:{n:"ContentType",t:vn},27:{n:"ContentStatus",t:vn},28:{n:"Language",t:vn},29:{n:"Version",t:vn},255:{},2147483648:{n:"Locale",t:qm},2147483651:{n:"Behavior",t:qm},1919054434:{}},ZP={1:{n:"CodePage",t:cR},2:{n:"Title",t:vn},3:{n:"Subject",t:vn},4:{n:"Author",t:vn},5:{n:"Keywords",t:vn},6:{n:"Comments",t:vn},7:{n:"Template",t:vn},8:{n:"LastAuthor",t:vn},9:{n:"RevNumber",t:vn},10:{n:"EditTime",t:up},11:{n:"LastPrinted",t:up},12:{n:"CreatedDate",t:up},13:{n:"ModifiedDate",t:up},14:{n:"PageCount",t:xa},15:{n:"WordCount",t:xa},16:{n:"CharCount",t:xa},17:{n:"Thumbnail",t:LG},18:{n:"Application",t:vn},19:{n:"DocSecurity",t:xa},255:{},2147483648:{n:"Locale",t:qm},2147483651:{n:"Behavior",t:qm},1919054434:{}};function BG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var UG=BG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),KG=pa(UG),j0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},VG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},dp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function uR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function dR(e,t){var r=ZW(VG),n=[],a;n[n.length]=$r,n[n.length]=Ye("Types",null,{xmlns:sn.CT,"xmlns:xsd":sn.xsd,"xmlns:xsi":sn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ye("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Ye("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:dp[c][t.bookType]||dp[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ye("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:dp[c][t.bookType]||dp[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ye("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function fR(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Zc(e){var t=[$r,Ye("Relationships",null,{xmlns:sn.RELS})];return Sn(e["!id"]).forEach(function(r){t[t.length]=Ye("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Kt(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Mt.HLINK,Mt.XPATH,Mt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function zG(e){var t=[$r];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function e_(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function HG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function WG(e){var t=[$r];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(e_(e[r][0],e[r][1])),t.push(HG("",e[r][0]));return t.push(e_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function hR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+$m.version+"</meta:generator></office:meta></office:document-meta>"}var El=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Py(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Vt(t),n[n.length]=r?Ye(e,t,r):bn(e,t))}function pR(e,t){var r=t||{},n=[$r,Ye("cp:coreProperties",null,{"xmlns:cp":sn.CORE_PROPS,"xmlns:dc":sn.dc,"xmlns:dcterms":sn.dcterms,"xmlns:dcmitype":sn.dcmitype,"xmlns:xsi":sn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Py("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Ub(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Py("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Ub(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=El.length;++s){var o=El[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Py(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var eu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],mR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function gR(e){var t=[],r=Ye;return e||(e={}),e.Application="SheetJS",t[t.length]=$r,t[t.length]=Ye("Properties",null,{xmlns:sn.EXT_PROPS,"xmlns:vt":sn.vt}),eu.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Vt(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Vt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function xR(e){var t=[$r,Ye("Properties",null,{xmlns:sn.CUST_PROPS,"xmlns:vt":sn.vt})];if(!e)return t.join("");var r=1;return Sn(e).forEach(function(a){++r,t[t.length]=Ye("property",uG(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Vt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var t_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function GG(e,t){var r=[];return Sn(t_).map(function(n){for(var a=0;a<El.length;++a)if(El[a][1]==n)return El[a];for(a=0;a<eu.length;++a)if(eu[a][1]==n)return eu[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(bn(t_[n[1]]||n[1],a))}}),Ye("DocumentProperties",r.join(""),{xmlns:wa.o})}function qG(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Sn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<El.length;++o)if(s==El[o][1])return;for(o=0;o<eu.length;++o)if(s==eu[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Ye(KP(s),l,{"dt:dt":c}))}}),t&&Sn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Ye(KP(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+wa.o+'">'+a.join("")+"</"+n+">"}function YG(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=Ce(8);return o.write_shift(4,n),o.write_shift(4,a),o}function r_(e,t){var r=Ce(4),n=Ce(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ce(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=YG(t);break;case 31:case 80:for(n=Ce(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return yn([r,n])}var vR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function XG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function n_(e,t,r){var n=Ce(8),a=[],s=[],o=8,l=0,c=Ce(8),u=Ce(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),o+=8+c.length,!t){u=Ce(8),u.write_shift(4,0),a.unshift(u);var d=[Ce(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ce(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=yn(d),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(vR.indexOf(e[l][0])>-1||mR.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=r_(g.t,h)}else{var x=XG(h);x==-1&&(x=31,h=String(h)),c=r_(x,h)}s.push(c),u=Ce(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var b=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,b),b+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),yn([n].concat(a).concat(s))}function a_(e,t,r,n,a,s){var o=Ce(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,qt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=n_(e,r,n);if(l.push(c),a){var u=n_(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(u)}return yn(l)}function JG(e,t){t||(t=Ce(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function QG(e,t){return e.read_shift(t)===1}function Yn(e,t){return t||(t=Ce(2)),t.write_shift(2,+!!e),t}function yR(e){return e.read_shift(2,"u")}function $a(e,t){return t||(t=Ce(2)),t.write_shift(2,e),t}function bR(e,t,r){return r||(r=Ce(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function wR(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function ZG(e){var t=e.t||"",r=Ce(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ce(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return yn(a)}function eq(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function tq(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):eq(e,n,r)}function rq(e,t,r){if(r.biff>5)return tq(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function kR(e,t,r){return r||(r=Ce(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function i_(e,t){t||(t=Ce(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function nq(e){var t=Ce(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),i_(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&i_(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Bl(e,t,r,n){return n||(n=Ce(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function aq(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function iq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function jR(e,t){return t||(t=Ce(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function dj(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ce(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function sq(e,t){var r=!t||t.biff==8,n=Ce(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function oq(e,t){var r=!t||t.biff>=8?2:1,n=Ce(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function lq(e,t){var r=Ce(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=ZG(e[a]);var s=yn([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function cq(){var e=Ce(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function uq(e){var t=Ce(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function dq(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=Ce(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function fq(e,t,r,n){var a=Ce(10);return Bl(e,t,n,a),a.write_shift(4,r),a}function hq(e,t,r,n,a){var s=!a||a.biff==8,o=Ce(8+ +s+(1+s)*r.length);return Bl(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function pq(e,t,r,n){var a=r&&r.biff==5;n||(n=Ce(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function mq(e,t){var r=t.biff==8||!t.biff?4:2,n=Ce(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function s_(e,t,r,n){var a=r&&r.biff==5;n||(n=Ce(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function gq(e){var t=Ce(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function xq(e,t,r,n,a,s){var o=Ce(8);return Bl(e,t,n,o),bR(r,s,o),o}function vq(e,t,r,n){var a=Ce(14);return Bl(e,t,n,a),$l(r,a),a}function yq(e,t,r){if(r.biff<8)return bq(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(aq(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function bq(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=wR(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function wq(e){var t=Ce(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)jR(e[r],t);return t}function kq(e){var t=Ce(24),r=on(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return yn([t,nq(e[1])])}function jq(e){var t=e[1].Tooltip,r=Ce(10+2*(t.length+1));r.write_shift(2,2048);var n=on(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Sq(e){return e||(e=Ce(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Nq(e,t,r){if(!r.cellStyles)return zi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Tq(e,t){var r=Ce(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Pq(e){for(var t=Ce(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function _q(e,t,r){var n=Ce(15);return N0(n,e,t),n.write_shift(8,r,"f"),n}function Eq(e,t,r){var n=Ce(9);return N0(n,e,t),n.write_shift(2,r),n}var Aq=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ej({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Fl(1);switch(c.type){case"base64":d=xi(ws(l));break;case"binary":d=xi(l);break;case"buffer":case"array":d=l;break}ba(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var b=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var v=[],w={},k=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=g?32:11;d.l<k&&d[d.l]!=13;)switch(w={},w.name=Bm.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&v.push(w),f!=2&&(d.l+=g?13:14),w.type){case"B":(!p||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,T=0;for(u[0]=[],T=0;T!=v.length;++T)u[0][T]=v[T].name;for(;m-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++S]=[],T=0,T=0;T!=v.length;++T){var P=d.slice(d.l,d.l+v[T].len);d.l+=v[T].len,ba(P,0);var _=Bm.utils.decode(y,P);switch(v[T].type){case"C":_.trim().length&&(u[S][T]=_.replace(/\s+$/,""));break;case"D":_.length===8?u[S][T]=new Date(+_.slice(0,4),+_.slice(4,6)-1,+_.slice(6,8)):u[S][T]=_;break;case"F":u[S][T]=parseFloat(_.trim());break;case"+":case"I":u[S][T]=g?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(_.trim().toUpperCase()){case"Y":case"T":u[S][T]=!0;break;case"N":case"F":u[S][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][T]="##MEMO##"+(g?parseInt(_.trim(),10):P.read_shift(4));break;case"N":_=_.replace(/\u0000/g,"").trim(),_&&_!="."&&(u[S][T]=+_||0);break;case"@":u[S][T]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[S][T]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[S][T]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][T]=-P.read_shift(-8,"f");break;case"B":if(p&&v[T].len==8){u[S][T]=P.read_shift(8,"f");break}case"G":case"P":P.l+=v[T].len;break;case"0":if(v[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[T].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=v,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=td(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Jl(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&wh(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=da(),f=Zm(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=l["!cols"]||[],m=0,x=0,b=0,y=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++b;continue}if(h[m]!=null){if(++b,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var v=cr(l["!ref"]),w=[],k=[],N=[];for(m=0;m<=v.e.c-v.s.c;++m){var S="",T="",P=0,_=[];for(x=0;x<p.length;++x)p[x][m]!=null&&_.push(p[x][m]);if(_.length==0||h[m]==null){w[m]="?";continue}for(x=0;x<_.length;++x){switch(typeof _[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=_[x]instanceof Date?"D":"C";break;default:T="C"}P=Math.max(P,String(_[x]).length),S=S&&S!=T?"C":T}P>250&&(P=250),T=((g[m]||{}).DBF||{}).type,T=="C"&&g[m].DBF.len>P&&(P=g[m].DBF.len),S=="B"&&T=="N"&&(S="N",N[m]=g[m].DBF.dec,P=g[m].DBF.len),k[m]=S=="C"||T=="N"?P:s[S]||0,y+=k[m],w[m]=S}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*b),O.write_shift(2,y),m=0;m<4;++m)O.write_shift(4,0);for(O.write_shift(4,0|(+t[NM]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var C=d.next(32),D=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,D,"sbcs"),C.write_shift(1,w[m]=="?"?"C":w[m],"sbcs"),C.write_shift(4,x),C.write_shift(1,k[m]||s[w[m]]||0),C.write_shift(1,N[m]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),x+=k[m]||s[w[m]]||0}var H=d.next(264);for(H.write_shift(4,13),m=0;m<65;++m)H.write_shift(4,0);for(m=0;m<p.length;++m){var ee=d.next(y);for(ee.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(w[x]){case"L":ee.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":ee.write_shift(8,p[m][x]||0,"f");break;case"N":var W="0";for(typeof p[m][x]=="number"&&(W=p[m][x].toFixed(N[x]||0)),b=0;b<k[x]-W.length;++b)ee.write_shift(1,32);ee.write_shift(1,W,"sbcs");break;case"D":p[m][x]?(ee.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(p[m][x]!=null?p[m][x]:"").slice(0,k[x]);for(ee.write_shift(1,Y,"sbcs"),b=0;b<k[x]-Y.length;++b)ee.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Oq=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Sn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?AP(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:AP(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(ws(h),p);case"binary":return s(h,p);case"buffer":return s(Ft&&Buffer.isBuffer(h)?h.toString("binary"):b0(h),p);case"array":return s(Rx(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var g=h.split(/[\n\r]+/),m=-1,x=-1,b=0,y=0,v=[],w=[],k=null,N={},S=[],T=[],P=[],_=0,O;for(+p.codepage>=0&&wh(+p.codepage);b!==g.length;++b){_=0;var C=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=C.replace(/;;/g,"\0").split(";").map(function(R){return R.replace(/\u0000/g,";")}),H=D[0],ee;if(C.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&w.push(C.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,Y=!1,te=!1,q=!1,ue=-1,le=-1;for(y=1;y<D.length;++y)switch(D[y].charAt(0)){case"A":break;case"X":x=parseInt(D[y].slice(1))-1,Y=!0;break;case"Y":for(m=parseInt(D[y].slice(1))-1,Y||(x=0),O=v.length;O<=m;++O)v[O]=[];break;case"K":ee=D[y].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(fs(ee))?isNaN(jh(ee).getDate())||(ee=ea(ee)):(ee=fs(ee),k!==null&&LM(k)&&(ee=UM(ee))),W=!0;break;case"E":q=!0;var B=EY(D[y].slice(1),{r:m,c:x});v[m][x]=[v[m][x],B];break;case"S":te=!0,v[m][x]=[v[m][x],"S5S"];break;case"G":break;case"R":ue=parseInt(D[y].slice(1))-1;break;case"C":le=parseInt(D[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}if(W&&(v[m][x]&&v[m][x].length==2?v[m][x][0]=ee:v[m][x]=ee,k=null),te){if(q)throw new Error("SYLK shared formula cannot have own formula");var F=ue>-1&&v[ue][le];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");v[m][x][1]=AY(F[1],{r:m-ue,c:x-le})}break;case"F":var L=0;for(y=1;y<D.length;++y)switch(D[y].charAt(0)){case"X":x=parseInt(D[y].slice(1))-1,++L;break;case"Y":for(m=parseInt(D[y].slice(1))-1,O=v.length;O<=m;++O)v[O]=[];break;case"M":_=parseInt(D[y].slice(1))/20;break;case"F":break;case"G":break;case"P":k=w[parseInt(D[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=D[y].slice(1).split(" "),O=parseInt(P[0],10);O<=parseInt(P[1],10);++O)_=parseInt(P[2],10),T[O-1]=_===0?{hidden:!0}:{wch:_},fj(T[O-1]);break;case"C":x=parseInt(D[y].slice(1))-1,T[x]||(T[x]={});break;case"R":m=parseInt(D[y].slice(1))-1,S[m]||(S[m]={}),_>0?(S[m].hpt=_,S[m].hpx=_R(_)):_===0&&(S[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}L<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}}return S.length>0&&(N["!rows"]=S),T.length>0&&(N["!cols"]=T),p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),[v,N]}function o(h,p){var g=a(h,p),m=g[0],x=g[1],b=td(m,p);return Sn(x).forEach(function(y){b[y]=x[y]}),b}function l(h,p){return Jl(o(h,p),p)}function c(h,p,g,m){var x="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+pj(h.f,{r:g,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Ym(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Xm(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Jm(g.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],x=cr(h["!ref"]),b,y=Array.isArray(h),v=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var k=x.s.c;k<=x.e.c;++k){var N=Ht({r:w,c:k});b=y?(h[w]||[])[k]:h[N],!(!b||b.v==null&&(!b.f||b.F))&&m.push(c(b,h,w,k))}return g.join(v)+v+m.join(v)+v+"E"+v}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),Cq=function(){function e(s,o){switch(o.type){case"base64":return t(ws(s),o);case"binary":return t(s,o);case"buffer":return t(Ft&&Buffer.isBuffer(s)?s.toString("binary"):b0(s),o);case"array":return t(Rx(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(fs(g))?isNaN(jh(g).getDate())?f[c][u]=g:f[c][u]=ea(g):f[c][u]=fs(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return td(e(s,o),o)}function n(s,o){return Jl(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=cr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=Ht({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=$o(f.z||Sr[14],ha(ea(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,y=u.join(b);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),SR=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,x=0,b=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var v=on(y[1]);if(b.length<=v.r)for(g=b.length;g<=v.r;++g)b[g]||(b[g]=[]);switch(g=v.r,m=v.c,y[2]){case"t":b[g][m]=e(y[3]);break;case"v":b[g][m]=+y[3];break;case"vtf":var w=y[y.length-1];case"vtc":switch(y[3]){case"nl":b[g][m]=!!+y[4];break;default:b[g][m]=+y[4];break}y[2]=="vtf"&&(b[g][m]=[b[g][m],w])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return td(r(f,h),h)}function a(f,h){return Jl(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",x=Aa(f["!ref"]),b=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var v=x.s.c;v<=x.e.c;++v)if(m=Ht({r:y,c:v}),g=b?(f[y]||[])[v]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var w=ha(ea(g.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=g.w||$o(g.z||Sr[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Dq=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(fs(d))?isNaN(jh(d).getDate())?f[h][p]=d:f[h][p]=ea(d):f[h][p]=fs(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var x=10,b=0,y=0;y<=m;++y)b=g[y].indexOf(" "),b==-1?b=g[y].length:b++,x=Math.max(x,b);for(y=0;y<=m;++y){p[y]=[];var v=0;for(e(g[y].slice(0,x).trim(),p,y,v,h),v=1;v<=(g[y].length-x)/10+1;++v)e(g[y].slice(x+(v-1)*10,x+v*10).trim(),p,y,v,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,b=0,y=0,v=0,w=0,k=p.charCodeAt(0),N=!1,S=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=h.dateNF!=null?YW(h.dateNF):null;function _(){var O=d.slice(v,w),C={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)C.t="z";else if(h.raw)C.t="s",C.v=O;else if(O.trim().length===0)C.t="s",C.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(C.t="s",C.v=O.slice(2,-1).replace(/""/g,'"')):OY(O)?(C.t="n",C.f=O.slice(1)):(C.t="s",C.v=O);else if(O=="TRUE")C.t="b",C.v=!0;else if(O=="FALSE")C.t="b",C.v=!1;else if(!isNaN(y=fs(O)))C.t="n",h.cellText!==!1&&(C.w=O),C.v=y;else if(!isNaN(jh(O).getDate())||P&&O.match(P)){C.z=h.dateNF||Sr[14];var D=0;P&&O.match(P)&&(O=XW(O,h.dateNF,O.match(P)||[]),D=1),h.cellDates?(C.t="d",C.v=ea(O,D)):(C.t="n",C.v=ha(ea(O,D))),h.cellText!==!1&&(C.w=$o(C.z,C.v instanceof Date?ha(C.v):C.v)),h.cellNF||delete C.z}else C.t="s",C.v=O;if(C.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][b]=C):g[Ht({c:b,r:x})]=C),v=w+1,T=d.charCodeAt(v),m.e.c<b&&(m.e.c=b),m.e.r<x&&(m.e.r=x),S==k)++b;else if(b=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;w<d.length;++w)switch(S=d.charCodeAt(w)){case 34:T===34&&(N=!N);break;case k:case 10:case 13:if(!N&&_())break e;break}return w-v>0&&_(),g["!ref"]=Rr(m),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):td(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:HZ(d,f);switch(f.type){case"base64":h=ws(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Bm<"u"||(h=Ft&&Buffer.isBuffer(d)?d.toString("binary"):b0(d));break;case"array":h=Rx(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Mf(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Mf(h):f.type=="binary"&&typeof Bm<"u",h.slice(0,19)=="socialcalc:version:"?SR.to_sheet(f.type=="string"?h:Mf(h),f):o(h,f)}function c(d,f){return Jl(l(d,f),f)}function u(d){for(var f=[],h=cr(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],b=h.s.c;b<=h.e.c;++b){var y=Ht({r:m,c:b});if(p=g?(d[m]||[])[b]:d[y],!p||p.v==null){x.push("          ");continue}for(var v=(p.w||(ks(p),p.w)||"").slice(0,10);v.length<10;)v+=" ";x.push(v+(b===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),o_=function(){function e(B,F,L){if(B){ba(B,B.l||0);for(var R=L.Enum||ue;B.l<B.length;){var G=B.read_shift(2),be=R[G]||R[65535],Te=B.read_shift(2),ce=B.l+Te,pe=be.f&&be.f(B,Te,L);if(B.l=ce,F(pe,be,G))return}}}function t(B,F){switch(F.type){case"base64":return r(xi(ws(B)),F);case"binary":return r(xi(B),F);case"buffer":case"array":return r(B,F)}throw"Unsupported type "+F.type}function r(B,F){if(!B)return B;var L=F||{},R=L.dense?[]:{},G="Sheet1",be="",Te=0,ce={},pe=[],Pe=[],ge={s:{r:0,c:0},e:{r:0,c:0}},Ae=L.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)L.Enum=ue,e(B,function(M,me,z){switch(z){case 0:L.vers=M,M>=4096&&(L.qpro=!0);break;case 6:ge=M;break;case 204:M&&(be=M);break;case 222:be=M;break;case 15:case 51:L.qpro||(M[1].v=M[1].v.slice(1));case 13:case 14:case 16:z==14&&(M[2]&112)==112&&(M[2]&15)>1&&(M[2]&15)<15&&(M[1].z=L.dateNF||Sr[14],L.cellDates&&(M[1].t="d",M[1].v=UM(M[1].v))),L.qpro&&M[3]>Te&&(R["!ref"]=Rr(ge),ce[G]=R,pe.push(G),R=L.dense?[]:{},ge={s:{r:0,c:0},e:{r:0,c:0}},Te=M[3],G=be||"Sheet"+(Te+1),be="");var V=L.dense?(R[M[0].r]||[])[M[0].c]:R[Ht(M[0])];if(V){V.t=M[1].t,V.v=M[1].v,M[1].z!=null&&(V.z=M[1].z),M[1].f!=null&&(V.f=M[1].f);break}L.dense?(R[M[0].r]||(R[M[0].r]=[]),R[M[0].r][M[0].c]=M[1]):R[Ht(M[0])]=M[1];break}},L);else if(B[2]==26||B[2]==14)L.Enum=le,B[2]==14&&(L.qpro=!0,B.l=0),e(B,function(M,me,z){switch(z){case 204:G=M;break;case 22:M[1].v=M[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(M[3]>Te&&(R["!ref"]=Rr(ge),ce[G]=R,pe.push(G),R=L.dense?[]:{},ge={s:{r:0,c:0},e:{r:0,c:0}},Te=M[3],G="Sheet"+(Te+1)),Ae>0&&M[0].r>=Ae)break;L.dense?(R[M[0].r]||(R[M[0].r]=[]),R[M[0].r][M[0].c]=M[1]):R[Ht(M[0])]=M[1],ge.e.c<M[0].c&&(ge.e.c=M[0].c),ge.e.r<M[0].r&&(ge.e.r=M[0].r);break;case 27:M[14e3]&&(Pe[M[14e3][0]]=M[14e3][1]);break;case 1537:Pe[M[0]]=M[1],M[0]==Te&&(G=M[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(R["!ref"]=Rr(ge),ce[be||G]=R,pe.push(be||G),!Pe.length)return{SheetNames:pe,Sheets:ce};for(var ne={},E=[],A=0;A<Pe.length;++A)ce[pe[A]]?(E.push(Pe[A]||pe[A]),ne[Pe[A]]=ce[Pe[A]]||ce[pe[A]]):(E.push(Pe[A]),ne[Pe[A]]={"!ref":"A1"});return{SheetNames:E,Sheets:ne}}function n(B,F){var L=F||{};if(+L.codepage>=0&&wh(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var R=da(),G=cr(B["!ref"]),be=Array.isArray(B),Te=[];Xe(R,0,s(1030)),Xe(R,6,c(G));for(var ce=Math.min(G.e.r,8191),pe=G.s.r;pe<=ce;++pe)for(var Pe=kn(pe),ge=G.s.c;ge<=G.e.c;++ge){pe===G.s.r&&(Te[ge]=In(ge));var Ae=Te[ge]+Pe,ne=be?(B[pe]||[])[ge]:B[Ae];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?Xe(R,13,p(pe,ge,ne.v)):Xe(R,14,m(pe,ge,ne.v));else{var E=ks(ne);Xe(R,15,f(pe,ge,E.slice(0,239)))}}return Xe(R,1),R.end()}function a(B,F){var L=F||{};if(+L.codepage>=0&&wh(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var R=da();Xe(R,0,o(B));for(var G=0,be=0;G<B.SheetNames.length;++G)(B.Sheets[B.SheetNames[G]]||{})["!ref"]&&Xe(R,27,q(B.SheetNames[G],be++));var Te=0;for(G=0;G<B.SheetNames.length;++G){var ce=B.Sheets[B.SheetNames[G]];if(!(!ce||!ce["!ref"])){for(var pe=cr(ce["!ref"]),Pe=Array.isArray(ce),ge=[],Ae=Math.min(pe.e.r,8191),ne=pe.s.r;ne<=Ae;++ne)for(var E=kn(ne),A=pe.s.c;A<=pe.e.c;++A){ne===pe.s.r&&(ge[A]=In(A));var M=ge[A]+E,me=Pe?(ce[ne]||[])[A]:ce[M];if(!(!me||me.t=="z"))if(me.t=="n")Xe(R,23,_(ne,A,Te,me.v));else{var z=ks(me);Xe(R,22,S(ne,A,Te,z.slice(0,239)))}}++Te}}return Xe(R,1),R.end()}function s(B){var F=Ce(2);return F.write_shift(2,B),F}function o(B){var F=Ce(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var L=0,R=0,G=0,be=0;be<B.SheetNames.length;++be){var Te=B.SheetNames[be],ce=B.Sheets[Te];if(!(!ce||!ce["!ref"])){++G;var pe=Aa(ce["!ref"]);L<pe.e.r&&(L=pe.e.r),R<pe.e.c&&(R=pe.e.c)}}return L>8191&&(L=8191),F.write_shift(2,L),F.write_shift(1,G),F.write_shift(1,R),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function l(B,F,L){var R={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&L.qpro?(R.s.c=B.read_shift(1),B.l++,R.s.r=B.read_shift(2),R.e.c=B.read_shift(1),B.l++,R.e.r=B.read_shift(2),R):(R.s.c=B.read_shift(2),R.s.r=B.read_shift(2),F==12&&L.qpro&&(B.l+=2),R.e.c=B.read_shift(2),R.e.r=B.read_shift(2),F==12&&L.qpro&&(B.l+=2),R.s.c==65535&&(R.s.c=R.e.c=R.s.r=R.e.r=0),R)}function c(B){var F=Ce(8);return F.write_shift(2,B.s.c),F.write_shift(2,B.s.r),F.write_shift(2,B.e.c),F.write_shift(2,B.e.r),F}function u(B,F,L){var R=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(R[0].c=B.read_shift(1),R[3]=B.read_shift(1),R[0].r=B.read_shift(2),B.l+=2):(R[2]=B.read_shift(1),R[0].c=B.read_shift(2),R[0].r=B.read_shift(2)),R}function d(B,F,L){var R=B.l+F,G=u(B,F,L);if(G[1].t="s",L.vers==20768){B.l++;var be=B.read_shift(1);return G[1].v=B.read_shift(be,"utf8"),G}return L.qpro&&B.l++,G[1].v=B.read_shift(R-B.l,"cstr"),G}function f(B,F,L){var R=Ce(7+L.length);R.write_shift(1,255),R.write_shift(2,F),R.write_shift(2,B),R.write_shift(1,39);for(var G=0;G<R.length;++G){var be=L.charCodeAt(G);R.write_shift(1,be>=128?95:be)}return R.write_shift(1,0),R}function h(B,F,L){var R=u(B,F,L);return R[1].v=B.read_shift(2,"i"),R}function p(B,F,L){var R=Ce(7);return R.write_shift(1,255),R.write_shift(2,F),R.write_shift(2,B),R.write_shift(2,L,"i"),R}function g(B,F,L){var R=u(B,F,L);return R[1].v=B.read_shift(8,"f"),R}function m(B,F,L){var R=Ce(13);return R.write_shift(1,255),R.write_shift(2,F),R.write_shift(2,B),R.write_shift(8,L,"f"),R}function x(B,F,L){var R=B.l+F,G=u(B,F,L);if(G[1].v=B.read_shift(8,"f"),L.qpro)B.l=R;else{var be=B.read_shift(2);w(B.slice(B.l,B.l+be),G),B.l+=be}return G}function b(B,F,L){var R=F&32768;return F&=-32769,F=(R?B:0)+(F>=8192?F-16384:F),(R?"":"$")+(L?In(F):kn(F))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(B,F){ba(B,0);for(var L=[],R=0,G="",be="",Te="",ce="";B.l<B.length;){var pe=B[B.l++];switch(pe){case 0:L.push(B.read_shift(8,"f"));break;case 1:be=b(F[0].c,B.read_shift(2),!0),G=b(F[0].r,B.read_shift(2),!1),L.push(be+G);break;case 2:{var Pe=b(F[0].c,B.read_shift(2),!0),ge=b(F[0].r,B.read_shift(2),!1);be=b(F[0].c,B.read_shift(2),!0),G=b(F[0].r,B.read_shift(2),!1),L.push(Pe+ge+":"+be+G)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(B.read_shift(2));break;case 6:{for(var Ae="";pe=B[B.l++];)Ae+=String.fromCharCode(pe);L.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:ce=L.pop(),Te=L.pop(),L.push(["AND","OR"][pe-20]+"("+Te+","+ce+")");break;default:if(pe<32&&v[pe])ce=L.pop(),Te=L.pop(),L.push(Te+v[pe]+ce);else if(y[pe]){if(R=y[pe][1],R==69&&(R=B[B.l++]),R>L.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+L.join("|")+"|");return}var ne=L.slice(-R);L.length-=R,L.push(y[pe][0]+"("+ne.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}L.length==1?F[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function k(B){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=B.read_shift(2),F[3]=B[B.l++],F[0].c=B[B.l++],F}function N(B,F){var L=k(B);return L[1].t="s",L[1].v=B.read_shift(F-4,"cstr"),L}function S(B,F,L,R){var G=Ce(6+R.length);G.write_shift(2,B),G.write_shift(1,L),G.write_shift(1,F),G.write_shift(1,39);for(var be=0;be<R.length;++be){var Te=R.charCodeAt(be);G.write_shift(1,Te>=128?95:Te)}return G.write_shift(1,0),G}function T(B,F){var L=k(B);L[1].v=B.read_shift(2);var R=L[1].v>>1;if(L[1].v&1)switch(R&7){case 0:R=(R>>3)*5e3;break;case 1:R=(R>>3)*500;break;case 2:R=(R>>3)/20;break;case 3:R=(R>>3)/200;break;case 4:R=(R>>3)/2e3;break;case 5:R=(R>>3)/2e4;break;case 6:R=(R>>3)/16;break;case 7:R=(R>>3)/64;break}return L[1].v=R,L}function P(B,F){var L=k(B),R=B.read_shift(4),G=B.read_shift(4),be=B.read_shift(2);if(be==65535)return R===0&&G===3221225472?(L[1].t="e",L[1].v=15):R===0&&G===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var Te=be&32768;return be=(be&32767)-16446,L[1].v=(1-Te*2)*(G*Math.pow(2,be+32)+R*Math.pow(2,be)),L}function _(B,F,L,R){var G=Ce(14);if(G.write_shift(2,B),G.write_shift(1,L),G.write_shift(1,F),R==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var be=0,Te=0,ce=0,pe=0;return R<0&&(be=1,R=-R),Te=Math.log2(R)|0,R/=Math.pow(2,Te-31),pe=R>>>0,pe&2147483648||(R/=2,++Te,pe=R>>>0),R-=pe,pe|=2147483648,pe>>>=0,R*=Math.pow(2,32),ce=R>>>0,G.write_shift(4,ce),G.write_shift(4,pe),Te+=16383+(be?32768:0),G.write_shift(2,Te),G}function O(B,F){var L=P(B);return B.l+=F-14,L}function C(B,F){var L=k(B),R=B.read_shift(4);return L[1].v=R>>6,L}function D(B,F){var L=k(B),R=B.read_shift(8,"f");return L[1].v=R,L}function H(B,F){var L=D(B);return B.l+=F-10,L}function ee(B,F){return B[B.l+F-1]==0?B.read_shift(F,"cstr"):""}function W(B,F){var L=B[B.l++];L>F-1&&(L=F-1);for(var R="";R.length<L;)R+=String.fromCharCode(B[B.l++]);return R}function Y(B,F,L){if(!(!L.qpro||F<21)){var R=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var G=B.read_shift(F-21,"cstr");return[R,G]}}function te(B,F){for(var L={},R=B.l+F;B.l<R;){var G=B.read_shift(2);if(G==14e3){for(L[G]=[0,""],L[G][0]=B.read_shift(2);B[B.l];)L[G][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return L}function q(B,F){var L=Ce(5+B.length);L.write_shift(2,14e3),L.write_shift(2,F);for(var R=0;R<B.length;++R){var G=B.charCodeAt(R);L[L.l++]=G>127?95:G}return L[L.l++]=0,L}var ue={0:{n:"BOF",f:yR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Mq=/^\s|\s$|[\t\n\r]/;function NR(e,t){if(!t.bookSST)return"";var r=[$r];r[r.length]=Ye("sst",null,{xmlns:ed[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(Mq)&&(s+=' xml:space="preserve"'),s+=">"+Vt(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Rq(e){return[e.read_shift(4),e.read_shift(4)]}function Iq(e,t){return t||(t=Ce(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Lq=PG;function Fq(e){var t=da();Be(t,159,Iq(e));for(var r=0;r<e.length;++r)Be(t,19,Lq(e[r]));return Be(t,160),t.end()}function $q(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function TR(e){var t=0,r,n=$q(e),a=n.length+1,s,o,l,c,u;for(r=Fl(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Bq=function(){function e(a,s){switch(s.type){case"base64":return t(ws(a),s);case"binary":return t(a,s);case"buffer":return t(Ft&&Buffer.isBuffer(a)?a.toString("binary"):b0(a),s);case"array":return t(Rx(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var b={v:x,t:"s"};Array.isArray(l)?l[f][m]=b:l[Ht({r:f,c:m})]=b}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Rr(u),l}function r(a,s){return Jl(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=cr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Ht({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(ks(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function l_(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Uq=6,hs=Uq;function Ym(e){return Math.floor((e+Math.round(128/hs)/256)*hs)}function Xm(e){return Math.floor((e-5)/hs*100+.5)/100}function Vb(e){return Math.round((e*hs+5)/hs*256)/256}function fj(e){e.width?(e.wpx=Ym(e.width),e.wch=Xm(e.wpx),e.MDW=hs):e.wpx?(e.wch=Xm(e.wpx),e.width=Vb(e.wch),e.MDW=hs):typeof e.wch=="number"&&(e.width=Vb(e.wch),e.wpx=Ym(e.width),e.MDW=hs),e.customWidth&&delete e.customWidth}var Kq=96,PR=Kq;function Jm(e){return e*96/PR}function _R(e){return e*PR/96}function Vq(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ye("numFmt",null,{numFmtId:n,formatCode:Vt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ye("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function zq(e){var t=[];return t[t.length]=Ye("cellXfs",null),e.forEach(function(r){t[t.length]=Ye("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ye("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function ER(e,t){var r=[$r,Ye("styleSheet",null,{xmlns:ed[0],"xmlns:vt":sn.vt})],n;return e.SSF&&(n=Vq(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=zq(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Hq(e,t){var r=e.read_shift(2),n=Ln(e);return[r,n]}function Wq(e,t,r){r||(r=Ce(6+4*t.length)),r.write_shift(2,e),ln(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Gq(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=MG(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=DG(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ln(e),n}function qq(e,t){t||(t=Ce(25+4*32)),t.write_shift(2,e.sz*20),RG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Gm(e.color,t);var n=0;return n=2,t.write_shift(1,n),ln(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Yq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],_y,Xq=zi;function c_(e,t){t||(t=Ce(4*3+8*7+16*1)),_y||(_y=ej(Yq));var r=_y[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Gm({auto:1},t),Gm({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Jq(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function AR(e,t,r){r||(r=Ce(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Cd(e,t){return t||(t=Ce(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Qq=zi;function Zq(e,t){return t||(t=Ce(51)),t.write_shift(1,0),Cd(null,t),Cd(null,t),Cd(null,t),Cd(null,t),Cd(null,t),t.length>t.l?t.slice(0,t.l):t}function eY(e,t){return t||(t=Ce(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Wm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function tY(e,t,r){var n=Ce(2052);return n.write_shift(4,e),Wm(t,n),Wm(r,n),n.length>n.l?n.slice(0,n.l):n}function rY(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Be(e,615,ji(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Be(e,44,Wq(a,t[a]))}),Be(e,616))}}function nY(e){var t=1;Be(e,611,ji(t)),Be(e,43,qq({sz:12,color:{theme:1},name:"Calibri",family:2})),Be(e,612)}function aY(e){var t=2;Be(e,603,ji(t)),Be(e,45,c_({patternType:"none"})),Be(e,45,c_({patternType:"gray125"})),Be(e,604)}function iY(e){var t=1;Be(e,613,ji(t)),Be(e,46,Zq()),Be(e,614)}function sY(e){var t=1;Be(e,626,ji(t)),Be(e,47,AR({numFmtId:0},65535)),Be(e,627)}function oY(e,t){Be(e,617,ji(t.length)),t.forEach(function(r){Be(e,47,AR(r,0))}),Be(e,618)}function lY(e){var t=1;Be(e,619,ji(t)),Be(e,48,eY({xfId:0,name:"Normal"})),Be(e,620)}function cY(e){var t=0;Be(e,505,ji(t)),Be(e,506)}function uY(e){var t=0;Be(e,508,tY(t,"TableStyleMedium9","PivotStyleMedium4")),Be(e,509)}function dY(e,t){var r=da();return Be(r,278),rY(r,e.SSF),nY(r),aY(r),iY(r),sY(r),oY(r,t.cellXfs),lY(r),cY(r),uY(r),Be(r,279),r.end()}function OR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[$r];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function fY(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ln(e)}}function hY(e){var t=Ce(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ln(e.name,t),t.slice(0,t.l)}function pY(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function mY(e){var t=Ce(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function gY(e,t){var r=Ce(8+2*t.length);return r.write_shift(4,e),ln(t,r),r.slice(0,r.l)}function xY(e){return e.l+=4,e.read_shift(4)!=0}function vY(e,t){var r=Ce(8);return r.write_shift(4,e),r.write_shift(4,1),r}function yY(){var e=da();return Be(e,332),Be(e,334,ji(1)),Be(e,335,hY({name:"XLDAPR",version:12e4,flags:3496657072})),Be(e,336),Be(e,339,gY(1,"XLDAPR")),Be(e,52),Be(e,35,ji(514)),Be(e,4096,ji(0)),Be(e,4097,$a(1)),Be(e,36),Be(e,53),Be(e,340),Be(e,337,vY(1)),Be(e,51,mY([[1,0]])),Be(e,338),Be(e,333),e.end()}function CR(){var e=[$r];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function bY(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ht(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Fc=1024;function DR(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ye("xml",null,{"xmlns:v":wa.v,"xmlns:o":wa.o,"xmlns:x":wa.x,"xmlns:mv":wa.mv}).replace(/\/>/,">"),Ye("o:shapelayout",Ye("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ye("v:shapetype",[Ye("v:stroke",null,{joinstyle:"miter"}),Ye("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Fc<e*1e3;)Fc+=1e3;return t.forEach(function(s){var o=on(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ye("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ye("v:fill",c,l),d={on:"t",obscured:"t"};++Fc,a=a.concat(["<v:shape"+Nh({id:"_x0000_s"+Fc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ye("v:shadow",null,d),Ye("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",bn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),bn("x:AutoFill","False"),bn("x:Row",String(o.r)),bn("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function MR(e){var t=[$r,Ye("comments",null,{xmlns:ed[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Vt(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Vt(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(bn("t",Vt(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(bn("t",Vt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function wY(e,t,r){var n=[$r,Ye("ThreadedComments",null,{xmlns:sn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Ye("threadedComment",bn("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function kY(e){var t=[$r,Ye("personList",null,{xmlns:sn.TCMNT,"xmlns:x":ed[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ye("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function jY(e){var t={};t.iauthor=e.read_shift(4);var r=tc(e);return t.rfx=r.s,t.ref=Ht(r.s),e.l+=16,t}function SY(e,t){return t==null&&(t=Ce(36)),t.write_shift(4,e[1].iauthor),rd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var NY=Ln;function TY(e){return ln(e.slice(0,54))}function PY(e){var t=da(),r=[];return Be(t,628),Be(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Be(t,632,TY(a.a)))})}),Be(t,631),Be(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:on(n[0]),e:on(n[0])};Be(t,635,SY([s,a])),a.t&&a.t.length>0&&Be(t,637,EG(a)),Be(t,636),delete a.iauthor})}),Be(t,634),Be(t,629),t.end()}function _Y(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&qt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var RR=["xlsb","xlsm","xlam","biff8","xla"],EY=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+In(d)+(c?"":"$")+kn(u)}return function(a,s){return t=s,a.replace(e,r)}}(),hj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pj=function(){return function(t,r){return t.replace(hj,function(n,a,s,o,l,c){var u=oj(o)-(s?0:r.c),d=sj(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function AY(e,t){return e.replace(hj,function(r,n,a,s,o,l){return n+(a=="$"?a+s:In(oj(s)+t.c))+(o=="$"?o+l:kn(sj(l)+t.r))})}function OY(e){return e.length!=1}function Or(e){e.l+=1}function Bo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function IR(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return LR(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Bo(e),l=Bo(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function LR(e){var t=Bo(e),r=Bo(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function CY(e,t,r){if(r.biff<8)return LR(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Bo(e),o=Bo(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function FR(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return DY(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Bo(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function DY(e){var t=Bo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function MY(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function RY(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return IY(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function IY(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function LY(e,t,r){var n=(e[e.l++]&96)>>5,a=IR(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function FY(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=IR(e,s,r);return[n,a,o]}function $Y(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function BY(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function UY(e,t,r){var n=(e[e.l++]&96)>>5,a=CY(e,t-1,r);return[n,a]}function KY(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function u_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function VY(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function zY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function HY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function WY(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function GY(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function $R(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function qY(e){return e.read_shift(2),$R(e)}function YY(e){return e.read_shift(2),$R(e)}function XY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=FR(e,0,r);return[n,a]}function JY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=RY(e,0,r);return[n,a]}function QY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=FR(e,0,r);return[n,a,s]}function ZY(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[ZX[a],KR[a],n]}function eX(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:tX(e);return[a,(s[0]===0?KR:QX)[s[1]]]}function tX(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function rX(e,t,r){e.l+=r&&r.biff==2?3:4}function nX(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function aX(e){return e.l++,j0[e.read_shift(1)]}function iX(e){return e.l++,e.read_shift(2)}function sX(e){return e.l++,e.read_shift(1)!==0}function oX(e){return e.l++,nd(e)}function lX(e,t,r){return e.l++,wR(e,t-1,r)}function cX(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=QG(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=j0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=nd(e);break;case 2:r[1]=rq(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function uX(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?tc:iq)(e));return a}function dX(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=cX(e,r.biff);return o}function fX(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function hX(e,t,r){if(r.biff==5)return pX(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function pX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function mX(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function gX(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function xX(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function vX(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var yX=zi,bX=zi,wX=zi;function S0(e,t,r){return e.l+=2,[MY(e)]}function mj(e){return e.l+=6,[]}var kX=S0,jX=mj,SX=mj,NX=S0;function BR(e){return e.l+=2,[yR(e),e.read_shift(2)&1]}var TX=S0,PX=BR,_X=mj,EX=S0,AX=S0,OX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function CX(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=OX[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function DX(e){return e.l+=2,[e.read_shift(4)]}function MX(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function RX(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function IX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function LX(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function FX(e){return e.l+=4,[0,0]}var d_={1:{n:"PtgExp",f:nX},2:{n:"PtgTbl",f:wX},3:{n:"PtgAdd",f:Or},4:{n:"PtgSub",f:Or},5:{n:"PtgMul",f:Or},6:{n:"PtgDiv",f:Or},7:{n:"PtgPower",f:Or},8:{n:"PtgConcat",f:Or},9:{n:"PtgLt",f:Or},10:{n:"PtgLe",f:Or},11:{n:"PtgEq",f:Or},12:{n:"PtgGe",f:Or},13:{n:"PtgGt",f:Or},14:{n:"PtgNe",f:Or},15:{n:"PtgIsect",f:Or},16:{n:"PtgUnion",f:Or},17:{n:"PtgRange",f:Or},18:{n:"PtgUplus",f:Or},19:{n:"PtgUminus",f:Or},20:{n:"PtgPercent",f:Or},21:{n:"PtgParen",f:Or},22:{n:"PtgMissArg",f:Or},23:{n:"PtgStr",f:lX},26:{n:"PtgSheet",f:MX},27:{n:"PtgEndSheet",f:RX},28:{n:"PtgErr",f:aX},29:{n:"PtgBool",f:sX},30:{n:"PtgInt",f:iX},31:{n:"PtgNum",f:oX},32:{n:"PtgArray",f:KY},33:{n:"PtgFunc",f:ZY},34:{n:"PtgFuncVar",f:eX},35:{n:"PtgName",f:fX},36:{n:"PtgRef",f:XY},37:{n:"PtgArea",f:LY},38:{n:"PtgMemArea",f:mX},39:{n:"PtgMemErr",f:yX},40:{n:"PtgMemNoMem",f:bX},41:{n:"PtgMemFunc",f:gX},42:{n:"PtgRefErr",f:xX},43:{n:"PtgAreaErr",f:$Y},44:{n:"PtgRefN",f:JY},45:{n:"PtgAreaN",f:UY},46:{n:"PtgMemAreaN",f:IX},47:{n:"PtgMemNoMemN",f:LX},57:{n:"PtgNameX",f:hX},58:{n:"PtgRef3d",f:QY},59:{n:"PtgArea3d",f:FY},60:{n:"PtgRefErr3d",f:vX},61:{n:"PtgAreaErr3d",f:BY},255:{}},$X={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},BX={1:{n:"PtgElfLel",f:BR},2:{n:"PtgElfRw",f:EX},3:{n:"PtgElfCol",f:kX},6:{n:"PtgElfRwV",f:AX},7:{n:"PtgElfColV",f:NX},10:{n:"PtgElfRadical",f:TX},11:{n:"PtgElfRadicalS",f:_X},13:{n:"PtgElfColS",f:jX},15:{n:"PtgElfColSV",f:SX},16:{n:"PtgElfRadicalLel",f:PX},25:{n:"PtgList",f:CX},29:{n:"PtgSxName",f:DX},255:{}},UX={0:{n:"PtgAttrNoop",f:FX},1:{n:"PtgAttrSemi",f:GY},2:{n:"PtgAttrIf",f:HY},4:{n:"PtgAttrChoose",f:VY},8:{n:"PtgAttrGoto",f:zY},16:{n:"PtgAttrSum",f:rX},32:{n:"PtgAttrBaxcel",f:u_},33:{n:"PtgAttrBaxcel",f:u_},64:{n:"PtgAttrSpace",f:qY},65:{n:"PtgAttrSpaceSemi",f:YY},128:{n:"PtgAttrIfError",f:WY},255:{}};function KX(e,t,r,n){if(n.biff<8)return zi(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=dX(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=uX(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(zi(e,t)),s}function VX(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=d_[s]||d_[$X[s]],(s===24||s===25)&&(a=(s===24?BX:UX)[e[e.l+1]]),!a||!a.f?zi(e,t):o.push([a.n,a.f(e,t,r)]);return o}function zX(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var HX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function WX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function UR(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function f_(e,t,r){var n=UR(e,t,r);return n=="#REF"?n:WX(n,r)}function yu(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",b=0,y=e[0].length;b<y;++b){var v=e[0][b];switch(v[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=kr(" ",e[0][m][1][1]);break;case 1:x=kr("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+HX[v[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=If(v[1][1],o,a),l.push(Lf(d,s));break;case"PtgRefN":d=r?If(v[1][1],r,a):v[1][1],l.push(Lf(d,s));break;case"PtgRef3d":f=v[1][1],d=If(v[1][2],o,a),g=f_(n,f,a),l.push(g+"!"+Lf(d,s));break;case"PtgFunc":case"PtgFuncVar":var w=v[1][0],k=v[1][1];w||(w=0),w&=127;var N=w==0?[]:l.slice(-w);l.length-=w,k==="User"&&(k=N.shift()),l.push(k+"("+N.join(",")+")");break;case"PtgBool":l.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(v[1]);break;case"PtgNum":l.push(String(v[1]));break;case"PtgStr":l.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(v[1]);break;case"PtgAreaN":p=XP(v[1][1],r?{s:r}:o,a),l.push(Ty(p,a));break;case"PtgArea":p=XP(v[1][1],o,a),l.push(Ty(p,a));break;case"PtgArea3d":f=v[1][1],p=v[1][2],g=f_(n,f,a),l.push(g+"!"+Ty(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],T=S?S.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var P=v[1][1];h=v[1][2];var _;if(a.biff<=5)P<0&&(P=-P),n[P]&&(_=n[P][h]);else{var O="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][h]&&n[P][h].itab>0&&(O=n.SheetNames[n[P][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[P]&&n[P][h])O+=n[P][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var C=(UR(n,P,a)||"").split(";;");C[h-1]?O=C[h-1]:O+="SH33TJSERRX"}l.push(O);break}_||(_={Name:"SH33TJSERRY"}),l.push(_.Name);break;case"PtgParen":var D="(",H=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:D=kr(" ",e[0][m][1][1])+D;break;case 3:D=kr("\r",e[0][m][1][1])+D;break;case 4:H=kr(" ",e[0][m][1][1])+H;break;case 5:H=kr("\r",e[0][m][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(D+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:v[1][1],r:v[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[Ht(d)]){var W=n.sharedf[Ht(d)];l.push(yu(W,o,ee,n,a))}else{var Y=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(yu(u[1],o,ee,n,a)),Y=!0;break}Y||l.push(v[1])}break;case"PtgArray":l.push("{"+zX(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&te.indexOf(e[0][b][0])==-1){v=e[0][m];var q=!0;switch(v[1][0]){case 4:q=!1;case 0:x=kr(" ",v[1][1]);break;case 5:q=!1;case 1:x=kr("\r",v[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}l.push((q?x:"")+l.pop()+(q?"":x)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function GX(e){if(e==null){var t=Ce(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return $l(e);return $l(0)}function qX(e,t,r,n,a){var s=Bl(t,r,a),o=GX(e.v),l=Ce(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ce(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=yn([s,o,l,u]);return f}function Ix(e,t,r){var n=e.read_shift(4),a=VX(e,n,r),s=e.read_shift(4),o=s>0?KX(e,s,a,r):null;return[a,o]}var YX=Ix,Lx=Ix,XX=Ix,JX=Ix,QX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},KR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ZX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function eJ(e){var t="of:="+e.replace(hj,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function tJ(e){return e.replace(/\./,"!")}var Ff=typeof Map<"u";function gj(e,t,r){var n=0,a=e.length;if(r){if(Ff?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Ff?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ff?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Fx(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(hs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Xm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Vb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function VR(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Go(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){FM(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function rJ(e,t,r){if(e&&e["!ref"]){var n=cr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function nJ(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Rr(e[r])+'"/>';return t+"</mergeCells>"}function aJ(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=Sh(Vt(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ye("outlinePr",null,u)}!s&&!l||(a[a.length]=Ye("sheetPr",l,o))}var iJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function oJ(e){var t={sheet:1};return iJ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),sJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=TR(e.password).toString(16).toUpperCase()),Ye("sheetProtection",null,t)}function lJ(e){return VR(e),Ye("pageMargins",null,e)}function cJ(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ye("col",null,Fx(a,n)));return r[r.length]="</cols>",r.join("")}function uJ(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Rr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Aa(a);o.s.r==o.e.r&&(o.e.r=Aa(t["!ref"]).e.r,a=Rr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ye("autoFilter",null,{ref:a})}function dJ(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ye("sheetViews",Ye("sheetView",null,a),{})}function fJ(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=j0[e.v];break;case"d":n&&n.cellDates?a=ea(e.v,-1).toISOString():(e=pa(e),e.t="n",a=""+(e.v=ha(ea(e.v)))),typeof e.z>"u"&&(e.z=Sr[14]);break;default:a=e.v;break}var l=bn("v",Vt(a)),c={r:t},u=Go(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=bn("v",""+gj(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Ye("f",Vt(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ye("c",l,c)}function hJ(e,t,r,n){var a=[],s=[],o=cr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:u},x,b=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=In(h);for(f=o.s.r;f<=o.e.r;++f){for(s=[],u=kn(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(l=fJ(y,c,e,t))!=null&&s.push(l)}(s.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=Jm(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),a[a.length]=Ye("row",s.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},x=p[f],x.hidden&&(m.hidden=1),b=-1,x.hpx?b=Jm(x.hpx):x.hpt&&(b=x.hpt),b>-1&&(m.ht=b,m.customHeight=1),x.level&&(m.outlineLevel=x.level),a[a.length]=Ye("row","",m));return a.join("")}function zR(e,t,r,n){var a=[$r,Ye("worksheet",null,{xmlns:ed[0],"xmlns:r":sn.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=cr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Rr(d)}n||(n={}),c["!comments"]=[];var f=[];aJ(c,r,e,t,a),a[a.length]=Ye("dimension",null,{ref:u}),a[a.length]=dJ(c,t,e,r),t.sheetFormat&&(a[a.length]=Ye("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=cJ(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=hJ(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=oJ(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=uJ(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=nJ(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=Kt(n,-1,Vt(m[1].Target).replace(/#.*$/,""),Mt.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=Vt(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=Vt(m[1].Tooltip)),a[a.length]=Ye("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=lJ(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=bn("ignoredErrors",Ye("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Kt(n,-1,"../drawings/drawing"+(e+1)+".xml",Mt.DRAW),a[a.length]=Ye("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Kt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Mt.VML),a[a.length]=Ye("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function pJ(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function mJ(e,t,r){var n=Ce(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=Jm(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ht(u)];g&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function gJ(e,t,r,n){var a=mJ(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Be(e,0,a)}var xJ=tc,vJ=rd;function yJ(){}function bJ(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=AG(e),r}function wJ(e,t,r){r==null&&(r=Ce(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Gm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),iR(e,r),r.slice(0,r.l)}function kJ(e){var t=ti(e);return[t]}function jJ(e,t,r){return r==null&&(r=Ce(8)),Ql(t,r)}function SJ(e){var t=Zl(e);return[t]}function NJ(e,t,r){return r==null&&(r=Ce(4)),ec(t,r)}function TJ(e){var t=ti(e),r=e.read_shift(1);return[t,r,"b"]}function PJ(e,t,r){return r==null&&(r=Ce(9)),Ql(t,r),r.write_shift(1,e.v?1:0),r}function _J(e){var t=Zl(e),r=e.read_shift(1);return[t,r,"b"]}function EJ(e,t,r){return r==null&&(r=Ce(5)),ec(t,r),r.write_shift(1,e.v?1:0),r}function AJ(e){var t=ti(e),r=e.read_shift(1);return[t,r,"e"]}function OJ(e,t,r){return r==null&&(r=Ce(9)),Ql(t,r),r.write_shift(1,e.v),r}function CJ(e){var t=Zl(e),r=e.read_shift(1);return[t,r,"e"]}function DJ(e,t,r){return r==null&&(r=Ce(8)),ec(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function MJ(e){var t=ti(e),r=e.read_shift(4);return[t,r,"s"]}function RJ(e,t,r){return r==null&&(r=Ce(12)),Ql(t,r),r.write_shift(4,t.v),r}function IJ(e){var t=Zl(e),r=e.read_shift(4);return[t,r,"s"]}function LJ(e,t,r){return r==null&&(r=Ce(8)),ec(t,r),r.write_shift(4,t.v),r}function FJ(e){var t=ti(e),r=nd(e);return[t,r,"n"]}function $J(e,t,r){return r==null&&(r=Ce(16)),Ql(t,r),$l(e.v,r),r}function BJ(e){var t=Zl(e),r=nd(e);return[t,r,"n"]}function UJ(e,t,r){return r==null&&(r=Ce(12)),ec(t,r),$l(e.v,r),r}function KJ(e){var t=ti(e),r=sR(e);return[t,r,"n"]}function VJ(e,t,r){return r==null&&(r=Ce(12)),Ql(t,r),oR(e.v,r),r}function zJ(e){var t=Zl(e),r=sR(e);return[t,r,"n"]}function HJ(e,t,r){return r==null&&(r=Ce(8)),ec(t,r),oR(e.v,r),r}function WJ(e){var t=ti(e),r=lj(e);return[t,r,"is"]}function GJ(e){var t=ti(e),r=Ln(e);return[t,r,"str"]}function qJ(e,t,r){return r==null&&(r=Ce(12+4*e.v.length)),Ql(t,r),ln(e.v,r),r.length>r.l?r.slice(0,r.l):r}function YJ(e){var t=Zl(e),r=Ln(e);return[t,r,"str"]}function XJ(e,t,r){return r==null&&(r=Ce(8+4*e.v.length)),ec(t,r),ln(e.v,r),r.length>r.l?r.slice(0,r.l):r}function JJ(e,t,r){var n=e.l+t,a=ti(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Lx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}function QJ(e,t,r){var n=e.l+t,a=ti(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Lx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}function ZJ(e,t,r){var n=e.l+t,a=ti(e);a.r=r["!row"];var s=nd(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Lx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}function eQ(e,t,r){var n=e.l+t,a=ti(e);a.r=r["!row"];var s=Ln(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Lx(e,n-e.l,r);o[3]=yu(l,null,a,r.supbooks,r)}else e.l=n;return o}var tQ=tc,rQ=rd;function nQ(e,t){return t==null&&(t=Ce(4)),t.write_shift(4,e),t}function aQ(e,t){var r=e.l+t,n=tc(e),a=cj(e),s=Ln(e),o=Ln(e),l=Ln(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function iQ(e,t){var r=Ce(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));rd({s:on(e[0]),e:on(e[0])},r),uj("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return ln(a||"",r),ln(e[1].Tooltip||"",r),ln("",r),r.slice(0,r.l)}function sQ(){}function oQ(e,t,r){var n=e.l+t,a=lR(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=YX(e,n-e.l,r);o[1]=l}else e.l=n;return o}function lQ(e,t,r){var n=e.l+t,a=tc(e),s=[a];if(r.cellFormula){var o=JX(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function cQ(e,t,r){r==null&&(r=Ce(18));var n=Fx(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var HR=["left","right","top","bottom","header","footer"];function uQ(e){var t={};return HR.forEach(function(r){t[r]=nd(e)}),t}function dQ(e,t){return t==null&&(t=Ce(6*8)),VR(e),HR.forEach(function(r){$l(e[r],t)}),t}function fQ(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function hQ(e,t,r){r==null&&(r=Ce(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function pQ(e){var t=Ce(24);return t.write_shift(4,4),t.write_shift(4,1),rd(e,t),t}function mQ(e,t){return t==null&&(t=Ce(16*4+2)),t.write_shift(2,e.password?TR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function gQ(){}function xQ(){}function vQ(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=pa(t),t.z=t.z||Sr[14],t.v=ha(ea(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Go(a.cellXfs,t,a),t.l&&s["!links"].push([Ht(c),t.l]),t.c&&s["!comments"].push([Ht(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=gj(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Be(e,18,LJ(t,c)):Be(e,7,RJ(t,c))):(c.t="str",o?Be(e,17,XJ(t,c)):Be(e,6,qJ(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Be(e,13,HJ(t,c)):Be(e,2,VJ(t,c)):o?Be(e,16,UJ(t,c)):Be(e,5,$J(t,c)),!0;case"b":return c.t="b",o?Be(e,15,EJ(t,c)):Be(e,4,PJ(t,c)),!0;case"e":return c.t="e",o?Be(e,14,DJ(t,c)):Be(e,3,OJ(t,c)),!0}return o?Be(e,12,NJ(t,c)):Be(e,1,jJ(t,c)),!0}function yQ(e,t,r,n){var a=cr(t["!ref"]||"A1"),s,o="",l=[];Be(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=kn(d),gJ(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=In(h)),s=l[h]+o;var p=c?(t[d]||[])[h]:t[s];if(!p){f=!1;continue}f=vQ(e,p,d,h,n,t,f)}}Be(e,146)}function bQ(e,t){!t||!t["!merges"]||(Be(e,177,nQ(t["!merges"].length)),t["!merges"].forEach(function(r){Be(e,176,rQ(r))}),Be(e,178))}function wQ(e,t){!t||!t["!cols"]||(Be(e,390),t["!cols"].forEach(function(r,n){r&&Be(e,60,cQ(n,r))}),Be(e,391))}function kQ(e,t){!t||!t["!ref"]||(Be(e,648),Be(e,649,pQ(cr(t["!ref"]))),Be(e,650))}function jQ(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Kt(r,-1,n[1].Target.replace(/#.*$/,""),Mt.HLINK);Be(e,494,iQ(n,a))}}),delete t["!links"]}function SQ(e,t,r,n){if(t["!comments"].length>0){var a=Kt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Mt.VML);Be(e,551,uj("rId"+a)),t["!legacy"]=a}}function NQ(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Rr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Aa(s);l.s.r==l.e.r&&(l.e.r=Aa(t["!ref"]).e.r,s=Rr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Be(e,161,rd(cr(s))),Be(e,162)}}function TQ(e,t,r){Be(e,133),Be(e,137,hQ(t,r)),Be(e,138),Be(e,134)}function PQ(e,t){t["!protect"]&&Be(e,535,mQ(t["!protect"]))}function _Q(e,t,r,n){var a=da(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=cr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Be(a,129),(r.vbaraw||o["!outline"])&&Be(a,147,wJ(l,o["!outline"])),Be(a,148,vJ(c)),TQ(a,o,r.Workbook),wQ(a,o),yQ(a,o,e,t),PQ(a,o),NQ(a,o,r,e),bQ(a,o),jQ(a,o,n),o["!margins"]&&Be(a,476,dQ(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&kQ(a,o),SQ(a,o,e,n),Be(a,130),a.end()}function EQ(e,t){e.l+=10;var r=Ln(e);return{name:r}}var AQ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function OQ(e){return!e.Workbook||!e.Workbook.WBProps?"false":lG(e.Workbook.WBProps.date1904)?"true":"false"}var CQ="][*?/\\".split("");function WR(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return CQ.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function DQ(e,t,r){e.forEach(function(n,a){WR(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function MQ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];DQ(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)rJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function GR(e){var t=[$r];t[t.length]=Ye("workbook",null,{xmlns:ed[0],"xmlns:r":sn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(AQ.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ye("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Vt(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ye("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Ye("definedName",Vt(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function RQ(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Kb(e),r.name=Ln(e),r}function IQ(e,t){return t||(t=Ce(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),uj(e.strRelID,t),ln(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function LQ(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ln(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function FQ(e,t){t||(t=Ce(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),iR(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function $Q(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=OG(e),o=XX(e,0,r),l=cj(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function BQ(e,t){Be(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Be(e,156,IQ(a))}Be(e,144)}function UQ(e,t){t||(t=Ce(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ln("SheetJS",t),ln($m.version,t),ln($m.version,t),ln("7262",t),t.length>t.l?t.slice(0,t.l):t}function KQ(e,t){t||(t=Ce(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function VQ(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Be(e,135),Be(e,158,KQ(a)),Be(e,136))}}function zQ(e,t){var r=da();return Be(r,131),Be(r,128,UQ()),Be(r,153,FQ(e.Workbook&&e.Workbook.WBProps||null)),VQ(r,e),BQ(r,e),Be(r,132),r.end()}function HQ(e,t,r){return(t.slice(-4)===".bin"?zQ:GR)(e)}function WQ(e,t,r,n,a){return(t.slice(-4)===".bin"?_Q:zR)(e,r,n,a)}function GQ(e,t,r){return(t.slice(-4)===".bin"?dY:ER)(e,r)}function qQ(e,t,r){return(t.slice(-4)===".bin"?Fq:NR)(e,r)}function YQ(e,t,r){return(t.slice(-4)===".bin"?PY:MR)(e)}function XQ(e){return(e.slice(-4)===".bin"?yY:CR)()}function JQ(e,t){var r=[];return e.Props&&r.push(GG(e.Props,t)),e.Custprops&&r.push(qG(e.Props,e.Custprops)),r.join("")}function QQ(){return""}function ZQ(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Ye("NumberFormat",null,{"ss:Format":Vt(Sr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Ye("Style",s.join(""),o))}),Ye("Styles",r.join(""))}function qR(e){return Ye("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+pj(e.Ref,{r:0,c:0})})}function eZ(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(qR(a)))}return Ye("Names",r.join(""))}function tZ(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(qR(l)))}return s.join("")}function rZ(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ye("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ye("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ye("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ye("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(bn("ProtectContents","True")),e["!protect"].objects&&a.push(bn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(bn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(bn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(bn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Ye("WorksheetOptions",a.join(""),{xmlns:wa.x})}function nZ(e){return e.map(function(t){var r=oG(t.t||""),n=Ye("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ye("Comment",n,{"ss:Author":t.a})}).join("")}function aZ(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Vt(pj(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=on(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Vt(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Vt(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=j0[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Sr[14]);break;case"s":f="String",h=sG(e.v||"");break}var p=Go(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=nZ(e.c)),Ye("Cell",m,l)}function iZ(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=_R(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function sZ(e,t,r,n){if(!e["!ref"])return"";var a=cr(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,b){fj(x);var y=!!x.width,v=Fx(b,x),w={"ss:Index":b+1};y&&(w["ss:Width"]=Ym(v.width)),x.hidden&&(w["ss:Hidden"]="1"),l.push(Ye("Column",null,w))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[iZ(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>u)&&!(s[o].e.c<f)&&!(s[o].e.r<u)){(s[o].s.c!=f||s[o].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=Ht(p),m=c?(e[u]||[])[f]:e[g];d.push(aZ(m,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function oZ(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?tZ(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?sZ(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(rZ(s,t,e,r)),n.join("")}function lZ(e,t){t||(t={}),e.SSF||(e.SSF=pa(Sr)),e.SSF&&(Dx(),Cx(e.SSF),t.revssf=Mx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Go(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(JQ(e,t)),r.push(QQ()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ye("Worksheet",oZ(n,t,e),{"ss:Name":Vt(e.SheetNames[n])}));return r[2]=ZQ(e,t),r[3]=eZ(e),$r+Ye("Workbook",r.join(""),{xmlns:wa.ss,"xmlns:o":wa.o,"xmlns:x":wa.x,"xmlns:ss":wa.ss,"xmlns:dt":wa.dt,"xmlns:html":wa.html})}var Ey={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cZ(e,t){var r=[],n=[],a=[],s=0,o,l=$P(QP,"n"),c=$P(ZP,"n");if(e.Props)for(o=Sn(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Sn(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<a.length;++s)vR.indexOf(a[s][0])>-1||mR.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&qt.utils.cfb_add(t,"/SummaryInformation",a_(n,Ey.SI,c,ZP)),(r.length||u.length)&&qt.utils.cfb_add(t,"/DocumentSummaryInformation",a_(r,Ey.DSI,l,QP,u.length?u:null,Ey.UDI))}function uZ(e,t){var r=t||{},n=qt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return qt.utils.cfb_add(n,a,YR(e,r)),r.biff==8&&(e.Props||e.Custprops)&&cZ(e,n),r.biff==8&&e.vbaraw&&_Y(n,qt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var dZ={0:{f:pJ},1:{f:kJ},2:{f:KJ},3:{f:AJ},4:{f:TJ},5:{f:FJ},6:{f:GJ},7:{f:MJ},8:{f:eQ},9:{f:ZJ},10:{f:JJ},11:{f:QJ},12:{f:SJ},13:{f:zJ},14:{f:CJ},15:{f:_J},16:{f:BJ},17:{f:YJ},18:{f:IJ},19:{f:lj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$Q},40:{},42:{},43:{f:Gq},44:{f:Hq},45:{f:Xq},46:{f:Qq},47:{f:Jq},48:{},49:{f:SG},50:{},51:{f:pY},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Nq},62:{f:WJ},63:{f:bY},64:{f:gQ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:fQ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:bJ},148:{f:xJ,p:16},151:{f:sQ},152:{},153:{f:LQ},154:{},155:{},156:{f:RQ},157:{},158:{},159:{T:1,f:Rq},160:{T:-1},161:{T:1,f:tc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tQ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fY},336:{T:-1},337:{f:xY,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Kb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:yq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:oQ},427:{f:lQ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:uQ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:yJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:aQ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Kb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NY},633:{T:1},634:{T:-1},635:{T:1,f:jY},636:{T:-1},637:{f:_G},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:EQ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:xQ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Xe(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&ij(r)&&e.push(r)}}function fZ(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Xe(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function N0(e,t,r){return e||(e=Ce(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function hZ(e,t,r,n){var a=Ce(9);return N0(a,e,t),bR(r,n||"b",a),a}function pZ(e,t,r){var n=Ce(8+2*r.length);return N0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function mZ(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ha(ea(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Xe(e,2,Eq(r,n,a)):Xe(e,3,_q(r,n,a));return;case"b":case"e":Xe(e,5,hZ(r,n,t.v,t.t));return;case"s":case"str":Xe(e,4,pZ(r,n,(t.v||"").slice(0,255)));return}Xe(e,1,N0(null,r,n))}function gZ(e,t,r,n){var a=Array.isArray(t),s=cr(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Rr(s)}for(var u=s.s.r;u<=s.e.r;++u){l=kn(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=In(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&mZ(e,f,u,d)}}}function xZ(e,t){for(var r=t||{},n=da(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Xe(n,r.biff==4?1033:r.biff==3?521:9,dj(e,16,r)),gZ(n,e.Sheets[e.SheetNames[a]],a,r),Xe(n,10),n.end()}function vZ(e,t,r){Xe(e,49,dq({sz:12,name:"Arial"},r))}function yZ(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Xe(e,1054,pq(a,t[a],r))})}function bZ(e,t){var r=Ce(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Xe(e,2151,r),r=Ce(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),jR(cr(t["!ref"]||"A1"),r),r.write_shift(4,4),Xe(e,2152,r)}function wZ(e,t){for(var r=0;r<16;++r)Xe(e,224,s_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Xe(e,224,s_(n,0,t))})}function kZ(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Xe(e,440,kq(n)),n[1].Tooltip&&Xe(e,2048,jq(n))}delete t["!links"]}function jZ(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Xe(e,125,Tq(Fx(a,n),a))})}}function SZ(e,t,r,n,a){var s=16+Go(a.cellXfs,t,a);if(t.v==null&&!t.bf){Xe(e,513,Bl(r,n,s));return}if(t.bf)Xe(e,6,qX(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?ha(ea(t.v)):t.v;Xe(e,515,vq(r,n,o,s));break;case"b":case"e":Xe(e,517,xq(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=gj(a.Strings,t.v,a.revStrings);Xe(e,253,fq(r,n,l,s))}else Xe(e,516,hq(r,n,(t.v||"").slice(0,255),s,a));break;default:Xe(e,513,Bl(r,n,s))}}function NZ(e,t,r){var n=da(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",h=[],p=cr(s["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}Xe(n,2057,dj(r,16,t)),Xe(n,13,$a(1)),Xe(n,12,$a(100)),Xe(n,15,Yn(!0)),Xe(n,17,Yn(!1)),Xe(n,16,$l(.001)),Xe(n,95,Yn(!0)),Xe(n,42,Yn(!1)),Xe(n,43,Yn(!1)),Xe(n,130,$a(1)),Xe(n,128,gq()),Xe(n,131,Yn(!1)),Xe(n,132,Yn(!1)),u&&jZ(n,s["!cols"]),Xe(n,512,mq(p,t)),u&&(s["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=kn(m);for(var x=p.s.c;x<=p.e.c;++x){m===p.s.r&&(h[x]=In(x)),d=h[x]+f;var b=c?(s[m]||[])[x]:s[d];b&&(SZ(n,b,m,x,t),u&&b.l&&s["!links"].push([d,b.l]))}}var y=l.CodeName||l.name||a;return u&&Xe(n,574,uq((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&Xe(n,229,wq(s["!merges"])),u&&kZ(n,s),Xe(n,442,kR(y)),u&&bZ(n,s),Xe(n,10),n.end()}function TZ(e,t,r){var n=da(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Xe(n,2057,dj(e,5,r)),r.bookType=="xla"&&Xe(n,135),Xe(n,225,l?$a(1200):null),Xe(n,193,JG(2)),c&&Xe(n,191),c&&Xe(n,192),Xe(n,226),Xe(n,92,sq("SheetJS",r)),Xe(n,66,$a(l?1200:1252)),l&&Xe(n,353,$a(0)),l&&Xe(n,448),Xe(n,317,Pq(e.SheetNames.length)),l&&e.vbaraw&&Xe(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Xe(n,442,kR(u))}Xe(n,156,$a(17)),Xe(n,25,Yn(!1)),Xe(n,18,Yn(!1)),Xe(n,19,$a(0)),l&&Xe(n,431,Yn(!1)),l&&Xe(n,444,$a(0)),Xe(n,61,cq()),Xe(n,64,Yn(!1)),Xe(n,141,$a(0)),Xe(n,34,Yn(OQ(e)=="true")),Xe(n,14,Yn(!0)),l&&Xe(n,439,Yn(!1)),Xe(n,218,$a(0)),vZ(n,e,r),yZ(n,e.SSF,r),wZ(n,r),l&&Xe(n,352,Yn(!1));var d=n.end(),f=da();l&&Xe(f,140,Sq()),l&&r.Strings&&fZ(f,252,lq(r.Strings)),Xe(f,10);var h=f.end(),p=da(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var x=d.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var b=s[m]||{};Xe(p,133,oq({pos:x,hs:b.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var v=[];return d.length&&v.push(d),y.length&&v.push(y),h.length&&v.push(h),yn(v)}function PZ(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=pa(Sr)),e&&e.SSF&&(Dx(),Cx(e.SSF),r.revssf=Mx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xj(r),r.cellXfs=[],Go(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=NZ(a,r,e);return n.unshift(TZ(e,n,r)),yn(n)}function YR(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Aa(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return PZ(e,t);case 4:case 3:case 2:return xZ(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function _Z(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Ht({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||iG(f.w||(ks(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(Ye("td",h,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var EZ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',AZ="</body></html>";function OZ(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function XR(e,t){var r=t||{},n=r.header!=null?r.header:EZ,a=r.footer!=null?r.footer:AZ,s=[n],o=Aa(e["!ref"]);r.dense=Array.isArray(e),s.push(OZ(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(_Z(e,o,l,r));return s.push("</table>"+a),s.join("")}function JR(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?on(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Aa(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,b=0,y=0,v=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&m<c;++g){var w=l[g];if(h_(w)){if(n.display)continue;p[m]={hidden:!0}}var k=w.children;for(x=b=0;x<k.length;++x){var N=k[x];if(!(n.display&&h_(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):cG(N.innerHTML),T=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var P=f[h];P.s.c==b+s&&P.s.r<m+a&&m+a<=P.e.r&&(b=P.e.c+1-s,h=-1)}v=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||v>1)&&f.push({s:{r:m+a,c:b+s},e:{r:m+a+(y||1)-1,c:b+s+(v||1)-1}});var _={t:"s",v:S},O=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?_.t=O||"z":n.raw||S.trim().length==0||O=="s"||(S==="TRUE"?_={t:"b",v:!0}:S==="FALSE"?_={t:"b",v:!1}:isNaN(fs(S))?isNaN(jh(S).getDate())||(_={t:"d",v:ea(S)},n.cellDates||(_={t:"n",v:ha(_.v)}),_.z=n.dateNF||Sr[14]):_={t:"n",v:fs(S)})),_.z===void 0&&T!=null&&(_.z=T);var C="",D=N.getElementsByTagName("A");if(D&&D.length)for(var H=0;H<D.length&&!(D[H].hasAttribute("href")&&(C=D[H].getAttribute("href"),C.charAt(0)!="#"));++H);C&&C.charAt(0)!="#"&&(_.l={Target:C}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][b+s]=_):e[Ht({c:b+s,r:m+a})]=_,u.e.c<b+s&&(u.e.c=b+s),b+=v}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Rr(u),m>=c&&(e["!fullref"]=Rr((u.e.r=l.length-g+m-1+a,u))),e}function QR(e,t){var r=t||{},n=r.dense?[]:{};return JR(n,e,t)}function CZ(e,t){return Jl(QR(e,t),t)}function h_(e){var t="",r=DZ(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function DZ(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var MZ=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Nh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return $r+t}}(),p_=function(){var e=function(s){return Vt(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+Vt(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Aa(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",x=s["!rows"]||[];for(u=0;u<f.s.r;++u)m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,y={},v="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(b=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){c.push(r);continue}var w=Ht({r:u,c:d}),k=g?(s[u]||[])[d]:s[w];if(k&&k.f&&(y["table:formula"]=Vt(eJ(k.f)),k.F&&k.F.slice(0,w.length)==w)){var N=Aa(k.F);y["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,y["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":v=k.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=k.v?"true":"false";break;case"n":v=k.w||String(k.v||0),y["office:value-type"]="float",y["office:value"]=k.v||0;break;case"s":case"str":v=k.v==null?"":k.v,y["office:value-type"]="string";break;case"d":v=k.w||ea(k.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=ea(k.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(v);if(k.l&&k.l.Target){var T=k.l.Target;T=T.charAt(0)=="#"?"#"+tJ(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),S=Ye("text:a",S,{"xlink:href":T.replace(/&/g,"&amp;")})}c.push("          "+Ye("table:table-cell",Ye("text:p",S,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;fj(f),f.ods=l;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[$r],u=Nh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Nh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(hR().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function ZR(e,t){if(t.bookType=="fods")return p_(e,t);var r=tj(),n="",a=[],s=[];return n="mimetype",kt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",kt(r,n,p_(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",kt(r,n,MZ(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",kt(r,n,$r+hR()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",kt(r,n,WG(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",kt(r,n,zG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function RZ(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):xi(Sh(e))}function IZ(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Uo(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function LZ(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function Th(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ut(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function tu(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Hr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Th(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Th(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function mn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Ut(n*8+a.type)),a.type==2&&t.push(Ut(a.data.length)),t.push(a.data))})}),Uo(t)}function li(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Th(e,n),s=Hr(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:tu(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Hr(l.data),u=tu(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=tu(s[3][0].data)>>>0>0),r.push(o)}return r}function fc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ut(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ut(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Ut(o.data.length)}],n[2].push({data:mn(o.meta),type:2})});var s=mn(n);t.push(Ut(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),Uo(t)}function FZ(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Th(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Uo(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Uo(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ci(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(FZ(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Uo(t)}function hc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Ut(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Uo(t)}function Ay(e,t){var r=new Uint8Array(32),n=Qm(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,LZ(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function Oy(e,t){var r=new Uint8Array(32),n=Qm(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function ro(e){var t=Hr(e);return Th(t[1][0].data)}function $Z(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&tu(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Qm(e[7][0].data),d=0,f=[],h=Qm(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var x,b;switch(typeof t[m]){case"string":x=Ay({t:"s",v:t[m]},r),b=Oy({t:"s",v:t[m]},r);break;case"number":x=Ay({t:"n",v:t[m]},r),b=Oy({t:"n",v:t[m]},r);break;case"boolean":x=Ay({t:"b",v:t[m]},r),b=Oy({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(x),d+=x.length,g.push(b),p+=b.length,++c}for(e[2][0].data=Ut(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Uo(f),e[3][0].data=Uo(g),c}function BZ(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Aa(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Rr(n)));var s=Zm(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(F){return F.forEach(function(L){typeof L=="string"&&o.push(L)})});var l={},c=[],u=qt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(F,L){return[F,u.FullPaths[L]]}).forEach(function(F){var L=F[0],R=F[1];if(L.type==2&&L.name.match(/\.iwa/)){var G=L.content,be=ci(G),Te=li(be);Te.forEach(function(ce){c.push(ce.id),l[ce.id]={deps:[],location:R,type:tu(ce.messages[0].meta[1][0].data)}})}}),c.sort(function(F,L){return F-L});var d=c.filter(function(F){return F>1}).map(function(F){return[F,Ut(F)]});u.FileIndex.map(function(F,L){return[F,u.FullPaths[L]]}).forEach(function(F){var L=F[0];if(F[1],!!L.name.match(/\.iwa/)){var R=li(ci(L.content));R.forEach(function(G){G.messages.forEach(function(be){d.forEach(function(Te){G.messages.some(function(ce){return tu(ce.meta[1][0].data)!=11006&&IZ(ce.data,Te[1])})&&l[Te[0]].deps.push(G.id)})})})}});for(var f=qt.find(u,l[1].location),h=li(ci(f.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var x=ro(Hr(p.messages[0].data)[1][0].data);for(f=qt.find(u,l[x].location),h=li(ci(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=ro(Hr(p.messages[0].data)[2][0].data),f=qt.find(u,l[x].location),h=li(ci(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=ro(Hr(p.messages[0].data)[2][0].data),f=qt.find(u,l[x].location),h=li(ci(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);var b=Hr(p.messages[0].data);{b[6][0].data=Ut(n.e.r+1),b[7][0].data=Ut(n.e.c+1);var y=ro(b[46][0].data),v=qt.find(u,l[y].location),w=li(ci(v.content));{for(var k=0;k<w.length&&w[k].id!=y;++k);if(w[k].id!=y)throw"Bad ColumnRowUIDMapArchive";var N=Hr(w[k].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var S=0;S<=n.e.c;++S){var T=[];T[1]=T[2]=[{type:0,data:Ut(S+420690)}],N[1].push({type:2,data:mn(T)}),N[2].push({type:0,data:Ut(S)}),N[3].push({type:0,data:Ut(S)})}N[4]=[],N[5]=[],N[6]=[];for(var P=0;P<=n.e.r;++P)T=[],T[1]=T[2]=[{type:0,data:Ut(P+726270)}],N[4].push({type:2,data:mn(T)}),N[5].push({type:0,data:Ut(P)}),N[6].push({type:0,data:Ut(P)});w[k].messages[0].data=mn(N)}v.content=hc(fc(w)),v.size=v.content.length,delete b[46];var _=Hr(b[4][0].data);{_[7][0].data=Ut(n.e.r+1);var O=Hr(_[1][0].data),C=ro(O[2][0].data);v=qt.find(u,l[C].location),w=li(ci(v.content));{if(w[0].id!=C)throw"Bad HeaderStorageBucket";var D=Hr(w[0].messages[0].data);for(P=0;P<s.length;++P){var H=Hr(D[2][0].data);H[1][0].data=Ut(P),H[4][0].data=Ut(s[P].length),D[2][P]={type:D[2][0].type,data:mn(H)}}w[0].messages[0].data=mn(D)}v.content=hc(fc(w)),v.size=v.content.length;var ee=ro(_[2][0].data);v=qt.find(u,l[ee].location),w=li(ci(v.content));{if(w[0].id!=ee)throw"Bad HeaderStorageBucket";for(D=Hr(w[0].messages[0].data),S=0;S<=n.e.c;++S)H=Hr(D[2][0].data),H[1][0].data=Ut(S),H[4][0].data=Ut(n.e.r+1),D[2][S]={type:D[2][0].type,data:mn(H)};w[0].messages[0].data=mn(D)}v.content=hc(fc(w)),v.size=v.content.length;var W=ro(_[4][0].data);(function(){for(var F=qt.find(u,l[W].location),L=li(ci(F.content)),R,G=0;G<L.length;++G){var be=L[G];be.id==W&&(R=be)}var Te=Hr(R.messages[0].data);{Te[3]=[];var ce=[];o.forEach(function(ge,Ae){ce[1]=[{type:0,data:Ut(Ae)}],ce[2]=[{type:0,data:Ut(1)}],ce[3]=[{type:2,data:RZ(ge)}],Te[3].push({type:2,data:mn(ce)})})}R.messages[0].data=mn(Te);var pe=fc(L),Pe=hc(pe);F.content=Pe,F.size=F.content.length})();var Y=Hr(_[3][0].data);{var te=Y[1][0];delete Y[2];var q=Hr(te.data);{var ue=ro(q[2][0].data);(function(){for(var F=qt.find(u,l[ue].location),L=li(ci(F.content)),R,G=0;G<L.length;++G){var be=L[G];be.id==ue&&(R=be)}var Te=Hr(R.messages[0].data);{delete Te[6],delete Y[7];var ce=new Uint8Array(Te[5][0].data);Te[5]=[];for(var pe=0,Pe=0;Pe<=n.e.r;++Pe){var ge=Hr(ce);pe+=$Z(ge,s[Pe],o),ge[1][0].data=Ut(Pe),Te[5].push({data:mn(ge),type:2})}Te[1]=[{type:0,data:Ut(n.e.c+1)}],Te[2]=[{type:0,data:Ut(n.e.r+1)}],Te[3]=[{type:0,data:Ut(pe)}],Te[4]=[{type:0,data:Ut(n.e.r+1)}]}R.messages[0].data=mn(Te);var Ae=fc(L),ne=hc(Ae);F.content=ne,F.size=F.content.length})()}te.data=mn(q)}_[3][0].data=mn(Y)}b[4][0].data=mn(_)}p.messages[0].data=mn(b);var le=fc(h),B=hc(le);return f.content=B,f.size=f.content.length,u}function UZ(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function xj(e){UZ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function KZ(e,t){return t.bookType=="ods"?ZR(e,t):t.bookType=="numbers"?BZ(e,t):t.bookType=="xlsb"?VZ(e,t):zZ(e,t)}function VZ(e,t){Fc=1024,e&&!e.SSF&&(e.SSF=pa(Sr)),e&&e.SSF&&(Dx(),Cx(e.SSF),t.revssf=Mx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ff?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=RR.indexOf(t.bookType)>-1,a=uR();xj(t=t||{});var s=tj(),o="",l=0;if(t.cellXfs=[],Go(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(s,o,pR(e.Props,t)),a.coreprops.push(o),Kt(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(s,o,gR(e.Props)),a.extprops.push(o),Kt(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&Sn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(s,o,xR(e.Custprops)),a.custprops.push(o),Kt(t.rels,4,o,Mt.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,kt(s,o,WQ(l-1,o,t,e,d)),a.sheets.push(o),Kt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Mt.WS[0])}if(f){var p=f["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,kt(s,m,YQ(p,m)),a.comments.push(m),Kt(d,-1,"../comments"+l+"."+r,Mt.CMNT),g=!0),f["!legacy"]&&g&&kt(s,"xl/drawings/vmlDrawing"+l+".vml",DR(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&kt(s,fR(o),Zc(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(s,o,qQ(t.Strings,o,t)),a.strs.push(o),Kt(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(s,o,HQ(e,o)),a.workbooks.push(o),Kt(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(s,o,OR(e.Themes,t)),a.themes.push(o),Kt(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(s,o,GQ(e,o,t)),a.styles.push(o),Kt(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",kt(s,o,e.vbaraw),a.vba.push(o),Kt(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(s,o,XQ(o)),a.metadata.push(o),Kt(t.wbrels,-1,"metadata."+r,Mt.XLMETA),kt(s,"[Content_Types].xml",dR(a,t)),kt(s,"_rels/.rels",Zc(t.rels)),kt(s,"xl/_rels/workbook."+r+".rels",Zc(t.wbrels)),delete t.revssf,delete t.ssf,s}function zZ(e,t){Fc=1024,e&&!e.SSF&&(e.SSF=pa(Sr)),e&&e.SSF&&(Dx(),Cx(e.SSF),t.revssf=Mx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ff?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=RR.indexOf(t.bookType)>-1,a=uR();xj(t=t||{});var s=tj(),o="",l=0;if(t.cellXfs=[],Go(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(s,o,pR(e.Props,t)),a.coreprops.push(o),Kt(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,kt(s,o,gR(e.Props)),a.extprops.push(o),Kt(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&Sn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(s,o,xR(e.Custprops)),a.custprops.push(o),Kt(t.rels,4,o,Mt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,kt(s,o,zR(l-1,t,e,f)),a.sheets.push(o),Kt(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Mt.WS[0])}if(h){var g=h["!comments"],m=!1,x="";if(g&&g.length>0){var b=!1;g.forEach(function(y){y[1].forEach(function(v){v.T==!0&&(b=!0)})}),b&&(x="xl/threadedComments/threadedComment"+l+"."+r,kt(s,x,wY(g,d,t)),a.threadedcomments.push(x),Kt(f,-1,"../threadedComments/threadedComment"+l+"."+r,Mt.TCMNT)),x="xl/comments"+l+"."+r,kt(s,x,MR(g)),a.comments.push(x),Kt(f,-1,"../comments"+l+"."+r,Mt.CMNT),m=!0}h["!legacy"]&&m&&kt(s,"xl/drawings/vmlDrawing"+l+".vml",DR(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&kt(s,fR(o),Zc(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(s,o,NR(t.Strings,t)),a.strs.push(o),Kt(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(s,o,GR(e)),a.workbooks.push(o),Kt(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(s,o,OR(e.Themes,t)),a.themes.push(o),Kt(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(s,o,ER(e,t)),a.styles.push(o),Kt(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",kt(s,o,e.vbaraw),a.vba.push(o),Kt(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(s,o,CR()),a.metadata.push(o),Kt(t.wbrels,-1,"metadata."+r,Mt.XLMETA),d.length>1&&(o="xl/persons/person.xml",kt(s,o,kY(d)),a.people.push(o),Kt(t.wbrels,-1,"persons/person.xml",Mt.PEOPLE)),kt(s,"[Content_Types].xml",dR(a,t)),kt(s,"_rels/.rels",Zc(t.rels)),kt(s,"xl/_rels/workbook."+r+".rels",Zc(t.wbrels)),delete t.revssf,delete t.ssf,s}function HZ(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ws(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function eI(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return w0(t.file,qt.write(e,{type:Ft?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return qt.write(e,t)}function WZ(e,t){var r=pa(t||{}),n=KZ(e,r);return GZ(n,r)}function GZ(e,t){var r={},n=Ft?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?qt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Ox(a))}return t.password&&typeof encrypt_agile<"u"?eI(encrypt_agile(a,t.password),t):t.type==="file"?w0(t.file,a):t.type=="string"?Mf(a):a}function qZ(e,t){var r=t||{},n=uZ(e,r);return eI(n,r)}function Oi(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return kh(Sh(n));case"binary":return Sh(n);case"string":return e;case"file":return w0(t.file,n,"utf8");case"buffer":return Ft?Es(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Oi(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function YZ(e,t){switch(t.type){case"base64":return kh(e);case"binary":return e;case"string":return e;case"file":return w0(t.file,e,"binary");case"buffer":return Ft?Es(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?kh(r):t.type=="string"?Mf(r):r;case"file":return w0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function tI(e,t){jW(),MQ(e);var r=pa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=tI(e,r);return r.type="array",Ox(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Oi(lZ(e,r),r);case"slk":case"sylk":return Oi(Oq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Oi(XR(e.Sheets[e.SheetNames[a]],r),r);case"txt":return YZ(nI(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Oi(vj(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Oi(Cq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return fp(Aq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Oi(Dq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Oi(Bq.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Oi(SR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Oi(ZR(e,r),r);case"wk1":return fp(o_.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return fp(o_.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),fp(YR(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),qZ(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return WZ(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function XZ(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function rI(e,t,r){var n={};return n.type="file",n.file=t,XZ(n),tI(e,n)}function JZ(e,t,r,n,a,s,o,l){var c=kn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=o?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&m===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?m:ks(g,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function Zm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=cr(d);break;case"number":c=cr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=kn(c.s.r),h=[],p=[],g=0,m=0,x=Array.isArray(e),b=c.s.r,y=0,v={};x&&!e[b]&&(e[b]=[]);var w=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(w[y]||{}).hidden)switch(h[y]=In(y),r=x?e[b][y]:e[h[y]+f],n){case 1:s[y]=y-c.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ks(r,null,u),m=v[o]||0,!m)v[o]=1;else{do l=o+"_"+m++;while(v[l]);v[o]=m,v[l]=1}s[y]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(k[b]||{}).hidden){var N=JZ(e,c,b,h,n,s,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=N.row)}return p.length=g,p}var m_=/"/g;function QZ(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=kn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:ks(p,null,l));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===s||m===34||l.forceQuotes){d='"'+d.replace(m_,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(m_,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function vj(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=cr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=In(g));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=QZ(e,a,x,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function nI(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vj(e,t);return r}function ZZ(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=cr(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=In(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=kn(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function aI(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?on(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=cr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){Sn(m).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var y=m[b],v="z",w="",k=Ht({c:l+p,r:o+x+a});u=Ph(s,k),y&&typeof y=="object"&&!(y instanceof Date)?s[k]=y:(typeof y=="number"?v="n":typeof y=="boolean"?v="b":typeof y=="string"?v="s":y instanceof Date?(v="d",n.cellDates||(v="n",y=ha(y)),w=n.dateNF||Sr[14]):y===null&&n.nullError&&(v="e",y=0),u?(u.t=v,u.v=y,delete u.w,delete u.R,w&&(u.z=w)):s[k]=u={t:v,v:y},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=kn(o);if(a)for(p=0;p<h.length;++p)s[In(p+l)+g]={t:"s",v:h[p]};return s["!ref"]=Rr(d),s}function eee(e,t){return aI(null,e,t)}function Ph(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=on(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ph(e,Ht(t)):Ph(e,Ht({r:t,c:r||0}))}function tee(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function ree(){return{SheetNames:[],Sheets:{}}}function nee(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(WR(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function aee(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=tee(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function iee(e,t){return e.z=t,e}function iI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function see(e,t,r){return iI(e,"#"+t,r)}function oee(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function lee(e,t,r,n){for(var a=typeof t!="string"?t:cr(t),s=typeof t=="string"?t:Rr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Ph(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Ri={encode_col:In,encode_row:kn,encode_cell:Ht,encode_range:Rr,decode_col:oj,decode_row:sj,split_cell:jG,decode_cell:on,decode_range:Aa,format_cell:ks,sheet_add_aoa:aR,sheet_add_json:aI,sheet_add_dom:JR,aoa_to_sheet:td,json_to_sheet:eee,table_to_sheet:QR,table_to_book:CZ,sheet_to_csv:vj,sheet_to_txt:nI,sheet_to_json:Zm,sheet_to_html:XR,sheet_to_formulae:ZZ,sheet_to_row_object_array:Zm,sheet_get_cell:Ph,book_new:ree,book_append_sheet:nee,book_set_sheet_visibility:aee,cell_set_number_format:iee,cell_set_hyperlink:iI,cell_set_internal_link:see,cell_add_comment:oee,sheet_set_array_formula:lee,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function cee({isOpen:e,onClose:t,data:r,plantName:n,bahanBakuOptions:a}){const s=new Date().toISOString().split("T")[0],o=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],[l,c]=j.useState(o),[u,d]=j.useState(s),[f,h]=j.useState([]),[p,g]=j.useState(!0),[m,x]=j.useState(!1),b=P=>{g(!1),h(_=>_.includes(P)?_.filter(O=>O!==P):[..._,P])},y=()=>{p?(g(!1),h([])):(g(!0),h([]))},v=P=>{if(typeof P=="string")try{return JSON.parse(P)}catch{return[]}return P||[]},w=P=>P.map(_=>`${_.berat} ${_.unit}`).join(", "),k=()=>r.filter(P=>{const _=new Date(P.tanggal),O=new Date(l),C=new Date(u);_.setHours(0,0,0,0),O.setHours(0,0,0,0),C.setHours(0,0,0,0);const D=_>=O&&_<=C,H=p||f.includes(P.bahanBaku);return D&&H}),N=k().length,S=()=>{x(!0);try{const P=k();if(P.length===0){alert("Tidak ada data untuk diekspor dengan filter yang dipilih."),x(!1);return}const _=[...P].sort((R,G)=>new Date(R.tanggal).getTime()-new Date(G.tanggal).getTime()),O={};_.forEach(R=>{const G=R.bahanBaku||"Unknown";O[G]||(O[G]=[]),O[G].push(R)});const C=Object.keys(O).sort((R,G)=>R.localeCompare(G)),D=Ri.book_new(),H=[];H.push([`Data Penerimaan Bahan Baku - ${n}`]),H.push([`Periode: ${T(l)} s/d ${T(u)}`]),H.push([`Filter: ${p?"Semua Bahan Baku":f.join(", ")}`]),H.push([]);let ee=0;C.forEach(R=>{const G=O[R],be=G.reduce((Te,ce)=>Te+(ce.totalBerat||0),0);ee+=be,H.push([`Bahan Baku: ${R}`]),H.push(["No","Tanggal","Detail Berat & Unit","Total Berat"]),G.forEach((Te,ce)=>{const pe=v(Te.entries);H.push([ce+1,T(Te.tanggal),w(pe),Te.totalBerat||0])}),H.push(["","",`Subtotal ${R} (${G.length} data)`,be]),H.push([])}),H.push(["","",`Grand Total (${_.length} data)`,ee]);const W=Ri.aoa_to_sheet(H);W["!cols"]=[{wch:5},{wch:15},{wch:35},{wch:15}];const Y=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:3}},{s:{r:2,c:0},e:{r:2,c:3}}];H.forEach((R,G)=>{typeof R[0]=="string"&&R[0].startsWith("Bahan Baku: ")&&Y.push({s:{r:G,c:0},e:{r:G,c:3}})}),W["!merges"]=Y,Ri.book_append_sheet(D,W,"Data Bahan Baku");const te=[];te.push([`Rekap Penerimaan Bahan Baku - ${n}`]),te.push([`Periode: ${T(l)} s/d ${T(u)}`]),te.push([]),te.push(["No","Bahan Baku","Jumlah Penerimaan","Total Berat"]);let q=1,ue=0;C.forEach(R=>{const G=O[R],be=G.reduce((Te,ce)=>Te+(ce.totalBerat||0),0);te.push([q++,R,G.length,be]),ue+=be}),te.push([]),te.push(["","Total",_.length,ue]);const le=Ri.aoa_to_sheet(te);le["!cols"]=[{wch:5},{wch:20},{wch:20},{wch:15}],le["!merges"]=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:3}}],Ri.book_append_sheet(D,le,"Rekap Bahan Baku");const B=`${l.replace(/-/g,"")}_${u.replace(/-/g,"")}`,F=p?"Semua":f.length<=2?f.join("_"):`${f.length}_BahanBaku`,L=`BahanBaku_${n}_${F}_${B}.xlsx`;rI(D,L),t()}catch(P){console.error("Export error:",P),alert("Gagal mengekspor data. Silakan coba lagi.")}finally{x(!1)}},T=P=>P?new Date(P).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-";return i.jsx(xt,{isOpen:e,onClose:t,title:"",size:"lg",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green-100 dark:bg-green-900/40 mb-3",children:i.jsx(Of,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),i.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Export ke Excel"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Data Penerimaan Bahan Baku - ",n]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(qa,{className:"h-4 w-4 text-primary-500"}),"Rentang Tanggal"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Oe,{label:"Dari Tanggal",type:"date",value:l,onChange:P=>c(P.target.value)}),i.jsx(Oe,{label:"Sampai Tanggal",type:"date",value:u,onChange:P=>d(P.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(vh,{className:"h-4 w-4 text-primary-500"}),"Pilih Bahan Baku"]}),i.jsxs("button",{type:"button",onClick:y,className:Ge("w-full flex items-center gap-3 p-3 rounded-lg border transition-all duration-150",p?"border-primary-400 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700":"border-border bg-card hover:border-primary-300 dark:hover:border-primary-700"),children:[p?i.jsx(fP,{className:"h-5 w-5 text-primary-600 dark:text-primary-400 flex-shrink-0"}):i.jsx(yP,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:Ge("text-sm font-medium",p?"text-primary-700 dark:text-primary-300":"text-foreground"),children:"Semua Bahan Baku"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:a.map(P=>{const _=!p&&f.includes(P.value);return i.jsxs("button",{type:"button",onClick:()=>b(P.value),disabled:p,className:Ge("flex items-center gap-2 p-2.5 rounded-lg border text-left transition-all duration-150",p?"border-primary-200 bg-primary-50/50 dark:bg-primary-900/10 dark:border-primary-800 opacity-60":_?"border-primary-400 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700":"border-border bg-card hover:border-primary-300 dark:hover:border-primary-700"),children:[p||_?i.jsx(fP,{className:"h-4 w-4 text-primary-600 dark:text-primary-400 flex-shrink-0"}):i.jsx(yP,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:Ge("text-xs font-medium truncate",p||_?"text-primary-700 dark:text-primary-300":"text-foreground"),children:P.label})]},P.value)})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-50 dark:bg-dark-800 rounded-lg border border-border",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Data yang akan diekspor:"}),i.jsxs("span",{className:Ge("text-sm font-bold",N>0?"text-green-600 dark:text-green-400":"text-red-500"),children:[N," data"]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-border",children:[i.jsx(ye,{variant:"secondary",onClick:t,children:"Batal"}),i.jsxs(ye,{onClick:S,disabled:N===0||!p&&f.length===0,isLoading:m,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export Excel (",N,")"]})]})]})})}let hp=null;function uee(){return(!hp||hp.state==="closed")&&(hp=new(window.AudioContext||window.webkitAudioContext)),hp}function sI(){const e=uee();return e.state==="suspended"&&e.resume(),e}function dee(e,t=.3){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(659.25,r),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t,r+.02),a.gain.exponentialRampToValueAtTime(.01,r+.3),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.3);const s=e.createOscillator(),o=e.createGain();s.type="sine",s.frequency.setValueAtTime(783.99,r+.12),o.gain.setValueAtTime(0,r+.12),o.gain.linearRampToValueAtTime(t*.8,r+.14),o.gain.exponentialRampToValueAtTime(.01,r+.5),s.connect(o),o.connect(e.destination),s.start(r+.12),s.stop(r+.5);const l=e.createOscillator(),c=e.createGain();l.type="triangle",l.frequency.setValueAtTime(1318.51,r),c.gain.setValueAtTime(0,r),c.gain.linearRampToValueAtTime(t*.15,r+.02),c.gain.exponentialRampToValueAtTime(.01,r+.25),l.connect(c),c.connect(e.destination),l.start(r),l.stop(r+.25)}function fee(e,t=.25){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="sine",n.frequency.setValueAtTime(880,r),n.frequency.exponentialRampToValueAtTime(587.33,r+.08),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t,r+.01),a.gain.exponentialRampToValueAtTime(.01,r+.15),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.15);const s=e.createOscillator(),o=e.createGain();s.type="triangle",s.frequency.setValueAtTime(1174.66,r),o.gain.setValueAtTime(0,r),o.gain.linearRampToValueAtTime(t*.3,r+.01),o.gain.exponentialRampToValueAtTime(.01,r+.1),s.connect(o),o.connect(e.destination),s.start(r),s.stop(r+.1)}function hee(e,t=.25){const r=e.currentTime;[523.25,659.25,783.99].forEach((a,s)=>{const o=e.createOscillator(),l=e.createGain(),c=r+s*.1;o.type="sine",o.frequency.setValueAtTime(a,c),l.gain.setValueAtTime(0,c),l.gain.linearRampToValueAtTime(t*(1-s*.15),c+.02),l.gain.exponentialRampToValueAtTime(.01,c+.35),o.connect(l),l.connect(e.destination),o.start(c),o.stop(c+.35)})}function pee(e,t=.2){const r=e.currentTime;for(let n=0;n<2;n++){const a=e.createOscillator(),s=e.createGain(),o=r+n*.18;a.type="triangle",a.frequency.setValueAtTime(740,o),s.gain.setValueAtTime(0,o),s.gain.linearRampToValueAtTime(t,o+.01),s.gain.exponentialRampToValueAtTime(.01,o+.12),a.connect(s),s.connect(e.destination),a.start(o),a.stop(o+.12)}}function mee(e,t=.2){const r=e.currentTime,n=e.createOscillator(),a=e.createGain();n.type="square",n.frequency.setValueAtTime(440,r),a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(t*.5,r+.01),a.gain.exponentialRampToValueAtTime(.01,r+.15),n.connect(a),a.connect(e.destination),n.start(r),n.stop(r+.15);const s=e.createOscillator(),o=e.createGain();s.type="square",s.frequency.setValueAtTime(349.23,r+.15),o.gain.setValueAtTime(0,r+.15),o.gain.linearRampToValueAtTime(t*.5,r+.16),o.gain.exponentialRampToValueAtTime(.01,r+.35),s.connect(o),o.connect(e.destination),s.start(r+.15),s.stop(r+.35)}const oI={notification:dee,message:fee,success:hee,warning:pee,error:mee};function gee(){const e=j.useRef({}),t=j.useRef(!0);j.useEffect(()=>{const o=localStorage.getItem("plantiq_sound_enabled");o!==null&&(t.current=o==="true")},[]);const r=j.useCallback((o="notification",l=1e3)=>{if(!t.current)return;const c=Date.now(),u=e.current[o]||0;if(!(c-u<l)){e.current[o]=c;try{const d=sI(),f=oI[o];f&&f(d,.3)}catch(d){console.warn("Could not play notification sound:",d)}}},[]),n=j.useCallback(()=>(t.current=!t.current,localStorage.setItem("plantiq_sound_enabled",String(t.current)),t.current),[]),a=j.useCallback(()=>t.current,[]),s=j.useCallback(o=>{t.current=o,localStorage.setItem("plantiq_sound_enabled",String(o))},[]);return{playSound:r,toggleSound:n,isSoundEnabled:a,setSoundEnabled:s}}function Cy(e="notification"){if(localStorage.getItem("plantiq_sound_enabled")!=="false")try{const r=sI(),n=oI[e];n&&n(r,.3)}catch(r){console.warn("Could not play notification sound:",r)}}const pp=e=>e.toLocaleString("id-ID",{maximumFractionDigits:0}),lI=e=>{st(async()=>{const{setUserOfflineBackground:t}=await Promise.resolve().then(()=>ot);return{setUserOfflineBackground:t}},void 0).then(({setUserOfflineBackground:t})=>{t(e)}).catch(t=>{console.error("Error setting offline status:",t)})},xee=()=>{const{user:e}=Et(),[t,r]=j.useState([]),[n,a]=j.useState({totalProduksiNPK:0,totalProduksiBlending:0,totalProduksiNPKMini:0,totalDowntime:0,workRequestPending:0,troubleRecordOpen:0,vibrasiWarnings:0,gatePassToday:0,bahanBakuToday:0}),[s,o]=j.useState(!1),[l,c]=j.useState(new Date);j.useEffect(()=>{const w=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(w)},[]);const u=j.useCallback(async()=>{try{const{fetchDataByPlant:w,SHEETS:k}=await st(async()=>{const{fetchDataByPlant:A,SHEETS:M}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:A,SHEETS:M}},void 0),N=new Date().getFullYear(),S=new Date().toISOString().split("T")[0],T=A=>{if(typeof A=="number")return A;if(typeof A=="string"){const M=parseFloat(A.replace(/,/g,""));return isNaN(M)?0:M}return 0},[P,_,O,C,D,H,ee,W,Y]=await Promise.all([w(k.PRODUKSI_NPK),w(k.PRODUKSI_BLENDING),w(k.PRODUKSI_NPK_MINI),w(k.DOWNTIME),w(k.WORK_REQUEST),w(k.TROUBLE_RECORD),w(k.VIBRASI),w(k.GATE_PASS),w(k.BAHAN_BAKU)]),te=A=>A.filter(M=>M.tanggal?new Date(M.tanggal).getFullYear()===N:!1),q=A=>A.filter(M=>M.tanggal?M.tanggal.startsWith(S):!1),ue=te(P.data||[]),le=te(_.data||[]),B=te(O.data||[]),F=te(C.data||[]),L=D.data||[],R=H.data||[],G=ee.data||[],be=q(W.data||[]),Te=q(Y.data||[]),ce=ue.reduce((A,M)=>{const z=M.total!==void 0&&M.total!==null?T(M.total):T(M.shiftMalamOnspek)+T(M.shiftMalamOffspek)+T(M.shiftPagiOnspek)+T(M.shiftPagiOffspek)+T(M.shiftSoreOnspek)+T(M.shiftSoreOffspek);return A+z},0),pe=le.reduce((A,M)=>A+T(M.tonase),0),Pe=B.reduce((A,M)=>A+T(M.tonase),0),ge=F.reduce((A,M)=>A+T(M.downtime),0),Ae=L.filter(A=>!A.eksekutor||A.eksekutor==="").length,ne=R.filter(A=>A.status==="Open"||A.status==="In Progress").length,E=G.filter(A=>A.status==="Warning"||A.status==="Critical"||A.status==="Alert").length;a({totalProduksiNPK:ce,totalProduksiBlending:pe,totalProduksiNPKMini:Pe,totalDowntime:ge,workRequestPending:Ae,troubleRecordOpen:ne,vibrasiWarnings:E,gatePassToday:be.length,bahanBakuToday:Te.length})}catch(w){console.error("Error fetching dashboard metrics:",w)}},[]);j.useEffect(()=>{u();const w=setInterval(u,6e4);return()=>clearInterval(w)},[u]);const d=j.useCallback(async()=>{if(e)try{const{readData:w,createData:k,updateData:N,SHEETS:S}=await st(async()=>{const{readData:C,createData:D,updateData:H,SHEETS:ee}=await Promise.resolve().then(()=>ot);return{readData:C,createData:D,updateData:H,SHEETS:ee}},void 0),_=((await w(S.ACTIVE_USERS)).data||[]).find(C=>C.username===e.username),O=new Date().toISOString();_?await N(S.ACTIVE_USERS,{id:_.id,lastActive:O,status:"online"}):await k(S.ACTIVE_USERS,{username:e.username,namaLengkap:e.namaLengkap||e.nama||e.username,role:e.role,plant:e.plant,lastActive:O,status:"online"})}catch(w){console.error("Error updating active status:",w)}},[e]),f=j.useCallback(async()=>{try{const{readData:w,SHEETS:k}=await st(async()=>{const{readData:S,SHEETS:T}=await Promise.resolve().then(()=>ot);return{readData:S,SHEETS:T}},void 0),N=await w(k.ACTIVE_USERS);if(N.success&&N.data){const S=N.data,T=new Date().getTime(),P=45*1e3,_=S.filter(D=>{const H=new Date(D.lastActive).getTime();return T-H<P&&D.status==="online"}),O=new Map;_.forEach(D=>{const H=O.get(D.username);if(!H)O.set(D.username,D);else{const ee=new Date(H.lastActive).getTime();new Date(D.lastActive).getTime()>ee&&O.set(D.username,D)}});const C=Array.from(O.values()).sort((D,H)=>(D.namaLengkap||D.username).localeCompare(H.namaLengkap||H.username));r(C)}}catch(w){console.error("Error fetching active users:",w)}},[]);j.useEffect(()=>{if(e){d(),f();const w=setInterval(d,15e3),k=setInterval(f,5e3);return()=>{clearInterval(w),clearInterval(k)}}},[e,d,f]),j.useEffect(()=>{const w=()=>{e&&e.username&&lI(e.username)},k=()=>{w()},N=()=>{document.visibilityState==="hidden"?w():document.visibilityState==="visible"&&e&&d()};return window.addEventListener("beforeunload",k),document.addEventListener("visibilitychange",N),()=>{window.removeEventListener("beforeunload",k),document.removeEventListener("visibilitychange",N)}},[e,d]);const h=w=>{switch(w){case"admin":return"bg-red-500";case"supervisor":return"bg-blue-500";case"manager":return"bg-purple-500";case"avp":return"bg-emerald-500";default:return"bg-gray-500"}},p=w=>{switch(w){case"NPK1":return"bg-orange-500";case"NPK2":return"bg-cyan-500";case"ALL":return"bg-gradient-to-r from-orange-500 to-cyan-500";default:return"bg-gray-500"}},g=w=>w.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),m=w=>w.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),b=[{id:"greeting",icon:"",text:`${(()=>{const w=l.getHours();return w>=5&&w<11?"Selamat Pagi":w>=11&&w<15?"Selamat Siang":w>=15&&w<18?"Selamat Sore":"Selamat Malam"})()}! ${g(l)}  ${m(l)} WIB`,bgColor:"bg-white/15"},{id:"produksi",icon:"",text:`Produksi NPK ${new Date().getFullYear()}: ${pp(n.totalProduksiNPK)} Ton`,bgColor:"bg-green-500/20"},{id:"blending",icon:"",text:`Produksi Blending: ${pp(n.totalProduksiBlending)} Ton`,bgColor:"bg-blue-500/20"},...n.totalProduksiNPKMini>0?[{id:"npkmini",icon:"",text:`Produksi NPK Mini: ${pp(n.totalProduksiNPKMini)} Ton`,bgColor:"bg-teal-500/20"}]:[],...n.totalDowntime>0?[{id:"downtime",icon:"",text:`Total Downtime: ${pp(n.totalDowntime)} Jam`,bgColor:"bg-amber-500/20"}]:[],...n.workRequestPending>0?[{id:"wr-pending",icon:"",text:`Work Request Pending: ${n.workRequestPending} item`,bgColor:"bg-orange-500/20"}]:[],...n.troubleRecordOpen>0?[{id:"trouble",icon:"",text:`Trouble Record Open: ${n.troubleRecordOpen} masalah`,bgColor:"bg-red-500/20"}]:[],...n.vibrasiWarnings>0?[{id:"vibrasi",icon:"",text:`Vibrasi Warning/Critical: ${n.vibrasiWarnings} alat`,bgColor:"bg-yellow-500/20"}]:[],...n.gatePassToday>0?[{id:"gatepass",icon:"",text:`Gate Pass Hari Ini: ${n.gatePassToday} kendaraan`,bgColor:"bg-cyan-500/20"}]:[],...n.bahanBakuToday>0?[{id:"bahanbaku",icon:"",text:`Penerimaan BB Hari Ini: ${n.bahanBakuToday} batch`,bgColor:"bg-purple-500/20"}]:[]],y=b.length+t.length,v=Math.max(y*4,30);return i.jsx("div",{className:"bg-dark-900 text-white overflow-hidden relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:i.jsxs("div",{className:"flex items-center h-8 relative z-10",children:[i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 bg-dark-800 h-full border-r border-dark-700 z-10",children:[i.jsxs("div",{className:"relative",children:[i.jsx(xh,{className:"h-4 w-4"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full animate-ping"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-green-400 rounded-full"})]}),i.jsx("span",{className:"text-[10px] font-semibold whitespace-nowrap tracking-widest text-dark-400 uppercase",children:"LIVE"})]}),i.jsx("div",{className:"flex-1 overflow-hidden relative h-full flex items-center",children:i.jsx("div",{className:Ge("marquee-wrapper",s&&"paused"),children:i.jsxs("div",{className:"marquee-inner",style:{animationDuration:`${v}s`},children:[b.map(w=>i.jsxs("div",{className:Ge("inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 rounded-md","transition-all duration-150 cursor-default","bg-dark-800/80 border border-dark-700/50"),children:[i.jsx("span",{className:"text-xs drop-shadow-sm",children:w.icon}),i.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.text})]},w.id)),t.length>0&&i.jsx("div",{className:"inline-flex items-center mx-4",children:i.jsx("span",{className:"text-white/30",children:""})}),t.length>0&&i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1.5 bg-dark-800 border border-dark-700/50 rounded-md",children:[i.jsx(vu,{className:"h-3 w-3 text-dark-400"}),i.jsxs("span",{className:"text-[11px] font-semibold whitespace-nowrap text-dark-300",children:["Online (",t.length,")"]})]}),t.map(w=>i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-1 bg-dark-800/80 border border-dark-700/50 rounded-md cursor-default",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hP,{className:"h-2 w-2 fill-green-400 text-green-400"}),i.jsx(hP,{className:"absolute inset-0 h-2 w-2 fill-green-400 text-green-400 animate-ping opacity-75"})]}),i.jsx("span",{className:"text-[11px] font-medium whitespace-nowrap text-dark-300",children:w.namaLengkap}),i.jsx("span",{className:Ge("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold uppercase shadow-sm",h(w.role)),children:w.role}),i.jsx("span",{className:Ge("text-[10px] px-1.5 py-0.5 rounded-full text-white font-semibold shadow-sm",p(w.plant)),children:w.plant})]},w.username))]})})}),i.jsx("div",{className:"hidden lg:flex items-center gap-2 px-3 border-l border-dark-700 h-full bg-dark-800",children:i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-dark-700 rounded text-dark-300",children:[i.jsx(vu,{className:"h-3 w-3"}),i.jsx("span",{className:"text-[11px] font-semibold",children:t.length})]})})]})})},vee=[{name:"Dashboard",path:"/dashboard",icon:i.jsx(XD,{className:"h-5 w-5"})},{name:"Produksi",path:"/produksi",icon:i.jsx(xh,{className:"h-5 w-5"}),children:[{name:"NPK Granul 1",path:"/produksi/npk1"},{name:"NPK Granul 2",path:"/produksi/npk2"},{name:"Blending",path:"/produksi/blending"},{name:"NPK Mini",path:"/produksi/npk-mini"},{name:"Retail",path:"/produksi/retail"}]},{name:"Laporan",path:"/laporan",icon:i.jsx(Ta,{className:"h-5 w-5"}),children:[{name:"KOP NPK1",path:"/laporan/kop-npk1"},{name:"KOP NPK2",path:"/laporan/kop-npk2"},{name:"Timesheet Forklift NPK1",path:"/laporan/timesheet-forklift-npk1"},{name:"Timesheet Forklift NPK2",path:"/laporan/timesheet-forklift-npk2"},{name:"Timesheet Loader NPK1",path:"/laporan/timesheet-loader-npk1"},{name:"Timesheet Loader NPK2",path:"/laporan/timesheet-loader-npk2"},{name:"Downtime NPK1",path:"/laporan/downtime-npk1"},{name:"Downtime NPK2",path:"/laporan/downtime-npk2"},{name:"Pemakaian BB NPK1",path:"/laporan/pemakaian-bb-npk1"},{name:"Pemakaian BB NPK2",path:"/laporan/pemakaian-bb-npk2"}]},{name:"Data",path:"/data",icon:i.jsx(Fb,{className:"h-5 w-5"}),children:[{name:"Inventaris Material",path:"/data/inventaris"},{name:"Work Request NPK1",path:"/data/work-request-npk1"},{name:"Work Request NPK2",path:"/data/work-request-npk2"},{name:"Penerimaan Bahan Baku NPK1",path:"/data/bahan-baku-npk1"},{name:"Penerimaan Bahan Baku NPK2",path:"/data/bahan-baku-npk2"},{name:"Vibrasi NPK1",path:"/data/vibrasi-npk1"},{name:"Vibrasi NPK2",path:"/data/vibrasi-npk2"},{name:"Gate Pass NPK1",path:"/data/gate-pass-npk1"},{name:"Gate Pass NPK2",path:"/data/gate-pass-npk2"},{name:"Perbaikan Tahunan NPK1",path:"/data/perbaikan-tahunan-npk1"},{name:"Perbaikan Tahunan NPK2",path:"/data/perbaikan-tahunan-npk2"},{name:"Trouble Record NPK1",path:"/data/trouble-record-npk1"},{name:"Trouble Record NPK2",path:"/data/trouble-record-npk2"},{name:"Dokumentasi Foto NPK1",path:"/data/dokumentasi-foto-npk1"},{name:"Dokumentasi Foto NPK2",path:"/data/dokumentasi-foto-npk2"},{name:"Rekap BBM NPK1",path:"/data/rekap-bbm-npk1"},{name:"Rekap BBM NPK2",path:"/data/rekap-bbm-npk2"},{name:"Riksa Timb Portabel",path:"/data/riksa-timb-portabel"}]},{name:"Pengaturan",path:"/settings",icon:i.jsx(PH,{className:"h-5 w-5"}),children:[{name:"Profil",path:"/settings/akun"},{name:"RKAP",path:"/settings/rkap"},{name:"Users",path:"/settings/users"},{name:"Approval",path:"/settings/approval"}]}],yee=()=>{const[e,t]=j.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>t(!0),className:Ge("px-2 py-0.5 rounded font-medium text-[10px] transition-all duration-200","bg-muted text-muted-foreground","hover:bg-primary-100 hover:text-primary-700 dark:hover:bg-primary-900/40 dark:hover:text-primary-400","cursor-pointer flex items-center gap-1"),title:"Klik untuk melihat perjalanan versi",children:[i.jsx(At,{className:"h-3 w-3"}),"v3.2.1"]}),i.jsx(bW,{isOpen:e,onClose:()=>t(!1)})]})},bee=()=>{const e=Ju(),{user:t}=Et(),[r,n]=j.useState([]),{sidebarCollapsed:a,toggleSidebarCollapse:s,sidebarOpen:o,toggleSidebar:l,forceDesktopView:c}=vx(),[u,d]=j.useState(!1);j.useEffect(()=>{const y=()=>{d(window.innerWidth<1024&&!c)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const f=()=>{u&&o&&!c&&l()},p=(()=>{const y=t==null?void 0:t.plant,v=(t==null?void 0:t.role)||"";return vee.map(w=>{if(w.name==="Pengaturan"){if(!j5(v,y))return null;if(w.children){const k=w.children.filter(N=>N.path==="/settings/users"?S5(v):N.path==="/settings/rkap"?N5(v):!0);return k.length===0?null:{...w,children:k}}return w}if(w.name==="Produksi"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path==="/produksi/npk1"||N.path==="/produksi/retail"):y==="NPK2"&&(k=w.children.filter(N=>N.path==="/produksi/npk2"||N.path==="/produksi/blending"||N.path==="/produksi/npk-mini")),{...w,children:k}}if(w.name==="Laporan"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(k=w.children.filter(N=>N.path.includes("npk2"))),{...w,children:k}}if(w.name==="Data"&&w.children){let k=w.children;return y==="NPK1"?k=w.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(k=w.children.filter(N=>N.path.includes("npk2")||N.path==="/data/riksa-timb-portabel"||N.path==="/data/inventaris")),{...w,children:k}}return w}).filter(Boolean)})(),g=y=>{n(v=>v.includes(y)?[]:[y])},m=y=>e.pathname===y,x=y=>y.children?y.children.some(v=>e.pathname===v.path):e.pathname===y.path,b=u&&!c;return i.jsxs(i.Fragment,{children:[b&&o&&i.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:l}),i.jsxs("aside",{className:Ge("fixed left-0 top-0 z-50 h-screen transition-all duration-300","bg-card dark:bg-dark-800","border-r border-border","shadow-soft",b?o?"translate-x-0 w-64":"-translate-x-full w-64":a?"w-20":"w-64"),children:[i.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-border",children:[(!a||b)&&i.jsxs(Z0,{to:"/dashboard",className:"flex items-center gap-3 group",onClick:f,children:[i.jsx("div",{className:"relative",children:i.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 group-hover:scale-105"})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-display font-semibold text-base text-foreground",children:"Plantiffy"}),i.jsx("span",{className:"block text-[10px] text-muted-foreground -mt-0.5 tracking-wide",children:"Plant Intelligence"})]})]}),a&&!b&&i.jsx(Z0,{to:"/dashboard",className:"mx-auto",onClick:f,children:i.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-8 w-8 transition-transform duration-200 hover:scale-105"})}),!b&&!a&&i.jsx(Rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:s,className:"p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(V2,{className:"h-4 w-4"})}),a&&!b&&i.jsx(Rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:s,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(z2,{className:"h-4 w-4"})}),b&&i.jsx("button",{onClick:l,className:"p-1.5 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(Za,{className:"h-5 w-5"})})]}),i.jsx("nav",{className:"p-2 space-y-0.5 overflow-y-auto h-[calc(100vh-7.5rem)] scrollbar-thin",children:p.map(y=>i.jsx("div",{children:y.children?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>(!a||b)&&g(y.name),className:Ge("w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150","group relative",x(y)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[x(y)&&i.jsx(Rt.div,{layoutId:"activeParentIndicator",className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 bg-primary-500 rounded-r"}),i.jsx("span",{className:Ge("p-1.5 rounded-md transition-colors",x(y)?"bg-primary-100 dark:bg-primary-800/40 text-primary-600":"text-muted-foreground"),children:y.icon}),(!a||b)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"flex-1 text-left",children:y.name}),i.jsx(_x,{className:Ge("h-4 w-4 transition-transform duration-300",r.includes(y.name)&&"rotate-180")})]})]}),(!a||b)&&i.jsx(Co,{children:r.includes(y.name)&&i.jsx(Rt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden",children:i.jsx("div",{className:"ml-4 pl-4 py-1 space-y-0.5 border-l border-border",children:y.children.map(v=>i.jsx(Z0,{to:v.path,onClick:f,className:Ge("block px-3 py-1.5 text-[13px] rounded-md transition-all duration-150 relative",m(v.path)?"bg-primary-500 text-white font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:v.name},v.path))})})})]}):i.jsxs(Z0,{to:y.path,onClick:f,className:Ge("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150 relative group",m(y.path)?"bg-primary-500 text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[i.jsx("span",{className:Ge("p-1.5 rounded-md transition-colors",m(y.path)?"bg-white/20":"text-muted-foreground"),children:y.icon}),(!a||b)&&i.jsx("span",{children:y.name})]})},y.name))}),(!a||b)&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-border",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:" 2025 Plantiffy"}),i.jsx(yee,{})]})})]})]})},wee=()=>{const e=p0(),{user:t,logout:r}=Et(),{sidebarCollapsed:n,toggleSidebar:a,darkMode:s,toggleDarkMode:o,forceDesktopView:l,toggleForceDesktopView:c}=vx(),{notifications:u,unreadCount:d,markAsRead:f,markAllAsRead:h,setNotifications:p}=u9(),{isOpen:g,toggleChat:m,unreadChatCount:x,setUnreadChatCount:b}=jm(),[y,v]=j.useState(!1),[w,k]=j.useState(!1),N=j.useRef(null),[S,T]=j.useState(!1),{playSound:P,isSoundEnabled:_,toggleSound:O}=gee(),[C,D]=j.useState(!0),H=j.useRef(0),ee=j.useRef(0);j.useEffect(()=>{D(_())},[_]);const[W,Y]=j.useState(!1),[te,q]=j.useState(null),ue=L=>{le(L.id),L.sheetName&&L.recordId&&(q(L),Y(!0),k(!1))};j.useEffect(()=>{const L=()=>{const R=window.innerWidth<1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);T(R)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const le=async L=>{try{f(L);const{updateData:R,SHEETS:G}=await st(async()=>{const{updateData:be,SHEETS:Te}=await Promise.resolve().then(()=>ot);return{updateData:be,SHEETS:Te}},void 0);await R(G.NOTIFICATIONS,{id:L,read:!0})}catch(R){console.error("Error marking notification as read:",R)}},B=async()=>{try{const L=u.filter(be=>!be.read);h();const{updateData:R,SHEETS:G}=await st(async()=>{const{updateData:be,SHEETS:Te}=await Promise.resolve().then(()=>ot);return{updateData:be,SHEETS:Te}},void 0);await Promise.all(L.map(be=>R(G.NOTIFICATIONS,{id:be.id,read:!0})))}catch(L){console.error("Error marking all notifications as read:",L)}};j.useEffect(()=>{const L=async()=>{try{const{readData:R,SHEETS:G}=await st(async()=>{const{readData:Te,SHEETS:ce}=await Promise.resolve().then(()=>ot);return{readData:Te,SHEETS:ce}},void 0),be=await R(G.NOTIFICATIONS);if(be.success&&be.data){const ce=be.data.filter(Pe=>Pe.fromUser===(t==null?void 0:t.username)?!1:Pe.toUser==="ALL"||Pe.toUser===(t==null?void 0:t.username)||Pe.fromPlant===(t==null?void 0:t.plant)).sort((Pe,ge)=>new Date(ge.timestamp).getTime()-new Date(Pe.timestamp).getTime());p(ce);const pe=ce.filter(Pe=>!Pe.read).length;pe>H.current&&H.current>=0&&P("notification"),H.current=pe}}catch(R){console.error("Error loading notifications:",R)}};if(t){L();const R=setInterval(L,1e4);return()=>clearInterval(R)}},[t,p]),j.useEffect(()=>{const L=async()=>{if(t)try{const{readData:R,SHEETS:G}=await st(async()=>{const{readData:Te,SHEETS:ce}=await Promise.resolve().then(()=>ot);return{readData:Te,SHEETS:ce}},void 0),be=await R(G.CHAT_MESSAGES);if(be.success&&be.data){const Te=be.data,ce=[...Te].sort((M,me)=>new Date(M.timestamp).getTime()-new Date(me.timestamp).getTime()),{setMessages:pe,setLastFetchTimestamp:Pe}=jm.getState();pe(ce),Pe(new Date().toISOString());const ge=`chat_last_read_${t.username}`,Ae=localStorage.getItem(ge),ne=Ae?new Date(Ae).getTime():0,E=t.namaLengkap||t.nama||t.username,A=Te.filter(M=>M.sender===E?!1:new Date(M.timestamp).getTime()>ne).length;A>ee.current&&ee.current>=0&&!g&&P("message"),ee.current=A,b(A)}}catch(R){console.error("Error loading chat messages:",R)}};if(t){L();const R=setInterval(L,3e3);return()=>clearInterval(R)}},[t,b,g,P]),j.useEffect(()=>{const L=R=>{N.current&&!N.current.contains(R.target)&&k(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const F=()=>{t&&t.username&&lI(t.username),r(),e("/login")};return i.jsxs("header",{className:Ge("fixed top-8 right-0 z-30 h-14 transition-all duration-300","bg-card/95 dark:bg-dark-800/95 backdrop-blur-sm","border-b border-border",l?"left-64":"left-0 lg:left-64",n&&(l?"left-20":"lg:left-20")),children:[i.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[!l&&i.jsx("button",{onClick:a,className:"lg:hidden p-2 text-muted-foreground hover:bg-muted rounded-md transition-colors",children:i.jsx(bH,{className:"h-5 w-5"})}),i.jsx("div",{className:l?"block":"hidden lg:block"}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1 p-0.5 bg-muted rounded-lg",children:[i.jsx("button",{onClick:()=>{const L=O();D(L),L&&P("success")},className:Ge("p-2 rounded-md transition-all duration-150",C?"text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:C?"Suara notifikasi: Aktif":"Suara notifikasi: Nonaktif",children:C?i.jsx(eM,{className:"h-4 w-4"}):i.jsx(DH,{className:"h-4 w-4"})}),S&&i.jsx("button",{onClick:c,className:Ge("p-2 rounded-md transition-all duration-150",l?"bg-background shadow-sm text-primary-600 dark:text-primary-400":"text-muted-foreground hover:text-foreground"),title:l?"Tampilan HP":"Tampilan Desktop",children:l?i.jsx(Lc,{className:"h-4 w-4"}):i.jsx(kH,{className:"h-4 w-4"})}),i.jsx("button",{onClick:o,className:Ge("p-2 rounded-md transition-all duration-150","text-muted-foreground hover:text-foreground"),title:s?"Switch to Light Mode":"Switch to Dark Mode",children:i.jsx(Rt.div,{initial:!1,animate:{rotate:s?180:0},transition:{duration:.3},children:s?i.jsx(ZD,{className:"h-4 w-4"}):i.jsx(JD,{className:"h-4 w-4"})})})]}),i.jsxs("button",{onClick:m,className:Ge("relative p-2 rounded-lg transition-all duration-150",g?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[i.jsx(Mm,{className:"h-5 w-5"}),x>0&&!g&&i.jsx(Rt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:x>9?"9+":x})]}),i.jsxs("div",{className:"relative",ref:N,children:[i.jsxs("button",{onClick:()=>k(!w),className:Ge("relative p-2 rounded-lg transition-all duration-150",w?"bg-primary-500 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[i.jsx(Jc,{className:"h-5 w-5"}),d>0&&i.jsx(Rt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[9px] font-bold rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),i.jsx(Co,{children:w&&i.jsxs(Rt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border z-50 overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[i.jsxs("h3",{className:"font-semibold text-sm text-foreground flex items-center gap-2",children:[i.jsx(Jc,{className:"h-4 w-4 text-primary-500"}),"Notifikasi"]}),d>0&&i.jsx("button",{onClick:B,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Tandai semua dibaca"})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length===0?i.jsxs("div",{className:"px-4 py-8 text-center text-muted-foreground",children:[i.jsx(Jc,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),i.jsx("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):u.slice(0,10).map(L=>i.jsx("div",{className:Ge("px-4 py-3 border-b border-border hover:bg-muted/50 transition-colors",!L.read&&"bg-primary-50 dark:bg-primary-900/30"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:Ge("mt-1 h-2 w-2 rounded-full flex-shrink-0",L.read?"bg-muted-foreground/30":"bg-primary-500")}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:L.message}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:w5(L.timestamp)}),i.jsxs("div",{className:"flex items-center gap-2",children:[L.sheetName&&L.recordId&&i.jsxs("button",{onClick:()=>ue(L),className:"flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[i.jsx(_s,{className:"h-3 w-3"}),"Lihat Log"]}),!L.read&&i.jsx("button",{onClick:()=>le(L.id),className:"text-xs text-muted-foreground hover:text-foreground",children:"Tandai dibaca"})]})]})]})]})},L.id))})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>v(!y),className:Ge("flex items-center gap-2.5 px-2.5 py-1.5 rounded-lg transition-all duration-150","hover:bg-muted",y&&"ring-1 ring-border bg-muted"),children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:((t==null?void 0:t.namaLengkap)||(t==null?void 0:t.username)||"U").charAt(0).toUpperCase()})}),i.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 bg-emerald-500 border-2 border-card dark:border-dark-800 rounded-full"})]}),i.jsxs("div",{className:"hidden md:block text-left",children:[i.jsx("p",{className:"text-sm font-medium text-foreground leading-tight",children:t==null?void 0:t.namaLengkap}),i.jsxs("p",{className:"text-xs text-muted-foreground capitalize flex items-center gap-1",children:[i.jsx("span",{className:Ge("inline-block h-1.5 w-1.5 rounded-full",(t==null?void 0:t.role)==="admin"?"bg-red-500":(t==null?void 0:t.role)==="supervisor"?"bg-blue-500":(t==null?void 0:t.role)==="manager"?"bg-purple-500":(t==null?void 0:t.role)==="avp"?"bg-emerald-500":"bg-gray-500")}),t==null?void 0:t.role,"  ",t==null?void 0:t.plant]})]}),i.jsx(_x,{className:Ge("h-3.5 w-3.5 text-muted-foreground transition-transform duration-200",y&&"rotate-180")})]}),i.jsx(Co,{children:y&&i.jsxs(Rt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 z-50 overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[i.jsx("p",{className:"text-sm font-semibold text-foreground",children:t==null?void 0:t.namaLengkap}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["@",t==null?void 0:t.username]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ze,{variant:"primary",size:"sm",children:t==null?void 0:t.role}),i.jsx(Ze,{variant:"info",size:"sm",children:t==null?void 0:t.plant})]})]}),i.jsxs("button",{onClick:F,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[i.jsx(yH,{className:"h-4 w-4"}),"Keluar"]})]})})]})]})]}),i.jsx(yW,{isVisible:W,onClose:()=>{Y(!1),q(null)},notification:te})]})},kee=()=>{const{user:e}=Et(),{messages:t,isOpen:r,toggleChat:n,addOptimisticMessage:a,removeOptimisticMessage:s,setMessages:o,setUnreadChatCount:l}=jm(),[c,u]=j.useState(""),[d,f]=j.useState(!1),h=j.useRef(null),p=j.useRef(null),[g,m]=j.useState(!1),x=j.useRef(0),[b,y]=j.useState(null),[v,w]=j.useState(null),k=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{const q=ue=>{N.current&&!N.current.contains(ue.target)&&y(null)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const S=()=>{const q=p.current;return q?q.scrollHeight-q.scrollTop-q.clientHeight<100:!0},T=()=>{m(!S())},P=(q="smooth")=>{var ue;(ue=h.current)==null||ue.scrollIntoView({behavior:q})};j.useEffect(()=>{if(r&&e){const q=`chat_last_read_${e.username}`,ue=new Date().toISOString();localStorage.setItem(q,ue),l(0),setTimeout(()=>P("auto"),100)}},[r,e,l]),j.useEffect(()=>{if(r&&e&&t.length>0){const q=`chat_last_read_${e.username}`;localStorage.setItem(q,new Date().toISOString())}},[r,e,t.length]),j.useEffect(()=>{const q=t.length>x.current;x.current=t.length,q&&!g&&P()},[t,g]),j.useEffect(()=>{if(r){const q=setInterval(_,3e3);return()=>clearInterval(q)}},[r]);const _=async()=>{try{const{readData:q,SHEETS:ue}=await st(async()=>{const{readData:B,SHEETS:F}=await Promise.resolve().then(()=>ot);return{readData:B,SHEETS:F}},void 0),le=await q(ue.CHAT_MESSAGES);if(le.success&&le.data){const B=[...le.data].sort((F,L)=>new Date(F.timestamp).getTime()-new Date(L.timestamp).getTime());o(B)}}catch(q){console.error("Error fetching messages:",q)}},O=(q,ue,le)=>{le&&(q.preventDefault(),y({visible:!0,x:q.clientX,y:q.clientY,messageId:ue.id,messageText:ue.message}))},C=(q,ue)=>{ue&&(k.current=setTimeout(()=>{y({visible:!0,x:window.innerWidth/2,y:window.innerHeight-200,messageId:q.id,messageText:q.message})},500))},D=()=>{k.current&&(clearTimeout(k.current),k.current=null)},H=async()=>{if(!(!v||!v.text.trim()))try{const{updateData:q,SHEETS:ue}=await st(async()=>{const{updateData:le,SHEETS:B}=await Promise.resolve().then(()=>ot);return{updateData:le,SHEETS:B}},void 0);await q(ue.CHAT_MESSAGES,{id:v.id,message:v.text.trim(),edited:!0}),o(t.map(le=>le.id===v.id?{...le,message:v.text.trim(),edited:!0}:le)),w(null)}catch(q){console.error("Error editing message:",q)}},ee=async q=>{try{const{deleteData:ue,SHEETS:le}=await st(async()=>{const{deleteData:B,SHEETS:F}=await Promise.resolve().then(()=>ot);return{deleteData:B,SHEETS:F}},void 0);await ue(le.CHAT_MESSAGES,q),o(t.filter(B=>B.id!==q)),y(null)}catch(ue){console.error("Error deleting message:",ue)}},W=()=>{b&&(w({id:b.messageId,text:b.messageText}),y(null))},Y=async()=>{if(!c.trim()||!e)return;const q=e.namaLengkap||e.nama||e.username,ue=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,le=new Date().toISOString(),B=c.trim(),F={id:ue,sender:q,role:e.role,message:B,timestamp:le};a(F),u("");const L=`chat_last_read_${e.username}`;localStorage.setItem(L,le);try{const{createData:R,SHEETS:G}=await st(async()=>{const{createData:ce,SHEETS:pe}=await Promise.resolve().then(()=>ot);return{createData:ce,SHEETS:pe}},void 0),be={sender:q,role:e.role,message:B,timestamp:le};(await R(G.CHAT_MESSAGES,be)).success||(s(ue),console.error("Failed to send message"))}catch(R){s(ue),console.error("Error sending message:",R)}},te=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),v?H():Y()),q.key==="Escape"&&v&&w(null)};return r?i.jsxs(Rt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:Ge("fixed left-4 bottom-4 z-50 w-80 md:w-96","bg-card dark:bg-dark-800","rounded-lg shadow-soft-xl","border border-border","overflow-hidden"),children:[i.jsx("div",{className:"relative px-4 py-3 bg-primary-500 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-1.5 bg-white/15 rounded-md",children:i.jsx(Mm,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Chat Tim"}),i.jsxs("p",{className:"text-[11px] text-white/60",children:[t.length," pesan"]})]})]}),i.jsx("button",{onClick:n,className:"p-1.5 hover:bg-white/15 rounded-md transition-colors",children:i.jsx(Za,{className:"h-4 w-4"})})]})}),(b==null?void 0:b.visible)&&i.jsxs("div",{ref:N,className:"fixed z-[100] bg-card dark:bg-dark-800 rounded-lg shadow-soft-xl border border-border py-1 min-w-[140px]",style:{left:Math.min(b.x,window.innerWidth-160),top:Math.min(b.y,window.innerHeight-100)},children:[i.jsxs("button",{onClick:W,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-muted transition-colors",children:[i.jsx(ky,{className:"h-4 w-4"}),"Edit"]}),i.jsxs("button",{onClick:()=>ee(b.messageId),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[i.jsx(lr,{className:"h-4 w-4"}),"Hapus"]})]}),i.jsxs("div",{ref:p,onScroll:T,className:"h-80 overflow-y-auto p-4 space-y-3 bg-muted/30 dark:bg-dark-900/40",children:[t.length===0?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3 rounded-lg bg-muted flex items-center justify-center",children:i.jsx(Mm,{className:"h-7 w-7 opacity-40"})}),i.jsx("p",{className:"text-sm font-medium",children:"Belum ada pesan"}),i.jsx("p",{className:"text-xs mt-1",children:"Mulai percakapan dengan tim!"})]}):t.map((q,ue)=>{const le=q.sender===((e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||(e==null?void 0:e.username)),B=ue===0||t[ue-1].sender!==q.sender;return i.jsxs(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Ge("flex gap-2",le?"justify-end":"justify-start"),children:[!le&&B&&i.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-md bg-primary-100 dark:bg-primary-900/40 flex items-center justify-center text-primary-600 dark:text-primary-400 text-xs font-semibold",children:q.sender.charAt(0).toUpperCase()}),!le&&!B&&i.jsx("div",{className:"w-7"}),i.jsxs("div",{onContextMenu:F=>O(F,q,le),onTouchStart:()=>C(q,le),onTouchEnd:D,onTouchMove:D,className:Ge("max-w-[75%] rounded-lg px-3 py-2 select-none","transition-all duration-150",le?"bg-primary-500 text-white rounded-br-sm cursor-pointer":"bg-card dark:bg-dark-700 text-foreground border border-border rounded-bl-sm"),children:[!le&&B&&i.jsxs("p",{className:"text-xs font-semibold text-primary-600 dark:text-primary-400 mb-1",children:[q.sender,i.jsxs("span",{className:"ml-1 font-normal text-muted-foreground capitalize",children:[" ",q.role]})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:q.message}),i.jsxs("div",{className:Ge("flex items-center gap-1 mt-1",le?"justify-end":"justify-start"),children:[i.jsx("p",{className:Ge("text-[10px]",le?"text-white/60":"text-muted-foreground"),children:new Date(q.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}),q.edited&&i.jsx("span",{className:Ge("text-[10px] italic",le?"text-white/50":"text-muted-foreground"),children:"(diedit)"})]})]})]},q.id||ue)}),i.jsx("div",{ref:h})]}),v&&i.jsxs("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/30 border-t border-amber-200 dark:border-amber-700 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-300",children:[i.jsx(ky,{className:"h-4 w-4"}),i.jsx("span",{children:"Mengedit pesan"})]}),i.jsx("button",{onClick:()=>w(null),className:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:i.jsx(Za,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"p-3 border-t border-border bg-card dark:bg-dark-800",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("input",{type:"text",value:v?v.text:c,onChange:q=>v?w({...v,text:q.target.value}):u(q.target.value),onKeyDown:te,placeholder:v?"Edit pesan...":"Ketik pesan...",className:Ge("w-full px-3 py-2 bg-muted dark:bg-dark-900 border rounded-lg text-sm","focus:outline-none focus:ring-1 focus:ring-ring transition-all duration-150","text-foreground placeholder-muted-foreground",v?"border-amber-400 dark:border-amber-500 bg-amber-50/50 dark:bg-amber-900/20":"border-border focus:border-primary-500")})}),i.jsx(Rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v?H:Y,disabled:v?!v.text.trim():!c.trim()||d,className:Ge("p-2.5 text-white rounded-lg transition-all duration-150","disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",v?"bg-amber-500 hover:bg-amber-600":"bg-primary-500 hover:bg-primary-600"),children:v?i.jsx(ky,{className:"h-5 w-5"}):i.jsx(QD,{className:"h-5 w-5"})})]})})]}):null},jee=({children:e})=>{const{sidebarCollapsed:t,darkMode:r,forceDesktopView:n}=vx(),{isOpen:a}=jm();return j.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),j.useEffect(()=>{n?document.documentElement.classList.add("force-desktop"):document.documentElement.classList.remove("force-desktop")},[n]),i.jsxs("div",{className:Ge("min-h-screen bg-background transition-colors duration-200",n&&"force-desktop-view"),children:[i.jsx("div",{className:Ge("fixed top-0 right-0 z-40 transition-all duration-300",n?"left-64":"left-0 lg:left-64",t&&(n?"left-20":"lg:left-20")),children:i.jsx(xee,{})}),i.jsx(bee,{}),i.jsx(wee,{}),i.jsx("main",{className:Ge("pt-[5.5rem] min-h-screen transition-all duration-300",n?"pl-64":"pl-0 lg:pl-64",t&&(n?"pl-20":"lg:pl-20")),children:i.jsx("div",{className:"p-4 lg:p-6",children:e||i.jsx(b7,{})})}),i.jsx(Co,{children:a&&i.jsx(kee,{})})]})},See=()=>{st(async()=>{const{fetchDataByPlant:e,SHEETS:t}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:e,SHEETS:t}},void 0).then(({fetchDataByPlant:e,SHEETS:t})=>{Promise.all([e(t.PRODUKSI_NPK),e(t.PRODUKSI_BLENDING),e(t.DOWNTIME),e(t.WORK_REQUEST)]).catch(()=>{})})},Nee=()=>{const e=p0(),{login:t}=Et(),[r,n]=j.useState(""),[a,s]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(""),h=j.useCallback(async p=>{p.preventDefault(),f("");const g=r.trim();if(!g||!a){f("Username dan password harus diisi");return}u(!0);try{const m=await dM(g,a);if(m.success&&m.data){const x=m.data.user,b=m.data.session,y=H9("device");t(x,b.id,y),See(),e("/dashboard",{replace:!0})}else f(m.error||"Username atau password salah"),u(!1)}catch(m){console.error("Login error:",m),f("Terjadi kesalahan. Silakan coba lagi."),u(!1)}},[r,a,t,e]);return i.jsxs("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-500/5 rounded-full blur-3xl"})]}),i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Rt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center h-14 w-14 rounded-xl bg-primary-500 mb-4",children:i.jsx(xh,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-xl font-display font-semibold text-white",children:"NPK Production"}),i.jsx("p",{className:"text-dark-400 text-sm mt-1",children:"Management System"})]}),i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-6 text-center",children:"Selamat Datang"}),i.jsxs("form",{onSubmit:h,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Username"}),i.jsxs("div",{className:"relative",children:[i.jsx(yh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),i.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan username",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-300",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Dm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-500"}),i.jsx("input",{type:o?"text":"password",value:a,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-dark-900 border border-dark-600 rounded-lg text-white placeholder:text-dark-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-all text-sm",placeholder:"Masukkan password",required:!0}),i.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-500 hover:text-white transition-colors",children:o?i.jsx(mH,{className:"h-5 w-5"}):i.jsx(_s,{className:"h-5 w-5"})})]})]}),d&&i.jsx(Rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/15 border border-red-500/30 rounded-lg text-red-300 text-sm text-center",children:d}),i.jsx(ye,{type:"submit",className:"w-full py-3",isLoading:c,children:"Masuk"})]})]}),i.jsx("p",{className:"text-center text-dark-500 text-xs mt-6",children:" 2025 NPK Production Management System"})]})]})};var Tee=Array.isArray,ma=Tee,Pee=typeof R0=="object"&&R0&&R0.Object===Object&&R0,cI=Pee,_ee=cI,Eee=typeof self=="object"&&self&&self.Object===Object&&self,Aee=_ee||Eee||Function("return this")(),Gi=Aee,Oee=Gi,Cee=Oee.Symbol,T0=Cee,g_=T0,uI=Object.prototype,Dee=uI.hasOwnProperty,Mee=uI.toString,Dd=g_?g_.toStringTag:void 0;function Ree(e){var t=Dee.call(e,Dd),r=e[Dd];try{e[Dd]=void 0;var n=!0}catch{}var a=Mee.call(e);return n&&(t?e[Dd]=r:delete e[Dd]),a}var Iee=Ree,Lee=Object.prototype,Fee=Lee.toString;function $ee(e){return Fee.call(e)}var Bee=$ee,x_=T0,Uee=Iee,Kee=Bee,Vee="[object Null]",zee="[object Undefined]",v_=x_?x_.toStringTag:void 0;function Hee(e){return e==null?e===void 0?zee:Vee:v_&&v_ in Object(e)?Uee(e):Kee(e)}var As=Hee;function Wee(e){return e!=null&&typeof e=="object"}var Os=Wee,Gee=As,qee=Os,Yee="[object Symbol]";function Xee(e){return typeof e=="symbol"||qee(e)&&Gee(e)==Yee}var ad=Xee,Jee=ma,Qee=ad,Zee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ete=/^\w*$/;function tte(e,t){if(Jee(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Qee(e)?!0:ete.test(e)||!Zee.test(e)||t!=null&&e in Object(t)}var yj=tte;function rte(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qo=rte;const id=Bt(qo);var nte=As,ate=qo,ite="[object AsyncFunction]",ste="[object Function]",ote="[object GeneratorFunction]",lte="[object Proxy]";function cte(e){if(!ate(e))return!1;var t=nte(e);return t==ste||t==ote||t==ite||t==lte}var bj=cte;const pt=Bt(bj);var ute=Gi,dte=ute["__core-js_shared__"],fte=dte,Dy=fte,y_=function(){var e=/[^.]+$/.exec(Dy&&Dy.keys&&Dy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hte(e){return!!y_&&y_ in e}var pte=hte,mte=Function.prototype,gte=mte.toString;function xte(e){if(e!=null){try{return gte.call(e)}catch{}try{return e+""}catch{}}return""}var dI=xte,vte=bj,yte=pte,bte=qo,wte=dI,kte=/[\\^$.*+?()[\]{}|]/g,jte=/^\[object .+?Constructor\]$/,Ste=Function.prototype,Nte=Object.prototype,Tte=Ste.toString,Pte=Nte.hasOwnProperty,_te=RegExp("^"+Tte.call(Pte).replace(kte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ete(e){if(!bte(e)||yte(e))return!1;var t=vte(e)?_te:jte;return t.test(wte(e))}var Ate=Ete;function Ote(e,t){return e==null?void 0:e[t]}var Cte=Ote,Dte=Ate,Mte=Cte;function Rte(e,t){var r=Mte(e,t);return Dte(r)?r:void 0}var rc=Rte,Ite=rc,Lte=Ite(Object,"create"),$x=Lte,b_=$x;function Fte(){this.__data__=b_?b_(null):{},this.size=0}var $te=Fte;function Bte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ute=Bte,Kte=$x,Vte="__lodash_hash_undefined__",zte=Object.prototype,Hte=zte.hasOwnProperty;function Wte(e){var t=this.__data__;if(Kte){var r=t[e];return r===Vte?void 0:r}return Hte.call(t,e)?t[e]:void 0}var Gte=Wte,qte=$x,Yte=Object.prototype,Xte=Yte.hasOwnProperty;function Jte(e){var t=this.__data__;return qte?t[e]!==void 0:Xte.call(t,e)}var Qte=Jte,Zte=$x,ere="__lodash_hash_undefined__";function tre(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zte&&t===void 0?ere:t,this}var rre=tre,nre=$te,are=Ute,ire=Gte,sre=Qte,ore=rre;function sd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sd.prototype.clear=nre;sd.prototype.delete=are;sd.prototype.get=ire;sd.prototype.has=sre;sd.prototype.set=ore;var lre=sd;function cre(){this.__data__=[],this.size=0}var ure=cre;function dre(e,t){return e===t||e!==e&&t!==t}var wj=dre,fre=wj;function hre(e,t){for(var r=e.length;r--;)if(fre(e[r][0],t))return r;return-1}var Bx=hre,pre=Bx,mre=Array.prototype,gre=mre.splice;function xre(e){var t=this.__data__,r=pre(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():gre.call(t,r,1),--this.size,!0}var vre=xre,yre=Bx;function bre(e){var t=this.__data__,r=yre(t,e);return r<0?void 0:t[r][1]}var wre=bre,kre=Bx;function jre(e){return kre(this.__data__,e)>-1}var Sre=jre,Nre=Bx;function Tre(e,t){var r=this.__data__,n=Nre(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Pre=Tre,_re=ure,Ere=vre,Are=wre,Ore=Sre,Cre=Pre;function od(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}od.prototype.clear=_re;od.prototype.delete=Ere;od.prototype.get=Are;od.prototype.has=Ore;od.prototype.set=Cre;var Ux=od,Dre=rc,Mre=Gi,Rre=Dre(Mre,"Map"),kj=Rre,w_=lre,Ire=Ux,Lre=kj;function Fre(){this.size=0,this.__data__={hash:new w_,map:new(Lre||Ire),string:new w_}}var $re=Fre;function Bre(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ure=Bre,Kre=Ure;function Vre(e,t){var r=e.__data__;return Kre(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kx=Vre,zre=Kx;function Hre(e){var t=zre(this,e).delete(e);return this.size-=t?1:0,t}var Wre=Hre,Gre=Kx;function qre(e){return Gre(this,e).get(e)}var Yre=qre,Xre=Kx;function Jre(e){return Xre(this,e).has(e)}var Qre=Jre,Zre=Kx;function ene(e,t){var r=Zre(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var tne=ene,rne=$re,nne=Wre,ane=Yre,ine=Qre,sne=tne;function ld(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ld.prototype.clear=rne;ld.prototype.delete=nne;ld.prototype.get=ane;ld.prototype.has=ine;ld.prototype.set=sne;var jj=ld,fI=jj,one="Expected a function";function Sj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(one);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Sj.Cache||fI),r}Sj.Cache=fI;var hI=Sj;const lne=Bt(hI);var cne=hI,une=500;function dne(e){var t=cne(e,function(n){return r.size===une&&r.clear(),n}),r=t.cache;return t}var fne=dne,hne=fne,pne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mne=/\\(\\)?/g,gne=hne(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pne,function(r,n,a,s){t.push(a?s.replace(mne,"$1"):n||r)}),t}),xne=gne;function vne(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Nj=vne,k_=T0,yne=Nj,bne=ma,wne=ad,j_=k_?k_.prototype:void 0,S_=j_?j_.toString:void 0;function pI(e){if(typeof e=="string")return e;if(bne(e))return yne(e,pI)+"";if(wne(e))return S_?S_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kne=pI,jne=kne;function Sne(e){return e==null?"":jne(e)}var mI=Sne,Nne=ma,Tne=yj,Pne=xne,_ne=mI;function Ene(e,t){return Nne(e)?e:Tne(e,t)?[e]:Pne(_ne(e))}var gI=Ene,Ane=ad;function One(e){if(typeof e=="string"||Ane(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Vx=One,Cne=gI,Dne=Vx;function Mne(e,t){t=Cne(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Dne(t[r++])];return r&&r==n?e:void 0}var Tj=Mne,Rne=Tj;function Ine(e,t,r){var n=e==null?void 0:Rne(e,t);return n===void 0?r:n}var xI=Ine;const Pa=Bt(xI);function Lne(e){return e==null}var Fne=Lne;const yt=Bt(Fne);var $ne=As,Bne=ma,Une=Os,Kne="[object String]";function Vne(e){return typeof e=="string"||!Bne(e)&&Une(e)&&$ne(e)==Kne}var zne=Vne;const Ul=Bt(zne);var vI={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=Symbol.for("react.element"),_j=Symbol.for("react.portal"),zx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),Gx=Symbol.for("react.provider"),qx=Symbol.for("react.context"),Hne=Symbol.for("react.server_context"),Yx=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),Jx=Symbol.for("react.suspense_list"),Qx=Symbol.for("react.memo"),Zx=Symbol.for("react.lazy"),Wne=Symbol.for("react.offscreen"),yI;yI=Symbol.for("react.module.reference");function ri(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pj:switch(e=e.type,e){case zx:case Wx:case Hx:case Xx:case Jx:return e;default:switch(e=e&&e.$$typeof,e){case Hne:case qx:case Yx:case Zx:case Qx:case Gx:return e;default:return t}}case _j:return t}}}Wt.ContextConsumer=qx;Wt.ContextProvider=Gx;Wt.Element=Pj;Wt.ForwardRef=Yx;Wt.Fragment=zx;Wt.Lazy=Zx;Wt.Memo=Qx;Wt.Portal=_j;Wt.Profiler=Wx;Wt.StrictMode=Hx;Wt.Suspense=Xx;Wt.SuspenseList=Jx;Wt.isAsyncMode=function(){return!1};Wt.isConcurrentMode=function(){return!1};Wt.isContextConsumer=function(e){return ri(e)===qx};Wt.isContextProvider=function(e){return ri(e)===Gx};Wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pj};Wt.isForwardRef=function(e){return ri(e)===Yx};Wt.isFragment=function(e){return ri(e)===zx};Wt.isLazy=function(e){return ri(e)===Zx};Wt.isMemo=function(e){return ri(e)===Qx};Wt.isPortal=function(e){return ri(e)===_j};Wt.isProfiler=function(e){return ri(e)===Wx};Wt.isStrictMode=function(e){return ri(e)===Hx};Wt.isSuspense=function(e){return ri(e)===Xx};Wt.isSuspenseList=function(e){return ri(e)===Jx};Wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zx||e===Wx||e===Hx||e===Xx||e===Jx||e===Wne||typeof e=="object"&&e!==null&&(e.$$typeof===Zx||e.$$typeof===Qx||e.$$typeof===Gx||e.$$typeof===qx||e.$$typeof===Yx||e.$$typeof===yI||e.getModuleId!==void 0)};Wt.typeOf=ri;vI.exports=Wt;var Gne=vI.exports,qne=As,Yne=Os,Xne="[object Number]";function Jne(e){return typeof e=="number"||Yne(e)&&qne(e)==Xne}var bI=Jne;const Qne=Bt(bI);var Zne=bI;function eae(e){return Zne(e)&&e!=+e}var tae=eae;const cd=Bt(tae);var Xn=function(t){return t===0?0:t>0?1:-1},bl=function(t){return Ul(t)&&t.indexOf("%")===t.length-1},He=function(t){return Qne(t)&&!cd(t)},rae=function(t){return yt(t)},Jr=function(t){return He(t)||Ul(t)},nae=0,ud=function(t){var r=++nae;return"".concat(t||"").concat(r)},Jn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!Ul(t))return n;var s;if(bl(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return cd(s)&&(s=n),a&&s>r&&(s=r),s},po=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},aae=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},aa=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function eg(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Pa(n,t))===r})}var iae=function(t,r){return He(t)&&He(r)?t-r:Ul(t)&&Ul(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ru(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}var sae=["viewBox","children"],oae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],N_=["points","pathLength"],My={svg:sae,polygon:N_,polyline:N_},Ej=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!id(n))return null;var a={};return Object.keys(n).forEach(function(s){Ej.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},lae=function(t,r,n){return function(a){return t(r,n,a),null}},Kl=function(t,r,n){if(!id(t)||zb(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Ej.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=lae(o,r,n))}),a},cae=["children"],uae=["children"];function T_(e,t){if(e==null)return{};var r=dae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}var P_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ps=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},__=null,Ry=null,Aj=function e(t){if(t===__&&Array.isArray(Ry))return Ry;var r=[];return j.Children.forEach(t,function(n){yt(n)||(Gne.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ry=r,__=t,r};function Ya(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ps(a)}):n=[ps(t)],Aj(e).forEach(function(a){var s=Pa(a,"type.displayName")||Pa(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function ya(e,t){var r=Ya(e,t);return r&&r[0]}var E_=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!He(n)||n<=0||!He(a)||a<=0)},fae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hae=function(t){return t&&t.type&&Ul(t.type)&&fae.indexOf(t.type)>=0},pae=function(t){return t&&Hb(t)==="object"&&"clipDot"in t},mae=function(t,r,n,a){var s,o=(s=My==null?void 0:My[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!pt(t)&&(a&&o.includes(r)||oae.includes(r))||n&&Ej.includes(r)},ct=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!id(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;mae((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},Wb=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!A_(s,o))return!1}return!0},A_=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},a=n.children,s=T_(n,cae),o=r.props||{},l=o.children,c=T_(o,uae);return a&&l?ru(s,c)&&Wb(a,l):!a&&!l?ru(s,c):!1}return!1},O_=function(t,r){var n=[],a={};return Aj(t).forEach(function(s,o){if(hae(s))n.push(s);else if(s){var l=ps(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},gae=function(t){var r=t&&t.type;return r&&P_[r]?P_[r]:null},xae=function(t,r){return Aj(r).indexOf(t)},vae=["children","width","height","viewBox","className","style","title","desc"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}function yae(e,t){if(e==null)return{};var r=bae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qb(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=yae(e,vae),d=a||{width:r,height:n,x:0,y:0},f=vt("recharts-surface",s);return de.createElement("svg",Gb({},ct(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),de.createElement("title",null,l),de.createElement("desc",null,c),t)}var wae=["children","className"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}function kae(e,t){if(e==null)return{};var r=jae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ot=de.forwardRef(function(e,t){var r=e.children,n=e.className,a=kae(e,wae),s=vt("recharts-layer",n);return de.createElement("g",Yb({className:s},ct(a,!0),{ref:t}),r)}),Si=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Sae(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Nae=Sae,Tae=Nae;function Pae(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Tae(e,t,r)}var _ae=Pae,Eae="\\ud800-\\udfff",Aae="\\u0300-\\u036f",Oae="\\ufe20-\\ufe2f",Cae="\\u20d0-\\u20ff",Dae=Aae+Oae+Cae,Mae="\\ufe0e\\ufe0f",Rae="\\u200d",Iae=RegExp("["+Rae+Eae+Dae+Mae+"]");function Lae(e){return Iae.test(e)}var wI=Lae;function Fae(e){return e.split("")}var $ae=Fae,kI="\\ud800-\\udfff",Bae="\\u0300-\\u036f",Uae="\\ufe20-\\ufe2f",Kae="\\u20d0-\\u20ff",Vae=Bae+Uae+Kae,zae="\\ufe0e\\ufe0f",Hae="["+kI+"]",Xb="["+Vae+"]",Jb="\\ud83c[\\udffb-\\udfff]",Wae="(?:"+Xb+"|"+Jb+")",jI="[^"+kI+"]",SI="(?:\\ud83c[\\udde6-\\uddff]){2}",NI="[\\ud800-\\udbff][\\udc00-\\udfff]",Gae="\\u200d",TI=Wae+"?",PI="["+zae+"]?",qae="(?:"+Gae+"(?:"+[jI,SI,NI].join("|")+")"+PI+TI+")*",Yae=PI+TI+qae,Xae="(?:"+[jI+Xb+"?",Xb,SI,NI,Hae].join("|")+")",Jae=RegExp(Jb+"(?="+Jb+")|"+Xae+Yae,"g");function Qae(e){return e.match(Jae)||[]}var Zae=Qae,eie=$ae,tie=wI,rie=Zae;function nie(e){return tie(e)?rie(e):eie(e)}var aie=nie,iie=_ae,sie=wI,oie=aie,lie=mI;function cie(e){return function(t){t=lie(t);var r=sie(t)?oie(t):void 0,n=r?r[0]:t.charAt(0),a=r?iie(r,1).join(""):t.slice(1);return n[e]()+a}}var uie=cie,die=uie,fie=die("toUpperCase"),hie=fie;const ev=Bt(hie);function Zt(e){return function(){return e}}const _I=Math.cos,rg=Math.sin,Pi=Math.sqrt,ng=Math.PI,tv=2*ng,Qb=Math.PI,Zb=2*Qb,ul=1e-6,pie=Zb-ul;function EI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return EI;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class gie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?EI:mie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ul)if(!(Math.abs(f*c-u*d)>ul)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-l,m=c*c+u*u,x=p*p+g*g,b=Math.sqrt(m),y=Math.sqrt(h),v=s*Math.tan((Qb-Math.acos((m+h-x)/(2*b*y)))/2),w=v/y,k=v/b;Math.abs(w-1)>ul&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ul||Math.abs(this._y1-d)>ul)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Zb+Zb),h>pie?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ul&&this._append`A${n},${n},0,${+(h>=Qb)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Oj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gie(t)}function Cj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AI(e){this._context=e}AI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rv(e){return new AI(e)}function OI(e){return e[0]}function CI(e){return e[1]}function DI(e,t){var r=Zt(!0),n=null,a=rv,s=null,o=Oj(l);e=typeof e=="function"?e:e===void 0?OI:Zt(e),t=typeof t=="function"?t:t===void 0?CI:Zt(t);function l(c){var u,d=(c=Cj(c)).length,f,h=!1,p;for(n==null&&(s=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Zt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function mp(e,t,r){var n=null,a=Zt(!0),s=null,o=rv,l=null,c=Oj(u);e=typeof e=="function"?e:e===void 0?OI:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CI:Zt(+r);function u(f){var h,p,g,m=(f=Cj(f)).length,x,b=!1,y,v=new Array(m),w=new Array(m);for(s==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(v[g],w[g]);l.lineEnd(),l.areaEnd()}b&&(v[h]=+e(x,h,f),w[h]=+t(x,h,f),l.point(n?+n(x,h,f):v[h],r?+r(x,h,f):w[h]))}if(y)return l=null,y+""||null}function d(){return DI().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Zt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class MI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xie(e){return new MI(e,!0)}function vie(e){return new MI(e,!1)}const Dj={draw(e,t){const r=Pi(t/ng);e.moveTo(r,0),e.arc(0,0,r,0,tv)}},yie={draw(e,t){const r=Pi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},RI=Pi(1/3),bie=RI*2,wie={draw(e,t){const r=Pi(t/bie),n=r*RI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kie={draw(e,t){const r=Pi(t),n=-r/2;e.rect(n,n,r,r)}},jie=.8908130915292852,II=rg(ng/10)/rg(7*ng/10),Sie=rg(tv/10)*II,Nie=-_I(tv/10)*II,Tie={draw(e,t){const r=Pi(t*jie),n=Sie*r,a=Nie*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=tv*s/5,l=_I(o),c=rg(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Iy=Pi(3),Pie={draw(e,t){const r=-Pi(t/(Iy*3));e.moveTo(0,r*2),e.lineTo(-Iy*r,-r),e.lineTo(Iy*r,-r),e.closePath()}},Ma=-.5,Ra=Pi(3)/2,ew=1/Pi(12),_ie=(ew/2+1)*3,Eie={draw(e,t){const r=Pi(t/_ie),n=r/2,a=r*ew,s=n,o=r*ew+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ma*n-Ra*a,Ra*n+Ma*a),e.lineTo(Ma*s-Ra*o,Ra*s+Ma*o),e.lineTo(Ma*l-Ra*c,Ra*l+Ma*c),e.lineTo(Ma*n+Ra*a,Ma*a-Ra*n),e.lineTo(Ma*s+Ra*o,Ma*o-Ra*s),e.lineTo(Ma*l+Ra*c,Ma*c-Ra*l),e.closePath()}};function Aie(e,t){let r=null,n=Oj(a);e=typeof e=="function"?e:Zt(e||Dj),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Zt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Zt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function ag(){}function ig(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function LI(e){this._context=e}LI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ig(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ig(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oie(e){return new LI(e)}function FI(e){this._context=e}FI.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ig(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cie(e){return new FI(e)}function $I(e){this._context=e}$I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ig(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Die(e){return new $I(e)}function BI(e){this._context=e}BI.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Mie(e){return new BI(e)}function C_(e){return e<0?-1:1}function D_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(C_(s)+C_(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function M_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ly(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function sg(e){this._context=e}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ly(this,this._t0,M_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ly(this,M_(this,r=D_(this,e,t)),r);break;default:Ly(this,this._t0,r=D_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function UI(e){this._context=new KI(e)}(UI.prototype=Object.create(sg.prototype)).point=function(e,t){sg.prototype.point.call(this,t,e)};function KI(e){this._context=e}KI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Rie(e){return new sg(e)}function Iie(e){return new UI(e)}function VI(e){this._context=e}VI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=R_(e),a=R_(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function R_(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Lie(e){return new VI(e)}function nv(e,t){this._context=e,this._t=t}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fie(e){return new nv(e,.5)}function $ie(e){return new nv(e,0)}function Bie(e){return new nv(e,1)}function bu(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function tw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uie(e,t){return e[t]}function Kie(e){const t=[];return t.key=e,t}function Vie(){var e=Zt([]),t=tw,r=bu,n=Uie;function a(s){var o=Array.from(e.apply(this,arguments),Kie),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Cj(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Zt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Zt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?tw:typeof s=="function"?s:Zt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??bu,a):r},a}function zie(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}bu(e,t)}}function Hie(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}bu(e,t)}}function Wie(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],x=m[n][1]||0,b=m[n-1][1]||0;p+=x-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,bu(e,t)}}function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}var Gie=["type","size","sizeType"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){qie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qie(e,t,r){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yie(e){var t=Xie(e,"string");return _h(t)=="symbol"?t:t+""}function Xie(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jie(e,t){if(e==null)return{};var r=Qie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zI={symbolCircle:Dj,symbolCross:yie,symbolDiamond:wie,symbolSquare:kie,symbolStar:Tie,symbolTriangle:Pie,symbolWye:Eie},Zie=Math.PI/180,ese=function(t){var r="symbol".concat(ev(t));return zI[r]||Dj},tse=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Zie;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rse=function(t,r){zI["symbol".concat(ev(t))]=r},Mj=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Jie(t,Gie),u=L_(L_({},c),{},{type:n,size:s,sizeType:l}),d=function(){var x=ese(n),b=Aie().type(x).size(tse(s,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=ct(u,!0);return h===+h&&p===+p&&s===+s?de.createElement("path",rw({},g,{className:vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Mj.registerSymbol=rse;function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){Eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ise(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WI(n.key),n)}}function sse(e,t,r){return t&&ise(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ose(e,t,r){return t=og(t),lse(e,HI()?Reflect.construct(t,r||[],og(e).constructor):t.apply(e,r))}function lse(e,t){if(t&&(wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cse(e)}function cse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!e})()}function og(e){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(e)}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aw(e,t)}function aw(e,t){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aw(e,t)}function Eh(e,t,r){return t=WI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WI(e){var t=dse(e,"string");return wu(t)=="symbol"?t:t+""}function dse(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ia=32,Rj=function(e){function t(){return ase(this,t),ose(this,t,arguments)}return use(t,e),sse(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ia/2,o=Ia/6,l=Ia/3,c=n.inactive?a:n.color;if(n.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ia,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ia,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return de.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ia/8,"h").concat(Ia,"v").concat(Ia*3/4,"h").concat(-Ia,"z"),className:"recharts-legend-icon"});if(de.isValidElement(n.legendIcon)){var u=nse({},n);return delete u.legendIcon,de.cloneElement(n.legendIcon,u)}return de.createElement(Mj,{fill:c,cx:s,cy:s,size:Ia,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ia,height:Ia},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||c,x=vt(Eh(Eh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=pt(p.value)?null:p.value;Si(!pt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return de.createElement("li",nw({className:x,style:f,key:"legend-item-".concat(g)},Kl(n.props,p,g)),de.createElement(qb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);Eh(Rj,"displayName","Legend");Eh(Rj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fse=Ux;function hse(){this.__data__=new fse,this.size=0}var pse=hse;function mse(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var gse=mse;function xse(e){return this.__data__.get(e)}var vse=xse;function yse(e){return this.__data__.has(e)}var bse=yse,wse=Ux,kse=kj,jse=jj,Sse=200;function Nse(e,t){var r=this.__data__;if(r instanceof wse){var n=r.__data__;if(!kse||n.length<Sse-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jse(n)}return r.set(e,t),this.size=r.size,this}var Tse=Nse,Pse=Ux,_se=pse,Ese=gse,Ase=vse,Ose=bse,Cse=Tse;function dd(e){var t=this.__data__=new Pse(e);this.size=t.size}dd.prototype.clear=_se;dd.prototype.delete=Ese;dd.prototype.get=Ase;dd.prototype.has=Ose;dd.prototype.set=Cse;var GI=dd,Dse="__lodash_hash_undefined__";function Mse(e){return this.__data__.set(e,Dse),this}var Rse=Mse;function Ise(e){return this.__data__.has(e)}var Lse=Ise,Fse=jj,$se=Rse,Bse=Lse;function lg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Fse;++t<r;)this.add(e[t])}lg.prototype.add=lg.prototype.push=$se;lg.prototype.has=Bse;var qI=lg;function Use(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var YI=Use;function Kse(e,t){return e.has(t)}var XI=Kse,Vse=qI,zse=YI,Hse=XI,Wse=1,Gse=2;function qse(e,t,r,n,a,s){var o=r&Wse,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Gse?new Vse:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var x=o?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!zse(t,function(b,y){if(!Hse(p,y)&&(g===b||a(g,b,r,n,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var JI=qse,Yse=Gi,Xse=Yse.Uint8Array,Jse=Xse;function Qse(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Zse=Qse;function eoe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ij=eoe,$_=T0,B_=Jse,toe=wj,roe=JI,noe=Zse,aoe=Ij,ioe=1,soe=2,ooe="[object Boolean]",loe="[object Date]",coe="[object Error]",uoe="[object Map]",doe="[object Number]",foe="[object RegExp]",hoe="[object Set]",poe="[object String]",moe="[object Symbol]",goe="[object ArrayBuffer]",xoe="[object DataView]",U_=$_?$_.prototype:void 0,Fy=U_?U_.valueOf:void 0;function voe(e,t,r,n,a,s,o){switch(r){case xoe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case goe:return!(e.byteLength!=t.byteLength||!s(new B_(e),new B_(t)));case ooe:case loe:case doe:return toe(+e,+t);case coe:return e.name==t.name&&e.message==t.message;case foe:case poe:return e==t+"";case uoe:var l=noe;case hoe:var c=n&ioe;if(l||(l=aoe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=soe,o.set(e,t);var d=roe(l(e),l(t),n,a,s,o);return o.delete(e),d;case moe:if(Fy)return Fy.call(e)==Fy.call(t)}return!1}var yoe=voe;function boe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var QI=boe,woe=QI,koe=ma;function joe(e,t,r){var n=t(e);return koe(e)?n:woe(n,r(e))}var Soe=joe;function Noe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Toe=Noe;function Poe(){return[]}var _oe=Poe,Eoe=Toe,Aoe=_oe,Ooe=Object.prototype,Coe=Ooe.propertyIsEnumerable,K_=Object.getOwnPropertySymbols,Doe=K_?function(e){return e==null?[]:(e=Object(e),Eoe(K_(e),function(t){return Coe.call(e,t)}))}:Aoe,Moe=Doe;function Roe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ioe=Roe,Loe=As,Foe=Os,$oe="[object Arguments]";function Boe(e){return Foe(e)&&Loe(e)==$oe}var Uoe=Boe,V_=Uoe,Koe=Os,ZI=Object.prototype,Voe=ZI.hasOwnProperty,zoe=ZI.propertyIsEnumerable,Hoe=V_(function(){return arguments}())?V_:function(e){return Koe(e)&&Voe.call(e,"callee")&&!zoe.call(e,"callee")},Lj=Hoe,cg={exports:{}};function Woe(){return!1}var Goe=Woe;cg.exports;(function(e,t){var r=Gi,n=Goe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cg,cg.exports);var e6=cg.exports,qoe=9007199254740991,Yoe=/^(?:0|[1-9]\d*)$/;function Xoe(e,t){var r=typeof e;return t=t??qoe,!!t&&(r=="number"||r!="symbol"&&Yoe.test(e))&&e>-1&&e%1==0&&e<t}var Fj=Xoe,Joe=9007199254740991;function Qoe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Joe}var $j=Qoe,Zoe=As,ele=$j,tle=Os,rle="[object Arguments]",nle="[object Array]",ale="[object Boolean]",ile="[object Date]",sle="[object Error]",ole="[object Function]",lle="[object Map]",cle="[object Number]",ule="[object Object]",dle="[object RegExp]",fle="[object Set]",hle="[object String]",ple="[object WeakMap]",mle="[object ArrayBuffer]",gle="[object DataView]",xle="[object Float32Array]",vle="[object Float64Array]",yle="[object Int8Array]",ble="[object Int16Array]",wle="[object Int32Array]",kle="[object Uint8Array]",jle="[object Uint8ClampedArray]",Sle="[object Uint16Array]",Nle="[object Uint32Array]",ir={};ir[xle]=ir[vle]=ir[yle]=ir[ble]=ir[wle]=ir[kle]=ir[jle]=ir[Sle]=ir[Nle]=!0;ir[rle]=ir[nle]=ir[mle]=ir[ale]=ir[gle]=ir[ile]=ir[sle]=ir[ole]=ir[lle]=ir[cle]=ir[ule]=ir[dle]=ir[fle]=ir[hle]=ir[ple]=!1;function Tle(e){return tle(e)&&ele(e.length)&&!!ir[Zoe(e)]}var Ple=Tle;function _le(e){return function(t){return e(t)}}var t6=_le,ug={exports:{}};ug.exports;(function(e,t){var r=cI,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ug,ug.exports);var Ele=ug.exports,Ale=Ple,Ole=t6,z_=Ele,H_=z_&&z_.isTypedArray,Cle=H_?Ole(H_):Ale,r6=Cle,Dle=Ioe,Mle=Lj,Rle=ma,Ile=e6,Lle=Fj,Fle=r6,$le=Object.prototype,Ble=$le.hasOwnProperty;function Ule(e,t){var r=Rle(e),n=!r&&Mle(e),a=!r&&!n&&Ile(e),s=!r&&!n&&!a&&Fle(e),o=r||n||a||s,l=o?Dle(e.length,String):[],c=l.length;for(var u in e)(t||Ble.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Lle(u,c)))&&l.push(u);return l}var Kle=Ule,Vle=Object.prototype;function zle(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Vle;return e===r}var Hle=zle;function Wle(e,t){return function(r){return e(t(r))}}var n6=Wle,Gle=n6,qle=Gle(Object.keys,Object),Yle=qle,Xle=Hle,Jle=Yle,Qle=Object.prototype,Zle=Qle.hasOwnProperty;function ece(e){if(!Xle(e))return Jle(e);var t=[];for(var r in Object(e))Zle.call(e,r)&&r!="constructor"&&t.push(r);return t}var tce=ece,rce=bj,nce=$j;function ace(e){return e!=null&&nce(e.length)&&!rce(e)}var P0=ace,ice=Kle,sce=tce,oce=P0;function lce(e){return oce(e)?ice(e):sce(e)}var av=lce,cce=Soe,uce=Moe,dce=av;function fce(e){return cce(e,dce,uce)}var hce=fce,W_=hce,pce=1,mce=Object.prototype,gce=mce.hasOwnProperty;function xce(e,t,r,n,a,s){var o=r&pce,l=W_(e),c=l.length,u=W_(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:gce.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var v=o?n(y,b,h,t,e,s):n(b,y,h,e,t,s);if(!(v===void 0?b===y||a(b,y,r,n,s):v)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var w=e.constructor,k=t.constructor;w!=k&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof k=="function"&&k instanceof k)&&(m=!1)}return s.delete(e),s.delete(t),m}var vce=xce,yce=rc,bce=Gi,wce=yce(bce,"DataView"),kce=wce,jce=rc,Sce=Gi,Nce=jce(Sce,"Promise"),Tce=Nce,Pce=rc,_ce=Gi,Ece=Pce(_ce,"Set"),a6=Ece,Ace=rc,Oce=Gi,Cce=Ace(Oce,"WeakMap"),Dce=Cce,iw=kce,sw=kj,ow=Tce,lw=a6,cw=Dce,i6=As,fd=dI,G_="[object Map]",Mce="[object Object]",q_="[object Promise]",Y_="[object Set]",X_="[object WeakMap]",J_="[object DataView]",Rce=fd(iw),Ice=fd(sw),Lce=fd(ow),Fce=fd(lw),$ce=fd(cw),dl=i6;(iw&&dl(new iw(new ArrayBuffer(1)))!=J_||sw&&dl(new sw)!=G_||ow&&dl(ow.resolve())!=q_||lw&&dl(new lw)!=Y_||cw&&dl(new cw)!=X_)&&(dl=function(e){var t=i6(e),r=t==Mce?e.constructor:void 0,n=r?fd(r):"";if(n)switch(n){case Rce:return J_;case Ice:return G_;case Lce:return q_;case Fce:return Y_;case $ce:return X_}return t});var Bce=dl,$y=GI,Uce=JI,Kce=yoe,Vce=vce,Q_=Bce,Z_=ma,eE=e6,zce=r6,Hce=1,tE="[object Arguments]",rE="[object Array]",gp="[object Object]",Wce=Object.prototype,nE=Wce.hasOwnProperty;function Gce(e,t,r,n,a,s){var o=Z_(e),l=Z_(t),c=o?rE:Q_(e),u=l?rE:Q_(t);c=c==tE?gp:c,u=u==tE?gp:u;var d=c==gp,f=u==gp,h=c==u;if(h&&eE(e)){if(!eE(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new $y),o||zce(e)?Uce(e,t,r,n,a,s):Kce(e,t,c,r,n,a,s);if(!(r&Hce)){var p=d&&nE.call(e,"__wrapped__"),g=f&&nE.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,x=g?t.value():t;return s||(s=new $y),a(m,x,r,n,s)}}return h?(s||(s=new $y),Vce(e,t,r,n,a,s)):!1}var qce=Gce,Yce=qce,aE=Os;function s6(e,t,r,n,a){return e===t?!0:e==null||t==null||!aE(e)&&!aE(t)?e!==e&&t!==t:Yce(e,t,r,n,s6,a)}var Bj=s6,Xce=GI,Jce=Bj,Qce=1,Zce=2;function eue(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Xce;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Jce(d,u,Qce|Zce,n,f):h))return!1}}return!0}var tue=eue,rue=qo;function nue(e){return e===e&&!rue(e)}var o6=nue,aue=o6,iue=av;function sue(e){for(var t=iue(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,aue(a)]}return t}var oue=sue;function lue(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var l6=lue,cue=tue,uue=oue,due=l6;function fue(e){var t=uue(e);return t.length==1&&t[0][2]?due(t[0][0],t[0][1]):function(r){return r===e||cue(r,e,t)}}var hue=fue;function pue(e,t){return e!=null&&t in Object(e)}var mue=pue,gue=gI,xue=Lj,vue=ma,yue=Fj,bue=$j,wue=Vx;function kue(e,t,r){t=gue(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=wue(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&bue(a)&&yue(o,a)&&(vue(e)||xue(e)))}var jue=kue,Sue=mue,Nue=jue;function Tue(e,t){return e!=null&&Nue(e,t,Sue)}var Pue=Tue,_ue=Bj,Eue=xI,Aue=Pue,Oue=yj,Cue=o6,Due=l6,Mue=Vx,Rue=1,Iue=2;function Lue(e,t){return Oue(e)&&Cue(t)?Due(Mue(e),t):function(r){var n=Eue(r,e);return n===void 0&&n===t?Aue(r,e):_ue(t,n,Rue|Iue)}}var Fue=Lue;function $ue(e){return e}var hd=$ue;function Bue(e){return function(t){return t==null?void 0:t[e]}}var Uue=Bue,Kue=Tj;function Vue(e){return function(t){return Kue(t,e)}}var zue=Vue,Hue=Uue,Wue=zue,Gue=yj,que=Vx;function Yue(e){return Gue(e)?Hue(que(e)):Wue(e)}var Xue=Yue,Jue=hue,Que=Fue,Zue=hd,ede=ma,tde=Xue;function rde(e){return typeof e=="function"?e:e==null?Zue:typeof e=="object"?ede(e)?Que(e[0],e[1]):Jue(e):tde(e)}var qi=rde;function nde(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var c6=nde;function ade(e){return e!==e}var ide=ade;function sde(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ode=sde,lde=c6,cde=ide,ude=ode;function dde(e,t,r){return t===t?ude(e,t,r):lde(e,cde,r)}var fde=dde,hde=fde;function pde(e,t){var r=e==null?0:e.length;return!!r&&hde(e,t,0)>-1}var mde=pde;function gde(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var xde=gde;function vde(){}var yde=vde,By=a6,bde=yde,wde=Ij,kde=1/0,jde=By&&1/wde(new By([,-0]))[1]==kde?function(e){return new By(e)}:bde,Sde=jde,Nde=qI,Tde=mde,Pde=xde,_de=XI,Ede=Sde,Ade=Ij,Ode=200;function Cde(e,t,r){var n=-1,a=Tde,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Pde;else if(s>=Ode){var u=t?null:Ede(e);if(u)return Ade(u);o=!1,a=_de,c=new Nde}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Dde=Cde,Mde=qi,Rde=Dde;function Ide(e,t){return e&&e.length?Rde(e,Mde(t)):[]}var Lde=Ide;const iE=Bt(Lde);function u6(e,t,r){return t===!0?iE(e,r):pt(t)?iE(e,t):e}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}var Fde=["ref"];function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){iv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f6(n.key),n)}}function Bde(e,t,r){return t&&oE(e.prototype,t),r&&oE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ude(e,t,r){return t=dg(t),Kde(e,d6()?Reflect.construct(t,r||[],dg(e).constructor):t.apply(e,r))}function Kde(e,t){if(t&&(ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vde(e)}function Vde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!e})()}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(e)}function zde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uw(e,t)}function uw(e,t){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uw(e,t)}function iv(e,t,r){return t=f6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f6(e){var t=Hde(e,"string");return ku(t)=="symbol"?t:t+""}function Hde(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wde(e,t){if(e==null)return{};var r=Gde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qde(e){return e.value}function Yde(e,t){if(de.isValidElement(e))return de.cloneElement(e,t);if(typeof e=="function")return de.createElement(e,t);t.ref;var r=Wde(t,Fde);return de.createElement(Rj,r)}var lE=1,vi=function(e){function t(){var r;$de(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ude(this,t,[].concat(a)),iv(r,"lastBoundingBox",{width:-1,height:-1}),r}return zde(t,e),Bde(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>lE||Math.abs(a.height-this.lastBoundingBox.height)>lE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xi(Xi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xi(Xi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Yde(s,Xi(Xi({},this.props),{},{payload:u6(d,u,qde)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Xi(Xi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&He(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);iv(vi,"displayName","Legend");iv(vi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cE=T0,Xde=Lj,Jde=ma,uE=cE?cE.isConcatSpreadable:void 0;function Qde(e){return Jde(e)||Xde(e)||!!(uE&&e&&e[uE])}var Zde=Qde,efe=QI,tfe=Zde;function h6(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=tfe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?h6(l,t-1,r,n,a):efe(a,l):n||(a[a.length]=l)}return a}var p6=h6;function rfe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var nfe=rfe,afe=nfe,ife=afe(),sfe=ife,ofe=sfe,lfe=av;function cfe(e,t){return e&&ofe(e,t,lfe)}var m6=cfe,ufe=P0;function dfe(e,t){return function(r,n){if(r==null)return r;if(!ufe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var ffe=dfe,hfe=m6,pfe=ffe,mfe=pfe(hfe),Uj=mfe,gfe=Uj,xfe=P0;function vfe(e,t){var r=-1,n=xfe(e)?Array(e.length):[];return gfe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var g6=vfe;function yfe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var bfe=yfe,dE=ad;function wfe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=dE(e),o=t!==void 0,l=t===null,c=t===t,u=dE(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var kfe=wfe,jfe=kfe;function Sfe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=jfe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Nfe=Sfe,Uy=Nj,Tfe=Tj,Pfe=qi,_fe=g6,Efe=bfe,Afe=t6,Ofe=Nfe,Cfe=hd,Dfe=ma;function Mfe(e,t,r){t.length?t=Uy(t,function(s){return Dfe(s)?function(o){return Tfe(o,s.length===1?s[0]:s)}:s}):t=[Cfe];var n=-1;t=Uy(t,Afe(Pfe));var a=_fe(e,function(s,o,l){var c=Uy(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Efe(a,function(s,o){return Ofe(s,o,r)})}var Rfe=Mfe;function Ife(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Lfe=Ife,Ffe=Lfe,fE=Math.max;function $fe(e,t,r){return t=fE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=fE(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Ffe(e,this,l)}}var Bfe=$fe;function Ufe(e){return function(){return e}}var Kfe=Ufe,Vfe=rc,zfe=function(){try{var e=Vfe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),x6=zfe,Hfe=Kfe,hE=x6,Wfe=hd,Gfe=hE?function(e,t){return hE(e,"toString",{configurable:!0,enumerable:!1,value:Hfe(t),writable:!0})}:Wfe,qfe=Gfe,Yfe=800,Xfe=16,Jfe=Date.now;function Qfe(e){var t=0,r=0;return function(){var n=Jfe(),a=Xfe-(n-r);if(r=n,a>0){if(++t>=Yfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Zfe=Qfe,ehe=qfe,the=Zfe,rhe=the(ehe),nhe=rhe,ahe=hd,ihe=Bfe,she=nhe;function ohe(e,t){return she(ihe(e,t,ahe),e+"")}var lhe=ohe,che=wj,uhe=P0,dhe=Fj,fhe=qo;function hhe(e,t,r){if(!fhe(r))return!1;var n=typeof t;return(n=="number"?uhe(r)&&dhe(t,r.length):n=="string"&&t in r)?che(r[t],e):!1}var sv=hhe,phe=p6,mhe=Rfe,ghe=lhe,pE=sv,xhe=ghe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&pE(e,t[0],t[1])?t=[]:r>2&&pE(t[0],t[1],t[2])&&(t=[t[0]]),mhe(e,phe(t,1),[])}),vhe=xhe;const Kj=Bt(vhe);function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function yhe(e,t){return jhe(e)||khe(e,t)||whe(e,t)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function whe(e,t){if(e){if(typeof e=="string")return mE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function khe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jhe(e){if(Array.isArray(e))return e}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){She(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function She(e,t,r){return t=Nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nhe(e){var t=The(e,"string");return Ah(t)=="symbol"?t:t+""}function The(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Phe(e){return Array.isArray(e)&&Jr(e[0])&&Jr(e[1])?e.join(" ~ "):e}var _he=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,v=function(){if(d&&d.length){var C={padding:0,margin:0},D=(h?Kj(d,h):d).map(function(H,ee){if(H.type==="none")return null;var W=Ky({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),Y=H.formatter||f||Phe,te=H.value,q=H.name,ue=te,le=q;if(Y&&ue!=null&&le!=null){var B=Y(te,q,H,ee,d);if(Array.isArray(B)){var F=yhe(B,2);ue=F[0],le=F[1]}else ue=B}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:W},Jr(le)?de.createElement("span",{className:"recharts-tooltip-item-name"},le):null,Jr(le)?de.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,de.createElement("span",{className:"recharts-tooltip-item-value"},ue),de.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},w=Ky({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),k=Ky({margin:0},u),N=!yt(m),S=N?m:"",T=vt("recharts-default-tooltip",p),P=vt("recharts-tooltip-label",g);N&&x&&d!==void 0&&d!==null&&(S=x(m,d));var _=y?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",dw({className:T,style:w},_),de.createElement("p",{className:P,style:k},de.isValidElement(S)?S:"".concat(S)),v())};function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function xp(e,t,r){return t=Ehe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ehe(e){var t=Ahe(e,"string");return Oh(t)=="symbol"?t:t+""}function Ahe(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Md="recharts-tooltip-wrapper",Ohe={visibility:"hidden"};function Che(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(Md,xp(xp(xp(xp({},"".concat(Md,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(Md,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(Md,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(Md,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function xE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&He(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Dhe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Mhe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=xE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=xE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Dhe({translateX:d,translateY:f,useTranslate3d:l})):u=Ohe,{cssProperties:u,cssClasses:Che({translateX:d,translateY:f,coordinate:r})}}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){hw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ihe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y6(n.key),n)}}function Lhe(e,t,r){return t&&Ihe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fhe(e,t,r){return t=fg(t),$he(e,v6()?Reflect.construct(t,r||[],fg(e).constructor):t.apply(e,r))}function $he(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(e)}function Bhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v6=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(e)}function Uhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fw(e,t)}function hw(e,t,r){return t=y6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6(e){var t=Khe(e,"string");return ju(t)=="symbol"?t:t+""}function Khe(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bE=1,Vhe=function(e){function t(){var r;Rhe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Fhe(this,t,[].concat(a)),hw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Uhe(t,e),Lhe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bE||Math.abs(n.height-this.state.lastBoundingBox.height)>bE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,v=Mhe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),w=v.cssClasses,k=v.cssProperties,N=yE(yE({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return de.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(T){n.wrapperNode=T}},u)}}])}(j.PureComponent),zhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nc={isSsr:zhe()};function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Whe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w6(n.key),n)}}function Ghe(e,t,r){return t&&Whe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qhe(e,t,r){return t=hg(t),Yhe(e,b6()?Reflect.construct(t,r||[],hg(e).constructor):t.apply(e,r))}function Yhe(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(e)}function Xhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!e})()}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(e)}function Jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pw(e,t)}function pw(e,t){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pw(e,t)}function Vj(e,t,r){return t=w6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6(e){var t=Qhe(e,"string");return Su(t)=="symbol"?t:t+""}function Qhe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zhe(e){return e.dataKey}function e0e(e,t){return de.isValidElement(e)?de.cloneElement(e,t):typeof e=="function"?de.createElement(e,t):de.createElement(_he,t)}var Wr=function(e){function t(){return Hhe(this,t),qhe(this,t,arguments)}return Jhe(t,e),Ghe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,x=a.position,b=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,w=a.wrapperStyle,k=g??[];f&&k.length&&(k=u6(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,Zhe));var N=k.length>0;return de.createElement(Vhe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:v,wrapperStyle:w},e0e(u,kE(kE({},this.props),{},{payload:k})))}}])}(j.PureComponent);Vj(Wr,"displayName","Tooltip");Vj(Wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var t0e=Gi,r0e=function(){return t0e.Date.now()},n0e=r0e,a0e=/\s/;function i0e(e){for(var t=e.length;t--&&a0e.test(e.charAt(t)););return t}var s0e=i0e,o0e=s0e,l0e=/^\s+/;function c0e(e){return e&&e.slice(0,o0e(e)+1).replace(l0e,"")}var u0e=c0e,d0e=u0e,jE=qo,f0e=ad,SE=NaN,h0e=/^[-+]0x[0-9a-f]+$/i,p0e=/^0b[01]+$/i,m0e=/^0o[0-7]+$/i,g0e=parseInt;function x0e(e){if(typeof e=="number")return e;if(f0e(e))return SE;if(jE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=d0e(e);var r=p0e.test(e);return r||m0e.test(e)?g0e(e.slice(2),r?2:8):h0e.test(e)?SE:+e}var k6=x0e,v0e=qo,Vy=n0e,NE=k6,y0e="Expected a function",b0e=Math.max,w0e=Math.min;function k0e(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(y0e);t=NE(t)||0,v0e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?b0e(NE(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,T=a;return n=a=void 0,u=N,o=e.apply(T,S),o}function g(N){return u=N,l=setTimeout(b,t),d?p(N):o}function m(N){var S=N-c,T=N-u,P=t-S;return f?w0e(P,s-T):P}function x(N){var S=N-c,T=N-u;return c===void 0||S>=t||S<0||f&&T>=s}function b(){var N=Vy();if(x(N))return y(N);l=setTimeout(b,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:y(Vy())}function k(){var N=Vy(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return k.cancel=v,k.flush=w,k}var j0e=k0e,S0e=j0e,N0e=qo,T0e="Expected a function";function P0e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(T0e);return N0e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),S0e(e,t,{leading:n,maxWait:t,trailing:a})}var _0e=P0e;const j6=Bt(_0e);function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){E0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E0e(e,t,r){return t=A0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0e(e){var t=O0e(e,"string");return Ch(t)=="symbol"?t:t+""}function O0e(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0e(e,t){return I0e(e)||R0e(e,t)||M0e(e,t)||D0e()}function D0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function I0e(e){if(Array.isArray(e))return e}var Ci=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,v=e.style,w=v===void 0?{}:v,k=j.useRef(null),N=j.useRef();N.current=y,j.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var S=j.useState({containerWidth:a.width,containerHeight:a.height}),T=C0e(S,2),P=T[0],_=T[1],O=j.useCallback(function(D,H){_(function(ee){var W=Math.round(D),Y=Math.round(H);return ee.containerWidth===W&&ee.containerHeight===Y?ee:{containerWidth:W,containerHeight:Y}})},[]);j.useEffect(function(){var D=function(q){var ue,le=q[0].contentRect,B=le.width,F=le.height;O(B,F),(ue=N.current)===null||ue===void 0||ue.call(N,B,F)};m>0&&(D=j6(D,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(D),ee=k.current.getBoundingClientRect(),W=ee.width,Y=ee.height;return O(W,Y),H.observe(k.current),function(){H.disconnect()}},[O,m]);var C=j.useMemo(function(){var D=P.containerWidth,H=P.containerHeight;if(D<0||H<0)return null;Si(bl(o)||bl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Si(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=bl(o)?D:o,W=bl(c)?H:c;r&&r>0&&(ee?W=ee/r:W&&(ee=W*r),h&&W>h&&(W=h)),Si(ee>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,W,o,c,d,f,r);var Y=!Array.isArray(p)&&ps(p.type).endsWith("Chart");return de.Children.map(p,function(te){return de.isValidElement(te)?j.cloneElement(te,vp({width:ee,height:W},Y?{style:vp({height:"100%",width:"100%",maxHeight:W,maxWidth:ee},te.props.style)}:{})):te})},[r,p,c,h,f,d,P,o]);return de.createElement("div",{id:x?"".concat(x):void 0,className:vt("recharts-responsive-container",b),style:vp(vp({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:k},C)}),ts=function(t){return null};ts.displayName="Cell";function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){L0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L0e(e,t,r){return t=F0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F0e(e){var t=$0e(e,"string");return Dh(t)=="symbol"?t:t+""}function $0e(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pc={widthCache:{},cacheCount:0},B0e=2e3,U0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EE="recharts_measurement_span";function K0e(e){var t=mw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var $f=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nc.isSsr)return{width:0,height:0};var n=K0e(r),a=JSON.stringify({text:t,copyStyle:n});if(pc.widthCache[a])return pc.widthCache[a];try{var s=document.getElementById(EE);s||(s=document.createElement("span"),s.setAttribute("id",EE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=mw(mw({},U0e),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return pc.widthCache[a]=c,++pc.cacheCount>B0e&&(pc.cacheCount=0,pc.widthCache={}),c}catch{return{width:0,height:0}}},V0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function pg(e,t){return G0e(e)||W0e(e,t)||H0e(e,t)||z0e()}function z0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(e,t){if(e){if(typeof e=="string")return AE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(e,t)}}function AE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function G0e(e){if(Array.isArray(e))return e}function q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X0e(n.key),n)}}function Y0e(e,t,r){return t&&OE(e.prototype,t),r&&OE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X0e(e){var t=J0e(e,"string");return Mh(t)=="symbol"?t:t+""}function J0e(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Z0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},epe=Object.keys(S6),$c="NaN";function tpe(e,t){return e*S6[t]}var yp=function(){function e(t,r){q0e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Q0e.test(r)&&(this.num=NaN,this.unit=""),epe.includes(r)&&(this.num=tpe(t,r),this.unit="px")}return Y0e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Z0e.exec(r))!==null&&n!==void 0?n:[],s=pg(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function N6(e){if(e.includes($c))return $c;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=CE.exec(t))!==null&&r!==void 0?r:[],a=pg(n,4),s=a[1],o=a[2],l=a[3],c=yp.parse(s??""),u=yp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return $c;t=t.replace(CE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=DE.exec(t))!==null&&f!==void 0?f:[],p=pg(h,4),g=p[1],m=p[2],x=p[3],b=yp.parse(g??""),y=yp.parse(x??""),v=m==="+"?b.add(y):b.subtract(y);if(v.isNaN())return $c;t=t.replace(DE,v.toString())}return t}var ME=/\(([^()]*)\)/;function rpe(e){for(var t=e;t.includes("(");){var r=ME.exec(t),n=pg(r,2),a=n[1];t=t.replace(ME,N6(a))}return t}function npe(e){var t=e.replace(/\s+/g,"");return t=rpe(t),t=N6(t),t}function ape(e){try{return npe(e)}catch{return $c}}function zy(e){var t=ape(e.slice(5,-1));return t===$c?"":t}var ipe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],spe=["dx","dy","angle","className","breakAll"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function RE(e,t){if(e==null)return{};var r=ope(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ope(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IE(e,t){return dpe(e)||upe(e,t)||cpe(e,t)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cpe(e,t){if(e){if(typeof e=="string")return LE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(e,t)}}function LE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function upe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dpe(e){if(Array.isArray(e))return e}var T6=/[ \f\n\r\t\v\u2028\u2029]+/,P6=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];yt(r)||(n?s=r.toString().split(""):s=r.toString().split(T6));var o=s.map(function(c){return{word:c,width:$f(c,a).width}}),l=n?0:$f("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},fpe=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=He(o),f=l,h=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(W,Y){var te=Y.word,q=Y.width,ue=W[W.length-1];if(ue&&(a==null||s||ue.width+q+n<Number(a)))ue.words.push(te),ue.width+=q+n;else{var le={words:[te],width:q};W.push(le)}return W},[])},p=h(r),g=function(ee){return ee.reduce(function(W,Y){return W.width>Y.width?W:Y})};if(!d)return p;for(var m="",x=function(ee){var W=f.slice(0,ee),Y=P6({breakAll:u,style:c,children:W+m}).wordsWithComputedWidth,te=h(Y),q=te.length>o||g(te).width>Number(a);return[q,te]},b=0,y=f.length-1,v=0,w;b<=y&&v<=f.length-1;){var k=Math.floor((b+y)/2),N=k-1,S=x(N),T=IE(S,2),P=T[0],_=T[1],O=x(k),C=IE(O,1),D=C[0];if(!P&&!D&&(b=k+1),P&&D&&(y=k-1),!P&&D){w=_;break}v++}return w||p},FE=function(t){var r=yt(t)?[]:t.toString().split(T6);return[{words:r}]},hpe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!nc.isSsr){var c,u,d=P6({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return FE(a);return fpe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return FE(a)},$E="#808080",Vl=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,b=x===void 0?$E:x,y=RE(t,ipe),v=j.useMemo(function(){return hpe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),w=y.dx,k=y.dy,N=y.angle,S=y.className,T=y.breakAll,P=RE(y,spe);if(!Jr(n)||!Jr(s))return null;var _=n+(He(w)?w:0),O=s+(He(k)?k:0),C;switch(m){case"start":C=zy("calc(".concat(u,")"));break;case"middle":C=zy("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=zy("calc(".concat(v.length-1," * -").concat(l,")"));break}var D=[];if(f){var H=v[0].width,ee=y.width;D.push("scale(".concat((He(ee)?ee/H:1)/H,")"))}return N&&D.push("rotate(".concat(N,", ").concat(_,", ").concat(O,")")),D.length&&(P.transform=D.join(" ")),de.createElement("text",gw({},ct(P,!0),{x:_,y:O,className:vt("recharts-text",S),textAnchor:p,fill:b.includes("url")?$E:b}),v.map(function(W,Y){var te=W.words.join(T?"":" ");return de.createElement("tspan",{x:_,dy:Y===0?C:l,key:"".concat(te,"-").concat(Y)},te)}))};function Mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ppe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zj(e){let t,r,n;e.length!==2?(t=Mo,r=(l,c)=>Mo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Mo||e===ppe?e:mpe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function mpe(){return 0}function _6(e){return e===null?NaN:+e}function*gpe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xpe=zj(Mo),_0=xpe.right;zj(_6).center;class BE extends Map{constructor(t,r=bpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(UE(this,t))}has(t){return super.has(UE(this,t))}set(t,r){return super.set(vpe(this,t),r)}delete(t){return super.delete(ype(this,t))}}function UE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function vpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ype({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function bpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wpe(e=Mo){if(e===Mo)return E6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function E6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kpe=Math.sqrt(50),jpe=Math.sqrt(10),Spe=Math.sqrt(2);function mg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=kpe?10:s>=jpe?5:s>=Spe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?mg(e,t,r*2):[l,c,u]}function xw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?mg(t,e,r):mg(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function vw(e,t,r){return t=+t,e=+e,r=+r,mg(e,t,r)[2]}function yw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?vw(t,e,r):vw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function KE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function A6(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?E6:wpe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));A6(e,t,p,g,a)}const s=e[t];let o=r,l=n;for(Rd(e,r,t),a(e[n],s)>0&&Rd(e,r,n);o<l;){for(Rd(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Rd(e,r,l):(++l,Rd(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Rd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Npe(e,t,r){if(e=Float64Array.from(gpe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return VE(e);if(t>=1)return KE(e);var n,a=(n-1)*t,s=Math.floor(a),o=KE(A6(e,s).subarray(0,s+1)),l=VE(e.subarray(s+1));return o+(l-o)*(a-s)}}function Tpe(e,t,r=_6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Ppe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function ni(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bw=Symbol("implicit");function Hj(){var e=new BE,t=[],r=[],n=bw;function a(s){let o=e.get(s);if(o===void 0){if(n!==bw)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new BE;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Hj(t,r).unknown(n)},ni.apply(a,arguments),a}function Rh(){var e=Hj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;s=(m-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=Ppe(h).map(function(b){return g+s*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Rh(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ni.apply(f(),arguments)}function O6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return O6(t())},e}function Bf(){return O6(Rh.apply(null,arguments).paddingInner(1))}function Wj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function C6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function E0(){}var Ih=.7,gg=1/Ih,nu="\\s*([+-]?\\d+)\\s*",Lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_pe=/^#([0-9a-f]{3,8})$/,Epe=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),Ape=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),Ope=new RegExp(`^rgba\\(${nu},${nu},${nu},${Lh}\\)$`),Cpe=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Lh}\\)$`),Dpe=new RegExp(`^hsl\\(${Lh},${Ki},${Ki}\\)$`),Mpe=new RegExp(`^hsla\\(${Lh},${Ki},${Ki},${Lh}\\)$`),zE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wj(E0,Fh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HE,formatHex:HE,formatHex8:Rpe,formatHsl:Ipe,formatRgb:WE,toString:WE});function HE(){return this.rgb().formatHex()}function Rpe(){return this.rgb().formatHex8()}function Ipe(){return D6(this).formatHsl()}function WE(){return this.rgb().formatRgb()}function Fh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_pe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GE(t):r===3?new oa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Epe.exec(e))?new oa(t[1],t[2],t[3],1):(t=Ape.exec(e))?new oa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ope.exec(e))?bp(t[1],t[2],t[3],t[4]):(t=Cpe.exec(e))?bp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dpe.exec(e))?XE(t[1],t[2]/100,t[3]/100,1):(t=Mpe.exec(e))?XE(t[1],t[2]/100,t[3]/100,t[4]):zE.hasOwnProperty(e)?GE(zE[e]):e==="transparent"?new oa(NaN,NaN,NaN,0):null}function GE(e){return new oa(e>>16&255,e>>8&255,e&255,1)}function bp(e,t,r,n){return n<=0&&(e=t=r=NaN),new oa(e,t,r,n)}function Lpe(e){return e instanceof E0||(e=Fh(e)),e?(e=e.rgb(),new oa(e.r,e.g,e.b,e.opacity)):new oa}function ww(e,t,r,n){return arguments.length===1?Lpe(e):new oa(e,t,r,n??1)}function oa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wj(oa,ww,C6(E0,{brighter(e){return e=e==null?gg:Math.pow(gg,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ih:Math.pow(Ih,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oa(Al(this.r),Al(this.g),Al(this.b),xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qE,formatHex:qE,formatHex8:Fpe,formatRgb:YE,toString:YE}));function qE(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function Fpe(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function YE(){const e=xg(this.opacity);return`${e===1?"rgb(":"rgba("}${Al(this.r)}, ${Al(this.g)}, ${Al(this.b)}${e===1?")":`, ${e})`}`}function xg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wl(e){return e=Al(e),(e<16?"0":"")+e.toString(16)}function XE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yi(e,t,r,n)}function D6(e){if(e instanceof yi)return new yi(e.h,e.s,e.l,e.opacity);if(e instanceof E0||(e=Fh(e)),!e)return new yi;if(e instanceof yi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new yi(o,l,c,e.opacity)}function $pe(e,t,r,n){return arguments.length===1?D6(e):new yi(e,t,r,n??1)}function yi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wj(yi,$pe,C6(E0,{brighter(e){return e=e==null?gg:Math.pow(gg,e),new yi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ih:Math.pow(Ih,e),new yi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new oa(Hy(e>=240?e-240:e+120,a,n),Hy(e,a,n),Hy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new yi(JE(this.h),wp(this.s),wp(this.l),xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xg(this.opacity);return`${e===1?"hsl(":"hsla("}${JE(this.h)}, ${wp(this.s)*100}%, ${wp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JE(e){return e=(e||0)%360,e<0?e+360:e}function wp(e){return Math.max(0,Math.min(1,e||0))}function Hy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gj=e=>()=>e;function Bpe(e,t){return function(r){return e+r*t}}function Upe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Kpe(e){return(e=+e)==1?M6:function(t,r){return r-t?Upe(t,r,e):Gj(isNaN(t)?r:t)}}function M6(e,t){var r=t-e;return r?Bpe(e,r):Gj(isNaN(e)?t:e)}const QE=function e(t){var r=Kpe(t);function n(a,s){var o=r((a=ww(a)).r,(s=ww(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=M6(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Vpe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function zpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Hpe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=pd(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Wpe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Gpe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=pd(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var kw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wy=new RegExp(kw.source,"g");function qpe(e){return function(){return e}}function Ype(e){return function(t){return e(t)+""}}function Xpe(e,t){var r=kw.lastIndex=Wy.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=kw.exec(e))&&(a=Wy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:vg(n,a)})),r=Wy.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Ype(c[0].x):qpe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pd(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gj(t):(r==="number"?vg:r==="string"?(n=Fh(t))?(t=n,QE):Xpe:t instanceof Fh?QE:t instanceof Date?Wpe:zpe(t)?Vpe:Array.isArray(t)?Hpe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gpe:vg)(e,t)}function qj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jpe(e,t){t===void 0&&(t=e,e=pd);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Qpe(e){return function(){return e}}function yg(e){return+e}var ZE=[0,1];function Qn(e){return e}function jw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Qpe(isNaN(t)?NaN:.5)}function Zpe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function eme(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=jw(a,n),s=r(o,s)):(n=jw(n,a),s=r(s,o)),function(l){return s(n(l))}}function tme(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=jw(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=_0(e,l,1,n)-1;return s[c](a[c](l))}}function A0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ov(){var e=ZE,t=ZE,r=pd,n,a,s,o=Qn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qn&&(o=Zpe(e[0],e[h-1])),l=h>2?tme:eme,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),vg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,yg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=qj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qn,d()):o!==Qn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function Yj(){return ov()(Qn,Qn)}function rme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nu(e){return e=bg(Math.abs(e)),e?e[1]:NaN}function nme(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function ame(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ime=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $h(e){if(!(t=ime.exec(e)))throw new Error("invalid format: "+e);var t;return new Xj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$h.prototype=Xj.prototype;function Xj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sme(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var R6;function ome(e,t){var r=bg(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(R6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+bg(e,Math.max(0,t+s-1))[0]}function eA(e,t){var r=bg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eA(e*100,t),r:eA,s:ome,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rA(e){return e}var nA=Array.prototype.map,aA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lme(e){var t=e.grouping===void 0||e.thousands===void 0?rA:nme(nA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?rA:ame(nA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$h(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,b=f.width,y=f.comma,v=f.precision,w=f.trim,k=f.type;k==="n"?(y=!0,k="g"):tA[k]||(v===void 0&&(v=12),w=!0,k="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=m==="$"?n:/[%p]/.test(k)?o:"",T=tA[k],P=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function _(O){var C=N,D=S,H,ee,W;if(k==="c")D=T(O)+D,O="";else{O=+O;var Y=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),v),w&&(O=sme(O)),Y&&+O==0&&g!=="+"&&(Y=!1),C=(Y?g==="("?g:l:g==="-"||g==="("?"":g)+C,D=(k==="s"?aA[8+R6/3]:"")+D+(Y&&g==="("?")":""),P){for(H=-1,ee=O.length;++H<ee;)if(W=O.charCodeAt(H),48>W||W>57){D=(W===46?a+O.slice(H+1):O.slice(H))+D,O=O.slice(0,H);break}}}y&&!x&&(O=t(O,1/0));var te=C.length+O.length+D.length,q=te<b?new Array(b-te+1).join(h):"";switch(y&&x&&(O=t(q+O,q.length?b-D.length:1/0),q=""),p){case"<":O=C+O+D+q;break;case"=":O=C+q+O+D;break;case"^":O=q.slice(0,te=q.length>>1)+C+O+D+q.slice(te);break;default:O=q+C+O+D;break}return s(O)}return _.toString=function(){return f+""},_}function d(f,h){var p=u((f=$h(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Nu(h)/3)))*3,m=Math.pow(10,-g),x=aA[8+g/3];return function(b){return p(m*b)+x}}return{format:u,formatPrefix:d}}var kp,Jj,I6;cme({thousands:",",grouping:[3],currency:["$",""]});function cme(e){return kp=lme(e),Jj=kp.format,I6=kp.formatPrefix,kp}function ume(e){return Math.max(0,-Nu(Math.abs(e)))}function dme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nu(t)/3)))*3-Nu(Math.abs(e)))}function fme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nu(t)-Nu(e))+1}function L6(e,t,r,n){var a=yw(e,t,r),s;switch(n=$h(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=dme(a,o))&&(n.precision=s),I6(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=fme(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ume(a))&&(n.precision=s-(n.type==="%")*2);break}}return Jj(n)}function Yo(e){var t=e.domain;return e.ticks=function(r){var n=t();return xw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return L6(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=vw(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wg(){var e=Yj();return e.copy=function(){return A0(e,wg())},ni.apply(e,arguments),Yo(e)}function F6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,yg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return F6(e).unknown(t)},e=arguments.length?Array.from(e,yg):[0,1],Yo(r)}function $6(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function iA(e){return Math.log(e)}function sA(e){return Math.exp(e)}function hme(e){return-Math.log(-e)}function pme(e){return-Math.exp(-e)}function mme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gme(e){return e===10?mme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oA(e){return(t,r)=>-e(-t,r)}function Qj(e){const t=e(iA,sA),r=t.domain;let n=10,a,s;function o(){return a=xme(n),s=gme(n),r()[0]<0?(a=oA(a),s=oA(s),e(hme,pme)):e(iA,sA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const x=l==null?10:+l;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=xw(u,d,x))}else b=xw(h,p,Math.min(p-h,x)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$h(c)).precision==null&&(c.trim=!0),c=Jj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r($6(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function B6(){const e=Qj(ov()).domain([1,10]);return e.copy=()=>A0(e,B6()).base(e.base()),ni.apply(e,arguments),e}function lA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zj(e){var t=1,r=e(lA(t),cA(t));return r.constant=function(n){return arguments.length?e(lA(t=+n),cA(t)):t},Yo(r)}function U6(){var e=Zj(ov());return e.copy=function(){return A0(e,U6()).constant(e.constant())},ni.apply(e,arguments)}function uA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yme(e){return e<0?-e*e:e*e}function eS(e){var t=e(Qn,Qn),r=1;function n(){return r===1?e(Qn,Qn):r===.5?e(vme,yme):e(uA(r),uA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yo(t)}function tS(){var e=eS(ov());return e.copy=function(){return A0(e,tS()).exponent(e.exponent())},ni.apply(e,arguments),e}function bme(){return tS.apply(null,arguments).exponent(.5)}function dA(e){return Math.sign(e)*e*e}function wme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function K6(){var e=Yj(),t=[0,1],r=!1,n;function a(s){var o=wme(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(dA(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,yg)).map(dA)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return K6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ni.apply(a,arguments),Yo(a)}function V6(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Tpe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[_0(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Mo),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return V6().domain(e).range(t).unknown(n)},ni.apply(s,arguments)}function z6(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[_0(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return z6().domain([e,t]).range(a).unknown(s)},ni.apply(Yo(o),arguments)}function H6(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[_0(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return H6().domain(e).range(t).unknown(r)},ni.apply(a,arguments)}const Gy=new Date,qy=new Date;function Zr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Zr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Gy.setTime(+s),qy.setTime(+o),e(Gy),e(qy),Math.floor(r(Gy,qy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const kg=Zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kg);kg.range;const is=1e3,Wa=is*60,ss=Wa*60,js=ss*24,rS=js*7,fA=js*30,Yy=js*365,kl=Zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCSeconds());kl.range;const nS=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getMinutes());nS.range;const aS=Zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCMinutes());aS.range;const iS=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is-e.getMinutes()*Wa)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getHours());iS.range;const sS=Zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getUTCHours());sS.range;const O0=Zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wa)/js,e=>e.getDate()-1);O0.range;const lv=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/js,e=>e.getUTCDate()-1);lv.range;const W6=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/js,e=>Math.floor(e/js));W6.range;function ac(e){return Zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/rS)}const cv=ac(0),jg=ac(1),kme=ac(2),jme=ac(3),Tu=ac(4),Sme=ac(5),Nme=ac(6);cv.range;jg.range;kme.range;jme.range;Tu.range;Sme.range;Nme.range;function ic(e){return Zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rS)}const uv=ic(0),Sg=ic(1),Tme=ic(2),Pme=ic(3),Pu=ic(4),_me=ic(5),Eme=ic(6);uv.range;Sg.range;Tme.range;Pme.range;Pu.range;_me.range;Eme.range;const oS=Zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oS.range;const lS=Zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lS.range;const Ss=Zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ss.range;const Ns=Zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ns.range;function G6(e,t,r,n,a,s){const o=[[kl,1,is],[kl,5,5*is],[kl,15,15*is],[kl,30,30*is],[s,1,Wa],[s,5,5*Wa],[s,15,15*Wa],[s,30,30*Wa],[a,1,ss],[a,3,3*ss],[a,6,6*ss],[a,12,12*ss],[n,1,js],[n,2,2*js],[r,1,rS],[t,1,fA],[t,3,3*fA],[e,1,Yy]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=zj(([,,x])=>x).right(o,h);if(p===o.length)return e.every(yw(u/Yy,d/Yy,f));if(p===0)return kg.every(Math.max(yw(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Ame,Ome]=G6(Ns,lS,uv,W6,sS,aS),[Cme,Dme]=G6(Ss,oS,cv,O0,iS,nS);function Xy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Id(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Mme(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ld(a),d=Fd(a),f=Ld(s),h=Fd(s),p=Ld(o),g=Fd(o),m=Ld(l),x=Fd(l),b=Ld(c),y=Fd(c),v={a:Y,A:te,b:q,B:ue,c:null,d:vA,e:vA,f:nge,g:hge,G:mge,H:ege,I:tge,j:rge,L:q6,m:age,M:ige,p:le,q:B,Q:wA,s:kA,S:sge,u:oge,U:lge,V:cge,w:uge,W:dge,x:null,X:null,y:fge,Y:pge,Z:gge,"%":bA},w={a:F,A:L,b:R,B:G,c:null,d:yA,e:yA,f:bge,g:Age,G:Cge,H:xge,I:vge,j:yge,L:X6,m:wge,M:kge,p:be,q:Te,Q:wA,s:kA,S:jge,u:Sge,U:Nge,V:Tge,w:Pge,W:_ge,x:null,X:null,y:Ege,Y:Oge,Z:Dge,"%":bA},k={a:_,A:O,b:C,B:D,c:H,d:gA,e:gA,f:Xme,g:mA,G:pA,H:xA,I:xA,j:Wme,L:Yme,m:Hme,M:Gme,p:P,q:zme,Q:Qme,s:Zme,S:qme,u:$me,U:Bme,V:Ume,w:Fme,W:Kme,x:ee,X:W,y:mA,Y:pA,Z:Vme,"%":Jme};v.x=N(r,v),v.X=N(n,v),v.c=N(t,v),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(ce,pe){return function(Pe){var ge=[],Ae=-1,ne=0,E=ce.length,A,M,me;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ae<E;)ce.charCodeAt(Ae)===37&&(ge.push(ce.slice(ne,Ae)),(M=hA[A=ce.charAt(++Ae)])!=null?A=ce.charAt(++Ae):M=A==="e"?" ":"0",(me=pe[A])&&(A=me(Pe,M)),ge.push(A),ne=Ae+1);return ge.push(ce.slice(ne,Ae)),ge.join("")}}function S(ce,pe){return function(Pe){var ge=Id(1900,void 0,1),Ae=T(ge,ce,Pe+="",0),ne,E;if(Ae!=Pe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(pe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(ne=Jy(Id(ge.y,0,1)),E=ne.getUTCDay(),ne=E>4||E===0?Sg.ceil(ne):Sg(ne),ne=lv.offset(ne,(ge.V-1)*7),ge.y=ne.getUTCFullYear(),ge.m=ne.getUTCMonth(),ge.d=ne.getUTCDate()+(ge.w+6)%7):(ne=Xy(Id(ge.y,0,1)),E=ne.getDay(),ne=E>4||E===0?jg.ceil(ne):jg(ne),ne=O0.offset(ne,(ge.V-1)*7),ge.y=ne.getFullYear(),ge.m=ne.getMonth(),ge.d=ne.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),E="Z"in ge?Jy(Id(ge.y,0,1)).getUTCDay():Xy(Id(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(E+5)%7:ge.w+ge.U*7-(E+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Jy(ge)):Xy(ge)}}function T(ce,pe,Pe,ge){for(var Ae=0,ne=pe.length,E=Pe.length,A,M;Ae<ne;){if(ge>=E)return-1;if(A=pe.charCodeAt(Ae++),A===37){if(A=pe.charAt(Ae++),M=k[A in hA?pe.charAt(Ae++):A],!M||(ge=M(ce,Pe,ge))<0)return-1}else if(A!=Pe.charCodeAt(ge++))return-1}return ge}function P(ce,pe,Pe){var ge=u.exec(pe.slice(Pe));return ge?(ce.p=d.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function _(ce,pe,Pe){var ge=p.exec(pe.slice(Pe));return ge?(ce.w=g.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function O(ce,pe,Pe){var ge=f.exec(pe.slice(Pe));return ge?(ce.w=h.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function C(ce,pe,Pe){var ge=b.exec(pe.slice(Pe));return ge?(ce.m=y.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function D(ce,pe,Pe){var ge=m.exec(pe.slice(Pe));return ge?(ce.m=x.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function H(ce,pe,Pe){return T(ce,t,pe,Pe)}function ee(ce,pe,Pe){return T(ce,r,pe,Pe)}function W(ce,pe,Pe){return T(ce,n,pe,Pe)}function Y(ce){return o[ce.getDay()]}function te(ce){return s[ce.getDay()]}function q(ce){return c[ce.getMonth()]}function ue(ce){return l[ce.getMonth()]}function le(ce){return a[+(ce.getHours()>=12)]}function B(ce){return 1+~~(ce.getMonth()/3)}function F(ce){return o[ce.getUTCDay()]}function L(ce){return s[ce.getUTCDay()]}function R(ce){return c[ce.getUTCMonth()]}function G(ce){return l[ce.getUTCMonth()]}function be(ce){return a[+(ce.getUTCHours()>=12)]}function Te(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var pe=N(ce+="",v);return pe.toString=function(){return ce},pe},parse:function(ce){var pe=S(ce+="",!1);return pe.toString=function(){return ce},pe},utcFormat:function(ce){var pe=N(ce+="",w);return pe.toString=function(){return ce},pe},utcParse:function(ce){var pe=S(ce+="",!0);return pe.toString=function(){return ce},pe}}}var hA={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,Rme=/^%/,Ime=/[\\^$*+?|[\]().{}]/g;function It(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Lme(e){return e.replace(Ime,"\\$&")}function Ld(e){return new RegExp("^(?:"+e.map(Lme).join("|")+")","i")}function Fd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Fme(e,t,r){var n=dn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $me(e,t,r){var n=dn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Bme(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ume(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kme(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pA(e,t,r){var n=dn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mA(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Vme(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zme(e,t,r){var n=dn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Hme(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gA(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Wme(e,t,r){var n=dn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function xA(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Gme(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qme(e,t,r){var n=dn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Yme(e,t,r){var n=dn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Xme(e,t,r){var n=dn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jme(e,t,r){var n=Rme.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Qme(e,t,r){var n=dn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Zme(e,t,r){var n=dn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vA(e,t){return It(e.getDate(),t,2)}function ege(e,t){return It(e.getHours(),t,2)}function tge(e,t){return It(e.getHours()%12||12,t,2)}function rge(e,t){return It(1+O0.count(Ss(e),e),t,3)}function q6(e,t){return It(e.getMilliseconds(),t,3)}function nge(e,t){return q6(e,t)+"000"}function age(e,t){return It(e.getMonth()+1,t,2)}function ige(e,t){return It(e.getMinutes(),t,2)}function sge(e,t){return It(e.getSeconds(),t,2)}function oge(e){var t=e.getDay();return t===0?7:t}function lge(e,t){return It(cv.count(Ss(e)-1,e),t,2)}function Y6(e){var t=e.getDay();return t>=4||t===0?Tu(e):Tu.ceil(e)}function cge(e,t){return e=Y6(e),It(Tu.count(Ss(e),e)+(Ss(e).getDay()===4),t,2)}function uge(e){return e.getDay()}function dge(e,t){return It(jg.count(Ss(e)-1,e),t,2)}function fge(e,t){return It(e.getFullYear()%100,t,2)}function hge(e,t){return e=Y6(e),It(e.getFullYear()%100,t,2)}function pge(e,t){return It(e.getFullYear()%1e4,t,4)}function mge(e,t){var r=e.getDay();return e=r>=4||r===0?Tu(e):Tu.ceil(e),It(e.getFullYear()%1e4,t,4)}function gge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+It(t/60|0,"0",2)+It(t%60,"0",2)}function yA(e,t){return It(e.getUTCDate(),t,2)}function xge(e,t){return It(e.getUTCHours(),t,2)}function vge(e,t){return It(e.getUTCHours()%12||12,t,2)}function yge(e,t){return It(1+lv.count(Ns(e),e),t,3)}function X6(e,t){return It(e.getUTCMilliseconds(),t,3)}function bge(e,t){return X6(e,t)+"000"}function wge(e,t){return It(e.getUTCMonth()+1,t,2)}function kge(e,t){return It(e.getUTCMinutes(),t,2)}function jge(e,t){return It(e.getUTCSeconds(),t,2)}function Sge(e){var t=e.getUTCDay();return t===0?7:t}function Nge(e,t){return It(uv.count(Ns(e)-1,e),t,2)}function J6(e){var t=e.getUTCDay();return t>=4||t===0?Pu(e):Pu.ceil(e)}function Tge(e,t){return e=J6(e),It(Pu.count(Ns(e),e)+(Ns(e).getUTCDay()===4),t,2)}function Pge(e){return e.getUTCDay()}function _ge(e,t){return It(Sg.count(Ns(e)-1,e),t,2)}function Ege(e,t){return It(e.getUTCFullYear()%100,t,2)}function Age(e,t){return e=J6(e),It(e.getUTCFullYear()%100,t,2)}function Oge(e,t){return It(e.getUTCFullYear()%1e4,t,4)}function Cge(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pu(e):Pu.ceil(e),It(e.getUTCFullYear()%1e4,t,4)}function Dge(){return"+0000"}function bA(){return"%"}function wA(e){return+e}function kA(e){return Math.floor(+e/1e3)}var mc,Q6,Z6;Mge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mge(e){return mc=Mme(e),Q6=mc.format,mc.parse,Z6=mc.utcFormat,mc.utcParse,mc}function Rge(e){return new Date(e)}function Ige(e){return e instanceof Date?+e:+new Date(+e)}function cS(e,t,r,n,a,s,o,l,c,u){var d=Yj(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),w=u("%Y");function k(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?m:s(N)<N?x:n(N)<N?a(N)<N?b:y:r(N)<N?v:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Ige)):h().map(Rge)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?k:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h($6(S,N)):d},d.copy=function(){return A0(d,cS(e,t,r,n,a,s,o,l,c,u))},d}function Lge(){return ni.apply(cS(Cme,Dme,Ss,oS,cv,O0,iS,nS,kl,Q6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fge(){return ni.apply(cS(Ame,Ome,Ns,lS,uv,lv,sS,aS,kl,Z6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dv(){var e=0,t=1,r,n,a,s,o=Qn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(pd),u.rangeRound=d(qj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eL(){var e=Yo(dv()(Qn));return e.copy=function(){return Xo(e,eL())},Cs.apply(e,arguments)}function tL(){var e=Qj(dv()).domain([1,10]);return e.copy=function(){return Xo(e,tL()).base(e.base())},Cs.apply(e,arguments)}function rL(){var e=Zj(dv());return e.copy=function(){return Xo(e,rL()).constant(e.constant())},Cs.apply(e,arguments)}function uS(){var e=eS(dv());return e.copy=function(){return Xo(e,uS()).exponent(e.exponent())},Cs.apply(e,arguments)}function $ge(){return uS.apply(null,arguments).exponent(.5)}function nL(){var e=[],t=Qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((_0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Npe(e,s/n))},r.copy=function(){return nL(t).domain(e)},Cs.apply(r,arguments)}function fv(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Qn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var b,y,v;return arguments.length?([b,y,v]=x,u=Jpe(m,[b,y,v]),p):[u(0),u(.5),u(1)]}}return p.range=g(pd),p.rangeRound=g(qj),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),s=m(t),o=m(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function aL(){var e=Yo(fv()(Qn));return e.copy=function(){return Xo(e,aL())},Cs.apply(e,arguments)}function iL(){var e=Qj(fv()).domain([.1,1,10]);return e.copy=function(){return Xo(e,iL()).base(e.base())},Cs.apply(e,arguments)}function sL(){var e=Zj(fv());return e.copy=function(){return Xo(e,sL()).constant(e.constant())},Cs.apply(e,arguments)}function dS(){var e=eS(fv());return e.copy=function(){return Xo(e,dS()).exponent(e.exponent())},Cs.apply(e,arguments)}function Bge(){return dS.apply(null,arguments).exponent(.5)}const jA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rh,scaleDiverging:aL,scaleDivergingLog:iL,scaleDivergingPow:dS,scaleDivergingSqrt:Bge,scaleDivergingSymlog:sL,scaleIdentity:F6,scaleImplicit:bw,scaleLinear:wg,scaleLog:B6,scaleOrdinal:Hj,scalePoint:Bf,scalePow:tS,scaleQuantile:V6,scaleQuantize:z6,scaleRadial:K6,scaleSequential:eL,scaleSequentialLog:tL,scaleSequentialPow:uS,scaleSequentialQuantile:nL,scaleSequentialSqrt:$ge,scaleSequentialSymlog:rL,scaleSqrt:bme,scaleSymlog:U6,scaleThreshold:H6,scaleTime:Lge,scaleUtc:Fge,tickFormat:L6},Symbol.toStringTag,{value:"Module"}));var Uge=ad;function Kge(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Uge(o):r(o,l)))var l=o,c=s}return c}var hv=Kge;function Vge(e,t){return e>t}var oL=Vge,zge=hv,Hge=oL,Wge=hd;function Gge(e){return e&&e.length?zge(e,Wge,Hge):void 0}var qge=Gge;const bo=Bt(qge);function Yge(e,t){return e<t}var lL=Yge,Xge=hv,Jge=lL,Qge=hd;function Zge(e){return e&&e.length?Xge(e,Qge,Jge):void 0}var exe=Zge;const pv=Bt(exe);var txe=Nj,rxe=qi,nxe=g6,axe=ma;function ixe(e,t){var r=axe(e)?txe:nxe;return r(e,rxe(t))}var sxe=ixe,oxe=p6,lxe=sxe;function cxe(e,t){return oxe(lxe(e,t),1)}var uxe=cxe;const dxe=Bt(uxe);var fxe=Bj;function hxe(e,t){return fxe(e,t)}var pxe=hxe;const _u=Bt(pxe);var md=1e9,mxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hS,fr=!0,ei="[DecimalError] ",Ol=ei+"Invalid argument: ",fS=ei+"Exponent out of range: ",gd=Math.floor,fl=Math.pow,gxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ja,rn=1e7,sr=7,cL=9007199254740991,Ng=gd(cL/sr),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(e){return ms(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,r=t.constructor;return Xt(ms(t,new r(e),0,1),r.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return Ir(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ja))throw Error(ei+"NaN");if(r.s<1)throw Error(ei+(r.s?"NaN":"-Infinity"));return r.eq(ja)?new n(0):(fr=!1,t=ms(Bh(r,s),Bh(e,s),s),fr=!0,Xt(t,a))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fL(t,e):uL(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ei+"NaN");return r.s?(fr=!1,t=ms(r,e,0,1).times(e),fr=!0,r.minus(t)):Xt(new n(r),a)};rt.naturalExponential=rt.exp=function(){return dL(this)};rt.naturalLogarithm=rt.ln=function(){return Bh(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uL(t,e):fL(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ol+e);if(t=Ir(a)+1,n=a.d.length-1,r=n*sr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};rt.squareRoot=rt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ei+"NaN")}for(e=Ir(l),fr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Li(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ms(l,s,o+2)).times(.5),Li(s.d).slice(0,o)===(t=Li(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Xt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return fr=!0,Xt(n,r)};rt.times=rt.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%rn|0,t=l/rn|0;s[a]=(s[a]+t)%rn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,fr?Xt(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Hi(e,0,md),t===void 0?t=n.rounding:Hi(t,0,8),Xt(r,e+Ir(r)+1,t))};rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=zl(n,!0):(Hi(e,0,md),t===void 0?t=a.rounding:Hi(t,0,8),n=Xt(new a(n),e+1,t),r=zl(n,!0,e+1)),r};rt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?zl(a):(Hi(e,0,md),t===void 0?t=s.rounding:Hi(t,0,8),n=Xt(new s(a),e+Ir(a)+1,t),r=zl(n.abs(),!1,e+Ir(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Ir(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ja);if(l=new c(l),!l.s){if(e.s<1)throw Error(ei+"Infinity");return l}if(l.eq(ja))return l;if(n=c.precision,e.eq(ja))return Xt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=cL){for(a=new c(ja),t=Math.ceil(n/sr+4),fr=!1;r%2&&(a=a.times(l),NA(a.d,t)),r=gd(r/2),r!==0;)l=l.times(l),NA(l.d,t);return fr=!0,e.s<0?new c(ja).div(a):Xt(a,n)}}else if(s<0)throw Error(ei+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,fr=!1,a=e.times(Bh(l,n+u)),fr=!0,a=dL(a),a.s=s,a};rt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ir(a),n=zl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Hi(e,1,md),t===void 0?t=s.rounding:Hi(t,0,8),a=Xt(new s(a),e,t),r=Ir(a),n=zl(a,e<=r||r<=s.toExpNeg,e)),n};rt.toSignificantDigits=rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Hi(e,1,md),t===void 0?t=n.rounding:Hi(t,0,8)),Xt(new n(r),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return zl(e,t<=r.toExpNeg||t>=r.toExpPos)};function uL(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),fr?Xt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/sr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/rn|0,c[s]%=rn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,fr?Xt(t,f):t}function Hi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ol+e)}function Li(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=sr-n.length,r&&(s+=co(r)),s+=n;o=e[t],n=o+"",r=sr-n.length,r&&(s+=co(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ms=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%rn|0,o=s/rn|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*rn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,p,g,m,x,b,y,v,w,k,N,S,T,P=n.constructor,_=n.s==a.s?1:-1,O=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(ei+"Division by zero");for(c=n.e-a.e,S=C.length,k=O.length,p=new P(_),g=p.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--c,s==null?y=s=P.precision:o?y=s+(Ir(n)-Ir(a))+1:y=s,y<0)return new P(0);if(y=y/sr+2|0,u=0,S==1)for(d=0,C=C[0],y++;(u<k||d)&&y--;u++)v=d*rn+(O[u]||0),g[u]=v/C|0,d=v%C|0;else{for(d=rn/(C[0]+1)|0,d>1&&(C=e(C,d),O=e(O,d),S=C.length,k=O.length),w=S,m=O.slice(0,S),x=m.length;x<S;)m[x++]=0;T=C.slice(),T.unshift(0),N=C[0],C[1]>=rn/2&&++N;do d=0,l=t(C,m,S,x),l<0?(b=m[0],S!=x&&(b=b*rn+(m[1]||0)),d=b/N|0,d>1?(d>=rn&&(d=rn-1),f=e(C,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,S<h?T:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(C,m,S,x),l<1&&(d++,r(m,S<x?T:C,x))),x=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[x++]=O[w]||0:(m=[O[w]],x=1);while((w++<k||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Xt(p,o?s+Ir(p)+1:s)}}();function dL(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ir(e)>16)throw Error(fS+Ir(e));if(!e.s)return new d(ja);for(fr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(fl(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ja),d.precision=l;;){if(a=Xt(a.times(e),l),r=r.times(++c),o=s.plus(ms(a,r,l)),Li(o.d).slice(0,l)===Li(s.d).slice(0,l)){for(;u--;)s=Xt(s.times(s),l);return d.precision=f,t==null?(fr=!0,Xt(s,f)):s}s=o}}function Ir(e){for(var t=e.e*sr,r=e.d[0];r>=10;r/=10)t++;return t}function Qy(e,t,r){if(t>e.LN10.sd())throw fr=!0,r&&(e.precision=r),Error(ei+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function co(e){for(var t="";e--;)t+="0";return t}function Bh(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(ei+(p.s?"NaN":"-Infinity"));if(p.eq(ja))return new m(0);if(t==null?(fr=!1,u=x):u=t,p.eq(10))return t==null&&(fr=!0),Qy(m,u);if(u+=h,m.precision=u,r=Li(g),n=r.charAt(0),s=Ir(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Li(p.d),n=r.charAt(0),f++;s=Ir(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=Qy(m,u+2,x).times(s+""),p=Bh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(fr=!0,Xt(p,x)):p;for(l=o=p=ms(p.minus(ja),p.plus(ja),u),d=Xt(p.times(p),u),a=3;;){if(o=Xt(o.times(d),u),c=l.plus(ms(o,new m(a),u)),Li(c.d).slice(0,u)===Li(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Qy(m,u+2,x).times(s+""))),l=ms(l,new m(f),u),m.precision=x,t==null?(fr=!0,Xt(l,x)):l;l=c,a+=2}}function SA(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=gd(r/sr),e.d=[],n=(r+1)%sr,r<0&&(n+=sr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=sr;n<a;)e.d.push(+t.slice(n,n+=sr));t=t.slice(n),n=sr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),fr&&(e.e>Ng||e.e<-Ng))throw Error(fS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=sr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/sr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=sr,a=n-sr+o}if(r!==void 0&&(s=fl(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/fl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Ir(e),f.length=1,t=t-s-1,f[0]=fl(10,(sr-t%sr)%sr),e.e=gd(-t/sr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=fl(10,sr-n),f[d]=a>0?(u/fl(10,o-a)%fl(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==rn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=rn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(fr&&(e.e>Ng||e.e<-Ng))throw Error(fS+Ir(e));return e}function fL(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),fr?Xt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/sr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=rn-1;--c[s],c[a]+=rn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,fr?Xt(t,p):t):new h(0)}function zl(e,t,r){var n,a=Ir(e),s=Li(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+co(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+co(-a-1)+s,r&&(n=r-o)>0&&(s+=co(n))):a>=o?(s+=co(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+co(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=co(n))),e.s<0?"-"+s:s}function NA(e,t){if(e.length>t)return e.length=t,!0}function hL(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ol+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return SA(o,s.toString())}else if(typeof s!="string")throw Error(Ol+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,gxe.test(s))SA(o,s);else throw Error(Ol+s)}if(a.prototype=rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hL,a.config=a.set=xxe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function xxe(e){if(!e||typeof e!="object")throw Error(ei+"Object expected");var t,r,n,a=["precision",1,md,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(gd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ol+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ol+r+": "+n);return this}var hS=hL(mxe);ja=new hS(1);const Yt=hS;function vxe(e){return kxe(e)||wxe(e)||bxe(e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bxe(e,t){if(e){if(typeof e=="string")return Sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sw(e,t)}}function wxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kxe(e){if(Array.isArray(e))return Sw(e)}function Sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jxe=function(t){return t},pL={},mL=function(t){return t===pL},TA=function(t){return function r(){return arguments.length===0||arguments.length===1&&mL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Sxe=function e(t,r){return t===1?r:TA(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==pL}).length;return o>=t?r.apply(void 0,a):e(t-o,TA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return mL(f)?c.shift():f});return r.apply(void 0,vxe(d).concat(c))}))})},mv=function(t){return Sxe(t.length,t)},Nw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Nxe=mv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Txe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jxe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Tw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gL=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function Pxe(e){var t;return e===0?t=1:t=Math.floor(new Yt(e).abs().log(10).toNumber())+1,t}function _xe(e,t,r){for(var n=new Yt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Exe=mv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Axe=mv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Oxe=mv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const gv={rangeStep:_xe,getDigitCount:Pxe,interpolateNumber:Exe,uninterpolateNumber:Axe,uninterpolateTruncation:Oxe};function Pw(e){return Mxe(e)||Dxe(e)||xL(e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mxe(e){if(Array.isArray(e))return _w(e)}function Uh(e,t){return Lxe(e)||Ixe(e,t)||xL(e,t)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xL(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ixe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function Lxe(e){if(Array.isArray(e))return e}function vL(e){var t=Uh(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function yL(e,t,r){if(e.lte(0))return new Yt(0);var n=gv.getDigitCount(e.toNumber()),a=new Yt(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Yt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Yt(Math.ceil(c))}function Fxe(e,t,r){var n=1,a=new Yt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Yt(10).pow(gv.getDigitCount(e)-1),a=new Yt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Yt(Math.floor(e)))}else e===0?a=new Yt(Math.floor((t-1)/2)):r||(a=new Yt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Txe(Nxe(function(c){return a.add(new Yt(c-o).mul(n)).toNumber()}),Nw);return l(0,t)}function bL(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var s=yL(new Yt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Yt(0):(o=new Yt(e).add(t).div(2),o=o.sub(new Yt(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Yt(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?bL(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Yt(l).mul(s)),tickMax:o.add(new Yt(c).mul(s))})}function $xe(e){var t=Uh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=vL([r,n]),c=Uh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Pw(Nw(0,a-1).map(function(){return 1/0}))):[].concat(Pw(Nw(0,a-1).map(function(){return-1/0})),[d]);return r>n?Tw(f):f}if(u===d)return Fxe(u,a,s);var h=bL(u,d,o,s),p=h.step,g=h.tickMin,m=h.tickMax,x=gv.rangeStep(g,m.add(new Yt(.1).mul(p)),p);return r>n?Tw(x):x}function Bxe(e,t){var r=Uh(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=vL([n,a]),l=Uh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=yL(new Yt(u).sub(c).div(d-1),s,0),h=[].concat(Pw(gv.rangeStep(new Yt(c),new Yt(u).sub(new Yt(.99).mul(f)),f)),[u]);return n>a?Tw(h):h}var Uxe=gL($xe),Kxe=gL(Bxe),Vxe="Invariant failed";function Hl(e,t){throw new Error(Vxe)}var zxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function Hxe(e,t){return Yxe(e)||qxe(e,t)||Gxe(e,t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gxe(e,t){if(e){if(typeof e=="string")return PA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(e,t)}}function PA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yxe(e){if(Array.isArray(e))return e}function Xxe(e,t){if(e==null)return{};var r=Jxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jL(n.key),n)}}function eve(e,t,r){return t&&Zxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tve(e,t,r){return t=Pg(t),rve(e,wL()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function rve(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nve(e)}function nve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function ave(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ew(e,t)}function kL(e,t,r){return t=jL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=ive(e,"string");return Eu(t)=="symbol"?t:t+""}function ive(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xv=function(e){function t(){return Qxe(this,t),tve(this,t,arguments)}return ave(t,e),eve(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Xxe(n,zxe),p=ct(h,!1);this.props.direction==="x"&&d.type!=="number"&&Hl();var g=c.map(function(m){var x=u(m,l),b=x.x,y=x.y,v=x.value,w=x.errorVal;if(!w)return null;var k=[],N,S;if(Array.isArray(w)){var T=Hxe(w,2);N=T[0],S=T[1]}else N=S=w;if(s==="vertical"){var P=d.scale,_=y+a,O=_+o,C=_-o,D=P(v-N),H=P(v+S);k.push({x1:H,y1:O,x2:H,y2:C}),k.push({x1:D,y1:_,x2:H,y2:_}),k.push({x1:D,y1:O,x2:D,y2:C})}else if(s==="horizontal"){var ee=f.scale,W=b+a,Y=W-o,te=W+o,q=ee(v-N),ue=ee(v+S);k.push({x1:Y,y1:ue,x2:te,y2:ue}),k.push({x1:W,y1:q,x2:W,y2:ue}),k.push({x1:Y,y1:q,x2:te,y2:q})}return de.createElement(Ot,Tg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},p),k.map(function(le){return de.createElement("line",Tg({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return de.createElement(Ot,{className:"recharts-errorBars"},g)}}])}(de.Component);kL(xv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kL(xv,"displayName","ErrorBar");function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sve(e,t,r){return t=ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=lve(e,"string");return Kh(t)=="symbol"?t:t+""}function lve(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SL=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=ya(r,vi);if(!o)return null;var l=vi.defaultProps,c=l!==void 0?el(el({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?el(el({},h),f.props):{},g=p.dataKey,m=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:pS(f),value:m||g,payload:p}}),el(el(el({},c),vi.getWithHeight(o,a)),{},{payload:u,item:o})};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function EA(e){return fve(e)||dve(e)||uve(e)||cve()}function cve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(e,t){if(e){if(typeof e=="string")return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}}function dve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fve(e){if(Array.isArray(e))return Aw(e)}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function au(e,t,r){return t=hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hve(e){var t=pve(e,"string");return Vh(t)=="symbol"?t:t+""}function pve(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t,r){return yt(e)||yt(t)?r:Jr(t)?Pa(e,t,r):pt(t)?t(e):r}function Uf(e,t,r,n){var a=dxe(e,function(l){return qr(l,t)});if(r==="number"){var s=a.filter(function(l){return He(l)||parseFloat(l)});return s.length?[pv(s),bo(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!yt(l)}):a;return o.map(function(l){return Jr(l)||l instanceof Date?l:""})}var mve=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Xn(f-d)!==Xn(h-f)){var g=[];if(Xn(h-f)===Xn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,h),v=Math.max(d,h);if(t>(y+f)/2&&t<=(v+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},pS=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?jr(jr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},gve=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,x=g.cateAxisId,b=m.filter(function(S){return ps(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,v=y!==void 0?jr(jr({},y),b[0].props):b[0].props,w=v.barSize,k=v[x];o[k]||(o[k]=[]);var N=yt(w)?r:w;o[k].push({item:b[0],stackList:b.slice(1),barSize:yt(N)?void 0:Jn(N,n,0)})}}return o},xve=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Jn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,g=o.reduce(function(w,k){return w+k.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(w,k){var N={item:k.item,position:{offset:x.offset+x.size+u,size:h?p:k.barSize}},S=[].concat(EA(w),[N]);return x=S[S.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var b=Jn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var v=l===+l?Math.min(y,l):y;d=o.reduce(function(w,k,N){var S=[].concat(EA(w),[{item:k.item,position:{offset:b+(y+u)*N+(y-v)/2,size:v}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},vve=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=SL({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&He(t[p]))return jr(jr({},t),{},au({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&He(t[g]))return jr(jr({},t),{},au({},g,t[g]+(h||0)))}return t},yve=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},NL=function(t,r,n,a,s){var o=r.props.children,l=Ya(o,xv).filter(function(u){return yve(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=qr(d,n);if(yt(f))return u;var h=Array.isArray(f)?[pv(f),bo(f)]:[f,f],p=c.reduce(function(g,m){var x=qr(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},bve=function(t,r,n,a,s){var o=r.map(function(l){return NL(t,l,n,s,a)}).filter(function(l){return!yt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},TL=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&NL(t,c,u,a)||Uf(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},PL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},_L=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},os=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!cd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},Zy=new WeakMap,jp=function(t,r){if(typeof r!="function")return t;Zy.has(t)||Zy.set(t,new WeakMap);var n=Zy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},EL=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Rh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:wg(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bf(),realScaleType:"point"}:s==="category"?{scale:Rh(),realScaleType:"band"}:{scale:wg(),realScaleType:"linear"};if(Ul(a)){var c="scale".concat(ev(a));return{scale:(jA[c]||Bf)(),realScaleType:jA[c]?c:"point"}}return pt(a)?{scale:a}:{scale:Bf(),realScaleType:"point"}},OA=1e-4,AL=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-OA,o=Math.max(a[0],a[1])+OA,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},wve=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kve=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(s[0]=n),(!He(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},jve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=cd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Sve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=cd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Nve={sign:jve,expand:zie,none:bu,silhouette:Hie,wiggle:Wie,positive:Sve},Tve=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Nve[n],o=Vie().keys(a).value(function(l,c){return+qr(l,c,0)}).order(tw).offset(s);return o(t)},Pve=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?jr(jr({},h.type.defaultProps),h.props):h.props,m=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Jr(m)){var v=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),y.hasStack=!0,y.stackGroups[m]=v}else y.stackGroups[ud("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return jr(jr({},f),{},au({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var b=p.stackGroups[x];return jr(jr({},m),{},au({},x,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Tve(t,b.items,s)}))},g)}return jr(jr({},f),{},au({},h,p))},d)},OL=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Uxe(u,s,l);return t.domain([pv(d),bo(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=Kxe(f,s,l);return{niceTicks:h}}return null};function CA(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(a[t.dataKey])){var l=eg(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=qr(a,yt(o)?t.dataKey:o);return yt(c)?null:t.scale(c)}var DA=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=qr(o,r.dataKey,r.domain[l]);return yt(c)?null:r.scale(c)-s/2+a},_ve=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Eve=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?jr(jr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Jr(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Ave=function(t){return t.reduce(function(r,n){return[pv(n.concat([r[0]]).filter(He)),bo(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},CL=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Ave(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},MA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ow=function(t,r,n){if(pt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(He(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(MA.test(t[0])){var s=+MA.exec(t[0])[1];a[0]=r[0]-s}else pt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(He(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(RA.test(t[1])){var o=+RA.exec(t[1])[1];a[1]=r[1]+o}else pt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},_g=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=Kj(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},IA=function(t,r,n){return!t||!t.length||_u(t,Pa(n,"type.defaultProps.domain"))?r:t},DL=function(t,r){var n=t.type.defaultProps?jr(jr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return jr(jr({},ct(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:pS(t),value:qr(r,a),type:c,payload:r,chartType:u,hide:d})};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){ML(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ML(e,t,r){return t=Ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ove(e){var t=Cve(e,"string");return zh(t)=="symbol"?t:t+""}function Cve(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dve(e,t){return Lve(e)||Ive(e,t)||Rve(e,t)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rve(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ive(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lve(e){if(Array.isArray(e))return e}var Eg=Math.PI/180,Fve=function(t){return t*180/Math.PI},rr=function(t,r,n,a){return{x:t+Math.cos(-Eg*a)*n,y:r+Math.sin(-Eg*a)*n}},RL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$ve=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Jn(t.cx,o,o/2),f=Jn(t.cy,l,l/2),h=RL(o,l,n),p=Jn(t.innerRadius,h,0),g=Jn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var y=r[b],v=y.domain,w=y.reversed,k;if(yt(y.range))a==="angleAxis"?k=[c,u]:a==="radiusAxis"&&(k=[p,g]),w&&(k=[k[1],k[0]]);else{k=y.range;var N=k,S=Dve(N,2);c=S[0],u=S[1]}var T=EL(y,s),P=T.realScaleType,_=T.scale;_.domain(v).range(k),AL(_);var O=OL(_,Zi(Zi({},y),{},{realScaleType:P})),C=Zi(Zi(Zi({},y),O),{},{range:k,radius:g,realScaleType:P,scale:_,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Zi(Zi({},x),{},ML({},b,C))},{})},Bve=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Uve=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Bve({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Fve(u),angleInRadian:u}},Kve=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Vve=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},$A=function(t,r){var n=t.x,a=t.y,s=Uve({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Kve(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Zi(Zi({},r),{},{radius:o,angle:Vve(p,r)}):null},IL=function(t){return!j.isValidElement(t)&&!pt(t)&&typeof t!="boolean"?t.className:""};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var zve=["offset"];function Hve(e){return Yve(e)||qve(e)||Gve(e)||Wve()}function Wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gve(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function qve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yve(e){if(Array.isArray(e))return Cw(e)}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xve(e,t){if(e==null)return{};var r=Jve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){Qve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qve(e,t,r){return t=Zve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zve(e){var t=eye(e,"string");return Hh(t)=="symbol"?t:t+""}function eye(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(this,arguments)}var tye=function(t){var r=t.value,n=t.formatter,a=yt(t.children)?r:t.children;return pt(n)?n(a):a},rye=function(t,r){var n=Xn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},nye=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,x=(f+h)/2,b=rye(p,g),y=b>=0?1:-1,v,w;a==="insideStart"?(v=p+y*o,w=m):a==="insideEnd"?(v=g-y*o,w=!m):a==="end"&&(v=g+y*o,w=m),w=b<=0?w:!w;var k=rr(u,d,x,v),N=rr(u,d,x,v+(w?1:-1)*359),S="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),T=yt(t.id)?ud("recharts-radial-line-"):t.id;return de.createElement("text",Wh({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),de.createElement("defs",null,de.createElement("path",{id:T,d:S})),de.createElement("textPath",{xlinkHref:"#".concat(T)},r))},aye=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var p=rr(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=rr(o,l,x,h),y=b.x,v=b.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},iye=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,x=m*a,b=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return zr(zr({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return zr(zr({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var k={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return zr(zr({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return zr(zr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?zr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?zr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideTop"?zr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):s==="insideBottom"?zr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?zr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:g},S):s==="insideTopRight"?zr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},S):s==="insideBottomLeft"?zr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},S):s==="insideBottomRight"?zr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:p},S):id(s)&&(He(s.x)||bl(s.x))&&(He(s.y)||bl(s.y))?zr({x:l+Jn(s.x,u),y:c+Jn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):zr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},sye=function(t){return"cx"in t&&He(t.cx)};function an(e){var t=e.offset,r=t===void 0?5:t,n=Xve(e,zve),a=zr({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||yt(l)&&yt(c)&&!j.isValidElement(u)&&!pt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(pt(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=tye(a);var g=sye(s),m=ct(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nye(a,p,m);var x=g?aye(a):iye(a);return de.createElement(Vl,Wh({className:vt("recharts-label",f)},m,x,{breakAll:h}),p)}an.displayName="Label";var LL=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(He(m)&&He(x)){if(He(f)&&He(h))return{x:f,y:h,width:m,height:x};if(He(p)&&He(g))return{x:p,y:g,width:m,height:x}}return He(f)&&He(h)?{x:f,y:h,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},oye=function(t,r){return t?t===!0?de.createElement(an,{key:"label-implicit",viewBox:r}):Jr(t)?de.createElement(an,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===an?j.cloneElement(t,{key:"label-implicit",viewBox:r}):de.createElement(an,{key:"label-implicit",content:t,viewBox:r}):pt(t)?de.createElement(an,{key:"label-implicit",content:t,viewBox:r}):id(t)?de.createElement(an,Wh({viewBox:r},t,{key:"label-implicit"})):null:null},lye=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=LL(t),o=Ya(a,an).map(function(c,u){return j.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=oye(t.label,r||s);return[l].concat(Hve(o))};an.parseViewBox=LL;an.renderCallByParent=lye;function cye(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var uye=cye;const dye=Bt(uye);function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}var fye=["valueAccessor"],hye=["data","dataKey","clockWise","id","textBreakAll"];function pye(e){return vye(e)||xye(e)||gye(e)||mye()}function mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gye(e,t){if(e){if(typeof e=="string")return Dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(e,t)}}function xye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vye(e){if(Array.isArray(e))return Dw(e)}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){yye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yye(e,t,r){return t=bye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bye(e){var t=wye(e,"string");return Gh(t)=="symbol"?t:t+""}function wye(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VA(e,t){if(e==null)return{};var r=kye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jye=function(t){return Array.isArray(t.value)?dye(t.value):t.value};function Xa(e){var t=e.valueAccessor,r=t===void 0?jye:t,n=VA(e,fye),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=VA(n,hye);return!a||!a.length?null:de.createElement(Ot,{className:"recharts-label-list"},a.map(function(d,f){var h=yt(s)?r(d,f):qr(d&&d.payload,s),p=yt(l)?{}:{id:"".concat(l,"-").concat(f)};return de.createElement(an,Ag({},ct(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:an.parseViewBox(yt(o)?d:KA(KA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Xa.displayName="LabelList";function Sye(e,t){return e?e===!0?de.createElement(Xa,{key:"labelList-implicit",data:t}):de.isValidElement(e)||pt(e)?de.createElement(Xa,{key:"labelList-implicit",data:t,content:e}):id(e)?de.createElement(Xa,Ag({data:t},e,{key:"labelList-implicit"})):null:null}function Nye(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ya(n,Xa).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=Sye(e.label,t);return[s].concat(pye(a))}Xa.renderCallByParent=Nye;function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){Tye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tye(e,t,r){return t=Pye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pye(e){var t=_ye(e,"string");return qh(t)=="symbol"?t:t+""}function _ye(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eye=function(t,r){var n=Xn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sp=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Eg,h=u?s:s+o*f,p=rr(r,n,d,h),g=rr(r,n,a,h),m=u?s-o*f:s,x=rr(r,n,d*Math.cos(f*Eg),m);return{center:p,circleTangency:g,lineTangency:x,theta:f}},FL=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Eye(o,l),u=o+c,d=rr(r,n,s,o),f=rr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=rr(r,n,a,o),g=rr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Aye=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xn(d-u),h=Sp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,x=Sp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,v=x.theta,w=c?Math.abs(u-d):Math.abs(u-d)-m-v;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):FL({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var k="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=Sp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,T=N.lineTangency,P=N.theta,_=Sp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=_.circleTangency,C=_.lineTangency,D=_.theta,H=c?Math.abs(u-d):Math.abs(u-d)-P-D;if(H<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},Oye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$L=function(t){var r=HA(HA({},Oye),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var p=vt("recharts-sector",h),g=o-s,m=Jn(l,g,0,!0),x;return m>0&&Math.abs(d-f)<360?x=Aye({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=FL({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),de.createElement("path",Mw({},ct(r,!0),{className:p,d:x,role:"img"}))};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){Cye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cye(e,t,r){return t=Dye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=Mye(e,"string");return Yh(t)=="symbol"?t:t+""}function Mye(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qA={curveBasisClosed:Cie,curveBasisOpen:Die,curveBasis:Oie,curveBumpX:xie,curveBumpY:vie,curveLinearClosed:Mie,curveLinear:rv,curveMonotoneX:Rie,curveMonotoneY:Iie,curveNatural:Lie,curveStep:Fie,curveStepAfter:Bie,curveStepBefore:$ie},Np=function(t){return t.x===+t.x&&t.y===+t.y},$d=function(t){return t.x},Bd=function(t){return t.y},Rye=function(t,r){if(pt(t))return t;var n="curve".concat(ev(t));return(n==="curveMonotone"||n==="curveBump")&&r?qA["".concat(n).concat(r==="vertical"?"Y":"X")]:qA[n]||rv},Iye=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Rye(n,l),f=u?s.filter(function(m){return Np(m)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Np(m)}):o,g=f.map(function(m,x){return GA(GA({},m),{},{base:p[x]})});return l==="vertical"?h=mp().y(Bd).x1($d).x0(function(m){return m.base.x}):h=mp().x($d).y1(Bd).y0(function(m){return m.base.y}),h.defined(Np).curve(d),h(g)}return l==="vertical"&&He(o)?h=mp().y(Bd).x1($d).x0(o):He(o)?h=mp().x($d).y1(Bd).y0(o):h=DI().x($d).y(Bd),h.defined(Np).curve(d),h(f)},iu=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Iye(t):a;return j.createElement("path",Rw({},ct(t,!1),tg(t),{className:vt("recharts-curve",r),d:o,ref:s}))},BL={exports:{}},Lye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fye=Lye,$ye=Fye;function UL(){}function KL(){}KL.resetWarningCache=UL;var Bye=function(){function e(n,a,s,o,l,c){if(c!==$ye){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:KL,resetWarningCache:UL};return r.PropTypes=r,r};BL.exports=Bye();var Uye=BL.exports;const $t=Bt(Uye),{getOwnPropertyNames:Kye,getOwnPropertySymbols:Vye}=Object,{hasOwnProperty:zye}=Object.prototype;function YA(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Tp(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:s}=a,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,a);return s.delete(r),s.delete(n),c}}function Hye(e){return e!=null?e[Symbol.toStringTag]:void 0}function XA(e){return Kye(e).concat(Vye(e))}const Wye=Object.hasOwn||((e,t)=>zye.call(e,t));function sc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Gye="__v",qye="__o",Yye="_owner",{getOwnPropertyDescriptor:JA,keys:QA}=Object;function Xye(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Jye(e,t){return sc(e.getTime(),t.getTime())}function Qye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Zye(e,t){return e===t}function ZA(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const e1e=sc;function t1e(e,t,r){const n=QA(e);let a=n.length;if(QA(t).length!==a)return!1;for(;a-- >0;)if(!VL(e,t,r,n[a]))return!1;return!0}function Ud(e,t,r){const n=XA(e);let a=n.length;if(XA(t).length!==a)return!1;let s,o,l;for(;a-- >0;)if(s=n[a],!VL(e,t,r,s)||(o=JA(e,s),l=JA(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function r1e(e,t){return sc(e.valueOf(),t.valueOf())}function n1e(e,t){return e.source===t.source&&e.flags===t.flags}function e4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function a1e(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function i1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VL(e,t,r,n){return(n===Yye||n===qye||n===Gye)&&(e.$$typeof||t.$$typeof)?!0:Wye(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const s1e="[object Arguments]",o1e="[object Boolean]",l1e="[object Date]",c1e="[object Error]",u1e="[object Map]",d1e="[object Number]",f1e="[object Object]",h1e="[object RegExp]",p1e="[object Set]",m1e="[object String]",g1e="[object URL]",{isArray:x1e}=Array,t4=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:r4}=Object,v1e=Object.prototype.toString.call.bind(Object.prototype.toString);function y1e({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,x){if(g===m)return!0;if(g==null||m==null)return!1;const b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?s(g,m,x):b==="function"?n(g,m,x):!1;const y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return o(g,m,x);if(x1e(g))return e(g,m,x);if(t4!=null&&t4(g))return d(g,m,x);if(y===Date)return t(g,m,x);if(y===RegExp)return c(g,m,x);if(y===Map)return a(g,m,x);if(y===Set)return u(g,m,x);const v=v1e(g);if(v===l1e)return t(g,m,x);if(v===h1e)return c(g,m,x);if(v===u1e)return a(g,m,x);if(v===p1e)return u(g,m,x);if(v===f1e)return typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,x);if(v===g1e)return f(g,m,x);if(v===c1e)return r(g,m,x);if(v===s1e)return o(g,m,x);if(v===o1e||v===d1e||v===m1e)return l(g,m,x);if(h){let w=h[v];if(!w){const k=Hye(g);k&&(w=h[k])}if(w)return w(g,m,x)}return!1}}function b1e({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?Ud:Xye,areDatesEqual:Jye,areErrorsEqual:Qye,areFunctionsEqual:Zye,areMapsEqual:r?YA(ZA,Ud):ZA,areNumbersEqual:e1e,areObjectsEqual:r?Ud:t1e,arePrimitiveWrappersEqual:r1e,areRegExpsEqual:n1e,areSetsEqual:r?YA(e4,Ud):e4,areTypedArraysEqual:r?Ud:a1e,areUrlsEqual:i1e,unknownTagComparators:void 0};if(t&&(n=r4({},n,t(n))),e){const a=Tp(n.areArraysEqual),s=Tp(n.areMapsEqual),o=Tp(n.areObjectsEqual),l=Tp(n.areSetsEqual);n=r4({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function w1e(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function k1e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,s)}}const j1e=Jo();Jo({strict:!0});Jo({circular:!0});Jo({circular:!0,strict:!0});Jo({createInternalComparator:()=>sc});Jo({strict:!0,createInternalComparator:()=>sc});Jo({circular:!0,createInternalComparator:()=>sc});Jo({circular:!0,createInternalComparator:()=>sc,strict:!0});function Jo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,s=b1e(e),o=y1e(s),l=r?r(o):w1e(o);return k1e({circular:t,comparator:o,createState:n,equals:l,strict:a})}function S1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function n4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):S1e(a)};requestAnimationFrame(n)}function Iw(e){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iw(e)}function N1e(e){return E1e(e)||_1e(e)||P1e(e)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1e(e,t){if(e){if(typeof e=="string")return a4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a4(e,t)}}function a4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E1e(e){if(Array.isArray(e))return e}function A1e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=N1e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){n4(a.bind(null,u),c);return}a(c),n4(a.bind(null,u));return}Iw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){zL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zL(e,t,r){return t=O1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O1e(e){var t=C1e(e,"string");return Xh(t)==="symbol"?t:String(t)}function C1e(e,t){if(Xh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D1e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},M1e=function(t){return t},R1e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kf=function(t,r){return Object.keys(r).reduce(function(n,a){return s4(s4({},n),{},zL({},a,t(a,r[a])))},{})},o4=function(t,r,n){return t.map(function(a){return"".concat(R1e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function I1e(e,t){return $1e(e)||F1e(e,t)||HL(e,t)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $1e(e){if(Array.isArray(e))return e}function B1e(e){return V1e(e)||K1e(e)||HL(e)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HL(e,t){if(e){if(typeof e=="string")return Lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(e,t)}}function K1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V1e(e){if(Array.isArray(e))return Lw(e)}function Lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Og=1e-4,WL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},GL=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},l4=function(t,r){return function(n){var a=WL(t,r);return GL(a,n)}},z1e=function(t,r){return function(n){var a=WL(t,r),s=[].concat(B1e(a.map(function(o,l){return o*l}).slice(1)),[0]);return GL(s,n)}},c4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=I1e(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=l4(a,o),h=l4(s,l),p=z1e(a,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,v=y,w=0;w<8;++w){var k=f(v)-y,N=p(v);if(Math.abs(k-y)<Og||N<Og)return h(v);v=g(v-k/N)}return h(v)};return m.isStepper=!1,m},H1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*s,m=h+(p-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Og&&Math.abs(m)<Og?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},W1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c4(a);case"spring":return H1e();default:if(a.split("(")[0]==="cubic-bezier")return c4(a)}return typeof a=="function"?a:null};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function u4(e){return Y1e(e)||q1e(e)||qL(e)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y1e(e){if(Array.isArray(e))return $w(e)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){Fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fw(e,t,r){return t=X1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X1e(e){var t=J1e(e,"string");return Jh(t)==="symbol"?t:String(t)}function J1e(e,t){if(Jh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e,t){return tbe(e)||ebe(e,t)||qL(e,t)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qL(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ebe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tbe(e){if(Array.isArray(e))return e}var Cg=function(t,r,n){return t+(r-t)*n},Bw=function(t){var r=t.from,n=t.to;return r!==n},rbe=function e(t,r,n){var a=Kf(function(s,o){if(Bw(o)){var l=t(o.from,o.to,o.velocity),c=Q1e(l,2),u=c[0],d=c[1];return gn(gn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Kf(function(s,o){return Bw(o)?gn(gn({},o),{},{velocity:Cg(o.velocity,a[s].velocity,n),from:Cg(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const nbe=function(e,t,r,n,a){var s=D1e(e,t),o=s.reduce(function(x,b){return gn(gn({},x),{},Fw({},b,[e[b],t[b]]))},{}),l=s.reduce(function(x,b){return gn(gn({},x),{},Fw({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Kf(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(Bw).length},g=function(b){u||(u=b);var y=b-u,v=y/r.dt;l=rbe(r,l,v),a(gn(gn(gn({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,v=Kf(function(k,N){return Cg.apply(void 0,u4(N).concat([r(y)]))},o);if(a(gn(gn(gn({},e),t),v)),y<1)c=requestAnimationFrame(f);else{var w=Kf(function(k,N){return Cg.apply(void 0,u4(N).concat([r(1)]))},o);a(gn(gn(gn({},e),t),w))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var abe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ibe(e,t){if(e==null)return{};var r=sbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sbe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function e1(e){return ube(e)||cbe(e)||lbe(e)||obe()}function obe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function cbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ube(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pf(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YL(n.key),n)}}function hbe(e,t,r){return t&&fbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YL(e){var t=pbe(e,"string");return Au(t)==="symbol"?t:String(t)}function pbe(e,t){if(Au(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kw(e,t)}function gbe(e){var t=xbe();return function(){var n=Dg(e),a;if(t){var s=Dg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Vw(this,a)}}function Vw(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zw(e)}function zw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}var Wi=function(e){mbe(r,e);var t=gbe(r);function r(n,a){var s;dbe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(zw(s)),s.changeStyle=s.changeStyle.bind(zw(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Vw(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Vw(s);s.state={style:c?pf({},c,u):u}}else s.state={style:{}};return s}return hbe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?pf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(j1e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var x={style:c?pf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(ui(ui({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=nbe(o,l,W1e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,b){if(b===0)return m;var y=x.duration,v=x.easing,w=v===void 0?"ease":v,k=x.style,N=x.properties,S=x.onAnimationEnd,T=b>0?o[b-1]:x,P=N||Object.keys(k);if(typeof w=="function"||w==="spring")return[].concat(e1(m),[s.runJSAnimation.bind(s,{from:T.style,to:k,duration:y,easing:w}),y]);var _=o4(P,y,w),O=ui(ui(ui({},T.style),k),{},{transition:_});return[].concat(e1(m),[O,y,S]).filter(M1e)};return this.manager.start([c].concat(e1(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=A1e());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?pf({},l,c):c,x=o4(Object.keys(m),o,u);g.start([d,s,ui(ui({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=ibe(a,abe),u=j.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(p){var g=p.props,m=g.style,x=m===void 0?{}:m,b=g.className,y=j.cloneElement(p,ui(ui({},c),{},{style:ui(ui({},x),d),className:b}));return y};return u===1?f(j.Children.only(s)):de.createElement("div",null,j.Children.map(s,function(h){return f(h)}))}}]),r}(j.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:$t.oneOfType([$t.object,$t.string]),to:$t.oneOfType([$t.object,$t.string]),attributeName:$t.string,duration:$t.number,begin:$t.number,easing:$t.oneOfType([$t.string,$t.func]),steps:$t.arrayOf($t.shape({duration:$t.number.isRequired,style:$t.object.isRequired,easing:$t.oneOfType([$t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$t.func]),properties:$t.arrayOf("string"),onAnimationEnd:$t.func})),children:$t.oneOfType([$t.node,$t.func]),isActive:$t.bool,canBegin:$t.bool,onAnimationEnd:$t.func,shouldReAnimate:$t.bool,onAnimationStart:$t.func,onAnimationReStart:$t.func};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function vbe(e,t){return kbe(e)||wbe(e,t)||bbe(e,t)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kbe(e){if(Array.isArray(e))return e}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jbe(e,t,r){return t=Sbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sbe(e){var t=Nbe(e,"string");return Qh(t)=="symbol"?t:t+""}function Nbe(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g4=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Tbe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Pbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mS=function(t){var r=m4(m4({},Pbe),t),n=j.useRef(),a=j.useState(-1),s=vbe(a,2),o=s[0],l=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=vt("recharts-rectangle",p);return y?de.createElement(Wi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(w){var k=w.width,N=w.height,S=w.x,T=w.y;return de.createElement(Wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:g},de.createElement("path",Mg({},ct(r,!0),{className:v,d:g4(S,T,k,N,h),ref:n})))}):de.createElement("path",Mg({},ct(r,!0),{className:v,d:g4(c,u,d,f,h)}))},_be=["points","className","baseLinePoints","connectNulls"];function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}function Ebe(e,t){if(e==null)return{};var r=Abe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Abe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x4(e){return Mbe(e)||Dbe(e)||Cbe(e)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cbe(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function Dbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mbe(e){if(Array.isArray(e))return Hw(e)}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v4=function(t){return t&&t.x===+t.x&&t.y===+t.y},Rbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){v4(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),v4(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Vf=function(t,r){var n=Rbe(t);r&&(n=[n.reduce(function(s,o){return[].concat(x4(s),x4(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Ibe=function(t,r,n){var a=Vf(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Vf(r.reverse(),n).slice(1))},Lbe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=Ebe(t,_be);if(!r||!r.length)return null;var l=vt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Ibe(r,a,s);return de.createElement("g",{className:l},de.createElement("path",Bc({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?de.createElement("path",Bc({},ct(o,!0),{fill:"none",d:Vf(r,s)})):null,c?de.createElement("path",Bc({},ct(o,!0),{fill:"none",d:Vf(a,s)})):null)}var d=Vf(r,s);return de.createElement("path",Bc({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}var vv=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=vt("recharts-dot",s);return r===+r&&n===+n&&a===+a?j.createElement("circle",Ww({},ct(t,!1),tg(t),{className:o,cx:r,cy:n,r:a})):null};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}var Fbe=["x","y","top","left","width","height","className"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){Bbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bbe(e,t,r){return t=Ube(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ube(e){var t=Kbe(e,"string");return Zh(t)=="symbol"?t:t+""}function Kbe(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vbe(e,t){if(e==null)return{};var r=zbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hbe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Wbe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Vbe(t,Fbe),x=$be({x:n,y:s,top:l,left:u,width:f,height:p},m);return!He(n)||!He(s)||!He(f)||!He(p)||!He(l)||!He(u)?null:de.createElement("path",Gw({},ct(x,!0),{className:vt("recharts-cross",g),d:Hbe(n,s,f,p,l,u)}))},Gbe=hv,qbe=oL,Ybe=qi;function Xbe(e,t){return e&&e.length?Gbe(e,Ybe(t),qbe):void 0}var Jbe=Xbe;const Qbe=Bt(Jbe);var Zbe=hv,ewe=qi,twe=lL;function rwe(e,t){return e&&e.length?Zbe(e,ewe(t),twe):void 0}var nwe=rwe;const awe=Bt(nwe);var iwe=["cx","cy","angle","ticks","axisLine"],swe=["ticks","tick","angle","tickFormatter","stroke"];function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(this,arguments)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w4(e,t){if(e==null)return{};var r=owe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JL(n.key),n)}}function cwe(e,t,r){return t&&k4(e.prototype,t),r&&k4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uwe(e,t,r){return t=Rg(t),dwe(e,XL()?Reflect.construct(t,r||[],Rg(e).constructor):t.apply(e,r))}function dwe(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(e)}function fwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(e)}function hwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qw(e,t)}function yv(e,t,r){return t=JL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=pwe(e,"string");return Ou(t)=="symbol"?t:t+""}function pwe(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bv=function(e){function t(){return lwe(this,t),uwe(this,t,arguments)}return hwe(t,e),cwe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return rr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Qbe(l,function(d){return d.coordinate||0}),u=awe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=w4(n,iwe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=rr(a,s,d[0],o),h=rr(a,s,d[1],o),p=tl(tl(tl({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return de.createElement("line",zf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=w4(a,swe),f=this.getTickTextAnchor(),h=ct(d,!1),p=ct(o,!1),g=s.map(function(m,x){var b=n.getTickValueCoord(m),y=tl(tl(tl(tl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:m});return de.createElement(Ot,zf({className:vt("recharts-polar-radius-axis-tick",IL(o)),key:"tick-".concat(m.coordinate)},Kl(n.props,m,x)),t.renderTickItem(o,y,c?c(m.value,x):m.value))});return de.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:de.createElement(Ot,{className:vt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),an.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return de.isValidElement(n)?o=de.cloneElement(n,a):pt(n)?o=n(a):o=de.createElement(Vl,zf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(j.PureComponent);yv(bv,"displayName","PolarRadiusAxis");yv(bv,"axisType","radiusAxis");yv(bv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function j4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZL(n.key),n)}}function gwe(e,t,r){return t&&S4(e.prototype,t),r&&S4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xwe(e,t,r){return t=Ig(t),vwe(e,QL()?Reflect.construct(t,r||[],Ig(e).constructor):t.apply(e,r))}function vwe(e,t){if(t&&(Cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ywe(e)}function ywe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(e)}function bwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yw(e,t)}function wv(e,t,r){return t=ZL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e){var t=wwe(e,"string");return Cu(t)=="symbol"?t:t+""}function wwe(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kwe=Math.PI/180,N4=1e-5,kv=function(e){function t(){return mwe(this,t),xwe(this,t,arguments)}return bwe(t,e),gwe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=rr(s,o,l,n.coordinate),h=rr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*kwe),o;return s>N4?o=a==="outer"?"start":"end":s<-N4?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=rl(rl({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return de.createElement(vv,pl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return rr(a,s,o,h.coordinate)});return de.createElement(Lbe,pl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ct(this.props,!1),f=ct(o,!1),h=rl(rl({},d),{},{fill:"none"},ct(l,!1)),p=s.map(function(g,m){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=rl(rl(rl({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:x.x2,y:x.y2});return de.createElement(Ot,pl({className:vt("recharts-polar-angle-axis-tick",IL(o)),key:"tick-".concat(g.coordinate)},Kl(n.props,g,m)),l&&de.createElement("line",pl({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return de.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:de.createElement(Ot,{className:vt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return de.isValidElement(n)?o=de.cloneElement(n,a):pt(n)?o=n(a):o=de.createElement(Vl,pl({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(j.PureComponent);wv(kv,"displayName","PolarAngleAxis");wv(kv,"axisType","angleAxis");wv(kv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jwe=n6,Swe=jwe(Object.getPrototypeOf,Object),Nwe=Swe,Twe=As,Pwe=Nwe,_we=Os,Ewe="[object Object]",Awe=Function.prototype,Owe=Object.prototype,eF=Awe.toString,Cwe=Owe.hasOwnProperty,Dwe=eF.call(Object);function Mwe(e){if(!_we(e)||Twe(e)!=Ewe)return!1;var t=Pwe(e);if(t===null)return!0;var r=Cwe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&eF.call(r)==Dwe}var Rwe=Mwe;const Iwe=Bt(Rwe);var Lwe=As,Fwe=Os,$we="[object Boolean]";function Bwe(e){return e===!0||e===!1||Fwe(e)&&Lwe(e)==$we}var Uwe=Bwe;const Kwe=Bt(Uwe);function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function Vwe(e,t){return Gwe(e)||Wwe(e,t)||Hwe(e,t)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(e,t){if(e){if(typeof e=="string")return T4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T4(e,t)}}function T4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gwe(e){if(Array.isArray(e))return e}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){qwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qwe(e,t,r){return t=Ywe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ywe(e){var t=Xwe(e,"string");return e0(t)=="symbol"?t:t+""}function Xwe(e,t){if(e0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E4=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Jwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qwe=function(t){var r=_4(_4({},Jwe),t),n=j.useRef(),a=j.useState(-1),s=Vwe(a,2),o=s[0],l=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=vt("recharts-trapezoid",p);return b?de.createElement(Wi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(v){var w=v.upperWidth,k=v.lowerWidth,N=v.height,S=v.x,T=v.y;return de.createElement(Wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},de.createElement("path",Lg({},ct(r,!0),{className:y,d:E4(S,T,w,k,N),ref:n})))}):de.createElement("g",null,de.createElement("path",Lg({},ct(r,!0),{className:y,d:E4(c,u,d,f,h)})))},Zwe=["option","shapeType","propTransformer","activeClassName","isActive"];function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function eke(e,t){if(e==null)return{};var r=tke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rke(e,t,r){return t=nke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nke(e){var t=ake(e,"string");return t0(t)=="symbol"?t:t+""}function ake(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ike(e,t){return Fg(Fg({},t),e)}function ske(e,t){return e==="symbols"}function O4(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return de.createElement(mS,r);case"trapezoid":return de.createElement(Qwe,r);case"sector":return de.createElement($L,r);case"symbols":if(ske(t))return de.createElement(Mj,r);break;default:return null}}function oke(e){return j.isValidElement(e)?e.props:e}function tF(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ike:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=eke(e,Zwe),u;if(j.isValidElement(t))u=j.cloneElement(t,Fg(Fg({},c),oke(t)));else if(pt(t))u=t(c);else if(Iwe(t)&&!Kwe(t)){var d=a(t,c);u=de.createElement(O4,{shapeType:r,elementProps:d})}else{var f=c;u=de.createElement(O4,{shapeType:r,elementProps:f})}return l?de.createElement(Ot,{className:o},u):u}function jv(e,t){return t!=null&&"trapezoids"in e.props}function Sv(e,t){return t!=null&&"sectors"in e.props}function r0(e,t){return t!=null&&"points"in e.props}function lke(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function cke(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function uke(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function dke(e,t){var r;return jv(e,t)?r=lke:Sv(e,t)?r=cke:r0(e,t)&&(r=uke),r}function fke(e,t){var r;return jv(e,t)?r="trapezoids":Sv(e,t)?r="sectors":r0(e,t)&&(r="points"),r}function hke(e,t){if(jv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Sv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return r0(e,t)?t.payload:{}}function pke(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=fke(r,t),s=hke(r,t),o=n.filter(function(c,u){var d=_u(s,c),f=r.props[a].filter(function(g){var m=dke(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Xp;function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nF(n.key),n)}}function gke(e,t,r){return t&&D4(e.prototype,t),r&&D4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xke(e,t,r){return t=$g(t),vke(e,rF()?Reflect.construct(t,r||[],$g(e).constructor):t.apply(e,r))}function vke(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yke(e)}function yke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!e})()}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(e)}function bke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xw(e,t)}function Ka(e,t,r){return t=nF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=wke(e,"string");return Du(t)=="symbol"?t:t+""}function wke(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ni=function(e){function t(r){var n;return mke(this,t),n=xke(this,t,[r]),Ka(n,"pieRef",null),Ka(n,"sectorRefs",[]),Ka(n,"id",ud("recharts-pie-")),Ka(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pt(a)&&a()}),Ka(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return bke(t,e),gke(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ct(this.props,!1),f=ct(o,!1),h=ct(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,y=rr(m.cx,m.cy,m.outerRadius+p,b),v=Qt(Qt(Qt(Qt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,m.cx)},y),w=Qt(Qt(Qt(Qt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[rr(m.cx,m.cy,m.outerRadius,b),y]}),k=c;return yt(c)&&yt(u)?k="value":yt(c)&&(k=u),de.createElement(Ot,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,v,qr(m,k)))});return de.createElement(Ot,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,g=Qt(Qt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return de.createElement(Ot,Uc({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Kl(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),de.createElement(tF,Uc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return de.createElement(Wi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(v,w){var k=h&&h[w],N=w>0?Pa(v,"paddingAngle",0):0;if(k){var S=aa(k.endAngle-k.startAngle,v.endAngle-v.startAngle),T=Qt(Qt({},v),{},{startAngle:y+N,endAngle:y+S(m)+N});x.push(T),y=T.endAngle}else{var P=v.endAngle,_=v.startAngle,O=aa(0,P-_),C=O(m),D=Qt(Qt({},v),{},{startAngle:y+N,endAngle:y+C+N});x.push(D),y=D.endAngle}}),de.createElement(Ot,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!_u(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!He(u)||!He(d)||!He(f)||!He(h))return null;var m=vt("recharts-pie",l);return de.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),an.renderCallByParent(this.props,null,!1),(!p||g)&&Xa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(de.isValidElement(n))return de.cloneElement(n,a);if(pt(n))return n(a);var o=vt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return de.createElement(iu,Uc({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(de.isValidElement(n))return de.cloneElement(n,a);var o=s;if(pt(n)&&(o=n(a),de.isValidElement(o)))return o;var l=vt("recharts-pie-label-text",typeof n!="boolean"&&!pt(n)?n.className:"");return de.createElement(Vl,Uc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);Xp=Ni;Ka(Ni,"displayName","Pie");Ka(Ni,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ka(Ni,"parseDeltaAngle",function(e,t){var r=Xn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ka(Ni,"getRealPieData",function(e){var t=e.data,r=e.children,n=ct(e,!1),a=Ya(r,ts);return t&&t.length?t.map(function(s,o){return Qt(Qt(Qt({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Qt(Qt({},n),s.props)}):[]});Ka(Ni,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=RL(a,s),l=n+Jn(e.cx,a,a/2),c=r+Jn(e.cy,s,s/2),u=Jn(e.innerRadius,o,0),d=Jn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ka(Ni,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Qt(Qt({},t.type.defaultProps),t.props):t.props,a=Xp.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Xp.parseCoordinateOfPie(n,r),m=Xp.parseDeltaAngle(o,l),x=Math.abs(m),b=u;yt(u)&&yt(f)?(Si(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):yt(u)&&(Si(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(T){return qr(T,b,0)!==0}).length,v=(x>=360?y:y-1)*c,w=x-y*p-v,k=a.reduce(function(T,P){var _=qr(P,b,0);return T+(He(_)?_:0)},0),N;if(k>0){var S;N=a.map(function(T,P){var _=qr(T,b,0),O=qr(T,d,P),C=(He(_)?_:0)/k,D;P?D=S.endAngle+Xn(m)*c*(_!==0?1:0):D=o;var H=D+Xn(m)*((_!==0?p:0)+C*w),ee=(D+H)/2,W=(g.innerRadius+g.outerRadius)/2,Y=[{name:O,value:_,payload:T,dataKey:b,type:h}],te=rr(g.cx,g.cy,W,ee);return S=Qt(Qt(Qt({percent:C,cornerRadius:s,name:O,tooltipPayload:Y,midAngle:ee,middleRadius:W,tooltipPosition:te},T),g),{},{value:qr(T,b),startAngle:D,endAngle:H,payload:T,paddingAngle:Xn(m)*c}),S})}return Qt(Qt({},g),{},{sectors:N,data:a})});var kke=Math.ceil,jke=Math.max;function Ske(e,t,r,n){for(var a=-1,s=jke(kke((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var Nke=Ske,Tke=k6,M4=1/0,Pke=17976931348623157e292;function _ke(e){if(!e)return e===0?e:0;if(e=Tke(e),e===M4||e===-M4){var t=e<0?-1:1;return t*Pke}return e===e?e:0}var aF=_ke,Eke=Nke,Ake=sv,t1=aF;function Oke(e){return function(t,r,n){return n&&typeof n!="number"&&Ake(t,r,n)&&(r=n=void 0),t=t1(t),r===void 0?(r=t,t=0):r=t1(r),n=n===void 0?t<r?1:-1:t1(n),Eke(t,r,n,e)}}var Cke=Oke,Dke=Cke,Mke=Dke(),Rke=Mke;const Bg=Bt(Rke);function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(n){iF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iF(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Lke(e,"string");return n0(t)=="symbol"?t:t+""}function Lke(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fke=["Webkit","Moz","O","ms"],$ke=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Fke.reduce(function(s,o){return I4(I4({},s),{},iF({},o+n,r))},{});return a[t]=r,a};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}function L4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function Uke(e,t,r){return t&&F4(e.prototype,t),r&&F4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kke(e,t,r){return t=Kg(t),Vke(e,sF()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function Vke(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zke(e)}function zke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function Hke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jw(e,t)}function ga(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=Wke(e,"string");return Mu(t)=="symbol"?t:t+""}function Wke(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gke=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Bf().domain(Bg(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},$4=function(t){return t.changedTouches&&!!t.changedTouches.length},Ru=function(e){function t(r){var n;return Bke(this,t),n=Kke(this,t,[r]),ga(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ga(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ga(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),ga(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ga(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ga(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ga(n,"handleSlideDragStart",function(a){var s=$4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Hke(t,e),Uke(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=qr(s[n],l,n);return pt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=$4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var v=this.getIndex(b),w=v.startIndex,k=v.endIndex,N=function(){var T=x.length-1;return o==="startX"&&(l>c?w%m===0:k%m===0)||l<c&&k===T||o==="endX"&&(l>c?k%m===0:w%m===0)||l>c&&k===T};this.setState(ga(ga({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&N()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ga({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return de.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?de.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=r1(r1({},ct(this.props,!1)),{},{x:b,y:u,width:d,height:f}),v=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return de.createElement(Ot,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return de.createElement(Ot,{className:"recharts-brush-texts"},de.createElement(Vl,Ug({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(a)),de.createElement(Vl,Ug({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!He(l)||!He(c)||!He(u)||!He(d)||u<=0||d<=0)return null;var v=vt("recharts-brush",s),w=de.Children.count(o)===1,k=$ke("userSelect","none");return de.createElement(Ot,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),de.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return de.isValidElement(n)?s=de.cloneElement(n,a):pt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return r1({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Gke({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(j.PureComponent);ga(Ru,"displayName","Brush");ga(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qke=Uj;function Yke(e,t){var r;return qke(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var Xke=Yke,Jke=YI,Qke=qi,Zke=Xke,e2e=ma,t2e=sv;function r2e(e,t,r){var n=e2e(e)?Jke:Zke;return r&&t2e(e,t,r)&&(t=void 0),n(e,Qke(t))}var n2e=r2e;const a2e=Bt(n2e);var Vi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},B4=x6;function i2e(e,t,r){t=="__proto__"&&B4?B4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var s2e=i2e,o2e=s2e,l2e=m6,c2e=qi;function u2e(e,t){var r={};return t=c2e(t),l2e(e,function(n,a,s){o2e(r,a,t(n,a,s))}),r}var d2e=u2e;const f2e=Bt(d2e);function h2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var p2e=h2e,m2e=Uj;function g2e(e,t){var r=!0;return m2e(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var x2e=g2e,v2e=p2e,y2e=x2e,b2e=qi,w2e=ma,k2e=sv;function j2e(e,t,r){var n=w2e(e)?v2e:y2e;return r&&k2e(e,t,r)&&(t=void 0),n(e,b2e(t))}var S2e=j2e;const lF=Bt(S2e);var N2e=["x","y"];function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){T2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T2e(e,t,r){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=_2e(e,"string");return a0(t)=="symbol"?t:t+""}function _2e(e,t){if(a0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E2e(e,t){if(e==null)return{};var r=A2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O2e(e,t){var r=e.x,n=e.y,a=E2e(e,N2e),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Kd(Kd(Kd(Kd(Kd({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function K4(e){return de.createElement(tF,Qw({shapeType:"rectangle",propTransformer:O2e,activeClassName:"recharts-active-bar"},e))}var C2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=He(n)||rae(n);return s?t(n,a):(s||Hl(),r)}},D2e=["value","background"],cF;function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function M2e(e,t){if(e==null)return{};var r=R2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function L2e(e,t,r){return t&&z4(e.prototype,t),r&&z4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F2e(e,t,r){return t=zg(t),$2e(e,uF()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function $2e(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B2e(e)}function B2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function U2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zw(e,t)}function wo(e,t,r){return t=dF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=K2e(e,"string");return Iu(t)=="symbol"?t:t+""}function K2e(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Va=function(e){function t(){var r;I2e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=F2e(this,t,[].concat(a)),wo(r,"state",{isAnimationFinished:!1}),wo(r,"id",ud("recharts-bar-")),wo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),wo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return U2e(t,e),L2e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ct(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Dr(Dr(Dr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return de.createElement(Ot,Vg({className:"recharts-bar-rectangle"},Kl(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(K4,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return de.createElement(Wi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(x,b){var y=h&&h[b];if(y){var v=aa(y.x,x.x),w=aa(y.y,x.y),k=aa(y.width,x.width),N=aa(y.height,x.height);return Dr(Dr({},x),{},{x:v(g),y:w(g),width:k(g),height:N(g)})}if(o==="horizontal"){var S=aa(0,x.height),T=S(g);return Dr(Dr({},x),{},{y:x.y+x.height-T,height:T})}var P=aa(0,x.width),_=P(g);return Dr(Dr({},x),{},{width:_})});return de.createElement(Ot,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!_u(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=ct(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=M2e(u,D2e);if(!f)return null;var p=Dr(Dr(Dr(Dr(Dr({},h),{},{fill:"#eee"},f),c),Kl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return de.createElement(K4,Vg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Ya(d,xv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:qr(x,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return de.createElement(Ot,g,f.map(function(m){return de.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=vt("recharts-bar",o),y=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,w=y||v,k=yt(m)?this.id:m;return de.createElement(Ot,{className:b},y||v?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(k)},de.createElement("rect",{x:y?u:u-f/2,y:v?d:d-h/2,width:y?f:f*2,height:v?h:h*2}))):null,de.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(k,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,k),(!p||x)&&Xa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);cF=Va;wo(Va,"displayName","Bar");wo(Va,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wo(Va,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=wve(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,x=m!==void 0?Dr(Dr({},m),r.props):r.props,b=x.dataKey,y=x.children,v=x.minPointSize,w=g==="horizontal"?o:s,k=u?w.scale.domain():null,N=_ve({numericAxis:w}),S=Ya(y,ts),T=f.map(function(P,_){var O,C,D,H,ee,W;u?O=kve(u[d+_],k):(O=qr(P,b),Array.isArray(O)||(O=[N,O]));var Y=C2e(v,cF.defaultProps.minPointSize)(O[1],_);if(g==="horizontal"){var te,q=[o.scale(O[0]),o.scale(O[1])],ue=q[0],le=q[1];C=DA({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:P,index:_}),D=(te=le??ue)!==null&&te!==void 0?te:void 0,H=p.size;var B=ue-le;if(ee=Number.isNaN(B)?0:B,W={x:C,y:o.y,width:H,height:o.height},Math.abs(Y)>0&&Math.abs(ee)<Math.abs(Y)){var F=Xn(ee||Y)*(Math.abs(Y)-Math.abs(ee));D-=F,ee+=F}}else{var L=[s.scale(O[0]),s.scale(O[1])],R=L[0],G=L[1];if(C=R,D=DA({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:_}),H=G-R,ee=p.size,W={x:s.x,y:D,width:s.width,height:ee},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var be=Xn(H||Y)*(Math.abs(Y)-Math.abs(H));H+=be}}return Dr(Dr(Dr({},P),{},{x:C,y:D,width:H,height:ee,value:u?O:O[1],payload:P,background:W},S&&S[_]&&S[_].props),{},{tooltipPayload:[DL(r,P)],tooltipPosition:{x:C+H/2,y:D+ee/2}})});return Dr({data:T,layout:g},h)});function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function V2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fF(n.key),n)}}function z2e(e,t,r){return t&&H4(e.prototype,t),r&&H4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(n){Nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nv(e,t,r){return t=fF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=H2e(e,"string");return i0(t)=="symbol"?t:t+""}function H2e(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hF=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ya(u,Va);return d.reduce(function(p,g){var m=r[g],x=m.orientation,b=m.domain,y=m.padding,v=y===void 0?{}:y,w=m.mirror,k=m.reversed,N="".concat(x).concat(w?"Mirror":""),S,T,P,_,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=b[1]-b[0],D=1/0,H=m.categoricalDomain.sort(iae);if(H.forEach(function(L,R){R>0&&(D=Math.min((L||0)-(H[R-1]||0),D))}),Number.isFinite(D)){var ee=D/C,W=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=ee*W/2),m.padding==="no-gap"){var Y=Jn(t.barCategoryGap,ee*W),te=ee*W/2;S=te-Y-(te-Y)/W*Y}}}a==="xAxis"?T=[n.left+(v.left||0)+(S||0),n.left+n.width-(v.right||0)-(S||0)]:a==="yAxis"?T=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(S||0),n.top+n.height-(v.bottom||0)-(S||0)]:T=m.range,k&&(T=[T[1],T[0]]);var q=EL(m,s,h),ue=q.scale,le=q.realScaleType;ue.domain(b).range(T),AL(ue);var B=OL(ue,hi(hi({},m),{},{realScaleType:le}));a==="xAxis"?(O=x==="top"&&!w||x==="bottom"&&w,P=n.left,_=f[N]-O*m.height):a==="yAxis"&&(O=x==="left"&&!w||x==="right"&&w,P=f[N]-O*m.width,_=n.top);var F=hi(hi(hi({},m),B),{},{realScaleType:le,x:P,y:_,scale:ue,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return F.bandSize=_g(F,B),!m.hide&&a==="xAxis"?f[N]+=(O?-1:1)*F.height:m.hide||(f[N]+=(O?-1:1)*F.width),hi(hi({},p),{},Nv({},g,F))},{})},pF=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},W2e=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return pF({x:r,y:n},{x:a,y:s})},mF=function(){function e(t){V2e(this,e),this.scale=t}return z2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Nv(mF,"EPS",1e-4);var gS=function(t){var r=Object.keys(t).reduce(function(n,a){return hi(hi({},n),{},Nv({},a,mF.create(t[a])))},{});return hi(hi({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return f2e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return lF(a,function(s,o){return r[o].isInRange(s)})}})};function G2e(e){return(e%180+180)%180}var q2e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=G2e(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Y2e=qi,X2e=P0,J2e=av;function Q2e(e){return function(t,r,n){var a=Object(t);if(!X2e(t)){var s=Y2e(r);t=J2e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var Z2e=Q2e,eje=aF;function tje(e){var t=eje(e),r=t%1;return t===t?r?t-r:t:0}var rje=tje,nje=c6,aje=qi,ije=rje,sje=Math.max;function oje(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ije(r);return a<0&&(a=sje(n+a,0)),nje(e,aje(t),a)}var lje=oje,cje=Z2e,uje=lje,dje=cje(uje),fje=dje;const hje=Bt(fje);var pje=lne(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),xS=j.createContext(void 0),vS=j.createContext(void 0),gF=j.createContext(void 0),xF=j.createContext({}),vF=j.createContext(void 0),yF=j.createContext(0),bF=j.createContext(0),G4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=pje(s);return de.createElement(xS.Provider,{value:n},de.createElement(vS.Provider,{value:a},de.createElement(xF.Provider,{value:s},de.createElement(gF.Provider,{value:d},de.createElement(vF.Provider,{value:o},de.createElement(yF.Provider,{value:u},de.createElement(bF.Provider,{value:c},l)))))))},mje=function(){return j.useContext(vF)},wF=function(t){var r=j.useContext(xS);r==null&&Hl();var n=r[t];return n==null&&Hl(),n},gje=function(){var t=j.useContext(xS);return po(t)},xje=function(){var t=j.useContext(vS),r=hje(t,function(n){return lF(n.domain,Number.isFinite)});return r||po(t)},kF=function(t){var r=j.useContext(vS);r==null&&Hl();var n=r[t];return n==null&&Hl(),n},vje=function(){var t=j.useContext(gF);return t},yje=function(){return j.useContext(xF)},yS=function(){return j.useContext(bF)},bS=function(){return j.useContext(yF)};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function bje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function kje(e,t,r){return t&&wje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jje(e,t,r){return t=Hg(t),Sje(e,jF()?Reflect.construct(t,r||[],Hg(e).constructor):t.apply(e,r))}function Sje(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nje(e)}function Nje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function Hg(e){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(e)}function Tje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ek(e,t)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){wS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wS(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=Pje(e,"string");return Lu(t)=="symbol"?t:t+""}function Pje(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _je(e,t){return Cje(e)||Oje(e,t)||Aje(e,t)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aje(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cje(e){if(Array.isArray(e))return e}function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(this,arguments)}var Dje=function(t,r){var n;return de.isValidElement(t)?n=de.cloneElement(t,r):pt(t)?n=t(r):n=de.createElement("line",tk({},r,{className:"recharts-reference-line-line"})),n},Mje=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Vi(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(Vi(u,"discard")&&!t.x.isInRange(y))return null;var v=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?v.reverse():v}if(a){var w=u.segment,k=w.map(function(N){return t.apply(N,{position:o})});return Vi(u,"discard")&&a2e(k,function(N){return!t.isInRange(N)})?null:k}return null};function Rje(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=mje(),d=wF(a),f=kF(s),h=vje();if(!u||!h)return null;Si(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=gS({x:d.scale,y:f.scale}),g=Jr(t),m=Jr(r),x=n&&n.length===2,b=Mje(p,g,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=_je(b,2),v=y[0],w=v.x,k=v.y,N=y[1],S=N.x,T=N.y,P=Vi(e,"hidden")?"url(#".concat(u,")"):void 0,_=Y4(Y4({clipPath:P},ct(e,!0)),{},{x1:w,y1:k,x2:S,y2:T});return de.createElement(Ot,{className:vt("recharts-reference-line",l)},Dje(o,_),an.renderCallByParent(e,W2e({x1:w,y1:k,x2:S,y2:T})))}var Tv=function(e){function t(){return bje(this,t),jje(this,t,arguments)}return Tje(t,e),kje(t,[{key:"render",value:function(){return de.createElement(Rje,this.props)}}])}(de.Component);wS(Tv,"displayName","ReferenceLine");wS(Tv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rk.apply(this,arguments)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){Pv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ije(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TF(n.key),n)}}function Fje(e,t,r){return t&&Lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $je(e,t,r){return t=Wg(t),Bje(e,NF()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function Bje(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uje(e)}function Uje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function Kje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nk(e,t)}function nk(e,t){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nk(e,t)}function Pv(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=Vje(e,"string");return Fu(t)=="symbol"?t:t+""}function Vje(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zje=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=gS({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Vi(t,"discard")&&!o.isInRange(l)?null:l},_v=function(e){function t(){return Ije(this,t),$je(this,t,arguments)}return Kje(t,e),Fje(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Jr(a),d=Jr(s);if(Si(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=zje(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,x=g.className,b=Vi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=Q4(Q4({clipPath:b},ct(this.props,!0)),{},{cx:h,cy:p});return de.createElement(Ot,{className:vt("recharts-reference-dot",x)},t.renderDot(m,y),an.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(de.Component);Pv(_v,"displayName","ReferenceDot");Pv(_v,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pv(_v,"renderDot",function(e,t){var r;return de.isValidElement(e)?r=de.cloneElement(e,t):pt(e)?r=e(t):r=de.createElement(vv,rk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ak.apply(this,arguments)}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){Ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_F(n.key),n)}}function Gje(e,t,r){return t&&Wje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qje(e,t,r){return t=Gg(t),Yje(e,PF()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function Yje(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xje(e)}function Xje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function Jje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}function ik(e,t){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ik(e,t)}function Ev(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=Qje(e,"string");return $u(t)=="symbol"?t:t+""}function Qje(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zje=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=gS({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vi(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:pF(p,g)},Av=function(e){function t(){return Hje(this,t),qje(this,t,arguments)}return Jje(t,e),Gje(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Si(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Jr(a),h=Jr(s),p=Jr(o),g=Jr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var x=Zje(f,h,p,g,this.props);if(!x&&!m)return null;var b=Vi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return de.createElement(Ot,{className:vt("recharts-reference-area",c)},t.renderRect(m,eO(eO({clipPath:b},ct(this.props,!0)),x)),an.renderCallByParent(this.props,x))}}])}(de.Component);Ev(Av,"displayName","ReferenceArea");Ev(Av,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ev(Av,"renderRect",function(e,t){var r;return de.isValidElement(e)?r=de.cloneElement(e,t):pt(e)?r=e(t):r=de.createElement(mS,ak({},t,{className:"recharts-reference-area-rect"})),r});function EF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function eSe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return q2e(n,r)}function tSe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function qg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function rSe(e,t){return EF(e,t+1)}function nSe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:EF(n,u)};var m=c,x,b=function(){return x===void 0&&(x=r(g,m)),x},y=g.coordinate,v=c===0||qg(e,y,b,d,l);v||(c=0,d=o,u+=1),v&&(d=y+e*(b()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){aSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aSe(e,t,r){return t=iSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iSe(e){var t=sSe(e,"string");return s0(t)=="symbol"?t:t+""}function sSe(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oSe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);s[h]=p=On(On({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else s[h]=p=On(On({},p),{},{tickCoord:p.coordinate});var b=qg(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+a),s[h]=On(On({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function lSe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=On(On({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=qg(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=On(On({},d),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(y){var v=o[y],w,k=function(){return w===void 0&&(w=r(v,y)),w};if(y===0){var N=e*(v.coordinate-e*k()/2-c);o[y]=v=On(On({},v),{},{tickCoord:N<0?v.coordinate-N*e:v.coordinate})}else o[y]=v=On(On({},v),{},{tickCoord:v.coordinate});var S=qg(e,v.tickCoord,k,c,u);S&&(c=v.tickCoord+e*(k()/2+a),o[y]=On(On({},v),{},{isShow:!0}))},x=0;x<g;x++)m(x);return o}function kS(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(He(c)||nc.isSsr)return rSe(a,typeof c=="number"&&He(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?$f(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(v,w){var k=pt(u)?u(v.value,w):v.value;return p==="width"?eSe($f(k,{fontSize:t,letterSpacing:r}),g,f):$f(k,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Xn(a[1].coordinate-a[0].coordinate):1,b=tSe(s,x,p);return c==="equidistantPreserveStart"?nSe(x,b,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=lSe(x,b,m,a,o,c==="preserveStartEnd"):h=oSe(x,b,m,a,o),h.filter(function(y){return y.isShow}))}var cSe=["viewBox"],uSe=["viewBox"],dSe=["ticks"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){jS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1(e,t){if(e==null)return{};var r=fSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OF(n.key),n)}}function pSe(e,t,r){return t&&nO(e.prototype,t),r&&nO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mSe(e,t,r){return t=Yg(t),gSe(e,AF()?Reflect.construct(t,r||[],Yg(e).constructor):t.apply(e,r))}function gSe(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(e)}function xSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function Yg(e){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(e)}function vSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sk(e,t)}function jS(e,t,r){return t=OF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=ySe(e,"string");return Bu(t)=="symbol"?t:t+""}function ySe(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xd=function(e){function t(r){var n;return hSe(this,t),n=mSe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return vSe(t,e),pSe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=n1(n,cSe),l=this.props,c=l.viewBox,u=n1(l,uSe);return!ru(s,c)||!ru(o,u)||!ru(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,x,b,y,v=f?-1:1,w=n.tickSize||d,k=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=o+ +!f*c,m=x-v*w,y=m-v*h,b=k;break;case"left":m=x=n.coordinate,g=s+ +!f*l,p=g-v*w,b=p-v*h,y=k;break;case"right":m=x=n.coordinate,g=s+ +f*l,p=g+v*w,b=p+v*h,y=k;break;default:p=g=n.coordinate,x=o+ +f*c,m=x+v*w,y=m+v*h,b=k;break}return{line:{x1:p,y1:m,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Vr(Vr(Vr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Vr(Vr({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Vr(Vr({},f),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return de.createElement("line",Kc({},f,{className:vt("recharts-cartesian-axis-line",Pa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=kS(Vr(Vr({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ct(this.props,!1),b=ct(d,!1),y=Vr(Vr({},x),{},{fill:"none"},ct(c,!1)),v=p.map(function(w,k){var N=o.getTickLineCoord(w),S=N.line,T=N.tick,P=Vr(Vr(Vr(Vr({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),T),{},{index:k,payload:w,visibleTicksCount:p.length,tickFormatter:f});return de.createElement(Ot,Kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Kl(o.props,w,k)),c&&de.createElement("line",Kc({},y,S,{className:vt("recharts-cartesian-axis-tick-line",Pa(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(pt(f)?f(w.value,k):w.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=n1(f,dSe),g=h;return pt(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:de.createElement(Ot,{className:vt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),an.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=vt(a.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(n)?o=de.cloneElement(n,Vr(Vr({},a),{},{className:l})):pt(n)?o=n(Vr(Vr({},a),{},{className:l})):o=de.createElement(Vl,Kc({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(j.Component);jS(xd,"displayName","CartesianAxis");jS(xd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bSe=["x1","y1","x2","y2","key"],wSe=["offset"];function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){kSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kSe(e,t,r){return t=jSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jSe(e){var t=SSe(e,"string");return Wl(t)=="symbol"?t:t+""}function SSe(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function iO(e,t){if(e==null)return{};var r=NSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TSe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return de.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CF(e,t){var r;if(de.isValidElement(e))r=de.cloneElement(e,t);else if(pt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=iO(t,bSe),u=ct(c,!1);u.offset;var d=iO(u,wSe);r=de.createElement("line",jl({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function PSe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Mn(Mn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return CF(a,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _Se(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Mn(Mn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return CF(a,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ESe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return de.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ASe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return de.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var OSe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return _L(kS(Mn(Mn(Mn({},xd.defaultProps),n),{},{ticks:os(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},CSe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return _L(kS(Mn(Mn(Mn({},xd.defaultProps),n),{},{ticks:os(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uo(e){var t,r,n,a,s,o,l=yS(),c=bS(),u=yje(),d=Mn(Mn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gc.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:gc.verticalFill,x:He(e.x)?e.x:u.left,y:He(e.y)?e.y:u.top,width:He(e.width)?e.width:u.width,height:He(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=gje(),v=xje();if(!He(p)||p<=0||!He(g)||g<=0||!He(f)||f!==+f||!He(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||OSe,k=d.horizontalCoordinatesGenerator||CSe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&pt(k)){var T=x&&x.length,P=k({yAxis:v?Mn(Mn({},v),{},{ticks:T?x:v.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);Si(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&pt(w)){var _=b&&b.length,O=w({xAxis:y?Mn(Mn({},y),{},{ticks:_?b:y.ticks}):void 0,width:l,height:c,offset:u},_?!0:m);Si(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(O),"]")),Array.isArray(O)&&(S=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(TSe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),de.createElement(PSe,jl({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:v})),de.createElement(_Se,jl({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:v})),de.createElement(ESe,jl({},d,{horizontalPoints:N})),de.createElement(ASe,jl({},d,{verticalPoints:S})))}uo.displayName="CartesianGrid";var DSe=["layout","type","stroke","connectNulls","isRange","ref"],MSe=["key"],DF;function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function MF(e,t){if(e==null)return{};var r=RSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(this,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ISe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IF(n.key),n)}}function LSe(e,t,r){return t&&oO(e.prototype,t),r&&oO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FSe(e,t,r){return t=Xg(t),$Se(e,RF()?Reflect.construct(t,r||[],Xg(e).constructor):t.apply(e,r))}function $Se(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BSe(e)}function BSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!e})()}function Xg(e){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(e)}function USe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ok(e,t)}function Fi(e,t,r){return t=IF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=KSe(e,"string");return Uu(t)=="symbol"?t:t+""}function KSe(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var za=function(e){function t(){var r;ISe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=FSe(this,t,[].concat(a)),Fi(r,"state",{isAnimationFinished:!0}),Fi(r,"id",ud("recharts-area-")),Fi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),pt(o)&&o()}),Fi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),pt(o)&&o()}),r}return USe(t,e),LSe(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=ct(this.props,!1),p=ct(u,!0),g=d.map(function(x,b){var y=io(io(io({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return de.createElement(Ot,Sl({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=bo(o.map(function(h){return h.y||0}));return He(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bo(s.map(function(h){return h.y||0})),f)),He(f)?de.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=bo(o.map(function(h){return h.x||0}));return He(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bo(s.map(function(h){return h.x||0})),f)),He(f)?de.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=MF(l,DSe);return de.createElement(Ot,{clipPath:s?"url(#clipPath-".concat(o,")"):null},de.createElement(iu,Sl({},ct(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&de.createElement(iu,Sl({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&de.createElement(iu,Sl({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,x=g.prevBaseLine;return de.createElement(Wi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(m){var v=m.length/l.length,w=l.map(function(T,P){var _=Math.floor(P*v);if(m[_]){var O=m[_],C=aa(O.x,T.x),D=aa(O.y,T.y);return io(io({},T),{},{x:C(y),y:D(y)})}return T}),k;if(He(c)&&typeof c=="number"){var N=aa(x,c);k=N(y)}else if(yt(c)||cd(c)){var S=aa(x,0);k=S(y)}else k=c.map(function(T,P){var _=Math.floor(P*v);if(x[_]){var O=x[_],C=aa(O.x,T.x),D=aa(O.y,T.y);return io(io({},T),{},{x:C(y),y:D(y)})}return T});return s.renderAreaStatically(w,k,n,a)}return de.createElement(Ot,null,de.createElement("defs",null,de.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(y))),de.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!_u(d,o)||!_u(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,v=vt("recharts-area",c),w=f&&f.allowDataOverflow,k=h&&h.allowDataOverflow,N=w||k,S=yt(x)?this.id:x,T=(n=ct(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=T.r,_=P===void 0?3:P,O=T.strokeWidth,C=O===void 0?2:O,D=pae(o)?o:{},H=D.clipDot,ee=H===void 0?!0:H,W=_*2+C;return de.createElement(Ot,{className:v},w||k?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(S)},de.createElement("rect",{x:w?d:d-p/2,y:k?u:u-g/2,width:w?p:p*2,height:k?g:g*2})),!ee&&de.createElement("clipPath",{id:"clipPath-dots-".concat(S)},de.createElement("rect",{x:d-W/2,y:u-W/2,width:p+W,height:g+W}))):null,y?null:this.renderArea(N,S),(o||y)&&this.renderDots(N,ee,S),(!m||b)&&Xa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);DF=za;Fi(za,"displayName","Area");Fi(za,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fi(za,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(He(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Fi(za,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=DF.getBaseValue(t,r,n,a),x=p==="horizontal",b=!1,y=f.map(function(w,k){var N;g?N=u[d+k]:(N=qr(w,c),Array.isArray(N)?b=!0:N=[m,N]);var S=N[1]==null||g&&qr(w,c)==null;return x?{x:CA({axis:n,ticks:s,bandSize:l,entry:w,index:k}),y:S?null:a.scale(N[1]),value:N,payload:w}:{x:S?null:n.scale(N[1]),y:CA({axis:a,ticks:o,bandSize:l,entry:w,index:k}),value:N,payload:w}}),v;return g||b?v=y.map(function(w){var k=Array.isArray(w.value)?w.value[0]:null;return x?{x:w.x,y:k!=null&&w.y!=null?a.scale(k):null}:{x:k!=null?n.scale(k):null,y:w.y}}):v=x?a.scale(m):n.scale(m),io({points:y,baseLine:v,layout:p,isRange:b},h)});Fi(za,"renderDotItem",function(e,t){var r;if(de.isValidElement(e))r=de.cloneElement(e,t);else if(pt(e))r=e(t);else{var n=vt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=MF(t,MSe);r=de.createElement(vv,Sl({},s,{key:a,className:n}))}return r});function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function VSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function HSe(e,t,r){return t&&zSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WSe(e,t,r){return t=Jg(t),GSe(e,LF()?Reflect.construct(t,r||[],Jg(e).constructor):t.apply(e,r))}function GSe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qSe(e)}function qSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LF=function(){return!!e})()}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(e)}function YSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lk(e,t)}function FF(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=XSe(e,"string");return Ku(t)=="symbol"?t:t+""}function XSe(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ck.apply(this,arguments)}function JSe(e){var t=e.xAxisId,r=yS(),n=bS(),a=wF(t);return a==null?null:j.createElement(xd,ck({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return os(o,!0)}}))}var mi=function(e){function t(){return VSe(this,t),WSe(this,t,arguments)}return YSe(t,e),HSe(t,[{key:"render",value:function(){return j.createElement(JSe,this.props)}}])}(j.Component);FF(mi,"displayName","XAxis");FF(mi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function QSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KF(n.key),n)}}function eNe(e,t,r){return t&&ZSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tNe(e,t,r){return t=Qg(t),rNe(e,BF()?Reflect.construct(t,r||[],Qg(e).constructor):t.apply(e,r))}function rNe(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nNe(e)}function nNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BF=function(){return!!e})()}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(e)}function aNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uk(e,t)}function uk(e,t){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uk(e,t)}function UF(e,t,r){return t=KF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=iNe(e,"string");return Vu(t)=="symbol"?t:t+""}function iNe(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dk.apply(this,arguments)}var sNe=function(t){var r=t.yAxisId,n=yS(),a=bS(),s=kF(r);return s==null?null:j.createElement(xd,dk({},s,{className:vt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return os(l,!0)}}))},gi=function(e){function t(){return QSe(this,t),tNe(this,t,arguments)}return aNe(t,e),eNe(t,[{key:"render",value:function(){return j.createElement(sNe,this.props)}}])}(j.Component);UF(gi,"displayName","YAxis");UF(gi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lO(e){return uNe(e)||cNe(e)||lNe(e)||oNe()}function oNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lNe(e,t){if(e){if(typeof e=="string")return fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(e,t)}}function cNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uNe(e){if(Array.isArray(e))return fk(e)}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hk=function(t,r,n,a,s){var o=Ya(t,Tv),l=Ya(t,_v),c=[].concat(lO(o),lO(l)),u=Ya(t,Av),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&Vi(x.props,"extendDomain")&&He(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&Vi(x.props,"extendDomain")&&He(x.props[p])&&He(x.props[g])){var b=x.props[p],y=x.props[g];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,x){return He(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},VF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,y,v;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(v=1,y=new Array(b-1);v<b;v++)y[v-1]=arguments[v];x.fn.apply(x.context,y)}else{var w=x.length,k;for(v=0;v<w;v++)switch(x[v].once&&this.removeListener(u,x[v].fn,void 0,!0),b){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,d);break;case 3:x[v].fn.call(x[v].context,d,f);break;case 4:x[v].fn.call(x[v].context,d,f,h);break;default:if(!y)for(k=1,y=new Array(b-1);k<b;k++)y[k-1]=arguments[k];x[v].fn.apply(x[v].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,x=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(VF);var dNe=VF.exports;const fNe=Bt(dNe);var a1=new fNe,i1="recharts.syncMouseEvents";function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function hNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zF(n.key),n)}}function mNe(e,t,r){return t&&pNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s1(e,t,r){return t=zF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=gNe(e,"string");return o0(t)=="symbol"?t:t+""}function gNe(e,t){if(o0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xNe=function(){function e(){hNe(this,e),s1(this,"activeIndex",0),s1(this,"coordinateList",[]),s1(this,"layout","horizontal")}return mNe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function vNe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&He(n)&&He(a))return!0}return!1}function yNe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function HF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=rr(t,r,n,a),l=rr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function bNe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=rr(l,c,u,f),p=rr(l,c,d,f);n=h.x,a=h.y,s=p.x,o=p.y}else return HF(t);return[{x:n,y:a},{x:s,y:o}]}function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){wNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wNe(e,t,r){return t=kNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kNe(e){var t=jNe(e,"string");return l0(t)=="symbol"?t:t+""}function jNe(e,t){if(l0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,m=iu;if(h==="ScatterChart")g=o,m=Wbe;else if(h==="BarChart")g=yNe(f,o,c,d),m=mS;else if(f==="radial"){var x=HF(o),b=x.cx,y=x.cy,v=x.radius,w=x.startAngle,k=x.endAngle;g={cx:b,cy:y,startAngle:w,endAngle:k,innerRadius:v,outerRadius:v},m=$L}else g={points:bNe(f,o,c)},m=iu;var N=Pp(Pp(Pp(Pp({stroke:"#ccc",pointerEvents:"none"},c),g),ct(p,!1)),{},{payload:l,payloadIndex:u,className:vt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,N):j.createElement(m,N)}var NNe=["item"],TNe=["children","className","width","height","style","compact","title","desc"];function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function uO(e,t){return ENe(e)||_Ne(e,t)||GF(e,t)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ENe(e){if(Array.isArray(e))return e}function dO(e,t){if(e==null)return{};var r=ANe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ANe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ONe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qF(n.key),n)}}function DNe(e,t,r){return t&&CNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MNe(e,t,r){return t=Zg(t),RNe(e,WF()?Reflect.construct(t,r||[],Zg(e).constructor):t.apply(e,r))}function RNe(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return INe(e)}function INe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function Zg(e){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(e)}function LNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(e,t)}function Hu(e){return BNe(e)||$Ne(e)||GF(e)||FNe()}function FNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(e,t){if(e){if(typeof e=="string")return mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(e,t)}}function $Ne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BNe(e){if(Array.isArray(e))return mk(e)}function mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){ft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ft(e,t,r){return t=qF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=UNe(e,"string");return zu(t)=="symbol"?t:t+""}function UNe(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KNe={xAxis:["bottom","top"],yAxis:["left","right"]},VNe={width:"100%",height:"100%"},YF={x:0,y:0};function _p(e){return e}var zNe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},HNe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Me(Me(Me({},a),rr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Me(Me(Me({},a),rr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return YF},Ov=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hu(l),Hu(u)):l},[]);return o.length>0?o:t&&t.length&&He(a)&&He(s)?t.slice(a,s+1):[]};function XF(e){return e==="number"?[0,"auto"]:void 0}var gk=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Ov(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=eg(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Hu(c),[DL(u,h)]):c},[])},hO=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=zNe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=mve(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=gk(t,r,d,f),p=HNe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},WNe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=PL(d,s);return n.reduce(function(g,m){var x,b=m.type.defaultProps!==void 0?Me(Me({},m.type.defaultProps),m.props):m.props,y=b.type,v=b.dataKey,w=b.allowDataOverflow,k=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,T=b.includeHidden,P=b[o];if(g[P])return g;var _=Ov(t.data,{graphicalItems:a.filter(function(B){var F,L=o in B.props?B.props[o]:(F=B.type.defaultProps)===null||F===void 0?void 0:F[o];return L===P}),dataStartIndex:c,dataEndIndex:u}),O=_.length,C,D,H;vNe(b.domain,w,y)&&(C=Ow(b.domain,null,w),p&&(y==="number"||N!=="auto")&&(H=Uf(_,v,"category")));var ee=XF(y);if(!C||C.length===0){var W,Y=(W=b.domain)!==null&&W!==void 0?W:ee;if(v){if(C=Uf(_,v,y),y==="category"&&p){var te=aae(C);k&&te?(D=C,C=Bg(0,O)):k||(C=IA(Y,C,m).reduce(function(B,F){return B.indexOf(F)>=0?B:[].concat(Hu(B),[F])},[]))}else if(y==="category")k?C=C.filter(function(B){return B!==""&&!yt(B)}):C=IA(Y,C,m).reduce(function(B,F){return B.indexOf(F)>=0||F===""||yt(F)?B:[].concat(Hu(B),[F])},[]);else if(y==="number"){var q=bve(_,a.filter(function(B){var F,L,R=o in B.props?B.props[o]:(F=B.type.defaultProps)===null||F===void 0?void 0:F[o],G="hide"in B.props?B.props.hide:(L=B.type.defaultProps)===null||L===void 0?void 0:L.hide;return R===P&&(T||!G)}),v,s,d);q&&(C=q)}p&&(y==="number"||N!=="auto")&&(H=Uf(_,v,"category"))}else p?C=Bg(0,O):l&&l[P]&&l[P].hasStack&&y==="number"?C=h==="expand"?[0,1]:CL(l[P].stackGroups,c,u):C=TL(_,a.filter(function(B){var F=o in B.props?B.props[o]:B.type.defaultProps[o],L="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return F===P&&(T||!L)}),y,d,!0);if(y==="number")C=hk(f,C,P,s,S),Y&&(C=Ow(Y,C,w));else if(y==="category"&&Y){var ue=Y,le=C.every(function(B){return ue.indexOf(B)>=0});le&&(C=ue)}}return Me(Me({},g),{},ft({},P,Me(Me({},b),{},{axisType:s,domain:C,categoricalDomain:H,duplicateDomain:D,originalDomain:(x=b.domain)!==null&&x!==void 0?x:ee,isCategorical:p,layout:d})))},{})},GNe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Ov(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=PL(d,s),m=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?Me(Me({},b.type.defaultProps),b.props):b.props,v=y[o],w=XF("number");if(!x[v]){m++;var k;return g?k=Bg(0,p):l&&l[v]&&l[v].hasStack?(k=CL(l[v].stackGroups,c,u),k=hk(f,k,v,s)):(k=Ow(w,TL(h,n.filter(function(N){var S,T,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],_="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===v&&!_}),"number",d),a.defaultProps.allowDataOverflow),k=hk(f,k,v,s)),Me(Me({},x),{},ft({},v,Me(Me({axisType:s},a.defaultProps),{},{hide:!0,orientation:Pa(KNe,"".concat(s,".").concat(m%2),null),domain:k,originalDomain:w,isCategorical:g,layout:d})))}return x},{})},qNe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Ya(d,s),p={};return h&&h.length?p=WNe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=GNe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},YNe=function(t){var r=po(t),n=os(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Kj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_g(r,n)}},pO=function(t){var r=t.children,n=t.defaultShowTooltip,a=ya(r,Ru),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},XNe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ps(r&&r.type);return n&&n.indexOf("Bar")>=0})},mO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JNe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ya(f,Ru),g=ya(f,vi),m=Object.keys(c).reduce(function(k,N){var S=c[N],T=S.orientation;return!S.mirror&&!S.hide?Me(Me({},k),{},ft({},T,k[T]+S.width)):k},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(k,N){var S=o[N],T=S.orientation;return!S.mirror&&!S.hide?Me(Me({},k),{},ft({},T,Pa(k,"".concat(T))+S.height)):k},{top:h.top||0,bottom:h.bottom||0}),b=Me(Me({},x),m),y=b.bottom;p&&(b.bottom+=p.props.height||Ru.defaultProps.height),g&&r&&(b=vve(b,a,n,r));var v=u-b.left-b.right,w=d-b.top-b.bottom;return Me(Me({brushBottom:y},b),{},{width:Math.max(v,0),height:Math.max(w,0)})},QNe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},SS=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var v=y.graphicalItems,w=y.stackGroups,k=y.offset,N=y.updateId,S=y.dataStartIndex,T=y.dataEndIndex,P=b.barSize,_=b.layout,O=b.barGap,C=b.barCategoryGap,D=b.maxBarSize,H=mO(_),ee=H.numericAxisName,W=H.cateAxisName,Y=XNe(v),te=[];return v.forEach(function(q,ue){var le=Ov(b.data,{graphicalItems:[q],dataStartIndex:S,dataEndIndex:T}),B=q.type.defaultProps!==void 0?Me(Me({},q.type.defaultProps),q.props):q.props,F=B.dataKey,L=B.maxBarSize,R=B["".concat(ee,"Id")],G=B["".concat(W,"Id")],be={},Te=c.reduce(function(fe,I){var X=y["".concat(I.axisType,"Map")],re=B["".concat(I.axisType,"Id")];X&&X[re]||I.axisType==="zAxis"||Hl();var J=X[re];return Me(Me({},fe),{},ft(ft({},I.axisType,J),"".concat(I.axisType,"Ticks"),os(J)))},be),ce=Te[W],pe=Te["".concat(W,"Ticks")],Pe=w&&w[R]&&w[R].hasStack&&Eve(q,w[R].stackGroups),ge=ps(q.type).indexOf("Bar")>=0,Ae=_g(ce,pe),ne=[],E=Y&&gve({barSize:P,stackGroups:w,totalSize:QNe(Te,W)});if(ge){var A,M,me=yt(L)?D:L,z=(A=(M=_g(ce,pe,!0))!==null&&M!==void 0?M:me)!==null&&A!==void 0?A:0;ne=xve({barGap:O,barCategoryGap:C,bandSize:z!==Ae?z:Ae,sizeList:E[G],maxBarSize:me}),z!==Ae&&(ne=ne.map(function(fe){return Me(Me({},fe),{},{position:Me(Me({},fe.position),{},{offset:fe.position.offset-z/2})})}))}var V=q&&q.type&&q.type.getComposedData;V&&te.push({props:Me(Me({},V(Me(Me({},Te),{},{displayedData:le,props:b,dataKey:F,item:q,bandSize:Ae,barPosition:ne,offset:k,stackedData:Pe,layout:_,dataStartIndex:S,dataEndIndex:T}))),{},ft(ft(ft({key:q.key||"item-".concat(ue)},ee,Te[ee]),W,Te[W]),"animationId",N)),childIndex:xae(q,b.children),item:q})}),te},p=function(b,y){var v=b.props,w=b.dataStartIndex,k=b.dataEndIndex,N=b.updateId;if(!E_({props:v}))return null;var S=v.children,T=v.layout,P=v.stackOffset,_=v.data,O=v.reverseStackOrder,C=mO(T),D=C.numericAxisName,H=C.cateAxisName,ee=Ya(S,n),W=Pve(_,ee,"".concat(D,"Id"),"".concat(H,"Id"),P,O),Y=c.reduce(function(B,F){var L="".concat(F.axisType,"Map");return Me(Me({},B),{},ft({},L,qNe(v,Me(Me({},F),{},{graphicalItems:ee,stackGroups:F.axisType===D&&W,dataStartIndex:w,dataEndIndex:k}))))},{}),te=JNe(Me(Me({},Y),{},{props:v,graphicalItems:ee}),y==null?void 0:y.legendBBox);Object.keys(Y).forEach(function(B){Y[B]=d(v,Y[B],te,B.replace("Map",""),r)});var q=Y["".concat(H,"Map")],ue=YNe(q),le=h(v,Me(Me({},Y),{},{dataStartIndex:w,dataEndIndex:k,updateId:N,graphicalItems:ee,stackGroups:W,offset:te}));return Me(Me({formattedGraphicalItems:le,graphicalItems:ee,offset:te,stackGroups:W},ue),Y)},g=function(x){function b(y){var v,w,k;return ONe(this,b),k=MNe(this,b,[y]),ft(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(k,"accessibilityManager",new xNe),ft(k,"handleLegendBBoxUpdate",function(N){if(N){var S=k.state,T=S.dataStartIndex,P=S.dataEndIndex,_=S.updateId;k.setState(Me({legendBBox:N},p({props:k.props,dataStartIndex:T,dataEndIndex:P,updateId:_},Me(Me({},k.state),{},{legendBBox:N}))))}}),ft(k,"handleReceiveSyncEvent",function(N,S,T){if(k.props.syncId===N){if(T===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(S)}}),ft(k,"handleBrushChange",function(N){var S=N.startIndex,T=N.endIndex;if(S!==k.state.dataStartIndex||T!==k.state.dataEndIndex){var P=k.state.updateId;k.setState(function(){return Me({dataStartIndex:S,dataEndIndex:T},p({props:k.props,dataStartIndex:S,dataEndIndex:T,updateId:P},k.state))}),k.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),ft(k,"handleMouseEnter",function(N){var S=k.getMouseInfo(N);if(S){var T=Me(Me({},S),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var P=k.props.onMouseEnter;pt(P)&&P(T,N)}}),ft(k,"triggeredAfterMouseMove",function(N){var S=k.getMouseInfo(N),T=S?Me(Me({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var P=k.props.onMouseMove;pt(P)&&P(T,N)}),ft(k,"handleItemMouseEnter",function(N){k.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ft(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),ft(k,"handleMouseMove",function(N){N.persist(),k.throttleTriggeredAfterMouseMove(N)}),ft(k,"handleMouseLeave",function(N){k.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};k.setState(S),k.triggerSyncEvent(S);var T=k.props.onMouseLeave;pt(T)&&T(S,N)}),ft(k,"handleOuterEvent",function(N){var S=gae(N),T=Pa(k.props,"".concat(S));if(S&&pt(T)){var P,_;/.*touch.*/i.test(S)?_=k.getMouseInfo(N.changedTouches[0]):_=k.getMouseInfo(N),T((P=_)!==null&&P!==void 0?P:{},N)}}),ft(k,"handleClick",function(N){var S=k.getMouseInfo(N);if(S){var T=Me(Me({},S),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var P=k.props.onClick;pt(P)&&P(T,N)}}),ft(k,"handleMouseDown",function(N){var S=k.props.onMouseDown;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"handleMouseUp",function(N){var S=k.props.onMouseUp;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ft(k,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseDown(N.changedTouches[0])}),ft(k,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&k.handleMouseUp(N.changedTouches[0])}),ft(k,"handleDoubleClick",function(N){var S=k.props.onDoubleClick;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"handleContextMenu",function(N){var S=k.props.onContextMenu;if(pt(S)){var T=k.getMouseInfo(N);S(T,N)}}),ft(k,"triggerSyncEvent",function(N){k.props.syncId!==void 0&&a1.emit(i1,k.props.syncId,N,k.eventEmitterSymbol)}),ft(k,"applySyncEvent",function(N){var S=k.props,T=S.layout,P=S.syncMethod,_=k.state.updateId,O=N.dataStartIndex,C=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)k.setState(Me({dataStartIndex:O,dataEndIndex:C},p({props:k.props,dataStartIndex:O,dataEndIndex:C,updateId:_},k.state)));else if(N.activeTooltipIndex!==void 0){var D=N.chartX,H=N.chartY,ee=N.activeTooltipIndex,W=k.state,Y=W.offset,te=W.tooltipTicks;if(!Y)return;if(typeof P=="function")ee=P(te,N);else if(P==="value"){ee=-1;for(var q=0;q<te.length;q++)if(te[q].value===N.activeLabel){ee=q;break}}var ue=Me(Me({},Y),{},{x:Y.left,y:Y.top}),le=Math.min(D,ue.x+ue.width),B=Math.min(H,ue.y+ue.height),F=te[ee]&&te[ee].value,L=gk(k.state,k.props.data,ee),R=te[ee]?{x:T==="horizontal"?te[ee].coordinate:le,y:T==="horizontal"?B:te[ee].coordinate}:YF;k.setState(Me(Me({},N),{},{activeLabel:F,activeCoordinate:R,activePayload:L,activeTooltipIndex:ee}))}else k.setState(N)}),ft(k,"renderCursor",function(N){var S,T=k.state,P=T.isTooltipActive,_=T.activeCoordinate,O=T.activePayload,C=T.offset,D=T.activeTooltipIndex,H=T.tooltipAxisBandSize,ee=k.getTooltipEventType(),W=(S=N.props.active)!==null&&S!==void 0?S:P,Y=k.props.layout,te=N.key||"_recharts-cursor";return de.createElement(SNe,{key:te,activeCoordinate:_,activePayload:O,activeTooltipIndex:D,chartName:r,element:N,isActive:W,layout:Y,offset:C,tooltipAxisBandSize:H,tooltipEventType:ee})}),ft(k,"renderPolarAxis",function(N,S,T){var P=Pa(N,"type.axisType"),_=Pa(k.state,"".concat(P,"Map")),O=N.type.defaultProps,C=O!==void 0?Me(Me({},O),N.props):N.props,D=_&&_[C["".concat(P,"Id")]];return j.cloneElement(N,Me(Me({},D),{},{className:vt(P,D.className),key:N.key||"".concat(S,"-").concat(T),ticks:os(D,!0)}))}),ft(k,"renderPolarGrid",function(N){var S=N.props,T=S.radialLines,P=S.polarAngles,_=S.polarRadius,O=k.state,C=O.radiusAxisMap,D=O.angleAxisMap,H=po(C),ee=po(D),W=ee.cx,Y=ee.cy,te=ee.innerRadius,q=ee.outerRadius;return j.cloneElement(N,{polarAngles:Array.isArray(P)?P:os(ee,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(_)?_:os(H,!0).map(function(ue){return ue.coordinate}),cx:W,cy:Y,innerRadius:te,outerRadius:q,key:N.key||"polar-grid",radialLines:T})}),ft(k,"renderLegend",function(){var N=k.state.formattedGraphicalItems,S=k.props,T=S.children,P=S.width,_=S.height,O=k.props.margin||{},C=P-(O.left||0)-(O.right||0),D=SL({children:T,formattedGraphicalItems:N,legendWidth:C,legendContent:u});if(!D)return null;var H=D.item,ee=dO(D,NNe);return j.cloneElement(H,Me(Me({},ee),{},{chartWidth:P,chartHeight:_,margin:O,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),ft(k,"renderTooltip",function(){var N,S=k.props,T=S.children,P=S.accessibilityLayer,_=ya(T,Wr);if(!_)return null;var O=k.state,C=O.isTooltipActive,D=O.activeCoordinate,H=O.activePayload,ee=O.activeLabel,W=O.offset,Y=(N=_.props.active)!==null&&N!==void 0?N:C;return j.cloneElement(_,{viewBox:Me(Me({},W),{},{x:W.left,y:W.top}),active:Y,label:ee,payload:Y?H:[],coordinate:D,accessibilityLayer:P})}),ft(k,"renderBrush",function(N){var S=k.props,T=S.margin,P=S.data,_=k.state,O=_.offset,C=_.dataStartIndex,D=_.dataEndIndex,H=_.updateId;return j.cloneElement(N,{key:N.key||"_recharts-brush",onChange:jp(k.handleBrushChange,N.props.onChange),data:P,x:He(N.props.x)?N.props.x:O.left,y:He(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:He(N.props.width)?N.props.width:O.width,startIndex:C,endIndex:D,updateId:"brush-".concat(H)})}),ft(k,"renderReferenceElement",function(N,S,T){if(!N)return null;var P=k,_=P.clipPathId,O=k.state,C=O.xAxisMap,D=O.yAxisMap,H=O.offset,ee=N.type.defaultProps||{},W=N.props,Y=W.xAxisId,te=Y===void 0?ee.xAxisId:Y,q=W.yAxisId,ue=q===void 0?ee.yAxisId:q;return j.cloneElement(N,{key:N.key||"".concat(S,"-").concat(T),xAxis:C[te],yAxis:D[ue],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:_})}),ft(k,"renderActivePoints",function(N){var S=N.item,T=N.activePoint,P=N.basePoint,_=N.childIndex,O=N.isRange,C=[],D=S.props.key,H=S.item.type.defaultProps!==void 0?Me(Me({},S.item.type.defaultProps),S.item.props):S.item.props,ee=H.activeDot,W=H.dataKey,Y=Me(Me({index:_,dataKey:W,cx:T.x,cy:T.y,r:4,fill:pS(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ct(ee,!1)),tg(ee));return C.push(b.renderActiveDot(ee,Y,"".concat(D,"-activePoint-").concat(_))),P?C.push(b.renderActiveDot(ee,Me(Me({},Y),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(_))):O&&C.push(null),C}),ft(k,"renderGraphicChild",function(N,S,T){var P=k.filterFormatItem(N,S,T);if(!P)return null;var _=k.getTooltipEventType(),O=k.state,C=O.isTooltipActive,D=O.tooltipAxis,H=O.activeTooltipIndex,ee=O.activeLabel,W=k.props.children,Y=ya(W,Wr),te=P.props,q=te.points,ue=te.isRange,le=te.baseLine,B=P.item.type.defaultProps!==void 0?Me(Me({},P.item.type.defaultProps),P.item.props):P.item.props,F=B.activeDot,L=B.hide,R=B.activeBar,G=B.activeShape,be=!!(!L&&C&&Y&&(F||R||G)),Te={};_!=="axis"&&Y&&Y.props.trigger==="click"?Te={onClick:jp(k.handleItemMouseEnter,N.props.onClick)}:_!=="axis"&&(Te={onMouseLeave:jp(k.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:jp(k.handleItemMouseEnter,N.props.onMouseEnter)});var ce=j.cloneElement(N,Me(Me({},P.props),Te));function pe(I){return typeof D.dataKey=="function"?D.dataKey(I.payload):null}if(be)if(H>=0){var Pe,ge;if(D.dataKey&&!D.allowDuplicatedCategory){var Ae=typeof D.dataKey=="function"?pe:"payload.".concat(D.dataKey.toString());Pe=eg(q,Ae,ee),ge=ue&&le&&eg(le,Ae,ee)}else Pe=q==null?void 0:q[H],ge=ue&&le&&le[H];if(G||R){var ne=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[j.cloneElement(N,Me(Me(Me({},P.props),Te),{},{activeIndex:ne})),null,null]}if(!yt(Pe))return[ce].concat(Hu(k.renderActivePoints({item:P,activePoint:Pe,basePoint:ge,childIndex:H,isRange:ue})))}else{var E,A=(E=k.getItemByXY(k.state.activeCoordinate))!==null&&E!==void 0?E:{graphicalItem:ce},M=A.graphicalItem,me=M.item,z=me===void 0?N:me,V=M.childIndex,fe=Me(Me(Me({},P.props),Te),{},{activeIndex:V});return[j.cloneElement(z,fe),null,null]}return ue?[ce,null,null]:[ce,null]}),ft(k,"renderCustomized",function(N,S,T){return j.cloneElement(N,Me(Me({key:"recharts-customized-".concat(T)},k.props),k.state))}),ft(k,"renderMap",{CartesianGrid:{handler:_p,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:_p},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:_p},YAxis:{handler:_p},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:ud("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=j6(k.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),k.state={},k}return LNe(b,x),DNe(b,[{key:"componentDidMount",value:function(){var v,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,w=v.children,k=v.data,N=v.height,S=v.layout,T=ya(w,Wr);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=gk(this.state,k,P,_),C=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+N)/2,H=S==="horizontal",ee=H?{x:C,y:D}:{y:C,x:D},W=this.state.formattedGraphicalItems.find(function(te){var q=te.item;return q.type.name==="Scatter"});W&&(ee=Me(Me({},ee),W.props.points[P].tooltipPosition),O=W.props.points[P].tooltipPayload);var Y={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:_,activePayload:O,activeCoordinate:ee};this.setState(Y),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var k,N;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(v){Wb([ya(v.children,Wr)],[ya(this.props.children,Wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=ya(this.props.children,Wr);if(v&&typeof v.props.shared=="boolean"){var w=v.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var w=this.container,k=w.getBoundingClientRect(),N=V0e(k),S={chartX:Math.round(v.pageX-N.left),chartY:Math.round(v.pageY-N.top)},T=k.width/w.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,T);if(!P)return null;var _=this.state,O=_.xAxisMap,C=_.yAxisMap,D=this.getTooltipEventType(),H=hO(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&O&&C){var ee=po(O).scale,W=po(C).scale,Y=ee&&ee.invert?ee.invert(S.chartX):null,te=W&&W.invert?W.invert(S.chartY):null;return Me(Me({},S),{},{xValue:Y,yValue:te},H)}return H?Me(Me({},S),H):null}},{key:"inRange",value:function(v,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=v/k,T=w/k;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,_=S>=P.left&&S<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return _?{x:S,y:T}:null}var O=this.state,C=O.angleAxisMap,D=O.radiusAxisMap;if(C&&D){var H=po(C);return $A({x:S,y:T},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,w=this.getTooltipEventType(),k=ya(v,Wr),N={};k&&w==="axis"&&(k.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=tg(this.props,this.handleOuterEvent);return Me(Me({},S),N)}},{key:"addListener",value:function(){a1.on(i1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a1.removeListener(i1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,w,k){for(var N=this.state.formattedGraphicalItems,S=0,T=N.length;S<T;S++){var P=N[S];if(P.item===v||P.props.key===v.key||w===ps(P.item.type)&&k===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,w=this.state.offset,k=w.left,N=w.top,S=w.height,T=w.width;return de.createElement("defs",null,de.createElement("clipPath",{id:v},de.createElement("rect",{x:k,y:N,height:S,width:T})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(w,k){var N=uO(k,2),S=N[0],T=N[1];return Me(Me({},w),{},ft({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(w,k){var N=uO(k,2),S=N[0],T=N[1];return Me(Me({},w),{},ft({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(v){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(v){var w=this.state,k=w.formattedGraphicalItems,N=w.activeItem;if(k&&k.length)for(var S=0,T=k.length;S<T;S++){var P=k[S],_=P.props,O=P.item,C=O.type.defaultProps!==void 0?Me(Me({},O.type.defaultProps),O.props):O.props,D=ps(O.type);if(D==="Bar"){var H=(_.data||[]).find(function(te){return Tbe(v,te)});if(H)return{graphicalItem:P,payload:H}}else if(D==="RadialBar"){var ee=(_.data||[]).find(function(te){return $A(v,te)});if(ee)return{graphicalItem:P,payload:ee}}else if(jv(P,N)||Sv(P,N)||r0(P,N)){var W=pke({graphicalItem:P,activeTooltipItem:N,itemData:C.data}),Y=C.activeIndex===void 0?W:C.activeIndex;return{graphicalItem:Me(Me({},P),{},{childIndex:Y}),payload:r0(P,N)?C.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var v=this;if(!E_(this))return null;var w=this.props,k=w.children,N=w.className,S=w.width,T=w.height,P=w.style,_=w.compact,O=w.title,C=w.desc,D=dO(w,TNe),H=ct(D,!1);if(_)return de.createElement(G4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(qb,Vc({},H,{width:S,height:T,title:O,desc:C}),this.renderClipPath(),O_(k,this.renderMap)));if(this.props.accessibilityLayer){var ee,W;H.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,H.role=(W=this.props.role)!==null&&W!==void 0?W:"application",H.onKeyDown=function(te){v.accessibilityManager.keyboardEvent(te)},H.onFocus=function(){v.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return de.createElement(G4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",Vc({className:vt("recharts-wrapper",N),style:Me({position:"relative",cursor:"default",width:S,height:T},P)},Y,{ref:function(q){v.container=q}}),de.createElement(qb,Vc({},H,{width:S,height:T,title:O,desc:C,style:VNe}),this.renderClipPath(),O_(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ft(g,"displayName",r),ft(g,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ft(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,v=x.data,w=x.children,k=x.width,N=x.height,S=x.layout,T=x.stackOffset,P=x.margin,_=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var C=pO(x);return Me(Me(Me({},C),{},{updateId:0},p(Me(Me({props:x},C),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:v,prevWidth:k,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:w})}if(y!==b.prevDataKey||v!==b.prevData||k!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||T!==b.prevStackOffset||!ru(P,b.prevMargin)){var D=pO(x),H={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},ee=Me(Me({},hO(b,v,S)),{},{updateId:b.updateId+1}),W=Me(Me(Me({},D),H),ee);return Me(Me(Me({},W),p(Me({props:x},W),b)),{},{prevDataKey:y,prevData:v,prevWidth:k,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:w})}if(!Wb(w,b.prevChildren)){var Y,te,q,ue,le=ya(w,Ru),B=le&&(Y=(te=le.props)===null||te===void 0?void 0:te.startIndex)!==null&&Y!==void 0?Y:_,F=le&&(q=(ue=le.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&q!==void 0?q:O,L=B!==_||F!==O,R=!yt(v),G=R&&!L?b.updateId:b.updateId+1;return Me(Me({updateId:G},p(Me(Me({props:x},b),{},{updateId:G,dataStartIndex:B,dataEndIndex:F}),b)),{},{prevChildren:w,dataStartIndex:B,dataEndIndex:F})}return null}),ft(g,"renderActiveDot",function(x,b,y){var v;return j.isValidElement(x)?v=j.cloneElement(x,b):pt(x)?v=x(b):v=de.createElement(vv,b),de.createElement(Ot,{className:"recharts-active-dot",key:y},v)});var m=j.forwardRef(function(b,y){return de.createElement(g,Vc({},b,{ref:y}))});return m.displayName=g.displayName,m},mf=SS({chartName:"BarChart",GraphicalChild:Va,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:hF}),o1=SS({chartName:"PieChart",GraphicalChild:Ni,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kv},{axisType:"radiusAxis",AxisComp:bv}],formatAxisMap:$ve,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),gO=SS({chartName:"AreaChart",GraphicalChild:za,axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:hF});const Ep=["#6366f1","#06b6d4","#f59e0b","#ef4444","#8b5cf6","#ec4899","#10b981","#f97316"],xc={backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06)",padding:"14px 18px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},Jp={strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.15)",vertical:!1},vc={stroke:"#94a3b8",fontSize:11,fontWeight:500,tickLine:!1,axisLine:!1},gf=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Vd=["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],ZNe=({isOpen:e,onClose:t,monthName:r,year:n,totalHours:a,details:s,isHighest:o,rank:l,averageHours:c})=>{const u=j.useMemo(()=>{const f={};return s.forEach(h=>{const p=h.item||"Unknown";f[p]||(f[p]={total:0,count:0,details:[]}),f[p].total+=ve(h.downtime),f[p].count+=1,f[p].details.push(h)}),Object.entries(f).map(([h,p])=>({item:h,...p})).sort((h,p)=>p.total-h.total)},[s]),d=c>0?((a-c)/c*100).toFixed(1):"0";return i.jsx(xt,{isOpen:e,onClose:t,size:"full",title:"",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:["Detail Downtime ",r," ",n]}),o&&i.jsxs(Ze,{variant:"danger",className:"animate-pulse",children:[i.jsx(Cm,{className:"h-3 w-3 mr-1"}),"Tertinggi"]}),l<=3&&!o&&i.jsxs(Ze,{variant:"warning",children:["Top ",l]})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Analisis detail downtime per equipment untuk bulan ",r]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:i.jsx(Za,{className:"h-5 w-5 text-dark-500 dark:text-dark-400"})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:Ge("p-4 rounded-xl",o?"bg-gradient-to-br from-red-500 to-rose-600 text-white":"bg-gradient-to-br from-amber-500 to-orange-500 text-white"),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ii,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Total Downtime"})]}),i.jsx("p",{className:"text-3xl font-bold",children:oe(a)}),i.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(mh,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Jumlah Kejadian"})]}),i.jsx("p",{className:"text-3xl font-bold",children:s.length}),i.jsx("p",{className:"text-sm opacity-80",children:"Kejadian"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Do,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Rata-rata/Kejadian"})]}),i.jsx("p",{className:"text-3xl font-bold",children:s.length>0?(a/s.length).toFixed(1):"0"}),i.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),i.jsxs("div",{className:Ge("p-4 rounded-xl",Number(d)>0?"bg-gradient-to-br from-red-400 to-red-500 text-white":"bg-gradient-to-br from-green-500 to-emerald-500 text-white"),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Number(d)>0?i.jsx(_l,{className:"h-4 w-4 opacity-80"}):i.jsx(Yp,{className:"h-4 w-4 opacity-80"}),i.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"vs Rata-rata Bulanan"})]}),i.jsxs("p",{className:"text-3xl font-bold",children:[Number(d)>0?"+":"",d,"%"]}),i.jsx("p",{className:"text-sm opacity-80",children:Number(d)>0?"Di atas rata-rata":"Di bawah rata-rata"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(fH,{className:"h-5 w-5 text-amber-500"}),"Breakdown per Equipment"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,6).map((f,h)=>{const p=a>0?(f.total/a*100).toFixed(1):"0";return i.jsxs(Rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:Ge("p-4 rounded-xl border transition-all duration-300 hover:shadow-lg",h===0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-dark-800 border-dark-100 dark:border-dark-700"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:Ge("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",h===0?"bg-red-500 text-white":"bg-dark-200 dark:bg-dark-600 text-dark-700 dark:text-dark-200"),children:h+1}),i.jsx("h4",{className:Ge("font-semibold",h===0?"text-red-700 dark:text-red-400":"text-dark-900 dark:text-white"),children:f.item})]}),i.jsxs(Ze,{variant:h===0?"danger":"warning",size:"sm",children:[p,"%"]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total:"}),i.jsxs("span",{className:Ge("ml-1 font-bold",h===0?"text-red-600 dark:text-red-400":"text-dark-900 dark:text-white"),children:[oe(f.total)," Jam"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kejadian:"}),i.jsxs("span",{className:"ml-1 font-medium text-dark-700 dark:text-dark-200",children:[f.count,"x"]})]})]}),i.jsx("div",{className:"mt-3 h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:i.jsx(Rt.div,{initial:{width:0},animate:{width:`${p}%`},transition:{delay:h*.1+.3,duration:.5},className:Ge("h-full rounded-full",h===0?"bg-gradient-to-r from-red-500 to-rose-500":"bg-gradient-to-r from-amber-400 to-orange-500")})})]},f.item)})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4",children:["Detail Kejadian (",s.length," record)"]}),i.jsx("div",{className:"overflow-x-auto rounded-xl border border-dark-100 dark:border-dark-700",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"No"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Tanggal"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Equipment"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Deskripsi"}),i.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Off"}),i.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Start"}),i.jsx("th",{className:"px-4 py-3 text-right font-semibold text-dark-700 dark:text-dark-200",children:"Downtime (Jam)"})]})}),i.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:s.sort((f,h)=>ve(h.downtime)-ve(f.downtime)).slice(0,20).map((f,h)=>i.jsxs("tr",{className:Ge("hover:bg-dark-50 dark:hover:bg-dark-700/50 transition-colors",h===0&&"bg-red-50 dark:bg-red-900/10"),children:[i.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300",children:h+1}),i.jsx("td",{className:"px-4 py-3 text-dark-900 dark:text-white font-medium",children:new Date(f.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Ze,{variant:h===0?"danger":"default",size:"sm",children:f.item})}),i.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300 max-w-xs truncate",children:f.deskripsi||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamOff||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamStart||"-"}),i.jsx("td",{className:Ge("px-4 py-3 text-right font-bold",h===0?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:oe(ve(f.downtime))})]},h))}),s.length>20&&i.jsx("tfoot",{className:"bg-dark-50 dark:bg-dark-800",children:i.jsx("tr",{children:i.jsxs("td",{colSpan:7,className:"px-4 py-3 text-center text-dark-500 dark:text-dark-400",children:["... dan ",s.length-20," record lainnya"]})})})]})})]})]})})},eTe=({downtimeData:e,year:t,plantLabel:r})=>{const[n,a]=j.useState(null),s=j.useMemo(()=>{const d=gf.map((h,p)=>{const g=e.filter(x=>x.tanggal?new Date(x.tanggal).getMonth()===p:!1),m=g.reduce((x,b)=>x+ve(b.downtime),0);return{month:h,monthIndex:p,hours:m,count:g.length,isHighest:!1,rank:0,details:g.map(x=>({item:x.item,deskripsi:x.deskripsi,tanggal:x.tanggal,jamOff:x.jamOff,jamStart:x.jamStart,downtime:ve(x.downtime)}))}});return[...d].filter(h=>h.hours>0).sort((h,p)=>p.hours-h.hours).forEach((h,p)=>{const g=d.find(m=>m.monthIndex===h.monthIndex);g&&(g.rank=p+1,p===0&&(g.isHighest=!0))}),d},[e]),o=j.useMemo(()=>{const d=s.reduce((m,x)=>m+x.hours,0),f=s.filter(m=>m.hours>0).length,h=f>0?d/f:0,p=s.find(m=>m.isHighest),g=(p==null?void 0:p.hours)||0;return{totalHours:d,averageHours:h,highestMonth:p,maxHours:g,monthsWithData:f}},[s]),l=d=>{d.hours>0&&a(d)},c=d=>d.isHighest?"#ef4444":d.rank===2?"#f97316":d.rank===3?"#f59e0b":"#3b82f6",u=d=>{const{x:f,y:h,width:p,value:g,index:m}=d,x=s[m];return g===0?null:i.jsxs("g",{children:[i.jsx("text",{x:f+p/2,y:h-10,fill:x.isHighest?"#ef4444":"#64748b",textAnchor:"middle",fontSize:11,fontWeight:x.isHighest?"bold":"normal",children:oe(g)}),x.isHighest&&i.jsx("text",{x:f+p/2,y:h-24,fill:"#ef4444",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:" TERTINGGI"})]})};return i.jsxs(i.Fragment,{children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white py-5",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/20 backdrop-blur-sm",children:i.jsx(Cm,{className:"h-5 w-5"})}),i.jsxs(Tt,{className:"text-white text-lg",children:["Analisis Downtime Bulanan ",t]})]}),i.jsxs("p",{className:"text-red-100 text-sm",children:[r,"  Klik bar untuk melihat detail"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[i.jsx("p",{className:"text-red-100 text-xs",children:"Total Tahunan"}),i.jsxs("p",{className:"text-xl font-bold",children:[oe(o.totalHours)," Jam"]})]}),o.highestMonth&&i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm border-2 border-white/30",children:[i.jsxs("p",{className:"text-red-100 text-xs flex items-center gap-1",children:[i.jsx(qD,{className:"h-3 w-3"})," Bulan Tertinggi"]}),i.jsx("p",{className:"text-xl font-bold",children:o.highestMonth.month}),i.jsxs("p",{className:"text-red-100 text-xs",children:[oe(o.highestMonth.hours)," Jam"]})]})]})]})}),i.jsxs(tn,{className:"pt-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Total Kejadian"}),i.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.length})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 uppercase tracking-wider mb-1",children:"Rata-rata/Bulan"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:[oe(o.averageHours)," Jam"]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Bulan Dengan Data"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[o.monthsWithData," / 12"]})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-1",children:"Rata-rata/Kejadian"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[e.length>0?(o.totalHours/e.length).toFixed(1):"0"," ","Jam"]})]})]}),i.jsx("div",{className:"h-[400px]",children:i.jsx(Ci,{width:"100%",height:"100%",children:i.jsxs(mf,{data:s,margin:{top:40,right:30,left:20,bottom:20},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradDowntimeMonth",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:.9}),i.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:.7})]})}),i.jsx(uo,{...Jp}),i.jsx(mi,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1}),i.jsx(gi,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Jam",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#64748b"}}}),i.jsx(Wr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px 16px"},content:({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload;return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-100 dark:border-dark-700 p-4 min-w-[200px]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[h.month," ",t]}),h.isHighest&&i.jsx(Ze,{variant:"danger",size:"sm",children:"Tertinggi"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Downtime:"}),i.jsxs("span",{className:Ge("ml-2 font-bold",h.isHighest?"text-red-600":"text-amber-600"),children:[oe(h.hours)," Jam"]})]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian:"}),i.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:[h.count," kejadian"]})]}),h.rank>0&&i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Peringkat:"}),i.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:["#",h.rank," dari ",o.monthsWithData," bulan"]})]})]}),h.hours>0&&i.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-3 pt-2 border-t border-dark-100 dark:border-dark-700",children:"Klik untuk melihat detail "})]})}return null}}),o.averageHours>0&&i.jsx(Tv,{y:o.averageHours,stroke:"#22c55e",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Rata-rata: ${oe(o.averageHours)} Jam`,position:"right",fill:"#22c55e",fontSize:11}}),i.jsxs(Va,{dataKey:"hours",radius:[8,8,0,0],cursor:"pointer",onClick:d=>l(d),children:[s.map((d,f)=>i.jsx(ts,{fill:c(d),className:"hover:opacity-80 transition-opacity"},`cell-${f}`)),i.jsx(Xa,{dataKey:"hours",content:u})]})]})})}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mt-4 pt-4 border-t border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Tertinggi"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 2"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 3"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Lainnya"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-0.5 bg-green-500",style:{backgroundImage:"repeating-linear-gradient(to right, #22c55e, #22c55e 5px, transparent 5px, transparent 10px)"}}),i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Rata-rata"})]})]})]})]}),n&&i.jsx(ZNe,{isOpen:!!n,onClose:()=>a(null),monthName:n.month,monthIndex:n.monthIndex,year:t,totalHours:n.hours,details:n.details,isHighest:n.isHighest,rank:n.rank,averageHours:o.averageHours})]})},tTe=()=>{const{user:e}=Et(),{dashboardPlantFilter:t,dashboardYear:r,setDashboardPlantFilter:n,setDashboardYear:a}=vx(),s=p0(),[o,l]=j.useState(!0),[c,u]=j.useState(new Date().getMonth()),[d,f]=j.useState("tahunan"),[h,p]=j.useState("jam"),[g,m]=j.useState(new Date().getMonth()),[x,b]=j.useState("chart"),[y,v]=j.useState(null),[w,k]=j.useState({produksiNPK:[],produksiBlending:[],produksiNPKMini:[],downtime:[],workRequest:[],bahanBaku:[],vibrasi:[],gatePass:[],timesheetForklift:[],timesheetLoader:[],troubleRecord:[],rkap:[],rekapBBM:[],pemakaianBB:[]}),N=e==null?void 0:e.plant,S=e==null?void 0:e.role,T=N==="ALL"||S==="manager"||S==="eksternal";j.useEffect(()=>{!T&&N&&n(N)},[N,T,n]);const P=T?t:N||"NPK2";j.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:L,readData:R,SHEETS:G}=await st(async()=>{const{fetchDataByPlant:fe,readData:I,SHEETS:X}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:fe,readData:I,SHEETS:X}},void 0),[be,Te,ce,pe,Pe,ge,Ae,ne,E,A,M,me,z,V]=await Promise.all([L(G.PRODUKSI_NPK),L(G.PRODUKSI_BLENDING),L(G.PRODUKSI_NPK_MINI),L(G.DOWNTIME),L(G.WORK_REQUEST),L(G.BAHAN_BAKU),L(G.VIBRASI),L(G.GATE_PASS),L(G.TIMESHEET_FORKLIFT),L(G.TIMESHEET_LOADER),L(G.TROUBLE_RECORD),R(G.RKAP),L(G.REKAP_BBM),L(G.PEMAKAIAN_BAHAN_BAKU)]);k({produksiNPK:be.success&&be.data?be.data:[],produksiBlending:Te.success&&Te.data?Te.data:[],produksiNPKMini:ce.success&&ce.data?ce.data:[],downtime:pe.success&&pe.data?pe.data:[],workRequest:Pe.success&&Pe.data?Pe.data:[],bahanBaku:ge.success&&ge.data?ge.data:[],vibrasi:Ae.success&&Ae.data?Ae.data:[],gatePass:ne.success&&ne.data?ne.data:[],timesheetForklift:E.success&&E.data?E.data:[],timesheetLoader:A.success&&A.data?A.data:[],troubleRecord:M.success&&M.data?M.data:[],rkap:me.success&&me.data?me.data:[],rekapBBM:z.success&&z.data?z.data:[],pemakaianBB:V.success&&V.data?V.data:[]})}catch(L){console.error("Error fetching dashboard data:",L)}finally{l(!1)}})()},[]);const _=j.useCallback(F=>P==="ALL"?F:F.filter(L=>L._plant===P),[P]),O=j.useCallback(F=>P==="ALL"?F:F.filter(L=>L.plant===P),[P]),C=j.useCallback(F=>F.filter(L=>L.tanggal?new Date(L.tanggal).getFullYear()===r:!1),[r]),D=j.useMemo(()=>({produksiNPK:C(_(w.produksiNPK)),produksiBlending:C(_(w.produksiBlending)),produksiNPKMini:C(_(w.produksiNPKMini)),downtime:C(_(w.downtime)),workRequest:C(_(w.workRequest)),bahanBaku:C(_(w.bahanBaku)),vibrasi:C(_(w.vibrasi)),gatePass:C(_(w.gatePass)),timesheetForklift:C(_(w.timesheetForklift)),timesheetLoader:C(_(w.timesheetLoader)),troubleRecord:C(_(w.troubleRecord)),rekapBBM:C(_(w.rekapBBM)),pemakaianBB:C(_(w.pemakaianBB)),rkap:O(w.rkap).filter(F=>Number(F.tahun)===r)}),[w,_,C,O,r]),H=j.useMemo(()=>{const F=D.produksiNPK.reduce((J,ke)=>{const xe=ke.total!==void 0&&ke.total!==null?ve(ke.total):ve(ke.shiftMalamOnspek)+ve(ke.shiftMalamOffspek)+ve(ke.shiftPagiOnspek)+ve(ke.shiftPagiOffspek)+ve(ke.shiftSoreOnspek)+ve(ke.shiftSoreOffspek);return J+xe},0),L=D.produksiNPK.reduce((J,ke)=>{const Ke=ke.totalOnspek!==void 0&&ke.totalOnspek!==null;return J+(Ke?ve(ke.totalOnspek):ve(ke.shiftMalamOnspek)+ve(ke.shiftPagiOnspek)+ve(ke.shiftSoreOnspek))},0),R=D.produksiNPK.reduce((J,ke)=>{const Ke=ke.totalOffspek!==void 0&&ke.totalOffspek!==null;return J+(Ke?ve(ke.totalOffspek):ve(ke.shiftMalamOffspek)+ve(ke.shiftPagiOffspek)+ve(ke.shiftSoreOffspek))},0),G=D.produksiBlending.reduce((J,ke)=>J+ve(ke.tonase),0),be=D.produksiNPKMini.reduce((J,ke)=>J+ve(ke.tonase),0),Te=D.rkap.reduce((J,ke)=>{const xe=ke.total!==void 0&&ke.total!==null?ve(ke.total):Vd.reduce((_e,Fe)=>_e+ve(ke[Fe]),0);return J+xe},0),ce=w.rkap.filter(J=>J.plant==="NPK1"&&Number(J.tahun)===r).reduce((J,ke)=>{const Ke=ke.total!==void 0&&ke.total!==null;return J+(Ke?ve(ke.total):Vd.reduce((xe,_e)=>xe+ve(ke[_e]),0))},0),pe=w.rkap.filter(J=>J.plant==="NPK2"&&Number(J.tahun)===r).reduce((J,ke)=>{const Ke=ke.total!==void 0&&ke.total!==null;return J+(Ke?ve(ke.total):Vd.reduce((xe,_e)=>xe+ve(ke[_e]),0))},0),Pe=w.produksiNPK.filter(J=>J._plant==="NPK1"&&new Date(J.tanggal).getFullYear()===r).reduce((J,ke)=>{const Ke=ke.total!==void 0&&ke.total!==null;return J+(Ke?ve(ke.total):ve(ke.shiftMalamOnspek)+ve(ke.shiftMalamOffspek)+ve(ke.shiftPagiOnspek)+ve(ke.shiftPagiOffspek)+ve(ke.shiftSoreOnspek)+ve(ke.shiftSoreOffspek))},0),ge=w.produksiNPK.filter(J=>J._plant==="NPK2"&&new Date(J.tanggal).getFullYear()===r).reduce((J,ke)=>{const Ke=ke.total!==void 0&&ke.total!==null;return J+(Ke?ve(ke.total):ve(ke.shiftMalamOnspek)+ve(ke.shiftMalamOffspek)+ve(ke.shiftPagiOnspek)+ve(ke.shiftPagiOffspek)+ve(ke.shiftSoreOnspek)+ve(ke.shiftSoreOffspek))},0),Ae=D.downtime.reduce((J,ke)=>J+ve(ke.downtime),0),ne=D.workRequest.length,E=D.workRequest.filter(J=>!J.eksekutor||J.eksekutor==="").length,A=D.bahanBaku.reduce((J,ke)=>J+ve(ke.jumlah),0),M=D.vibrasi.filter(J=>J.status==="Warning"||J.status==="Critical"||J.status==="Alert").length,me=D.gatePass.length,z=D.troubleRecord.filter(J=>J.status==="Open"||J.status==="In Progress").length,V=D.timesheetForklift.reduce((J,ke)=>J+ve(ke.jamOperasi),0),fe=D.timesheetLoader.reduce((J,ke)=>J+ve(ke.jamOperasi),0),I=D.rekapBBM.reduce((J,ke)=>J+ve(ke.pengajuanSolar),0),X=D.rekapBBM.reduce((J,ke)=>J+ve(ke.realisasiPengisian),0),re=X-I;return{totalProduksiNPK:F,totalOnspek:L,totalOffspek:R,totalProduksiBlending:G,totalProduksiNPKMini:be,totalRKAP:Te,totalDowntime:Ae,workRequestTotal:ne,workRequestPending:E,totalBahanBaku:A,vibrasiWarnings:M,gatePassCount:me,troubleRecordOpen:z,forkliftHours:V,loaderHours:fe,bbmPengajuan:I,bbmRealisasi:X,bbmSelisih:re,bbmRecordCount:D.rekapBBM.length,percentage:Te>0?(F/Te*100).toFixed(1):"0",rkapNPK1:ce,rkapNPK2:pe,produksiNPK1:Pe,produksiNPK2:ge,percentageNPK1:ce>0?(Pe/ce*100).toFixed(1):"0",percentageNPK2:pe>0?(ge/pe*100).toFixed(1):"0"}},[D,w,r]),ee=j.useMemo(()=>gf.map((L,R)=>{const G=D.produksiNPK.filter(ne=>new Date(ne.tanggal).getMonth()===R),be=G.reduce((ne,E)=>{const A=E.total!==void 0&&E.total!==null;return ne+(A?ve(E.total):ve(E.shiftMalamOnspek)+ve(E.shiftMalamOffspek)+ve(E.shiftPagiOnspek)+ve(E.shiftPagiOffspek)+ve(E.shiftSoreOnspek)+ve(E.shiftSoreOffspek))},0),Te=G.reduce((ne,E)=>{const A=E.totalOnspek!==void 0&&E.totalOnspek!==null;return ne+(A?ve(E.totalOnspek):ve(E.shiftMalamOnspek)+ve(E.shiftPagiOnspek)+ve(E.shiftSoreOnspek))},0),ce=G.reduce((ne,E)=>{const A=E.totalOffspek!==void 0&&E.totalOffspek!==null;return ne+(A?ve(E.totalOffspek):ve(E.shiftMalamOffspek)+ve(E.shiftPagiOffspek)+ve(E.shiftSoreOffspek))},0),pe=Vd[R],Pe=D.rkap.reduce((ne,E)=>ne+ve(E[pe]),0),ge=w.rkap.filter(ne=>ne.plant==="NPK1"&&Number(ne.tahun)===r).reduce((ne,E)=>ne+ve(E[pe]),0),Ae=w.rkap.filter(ne=>ne.plant==="NPK2"&&Number(ne.tahun)===r).reduce((ne,E)=>ne+ve(E[pe]),0);return{bulan:L,produksi:be,rkap:Pe,rkapNPK1:ge,rkapNPK2:Ae,onspek:Te,offspek:ce}}),[D,w,r]),W=j.useMemo(()=>{const F=c,L=gf[F],R=Vd[F],G=D.produksiNPK.filter(A=>new Date(A.tanggal).getMonth()===F),be=G.reduce((A,M)=>{const me=M.total!==void 0&&M.total!==null;return A+(me?ve(M.total):ve(M.shiftMalamOnspek)+ve(M.shiftMalamOffspek)+ve(M.shiftPagiOnspek)+ve(M.shiftPagiOffspek)+ve(M.shiftSoreOnspek)+ve(M.shiftSoreOffspek))},0),Te=G.reduce((A,M)=>{const me=M.totalOnspek!==void 0&&M.totalOnspek!==null;return A+(me?ve(M.totalOnspek):ve(M.shiftMalamOnspek)+ve(M.shiftPagiOnspek)+ve(M.shiftSoreOnspek))},0),ce=G.reduce((A,M)=>{const me=M.totalOffspek!==void 0&&M.totalOffspek!==null;return A+(me?ve(M.totalOffspek):ve(M.shiftMalamOffspek)+ve(M.shiftPagiOffspek)+ve(M.shiftSoreOffspek))},0),Pe=D.produksiBlending.filter(A=>new Date(A.tanggal).getMonth()===F).reduce((A,M)=>A+ve(M.tonase),0),Ae=D.produksiNPKMini.filter(A=>new Date(A.tanggal).getMonth()===F).reduce((A,M)=>A+ve(M.tonase),0),ne=D.rkap.reduce((A,M)=>A+ve(M[R]),0),E=ne>0?(be/ne*100).toFixed(1):"0";return{monthName:L,npkProduksi:be,npkOnspek:Te,npkOffspek:ce,blendingProduksi:Pe,npkMiniProduksi:Ae,rkapThisMonth:ne,percentageRkap:E,totalProduksi:be+Pe+Ae}},[D,c]),Y=j.useMemo(()=>{let F=D.downtime;d==="bulanan"&&(F=D.downtime.filter(R=>R.tanggal?new Date(R.tanggal).getMonth()===g:!1));const L={};return F.forEach(R=>{const G=R.item||"Unknown";L[G]||(L[G]={jam:0,frekuensi:0}),L[G].jam+=ve(R.downtime),L[G].frekuensi+=1}),Object.entries(L).map(([R,G])=>({item:R,downtime:h==="jam"?G.jam:G.frekuensi,jam:G.jam,frekuensi:G.frekuensi})).sort((R,G)=>G.downtime-R.downtime).slice(0,8)},[D,d,h,g]),te=j.useMemo(()=>{let F=D.downtime;return d==="bulanan"&&(F=D.downtime.filter(L=>L.tanggal?new Date(L.tanggal).getMonth()===g:!1)),h==="jam"?F.reduce((L,R)=>L+ve(R.downtime),0):F.length},[D,d,h,g]),q=j.useMemo(()=>{const F={};return D.workRequest.forEach(L=>{const R=L.eksekutor||"Belum Ditentukan";F[R]=(F[R]||0)+1}),Object.entries(F).map(([L,R])=>({eksekutor:L,count:R})).sort((L,R)=>R.count-L.count).slice(0,6)},[D]),ue=j.useMemo(()=>{const F={};return D.vibrasi.forEach(L=>{const R=L.status||"Unknown";F[R]=(F[R]||0)+1}),Object.entries(F).map(([L,R])=>({status:L,count:R}))},[D]),le=j.useMemo(()=>[{name:"NPK Granul",value:H.totalProduksiNPK},{name:"Blending/Retail",value:H.totalProduksiBlending},{name:"NPK Mini",value:H.totalProduksiNPKMini}].filter(F=>F.value>0),[H]),B=P==="ALL"?"Semua Plant":P==="NPK1"?"NPK Plant 1":"NPK Plant 2";return o?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx(vH,{className:"h-10 w-10 animate-spin text-primary-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Memuat data dashboard..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20",children:i.jsx(XD,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl font-display font-bold text-foreground tracking-tight",children:["Dashboard - ",B]}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Selamat datang, ",(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama),"! Ringkasan data ",B.toLowerCase()," tahun ",r,"."]})]})]})}),i.jsxs("div",{className:"flex items-center gap-3",children:[T&&i.jsx(at,{value:P,onChange:F=>n(F.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),i.jsx(at,{value:r.toString(),onChange:F=>a(Number(F.target.value)),options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],className:"w-32"})]})]}),i.jsxs(Rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden bg-gradient-to-br from-indigo-600 via-blue-600 to-cyan-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-500/15",children:[i.jsxs("div",{className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute -right-16 -top-16 w-64 h-64 rounded-full bg-white/20 blur-3xl"}),i.jsx("div",{className:"absolute -left-8 -bottom-8 w-48 h-48 rounded-full bg-white/10 blur-2xl"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx("div",{onClick:()=>s(`/produksi/${P==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-90 transition-opacity",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2.5 rounded-xl bg-white/15 backdrop-blur-sm border border-white/20",children:i.jsx(Px,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold",children:["Produksi Bulan ",W.monthName," ",r]}),i.jsxs("p",{className:"text-blue-100 text-sm",children:["Ringkasan produksi ",B.toLowerCase()," bulan ini"]})]}),i.jsx(Ji,{className:"h-5 w-5 opacity-60 ml-1"})]})}),i.jsx("div",{className:"flex items-center gap-2",onClick:F=>F.stopPropagation(),children:i.jsx("select",{value:c,onChange:F=>u(Number(F.target.value)),className:"bg-white/15 backdrop-blur-sm text-white border border-white/20 rounded-xl px-4 py-2.5 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/30 cursor-pointer hover:bg-white/20 transition-colors",children:gf.map((F,L)=>i.jsx("option",{value:L,className:"text-dark-900",children:F},L))})})]}),i.jsx("div",{onClick:()=>s(`/produksi/${P==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-95 transition-opacity",children:i.jsxs("div",{className:"flex flex-wrap gap-4 lg:gap-6 mt-5",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-5 py-3.5 min-w-[140px] border border-white/10 hover:bg-white/15 transition-colors",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider font-semibold mb-1",children:"NPK Produksi"}),i.jsx("p",{className:"text-2xl lg:text-3xl font-bold tabular-nums",children:oe(W.npkProduksi)}),i.jsx("p",{className:"text-blue-200 text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-5 py-3.5 min-w-[140px] border border-white/10 hover:bg-white/15 transition-colors",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider font-semibold mb-1",children:"Target RKAP"}),i.jsx("p",{className:"text-2xl lg:text-3xl font-bold tabular-nums",children:oe(W.rkapThisMonth)}),i.jsx("p",{className:"text-blue-200 text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-5 py-3.5 min-w-[140px] border border-white/10 hover:bg-white/15 transition-colors",children:[i.jsx("p",{className:"text-blue-100 text-xs uppercase tracking-wider font-semibold mb-1",children:"Pencapaian"}),i.jsxs("p",{className:"text-2xl lg:text-3xl font-bold tabular-nums",children:[W.percentageRkap,"%"]}),i.jsx("p",{className:"text-blue-200 text-xs",children:Number(W.percentageRkap)>=100?" Target Tercapai":"dari target"})]})]})}),i.jsxs("div",{className:"mt-5 pt-4 border-t border-white/15 grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"Onspek"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[oe(W.npkOnspek)," Ton"]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"Offspek"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[oe(W.npkOffspek)," Ton"]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"Blending"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[oe(W.blendingProduksi)," Ton"]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-200 text-xs font-medium",children:"NPK Mini"}),i.jsxs("p",{className:"font-semibold tabular-nums",children:[oe(W.npkMiniProduksi)," Ton"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>s(`/produksi/${P==="NPK1"?"npk1":"npk2"}`),className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-blue-600 to-indigo-700 rounded-2xl p-5 text-white cursor-pointer hover:shadow-xl hover:shadow-blue-500/15 transition-all duration-300 group",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(xh,{className:"h-4 w-4"})}),i.jsxs("h3",{className:"font-bold text-base",children:["Produksi Tahunan ",r]})]}),i.jsx(Ji,{className:"h-4 w-4 opacity-60 group-hover:opacity-100 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK Granul"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.totalProduksiNPK)}),i.jsxs("p",{className:"text-blue-100 text-[10px]",children:["Ton (",H.percentage,"% RKAP)"]})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Onspek"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.totalOnspek)}),i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Offspek"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.totalOffspek)}),i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Target RKAP"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.totalRKAP)}),i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]})]}),P==="ALL"&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 1"}),i.jsxs(Ze,{variant:Number(H.percentageNPK1)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[H.percentageNPK1,"%"]})]}),i.jsxs("p",{className:"font-semibold",children:[oe(H.produksiNPK1)," /"," ",oe(H.rkapNPK1)," Ton"]})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK 2"}),i.jsxs(Ze,{variant:Number(H.percentageNPK2)>=100?"success":"warning",size:"sm",className:"text-[9px] px-1.5 py-0.5",children:[H.percentageNPK2,"%"]})]}),i.jsxs("p",{className:"font-semibold",children:[oe(H.produksiNPK2)," /"," ",oe(H.rkapNPK2)," Ton"]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-100 text-[10px]",children:"Blending/Retail"}),i.jsxs("p",{className:"font-semibold",children:[oe(H.totalProduksiBlending)," Ton"]})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-blue-100 text-[10px]",children:"NPK Mini"}),i.jsxs("p",{className:"font-semibold",children:[oe(H.totalProduksiNPKMini)," Ton"]})]})]})]})]}),i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative overflow-hidden bg-gradient-to-br from-slate-700 via-slate-700 to-gray-800 rounded-2xl p-5 text-white shadow-xl shadow-slate-800/15",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -right-12 -bottom-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(CH,{className:"h-4 w-4"})}),i.jsx("h3",{className:"font-bold text-base",children:"Operasional & Logistik"})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{onClick:()=>s(`/laporan/timesheet-forklift-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Forklift"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.forkliftHours)}),i.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",D.timesheetForklift.length," rec)"]})]}),i.jsxs("div",{onClick:()=>s(`/laporan/timesheet-loader-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Loader"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.loaderHours)}),i.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",D.timesheetLoader.length," rec)"]})]}),i.jsxs("div",{onClick:()=>s(`/data/gate-pass-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Gate Pass"}),i.jsx("p",{className:"text-xl font-bold",children:H.gatePassCount}),i.jsx("p",{className:"text-slate-200 text-[10px]",children:"Transaksi"})]}),i.jsxs("div",{onClick:()=>s(`/data/bahan-baku-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Bahan Baku"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.totalBahanBaku)}),i.jsxs("p",{className:"text-slate-200 text-[10px]",children:[D.bahanBaku.length," item"]})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative overflow-hidden bg-gradient-to-br from-rose-600 via-red-600 to-pink-700 rounded-2xl p-5 text-white shadow-xl shadow-red-500/15",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -left-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(Ii,{className:"h-4 w-4"})}),i.jsx("h3",{className:"font-bold text-base",children:"Downtime & Issues"})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{onClick:()=>s(`/laporan/downtime-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Total Downtime"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.totalDowntime)}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:["Jam (",D.downtime.length," kejadian)"]})]}),i.jsxs("div",{onClick:()=>s(`/data/work-request-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Work Request"}),i.jsx("p",{className:"text-xl font-bold",children:H.workRequestTotal}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:[H.workRequestPending," pending"]})]}),i.jsxs("div",{onClick:()=>s(`/data/trouble-record-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Trouble Open"}),i.jsx("p",{className:"text-xl font-bold",children:H.troubleRecordOpen}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",D.troubleRecord.length," total"]})]}),i.jsxs("div",{onClick:()=>s(`/data/vibrasi-${P==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[i.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Vibrasi Alert"}),i.jsx("p",{className:"text-xl font-bold",children:H.vibrasiWarnings}),i.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",D.vibrasi.length," ukur"]})]})]})]})]}),i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>s(`/data/rekap-bbm-${P==="NPK1"?"npk1":"npk2"}`),className:"relative overflow-hidden bg-gradient-to-br from-amber-500 via-amber-500 to-orange-600 rounded-2xl p-5 text-white shadow-xl shadow-amber-500/15 cursor-pointer hover:shadow-2xl hover:scale-[1.01] transition-all duration-300 group",children:[i.jsx("div",{className:"absolute inset-0 opacity-5",children:i.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(H2,{className:"h-4 w-4"})}),i.jsxs("h3",{className:"font-bold text-base",children:["Rekap BBM Alat Berat ",r]})]}),i.jsx(Ji,{className:"h-4 w-4 opacity-60 group-hover:opacity-100 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Pengajuan"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.bbmPengajuan)}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Realisasi"}),i.jsx("p",{className:"text-xl font-bold",children:oe(H.bbmRealisasi)}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Selisih"}),i.jsxs("p",{className:"text-xl font-bold",children:[H.bbmSelisih>=0?"+":"",oe(H.bbmSelisih)]}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:H.bbmSelisih>=0?"Surplus":"Defisit"})]}),i.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[i.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Record"}),i.jsx("p",{className:"text-xl font-bold",children:H.bbmRecordCount}),i.jsx("p",{className:"text-amber-100 text-[10px]",children:"Pengajuan"})]})]})]})]})]}),(()=>{var E;const F=[{key:"urea",label:"Urea",unit:"Bucket",color:"#6366f1"},{key:"dap",label:"DAP",unit:"Bucket",color:"#06b6d4"},{key:"kcl",label:"KCL",unit:"Bucket",color:"#10b981"},{key:"za",label:"ZA",unit:"Bucket",color:"#f59e0b"},{key:"clayJumbo",label:"Clay (Jumbo)",unit:"Jumbo",color:"#ef4444"},{key:"clayBucket",label:"Clay (Bucket)",unit:"Bucket",color:"#8b5cf6"},{key:"pewarna",label:"Pewarna",unit:"Bag",color:"#ec4899"},{key:"coatingOilLigno",label:"Coating Oil LIGNO",unit:"Dus",color:"#14b8a6"},{key:"riject",label:"Riject",unit:"Bucket",color:"#f97316"},{key:"tinta",label:"Tinta",unit:"pcs",color:"#a855f7"},{key:"rekon",label:"Rekon",unit:"Ton",color:"#0ea5e9"},{key:"makeupIjp",label:"MAKEUP IJP",unit:"pcs",color:"#84cc16"}],L=D.pemakaianBB,R=L.length,G=F.map(A=>{const M=L.reduce((me,z)=>me+(ve(z[A.key])||0),0);return{...A,total:M}}),be=G.reduce((A,M)=>(A[M.unit]||(A[M.unit]=[]),A[M.unit].push(M),A),{}),Te=[{name:"Malam",value:L.filter(A=>A.shift==="Malam").length,color:"#6366f1"},{name:"Pagi",value:L.filter(A=>A.shift==="Pagi").length,color:"#f59e0b"},{name:"Sore",value:L.filter(A=>A.shift==="Sore").length,color:"#ef4444"}],ce=y?(()=>{const A=F.find(M=>M.key===y);return A?["Malam","Pagi","Sore"].map(M=>{const me=L.filter(z=>z.shift===M).reduce((z,V)=>z+(ve(V[A.key])||0),0);return{shift:M,total:me,fill:M==="Malam"?"#6366f1":M==="Pagi"?"#f59e0b":"#ef4444"}}):[]})():[],pe=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Pe=G.filter(A=>A.unit==="Bucket"),ge=pe.map((A,M)=>{const me=L.filter(V=>V.tanggal?new Date(V.tanggal).getMonth()===M:!1),z={bulan:A,records:me.length};return Pe.forEach(V=>{z[V.label]=me.reduce((fe,I)=>fe+(ve(I[V.key])||0),0)}),z}),Ae=Pe,ne=Object.entries(be).map(([A,M])=>({unit:A,data:M.map(me=>({name:me.label,total:Math.round(me.total*100)/100,fill:me.color,color:me.color}))}));return i.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-4",children:[i.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-teal-500 via-emerald-500 to-green-600 rounded-2xl p-5 text-white shadow-xl shadow-teal-500/15",children:[i.jsxs("div",{className:"absolute inset-0 opacity-5",children:[i.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 rounded-full bg-white/30 blur-2xl"}),i.jsx("div",{className:"absolute -left-8 -bottom-8 w-36 h-36 rounded-full bg-white/20 blur-xl"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-white/15 backdrop-blur-sm border border-white/10",children:i.jsx(gH,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-base",children:["Pemakaian Bahan Baku ",r]}),i.jsxs("p",{className:"text-teal-100 text-xs",children:[R," record dari ",L.filter(A=>A.shift==="Malam").length+L.filter(A=>A.shift==="Pagi").length+L.filter(A=>A.shift==="Sore").length," shift"]})]})]}),i.jsx("div",{className:"flex items-center gap-1.5",children:["chart","shift","trend"].map(A=>i.jsx("button",{onClick:()=>b(A),className:Ge("px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200",x===A?"bg-white/25 shadow-lg backdrop-blur-sm border border-white/20":"bg-white/10 hover:bg-white/15 border border-transparent"),children:A==="chart"?" Material":A==="shift"?" Shift":" Trend"},A))})]}),i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:G.slice(0,6).map((A,M)=>i.jsxs(Rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*M},onClick:()=>v(y===A.key?null:A.key),className:Ge("rounded-xl px-3 py-2 backdrop-blur-sm cursor-pointer transition-all duration-200",y===A.key?"bg-white/30 shadow-lg scale-105 border border-white/30":"bg-white/15 hover:bg-white/20 border border-white/5"),children:[i.jsx("p",{className:"text-teal-100 text-[9px] uppercase tracking-wider truncate",children:A.label}),i.jsx("p",{className:"text-sm font-bold tabular-nums",children:oe(A.total)}),i.jsx("p",{className:"text-teal-200 text-[9px]",children:A.unit})]},A.key))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-teal-500/5 via-emerald-500/5 to-green-500/5 dark:from-teal-500/10 dark:via-emerald-500/10 dark:to-green-500/10 pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-teal-500 to-emerald-600 text-white shadow-lg shadow-teal-500/25",children:i.jsx(Gp,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:x==="chart"?"Total Pemakaian per Material":x==="shift"?"Distribusi per Shift":"Trend Bulanan"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:x==="chart"?"Dikelompokkan per satuan  Klik bar untuk detail shift":x==="shift"?y?`Detail shift untuk ${((E=F.find(A=>A.key===y))==null?void 0:E.label)||""}`:"Pilih material di atas untuk detail":"Trend bulanan per satuan Bucket"})]})]}),i.jsxs(Ze,{variant:"success",className:"shadow-sm",children:[R," data"]})]})}),i.jsxs(tn,{className:"pt-2",children:[x==="chart"&&i.jsx("div",{className:"space-y-6 max-h-[380px] overflow-y-auto pr-1 custom-scrollbar",children:ne.map(A=>i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:["Satuan: ",A.unit]}),i.jsx(Ci,{width:"100%",height:Math.max(A.data.length*44,80),children:i.jsxs(mf,{data:A.data,layout:"vertical",margin:{top:0,right:40,left:0,bottom:0},onClick:M=>{var me;if((me=M==null?void 0:M.activePayload)!=null&&me[0]){const z=F.find(V=>V.label===M.activePayload[0].payload.name);z&&(v(y===z.key?null:z.key),b("shift"))}},children:[i.jsx(uo,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.07,horizontal:!1}),i.jsx(mi,{type:"number",tick:{fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:M=>M>=1e3?`${(M/1e3).toFixed(0)}k`:`${M}`}),i.jsx(gi,{type:"category",dataKey:"name",tick:{fontSize:11},tickLine:!1,axisLine:!1,width:110}),i.jsx(Wr,{contentStyle:{backgroundColor:"rgba(255,255,255,0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",padding:"12px 16px"},formatter:M=>[oe(M),A.unit],cursor:{fill:"rgba(0,0,0,0.04)"}}),i.jsxs(Va,{dataKey:"total",radius:[0,6,6,0],cursor:"pointer",children:[A.data.map((M,me)=>i.jsx(ts,{fill:M.color,fillOpacity:.8},`cell-${me}`)),i.jsx(Xa,{dataKey:"total",position:"right",formatter:M=>M>0?oe(M):"",style:{fontSize:"10px",fontWeight:"bold",fill:"#64748b"}})]})]})})]},A.unit))}),x==="shift"&&i.jsxs("div",{className:"space-y-4",children:[y&&ce.length>0?i.jsx(Ci,{width:"100%",height:280,children:i.jsxs(mf,{data:ce,margin:{top:10,right:10,left:0,bottom:0},children:[i.jsx(uo,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.07,vertical:!1}),i.jsx(mi,{dataKey:"shift",tick:{fontSize:12},tickLine:!1,axisLine:!1}),i.jsx(gi,{tick:{fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:A=>A>=1e3?`${(A/1e3).toFixed(0)}k`:`${A}`}),i.jsx(Wr,{contentStyle:{backgroundColor:"rgba(255,255,255,0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",padding:"12px 16px"},formatter:A=>{var M;return[oe(A),((M=F.find(me=>me.key===y))==null?void 0:M.label)||""]}}),i.jsxs(Va,{dataKey:"total",radius:[8,8,0,0],children:[ce.map((A,M)=>i.jsx(ts,{fill:A.fill},`shift-cell-${M}`)),i.jsx(Xa,{dataKey:"total",position:"top",formatter:A=>oe(A),style:{fontSize:"11px",fontWeight:"bold",fill:"#64748b"}})]})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[280px] text-muted-foreground",children:[i.jsx(gh,{className:"h-12 w-12 mb-3 opacity-30"}),i.jsx("p",{className:"text-sm font-medium",children:"Pilih Material"}),i.jsx("p",{className:"text-xs opacity-60",children:"Klik salah satu material di header untuk melihat detail shift"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Te.map(A=>i.jsxs("div",{className:"text-center p-3 rounded-xl border",style:{borderColor:`${A.color}30`,backgroundColor:`${A.color}08`},children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full mx-auto mb-1.5",style:{backgroundColor:A.color}}),i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:A.name}),i.jsx("p",{className:"text-lg font-bold",style:{color:A.color},children:A.value}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"record"})]},A.name))})]}),x==="trend"&&i.jsx(Ci,{width:"100%",height:320,children:i.jsxs(gO,{data:ge,margin:{top:10,right:10,left:0,bottom:0},children:[i.jsx("defs",{children:Ae.map(A=>i.jsxs("linearGradient",{id:`gradTrend_${A.key}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:A.color,stopOpacity:.25}),i.jsx("stop",{offset:"100%",stopColor:A.color,stopOpacity:.02})]},`trend_${A.key}`))}),i.jsx(uo,{strokeDasharray:"3 3",stroke:"currentColor",opacity:.07,vertical:!1}),i.jsx(mi,{dataKey:"bulan",tick:{fontSize:10},tickLine:!1,axisLine:!1,dy:8}),i.jsx(gi,{tick:{fontSize:10},tickLine:!1,axisLine:!1,dx:-4,tickFormatter:A=>A>=1e3?`${(A/1e3).toFixed(0)}k`:`${A}`}),i.jsx(Wr,{contentStyle:{backgroundColor:"rgba(255,255,255,0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",padding:"12px 16px"},formatter:(A,M)=>[oe(A),M]}),i.jsx(vi,{verticalAlign:"top",height:36,iconType:"circle",iconSize:8}),Ae.map(A=>i.jsx(za,{type:"monotone",dataKey:A.label,stroke:A.color,strokeWidth:2,fill:`url(#gradTrend_${A.key})`,dot:{r:3,fill:A.color,strokeWidth:0},activeDot:{r:5,strokeWidth:2,stroke:"#fff"}},A.key))]})})]})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-emerald-500/5 via-teal-500/5 to-cyan-500/5 dark:from-emerald-500/10 dark:via-teal-500/10 dark:to-cyan-500/10 pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25",children:i.jsx(gh,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Detail Material"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Pemakaian per material (dikelompokkan per satuan)"})]})]}),i.jsx(Ze,{variant:"success",className:"shadow-sm",children:"12 material"})]})}),i.jsx(tn,{className:"pt-3",children:i.jsx("div",{className:"space-y-4 max-h-[360px] overflow-y-auto pr-1 custom-scrollbar",children:Object.entries(be).map(([A,M])=>{const me=Math.max(...M.map(z=>z.total),1);return i.jsxs("div",{children:[i.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest mb-2 flex items-center gap-1.5",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"}),A]}),i.jsx("div",{className:"space-y-1.5",children:M.map((z,V)=>{const fe=me>0?z.total/me*100:0,I=y===z.key;return i.jsxs(Rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.03*V},onClick:()=>v(I?null:z.key),className:Ge("group p-2.5 rounded-xl border cursor-pointer transition-all duration-200",I?"border-teal-300 dark:border-teal-700 bg-teal-50/50 dark:bg-teal-950/20 shadow-md":"border-gray-100 dark:border-gray-800 hover:border-teal-200 dark:hover:border-teal-800 hover:shadow-sm"),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:z.color}}),i.jsx("span",{className:"text-sm font-medium",children:z.label})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-sm font-bold tabular-nums",children:oe(z.total)}),i.jsx("span",{className:"text-[10px] text-muted-foreground ml-1",children:z.unit})]})]}),i.jsx("div",{className:"relative h-1.5 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:i.jsx(Rt.div,{initial:{width:0},animate:{width:`${fe}%`},transition:{duration:.8,delay:.05*V,ease:"easeOut"},className:"absolute inset-y-0 left-0 rounded-full",style:{background:`linear-gradient(90deg, ${z.color}cc, ${z.color})`}})})]},z.key)})})]},A)})})})]})]})]})})(),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-indigo-500/5 via-blue-500/5 to-cyan-500/5 dark:from-indigo-500/10 dark:via-blue-500/10 dark:to-cyan-500/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/25",children:i.jsx(_l,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Produksi vs RKAP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Perbandingan realisasi produksi terhadap target"})]})]}),i.jsx(Ze,{variant:"primary",className:"shadow-sm",children:r})]})}),i.jsx(tn,{className:"pt-2",children:i.jsx(Ci,{width:"100%",height:320,children:i.jsxs(gO,{data:ee,margin:{top:10,right:10,left:0,bottom:0},children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"gradProduksi",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:.3}),i.jsx("stop",{offset:"50%",stopColor:"#6366f1",stopOpacity:.1}),i.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:.02})]}),i.jsxs("linearGradient",{id:"gradRkap",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:.15}),i.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:.02})]}),i.jsxs("linearGradient",{id:"gradRkapNPK1",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:.15}),i.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:.02})]}),i.jsxs("linearGradient",{id:"gradRkapNPK2",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#f59e0b",stopOpacity:.15}),i.jsx("stop",{offset:"100%",stopColor:"#f59e0b",stopOpacity:.02})]})]}),i.jsx(uo,{...Jp}),i.jsx(mi,{dataKey:"bulan",...vc,dy:8}),i.jsx(gi,{...vc,dx:-4,tickFormatter:F=>F>=1e3?`${(F/1e3).toFixed(0)}k`:`${F}`}),i.jsx(Wr,{contentStyle:xc,formatter:(F,L)=>[oe(F)+" Ton",L],labelStyle:{fontWeight:600,marginBottom:4},cursor:{stroke:"#6366f1",strokeWidth:1,strokeDasharray:"4 4"}}),i.jsx(vi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"12px"}}),i.jsx(za,{type:"monotone",dataKey:"produksi",stroke:"#6366f1",strokeWidth:2.5,fill:"url(#gradProduksi)",dot:{fill:"#6366f1",stroke:"#fff",strokeWidth:2,r:4},activeDot:{fill:"#6366f1",stroke:"#fff",strokeWidth:2,r:6},name:"Produksi",animationDuration:1200,animationEasing:"ease-out"}),P==="ALL"?i.jsxs(i.Fragment,{children:[i.jsx(za,{type:"monotone",dataKey:"rkapNPK1",stroke:"#10b981",strokeWidth:2,strokeDasharray:"6 4",fill:"url(#gradRkapNPK1)",dot:!1,name:"RKAP NPK 1",animationDuration:1400}),i.jsx(za,{type:"monotone",dataKey:"rkapNPK2",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"6 4",fill:"url(#gradRkapNPK2)",dot:!1,name:"RKAP NPK 2",animationDuration:1600})]}):i.jsx(za,{type:"monotone",dataKey:"rkap",stroke:"#10b981",strokeWidth:2,strokeDasharray:"6 4",fill:"url(#gradRkap)",dot:!1,name:"RKAP",animationDuration:1400})]})})})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-emerald-500/5 via-teal-500/5 to-cyan-500/5 dark:from-emerald-500/10 dark:via-teal-500/10 dark:to-cyan-500/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25",children:i.jsx(mh,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Produksi Onspek vs Offspek"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Distribusi kualitas produksi bulanan"})]})]}),i.jsx(Ze,{variant:"success",children:"Monthly"})]})}),i.jsx(tn,{className:"pt-2",children:i.jsx(Ci,{width:"100%",height:320,children:i.jsxs(mf,{data:ee,margin:{top:10,right:10,left:0,bottom:0},children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"gradOnspek",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:.9}),i.jsx("stop",{offset:"100%",stopColor:"#818cf8",stopOpacity:.7})]}),i.jsxs("linearGradient",{id:"gradOffspek",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#f43f5e",stopOpacity:.9}),i.jsx("stop",{offset:"100%",stopColor:"#fb7185",stopOpacity:.7})]})]}),i.jsx(uo,{...Jp}),i.jsx(mi,{dataKey:"bulan",...vc,dy:8}),i.jsx(gi,{...vc,dx:-4,tickFormatter:F=>F>=1e3?`${(F/1e3).toFixed(0)}k`:`${F}`}),i.jsx(Wr,{contentStyle:xc,formatter:F=>[oe(F)+" Ton",""],labelStyle:{fontWeight:600,marginBottom:4},cursor:{fill:"rgba(99, 102, 241, 0.04)"}}),i.jsx(vi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"12px"}}),i.jsx(Va,{dataKey:"onspek",fill:"url(#gradOnspek)",radius:[6,6,0,0],name:"Onspek",animationDuration:800,animationEasing:"ease-out"}),i.jsx(Va,{dataKey:"offspek",fill:"url(#gradOffspek)",radius:[6,6,0,0],name:"Offspek",animationDuration:1e3,animationEasing:"ease-out"})]})})})]})]}),i.jsx(eTe,{downtimeData:D.downtime,year:r,plantLabel:B}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ie,{className:"lg:col-span-2 overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-amber-500/5 via-orange-500/5 to-red-500/5 dark:from-amber-500/10 dark:via-orange-500/10 dark:to-red-500/10",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25",children:i.jsx(Ii,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Downtime per Equipment"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[i.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-400",children:oe(te)})," ",h==="jam"?"Jam":"Kejadian"," Total"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(at,{value:d,onChange:F=>f(F.target.value),options:[{value:"tahunan",label:"Tahunan"},{value:"bulanan",label:"Bulanan"}],className:"w-28"}),d==="bulanan"&&i.jsx(at,{value:g.toString(),onChange:F=>m(Number(F.target.value)),options:gf.map((F,L)=>({value:L.toString(),label:F})),className:"w-24"}),i.jsx(at,{value:h,onChange:F=>p(F.target.value),options:[{value:"jam",label:"Jam"},{value:"frekuensi",label:"Frekuensi"}],className:"w-28"})]})]})}),i.jsx(tn,{className:"pt-2",children:Y.length>0?i.jsx(Ci,{width:"100%",height:350,children:i.jsxs(mf,{data:Y,layout:"vertical",margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradDowntime",x1:"0",y1:"0",x2:"1",y2:"0",children:[i.jsx("stop",{offset:"0%",stopColor:"#f59e0b",stopOpacity:.8}),i.jsx("stop",{offset:"100%",stopColor:"#f97316",stopOpacity:.95})]})}),i.jsx(uo,{...Jp,horizontal:!1,vertical:!0}),i.jsx(mi,{type:"number",...vc}),i.jsx(gi,{type:"category",dataKey:"item",...vc,width:130,tick:{fontSize:11,fontWeight:500}}),i.jsx(Wr,{contentStyle:xc,formatter:(F,L,R)=>{var Te,ce;const G=h==="jam"?" Jam":" Kejadian",be=h==="jam"?`(${((Te=R.payload)==null?void 0:Te.frekuensi)||0} kejadian)`:`(${oe(((ce=R.payload)==null?void 0:ce.jam)||0)} jam)`;return[`${oe(F)}${G} ${be}`,"Downtime"]},cursor:{fill:"rgba(245, 158, 11, 0.06)"}}),i.jsx(Va,{dataKey:"downtime",fill:"url(#gradDowntime)",radius:[0,8,8,0],name:h==="jam"?"Downtime (Jam)":"Downtime (Frekuensi)",animationDuration:1e3,animationEasing:"ease-out"})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-muted-foreground",children:[i.jsx(Ii,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data downtime"})]})})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-violet-500/5 via-purple-500/5 to-fuchsia-500/5 dark:from-violet-500/10 dark:via-purple-500/10 dark:to-fuchsia-500/10",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-500/25",children:i.jsx(Do,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Breakdown Produksi"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Komposisi produksi ",r]})]})]})}),i.jsx(tn,{className:"pt-2",children:le.length>0?i.jsx(Ci,{width:"100%",height:350,children:i.jsxs(o1,{children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"gradPie0",x1:"0",y1:"0",x2:"1",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),i.jsx("stop",{offset:"100%",stopColor:"#818cf8"})]}),i.jsxs("linearGradient",{id:"gradPie1",x1:"0",y1:"0",x2:"1",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),i.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]}),i.jsxs("linearGradient",{id:"gradPie2",x1:"0",y1:"0",x2:"1",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#f59e0b"}),i.jsx("stop",{offset:"100%",stopColor:"#fbbf24"})]})]}),i.jsx(Ni,{data:le,cx:"50%",cy:"50%",innerRadius:70,outerRadius:110,paddingAngle:4,dataKey:"value",cornerRadius:6,label:({name:F,percent:L})=>`${F} ${(L*100).toFixed(0)}%`,animationDuration:1200,animationEasing:"ease-out",children:le.map((F,L)=>i.jsx(ts,{fill:`url(#gradPie${L%3})`,stroke:"rgba(255,255,255,0.6)",strokeWidth:2},`cell-${L}`))}),i.jsx(Wr,{contentStyle:xc,formatter:F=>[oe(F)+" Ton",""]})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-muted-foreground",children:[i.jsx(Do,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data produksi"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-rose-500/5 via-pink-500/5 to-fuchsia-500/5 dark:from-rose-500/10 dark:via-pink-500/10 dark:to-fuchsia-500/10",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-rose-500 to-pink-600 text-white shadow-lg shadow-rose-500/25",children:i.jsx(Ta,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Work Request by Eksekutor"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[i.jsx("span",{className:"font-semibold text-rose-600 dark:text-rose-400",children:H.workRequestTotal})," total request"]})]})]})})}),i.jsx(tn,{className:"pt-2",children:q.length>0?i.jsx(Ci,{width:"100%",height:300,children:i.jsxs(o1,{children:[i.jsx(Ni,{data:q,cx:"50%",cy:"50%",innerRadius:55,outerRadius:95,paddingAngle:4,dataKey:"count",nameKey:"eksekutor",cornerRadius:5,label:({eksekutor:F,count:L})=>`${F}: ${L}`,animationDuration:1200,animationEasing:"ease-out",children:q.map((F,L)=>i.jsx(ts,{fill:Ep[L%Ep.length],stroke:"rgba(255,255,255,0.6)",strokeWidth:2},`cell-${L}`))}),i.jsx(Wr,{contentStyle:xc}),i.jsx(vi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"8px"}})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-muted-foreground",children:[i.jsx(Ta,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data work request"})]})})]}),i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-cyan-500/5 via-sky-500/5 to-blue-500/5 dark:from-cyan-500/10 dark:via-sky-500/10 dark:to-blue-500/10",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-cyan-500 to-sky-600 text-white shadow-lg shadow-cyan-500/25",children:i.jsx(Cf,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:"Status Vibrasi Equipment"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[i.jsx("span",{className:Ge("font-semibold",H.vibrasiWarnings>0?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"),children:H.vibrasiWarnings})," alert aktif"]})]})]})})}),i.jsx(tn,{className:"pt-2",children:ue.length>0?i.jsx(Ci,{width:"100%",height:300,children:i.jsxs(o1,{children:[i.jsx(Ni,{data:ue,cx:"50%",cy:"50%",innerRadius:55,outerRadius:95,paddingAngle:4,dataKey:"count",nameKey:"status",cornerRadius:5,animationDuration:1200,animationEasing:"ease-out",children:ue.map((F,L)=>{const R={Normal:"#10b981",Warning:"#f59e0b",Critical:"#ef4444",Alert:"#f43f5e"};return i.jsx(ts,{fill:R[F.status]||Ep[L%Ep.length],stroke:"rgba(255,255,255,0.6)",strokeWidth:2},`cell-${L}`)})}),i.jsx(Wr,{contentStyle:xc}),i.jsx(vi,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",paddingTop:"8px"}})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-muted-foreground",children:[i.jsx(Cf,{className:"h-10 w-10 mb-3 opacity-30"}),i.jsx("p",{children:"Tidak ada data vibrasi"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ie,{className:"overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-slate-500/5 via-gray-500/5 to-zinc-500/5 dark:from-slate-500/10 dark:via-gray-500/10 dark:to-zinc-500/10",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-slate-600 to-gray-700 text-white shadow-lg shadow-slate-600/25",children:i.jsx(Ji,{className:"h-4 w-4"})}),i.jsx(Tt,{className:"text-base",children:"Aksi Cepat"})]})}),i.jsxs(tn,{className:"space-y-2.5",children:[i.jsxs("a",{href:"/produksi/npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-950/30 dark:to-blue-950/30 hover:from-indigo-100 hover:to-blue-100 dark:hover:from-indigo-950/50 dark:hover:to-blue-950/50 rounded-xl transition-all duration-200 group border border-indigo-100/50 dark:border-indigo-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10 dark:bg-indigo-500/20",children:i.jsx(xh,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),i.jsx("span",{className:"text-sm font-medium text-indigo-900 dark:text-indigo-200",children:"Input Produksi"})]}),i.jsx(Ji,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),i.jsxs("a",{href:"/laporan/downtime-npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 hover:from-amber-100 hover:to-orange-100 dark:hover:from-amber-950/50 dark:hover:to-orange-950/50 rounded-xl transition-all duration-200 group border border-amber-100/50 dark:border-amber-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10 dark:bg-amber-500/20",children:i.jsx(Ii,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),i.jsx("span",{className:"text-sm font-medium text-amber-900 dark:text-amber-200",children:"Input Downtime"})]}),i.jsx(Ji,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),i.jsxs("a",{href:"/data/work-request-npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 hover:from-emerald-100 hover:to-teal-100 dark:hover:from-emerald-950/50 dark:hover:to-teal-950/50 rounded-xl transition-all duration-200 group border border-emerald-100/50 dark:border-emerald-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10 dark:bg-emerald-500/20",children:i.jsx(Ta,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),i.jsx("span",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-200",children:"Work Request"})]}),i.jsx(Ji,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),i.jsxs("a",{href:"/data/vibrasi-npk2",className:"flex items-center justify-between p-3.5 bg-gradient-to-r from-rose-50 to-pink-50 dark:from-rose-950/30 dark:to-pink-950/30 hover:from-rose-100 hover:to-pink-100 dark:hover:from-rose-950/50 dark:hover:to-pink-950/50 rounded-xl transition-all duration-200 group border border-rose-100/50 dark:border-rose-800/30",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-rose-500/10 dark:bg-rose-500/20",children:i.jsx(Cf,{className:"h-4 w-4 text-rose-600 dark:text-rose-400"})}),i.jsx("span",{className:"text-sm font-medium text-rose-900 dark:text-rose-200",children:"Data Vibrasi"})]}),i.jsx(Ji,{className:"h-4 w-4 text-rose-600 dark:text-rose-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),i.jsxs(Ie,{className:"lg:col-span-2 overflow-hidden border-0 shadow-soft-lg",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-sky-500/5 via-blue-500/5 to-indigo-500/5 dark:from-sky-500/10 dark:via-blue-500/10 dark:to-indigo-500/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 text-white shadow-lg shadow-sky-500/25",children:i.jsx(mh,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsxs(Tt,{className:"text-base",children:["Ringkasan Data ",B]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Overview seluruh data tahun ",r]})]})]}),i.jsx(Ze,{variant:"info",children:r})]})}),i.jsx(tn,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Record Produksi NPK",value:D.produksiNPK.length,color:"indigo"},{label:"Record Blending",value:D.produksiBlending.length,color:"cyan"},{label:"Record Downtime",value:D.downtime.length,color:"amber"},{label:"Work Request",value:D.workRequest.length,color:"rose"},{label:"Bahan Baku",value:D.bahanBaku.length,color:"sky"},{label:"Data Vibrasi",value:D.vibrasi.length,color:"violet"},{label:"Gate Pass",value:D.gatePass.length,color:"emerald"},{label:"Trouble Record",value:D.troubleRecord.length,color:"pink"}].map((F,L)=>i.jsxs(Rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:L*.05},className:`p-4 rounded-xl text-center border border-${F.color}-100 dark:border-${F.color}-900/30 bg-gradient-to-br from-${F.color}-50/80 to-${F.color}-50/30 dark:from-${F.color}-950/30 dark:to-${F.color}-950/10 hover:shadow-soft transition-shadow duration-200`,children:[i.jsx("p",{className:`text-2xl font-bold tabular-nums text-${F.color}-600 dark:text-${F.color}-400`,children:F.value}),i.jsx("p",{className:"text-[11px] font-medium text-muted-foreground mt-1",children:F.label})]},L))})})]})]})]})};function rTe(e,t,r={}){const{altKey:n=!1,ctrlKey:a=!1,shiftKey:s=!1,enabled:o=!0}=r,l=j.useCallback(c=>{if(!o)return;const u=n?c.altKey:!c.altKey,d=a?c.ctrlKey:!c.ctrlKey,f=s?c.shiftKey:!c.shiftKey;c.key.toLowerCase()===e.toLowerCase()&&u&&d&&f&&(c.preventDefault(),t())},[e,t,n,a,s,o]);j.useEffect(()=>(o&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l,o])}function Br(e,t=!0){rTe("s",e,{ctrlKey:!0,enabled:t})}function nTe(){const{user:e}=Et(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,o]=j.useState(null),l=j.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),c=j.useCallback(async()=>{a(!0),o(null);try{const g=await mM();if(g.success&&g.data){const m=[...g.data].sort((x,b)=>x.nama_material.localeCompare(b.nama_material));r(m)}else o(g.error||"Gagal mengambil data material"),r([])}catch(g){o(g instanceof Error?g.message:"Terjadi kesalahan"),r([])}finally{a(!1)}},[]),u=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await bM(g,m);return x.success&&x.data?(r(b=>[...b,x.data].sort((y,v)=>y.nama_material.localeCompare(v.nama_material))),{success:!0,data:x.data}):(o(x.error||"Gagal menambah material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),d=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await wM(g,m);return x.success?(r(b=>b.map(y=>y.id===g.id?{...y,...g}:y).sort((y,v)=>y.nama_material.localeCompare(v.nama_material))),{success:!0}):(o(x.error||"Gagal mengupdate material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),f=j.useCallback(async g=>{a(!0),o(null);try{const m=l(),x=await kM(g,m);return x.success?(r(b=>b.filter(y=>y.id!==g)),{success:!0}):(o(x.error||"Gagal menghapus material"),{success:!1,error:x.error})}catch(m){const x=m instanceof Error?m.message:"Terjadi kesalahan";return o(x),{success:!1,error:x}}finally{a(!1)}},[l]),h=j.useCallback(async(g,m,x)=>{a(!0),o(null);try{const b=l(),y=await jM(g,m,x,b);return y.success&&y.data?(r(v=>v.map(w=>w.id===g?{...w,stok:y.data.stok_baru}:w)),{success:!0,data:y.data}):(o(y.error||"Gagal menambah stok"),{success:!1,error:y.error})}catch(b){const y=b instanceof Error?b.message:"Terjadi kesalahan";return o(y),{success:!1,error:y}}finally{a(!1)}},[l]),p=j.useCallback(async(g,m,x)=>{a(!0),o(null);try{const b=l(),y=await SM(g,m,x,b);return y.success&&y.data?(r(v=>v.map(w=>w.id===g?{...w,stok:y.data.stok_baru}:w)),{success:!0,data:y.data}):(o(y.error||"Gagal mengurangi stok"),{success:!1,error:y.error})}catch(b){const y=b instanceof Error?b.message:"Terjadi kesalahan";return o(y),{success:!1,error:y}}finally{a(!1)}},[l]);return j.useEffect(()=>{c()},[c]),{materials:t,loading:n,error:s,refetch:c,addMaterial:u,updateMaterial:d,deleteMaterial:f,stockMasuk:h,stockKeluar:p}}function aTe(e){const[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,o]=j.useState(null),[l,c]=j.useState(e),u=j.useCallback(async h=>{a(!0),o(null);try{const p=await gM(h||l);p.success&&p.data?r(p.data):(o(p.error||"Gagal mengambil data transaksi"),r([]))}catch(p){o(p instanceof Error?p.message:"Terjadi kesalahan"),r([])}finally{a(!1)}},[l]),d=j.useCallback(h=>{c(h),u(h)},[u]),f=j.useCallback(()=>{c(void 0),u(void 0)},[u]);return j.useEffect(()=>{u()},[]),{transactions:t,loading:n,error:s,filters:l,refetch:u,updateFilters:d,clearFilters:f}}function en(){const{user:e}=Et(),t=j.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),r=j.useCallback(async(s,o)=>{const l=t(),c=await xM(s,o,l);return c.success&&Cy("success"),c},[t]),n=j.useCallback(async(s,o)=>{const l=t(),c=await vM(s,o,l);return c.success&&Cy("success"),c},[t]),a=j.useCallback(async(s,o)=>{const l=t(),c=await yM(s,o,l);return c.success&&Cy("warning"),c},[t]);return{createWithLog:r,updateWithLog:n,deleteWithLog:a,getUserInfo:t}}function JF(){const[e,t]=j.useState([]),r=j.useCallback((l,c,u)=>({newItems:[{...c,id:u,_isPending:!0},...l],rollback:()=>l}),[]),n=j.useCallback((l,c)=>{const u=l.find(f=>f.id===c.id);return{newItems:l.map(f=>f.id===c.id?{...c,_isPending:!0}:f),rollback:()=>l,previousItem:u}},[]),a=j.useCallback((l,c)=>{const u=l.find(f=>f.id===c);return{newItems:l.filter(f=>f.id!==c),rollback:()=>l,deletedItem:u}},[]),s=j.useCallback((l,c,u)=>l.map(d=>d.id===c?{...d,id:u,_isPending:void 0}:d),[]),o=j.useCallback((l,c)=>l.map(u=>u.id===c?{...u,_isPending:void 0}:u),[]);return{pendingActions:e,setPendingActions:t,optimisticAdd:r,optimisticUpdate:n,optimisticDelete:a,confirmAdd:s,confirmUpdate:o}}function QF(){return`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const zd={tanggal:yr(),shiftMalamOnspek:0,shiftMalamOffspek:0,shiftPagiOnspek:0,shiftPagiOffspek:0,shiftSoreOnspek:0,shiftSoreOffspek:0,totalOnspek:0,totalOffspek:0,total:0},xO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),{optimisticAdd:s,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=JF(),[d,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(!1),[N,S]=j.useState(null),[T,P]=j.useState(null),[_,O]=j.useState(zd),[C,D]=j.useState(new Date().getFullYear()),[H,ee]=j.useState(new Date().getMonth()),[W,Y]=j.useState(!1),[te,q]=j.useState("edit"),[ue,le]=j.useState(null),[B,F]=j.useState(!1),[L,R]=j.useState(""),G=re=>{R(re),F(!0)},be=(t==null?void 0:t.role)||"",Te=un(be),ce=j.useCallback(()=>{if(g&&!h){const re=document.querySelector("form");re&&re.requestSubmit()}},[g,h]);Br(ce,g);const pe=Nn(be),Pe=Tn(be),ge=Qr(be);j.useEffect(()=>{(async()=>{p(!0);try{const{readData:J,SHEETS:ke,getSheetNameByPlant:Ke}=await st(async()=>{const{readData:Fe,SHEETS:Se,getSheetNameByPlant:Re}=await Promise.resolve().then(()=>ot);return{readData:Fe,SHEETS:Se,getSheetNameByPlant:Re}},void 0),xe=Ke(ke.PRODUKSI_NPK,e),_e=await J(xe);if(_e.success&&_e.data){const Fe=_e.data.map(Se=>({...Se,_plant:e})).sort((Se,Re)=>new Date(Re.tanggal).getTime()-new Date(Se.tanggal).getTime());f(Fe)}else f([])}catch(J){console.error("Error fetching data:",J),f([])}finally{p(!1)}})()},[e]);const Ae=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],ne=j.useMemo(()=>{const re=new Date().getFullYear(),J=d.map(xe=>{const _e=new Date(xe.tanggal);return isNaN(_e.getTime())?re:_e.getFullYear()}),ke=[re,re-1,re-2];return[...new Set([...J,...ke])].sort((xe,_e)=>_e-xe)},[d]),E=j.useMemo(()=>d.filter(re=>{const J=new Date(re.tanggal);return!isNaN(J.getTime())&&J.getFullYear()===C}),[d,C]),A=j.useMemo(()=>{const re=E.filter(xe=>new Date(xe.tanggal).getMonth()===H),J=re.reduce((xe,_e)=>xe+ve(_e.totalOnspek),0),ke=re.reduce((xe,_e)=>xe+ve(_e.totalOffspek),0),Ke=re.reduce((xe,_e)=>xe+ve(_e.total),0);return{monthName:Ae[H],year:C,totalOnspek:J,totalOffspek:ke,total:Ke,entryCount:re.length}},[E,C,H]);j.useEffect(()=>{const re=(_.shiftMalamOnspek||0)+(_.shiftPagiOnspek||0)+(_.shiftSoreOnspek||0),J=(_.shiftMalamOffspek||0)+(_.shiftPagiOffspek||0)+(_.shiftSoreOffspek||0);O(ke=>({...ke,totalOnspek:re,totalOffspek:J,total:re+J}))},[_.shiftMalamOnspek,_.shiftMalamOffspek,_.shiftPagiOnspek,_.shiftPagiOffspek,_.shiftSoreOnspek,_.shiftSoreOffspek]);const M=async re=>{if(re.preventDefault(),m(!1),v(!0),N){const J={..._,id:N,_plant:e},{rollback:ke}=o(d,J);f(Ke=>Ke.map(xe=>xe.id===N?{...J,_isPending:!0}:xe)),n("produksi_npk",{..._,id:N,_plant:e}).then(Ke=>{Ke.success?f(xe=>u(xe,N)):(f(ke()),alert(Ke.error||"Gagal mengupdate data"))}).catch(()=>{f(ke()),alert("Terjadi kesalahan saat mengupdate data")})}else{const J=QF(),ke={..._,id:J,_plant:e,_isPending:!0},{rollback:Ke}=s(d,ke,J);f(xe=>[ke,...xe]),r("produksi_npk",{..._,_plant:e}).then(xe=>{xe.success&&xe.data?f(_e=>c(_e,J,xe.data.id||J)):(f(Ke()),alert(xe.error||"Gagal menyimpan data"))}).catch(()=>{f(Ke()),alert("Terjadi kesalahan saat menyimpan data")})}O(zd),S(null),setTimeout(()=>v(!1),1500)},me=re=>{if(pe){le(re),q("edit"),Y(!0);return}O(re),S(re.id||null),m(!0)},z=re=>{if(Pe){const J=d.find(ke=>ke.id===re);J&&(le(J),q("delete"),Y(!0));return}P(re),b(!0)},V=async re=>{if(!(!ue||!t)){p(!0);try{const{createData:J,SHEETS:ke}=await st(async()=>{const{createData:_e,SHEETS:Fe}=await Promise.resolve().then(()=>ot);return{createData:_e,SHEETS:Fe}},void 0),Ke={type:"produksi_npk",action:te,itemId:ue.id,itemData:ue,targetSheet:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",reason:re,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},xe=await J(ke.APPROVAL_REQUESTS,Ke);if(xe.success)Y(!1),le(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(xe.error||"Gagal mengirim permintaan")}catch(J){console.error("Error submitting approval:",J),alert(J instanceof Error?J.message:"Gagal mengirim permintaan approval")}finally{p(!1)}}},fe=async()=>{if(!T)return;const{rollback:re}=l(d,T);f(J=>J.filter(ke=>ke.id!==T)),b(!1),v(!0),a("produksi_npk",{id:T,_plant:e}).then(J=>{J.success||(f(re()),alert(J.error||"Gagal menghapus data"))}).catch(()=>{f(re()),alert("Terjadi kesalahan saat menghapus data")}),P(null),setTimeout(()=>v(!1),1500)},I=()=>{O(zd),S(null),m(!0)},X=[{key:"tanggal",header:"Tanggal",sortable:!0,render:re=>gt(re)},{key:"shiftMalamOnspek",header:"Malam Onspek",render:re=>oe(ve(re))},{key:"shiftMalamOffspek",header:"Malam Offspek",render:re=>oe(ve(re))},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:re=>oe(ve(re))},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:re=>oe(ve(re))},{key:"shiftSoreOnspek",header:"Sore Onspek",render:re=>oe(ve(re))},{key:"shiftSoreOffspek",header:"Sore Offspek",render:re=>oe(ve(re))},{key:"total",header:"Total",render:re=>i.jsx("span",{className:"font-semibold text-primary-600",children:oe(ve(re))})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Granul"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data produksi NPK Granul untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),Te&&i.jsxs(ye,{onClick:I,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:`rounded-xl p-4 sm:p-5 text-white shadow-md ${e==="NPK1"?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(Px,{className:"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight",children:["Produksi Bulan ",A.monthName," ",A.year]}),i.jsxs("p",{className:"text-white/80 text-xs sm:text-sm",children:[A.entryCount," entry data"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("select",{value:H,onChange:re=>ee(Number(re.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 flex-1 min-w-0",children:Ae.map((re,J)=>i.jsx("option",{value:J,className:"text-dark-900",children:re},J))}),i.jsx("select",{value:C,onChange:re=>D(Number(re.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 w-20 sm:w-24",children:ne.map(re=>i.jsx("option",{value:re,className:"text-dark-900",children:re},re))})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Onspek"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:oe(A.totalOnspek)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Offspek"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:oe(A.totalOffspek)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Total"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:oe(A.total)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Onspek (",C,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:oe(E.reduce((re,J)=>re+ve(J.totalOnspek),0))})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Offspek (",C,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:oe(E.reduce((re,J)=>re+ve(J.totalOffspek),0))})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Produksi (",C,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:oe(E.reduce((re,J)=>re+ve(J.total),0))})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Jumlah Entry (",C,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:E.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(Tt,{children:"Data Produksi"})})}),i.jsx(Lr,{data:d,columns:X,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, shift, total produksi...",searchKeys:["tanggal","shiftMalamOnspek","shiftMalamOffspek","shiftPagiOnspek","shiftPagiOffspek","shiftSoreOnspek","shiftSoreOffspek","total"],actions:ge?re=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),G(re.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):re=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),G(re.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),me(re)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:J=>{J.stopPropagation(),z(re.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:g,onClose:()=>{m(!1),O(zd),S(null)},title:N?"Edit Data Produksi":"Tambah Data Produksi",size:"lg",children:i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsx("div",{children:i.jsx(Oe,{label:"Tanggal",type:"date",value:_.tanggal,onChange:re=>O(J=>({...J,tanggal:re.target.value})),required:!0})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Malam"}),i.jsx(Oe,{label:"Onspek (Ton)",type:"number",value:_.shiftMalamOnspek,onChange:re=>O(J=>({...J,shiftMalamOnspek:Number(re.target.value)})),min:"0",step:"0.01"}),i.jsx(Oe,{label:"Offspek (Ton)",type:"number",value:_.shiftMalamOffspek,onChange:re=>O(J=>({...J,shiftMalamOffspek:Number(re.target.value)})),min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Pagi"}),i.jsx(Oe,{label:"Onspek (Ton)",type:"number",value:_.shiftPagiOnspek,onChange:re=>O(J=>({...J,shiftPagiOnspek:Number(re.target.value)})),min:"0",step:"0.01"}),i.jsx(Oe,{label:"Offspek (Ton)",type:"number",value:_.shiftPagiOffspek,onChange:re=>O(J=>({...J,shiftPagiOffspek:Number(re.target.value)})),min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Sore"}),i.jsx(Oe,{label:"Onspek (Ton)",type:"number",value:_.shiftSoreOnspek,onChange:re=>O(J=>({...J,shiftSoreOnspek:Number(re.target.value)})),min:"0",step:"0.01"}),i.jsx(Oe,{label:"Offspek (Ton)",type:"number",value:_.shiftSoreOffspek,onChange:re=>O(J=>({...J,shiftSoreOffspek:Number(re.target.value)})),min:"0",step:"0.01"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Total (Auto)"}),i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Onspek:"}),i.jsxs("span",{className:"font-semibold text-primary-600",children:[oe(_.totalOnspek||0)," Ton"]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Offspek:"}),i.jsxs("span",{className:"font-semibold text-red-600",children:[oe(_.totalOffspek||0)," Ton"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-medium text-dark-700",children:"Total:"}),i.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[oe(_.total||0)," Ton"]})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{m(!1),O(zd),S(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:h,children:N?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:x,onClose:()=>{b(!1),P(null)},onConfirm:fe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:h}),i.jsx(Pn,{isOpen:W,onClose:()=>{Y(!1),le(null)},onSubmit:V,action:te,itemName:"data produksi NPK",loading:h}),i.jsx(Nr,{isVisible:y,message:N?"Data berhasil diupdate!":"Data berhasil disimpan!",onClose:()=>v(!1)}),i.jsx(Zu,{isOpen:w,onClose:()=>k(!1),title:`Produksi NPK Granul ${e==="NPK1"?"1":"2"}`,plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",compactMode:!0,data:d,columns:[{key:"tanggal",header:"Tanggal",render:re=>gt(re),width:"80px"},{key:"shiftMalamOnspek",header:"Malam Onspek",render:re=>oe(ve(re)),align:"right",width:"70px"},{key:"shiftMalamOffspek",header:"Malam Offspek",render:re=>oe(ve(re)),align:"right",width:"70px"},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:re=>oe(ve(re)),align:"right",width:"65px"},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:re=>oe(ve(re)),align:"right",width:"65px"},{key:"shiftSoreOnspek",header:"Sore Onspek",render:re=>oe(ve(re)),align:"right",width:"65px"},{key:"shiftSoreOffspek",header:"Sore Offspek",render:re=>oe(ve(re)),align:"right",width:"45px"},{key:"totalOnspek",header:"Total Onspek",render:re=>oe(ve(re)),align:"right",width:"70px"},{key:"totalOffspek",header:"Total Offspek",render:re=>oe(ve(re)),align:"right",width:"70px"},{key:"total",header:"S. Total",render:re=>oe(ve(re)),align:"right",width:"60px"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Onspek:",getValue:re=>oe(re.reduce((J,ke)=>J+ve(ke.totalOnspek),0))+" Ton"},{label:"Total Offspek:",getValue:re=>oe(re.reduce((J,ke)=>J+ve(ke.totalOffspek),0))+" Ton"},{label:"Grand Total:",getValue:re=>oe(re.reduce((J,ke)=>J+ve(ke.total),0))+" Ton"}]}),i.jsx(Fr,{isOpen:B,onClose:()=>{F(!1),R("")},sheetName:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",recordId:L,title:"Log Aktivitas Produksi NPK"})]})},Hd={tanggal:yr(),kategori:"Fresh",formula:"",tonase:0},vO=({type:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(!1),[S,T]=j.useState(""),[P,_]=j.useState(Hd),[O,C]=j.useState("all"),[D,H]=j.useState(new Date().getMonth()),[ee,W]=j.useState(new Date().getFullYear()),Y=e==="blending"?"NPK2":"NPK1",te=e==="blending"?"Produksi Blending":"Produksi Retail",[q,ue]=j.useState(!1),[le,B]=j.useState("edit"),[F,L]=j.useState(null),[R,G]=j.useState(!1),[be,Te]=j.useState(""),ce=Ee=>{Te(Ee),G(!0)},pe=(t==null?void 0:t.role)||"",Pe=un(pe),ge=j.useCallback(()=>{if(u&&!l){const Ee=document.querySelector("form");Ee&&Ee.requestSubmit()}},[u,l]);Br(ge,u);const Ae=Nn(pe),ne=Tn(pe),E=Qr(pe),A=e==="blending"?[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]:[{value:"Retail",label:"Retail"}],M=["NPK 15-15-15","NPK 16-16-16","NPK 20-10-10","NPK 12-12-17","NPK 15-15-15-4S"],me=j.useMemo(()=>{const Ee=[...new Set(s.map(jt=>jt.formula).filter(jt=>jt&&jt!=="Tanpa Formula"))],lt=[...new Set([...M,...Ee])].sort().map(jt=>({value:jt,label:jt}));return lt.push({value:"Custom",label:"Custom (Tambah Baru)"}),lt},[s]);j.useEffect(()=>{(async()=>{var Ue,lt;c(!0);try{const{readData:jt,SHEETS:br,getSheetNameByPlant:Jt}=await st(async()=>{const{readData:Bn,SHEETS:Ur,getSheetNameByPlant:nt}=await Promise.resolve().then(()=>ot);return{readData:Bn,SHEETS:Ur,getSheetNameByPlant:nt}},void 0),dt=Jt(br.PRODUKSI_BLENDING,Y),Ct=await jt(dt);if(console.log("Raw data from backend:",(Ue=Ct.data)==null?void 0:Ue.slice(0,2)),console.log("Data keys:",(lt=Ct.data)!=null&&lt[0]?Object.keys(Ct.data[0]):"No data"),Ct.success&&Ct.data){const Ur=Ct.data.map(nt=>{Ct.data&&Ct.data.indexOf(nt)===0&&console.log("First item raw:",nt);const _i=nt.tonase??nt.Tonase??nt.total??nt.Total??nt.jumlah??nt.Jumlah??nt.ton??nt.Ton??nt.qty??nt.Qty??nt.quantity??nt.Quantity??0,oc=nt.formula??nt.Formula??nt.formulasi??nt.Formulasi??nt.jenis??nt.Jenis??nt.produk??nt.Produk??"",lc=nt.kategori??nt.Kategori??nt.tipe??nt.Tipe??nt.jenis??nt.Jenis??(e==="retail"?"Retail":"Fresh");return{...nt,id:nt.id??nt.ID??nt.Id??nt.no??nt.No,tanggal:nt.tanggal??nt.Tanggal??nt.tgl??nt.Tgl??nt.date??nt.Date??"",kategori:lc,formula:(oc||"Tanpa Formula").trim(),tonase:ve(_i),_plant:Y}}).sort((nt,_i)=>new Date(_i.tanggal).getTime()-new Date(nt.tanggal).getTime());o(Ur),console.log("Normalized data sample:",Ur.slice(0,3)),console.log("Total tonase check:",Ur.slice(0,5).map(nt=>({formula:nt.formula,tonase:nt.tonase})))}else o([])}catch(jt){console.error("Error fetching data:",jt),o([])}finally{c(!1)}})()},[e,Y]);const z=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],V=j.useMemo(()=>[...new Set(s.map(Ue=>Ue.formula).filter(Ue=>Ue&&Ue.trim()!==""))].sort(),[s]),fe=j.useMemo(()=>{const Ee=new Date().getFullYear(),Ue=s.map(br=>{const Jt=new Date(br.tanggal);return isNaN(Jt.getTime())?Ee:Jt.getFullYear()}),lt=[Ee,Ee-1,Ee-2];return[...new Set([...Ue,...lt])].sort((br,Jt)=>Jt-br)},[s]),I=j.useMemo(()=>s.filter(Ee=>{const Ue=new Date(Ee.tanggal);if(isNaN(Ue.getTime()))return!1;const lt=ee==="all"||Ue.getFullYear()===ee,jt=D==="all"||Ue.getMonth()===D;return lt&&jt}),[s,D,ee]),X=j.useMemo(()=>O==="all"?I:I.filter(Ee=>Ee.formula===O),[I,O]),re=Ee=>{const Ue=Ee.tonase;return typeof Ue=="number"&&!isNaN(Ue)?Ue:ve(Ue)},J=j.useMemo(()=>{const Ee=I.reduce((dt,Ct)=>dt+re(Ct),0),Ue=I.filter(dt=>dt.kategori==="Fresh").reduce((dt,Ct)=>dt+re(Ct),0),lt=I.filter(dt=>dt.kategori==="Oversack").reduce((dt,Ct)=>dt+re(Ct),0),jt=I.filter(dt=>dt.kategori==="Retail").reduce((dt,Ct)=>dt+re(Ct),0);let br=0,Jt=0;if(D!=="all"&&ee!=="all"){const dt=D===0?11:D-1,Ct=D===0?ee-1:ee;Jt=s.filter(Ur=>{const nt=new Date(Ur.tanggal);return isNaN(nt.getTime())?!1:nt.getMonth()===dt&&nt.getFullYear()===Ct}).reduce((Ur,nt)=>Ur+re(nt),0),br=Jt>0?(Ee-Jt)/Jt*100:0}return{totalTonase:Ee,totalFresh:Ue,totalOversack:lt,totalRetail:jt,entryCount:I.length,uniqueFormulas:new Set(I.map(dt=>dt.formula).filter(dt=>dt&&dt.trim()!=="")).size,growthPercent:br,prevTotalTonase:Jt,avgPerEntry:I.length>0?Ee/I.length:0}},[I,D,ee,s]),ke=j.useMemo(()=>{const Ee={};return I.forEach(Ue=>{const lt=Ue.formula&&Ue.formula.trim()!==""?Ue.formula:"Tanpa Formula";Ee[lt]||(Ee[lt]={total:0,fresh:0,oversack:0,retail:0,count:0,percentage:0});const jt=re(Ue);Ee[lt].total+=jt,Ee[lt].count+=1,Ue.kategori==="Fresh"?Ee[lt].fresh+=jt:Ue.kategori==="Oversack"?Ee[lt].oversack+=jt:Ue.kategori==="Retail"&&(Ee[lt].retail+=jt)}),Object.keys(Ee).forEach(Ue=>{Ee[Ue].percentage=J.totalTonase>0?Ee[Ue].total/J.totalTonase*100:0}),Ee},[I,J.totalTonase]),Ke=j.useMemo(()=>Object.entries(ke).sort(([,Ee],[,Ue])=>Ue.total-Ee.total).slice(0,10),[ke]),xe=()=>{if(D==="all"||ee==="all"){const Ee=new Date;H(Ee.getMonth()===0?11:Ee.getMonth()-1),W(Ee.getMonth()===0?Ee.getFullYear()-1:Ee.getFullYear())}else D===0?(H(11),W(Ee=>Ee-1)):H(Ee=>Ee-1)},_e=()=>{if(D==="all"||ee==="all"){const Ee=new Date;H(Ee.getMonth()===11?0:Ee.getMonth()+1),W(Ee.getMonth()===11?Ee.getFullYear()+1:Ee.getFullYear())}else D===11?(H(0),W(Ee=>Ee+1)):H(Ee=>Ee+1)},Fe=async Ee=>{Ee.preventDefault(),c(!0);try{if(b){const Ue=await n("produksi_blending",{...P,id:b,_plant:Y});if(Ue.success)o(lt=>lt.map(jt=>jt.id===b?{...P,id:b,_plant:Y}:jt));else throw new Error(Ue.error||"Gagal mengupdate data")}else{const Ue={...P,_plant:Y},lt=await r("produksi_blending",Ue);if(lt.success&&lt.data){const jt={...lt.data,_plant:Y};o(br=>[jt,...br])}else throw new Error(lt.error||"Gagal menyimpan data")}d(!1),_(Hd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Ue){console.error("Error saving data:",Ue),alert(Ue instanceof Error?Ue.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Se=Ee=>{if(Ae){L(Ee),B("edit"),ue(!0);return}_(Ee),y(Ee.id||null);const Ue=me.some(lt=>lt.value===Ee.formula&&lt.value!=="Custom");N(!Ue&&Ee.formula!==""),T(!Ue&&Ee.formula!==""?Ee.formula:""),d(!0)},Re=Ee=>{if(ne){const Ue=s.find(lt=>lt.id===Ee);Ue&&(L(Ue),B("delete"),ue(!0));return}w(Ee),h(!0)},Qe=async Ee=>{if(!(!F||!t)){c(!0);try{const{createData:Ue,SHEETS:lt}=await st(async()=>{const{createData:Jt,SHEETS:dt}=await Promise.resolve().then(()=>ot);return{createData:Jt,SHEETS:dt}},void 0),jt={type:"produksi_blending",action:le,itemId:F.id,itemData:F,targetSheet:e==="retail"?"produksi_blending_NPK1":"produksi_blending",reason:Ee,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},br=await Ue(lt.APPROVAL_REQUESTS,jt);if(br.success)ue(!1),L(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(br.error||"Gagal mengirim permintaan")}catch(Ue){console.error("Error submitting approval:",Ue),alert(Ue instanceof Error?Ue.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},et=async()=>{if(v){c(!0);try{const Ee=await a("produksi_blending",{id:v,_plant:Y});if(Ee.success)o(Ue=>Ue.filter(lt=>lt.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Ee.error||"Gagal menghapus data")}catch(Ee){console.error("Error deleting data:",Ee),alert(Ee instanceof Error?Ee.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Je=()=>{_(Hd),y(null),N(!1),T(""),d(!0)},ut=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Ee=>gt(Ee)},{key:"kategori",header:"Kategori",render:Ee=>i.jsx(Ze,{variant:Ee==="Fresh"?"success":Ee==="Oversack"?"warning":"primary",children:Ee})},{key:"formula",header:"Formula"},{key:"tonase",header:"Tonase",render:Ee=>i.jsxs("span",{className:"font-semibold",children:[oe(ve(Ee))," Ton"]})}],ur=Ee=>{const Ue=["from-blue-500 to-blue-600","from-emerald-500 to-emerald-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600","from-rose-500 to-rose-600","from-cyan-500 to-cyan-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600"];return Ue[Ee%Ue.length]};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:te}),i.jsx(Ze,{variant:Y==="NPK1"?"primary":"success",children:Y})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data ",te.toLowerCase()," untuk ",Y]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),Pe&&i.jsxs(ye,{onClick:Je,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsx(Ie,{className:"overflow-hidden",children:i.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-900 dark:from-dark-700 dark:to-dark-800 p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:i.jsx(Px,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Laporan Produksi"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("button",{onClick:xe,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(V2,{className:"h-5 w-5 text-white"})}),i.jsxs("h2",{className:"text-2xl font-bold text-white min-w-[200px] text-center",children:[D==="all"?"Semua Bulan":z[D]," ",ee==="all"?"Semua Tahun":ee]}),i.jsx("button",{onClick:_e,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(z2,{className:"h-5 w-5 text-white"})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:D.toString(),onChange:Ee=>H(Ee.target.value==="all"?"all":Number(Ee.target.value)),options:[{value:"all",label:"Semua Bulan"},...z.map((Ee,Ue)=>({value:Ue.toString(),label:Ee}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"}),i.jsx(at,{value:ee.toString(),onChange:Ee=>W(Ee.target.value==="all"?"all":Number(Ee.target.value)),options:[{value:"all",label:"Semua Tahun"},...fe.map(Ee=>({value:Ee.toString(),label:Ee.toString()}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(vh,{className:"h-4 w-4 text-white/70"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Total Produksi"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[oe(J.totalTonase),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),J.growthPercent!==0&&i.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${J.growthPercent>0?"text-green-300":"text-red-300"}`,children:[J.growthPercent>0?i.jsx(Ji,{className:"h-3 w-3"}):i.jsx(uH,{className:"h-3 w-3"}),i.jsxs("span",{children:[Math.abs(J.growthPercent).toFixed(1),"% dari bulan lalu"]})]})]}),e==="blending"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Gp,{className:"h-4 w-4 text-green-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Fresh"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[oe(J.totalFresh),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[J.totalTonase>0?(J.totalFresh/J.totalTonase*100).toFixed(1):0,"% dari total"]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Rb,{className:"h-4 w-4 text-amber-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Oversack"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[oe(J.totalOversack),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[J.totalTonase>0?(J.totalOversack/J.totalTonase*100).toFixed(1):0,"% dari total"]})]})]}):i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Gp,{className:"h-4 w-4 text-blue-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Retail"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[oe(J.totalRetail),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(SH,{className:"h-4 w-4 text-violet-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Jenis Formula"})]}),i.jsx("p",{className:"text-2xl font-bold text-white",children:J.uniqueFormulas}),i.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Formula berbeda"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Do,{className:"h-4 w-4 text-cyan-300"}),i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Rata-rata"})]}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[oe(J.avgPerEntry),i.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Per entry (",J.entryCount," data)"]})]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YD,{className:"h-5 w-5 text-dark-500"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Statistik per Formula"})]}),i.jsx(at,{value:O,onChange:Ee=>C(Ee.target.value),options:[{value:"all",label:"Semua Formula"},...V.map(Ee=>({value:Ee,label:Ee}))],className:"min-w-[200px]"})]}),Ke.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ke.map(([Ee,Ue],lt)=>i.jsxs(Ie,{className:`overflow-hidden cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg ${O===Ee?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onClick:()=>C(O===Ee?"all":Ee),children:[i.jsxs("div",{className:`bg-gradient-to-br ${ur(lt)} p-4`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"bg-white/20 rounded-lg px-2 py-1",children:i.jsxs("span",{className:"text-white text-xs font-medium",children:["#",lt+1]})}),i.jsx(mh,{className:"h-5 w-5 text-white/70"})]}),i.jsx("h4",{className:"text-white font-bold text-lg mt-3 truncate",title:Ee,children:Ee}),i.jsxs("p",{className:"text-white/70 text-sm",children:[Ue.count," entry data"]})]}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400 text-sm",children:"Total Tonase"}),i.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[oe(Ue.total)," Ton"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kontribusi"}),i.jsxs("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:[Ue.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full bg-gradient-to-r ${ur(lt)} rounded-full transition-all duration-500`,style:{width:`${Math.min(Ue.percentage,100)}%`}})})]}),e==="blending"&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Fresh"}),i.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400 text-sm",children:[oe(Ue.fresh)," T"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Oversack"}),i.jsxs("p",{className:"font-semibold text-amber-600 dark:text-amber-400 text-sm",children:[oe(Ue.oversack)," T"]})]})]})]})]},Ee))}):i.jsxs(Ie,{className:"p-8 text-center",children:[i.jsx(vh,{className:"h-12 w-12 text-dark-300 mx-auto mb-3"}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Tidak ada data produksi untuk bulan"," ",z[D]," ",ee]})]})]}),O!=="all"&&ke[O]&&i.jsxs(Ie,{className:"overflow-hidden",children:[i.jsx(Nt,{className:"bg-gradient-to-r from-primary-500 to-primary-600",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:i.jsx(Gp,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsxs(Tt,{className:"text-white",children:["Detail Formula: ",O]}),i.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["Data untuk"," ",D==="all"?"semua bulan":`bulan ${z[D]}`," ",ee==="all"?"semua tahun":ee]})]})]}),i.jsx(ye,{variant:"secondary",size:"sm",onClick:()=>C("all"),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:"Lihat Semua"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Total Tonase"}),i.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[oe(ke[O].total),i.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Jumlah Entry"}),i.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:ke[O].count})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Rata-rata/Entry"}),i.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[oe(ke[O].total/ke[O].count),i.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Kontribusi"}),i.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[ke[O].percentage.toFixed(1),i.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"%"})]})]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs(Tt,{children:["Data ",te," - Semua Data",O!=="all"&&i.jsx(Ze,{variant:"primary",className:"ml-2",children:O})]}),i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:[s.length," data total"]})]})}),i.jsx(Lr,{data:s.filter(Ee=>O==="all"||Ee.formula===O),columns:ut,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, formula, kategori, tonase...",searchKeys:["tanggal","formula","kategori","tonase"],actions:E?Ee=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),ce(Ee.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):Ee=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),ce(Ee.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),Se(Ee)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),Re(Ee.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),_(Hd),y(null)},title:b?`Edit Data ${te}`:`Tambah Data ${te}`,size:"md",children:i.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:P.tanggal,onChange:Ee=>_(Ue=>({...Ue,tanggal:Ee.target.value})),required:!0}),i.jsx(at,{label:"Kategori",value:P.kategori,onChange:Ee=>_(Ue=>({...Ue,kategori:Ee.target.value})),options:A,required:!0}),i.jsx(at,{label:"Formula",value:k?"Custom":P.formula,onChange:Ee=>{const Ue=Ee.target.value;Ue==="Custom"?(N(!0),T("")):(N(!1),_(lt=>({...lt,formula:Ue})))},options:me,placeholder:"Pilih formula",required:!0}),k&&i.jsx(Oe,{label:"Formula Custom",type:"text",value:S,onChange:Ee=>{T(Ee.target.value),_(Ue=>({...Ue,formula:Ee.target.value}))},placeholder:"Masukkan formula custom (contoh: NPK 18-18-18)",required:!0}),i.jsx(Oe,{label:"Tonase (Ton)",type:"number",value:P.tonase,onChange:Ee=>_(Ue=>({...Ue,tonase:Number(Ee.target.value)})),min:"0",step:"0.01",required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),_(Hd),y(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:et,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:q,onClose:()=>{ue(!1),L(null)},onSubmit:Qe,action:le,itemName:"data produksi blending",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:m,onClose:()=>x(!1),title:`${te} - ${z[D]} ${ee}${O!=="all"?` (${O})`:""}`,plant:Y==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:X,columns:[{key:"tanggal",header:"Tanggal",render:Ee=>gt(Ee),width:"80px"},{key:"kategori",header:"Kategori",width:"70px"},{key:"formula",header:"Formula",width:"120px"},{key:"tonase",header:"Tonase (Ton)",render:Ee=>oe(ve(Ee)),align:"right",width:"80px"}],filters:e==="blending"?{kategori:{label:"Kategori",options:[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]}}:void 0,signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:Ee=>oe(Ee.reduce((Ue,lt)=>Ue+ve(lt.tonase),0))+" Ton"}]}),i.jsx(Fr,{isOpen:R,onClose:()=>{G(!1),Te("")},sheetName:e==="blending"?"produksi_blending":"produksi_blending_NPK1",recordId:be,title:`Log Aktivitas ${te}`})]})},Wd={tanggal:yr(),formulasi:"",tonase:0},iTe=()=>{const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=en(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(null),[w,k]=j.useState(Wd),[N,S]=j.useState(""),[T,P]=j.useState(new Date().getFullYear()),[_,O]=j.useState(new Date().getMonth()),[C,D]=j.useState(!1),[H,ee]=j.useState("edit"),[W,Y]=j.useState(null),[te,q]=j.useState(!1),[ue,le]=j.useState(""),B=V=>{le(V),q(!0)},F=(e==null?void 0:e.role)||"",L=un(F),R=j.useCallback(()=>{if(c&&!o){const V=document.querySelector("form");V&&V.requestSubmit()}},[c,o]);Br(R,c);const G=Nn(F),be=Tn(F),Te=Qr(F);j.useEffect(()=>{(async()=>{l(!0);try{const{readData:fe,SHEETS:I}=await st(async()=>{const{readData:re,SHEETS:J}=await Promise.resolve().then(()=>ot);return{readData:re,SHEETS:J}},void 0),X=await fe(I.PRODUKSI_NPK_MINI);if(X.success&&X.data){const re=X.data.map(J=>({...J,_plant:"NPK2"})).sort((J,ke)=>new Date(ke.tanggal).getTime()-new Date(J.tanggal).getTime());s(re)}else s([])}catch(fe){console.error("Error fetching data:",fe),s([])}finally{l(!1)}})()},[]);const ce=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],pe=j.useMemo(()=>{const V=new Date().getFullYear(),fe=a.map(re=>{const J=new Date(re.tanggal);return isNaN(J.getTime())?V:J.getFullYear()}),I=[V,V-1,V-2];return[...new Set([...fe,...I])].sort((re,J)=>J-re)},[a]),Pe=j.useMemo(()=>a.filter(V=>{const fe=new Date(V.tanggal);return!isNaN(fe.getTime())&&fe.getFullYear()===T}),[a,T]),ge=j.useMemo(()=>{const V=Pe.filter(X=>new Date(X.tanggal).getMonth()===_),fe=V.reduce((X,re)=>X+ve(re.tonase),0),I=new Set(V.map(X=>X.formulasi)).size;return{monthName:ce[_],year:T,total:fe,formulasiCount:I,entryCount:V.length}},[Pe,T,_]),Ae=async V=>{V.preventDefault(),l(!0);const fe=parseFloat(N.replace(",","."))||0,I={...w,tonase:fe};try{if(x){const X=await r("produksi_npk_mini",{...I,id:x,_plant:"NPK2"});if(X.success)s(re=>re.map(J=>J.id===x?{...I,id:x,_plant:"NPK2"}:J));else throw new Error(X.error||"Gagal mengupdate data")}else{const X={...I,_plant:"NPK2"},re=await t("produksi_npk_mini",X);if(re.success&&re.data){const J={...re.data,_plant:"NPK2"};s(ke=>[J,...ke])}else throw new Error(re.error||"Gagal menyimpan data")}u(!1),k(Wd),S(""),b(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(X){console.error("Error saving data:",X),alert(X instanceof Error?X.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},ne=V=>{if(G){Y(V),ee("edit"),D(!0);return}k(V),S(V.tonase?String(V.tonase):""),b(V.id||null),u(!0)},E=V=>{if(be){const fe=a.find(I=>I.id===V);fe&&(Y(fe),ee("delete"),D(!0));return}v(V),f(!0)},A=async V=>{if(!(!W||!e)){l(!0);try{const{createData:fe,SHEETS:I}=await st(async()=>{const{createData:J,SHEETS:ke}=await Promise.resolve().then(()=>ot);return{createData:J,SHEETS:ke}},void 0),X={type:"produksi_npk_mini",action:H,itemId:W.id,itemData:W,targetSheet:"produksi_npk_mini",reason:V,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},re=await fe(I.APPROVAL_REQUESTS,X);if(re.success)D(!1),Y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(re.error||"Gagal mengirim permintaan")}catch(fe){console.error("Error submitting approval:",fe),alert(fe instanceof Error?fe.message:"Gagal mengirim permintaan approval")}finally{l(!1)}}},M=async()=>{if(y){l(!0);try{const V=await n("produksi_npk_mini",{id:y,_plant:"NPK2"});if(V.success)s(fe=>fe.filter(I=>I.id!==y)),f(!1),v(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(V.error||"Gagal menghapus data")}catch(V){console.error("Error deleting data:",V),alert(V instanceof Error?V.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},me=()=>{k(Wd),S(""),b(null),u(!0)},z=[{key:"tanggal",header:"Tanggal",sortable:!0,render:V=>gt(V)},{key:"formulasi",header:"Formulasi"},{key:"tonase",header:"Tonase",render:V=>i.jsxs("span",{className:"font-semibold text-primary-600",children:[oe(ve(V))," Ton"]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Mini"}),i.jsx(Ze,{variant:"success",children:"NPK2"})]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data produksi NPK Mini untuk NPK2"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),L&&i.jsxs(ye,{onClick:me,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"rounded-xl p-4 sm:p-5 text-white shadow-md bg-gradient-to-r from-green-500 to-green-600",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(Px,{className:"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight",children:["Produksi Bulan ",ge.monthName," ",ge.year]}),i.jsxs("p",{className:"text-white/80 text-xs sm:text-sm",children:[ge.entryCount," entry data"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("select",{value:_,onChange:V=>O(Number(V.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 flex-1 min-w-0",children:ce.map((V,fe)=>i.jsx("option",{value:fe,className:"text-dark-900",children:V},fe))}),i.jsx("select",{value:T,onChange:V=>P(Number(V.target.value)),className:"bg-white/20 border border-white/30 text-white rounded-lg px-2.5 py-1.5 text-xs sm:text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50 w-20 sm:w-24",children:pe.map(V=>i.jsx("option",{value:V,className:"text-dark-900",children:V},V))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Total"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:oe(ge.total)}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Ton"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 backdrop-blur-sm text-center",children:[i.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs uppercase tracking-wide",children:"Formulasi"}),i.jsx("p",{className:"text-base sm:text-lg font-bold leading-tight",children:ge.formulasiCount}),i.jsx("p",{className:"text-white/70 text-[10px] sm:text-xs",children:"Jenis"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total Tonase (",T,")"]}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:[oe(Pe.reduce((V,fe)=>V+ve(fe.tonase),0)),i.jsx("span",{className:"text-xs sm:text-sm font-normal text-dark-400 ml-1",children:"Ton"})]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Formulasi (",T,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(Pe.map(V=>V.formulasi)).size})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Entry (",T,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:Pe.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(Tt,{children:"Data Produksi NPK Mini"})})}),i.jsx(Lr,{data:a,columns:z,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, formulasi, tonase...",searchKeys:["tanggal","formulasi","tonase"],actions:Te?V=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:fe=>{fe.stopPropagation(),B(V.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):V=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:fe=>{fe.stopPropagation(),B(V.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:fe=>{fe.stopPropagation(),ne(V)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:fe=>{fe.stopPropagation(),E(V.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),k(Wd),S(""),b(null)},title:x?"Edit Data NPK Mini":"Tambah Data NPK Mini",size:"md",children:i.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:w.tanggal,onChange:V=>k(fe=>({...fe,tanggal:V.target.value})),required:!0}),i.jsx(Oe,{label:"Formulasi",type:"text",value:w.formulasi,onChange:V=>k(fe=>({...fe,formulasi:V.target.value})),placeholder:"Masukkan formulasi (contoh: NPK Mini 15-15-15)",required:!0}),i.jsx(Oe,{label:"Tonase (Ton)",type:"text",inputMode:"decimal",value:N,onChange:V=>{let fe=V.target.value;fe=fe.replace(/[^0-9.,]/g,"");const I=fe.replace(",",".");(I===""||/^\d*\.?\d{0,2}$/.test(I))&&S(fe)},placeholder:"0",required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{u(!1),k(Wd),S(""),b(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:o,children:x?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:d,onClose:()=>{f(!1),v(null)},onConfirm:M,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),i.jsx(Pn,{isOpen:C,onClose:()=>{D(!1),Y(null)},onSubmit:A,action:H,itemName:"data produksi NPK Mini",loading:o}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),i.jsx(Zu,{isOpen:g,onClose:()=>m(!1),title:"Produksi NPK Mini",plant:"NPK Plant 2",data:a,columns:[{key:"tanggal",header:"Tanggal",render:V=>gt(V),width:"100px"},{key:"formulasi",header:"Formulasi",width:"150px"},{key:"tonase",header:"Tonase (Ton)",render:V=>oe(ve(V)),align:"right",width:"100px"}],signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:V=>oe(V.reduce((fe,I)=>fe+ve(I.tonase),0))+" Ton"}]}),i.jsx(Fr,{isOpen:te,onClose:()=>{q(!1),le("")},sheetName:"produksi_npk_mini",recordId:ue,title:"Log Aktivitas Produksi NPK Mini"})]})},l1=new Date().getFullYear(),sTe=[...Array.from({length:l1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(l1+1),label:String(l1+1)}],Gd={tanggal:yr(),item:"",deskripsi:"",jamOff:"",jamStart:"",downtime:0},yO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Gd),[k,N]=j.useState(String(new Date().getFullYear())),[S,T]=j.useState(!1),[P,_]=j.useState("edit"),[O,C]=j.useState(null),[D,H]=j.useState(!1),[ee,W]=j.useState(!1),[Y,te]=j.useState(""),q=E=>{te(E),W(!0)},ue=(t==null?void 0:t.role)||"",le=un(ue),B=j.useCallback(()=>{if(u&&!l){const E=document.querySelector("form");E&&E.requestSubmit()}},[u,l]);Br(B,u);const F=Nn(ue),L=Tn(ue),R=Qr(ue);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:A,SHEETS:M,getSheetNameByPlant:me}=await st(async()=>{const{readData:fe,SHEETS:I,getSheetNameByPlant:X}=await Promise.resolve().then(()=>ot);return{readData:fe,SHEETS:I,getSheetNameByPlant:X}},void 0),z=me(M.DOWNTIME,e),V=await A(z);if(V.success&&V.data){const fe=V.data.map(I=>({...I,_plant:e})).sort((I,X)=>new Date(X.tanggal).getTime()-new Date(I.tanggal).getTime());o(fe)}else o([])}catch(A){console.error("Error fetching data:",A),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(v.jamOff&&v.jamStart){const E=k5(v.jamOff,v.jamStart);w(A=>({...A,downtime:E}))}},[v.jamOff,v.jamStart]);const G=async E=>{E.preventDefault(),c(!0);try{if(m){const A={...v,id:m,_plant:e},M=await n("downtime",A);if(M.success)o(me=>me.map(z=>z.id===m?{...v,id:m,_plant:e}:z));else throw new Error(M.error||"Gagal mengupdate data")}else{const A={...v,_plant:e},M=await r("downtime",A);if(M.success&&M.data){const me={...M.data,_plant:e};o(z=>[me,...z])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),w(Gd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(A){console.error("Error saving data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},be=E=>{if(F){C(E),_("edit"),T(!0);return}w(E),x(E.id||null),d(!0)},Te=E=>{if(L){const A=s.find(M=>M.id===E);A&&(C(A),_("delete"),T(!0));return}y(E),h(!0)},ce=async E=>{if(!(!O||!t)){c(!0);try{const A="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",M={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:P,targetSheet:"DOWNTIME",targetId:O.id,targetData:JSON.stringify(O),reason:E,status:"pending",requestedAt:new Date().toISOString()}};await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),T(!1),C(null)}catch(A){console.error("Error submitting approval:",A),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},pe=async()=>{if(b){c(!0);try{const E=await a("downtime",{id:b,_plant:e});if(E.success)o(A=>A.filter(M=>M.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(E.error||"Gagal menghapus data")}catch(E){console.error("Error deleting data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Pe=()=>{w(Gd),x(null),d(!0)},ge=s.filter(E=>new Date(E.tanggal).getFullYear()===parseInt(k)),Ae=ge.reduce((E,A)=>E+ve(A.downtime),0),ne=[{key:"tanggal",header:"Tanggal",sortable:!0,render:E=>gt(E)},{key:"item",header:"Equipment"},{key:"deskripsi",header:"Deskripsi"},{key:"jamOff",header:"Jam Off",render:E=>sa(E)},{key:"jamStart",header:"Jam Start",render:E=>sa(E)},{key:"downtime",header:"Downtime (Jam)",render:E=>i.jsxs("span",{className:"font-semibold text-amber-600",children:[oe(ve(E))," Jam"]})},{key:"_plant",header:"Plant",render:E=>i.jsx(Ze,{variant:E==="NPK1"?"primary":"success",children:E})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Downtime"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data downtime equipment untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>H(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),le&&i.jsxs(ye,{onClick:Pe,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Downtime"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[oe(Ae)," Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Kejadian"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:ge.length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Rata-rata Downtime"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:[oe(ge.length>0?Ae/ge.length:0)," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Equipment Terdampak"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(ge.map(E=>E.item)).size})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Downtime - Tahun ",k]}),i.jsx(at,{value:k,onChange:E=>N(E.target.value),options:sTe,className:"w-32"})]})}),i.jsx(Lr,{data:ge,columns:ne,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, deskripsi, plant...",searchKeys:["tanggal","item","deskripsi","jamOff","jamStart","downtime","_plant"],actions:R?E=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),q(E.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):E=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),q(E.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),be(E)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),Te(E.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Gd),x(null)},title:m?"Edit Data Downtime":"Tambah Data Downtime",size:"md",children:i.jsxs("form",{onSubmit:G,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:E=>w(A=>({...A,tanggal:E.target.value})),required:!0}),i.jsx(Oe,{label:"Equipment",type:"text",value:v.item,onChange:E=>w(A=>({...A,item:E.target.value})),placeholder:"Nama equipment",required:!0}),i.jsx(Oe,{label:"Deskripsi",type:"text",value:v.deskripsi,onChange:E=>w(A=>({...A,deskripsi:E.target.value})),placeholder:"Deskripsi kejadian downtime",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Jam Off",type:"time",value:v.jamOff,onChange:E=>w(A=>({...A,jamOff:E.target.value})),required:!0}),i.jsx(Oe,{label:"Jam Start",type:"time",value:v.jamStart,onChange:E=>w(A=>({...A,jamStart:E.target.value})),required:!0})]}),i.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[i.jsx("span",{className:"font-medium",children:"Downtime (Auto):"})," ",oe(v.downtime||0)," Jam"]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Gd),x(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:pe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:S,onClose:()=>{T(!1),C(null)},onSubmit:ce,action:P,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:D,onClose:()=>H(!1),title:`Downtime ${e}`,data:s,columns:[{key:"tanggal",header:"Tanggal",render:E=>gt(E),align:"center"},{key:"item",header:"Equipment",align:"left"},{key:"deskripsi",header:"Deskripsi",align:"left"},{key:"jamOff",header:"Jam Off",render:E=>sa(E),align:"center"},{key:"jamStart",header:"Jam Start",render:E=>sa(E),align:"center"},{key:"downtime",header:"Downtime (Jam)",render:E=>oe(ve(E)),align:"right"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Downtime",getValue:E=>oe(E.reduce((A,M)=>A+ve(M.downtime),0))+" Jam"}],plant:e,compactMode:!0}),i.jsx(Fr,{isOpen:ee,onClose:()=>{W(!1),te("")},sheetName:e==="NPK1"?"downtime_NPK1":"downtime",recordId:Y,title:"Log Aktivitas Downtime"})]})},c1=new Date().getFullYear(),oTe=[...Array.from({length:c1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(c1+1),label:String(c1+1)}],qd={tanggal:yr(),forklift:"",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},bO=(e,t)=>{let r=e.keterangan;return!r&&e.jamOff&&e.jamStart&&(r=dh(e.jamOff,e.jamStart)<=2?"Operasi":"Grounded"),{...e,_plant:t,keterangan:r}},wO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(qd),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[O,C]=j.useState("edit"),[D,H]=j.useState(null),[ee,W]=j.useState(!1),[Y,te]=j.useState(""),q=E=>{te(E),W(!0)},ue=(t==null?void 0:t.role)||"",le=un(ue),B=j.useCallback(()=>{if(u&&!l){const E=document.querySelector("form");E&&E.requestSubmit()}},[u,l]);Br(B,u);const F=Nn(ue),L=Tn(ue),R=Qr(ue),G=e==="NPK1"?[{value:"F15",label:"F15"},{value:"F16",label:"F16"},{value:"F17",label:"F17"},{value:"F18",label:"F18"},{value:"ALL",label:"Semua Forklift"}]:[{value:"F19",label:"F19"},{value:"F20",label:"F20"},{value:"F21",label:"F21"},{value:"F22",label:"F22"},{value:"F23",label:"F23"},{value:"ALL",label:"Semua Forklift"}];j.useEffect(()=>{(async()=>{c(!0);try{const{readData:A,SHEETS:M,getSheetNameByPlant:me}=await st(async()=>{const{readData:fe,SHEETS:I,getSheetNameByPlant:X}=await Promise.resolve().then(()=>ot);return{readData:fe,SHEETS:I,getSheetNameByPlant:X}},void 0),z=me(M.TIMESHEET_FORKLIFT,e),V=await A(z);if(V.success&&V.data){const fe=V.data.map(I=>bO(I,e)).sort((I,X)=>new Date(X.tanggal).getTime()-new Date(I.tanggal).getTime());o(fe)}else o([])}catch(A){console.error("Error fetching data:",A),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(k.jamOff&&k.jamStart){const E=dh(k.jamOff,k.jamStart),A=Math.max(0,20-E);N(M=>({...M,jamGrounded:E,jamOperasi:A,keterangan:E<=2?"Operasi":"Grounded"}))}},[k.jamOff,k.jamStart]);const be=async E=>{E.preventDefault(),c(!0);try{const{readData:A,SHEETS:M,getSheetNameByPlant:me}=await st(async()=>{const{readData:V,SHEETS:fe,getSheetNameByPlant:I}=await Promise.resolve().then(()=>ot);return{readData:V,SHEETS:fe,getSheetNameByPlant:I}},void 0),z=me(M.TIMESHEET_FORKLIFT,e);if(k.forklift==="ALL"&&!b){const V=e==="NPK1"?["F15","F16","F17","F18"]:["F19","F20","F21","F22","F23"];for(const I of V){const X={...k,forklift:I,_plant:e};await r("timesheet_forklift",X)}const fe=await A(z);if(fe.success&&fe.data){const I=fe.data.map(X=>bO(X,e)).sort((X,re)=>new Date(re.tanggal).getTime()-new Date(X.tanggal).getTime());o(I)}}else if(b){const V={...k,id:b,_plant:e},fe=await n("timesheet_forklift",V);if(fe.success)o(I=>I.map(X=>X.id===b?{...k,id:b,_plant:e}:X));else throw new Error(fe.error||"Gagal mengupdate data")}else{const V={...k,_plant:e},fe=await r("timesheet_forklift",V);if(fe.success&&fe.data){const I={...fe.data,_plant:e};o(X=>[I,...X])}else throw new Error(fe.error||"Gagal menyimpan data")}d(!1),N(qd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(A){console.error("Error saving data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Te=E=>{if(F){H(E),C("edit"),_(!0);return}N(E),y(E.id||null),d(!0)},ce=E=>{if(L){const A=s.find(M=>M.id===E);A&&(H(A),C("delete"),_(!0));return}w(E),h(!0)},pe=async E=>{if(!(!D||!t)){c(!0);try{const A="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",M={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:O,targetSheet:"TIMESHEET_FORKLIFT",targetId:D.id,targetData:JSON.stringify(D),reason:E,status:"pending",requestedAt:new Date().toISOString()}};await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),_(!1),H(null)}catch(A){console.error("Error submitting approval:",A),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Pe=async()=>{if(v){c(!0);try{const E=await a("timesheet_forklift",{id:v,_plant:e});if(E.success)o(A=>A.filter(M=>M.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(E.error||"Gagal menghapus data")}catch(E){console.error("Error deleting data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ge=()=>{N(qd),y(null),d(!0)},Ae=s.filter(E=>new Date(E.tanggal).getFullYear()===parseInt(S)),ne=[{key:"tanggal",header:"Tanggal",sortable:!0,render:E=>gt(E)},{key:"forklift",header:"Forklift",render:E=>i.jsx(Ze,{variant:"primary",children:E})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:E=>sa(E)},{key:"jamStart",header:"Jam Start",render:E=>sa(E)},{key:"jamGrounded",header:"Jam Grounded",render:E=>i.jsx("span",{className:"font-semibold text-amber-600",children:oe(ve(E))})},{key:"jamOperasi",header:"Jam Operasi",render:E=>i.jsx("span",{className:"font-semibold text-secondary-600",children:oe(ve(E))})},{key:"keterangan",header:"Status",render:E=>i.jsx(Ze,{variant:E==="Operasi"?"success":"warning",children:E})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Forklift"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet forklift harian untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),le&&i.jsxs(ye,{onClick:ge,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Grounded"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[oe(Ae.reduce((E,A)=>E+ve(A.jamGrounded),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Operasi"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary-600",children:[oe(Ae.reduce((E,A)=>E+ve(A.jamOperasi),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Forklift Aktif"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(Ae.map(E=>E.forklift)).size})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:Ae.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx(Tt,{children:"Data Timesheet Forklift"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsx(at,{value:S,onChange:E=>T(E.target.value),options:oTe,className:"w-full sm:w-28"})})]})}),i.jsx(Lr,{data:Ae,columns:ne,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, forklift, deskripsi, status...",searchKeys:["tanggal","forklift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi","keterangan"],actions:R?E=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),q(E.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):E=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),q(E.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),Te(E)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),ce(E.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),N(qd),y(null)},title:b?"Edit Timesheet Forklift":"Tambah Timesheet Forklift",size:"md",children:i.jsxs("form",{onSubmit:be,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:k.tanggal,onChange:E=>N(A=>({...A,tanggal:E.target.value})),required:!0}),i.jsx(at,{label:"Forklift",value:k.forklift,onChange:E=>N(A=>({...A,forklift:E.target.value})),options:b?G.filter(E=>E.value!=="ALL"):G,placeholder:"Pilih forklift",required:!0}),i.jsx(Oe,{label:"Deskripsi Temuan",type:"text",value:k.deskripsiTemuan,onChange:E=>N(A=>({...A,deskripsiTemuan:E.target.value})),placeholder:"Deskripsi temuan/kejadian"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Jam Off",type:"time",value:k.jamOff,onChange:E=>N(A=>({...A,jamOff:E.target.value})),required:!0}),i.jsx(Oe,{label:"Jam Start",type:"time",value:k.jamStart,onChange:E=>N(A=>({...A,jamStart:E.target.value})),required:!0})]}),i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),i.jsxs("span",{className:"font-semibold text-amber-600",children:[oe(k.jamGrounded||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),i.jsxs("span",{className:"font-semibold text-secondary-600",children:[oe(k.jamOperasi||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),i.jsx(Ze,{variant:k.keterangan==="Operasi"?"success":"warning",children:k.keterangan||"-"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(qd),y(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:Pe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:P,onClose:()=>{_(!1),H(null)},onSubmit:pe,action:O,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:m,onClose:()=>x(!1),title:"Timesheet Forklift",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:s,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:E=>gt(E),width:"65px"},{key:"forklift",header:"Forklift",width:"45px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Off",render:E=>sa(E),width:"40px"},{key:"jamStart",header:"Start",render:E=>sa(E),width:"40px"},{key:"jamGrounded",header:"Grounded",render:E=>oe(ve(E)),align:"right",width:"50px"},{key:"jamOperasi",header:"Operasi",render:E=>oe(ve(E)),align:"right",width:"45px"},{key:"keterangan",header:"Status",width:"55px"}],filters:{forklift:{label:"Forklift",options:G.filter(E=>E.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Jam Grounded:",getValue:E=>oe(E.reduce((A,M)=>A+ve(M.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:E=>oe(E.reduce((A,M)=>A+ve(M.jamOperasi),0))+" Jam"}]}),i.jsx(Fr,{isOpen:ee,onClose:()=>{W(!1),te("")},sheetName:e==="NPK1"?"timesheet_forklift_NPK1":"timesheet_forklift",recordId:Y,title:"Log Aktivitas Timesheet Forklift"})]})},u1=new Date().getFullYear(),lTe=[...Array.from({length:u1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(u1+1),label:String(u1+1)}],Yd={tanggal:yr(),shift:"Malam",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},d1=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"},{value:"ALL",label:"Semua Shift"}],xk=e=>e==="Malam"?8:7,kO=(e,t)=>{let r=e.keterangan;if(!r&&e.jamOff&&e.jamStart){const n=dh(e.jamOff,e.jamStart),a=xk(e.shift||"Malam");r=Math.max(0,a-n)<a?"Grounded":"Operasi"}return{...e,_plant:t,keterangan:r}},jO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(Yd),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[O,C]=j.useState("edit"),[D,H]=j.useState(null),[ee,W]=j.useState(!1),[Y,te]=j.useState(""),q=ne=>{te(ne),W(!0)},ue=(t==null?void 0:t.role)||"",le=un(ue),B=j.useCallback(()=>{if(u&&!l){const ne=document.querySelector("form");ne&&ne.requestSubmit()}},[u,l]);Br(B,u);const F=Nn(ue),L=Tn(ue),R=Qr(ue);j.useEffect(()=>{(async()=>{c(!0);try{const{readData:E,SHEETS:A,getSheetNameByPlant:M}=await st(async()=>{const{readData:V,SHEETS:fe,getSheetNameByPlant:I}=await Promise.resolve().then(()=>ot);return{readData:V,SHEETS:fe,getSheetNameByPlant:I}},void 0),me=M(A.TIMESHEET_LOADER,e),z=await E(me);if(z.success&&z.data){const V=z.data.map(fe=>kO(fe,e)).sort((fe,I)=>new Date(I.tanggal).getTime()-new Date(fe.tanggal).getTime());o(V)}else o([])}catch(E){console.error("Error fetching data:",E),o([])}finally{c(!1)}})()},[e]),j.useEffect(()=>{if(k.jamOff&&k.jamStart){const ne=dh(k.jamOff,k.jamStart),E=xk(k.shift),A=Math.max(0,E-ne),M=A<E?"Grounded":"Operasi";N(me=>({...me,jamGrounded:ne,jamOperasi:A,keterangan:M}))}},[k.jamOff,k.jamStart,k.shift]);const G=async ne=>{ne.preventDefault(),c(!0);try{const{readData:E,SHEETS:A,getSheetNameByPlant:M}=await st(async()=>{const{readData:z,SHEETS:V,getSheetNameByPlant:fe}=await Promise.resolve().then(()=>ot);return{readData:z,SHEETS:V,getSheetNameByPlant:fe}},void 0),me=M(A.TIMESHEET_LOADER,e);if(k.shift==="ALL"&&!b){const z=["Malam","Pagi","Sore"];for(const fe of z){const I=xk(fe),X=dh(k.jamOff,k.jamStart),re=Math.max(0,I-X),J=re<I?"Grounded":"Operasi",ke={...k,shift:fe,jamGrounded:X,jamOperasi:re,keterangan:J,_plant:e};await r("timesheet_loader",ke)}const V=await E(me);if(V.success&&V.data){const fe=V.data.map(I=>kO(I,e)).sort((I,X)=>new Date(X.tanggal).getTime()-new Date(I.tanggal).getTime());o(fe)}}else if(b){const z={...k,id:b,_plant:e},V=await n("timesheet_loader",z);if(V.success)o(fe=>fe.map(I=>I.id===b?{...k,id:b,_plant:e}:I));else throw new Error(V.error||"Gagal mengupdate data")}else{const z={...k,_plant:e},V=await r("timesheet_loader",z);if(V.success&&V.data){const fe={...V.data,_plant:e};o(I=>[fe,...I])}else throw new Error(V.error||"Gagal menyimpan data")}d(!1),N(Yd),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(E){console.error("Error saving data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},be=ne=>{if(F){H(ne),C("edit"),_(!0);return}N(ne),y(ne.id||null),d(!0)},Te=ne=>{if(L){const E=s.find(A=>A.id===ne);E&&(H(E),C("delete"),_(!0));return}w(ne),h(!0)},ce=async ne=>{if(!(!D||!t)){c(!0);try{const E="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",A={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:O,targetSheet:"TIMESHEET_LOADER",targetId:D.id,targetData:JSON.stringify(D),reason:ne,status:"pending",requestedAt:new Date().toISOString()}};await fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),_(!1),H(null)}catch(E){console.error("Error submitting approval:",E),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},pe=async()=>{if(v){c(!0);try{const ne=await a("timesheet_loader",{id:v,_plant:e});if(ne.success)o(E=>E.filter(A=>A.id!==v)),h(!1),w(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(ne.error||"Gagal menghapus data")}catch(ne){console.error("Error deleting data:",ne),alert(ne instanceof Error?ne.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Pe=()=>{N(Yd),y(null),d(!0)},ge=s.filter(ne=>new Date(ne.tanggal).getFullYear()===parseInt(S)),Ae=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ne=>gt(ne)},{key:"shift",header:"Shift",render:ne=>i.jsx(Ze,{variant:ne==="Malam"?"primary":ne==="Pagi"?"success":"warning",children:ne})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:ne=>sa(ne)},{key:"jamStart",header:"Jam Start",render:ne=>sa(ne)},{key:"jamGrounded",header:"Jam Grounded",render:ne=>i.jsx("span",{className:"font-semibold text-amber-600",children:oe(ve(ne))})},{key:"jamOperasi",header:"Jam Operasi",render:ne=>i.jsx("span",{className:"font-semibold text-secondary-600",children:oe(ve(ne))})},{key:"keterangan",header:"Status",render:ne=>i.jsx(Ze,{variant:ne==="Operasi"?"success":"warning",children:ne})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Loader"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet loader harian untuk ",e]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),le&&i.jsxs(ye,{onClick:Pe,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Grounded"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[oe(ge.reduce((ne,E)=>ne+ve(E.jamGrounded),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Jam Operasi"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary-600",children:[oe(ge.reduce((ne,E)=>ne+ve(E.jamOperasi),0))," ","Jam"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Shift"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:ge.length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:ge.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx(Tt,{children:"Data Timesheet Loader"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsx(at,{value:S,onChange:ne=>T(ne.target.value),options:lTe,className:"w-full sm:w-28"})})]})}),i.jsx(Lr,{data:ge,columns:Ae,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, shift, deskripsi, jam...",searchKeys:["tanggal","shift","deskripsiTemuan","jamOff","jamStart","jamGrounded","jamOperasi"],actions:R?ne=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),q(ne.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):ne=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),q(ne.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),be(ne)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:E=>{E.stopPropagation(),Te(ne.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),N(Yd),y(null)},title:b?"Edit Timesheet Loader":"Tambah Timesheet Loader",size:"md",children:i.jsxs("form",{onSubmit:G,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:k.tanggal,onChange:ne=>N(E=>({...E,tanggal:ne.target.value})),required:!0}),i.jsx(at,{label:"Shift",value:k.shift,onChange:ne=>N(E=>({...E,shift:ne.target.value})),options:b?d1.filter(ne=>ne.value!=="ALL"):d1,required:!0}),i.jsx(Oe,{label:"Deskripsi Temuan",type:"text",value:k.deskripsiTemuan,onChange:ne=>N(E=>({...E,deskripsiTemuan:ne.target.value})),placeholder:"Deskripsi temuan/kejadian"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Jam Off",type:"time",value:k.jamOff,onChange:ne=>N(E=>({...E,jamOff:ne.target.value})),required:!0}),i.jsx(Oe,{label:"Jam Start",type:"time",value:k.jamStart,onChange:ne=>N(E=>({...E,jamStart:ne.target.value})),required:!0})]}),i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),i.jsxs("span",{className:"font-semibold text-amber-600",children:[oe(k.jamGrounded||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),i.jsxs("span",{className:"font-semibold text-secondary-600",children:[oe(k.jamOperasi||0)," Jam"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),i.jsx(Ze,{variant:k.keterangan==="Operasi"?"success":"warning",children:k.keterangan||"-"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Yd),y(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:b?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),w(null)},onConfirm:pe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:P,onClose:()=>{_(!1),H(null)},onSubmit:ce,action:O,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Zu,{isOpen:m,onClose:()=>x(!1),title:"Timesheet Loader",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:s,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:ne=>gt(ne),width:"75px"},{key:"shift",header:"Shift",width:"55px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Jam Off",render:ne=>sa(ne),width:"55px"},{key:"jamStart",header:"Jam Start",render:ne=>sa(ne),width:"60px"},{key:"jamGrounded",header:"Grounded",render:ne=>oe(ve(ne)),align:"right",width:"60px"},{key:"jamOperasi",header:"Operasi",render:ne=>oe(ve(ne)),align:"right",width:"55px"},{key:"keterangan",header:"Status",width:"65px"}],filters:{shift:{label:"Shift",options:d1.filter(ne=>ne.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"menyetujui",label:"Menyetujui"},{role:"operator",label:"Operator Loader"}],summaryRows:[{label:"Total Jam Grounded:",getValue:ne=>oe(ne.reduce((E,A)=>E+ve(A.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:ne=>oe(ne.reduce((E,A)=>E+ve(A.jamOperasi),0))+" Jam"}]}),i.jsx(Fr,{isOpen:ee,onClose:()=>{W(!1),te("")},sheetName:e==="NPK1"?"timesheet_loader_NPK1":"timesheet_loader",recordId:Y,title:"Log Aktivitas Timesheet Loader"})]})},f1={sectionHead:"",operatorPanel:""},Cn={malam:"",pagi:"",sore:""},_t={awal:"",akhir:""},h1={tanggal:yr(),jenisOperasi:"NORMAL OPERASI",shiftMalam:{...f1},shiftPagi:{...f1},shiftSore:{...f1},steamMalam:{..._t},steamPagi:{..._t},steamSore:{..._t},gasMalam:{..._t},gasPagi:{..._t},gasSore:{..._t},kursDollar:"16000",dryerTempProdukOut:{...Cn},produkN:{...Cn},produkP:{...Cn},produkK:{...Cn},produkMoisture:{...Cn},produkKekerasan:{...Cn},produkTimbangan:{...Cn},produkTonase:{...Cn}},p1=new Date().getFullYear(),cTe=[...Array.from({length:p1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(p1+1),label:String(p1+1)}],ZF=["shiftMalam","shiftPagi","shiftSore","steamMalam","steamPagi","steamSore","gasMalam","gasPagi","gasSore","dryerTempProdukOut","produkN","produkP","produkK","produkMoisture","produkKekerasan","produkTimbangan","produkTonase"],SO=e=>{const t={...e};return ZF.forEach(r=>{t[r]&&typeof t[r]=="object"&&(t[r]=JSON.stringify(t[r]))}),t},uTe=e=>{const t={...e};return ZF.forEach(r=>{if(t[r]&&typeof t[r]=="string")try{t[r]=JSON.parse(t[r])}catch{const n=t[r];if(n.startsWith("{")&&n.includes("=")){const a={};n.slice(1,-1).split(", ").forEach(l=>{const[c,u]=l.split("=");c&&u!==void 0&&(a[c.trim()]=u.trim())}),t[r]=a}}}),t},Gt={folwSteam:{label:"0.5 - 2.5"},flowGas:{label:"200 - 300"},tempProdukOut:{label:"55 - 70"},produkN:{label:"13.8 - 16.2"},produkP:{label:"9.2 - 10.2"},produkK:{label:"11.04 - 12.96"},moisture:{label:"Maks. 3"},kekerasan:{label:"Min. 1"},timbangan:{label:"50.00 - 50.3"},tonase:{label:"Min 110 Ton/Shift"}},Kn=e=>{const t=ve(e.awal||"0"),n=ve(e.akhir||"0")-t,a=n/8/1e3;return{selisih:n,flowPerHour:a,costRp:0}},Vn=e=>{const t=ve(e.awal||"0"),n=ve(e.akhir||"0")-t,a=n/8;return{selisih:n,flowPerHour:a,costRp:0}},zn=e=>e/1e3*266263,Hn=(e,t)=>e*.02831*1043.3294/1e6*5.65*t*8,su=(e,t,r=2)=>(Math.random()*(t-e)+e).toFixed(r),NO=()=>({malam:su(55,70,1),pagi:su(55,70,1),sore:su(55,70,1)}),TO=()=>({malam:su(50,50.3,2),pagi:su(50,50.3,2),sore:su(50,50.3,2)}),no=({label:e,target:t,value:r,onChange:n,indikator:a,satuan:s})=>i.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:e}),i.jsxs("p",{className:"text-xs text-dark-400",children:[a," | ",s]})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:t})}),i.jsx("div",{children:i.jsx(Oe,{type:"text",placeholder:"Malam",value:r.malam,onChange:o=>n({...r,malam:o.target.value}),className:"text-sm"})}),i.jsx("div",{children:i.jsx(Oe,{type:"text",placeholder:"Pagi",value:r.pagi,onChange:o=>n({...r,pagi:o.target.value}),className:"text-sm"})}),i.jsx("div",{children:i.jsx(Oe,{type:"text",placeholder:"Sore",value:r.sore,onChange:o=>n({...r,sore:o.target.value}),className:"text-sm"})}),i.jsx("div",{})]}),PO=({plant:e})=>{var lt,jt,br,Jt,dt,Ct,Bn,Ur,nt,_i,oc,lc,Qo,C0,D0,M0,K,ae,Q,Z,ie,se;const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState(null),[S,T]=j.useState(h1),[P,_]=j.useState(""),[O,C]=j.useState(""),[D,H]=j.useState(String(new Date().getFullYear())),[ee,W]=j.useState(!1),[Y,te]=j.useState(null),[q,ue]=j.useState(!1),[le,B]=j.useState(""),F=U=>{B(U),ue(!0)},[L,R]=j.useState(!1),[G,be]=j.useState(""),[Te,ce]=j.useState(!1),[pe,Pe]=j.useState("edit"),[ge,Ae]=j.useState(null),[ne,E]=j.useState({steamMalam:{selisih:0,flowPerHour:0,costRp:0},steamPagi:{selisih:0,flowPerHour:0,costRp:0},steamSore:{selisih:0,flowPerHour:0,costRp:0},gasMalam:{selisih:0,flowPerHour:0,costRp:0},gasPagi:{selisih:0,flowPerHour:0,costRp:0},gasSore:{selisih:0,flowPerHour:0,costRp:0},totalSteamRp:0,totalGasRp:0}),[A,M]=j.useState(!1),[me,z]=j.useState(""),V=(t==null?void 0:t.role)||"",fe=un(V),I=Nn(V),X=Tn(V),re=Qr(V),J=j.useCallback(async()=>{M(!0),z("");try{const{getExchangeRate:U}=await st(async()=>{const{getExchangeRate:he}=await Promise.resolve().then(()=>ot);return{getExchangeRate:he}},void 0),we=await U();we.success&&we.data?(T(he=>({...he,kursDollar:we.data.rate.toString()})),z(` Kurs diupdate: ${we.data.formatted}`)):z(" Gagal mengambil kurs, gunakan manual")}catch(U){console.error("Error fetching exchange rate:",U),z(" Gagal mengambil kurs, gunakan manual")}finally{M(!1)}},[]);j.useEffect(()=>{u&&!v&&J()},[u,v,J]);const ke=j.useCallback(()=>{if(u&&!l){const U=document.querySelector("form");U&&U.requestSubmit()}},[u,l]);Br(ke,u);const Ke=[{value:"NORMAL OPERASI",label:"NORMAL OPERASI"},{value:"ABNORMAL",label:"ABNORMAL"},{value:"SHUTDOWN",label:"SHUTDOWN"},{value:"START UP",label:"START UP"}];j.useEffect(()=>{const U=ve(S.kursDollar||"16000"),we=Kn(S.steamMalam||_t),he=Kn(S.steamPagi||_t),je=Kn(S.steamSore||_t),Ne=Vn(S.gasMalam||_t),De=Vn(S.gasPagi||_t),Le=Vn(S.gasSore||_t);we.costRp=zn(we.selisih),he.costRp=zn(he.selisih),je.costRp=zn(je.selisih),Ne.costRp=Hn(Ne.selisih,U),De.costRp=Hn(De.selisih,U),Le.costRp=Hn(Le.selisih,U);const Ve=we.costRp+he.costRp+je.costRp,$e=Ne.costRp+De.costRp+Le.costRp;E({steamMalam:we,steamPagi:he,steamSore:je,gasMalam:Ne,gasPagi:De,gasSore:Le,totalSteamRp:Ve,totalGasRp:$e})},[S.steamMalam,S.steamPagi,S.steamSore,S.gasMalam,S.gasPagi,S.gasSore,S.kursDollar]),j.useEffect(()=>{var U;(U=S.steamMalam)!=null&&U.akhir&&T(we=>{var he;return{...we,steamPagi:{...we.steamPagi,awal:((he=we.steamMalam)==null?void 0:he.akhir)||""}}})},[(lt=S.steamMalam)==null?void 0:lt.akhir]),j.useEffect(()=>{var U;(U=S.steamPagi)!=null&&U.akhir&&T(we=>{var he;return{...we,steamSore:{...we.steamSore,awal:((he=we.steamPagi)==null?void 0:he.akhir)||""}}})},[(jt=S.steamPagi)==null?void 0:jt.akhir]),j.useEffect(()=>{var U;(U=S.gasMalam)!=null&&U.akhir&&T(we=>{var he;return{...we,gasPagi:{...we.gasPagi,awal:((he=we.gasMalam)==null?void 0:he.akhir)||""}}})},[(br=S.gasMalam)==null?void 0:br.akhir]),j.useEffect(()=>{var U;(U=S.gasPagi)!=null&&U.akhir&&T(we=>{var he;return{...we,gasSore:{...we.gasSore,awal:((he=we.gasPagi)==null?void 0:he.akhir)||""}}})},[(Jt=S.gasPagi)==null?void 0:Jt.akhir]);const xe=()=>{T(U=>({...U,dryerTempProdukOut:NO(),produkTimbangan:TO()}))};j.useEffect(()=>{(async()=>{c(!0);try{const{readData:we,SHEETS:he,getSheetNameByPlant:je}=await st(async()=>{const{readData:Le,SHEETS:Ve,getSheetNameByPlant:$e}=await Promise.resolve().then(()=>ot);return{readData:Le,SHEETS:Ve,getSheetNameByPlant:$e}},void 0),Ne=je(he.KOP,e),De=await we(Ne);if(De.success&&De.data){const Le=De.data.map(Ve=>({...uTe(Ve),_plant:e})).sort((Ve,$e)=>new Date($e.tanggal).getTime()-new Date(Ve.tanggal).getTime());o(Le)}else o([])}catch(we){console.error("Error fetching KOP data:",we),o([])}finally{c(!1)}})()},[e]);const _e=async U=>{U.preventDefault(),c(!0);try{if(v){const we=SO({...S,id:v,_plant:e}),he=await n("kop",we);if(he.success)o(je=>je.map(Ne=>Ne.id===v?{...S,id:v,_plant:e}:Ne));else throw new Error(he.error||"Gagal mengupdate data")}else{const we=SO({...S,_plant:e}),he=await r("kop",we);if(he.success&&he.data){const je={...S,_plant:e};he.data.id&&(je.id=he.data.id),o(Ne=>[je,...Ne])}else throw new Error(he.error||"Gagal menyimpan data")}d(!1),T(h1),w(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(we){console.error("Error saving KOP data:",we),alert(we instanceof Error?we.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Fe=U=>{te(U),W(!0)},Se=U=>{if(I){Ae(U),Pe("edit"),ce(!0);return}T(U),w(U.id||null),d(!0)},Re=U=>{if(X){const we=s.find(he=>he.id===U);we&&(Ae(we),Pe("delete"),ce(!0));return}N(U),h(!0)},Qe=async()=>{if(k){c(!0);try{const U=await a("kop",{id:k,_plant:e});if(U.success)o(we=>we.filter(he=>he.id!==k)),h(!1),N(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(U.error||"Gagal menghapus data")}catch(U){console.error("Error deleting KOP data:",U),alert(U instanceof Error?U.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},et=async U=>{if(!(!ge||!t)){c(!0);try{const{createData:we,SHEETS:he}=await st(async()=>{const{createData:je,SHEETS:Ne}=await Promise.resolve().then(()=>ot);return{createData:je,SHEETS:Ne}},void 0);await we(he.APPROVAL_REQUESTS,{requestedBy:t.nama||t.namaLengkap,requestedByRole:t.role,requestedByPlant:t.plant,actionType:pe,targetSheet:"KOP",targetId:ge.id,targetData:JSON.stringify(ge),reason:U,status:"pending",requestedAt:new Date().toISOString()}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),ce(!1),Ae(null)}catch(we){console.error("Error submitting approval:",we),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Je=()=>{T({...h1,tanggal:yr(),dryerTempProdukOut:NO(),produkTimbangan:TO()}),w(null),d(!0)},ut=U=>{y(U),x(!0)},ur=()=>{var bt,St,Lt,fn,hn,pn,Kr,Un,Tr,ai,ii,si,Ds,Ms,Rs,Is,Ls,Fs,$s,Bs,Us,Ks,Vs,zs,Hs,Ws,Gs,qs,Ys,Xs,Js,Qs,vd;if(!b)return;const U=window.open("","_blank");if(!U)return;const we=ve(b.kursDollar||"16000"),he=Kn(b.steamMalam||_t),je=Kn(b.steamPagi||_t),Ne=Kn(b.steamSore||_t);he.costRp=zn(he.selisih),je.costRp=zn(je.selisih),Ne.costRp=zn(Ne.selisih);const De=Vn(b.gasMalam||_t),Le=Vn(b.gasPagi||_t),Ve=Vn(b.gasSore||_t);De.costRp=Hn(De.selisih,we),Le.costRp=Hn(Le.selisih,we),Ve.costRp=Hn(Ve.selisih,we);const $e=he.costRp+je.costRp+Ne.costRp,qe=De.costRp+Le.costRp+Ve.costRp,it=ve(((bt=b.produkTonase)==null?void 0:bt.malam)||"0")+ve(((St=b.produkTonase)==null?void 0:St.pagi)||"0")+ve(((Lt=b.produkTonase)==null?void 0:Lt.sore)||"0");U.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>KOP - ${gt(b.tanggal)}</title>
        <style>
          @page { size: A4 landscape; margin: 10mm; }
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 9pt; color: #000; }
          .container { width: 100%; }
          .header { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .header-left { font-weight: bold; }
          .header-right { text-align: right; }
          .title { font-size: 11pt; font-weight: bold; margin-bottom: 3px; }
          .subtitle { font-size: 9pt; color: #333; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 8px; }
          th, td { border: 1px solid #000; padding: 3px 5px; text-align: center; font-size: 8pt; }
          th { background-color: #f0f0f0; font-weight: bold; }
          .section-header { background-color: #e8e8e8; font-weight: bold; text-align: left !important; }
          .param-name { text-align: left !important; }
          .number { text-align: right !important; }
          .highlight-cyan { background-color: #E0F7FA; }
          .highlight-blue { background-color: #E3F2FD; }
          .highlight-orange { background-color: #FFF3E0; }
          .summary { margin-top: 15px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-left">
              <div class="title">KEY OPERATING PARAMETER (KOP)</div>
              <div class="subtitle">${b.jenisOperasi}</div>
              <div class="subtitle">PABRIK NPK GRANULAR ${e==="NPK1"?"1":"2"}</div>
            </div>
            <div class="header-right">
              <div class="title">${gt(b.tanggal)}</div>
              <table style="width: auto; margin-left: auto;">
                <tr>
                  <th></th>
                  <th>23:00 - 07:00</th>
                  <th>07:00 - 15:00</th>
                  <th>15:00 - 23:00</th>
                </tr>
                <tr>
                  <td class="param-name"><strong>Section Head</strong></td>
                  <td class="highlight-cyan">${((fn=b.shiftMalam)==null?void 0:fn.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((hn=b.shiftPagi)==null?void 0:hn.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((pn=b.shiftSore)==null?void 0:pn.sectionHead)||""}</td>
                </tr>
                <tr>
                  <td class="param-name"><strong>Operator Panel</strong></td>
                  <td class="highlight-cyan">${((Kr=b.shiftMalam)==null?void 0:Kr.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Un=b.shiftPagi)==null?void 0:Un.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((Tr=b.shiftSore)==null?void 0:Tr.operatorPanel)||""}</td>
                </tr>
              </table>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 30px;">NO</th>
                <th style="width: 150px;">PARAMETER</th>
                <th style="width: 80px;">INDIKATOR</th>
                <th style="width: 70px;">SATUAN</th>
                <th style="width: 90px;">TARGET</th>
                <th colspan="3">AKTUAL</th>
              </tr>
              <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>MALAM</th>
                <th>PAGI</th>
                <th>SORE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td class="section-header" colspan="7">Granulator</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">1.1. Flow Steam</td>
                <td>FI</td>
                <td>M3/H</td>
                <td>${Gt.folwSteam.label}</td>
                <td class="highlight-blue"><strong>${he.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${je.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Ne.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td>2</td>
                <td class="section-header" colspan="7">Dryer</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.1. Flow Gas</td>
                <td>FT-202</td>
                <td>NM3/H</td>
                <td>${Gt.flowGas.label}</td>
                <td class="highlight-orange"><strong>${De.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${Le.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${Ve.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.2. Temperatur Produk Out</td>
                <td>Temp R-002</td>
                <td>Deg.C</td>
                <td>${Gt.tempProdukOut.label}</td>
                <td>${((ai=b.dryerTempProdukOut)==null?void 0:ai.malam)||""}</td>
                <td>${((ii=b.dryerTempProdukOut)==null?void 0:ii.pagi)||""}</td>
                <td>${((si=b.dryerTempProdukOut)==null?void 0:si.sore)||""}</td>
              </tr>
              <tr>
                <td>3</td>
                <td class="section-header" colspan="7">Produk NPK (15-10-12)</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.1. N</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Gt.produkN.label}</td>
                <td>${((Ds=b.produkN)==null?void 0:Ds.malam)||""}</td>
                <td>${((Ms=b.produkN)==null?void 0:Ms.pagi)||""}</td>
                <td>${((Rs=b.produkN)==null?void 0:Rs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.2. P</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Gt.produkP.label}</td>
                <td>${((Is=b.produkP)==null?void 0:Is.malam)||""}</td>
                <td>${((Ls=b.produkP)==null?void 0:Ls.pagi)||""}</td>
                <td>${((Fs=b.produkP)==null?void 0:Fs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.3. K</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Gt.produkK.label}</td>
                <td>${(($s=b.produkK)==null?void 0:$s.malam)||""}</td>
                <td>${((Bs=b.produkK)==null?void 0:Bs.pagi)||""}</td>
                <td>${((Us=b.produkK)==null?void 0:Us.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.4. Moisture (H2O)</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${Gt.moisture.label}</td>
                <td>${((Ks=b.produkMoisture)==null?void 0:Ks.malam)||""}</td>
                <td>${((Vs=b.produkMoisture)==null?void 0:Vs.pagi)||""}</td>
                <td>${((zs=b.produkMoisture)==null?void 0:zs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.5. Kekerasan</td>
                <td>Laporan LAB</td>
                <td>Kgf</td>
                <td>${Gt.kekerasan.label}</td>
                <td>${((Hs=b.produkKekerasan)==null?void 0:Hs.malam)||""}</td>
                <td>${((Ws=b.produkKekerasan)==null?void 0:Ws.pagi)||""}</td>
                <td>${((Gs=b.produkKekerasan)==null?void 0:Gs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.6. Timbangan</td>
                <td>Laporan Shift</td>
                <td>Kg / Karung</td>
                <td>${Gt.timbangan.label}</td>
                <td>${((qs=b.produkTimbangan)==null?void 0:qs.malam)||""}</td>
                <td>${((Ys=b.produkTimbangan)==null?void 0:Ys.pagi)||""}</td>
                <td>${((Xs=b.produkTimbangan)==null?void 0:Xs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.7. Tonase</td>
                <td>Laporan Shift</td>
                <td>Tonase / Shift</td>
                <td>${Gt.tonase.label}</td>
                <td><strong>${((Js=b.produkTonase)==null?void 0:Js.malam)||""} TON</strong></td>
                <td><strong>${((Qs=b.produkTonase)==null?void 0:Qs.pagi)||""} TON</strong></td>
                <td><strong>${((vd=b.produkTonase)==null?void 0:vd.sore)||""} TON</strong></td>
              </tr>
            </tbody>
          </table>

          <!-- Konsumsi Energi Detail -->
          <table style="margin-top: 15px; width: 48%; display: inline-table;">
            <tr>
              <th colspan="4" style="background-color: #E3F2FD;">KONSUMSI STEAM (M3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (M3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${oe(he.selisih)}</td>
              <td>${he.flowPerHour.toFixed(2)}</td>
              <td class="number">${oe(he.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${oe(je.selisih)}</td>
              <td>${je.flowPerHour.toFixed(2)}</td>
              <td class="number">${oe(je.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${oe(Ne.selisih)}</td>
              <td>${Ne.flowPerHour.toFixed(2)}</td>
              <td class="number">${oe(Ne.costRp)}</td>
            </tr>
            <tr style="background-color: #E3F2FD;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${oe($e)}</strong></td>
            </tr>
          </table>

          <table style="margin-top: 15px; width: 48%; display: inline-table; margin-left: 2%;">
            <tr>
              <th colspan="4" style="background-color: #FFF3E0;">KONSUMSI GAS (Nm3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (Nm3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${oe(De.selisih)}</td>
              <td>${De.flowPerHour.toFixed(2)}</td>
              <td class="number">${oe(De.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${oe(Le.selisih)}</td>
              <td>${Le.flowPerHour.toFixed(2)}</td>
              <td class="number">${oe(Le.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${oe(Ve.selisih)}</td>
              <td>${Ve.flowPerHour.toFixed(2)}</td>
              <td class="number">${oe(Ve.costRp)}</td>
            </tr>
            <tr style="background-color: #FFF3E0;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${oe(qe)}</strong></td>
            </tr>
          </table>

          <div class="summary">
            <table style="width: auto;">
              <tr>
                <td style="border: none;"><strong>* Total Steam Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${oe($e)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Gas Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${oe(qe)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Tonase</strong></td>
                <td style="border: none;"></td>
                <td style="border: none; text-align: right;"><strong>${oe(it)} TON</strong></td>
              </tr>
              <tr>
                <td style="border: none; font-size: 7pt; color: #666;">Kurs Dollar: Rp ${oe(we)}</td>
                <td style="border: none;"></td>
                <td style="border: none;"></td>
              </tr>
            </table>
          </div>
        </div>
      </body>
      </html>
    `),U.document.close(),U.focus(),setTimeout(()=>{U.print(),U.close()},250),x(!1)},Ee=()=>{var St,Lt,fn,hn,pn,Kr,Un,Tr,ai,ii,si,Ds,Ms,Rs,Is,Ls,Fs,$s,Bs,Us,Ks,Vs,zs,Hs,Ws,Gs,qs,Ys,Xs,Js,Qs,vd,NS,TS,PS,_S,ES,AS,OS,CS,DS,MS,RS,IS,LS;if(!G){alert("Pilih tanggal terlebih dahulu");return}const U=s.find(t8=>t8.tanggal===G);if(!U){alert("Data tidak ditemukan untuk tanggal tersebut");return}const we=ve(U.kursDollar||"16000"),he=Kn(U.steamMalam||_t),je=Kn(U.steamPagi||_t),Ne=Kn(U.steamSore||_t);he.costRp=zn(he.selisih),je.costRp=zn(je.selisih),Ne.costRp=zn(Ne.selisih);const De=Vn(U.gasMalam||_t),Le=Vn(U.gasPagi||_t),Ve=Vn(U.gasSore||_t);De.costRp=Hn(De.selisih,we),Le.costRp=Hn(Le.selisih,we),Ve.costRp=Hn(Ve.selisih,we);const $e=he.costRp+je.costRp+Ne.costRp,qe=De.costRp+Le.costRp+Ve.costRp,it=ve(((St=U.produkTonase)==null?void 0:St.malam)||"0")+ve(((Lt=U.produkTonase)==null?void 0:Lt.pagi)||"0")+ve(((fn=U.produkTonase)==null?void 0:fn.sore)||"0"),bt=window.open("","_blank");bt&&(bt.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan KOP - ${gt(U.tanggal)}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 10px; padding: 15px; }
          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }
          .header h1 { font-size: 16px; margin-bottom: 5px; }
          .header h2 { font-size: 12px; font-weight: normal; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 11px; }
          .section { margin-bottom: 15px; }
          .section-title { background: #f0f0f0; padding: 5px 10px; font-weight: bold; font-size: 11px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; font-size: 10px; }
          th, td { border: 1px solid #333; padding: 4px 6px; text-align: center; }
          th { background: #e0e0e0; font-weight: bold; }
          .text-left { text-align: left; }
          .text-right { text-align: right; }
          .highlight { background: #fffde7; }
          .total-row { background: #e3f2fd; font-weight: bold; }
          .cost { color: #2e7d32; }
          .footer { margin-top: 20px; display: flex; justify-content: space-between; }
          .signature { width: 30%; text-align: center; }
          .signature-line { border-top: 1px solid #000; margin-top: 50px; padding-top: 5px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>LAPORAN KEY OPERATING PARAMETER (KOP)</h1>
          <h2>PT PUPUK KUJANG CIKAMPEK - Pabrik NPK Granular ${e==="NPK1"?"1":"2"}</h2>
        </div>

        <div class="info-row">
          <div><strong>Tanggal:</strong> ${gt(U.tanggal)}</div>
          <div><strong>Jenis Operasi:</strong> ${U.jenisOperasi}</div>
          <div><strong>Kurs Dollar:</strong> Rp ${oe(we)}</div>
        </div>

        <!-- Personel Section -->
        <div class="section">
          <div class="section-title">PERSONEL</div>
          <table>
            <thead>
              <tr>
                <th>Shift</th>
                <th>Section Head</th>
                <th>Operator Panel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Malam (23:00 - 07:00)</td>
                <td>${((hn=U.shiftMalam)==null?void 0:hn.sectionHead)||"-"}</td>
                <td>${((pn=U.shiftMalam)==null?void 0:pn.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Pagi (07:00 - 15:00)</td>
                <td>${((Kr=U.shiftPagi)==null?void 0:Kr.sectionHead)||"-"}</td>
                <td>${((Un=U.shiftPagi)==null?void 0:Un.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Sore (15:00 - 23:00)</td>
                <td>${((Tr=U.shiftSore)==null?void 0:Tr.sectionHead)||"-"}</td>
                <td>${((ai=U.shiftSore)==null?void 0:ai.operatorPanel)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Konsumsi Energi Section -->
        <div class="section">
          <div class="section-title">KONSUMSI ENERGI</div>
          <table>
            <thead>
              <tr>
                <th rowspan="2">Parameter</th>
                <th colspan="3">Shift Malam</th>
                <th colspan="3">Shift Pagi</th>
                <th colspan="3">Shift Sore</th>
                <th rowspan="2">Total Biaya (Rp)</th>
              </tr>
              <tr>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left"><strong>Steam (M3)</strong></td>
                <td>${oe(ve(((ii=U.steamMalam)==null?void 0:ii.awal)||"0"))}</td>
                <td>${oe(ve(((si=U.steamMalam)==null?void 0:si.akhir)||"0"))}</td>
                <td>${he.flowPerHour.toFixed(2)}</td>
                <td>${oe(ve(((Ds=U.steamPagi)==null?void 0:Ds.awal)||"0"))}</td>
                <td>${oe(ve(((Ms=U.steamPagi)==null?void 0:Ms.akhir)||"0"))}</td>
                <td>${je.flowPerHour.toFixed(2)}</td>
                <td>${oe(ve(((Rs=U.steamSore)==null?void 0:Rs.awal)||"0"))}</td>
                <td>${oe(ve(((Is=U.steamSore)==null?void 0:Is.akhir)||"0"))}</td>
                <td>${Ne.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${oe($e)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Gas (Nm3)</strong></td>
                <td>${oe(ve(((Ls=U.gasMalam)==null?void 0:Ls.awal)||"0"))}</td>
                <td>${oe(ve(((Fs=U.gasMalam)==null?void 0:Fs.akhir)||"0"))}</td>
                <td>${De.flowPerHour.toFixed(2)}</td>
                <td>${oe(ve((($s=U.gasPagi)==null?void 0:$s.awal)||"0"))}</td>
                <td>${oe(ve(((Bs=U.gasPagi)==null?void 0:Bs.akhir)||"0"))}</td>
                <td>${Le.flowPerHour.toFixed(2)}</td>
                <td>${oe(ve(((Us=U.gasSore)==null?void 0:Us.awal)||"0"))}</td>
                <td>${oe(ve(((Ks=U.gasSore)==null?void 0:Ks.akhir)||"0"))}</td>
                <td>${Ve.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${oe(qe)}</td>
              </tr>
              <tr class="total-row">
                <td colspan="10" class="text-right">Total Biaya Energi:</td>
                <td class="cost">Rp ${oe($e+qe)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Parameter Operasi Section -->
        <div class="section">
          <div class="section-title">PARAMETER OPERASI</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">Temperatur Produk Out (C)</td>
                <td>55 - 70</td>
                <td>${((Vs=U.dryerTempProdukOut)==null?void 0:Vs.malam)||"-"}</td>
                <td>${((zs=U.dryerTempProdukOut)==null?void 0:zs.pagi)||"-"}</td>
                <td>${((Hs=U.dryerTempProdukOut)==null?void 0:Hs.sore)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Produk NPK Section -->
        <div class="section">
          <div class="section-title">PRODUK NPK (15-10-12)</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">N (%)</td>
                <td>13.8 - 16.2</td>
                <td>${((Ws=U.produkN)==null?void 0:Ws.malam)||"-"}</td>
                <td>${((Gs=U.produkN)==null?void 0:Gs.pagi)||"-"}</td>
                <td>${((qs=U.produkN)==null?void 0:qs.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">P (%)</td>
                <td>9.2 - 10.2</td>
                <td>${((Ys=U.produkP)==null?void 0:Ys.malam)||"-"}</td>
                <td>${((Xs=U.produkP)==null?void 0:Xs.pagi)||"-"}</td>
                <td>${((Js=U.produkP)==null?void 0:Js.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">K (%)</td>
                <td>11.04 - 12.96</td>
                <td>${((Qs=U.produkK)==null?void 0:Qs.malam)||"-"}</td>
                <td>${((vd=U.produkK)==null?void 0:vd.pagi)||"-"}</td>
                <td>${((NS=U.produkK)==null?void 0:NS.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Moisture (%)</td>
                <td>Maks. 3</td>
                <td>${((TS=U.produkMoisture)==null?void 0:TS.malam)||"-"}</td>
                <td>${((PS=U.produkMoisture)==null?void 0:PS.pagi)||"-"}</td>
                <td>${((_S=U.produkMoisture)==null?void 0:_S.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Kekerasan (Kgf)</td>
                <td>Min. 1</td>
                <td>${((ES=U.produkKekerasan)==null?void 0:ES.malam)||"-"}</td>
                <td>${((AS=U.produkKekerasan)==null?void 0:AS.pagi)||"-"}</td>
                <td>${((OS=U.produkKekerasan)==null?void 0:OS.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Timbangan (Kg/Karung)</td>
                <td>50.00 - 50.3</td>
                <td>${((CS=U.produkTimbangan)==null?void 0:CS.malam)||"-"}</td>
                <td>${((DS=U.produkTimbangan)==null?void 0:DS.pagi)||"-"}</td>
                <td>${((MS=U.produkTimbangan)==null?void 0:MS.sore)||"-"}</td>
              </tr>
              <tr class="highlight">
                <td class="text-left"><strong>Tonase (Ton/Shift)</strong></td>
                <td>Min 110</td>
                <td><strong>${((RS=U.produkTonase)==null?void 0:RS.malam)||"-"}</strong></td>
                <td><strong>${((IS=U.produkTonase)==null?void 0:IS.pagi)||"-"}</strong></td>
                <td><strong>${((LS=U.produkTonase)==null?void 0:LS.sore)||"-"}</strong></td>
              </tr>
              <tr class="total-row">
                <td colspan="2" class="text-right"><strong>Total Tonase:</strong></td>
                <td colspan="3"><strong>${oe(it)} Ton</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary Section -->
        <div class="section">
          <div class="section-title">RINGKASAN</div>
          <table>
            <tbody>
              <tr>
                <td class="text-left" style="width: 40%"><strong>Total Produksi</strong></td>
                <td><strong>${oe(it)} Ton</strong></td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Steam</strong></td>
                <td class="cost">Rp ${oe($e)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Gas</strong></td>
                <td class="cost">Rp ${oe(qe)}</td>
              </tr>
              <tr class="total-row">
                <td class="text-left"><strong>Total Biaya Energi</strong></td>
                <td class="cost"><strong>Rp ${oe($e+qe)}</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer Signatures -->
        <div class="footer">
          <div class="signature">
            <div>Dibuat oleh:</div>
            <div class="signature-line">Operator</div>
          </div>
          <div class="signature">
            <div>Diperiksa oleh:</div>
            <div class="signature-line">Section Head</div>
          </div>
          <div class="signature">
            <div>Disetujui oleh:</div>
            <div class="signature-line">Manager</div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #666;">
          Dicetak pada: ${new Date().toLocaleString("id-ID")}
        </div>
      </body>
      </html>
    `),bt.document.close(),bt.focus(),setTimeout(()=>{bt.print(),bt.close()},250),R(!1),be(""))},Ue=s.filter(U=>{var Le,Ve,$e,qe,it,bt,St,Lt,fn,hn,pn,Kr,Un,Tr,ai,ii,si;const we=P.toLowerCase(),he=((Le=U.tanggal)==null?void 0:Le.includes(P))||((Ve=U.jenisOperasi)==null?void 0:Ve.toLowerCase().includes(we))||(($e=U.formulaBiaya)==null?void 0:$e.toLowerCase().includes(we))||((qe=U.kursDollar)==null?void 0:qe.toString().includes(P))||((bt=(it=U.steamMalamCalc)==null?void 0:it.selisih)==null?void 0:bt.toString().includes(P))||((Lt=(St=U.steamPagiCalc)==null?void 0:St.selisih)==null?void 0:Lt.toString().includes(P))||((hn=(fn=U.steamSoreCalc)==null?void 0:fn.selisih)==null?void 0:hn.toString().includes(P))||((Kr=(pn=U.gasMalamCalc)==null?void 0:pn.selisih)==null?void 0:Kr.toString().includes(P))||((Tr=(Un=U.gasPagiCalc)==null?void 0:Un.selisih)==null?void 0:Tr.toString().includes(P))||((ii=(ai=U.gasSoreCalc)==null?void 0:ai.selisih)==null?void 0:ii.toString().includes(P)),je=O?(si=U.tanggal)==null?void 0:si.startsWith(O):!0,De=new Date(U.tanggal).getFullYear()===parseInt(D);return he&&je&&De});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Key Operating Parameter (KOP)"}),i.jsx(Ze,{variant:e==="NPK1"?"primary":"success",children:e})]}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Pabrik NPK Granular ",e==="NPK1"?"1":"2"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{variant:"secondary",onClick:()=>R(!0),className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Print Laporan"]}),!re&&fe&&i.jsxs(ye,{onClick:Je,className:"gap-2",children:[i.jsx(xr,{className:"h-4 w-4"}),"Tambah KOP"]})]})]}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ex,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),i.jsx(Oe,{placeholder:"Cari tanggal, jenis operasi, formula, kurs...",value:P,onChange:U=>_(U.target.value),className:"pl-10"})]})}),i.jsx("div",{className:"w-full md:w-32",children:i.jsx(at,{value:D,onChange:U=>H(U.target.value),options:cTe})}),i.jsx("div",{className:"w-full md:w-48",children:i.jsx(Oe,{type:"month",value:O,onChange:U=>C(U.target.value),placeholder:"Filter Bulan"})})]})}),i.jsx(Ie,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-dark-50 dark:bg-dark-700 border-b border-dark-100 dark:border-dark-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Tanggal"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Jenis Operasi"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 dark:text-dark-300 uppercase",children:"Total Tonase"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Steam (Rp)"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Gas (Rp)"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-dark-600 uppercase",children:"Aksi"})]})}),i.jsx("tbody",{className:"divide-y divide-dark-100",children:l?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"Memuat data..."]})})}):Ue.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:[i.jsx(Ta,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"Tidak ada data KOP"]})}):Ue.map(U=>{var bt,St,Lt;const we=ve(((bt=U.produkTonase)==null?void 0:bt.malam)||"0")+ve(((St=U.produkTonase)==null?void 0:St.pagi)||"0")+ve(((Lt=U.produkTonase)==null?void 0:Lt.sore)||"0"),he=ve(U.kursDollar||"16000"),je=Kn(U.steamMalam||_t),Ne=Kn(U.steamPagi||_t),De=Kn(U.steamSore||_t),Le=Vn(U.gasMalam||_t),Ve=Vn(U.gasPagi||_t),$e=Vn(U.gasSore||_t),qe=zn(je.selisih)+zn(Ne.selisih)+zn(De.selisih),it=Hn(Le.selisih,he)+Hn(Ve.selisih,he)+Hn($e.selisih,he);return i.jsxs("tr",{className:"hover:bg-dark-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"font-medium text-dark-900 dark:text-white",children:gt(U.tanggal)})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Ze,{variant:U.jenisOperasi==="NORMAL OPERASI"?"success":"warning",children:U.jenisOperasi})}),i.jsxs("td",{className:"px-4 py-3 font-semibold text-primary-600",children:[oe(we)," TON"]}),i.jsxs("td",{className:"px-4 py-3 text-blue-700",children:["Rp ",oe(qe)]}),i.jsxs("td",{className:"px-4 py-3 text-orange-700",children:["Rp ",oe(it)]}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>Fe(U),className:"p-2 text-dark-400 hover:text-dark-600 hover:bg-dark-100 rounded-lg transition-colors",title:"Lihat Detail",children:i.jsx(_s,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>ut(U),className:"p-2 text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Print",children:i.jsx(Rn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>F(U.id),className:"p-2 text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4"})}),!re&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Se(U),className:"p-2 text-dark-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit",children:i.jsx(hr,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>Re(U.id),className:"p-2 text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4"})})]})]})})]},U.id)})})]})})}),i.jsx(xt,{isOpen:u,onClose:()=>d(!1),title:v?"Edit KOP":"Tambah KOP Baru",size:"full",children:i.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:S.tanggal,onChange:U=>T({...S,tanggal:U.target.value}),required:!0}),i.jsx(at,{label:"Jenis Operasi",value:S.jenisOperasi,onChange:U=>T({...S,jenisOperasi:U.target.value}),options:Ke})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(vu,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[i.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[i.jsx(qa,{className:"h-4 w-4"})," Malam (23:00 - 07:00)"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Section Head",value:((dt=S.shiftMalam)==null?void 0:dt.sectionHead)||"",onChange:U=>T({...S,shiftMalam:{...S.shiftMalam,sectionHead:U.target.value}}),placeholder:"Nama Section Head"}),i.jsx(Oe,{label:"Operator Panel",value:((Ct=S.shiftMalam)==null?void 0:Ct.operatorPanel)||"",onChange:U=>T({...S,shiftMalam:{...S.shiftMalam,operatorPanel:U.target.value}}),placeholder:"Nama Operator Panel"})]})]}),i.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:[i.jsxs("h4",{className:"font-medium text-dark-700 dark:text-dark-200 mb-3 flex items-center gap-2",children:[i.jsx(qa,{className:"h-4 w-4"})," Pagi (07:00 - 15:00)"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Section Head",value:((Bn=S.shiftPagi)==null?void 0:Bn.sectionHead)||"",onChange:U=>T({...S,shiftPagi:{...S.shiftPagi,sectionHead:U.target.value}}),placeholder:"Nama Section Head"}),i.jsx(Oe,{label:"Operator Panel",value:((Ur=S.shiftPagi)==null?void 0:Ur.operatorPanel)||"",onChange:U=>T({...S,shiftPagi:{...S.shiftPagi,operatorPanel:U.target.value}}),placeholder:"Nama Operator Panel"})]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[i.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[i.jsx(qa,{className:"h-4 w-4"})," Sore (15:00 - 23:00)"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Section Head",value:((nt=S.shiftSore)==null?void 0:nt.sectionHead)||"",onChange:U=>T({...S,shiftSore:{...S.shiftSore,sectionHead:U.target.value}}),placeholder:"Nama Section Head"}),i.jsx(Oe,{label:"Operator Panel",value:((_i=S.shiftSore)==null?void 0:_i.operatorPanel)||"",onChange:U=>T({...S,shiftSore:{...S.shiftSore,operatorPanel:U.target.value}}),placeholder:"Nama Operator Panel"})]})]})]})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx($b,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Steam (M3)"})]}),i.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(pP,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),i.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"Kurs Dollar (Rp)"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Oe,{type:"text",value:S.kursDollar,onChange:U=>T({...S,kursDollar:U.target.value}),placeholder:"Contoh: 16000",className:"flex-1"}),i.jsx(ye,{type:"button",variant:"outline",onClick:J,disabled:A,className:"whitespace-nowrap",children:A?i.jsx(yl,{className:"h-4 w-4 animate-spin"}):i.jsx(i.Fragment,{children:i.jsx(yl,{className:"h-4 w-4 mr-1"})})})]}),me&&i.jsx("p",{className:`text-xs mt-1 ${me.startsWith("")?"text-green-600":"text-amber-600"}`,children:me}),i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'* Kurs digunakan untuk perhitungan biaya Steam & Gas. Klik "Auto" untuk ambil kurs real-time.'})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Awal Shift (M3)",type:"text",value:((oc=S.steamMalam)==null?void 0:oc.awal)||"",onChange:U=>T({...S,steamMalam:{...S.steamMalam,awal:U.target.value}})}),i.jsx(Oe,{label:"Akhir Shift (M3)",type:"text",value:((lc=S.steamMalam)==null?void 0:lc.akhir)||"",onChange:U=>T({...S,steamMalam:{...S.steamMalam,akhir:U.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[oe(ne.steamMalam.selisih)," M3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (M3/H):"}),i.jsx("span",{className:"font-semibold text-blue-600",children:ne.steamMalam.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",oe(ne.steamMalam.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Awal Shift (M3)",type:"text",value:((Qo=S.steamPagi)==null?void 0:Qo.awal)||"",onChange:U=>T({...S,steamPagi:{...S.steamPagi,awal:U.target.value}}),placeholder:"Auto dari akhir malam"}),i.jsx(Oe,{label:"Akhir Shift (M3)",type:"text",value:((C0=S.steamPagi)==null?void 0:C0.akhir)||"",onChange:U=>T({...S,steamPagi:{...S.steamPagi,akhir:U.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[oe(ne.steamPagi.selisih)," M3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (M3/H):"}),i.jsx("span",{className:"font-semibold text-blue-600",children:ne.steamPagi.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",oe(ne.steamPagi.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Awal Shift (M3)",type:"text",value:((D0=S.steamSore)==null?void 0:D0.awal)||"",onChange:U=>T({...S,steamSore:{...S.steamSore,awal:U.target.value}}),placeholder:"Auto dari akhir pagi"}),i.jsx(Oe,{label:"Akhir Shift (M3)",type:"text",value:((M0=S.steamSore)==null?void 0:M0.akhir)||"",onChange:U=>T({...S,steamSore:{...S.steamSore,akhir:U.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[oe(ne.steamSore.selisih)," M3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (M3/H):"}),i.jsx("span",{className:"font-semibold text-blue-600",children:ne.steamSore.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",oe(ne.steamSore.costRp)]})]})]})]})]})]}),i.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-xl",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-blue-800",children:"Total Steam Dalam Satu Hari"}),i.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["Rp ",oe(ne.totalSteamRp)]})]})})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(wy,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Gas (Nm3)"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Awal Shift (Nm3)",type:"text",value:((K=S.gasMalam)==null?void 0:K.awal)||"",onChange:U=>T({...S,gasMalam:{...S.gasMalam,awal:U.target.value}})}),i.jsx(Oe,{label:"Akhir Shift (Nm3)",type:"text",value:((ae=S.gasMalam)==null?void 0:ae.akhir)||"",onChange:U=>T({...S,gasMalam:{...S.gasMalam,akhir:U.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[oe(ne.gasMalam.selisih)," Nm3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (Nm3/H):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:ne.gasMalam.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",oe(ne.gasMalam.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Awal Shift (Nm3)",type:"text",value:((Q=S.gasPagi)==null?void 0:Q.awal)||"",onChange:U=>T({...S,gasPagi:{...S.gasPagi,awal:U.target.value}}),placeholder:"Auto dari akhir malam"}),i.jsx(Oe,{label:"Akhir Shift (Nm3)",type:"text",value:((Z=S.gasPagi)==null?void 0:Z.akhir)||"",onChange:U=>T({...S,gasPagi:{...S.gasPagi,akhir:U.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[oe(ne.gasPagi.selisih)," Nm3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (Nm3/H):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:ne.gasPagi.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",oe(ne.gasPagi.costRp)]})]})]})]})]}),i.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[i.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{label:"Awal Shift (Nm3)",type:"text",value:((ie=S.gasSore)==null?void 0:ie.awal)||"",onChange:U=>T({...S,gasSore:{...S.gasSore,awal:U.target.value}}),placeholder:"Auto dari akhir pagi"}),i.jsx(Oe,{label:"Akhir Shift (Nm3)",type:"text",value:((se=S.gasSore)==null?void 0:se.akhir)||"",onChange:U=>T({...S,gasSore:{...S.gasSore,akhir:U.target.value}})}),i.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Selisih:"}),i.jsxs("span",{className:"font-semibold",children:[oe(ne.gasSore.selisih)," Nm3"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Flow (Nm3/H):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:ne.gasSore.flowPerHour.toFixed(2)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Biaya:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",oe(ne.gasSore.costRp)]})]})]})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-xl",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-orange-800",children:"Total Gas Dalam Satu Hari"}),i.jsxs("span",{className:"text-xl font-bold text-orange-900",children:["Rp ",oe(ne.totalGasRp)]})]}),i.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"* Rumus: BTU/h = gas  0.02831  1043.3294, MMBTU = BTU/1,000,000, $/h = MMBTU  5.65, Rp = $  kurs  8 jam"})]})]}),i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cf,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Parameter Operasi"})]}),i.jsx(ye,{type:"button",variant:"secondary",size:"sm",onClick:xe,children:"Auto-Fill Temp & Timbangan"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 py-2 bg-dark-100 rounded-lg mb-2 px-2",children:[i.jsx("div",{className:"col-span-2 text-xs font-semibold text-dark-600",children:"PARAMETER"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"TARGET"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"MALAM"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"PAGI"}),i.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"SORE"}),i.jsx("div",{})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"1. Granulator"}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"1.1. Flow Steam"}),i.jsx("p",{className:"text-xs text-dark-400",children:"FI | M3/H"})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:Gt.folwSteam.label})}),i.jsx("div",{className:"text-center font-semibold text-blue-600",children:ne.steamMalam.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-blue-600",children:ne.steamPagi.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-blue-600",children:ne.steamSore.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 text-secondary-700 dark:text-secondary-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"2. Dryer"}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100 dark:border-dark-700",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-200",children:"2.1. Flow Gas"}),i.jsx("p",{className:"text-xs text-dark-400",children:"FT-202 | NM3/H"})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 dark:bg-dark-700 px-2 py-1 rounded",children:Gt.flowGas.label})}),i.jsx("div",{className:"text-center font-semibold text-orange-600",children:ne.gasMalam.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-orange-600",children:ne.gasPagi.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-center font-semibold text-orange-600",children:ne.gasSore.flowPerHour.toFixed(2)}),i.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]}),i.jsx(no,{label:"2.2. Temperatur Produk Out",indikator:"Temp R-002",satuan:"Deg.C",target:Gt.tempProdukOut.label,value:S.dryerTempProdukOut||Cn,onChange:U=>T({...S,dryerTempProdukOut:U})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-semibold px-3 py-2 rounded-lg mb-2",children:"3. Produk NPK (15-10-12)"}),i.jsx(no,{label:"3.1. N",indikator:"Laporan LAB",satuan:"%",target:Gt.produkN.label,value:S.produkN||Cn,onChange:U=>T({...S,produkN:U})}),i.jsx(no,{label:"3.2. P",indikator:"Laporan LAB",satuan:"%",target:Gt.produkP.label,value:S.produkP||Cn,onChange:U=>T({...S,produkP:U})}),i.jsx(no,{label:"3.3. K",indikator:"Laporan LAB",satuan:"%",target:Gt.produkK.label,value:S.produkK||Cn,onChange:U=>T({...S,produkK:U})}),i.jsx(no,{label:"3.4. Moisture (H2O)",indikator:"Laporan LAB",satuan:"%",target:Gt.moisture.label,value:S.produkMoisture||Cn,onChange:U=>T({...S,produkMoisture:U})}),i.jsx(no,{label:"3.5. Kekerasan",indikator:"Laporan LAB",satuan:"Kgf",target:Gt.kekerasan.label,value:S.produkKekerasan||Cn,onChange:U=>T({...S,produkKekerasan:U})}),i.jsx(no,{label:"3.6. Timbangan",indikator:"Laporan Shift",satuan:"Kg/Karung",target:Gt.timbangan.label,value:S.produkTimbangan||Cn,onChange:U=>T({...S,produkTimbangan:U})}),i.jsx(no,{label:"3.7. Tonase",indikator:"Laporan Shift",satuan:"Ton/Shift",target:Gt.tonase.label,value:S.produkTonase||Cn,onChange:U=>T({...S,produkTonase:U})})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100 dark:border-dark-700",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),i.jsxs(ye,{type:"submit",disabled:l,className:"gap-2",children:[i.jsx(qp,{className:"h-4 w-4"}),l?"Menyimpan...":v?"Perbarui":"Simpan"]})]})]})}),i.jsx(xt,{isOpen:m,onClose:()=>x(!1),title:"Preview Print KOP",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-dark-600",children:["Anda akan mencetak KOP untuk tanggal"," ",i.jsx("strong",{children:b&&gt(b.tanggal)})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(ye,{variant:"secondary",onClick:()=>x(!1),children:"Batal"}),i.jsxs(ye,{onClick:ur,className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak Sekarang"]})]})]})}),i.jsx(xt,{isOpen:L,onClose:()=>{R(!1),be("")},title:"Print Laporan KOP",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-dark-600",children:"Pilih tanggal untuk mencetak laporan KOP lengkap"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tanggal"}),i.jsxs("select",{value:G,onChange:U=>be(U.target.value),className:"w-full px-3 py-2 border border-dark-200 dark:border-dark-600 bg-white dark:bg-dark-800 text-dark-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"-- Pilih Tanggal --"}),s.sort((U,we)=>new Date(we.tanggal).getTime()-new Date(U.tanggal).getTime()).map(U=>i.jsxs("option",{value:U.tanggal,children:[gt(U.tanggal)," - ",U.jenisOperasi]},U.id))]})]}),G&&i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("strong",{children:"Preview:"})," Laporan akan dicetak untuk tanggal"," ",i.jsx("strong",{children:gt(G)})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(ye,{variant:"secondary",onClick:()=>{R(!1),be("")},children:"Batal"}),i.jsxs(ye,{onClick:Ee,disabled:!G,className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak Laporan"]})]})]})}),i.jsx(xt,{isOpen:ee,onClose:()=>{W(!1),te(null)},title:"Detail Key Operating Parameter",size:"full",children:Y&&(()=>{var it,bt,St,Lt,fn,hn,pn,Kr,Un,Tr,ai,ii,si,Ds,Ms,Rs,Is,Ls,Fs,$s,Bs,Us,Ks,Vs,zs,Hs,Ws,Gs,qs,Ys,Xs,Js,Qs;const U=ve(Y.kursDollar||"16000"),we=Kn(Y.steamMalam||_t),he=Kn(Y.steamPagi||_t),je=Kn(Y.steamSore||_t);we.costRp=zn(we.selisih),he.costRp=zn(he.selisih),je.costRp=zn(je.selisih);const Ne=Vn(Y.gasMalam||_t),De=Vn(Y.gasPagi||_t),Le=Vn(Y.gasSore||_t);Ne.costRp=Hn(Ne.selisih,U),De.costRp=Hn(De.selisih,U),Le.costRp=Hn(Le.selisih,U);const Ve=we.costRp+he.costRp+je.costRp,$e=Ne.costRp+De.costRp+Le.costRp,qe=ve(((it=Y.produkTonase)==null?void 0:it.malam)||"0")+ve(((bt=Y.produkTonase)==null?void 0:bt.pagi)||"0")+ve(((St=Y.produkTonase)==null?void 0:St.sore)||"0");return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Key Operating Parameter"}),i.jsxs("h2",{className:"text-2xl font-bold mt-1",children:["NPK GRANULAR ",e==="NPK1"?"1":"2"]}),i.jsx("p",{className:"text-primary-100 text-sm mt-1",children:gt(Y.tanggal)})]}),i.jsx(Ze,{variant:Y.jenisOperasi==="NORMAL OPERASI"?"success":"warning",className:"bg-white/20 text-white border-0 text-base px-4 py-2",children:Y.jenisOperasi})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-4 border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-lg",children:i.jsx(Cf,{className:"h-6 w-6 text-green-700 dark:text-green-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Total Tonase"}),i.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[oe(qe)," TON"]})]})]})}),i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-lg",children:i.jsx(gh,{className:"h-6 w-6 text-blue-700 dark:text-blue-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium",children:"Biaya Steam"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:["Rp ",oe(Ve)]})]})]})}),i.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-orange-200 dark:bg-orange-800 rounded-lg",children:i.jsx(wy,{className:"h-6 w-6 text-orange-700 dark:text-orange-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium",children:"Biaya Gas"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["Rp ",oe($e)]})]})]})})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(vu,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Posisi"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam (23:00-07:00)"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi (07:00-15:00)"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore (15:00-23:00)"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Section Head"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Lt=Y.shiftMalam)==null?void 0:Lt.sectionHead)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((fn=Y.shiftPagi)==null?void 0:fn.sectionHead)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((hn=Y.shiftSore)==null?void 0:hn.sectionHead)||"-"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Operator Panel"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((pn=Y.shiftMalam)==null?void 0:pn.operatorPanel)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Kr=Y.shiftPagi)==null?void 0:Kr.operatorPanel)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Un=Y.shiftSore)==null?void 0:Un.operatorPanel)||"-"})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(gh,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Konsumsi Steam (M3)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50",children:[i.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-700 dark:text-blue-300",children:"Shift"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Selisih"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Flow (M3/H)"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Biaya (Rp)"})]})}),i.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[i.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Malam"}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(we.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:we.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(we.costRp)})]}),i.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Pagi"}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(he.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:he.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(he.costRp)})]}),i.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Sore"}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(je.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:je.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(je.costRp)})]}),i.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50 font-semibold text-blue-800 dark:text-blue-200",children:[i.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),i.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",oe(Ve)]})]})]})]})})]}),i.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(wy,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300",children:"Konsumsi Gas (Nm3)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50",children:[i.jsx("th",{className:"px-3 py-2 text-left font-medium text-orange-700 dark:text-orange-300",children:"Shift"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Selisih"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Flow (Nm3/H)"}),i.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Biaya (Rp)"})]})}),i.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[i.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Malam"}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(Ne.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:Ne.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(Ne.costRp)})]}),i.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Pagi"}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(De.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:De.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(De.costRp)})]}),i.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[i.jsx("td",{className:"px-3 py-2",children:"Sore"}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(Le.selisih)}),i.jsx("td",{className:"px-3 py-2 text-right",children:Le.flowPerHour.toFixed(2)}),i.jsx("td",{className:"px-3 py-2 text-right",children:oe(Le.costRp)})]}),i.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50 font-semibold text-orange-800 dark:text-orange-200",children:[i.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),i.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",oe($e)]})]})]})]})})]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ta,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Parameter Produk NPK (15-10-12)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Parameter"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Target"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi"}),i.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore"})]})}),i.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(OH,{className:"h-4 w-4 text-red-500"}),"Temp Produk Out (C)"]})}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.tempProdukOut.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Tr=Y.dryerTempProdukOut)==null?void 0:Tr.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ai=Y.dryerTempProdukOut)==null?void 0:ai.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ii=Y.dryerTempProdukOut)==null?void 0:ii.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"N (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.produkN.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((si=Y.produkN)==null?void 0:si.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ds=Y.produkN)==null?void 0:Ds.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ms=Y.produkN)==null?void 0:Ms.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"P (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.produkP.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Rs=Y.produkP)==null?void 0:Rs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Is=Y.produkP)==null?void 0:Is.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ls=Y.produkP)==null?void 0:Ls.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"K (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.produkK.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Fs=Y.produkK)==null?void 0:Fs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:(($s=Y.produkK)==null?void 0:$s.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Bs=Y.produkK)==null?void 0:Bs.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"Moisture (%)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.moisture.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Us=Y.produkMoisture)==null?void 0:Us.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ks=Y.produkMoisture)==null?void 0:Ks.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Vs=Y.produkMoisture)==null?void 0:Vs.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"Kekerasan (Kgf)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.kekerasan.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((zs=Y.produkKekerasan)==null?void 0:zs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Hs=Y.produkKekerasan)==null?void 0:Hs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ws=Y.produkKekerasan)==null?void 0:Ws.sore)||"-"})]}),i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:"Timbangan (Kg/Karung)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.timbangan.label}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Gs=Y.produkTimbangan)==null?void 0:Gs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((qs=Y.produkTimbangan)==null?void 0:qs.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ys=Y.produkTimbangan)==null?void 0:Ys.sore)||"-"})]}),i.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/30",children:[i.jsx("td",{className:"px-4 py-3 font-semibold text-green-700 dark:text-green-300",children:"Tonase (Ton/Shift)"}),i.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:Gt.tonase.label}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Xs=Y.produkTonase)==null?void 0:Xs.malam)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Js=Y.produkTonase)==null?void 0:Js.pagi)||"-"}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Qs=Y.produkTonase)==null?void 0:Qs.sore)||"-"})]})]})]})})]}),i.jsxs("div",{className:"bg-dark-100 dark:bg-dark-700 rounded-xl p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pP,{className:"h-5 w-5 text-dark-500"}),i.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Kurs Dollar yang digunakan:"})]}),i.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:["Rp ",oe(U)]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-dark-200 dark:border-dark-700",children:[i.jsx(ye,{variant:"secondary",onClick:()=>{W(!1),te(null)},children:"Tutup"}),i.jsxs(ye,{onClick:()=>{W(!1),ut(Y)},className:"gap-2",children:[i.jsx(Rn,{className:"h-4 w-4"}),"Cetak"]})]})]})})()}),i.jsx(Ar,{isOpen:f,onClose:()=>h(!1),onConfirm:Qe,title:"Hapus Data KOP",message:"Apakah Anda yakin ingin menghapus data KOP ini? Tindakan ini tidak dapat dibatalkan.",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:Te,onClose:()=>{ce(!1),Ae(null)},onSubmit:et,action:pe,itemName:"data KOP",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!"}),i.jsx(Fr,{isOpen:q,onClose:()=>{ue(!1),B("")},sheetName:e==="NPK1"?"kop_NPK1":"kop",recordId:le,title:"Log Aktivitas KOP"})]})},m1=new Date().getFullYear(),dTe=[...Array.from({length:m1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(m1+1),label:String(m1+1)}],e8=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"}],fTe=[{value:"",label:"Semua Shift"},...e8],Ap=[{key:"urea",label:"Urea",unit:"Bucket"},{key:"dap",label:"DAP",unit:"Bucket"},{key:"kcl",label:"KCL",unit:"Bucket"},{key:"za",label:"ZA",unit:"Bucket"},{key:"clayJumbo",label:"Clay (Jumbo)",unit:"Jumbo"},{key:"clayBucket",label:"Clay (Bucket)",unit:"Bucket"},{key:"pewarna",label:"Pewarna",unit:"Bag"},{key:"coatingOilLigno",label:"Coating Oil LIGNO",unit:"Dus"},{key:"riject",label:"Riject",unit:"Bucket"},{key:"tinta",label:"Tinta",unit:"pcs"},{key:"rekon",label:"Rekon",unit:"Ton"},{key:"makeupIjp",label:"MAKEUP IJP",unit:"pcs"}],Xd={tanggal:yr(),shift:"",urea:0,dap:0,kcl:0,za:0,clayJumbo:0,clayBucket:0,pewarna:0,coatingOilLigno:0,riject:0,tinta:0,rekon:0,makeupIjp:0},_O=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Xd),[k,N]=j.useState(""),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),[O,C]=j.useState("edit"),[D,H]=j.useState(null),[ee,W]=j.useState(!1),[Y,te]=j.useState(""),[q,ue]=j.useState("daily"),le=I=>{te(I),W(!0)},B=(t==null?void 0:t.role)||"",F=un(B),L=Nn(B),R=Tn(B),G=Qr(B),be=j.useCallback(()=>{if(u&&!l){const I=document.querySelector("form");I&&I.requestSubmit()}},[u,l]);Br(be,u),j.useEffect(()=>{(async()=>{c(!0);try{const{readData:X,SHEETS:re,getSheetNameByPlant:J}=await st(async()=>{const{readData:xe,SHEETS:_e,getSheetNameByPlant:Fe}=await Promise.resolve().then(()=>ot);return{readData:xe,SHEETS:_e,getSheetNameByPlant:Fe}},void 0),ke=J(re.PEMAKAIAN_BAHAN_BAKU,e),Ke=await X(ke);if(Ke.success&&Ke.data){const xe=Ke.data.map(_e=>({..._e,_plant:e})).sort((_e,Fe)=>new Date(Fe.tanggal).getTime()-new Date(_e.tanggal).getTime());o(xe)}else o([])}catch(X){console.error("Error fetching data:",X),o([])}finally{c(!1)}})()},[e]);const Te=async I=>{I.preventDefault(),c(!0);try{if(m){const X={...v,id:m,_plant:e},re=await n("pemakaian_bahan_baku",X);if(re.success)o(J=>J.map(ke=>ke.id===m?{...v,id:m,_plant:e}:ke));else throw new Error(re.error||"Gagal mengupdate data")}else{const X={...v,_plant:e},re=await r("pemakaian_bahan_baku",X);if(re.success&&re.data){const J={...re.data,_plant:e};o(ke=>[J,...ke].sort((Ke,xe)=>new Date(xe.tanggal).getTime()-new Date(Ke.tanggal).getTime()))}else throw new Error(re.error||"Gagal menambah data")}d(!1),x(null),w(Xd),g(!0)}catch(X){console.error("Error saving data:",X),alert(X instanceof Error?X.message:"Gagal menyimpan data")}finally{c(!1)}},ce=I=>{G||(L?(H(I),C("edit"),_(!0)):(w(I),x(I.id||null),d(!0)))},pe=I=>{G||(R?(y(I),C("delete"),_(!0)):(y(I),h(!0)))},Pe=async()=>{if(b){c(!0);try{const I=await a("pemakaian_bahan_baku",{id:b,_plant:e});if(I.success)o(X=>X.filter(re=>re.id!==b));else throw new Error(I.error||"Gagal menghapus data");h(!1),y(null),g(!0)}catch(I){console.error("Error deleting data:",I),alert(I instanceof Error?I.message:"Gagal menghapus data")}finally{c(!1)}}},ge=async I=>{try{const{createData:X,SHEETS:re}=await st(async()=>{const{createData:Ke,SHEETS:xe}=await Promise.resolve().then(()=>ot);return{createData:Ke,SHEETS:xe}},void 0),J=O==="edit"?D:s.find(Ke=>Ke.id===b),ke={requestBy:(t==null?void 0:t.username)||"",requestByName:(t==null?void 0:t.nama)||(t==null?void 0:t.username)||"",requestDate:new Date().toISOString(),action:O,sheetType:`pemakaian_bahan_baku${e==="NPK1"?"_NPK1":""}`,dataId:(J==null?void 0:J.id)||"",dataPreview:JSON.stringify({tanggal:J==null?void 0:J.tanggal,shift:J==null?void 0:J.shift}),reason:I,status:"pending",requesterPlant:e};await X(re.APPROVAL_REQUESTS,ke),_(!1),H(null),y(null),alert("Permintaan approval telah dikirim")}catch(X){console.error("Error submitting approval:",X),alert("Gagal mengirim permintaan approval")}},Ae=s.filter(I=>{const X=k?I.shift===k:!0,J=new Date(I.tanggal).getFullYear()===parseInt(S);return X&&J}),ne=Ae.reduce((I,X)=>(I[X.tanggal]||(I[X.tanggal]=[]),I[X.tanggal].push(X),I),{}),E=Object.keys(ne).sort((I,X)=>new Date(X).getTime()-new Date(I).getTime()),M=(()=>{const I=s.filter(ke=>new Date(ke.tanggal).getFullYear()===parseInt(S)),X=I.length,re=new Set(I.map(ke=>ke.tanggal)).size,J=Ap.reduce((ke,Ke)=>(ke[Ke.key]=I.reduce((xe,_e)=>xe+(Number(_e[Ke.key])||0),0),ke),{});return{totalRecords:X,totalDays:re,totals:J}})(),me=I=>{switch(I){case"Malam":return i.jsx(JD,{className:"h-3.5 w-3.5"});case"Pagi":return i.jsx(ZD,{className:"h-3.5 w-3.5"});case"Sore":return i.jsx(AH,{className:"h-3.5 w-3.5"});default:return null}},z=I=>{switch(I){case"Malam":return"default";case"Pagi":return"warning";case"Sore":return"primary";default:return"default"}},V={Malam:0,Pagi:1,Sore:2},fe=[{key:"tanggal",header:"Tanggal",sortable:!0,render:I=>gt(I)},{key:"shift",header:"Shift",render:I=>i.jsx(Ze,{variant:z(I),children:i.jsxs("span",{className:"flex items-center gap-1",children:[me(I),I]})})},{key:"urea",header:"Urea",render:I=>{const X=Number(I)||0;return X>0?i.jsxs("span",{className:"font-medium",children:[X," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"dap",header:"DAP",render:I=>{const X=Number(I)||0;return X>0?i.jsxs("span",{className:"font-medium",children:[X," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"kcl",header:"KCL",render:I=>{const X=Number(I)||0;return X>0?i.jsxs("span",{className:"font-medium",children:[X," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"za",header:"ZA",render:I=>{const X=Number(I)||0;return X>0?i.jsxs("span",{className:"font-medium",children:[X," Bucket"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"pewarna",header:"Pewarna",render:I=>{const X=Number(I)||0;return X>0?i.jsxs("span",{className:"font-medium",children:[X," Bag"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"coatingOilLigno",header:"Coating Oil",render:I=>{const X=Number(I)||0;return X>0?i.jsxs("span",{className:"font-medium",children:[X," Dus"]}):i.jsx("span",{className:"text-gray-400",children:"-"})}}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Pemakaian Bahan Baku - ",e]}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Catatan pemakaian bahan baku per shift"})]}),F&&i.jsxs(ye,{onClick:()=>{w(Xd),x(null),d(!0)},children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[i.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border border-blue-200 dark:border-blue-800 p-3",children:[i.jsx("p",{className:"text-[11px] text-blue-600 dark:text-blue-400 font-medium truncate",children:"Total Record"}),i.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 mt-0.5",children:M.totalRecords}),i.jsxs("p",{className:"text-[10px] text-blue-500 dark:text-blue-400 mt-1",children:["Tahun ",S]})]}),i.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border border-green-200 dark:border-green-800 p-3",children:[i.jsx("p",{className:"text-[11px] text-green-600 dark:text-green-400 font-medium truncate",children:"Total Hari"}),i.jsx("p",{className:"text-lg font-bold text-green-700 dark:text-green-300 mt-0.5",children:M.totalDays}),i.jsx("p",{className:"text-[10px] text-green-500 dark:text-green-400 mt-1",children:"Hari tercatat"})]}),Ap.map(I=>{const X=M.totals[I.key]||0;return i.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-dark-700 dark:to-dark-800 border border-gray-200 dark:border-dark-600 p-3",children:[i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 font-medium truncate",children:I.label}),i.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-0.5",children:[X," ",i.jsx("span",{className:"text-[10px] font-normal text-gray-500 dark:text-gray-400",children:I.unit})]}),i.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:["Tahun ",S]})]},I.key)})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsx(Tt,{children:"Data Pemakaian Bahan Baku"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[i.jsxs("div",{className:"flex rounded-lg border border-dark-200 dark:border-dark-600 overflow-hidden",children:[i.jsx("button",{onClick:()=>ue("daily"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${q==="daily"?"bg-primary-600 text-white":"bg-white dark:bg-dark-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:"Harian"}),i.jsx("button",{onClick:()=>ue("table"),className:`px-3 py-1.5 text-sm font-medium transition-colors ${q==="table"?"bg-primary-600 text-white":"bg-white dark:bg-dark-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:"Tabel"})]}),i.jsx(at,{value:S,onChange:I=>T(I.target.value),options:dTe,className:"w-full sm:w-28"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YD,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("select",{value:k,onChange:I=>N(I.target.value),className:"px-3 py-2 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:fTe.map(I=>i.jsx("option",{value:I.value,children:I.label},I.value))})]})]})]})}),q==="daily"?i.jsx("div",{className:"p-4 space-y-6",children:l?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Memuat data..."}):E.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Tidak ada data"}):E.map(I=>{const X=ne[I].sort((J,ke)=>(V[J.shift]??99)-(V[ke.shift]??99)),re=X.map(J=>J.shift);return i.jsxs("div",{className:"border border-dark-200 dark:border-dark-600 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-700 dark:to-primary-800 px-4 py-3 flex items-center justify-between",children:[i.jsx("h3",{className:"font-bold text-white text-sm",children:gt(I)}),i.jsx("div",{className:"flex items-center gap-2",children:re.map(J=>i.jsx(Ze,{variant:"default",className:"bg-white/20 text-white border-white/30 text-xs",children:J},J))})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-2.5 text-left font-semibold text-gray-700 dark:text-gray-300 w-48",children:"Bahan Baku"}),X.map(J=>i.jsx("th",{className:"px-4 py-2.5 text-center font-semibold text-gray-700 dark:text-gray-300 min-w-[120px]",children:i.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[me(J.shift),J.shift]})},J.shift))]})}),i.jsx("tbody",{children:Ap.map((J,ke)=>i.jsxs("tr",{className:ke%2===0?"bg-white dark:bg-dark-800":"bg-gray-50/50 dark:bg-dark-750",children:[i.jsx("td",{className:"px-4 py-2 font-medium text-gray-700 dark:text-gray-300 border-r border-dark-100 dark:border-dark-600",children:J.label}),X.map(Ke=>{const xe=Number(Ke[J.key])||0;return i.jsx("td",{className:"px-4 py-2 text-center",children:xe>0?i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[xe," ",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:J.unit})]}):i.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"-"})},Ke.shift)})]},J.key))})]})}),!G&&i.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 px-4 py-2 flex flex-wrap gap-2 border-t border-dark-100 dark:border-dark-600",children:X.map(J=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ze,{variant:z(J.shift),className:"text-xs",children:J.shift}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>le(J.id),title:"Lihat Log",children:i.jsx(At,{className:"h-3.5 w-3.5 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>ce(J),title:"Edit",children:i.jsx(hr,{className:"h-3.5 w-3.5 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>pe(J.id),title:"Hapus",children:i.jsx(lr,{className:"h-3.5 w-3.5 text-red-600"})})]},J.shift))})]},I)})}):i.jsx(Lr,{data:Ae,columns:fe,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, shift...",searchKeys:["tanggal","shift"],actions:G?I=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),le(I.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):I=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),le(I.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),ce(I)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),pe(I.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),x(null),w(Xd)},title:m?"Edit Data Pemakaian Bahan Baku":"Tambah Data Pemakaian Bahan Baku",children:i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:I=>w({...v,tanggal:I.target.value}),required:!0}),i.jsx(at,{label:"Shift",value:v.shift,onChange:I=>w({...v,shift:I.target.value}),options:e8,placeholder:"Pilih Shift",required:!0}),i.jsxs("div",{className:"border-t border-dark-200 dark:border-dark-600 pt-4 mt-4",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-3",children:"Jumlah Pemakaian per Bahan Baku"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Ap.map(I=>i.jsx(Oe,{label:`${I.label} (${I.unit})`,type:"number",step:"any",min:"0",value:v[I.key]||"",onChange:X=>{const re=X.target.value===""?0:parseFloat(X.target.value);w(J=>({...J,[I.key]:isNaN(re)?0:re}))},placeholder:"0"},I.key))})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>{d(!1),x(null),w(Xd)},children:"Batal"}),i.jsx(ye,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Pe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:P,onClose:()=>{_(!1),H(null),y(null)},onSubmit:ge,action:O,loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:ee,onClose:()=>{W(!1),te("")},sheetName:e==="NPK1"?"pemakaian_bahan_baku_NPK1":"pemakaian_bahan_baku",recordId:Y,title:"Log Aktivitas Pemakaian Bahan Baku"})]})},g1=new Date().getFullYear(),hTe=[...Array.from({length:g1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(g1+1),label:String(g1+1)}],Jd={tanggal:yr(),nomorWR:"",item:"",area:"",eksekutor:"",include:"",keterangan:""},pTe=[{value:"Mekanik",label:"Mekanik"},{value:"Bengkel",label:"Bengkel"},{value:"Listrik",label:"Listrik"},{value:"Craftshop",label:"Craftshop"},{value:"Alat Berat",label:"Alat Berat"},{value:"Instrument",label:"Instrument"},{value:"Inspeksi",label:"Inspeksi"}],EO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Jd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState("edit"),[C,D]=j.useState(null),[H,ee]=j.useState(!1),[W,Y]=j.useState(null),[te,q]=j.useState(!1),[ue,le]=j.useState(""),B=I=>{le(I),q(!0)},F=Qr((t==null?void 0:t.role)||""),L=un((t==null?void 0:t.role)||"")&&!F,R=j.useCallback(()=>{if(u&&!l){const I=document.querySelector("form");I&&I.requestSubmit()}},[u,l]);Br(R,u);const G=Nn((t==null?void 0:t.role)||""),be=Tn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:X,SHEETS:re}=await st(async()=>{const{fetchDataByPlant:ke,SHEETS:Ke}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:ke,SHEETS:Ke}},void 0),J=await X(re.WORK_REQUEST);if(J.success&&J.data){const ke=[...J.data].sort((Ke,xe)=>new Date(xe.tanggal).getTime()-new Date(Ke.tanggal).getTime());o(ke)}else o([])}catch(X){console.error("Error fetching data:",X),o([])}finally{c(!1)}})()},[]);const Te=async I=>{I.preventDefault(),c(!0);try{if(m){const X={...v,id:m,_plant:S},re=await n(Xr.WORK_REQUEST,X);if(re.success)o(J=>J.map(ke=>ke.id===m?{...v,id:m,_plant:S}:ke));else throw new Error(re.error||"Gagal mengupdate data")}else{const X={...v,_plant:S},re=await r(Xr.WORK_REQUEST,X);if(re.success&&re.data){const J={...re.data,_plant:S};o(ke=>[J,...ke])}else throw new Error(re.error||"Gagal menyimpan data")}d(!1),w(Jd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(X){console.error("Error saving data:",X),alert(X instanceof Error?X.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ce=I=>{if(G){D(I),O("edit"),P(!0);return}w(I),x(I.id||null),d(!0)},pe=I=>{if(be){y(I),O("delete"),P(!0);return}y(I),h(!0)},Pe=async I=>{c(!0);try{const{createData:X,SHEETS:re}=await st(async()=>{const{createData:Ke,SHEETS:xe}=await Promise.resolve().then(()=>ot);return{createData:Ke,SHEETS:xe}},void 0),J={type:"work_request",action:_,itemId:_==="edit"?C==null?void 0:C.id:b,itemData:_==="edit"?C:s.find(Ke=>Ke.id===b),reason:I,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ke=await X(re.APPROVAL_REQUESTS,J);if(ke.success)P(!1),D(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ke.error||"Gagal mengirim permintaan")}catch(X){console.error("Error submitting approval:",X),alert(X instanceof Error?X.message:"Terjadi kesalahan")}finally{c(!1)}},ge=async()=>{if(b){c(!0);try{const I=s.find(re=>re.id===b),X=await a(Xr.WORK_REQUEST,{id:b,_plant:(I==null?void 0:I._plant)||S});if(X.success)o(re=>re.filter(J=>J.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(X.error||"Gagal menghapus data")}catch(I){console.error("Error deleting data:",I),alert(I instanceof Error?I.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Ae=()=>{w(Jd),x(null),d(!0)},ne=I=>{Y(I),ee(!0)},E=s.filter(I=>{const X=I._plant===S,J=new Date(I.tanggal).getFullYear()===parseInt(k);return X&&J}),A=[{key:"tanggal",header:"Tanggal",sortable:!0,render:I=>gt(I)},{key:"nomorWR",header:"Nomor WR"},{key:"item",header:"Item"},{key:"area",header:"Area"},{key:"eksekutor",header:"Eksekutor"},{key:"include",header:"Include"},{key:"keterangan",header:"Keterangan",render:I=>i.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:I})}],M=E.length,me=j.useMemo(()=>{const I={};return E.forEach(X=>{const re=X.eksekutor||"Lainnya";I[re]=(I[re]||0)+1}),I},[E]),z=j.useMemo(()=>Object.entries(me).sort(([,X],[,re])=>re-X)[0]||["",0],[me]),V=j.useMemo(()=>new Set(E.map(I=>I.area).filter(Boolean)).size,[E]),fe=j.useMemo(()=>{const I=new Date;return E.filter(X=>{const re=new Date(X.tanggal);return re.getMonth()===I.getMonth()&&re.getFullYear()===I.getFullYear()}).length},[E]);return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl sm:text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Work Request ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1 text-sm",children:"Kelola permintaan perbaikan dan maintenance"})]}),i.jsx("div",{className:"flex items-center gap-3",children:L&&i.jsxs(ye,{onClick:Ae,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Work Request"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Total WR (",k,")"]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:M})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Bulan Ini"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:fe})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Area Terlibat"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:V})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Top Eksekutor"}),i.jsx("p",{className:"text-sm sm:text-lg font-bold text-dark-900 dark:text-white truncate",children:z[0]}),i.jsxs("p",{className:"text-xs text-dark-400",children:[z[1]," WR"]})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Work Request - Tahun ",k]}),i.jsx(at,{value:k,onChange:I=>N(I.target.value),options:hTe,className:"w-32"})]})}),i.jsx(Lr,{data:E,columns:A,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor WR, item, area, eksekutor...",searchKeys:["tanggal","nomorWR","item","area","eksekutor","include","keterangan"],actions:I=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),ne(I)},title:"Lihat Detail",children:i.jsx(_s,{className:"h-4 w-4 text-blue-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),B(I.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!F&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),ce(I)},title:G?"Ajukan Edit (perlu approval)":"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),pe(I.id)},title:be?"Ajukan Hapus (perlu approval)":"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Jd),x(null)},title:m?"Edit Work Request":"Buat Work Request",size:"lg",children:i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:I=>w(X=>({...X,tanggal:I.target.value})),required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Nomor WR",type:"text",value:v.nomorWR,onChange:I=>w(X=>({...X,nomorWR:I.target.value})),placeholder:"Nomor Work Request",required:!0}),i.jsx(Oe,{label:"Item",type:"text",value:v.item,onChange:I=>w(X=>({...X,item:I.target.value})),placeholder:"Item",required:!0})]}),i.jsx(Oe,{label:"Area",type:"text",value:v.area,onChange:I=>w(X=>({...X,area:I.target.value})),placeholder:"Area",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Eksekutor",value:v.eksekutor,onChange:I=>w(X=>({...X,eksekutor:I.target.value})),options:pTe,placeholder:"Pilih eksekutor",required:!0}),i.jsx(Oe,{label:"Include",type:"text",value:v.include,onChange:I=>w(X=>({...X,include:I.target.value})),placeholder:"Include"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Keterangan"}),i.jsx("textarea",{value:v.keterangan,onChange:I=>w(X=>({...X,keterangan:I.target.value})),placeholder:"Keterangan detail work request...",className:"input-field min-h-[100px]",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Jd),x(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ge,title:"Hapus Work Request",message:"Apakah Anda yakin ingin menghapus work request ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:T,onClose:()=>{P(!1),D(null),y(null)},onSubmit:Pe,action:_,itemName:"Work Request",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(xt,{isOpen:H,onClose:()=>{ee(!1),Y(null)},title:"Detail Work Request",size:"lg",children:W&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-dark-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:i.jsx(Ta,{className:"h-6 w-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-dark-900 dark:text-white",children:W.nomorWR}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:gt(W.tanggal)})]})]}),i.jsx(Ze,{variant:S==="NPK1"?"primary":"success",children:S})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Item"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:W.item})]}),i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Area"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:W.area})]}),i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Eksekutor"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:W.eksekutor})})]}),i.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Include"}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:W.include||"-"})]})]}),i.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[i.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2",children:"Keterangan"}),i.jsx("p",{className:"text-dark-900 dark:text-white whitespace-pre-wrap leading-relaxed",children:W.keterangan||"-"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-200",children:[!F&&i.jsxs(ye,{variant:"secondary",onClick:()=>{ee(!1),Y(null),ce(W)},children:[i.jsx(hr,{className:"h-4 w-4 mr-2"}),"Edit"]}),i.jsx(ye,{onClick:()=>{ee(!1),Y(null)},children:"Tutup"})]})]})}),i.jsx(Fr,{isOpen:te,onClose:()=>{q(!1),le("")},sheetName:S==="NPK1"?"workrequest_NPK1":"workrequest",recordId:ue,title:"Log Aktivitas Work Request"})]})},x1=new Date().getFullYear(),mTe=[...Array.from({length:x1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(x1+1),label:String(x1+1)}],AO=[{value:"ALL",label:"Semua Bulan"},{value:"1",label:"Januari"},{value:"2",label:"Februari"},{value:"3",label:"Maret"},{value:"4",label:"April"},{value:"5",label:"Mei"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"Agustus"},{value:"9",label:"September"},{value:"10",label:"Oktober"},{value:"11",label:"November"},{value:"12",label:"Desember"}],OO=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Clay",label:"Clay"},{value:"Dolomite",label:"Dolomite"},{value:"Coating Oil",label:"Coating Oil"},{value:"Pewarna",label:"Pewarna"},{value:"Silika",label:"Silika"},{value:"Amnit",label:"Amnit"}],gTe=[{value:"Ton",label:"Ton"},{value:"Pallet",label:"Pallet"},{value:"Jumbo",label:"Jumbo"}],Qd={tanggal:yr(),bahanBaku:"",entries:[{berat:0,unit:"Ton"}],totalBerat:0},CO=({plant:e})=>{var xe;const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),{optimisticAdd:s,optimisticUpdate:o,optimisticDelete:l,confirmAdd:c,confirmUpdate:u}=JF(),[d,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(null),[N,S]=j.useState(null),[T,P]=j.useState(Qd),[_,O]=j.useState(String(new Date().getFullYear())),[C,D]=j.useState(String(new Date().getMonth()+1)),H=e,[ee,W]=j.useState(!1),[Y,te]=j.useState("edit"),[q,ue]=j.useState(null),[le,B]=j.useState(!1),[F,L]=j.useState(""),[R,G]=j.useState(!1),be=_e=>{L(_e),B(!0)},Te=Qr((t==null?void 0:t.role)||""),ce=un((t==null?void 0:t.role)||"")&&!Te,pe=j.useCallback(()=>{if(g&&!h){const _e=document.querySelector("form");_e&&_e.requestSubmit()}},[g,h]);Br(pe,g);const Pe=Nn((t==null?void 0:t.role)||""),ge=Tn((t==null?void 0:t.role)||""),Ae=_e=>_e.reduce((Fe,Se)=>Fe+(Se.berat||0),0),ne=(_e,Fe,Se)=>{P(Re=>{const Qe=[...Re.entries];return Qe[_e]={...Qe[_e],[Fe]:Fe==="berat"?parseFloat(Se)||0:Se},{...Re,entries:Qe,totalBerat:Ae(Qe)}})},E=()=>{P(_e=>({..._e,entries:[..._e.entries,{berat:0,unit:"Ton"}]}))},A=(_e,Fe)=>{_e.key==="Enter"&&(_e.preventDefault(),E(),setTimeout(()=>{const Se=document.querySelectorAll('input[type="number"][placeholder="Berat"]'),Re=Se[Se.length-1];Re&&Re.focus()},50))},M=_e=>{T.entries.length<=1||P(Fe=>{const Se=Fe.entries.filter((Re,Qe)=>Qe!==_e);return{...Fe,entries:Se,totalBerat:Ae(Se)}})};j.useEffect(()=>{(async()=>{p(!0);try{const{readData:Fe,getSheetNameByPlant:Se}=await st(async()=>{const{readData:et,getSheetNameByPlant:Je}=await Promise.resolve().then(()=>ot);return{readData:et,getSheetNameByPlant:Je}},void 0),Re=Se(Xr.BAHAN_BAKU_NPK,H),Qe=await Fe(Re);if(Qe.success&&Qe.data){const Je=[...Qe.data.map(ut=>({...ut,entries:typeof ut.entries=="string"?JSON.parse(ut.entries):ut.entries||[{berat:0,unit:"Ton"}],totalBerat:ut.totalBerat||0,_plant:H}))].sort((ut,ur)=>new Date(ur.tanggal).getTime()-new Date(ut.tanggal).getTime());f(Je)}else f([])}catch(Fe){console.error("Error fetching data:",Fe),f([])}finally{p(!1)}})()},[H]);const me=async _e=>{if(_e.preventDefault(),!T.tanggal){alert("Tanggal wajib diisi!");return}if(!T.bahanBaku){alert("Bahan Baku wajib dipilih!");return}if(T.entries.length===0||T.entries.every(Se=>Se.berat===0)){alert("Minimal satu entry berat harus diisi!");return}m(!1),v(!0);const Fe={...T,entries:JSON.stringify(T.entries),totalBerat:Ae(T.entries),_plant:H};if(w){const Se={...T,id:w,_plant:H,totalBerat:Ae(T.entries)},{rollback:Re}=o(d,Se);f(et=>et.map(Je=>Je.id===w?{...Se,_isPending:!0}:Je));const Qe={...Fe,id:w};n(Xr.BAHAN_BAKU_NPK,Qe).then(et=>{et.success?f(Je=>u(Je,w)):(f(Re()),alert(et.error||"Gagal mengupdate data"))}).catch(()=>{f(Re()),alert("Terjadi kesalahan saat mengupdate data")})}else{const Se=QF(),Re={...T,id:Se,_plant:H,totalBerat:Ae(T.entries),_isPending:!0},{rollback:Qe}=s(d,Re,Se);f(et=>[Re,...et]),r(Xr.BAHAN_BAKU_NPK,Fe).then(et=>{et.success&&et.data?f(Je=>c(Je,Se,et.data.id||Se)):(f(Qe()),alert(et.error||"Gagal menyimpan data"))}).catch(()=>{f(Qe()),alert("Terjadi kesalahan saat menyimpan data")})}P(Qd),k(null),setTimeout(()=>v(!1),1500)},z=_e=>{if(Pe){ue(_e),te("edit"),W(!0);return}const Fe=typeof _e.entries=="string"?JSON.parse(_e.entries):_e.entries||[{berat:0,unit:"Ton"}];P({..._e,entries:Fe,totalBerat:Ae(Fe)}),k(_e.id||null),m(!0)},V=_e=>{if(ge){S(_e),te("delete"),W(!0);return}S(_e),b(!0)},fe=async _e=>{p(!0);try{const{createData:Fe,SHEETS:Se}=await st(async()=>{const{createData:et,SHEETS:Je}=await Promise.resolve().then(()=>ot);return{createData:et,SHEETS:Je}},void 0),Re={type:"BAHAN_BAKU_NPK",action:Y,itemId:Y==="edit"?q==null?void 0:q.id:N,itemData:Y==="edit"?q:d.find(et=>et.id===N),reason:_e,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Qe=await Fe(Se.APPROVAL_REQUESTS,Re);if(Qe.success)W(!1),ue(null),S(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Qe.error||"Gagal mengirim permintaan")}catch(Fe){console.error("Error submitting approval:",Fe),alert(Fe instanceof Error?Fe.message:"Terjadi kesalahan")}finally{p(!1)}},I=async()=>{if(!N)return;const _e=d.find(Se=>Se.id===N),{rollback:Fe}=l(d,N);f(Se=>Se.filter(Re=>Re.id!==N)),b(!1),v(!0),a(Xr.BAHAN_BAKU_NPK,{id:N,_plant:(_e==null?void 0:_e._plant)||H}).then(Se=>{Se.success||(f(Fe()),alert(Se.error||"Gagal menghapus data"))}).catch(()=>{f(Fe()),alert("Terjadi kesalahan saat menghapus data")}),S(null),setTimeout(()=>v(!1),1500)},X=()=>{P(Qd),k(null),m(!0)},re=d.filter(_e=>{const Fe=_e._plant===H,Se=new Date(_e.tanggal),Re=Se.getFullYear(),Qe=Se.getMonth()+1,et=Re===parseInt(_),Je=C==="ALL"||Qe===parseInt(C);return Fe&&et&&Je}),J=re.reduce((_e,Fe)=>{const Se=Fe.bahanBaku||"Unknown";return _e[Se]=(_e[Se]||0)+(Fe.totalBerat||0),_e},{}),ke=_e=>{const Fe=typeof _e=="string"?JSON.parse(_e):_e;return!Fe||!Array.isArray(Fe)?"-":Fe.map(Se=>`${oe(Se.berat)} ${Se.unit}`).join(", ")},Ke=[{key:"tanggal",header:"Tanggal",sortable:!0,render:_e=>gt(_e)},{key:"bahanBaku",header:"Bahan Baku",render:_e=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vh,{className:"h-4 w-4 text-dark-400"}),i.jsx("span",{className:"font-medium",children:_e})]})},{key:"entries",header:"Detail Berat & Unit",render:_e=>i.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:ke(_e)})},{key:"totalBerat",header:"Total Berat",render:_e=>i.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:oe(ve(_e))})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Bahan Baku NPK ",H==="NPK1"?"1":"2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data penerimaan bahan baku NPK"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",onClick:()=>G(!0),className:"border-green-300 text-green-700 hover:bg-green-50 dark:border-green-700 dark:text-green-400 dark:hover:bg-green-900/20",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),ce&&i.jsxs(ye,{onClick:X,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4",children:Object.entries(J).slice(0,5).map(([_e,Fe])=>i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:_e}),i.jsx("p",{className:"text-base sm:text-lg font-bold text-dark-900 dark:text-white",children:oe(Fe)})]},_e))}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs(Tt,{children:["Data Bahan Baku NPK - ",C==="ALL"?"Tahun":(xe=AO.find(_e=>_e.value===C))==null?void 0:xe.label," ",_]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(at,{value:C,onChange:_e=>D(_e.target.value),options:AO,className:"w-40"}),i.jsx(at,{value:_,onChange:_e=>O(_e.target.value),options:mTe,className:"w-28"})]})]})}),i.jsx(Lr,{data:re,columns:Ke,loading:h,searchable:!0,searchPlaceholder:"Cari tanggal, bahan baku, total berat...",searchKeys:["tanggal","bahanBaku","totalBerat"],actions:Te?_e=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),be(_e.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-blue-600"})})}):_e=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),be(_e.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-blue-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),z(_e)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),V(_e.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:g,onClose:()=>{m(!1),P(Qd),k(null)},title:w?"Edit Data Bahan Baku NPK":"Tambah Data Bahan Baku NPK",size:"lg",children:i.jsxs("form",{onSubmit:me,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:T.tanggal,onChange:_e=>P(Fe=>({...Fe,tanggal:_e.target.value})),required:!0}),i.jsx(at,{label:"Bahan Baku",value:T.bahanBaku,onChange:_e=>P(Fe=>({...Fe,bahanBaku:_e.target.value})),options:OO,placeholder:"Pilih bahan baku",required:!0}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-dark-700 dark:text-dark-300",children:"Detail Berat & Unit"}),i.jsxs(ye,{type:"button",variant:"secondary",size:"sm",onClick:E,children:[i.jsx(xr,{className:"h-4 w-4 mr-1"}),"Tambah"]})]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:T.entries.map((_e,Fe)=>i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-dark-50 dark:bg-dark-800 rounded-lg",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Oe,{type:"number",value:_e.berat||"",onChange:Se=>ne(Fe,"berat",Se.target.value),onKeyDown:Se=>A(Se),placeholder:"Berat",step:"0.01",min:"0",required:!0})}),i.jsx("div",{className:"w-32",children:i.jsx(at,{value:_e.unit,onChange:Se=>ne(Fe,"unit",Se.target.value),options:gTe,required:!0})}),T.entries.length>1&&i.jsx(ye,{type:"button",variant:"ghost",size:"icon",onClick:()=>M(Fe),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:i.jsx(Za,{className:"h-4 w-4"})})]},Fe))}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:[i.jsx("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:"Total Berat:"}),i.jsx("span",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:oe(Ae(T.entries))})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{m(!1),P(Qd),k(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:h,children:w?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:x,onClose:()=>{b(!1),S(null)},onConfirm:I,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:h}),i.jsx(Pn,{isOpen:ee,onClose:()=>{W(!1),ue(null),S(null)},onSubmit:fe,action:Y,itemName:"data bahan baku NPK",loading:h}),i.jsx(Nr,{isVisible:y,message:"Data berhasil disimpan!",onClose:()=>v(!1)}),i.jsx(cee,{isOpen:R,onClose:()=>G(!1),data:d,plantName:H==="NPK1"?"NPK 1":"NPK 2",bahanBakuOptions:OO}),i.jsx(Fr,{isOpen:le,onClose:()=>{B(!1),L("")},sheetName:H==="NPK1"?"bahanbaku_npk_NPK1":"bahanbaku_npk",recordId:F,title:"Log Aktivitas Bahan Baku NPK"})]})},v1=new Date().getFullYear(),xTe=[...Array.from({length:v1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(v1+1),label:String(v1+1)}],Zd={tanggal:yr(),namaEquipment:"",posisiPengukuran:"",pointPengukuran:"",nilaiVibrasi:0,status:"Normal",keterangan:""},DO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(Zd),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState("edit"),[C,D]=j.useState(null),[H,ee]=j.useState(!1),[W,Y]=j.useState(""),te=M=>{Y(M),ee(!0)},q=(t==null?void 0:t.role)||"",ue=un(q),le=j.useCallback(()=>{if(u&&!l){const M=document.querySelector("form");M&&M.requestSubmit()}},[u,l]);Br(le,u);const B=Nn(q),F=Tn(q),L=Qr(q),R=[{value:"Vertical",label:"Vertical"},{value:"Horizontal",label:"Horizontal"},{value:"Axial",label:"Axial"}],G=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:me,SHEETS:z}=await st(async()=>{const{fetchDataByPlant:fe,SHEETS:I}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:fe,SHEETS:I}},void 0),V=await me(z.VIBRASI);if(V.success&&V.data){const fe=[...V.data].sort((I,X)=>new Date(X.tanggal).getTime()-new Date(I.tanggal).getTime());o(fe)}else o([])}catch(me){console.error("Error fetching data:",me),o([])}finally{c(!1)}})()},[]),j.useEffect(()=>{let M="Normal";v.nilaiVibrasi>=7?M="Alert":v.nilaiVibrasi>=4&&(M="Warning"),w(me=>({...me,status:M}))},[v.nilaiVibrasi]);const be=async M=>{M.preventDefault(),c(!0);try{if(m){const me={...v,id:m,_plant:S},z=await n(Xr.VIBRASI,me);if(z.success)o(V=>V.map(fe=>fe.id===m?{...v,id:m,_plant:S}:fe));else throw new Error(z.error||"Gagal mengupdate data")}else{const me={...v,_plant:S},z=await r(Xr.VIBRASI,me);if(z.success&&z.data){const V={...z.data,_plant:S};o(fe=>[V,...fe])}else throw new Error(z.error||"Gagal menyimpan data")}d(!1),w(Zd),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(me){console.error("Error saving data:",me),alert(me instanceof Error?me.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Te=M=>{if(B){D(M),O("edit"),P(!0);return}w(M),x(M.id||null),d(!0)},ce=M=>{if(F){const me=s.find(z=>z.id===M);me&&(D(me),O("delete"),P(!0));return}y(M),h(!0)},pe=async M=>{if(!(!C||!t)){c(!0);try{const{createData:me,SHEETS:z}=await st(async()=>{const{createData:I,SHEETS:X}=await Promise.resolve().then(()=>ot);return{createData:I,SHEETS:X}},void 0),V={type:"vibrasi",action:_,itemId:C.id,itemData:C,targetSheet:S==="NPK1"?"vibrasi_NPK1":"vibrasi",reason:M,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},fe=await me(z.APPROVAL_REQUESTS,V);if(fe.success)P(!1),D(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(fe.error||"Gagal mengirim permintaan")}catch(me){console.error("Error submitting approval:",me),alert(me instanceof Error?me.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},Pe=async()=>{if(b){c(!0);try{const M=s.find(z=>z.id===b),me=await a(Xr.VIBRASI,{id:b,_plant:(M==null?void 0:M._plant)||S});if(me.success)o(z=>z.filter(V=>V.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(me.error||"Gagal menghapus data")}catch(M){console.error("Error deleting data:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ge=()=>{w(Zd),x(null),d(!0)},Ae=s.filter(M=>{const me=M._plant===S,V=new Date(M.tanggal).getFullYear()===parseInt(k);return me&&V}),ne={normal:Ae.filter(M=>M.status==="Normal").length,warning:Ae.filter(M=>M.status==="Warning").length,alert:Ae.filter(M=>M.status==="Alert").length},E=M=>{switch(M){case"Normal":return"success";case"Warning":return"warning";case"Alert":return"danger";default:return"default"}},A=[{key:"tanggal",header:"Tanggal",sortable:!0,render:M=>gt(M)},{key:"namaEquipment",header:"Equipment",render:M=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rb,{className:"h-4 w-4 text-dark-400"}),i.jsx("span",{className:"font-medium",children:M})]})},{key:"posisiPengukuran",header:"Posisi Pengukuran",render:M=>i.jsx(Ze,{variant:"default",children:M})},{key:"pointPengukuran",header:"Point Pengukuran",render:M=>i.jsx(Ze,{variant:"primary",children:M})},{key:"nilaiVibrasi",header:"Vibrasi (mm/s)",render:M=>{const me=ve(M);return i.jsx("span",{className:`font-bold ${me>=7?"text-red-600":me>=4?"text-amber-600":"text-green-600"}`,children:oe(me)})}},{key:"status",header:"Status",render:M=>i.jsx(Ze,{variant:E(M),children:M})},{key:"keterangan",header:"Keterangan"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Vibrasi ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Monitoring vibrasi equipment produksi"})]}),i.jsx("div",{className:"flex items-center gap-3",children:ue&&i.jsxs(ye,{onClick:ge,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Normal"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ne.normal})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Warning"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:ne.warning})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Alert"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:ne.alert})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pengukuran"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:Ae.length})]})]}),i.jsx(Ie,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Rb,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Panduan Status Vibrasi"}),i.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(Ze,{variant:"success",children:"Normal"}),i.jsx("p",{className:"text-dark-600 mt-1",children:"< 4 mm/s"})]}),i.jsxs("div",{children:[i.jsx(Ze,{variant:"warning",children:"Warning"}),i.jsx("p",{className:"text-dark-600 mt-1",children:"4 - 7 mm/s"})]}),i.jsxs("div",{children:[i.jsx(Ze,{variant:"danger",children:"Alert"}),i.jsx("p",{className:"text-dark-600 mt-1",children:"> 7 mm/s"})]})]})]})]})}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Pengukuran Vibrasi - Tahun ",k]}),i.jsx(at,{value:k,onChange:M=>N(M.target.value),options:xTe,className:"w-32"})]})}),i.jsx(Lr,{data:Ae,columns:A,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, equipment, posisi, status...",searchKeys:["tanggal","namaEquipment","posisiPengukuran","pointPengukuran","nilaiVibrasi","status","keterangan"],actions:L?M=>i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ye,{variant:"ghost",size:"icon",onClick:me=>{me.stopPropagation(),te(M.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})})}):M=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:me=>{me.stopPropagation(),te(M.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:me=>{me.stopPropagation(),Te(M)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:me=>{me.stopPropagation(),ce(M.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(Zd),x(null)},title:m?"Edit Data Vibrasi":"Tambah Data Vibrasi",size:"md",children:i.jsxs("form",{onSubmit:be,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:M=>w(me=>({...me,tanggal:M.target.value})),required:!0}),i.jsx(Oe,{label:"Nama Equipment",type:"text",value:v.namaEquipment,onChange:M=>w(me=>({...me,namaEquipment:M.target.value})),placeholder:"Masukkan nama equipment",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Posisi Pengukuran",value:v.posisiPengukuran,onChange:M=>w(me=>({...me,posisiPengukuran:M.target.value})),options:R,placeholder:"Pilih posisi",required:!0}),i.jsx(at,{label:"Point Pengukuran",value:v.pointPengukuran,onChange:M=>w(me=>({...me,pointPengukuran:M.target.value})),options:G,placeholder:"Pilih point",required:!0})]}),i.jsx(Oe,{label:"Nilai Vibrasi (mm/s)",type:"number",step:"0.1",value:v.nilaiVibrasi||"",onChange:M=>w(me=>({...me,nilaiVibrasi:parseFloat(M.target.value)||0})),placeholder:"0.0",required:!0}),i.jsx("div",{className:"p-4 bg-dark-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600",children:"Status:"}),i.jsx(Ze,{variant:E(v.status||"Normal"),className:"text-lg px-4",children:v.status})]})}),i.jsx(Oe,{label:"Keterangan",type:"text",value:v.keterangan,onChange:M=>w(me=>({...me,keterangan:M.target.value})),placeholder:"Keterangan tambahan"}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(Zd),x(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Pe,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:T,onClose:()=>{P(!1),D(null)},onSubmit:pe,action:_,itemName:"data vibrasi",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:H,onClose:()=>{ee(!1),Y("")},sheetName:S==="NPK1"?"vibrasi_NPK1":"vibrasi",recordId:W,title:"Log Aktivitas Vibrasi"})]})},y1=new Date().getFullYear(),vTe=[...Array.from({length:y1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(y1+1),label:String(y1+1)}],ef={tanggal:yr(),nomorGatePass:"",noPolisi:"",pemilikBarang:"",namaPembawa:"",mengetahui:"",deskripsiBarang:"",alasanKeluar:""},MO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(ef),[k,N]=j.useState(String(new Date().getFullYear())),[S,T]=j.useState(!1),[P,_]=j.useState(null),O=e,[C,D]=j.useState(!1),[H,ee]=j.useState(""),W=z=>{ee(z),D(!0)},[Y,te]=j.useState(!1),[q,ue]=j.useState("edit"),[le,B]=j.useState(null),F=Qr((t==null?void 0:t.role)||""),L=un((t==null?void 0:t.role)||"")&&!F,R=j.useCallback(()=>{if(u&&!l){const z=document.querySelector("form");z&&z.requestSubmit()}},[u,l]);Br(R,u);const G=Nn((t==null?void 0:t.role)||""),be=Tn((t==null?void 0:t.role)||""),Te=z=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][z];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:V,SHEETS:fe}=await st(async()=>{const{fetchDataByPlant:X,SHEETS:re}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:X,SHEETS:re}},void 0),I=await V(fe.GATE_PASS);if(I.success&&I.data){const X=[...I.data].sort((re,J)=>new Date(J.tanggal).getTime()-new Date(re.tanggal).getTime());o(X)}else o([])}catch(V){console.error("Error fetching data:",V),o([])}finally{c(!1)}})()},[]);const ce=()=>{const z=new Date,V=z.getFullYear(),fe=z.getMonth(),I=Te(fe),X=O==="NPK1"?"NPK-1":"NPK-2",re=s.filter(ke=>{if(!ke.tanggal)return!1;const Ke=new Date(ke.tanggal);return Ke.getMonth()===fe&&Ke.getFullYear()===V&&ke._plant===O});return`${String(re.length+1).padStart(3,"0")}/GP/${X}/${I}/${V}`},pe=async z=>{z.preventDefault(),c(!0);try{if(m){const V={...v,id:m,_plant:O},fe=await n(Xr.GATE_PASS,V);if(fe.success)o(I=>I.map(X=>X.id===m?{...v,id:m,_plant:O}:X));else throw new Error(fe.error||"Gagal mengupdate data")}else{const V={...v,nomorGatePass:v.nomorGatePass||ce(),_plant:O},fe=await r(Xr.GATE_PASS,V);if(fe.success&&fe.data){const I={...fe.data,_plant:e};o(X=>[I,...X])}else throw new Error(fe.error||"Gagal menyimpan data")}d(!1),w(ef),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(V){console.error("Error saving data:",V),alert(V instanceof Error?V.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Pe=z=>{if(G){B(z),ue("edit"),te(!0);return}w(z),x(z.id||null),d(!0)},ge=z=>{if(be){y(z),ue("delete"),te(!0);return}y(z),h(!0)},Ae=async z=>{c(!0);try{const{createData:V,SHEETS:fe}=await st(async()=>{const{createData:re,SHEETS:J}=await Promise.resolve().then(()=>ot);return{createData:re,SHEETS:J}},void 0),I={type:"GATE_PASS",action:q,itemId:q==="edit"?le==null?void 0:le.id:b,itemData:q==="edit"?le:s.find(re=>re.id===b),reason:z,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},X=await V(fe.APPROVAL_REQUESTS,I);if(X.success)te(!1),B(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(X.error||"Gagal mengirim permintaan")}catch(V){console.error("Error submitting approval:",V),alert(V instanceof Error?V.message:"Terjadi kesalahan")}finally{c(!1)}},ne=async()=>{if(b){c(!0);try{const z=s.find(fe=>fe.id===b),V=await a(Xr.GATE_PASS,{id:b,_plant:(z==null?void 0:z._plant)||O});if(V.success)o(fe=>fe.filter(I=>I.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(V.error||"Gagal menghapus data")}catch(z){console.error("Error deleting data:",z),alert(z instanceof Error?z.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},E=()=>{w({...ef,nomorGatePass:ce()}),x(null),d(!0)},A=s.filter(z=>{const V=z._plant===O,I=new Date(z.tanggal).getFullYear()===parseInt(k);return V&&I}),M=[{key:"tanggal",header:"Tanggal",sortable:!0,render:z=>gt(z)},{key:"nomorGatePass",header:"No. Gate Pass",render:z=>i.jsx("span",{className:"font-mono font-semibold text-primary-600",children:z})},{key:"noPolisi",header:"No Polisi"},{key:"pemilikBarang",header:"Pemilik Barang"},{key:"namaPembawa",header:"Nama Pembawa"},{key:"mengetahui",header:"Mengetahui"},{key:"deskripsiBarang",header:"Deskripsi Barang",render:z=>i.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:z})},{key:"alasanKeluar",header:"Alasan Mengeluarkan",render:z=>i.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:z})}],me=A.length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Gate Pass ",O==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data gate pass barang masuk/keluar"})]}),i.jsx("div",{className:"flex items-center gap-3",children:L&&i.jsxs(ye,{onClick:E,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Gate Pass"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Gate Pass"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:me})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Bulan Ini"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:A.filter(z=>{const V=new Date(z.tanggal),fe=new Date;return V.getMonth()===fe.getMonth()&&V.getFullYear()===fe.getFullYear()}).length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jenis Barang"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:new Set(A.map(z=>z.namaBarang).filter(Boolean)).size})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:["Tahun ",k]}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:me})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Gate Pass - Tahun ",k]}),i.jsx(at,{value:k,onChange:z=>N(z.target.value),options:vTe,className:"w-32"})]})}),i.jsx(Lr,{data:A,columns:M,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor GP, no polisi, pemilik, pembawa...",searchKeys:["tanggal","nomorGatePass","noPolisi","pemilikBarang","namaPembawa","mengetahui","deskripsiBarang","alasanKeluar"],actions:z=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:V=>{V.stopPropagation(),_(z),T(!0)},title:"Cetak Gate Pass",children:i.jsx(Rn,{className:"h-4 w-4 text-amber-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:V=>{V.stopPropagation(),W(z.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!F&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:V=>{V.stopPropagation(),Pe(z)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:V=>{V.stopPropagation(),ge(z.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(ef),x(null)},title:m?"Edit Gate Pass":"Buat Gate Pass",size:"lg",children:i.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:z=>w(V=>({...V,tanggal:z.target.value})),required:!0}),i.jsx(Oe,{label:"No. Gate Pass",type:"text",value:v.nomorGatePass,onChange:z=>w(V=>({...V,nomorGatePass:z.target.value})),placeholder:"Auto generate",disabled:!m})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"No Polisi",type:"text",value:v.noPolisi,onChange:z=>w(V=>({...V,noPolisi:z.target.value})),placeholder:"Contoh: T 8643 HI",required:!0}),i.jsx(Oe,{label:"Pemilik Barang",type:"text",value:v.pemilikBarang,onChange:z=>w(V=>({...V,pemilikBarang:z.target.value})),placeholder:"Nama pemilik barang",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Nama Pembawa",type:"text",value:v.namaPembawa,onChange:z=>w(V=>({...V,namaPembawa:z.target.value})),placeholder:"Nama pembawa barang",required:!0}),i.jsx(Oe,{label:"Mengetahui",type:"text",value:v.mengetahui,onChange:z=>w(V=>({...V,mengetahui:z.target.value})),placeholder:"Nama yang mengetahui",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Barang"}),i.jsx("textarea",{value:v.deskripsiBarang,onChange:z=>w(V=>({...V,deskripsiBarang:z.target.value})),placeholder:"Deskripsi detail barang...",className:"input-field min-h-[80px]",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Mengeluarkan"}),i.jsx("textarea",{value:v.alasanKeluar,onChange:z=>w(V=>({...V,alasanKeluar:z.target.value})),placeholder:"Alasan mengeluarkan barang...",className:"input-field min-h-[80px]",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(ef),x(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ne,title:"Hapus Gate Pass",message:"Apakah Anda yakin ingin menghapus gate pass ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:Y,onClose:()=>{te(!1),B(null),y(null)},onSubmit:Ae,action:q,itemName:"gate pass",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),P&&i.jsx(aW,{isOpen:S,onClose:()=>{T(!1),_(null)},data:P,plant:O}),i.jsx(Fr,{isOpen:C,onClose:()=>{D(!1),ee("")},sheetName:O==="NPK1"?"gatepass_NPK1":"gatepass",recordId:H,title:"Log Aktivitas Gate Pass"})]})},b1=new Date().getFullYear(),yTe=[...Array.from({length:b1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(b1+1),label:String(b1+1)}],tf={tanggal:yr(),nomorPerta:"",deskripsi:"",status:"Open",shift:"1",jenisBBM:"Solar",volumeAwal:0,volumePengisian:0,volumePemakaian:0,volumeAkhir:0,keterangan:""},bTe=()=>{var ne;const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=en(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,b]=j.useState(null),[y,v]=j.useState(tf),[w,k]=j.useState(String(new Date().getFullYear())),[N,S]=j.useState((e==null?void 0:e.plant)||"ALL"),[T,P]=j.useState(!1),[_,O]=j.useState("edit"),[C,D]=j.useState(null),[H,ee]=j.useState(!1),[W,Y]=j.useState(""),te=Qr((e==null?void 0:e.role)||""),q=un((e==null?void 0:e.role)||"")&&!te,ue=j.useCallback(()=>{if(c&&!o){const E=document.querySelector("form");E&&E.requestSubmit()}},[c,o]);Br(ue,c);const le=Nn((e==null?void 0:e.role)||""),B=Tn((e==null?void 0:e.role)||""),F=[{value:"Solar",label:"Solar"},{value:"Pertamax",label:"Pertamax"},{value:"Pertalite",label:"Pertalite"},{value:"Premium",label:"Premium"},{value:"Biosolar",label:"Biosolar"}];j.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:A,SHEETS:M}=await st(async()=>{const{fetchDataByPlant:z,SHEETS:V}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:z,SHEETS:V}},void 0),me=await A(M.PERTA);if(me.success&&me.data){const z=[...me.data].sort((V,fe)=>new Date(fe.tanggal).getTime()-new Date(V.tanggal).getTime());s(z)}else s([])}catch(A){console.error("Error fetching data:",A),s([])}finally{l(!1)}})()},[]),j.useEffect(()=>{const E=(y.volumeAwal||0)+(y.volumePengisian||0)-(y.volumePemakaian||0);v(A=>({...A,volumeAkhir:E>0?E:0}))},[y.volumeAwal,y.volumePengisian,y.volumePemakaian]);const L=async E=>{E.preventDefault(),l(!0);try{const A=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant;if(g){const M={...y,id:g,_plant:A},me=await r("perta",M);if(me.success)s(z=>z.map(V=>V.id===g?{...y,id:g,_plant:A}:V));else throw new Error(me.error||"Gagal mengupdate data")}else{const M={...y,_plant:A},me=await t("perta",M);if(me.success&&me.data){const z={...me.data,_plant:A};s(V=>[z,...V])}else throw new Error(me.error||"Gagal menyimpan data")}u(!1),v(tf),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(A){console.error("Error saving data:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},R=E=>{if(le){D(E),O("edit"),P(!0);return}v(E),m(E.id||null),u(!0)},G=E=>{if(B){b(E),O("delete"),P(!0);return}b(E),f(!0)},be=async E=>{l(!0);try{const{createData:A,SHEETS:M}=await st(async()=>{const{createData:V,SHEETS:fe}=await Promise.resolve().then(()=>ot);return{createData:V,SHEETS:fe}},void 0),me={type:"PERTA",action:_,itemId:_==="edit"?C==null?void 0:C.id:x,itemData:_==="edit"?C:a.find(V=>V.id===x),reason:E,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},z=await A(M.APPROVAL_REQUESTS,me);if(z.success)P(!1),D(null),b(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(z.error||"Gagal mengirim permintaan")}catch(A){console.error("Error submitting approval:",A),alert(A instanceof Error?A.message:"Terjadi kesalahan")}finally{l(!1)}},Te=async()=>{if(x){l(!0);try{const E=a.find(me=>me.id===x),A=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant,M=await n("perta",{id:x,_plant:(E==null?void 0:E._plant)||A});if(M.success)s(me=>me.filter(z=>z.id!==x)),f(!1),b(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(M.error||"Gagal menghapus data")}catch(E){console.error("Error deleting data:",E),alert(E instanceof Error?E.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},ce=()=>{const E=a[0];v({...tf,volumeAwal:(E==null?void 0:E.volumeAkhir)||0}),m(null),u(!0)},pe=a.filter(E=>{const A=N==="ALL"||E._plant===N,me=new Date(E.tanggal).getFullYear()===parseInt(w);return A&&me}),Pe=pe.reduce((E,A)=>({pengisian:E.pengisian+(A.volumePengisian||0),pemakaian:E.pemakaian+(A.volumePemakaian||0)}),{pengisian:0,pemakaian:0}),ge=((ne=pe[0])==null?void 0:ne.volumeAkhir)||0,Ae=[{key:"tanggal",header:"Tanggal",sortable:!0,render:E=>gt(E)},{key:"shift",header:"Shift",render:E=>i.jsxs(Ze,{variant:"primary",children:["Shift ",E]})},{key:"jenisBBM",header:"Jenis BBM",render:E=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gh,{className:"h-4 w-4 text-amber-500"}),i.jsx("span",{className:"font-medium",children:E})]})},{key:"volumeAwal",header:"Vol. Awal (L)",render:E=>oe(ve(E))},{key:"volumePengisian",header:"Pengisian (L)",render:E=>i.jsxs("span",{className:"text-green-600 font-semibold",children:["+",oe(ve(E))]})},{key:"volumePemakaian",header:"Pemakaian (L)",render:E=>i.jsxs("span",{className:"text-red-600 font-semibold",children:["-",oe(ve(E))]})},{key:"volumeAkhir",header:"Vol. Akhir (L)",render:E=>i.jsx("span",{className:"font-bold text-dark-900 dark:text-white",children:oe(ve(E))})},{key:"keterangan",header:"Keterangan"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Perta (BBM)"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan bakar"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.plant)==="ALL"&&i.jsx(at,{value:N,onChange:E=>S(E.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),q&&i.jsxs(ye,{onClick:ce,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stock Saat Ini"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[oe(ge)," L"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pengisian"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:["+",oe(Pe.pengisian)," L"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pemakaian"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:["-",oe(Pe.pemakaian)," L"]})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Jumlah Entry"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:pe.length})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Pemakaian BBM - Tahun ",w]}),i.jsx(at,{value:w,onChange:E=>k(E.target.value),options:yTe,className:"w-32"})]})}),i.jsx(Lr,{data:pe,columns:Ae,loading:o,searchable:!0,searchPlaceholder:"Cari tanggal, shift, jenis BBM, keterangan...",searchKeys:["tanggal","shift","jenisBBM","volumeAwal","volumePengisian","volumePemakaian","volumeAkhir","keterangan"],actions:te?void 0:E=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),Y(E.id||""),ee(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-4 w-4 text-gray-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),R(E)},children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),G(E.id)},children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),v(tf),m(null)},title:g?"Edit Data BBM":"Tambah Data BBM",size:"md",children:i.jsxs("form",{onSubmit:L,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:y.tanggal,onChange:E=>v(A=>({...A,tanggal:E.target.value})),required:!0}),i.jsx(at,{label:"Shift",value:y.shift,onChange:E=>v(A=>({...A,shift:E.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0})]}),i.jsx(at,{label:"Jenis BBM",value:y.jenisBBM,onChange:E=>v(A=>({...A,jenisBBM:E.target.value})),options:F,required:!0}),i.jsx(Oe,{label:"Volume Awal (Liter)",type:"number",value:y.volumeAwal||"",onChange:E=>v(A=>({...A,volumeAwal:parseFloat(E.target.value)||0})),placeholder:"0",required:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Volume Pengisian (Liter)",type:"number",value:y.volumePengisian||"",onChange:E=>v(A=>({...A,volumePengisian:parseFloat(E.target.value)||0})),placeholder:"0"}),i.jsx(Oe,{label:"Volume Pemakaian (Liter)",type:"number",value:y.volumePemakaian||"",onChange:E=>v(A=>({...A,volumePemakaian:parseFloat(E.target.value)||0})),placeholder:"0",required:!0})]}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 font-medium",children:"Volume Akhir:"}),i.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[oe(y.volumeAkhir||0)," Liter"]})]})}),i.jsx(Oe,{label:"Keterangan",type:"text",value:y.keterangan,onChange:E=>v(A=>({...A,keterangan:E.target.value})),placeholder:"Keterangan tambahan"}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{u(!1),v(tf),m(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:d,onClose:()=>{f(!1),b(null)},onConfirm:Te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),i.jsx(Pn,{isOpen:T,onClose:()=>{P(!1),D(null),b(null)},onSubmit:be,action:_,itemName:"data perta",loading:o}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),i.jsx(Fr,{isOpen:H,onClose:()=>{ee(!1),Y("")},sheetName:"perta",recordId:W,title:"Log Aktivitas Perta (BBM)"})]})},w1=new Date().getFullYear(),wTe=[...Array.from({length:w1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(w1+1),label:String(w1+1)}],rf={tanggalMulai:yr(),items:[{item:"",deskripsi:""}],tanggalSelesai:"",jumlahHari:0},RO=({plant:e})=>{var fe;const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(rf),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState(null),[C,D]=j.useState(!1),[H,ee]=j.useState(""),W=I=>{ee(I),D(!0)},[Y,te]=j.useState(!1),[q,ue]=j.useState("edit"),[le,B]=j.useState(null),F=Qr((t==null?void 0:t.role)||""),L=un((t==null?void 0:t.role)||"")&&!F,R=j.useCallback(()=>{if(u&&!l){const I=document.querySelector("form");I&&I.requestSubmit()}},[u,l]);Br(R,u);const G=Nn((t==null?void 0:t.role)||""),be=Tn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:X,SHEETS:re}=await st(async()=>{const{fetchDataByPlant:ke,SHEETS:Ke}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:ke,SHEETS:Ke}},void 0),J=await X(re.PERBAIKAN_TAHUNAN);if(J.success&&J.data){const Ke=J.data.map(xe=>({...xe,items:typeof xe.items=="string"?JSON.parse(xe.items):xe.items||[]})).sort((xe,_e)=>new Date(_e.tanggalMulai||0).getTime()-new Date(xe.tanggalMulai||0).getTime());o(Ke)}else o([])}catch(X){console.error("Error fetching data:",X),o([])}finally{c(!1)}})()},[]),j.useEffect(()=>{if(v.tanggalMulai&&v.tanggalSelesai){const I=new Date(v.tanggalMulai),re=new Date(v.tanggalSelesai).getTime()-I.getTime(),J=Math.ceil(re/(1e3*3600*24))+1;w(ke=>({...ke,jumlahHari:J>0?J:0}))}else w(I=>({...I,jumlahHari:0}))},[v.tanggalMulai,v.tanggalSelesai]);const Te=async I=>{I.preventDefault(),c(!0);try{const X={...v,items:JSON.stringify(v.items)};if(m){const re={...X,id:m,_plant:S},J=await n("perbaikan_tahunan",re);if(J.success)o(ke=>ke.map(Ke=>Ke.id===m?{...v,id:m,_plant:S}:Ke));else throw new Error(J.error||"Gagal mengupdate data")}else{const re={...X,_plant:S},J=await r("perbaikan_tahunan",re);if(J.success&&J.data){const ke={...v,id:J.data.id,_plant:S};o(Ke=>[ke,...Ke])}else throw new Error(J.error||"Gagal menyimpan data")}d(!1),w(rf),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(X){console.error("Error saving data:",X),alert(X instanceof Error?X.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ce=I=>{O(I),P(!0)},pe=I=>{if(G){B(I),ue("edit"),te(!0);return}w({...I,items:Array.isArray(I.items)?I.items:[{item:"",deskripsi:""}]}),x(I.id||null),d(!0)},Pe=I=>{if(be){y(I),ue("delete"),te(!0);return}y(I),h(!0)},ge=async I=>{c(!0);try{const{createData:X,SHEETS:re}=await st(async()=>{const{createData:Ke,SHEETS:xe}=await Promise.resolve().then(()=>ot);return{createData:Ke,SHEETS:xe}},void 0),J={type:"PERBAIKAN_TAHUNAN",action:q,itemId:q==="edit"?le==null?void 0:le.id:b,itemData:q==="edit"?le:s.find(Ke=>Ke.id===b),reason:I,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ke=await X(re.APPROVAL_REQUESTS,J);if(ke.success)te(!1),B(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ke.error||"Gagal mengirim permintaan")}catch(X){console.error("Error submitting approval:",X),alert(X instanceof Error?X.message:"Terjadi kesalahan")}finally{c(!1)}},Ae=async()=>{if(b){c(!0);try{const I=s.find(re=>re.id===b),X=await a("perbaikan_tahunan",{id:b,_plant:(I==null?void 0:I._plant)||S});if(X.success)o(re=>re.filter(J=>J.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(X.error||"Gagal menghapus data")}catch(I){console.error("Error deleting data:",I),alert(I instanceof Error?I.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ne=()=>{w(rf),x(null),d(!0)},E=()=>{w(I=>({...I,items:[...I.items,{item:"",deskripsi:""}]}))},A=I=>{v.items.length>1&&w(X=>({...X,items:X.items.filter((re,J)=>J!==I)}))},M=(I,X,re)=>{w(J=>({...J,items:J.items.map((ke,Ke)=>Ke===I?{...ke,[X]:re}:ke)}))},me=s.filter(I=>{const X=I._plant===S,J=new Date(I.tanggalMulai).getFullYear()===parseInt(k);return X&&J}),z=me.reduce((I,X)=>I+(X.jumlahHari||0),0),V=[{key:"tanggalMulai",header:"Tanggal Mulai",sortable:!0,render:I=>gt(I)},{key:"tanggalSelesai",header:"Tanggal Selesai",render:I=>I?gt(I):"-"},{key:"items",header:"Item Perbaikan",render:I=>{const X=I;return!X||!Array.isArray(X)?"-":i.jsxs("div",{className:"max-w-xs",children:[X.slice(0,2).map((re,J)=>i.jsx("div",{className:"text-sm",children:i.jsx("span",{className:"font-medium",children:re.item})},J)),X.length>2&&i.jsxs("span",{className:"text-xs text-dark-400",children:["+",X.length-2," lainnya"]})]})}},{key:"jumlahHari",header:"Jumlah Hari",render:I=>i.jsxs(Ze,{variant:"primary",children:[I," Hari"]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Perbaikan Tahunan ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data perbaikan tahunan (PERTA)"})]}),i.jsx("div",{className:"flex items-center gap-3",children:L&&i.jsxs(ye,{onClick:ne,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Perbaikan"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:me.length})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Hari Perta"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:[z," Hari"]})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Perbaikan Tahunan - Tahun ",k]}),i.jsx(at,{value:k,onChange:I=>N(I.target.value),options:wTe,className:"w-32"})]})}),i.jsx(Lr,{data:me,columns:V,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal mulai, tanggal selesai...",searchKeys:["tanggalMulai","tanggalSelesai","jumlahHari"],actions:I=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),ce(I)},title:"Lihat Detail",children:i.jsx(_s,{className:"h-4 w-4 text-dark-500"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),W(I.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!F&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),pe(I)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:X=>{X.stopPropagation(),Pe(I.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(rf),x(null)},title:m?"Edit Perbaikan Tahunan":"Tambah Perbaikan Tahunan",size:"lg",children:i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal Mulai Perta",type:"date",value:v.tanggalMulai,onChange:I=>w(X=>({...X,tanggalMulai:I.target.value})),required:!0}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700",children:"Item & Deskripsi Perbaikan"}),i.jsxs(ye,{type:"button",variant:"ghost",size:"sm",onClick:E,children:[i.jsx(NH,{className:"h-4 w-4 mr-1"}),"Tambah Item"]})]}),v.items.map((I,X)=>i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-dark-600",children:["Item ",X+1]}),v.items.length>1&&i.jsx(ye,{type:"button",variant:"ghost",size:"icon",onClick:()=>A(X),className:"h-6 w-6",children:i.jsx(wH,{className:"h-4 w-4 text-red-500"})})]}),i.jsx(Oe,{type:"text",value:I.item,onChange:re=>M(X,"item",re.target.value),placeholder:"Nama item perbaikan",required:!0}),i.jsx("textarea",{value:I.deskripsi,onChange:re=>M(X,"deskripsi",re.target.value),placeholder:"Deskripsi perbaikan...",className:"input-field min-h-[80px]",required:!0})]},X))]}),i.jsx(Oe,{label:"Tanggal Selesai Perta",type:"date",value:v.tanggalSelesai,onChange:I=>w(X=>({...X,tanggalSelesai:I.target.value}))}),i.jsx("div",{className:"p-4 bg-primary-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 font-medium",children:"Jumlah Hari Perta:"}),i.jsxs(Ze,{variant:"primary",className:"text-lg px-4",children:[v.jumlahHari," Hari"]})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(rf),x(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(xt,{isOpen:T,onClose:()=>{P(!1),O(null)},title:"Detail Perbaikan Tahunan",size:"lg",children:_&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Perbaikan Tahunan (PERTA)"}),i.jsx("h2",{className:"text-2xl font-bold mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),i.jsx("div",{className:"text-right",children:i.jsxs(Ze,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:[_.jumlahHari," Hari"]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(qa,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Mulai"}),i.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:gt(_.tanggalMulai)})]})]})}),i.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Ic,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Selesai"}),i.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:_.tanggalSelesai?gt(_.tanggalSelesai):"-"})]})]})})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ta,{className:"h-5 w-5 text-primary-600"}),i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Item Perbaikan"}),i.jsxs(Ze,{variant:"primary",className:"ml-auto",children:[((fe=_.items)==null?void 0:fe.length)||0," Item"]})]}),i.jsx("div",{className:"space-y-3",children:_.items&&_.items.map((I,X)=>i.jsx("div",{className:"bg-white dark:bg-dark-700 rounded-xl p-4 border border-dark-200 dark:border-dark-600 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-primary-600 font-bold text-sm",children:X+1})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-dark-900 dark:text-white mb-1",children:I.item}),i.jsx("p",{className:"text-dark-600 dark:text-dark-300 text-sm leading-relaxed",children:I.deskripsi})]})]})},X))})]}),i.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-200 dark:bg-amber-800 rounded-lg",children:i.jsx(Ii,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Total Durasi Perbaikan"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:[_.jumlahHari," Hari"]})]})]}),i.jsx(MH,{className:"h-12 w-12 text-amber-300 dark:text-amber-700"})]})}),i.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:i.jsx(ye,{variant:"secondary",onClick:()=>{P(!1),O(null)},children:"Tutup"})})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Ae,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data perbaikan tahunan ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:Y,onClose:()=>{te(!1),B(null),y(null)},onSubmit:ge,action:q,itemName:"perbaikan tahunan",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:C,onClose:()=>{D(!1),ee("")},sheetName:S==="NPK1"?"perbaikan_tahunan_NPK1":"perbaikan_tahunan",recordId:H,title:"Log Aktivitas Perbaikan Tahunan"})]})},k1=new Date().getFullYear(),kTe=[...Array.from({length:k1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(k1+1),label:String(k1+1)}],nf={nomorBerkas:"",tanggal:yr(),tanggalKejadian:yr(),shift:"1",waktuKejadian:"",kodePeralatan:"",area:"",deskripsiMasalah:"",penyebab:"",tindakan:"",status:"Open",pic:"",targetSelesai:"",keterangan:""},IO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(nf),[k,N]=j.useState(String(new Date().getFullYear())),S=e,[T,P]=j.useState(!1),[_,O]=j.useState(null),[C,D]=j.useState(!1),[H,ee]=j.useState(""),W=Se=>{ee(Se),D(!0)},[Y,te]=j.useState(!1),[q,ue]=j.useState("edit"),[le,B]=j.useState(null),F=(t==null?void 0:t.role)||"",L=un(F),R=j.useCallback(()=>{if(u&&!l){const Se=document.querySelector("form");Se&&Se.requestSubmit()}},[u,l]);Br(R,u);const G=Nn(F),be=Tn(F),Te=Qr(F),[ce,pe]=j.useState(!1),[Pe,ge]=j.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[Ae,ne]=j.useState(new Date().toISOString().split("T")[0]),[E,A]=j.useState("all"),[M,me]=j.useState(!1),z=[{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}];j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:Re,SHEETS:Qe}=await st(async()=>{const{fetchDataByPlant:Je,SHEETS:ut}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:Je,SHEETS:ut}},void 0),et=await Re(Qe.TROUBLE_RECORD);if(et.success&&et.data){const Je=[...et.data].sort((ut,ur)=>new Date(ur.tanggal||"").getTime()-new Date(ut.tanggal||"").getTime());o(Je)}else o([])}catch(Re){console.error("Error fetching data:",Re),o([])}finally{c(!1)}})()},[]);const V=async Se=>{Se.preventDefault(),c(!0);try{if(m){const Re={...v,id:m,_plant:S},Qe=await n(Xr.TROUBLE_RECORD,Re);if(Qe.success)o(et=>et.map(Je=>Je.id===m?{...v,id:m,_plant:S}:Je));else throw new Error(Qe.error||"Gagal mengupdate data")}else{const Re={...v,_plant:S},Qe=await r(Xr.TROUBLE_RECORD,Re);if(Qe.success&&Qe.data){const et={...Qe.data,_plant:S};o(Je=>[et,...Je])}else throw new Error(Qe.error||"Gagal menyimpan data")}d(!1),w(nf),x(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Re){console.error("Error saving data:",Re),alert(Re instanceof Error?Re.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},fe=Se=>{O(Se),P(!0)},I=Se=>{if(G){B(Se),ue("edit"),te(!0);return}w(Se),x(Se.id||null),d(!0)},X=Se=>{if(be){const Re=s.find(Qe=>Qe.id===Se);Re&&(B(Re),ue("delete"),te(!0));return}y(Se),h(!0)},re=async Se=>{if(!(!le||!t)){c(!0);try{const{createData:Re,SHEETS:Qe}=await st(async()=>{const{createData:ut,SHEETS:ur}=await Promise.resolve().then(()=>ot);return{createData:ut,SHEETS:ur}},void 0),et={type:"trouble_record",action:q,itemId:le.id,itemData:le,targetSheet:S==="NPK1"?"trouble_record_NPK1":"trouble_record",reason:Se,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},Je=await Re(Qe.APPROVAL_REQUESTS,et);if(Je.success)te(!1),B(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(Je.error||"Gagal mengirim permintaan")}catch(Re){console.error("Error submitting approval:",Re),alert(Re instanceof Error?Re.message:"Gagal mengirim permintaan approval")}finally{c(!1)}}},J=async()=>{if(b){c(!0);try{const Se=s.find(Qe=>Qe.id===b),Re=await a(Xr.TROUBLE_RECORD,{id:b,_plant:(Se==null?void 0:Se._plant)||S});if(Re.success)o(Qe=>Qe.filter(et=>et.id!==b)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(Re.error||"Gagal menghapus data")}catch(Se){console.error("Error deleting data:",Se),alert(Se instanceof Error?Se.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ke=()=>{w(nf),x(null),d(!0)},Ke=s.filter(Se=>{const Re=Se._plant===S,et=new Date(Se.tanggal||"").getFullYear()===parseInt(k);return Re&&et}),xe={open:Ke.filter(Se=>Se.status==="Open").length,progress:Ke.filter(Se=>Se.status==="In Progress").length,closed:Ke.filter(Se=>Se.status==="Closed").length,pending:Ke.filter(Se=>Se.status==="Pending").length},_e=Se=>{switch(Se){case"Open":return"danger";case"In Progress":return"warning";case"Closed":return"success";case"Pending":return"info";default:return"default"}},Fe=[{key:"tanggal",header:"Tanggal",sortable:!0,render:Se=>gt(Se)},{key:"shift",header:"Shift",render:Se=>i.jsxs(Ze,{variant:"primary",children:["Shift ",Se]})},{key:"waktuKejadian",header:"Waktu",render:Se=>sa(Se)},{key:"area",header:"Item Terdampak",render:Se=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Af,{className:"h-4 w-4 text-dark-400"}),i.jsx("span",{className:"font-medium",children:Se})]})},{key:"deskripsiMasalah",header:"Deskripsi Masalah",render:Se=>i.jsx("span",{className:"line-clamp-2 max-w-xs",children:Se})},{key:"pic",header:"PIC"},{key:"status",header:"Status",render:Se=>i.jsx(Ze,{variant:_e(Se),children:Se})},{key:"targetSelesai",header:"Target",render:Se=>gt(Se)}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Trouble Record ",S==="NPK1"?"NPK 1":"NPK 2"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Catatan masalah dan tindak lanjut"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ye,{variant:"secondary",onClick:()=>pe(!0),className:"bg-green-600 hover:bg-green-700 text-white border-0",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export"]}),L&&i.jsxs(ye,{onClick:ke,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Catat Trouble"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-red-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Open"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:xe.open})]}),i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-amber-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"In Progress"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-600",children:xe.progress})]}),i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-green-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Closed"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:xe.closed})]}),i.jsxs(Ie,{className:"p-3 sm:p-4 border-l-4 border-l-gray-500",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400",children:"Pending"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-600 dark:text-gray-400",children:xe.pending})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Data Trouble Record - Tahun ",k]}),i.jsx(at,{value:k,onChange:Se=>N(Se.target.value),options:kTe,className:"w-32"})]})}),i.jsx(Lr,{data:Ke,columns:Fe,loading:l,searchable:!0,searchPlaceholder:"Cari tanggal, nomor berkas, item terdampak, masalah, PIC...",searchKeys:["tanggal","nomorBerkas","area","deskripsiMasalah","penyebab","tindakan","status","pic"],actions:Se=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),fe(Se)},title:"Lihat Detail",children:i.jsx(_s,{className:"h-4 w-4 text-dark-500"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),W(Se.id)},title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),!Te&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),I(Se)},title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),X(Se.id)},title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),w(nf),x(null)},title:m?"Edit Trouble Record":"Catat Trouble Baru",size:"lg",children:i.jsxs("form",{onSubmit:V,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:Se=>w(Re=>({...Re,tanggal:Se.target.value})),required:!0}),i.jsx(at,{label:"Shift",value:v.shift,onChange:Se=>w(Re=>({...Re,shift:Se.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0}),i.jsx(Oe,{label:"Waktu Kejadian",type:"time",value:v.waktuKejadian,onChange:Se=>w(Re=>({...Re,waktuKejadian:Se.target.value})),required:!0})]}),i.jsx(Oe,{label:"Item yang Terdampak",type:"text",value:v.area,onChange:Se=>w(Re=>({...Re,area:Se.target.value})),placeholder:"Masukkan item/peralatan yang terdampak",required:!0}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Masalah"}),i.jsx("textarea",{value:v.deskripsiMasalah,onChange:Se=>w(Re=>({...Re,deskripsiMasalah:Se.target.value})),placeholder:"Jelaskan masalah yang terjadi...",className:"input-field min-h-[80px]",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Penyebab"}),i.jsx("textarea",{value:v.penyebab,onChange:Se=>w(Re=>({...Re,penyebab:Se.target.value})),placeholder:"Analisa penyebab...",className:"input-field min-h-[60px]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tindakan"}),i.jsx("textarea",{value:v.tindakan,onChange:Se=>w(Re=>({...Re,tindakan:Se.target.value})),placeholder:"Tindakan yang dilakukan/direncanakan...",className:"input-field min-h-[60px]"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(at,{label:"Status",value:v.status,onChange:Se=>w(Re=>({...Re,status:Se.target.value})),options:z,required:!0}),i.jsx(Oe,{label:"PIC",type:"text",value:v.pic,onChange:Se=>w(Re=>({...Re,pic:Se.target.value})),placeholder:"Nama PIC",required:!0}),i.jsx(Oe,{label:"Target Selesai",type:"date",value:v.targetSelesai,onChange:Se=>w(Re=>({...Re,targetSelesai:Se.target.value}))})]}),i.jsx(Oe,{label:"Keterangan",type:"text",value:v.keterangan,onChange:Se=>w(Re=>({...Re,keterangan:Se.target.value})),placeholder:"Keterangan tambahan"}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),w(nf),x(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),i.jsx(xt,{isOpen:T,onClose:()=>{P(!1),O(null)},title:"Detail Trouble Record",size:"lg",children:_&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:`rounded-2xl p-6 text-white ${_.status==="Open"?"bg-gradient-to-r from-red-500 to-red-600":_.status==="In Progress"?"bg-gradient-to-r from-amber-500 to-amber-600":_.status==="Closed"?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Trouble Record"}),i.jsx("h2",{className:"text-2xl font-bold mt-1",children:_.area||"Item Terdampak"}),i.jsx("p",{className:"text-white/80 text-sm mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),i.jsx(Ze,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:_.status})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(qa,{className:"h-4 w-4 text-primary-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal"})]}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:gt(_.tanggal||"")})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ii,{className:"h-4 w-4 text-amber-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Waktu"})]}),i.jsxs("p",{className:"font-semibold text-dark-900 dark:text-white",children:["Shift ",_.shift," - ",sa(_.waktuKejadian)]})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(yh,{className:"h-4 w-4 text-blue-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"PIC"})]}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:_.pic||"-"})]}),i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Do,{className:"h-4 w-4 text-green-500"}),i.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Target Selesai"})]}),i.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:_.targetSelesai?gt(_.targetSelesai):"-"})]})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Af,{className:"h-5 w-5 text-red-600"}),i.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300",children:"Deskripsi Masalah"})]}),i.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.deskripsiMasalah||"-"})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-amber-600"}),i.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Analisa Penyebab"})]}),i.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.penyebab||"-"})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ic,{className:"h-5 w-5 text-green-600"}),i.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tindakan"})]}),i.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:_.tindakan||"-"})]}),_.keterangan&&i.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-dark-500"}),i.jsx("h3",{className:"font-semibold text-dark-700 dark:text-dark-300",children:"Keterangan Tambahan"})]}),i.jsx("p",{className:"text-dark-600 dark:text-dark-400 leading-relaxed",children:_.keterangan})]}),i.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:i.jsx(ye,{variant:"secondary",onClick:()=>{P(!1),O(null)},children:"Tutup"})})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:J,title:"Hapus Trouble Record",message:"Apakah Anda yakin ingin menghapus record ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:Y,onClose:()=>{te(!1),B(null)},onSubmit:re,action:q,itemName:"data trouble record",loading:l}),i.jsx(Nr,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(Fr,{isOpen:C,onClose:()=>{D(!1),ee("")},sheetName:S==="NPK1"?"trouble_record_NPK1":"trouble_record",recordId:H,title:"Log Aktivitas Trouble Record"}),i.jsx(xt,{isOpen:ce,onClose:()=>pe(!1),title:"",size:"md",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"text-center pb-4 border-b border-border",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-xl bg-green-100 dark:bg-green-900/40 mb-3",children:i.jsx(Of,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),i.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Export Trouble Record"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(qa,{className:"h-4 w-4 text-primary-500"}),"Rentang Tanggal"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Oe,{label:"Dari Tanggal",type:"date",value:Pe,onChange:Se=>ge(Se.target.value)}),i.jsx(Oe,{label:"Sampai Tanggal",type:"date",value:Ae,onChange:Se=>ne(Se.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[i.jsx(Af,{className:"h-4 w-4 text-primary-500"}),"Filter Status"]}),i.jsx(at,{value:E,onChange:Se=>A(Se.target.value),options:[{value:"all",label:"Semua Status"},{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}]})]}),(()=>{const Se=Ke.filter(Re=>{const Qe=new Date(Re.tanggal||""),et=new Date(Pe),Je=new Date(Ae);Qe.setHours(0,0,0,0),et.setHours(0,0,0,0),Je.setHours(0,0,0,0);const ut=Qe>=et&&Qe<=Je,ur=E==="all"||Re.status===E;return ut&&ur});return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-50 dark:bg-dark-800 rounded-lg border border-border",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Data yang akan diekspor:"}),i.jsxs("span",{className:`text-sm font-bold ${Se.length>0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[Se.length," data"]})]})})(),i.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-border",children:[i.jsx(ye,{variant:"secondary",onClick:()=>pe(!1),children:"Batal"}),i.jsxs(ye,{onClick:()=>{me(!0);try{const Se=Ke.filter(dt=>{const Ct=new Date(dt.tanggal||""),Bn=new Date(Pe),Ur=new Date(Ae);Ct.setHours(0,0,0,0),Bn.setHours(0,0,0,0),Ur.setHours(0,0,0,0);const nt=Ct>=Bn&&Ct<=Ur,_i=E==="all"||dt.status===E;return nt&&_i});if(Se.length===0){alert("Tidak ada data untuk diekspor."),me(!1);return}const Re=[...Se].sort((dt,Ct)=>new Date(dt.tanggal||"").getTime()-new Date(Ct.tanggal||"").getTime()),Qe=dt=>dt?new Date(dt).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",et=S==="NPK1"?"NPK 1":"NPK 2",Je=Ri.book_new(),ut=[];ut.push([`Trouble Record - ${et}`]),ut.push([`Periode: ${Qe(Pe)} s/d ${Qe(Ae)}`]),ut.push([`Status: ${E==="all"?"Semua":E}`]),ut.push([]),ut.push(["No","Tanggal","Shift","Waktu","Item Terdampak","Deskripsi Masalah","Penyebab","Tindakan","Status","PIC","Target Selesai","Keterangan"]),Re.forEach((dt,Ct)=>{ut.push([Ct+1,Qe(dt.tanggal||""),`Shift ${dt.shift||"-"}`,dt.waktuKejadian||"-",dt.area||"-",dt.deskripsiMasalah||"-",dt.penyebab||"-",dt.tindakan||"-",dt.status||"-",dt.pic||"-",dt.targetSelesai?Qe(dt.targetSelesai):"-",dt.keterangan||"-"])}),ut.push([]),ut.push(["","","","","","","","",`Total: ${Re.length} data`,"","",""]);const ur=Ri.aoa_to_sheet(ut);ur["!cols"]=[{wch:5},{wch:14},{wch:8},{wch:8},{wch:20},{wch:35},{wch:30},{wch:30},{wch:12},{wch:15},{wch:14},{wch:20}],ur["!merges"]=[{s:{r:0,c:0},e:{r:0,c:11}},{s:{r:1,c:0},e:{r:1,c:11}},{s:{r:2,c:0},e:{r:2,c:11}}],Ri.book_append_sheet(Je,ur,"Trouble Record");const Ee=[];Ee.push([`Rekap Trouble Record - ${et}`]),Ee.push([`Periode: ${Qe(Pe)} s/d ${Qe(Ae)}`]),Ee.push([]),Ee.push(["No","Status","Jumlah"]);const Ue=["Open","In Progress","Closed","Pending"];let lt=0;Ue.forEach((dt,Ct)=>{const Bn=Re.filter(Ur=>Ur.status===dt).length;Bn>0&&(Ee.push([Ct+1,dt,Bn]),lt+=Bn)}),Ee.push([]),Ee.push(["","Total",lt]);const jt=Ri.aoa_to_sheet(Ee);jt["!cols"]=[{wch:5},{wch:15},{wch:10}],jt["!merges"]=[{s:{r:0,c:0},e:{r:0,c:2}},{s:{r:1,c:0},e:{r:1,c:2}}],Ri.book_append_sheet(Je,jt,"Rekap Status");const br=`${Pe.replace(/-/g,"")}_${Ae.replace(/-/g,"")}`,Jt=`TroubleRecord_${et.replace(" ","")}_${br}.xlsx`;rI(Je,Jt),pe(!1)}catch(Se){console.error("Export error:",Se),alert("Gagal mengekspor data. Silakan coba lagi.")}finally{me(!1)}},isLoading:M,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]})})]})};function LO({plant:e}){const{user:t}=Et(),r=Qr((t==null?void 0:t.role)||""),[n,a]=j.useState([]),[s,o]=j.useState(!0),[l,c]=j.useState(!1),[u,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[v,w]=j.useState(null),[k,N]=j.useState({judul:"",keterangan:""}),[S,T]=j.useState(null),[P,_]=j.useState(!1),[O,C]=j.useState(!1),[D,H]=j.useState("environment"),ee=j.useRef(null),W=j.useRef(null),Y=j.useRef(null),te=j.useRef(null),q=fM(Xr.DOKUMENTASI_FOTO,e),ue=j.useCallback(async()=>{o(!0);try{const E=await uM(q);if(E.success&&E.data){const A=E.data.map(M=>({...M,_plant:e,thumbnailUrl:`https://drive.google.com/thumbnail?id=${M.fileId}&sz=w400`}));A.sort((M,me)=>new Date(me.createdAt||me.tanggal).getTime()-new Date(M.createdAt||M.tanggal).getTime()),a(A)}}catch(E){console.error("Error fetching photos:",E)}finally{o(!1)}},[q,e]);j.useEffect(()=>{ue()},[ue]),j.useEffect(()=>()=>{te.current&&(te.current.getTracks().forEach(E=>E.stop()),te.current=null)},[]);const le=j.useCallback(async(E="environment")=>{T(null),_(!1),te.current&&(te.current.getTracks().forEach(A=>A.stop()),te.current=null);try{const A={video:{facingMode:E,width:{ideal:3840,min:1920},height:{ideal:2160,min:1080},frameRate:{ideal:30,min:24},aspectRatio:{ideal:1.7777777777777777}},audio:!1};let M;try{M=await navigator.mediaDevices.getUserMedia(A)}catch{console.log("High quality not supported, falling back to standard"),M=await navigator.mediaDevices.getUserMedia({video:{facingMode:E,width:{ideal:1920},height:{ideal:1080}},audio:!1})}te.current=M,ee.current&&(ee.current.srcObject=M,_(!0))}catch(A){console.error("Camera error:",A),A instanceof Error&&(A.name==="NotAllowedError"?T("Akses kamera ditolak. Mohon izinkan akses kamera di pengaturan browser."):A.name==="NotFoundError"?T("Kamera tidak ditemukan. Pastikan perangkat memiliki kamera."):A.name==="NotReadableError"?T("Kamera sedang digunakan aplikasi lain. Tutup aplikasi lain dan coba lagi."):T(`Error: ${A.message}`))}},[]),B=j.useCallback(()=>{const E=D==="environment"?"user":"environment";H(E),le(E)},[D,le]),F=j.useCallback(()=>{te.current&&(te.current.getTracks().forEach(E=>E.stop()),te.current=null),ee.current&&(ee.current.srcObject=null),_(!1)},[]),L=j.useCallback(()=>{if(!ee.current||!W.current)return;const E=ee.current,A=W.current,M=A.getContext("2d");if(!M)return;const me=E.videoWidth,z=E.videoHeight;A.width=me,A.height=z,M.imageSmoothingEnabled=!0,M.imageSmoothingQuality="high",M.drawImage(E,0,0,me,z);const V=A.toDataURL("image/jpeg",.95);w(V),F()},[F]),R=j.useCallback(()=>{h(!1),C(!0)},[]),G=j.useCallback(E=>{var me;const A=(me=E.target.files)==null?void 0:me[0];if(!A)return;if(A.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}const M=new FileReader;M.onload=z=>{var fe;const V=(fe=z.target)==null?void 0:fe.result;w(V),F(),h(!1),C(!0)},M.readAsDataURL(A),E.target.value=""},[F]),be=()=>{w(null),N({judul:"",keterangan:""}),T(null),_(!1),h(!0)};j.useEffect(()=>{let E=!0;if(f&&!v){const A=setTimeout(()=>{E&&le(D)},200);return()=>{E=!1,clearTimeout(A)}}return()=>{E=!1}},[f,v,D,le]);const Te=j.useCallback(()=>{F(),w(null),N({judul:"",keterangan:""}),T(null),h(!1),C(!1)},[F]),ce=j.useCallback(()=>{w(null),le(D)},[D,le]),pe=async()=>{if(!v||!k.judul.trim()){alert("Judul foto harus diisi!");return}c(!0);try{const E=`${k.judul.replace(/[^a-zA-Z0-9-_]/g,"_")}_${Date.now()}.jpg`,A=await hM({judul:k.judul.trim(),keterangan:k.keterangan.trim(),imageBase64:v,fileName:E,uploadBy:(t==null?void 0:t.username)||(t==null?void 0:t.nama)||"unknown",plant:e});A.success?(alert("Foto berhasil diupload!"),Te(),ue()):alert(`Gagal upload: ${A.error}`)}catch(E){console.error("Upload error:",E),alert("Terjadi kesalahan saat upload foto")}finally{c(!1)}},Pe=async()=>{if(!(!(b!=null&&b.id)||!(b!=null&&b.fileId))){c(!0);try{const E=await pM({id:b.id,fileId:b.fileId,plant:e});E.success?(alert("Foto berhasil dihapus!"),x(!1),y(null),ue()):alert(`Gagal menghapus: ${E.error}`)}catch(E){console.error("Delete error:",E),alert("Terjadi kesalahan saat menghapus foto")}finally{c(!1)}}},ge=E=>{y(E),g(!0)},ne=n.filter(E=>{var M,me,z,V,fe;const A=u.toLowerCase();return((M=E.judul)==null?void 0:M.toLowerCase().includes(A))||((me=E.keterangan)==null?void 0:me.toLowerCase().includes(A))||((z=E.uploadBy)==null?void 0:z.toLowerCase().includes(A))||((V=E.tanggal)==null?void 0:V.includes(u))||((fe=E.kategori)==null?void 0:fe.toLowerCase().includes(A))}).reduce((E,A)=>{const M=A.judul||"Lainnya";return E[M]||(E[M]=[]),E[M].push(A),E},{});return i.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dokumentasi Foto"}),i.jsxs("p",{className:"text-gray-600",children:["Plant ",e," - ",n.length," foto"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ex,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Oe,{type:"text",placeholder:"Cari judul, kategori, keterangan, uploader...",value:u,onChange:E=>d(E.target.value),className:"pl-10 w-full sm:w-80"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{variant:"outline",onClick:ue,disabled:s,className:"flex-1 sm:flex-none",children:[i.jsx(yl,{className:Ge("h-4 w-4 mr-2",s&&"animate-spin")}),"Refresh"]}),!r&&i.jsxs(ye,{onClick:be,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[i.jsx(dP,{className:"h-4 w-4 mr-2"}),"Ambil Foto"]})]})]})]}),s&&i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(Lm,{})}),!s&&n.length===0&&i.jsxs(Ie,{className:"p-12 text-center",children:[i.jsx(xP,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Foto"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Mulai dokumentasi dengan mengambil foto pertama"}),!r&&i.jsxs(ye,{onClick:be,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(dP,{className:"h-4 w-4 mr-2"}),"Ambil Foto Sekarang"]})]}),!s&&Object.keys(ne).length>0&&i.jsx("div",{className:"space-y-8",children:Object.entries(ne).map(([E,A])=>{var M;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(xH,{className:"h-5 w-5 text-yellow-500"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:E}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",A.length," foto)"]}),((M=A[0])==null?void 0:M.folderUrl)&&i.jsxs("a",{href:A[0].folderUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[i.jsx(mP,{className:"h-4 w-4"}),"Buka Folder"]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:A.map(me=>i.jsxs(Rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>ge(me),children:[i.jsx("img",{src:me.thumbnailUrl,alt:me.judul,className:"w-full h-full object-cover",loading:"lazy",onError:z=>{z.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'/%3E%3C/svg%3E"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[i.jsx("p",{className:"text-white text-xs truncate",children:me.tanggal}),me.keterangan&&i.jsx("p",{className:"text-white/80 text-xs truncate",children:me.keterangan})]})}),i.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(RH,{className:"h-5 w-5 text-white drop-shadow-lg"})})]},me.id))})]},E)})}),f&&i.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[i.jsx("canvas",{ref:W,style:{display:"none"}}),i.jsx("input",{ref:Y,type:"file",accept:"image/*",onChange:G,style:{display:"none"}}),v?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:v,alt:"Captured",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black"}}),i.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[i.jsx("button",{onClick:Te,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(Za,{size:24})}),i.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Preview Foto"}),i.jsx("div",{style:{width:"48px"}})]}),i.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"48px"},children:[i.jsxs("button",{onClick:ce,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[i.jsx("div",{style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)"},children:i.jsx(jy,{size:28})}),i.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Ulangi"})]}),i.jsxs("button",{onClick:R,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[i.jsx("div",{style:{padding:"20px",borderRadius:"50%",backgroundColor:"#22c55e"},children:i.jsx(pH,{size:40})}),i.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Gunakan Foto"})]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:ee,autoPlay:!0,playsInline:!0,muted:!0,onCanPlay:()=>_(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transform:D==="user"?"scaleX(-1)":"none"}}),i.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[i.jsx("button",{onClick:Te,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(Za,{size:24})}),i.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Ambil Foto"}),i.jsx("button",{onClick:B,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(jy,{size:24})})]}),!P&&!S&&i.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",zIndex:20},children:i.jsxs("div",{style:{textAlign:"center",color:"white"},children:[i.jsx(Lm,{}),i.jsx("p",{style:{marginTop:"8px"},children:"Memuat kamera..."})]})}),S&&i.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black",zIndex:20},children:i.jsxs("div",{style:{textAlign:"center",color:"white",padding:"24px",maxWidth:"320px"},children:[i.jsx(Af,{size:64,style:{margin:"0 auto 16px",color:"#f87171"}}),i.jsx("p",{style:{marginBottom:"24px",fontSize:"18px"},children:S}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[i.jsxs(ye,{onClick:()=>le(),className:"bg-white text-black hover:bg-gray-200",children:[i.jsx(yl,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]}),i.jsxs(ye,{variant:"outline",onClick:()=>{var E;return(E=Y.current)==null?void 0:E.click()},className:"text-white border-white hover:bg-white/10",children:[i.jsx(bP,{className:"h-4 w-4 mr-2"}),"Pilih dari Galeri"]})]})]})}),P&&i.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"32px"},children:[i.jsx("button",{onClick:()=>{var E;return(E=Y.current)==null?void 0:E.click()},style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"none",cursor:"pointer"},children:i.jsx(xP,{size:28})}),i.jsx("button",{onClick:L,style:{padding:"4px",borderRadius:"50%",backgroundColor:"white",border:"none",cursor:"pointer"},children:i.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"50%",border:"4px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"}})})}),i.jsx("div",{style:{width:"60px"}})]})})]})]}),i.jsx(Co,{children:O&&v&&i.jsx(xt,{isOpen:O,onClose:Te,title:"Upload Foto",size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[i.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover"}),i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>{C(!1),h(!0),ce()},className:"absolute bottom-2 right-2 bg-white/90 hover:bg-white",children:[i.jsx(jy,{className:"h-4 w-4 mr-1"}),"Ganti Foto"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Judul / Nama Folder ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Oe,{type:"text",placeholder:"Contoh: C2-L-001",value:k.judul,onChange:E=>N({...k,judul:E.target.value}),className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Foto akan disimpan di folder sesuai judul ini"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keterangan"}),i.jsx("textarea",{placeholder:"Deskripsi foto (opsional)",value:k.keterangan,onChange:E=>N({...k,keterangan:E.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(ye,{variant:"outline",onClick:Te,className:"flex-1",disabled:l,children:"Batal"}),i.jsx(ye,{onClick:pe,disabled:l||!k.judul.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:l?i.jsxs(i.Fragment,{children:[i.jsx(yl,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bP,{className:"h-4 w-4 mr-2"}),"Upload Foto"]})})]})]})]})})}),i.jsx(Co,{children:p&&b&&i.jsx(xt,{isOpen:p,onClose:()=>{g(!1),y(null)},title:b.judul,size:"xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:i.jsx("img",{src:`https://drive.google.com/thumbnail?id=${b.fileId}&sz=w1200`,alt:b.judul,className:"w-full max-h-[60vh] object-contain"})}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Tanggal:"}),i.jsx("span",{className:"font-medium",children:b.tanggal})]}),b.keterangan&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Keterangan:"}),i.jsx("span",{className:"font-medium",children:b.keterangan})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Diupload oleh:"}),i.jsx("span",{className:"font-medium",children:b.uploadBy})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("a",{href:b.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:i.jsxs(ye,{variant:"outline",className:"w-full",children:[i.jsx(mP,{className:"h-4 w-4 mr-2"}),"Buka di Drive"]})}),i.jsx("a",{href:`https://drive.google.com/uc?export=download&id=${b.fileId}`,download:!0,className:"flex-1",children:i.jsxs(ye,{variant:"outline",className:"w-full",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Download"]})}),!r&&i.jsx(ye,{variant:"outline",onClick:()=>{g(!1),x(!0)},className:"text-red-600 border-red-300 hover:bg-red-50",children:i.jsx(lr,{className:"h-4 w-4"})})]})]})})}),i.jsx(Co,{children:m&&b&&i.jsx(xt,{isOpen:m,onClose:()=>{x(!1),y(null)},title:"Hapus Foto",size:"sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(lr,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900",children:"Apakah Anda yakin ingin menghapus foto ini?"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Foto "',b.judul,'" akan dihapus dari Google Drive. Tindakan ini tidak dapat dibatalkan.']})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ye,{variant:"outline",onClick:()=>{x(!1),y(null)},className:"flex-1",disabled:l,children:"Batal"}),i.jsx(ye,{onClick:Pe,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?i.jsxs(i.Fragment,{children:[i.jsx(yl,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):i.jsxs(i.Fragment,{children:[i.jsx(lr,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})})})]})}const jTe=[{value:"all",label:"Semua Bulan"},{value:"0",label:"Januari"},{value:"1",label:"Februari"},{value:"2",label:"Maret"},{value:"3",label:"April"},{value:"4",label:"Mei"},{value:"5",label:"Juni"},{value:"6",label:"Juli"},{value:"7",label:"Agustus"},{value:"8",label:"September"},{value:"9",label:"Oktober"},{value:"10",label:"November"},{value:"11",label:"Desember"}],STe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],j1=new Date().getFullYear(),NTe=[{value:"all",label:"Semua Tahun"},...Array.from({length:j1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(j1+1),label:String(j1+1)}],af={tanggal:yr(),namaAlatBerat:"",pengajuanSolar:0,realisasiPengisian:0,keterangan:""},FO=({plant:e})=>{const{user:t}=Et(),{createWithLog:r,updateWithLog:n,deleteWithLog:a}=en(),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,x]=j.useState(null),[b,y]=j.useState(null),[v,w]=j.useState(af),[k,N]=j.useState("all"),[S,T]=j.useState(String(new Date().getFullYear())),[P,_]=j.useState(!1),O=e,[C,D]=j.useState(!1),[H,ee]=j.useState("edit"),[W,Y]=j.useState(null),[te,q]=j.useState(!1),[ue,le]=j.useState(""),B=z=>{le(z),q(!0)},F=Qr((t==null?void 0:t.role)||""),L=un((t==null?void 0:t.role)||"")&&!F,R=j.useCallback(()=>{if(u&&!l){const z=document.querySelector("form");z&&z.requestSubmit()}},[u,l]);Br(R,u);const G=y2((t==null?void 0:t.role)||""),be=b2((t==null?void 0:t.role)||""),Te=Nn((t==null?void 0:t.role)||""),ce=Tn((t==null?void 0:t.role)||"");j.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:V,SHEETS:fe}=await st(async()=>{const{fetchDataByPlant:X,SHEETS:re}=await Promise.resolve().then(()=>ot);return{fetchDataByPlant:X,SHEETS:re}},void 0),I=await V(fe.REKAP_BBM);if(I.success&&I.data){const X=[...I.data].sort((re,J)=>new Date(J.tanggal).getTime()-new Date(re.tanggal).getTime());o(X)}else o([])}catch(V){console.error("Error fetching data:",V),o([])}finally{c(!1)}})()},[]);const pe=async z=>{z.preventDefault(),c(!0);try{if(m){const V={...v,id:m,_plant:O};(await n("rekap_bbm",V)).success&&o(I=>I.map(X=>X.id===m?{...V}:X))}else{const V={...v,_plant:O},fe=await r("rekap_bbm",V);fe.success&&fe.data&&o(I=>[fe.data,...I])}g(!0),d(!1),x(null),w(af)}catch(V){console.error("Error saving data:",V)}finally{c(!1)}},Pe=z=>{F||(G?(w(z),x(z.id||null),d(!0)):Te&&(Y(z),ee("edit"),D(!0)))},ge=z=>{if(!F){if(be)y(z),h(!0);else if(ce){const V=s.find(fe=>fe.id===z);V&&(Y(V),ee("delete"),D(!0))}}},Ae=async()=>{if(b){c(!0);try{const z=s.find(fe=>fe.id===b);(await a("rekap_bbm",{id:b,_plant:(z==null?void 0:z._plant)||O})).success&&(o(fe=>fe.filter(I=>I.id!==b)),g(!0))}catch(z){console.error("Error deleting data:",z)}finally{c(!1),h(!1),y(null)}}},ne=async z=>{if(W){c(!0);try{const{createData:V,SHEETS:fe}=await st(async()=>{const{createData:X,SHEETS:re}=await Promise.resolve().then(()=>ot);return{createData:X,SHEETS:re}},void 0),I={type:H,dataType:"rekap_bbm",dataId:W.id,plant:O,requestBy:t==null?void 0:t.username,requestByName:(t==null?void 0:t.namaLengkap)||(t==null?void 0:t.nama),reason:z,data:JSON.stringify(W),status:"pending",createdAt:new Date().toISOString()};await V(fe.APPROVAL_REQUESTS,I),g(!0)}catch(V){console.error("Error creating approval request:",V)}finally{c(!1),D(!1),Y(null)}}},E=j.useMemo(()=>s.filter(z=>!(z._plant!==O||S!=="all"&&new Date(z.tanggal).getFullYear()!==parseInt(S)||k!=="all"&&new Date(z.tanggal).getMonth()!==parseInt(k))),[s,O,k,S]),A=j.useMemo(()=>{const z=E.reduce((X,re)=>X+(re.pengajuanSolar||0),0),V=E.reduce((X,re)=>X+(re.realisasiPengisian||0),0),fe=V-z,I=E.length;return{totalPengajuan:z,totalRealisasi:V,totalSelisih:fe,totalRecord:I}},[E]),M=[{key:"tanggal",header:"Tanggal",render:(z,V)=>gt(V.tanggal),sortable:!0},{key:"namaAlatBerat",header:"Nama Alat Berat",sortable:!0},{key:"pengajuanSolar",header:"Pengajuan Solar (L)",render:(z,V)=>oe(V.pengajuanSolar),sortable:!0},{key:"realisasiPengisian",header:"Realisasi Pengisian (L)",render:(z,V)=>oe(V.realisasiPengisian),sortable:!0},{key:"selisih",header:"Selisih (L)",render:(z,V)=>{const fe=V.realisasiPengisian-V.pengajuanSolar,I=fe>=0?"text-green-600":"text-red-600";return i.jsx("span",{className:I,children:oe(fe)})},sortable:!1},{key:"keterangan",header:"Keterangan",render:(z,V)=>V.keterangan||"-"}],me=z=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>B(z.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4"})}),!F&&(G||Te)&&i.jsx("button",{onClick:()=>Pe(z),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:Te?"Ajukan Edit":"Edit",children:i.jsx(hr,{className:"h-4 w-4"})}),!F&&(be||ce)&&i.jsx("button",{onClick:()=>ge(z.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:ce?"Ajukan Hapus":"Hapus",children:i.jsx(lr,{className:"h-4 w-4"})})]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 rounded-xl p-3 sm:p-4 border border-amber-200 dark:border-amber-800",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-amber-700 dark:text-amber-300 uppercase tracking-wider",children:"Total Pengajuan"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-900 dark:text-amber-100",children:oe(A.totalPengajuan)}),i.jsx("p",{className:"text-[10px] sm:text-xs text-amber-600 dark:text-amber-400",children:"Liter"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 rounded-xl p-3 sm:p-4 border border-blue-200 dark:border-blue-800",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Total Realisasi"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900 dark:text-blue-100",children:oe(A.totalRealisasi)}),i.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 dark:text-blue-400",children:"Liter"})]}),i.jsxs("div",{className:`bg-gradient-to-br rounded-xl p-3 sm:p-4 border ${A.totalSelisih>=0?"from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-900/20 border-green-200 dark:border-green-800":"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20 border-red-200 dark:border-red-800"}`,children:[i.jsx("p",{className:`text-[10px] sm:text-xs font-medium uppercase tracking-wider ${A.totalSelisih>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:"Total Selisih"}),i.jsxs("p",{className:`text-lg sm:text-2xl font-bold ${A.totalSelisih>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:[A.totalSelisih>=0?"+":"",oe(A.totalSelisih)]}),i.jsxs("p",{className:`text-[10px] sm:text-xs ${A.totalSelisih>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Liter"," ",A.totalSelisih>=0?"(Surplus)":"(Defisit)"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900/30 dark:to-slate-900/20 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Total Record"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-900 dark:text-slate-100",children:A.totalRecord}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400",children:[S==="all"?"Semua tahun":`Tahun ${S}`,k!=="all"&&`, ${STe[parseInt(k)]}`]})]})]}),i.jsxs(Ie,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:i.jsx(H2,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx(Tt,{children:"Rekap Pengajuan BBM Alat Berat"}),i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:["Plant ",O," - Data pengajuan dan realisasi BBM"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:S,onChange:z=>T(z.target.value),options:NTe,className:"w-32"}),i.jsx(at,{value:k,onChange:z=>N(z.target.value),options:jTe,className:"w-40"}),i.jsxs(ye,{variant:"secondary",onClick:()=>_(!0),className:"border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20",children:[i.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cetak"]}),L&&i.jsxs(ye,{onClick:()=>{w(af),x(null),d(!0)},children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsx(Lr,{data:E,columns:M,actions:me,loading:l,emptyMessage:"Tidak ada data rekap BBM",searchable:!0,searchPlaceholder:"Cari tanggal, nama alat berat, keterangan...",searchKeys:["tanggal","namaAlatBerat","pengajuanSolar","realisasiPengisian","keterangan"]})]}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),x(null),w(af)},title:m?"Edit Data BBM":"Tambah Data BBM",size:"md",children:i.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:v.tanggal,onChange:z=>w({...v,tanggal:z.target.value}),required:!0}),i.jsx(Oe,{label:"Nama Alat Berat",placeholder:"Contoh: Forklift 1, Loader A, dll",value:v.namaAlatBerat,onChange:z=>w({...v,namaAlatBerat:z.target.value}),required:!0}),i.jsx(Oe,{label:"Pengajuan Solar (Liter)",type:"text",placeholder:"0",value:v.pengajuanSolar?oe(v.pengajuanSolar):"",onChange:z=>w({...v,pengajuanSolar:ve(z.target.value)}),required:!0}),i.jsx(Oe,{label:"Realisasi Pengisian (Liter)",type:"text",placeholder:"0",value:v.realisasiPengisian?oe(v.realisasiPengisian):"",onChange:z=>w({...v,realisasiPengisian:ve(z.target.value)}),required:!0}),i.jsx(Oe,{label:"Keterangan",placeholder:"Keterangan tambahan (opsional)",value:v.keterangan||"",onChange:z=>w({...v,keterangan:z.target.value})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{d(!1),x(null),w(af)},children:"Batal"}),i.jsx(ye,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:Ae,title:"Hapus Data BBM",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger",isLoading:l}),i.jsx(Pn,{isOpen:C,onClose:()=>{D(!1),Y(null)},onSubmit:ne,action:H,itemName:(W==null?void 0:W.namaAlatBerat)||"",loading:l}),i.jsx(Nr,{isVisible:p,message:m?"Data berhasil diupdate!":b?"Data berhasil dihapus!":"Data berhasil disimpan!",onClose:()=>g(!1)}),i.jsx(nW,{isOpen:P,onClose:()=>_(!1),data:E,plant:O}),i.jsx(Fr,{isOpen:te,onClose:()=>{q(!1),le("")},sheetName:O==="NPK1"?"rekap_bbm_NPK1":"rekap_bbm",recordId:ue,title:"Log Aktivitas Rekap BBM"})]})},S1=new Date().getFullYear(),TTe=[...Array.from({length:S1-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(S1+1),label:String(S1+1)}],Op={tanggal:yr(),area:"",ujiPenambahan10:0,ujiPenambahan20:0,ujiPenambahan30:0,ujiPenambahan40:0,ujiPenambahan50:0,ujiPengurangan50:0,ujiPengurangan40:0,ujiPengurangan30:0,ujiPengurangan20:0,ujiPengurangan10:0},Cp={ujiPenambahan10:"",ujiPenambahan20:"",ujiPenambahan30:"",ujiPenambahan40:"",ujiPenambahan50:"",ujiPengurangan50:"",ujiPengurangan40:"",ujiPengurangan30:"",ujiPengurangan20:"",ujiPengurangan10:""},PTe=()=>{const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=en(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(!1),[w,k]=j.useState(""),N=xe=>{k(xe),v(!0)},[S,T]=j.useState(null),[P,_]=j.useState(null),[O,C]=j.useState(Op),[D,H]=j.useState(Cp),[ee,W]=j.useState(""),[Y,te]=j.useState(String(new Date().getFullYear())),[q,ue]=j.useState(!1),[le,B]=j.useState("edit"),[F,L]=j.useState(null),R=Qr((e==null?void 0:e.role)||""),G=un((e==null?void 0:e.role)||"")&&!R,be=j.useCallback(()=>{if(c&&!o){const xe=document.querySelector("form");xe&&xe.requestSubmit()}},[c,o]);Br(be,c);const Te=y2((e==null?void 0:e.role)||""),ce=b2((e==null?void 0:e.role)||""),pe=Nn((e==null?void 0:e.role)||""),Pe=Tn((e==null?void 0:e.role)||""),ge=[{value:"NPK 2",label:"NPK 2"},{value:"Blending",label:"Blending"},{value:"NPK Mini",label:"NPK Mini"}],Ae=xe=>xe==null?"0.00":xe.toFixed(2),ne=(xe,_e)=>{const Fe=_e.replace(",",".");if(Fe===""||/^\d*\.?\d*$/.test(Fe)){H(Re=>({...Re,[xe]:Fe}));const Se=Fe===""||Fe==="."?0:parseFloat(Fe)||0;C(Re=>({...Re,[xe]:Se}))}},E=()=>{const xe=_e=>parseFloat(_e.replace(",","."))||0;return{ujiPenambahan10:xe(D.ujiPenambahan10),ujiPenambahan20:xe(D.ujiPenambahan20),ujiPenambahan30:xe(D.ujiPenambahan30),ujiPenambahan40:xe(D.ujiPenambahan40),ujiPenambahan50:xe(D.ujiPenambahan50),ujiPengurangan50:xe(D.ujiPengurangan50),ujiPengurangan40:xe(D.ujiPengurangan40),ujiPengurangan30:xe(D.ujiPengurangan30),ujiPengurangan20:xe(D.ujiPengurangan20),ujiPengurangan10:xe(D.ujiPengurangan10)}},A=xe=>{const _e=xe.ujiPenambahan10-10,Fe=xe.ujiPenambahan20-20,Se=xe.ujiPenambahan30-30,Re=xe.ujiPenambahan40-40,Qe=xe.ujiPenambahan50-50,et=xe.ujiPengurangan50-50,Je=xe.ujiPengurangan40-40,ut=xe.ujiPengurangan30-30,ur=xe.ujiPengurangan20-20,Ee=xe.ujiPengurangan10-10,Ue=[_e,Fe,Se,Re,Qe,et,Je,ut,ur,Ee],lt=Ue.reduce((br,Jt)=>br+Math.abs(Jt),0),jt=lt/Ue.length;return{selisihPenambahan10:_e,selisihPenambahan20:Fe,selisihPenambahan30:Se,selisihPenambahan40:Re,selisihPenambahan50:Qe,selisihPengurangan50:et,selisihPengurangan40:Je,selisihPengurangan30:ut,selisihPengurangan20:ur,selisihPengurangan10:Ee,totalSelisih:lt,rataRataSelisih:jt}};j.useEffect(()=>{(async()=>{l(!0);try{const{readData:_e,SHEETS:Fe}=await st(async()=>{const{readData:Re,SHEETS:Qe}=await Promise.resolve().then(()=>ot);return{readData:Re,SHEETS:Qe}},void 0),Se=await _e(Fe.RIKSA_TIMB_PORTABEL);if(Se.success&&Se.data){const Qe=[...Se.data.map(et=>({...et,...A(et)}))].sort((et,Je)=>new Date(Je.tanggal).getTime()-new Date(et.tanggal).getTime());s(Qe)}else s([])}catch(_e){console.error("Error fetching data:",_e),s([])}finally{l(!1)}})()},[]);const M=async xe=>{xe.preventDefault(),l(!0);try{const _e=E(),Fe={...O,..._e},Se=A(Fe),Re={...Fe,...Se};if(S){const Qe={...Re,id:S},et=await r("riksa_timb_portabel",Qe);if(et.success)s(Je=>Je.map(ut=>ut.id===S?{...Re,id:S}:ut));else throw new Error(et.error||"Gagal mengupdate data")}else{const Qe=await t("riksa_timb_portabel",Re);if(Qe.success&&Qe.data){const et={...Qe.data,...Se};s(Je=>[et,...Je])}else throw new Error(Qe.error||"Gagal menyimpan data")}u(!1),C(Op),H(Cp),T(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(_e){console.error("Error saving data:",_e),alert(_e instanceof Error?_e.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},me=xe=>{var _e,Fe,Se,Re,Qe,et,Je,ut,ur,Ee;if(pe){L(xe),B("edit"),ue(!0);return}C(xe),H({ujiPenambahan10:((_e=xe.ujiPenambahan10)==null?void 0:_e.toString())||"",ujiPenambahan20:((Fe=xe.ujiPenambahan20)==null?void 0:Fe.toString())||"",ujiPenambahan30:((Se=xe.ujiPenambahan30)==null?void 0:Se.toString())||"",ujiPenambahan40:((Re=xe.ujiPenambahan40)==null?void 0:Re.toString())||"",ujiPenambahan50:((Qe=xe.ujiPenambahan50)==null?void 0:Qe.toString())||"",ujiPengurangan50:((et=xe.ujiPengurangan50)==null?void 0:et.toString())||"",ujiPengurangan40:((Je=xe.ujiPengurangan40)==null?void 0:Je.toString())||"",ujiPengurangan30:((ut=xe.ujiPengurangan30)==null?void 0:ut.toString())||"",ujiPengurangan20:((ur=xe.ujiPengurangan20)==null?void 0:ur.toString())||"",ujiPengurangan10:((Ee=xe.ujiPengurangan10)==null?void 0:Ee.toString())||""}),T(xe.id||null),u(!0)},z=xe=>{if(Pe){const _e=a.find(Fe=>Fe.id===xe);_e&&(L(_e),B("delete"),ue(!0));return}_(xe),f(!0)},V=async()=>{if(P){l(!0);try{const xe=await n("riksa_timb_portabel",{id:P,_plant:"NPK2"});if(xe.success)s(_e=>_e.filter(Fe=>Fe.id!==P)),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(xe.error||"Gagal menghapus data")}catch(xe){console.error("Error deleting data:",xe),alert(xe instanceof Error?xe.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1),f(!1),_(null)}}},fe=async xe=>{if(F)try{const{createData:_e,SHEETS:Fe}=await st(async()=>{const{createData:Re,SHEETS:Qe}=await Promise.resolve().then(()=>ot);return{createData:Re,SHEETS:Qe}},void 0),Se={requestBy:(e==null?void 0:e.username)||"",requestByName:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",requestDate:new Date().toISOString(),action:le,sheetType:"riksa_timb_portabel",dataId:F.id||"",dataPreview:`${gt(F.tanggal)} - ${F.area}`,reason:xe,status:"pending",requesterPlant:(e==null?void 0:e.plant)||"NPK2"};await _e(Fe.APPROVAL_REQUESTS,Se),alert("Permintaan approval telah dikirim"),ue(!1),L(null)}catch(_e){console.error("Error submitting approval:",_e),alert("Gagal mengirim permintaan approval")}},I=xe=>{const _e={...xe,...A(xe)};b(_e),m(!0)},X=a.filter(xe=>new Date(xe.tanggal).getFullYear()===parseInt(Y)),re=[{key:"tanggal",header:"Tanggal",render:xe=>gt(xe),sortable:!0},{key:"area",header:"Area",sortable:!0},{key:"rataRataSelisih",header:"Rata-rata Selisih",render:xe=>i.jsxs("span",{className:Ge("font-semibold",Math.abs(xe)<=.5?"text-green-600":Math.abs(xe)<=1?"text-yellow-600":"text-red-600"),children:[Ae(xe)," kg"]}),sortable:!0},{key:"actions",header:"Aksi",render:(xe,_e)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>I(_e),title:"Lihat Detail",children:i.jsx(_s,{className:"h-4 w-4 text-blue-500"})}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>N(_e.id),title:"Lihat Log",children:i.jsx(At,{className:"h-4 w-4 text-purple-600"})}),(Te||pe)&&!R&&i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>me(_e),title:"Edit",children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),(ce||Pe)&&!R&&i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>z(_e.id),title:"Hapus",children:i.jsx(lr,{className:"h-4 w-4 text-red-500"})})]})}],J=({value:xe,label:_e})=>{const Fe=Math.abs(xe)<=.5,Se=Math.abs(xe)>.5&&Math.abs(xe)<=1;return i.jsxs("div",{className:Ge("flex items-center justify-between p-3 rounded-lg",Fe?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":Se?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:_e}),i.jsxs("div",{className:"flex items-center gap-2",children:[xe>=0?i.jsx(_l,{className:Ge("h-4 w-4",Fe?"text-green-500":Se?"text-yellow-500":"text-red-500")}):i.jsx(Yp,{className:Ge("h-4 w-4",Fe?"text-green-500":Se?"text-yellow-500":"text-red-500")}),i.jsxs("span",{className:Ge("font-bold",Fe?"text-green-600":Se?"text-yellow-600":"text-red-600"),children:[xe>=0?"+":"",Ae(xe)," kg"]})]})]})},ke=()=>{if(!x)return null;const xe=A(x),_e=xe.rataRataSelisih<=.5,Fe=xe.rataRataSelisih>.5&&xe.rataRataSelisih<=1,Se=[{std:10,hasil:x.ujiPenambahan10,selisih:xe.selisihPenambahan10},{std:20,hasil:x.ujiPenambahan20,selisih:xe.selisihPenambahan20},{std:30,hasil:x.ujiPenambahan30,selisih:xe.selisihPenambahan30},{std:40,hasil:x.ujiPenambahan40,selisih:xe.selisihPenambahan40},{std:50,hasil:x.ujiPenambahan50,selisih:xe.selisihPenambahan50}],Re=[{std:50,hasil:x.ujiPengurangan50,selisih:xe.selisihPengurangan50},{std:40,hasil:x.ujiPengurangan40,selisih:xe.selisihPengurangan40},{std:30,hasil:x.ujiPengurangan30,selisih:xe.selisihPengurangan30},{std:20,hasil:x.ujiPengurangan20,selisih:xe.selisihPengurangan20},{std:10,hasil:x.ujiPengurangan10,selisih:xe.selisihPengurangan10}],Qe=Je=>{const ut=Math.abs(Je);return ut<=.5?"text-green-600":ut<=1?"text-yellow-600":"text-red-600"},et=Je=>{const ut=Math.abs(Je);return ut<=.5?"bg-green-50 dark:bg-green-900/20":ut<=1?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20"};return i.jsx(xt,{isOpen:g,onClose:()=>m(!1),title:"",size:"xl",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:Ge("p-4 rounded-xl text-center",_e?"bg-gradient-to-r from-green-500 to-emerald-600":Fe?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-600"),children:[i.jsx(vP,{className:"h-8 w-8 mx-auto text-white mb-1"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:"Hasil Riksa Timbangan Portabel"}),i.jsxs("p",{className:"text-white/90 text-sm",children:[x.area,"  ",gt(x.tanggal)]}),i.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[_e?i.jsx(hH,{className:"h-4 w-4 text-white"}):i.jsx(ff,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"font-semibold text-white text-sm",children:_e?"Kalibrasi BAIK":Fe?"Perlu Perhatian":"Perlu Kalibrasi Ulang"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Selisih Absolut"}),i.jsxs("p",{className:"text-lg font-bold text-indigo-700 dark:text-indigo-400",children:[Ae(xe.totalSelisih)," kg"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rata-rata Selisih"}),i.jsxs("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:[Ae(xe.rataRataSelisih)," kg"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-green-500 px-3 py-1.5 flex items-center gap-1.5",children:[i.jsx(_l,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Penambahan"})]}),i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:"Standar"}),i.jsx("span",{className:"text-center",children:"Hasil"}),i.jsx("span",{className:"text-right",children:"Selisih"})]}),Se.map((Je,ut)=>i.jsxs("div",{className:Ge("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",et(Je.selisih)),children:[i.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Je.std," kg"]}),i.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[Ae(Je.hasil)," kg"]}),i.jsxs("span",{className:Ge("text-right font-bold",Qe(Je.selisih)),children:[Je.selisih>=0?"+":"",Ae(Je.selisih)," kg"]})]},ut))]})]}),i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-red-500 px-3 py-1.5 flex items-center gap-1.5",children:[i.jsx(Yp,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Pengurangan"})]}),i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-dark-700",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 dark:bg-dark-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:"Standar"}),i.jsx("span",{className:"text-center",children:"Hasil"}),i.jsx("span",{className:"text-right",children:"Selisih"})]}),Re.map((Je,ut)=>i.jsxs("div",{className:Ge("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",et(Je.selisih)),children:[i.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Je.std," kg"]}),i.jsxs("span",{className:"text-center font-semibold text-gray-800 dark:text-gray-200",children:[Ae(Je.hasil)," kg"]}),i.jsxs("span",{className:Ge("text-right font-bold",Qe(Je.selisih)),children:[Je.selisih>=0?"+":"",Ae(Je.selisih)," kg"]})]},ut))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t dark:border-dark-700",children:[i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5kg"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-yellow-500"}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"0.5-1kg"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-red-500"}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:">1kg"})]})]}),i.jsx(ye,{size:"sm",onClick:()=>m(!1),children:"Tutup"})]})]})})},Ke=j.useMemo(()=>{const xe=X.length,_e=X.map(Je=>A(Je)),Fe=_e.filter(Je=>Je.rataRataSelisih<=.5).length,Se=_e.filter(Je=>Je.rataRataSelisih>.5&&Je.rataRataSelisih<=1).length,Re=_e.filter(Je=>Je.rataRataSelisih>1).length,Qe=xe>0?_e.reduce((Je,ut)=>Je+ut.rataRataSelisih,0)/xe:0,et=new Set(X.map(Je=>Je.area).filter(Boolean)).size;return{total:xe,goodCount:Fe,warningCount:Se,badCount:Re,avgSelisih:Qe,uniqueAreas:et}},[X]);return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl shadow-lg",children:i.jsx(vP,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-dark-900 dark:text-white",children:"Riksa Timbangan Portabel"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Data pengujian kalibrasi timbangan portabel"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:Y,onChange:xe=>te(xe.target.value),options:TTe,className:"w-32"}),G&&i.jsxs(ye,{onClick:()=>u(!0),children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Pemeriksaan"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:Ke.total})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Lolos (0.5kg)"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:Ke.goodCount})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Perhatian (>0.5kg)"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:Ke.warningCount+Ke.badCount})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Rata-rata Selisih"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:[Ae(Ke.avgSelisih)," kg"]})]})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs(Tt,{children:["Data Riksa Timbangan - Tahun ",Y]})}),i.jsx(Lr,{columns:re,data:X,loading:o,emptyMessage:"Belum ada data riksa timbangan portabel",searchable:!0,searchPlaceholder:"Cari tanggal, area, rata-rata selisih...",searchKeys:["tanggal","area","rataRataSelisih","keterangan"]})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),C(Op),H(Cp),T(null)},title:S?"Edit Data Riksa Timbangan":"Tambah Data Riksa Timbangan",size:"lg",children:i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Oe,{label:"Tanggal",type:"date",value:O.tanggal,onChange:xe=>C({...O,tanggal:xe.target.value}),required:!0}),i.jsx(at,{label:"Area",value:O.area,onChange:xe=>C({...O,area:xe.target.value}),options:ge,placeholder:"Pilih Area",required:!0})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[i.jsx(_l,{className:"h-5 w-5"}),"Uji Penambahan"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsx(Oe,{label:"10 Kg",type:"text",inputMode:"decimal",value:D.ujiPenambahan10,onChange:xe=>ne("ujiPenambahan10",xe.target.value),placeholder:"Contoh: 10.02",required:!0}),i.jsx(Oe,{label:"20 Kg",type:"text",inputMode:"decimal",value:D.ujiPenambahan20,onChange:xe=>ne("ujiPenambahan20",xe.target.value),placeholder:"Contoh: 20.05",required:!0}),i.jsx(Oe,{label:"30 Kg",type:"text",inputMode:"decimal",value:D.ujiPenambahan30,onChange:xe=>ne("ujiPenambahan30",xe.target.value),placeholder:"Contoh: 30.01",required:!0}),i.jsx(Oe,{label:"40 Kg",type:"text",inputMode:"decimal",value:D.ujiPenambahan40,onChange:xe=>ne("ujiPenambahan40",xe.target.value),placeholder:"Contoh: 40.03",required:!0}),i.jsx(Oe,{label:"50 Kg",type:"text",inputMode:"decimal",value:D.ujiPenambahan50,onChange:xe=>ne("ujiPenambahan50",xe.target.value),placeholder:"Contoh: 50.02",required:!0})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2",children:[i.jsx(Yp,{className:"h-5 w-5"}),"Uji Pengurangan"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsx(Oe,{label:"50 Kg",type:"text",inputMode:"decimal",value:D.ujiPengurangan50,onChange:xe=>ne("ujiPengurangan50",xe.target.value),placeholder:"Contoh: 50.01",required:!0}),i.jsx(Oe,{label:"40 Kg",type:"text",inputMode:"decimal",value:D.ujiPengurangan40,onChange:xe=>ne("ujiPengurangan40",xe.target.value),placeholder:"Contoh: 40.02",required:!0}),i.jsx(Oe,{label:"30 Kg",type:"text",inputMode:"decimal",value:D.ujiPengurangan30,onChange:xe=>ne("ujiPengurangan30",xe.target.value),placeholder:"Contoh: 30.03",required:!0}),i.jsx(Oe,{label:"20 Kg",type:"text",inputMode:"decimal",value:D.ujiPengurangan20,onChange:xe=>ne("ujiPengurangan20",xe.target.value),placeholder:"Contoh: 20.01",required:!0}),i.jsx(Oe,{label:"10 Kg",type:"text",inputMode:"decimal",value:D.ujiPengurangan10,onChange:xe=>ne("ujiPengurangan10",xe.target.value),placeholder:"Contoh: 10.02",required:!0})]})]}),(O.ujiPenambahan10>0||O.ujiPengurangan10>0)&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preview Selisih"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[O.ujiPenambahan10>0&&i.jsx(J,{value:O.ujiPenambahan10-10,label:"+10kg"}),O.ujiPenambahan20>0&&i.jsx(J,{value:O.ujiPenambahan20-20,label:"+20kg"}),O.ujiPenambahan30>0&&i.jsx(J,{value:O.ujiPenambahan30-30,label:"+30kg"}),O.ujiPenambahan40>0&&i.jsx(J,{value:O.ujiPenambahan40-40,label:"+40kg"}),O.ujiPenambahan50>0&&i.jsx(J,{value:O.ujiPenambahan50-50,label:"+50kg"}),O.ujiPengurangan50>0&&i.jsx(J,{value:O.ujiPengurangan50-50,label:"-50kg"}),O.ujiPengurangan40>0&&i.jsx(J,{value:O.ujiPengurangan40-40,label:"-40kg"}),O.ujiPengurangan30>0&&i.jsx(J,{value:O.ujiPengurangan30-30,label:"-30kg"}),O.ujiPengurangan20>0&&i.jsx(J,{value:O.ujiPengurangan20-20,label:"-20kg"}),O.ujiPengurangan10>0&&i.jsx(J,{value:O.ujiPengurangan10-10,label:"-10kg"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:()=>{u(!1),C(Op),H(Cp),T(null)},children:"Batal"}),i.jsx(ye,{type:"submit",disabled:o,children:o?"Menyimpan...":S?"Update":"Simpan"})]})]})}),i.jsx(ke,{}),i.jsx(Ar,{isOpen:d,onClose:()=>f(!1),onConfirm:V,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),i.jsx(Pn,{isOpen:q,onClose:()=>{ue(!1),L(null)},onSubmit:fe,action:le,itemName:F?`${gt(F.tanggal)} - ${F.area}`:"data ini"}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!"}),i.jsx(Fr,{isOpen:y,onClose:()=>{v(!1),k("")},sheetName:"riksa_timb_portabel",recordId:w,title:"Log Aktivitas Riksa Timbangan Portabel"})]})},_Te=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[a,s]=j.useState({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),o=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],l=async c=>{c.preventDefault();const u=await r(a);u.success?(s({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),t()):alert(u.error||"Gagal menambah material")};return i.jsx(xt,{isOpen:e,onClose:t,title:"Tambah Material Baru",size:"md",children:i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsx(Oe,{label:"Kode Material",value:a.kode_material,onChange:c=>s({...a,kode_material:c.target.value}),placeholder:"Contoh: MTL-001",required:!0}),i.jsx(Oe,{label:"Nama Material",value:a.nama_material,onChange:c=>s({...a,nama_material:c.target.value}),placeholder:"Contoh: Bearing SKF 6205",required:!0}),i.jsx(at,{label:"Satuan",value:a.satuan,onChange:c=>s({...a,satuan:c.target.value}),options:o}),i.jsx(Oe,{label:"Stok Awal",type:"number",value:a.stok.toString(),onChange:c=>s({...a,stok:ve(c.target.value)}),min:0}),i.jsx(Oe,{label:"Stok Minimum (Alert)",type:"number",value:a.stok_minimum.toString(),onChange:c=>s({...a,stok_minimum:ve(c.target.value)}),min:0}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:n,children:"Simpan"})]})]})})},ETe=({isOpen:e,onClose:t,material:r,onSubmit:n,loading:a})=>{const[s,o]=j.useState({kode_material:"",nama_material:"",satuan:"pcs",stok_minimum:0});j.useState(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})}),j.useMemo(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})},[r]);const l=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],c=async u=>{if(u.preventDefault(),!(r!=null&&r.id))return;const d=await n({id:r.id,...s});d.success?t():alert(d.error||"Gagal mengupdate material")};return r?i.jsx(xt,{isOpen:e,onClose:t,title:"Edit Material",size:"md",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsx(Oe,{label:"Kode Material",value:s.kode_material,onChange:u=>o({...s,kode_material:u.target.value}),required:!0}),i.jsx(Oe,{label:"Nama Material",value:s.nama_material,onChange:u=>o({...s,nama_material:u.target.value}),required:!0}),i.jsx(at,{label:"Satuan",value:s.satuan,onChange:u=>o({...s,satuan:u.target.value}),options:l}),i.jsx(Oe,{label:"Stok Minimum (Alert)",type:"number",value:s.stok_minimum.toString(),onChange:u=>o({...s,stok_minimum:ve(u.target.value)}),min:0}),i.jsxs("div",{className:"text-sm text-dark-500 dark:text-dark-400 bg-dark-50 dark:bg-dark-700 p-3 rounded-lg",children:[i.jsxs("p",{children:["Stok saat ini:"," ",i.jsxs("strong",{children:[oe(r.stok)," ",r.satuan]})]}),i.jsx("p",{className:"text-xs mt-1",children:"Untuk mengubah stok, gunakan menu Tambah Stok atau Ambil Stok."})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:a,children:"Update"})]})]})}):null},ATe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:a})=>{const[s,o]=j.useState({materialId:"",jumlah:0,keterangan:""}),l=r.map(u=>({value:u.id||"",label:`${u.kode_material} - ${u.nama_material} (Stok: ${oe(u.stok)} ${u.satuan})`})),c=async u=>{if(u.preventDefault(),!s.materialId||s.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}const d=await n(s.materialId,s.jumlah,s.keterangan);d.success?(o({materialId:"",jumlah:0,keterangan:""}),t()):alert(d.error||"Gagal menambah stok")};return i.jsx(xt,{isOpen:e,onClose:t,title:"Tambah Stok Material",size:"md",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Ib,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),i.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Stok Masuk"})]}),i.jsx(at,{label:"Pilih Material",value:s.materialId,onChange:u=>o({...s,materialId:u.target.value}),options:[{value:"",label:"-- Pilih Material --"},...l],required:!0}),i.jsx(Oe,{label:"Jumlah",type:"number",value:s.jumlah.toString(),onChange:u=>o({...s,jumlah:ve(u.target.value)}),min:1,required:!0}),i.jsx(Oe,{label:"Keterangan",value:s.keterangan,onChange:u=>o({...s,keterangan:u.target.value}),placeholder:"Contoh: Pembelian dari vendor X"}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsxs(ye,{type:"submit",isLoading:a,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Ib,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]})]})]})})},OTe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:a})=>{const[s,o]=j.useState({materialId:"",jumlah:0,keterangan:""}),[l,c]=j.useState(null),u=r.map(h=>({value:h.id||"",label:`${h.kode_material} - ${h.nama_material} (Stok: ${oe(h.stok)} ${h.satuan})`})),d=h=>{o({...s,materialId:h});const p=r.find(g=>g.id===h)||null;c(p)},f=async h=>{if(h.preventDefault(),!s.materialId||s.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}if(l&&s.jumlah>l.stok){alert(`Stok tidak cukup! Stok tersedia: ${oe(l.stok)} ${l.satuan}`);return}const p=await n(s.materialId,s.jumlah,s.keterangan);p.success?(o({materialId:"",jumlah:0,keterangan:""}),c(null),t()):alert(p.error||"Gagal mengambil stok")};return i.jsx(xt,{isOpen:e,onClose:t,title:"Ambil Stok Material",size:"md",children:i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Lb,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),i.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Stok Keluar"})]}),i.jsx(at,{label:"Pilih Material",value:s.materialId,onChange:h=>d(h.target.value),options:[{value:"",label:"-- Pilih Material --"},...u],required:!0}),l&&i.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 p-3 rounded-lg text-sm",children:i.jsxs("p",{children:["Stok tersedia:"," ",i.jsxs("strong",{className:"text-primary-600",children:[oe(l.stok)," ",l.satuan]})]})}),i.jsx(Oe,{label:"Jumlah",type:"number",value:s.jumlah.toString(),onChange:h=>o({...s,jumlah:ve(h.target.value)}),min:1,max:(l==null?void 0:l.stok)||void 0,required:!0}),i.jsx(Oe,{label:"Keterangan",value:s.keterangan,onChange:h=>o({...s,keterangan:h.target.value}),placeholder:"Contoh: Pemakaian untuk maintenance pump",required:!0}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(ye,{type:"button",variant:"outline",onClick:t,children:"Batal"}),i.jsxs(ye,{type:"submit",isLoading:a,className:"bg-red-600 hover:bg-red-700",children:[i.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]})]})})},CTe=({isOpen:e,onClose:t,materials:r})=>{const{transactions:n,loading:a,updateFilters:s,clearFilters:o}=aTe(),[l,c]=j.useState({material_id:"",start_date:"",end_date:""}),u=r.map(g=>({value:g.id||"",label:`${g.kode_material} - ${g.nama_material}`})),d=g=>{const m=r.find(x=>x.id===g);return m?`${m.kode_material} - ${m.nama_material}`:g},f=()=>{s({material_id:l.material_id||void 0,start_date:l.start_date||void 0,end_date:l.end_date||void 0})},h=()=>{c({material_id:"",start_date:"",end_date:""}),o()},p=[{key:"created_at",header:"Tanggal",render:(g,m)=>w5(m.created_at||"")},{key:"material_id",header:"Material",render:(g,m)=>d(m.material_id)},{key:"tipe_transaksi",header:"Tipe",render:(g,m)=>i.jsx(Ze,{variant:m.tipe_transaksi==="masuk"?"success":"danger",children:m.tipe_transaksi==="masuk"?"Masuk":"Keluar"})},{key:"jumlah",header:"Jumlah",render:(g,m)=>oe(m.jumlah)},{key:"keterangan",header:"Keterangan",render:(g,m)=>m.keterangan||"-"}];return i.jsx(xt,{isOpen:e,onClose:t,title:"Riwayat Transaksi Material",size:"xl",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-dark-50 dark:bg-dark-700 p-4 rounded-lg",children:[i.jsx(at,{label:"Material",value:l.material_id,onChange:g=>c({...l,material_id:g.target.value}),options:[{value:"",label:"Semua Material"},...u]}),i.jsx(Oe,{label:"Dari Tanggal",type:"date",value:l.start_date,onChange:g=>c({...l,start_date:g.target.value})}),i.jsx(Oe,{label:"Sampai Tanggal",type:"date",value:l.end_date,onChange:g=>c({...l,end_date:g.target.value})}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsxs(ye,{onClick:f,variant:"primary",size:"sm",children:[i.jsx(Ex,{className:"h-4 w-4 mr-1"}),"Filter"]}),i.jsx(ye,{onClick:h,variant:"outline",size:"sm",children:"Reset"})]})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.jsx(Lr,{data:n,columns:p,loading:a,emptyMessage:"Belum ada transaksi",searchable:!0,searchPlaceholder:"Cari kode, nama material, jenis, keterangan...",searchKeys:["kode_material","nama_material","jenis","keterangan"]})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx(ye,{onClick:t,children:"Tutup"})})]})})},DTe=()=>{const{user:e}=Et(),{materials:t,loading:r,error:n,refetch:a,addMaterial:s,updateMaterial:o,deleteMaterial:l,stockMasuk:c,stockKeluar:u}=nTe(),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(!1),[y,v]=j.useState(!1),[w,k]=j.useState(!1),[N,S]=j.useState(!1),[T,P]=j.useState(!1),[_,O]=j.useState(""),[C,D]=j.useState(null),[H,ee]=j.useState(null),[W,Y]=j.useState(1),te=10,q=Qr((e==null?void 0:e.role)||""),ue=un((e==null?void 0:e.role)||"")&&!q,le=y2((e==null?void 0:e.role)||"")&&!q,B=b2((e==null?void 0:e.role)||"")&&!q,F=j.useMemo(()=>[...t],[t]);j.useMemo(()=>{const A=(W-1)*te;return F.slice(A,A+te)},[F,W]),Math.ceil(F.length/te);const L=A=>{D(A),p(!0)},R=A=>{ee(A),k(!0)},G=async()=>{if(!H)return;const A=await l(H);A.success?(S(!0),setTimeout(()=>S(!1),2e3)):alert(A.error||"Gagal menghapus material"),k(!1),ee(null)},be=async A=>{const M=await s(A);return M.success&&(S(!0),setTimeout(()=>S(!1),2e3)),M},Te=async A=>{const M=await o(A);return M.success&&(S(!0),setTimeout(()=>S(!1),2e3)),M},ce=async(A,M,me)=>{const z=await c(A,M,me);return z.success&&(S(!0),setTimeout(()=>S(!1),2e3)),z},pe=async(A,M,me)=>{const z=await u(A,M,me);return z.success&&(S(!0),setTimeout(()=>S(!1),2e3)),z},Pe=j.useCallback(()=>{},[]);Br(Pe,d||h||g||x);const ge=[{key:"kode_material",header:"Kode",render:(A,M)=>i.jsx("span",{className:"font-mono text-primary-600 dark:text-primary-400",children:M.kode_material})},{key:"nama_material",header:"Nama Material"},{key:"satuan",header:"Satuan",render:(A,M)=>M.satuan.toUpperCase()},{key:"stok",header:"Stok",render:(A,M)=>{const me=M.stok<=M.stok_minimum;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:me?"text-red-600 dark:text-red-400 font-bold":"",children:oe(M.stok)}),me&&i.jsxs(Ze,{variant:"danger",className:"flex items-center gap-1",children:[i.jsx(Cm,{className:"h-3 w-3"}),"Menipis"]})]})}},{key:"stok_minimum",header:"Min. Stok",render:(A,M)=>oe(M.stok_minimum)},{key:"actions",header:"Aksi",render:(A,M)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>{O(M.id||""),P(!0)},className:"p-1.5 text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-900/30 rounded-lg transition-colors",title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-4 w-4"})}),le&&i.jsx("button",{onClick:()=>L(M),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Material",children:i.jsx(hr,{className:"h-4 w-4"})}),B&&i.jsx("button",{onClick:()=>R(M.id||""),className:"p-1.5 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Hapus Material",children:i.jsx(lr,{className:"h-4 w-4"})})]})}],Ae=t.filter(A=>A.stok<=A.stok_minimum).length,ne=t.length,E=t.reduce((A,M)=>A+(M.stok||0),0);return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsx(Nr,{isVisible:N,message:"Berhasil!"}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[i.jsx(vh,{className:"h-7 w-7 text-primary-600"}),"Inventaris Stok Material"]}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola stok material consumable"})]}),Ae>0&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2 flex items-center gap-2",children:[i.jsx(Cm,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),i.jsxs("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:[Ae," material stok menipis"]})]})]}),n&&i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:n}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Material"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary-600",children:ne})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Total Stok"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-dark-900 dark:text-white",children:oe(E)})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stok Aman"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ne-Ae})]}),i.jsxs(Ie,{className:"p-3 sm:p-4",children:[i.jsx("p",{className:"text-xs sm:text-sm text-dark-500 dark:text-dark-400 truncate",children:"Stok Menipis"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:Ae})]})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"p-4 flex flex-wrap gap-3",children:[ue&&i.jsxs(i.Fragment,{children:[i.jsxs(ye,{onClick:()=>f(!0),children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah Material"]}),i.jsxs(ye,{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Ib,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]}),i.jsxs(ye,{onClick:()=>b(!0),className:"bg-red-600 hover:bg-red-700",children:[i.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]}),i.jsxs(ye,{variant:"outline",onClick:()=>v(!0),children:[i.jsx(At,{className:"h-4 w-4 mr-2"}),"Riwayat Transaksi"]}),i.jsxs(ye,{variant:"outline",onClick:a,children:[i.jsx(yl,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsx(Tt,{className:"flex items-center justify-between",children:i.jsxs("span",{children:["Daftar Material (",F.length,")"]})})}),i.jsx(Lr,{data:F,columns:ge,loading:r,emptyMessage:"Belum ada data material",searchable:!0,searchPlaceholder:"Cari kode, nama material, satuan...",searchKeys:["kode_material","nama_material","satuan","stok","stok_minimum"]})]}),i.jsx(_Te,{isOpen:d,onClose:()=>f(!1),onSubmit:be,loading:r}),i.jsx(ETe,{isOpen:h,onClose:()=>{p(!1),D(null)},material:C,onSubmit:Te,loading:r}),i.jsx(ATe,{isOpen:g,onClose:()=>m(!1),materials:t,onSubmit:ce,loading:r}),i.jsx(OTe,{isOpen:x,onClose:()=>b(!1),materials:t,onSubmit:pe,loading:r}),i.jsx(CTe,{isOpen:y,onClose:()=>v(!1),materials:t}),i.jsx(Ar,{isOpen:w,onClose:()=>k(!1),onConfirm:G,title:"Hapus Material",message:"Apakah Anda yakin ingin menghapus material ini? Semua riwayat transaksi material ini akan tetap tersimpan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),i.jsx(Fr,{isOpen:T,onClose:()=>{P(!1),O("")},sheetName:"materials",recordId:_,title:"Log Aktivitas Material"})]})},MTe=()=>{var v,w;const{user:e,logout:t}=Et(),[r,n]=j.useState(!1),[a,s]=j.useState(!1),[o,l]=j.useState("profile"),[c,u]=j.useState({nama:(e==null?void 0:e.nama)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"Produksi"}),[d,f]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=j.useState({emailNotifications:!0,pushNotifications:!0,dailyReport:!0,weeklyReport:!1,alertDowntime:!0,alertWorkRequest:!0}),g=async k=>{k.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await st(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>ot);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,nama:c.nama,email:c.email,phone:c.phone,department:c.department},P=await N(S.USERS,T);if(P.success)s(!0),setTimeout(()=>s(!1),2e3);else throw new Error(P.error||"Gagal mengupdate profile")}}catch(N){console.error("Error updating profile:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate profile")}finally{n(!1)}},m=async k=>{if(k.preventDefault(),d.newPassword!==d.confirmPassword){alert("Password baru dan konfirmasi tidak cocok");return}n(!0);try{const{updateData:N,SHEETS:S}=await st(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>ot);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,password:d.newPassword,currentPassword:d.currentPassword},P=await N(S.USERS,T);if(P.success)f({currentPassword:"",newPassword:"",confirmPassword:""}),s(!0),setTimeout(()=>s(!1),2e3);else throw new Error(P.error||"Gagal mengupdate password")}}catch(N){console.error("Error updating password:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate password")}finally{n(!1)}},x=async k=>{k.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await st(async()=>{const{updateData:T,SHEETS:P}=await Promise.resolve().then(()=>ot);return{updateData:T,SHEETS:P}},void 0);if(e!=null&&e.id){const T={id:e.id,notificationSettings:h},P=await N(S.USERS,T);if(P.success)s(!0),setTimeout(()=>s(!1),2e3);else throw new Error(P.error||"Gagal mengupdate notifikasi")}}catch(N){console.error("Error updating notifications:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate notifikasi")}finally{n(!1)}},b=k=>{switch(k){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";default:return"warning"}},y=[{id:"profile",label:"Profile",icon:yh},{id:"password",label:"Password",icon:Dm},{id:"notifications",label:"Notifikasi",icon:Jc}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Pengaturan Akun"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola informasi akun dan preferensi Anda"})]}),i.jsx(Ie,{className:"p-6 bg-gradient-to-r from-primary-50 to-indigo-50 dark:from-primary-900/30 dark:to-indigo-900/30 border-primary-200 dark:border-primary-800",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white text-2xl font-bold",children:((v=e==null?void 0:e.nama)==null?void 0:v.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:(e==null?void 0:e.nama)||"User"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400",children:(e==null?void 0:e.email)||"user@example.com"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsxs(Ze,{variant:b((e==null?void 0:e.role)||"user"),children:[i.jsx(Rm,{className:"h-3 w-3 mr-1"}),((w=e==null?void 0:e.role)==null?void 0:w.toUpperCase())||"USER"]}),i.jsx(Ze,{variant:"primary",children:(e==null?void 0:e.plant)||"NPK2"})]})]}),i.jsx(ye,{variant:"secondary",onClick:t,children:"Logout"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx(Ie,{className:"p-4 h-fit",children:i.jsx("nav",{className:"space-y-1",children:y.map(k=>i.jsxs("button",{onClick:()=>l(k.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ${o===k.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 font-medium":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700"}`,children:[i.jsx(k.icon,{className:"h-5 w-5"}),k.label]},k.id))})}),i.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(yh,{className:"h-5 w-5"}),"Informasi Profile"]})}),i.jsx(tn,{children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsx(Oe,{label:"Nama Lengkap",type:"text",value:c.nama,onChange:k=>u(N=>({...N,nama:k.target.value})),required:!0}),i.jsx(Oe,{label:"Email",type:"email",value:c.email,onChange:k=>u(N=>({...N,email:k.target.value})),required:!0}),i.jsx(Oe,{label:"No. Telepon",type:"tel",value:c.phone,onChange:k=>u(N=>({...N,phone:k.target.value})),placeholder:"08xxxxxxxxxx"}),i.jsx(at,{label:"Department",value:c.department,onChange:k=>u(N=>({...N,department:k.target.value})),options:[{value:"Produksi",label:"Produksi"},{value:"Maintenance",label:"Maintenance"},{value:"Quality Control",label:"Quality Control"},{value:"HSE",label:"HSE"},{value:"Admin",label:"Admin"}]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(ye,{type:"submit",isLoading:r,children:[i.jsx(qp,{className:"h-4 w-4 mr-2"}),"Simpan Perubahan"]})})]})})]}),o==="password"&&i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Dm,{className:"h-5 w-5"}),"Ubah Password"]})}),i.jsx(tn,{children:i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsx(Oe,{label:"Password Saat Ini",type:"password",value:d.currentPassword,onChange:k=>f(N=>({...N,currentPassword:k.target.value})),required:!0}),i.jsx(Oe,{label:"Password Baru",type:"password",value:d.newPassword,onChange:k=>f(N=>({...N,newPassword:k.target.value})),required:!0}),i.jsx(Oe,{label:"Konfirmasi Password Baru",type:"password",value:d.confirmPassword,onChange:k=>f(N=>({...N,confirmPassword:k.target.value})),required:!0}),i.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:i.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[i.jsx("strong",{children:"Tips:"})," Password minimal 8 karakter, kombinasi huruf besar, huruf kecil, dan angka."]})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(ye,{type:"submit",isLoading:r,children:[i.jsx(qp,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})})]}),o==="notifications"&&i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Jc,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]})}),i.jsx(tn,{children:i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi Umum"}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Terima notifikasi via email"})]}),i.jsx("input",{type:"checkbox",checked:h.emailNotifications,onChange:k=>p(N=>({...N,emailNotifications:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi browser/app"})]}),i.jsx("input",{type:"checkbox",checked:h.pushNotifications,onChange:k=>p(N=>({...N,pushNotifications:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Laporan"}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Harian"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi harian"})]}),i.jsx("input",{type:"checkbox",checked:h.dailyReport,onChange:k=>p(N=>({...N,dailyReport:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Mingguan"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi mingguan"})]}),i.jsx("input",{type:"checkbox",checked:h.weeklyReport,onChange:k=>p(N=>({...N,weeklyReport:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Alert"}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Downtime"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi saat terjadi downtime"})]}),i.jsx("input",{type:"checkbox",checked:h.alertDowntime,onChange:k=>p(N=>({...N,alertDowntime:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 dark:bg-dark-700 rounded-xl cursor-pointer",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Work Request"}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi work request baru"})]}),i.jsx("input",{type:"checkbox",checked:h.alertWorkRequest,onChange:k=>p(N=>({...N,alertWorkRequest:k.target.checked})),className:"w-5 h-5 text-primary-600 rounded dark:bg-dark-600 dark:border-dark-500"})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(ye,{type:"submit",isLoading:r,children:[i.jsx(qp,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})})]})})]})]})]}),i.jsx(Nr,{isVisible:a,message:"Perubahan berhasil disimpan!",onClose:()=>s(!1)})]})},nl=[{key:"januari",label:"Januari"},{key:"februari",label:"Februari"},{key:"maret",label:"Maret"},{key:"april",label:"April"},{key:"mei",label:"Mei"},{key:"juni",label:"Juni"},{key:"juli",label:"Juli"},{key:"agustus",label:"Agustus"},{key:"september",label:"September"},{key:"oktober",label:"Oktober"},{key:"november",label:"November"},{key:"desember",label:"Desember"}],al={tahun:new Date().getFullYear().toString(),plant:"NPK2",januari:0,februari:0,maret:0,april:0,mei:0,juni:0,juli:0,agustus:0,september:0,oktober:0,november:0,desember:0,total:0},$O=[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"}],RTe=()=>{var me;const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=en(),[a,s]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,b]=j.useState(null),[y,v]=j.useState(null),[w,k]=j.useState(al),[N,S]=j.useState((e==null?void 0:e.plant)||"ALL"),[T,P]=j.useState(new Date().getFullYear().toString()),[_,O]=j.useState(!1),[C,D]=j.useState("");j.useEffect(()=>{(async()=>{u(!0);try{const{readData:V,fetchDataByPlant:fe,SHEETS:I}=await st(async()=>{const{readData:J,fetchDataByPlant:ke,SHEETS:Ke}=await Promise.resolve().then(()=>ot);return{readData:J,fetchDataByPlant:ke,SHEETS:Ke}},void 0),X=await V(I.RKAP);X.success&&X.data?s(X.data):s([]);const re=await fe(I.PRODUKSI_NPK);re.success&&re.data?l(re.data):l([])}catch(V){console.error("Error fetching data:",V),s([]),l([])}finally{u(!1)}})()},[]),j.useEffect(()=>{const z=nl.reduce((V,fe)=>V+(Number(w[fe.key])||0),0);k(V=>({...V,total:z}))},[w.januari,w.februari,w.maret,w.april,w.mei,w.juni,w.juli,w.agustus,w.september,w.oktober,w.november,w.desember]);const H=j.useMemo(()=>{const z={},V=o.filter(fe=>{const X=new Date(fe.tanggal).getFullYear().toString()===T,re=N==="ALL"||fe._plant===N;return X&&re});return nl.forEach((fe,I)=>{const X=V.filter(re=>new Date(re.tanggal).getMonth()===I);z[fe.key]=X.reduce((re,J)=>re+(ve(J.total)||ve(J.shiftMalamOnspek)+ve(J.shiftMalamOffspek)+ve(J.shiftPagiOnspek)+ve(J.shiftPagiOffspek)+ve(J.shiftSoreOnspek)+ve(J.shiftSoreOffspek)),0)}),z},[o,T,N]),ee=j.useMemo(()=>a.filter(z=>{var I;const V=((I=z.tahun)==null?void 0:I.toString())===T,fe=N==="ALL"||z.plant===N;return V&&fe}),[a,T,N]),W=j.useMemo(()=>a.find(z=>{var V;return((V=z.tahun)==null?void 0:V.toString())===T&&z.plant==="NPK1"}),[a,T]),Y=j.useMemo(()=>a.find(z=>{var V;return((V=z.tahun)==null?void 0:V.toString())===T&&z.plant==="NPK2"}),[a,T]),te=j.useMemo(()=>{const z={NPK1:{},NPK2:{}};return["NPK1","NPK2"].forEach(V=>{const fe=o.filter(I=>new Date(I.tanggal).getFullYear().toString()===T&&I._plant===V);nl.forEach((I,X)=>{const re=fe.filter(J=>new Date(J.tanggal).getMonth()===X);z[V][I.key]=re.reduce((J,ke)=>J+(ve(ke.total)||ve(ke.shiftMalamOnspek)+ve(ke.shiftMalamOffspek)+ve(ke.shiftPagiOnspek)+ve(ke.shiftPagiOffspek)+ve(ke.shiftSoreOnspek)+ve(ke.shiftSoreOffspek)),0)})}),z},[o,T]),q=ee[0],ue=async z=>{z.preventDefault(),u(!0);try{if(x){const V={...w,id:x},fe=await r("rkap",V);if(fe.success)s(I=>I.map(X=>X.id===x?{...w,id:x}:X));else throw new Error(fe.error||"Gagal mengupdate data")}else{const V=await t("rkap",w);if(V.success&&V.data)s(fe=>[V.data,...fe]);else throw new Error(V.error||"Gagal menyimpan data")}f(!1),k(al),b(null),m(!0),setTimeout(()=>m(!1),2e3)}catch(V){console.error("Error saving data:",V),alert(V instanceof Error?V.message:"Terjadi kesalahan saat menyimpan data")}finally{u(!1)}},le=z=>{k(z),b(z.id||null),f(!0)},B=z=>{v(z),p(!0)},F=async()=>{if(y){u(!0);try{const z=await n("rkap",{id:y});if(z.success)s(V=>V.filter(fe=>fe.id!==y)),p(!1),v(null),m(!0),setTimeout(()=>m(!1),2e3);else throw new Error(z.error||"Gagal menghapus data")}catch(z){console.error("Error deleting data:",z),alert(z instanceof Error?z.message:"Terjadi kesalahan saat menghapus data")}finally{u(!1)}}},L=()=>{k({...al,tahun:T,plant:N==="ALL"?"NPK2":N}),b(null),f(!0)},R=(z,V)=>{k(fe=>({...fe,[z]:parseFloat(V)||0}))},G=(W==null?void 0:W.total)||0,be=(Y==null?void 0:Y.total)||0,Te=N==="ALL"?G+be:(q==null?void 0:q.total)||0,ce=Object.values(te.NPK1).reduce((z,V)=>z+V,0),pe=Object.values(te.NPK2).reduce((z,V)=>z+V,0),Pe=N==="ALL"?ce+pe:Object.values(H).reduce((z,V)=>z+V,0),ge=Te>0?(Pe/Te*100).toFixed(1):"0",Ae=G>0?(ce/G*100).toFixed(1):"0",ne=be>0?(pe/be*100).toFixed(1):"0",E=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp",A=j.useCallback(()=>{if(d&&!c){const z=document.querySelector("form");z&&z.requestSubmit()}},[d,c]);Br(A,d);const M=N==="ALL"?"Semua Plant":N==="NPK1"?"NPK Plant 1":"NPK Plant 2";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"RKAP (Target Produksi)"}),i.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Rencana Kerja dan Anggaran Perusahaan - ",M]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:T,onChange:z=>P(z.target.value),options:$O,className:"w-32"}),(e==null?void 0:e.plant)==="ALL"&&i.jsx(at,{value:N,onChange:z=>S(z.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),N!=="ALL"&&q&&i.jsxs(ye,{variant:"secondary",onClick:()=>{D(q.id||""),O(!0)},title:"Lihat Log Aktivitas",children:[i.jsx(At,{className:"h-4 w-4 mr-2"}),"Log"]}),E&&N!=="ALL"&&(q?i.jsxs(ye,{onClick:()=>le(q),children:[i.jsx(hr,{className:"h-4 w-4 mr-2"}),"Edit Target"]}):i.jsxs(ye,{onClick:L,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Buat Target"]}))]})]}),N==="ALL"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ie,{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:i.jsx(Do,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-blue-900 dark:text-blue-100",children:"NPK Plant 1"}),i.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:["RKAP ",T]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[W&&i.jsx(ye,{size:"sm",variant:"secondary",onClick:()=>{D(W.id||""),O(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-3 w-3"})}),E&&i.jsx(ye,{size:"sm",variant:W?"secondary":"primary",onClick:()=>{W?le(W):(k({...al,tahun:T,plant:"NPK1"}),b(null),f(!0))},children:W?i.jsxs(i.Fragment,{children:[i.jsx(hr,{className:"h-3 w-3 mr-1"}),"Edit"]}):i.jsxs(i.Fragment,{children:[i.jsx(xr,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Target"}),i.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:oe(G)}),i.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Realisasi"}),i.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:oe(ce)}),i.jsx("p",{className:"text-xs text-blue-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1",children:"Pencapaian"}),i.jsxs("p",{className:`text-xl font-bold ${Number(Ae)>=100?"text-green-600":"text-amber-600"}`,children:[Ae,"%"]}),i.jsx(Ze,{variant:W?"success":"warning",size:"sm",children:W?"Target Ada":"Belum Ada"})]})]})]}),i.jsxs(Ie,{className:"p-5 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-xl",children:i.jsx(Do,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-amber-900 dark:text-amber-100",children:"NPK Plant 2"}),i.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-300",children:["RKAP ",T]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[Y&&i.jsx(ye,{size:"sm",variant:"secondary",onClick:()=>{D(Y.id||""),O(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-3 w-3"})}),E&&i.jsx(ye,{size:"sm",variant:Y?"secondary":"primary",onClick:()=>{Y?le(Y):(k({...al,tahun:T,plant:"NPK2"}),b(null),f(!0))},children:Y?i.jsxs(i.Fragment,{children:[i.jsx(hr,{className:"h-3 w-3 mr-1"}),"Edit"]}):i.jsxs(i.Fragment,{children:[i.jsx(xr,{className:"h-3 w-3 mr-1"}),"Buat"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Target"}),i.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:oe(be)}),i.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Realisasi"}),i.jsx("p",{className:"text-xl font-bold text-amber-900 dark:text-amber-100",children:oe(pe)}),i.jsx("p",{className:"text-xs text-amber-500",children:"Ton"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1",children:"Pencapaian"}),i.jsxs("p",{className:`text-xl font-bold ${Number(ne)>=100?"text-green-600":"text-amber-600"}`,children:[ne,"%"]}),i.jsx(Ze,{variant:Y?"success":"warning",size:"sm",children:Y?"Target Ada":"Belum Ada"})]})]})]})]}),i.jsx(Ie,{className:"p-4 bg-gradient-to-r from-dark-100 to-dark-200 dark:from-dark-800 dark:to-dark-700",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-dark-200 dark:bg-dark-600 rounded-xl",children:i.jsx(_l,{className:"h-6 w-6 text-dark-600 dark:text-dark-300"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gabungan NPK 1 + NPK 2"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"text-xl font-bold text-dark-900 dark:text-white",children:[oe(Pe)," /"," ",oe(Te)," Ton"]}),i.jsxs(Ze,{variant:Number(ge)>=100?"success":"warning",children:[ge,"%"]})]})]})]})})})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ie,{className:"p-4 bg-gradient-to-br from-primary-50 to-indigo-50 border-primary-200",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:i.jsx(Do,{className:"h-6 w-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Target RKAP ",T]}),i.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[oe(Te)," Ton"]})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:i.jsx(_l,{className:"h-6 w-6 text-secondary-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Realisasi"}),i.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[oe(Pe)," Ton"]})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-xl ${Number(ge)>=100?"bg-green-100":"bg-amber-100"}`,children:i.jsx(qa,{className:`h-6 w-6 ${Number(ge)>=100?"text-green-600":"text-amber-600"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pencapaian"}),i.jsxs("p",{className:`text-2xl font-bold ${Number(ge)>=100?"text-green-600":"text-amber-600"}`,children:[ge,"%"]})]})]})})]}),N==="ALL"?i.jsxs(i.Fragment,{children:[i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{className:"text-blue-700 dark:text-blue-400",children:["NPK Plant 1 - Perbandingan Target vs Realisasi ",T]}),i.jsx(Ze,{variant:W?"success":"warning",children:W?"Target Tersedia":"Belum Ada Target"})]})}),i.jsx(tn,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-blue-600 dark:text-blue-400",children:"Target NPK 1 (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),i.jsxs("tbody",{children:[nl.map(z=>{const V=Number(W==null?void 0:W[z.key])||0,fe=te.NPK1[z.key]||0,I=fe-V,X=V>0?(fe/V*100).toFixed(1):"0";return i.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-blue-50 dark:hover:bg-blue-900/10",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:z.label}),i.jsx("td",{className:"py-3 px-4 text-right text-blue-600 font-semibold",children:oe(V)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:oe(fe)}),i.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${I>=0?"text-green-600":"text-red-600"}`,children:[I>=0?"+":"",oe(I)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(X)>=100?"success":Number(X)>=80?"warning":"danger",children:[X,"%"]})})]},z.key)}),i.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-900/20 font-bold",children:[i.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 1"}),i.jsx("td",{className:"py-3 px-4 text-right text-blue-700",children:oe(G)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:oe(ce)}),i.jsxs("td",{className:`py-3 px-4 text-right ${ce-G>=0?"text-green-700":"text-red-700"}`,children:[ce-G>=0?"+":"",oe(ce-G)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(Ae)>=100?"success":"warning",className:"text-base",children:[Ae,"%"]})})]})]})]})})})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{className:"text-amber-700 dark:text-amber-400",children:["NPK Plant 2 - Perbandingan Target vs Realisasi ",T]}),i.jsx(Ze,{variant:Y?"success":"warning",children:Y?"Target Tersedia":"Belum Ada Target"})]})}),i.jsx(tn,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-amber-600 dark:text-amber-400",children:"Target NPK 2 (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),i.jsxs("tbody",{children:[nl.map(z=>{const V=Number(Y==null?void 0:Y[z.key])||0,fe=te.NPK2[z.key]||0,I=fe-V,X=V>0?(fe/V*100).toFixed(1):"0";return i.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-amber-50 dark:hover:bg-amber-900/10",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:z.label}),i.jsx("td",{className:"py-3 px-4 text-right text-amber-600 font-semibold",children:oe(V)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:oe(fe)}),i.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${I>=0?"text-green-600":"text-red-600"}`,children:[I>=0?"+":"",oe(I)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(X)>=100?"success":Number(X)>=80?"warning":"danger",children:[X,"%"]})})]},z.key)}),i.jsxs("tr",{className:"bg-amber-100 dark:bg-amber-900/20 font-bold",children:[i.jsx("td",{className:"py-3 px-4",children:"TOTAL NPK 2"}),i.jsx("td",{className:"py-3 px-4 text-right text-amber-700",children:oe(be)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:oe(pe)}),i.jsxs("td",{className:`py-3 px-4 text-right ${pe-be>=0?"text-green-700":"text-red-700"}`,children:[pe-be>=0?"+":"",oe(pe-be)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(ne)>=100?"success":"warning",className:"text-base",children:[ne,"%"]})})]})]})]})})})]})]}):i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Tt,{children:["Perbandingan Target vs Realisasi Bulanan - ",T]}),i.jsx(Ze,{variant:q?"success":"warning",children:q?"Target Tersedia":"Belum Ada Target"})]})}),i.jsx(tn,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-700",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Bulan"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Target RKAP (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Realisasi (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Selisih (Ton)"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600 dark:text-dark-300",children:"Pencapaian"})]})}),i.jsxs("tbody",{children:[nl.map(z=>{const V=Number(q==null?void 0:q[z.key])||0,fe=H[z.key]||0,I=fe-V,X=V>0?(fe/V*100).toFixed(1):"0";return i.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-700/50",children:[i.jsx("td",{className:"py-3 px-4 font-medium",children:z.label}),i.jsx("td",{className:"py-3 px-4 text-right text-primary-600 font-semibold",children:oe(V)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:oe(fe)}),i.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${I>=0?"text-green-600":"text-red-600"}`,children:[I>=0?"+":"",oe(I)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(X)>=100?"success":Number(X)>=80?"warning":"danger",children:[X,"%"]})})]},z.key)}),i.jsxs("tr",{className:"bg-dark-100 font-bold",children:[i.jsx("td",{className:"py-3 px-4",children:"TOTAL"}),i.jsx("td",{className:"py-3 px-4 text-right text-primary-700",children:oe(Te)}),i.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:oe(Pe)}),i.jsxs("td",{className:`py-3 px-4 text-right ${Pe-Te>=0?"text-green-700":"text-red-700"}`,children:[Pe-Te>=0?"+":"",oe(Pe-Te)]}),i.jsx("td",{className:"py-3 px-4 text-right",children:i.jsxs(Ze,{variant:Number(ge)>=100?"success":"warning",className:"text-base",children:[ge,"%"]})})]})]})]})})})]}),E&&N!=="ALL"&&q&&i.jsx("div",{className:"flex justify-end",children:i.jsxs(ye,{variant:"danger",onClick:()=>B(q.id),children:[i.jsx(lr,{className:"h-4 w-4 mr-2"}),"Hapus Target RKAP ",T]})}),i.jsx(xt,{isOpen:d,onClose:()=>{f(!1),k(al),b(null)},title:x?`Edit Target RKAP ${w.tahun}`:"Buat Target RKAP Baru",size:"lg",children:i.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Tahun",value:((me=w.tahun)==null?void 0:me.toString())||"",onChange:z=>k(V=>({...V,tahun:z.target.value})),options:$O,required:!0,disabled:!!x}),i.jsx(at,{label:"Plant",value:w.plant||"NPK2",onChange:z=>k(V=>({...V,plant:z.target.value})),options:[{value:"NPK1",label:"NPK Plant 1"},{value:"NPK2",label:"NPK Plant 2"}],required:!0,disabled:!!x})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-dark-700 border-b pb-2",children:"Target Bulanan (Ton)"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:nl.map(z=>i.jsx(Oe,{label:z.label,type:"number",value:w[z.key]||"",onChange:V=>R(z.key,V.target.value),placeholder:"0",min:"0"},z.key))})]}),i.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold text-dark-700",children:"Total Target Tahunan:"}),i.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[oe(w.total||0)," Ton"]})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{f(!1),k(al),b(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:c,children:x?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:h,onClose:()=>{p(!1),v(null)},onConfirm:F,title:"Hapus Target RKAP",message:`Apakah Anda yakin ingin menghapus target RKAP tahun ${T}?`,confirmText:"Hapus",variant:"danger",isLoading:c}),i.jsx(Nr,{isVisible:g,message:"Data berhasil disimpan!",onClose:()=>m(!1)}),i.jsx(Fr,{isOpen:_,onClose:()=>{O(!1),D("")},sheetName:"rkap",recordId:C,title:"Log Aktivitas RKAP"})]})},sf={username:"",nama:"",namaLengkap:"",email:"",password:"",role:"user",plant:"NPK2",status:"active"},ITe=()=>{const{user:e}=Et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=en(),[a,s]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,b]=j.useState(null),[y,v]=j.useState(sf),[w,k]=j.useState(!1),[N,S]=j.useState(""),[T,P]=j.useState("ALL"),_=[{value:"admin",label:"Admin"},{value:"supervisor",label:"Supervisor"},{value:"user",label:"User"},{value:"avp",label:"AVP"},{value:"manager",label:"Manager"},{value:"eksternal",label:"Eksternal"}],O=[{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"},{value:"ALL",label:"Semua Plant"}];j.useEffect(()=>{(async()=>{l(!0);try{const{readData:G,SHEETS:be}=await st(async()=>{const{readData:ce,SHEETS:pe}=await Promise.resolve().then(()=>ot);return{readData:ce,SHEETS:pe}},void 0),Te=await G(be.USERS);if(Te.success&&Te.data){const ce=[...Te.data].sort((pe,Pe)=>(pe.nama||"").localeCompare(Pe.nama||""));s(ce)}else s([])}catch(G){console.error("Error fetching data:",G),s([])}finally{l(!1)}})()},[]);const C=async R=>{var G;R.preventDefault(),l(!0);try{const be={...y,username:y.username||((G=y.email)==null?void 0:G.split("@")[0])||"",namaLengkap:y.namaLengkap||y.nama||""};if(g&&!be.password&&delete be.password,g){const Te={...be,id:g,updatedAt:new Date().toISOString()},ce=await r("users",Te);if(ce.success)s(pe=>pe.map(Pe=>Pe.id===g?{...be,id:g,updatedAt:new Date().toISOString()}:Pe));else throw new Error(ce.error||"Gagal mengupdate data")}else{const Te={...be,createdAt:new Date().toISOString()},ce=await t("users",Te);if(ce.success&&ce.data){const pe={...Te,...ce.data};s(Pe=>[pe,...Pe])}else throw new Error(ce.error||"Gagal menyimpan data")}u(!1),v(sf),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(be){console.error("Error saving data:",be),alert(be instanceof Error?be.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},D=R=>{v({...R,password:"",namaLengkap:R.namaLengkap||R.nama||""}),m(R.id||null),u(!0)},H=R=>{b(R),f(!0)},ee=async()=>{if(x){l(!0);try{const R=await n("users",{id:x});if(R.success)s(G=>G.filter(be=>be.id!==x)),f(!1),b(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(R.error||"Gagal menghapus data")}catch(R){console.error("Error deleting data:",R),alert(R instanceof Error?R.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},W=async R=>{const G=a.find(be=>be.id===R);if(G)try{const be=G.status==="active"?"inactive":"active",Te={...G,status:be},ce=await r("users",Te);if(ce.success)s(pe=>pe.map(Pe=>Pe.id===R?{...Pe,status:be}:Pe));else throw new Error(ce.error||"Gagal mengupdate status")}catch(be){console.error("Error toggling status:",be),alert(be instanceof Error?be.message:"Terjadi kesalahan saat mengubah status")}},Y=()=>{v(sf),m(null),u(!0)},te=a.filter(R=>T==="ALL"||R.role===T),q=R=>{switch(R){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";case"eksternal":return"warning";default:return"primary"}},ue=[{key:"nama",header:"User",render:(R,G)=>{var be;return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-semibold",children:(be=G.namaLengkap||G.nama||G.username||"U")==null?void 0:be.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:G.namaLengkap||G.nama||G.username}),i.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["@",G.username,"  ",G.email]})]})]})}},{key:"role",header:"Role",render:R=>i.jsxs(Ze,{variant:q(R),children:[i.jsx(Rm,{className:"h-3 w-3 mr-1"}),R.toUpperCase()]})},{key:"plant",header:"Plant",render:R=>i.jsx(Ze,{variant:"info",children:R})},{key:"status",header:"Status",render:(R,G)=>i.jsx("button",{onClick:be=>{be.stopPropagation(),W(G.id)},className:"flex items-center gap-2",children:R==="active"?i.jsxs(Ze,{variant:"success",children:[i.jsx(wP,{className:"h-3 w-3 mr-1"}),"Active"]}):i.jsxs(Ze,{variant:"danger",children:[i.jsx(kP,{className:"h-3 w-3 mr-1"}),"Inactive"]})})},{key:"createdAt",header:"Dibuat",render:R=>gt(R)}],le=(e==null?void 0:e.role)==="admin",B=j.useCallback(()=>{if(c&&!o){const R=document.querySelector("form");R&&R.requestSubmit()}},[c,o]);Br(B,c);const F=te.filter(R=>R.status==="active").length,L=te.filter(R=>R.status==="inactive").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Manajemen User"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola pengguna sistem"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(at,{value:T,onChange:R=>P(R.target.value),options:[{value:"ALL",label:"Semua Role"},..._],className:"w-40"}),le&&i.jsxs(ye,{onClick:Y,children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:i.jsx(vu,{className:"h-6 w-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:te.length})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:i.jsx(wP,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Active Users"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:F})]})]})}),i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:i.jsx(kP,{className:"h-6 w-6 text-red-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Inactive Users"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:L})]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(Tt,{children:"Daftar User"})})}),i.jsx(Lr,{data:te,columns:ue,loading:o,searchable:!0,searchPlaceholder:"Cari nama, username, email, role...",searchKeys:["nama","namaLengkap","username","email","role","plant"],actions:le?R=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),S(R.id||""),k(!0)},title:"Lihat Log Aktivitas",children:i.jsx(At,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),D(R)},children:i.jsx(hr,{className:"h-4 w-4 text-primary-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),H(R.id)},children:i.jsx(lr,{className:"h-4 w-4 text-red-600"})})]}):void 0})]}),i.jsx(xt,{isOpen:c,onClose:()=>{u(!1),v(sf),m(null)},title:g?"Edit User":"Tambah User Baru",size:"md",children:i.jsxs("form",{onSubmit:C,className:"space-y-4",autoComplete:"off",children:[i.jsx(Oe,{label:"Username",type:"text",value:y.username,onChange:R=>v(G=>({...G,username:R.target.value})),placeholder:"Username untuk login",required:!0,disabled:!!g,autoComplete:"off",name:"new-username"}),i.jsx(Oe,{label:"Nama Lengkap",type:"text",value:y.namaLengkap,onChange:R=>v(G=>({...G,namaLengkap:R.target.value,nama:R.target.value})),placeholder:"Nama lengkap",required:!0,autoComplete:"off"}),i.jsx(Oe,{label:"Email",type:"email",value:y.email,onChange:R=>v(G=>({...G,email:R.target.value})),placeholder:"email@example.com",required:!0,autoComplete:"off"}),i.jsx(Oe,{label:g?"Password Baru (kosongkan jika tidak diubah)":"Password",type:"password",value:y.password,onChange:R=>v(G=>({...G,password:R.target.value})),placeholder:"",required:!g,autoComplete:"new-password",name:"new-password"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(at,{label:"Role",value:y.role,onChange:R=>v(G=>({...G,role:R.target.value})),options:_,required:!0}),i.jsx(at,{label:"Plant",value:y.plant,onChange:R=>v(G=>({...G,plant:R.target.value})),options:O,required:!0})]}),i.jsx(at,{label:"Status",value:y.status,onChange:R=>v(G=>({...G,status:R.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],required:!0}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{type:"button",variant:"secondary",onClick:()=>{u(!1),v(sf),m(null)},children:"Batal"}),i.jsx(ye,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),i.jsx(Ar,{isOpen:d,onClose:()=>{f(!1),b(null)},onConfirm:ee,title:"Hapus User",message:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:o}),i.jsx(Nr,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),i.jsx(Fr,{isOpen:w,onClose:()=>{k(!1),S("")},sheetName:"users",recordId:N,title:"Log Aktivitas User"})]})},LTe=()=>{const{user:e}=Et(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(null),[m,x]=j.useState("pending"),[b,y]=j.useState("");j.useEffect(()=>{(async()=>{a(!0);try{const{readData:Y,SHEETS:te}=await st(async()=>{const{readData:ue,SHEETS:le}=await Promise.resolve().then(()=>ot);return{readData:ue,SHEETS:le}},void 0),q=await Y(te.APPROVAL_REQUESTS);if(q.success&&q.data){const ue=[...q.data].sort((le,B)=>new Date(B.submittedAt||0).getTime()-new Date(le.submittedAt||0).getTime());r(ue)}else r([])}catch(Y){console.error("Error fetching data:",Y),r([])}finally{a(!1)}})()},[]);const v=async()=>{if(p){a(!0);try{const{updateData:W,SHEETS:Y}=await st(async()=>{const{updateData:ue,SHEETS:le}=await Promise.resolve().then(()=>ot);return{updateData:ue,SHEETS:le}},void 0),te={...p,status:"approved"},q=await W(Y.APPROVAL_REQUESTS,te);if(q.success)r(ue=>ue.map(le=>le.id===p.id?{...le,status:"approved"}:le)),c(!1),g(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(q.error||"Gagal approve data")}catch(W){console.error("Error approving:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat approve")}finally{a(!1)}}},w=async()=>{if(p){a(!0);try{const{updateData:W,SHEETS:Y}=await st(async()=>{const{updateData:ue,SHEETS:le}=await Promise.resolve().then(()=>ot);return{updateData:ue,SHEETS:le}},void 0),te={...p,status:"rejected",rejectReason:b},q=await W(Y.APPROVAL_REQUESTS,te);if(q.success)r(ue=>ue.map(le=>le.id===p.id?{...le,status:"rejected"}:le)),d(!1),g(null),y(""),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(q.error||"Gagal reject data")}catch(W){console.error("Error rejecting:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat reject")}finally{a(!1)}}},k=W=>{g(W),o(!0)},N=W=>{g(W),c(!0)},S=W=>{g(W),d(!0)},T=t.filter(W=>m==="all"||W.status===m),P=W=>{switch(W){case"work_request":return{variant:"primary",label:"Work Request"};case"gate_pass":return{variant:"info",label:"Gate Pass"};case"downtime":return{variant:"warning",label:"Downtime"};case"trouble_record":return{variant:"danger",label:"Trouble Record"};default:return{variant:"info",label:W}}},_=W=>{switch(W){case"pending":return{variant:"warning",icon:Ii,label:"Pending"};case"approved":return{variant:"success",icon:Ic,label:"Approved"};case"rejected":return{variant:"danger",icon:ff,label:"Rejected"};default:return{variant:"info",icon:Ii,label:W}}},O=[{key:"title",header:"Judul",render:(W,Y)=>i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:W}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 line-clamp-1",children:Y.description})]})},{key:"type",header:"Tipe",render:W=>{const Y=P(W);return i.jsx(Ze,{variant:Y.variant,children:Y.label})}},{key:"submittedBy",header:"Diajukan Oleh"},{key:"submittedAt",header:"Tanggal",render:W=>gt(W)},{key:"status",header:"Status",render:W=>{const Y=_(W);return i.jsxs(Ze,{variant:Y.variant,children:[i.jsx(Y.icon,{className:"h-3 w-3 mr-1"}),Y.label]})}}],C=t.filter(W=>W.status==="pending").length,D=t.filter(W=>W.status==="approved").length,H=t.filter(W=>W.status==="rejected").length,ee=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Approval"}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola persetujuan dokumen dan request"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(at,{value:m,onChange:W=>x(W.target.value),options:[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-40"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ie,{className:"p-4 border-l-4 border-l-amber-500 cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors",onClick:()=>x("pending"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-xl",children:i.jsx(Ii,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Menunggu Approval"}),i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:C})]})]})}),i.jsx(Ie,{className:"p-4 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",onClick:()=>x("approved"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:i.jsx(Ic,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Approved"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:D})]})]})}),i.jsx(Ie,{className:"p-4 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:()=>x("rejected"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:i.jsx(ff,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rejected"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:H})]})]})})]}),i.jsxs(Ie,{children:[i.jsx(Nt,{children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(Tt,{children:"Daftar Approval"})})}),i.jsx(Lr,{data:T,columns:O,loading:n,searchable:!0,searchPlaceholder:"Cari judul, deskripsi, status...",searchKeys:["title","description","submittedBy","status","type","action"],actions:W=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),k(W)},children:i.jsx(_s,{className:"h-4 w-4 text-dark-600"})}),ee&&W.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),N(W)},children:i.jsx(Ic,{className:"h-4 w-4 text-green-600"})}),i.jsx(ye,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),S(W)},children:i.jsx(ff,{className:"h-4 w-4 text-red-600"})})]})]})})]}),i.jsx(xt,{isOpen:s,onClose:()=>{o(!1),g(null)},title:"Detail Approval",size:"md",children:p&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4 p-4 bg-dark-50 rounded-xl",children:[i.jsx(Ta,{className:"h-10 w-10 text-primary-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:p.title}),i.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:p.description})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tipe"}),i.jsx(Ze,{variant:P(p.type).variant,children:P(p.type).label})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Status"}),i.jsx(Ze,{variant:_(p.status).variant,children:_(p.status).label})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Diajukan Oleh"}),i.jsx("p",{className:"font-medium",children:p.submittedBy})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tanggal"}),i.jsx("p",{className:"font-medium",children:gt(p.submittedAt)})]})]}),p.data&&i.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[i.jsx("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Detail Data:"}),i.jsx("div",{className:"space-y-1",children:Object.entries(p.data).map(([W,Y])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-dark-500 dark:text-dark-400 capitalize",children:[W.replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-medium",children:String(Y)})]},W))})]}),ee&&p.status==="pending"&&i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsxs(ye,{variant:"danger",onClick:()=>{o(!1),S(p)},children:[i.jsx(ff,{className:"h-4 w-4 mr-2"}),"Reject"]}),i.jsxs(ye,{variant:"success",onClick:()=>{o(!1),N(p)},children:[i.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]})}),i.jsx(Ar,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:v,title:"Approve Request",message:`Apakah Anda yakin ingin menyetujui "${p==null?void 0:p.title}"?`,confirmText:"Approve",variant:"info",isLoading:n}),i.jsx(xt,{isOpen:u,onClose:()=>{d(!1),g(null),y("")},title:"Reject Request",size:"sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-dark-600",children:['Apakah Anda yakin ingin menolak "',p==null?void 0:p.title,'"?']}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Penolakan (opsional)"}),i.jsx("textarea",{value:b,onChange:W=>y(W.target.value),placeholder:"Masukkan alasan penolakan...",className:"input-field min-h-[80px]"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(ye,{variant:"secondary",onClick:()=>{d(!1),g(null),y("")},children:"Batal"}),i.jsx(ye,{variant:"danger",onClick:w,isLoading:n,children:"Reject"})]})]})}),i.jsx(Nr,{isVisible:f,message:"Berhasil!",onClose:()=>h(!1)})]})},FTe=({children:e})=>{const{isLoggedIn:t}=Et();return t?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/login",replace:!0})},$Te=({children:e})=>{const{isLoggedIn:t}=Et();return t?i.jsx(Ll,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e})},BO=({children:e})=>{const{user:t}=Et(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return j5(r,n)?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/dashboard",replace:!0})},BTe=({children:e})=>{const{user:t}=Et(),r=(t==null?void 0:t.role)||"";return t==null||t.plant,S5(r)?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/dashboard",replace:!0})},UTe=({children:e})=>{const{user:t}=Et(),r=(t==null?void 0:t.role)||"";return N5(r)?i.jsx(i.Fragment,{children:e}):i.jsx(Ll,{to:"/dashboard",replace:!0})};function KTe(){return i.jsxs(i.Fragment,{children:[i.jsxs(k7,{children:[i.jsx(mt,{path:"/login",element:i.jsx($Te,{children:i.jsx(Nee,{})})}),i.jsxs(mt,{path:"/",element:i.jsx(FTe,{children:i.jsx(jee,{})}),children:[i.jsx(mt,{index:!0,element:i.jsx(Ll,{to:"/dashboard",replace:!0})}),i.jsx(mt,{path:"dashboard",element:i.jsx(tTe,{})}),i.jsxs(mt,{path:"produksi",children:[i.jsx(mt,{path:"npk1",element:i.jsx(xO,{plant:"NPK1"})}),i.jsx(mt,{path:"npk2",element:i.jsx(xO,{plant:"NPK2"})}),i.jsx(mt,{path:"blending",element:i.jsx(vO,{type:"blending"})}),i.jsx(mt,{path:"retail",element:i.jsx(vO,{type:"retail"})}),i.jsx(mt,{path:"npk-mini",element:i.jsx(iTe,{})})]}),i.jsxs(mt,{path:"laporan",children:[i.jsx(mt,{path:"kop-npk1",element:i.jsx(PO,{plant:"NPK1"})}),i.jsx(mt,{path:"kop-npk2",element:i.jsx(PO,{plant:"NPK2"})}),i.jsx(mt,{path:"downtime-npk1",element:i.jsx(yO,{plant:"NPK1"})}),i.jsx(mt,{path:"downtime-npk2",element:i.jsx(yO,{plant:"NPK2"})}),i.jsx(mt,{path:"timesheet-forklift-npk1",element:i.jsx(wO,{plant:"NPK1"})}),i.jsx(mt,{path:"timesheet-forklift-npk2",element:i.jsx(wO,{plant:"NPK2"})}),i.jsx(mt,{path:"timesheet-loader-npk1",element:i.jsx(jO,{plant:"NPK1"})}),i.jsx(mt,{path:"timesheet-loader-npk2",element:i.jsx(jO,{plant:"NPK2"})}),i.jsx(mt,{path:"pemakaian-bb-npk1",element:i.jsx(_O,{plant:"NPK1"})}),i.jsx(mt,{path:"pemakaian-bb-npk2",element:i.jsx(_O,{plant:"NPK2"})})]}),i.jsxs(mt,{path:"data",children:[i.jsx(mt,{path:"inventaris",element:i.jsx(DTe,{})}),i.jsx(mt,{path:"work-request-npk1",element:i.jsx(EO,{plant:"NPK1"})}),i.jsx(mt,{path:"work-request-npk2",element:i.jsx(EO,{plant:"NPK2"})}),i.jsx(mt,{path:"bahan-baku-npk1",element:i.jsx(CO,{plant:"NPK1"})}),i.jsx(mt,{path:"bahan-baku-npk2",element:i.jsx(CO,{plant:"NPK2"})}),i.jsx(mt,{path:"vibrasi-npk1",element:i.jsx(DO,{plant:"NPK1"})}),i.jsx(mt,{path:"vibrasi-npk2",element:i.jsx(DO,{plant:"NPK2"})}),i.jsx(mt,{path:"gate-pass-npk1",element:i.jsx(MO,{plant:"NPK1"})}),i.jsx(mt,{path:"gate-pass-npk2",element:i.jsx(MO,{plant:"NPK2"})}),i.jsx(mt,{path:"perbaikan-tahunan-npk1",element:i.jsx(RO,{plant:"NPK1"})}),i.jsx(mt,{path:"perbaikan-tahunan-npk2",element:i.jsx(RO,{plant:"NPK2"})}),i.jsx(mt,{path:"trouble-record-npk1",element:i.jsx(IO,{plant:"NPK1"})}),i.jsx(mt,{path:"trouble-record-npk2",element:i.jsx(IO,{plant:"NPK2"})}),i.jsx(mt,{path:"dokumentasi-foto-npk1",element:i.jsx(LO,{plant:"NPK1"})}),i.jsx(mt,{path:"dokumentasi-foto-npk2",element:i.jsx(LO,{plant:"NPK2"})}),i.jsx(mt,{path:"rekap-bbm-npk1",element:i.jsx(FO,{plant:"NPK1"})}),i.jsx(mt,{path:"rekap-bbm-npk2",element:i.jsx(FO,{plant:"NPK2"})}),i.jsx(mt,{path:"riksa-timb-portabel",element:i.jsx(PTe,{})}),i.jsx(mt,{path:"perta",element:i.jsx(bTe,{})})]}),i.jsxs(mt,{path:"settings",children:[i.jsx(mt,{path:"akun",element:i.jsx(BO,{children:i.jsx(MTe,{})})}),i.jsx(mt,{path:"rkap",element:i.jsx(UTe,{children:i.jsx(RTe,{})})}),i.jsx(mt,{path:"users",element:i.jsx(BTe,{children:i.jsx(ITe,{})})}),i.jsx(mt,{path:"approval",element:i.jsx(BO,{children:i.jsx(LTe,{})})})]})]}),i.jsx(mt,{path:"*",element:i.jsx(Ll,{to:"/dashboard",replace:!0})})]}),i.jsx(sW,{})]})}const VTe=()=>{var t;const e=localStorage.getItem("ui-storage");if(e)try{const r=JSON.parse(e);((t=r.state)==null?void 0:t.darkMode)===!0&&(r.state.darkMode=!1,localStorage.setItem("ui-storage",JSON.stringify(r)))}catch{localStorage.removeItem("ui-storage")}document.documentElement.classList.remove("dark")};VTe();N1.createRoot(document.getElementById("root")).render(i.jsx(de.StrictMode,{children:i.jsx(E7,{children:i.jsx(KTe,{})})}));
