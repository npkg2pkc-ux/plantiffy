function x3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZT={exports:{}},tm={},eO={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),v3=Symbol.for("react.portal"),y3=Symbol.for("react.fragment"),b3=Symbol.for("react.strict_mode"),k3=Symbol.for("react.profiler"),w3=Symbol.for("react.provider"),j3=Symbol.for("react.context"),S3=Symbol.for("react.forward_ref"),N3=Symbol.for("react.suspense"),P3=Symbol.for("react.memo"),T3=Symbol.for("react.lazy"),Uw=Symbol.iterator;function O3(e){return e===null||typeof e!="object"?null:(e=Uw&&e[Uw]||e["@@iterator"],typeof e=="function"?e:null)}var tO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rO=Object.assign,nO={};function nc(e,t,r){this.props=e,this.context=t,this.refs=nO,this.updater=r||tO}nc.prototype.isReactComponent={};nc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aO(){}aO.prototype=nc.prototype;function Wy(e,t,r){this.props=e,this.context=t,this.refs=nO,this.updater=r||tO}var Gy=Wy.prototype=new aO;Gy.constructor=Wy;rO(Gy,nc.prototype);Gy.isPureReactComponent=!0;var Ww=Array.isArray,sO=Object.prototype.hasOwnProperty,qy={current:null},iO={key:!0,ref:!0,__self:!0,__source:!0};function oO(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sO.call(t,n)&&!iO.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hd,type:e,key:i,ref:o,props:s,_owner:qy.current}}function A3(e,t){return{$$typeof:Hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function E3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gw=/\/+/g;function Tg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E3(""+e.key):t.toString(36)}function Qf(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hd:case v3:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Tg(o,0):n,Ww(s)?(r="",e!=null&&(r=e.replace(Gw,"$&/")+"/"),Qf(s,t,r,"",function(u){return u})):s!=null&&(Yy(s)&&(s=A3(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ww(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Tg(i,l);o+=Qf(i,t,r,c,s)}else if(c=O3(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Tg(i,l++),o+=Qf(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pf(e,t,r){if(e==null)return e;var n=[],s=0;return Qf(e,n,"","",function(i){return t.call(r,i,s++)}),n}function C3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qr={current:null},Zf={transition:null},_3={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:Zf,ReactCurrentOwner:qy};function lO(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:pf,forEach:function(e,t,r){pf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pf(e,function(){t++}),t},toArray:function(e){return pf(e,function(t){return t})||[]},only:function(e){if(!Yy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=nc;Qe.Fragment=y3;Qe.Profiler=k3;Qe.PureComponent=Wy;Qe.StrictMode=b3;Qe.Suspense=N3;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_3;Qe.act=lO;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rO({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)sO.call(t,c)&&!iO.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Hd,type:e.type,key:s,ref:i,props:n,_owner:o}};Qe.createContext=function(e){return e={$$typeof:j3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w3,_context:e},e.Consumer=e};Qe.createElement=oO;Qe.createFactory=function(e){var t=oO.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:S3,render:e}};Qe.isValidElement=Yy;Qe.lazy=function(e){return{$$typeof:T3,_payload:{_status:-1,_result:e},_init:C3}};Qe.memo=function(e,t){return{$$typeof:P3,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Zf.transition;Zf.transition={};try{e()}finally{Zf.transition=t}};Qe.unstable_act=lO;Qe.useCallback=function(e,t){return Qr.current.useCallback(e,t)};Qe.useContext=function(e){return Qr.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Qr.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Qr.current.useEffect(e,t)};Qe.useId=function(){return Qr.current.useId()};Qe.useImperativeHandle=function(e,t,r){return Qr.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return Qr.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Qr.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Qr.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return Qr.current.useReducer(e,t,r)};Qe.useRef=function(e){return Qr.current.useRef(e)};Qe.useState=function(e){return Qr.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return Qr.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return Qr.current.useTransition()};Qe.version="18.3.1";eO.exports=Qe;var k=eO.exports;const ee=dt(k),D3=x3({__proto__:null,default:ee},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3=k,$3=Symbol.for("react.element"),R3=Symbol.for("react.fragment"),I3=Object.prototype.hasOwnProperty,L3=M3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B3={key:!0,ref:!0,__self:!0,__source:!0};function cO(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)I3.call(t,n)&&!B3.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:$3,type:e,key:i,ref:o,props:s,_owner:L3.current}}tm.Fragment=R3;tm.jsx=cO;tm.jsxs=cO;ZT.exports=tm;var a=ZT.exports,t0={},uO={exports:{}},Sn={},dO={exports:{}},fO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,R){var z=D.length;D.push(R);e:for(;0<z;){var V=z-1>>>1,Z=D[V];if(0<s(Z,R))D[V]=R,D[z]=Z,z=V;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var R=D[0],z=D.pop();if(z!==R){D[0]=z;e:for(var V=0,Z=D.length,B=Z>>>1;V<B;){var Q=2*(V+1)-1,le=D[Q],ce=Q+1,pe=D[ce];if(0>s(le,z))ce<Z&&0>s(pe,le)?(D[V]=pe,D[ce]=z,V=ce):(D[V]=le,D[Q]=z,V=Q);else if(ce<Z&&0>s(pe,z))D[V]=pe,D[ce]=z,V=ce;else break e}}return R}function s(D,R){var z=D.sortIndex-R.sortIndex;return z!==0?z:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=D)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(D){if(m=!1,x(D),!g)if(r(c)!==null)g=!0,Y(w);else{var R=r(u);R!==null&&ne(j,R.startTime-D)}}function w(D,R){g=!1,m&&(m=!1,v(P),P=-1),p=!0;var z=h;try{for(x(R),f=r(c);f!==null&&(!(f.expirationTime>R)||D&&!I());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var Z=V(f.expirationTime<=R);R=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),x(R)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var Q=r(u);Q!==null&&ne(j,Q.startTime-R),B=!1}return B}finally{f=null,h=z,p=!1}}var N=!1,S=null,P=-1,A=5,$=-1;function I(){return!(e.unstable_now()-$<A)}function E(){if(S!==null){var D=e.unstable_now();$=D;var R=!0;try{R=S(!0,D)}finally{R?_():(N=!1,S=null)}}else N=!1}var _;if(typeof y=="function")_=function(){y(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=E,_=function(){K.postMessage(null)}}else _=function(){b(E,0)};function Y(D){S=D,N||(N=!0,_())}function ne(D,R){P=b(function(){D(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Y(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var z=h;h=R;try{return D()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=h;h=D;try{return R()}finally{h=z}},e.unstable_scheduleCallback=function(D,R,z){var V=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,D={id:d++,callback:R,priorityLevel:D,startTime:z,expirationTime:Z,sortIndex:-1},z>V?(D.sortIndex=z,t(u,D),r(c)===null&&D===r(u)&&(m?(v(P),P=-1):m=!0,ne(j,z-V))):(D.sortIndex=Z,t(c,D),g||p||(g=!0,Y(w))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var R=h;return function(){var z=h;h=R;try{return D.apply(this,arguments)}finally{h=z}}}})(fO);dO.exports=fO;var F3=dO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3=k,wn=F3;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hO=new Set,Fu={};function yo(e,t){yl(e,t),yl(e+"Capture",t)}function yl(e,t){for(Fu[e]=t,e=0;e<t.length;e++)hO.add(t[e])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=Object.prototype.hasOwnProperty,z3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qw={},Yw={};function V3(e){return r0.call(Yw,e)?!0:r0.call(qw,e)?!1:z3.test(e)?Yw[e]=!0:(qw[e]=!0,!1)}function H3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U3(e,t,r,n){if(t===null||typeof t>"u"||H3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jr[e]=new Zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jr[t]=new Zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jr[e]=new Zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jr[e]=new Zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jr[e]=new Zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jr[e]=new Zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jr[e]=new Zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jr[e]=new Zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jr[e]=new Zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function Xy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jy,Xy);jr[t]=new Zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jy,Xy);jr[t]=new Zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jy,Xy);jr[t]=new Zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jr[e]=new Zr(e,1,!1,e.toLowerCase(),null,!1,!1)});jr.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jr[e]=new Zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qy(e,t,r,n){var s=jr.hasOwnProperty(t)?jr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U3(t,r,s,n)&&(r=null),n||s===null?V3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var es=K3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mf=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),pO=Symbol.for("react.provider"),mO=Symbol.for("react.context"),eb=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),s0=Symbol.for("react.suspense_list"),tb=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),gO=Symbol.for("react.offscreen"),Jw=Symbol.iterator;function Nc(e){return e===null||typeof e!="object"?null:(e=Jw&&e[Jw]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Object.assign,Og;function uu(e){if(Og===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Og=t&&t[1]||""}return`
`+Og+e}var Ag=!1;function Eg(e,t){if(!e||Ag)return"";Ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ag=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?uu(e):""}function W3(e){switch(e.tag){case 5:return uu(e.type);case 16:return uu("Lazy");case 13:return uu("Suspense");case 19:return uu("SuspenseList");case 0:case 2:case 15:return e=Eg(e.type,!1),e;case 11:return e=Eg(e.type.render,!1),e;case 1:return e=Eg(e.type,!0),e;default:return""}}function i0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fo:return"Fragment";case Bo:return"Portal";case n0:return"Profiler";case Zy:return"StrictMode";case a0:return"Suspense";case s0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mO:return(e.displayName||"Context")+".Consumer";case pO:return(e._context.displayName||"Context")+".Provider";case eb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tb:return t=e.displayName||null,t!==null?t:i0(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return i0(e(t))}catch{}}return null}function G3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i0(t);case 8:return t===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q3(e){var t=xO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gf(e){e._valueTracker||(e._valueTracker=q3(e))}function vO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=xO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o0(e,t){var r=t.checked;return Lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=di(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yO(e,t){t=t.checked,t!=null&&Qy(e,"checked",t,!1)}function l0(e,t){yO(e,t);var r=di(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?c0(e,t.type,r):t.hasOwnProperty("defaultValue")&&c0(e,t.type,di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function c0(e,t,r){(t!=="number"||ph(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var du=Array.isArray;function ol(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+di(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function u0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return Lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(we(92));if(du(r)){if(1<r.length)throw Error(we(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:di(r)}}function bO(e,t){var r=di(t.value),n=di(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ej(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xf,wO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xf=xf||document.createElement("div"),xf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ku(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y3=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(e){Y3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yu[t]=yu[e]})});function jO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yu.hasOwnProperty(e)&&yu[e]?(""+t).trim():t+"px"}function SO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var J3=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f0(e,t){if(t){if(J3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function h0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function rb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m0=null,ll=null,cl=null;function tj(e){if(e=Gd(e)){if(typeof m0!="function")throw Error(we(280));var t=e.stateNode;t&&(t=im(t),m0(e.stateNode,e.type,t))}}function NO(e){ll?cl?cl.push(e):cl=[e]:ll=e}function PO(){if(ll){var e=ll,t=cl;if(cl=ll=null,tj(e),t)for(e=0;e<t.length;e++)tj(t[e])}}function TO(e,t){return e(t)}function OO(){}var Cg=!1;function AO(e,t,r){if(Cg)return e(t,r);Cg=!0;try{return TO(e,t,r)}finally{Cg=!1,(ll!==null||cl!==null)&&(OO(),PO())}}function zu(e,t){var r=e.stateNode;if(r===null)return null;var n=im(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(we(231,t,typeof r));return r}var g0=!1;if(Wa)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){g0=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{g0=!1}function X3(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var bu=!1,mh=null,gh=!1,x0=null,Q3={onError:function(e){bu=!0,mh=e}};function Z3(e,t,r,n,s,i,o,l,c){bu=!1,mh=null,X3.apply(Q3,arguments)}function e$(e,t,r,n,s,i,o,l,c){if(Z3.apply(this,arguments),bu){if(bu){var u=mh;bu=!1,mh=null}else throw Error(we(198));gh||(gh=!0,x0=u)}}function bo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function EO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rj(e){if(bo(e)!==e)throw Error(we(188))}function t$(e){var t=e.alternate;if(!t){if(t=bo(e),t===null)throw Error(we(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return rj(s),e;if(i===n)return rj(s),t;i=i.sibling}throw Error(we(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?e:t}function CO(e){return e=t$(e),e!==null?_O(e):null}function _O(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_O(e);if(t!==null)return t;e=e.sibling}return null}var DO=wn.unstable_scheduleCallback,nj=wn.unstable_cancelCallback,r$=wn.unstable_shouldYield,n$=wn.unstable_requestPaint,Ht=wn.unstable_now,a$=wn.unstable_getCurrentPriorityLevel,nb=wn.unstable_ImmediatePriority,MO=wn.unstable_UserBlockingPriority,xh=wn.unstable_NormalPriority,s$=wn.unstable_LowPriority,$O=wn.unstable_IdlePriority,rm=null,ma=null;function i$(e){if(ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(rm,e,void 0,(e.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:c$,o$=Math.log,l$=Math.LN2;function c$(e){return e>>>=0,e===0?32:31-(o$(e)/l$|0)|0}var vf=64,yf=4194304;function fu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=fu(l):(i&=o,i!==0&&(n=fu(i)))}else o=r&~s,o!==0?n=fu(o):i!==0&&(n=fu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ea(t),s=1<<r,n|=e[r],t&=~s;return n}function u$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ea(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=u$(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function v0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RO(){var e=vf;return vf<<=1,!(vf&4194240)&&(vf=64),e}function _g(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ud(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ea(t),e[t]=r}function f$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ea(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ab(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ea(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ft=0;function IO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var LO,sb,BO,FO,KO,y0=!1,bf=[],Xs=null,Qs=null,Zs=null,Vu=new Map,Hu=new Map,Hs=[],h$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aj(e,t){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(t.pointerId)}}function Tc(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gd(t),t!==null&&sb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function p$(e,t,r,n,s){switch(t){case"focusin":return Xs=Tc(Xs,e,t,r,n,s),!0;case"dragenter":return Qs=Tc(Qs,e,t,r,n,s),!0;case"mouseover":return Zs=Tc(Zs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Vu.set(i,Tc(Vu.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hu.set(i,Tc(Hu.get(i)||null,e,t,r,n,s)),!0}return!1}function zO(e){var t=Hi(e.target);if(t!==null){var r=bo(t);if(r!==null){if(t=r.tag,t===13){if(t=EO(r),t!==null){e.blockedOn=t,KO(e.priority,function(){BO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=b0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);p0=n,r.target.dispatchEvent(n),p0=null}else return t=Gd(r),t!==null&&sb(t),e.blockedOn=r,!1;t.shift()}return!0}function sj(e,t,r){eh(e)&&r.delete(t)}function m$(){y0=!1,Xs!==null&&eh(Xs)&&(Xs=null),Qs!==null&&eh(Qs)&&(Qs=null),Zs!==null&&eh(Zs)&&(Zs=null),Vu.forEach(sj),Hu.forEach(sj)}function Oc(e,t){e.blockedOn===t&&(e.blockedOn=null,y0||(y0=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,m$)))}function Uu(e){function t(s){return Oc(s,e)}if(0<bf.length){Oc(bf[0],e);for(var r=1;r<bf.length;r++){var n=bf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xs!==null&&Oc(Xs,e),Qs!==null&&Oc(Qs,e),Zs!==null&&Oc(Zs,e),Vu.forEach(t),Hu.forEach(t),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)zO(r),r.blockedOn===null&&Hs.shift()}var ul=es.ReactCurrentBatchConfig,yh=!0;function g$(e,t,r,n){var s=ft,i=ul.transition;ul.transition=null;try{ft=1,ib(e,t,r,n)}finally{ft=s,ul.transition=i}}function x$(e,t,r,n){var s=ft,i=ul.transition;ul.transition=null;try{ft=4,ib(e,t,r,n)}finally{ft=s,ul.transition=i}}function ib(e,t,r,n){if(yh){var s=b0(e,t,r,n);if(s===null)zg(e,t,n,bh,r),aj(e,n);else if(p$(s,e,t,r,n))n.stopPropagation();else if(aj(e,n),t&4&&-1<h$.indexOf(e)){for(;s!==null;){var i=Gd(s);if(i!==null&&LO(i),i=b0(e,t,r,n),i===null&&zg(e,t,n,bh,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else zg(e,t,n,null,r)}}var bh=null;function b0(e,t,r,n){if(bh=null,e=rb(n),e=Hi(e),e!==null)if(t=bo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=EO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bh=e,null}function VO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a$()){case nb:return 1;case MO:return 4;case xh:case s$:return 16;case $O:return 536870912;default:return 16}default:return 16}}var Gs=null,ob=null,th=null;function HO(){if(th)return th;var e,t=ob,r=t.length,n,s="value"in Gs?Gs.value:Gs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return th=s.slice(e,1<n?1-n:void 0)}function rh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kf(){return!0}function ij(){return!1}function Nn(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kf:ij,this.isPropagationStopped=ij,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),t}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lb=Nn(ac),Wd=Lt({},ac,{view:0,detail:0}),v$=Nn(Wd),Dg,Mg,Ac,nm=Lt({},Wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ac&&(Ac&&e.type==="mousemove"?(Dg=e.screenX-Ac.screenX,Mg=e.screenY-Ac.screenY):Mg=Dg=0,Ac=e),Dg)},movementY:function(e){return"movementY"in e?e.movementY:Mg}}),oj=Nn(nm),y$=Lt({},nm,{dataTransfer:0}),b$=Nn(y$),k$=Lt({},Wd,{relatedTarget:0}),$g=Nn(k$),w$=Lt({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),j$=Nn(w$),S$=Lt({},ac,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N$=Nn(S$),P$=Lt({},ac,{data:0}),lj=Nn(P$),T$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A$[e])?!!t[e]:!1}function cb(){return E$}var C$=Lt({},Wd,{key:function(e){if(e.key){var t=T$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cb,charCode:function(e){return e.type==="keypress"?rh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_$=Nn(C$),D$=Lt({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cj=Nn(D$),M$=Lt({},Wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cb}),$$=Nn(M$),R$=Lt({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),I$=Nn(R$),L$=Lt({},nm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B$=Nn(L$),F$=[9,13,27,32],ub=Wa&&"CompositionEvent"in window,ku=null;Wa&&"documentMode"in document&&(ku=document.documentMode);var K$=Wa&&"TextEvent"in window&&!ku,UO=Wa&&(!ub||ku&&8<ku&&11>=ku),uj=" ",dj=!1;function WO(e,t){switch(e){case"keyup":return F$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ko=!1;function z$(e,t){switch(e){case"compositionend":return GO(t);case"keypress":return t.which!==32?null:(dj=!0,uj);case"textInput":return e=t.data,e===uj&&dj?null:e;default:return null}}function V$(e,t){if(Ko)return e==="compositionend"||!ub&&WO(e,t)?(e=HO(),th=ob=Gs=null,Ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return UO&&t.locale!=="ko"?null:t.data;default:return null}}var H$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H$[e.type]:t==="textarea"}function qO(e,t,r,n){NO(n),t=kh(t,"onChange"),0<t.length&&(r=new lb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wu=null,Wu=null;function U$(e){sA(e,0)}function am(e){var t=Ho(e);if(vO(t))return e}function W$(e,t){if(e==="change")return t}var YO=!1;if(Wa){var Rg;if(Wa){var Ig="oninput"in document;if(!Ig){var hj=document.createElement("div");hj.setAttribute("oninput","return;"),Ig=typeof hj.oninput=="function"}Rg=Ig}else Rg=!1;YO=Rg&&(!document.documentMode||9<document.documentMode)}function pj(){wu&&(wu.detachEvent("onpropertychange",JO),Wu=wu=null)}function JO(e){if(e.propertyName==="value"&&am(Wu)){var t=[];qO(t,Wu,e,rb(e)),AO(U$,t)}}function G$(e,t,r){e==="focusin"?(pj(),wu=t,Wu=r,wu.attachEvent("onpropertychange",JO)):e==="focusout"&&pj()}function q$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return am(Wu)}function Y$(e,t){if(e==="click")return am(t)}function J$(e,t){if(e==="input"||e==="change")return am(t)}function X$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:X$;function Gu(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!r0.call(t,s)||!sa(e[s],t[s]))return!1}return!0}function mj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gj(e,t){var r=mj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mj(r)}}function XO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function QO(){for(var e=window,t=ph();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ph(e.document)}return t}function db(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q$(e){var t=QO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&XO(r.ownerDocument.documentElement,r)){if(n!==null&&db(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=gj(r,i);var o=gj(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z$=Wa&&"documentMode"in document&&11>=document.documentMode,zo=null,k0=null,ju=null,w0=!1;function xj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;w0||zo==null||zo!==ph(n)||(n=zo,"selectionStart"in n&&db(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ju&&Gu(ju,n)||(ju=n,n=kh(k0,"onSelect"),0<n.length&&(t=new lb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zo)))}function wf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vo={animationend:wf("Animation","AnimationEnd"),animationiteration:wf("Animation","AnimationIteration"),animationstart:wf("Animation","AnimationStart"),transitionend:wf("Transition","TransitionEnd")},Lg={},ZO={};Wa&&(ZO=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function sm(e){if(Lg[e])return Lg[e];if(!Vo[e])return e;var t=Vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ZO)return Lg[e]=t[r];return e}var eA=sm("animationend"),tA=sm("animationiteration"),rA=sm("animationstart"),nA=sm("transitionend"),aA=new Map,vj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){aA.set(e,t),yo(t,[e])}for(var Bg=0;Bg<vj.length;Bg++){var Fg=vj[Bg],e5=Fg.toLowerCase(),t5=Fg[0].toUpperCase()+Fg.slice(1);gi(e5,"on"+t5)}gi(eA,"onAnimationEnd");gi(tA,"onAnimationIteration");gi(rA,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(nA,"onTransitionEnd");yl("onMouseEnter",["mouseout","mouseover"]);yl("onMouseLeave",["mouseout","mouseover"]);yl("onPointerEnter",["pointerout","pointerover"]);yl("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r5=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function yj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,e$(n,t,void 0,e),e.currentTarget=null}function sA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;yj(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;yj(s,l,u),i=c}}}if(gh)throw e=x0,gh=!1,x0=null,e}function Pt(e,t){var r=t[T0];r===void 0&&(r=t[T0]=new Set);var n=e+"__bubble";r.has(n)||(iA(t,e,2,!1),r.add(n))}function Kg(e,t,r){var n=0;t&&(n|=4),iA(r,e,n,t)}var jf="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[jf]){e[jf]=!0,hO.forEach(function(r){r!=="selectionchange"&&(r5.has(r)||Kg(r,!1,e),Kg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jf]||(t[jf]=!0,Kg("selectionchange",!1,t))}}function iA(e,t,r,n){switch(VO(t)){case 1:var s=g$;break;case 4:s=x$;break;default:s=ib}r=s.bind(null,t,r,e),s=void 0,!g0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function zg(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}AO(function(){var u=i,d=rb(r),f=[];e:{var h=aA.get(e);if(h!==void 0){var p=lb,g=e;switch(e){case"keypress":if(rh(r)===0)break e;case"keydown":case"keyup":p=_$;break;case"focusin":g="focus",p=$g;break;case"focusout":g="blur",p=$g;break;case"beforeblur":case"afterblur":p=$g;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=b$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$$;break;case eA:case tA:case rA:p=j$;break;case nA:p=I$;break;case"scroll":p=v$;break;case"wheel":p=B$;break;case"copy":case"cut":case"paste":p=N$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cj}var m=(t&4)!==0,b=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,v!==null&&(j=zu(y,v),j!=null&&m.push(Yu(y,j,x)))),b)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==p0&&(g=r.relatedTarget||r.fromElement)&&(Hi(g)||g[Ga]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Hi(g):null,g!==null&&(b=bo(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=oj,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=cj,j="onPointerLeave",v="onPointerEnter",y="pointer"),b=p==null?h:Ho(p),x=g==null?h:Ho(g),h=new m(j,y+"leave",p,r,d),h.target=b,h.relatedTarget=x,j=null,Hi(d)===u&&(m=new m(v,y+"enter",g,r,d),m.target=x,m.relatedTarget=b,j=m),b=j,p&&g)t:{for(m=p,v=g,y=0,x=m;x;x=Do(x))y++;for(x=0,j=v;j;j=Do(j))x++;for(;0<y-x;)m=Do(m),y--;for(;0<x-y;)v=Do(v),x--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Do(m),v=Do(v)}m=null}else m=null;p!==null&&bj(f,h,p,m,!1),g!==null&&b!==null&&bj(f,b,g,m,!0)}}e:{if(h=u?Ho(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=W$;else if(fj(h))if(YO)w=J$;else{w=q$;var N=G$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Y$);if(w&&(w=w(e,u))){qO(f,w,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&c0(h,"number",h.value)}switch(N=u?Ho(u):window,e){case"focusin":(fj(N)||N.contentEditable==="true")&&(zo=N,k0=u,ju=null);break;case"focusout":ju=k0=zo=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,xj(f,r,d);break;case"selectionchange":if(Z$)break;case"keydown":case"keyup":xj(f,r,d)}var S;if(ub)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ko?WO(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(UO&&r.locale!=="ko"&&(Ko||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ko&&(S=HO()):(Gs=d,ob="value"in Gs?Gs.value:Gs.textContent,Ko=!0)),N=kh(u,P),0<N.length&&(P=new lj(P,e,null,r,d),f.push({event:P,listeners:N}),S?P.data=S:(S=GO(r),S!==null&&(P.data=S)))),(S=K$?z$(e,r):V$(e,r))&&(u=kh(u,"onBeforeInput"),0<u.length&&(d=new lj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}sA(f,t)})}function Yu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kh(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zu(e,r),i!=null&&n.unshift(Yu(e,i,s)),i=zu(e,t),i!=null&&n.push(Yu(e,i,s))),e=e.return}return n}function Do(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bj(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=zu(r,i),c!=null&&o.unshift(Yu(r,c,l))):s||(c=zu(r,i),c!=null&&o.push(Yu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var n5=/\r\n?/g,a5=/\u0000|\uFFFD/g;function kj(e){return(typeof e=="string"?e:""+e).replace(n5,`
`).replace(a5,"")}function Sf(e,t,r){if(t=kj(t),kj(e)!==t&&r)throw Error(we(425))}function wh(){}var j0=null,S0=null;function N0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,s5=typeof clearTimeout=="function"?clearTimeout:void 0,wj=typeof Promise=="function"?Promise:void 0,i5=typeof queueMicrotask=="function"?queueMicrotask:typeof wj<"u"?function(e){return wj.resolve(null).then(e).catch(o5)}:P0;function o5(e){setTimeout(function(){throw e})}function Vg(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Uu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Uu(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sc=Math.random().toString(36).slice(2),fa="__reactFiber$"+sc,Ju="__reactProps$"+sc,Ga="__reactContainer$"+sc,T0="__reactEvents$"+sc,l5="__reactListeners$"+sc,c5="__reactHandles$"+sc;function Hi(e){var t=e[fa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ga]||r[fa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jj(e);e!==null;){if(r=e[fa])return r;e=jj(e)}return t}e=r,r=e.parentNode}return null}function Gd(e){return e=e[fa]||e[Ga],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function im(e){return e[Ju]||null}var O0=[],Uo=-1;function xi(e){return{current:e}}function At(e){0>Uo||(e.current=O0[Uo],O0[Uo]=null,Uo--)}function bt(e,t){Uo++,O0[Uo]=e.current,e.current=t}var fi={},Lr=xi(fi),sn=xi(!1),io=fi;function bl(e,t){var r=e.type.contextTypes;if(!r)return fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function on(e){return e=e.childContextTypes,e!=null}function jh(){At(sn),At(Lr)}function Sj(e,t,r){if(Lr.current!==fi)throw Error(we(168));bt(Lr,t),bt(sn,r)}function oA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(we(108,G3(e)||"Unknown",s));return Lt({},r,n)}function Sh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,io=Lr.current,bt(Lr,e),bt(sn,sn.current),!0}function Nj(e,t,r){var n=e.stateNode;if(!n)throw Error(we(169));r?(e=oA(e,t,io),n.__reactInternalMemoizedMergedChildContext=e,At(sn),At(Lr),bt(Lr,e)):At(sn),bt(sn,r)}var Da=null,om=!1,Hg=!1;function lA(e){Da===null?Da=[e]:Da.push(e)}function u5(e){om=!0,lA(e)}function vi(){if(!Hg&&Da!==null){Hg=!0;var e=0,t=ft;try{var r=Da;for(ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Da=null,om=!1}catch(s){throw Da!==null&&(Da=Da.slice(e+1)),DO(nb,vi),s}finally{ft=t,Hg=!1}}return null}var Wo=[],Go=0,Nh=null,Ph=0,_n=[],Dn=0,oo=null,Ma=1,$a="";function _i(e,t){Wo[Go++]=Ph,Wo[Go++]=Nh,Nh=e,Ph=t}function cA(e,t,r){_n[Dn++]=Ma,_n[Dn++]=$a,_n[Dn++]=oo,oo=e;var n=Ma;e=$a;var s=32-ea(n)-1;n&=~(1<<s),r+=1;var i=32-ea(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ma=1<<32-ea(t)+s|r<<s|n,$a=i+e}else Ma=1<<i|r<<s|n,$a=e}function fb(e){e.return!==null&&(_i(e,1),cA(e,1,0))}function hb(e){for(;e===Nh;)Nh=Wo[--Go],Wo[Go]=null,Ph=Wo[--Go],Wo[Go]=null;for(;e===oo;)oo=_n[--Dn],_n[Dn]=null,$a=_n[--Dn],_n[Dn]=null,Ma=_n[--Dn],_n[Dn]=null}var yn=null,vn=null,Ct=!1,Qn=null;function uA(e,t){var r=$n(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,vn=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oo!==null?{id:Ma,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$n(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yn=e,vn=null,!0):!1;default:return!1}}function A0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function E0(e){if(Ct){var t=vn;if(t){var r=t;if(!Pj(e,t)){if(A0(e))throw Error(we(418));t=ei(r.nextSibling);var n=yn;t&&Pj(e,t)?uA(n,r):(e.flags=e.flags&-4097|2,Ct=!1,yn=e)}}else{if(A0(e))throw Error(we(418));e.flags=e.flags&-4097|2,Ct=!1,yn=e}}}function Tj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function Nf(e){if(e!==yn)return!1;if(!Ct)return Tj(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N0(e.type,e.memoizedProps)),t&&(t=vn)){if(A0(e))throw dA(),Error(we(418));for(;t;)uA(e,t),t=ei(t.nextSibling)}if(Tj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vn=ei(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=yn?ei(e.stateNode.nextSibling):null;return!0}function dA(){for(var e=vn;e;)e=ei(e.nextSibling)}function kl(){vn=yn=null,Ct=!1}function pb(e){Qn===null?Qn=[e]:Qn.push(e)}var d5=es.ReactCurrentBatchConfig;function Ec(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,e))}return e}function Pf(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oj(e){var t=e._init;return t(e._payload)}function fA(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=ai(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,x,j){return y===null||y.tag!==6?(y=Xg(x,v.mode,j),y.return=v,y):(y=s(y,x),y.return=v,y)}function c(v,y,x,j){var w=x.type;return w===Fo?d(v,y,x.props.children,j,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Fs&&Oj(w)===y.type)?(j=s(y,x.props),j.ref=Ec(v,y,x),j.return=v,j):(j=ch(x.type,x.key,x.props,null,v.mode,j),j.ref=Ec(v,y,x),j.return=v,j)}function u(v,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Qg(x,v.mode,j),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,j,w){return y===null||y.tag!==7?(y=eo(x,v.mode,j,w),y.return=v,y):(y=s(y,x),y.return=v,y)}function f(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xg(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mf:return x=ch(y.type,y.key,y.props,null,v.mode,x),x.ref=Ec(v,null,y),x.return=v,x;case Bo:return y=Qg(y,v.mode,x),y.return=v,y;case Fs:var j=y._init;return f(v,j(y._payload),x)}if(du(y)||Nc(y))return y=eo(y,v.mode,x,null),y.return=v,y;Pf(v,y)}return null}function h(v,y,x,j){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:l(v,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mf:return x.key===w?c(v,y,x,j):null;case Bo:return x.key===w?u(v,y,x,j):null;case Fs:return w=x._init,h(v,y,w(x._payload),j)}if(du(x)||Nc(x))return w!==null?null:d(v,y,x,j,null);Pf(v,x)}return null}function p(v,y,x,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(x)||null,l(y,v,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case mf:return v=v.get(j.key===null?x:j.key)||null,c(y,v,j,w);case Bo:return v=v.get(j.key===null?x:j.key)||null,u(y,v,j,w);case Fs:var N=j._init;return p(v,y,x,N(j._payload),w)}if(du(j)||Nc(j))return v=v.get(x)||null,d(y,v,j,w,null);Pf(y,j)}return null}function g(v,y,x,j){for(var w=null,N=null,S=y,P=y=0,A=null;S!==null&&P<x.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var $=h(v,S,x[P],j);if($===null){S===null&&(S=A);break}e&&S&&$.alternate===null&&t(v,S),y=i($,y,P),N===null?w=$:N.sibling=$,N=$,S=A}if(P===x.length)return r(v,S),Ct&&_i(v,P),w;if(S===null){for(;P<x.length;P++)S=f(v,x[P],j),S!==null&&(y=i(S,y,P),N===null?w=S:N.sibling=S,N=S);return Ct&&_i(v,P),w}for(S=n(v,S);P<x.length;P++)A=p(S,v,P,x[P],j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?P:A.key),y=i(A,y,P),N===null?w=A:N.sibling=A,N=A);return e&&S.forEach(function(I){return t(v,I)}),Ct&&_i(v,P),w}function m(v,y,x,j){var w=Nc(x);if(typeof w!="function")throw Error(we(150));if(x=w.call(x),x==null)throw Error(we(151));for(var N=w=null,S=y,P=y=0,A=null,$=x.next();S!==null&&!$.done;P++,$=x.next()){S.index>P?(A=S,S=null):A=S.sibling;var I=h(v,S,$.value,j);if(I===null){S===null&&(S=A);break}e&&S&&I.alternate===null&&t(v,S),y=i(I,y,P),N===null?w=I:N.sibling=I,N=I,S=A}if($.done)return r(v,S),Ct&&_i(v,P),w;if(S===null){for(;!$.done;P++,$=x.next())$=f(v,$.value,j),$!==null&&(y=i($,y,P),N===null?w=$:N.sibling=$,N=$);return Ct&&_i(v,P),w}for(S=n(v,S);!$.done;P++,$=x.next())$=p(S,v,P,$.value,j),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?P:$.key),y=i($,y,P),N===null?w=$:N.sibling=$,N=$);return e&&S.forEach(function(E){return t(v,E)}),Ct&&_i(v,P),w}function b(v,y,x,j){if(typeof x=="object"&&x!==null&&x.type===Fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case mf:e:{for(var w=x.key,N=y;N!==null;){if(N.key===w){if(w=x.type,w===Fo){if(N.tag===7){r(v,N.sibling),y=s(N,x.props.children),y.return=v,v=y;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Fs&&Oj(w)===N.type){r(v,N.sibling),y=s(N,x.props),y.ref=Ec(v,N,x),y.return=v,v=y;break e}r(v,N);break}else t(v,N);N=N.sibling}x.type===Fo?(y=eo(x.props.children,v.mode,j,x.key),y.return=v,v=y):(j=ch(x.type,x.key,x.props,null,v.mode,j),j.ref=Ec(v,y,x),j.return=v,v=j)}return o(v);case Bo:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Qg(x,v.mode,j),y.return=v,v=y}return o(v);case Fs:return N=x._init,b(v,y,N(x._payload),j)}if(du(x))return g(v,y,x,j);if(Nc(x))return m(v,y,x,j);Pf(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,x),y.return=v,v=y):(r(v,y),y=Xg(x,v.mode,j),y.return=v,v=y),o(v)):r(v,y)}return b}var wl=fA(!0),hA=fA(!1),Th=xi(null),Oh=null,qo=null,mb=null;function gb(){mb=qo=Oh=null}function xb(e){var t=Th.current;At(Th),e._currentValue=t}function C0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dl(e,t){Oh=e,mb=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rn=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(mb!==e)if(e={context:e,memoizedValue:t,next:null},qo===null){if(Oh===null)throw Error(we(308));qo=e,Oh.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return t}var Ui=null;function vb(e){Ui===null?Ui=[e]:Ui.push(e)}function pA(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vb(t)):(r.next=s.next,s.next=r),t.interleaved=r,qa(e,n)}function qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ks=!1;function yb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,it&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qa(e,r)}return s=n.interleaved,s===null?(t.next=t,vb(n)):(t.next=s.next,s.next=t),n.interleaved=t,qa(e,r)}function nh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ab(e,r)}}function Aj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ah(e,t,r,n){var s=e.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Lt({},f,h);break e;case 2:Ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);co|=o,e.lanes=o,e.memoizedState=f}}function Ej(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(we(191,s));s.call(n)}}}var qd={},ga=xi(qd),Xu=xi(qd),Qu=xi(qd);function Wi(e){if(e===qd)throw Error(we(174));return e}function bb(e,t){switch(bt(Qu,t),bt(Xu,e),bt(ga,qd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d0(t,e)}At(ga),bt(ga,t)}function jl(){At(ga),At(Xu),At(Qu)}function gA(e){Wi(Qu.current);var t=Wi(ga.current),r=d0(t,e.type);t!==r&&(bt(Xu,e),bt(ga,r))}function kb(e){Xu.current===e&&(At(ga),At(Xu))}var $t=xi(0);function Eh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ug=[];function wb(){for(var e=0;e<Ug.length;e++)Ug[e]._workInProgressVersionPrimary=null;Ug.length=0}var ah=es.ReactCurrentDispatcher,Wg=es.ReactCurrentBatchConfig,lo=0,It=null,sr=null,hr=null,Ch=!1,Su=!1,Zu=0,f5=0;function Ar(){throw Error(we(321))}function jb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sa(e[r],t[r]))return!1;return!0}function Sb(e,t,r,n,s,i){if(lo=i,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ah.current=e===null||e.memoizedState===null?g5:x5,e=r(n,s),Su){i=0;do{if(Su=!1,Zu=0,25<=i)throw Error(we(301));i+=1,hr=sr=null,t.updateQueue=null,ah.current=v5,e=r(n,s)}while(Su)}if(ah.current=_h,t=sr!==null&&sr.next!==null,lo=0,hr=sr=It=null,Ch=!1,t)throw Error(we(300));return e}function Nb(){var e=Zu!==0;return Zu=0,e}function da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?It.memoizedState=hr=e:hr=hr.next=e,hr}function Bn(){if(sr===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=sr.next;var t=hr===null?It.memoizedState:hr.next;if(t!==null)hr=t,sr=e;else{if(e===null)throw Error(we(310));sr=e,e={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},hr===null?It.memoizedState=hr=e:hr=hr.next=e}return hr}function ed(e,t){return typeof t=="function"?t(e):t}function Gg(e){var t=Bn(),r=t.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=e;var n=sr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((lo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,It.lanes|=d,co|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,sa(n,t.memoizedState)||(rn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,It.lanes|=i,co|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qg(e){var t=Bn(),r=t.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);sa(i,t.memoizedState)||(rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function xA(){}function vA(e,t){var r=It,n=Bn(),s=t(),i=!sa(n.memoizedState,s);if(i&&(n.memoizedState=s,rn=!0),n=n.queue,Pb(kA.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,td(9,bA.bind(null,r,n,s,t),void 0,null),mr===null)throw Error(we(349));lo&30||yA(r,t,s)}return s}function yA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bA(e,t,r,n){t.value=r,t.getSnapshot=n,wA(t)&&jA(e)}function kA(e,t,r){return r(function(){wA(t)&&jA(e)})}function wA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sa(e,r)}catch{return!0}}function jA(e){var t=qa(e,1);t!==null&&ta(t,e,1,-1)}function Cj(e){var t=da();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:e},t.queue=e,e=e.dispatch=m5.bind(null,It,e),[t.memoizedState,e]}function td(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function SA(){return Bn().memoizedState}function sh(e,t,r,n){var s=da();It.flags|=e,s.memoizedState=td(1|t,r,void 0,n===void 0?null:n)}function lm(e,t,r,n){var s=Bn();n=n===void 0?null:n;var i=void 0;if(sr!==null){var o=sr.memoizedState;if(i=o.destroy,n!==null&&jb(n,o.deps)){s.memoizedState=td(t,r,i,n);return}}It.flags|=e,s.memoizedState=td(1|t,r,i,n)}function _j(e,t){return sh(8390656,8,e,t)}function Pb(e,t){return lm(2048,8,e,t)}function NA(e,t){return lm(4,2,e,t)}function PA(e,t){return lm(4,4,e,t)}function TA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OA(e,t,r){return r=r!=null?r.concat([e]):null,lm(4,4,TA.bind(null,t,e),r)}function Tb(){}function AA(e,t){var r=Bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function EA(e,t){var r=Bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jb(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function CA(e,t,r){return lo&21?(sa(r,t)||(r=RO(),It.lanes|=r,co|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=r)}function h5(e,t){var r=ft;ft=r!==0&&4>r?r:4,e(!0);var n=Wg.transition;Wg.transition={};try{e(!1),t()}finally{ft=r,Wg.transition=n}}function _A(){return Bn().memoizedState}function p5(e,t,r){var n=ni(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DA(e))MA(t,r);else if(r=pA(e,t,r,n),r!==null){var s=Xr();ta(r,e,n,s),$A(r,t,n)}}function m5(e,t,r){var n=ni(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DA(e))MA(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,sa(l,o)){var c=t.interleaved;c===null?(s.next=s,vb(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=pA(e,t,s,n),r!==null&&(s=Xr(),ta(r,e,n,s),$A(r,t,n))}}function DA(e){var t=e.alternate;return e===It||t!==null&&t===It}function MA(e,t){Su=Ch=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $A(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ab(e,r)}}var _h={readContext:Ln,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},g5={readContext:Ln,useCallback:function(e,t){return da().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:_j,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sh(4194308,4,TA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sh(4194308,4,e,t)},useInsertionEffect:function(e,t){return sh(4,2,e,t)},useMemo:function(e,t){var r=da();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=da();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=p5.bind(null,It,e),[n.memoizedState,e]},useRef:function(e){var t=da();return e={current:e},t.memoizedState=e},useState:Cj,useDebugValue:Tb,useDeferredValue:function(e){return da().memoizedState=e},useTransition:function(){var e=Cj(!1),t=e[0];return e=h5.bind(null,e[1]),da().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=It,s=da();if(Ct){if(r===void 0)throw Error(we(407));r=r()}else{if(r=t(),mr===null)throw Error(we(349));lo&30||yA(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,_j(kA.bind(null,n,i,e),[e]),n.flags|=2048,td(9,bA.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=da(),t=mr.identifierPrefix;if(Ct){var r=$a,n=Ma;r=(n&~(1<<32-ea(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=f5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x5={readContext:Ln,useCallback:AA,useContext:Ln,useEffect:Pb,useImperativeHandle:OA,useInsertionEffect:NA,useLayoutEffect:PA,useMemo:EA,useReducer:Gg,useRef:SA,useState:function(){return Gg(ed)},useDebugValue:Tb,useDeferredValue:function(e){var t=Bn();return CA(t,sr.memoizedState,e)},useTransition:function(){var e=Gg(ed)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:xA,useSyncExternalStore:vA,useId:_A,unstable_isNewReconciler:!1},v5={readContext:Ln,useCallback:AA,useContext:Ln,useEffect:Pb,useImperativeHandle:OA,useInsertionEffect:NA,useLayoutEffect:PA,useMemo:EA,useReducer:qg,useRef:SA,useState:function(){return qg(ed)},useDebugValue:Tb,useDeferredValue:function(e){var t=Bn();return sr===null?t.memoizedState=e:CA(t,sr.memoizedState,e)},useTransition:function(){var e=qg(ed)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:xA,useSyncExternalStore:vA,useId:_A,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=Lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cm={isMounted:function(e){return(e=e._reactInternals)?bo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xr(),s=ni(e),i=Fa(n,s);i.payload=t,r!=null&&(i.callback=r),t=ti(e,i,s),t!==null&&(ta(t,e,s,n),nh(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xr(),s=ni(e),i=Fa(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ti(e,i,s),t!==null&&(ta(t,e,s,n),nh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xr(),n=ni(e),s=Fa(r,n);s.tag=2,t!=null&&(s.callback=t),t=ti(e,s,n),t!==null&&(ta(t,e,n,r),nh(t,e,n))}};function Dj(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gu(r,n)||!Gu(s,i):!0}function RA(e,t,r){var n=!1,s=fi,i=t.contextType;return typeof i=="object"&&i!==null?i=Ln(i):(s=on(t)?io:Lr.current,n=t.contextTypes,i=(n=n!=null)?bl(e,s):fi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cm.enqueueReplaceState(t,t.state,null)}function D0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yb(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ln(i):(i=on(t)?io:Lr.current,s.context=bl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cm.enqueueReplaceState(s,s.state,null),Ah(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sl(e,t){try{var r="",n=t;do r+=W3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function M0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var y5=typeof WeakMap=="function"?WeakMap:Map;function IA(e,t,r){r=Fa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mh||(Mh=!0,H0=n),M0(e,t)},r}function LA(e,t,r){r=Fa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){M0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){M0(e,t),typeof n!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $j(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new y5;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=D5.bind(null,e,t,r),t.then(e,e))}function Rj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ij(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fa(-1,1),t.tag=2,ti(r,t,1))),r.lanes|=1),e)}var b5=es.ReactCurrentOwner,rn=!1;function Gr(e,t,r,n){t.child=e===null?hA(t,null,r,n):wl(t,e.child,r,n)}function Lj(e,t,r,n,s){r=r.render;var i=t.ref;return dl(t,s),n=Sb(e,t,r,n,i,s),r=Nb(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ya(e,t,s)):(Ct&&r&&fb(t),t.flags|=1,Gr(e,t,n,s),t.child)}function Bj(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!$b(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,BA(e,t,i,n,s)):(e=ch(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Gu,r(o,n)&&e.ref===t.ref)return Ya(e,t,s)}return t.flags|=1,e=ai(i,n),e.ref=t.ref,e.return=t,t.child=e}function BA(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Gu(i,n)&&e.ref===t.ref)if(rn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(rn=!0);else return t.lanes=e.lanes,Ya(e,t,s)}return $0(e,t,r,n,s)}function FA(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Jo,hn),hn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(Jo,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,bt(Jo,hn),hn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,bt(Jo,hn),hn|=n;return Gr(e,t,s,r),t.child}function KA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $0(e,t,r,n,s){var i=on(r)?io:Lr.current;return i=bl(t,i),dl(t,s),r=Sb(e,t,r,n,i,s),n=Nb(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ya(e,t,s)):(Ct&&n&&fb(t),t.flags|=1,Gr(e,t,r,s),t.child)}function Fj(e,t,r,n,s){if(on(r)){var i=!0;Sh(t)}else i=!1;if(dl(t,s),t.stateNode===null)ih(e,t),RA(t,r,n),D0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=on(r)?io:Lr.current,u=bl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Mj(t,o,n,u),Ks=!1;var h=t.memoizedState;o.state=h,Ah(t,n,o,s),c=t.memoizedState,l!==n||h!==c||sn.current||Ks?(typeof d=="function"&&(_0(t,r,d,n),c=t.memoizedState),(l=Ks||Dj(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,mA(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ln(c):(c=on(r)?io:Lr.current,c=bl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Mj(t,o,n,c),Ks=!1,h=t.memoizedState,o.state=h,Ah(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||sn.current||Ks?(typeof p=="function"&&(_0(t,r,p,n),g=t.memoizedState),(u=Ks||Dj(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return R0(e,t,r,n,i,s)}function R0(e,t,r,n,s,i){KA(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Nj(t,r,!1),Ya(e,t,i);n=t.stateNode,b5.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wl(t,e.child,null,i),t.child=wl(t,null,l,i)):Gr(e,t,l,i),t.memoizedState=n.state,s&&Nj(t,r,!0),t.child}function zA(e){var t=e.stateNode;t.pendingContext?Sj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sj(e,t.context,!1),bb(e,t.containerInfo)}function Kj(e,t,r,n,s){return kl(),pb(s),t.flags|=256,Gr(e,t,r,n),t.child}var I0={dehydrated:null,treeContext:null,retryLane:0};function L0(e){return{baseLanes:e,cachePool:null,transitions:null}}function VA(e,t,r){var n=t.pendingProps,s=$t.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),bt($t,s&1),e===null)return E0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fm(o,n,0,null),e=eo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=L0(r),t.memoizedState=I0,e):Ob(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return k5(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ai(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ai(l,i):(i=eo(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?L0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=I0,n}return i=e.child,e=i.sibling,n=ai(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ob(e,t){return t=fm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tf(e,t,r,n){return n!==null&&pb(n),wl(t,e.child,null,r),e=Ob(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k5(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Yg(Error(we(422))),Tf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=fm({mode:"visible",children:n.children},s,0,null),i=eo(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wl(t,e.child,null,o),t.child.memoizedState=L0(o),t.memoizedState=I0,i);if(!(t.mode&1))return Tf(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(we(419)),n=Yg(i,n,void 0),Tf(e,t,o,n)}if(l=(o&e.childLanes)!==0,rn||l){if(n=mr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qa(e,s),ta(n,e,s,-1))}return Mb(),n=Yg(Error(we(421))),Tf(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=M5.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vn=ei(s.nextSibling),yn=t,Ct=!0,Qn=null,e!==null&&(_n[Dn++]=Ma,_n[Dn++]=$a,_n[Dn++]=oo,Ma=e.id,$a=e.overflow,oo=t),t=Ob(t,n.children),t.flags|=4096,t)}function zj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),C0(e.return,t,r)}function Jg(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function HA(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Gr(e,t,n.children,r),n=$t.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zj(e,r,t);else if(e.tag===19)zj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bt($t,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Eh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Jg(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Eh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Jg(t,!0,r,null,i);break;case"together":Jg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ih(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ya(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,r=ai(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ai(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function w5(e,t,r){switch(t.tag){case 3:zA(t),kl();break;case 5:gA(t);break;case 1:on(t.type)&&Sh(t);break;case 4:bb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;bt(Th,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(bt($t,$t.current&1),t.flags|=128,null):r&t.child.childLanes?VA(e,t,r):(bt($t,$t.current&1),e=Ya(e,t,r),e!==null?e.sibling:null);bt($t,$t.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return HA(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bt($t,$t.current),n)break;return null;case 22:case 23:return t.lanes=0,FA(e,t,r)}return Ya(e,t,r)}var UA,B0,WA,GA;UA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};B0=function(){};WA=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wi(ga.current);var i=null;switch(r){case"input":s=o0(e,s),n=o0(e,n),i=[];break;case"select":s=Lt({},s,{value:void 0}),n=Lt({},n,{value:void 0}),i=[];break;case"textarea":s=u0(e,s),n=u0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wh)}f0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};GA=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cc(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function j5(e,t,r){var n=t.pendingProps;switch(hb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return on(t.type)&&jh(),Er(t),null;case 3:return n=t.stateNode,jl(),At(sn),At(Lr),wb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Nf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qn!==null&&(G0(Qn),Qn=null))),B0(e,t),Er(t),null;case 5:kb(t);var s=Wi(Qu.current);if(r=t.type,e!==null&&t.stateNode!=null)WA(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(we(166));return Er(t),null}if(e=Wi(ga.current),Nf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fa]=t,n[Ju]=i,e=(t.mode&1)!==0,r){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(s=0;s<hu.length;s++)Pt(hu[s],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":Xw(n,i),Pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Pt("invalid",n);break;case"textarea":Zw(n,i),Pt("invalid",n)}f0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sf(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sf(n.textContent,l,e),s=["children",""+l]):Fu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pt("scroll",n)}switch(r){case"input":gf(n),Qw(n,i,!0);break;case"textarea":gf(n),ej(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fa]=t,e[Ju]=n,UA(e,t,!1,!1),t.stateNode=e;e:{switch(o=h0(r,n),r){case"dialog":Pt("cancel",e),Pt("close",e),s=n;break;case"iframe":case"object":case"embed":Pt("load",e),s=n;break;case"video":case"audio":for(s=0;s<hu.length;s++)Pt(hu[s],e);s=n;break;case"source":Pt("error",e),s=n;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),s=n;break;case"details":Pt("toggle",e),s=n;break;case"input":Xw(e,n),s=o0(e,n),Pt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Lt({},n,{value:void 0}),Pt("invalid",e);break;case"textarea":Zw(e,n),s=u0(e,n),Pt("invalid",e);break;default:s=n}f0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?SO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wO(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ku(e,c):typeof c=="number"&&Ku(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pt("scroll",e):c!=null&&Qy(e,i,c,o))}switch(r){case"input":gf(e),Qw(e,n,!1);break;case"textarea":gf(e),ej(e);break;case"option":n.value!=null&&e.setAttribute("value",""+di(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ol(e,!!n.multiple,i,!1):n.defaultValue!=null&&ol(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)GA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(we(166));if(r=Wi(Qu.current),Wi(ga.current),Nf(t)){if(n=t.stateNode,r=t.memoizedProps,n[fa]=t,(i=n.nodeValue!==r)&&(e=yn,e!==null))switch(e.tag){case 3:Sf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fa]=t,t.stateNode=n}return Er(t),null;case 13:if(At($t),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&vn!==null&&t.mode&1&&!(t.flags&128))dA(),kl(),t.flags|=98560,i=!1;else if(i=Nf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(we(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(we(317));i[fa]=t}else kl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),i=!1}else Qn!==null&&(G0(Qn),Qn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?lr===0&&(lr=3):Mb())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return jl(),B0(e,t),e===null&&qu(t.stateNode.containerInfo),Er(t),null;case 10:return xb(t.type._context),Er(t),null;case 17:return on(t.type)&&jh(),Er(t),null;case 19:if(At($t),i=t.memoizedState,i===null)return Er(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Cc(i,!1);else{if(lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eh(e),o!==null){for(t.flags|=128,Cc(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return bt($t,$t.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ht()>Nl&&(t.flags|=128,n=!0,Cc(i,!1),t.lanes=4194304)}else{if(!n)if(e=Eh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ct)return Er(t),null}else 2*Ht()-i.renderingStartTime>Nl&&r!==1073741824&&(t.flags|=128,n=!0,Cc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ht(),t.sibling=null,r=$t.current,bt($t,n?r&1|2:r&1),t):(Er(t),null);case 22:case 23:return Db(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hn&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function S5(e,t){switch(hb(t),t.tag){case 1:return on(t.type)&&jh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jl(),At(sn),At(Lr),wb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kb(t),null;case 13:if(At($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At($t),null;case 4:return jl(),null;case 10:return xb(t.type._context),null;case 22:case 23:return Db(),null;case 24:return null;default:return null}}var Of=!1,$r=!1,N5=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Yo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ft(e,t,n)}else r.current=null}function F0(e,t,r){try{r()}catch(n){Ft(e,t,n)}}var Vj=!1;function P5(e,t){if(j0=yh,e=QO(),db(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(S0={focusedElem:e,selectionRange:r},yh=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:qn(t.type,m),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(j){Ft(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return g=Vj,Vj=!1,g}function Nu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&F0(t,r,i)}s=s.next}while(s!==n)}}function um(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function K0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qA(e){var t=e.alternate;t!==null&&(e.alternate=null,qA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fa],delete t[Ju],delete t[T0],delete t[l5],delete t[c5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YA(e){return e.tag===5||e.tag===3||e.tag===4}function Hj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wh));else if(n!==4&&(e=e.child,e!==null))for(z0(e,t,r),e=e.sibling;e!==null;)z0(e,t,r),e=e.sibling}function V0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(V0(e,t,r),e=e.sibling;e!==null;)V0(e,t,r),e=e.sibling}var br=null,Yn=!1;function Ms(e,t,r){for(r=r.child;r!==null;)JA(e,t,r),r=r.sibling}function JA(e,t,r){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(rm,r)}catch{}switch(r.tag){case 5:$r||Yo(r,t);case 6:var n=br,s=Yn;br=null,Ms(e,t,r),br=n,Yn=s,br!==null&&(Yn?(e=br,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):br.removeChild(r.stateNode));break;case 18:br!==null&&(Yn?(e=br,r=r.stateNode,e.nodeType===8?Vg(e.parentNode,r):e.nodeType===1&&Vg(e,r),Uu(e)):Vg(br,r.stateNode));break;case 4:n=br,s=Yn,br=r.stateNode.containerInfo,Yn=!0,Ms(e,t,r),br=n,Yn=s;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&F0(r,t,o),s=s.next}while(s!==n)}Ms(e,t,r);break;case 1:if(!$r&&(Yo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ft(r,t,l)}Ms(e,t,r);break;case 21:Ms(e,t,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Ms(e,t,r),$r=n):Ms(e,t,r);break;default:Ms(e,t,r)}}function Uj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new N5),t.forEach(function(n){var s=$5.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Wn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:br=l.stateNode,Yn=!1;break e;case 3:br=l.stateNode.containerInfo,Yn=!0;break e;case 4:br=l.stateNode.containerInfo,Yn=!0;break e}l=l.return}if(br===null)throw Error(we(160));JA(i,o,s),br=null,Yn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ft(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)XA(t,e),t=t.sibling}function XA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(t,e),ua(e),n&4){try{Nu(3,e,e.return),um(3,e)}catch(m){Ft(e,e.return,m)}try{Nu(5,e,e.return)}catch(m){Ft(e,e.return,m)}}break;case 1:Wn(t,e),ua(e),n&512&&r!==null&&Yo(r,r.return);break;case 5:if(Wn(t,e),ua(e),n&512&&r!==null&&Yo(r,r.return),e.flags&32){var s=e.stateNode;try{Ku(s,"")}catch(m){Ft(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yO(s,i),h0(l,o);var u=h0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?SO(s,f):d==="dangerouslySetInnerHTML"?wO(s,f):d==="children"?Ku(s,f):Qy(s,d,f,u)}switch(l){case"input":l0(s,i);break;case"textarea":bO(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ol(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ol(s,!!i.multiple,i.defaultValue,!0):ol(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ju]=i}catch(m){Ft(e,e.return,m)}}break;case 6:if(Wn(t,e),ua(e),n&4){if(e.stateNode===null)throw Error(we(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Ft(e,e.return,m)}}break;case 3:if(Wn(t,e),ua(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uu(t.containerInfo)}catch(m){Ft(e,e.return,m)}break;case 4:Wn(t,e),ua(e);break;case 13:Wn(t,e),ua(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cb=Ht())),n&4&&Uj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($r=(u=$r)||d,Wn(t,e),$r=u):Wn(t,e),ua(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Te=e,d=e.child;d!==null;){for(f=Te=d;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nu(4,h,h.return);break;case 1:Yo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ft(n,r,m)}}break;case 5:Yo(h,h.return);break;case 22:if(h.memoizedState!==null){Gj(f);continue}}p!==null?(p.return=h,Te=p):Gj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jO("display",o))}catch(m){Ft(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ft(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wn(t,e),ua(e),n&4&&Uj(e);break;case 21:break;default:Wn(t,e),ua(e)}}function ua(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(YA(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ku(s,""),n.flags&=-33);var i=Hj(e);V0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Hj(e);z0(e,l,o);break;default:throw Error(we(161))}}catch(c){Ft(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T5(e,t,r){Te=e,QA(e)}function QA(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var s=Te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Of;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$r;l=Of;var u=$r;if(Of=o,($r=c)&&!u)for(Te=s;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?qj(s):c!==null?(c.return=o,Te=c):qj(s);for(;i!==null;)Te=i,QA(i),i=i.sibling;Te=s,Of=l,$r=u}Wj(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Te=i):Wj(e)}}function Wj(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$r||um(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$r)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ej(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ej(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Uu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}$r||t.flags&512&&K0(t)}catch(h){Ft(t,t.return,h)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function Gj(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function qj(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{um(4,t)}catch(c){Ft(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ft(t,s,c)}}var i=t.return;try{K0(t)}catch(c){Ft(t,i,c)}break;case 5:var o=t.return;try{K0(t)}catch(c){Ft(t,o,c)}}}catch(c){Ft(t,t.return,c)}if(t===e){Te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Te=l;break}Te=t.return}}var O5=Math.ceil,Dh=es.ReactCurrentDispatcher,Ab=es.ReactCurrentOwner,In=es.ReactCurrentBatchConfig,it=0,mr=null,Xt=null,kr=0,hn=0,Jo=xi(0),lr=0,rd=null,co=0,dm=0,Eb=0,Pu=null,tn=null,Cb=0,Nl=1/0,Ca=null,Mh=!1,H0=null,ri=null,Af=!1,qs=null,$h=0,Tu=0,U0=null,oh=-1,lh=0;function Xr(){return it&6?Ht():oh!==-1?oh:oh=Ht()}function ni(e){return e.mode&1?it&2&&kr!==0?kr&-kr:d5.transition!==null?(lh===0&&(lh=RO()),lh):(e=ft,e!==0||(e=window.event,e=e===void 0?16:VO(e.type)),e):1}function ta(e,t,r,n){if(50<Tu)throw Tu=0,U0=null,Error(we(185));Ud(e,r,n),(!(it&2)||e!==mr)&&(e===mr&&(!(it&2)&&(dm|=r),lr===4&&Us(e,kr)),ln(e,n),r===1&&it===0&&!(t.mode&1)&&(Nl=Ht()+500,om&&vi()))}function ln(e,t){var r=e.callbackNode;d$(e,t);var n=vh(e,e===mr?kr:0);if(n===0)r!==null&&nj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nj(r),t===1)e.tag===0?u5(Yj.bind(null,e)):lA(Yj.bind(null,e)),i5(function(){!(it&6)&&vi()}),r=null;else{switch(IO(n)){case 1:r=nb;break;case 4:r=MO;break;case 16:r=xh;break;case 536870912:r=$O;break;default:r=xh}r=iE(r,ZA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ZA(e,t){if(oh=-1,lh=0,it&6)throw Error(we(327));var r=e.callbackNode;if(fl()&&e.callbackNode!==r)return null;var n=vh(e,e===mr?kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rh(e,n);else{t=n;var s=it;it|=2;var i=tE();(mr!==e||kr!==t)&&(Ca=null,Nl=Ht()+500,Zi(e,t));do try{C5();break}catch(l){eE(e,l)}while(!0);gb(),Dh.current=i,it=s,Xt!==null?t=0:(mr=null,kr=0,t=lr)}if(t!==0){if(t===2&&(s=v0(e),s!==0&&(n=s,t=W0(e,s))),t===1)throw r=rd,Zi(e,0),Us(e,n),ln(e,Ht()),r;if(t===6)Us(e,n);else{if(s=e.current.alternate,!(n&30)&&!A5(s)&&(t=Rh(e,n),t===2&&(i=v0(e),i!==0&&(n=i,t=W0(e,i))),t===1))throw r=rd,Zi(e,0),Us(e,n),ln(e,Ht()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(we(345));case 2:Di(e,tn,Ca);break;case 3:if(Us(e,n),(n&130023424)===n&&(t=Cb+500-Ht(),10<t)){if(vh(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=P0(Di.bind(null,e,tn,Ca),t);break}Di(e,tn,Ca);break;case 4:if(Us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ea(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*O5(n/1960))-n,10<n){e.timeoutHandle=P0(Di.bind(null,e,tn,Ca),n);break}Di(e,tn,Ca);break;case 5:Di(e,tn,Ca);break;default:throw Error(we(329))}}}return ln(e,Ht()),e.callbackNode===r?ZA.bind(null,e):null}function W0(e,t){var r=Pu;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=Rh(e,t),e!==2&&(t=tn,tn=r,t!==null&&G0(t)),e}function G0(e){tn===null?tn=e:tn.push.apply(tn,e)}function A5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!sa(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~Eb,t&=~dm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ea(t),n=1<<r;e[r]=-1,t&=~n}}function Yj(e){if(it&6)throw Error(we(327));fl();var t=vh(e,0);if(!(t&1))return ln(e,Ht()),null;var r=Rh(e,t);if(e.tag!==0&&r===2){var n=v0(e);n!==0&&(t=n,r=W0(e,n))}if(r===1)throw r=rd,Zi(e,0),Us(e,t),ln(e,Ht()),r;if(r===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,tn,Ca),ln(e,Ht()),null}function _b(e,t){var r=it;it|=1;try{return e(t)}finally{it=r,it===0&&(Nl=Ht()+500,om&&vi())}}function uo(e){qs!==null&&qs.tag===0&&!(it&6)&&fl();var t=it;it|=1;var r=In.transition,n=ft;try{if(In.transition=null,ft=1,e)return e()}finally{ft=n,In.transition=r,it=t,!(it&6)&&vi()}}function Db(){hn=Jo.current,At(Jo)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,s5(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(hb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jh();break;case 3:jl(),At(sn),At(Lr),wb();break;case 5:kb(n);break;case 4:jl();break;case 13:At($t);break;case 19:At($t);break;case 10:xb(n.type._context);break;case 22:case 23:Db()}r=r.return}if(mr=e,Xt=e=ai(e.current,null),kr=hn=t,lr=0,rd=null,Eb=dm=co=0,tn=Pu=null,Ui!==null){for(t=0;t<Ui.length;t++)if(r=Ui[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ui=null}return e}function eE(e,t){do{var r=Xt;try{if(gb(),ah.current=_h,Ch){for(var n=It.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ch=!1}if(lo=0,hr=sr=It=null,Su=!1,Zu=0,Ab.current=null,r===null||r.return===null){lr=1,rd=t,Xt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=kr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Rj(o);if(p!==null){p.flags&=-257,Ij(p,o,l,i,t),p.mode&1&&$j(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){$j(i,u,t),Mb();break e}c=Error(we(426))}}else if(Ct&&l.mode&1){var b=Rj(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ij(b,o,l,i,t),pb(Sl(c,l));break e}}i=c=Sl(c,l),lr!==4&&(lr=2),Pu===null?Pu=[i]:Pu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=IA(i,c,t);Aj(i,v);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ri===null||!ri.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=LA(i,l,t);Aj(i,j);break e}}i=i.return}while(i!==null)}nE(r)}catch(w){t=w,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function tE(){var e=Dh.current;return Dh.current=_h,e===null?_h:e}function Mb(){(lr===0||lr===3||lr===2)&&(lr=4),mr===null||!(co&268435455)&&!(dm&268435455)||Us(mr,kr)}function Rh(e,t){var r=it;it|=2;var n=tE();(mr!==e||kr!==t)&&(Ca=null,Zi(e,t));do try{E5();break}catch(s){eE(e,s)}while(!0);if(gb(),it=r,Dh.current=n,Xt!==null)throw Error(we(261));return mr=null,kr=0,lr}function E5(){for(;Xt!==null;)rE(Xt)}function C5(){for(;Xt!==null&&!r$();)rE(Xt)}function rE(e){var t=sE(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?nE(e):Xt=t,Ab.current=null}function nE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=S5(r,t),r!==null){r.flags&=32767,Xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lr=6,Xt=null;return}}else if(r=j5(r,t,hn),r!==null){Xt=r;return}if(t=t.sibling,t!==null){Xt=t;return}Xt=t=e}while(t!==null);lr===0&&(lr=5)}function Di(e,t,r){var n=ft,s=In.transition;try{In.transition=null,ft=1,_5(e,t,r,n)}finally{In.transition=s,ft=n}return null}function _5(e,t,r,n){do fl();while(qs!==null);if(it&6)throw Error(we(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(f$(e,i),e===mr&&(Xt=mr=null,kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Af||(Af=!0,iE(xh,function(){return fl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=In.transition,In.transition=null;var o=ft;ft=1;var l=it;it|=4,Ab.current=null,P5(e,r),XA(r,e),Q$(S0),yh=!!j0,S0=j0=null,e.current=r,T5(r),n$(),it=l,ft=o,In.transition=i}else e.current=r;if(Af&&(Af=!1,qs=e,$h=s),i=e.pendingLanes,i===0&&(ri=null),i$(r.stateNode),ln(e,Ht()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mh)throw Mh=!1,e=H0,H0=null,e;return $h&1&&e.tag!==0&&fl(),i=e.pendingLanes,i&1?e===U0?Tu++:(Tu=0,U0=e):Tu=0,vi(),null}function fl(){if(qs!==null){var e=IO($h),t=In.transition,r=ft;try{if(In.transition=null,ft=16>e?16:e,qs===null)var n=!1;else{if(e=qs,qs=null,$h=0,it&6)throw Error(we(331));var s=it;for(it|=4,Te=e.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Te=u;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:Nu(8,d,i)}var f=d.child;if(f!==null)f.return=d,Te=f;else for(;Te!==null;){d=Te;var h=d.sibling,p=d.return;if(qA(d),d===u){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Te=v;break e}Te=i.return}}var y=e.current;for(Te=y;Te!==null;){o=Te;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Te=x;else e:for(o=y;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:um(9,l)}}catch(w){Ft(l,l.return,w)}if(l===o){Te=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Te=j;break e}Te=l.return}}if(it=s,vi(),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(rm,e)}catch{}n=!0}return n}finally{ft=r,In.transition=t}}return!1}function Jj(e,t,r){t=Sl(r,t),t=IA(e,t,1),e=ti(e,t,1),t=Xr(),e!==null&&(Ud(e,1,t),ln(e,t))}function Ft(e,t,r){if(e.tag===3)Jj(e,e,r);else for(;t!==null;){if(t.tag===3){Jj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ri===null||!ri.has(n))){e=Sl(r,e),e=LA(t,e,1),t=ti(t,e,1),e=Xr(),t!==null&&(Ud(t,1,e),ln(t,e));break}}t=t.return}}function D5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xr(),e.pingedLanes|=e.suspendedLanes&r,mr===e&&(kr&r)===r&&(lr===4||lr===3&&(kr&130023424)===kr&&500>Ht()-Cb?Zi(e,0):Eb|=r),ln(e,t)}function aE(e,t){t===0&&(e.mode&1?(t=yf,yf<<=1,!(yf&130023424)&&(yf=4194304)):t=1);var r=Xr();e=qa(e,t),e!==null&&(Ud(e,t,r),ln(e,r))}function M5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),aE(e,r)}function $5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(t),aE(e,r)}var sE;sE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rn=!1,w5(e,t,r);rn=!!(e.flags&131072)}else rn=!1,Ct&&t.flags&1048576&&cA(t,Ph,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ih(e,t),e=t.pendingProps;var s=bl(t,Lr.current);dl(t,r),s=Sb(null,t,n,e,s,r);var i=Nb();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(n)?(i=!0,Sh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yb(t),s.updater=cm,t.stateNode=s,s._reactInternals=t,D0(t,n,e,r),t=R0(null,t,n,!0,i,r)):(t.tag=0,Ct&&i&&fb(t),Gr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ih(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=I5(n),e=qn(n,e),s){case 0:t=$0(null,t,n,e,r);break e;case 1:t=Fj(null,t,n,e,r);break e;case 11:t=Lj(null,t,n,e,r);break e;case 14:t=Bj(null,t,n,qn(n.type,e),r);break e}throw Error(we(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qn(n,s),$0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qn(n,s),Fj(e,t,n,s,r);case 3:e:{if(zA(t),e===null)throw Error(we(387));n=t.pendingProps,i=t.memoizedState,s=i.element,mA(e,t),Ah(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Sl(Error(we(423)),t),t=Kj(e,t,n,r,s);break e}else if(n!==s){s=Sl(Error(we(424)),t),t=Kj(e,t,n,r,s);break e}else for(vn=ei(t.stateNode.containerInfo.firstChild),yn=t,Ct=!0,Qn=null,r=hA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kl(),n===s){t=Ya(e,t,r);break e}Gr(e,t,n,r)}t=t.child}return t;case 5:return gA(t),e===null&&E0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,N0(n,s)?o=null:i!==null&&N0(n,i)&&(t.flags|=32),KA(e,t),Gr(e,t,o,r),t.child;case 6:return e===null&&E0(t),null;case 13:return VA(e,t,r);case 4:return bb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wl(t,null,n,r):Gr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qn(n,s),Lj(e,t,n,s,r);case 7:return Gr(e,t,t.pendingProps,r),t.child;case 8:return Gr(e,t,t.pendingProps.children,r),t.child;case 12:return Gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,bt(Th,n._currentValue),n._currentValue=o,i!==null)if(sa(i.value,o)){if(i.children===s.children&&!sn.current){t=Ya(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Fa(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),C0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(we(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),C0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dl(t,r),s=Ln(s),n=n(s),t.flags|=1,Gr(e,t,n,r),t.child;case 14:return n=t.type,s=qn(n,t.pendingProps),s=qn(n.type,s),Bj(e,t,n,s,r);case 15:return BA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qn(n,s),ih(e,t),t.tag=1,on(n)?(e=!0,Sh(t)):e=!1,dl(t,r),RA(t,n,s),D0(t,n,s,r),R0(null,t,n,!0,e,r);case 19:return HA(e,t,r);case 22:return FA(e,t,r)}throw Error(we(156,t.tag))};function iE(e,t){return DO(e,t)}function R5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,r,n){return new R5(e,t,r,n)}function $b(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I5(e){if(typeof e=="function")return $b(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eb)return 11;if(e===tb)return 14}return 2}function ai(e,t){var r=e.alternate;return r===null?(r=$n(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ch(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")$b(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fo:return eo(r.children,s,i,t);case Zy:o=8,s|=8;break;case n0:return e=$n(12,r,t,s|2),e.elementType=n0,e.lanes=i,e;case a0:return e=$n(13,r,t,s),e.elementType=a0,e.lanes=i,e;case s0:return e=$n(19,r,t,s),e.elementType=s0,e.lanes=i,e;case gO:return fm(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pO:o=10;break e;case mO:o=9;break e;case eb:o=11;break e;case tb:o=14;break e;case Fs:o=16,n=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=$n(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function eo(e,t,r,n){return e=$n(7,e,n,t),e.lanes=r,e}function fm(e,t,r,n){return e=$n(22,e,n,t),e.elementType=gO,e.lanes=r,e.stateNode={isHidden:!1},e}function Xg(e,t,r){return e=$n(6,e,null,t),e.lanes=r,e}function Qg(e,t,r){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L5(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rb(e,t,r,n,s,i,o,l,c){return e=new L5(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$n(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yb(i),e}function B5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function oE(e){if(!e)return fi;e=e._reactInternals;e:{if(bo(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var r=e.type;if(on(r))return oA(e,r,t)}return t}function lE(e,t,r,n,s,i,o,l,c){return e=Rb(r,n,!0,e,s,i,o,l,c),e.context=oE(null),r=e.current,n=Xr(),s=ni(r),i=Fa(n,s),i.callback=t??null,ti(r,i,s),e.current.lanes=s,Ud(e,s,n),ln(e,n),e}function hm(e,t,r,n){var s=t.current,i=Xr(),o=ni(s);return r=oE(r),t.context===null?t.context=r:t.pendingContext=r,t=Fa(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ti(s,t,o),e!==null&&(ta(e,s,o,i),nh(e,s,o)),o}function Ih(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ib(e,t){Xj(e,t),(e=e.alternate)&&Xj(e,t)}function F5(){return null}var cE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lb(e){this._internalRoot=e}pm.prototype.render=Lb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));hm(e,t,null,null)};pm.prototype.unmount=Lb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uo(function(){hm(null,e,null,null)}),t[Ga]=null}};function pm(e){this._internalRoot=e}pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=FO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hs.length&&t!==0&&t<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&zO(e)}};function Bb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qj(){}function K5(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ih(o);i.call(u)}}var o=lE(t,n,e,0,null,!1,!1,"",Qj);return e._reactRootContainer=o,e[Ga]=o.current,qu(e.nodeType===8?e.parentNode:e),uo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ih(c);l.call(u)}}var c=Rb(e,0,!1,null,null,!1,!1,"",Qj);return e._reactRootContainer=c,e[Ga]=c.current,qu(e.nodeType===8?e.parentNode:e),uo(function(){hm(t,c,r,n)}),c}function gm(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ih(o);l.call(c)}}hm(t,o,e,s)}else o=K5(r,t,e,s,n);return Ih(o)}LO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fu(t.pendingLanes);r!==0&&(ab(t,r|1),ln(t,Ht()),!(it&6)&&(Nl=Ht()+500,vi()))}break;case 13:uo(function(){var n=qa(e,1);if(n!==null){var s=Xr();ta(n,e,1,s)}}),Ib(e,1)}};sb=function(e){if(e.tag===13){var t=qa(e,134217728);if(t!==null){var r=Xr();ta(t,e,134217728,r)}Ib(e,134217728)}};BO=function(e){if(e.tag===13){var t=ni(e),r=qa(e,t);if(r!==null){var n=Xr();ta(r,e,t,n)}Ib(e,t)}};FO=function(){return ft};KO=function(e,t){var r=ft;try{return ft=e,t()}finally{ft=r}};m0=function(e,t,r){switch(t){case"input":if(l0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=im(n);if(!s)throw Error(we(90));vO(n),l0(n,s)}}}break;case"textarea":bO(e,r);break;case"select":t=r.value,t!=null&&ol(e,!!r.multiple,t,!1)}};TO=_b;OO=uo;var z5={usingClientEntryPoint:!1,Events:[Gd,Ho,im,NO,PO,_b]},_c={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V5={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CO(e),e===null?null:e.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||F5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{rm=Ef.inject(V5),ma=Ef}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z5;Sn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bb(t))throw Error(we(200));return B5(e,t,null,r)};Sn.createRoot=function(e,t){if(!Bb(e))throw Error(we(299));var r=!1,n="",s=cE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rb(e,1,!1,null,null,r,!1,n,s),e[Ga]=t.current,qu(e.nodeType===8?e.parentNode:e),new Lb(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=CO(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return uo(e)};Sn.hydrate=function(e,t,r){if(!mm(t))throw Error(we(200));return gm(null,e,t,!0,r)};Sn.hydrateRoot=function(e,t,r){if(!Bb(e))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=cE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=lE(t,null,e,1,r??null,s,!1,i,o),e[Ga]=t.current,qu(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pm(t)};Sn.render=function(e,t,r){if(!mm(t))throw Error(we(200));return gm(null,e,t,!1,r)};Sn.unmountComponentAtNode=function(e){if(!mm(e))throw Error(we(40));return e._reactRootContainer?(uo(function(){gm(null,null,e,!1,function(){e._reactRootContainer=null,e[Ga]=null})}),!0):!1};Sn.unstable_batchedUpdates=_b;Sn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mm(r))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return gm(e,t,r,!1,n)};Sn.version="18.3.1-next-f1338f8080-20240426";function uE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uE)}catch(e){console.error(e)}}uE(),uO.exports=Sn;var dE=uO.exports,Zj=dE;t0.createRoot=Zj.createRoot,t0.hydrateRoot=Zj.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const e1="popstate";function H5(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return q0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Lh(s)}return W5(t,r,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U5(){return Math.random().toString(36).substr(2,8)}function t1(e,t){return{usr:e.state,key:e.key,idx:t}}function q0(e,t,r,n){return r===void 0&&(r=null),nd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ic(t):t,{state:r,key:t&&t.key||n||U5()})}function Lh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ic(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function W5(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ys.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(nd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ys.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:m.location,delta:v})}function h(b,v){l=Ys.Push;let y=q0(m.location,b,v);u=d()+1;let x=t1(y,u),j=m.createHref(y);try{o.pushState(x,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(j)}i&&c&&c({action:l,location:m.location,delta:1})}function p(b,v){l=Ys.Replace;let y=q0(m.location,b,v);u=d();let x=t1(y,u),j=m.createHref(y);o.replaceState(x,"",j),i&&c&&c({action:l,location:m.location,delta:0})}function g(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Lh(b);return y=y.replace(/ $/,"%20"),Wt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(e1,f),c=b,()=>{s.removeEventListener(e1,f),c=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return o.go(b)}};return m}var r1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r1||(r1={}));function G5(e,t,r){return r===void 0&&(r="/"),q5(e,t,r)}function q5(e,t,r,n){let s=typeof t=="string"?ic(t):t,i=Kb(s.pathname||"/",r);if(i==null)return null;let o=fE(e);Y5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=oR(i);l=aR(o[c],u)}return l}function fE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=si([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:rR(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of hE(i.path))s(i,o,c)}),t}function hE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=hE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Y5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const J5=/^:[\w-]+$/,X5=3,Q5=2,Z5=1,eR=10,tR=-2,n1=e=>e==="*";function rR(e,t){let r=e.split("/"),n=r.length;return r.some(n1)&&(n+=tR),t&&(n+=Q5),r.filter(s=>!n1(s)).reduce((s,i)=>s+(J5.test(i)?X5:i===""?Z5:eR),n)}function nR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function aR(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=sR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:si([i,f.pathname]),pathnameBase:fR(si([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=si([i,f.pathnameBase]))}return o}function sR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function iR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Fb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function oR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const lR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cR=e=>lR.test(e);function uR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ic(e):e,i;if(r)if(cR(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Fb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=a1(r.substring(1),"/"):i=a1(r,t)}else i=t;return{pathname:i,search:hR(n),hash:pR(s)}}function a1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Zg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zb(e,t){let r=dR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vb(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ic(e):(s=nd({},e),Wt(!s.pathname||!s.pathname.includes("?"),Zg("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),Zg("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),Zg("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=uR(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const si=e=>e.join("/").replace(/\/\/+/g,"/"),fR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pE=["post","put","patch","delete"];new Set(pE);const gR=["get",...pE];new Set(gR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}const Hb=k.createContext(null),xR=k.createContext(null),yi=k.createContext(null),xm=k.createContext(null),ts=k.createContext({outlet:null,matches:[],isDataRoute:!1}),mE=k.createContext(null);function vR(e,t){let{relative:r}=t===void 0?{}:t;oc()||Wt(!1);let{basename:n,navigator:s}=k.useContext(yi),{hash:i,pathname:o,search:l}=xE(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:si([n,o])),s.createHref({pathname:c,search:l,hash:i})}function oc(){return k.useContext(xm)!=null}function lc(){return oc()||Wt(!1),k.useContext(xm).location}function gE(e){k.useContext(yi).static||k.useLayoutEffect(e)}function Yd(){let{isDataRoute:e}=k.useContext(ts);return e?DR():yR()}function yR(){oc()||Wt(!1);let e=k.useContext(Hb),{basename:t,future:r,navigator:n}=k.useContext(yi),{matches:s}=k.useContext(ts),{pathname:i}=lc(),o=JSON.stringify(zb(s,r.v7_relativeSplatPath)),l=k.useRef(!1);return gE(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Vb(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:si([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const bR=k.createContext(null);function kR(e){let t=k.useContext(ts).outlet;return t&&k.createElement(bR.Provider,{value:e},t)}function xE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(yi),{matches:s}=k.useContext(ts),{pathname:i}=lc(),o=JSON.stringify(zb(s,n.v7_relativeSplatPath));return k.useMemo(()=>Vb(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function wR(e,t){return jR(e,t)}function jR(e,t,r,n){oc()||Wt(!1);let{navigator:s}=k.useContext(yi),{matches:i}=k.useContext(ts),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lc(),d;if(t){var f;let b=typeof t=="string"?ic(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Wt(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=G5(e,{pathname:p}),m=OR(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:si([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:si([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&m?k.createElement(xm.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ys.Pop}},m):m}function SR(){let e=_R(),t=mR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const NR=k.createElement(SR,null);class PR extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(ts.Provider,{value:this.props.routeContext},k.createElement(mE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TR(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(Hb);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(ts.Provider,{value:t},n)}function OR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Wt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,g=!1,m=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||NR,c&&(u<0&&h===0?(MR("route-fallback"),g=!0,b=null):u===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),y=()=>{let x;return p?x=m:g?x=b:f.route.Component?x=k.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,k.createElement(TR,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(PR,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var vE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vE||{}),yE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yE||{});function AR(e){let t=k.useContext(Hb);return t||Wt(!1),t}function ER(e){let t=k.useContext(xR);return t||Wt(!1),t}function CR(e){let t=k.useContext(ts);return t||Wt(!1),t}function bE(e){let t=CR(),r=t.matches[t.matches.length-1];return r.route.id||Wt(!1),r.route.id}function _R(){var e;let t=k.useContext(mE),r=ER(),n=bE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DR(){let{router:e}=AR(vE.UseNavigateStable),t=bE(yE.UseNavigateStable),r=k.useRef(!1);return gE(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ad({fromRouteId:t},i)))},[e,t])}const s1={};function MR(e,t,r){s1[e]||(s1[e]=!0)}function $R(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fo(e){let{to:t,replace:r,state:n,relative:s}=e;oc()||Wt(!1);let{future:i,static:o}=k.useContext(yi),{matches:l}=k.useContext(ts),{pathname:c}=lc(),u=Yd(),d=Vb(t,zb(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function RR(e){return kR(e.context)}function Fe(e){Wt(!1)}function IR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ys.Pop,navigator:i,static:o=!1,future:l}=e;oc()&&Wt(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:o,future:ad({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ic(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=k.useMemo(()=>{let b=Kb(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return m==null?null:k.createElement(yi.Provider,{value:u},k.createElement(xm.Provider,{children:r,value:m}))}function LR(e){let{children:t,location:r}=e;return wR(Y0(t),r)}new Promise(()=>{});function Y0(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,Y0(n.props.children,i));return}n.type!==Fe&&Wt(!1),!n.props.index||!n.props.children||Wt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Y0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function BR(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function FR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KR(e,t){return e.button===0&&(!t||t==="_self")&&!FR(e)}const zR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VR="6";try{window.__reactRouterVersion=VR}catch{}const HR="startTransition",i1=D3[HR];function UR(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=H5({window:s,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=k.useCallback(f=>{u&&i1?i1(()=>c(f)):c(f)},[c,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>$R(n),[n]),k.createElement(IR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const WR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ex=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=BR(t,zR),{basename:p}=k.useContext(yi),g,m=!1;if(typeof u=="string"&&GR.test(u)&&(g=u,WR))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),w=Kb(j.pathname,p);j.origin===x.origin&&w!=null?u=w+j.search+j.hash:m=!0}catch{}let b=vR(u,{relative:s}),v=qR(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(x){n&&n(x),x.defaultPrevented||v(x)}return k.createElement("a",J0({},h,{href:g||b,onClick:m||i?n:y,ref:r,target:c}))});var o1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(o1||(o1={}));var l1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(l1||(l1={}));function qR(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Yd(),u=lc(),d=xE(e,{relative:o});return k.useCallback(f=>{if(KR(f,r)){f.preventDefault();let h=n!==void 0?n:Lh(u)===Lh(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}const YR={},c1=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(YR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},JR=e=>e?c1(e):c1;var kE={exports:{}},wE={},jE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=k;function XR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QR=typeof Object.is=="function"?Object.is:XR,ZR=Pl.useState,eI=Pl.useEffect,tI=Pl.useLayoutEffect,rI=Pl.useDebugValue;function nI(e,t){var r=t(),n=ZR({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return tI(function(){s.value=r,s.getSnapshot=t,tx(s)&&i({inst:s})},[e,r,t]),eI(function(){return tx(s)&&i({inst:s}),e(function(){tx(s)&&i({inst:s})})},[e]),rI(r),r}function tx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!QR(e,r)}catch{return!0}}function aI(e,t){return t()}var sI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aI:nI;SE.useSyncExternalStore=Pl.useSyncExternalStore!==void 0?Pl.useSyncExternalStore:sI;jE.exports=SE;var iI=jE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=k,oI=iI;function lI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cI=typeof Object.is=="function"?Object.is:lI,uI=oI.useSyncExternalStore,dI=vm.useRef,fI=vm.useEffect,hI=vm.useMemo,pI=vm.useDebugValue;wE.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=dI(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=hI(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return f=g}return f=p}if(g=f,cI(d,p))return g;var m=n(p);return s!==void 0&&s(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=uI(e,i[0],i[1]);return fI(function(){o.hasValue=!0,o.value=l},[l]),pI(l),l};kE.exports=wE;var mI=kE.exports;const gI=dt(mI),NE={},{useDebugValue:xI}=ee,{useSyncExternalStoreWithSelector:vI}=gI;let u1=!1;const yI=e=>e;function bI(e,t=yI,r){(NE?"production":void 0)!=="production"&&r&&!u1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u1=!0);const n=vI(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return xI(n),n}const d1=e=>{(NE?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?JR(e):e,r=(n,s)=>bI(t,n,s);return Object.assign(r,t),r},Jd=e=>e?d1(e):d1,kI={};function wI(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const sd=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return sd(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return sd(n)(r)}}}},jI=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,s);const d=sd(i.serialize),f=()=>{const b=i.partialize({...n()});let v;const y=d({state:b,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{v=x});if(v)throw v;return y},h=s.setState;s.setState=(b,v)=>{h(b,v),f()};const p=e((...b)=>{r(...b),f()},n,s);let g;const m=()=>{var b;if(!u)return;o=!1,l.forEach(y=>y(n()));const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return sd(u.getItem.bind(u))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var x;return g=i.merge(y,(x=n())!=null?x:p),r(g,!0),f()}).then(()=>{v==null||v(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{v==null||v(void 0,y)})};return s.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},m(),g||p},SI=(e,t)=>(r,n,s)=>{let i={storage:wI(()=>localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,s);const d=()=>{const m=i.partialize({...n()});return u.setItem(i.name,{state:m,version:i.version})},f=s.setState;s.setState=(m,b)=>{f(m,b),d()};const h=e((...m)=>{r(...m),d()},n,s);s.getInitialState=()=>h;let p;const g=()=>{var m,b;if(!u)return;o=!1,l.forEach(y=>{var x;return y((x=n())!=null?x:h)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(m=n())!=null?m:h))||void 0;return sd(u.getItem.bind(u))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var x;const[j,w]=y;if(p=i.merge(w,(x=n())!=null?x:h),r(p,!0),j)return d()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||g(),p||h},NI=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((kI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),jI(e,t)):SI(e,t),Ub=NI,et=Jd()(Ub(e=>({isLoggedIn:!1,user:null,sessionId:null,deviceId:null,login:(t,r,n)=>e({isLoggedIn:!0,user:t,sessionId:r,deviceId:n}),logout:()=>e({isLoggedIn:!1,user:null,sessionId:null,deviceId:null}),updateUser:t=>e(r=>({user:r.user?{...r.user,...t}:null}))}),{name:"auth-storage"})),ym=Jd()(Ub(e=>({sidebarOpen:!1,sidebarCollapsed:!1,activeTab:"dashboard",dashboardPlantFilter:"ALL",dashboardYear:new Date().getFullYear(),darkMode:!1,forceDesktopView:!1,toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),toggleSidebarCollapse:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setActiveTab:t=>e({activeTab:t}),setDashboardPlantFilter:t=>e({dashboardPlantFilter:t}),setDashboardYear:t=>e({dashboardYear:t}),toggleDarkMode:()=>e(t=>({darkMode:!t.darkMode})),toggleForceDesktopView:()=>e(t=>({forceDesktopView:!t.forceDesktopView}))}),{name:"ui-storage",partialize:e=>({darkMode:e.darkMode,forceDesktopView:e.forceDesktopView})})),PI=Jd(e=>({notifications:[],unreadCount:0,addNotification:t=>e(r=>({notifications:[t,...r.notifications],unreadCount:r.unreadCount+1})),markAsRead:t=>e(r=>({notifications:r.notifications.map(n=>n.id===t?{...n,read:!0}:n),unreadCount:Math.max(0,r.unreadCount-1)})),markAllAsRead:()=>e(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0})),clearNotifications:()=>e({notifications:[],unreadCount:0}),setNotifications:t=>e({notifications:t,unreadCount:t.filter(r=>!r.read).length})})),Bh=Jd()(Ub(e=>({messages:[],isOpen:!1,unreadChatCount:0,lastReadTimestamp:null,lastFetchTimestamp:null,toggleChat:()=>e(t=>({isOpen:!t.isOpen})),addMessage:t=>e(r=>r.messages.some(s=>s.id===t.id)?r:{messages:[...r.messages,t]}),addOptimisticMessage:t=>e(r=>({messages:[...r.messages,t]})),removeOptimisticMessage:t=>e(r=>({messages:r.messages.filter(n=>n.id!==t)})),setMessages:t=>e(r=>{const s=r.messages.filter(o=>o.id&&o.id.startsWith("temp_")).filter(o=>!t.some(c=>c.sender===o.sender&&c.message===o.message&&Math.abs(new Date(c.timestamp).getTime()-new Date(o.timestamp).getTime())<5e3)),i=[...t,...s];return i.sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),{messages:i}}),setUnreadChatCount:t=>e({unreadChatCount:t}),markChatAsRead:()=>e({unreadChatCount:0,lastReadTimestamp:new Date().toISOString()}),setLastFetchTimestamp:t=>e({lastFetchTimestamp:t})}),{name:"chat-storage",partialize:e=>({messages:e.messages.slice(-100),lastFetchTimestamp:e.lastFetchTimestamp})}));Jd(e=>({loading:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t})}));const TI="modulepreload",OI=function(e){return"/"+e},f1={},Me=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=OI(c),c in f1)return;f1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":TI,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function PE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=PE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=PE(e))&&(n&&(n+=" "),n+=t);return n}const Wb="-",AI=e=>{const t=CI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Wb);return l[0]===""&&l.length!==1&&l.shift(),TE(l,t)||EI(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},TE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?TE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Wb);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},h1=/^\[(.+)\]$/,EI=e=>{if(h1.test(e)){const t=h1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},CI=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return DI(Object.entries(e.classGroups),r).forEach(([i,o])=>{X0(o,n,i,t)}),n},X0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:p1(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(_I(s)){X0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{X0(o,p1(t,i),r,n)})})},p1=(e,t)=>{let r=e;return t.split(Wb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_I=e=>e.isThemeGetter,DI=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,MI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},OE="!",$I=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(OE),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},RI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},II=e=>({cache:MI(e.cacheSize),parseClassName:$I(e),...AI(e)}),LI=/\s+/,BI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(LI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const b=RI(d).join(":"),v=f?b+OE:b,y=v+m;if(i.includes(y))continue;i.push(y);const x=s(m,g);for(let j=0;j<x.length;++j){const w=x[j];i.push(v+w)}l=u+(l.length>0?" "+l:l)}return l};function FI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=AE(t))&&(n&&(n+=" "),n+=r);return n}const AE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=AE(e[n]))&&(r&&(r+=" "),r+=t);return r};function KI(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=II(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=BI(c,r);return s(c,d),d}return function(){return i(FI.apply(null,arguments))}}const Nt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EE=/^\[(?:([a-z-]+):)?(.+)\]$/i,zI=/^\d+\/\d+$/,VI=new Set(["px","full","screen"]),HI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=e=>hl(e)||VI.has(e)||zI.test(e),$s=e=>cc(e,"length",rL),hl=e=>!!e&&!Number.isNaN(Number(e)),rx=e=>cc(e,"number",hl),Dc=e=>!!e&&Number.isInteger(Number(e)),YI=e=>e.endsWith("%")&&hl(e.slice(0,-1)),We=e=>EE.test(e),Rs=e=>HI.test(e),JI=new Set(["length","size","percentage"]),XI=e=>cc(e,JI,CE),QI=e=>cc(e,"position",CE),ZI=new Set(["image","url"]),eL=e=>cc(e,ZI,aL),tL=e=>cc(e,"",nL),Mc=()=>!0,cc=(e,t,r)=>{const n=EE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},rL=e=>UI.test(e)&&!WI.test(e),CE=()=>!1,nL=e=>GI.test(e),aL=e=>qI.test(e),sL=()=>{const e=Nt("colors"),t=Nt("spacing"),r=Nt("blur"),n=Nt("brightness"),s=Nt("borderColor"),i=Nt("borderRadius"),o=Nt("borderSpacing"),l=Nt("borderWidth"),c=Nt("contrast"),u=Nt("grayscale"),d=Nt("hueRotate"),f=Nt("invert"),h=Nt("gap"),p=Nt("gradientColorStops"),g=Nt("gradientColorStopPositions"),m=Nt("inset"),b=Nt("margin"),v=Nt("opacity"),y=Nt("padding"),x=Nt("saturate"),j=Nt("scale"),w=Nt("sepia"),N=Nt("skew"),S=Nt("space"),P=Nt("translate"),A=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",We,t],E=()=>[We,t],_=()=>["",Oa,$s],U=()=>["auto",hl,We],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",We],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[hl,We];return{cacheSize:500,separator:":",theme:{colors:[Mc],spacing:[Oa,$s],blur:["none","",Rs,We],brightness:V(),borderColor:[e],borderRadius:["none","","full",Rs,We],borderSpacing:E(),borderWidth:_(),contrast:V(),grayscale:R(),hueRotate:V(),invert:R(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[YI,$s],inset:I(),margin:I(),opacity:V(),padding:E(),saturate:V(),scale:V(),sepia:R(),skew:V(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),We]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dc,We]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Dc,We]}],"grid-cols":[{"grid-cols":[Mc]}],"col-start-end":[{col:["auto",{span:["full",Dc,We]},We]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Mc]}],"row-start-end":[{row:["auto",{span:[Dc,We]},We]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,t]}],"min-w":[{"min-w":[We,t,"min","max","fit"]}],"max-w":[{"max-w":[We,t,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[We,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rx]}],"font-family":[{font:[Mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",hl,rx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,$s]}],"underline-offset":[{"underline-offset":["auto",Oa,We]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),QI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Oa,We]}],"outline-w":[{outline:[Oa,$s]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Oa,$s]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,tL]}],"shadow-color":[{shadow:[Mc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rs,We]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Dc,We]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oa,$s,rx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iL=KI(sL);function Oe(...e){return iL(Ue(e))}function Ve(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"}function _E(e){return e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function nn(e){if(e==null||e===""||e===0||e==="0")return"-";const t=String(e).trim();if(/^\d{1,2}:\d{2}(:\d{2})?$/.test(t)){const n=t.split(":"),s=n[0].padStart(2,"0"),i=n[1];return`${s}:${i}`}const r=parseFloat(t);if(!isNaN(r)&&r>=0&&(r<1||r>0&&t.includes("."))){const n=r%1,s=Math.round(n*24*60),i=Math.floor(s/60)%24,o=s%60;return`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}try{const n=new Date(t);if(!isNaN(n.getTime())){if(n.getFullYear()===1899)return"-";const s=n.getHours(),i=n.getMinutes();return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}catch{}return t||"-"}function X(e){return e==null?"0":e.toLocaleString("id-ID",{maximumFractionDigits:2})}function oe(e){if(e==null||e==="")return 0;if(typeof e=="number")return isNaN(e)?0:e;const r=String(e).trim().match(/^[\d.,\-]+/);if(!r)return 0;const n=r[0].replace(/\./g,"").replace(",","."),s=parseFloat(n);return isNaN(s)?0:s}function DE(e,t){if(!e||!t)return 0;const[r,n]=e.split(":").map(Number),[s,i]=t.split(":").map(Number);let o=r*60+n,l=s*60+i;return l<o&&(l+=24*60),Number(((l-o)/60).toFixed(2))}function Q0(e,t){return DE(e,t)}function oL(e=""){const t=Date.now(),r=Math.random().toString(36).substring(2,9);return`${e}${e?"_":""}${t}_${r}`}function Mt(){return new Date().toISOString().split("T")[0]}function gr(e){return["admin","supervisor","avp","user"].includes(e)}function ko(e){return["admin","avp","supervisor"].includes(e)}function wo(e){return["admin","avp","supervisor"].includes(e)}function Sr(e){return e==="user"}function Nr(e){return e==="user"}function ur(e){return["manager","eksternal"].includes(e)}function ME(e,t){return!!(e==="admin"&&t==="ALL"||e==="admin"||["avp","supervisor"].includes(e))}function $E(e,t){return e==="admin"&&t==="ALL"}function RE(e){return!["user","manager","eksternal"].includes(e)}const IE=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bm=k.createContext({}),km=k.createContext(null),wm=typeof document<"u",Gb=wm?k.useLayoutEffect:k.useEffect,LE=k.createContext({strict:!1}),qb=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),lL="framerAppearId",BE="data-"+qb(lL);function cL(e,t,r,n){const{visualElement:s}=k.useContext(bm),i=k.useContext(LE),o=k.useContext(km),l=k.useContext(IE).reducedMotion,c=k.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;k.useInsertionEffect(()=>{u&&u.update(r,o)});const d=k.useRef(!!(r[BE]&&!window.HandoffComplete));return Gb(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uL(e,t,r){return k.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Xo(r)&&(r.current=n))},[t])}function id(e){return typeof e=="string"||Array.isArray(e)}function jm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Yb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jb=["initial",...Yb];function Sm(e){return jm(e.animate)||Jb.some(t=>id(e[t]))}function FE(e){return!!(Sm(e)||e.variants)}function dL(e,t){if(Sm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||id(r)?r:void 0,animate:id(n)?n:void 0}}return e.inherit!==!1?t:{}}function fL(e){const{initial:t,animate:r}=dL(e,k.useContext(bm));return k.useMemo(()=>({initial:t,animate:r}),[m1(t),m1(r)])}function m1(e){return Array.isArray(e)?e.join(" "):e}const g1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},od={};for(const e in g1)od[e]={isEnabled:t=>g1[e].some(r=>!!t[r])};function hL(e){for(const t in e)od[t]={...od[t],...e[t]}}const Xb=k.createContext({}),KE=k.createContext({}),pL=Symbol.for("motionComponentSymbol");function mL({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&hL(e);function i(l,c){let u;const d={...k.useContext(IE),...l,layoutId:gL(l)},{isStatic:f}=d,h=fL(l),p=n(l,f);if(!f&&wm){h.visualElement=cL(s,p,d,t);const g=k.useContext(KE),m=k.useContext(LE).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,m,e,g))}return k.createElement(bm.Provider,{value:h},u&&h.visualElement?k.createElement(u,{visualElement:h.visualElement,...d}):null,r(s,l,uL(p,h.visualElement,c),p,f,h.visualElement))}const o=k.forwardRef(i);return o[pL]=s,o}function gL({layoutId:e}){const t=k.useContext(Xb).id;return t&&e!==void 0?t+"-"+e:e}function xL(e){function t(n,s={}){return mL(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const vL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qb(e){return typeof e!="string"||e.includes("-")?!1:!!(vL.indexOf(e)>-1||/[A-Z]/.test(e))}const Fh={};function yL(e){Object.assign(Fh,e)}const Xd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(Xd);function zE(e,{layout:t,layoutId:r}){return jo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Fh[e]||e==="opacity")}const cn=e=>!!(e&&e.getVelocity),bL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kL=Xd.length;function wL(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<kL;o++){const l=Xd[o];if(e[l]!==void 0){const c=bL[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const VE=e=>t=>typeof t=="string"&&t.startsWith(e),HE=VE("--"),Z0=VE("var(--"),jL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,SL=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hi=(e,t,r)=>Math.min(Math.max(r,e),t),So={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ou={...So,transform:e=>hi(0,1,e)},Cf={...So,default:1},Au=e=>Math.round(e*1e5)/1e5,Nm=/(-)?([\d]*\.?[\d])+/g,UE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,NL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Qd(e){return typeof e=="string"}const Zd=e=>({test:t=>Qd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bs=Zd("deg"),xa=Zd("%"),Be=Zd("px"),PL=Zd("vh"),TL=Zd("vw"),x1={...xa,parse:e=>xa.parse(e)/100,transform:e=>xa.transform(e*100)},v1={...So,transform:Math.round},WE={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,size:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:Cf,scaleX:Cf,scaleY:Cf,scaleZ:Cf,skew:Bs,skewX:Bs,skewY:Bs,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Ou,originX:x1,originY:x1,originZ:Be,zIndex:v1,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:v1};function Zb(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(HE(f)){i[f]=h;continue}const p=WE[f],g=SL(h,p);if(jo.has(f)){if(c=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):s[f]=g}if(t.transform||(c||n?s.transform=wL(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const ek=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GE(e,t,r){for(const n in t)!cn(t[n])&&!zE(n,r)&&(e[n]=t[n])}function OL({transformTemplate:e},t,r){return k.useMemo(()=>{const n=ek();return Zb(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function AL(e,t,r){const n=e.style||{},s={};return GE(s,n,e),Object.assign(s,OL(e,t,r)),e.transformValues?e.transformValues(s):s}function EL(e,t,r){const n={},s=AL(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const CL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CL.has(e)}let qE=e=>!Kh(e);function _L(e){e&&(qE=t=>t.startsWith("on")?!Kh(t):e(t))}try{_L(require("@emotion/is-prop-valid").default)}catch{}function DL(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(qE(s)||r===!0&&Kh(s)||!t&&!Kh(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function y1(e,t,r){return typeof e=="string"?e:Be.transform(t+r*e)}function ML(e,t,r){const n=y1(t,e.x,e.width),s=y1(r,e.y,e.height);return`${n} ${s}`}const $L={offset:"stroke-dashoffset",array:"stroke-dasharray"},RL={offset:"strokeDashoffset",array:"strokeDasharray"};function IL(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?$L:RL;e[i.offset]=Be.transform(-n);const o=Be.transform(t),l=Be.transform(r);e[i.array]=`${o} ${l}`}function tk(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(Zb(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=ML(m,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&IL(p,o,l,c,!1)}const YE=()=>({...ek(),attrs:{}}),rk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LL(e,t,r,n){const s=k.useMemo(()=>{const i=YE();return tk(i,t,{enableHardwareAcceleration:!1},rk(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};GE(i,e.style,e),s.style={...i,...s.style}}return s}function BL(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(Qb(r)?LL:EL)(n,i,o,r),d={...DL(n,typeof r=="string",e),...c,ref:s},{children:f}=n,h=k.useMemo(()=>cn(f)?f.get():f,[f]);return k.createElement(r,{...d,children:h})}}function JE(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const XE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QE(e,t,r,n){JE(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(XE.has(s)?s:qb(s),t.attrs[s])}function nk(e,t){const{style:r}=e,n={};for(const s in r)(cn(r[s])||t.style&&cn(t.style[s])||zE(s,e))&&(n[s]=r[s]);return n}function ZE(e,t){const r=nk(e,t);for(const n in e)if(cn(e[n])||cn(t[n])){const s=Xd.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function ak(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function eC(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const zh=e=>Array.isArray(e),FL=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),KL=e=>zh(e)?e[e.length-1]||0:e;function uh(e){const t=cn(e)?e.get():e;return FL(t)?t.toValue():t}function zL({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:VL(n,s,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const tC=e=>(t,r)=>{const n=k.useContext(bm),s=k.useContext(km),i=()=>zL(e,t,n,s);return r?i():eC(i)};function VL(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=uh(i[h]);let{initial:o,animate:l}=e;const c=Sm(e),u=FE(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!jm(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=ak(e,p);if(!g)return;const{transitionEnd:m,transition:b,...v}=g;for(const y in v){let x=v[y];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[y]=x)}for(const y in m)s[y]=m[y]}),s}const Ut=e=>e;class b1{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function HL(e){let t=new b1,r=new b1,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const _f=["prepare","read","update","preRender","render","postRender"],UL=40;function WL(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=_f.reduce((f,h)=>(f[h]=HL(()=>r=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(f-s.timestamp,UL),1),s.timestamp=f,s.isProcessing=!0,_f.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:_f.reduce((f,h)=>{const p=i[h];return f[h]=(g,m=!1,b=!1)=>(r||c(),p.schedule(g,m,b)),f},{}),cancel:f=>_f.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:kt,cancel:Ja,state:Cr,steps:nx}=WL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),GL={useVisualState:tC({scrapeMotionValuesFromProps:ZE,createRenderState:YE,onMount:(e,t,{renderState:r,latestValues:n})=>{kt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),kt.render(()=>{tk(r,n,{enableHardwareAcceleration:!1},rk(t.tagName),e.transformTemplate),QE(t,r)})}})},qL={useVisualState:tC({scrapeMotionValuesFromProps:nk,createRenderState:ek})};function YL(e,{forwardMotionProps:t=!1},r,n){return{...Qb(e)?GL:qL,preloadedFeatures:r,useRender:BL(t),createVisualElement:n,Component:e}}function Ra(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const rC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Pm(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const JL=e=>t=>rC(t)&&e(t,Pm(t));function Ka(e,t,r,n){return Ra(e,t,JL(r),n)}const XL=(e,t)=>r=>t(e(r)),ii=(...e)=>e.reduce(XL);function nC(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const k1=nC("dragHorizontal"),w1=nC("dragVertical");function aC(e){let t=!1;if(e==="y")t=w1();else if(e==="x")t=k1();else{const r=k1(),n=w1();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function sC(){const e=aC(!0);return e?(e(),!1):!0}class bi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function j1(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||sC())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&kt.update(()=>l[n](i,o))};return Ka(e.current,r,s,{passive:!e.getProps()[n]})}class QL extends bi{mount(){this.unmount=ii(j1(this.node,!0),j1(this.node,!1))}unmount(){}}class ZL extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ii(Ra(this.node.current,"focus",()=>this.onFocus()),Ra(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const iC=(e,t)=>t?e===t?!0:iC(e,t.parentElement):!1;function ax(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Pm(r))}class e6 extends bi{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Ka(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();kt.update(()=>{!f&&!iC(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ka(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ii(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ax("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&kt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ra(this.node.current,"keyup",o),ax("down",(l,c)=>{this.startPress(l,c)})},r=Ra(this.node.current,"keydown",t),n=()=>{this.isPressing&&ax("cancel",(i,o)=>this.cancelPress(i,o))},s=Ra(this.node.current,"blur",n);this.removeAccessibleListeners=ii(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&kt.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!sC()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&kt.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Ka(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ra(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ii(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ev=new WeakMap,sx=new WeakMap,t6=e=>{const t=ev.get(e.target);t&&t(e)},r6=e=>{e.forEach(t6)};function n6({root:e,...t}){const r=e||document;sx.has(r)||sx.set(r,{});const n=sx.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(r6,{root:e,...t})),n[s]}function a6(e,t,r){const n=n6(t);return ev.set(e,r),n.observe(e),()=>{ev.delete(e),n.unobserve(e)}}const s6={some:0,all:1};class i6 extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:s6[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return a6(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(o6(t,r))&&this.startObserver()}unmount(){}}function o6({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const l6={inView:{Feature:i6},tap:{Feature:e6},focus:{Feature:ZL},hover:{Feature:QL}};function oC(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function c6(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function u6(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Tm(e,t,r){const n=e.getProps();return ak(n,t,r!==void 0?r:n.custom,c6(e),u6(e))}let sk=Ut;const to=e=>e*1e3,za=e=>e/1e3,d6={current:!1},lC=e=>Array.isArray(e)&&typeof e[0]=="number";function cC(e){return!!(!e||typeof e=="string"&&uC[e]||lC(e)||Array.isArray(e)&&e.every(cC))}const pu=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,uC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function dC(e){if(e)return lC(e)?pu(e):Array.isArray(e)?e.map(dC):uC[e]}function f6(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=dC(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function h6(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const fC=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,p6=1e-7,m6=12;function g6(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=fC(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>p6&&++l<m6);return o}function ef(e,t,r,n){if(e===t&&r===n)return Ut;const s=i=>g6(i,0,1,e,r);return i=>i===0||i===1?i:fC(s(i),t,n)}const x6=ef(.42,0,1,1),v6=ef(0,0,.58,1),hC=ef(.42,0,.58,1),y6=e=>Array.isArray(e)&&typeof e[0]!="number",pC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mC=e=>t=>1-e(1-t),ik=e=>1-Math.sin(Math.acos(e)),gC=mC(ik),b6=pC(ik),xC=ef(.33,1.53,.69,.99),ok=mC(xC),k6=pC(ok),w6=e=>(e*=2)<1?.5*ok(e):.5*(2-Math.pow(2,-10*(e-1))),j6={linear:Ut,easeIn:x6,easeInOut:hC,easeOut:v6,circIn:ik,circInOut:b6,circOut:gC,backIn:ok,backInOut:k6,backOut:xC,anticipate:w6},S1=e=>{if(Array.isArray(e)){sk(e.length===4);const[t,r,n,s]=e;return ef(t,r,n,s)}else if(typeof e=="string")return j6[e];return e},lk=(e,t)=>r=>!!(Qd(r)&&NL.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),vC=(e,t,r)=>n=>{if(!Qd(n))return n;const[s,i,o,l]=n.match(Nm);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},S6=e=>hi(0,255,e),ix={...So,transform:e=>Math.round(S6(e))},Gi={test:lk("rgb","red"),parse:vC("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+ix.transform(e)+", "+ix.transform(t)+", "+ix.transform(r)+", "+Au(Ou.transform(n))+")"};function N6(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const tv={test:lk("#"),parse:N6,transform:Gi.transform},Qo={test:lk("hsl","hue"),parse:vC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+xa.transform(Au(t))+", "+xa.transform(Au(r))+", "+Au(Ou.transform(n))+")"},Wr={test:e=>Gi.test(e)||tv.test(e)||Qo.test(e),parse:e=>Gi.test(e)?Gi.parse(e):Qo.test(e)?Qo.parse(e):tv.parse(e),transform:e=>Qd(e)?e:e.hasOwnProperty("red")?Gi.transform(e):Qo.transform(e)},Rt=(e,t,r)=>-r*e+r*t+e;function ox(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function P6({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=ox(c,l,e+1/3),i=ox(c,l,e),o=ox(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const lx=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},T6=[tv,Gi,Qo],O6=e=>T6.find(t=>t.test(e));function N1(e){const t=O6(e);let r=t.parse(e);return t===Qo&&(r=P6(r)),r}const yC=(e,t)=>{const r=N1(e),n=N1(t),s={...r};return i=>(s.red=lx(r.red,n.red,i),s.green=lx(r.green,n.green,i),s.blue=lx(r.blue,n.blue,i),s.alpha=Rt(r.alpha,n.alpha,i),Gi.transform(s))};function A6(e){var t,r;return isNaN(e)&&Qd(e)&&(((t=e.match(Nm))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(UE))===null||r===void 0?void 0:r.length)||0)>0}const bC={regex:jL,countKey:"Vars",token:"${v}",parse:Ut},kC={regex:UE,countKey:"Colors",token:"${c}",parse:Wr.parse},wC={regex:Nm,countKey:"Numbers",token:"${n}",parse:So.parse};function cx(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function Vh(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&cx(r,bC),cx(r,kC),cx(r,wC),r}function jC(e){return Vh(e).values}function SC(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Vh(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<n?l=l.replace(bC.token,o[c]):c<n+r?l=l.replace(kC.token,Wr.transform(o[c])):l=l.replace(wC.token,Au(o[c]));return l}}const E6=e=>typeof e=="number"?0:e;function C6(e){const t=jC(e);return SC(e)(t.map(E6))}const pi={test:A6,parse:jC,createTransformer:SC,getAnimatableNone:C6},NC=(e,t)=>r=>`${r>0?t:e}`;function PC(e,t){return typeof e=="number"?r=>Rt(e,t,r):Wr.test(e)?yC(e,t):e.startsWith("var(")?NC(e,t):OC(e,t)}const TC=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>PC(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},_6=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=PC(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},OC=(e,t)=>{const r=pi.createTransformer(t),n=Vh(e),s=Vh(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?ii(TC(n.values,s.values),r):NC(e,t)},ld=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},P1=(e,t)=>r=>Rt(e,t,r);function D6(e){return typeof e=="number"?P1:typeof e=="string"?Wr.test(e)?yC:OC:Array.isArray(e)?TC:typeof e=="object"?_6:P1}function M6(e,t,r){const n=[],s=r||D6(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ut:t;l=ii(c,l)}n.push(l)}return n}function AC(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(sk(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=M6(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ld(e[d],e[d+1],u);return o[d](f)};return r?u=>c(hi(e[0],e[i-1],u)):c}function $6(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ld(0,t,n);e.push(Rt(r,1,s))}}function R6(e){const t=[0];return $6(t,e.length-1),t}function I6(e,t){return e.map(r=>r*t)}function L6(e,t){return e.map(()=>t||hC).splice(0,e.length-1)}function Hh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=y6(n)?n.map(S1):S1(n),i={done:!1,value:t[0]},o=I6(r&&r.length===t.length?r:R6(t),e),l=AC(o,t,{ease:Array.isArray(s)?s:L6(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function EC(e,t){return t?e*(1e3/t):0}const B6=5;function CC(e,t,r){const n=Math.max(t-B6,0);return EC(r-e(n),t-n)}const ux=.001,F6=.01,K6=10,z6=.05,V6=1;function H6({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=hi(z6,V6,o),e=hi(F6,K6,za(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,p=rv(u,o),g=Math.exp(-f);return ux-h/p*g},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=rv(Math.pow(u,2),o);return(-s(u)+ux>0?-1:1)*((h-p)*g)/m}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-ux+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=W6(s,i,l);if(e=to(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const U6=12;function W6(e,t,r){let n=r;for(let s=1;s<U6;s++)n=n-e(n)/t(n);return n}function rv(e,t){return e*Math.sqrt(1-t*t)}const G6=["duration","bounce"],q6=["stiffness","damping","mass"];function T1(e,t){return t.some(r=>e[r]!==void 0)}function Y6(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!T1(e,q6)&&T1(e,G6)){const r=H6(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function _C({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Y6({...n,velocity:-za(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),m=i-s,b=za(Math.sqrt(l/u)),v=Math.abs(m)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let y;if(g<1){const x=rv(b,g);y=j=>{const w=Math.exp(-g*b*j);return i-w*((p+g*b*m)/x*Math.sin(x*j)+m*Math.cos(x*j))}}else if(g===1)y=x=>i-Math.exp(-b*x)*(m+(p+b*m)*x);else{const x=b*Math.sqrt(g*g-1);y=j=>{const w=Math.exp(-g*b*j),N=Math.min(x*j,300);return i-w*((p+g*b*m)*Math.sinh(N)+x*m*Math.cosh(N))/x}}return{calculatedDuration:h&&d||null,next:x=>{const j=y(x);if(h)o.done=x>=d;else{let w=p;x!==0&&(g<1?w=CC(y,x,j):w=0);const N=Math.abs(w)<=r,S=Math.abs(i-j)<=t;o.done=N&&S}return o.value=o.done?i:j,o}}}function O1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let m=r*t;const b=f+m,v=o===void 0?b:o(b);v!==b&&(m=v-f);const y=P=>-m*Math.exp(-P/n),x=P=>v+y(P),j=P=>{const A=y(P),$=x(P);h.done=Math.abs(A)<=u,h.value=h.done?v:$};let w,N;const S=P=>{p(h.value)&&(w=P,N=_C({keyframes:[h.value,g(h.value)],velocity:CC(x,P,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:P=>{let A=!1;return!N&&w===void 0&&(A=!0,j(P),S(P)),w!==void 0&&P>w?N.next(P-w):(!A&&j(P),h)}}}const J6=e=>{const t=({timestamp:r})=>e(r);return{start:()=>kt.update(t,!0),stop:()=>Ja(t),now:()=>Cr.isProcessing?Cr.timestamp:performance.now()}},A1=2e4;function E1(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<A1;)t+=r,n=e.next(t);return t>=A1?1/0:t}const X6={decay:O1,inertia:O1,tween:Hh,keyframes:Hh,spring:_C};function Uh({autoplay:e=!0,delay:t=0,driver:r=J6,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,m,b;const v=()=>{b=new Promise(V=>{m=V})};v();let y;const x=X6[s]||Hh;let j;x!==Hh&&typeof n[0]!="number"&&(j=AC([0,100],n,{clamp:!1}),n=[0,100]);const w=x({...h,keyframes:n});let N;l==="mirror"&&(N=x({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",P=null,A=null,$=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=E1(w));const{calculatedDuration:I}=w;let E=1/0,_=1/0;I!==null&&(E=I+o,_=E*(i+1)-o);let U=0;const K=V=>{if(A===null)return;p>0&&(A=Math.min(A,V)),p<0&&(A=Math.min(V-_/p,A)),P!==null?U=P:U=Math.round(V-A)*p;const Z=U-t*(p>=0?1:-1),B=p>=0?Z<0:Z>_;U=Math.max(Z,0),S==="finished"&&P===null&&(U=_);let Q=U,le=w;if(i){const ue=Math.min(U,_)/E;let ve=Math.floor(ue),ae=ue%1;!ae&&ue>=1&&(ae=1),ae===1&&ve--,ve=Math.min(ve,i+1),!!(ve%2)&&(l==="reverse"?(ae=1-ae,o&&(ae-=o/E)):l==="mirror"&&(le=N)),Q=hi(0,1,ae)*E}const ce=B?{done:!1,value:n[0]}:le.next(Q);j&&(ce.value=j(ce.value));let{done:pe}=ce;!B&&I!==null&&(pe=p>=0?U>=_:U<=0);const ye=P===null&&(S==="finished"||S==="running"&&pe);return f&&f(ce.value),ye&&D(),ce},Y=()=>{y&&y.stop(),y=void 0},ne=()=>{S="idle",Y(),m(),v(),A=$=null},D=()=>{S="finished",d&&d(),Y(),m()},R=()=>{if(g)return;y||(y=r(K));const V=y.now();c&&c(),P!==null?A=V-P:(!A||S==="finished")&&(A=V),S==="finished"&&v(),$=A,P=null,S="running",y.start()};e&&R();const z={then(V,Z){return b.then(V,Z)},get time(){return za(U)},set time(V){V=to(V),U=V,P!==null||!y||p===0?P=V:A=y.now()-V/p},get duration(){const V=w.calculatedDuration===null?E1(w):w.calculatedDuration;return za(V)},get speed(){return p},set speed(V){V===p||!y||(p=V,z.time=za(U))},get state(){return S},play:R,pause:()=>{S="paused",P=U},stop:()=>{g=!0,S!=="idle"&&(S="idle",u&&u(),ne())},cancel:()=>{$!==null&&K($),ne()},complete:()=>{S="finished"},sample:V=>(A=0,K(V))};return z}function Q6(e){let t;return()=>(t===void 0&&(t=e()),t)}const Z6=Q6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),eB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Df=10,tB=2e4,rB=(e,t)=>t.type==="spring"||e==="backgroundColor"||!cC(t.ease);function nB(e,t,{onUpdate:r,onComplete:n,...s}){if(!(Z6()&&eB.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:f,duration:h=300,ease:p,times:g}=s;if(rB(t,s)){const x=Uh({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const w=[];let N=0;for(;!j.done&&N<tB;)j=x.sample(N),w.push(j.value),N+=Df;g=void 0,f=w,h=N-Df,p="linear"}const m=f6(e.owner.current,t,f,{...s,duration:h,ease:p,times:g}),b=()=>{u=!1,m.cancel()},v=()=>{u=!0,kt.update(b),l(),d()};return m.onfinish=()=>{u||(e.set(h6(f,s)),n&&n(),v())},{then(x,j){return c.then(x,j)},attachTimeline(x){return m.timeline=x,m.onfinish=null,Ut},get time(){return za(m.currentTime||0)},set time(x){m.currentTime=to(x)},get speed(){return m.playbackRate},set speed(x){m.playbackRate=x},get duration(){return za(h)},play:()=>{o||(m.play(),Ja(b))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:x}=m;if(x){const j=Uh({...s,autoplay:!1});e.setWithVelocity(j.sample(x-Df).value,j.sample(x).value,Df)}v()},complete:()=>{u||m.finish()},cancel:v}}function aB({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ut,pause:Ut,stop:Ut,then:i=>(i(),Promise.resolve()),cancel:Ut,complete:Ut});return t?Uh({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const sB={type:"spring",stiffness:500,damping:25,restSpeed:10},iB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oB={type:"keyframes",duration:.8},lB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cB=(e,{keyframes:t})=>t.length>2?oB:jo.has(e)?e.startsWith("scale")?iB(t[1]):sB:lB,nv=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pi.test(t)||t==="0")&&!t.startsWith("url(")),uB=new Set(["brightness","contrast","saturate","opacity"]);function dB(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Nm)||[];if(!n)return e;const s=r.replace(n,"");let i=uB.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const fB=/([a-z-]*)\(.*?\)/g,av={...pi,getAnimatableNone:e=>{const t=e.match(fB);return t?t.map(dB).join(" "):e}},hB={...WE,color:Wr,backgroundColor:Wr,outlineColor:Wr,fill:Wr,stroke:Wr,borderColor:Wr,borderTopColor:Wr,borderRightColor:Wr,borderBottomColor:Wr,borderLeftColor:Wr,filter:av,WebkitFilter:av},ck=e=>hB[e];function DC(e,t){let r=ck(e);return r!==av&&(r=pi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const MC=e=>/^0[^.\s]+$/.test(e);function pB(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||MC(e)}function mB(e,t,r,n){const s=nv(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),pB(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=DC(t,l)}return i}function gB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function uk(e,t){return e[t]||e.default||e}const xB={skipAnimations:!1},dk=(e,t,r,n={})=>s=>{const i=uk(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-to(o);const c=mB(t,e,r,i),u=c[0],d=c[c.length-1],f=nv(e,u),h=nv(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(gB(i)||(p={...p,...cB(e,p)}),p.duration&&(p.duration=to(p.duration)),p.repeatDelay&&(p.repeatDelay=to(p.repeatDelay)),!f||!h||d6.current||i.type===!1||xB.skipAnimations)return aB(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=nB(t,e,p);if(g)return g}return Uh(p)};function Wh(e){return!!(cn(e)&&e.add)}const $C=e=>/^\-?\d*\.?\d+$/.test(e);function fk(e,t){e.indexOf(t)===-1&&e.push(t)}function hk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class pk{constructor(){this.subscriptions=[]}add(t){return fk(this.subscriptions,t),()=>hk(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vB=e=>!isNaN(parseFloat(e));class yB{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Cr;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,kt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>kt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=vB(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new pk);const n=this.events[t].add(r);return t==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?EC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(e,t){return new yB(e,t)}const RC=e=>t=>t.test(e),bB={test:e=>e==="auto",parse:e=>e},IC=[So,Be,xa,Bs,TL,PL,bB],$c=e=>IC.find(RC(e)),kB=[...IC,Wr,pi],wB=e=>kB.find(RC(e));function jB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Tl(r))}function SB(e,t){const r=Tm(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=KL(i[o]);jB(e,o,l)}}function NB(e,t,r){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&($C(d)||MC(d))?d=parseFloat(d):!wB(d)&&pi.test(u)&&(d=DC(c,u)),e.addValue(c,Tl(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function PB(e,t){return t?(t[e]||t.default||t).from:void 0}function TB(e,t,r){const n={};for(const s in e){const i=PB(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function OB({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function AB(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function LC(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),p=l[f];if(!h||p===void 0||d&&OB(d,f))continue;const g={delay:r,elapsed:0,...uk(i||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[BE];if(v){const y=window.HandoffAppearAnimations(v,f,h,kt);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let m=!g.isHandoff&&!AB(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(dk(f,h,p,e.shouldReduceMotion&&jo.has(f)?{type:!1}:g));const b=h.animation;Wh(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&SB(e,o)}),u}function sv(e,t,r={}){const n=Tm(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(LC(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return EB(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function EB(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(CB).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(sv(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function CB(e,t){return e.sortNodePosition(t)}function _B(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>sv(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=sv(e,t,r);else{const s=typeof t=="function"?Tm(e,t,r.custom):t;n=Promise.all(LC(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const DB=[...Yb].reverse(),MB=Yb.length;function $B(e){return t=>Promise.all(t.map(({animation:r,options:n})=>_B(e,r,n)))}function RB(e){let t=$B(e);const r=LB();let n=!0;const s=(c,u)=>{const d=Tm(e,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let v=0;v<MB;v++){const y=DB[v],x=r[y],j=d[y]!==void 0?d[y]:f[y],w=id(j),N=y===u?x.isActive:null;N===!1&&(m=v);let S=j===f[y]&&j!==d[y]&&w;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...g},!x.isActive&&N===null||!j&&!x.prevProp||jm(j)||typeof j=="boolean")continue;let A=IB(x.prevProp,j)||y===u&&x.isActive&&!S&&w||v>m&&w,$=!1;const I=Array.isArray(j)?j:[j];let E=I.reduce(s,{});N===!1&&(E={});const{prevResolvedValues:_={}}=x,U={..._,...E},K=Y=>{A=!0,p.has(Y)&&($=!0,p.delete(Y)),x.needsAnimating[Y]=!0};for(const Y in U){const ne=E[Y],D=_[Y];if(g.hasOwnProperty(Y))continue;let R=!1;zh(ne)&&zh(D)?R=!oC(ne,D):R=ne!==D,R?ne!==void 0?K(Y):p.add(Y):ne!==void 0&&p.has(Y)?K(Y):x.protectedKeys[Y]=!0}x.prevProp=j,x.prevResolvedValues=E,x.isActive&&(g={...g,...E}),n&&e.blockInitialAnimation&&(A=!1),A&&(!S||$)&&h.push(...I.map(Y=>({animation:Y,options:{type:y,...c}})))}if(p.size){const v={};p.forEach(y=>{const x=e.getBaseTarget(y);x!==void 0&&(v[y]=x)}),h.push({animation:v})}let b=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function IB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oC(t,e):!1}function Oi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LB(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class BB extends bi{constructor(t){super(t),t.animationState||(t.animationState=RB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),jm(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let FB=0;class KB extends bi{constructor(){super(...arguments),this.id=FB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const zB={animation:{Feature:BB},exit:{Feature:KB}},C1=(e,t)=>Math.abs(e-t);function VB(e,t){const r=C1(e.x,t.x),n=C1(e.y,t.y);return Math.sqrt(r**2+n**2)}class BC{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=fx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=VB(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=Cr;this.history.push({...g,timestamp:m});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=dx(h,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=fx(f.type==="pointercancel"?this.lastMoveEventInfo:dx(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),g&&g(f,b)},!rC(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Pm(t),l=dx(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Cr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,fx(l,this.history)),this.removeListeners=ii(Ka(this.contextWindow,"pointermove",this.handlePointerMove),Ka(this.contextWindow,"pointerup",this.handlePointerUp),Ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ja(this.updatePoint)}}function dx(e,t){return t?{point:t(e.point)}:e}function _1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fx({point:e},t){return{point:e,delta:_1(e,FC(t)),offset:_1(e,HB(t)),velocity:UB(t,.1)}}function HB(e){return e[0]}function FC(e){return e[e.length-1]}function UB(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=FC(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>to(t)));)r--;if(!n)return{x:0,y:0};const i=za(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jn(e){return e.max-e.min}function iv(e,t=0,r=.01){return Math.abs(e-t)<=r}function D1(e,t,r,n=.5){e.origin=n,e.originPoint=Rt(t.min,t.max,e.origin),e.scale=jn(r)/jn(t),(iv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Rt(r.min,r.max,e.origin)-e.originPoint,(iv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Eu(e,t,r,n){D1(e.x,t.x,r.x,n?n.originX:void 0),D1(e.y,t.y,r.y,n?n.originY:void 0)}function M1(e,t,r){e.min=r.min+t.min,e.max=e.min+jn(t)}function WB(e,t,r){M1(e.x,t.x,r.x),M1(e.y,t.y,r.y)}function $1(e,t,r){e.min=t.min-r.min,e.max=e.min+jn(t)}function Cu(e,t,r){$1(e.x,t.x,r.x),$1(e.y,t.y,r.y)}function GB(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Rt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Rt(r,e,n.max):Math.min(e,r)),e}function R1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function qB(e,{top:t,left:r,bottom:n,right:s}){return{x:R1(e.x,r,s),y:R1(e.y,t,n)}}function I1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function YB(e,t){return{x:I1(e.x,t.x),y:I1(e.y,t.y)}}function JB(e,t){let r=.5;const n=jn(e),s=jn(t);return s>n?r=ld(t.min,t.max-n,e.min):n>s&&(r=ld(e.min,e.max-s,t.min)),hi(0,1,r)}function XB(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ov=.35;function QB(e=ov){return e===!1?e=0:e===!0&&(e=ov),{x:L1(e,"left","right"),y:L1(e,"top","bottom")}}function L1(e,t,r){return{min:B1(e,t),max:B1(e,r)}}function B1(e,t){return typeof e=="number"?e:e[t]||0}const F1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:F1(),y:F1()}),K1=()=>({min:0,max:0}),Yt=()=>({x:K1(),y:K1()});function Cn(e){return[e("x"),e("y")]}function KC({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ZB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eF(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function hx(e){return e===void 0||e===1}function lv({scale:e,scaleX:t,scaleY:r}){return!hx(e)||!hx(t)||!hx(r)}function Mi(e){return lv(e)||zC(e)||e.z||e.rotate||e.rotateX||e.rotateY}function zC(e){return z1(e.x)||z1(e.y)}function z1(e){return e&&e!=="0%"}function Gh(e,t,r){const n=e-r,s=t*n;return r+s}function V1(e,t,r,n,s){return s!==void 0&&(e=Gh(e,s,n)),Gh(e,r,n)+t}function cv(e,t=0,r=1,n,s){e.min=V1(e.min,t,r,n,s),e.max=V1(e.max,t,r,n,s)}function VC(e,{x:t,y:r}){cv(e.x,t.translate,t.scale,t.originPoint),cv(e.y,r.translate,r.scale,r.originPoint)}function tF(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&el(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,VC(e,o)),n&&Mi(i.latestValues)&&el(e,i.latestValues))}t.x=H1(t.x),t.y=H1(t.y)}function H1(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zs(e,t){e.min=e.min+t,e.max=e.max+t}function U1(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=Rt(e.min,e.max,i);cv(e,t[r],t[n],o,t.scale)}const rF=["x","scaleX","originX"],nF=["y","scaleY","originY"];function el(e,t){U1(e.x,t,rF),U1(e.y,t,nF)}function HC(e,t){return KC(eF(e.getBoundingClientRect(),t))}function aF(e,t,r){const n=HC(e,r),{scroll:s}=t;return s&&(zs(n.x,s.offset.x),zs(n.y,s.offset.y)),n}const UC=({current:e})=>e?e.ownerDocument.defaultView:null,sF=new WeakMap;class iF{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Pm(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aC(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(xa.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[b];x&&(v=jn(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),g&&kt.update(()=>g(d,f),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=oF(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Cn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new BC(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:UC(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&kt.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Mf(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=GB(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Xo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=qB(s.layoutBox,r):this.constraints=!1,this.elastic=QB(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=XB(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Xo(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=aF(n,s.root,this.visualElement.getTransformPagePoint());let o=YB(s.layout.layoutBox,i);if(r){const l=r(ZB(o));this.hasMutatedConstraints=!!l,l&&(o=KC(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Cn(d=>{if(!Mf(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(dk(t,n,0,r))}stopAnimation(){Cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Cn(r=>{const{drag:n}=this.getProps();if(!Mf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-Rt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Xo(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Cn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=JB({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Cn(o=>{if(!Mf(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Rt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;sF.set(this.visualElement,this);const t=this.visualElement.current,r=Ka(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Xo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Ra(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Cn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ov,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Mf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function oF(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class lF extends bi{constructor(t){super(t),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new iF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const W1=e=>(t,r)=>{e&&kt.update(()=>e(t,r))};class cF extends bi{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(t){this.session=new BC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:W1(t),onStart:W1(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&kt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ka(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uF(){const e=k.useContext(km);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=k.useId();return k.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const dh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Be.test(e))e=parseFloat(e);else return e;const r=G1(e,t.target.x),n=G1(e,t.target.y);return`${r}% ${n}%`}},dF={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=pi.parse(e);if(s.length>5)return n;const i=pi.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Rt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class fF extends ee.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;yL(hF),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||kt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WC(e){const[t,r]=uF(),n=k.useContext(Xb);return ee.createElement(fF,{...e,layoutGroup:n,switchLayoutGroup:k.useContext(KE),isPresent:t,safeToRemove:r})}const hF={borderRadius:{...Rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rc,borderTopRightRadius:Rc,borderBottomLeftRadius:Rc,borderBottomRightRadius:Rc,boxShadow:dF},GC=["TopLeft","TopRight","BottomLeft","BottomRight"],pF=GC.length,q1=e=>typeof e=="string"?parseFloat(e):e,Y1=e=>typeof e=="number"||Be.test(e);function mF(e,t,r,n,s,i){s?(e.opacity=Rt(0,r.opacity!==void 0?r.opacity:1,gF(n)),e.opacityExit=Rt(t.opacity!==void 0?t.opacity:1,0,xF(n))):i&&(e.opacity=Rt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<pF;o++){const l=`border${GC[o]}Radius`;let c=J1(t,l),u=J1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Y1(c)===Y1(u)?(e[l]=Math.max(Rt(q1(c),q1(u),n),0),(xa.test(u)||xa.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Rt(t.rotate||0,r.rotate||0,n))}function J1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gF=qC(0,.5,gC),xF=qC(.5,.95,Ut);function qC(e,t,r){return n=>n<e?0:n>t?1:r(ld(e,t,n))}function X1(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){X1(e.x,t.x),X1(e.y,t.y)}function Q1(e,t,r,n,s){return e-=t,e=Gh(e,1/r,n),s!==void 0&&(e=Gh(e,1/s,n)),e}function vF(e,t=0,r=1,n=.5,s,i=e,o=e){if(xa.test(t)&&(t=parseFloat(t),t=Rt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Rt(i.min,i.max,n);e===i&&(l-=t),e.min=Q1(e.min,t,r,l,s),e.max=Q1(e.max,t,r,l,s)}function Z1(e,t,[r,n,s],i,o){vF(e,t[r],t[n],t[s],t.scale,i,o)}const yF=["x","scaleX","originX"],bF=["y","scaleY","originY"];function eS(e,t,r,n){Z1(e.x,t,yF,r?r.x:void 0,n?n.x:void 0),Z1(e.y,t,bF,r?r.y:void 0,n?n.y:void 0)}function tS(e){return e.translate===0&&e.scale===1}function YC(e){return tS(e.x)&&tS(e.y)}function kF(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function JC(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function rS(e){return jn(e.x)/jn(e.y)}class wF{constructor(){this.members=[]}add(t){fk(this.members,t),t.scheduleRender()}remove(t){if(hk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nS(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const jF=(e,t)=>e.depth-t.depth;class SF{constructor(){this.children=[],this.isDirty=!1}add(t){fk(this.children,t),this.isDirty=!0}remove(t){hk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jF),this.isDirty=!1,this.children.forEach(t)}}function NF(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Ja(n),e(i-t))};return kt.read(n,!0),()=>Ja(n)}function PF(e){window.MotionDebug&&window.MotionDebug.record(e)}function TF(e){return e instanceof SVGElement&&e.tagName!=="svg"}function OF(e,t,r){const n=cn(e)?e:Tl(e);return n.start(dk("",n,t,r)),n.animation}const aS=["","X","Y","Z"],AF={visibility:"hidden"},sS=1e3;let EF=0;const $i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function XC({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=EF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$i.totalNodes=$i.resolvedTargetDeltas=$i.recalculatedProjection=0,this.nodes.forEach(DF),this.nodes.forEach(LF),this.nodes.forEach(BF),this.nodes.forEach(MF),PF($i)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new SF)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TF(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=NF(h,250),dh.hasAnimatedSinceResize&&(dh.hasAnimatedSinceResize=!1,this.nodes.forEach(oS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||HF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!JC(this.targetLayout,g)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const j={...uk(m,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||oS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iS);return}this.isUpdating||this.nodes.forEach(RF),this.isUpdating=!1,this.nodes.forEach(IF),this.nodes.forEach(CF),this.nodes.forEach(_F),this.clearAllSnapshots();const l=performance.now();Cr.delta=hi(0,1e3/60,l-Cr.timestamp),Cr.timestamp=l,Cr.isProcessing=!0,nx.update.process(Cr),nx.preRender.process(Cr),nx.render.process(Cr),Cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($F),this.sharedNodes.forEach(KF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!YC(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Mi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),UF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Yt();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(zs(l.x,c.offset.x),zs(l.y,c.offset.y)),l}removeElementScroll(o){const l=Yt();Tn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Tn(l,o);const{scroll:h}=this.root;h&&(zs(l.x,-h.offset.x),zs(l.y,-h.offset.y))}zs(l.x,d.offset.x),zs(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Yt();Tn(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&el(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mi(d.latestValues)&&el(c,d.latestValues)}return Mi(this.latestValues)&&el(c,this.latestValues),c}removeTransform(o){const l=Yt();Tn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mi(u.latestValues))continue;lv(u.latestValues)&&u.updateSnapshot();const d=Yt(),f=u.measurePageBox();Tn(d,f),eS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mi(this.latestValues)&&eS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Cr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Cu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),VC(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Cu(this.relativeTargetOrigin,this.target,p.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lv(this.parent.latestValues)||zC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Cr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;tF(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Zo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo());const m=this.projectionTransform;Eu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=nS(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),$i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Yt(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,b=this.getStack(),v=!b||b.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(VF));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const w=j/1e3;lS(f.x,o.x,w),lS(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zF(this.relativeTarget,this.relativeTargetOrigin,h,w),x&&kF(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Yt()),Tn(x,this.relativeTarget)),m&&(this.animationValues=d,mF(d,u,this.latestValues,w,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{dh.hasAnimatedSinceResize=!0,this.currentAnimation=OF(0,sS,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&QC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Yt();const f=jn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=jn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Tn(l,c),el(l,d),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wF),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<aS.length;d++){const f="rotate"+aS[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AF;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uh(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=uh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mi(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=nS(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Fh){if(h[m]===void 0)continue;const{correct:b,applyTo:v}=Fh[m],y=u.transform==="none"?h[m]:b(h[m],f);if(v){const x=v.length;for(let j=0;j<x;j++)u[v[j]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?uh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(iS),this.root.sharedNodes.clear()}}}function CF(e){e.updateLayout()}function _F(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Cn(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=jn(h);h.min=n[f].min,h.max=h.min+p}):QC(i,r.layoutBox,n)&&Cn(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=jn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Zo();Eu(l,n,r.layoutBox);const c=Zo();o?Eu(c,e.applyTransform(s,!0),r.measuredBox):Eu(c,n,r.layoutBox);const u=!YC(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Yt();Cu(g,r.layoutBox,h.layoutBox);const m=Yt();Cu(m,n,p.layoutBox),JC(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function DF(e){$i.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function MF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $F(e){e.clearSnapshot()}function iS(e){e.clearMeasurements()}function RF(e){e.isLayoutDirty=!1}function IF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function LF(e){e.resolveTargetDelta()}function BF(e){e.calcProjection()}function FF(e){e.resetRotation()}function KF(e){e.removeLeadSnapshot()}function lS(e,t,r){e.translate=Rt(t.translate,0,r),e.scale=Rt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function cS(e,t,r,n){e.min=Rt(t.min,r.min,n),e.max=Rt(t.max,r.max,n)}function zF(e,t,r,n){cS(e.x,t.x,r.x,n),cS(e.y,t.y,r.y,n)}function VF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const HF={duration:.45,ease:[.4,0,.1,1]},uS=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),dS=uS("applewebkit/")&&!uS("chrome/")?Math.round:Ut;function fS(e){e.min=dS(e.min),e.max=dS(e.max)}function UF(e){fS(e.x),fS(e.y)}function QC(e,t,r){return e==="position"||e==="preserve-aspect"&&!iv(rS(t),rS(r),.2)}const WF=XC({attachResizeListener:(e,t)=>Ra(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),px={current:void 0},ZC=XC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!px.current){const e=new WF({});e.mount(window),e.setOptions({layoutScroll:!0}),px.current=e}return px.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GF={pan:{Feature:cF},drag:{Feature:lF,ProjectionNode:ZC,MeasureLayout:WC}},qF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function YF(e){const t=qF.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function uv(e,t,r=1){const[n,s]=YF(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return $C(o)?parseFloat(o):o}else return Z0(s)?uv(s,t,r+1):s}function JF(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!Z0(i))return;const o=uv(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!Z0(i))continue;const o=uv(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const XF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),e_=e=>XF.has(e),QF=e=>Object.keys(e).some(e_),hS=e=>e===So||e===Be,pS=(e,t)=>parseFloat(e.split(", ")[t]),mS=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return pS(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?pS(i[1],e):0}},ZF=new Set(["x","y","z"]),e8=Xd.filter(e=>!ZF.has(e));function t8(e){const t=[];return e8.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ol={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mS(4,13),y:mS(5,14)};Ol.translateX=Ol.x;Ol.translateY=Ol.y;const r8=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Ol[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ol[u](c,i)}),e},n8=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(e_);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=$c(d);const h=t[c];let p;if(zh(h)){const g=h.length,m=h[0]===null?1:0;d=h[m],f=$c(d);for(let b=m;b<g&&h[b]!==null;b++)p?sk($c(h[b])===p):p=$c(h[b])}else p=$c(h);if(f!==p)if(hS(f)&&hS(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===Be&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(h):(o||(i=t8(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=r8(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),wm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function a8(e,t,r,n){return QF(t)?n8(e,t,r,n):{target:t,transitionEnd:n}}const s8=(e,t,r,n)=>{const s=JF(e,t,n);return t=s.target,n=s.transitionEnd,a8(e,t,r,n)},dv={current:null},t_={current:!1};function i8(){if(t_.current=!0,!!wm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dv.current=e.matches;e.addListener(t),t()}else dv.current=!1}function o8(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(cn(i))e.addValue(s,i),Wh(n)&&n.add(s);else if(cn(o))e.addValue(s,Tl(i,{owner:e})),Wh(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Tl(l!==void 0?l:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const gS=new WeakMap,r_=Object.keys(od),l8=r_.length,xS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],c8=Jb.length;class u8{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>kt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Sm(r),this.isVariantNode=FE(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&cn(h)&&(h.set(l[f],!1),Wh(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,gS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),t_.current||i8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gS.delete(this.current),this.projection&&this.projection.unmount(),Ja(this.notifyUpdate),Ja(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=jo.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&kt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,l;for(let c=0;c<l8;c++){const u=r_[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=od[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Xo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<xS.length;n++){const s=xS[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=o8(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<c8;n++){const s=Jb[n],i=this.props[s];(id(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Tl(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=ak(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!cn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new pk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class n_ extends u8{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=TB(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){NB(this,n,o);const l=s8(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function d8(e){return window.getComputedStyle(e)}class f8 extends n_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(jo.has(r)){const n=ck(r);return n&&n.default||0}else{const n=d8(t),s=(HE(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return HC(t,r)}build(t,r,n,s){Zb(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return nk(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){JE(t,r,n,s)}}class h8 extends n_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(jo.has(r)){const n=ck(r);return n&&n.default||0}return r=XE.has(r)?r:qb(r),t.getAttribute(r)}measureInstanceViewportBox(){return Yt()}scrapeMotionValuesFromProps(t,r){return ZE(t,r)}build(t,r,n,s){tk(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){QE(t,r,n,s)}mount(t){this.isSVGTag=rk(t.tagName),super.mount(t)}}const p8=(e,t)=>Qb(e)?new h8(t,{enableHardwareAcceleration:!1}):new f8(t,{enableHardwareAcceleration:!0}),m8={layout:{ProjectionNode:ZC,MeasureLayout:WC}},g8={...zB,...l6,...GF,...m8},ir=xL((e,t)=>YL(e,t,g8,p8));function a_(){const e=k.useRef(!1);return Gb(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function x8(){const e=a_(),[t,r]=k.useState(0),n=k.useCallback(()=>{e.current&&r(t+1)},[t]);return[k.useCallback(()=>kt.postRender(n),[n]),t]}class v8 extends k.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function y8({children:e,isPresent:t}){const r=k.useId(),n=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),k.createElement(v8,{isPresent:t,childRef:n,sizeRef:s},k.cloneElement(e,{ref:n}))}const mx=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=eC(b8),c=k.useId(),u=k.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return k.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),k.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=k.createElement(y8,{isPresent:r},e)),k.createElement(km.Provider,{value:u},e)};function b8(){return new Map}function k8(e){return k.useEffect(()=>()=>e(),[])}const Ri=e=>e.key||"";function w8(e,t){e.forEach(r=>{const n=Ri(r);t.set(n,r)})}function j8(e){const t=[];return k.Children.forEach(e,r=>{k.isValidElement(r)&&t.push(r)}),t}const oi=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=k.useContext(Xb).forceRender||x8()[0],c=a_(),u=j8(e);let d=u;const f=k.useRef(new Map).current,h=k.useRef(d),p=k.useRef(new Map).current,g=k.useRef(!0);if(Gb(()=>{g.current=!1,w8(u,p),h.current=d}),k8(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return k.createElement(k.Fragment,null,d.map(y=>k.createElement(mx,{key:Ri(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},y)));d=[...d];const m=h.current.map(Ri),b=u.map(Ri),v=m.length;for(let y=0;y<v;y++){const x=m[y];b.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,x)=>{if(b.indexOf(x)!==-1)return;const j=p.get(x);if(!j)return;const w=m.indexOf(x);let N=y;if(!N){const S=()=>{f.delete(x);const P=Array.from(p.keys()).filter(A=>!b.includes(A));if(P.forEach(A=>p.delete(A)),h.current=u.filter(A=>{const $=Ri(A);return $===x||P.includes($)}),!f.size){if(c.current===!1)return;l(),n&&n()}};N=k.createElement(mx,{key:Ri(j),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:i,mode:o},j),f.set(x,N)}d.splice(w,0,N)}),d=d.map(y=>{const x=y.key;return f.has(x)?y:k.createElement(mx,{key:Ri(y),isPresent:!0,presenceAffectsLayout:i,mode:o},y)}),k.createElement(k.Fragment,null,f.size?d:d.map(y=>k.cloneElement(y)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>k.createElement("svg",{ref:d,...S8,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${N8(e)}`,l].join(" "),...u},[...t.map(([f,h])=>k.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Se("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Se("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Se("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Se("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Se("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Se("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Se("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Se("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Se("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Se("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Se("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Se("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Se("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Se("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Se("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Se("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Se("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Se("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Se("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Se("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Se("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Se("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Se("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),se=k.forwardRef(({className:e,variant:t="primary",size:r="md",isLoading:n,children:s,disabled:i,...o},l)=>{const c={primary:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600 shadow-lg shadow-primary-500/25",secondary:"bg-white text-dark-700 border border-dark-200 hover:bg-dark-50 hover:border-dark-300",danger:"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600 shadow-lg shadow-red-500/25",success:"bg-gradient-to-r from-secondary-600 to-secondary-500 text-white hover:from-secondary-700 hover:to-secondary-600 shadow-lg shadow-secondary-500/25",ghost:"text-dark-600 hover:bg-dark-100 hover:text-dark-900",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50"},u={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"};return a.jsxs("button",{ref:l,className:Oe("inline-flex items-center justify-center font-medium rounded-xl","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",c[t],u[r],e),disabled:i||n,...o,children:[n&&a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})});se.displayName="Button";const fe=k.forwardRef(({className:e,label:t,error:r,helperText:n,id:s,...i},o)=>{const l=s||i.name;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-1.5",children:t}),a.jsx("input",{id:l,ref:o,className:Oe("w-full px-4 py-3 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-xl","text-dark-900 dark:text-white","placeholder:text-dark-400 dark:placeholder:text-dark-500","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","transition-all duration-200","disabled:bg-dark-100 dark:disabled:bg-dark-700 disabled:cursor-not-allowed",r&&"border-red-500 focus:ring-red-500",e),...i}),r&&a.jsx("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400",children:r}),n&&!r&&a.jsx("p",{className:"mt-1.5 text-sm text-dark-500 dark:text-dark-400",children:n})]})});fe.displayName="Input";const ze=k.forwardRef(({className:e,label:t,error:r,options:n,placeholder:s,id:i,...o},l)=>{const c=i||o.name;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-1.5",children:t}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:c,ref:l,className:Oe("w-full px-4 py-3 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-xl","text-dark-900 dark:text-white","appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","transition-all duration-200","disabled:bg-dark-100 dark:disabled:bg-dark-700 disabled:cursor-not-allowed","[&>option]:bg-white [&>option]:dark:bg-dark-800 [&>option]:text-dark-900 [&>option]:dark:text-white",r&&"border-red-500 focus:ring-red-500",e),...o,children:[s&&a.jsx("option",{value:"",disabled:!0,children:s}),n.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))]}),a.jsx(Em,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400 pointer-events-none"})]}),r&&a.jsx("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400",children:r})]})});ze.displayName="Select";const ke=({children:e,className:t,onClick:r})=>a.jsx("div",{className:Oe("bg-white dark:bg-dark-800 rounded-2xl border border-dark-100 dark:border-dark-700 shadow-soft overflow-hidden",t),onClick:r,children:e}),at=({children:e,className:t})=>a.jsx("div",{className:Oe("px-6 py-4 border-b border-dark-100 dark:border-dark-700",t),children:e}),st=({children:e,className:t})=>a.jsx("h3",{className:Oe("text-lg font-semibold text-dark-900 dark:text-white",t),children:e}),pn=({children:e,className:t})=>a.jsx("div",{className:Oe("p-6",t),children:e}),Ge=({isOpen:e,onClose:t,title:r,description:n,children:s,size:i="md",showCloseButton:o=!0,closeOnOverlayClick:l=!0,className:c})=>{const u=k.useRef(null),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl"};k.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),k.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const f=h=>{l&&h.target===h.currentTarget&&t()};return typeof window>"u"?null:dE.createPortal(a.jsx(oi,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx(ir.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-dark-900/60 backdrop-blur-sm",onClick:f}),a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",onClick:f,children:a.jsxs(ir.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:Oe("relative w-full bg-white dark:bg-dark-800 rounded-2xl shadow-xl",d[i],c),onClick:h=>h.stopPropagation(),children:[(r||o)&&a.jsxs("div",{className:"flex items-start justify-between px-6 py-4 border-b border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{children:[r&&a.jsx("h2",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:r}),n&&a.jsx("p",{className:"mt-1 text-sm text-dark-500 dark:text-dark-400",children:n})]}),o&&a.jsx("button",{onClick:t,className:"p-2 text-dark-400 hover:text-dark-600 dark:hover:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(oa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:s})]})})]})}),document.body)},qt=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Konfirmasi",cancelText:o="Batal",variant:l="danger",isLoading:c=!1})=>{const u={danger:"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600",warning:"bg-gradient-to-r from-amber-600 to-amber-500 text-white hover:from-amber-700 hover:to-amber-600",info:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600"};return a.jsx(Ge,{isOpen:e,onClose:t,size:"sm",showCloseButton:!1,children:a.jsxs("div",{className:"text-center py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2.5 text-sm font-medium text-dark-700 dark:text-dark-200 bg-white dark:bg-dark-700 border border-dark-200 dark:border-dark-600 rounded-xl hover:bg-dark-50 dark:hover:bg-dark-600 transition-colors",disabled:c,children:o}),a.jsx("button",{onClick:r,className:Oe("px-4 py-2.5 text-sm font-medium rounded-xl transition-colors",u[l]),disabled:c,children:c?"Loading...":i})]})]})})},Pr=({isOpen:e,onClose:t,onSubmit:r,action:n,itemName:s="data ini",loading:i=!1})=>{const[o,l]=k.useState(""),c=()=>{if(!o.trim()){alert("Mohon isi alasan permintaan");return}r(o),l("")},u=()=>{l(""),t()};return a.jsx(Ge,{isOpen:e,onClose:u,title:`Permintaan ${n==="edit"?"Edit":"Hapus"} Data`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[a.jsx(Ki,{className:"h-5 w-5 text-amber-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsx("p",{className:"font-medium",children:"Perlu Persetujuan"}),a.jsxs("p",{className:"mt-1",children:["Anda akan mengajukan permintaan untuk"," ",a.jsx("strong",{children:n==="edit"?"mengedit":"menghapus"})," ",s,". Permintaan ini akan dikirim ke AVP, Supervisor, atau Admin untuk disetujui."]})]})]}),a.jsx(fe,{label:"Alasan Permintaan",placeholder:`Jelaskan alasan mengapa Anda ingin ${n==="edit"?"mengedit":"menghapus"} data ini...`,value:o,onChange:d=>l(d.target.value),required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[a.jsx(se,{variant:"secondary",onClick:u,disabled:i,children:"Batal"}),a.jsxs(se,{onClick:c,disabled:i,children:[a.jsx(l_,{className:"h-4 w-4 mr-2"}),i?"Mengirim...":"Kirim Permintaan"]})]})]})})},Ae=({children:e,variant:t="default",size:r="md",className:n})=>{const s={default:"bg-dark-100 text-dark-700",primary:"bg-primary-100 text-primary-700",success:"bg-secondary-100 text-secondary-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700",info:"bg-cyan-100 text-cyan-700"},i={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs"};return a.jsx("span",{className:Oe("inline-flex items-center font-medium rounded-full",s[t],i[r],n),children:e})},q8=({children:e,className:t})=>a.jsx("div",{className:Oe("w-full overflow-x-auto",t),children:a.jsx("table",{className:"w-full border-collapse",children:e})}),Y8=({children:e,className:t})=>a.jsx("thead",{className:Oe("bg-dark-50 dark:bg-dark-800",t),children:e}),J8=({children:e,className:t})=>a.jsx("tbody",{className:Oe("divide-y divide-dark-100 dark:divide-dark-700",t),children:e}),OS=({children:e,className:t,onClick:r,isClickable:n})=>a.jsx("tr",{className:Oe("transition-colors",n&&"cursor-pointer hover:bg-primary-50/50 dark:hover:bg-primary-900/20",t),onClick:r,children:e}),AS=({children:e,className:t,sortable:r,sorted:n,onSort:s,style:i})=>a.jsx("th",{className:Oe("px-6 py-4 text-left text-xs font-semibold text-dark-500 dark:text-dark-400 uppercase tracking-wider",r&&"cursor-pointer select-none hover:text-dark-700 dark:hover:text-dark-200",t),onClick:r?s:void 0,style:i,children:a.jsxs("div",{className:"flex items-center gap-2",children:[e,r&&a.jsxs("span",{className:"flex flex-col",children:[a.jsx(s_,{className:Oe("h-3 w-3 -mb-1",n==="asc"?"text-primary-600":"text-dark-300 dark:text-dark-500")}),a.jsx(Em,{className:Oe("h-3 w-3",n==="desc"?"text-primary-600":"text-dark-300 dark:text-dark-500")})]})]})}),ES=({children:e,className:t})=>a.jsx("td",{className:Oe("px-6 py-4 text-sm text-dark-700 dark:text-dark-200 whitespace-nowrap",t),children:e}),X8=({message:e="Tidak ada data",icon:t})=>a.jsx("tr",{children:a.jsx("td",{colSpan:100,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 text-dark-400",children:[t,a.jsx("p",{className:"text-sm",children:e})]})})}),Q8=()=>a.jsx("tr",{children:a.jsx("td",{colSpan:100,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Memuat data..."})]})})}),Z8=({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,itemsPerPage:s=10})=>{const i=(e-1)*s+1,o=Math.min(e*s,n||0),l=()=>{const c=[];if(t<=5)for(let d=1;d<=t;d++)c.push(d);else if(e<=3){for(let d=1;d<=4;d++)c.push(d);c.push("..."),c.push(t)}else if(e>=t-2){c.push(1),c.push("...");for(let d=t-3;d<=t;d++)c.push(d)}else{c.push(1),c.push("...");for(let d=e-1;d<=e+1;d++)c.push(d);c.push("..."),c.push(t)}return c};return t<=1?null:a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-dark-100 dark:border-dark-700",children:[n&&a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Menampilkan ",i," - ",o," dari ",n," data"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 text-dark-500 dark:text-dark-400 hover:text-dark-700 dark:hover:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mk,{className:"h-5 w-5"})}),l().map((c,u)=>a.jsx("button",{onClick:()=>typeof c=="number"&&r(c),disabled:c==="...",className:Oe("min-w-[40px] h-10 px-3 text-sm font-medium rounded-lg transition-colors",c===e?"bg-primary-600 text-white":c==="..."?"text-dark-400 cursor-default":"text-dark-600 dark:text-dark-300 hover:bg-dark-100 dark:hover:bg-dark-700"),children:c},u)),a.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 text-dark-500 dark:text-dark-400 hover:text-dark-700 dark:hover:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(gk,{className:"h-5 w-5"})})]})]})},eK=({value:e,onChange:t,placeholder:r="Cari..."})=>a.jsxs("div",{className:"relative w-full max-w-xs",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx(fe,{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"pl-10"})]});function er({data:e,columns:t,loading:r=!1,emptyMessage:n="Tidak ada data",searchable:s=!0,searchKeys:i=[],pagination:o=!0,itemsPerPage:l=10,onRowClick:c,actions:u}){const[d,f]=k.useState(""),[h,p]=k.useState(1),[g,m]=k.useState(null),[b,v]=k.useState("asc"),y=d?e.filter(S=>i.some(P=>{const A=S[P];return typeof A=="string"?A.toLowerCase().includes(d.toLowerCase()):typeof A=="number"?A.toString().includes(d):!1})):e,x=g?[...y].sort((S,P)=>{const A=S[g],$=P[g];if(A===$)return 0;if(A==null)return 1;if($==null)return-1;const I=A<$?-1:1;return b==="asc"?I:-I}):y,j=Math.ceil(x.length/l),w=o?x.slice((h-1)*l,h*l):x,N=S=>{g===S?v(b==="asc"?"desc":"asc"):(m(S),v("asc"))};return a.jsxs("div",{className:"card",children:[s&&a.jsx("div",{className:"px-6 py-4 border-b border-dark-100",children:a.jsx(eK,{value:d,onChange:f})}),a.jsxs(q8,{children:[a.jsx(Y8,{children:a.jsxs(OS,{children:[t.map(S=>a.jsx(AS,{sortable:S.sortable,sorted:g===S.key?b:null,onSort:()=>S.sortable&&N(S.key),style:{width:S.width},children:S.header},S.key)),u&&a.jsx(AS,{children:"Aksi"})]})}),a.jsx(J8,{children:r?a.jsx(Q8,{}):w.length===0?a.jsx(X8,{message:n}):w.map((S,P)=>a.jsxs(OS,{onClick:()=>c==null?void 0:c(S),isClickable:!!c,children:[t.map(A=>a.jsx(ES,{children:A.render?A.render(S[A.key],S):String(S[A.key]??"-")},A.key)),u&&a.jsx(ES,{children:u(S)})]},P))})]}),o&&a.jsx(Z8,{currentPage:h,totalPages:j,onPageChange:p,totalItems:x.length,itemsPerPage:l})]})}const Qh=({size:e="md",className:t})=>{const r={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-10 w-10 border-3"};return a.jsx("div",{className:Oe("border-primary-600 border-t-transparent rounded-full animate-spin",r[e],t)})},Vt=({isVisible:e,message:t="Berhasil!",onClose:r,autoCloseDelay:n=1500})=>(k.useEffect(()=>{if(e&&r&&n>0){const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)}},[e,r,n]),e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-900/60 backdrop-blur-sm",onClick:r,children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl text-center animate-scale-in",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-secondary-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-lg font-semibold text-dark-900",children:t})]})}):null),uc=({isOpen:e,onClose:t,title:r,data:n,columns:s,signatures:i,filters:o,summaryRows:l,plant:c,compactMode:u=!1})=>{const d=k.useRef(null),[f,h]=k.useState(Mt()),[p,g]=k.useState(Mt()),[m,b]=k.useState("ALL"),[v,y]=k.useState("ALL"),[x,j]=k.useState("ALL"),[w,N]=k.useState({});if(k.useEffect(()=>{const E={};i.forEach(_=>{E[_.role]={jabatan:"",nama:"",noBadge:""}}),N(E)},[i]),!e)return null;const S=n.filter(E=>{const _=new Date(E.tanggal),U=new Date(f),K=new Date(p);return K.setHours(23,59,59,999),!(_<U||_>K||o!=null&&o.kategori&&m!=="ALL"&&E.kategori!==m||o!=null&&o.forklift&&v!=="ALL"&&E.forklift!==v||o!=null&&o.shift&&x!=="ALL"&&E.shift!==x)}).sort((E,_)=>new Date(E.tanggal).getTime()-new Date(_.tanggal).getTime()),P=()=>{const E=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],_=new Date;return`${_.getDate()} ${E[_.getMonth()]} ${_.getFullYear()}`},A=()=>{const E=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],_=new Date(f),U=new Date(p);return`${_.getDate()} ${E[_.getMonth()]} ${_.getFullYear()} - ${U.getDate()} ${E[U.getMonth()]} ${U.getFullYear()}`},$=()=>{const E=d.current;if(!E)return;const _=window.open("","_blank");_&&(_.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${r}</title>
        <style>
          @page {
            size: A4;
            margin: ${u?"8mm":"12mm"};
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Times New Roman', Times, serif;
            font-size: ${u?"8pt":"10pt"};
            line-height: ${u?"1.2":"1.4"};
            color: #000;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
          }
          .header {
            text-align: center;
            margin-bottom: ${u?"10px":"15px"};
          }
          .header h1 {
            font-size: ${u?"13pt":"14pt"};
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: ${u?"3px":"4px"};
            letter-spacing: 1px;
          }
          .header .periode {
            font-size: ${u?"10pt":"11pt"};
            font-weight: bold;
            text-transform: uppercase;
          }
          .filter-info {
            font-size: ${u?"8pt":"9pt"};
            margin-bottom: ${u?"6px":"10px"};
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: ${u?"6px":"8px"};
            font-size: ${u?"7.5pt":"9pt"};
          }
          th, td {
            border: 1px solid #000;
            padding: ${u?"2px 3px":"5px 6px"};
            text-align: center;
          }
          thead tr:first-child th {
            background-color: transparent;
            font-weight: bold;
            border: 1px solid #000;
          }
          thead tr:nth-child(2) th {
            background-color: transparent;
            font-weight: bold;
          }
          tbody td {
            text-align: center;
            white-space: nowrap;
          }
          td.number, .number {
            text-align: right;
            white-space: nowrap;
          }
          td.left {
            text-align: left;
          }
          .summary-row td {
            font-weight: bold;
            border: 1px solid #000;
          }
          .subtotal-label {
            text-align: center;
            font-weight: bold;
          }
          .footer {
            margin-top: ${u?"12px":"20px"};
            text-align: right;
            font-size: ${u?"8pt":"10pt"};
            color: #000;
            font-style: italic;
          }
          .signatures {
            display: flex;
            justify-content: flex-end;
            margin-top: ${u?"15px":"30px"};
            padding-right: 20px;
          }
          .signature-box {
            text-align: center;
            min-width: ${u?"140px":"180px"};
          }
          .signature-box .label {
            font-size: ${u?"8pt":"10pt"};
            margin-bottom: ${u?"3px":"5px"};
          }
          .signature-box .position {
            font-size: ${u?"8pt":"10pt"};
            font-weight: bold;
            color: #000;
            margin-bottom: ${u?"40px":"60px"};
          }
          .signature-box .name {
            font-size: ${u?"8pt":"10pt"};
            font-weight: bold;
            color: #000;
            text-decoration: underline;
            margin-bottom: 2px;
          }
          .signature-box .badge {
            font-size: ${u?"8pt":"10pt"};
            font-weight: bold;
            color: #000;
          }
          .multi-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: ${u?"15px":"30px"};
            gap: ${u?"12px":"20px"};
          }
          .multi-signatures .signature-box {
            flex: 1;
            text-align: center;
          }
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${E.innerHTML}
      </body>
      </html>
    `),_.document.close(),_.focus(),setTimeout(()=>{_.print(),_.close()},250))},I=(E,_,U)=>{N(K=>({...K,[E]:{...K[E],[_]:U}}))};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h2",{className:"text-lg font-bold text-dark-900",children:["Cetak ",r]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 rounded-lg",children:a.jsx(oa,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 border-b bg-dark-50 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[a.jsx(ra,{className:"inline h-4 w-4 mr-1"}),"Tanggal Mulai"]}),a.jsx("input",{type:"date",value:f,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:[a.jsx(ra,{className:"inline h-4 w-4 mr-1"}),"Tanggal Akhir"]}),a.jsx("input",{type:"date",value:p,onChange:E=>g(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),((o==null?void 0:o.kategori)||(o==null?void 0:o.forklift)||(o==null?void 0:o.shift))&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(o==null?void 0:o.kategori)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.kategori.label}),a.jsxs("select",{value:m,onChange:E=>b(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.kategori.options.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),(o==null?void 0:o.forklift)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.forklift.label}),a.jsxs("select",{value:v,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.forklift.options.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),(o==null?void 0:o.shift)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:o.shift.label}),a.jsxs("select",{value:x,onChange:E=>j(E.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"ALL",children:"Semua"}),o.shift.options.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-dark-700",children:"Data Tanda Tangan"}),a.jsx("div",{className:"space-y-3",children:i.map(E=>{var _,U,K;return a.jsxs("div",{className:"p-3 bg-white rounded-lg border border-dark-200",children:[a.jsx("h4",{className:"text-xs font-semibold text-dark-600 mb-2",children:E.label}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:((_=w[E.role])==null?void 0:_.jabatan)||"",onChange:Y=>I(E.role,"jabatan",Y.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),a.jsx("input",{type:"text",placeholder:"Nama",value:((U=w[E.role])==null?void 0:U.nama)||"",onChange:Y=>I(E.role,"nama",Y.target.value),className:"flex-1 min-w-[150px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"}),E.role!=="operator"&&a.jsx("input",{type:"text",placeholder:"No. Badge",value:((K=w[E.role])==null?void 0:K.noBadge)||"",onChange:Y=>I(E.role,"noBadge",Y.target.value),className:"flex-1 min-w-[120px] px-2 py-1 text-sm border border-dark-200 rounded focus:ring-1 focus:ring-primary-500"})]})]},E.role)})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-dark-500",children:[S.length," data ditemukan"]}),a.jsxs("button",{onClick:$,disabled:S.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:a.jsx("div",{ref:d,className:"bg-white p-6 shadow-lg mx-auto",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsxs("h1",{children:["LAPORAN ",r.toUpperCase()]}),a.jsxs("div",{className:"periode",children:["PERIODE : ",A().toUpperCase()]})]}),(m!=="ALL"||v!=="ALL"||x!=="ALL")&&a.jsxs("div",{className:"filter-info",children:[m!=="ALL"&&a.jsxs("span",{children:["Kategori: ",m," | "]}),v!=="ALL"&&a.jsxs("span",{children:["Forklift: ",v," | "]}),x!=="ALL"&&a.jsxs("span",{children:["Shift: ",x]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"30px"},children:"No"}),s.map(E=>a.jsx("th",{style:{width:E.width},children:E.header},E.key))]})}),a.jsxs("tbody",{children:[S.map((E,_)=>a.jsxs("tr",{children:[a.jsx("td",{className:"center",children:_+1}),s.map(U=>{const K=U.render?U.render(E[U.key],E):E[U.key];return a.jsx("td",{className:U.align==="right"?"number":U.align==="center"?"center":"",children:K},U.key)})]},_)),l&&l.map((E,_)=>a.jsxs("tr",{className:"summary-row",children:[a.jsx("td",{colSpan:s.length,style:{textAlign:"right",paddingRight:"10px"},children:E.label}),a.jsx("td",{className:"number",children:E.getValue(S)})]},`summary-${_}`))]})]}),a.jsxs("div",{className:"footer",children:["Cikampek, ",P()]}),a.jsx("div",{className:i.length>1?"multi-signatures":"signatures",children:i.map(E=>{var _,U,K,Y;return a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"label",children:E.label}),a.jsx("div",{className:"position",children:((_=w[E.role])==null?void 0:_.jabatan)||""}),E.role!=="operator"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"name",children:((U=w[E.role])==null?void 0:U.nama)||""}),a.jsx("div",{className:"badge",children:((K=w[E.role])==null?void 0:K.noBadge)||""})]}):a.jsx("div",{className:"name",children:((Y=w[E.role])==null?void 0:Y.nama)||""})]},E.role)})})]})})})]})})},tK=({isOpen:e,onClose:t,data:r,plant:n})=>{const s=k.useRef(null),[i,o]=k.useState(Mt()),[l,c]=k.useState(Mt()),[u,d]=k.useState({nama:"",noBadge:"",jabatan:""}),[f,h]=k.useState({nama:"",noBadge:"",jabatan:""});if(k.useEffect(()=>{if(e){const j=new Date,w=new Date(j.getFullYear(),j.getMonth(),1),N=new Date(j.getFullYear(),j.getMonth()+1,0);o(w.toISOString().split("T")[0]),c(N.toISOString().split("T")[0])}},[e]),!e)return null;const p=r.filter(j=>{const w=new Date(j.tanggal),N=new Date(i),S=new Date(l);return S.setHours(23,59,59,999),w>=N&&w<=S}).sort((j,w)=>new Date(j.tanggal).getTime()-new Date(w.tanggal).getTime()),g=p.reduce((j,w)=>j+(w.pengajuanSolar||0),0),m=p.reduce((j,w)=>j+(w.realisasiPengisian||0),0),b=m-g,v=()=>{const j=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],w=new Date;return`${w.getDate()} ${j[w.getMonth()]} ${w.getFullYear()}`},y=()=>{const j=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],w=new Date(i),N=new Date(l);return`${w.getDate()} ${j[w.getMonth()]} ${w.getFullYear()} - ${N.getDate()} ${j[N.getMonth()]} ${N.getFullYear()}`},x=()=>{const j=s.current;if(!j)return;const w=window.open("","_blank");w&&(w.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Rekap BBM Alat Berat - ${n}</title>
        <style>
          @page {
            size: A4 portrait;
            margin: 6mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 7pt;
            line-height: 1.1;
            color: #1a1a2e;
            background: #fff;
          }
          .print-container {
            width: 100%;
            max-width: 200mm;
            padding: 3px;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 2px solid #2563eb;
          }
          .header h1 {
            font-size: 12pt;
            font-weight: 700;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 8pt;
            font-weight: 600;
            margin: 3px 0;
          }
          .header .periode {
            font-size: 8pt;
            color: #64748b;
            margin-top: 3px;
          }
          .header .periode span {
            font-weight: 600;
            color: #334155;
          }
          
          /* Table Styles */
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 6px;
            font-size: 6pt;
          }
          thead th {
            background: linear-gradient(180deg, #1e40af, #1e3a8a);
            color: white;
            font-weight: 600;
            padding: 3px 2px;
            text-align: center;
            border: 1px solid #1e3a8a;
            text-transform: uppercase;
            font-size: 6pt;
            letter-spacing: 0.2px;
          }
          tbody td {
            padding: 2px 3px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 6pt;
          }
          tbody tr:nth-child(even) {
            background-color: #f8fafc;
          }
          tbody tr:hover {
            background-color: #e0e7ff;
          }
          .text-left {
            text-align: left !important;
          }
          .text-right {
            text-align: right !important;
          }
          .font-mono {
            font-family: 'Consolas', monospace;
          }
          
          /* Number formatting */
          .number-positive {
            color: #059669;
            font-weight: 600;
          }
          .number-negative {
            color: #dc2626;
            font-weight: 600;
          }
          
          /* Summary Row */
          .summary-row td {
            background: linear-gradient(180deg, #f59e0b, #d97706) !important;
            color: white !important;
            font-weight: 700 !important;
            border-color: #b45309 !important;
            padding: 3px 2px !important;
            font-size: 6pt !important;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 10px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 30px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 140px;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 30px;
            min-height: 12px;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            text-decoration: underline;
            text-underline-offset: 2px;
            margin-bottom: 1px;
            min-height: 12px;
          }
          
          .signature-badge {
            font-size: 7pt;
            color: #475569;
            font-weight: 500;
            min-height: 10px;
          }
          
          /* Summary Cards */
          .summary-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 6px;
          }
          
          .summary-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 4px;
            padding: 4px 10px;
            text-align: center;
            min-width: 90px;
          }
          
          .summary-card.pengajuan {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border-color: #f59e0b;
          }
          
          .summary-card.realisasi {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-positive {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #22c55e;
          }
          
          .summary-card.selisih-negative {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-color: #ef4444;
          }
          
          .summary-card-label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 1px;
          }
          
          .summary-card-value {
            font-size: 9pt;
            font-weight: 700;
            color: #1e40af;
          }
          
          .summary-card.pengajuan .summary-card-value { color: #b45309; }
          .summary-card.realisasi .summary-card-value { color: #16a34a; }
          .summary-card.selisih-positive .summary-card-value { color: #16a34a; }
          .summary-card.selisih-negative .summary-card-value { color: #dc2626; }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        ${j.innerHTML}
      </body>
      </html>
    `),w.document.close(),w.focus(),setTimeout(()=>{w.print(),w.close()},300))};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-amber-500 to-orange-500",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Jh,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Rekap BBM Alat Berat"}),a.jsxs("p",{className:"text-amber-100 text-sm",children:["Plant ",n]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(oa,{className:"h-6 w-6 text-white"})})]}),a.jsxs("div",{className:"p-5 border-b bg-gradient-to-b from-amber-50 to-white space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[a.jsx(ra,{className:"h-4 w-4 text-amber-600"}),"Tanggal Mulai"]}),a.jsx("input",{type:"date",value:i,onChange:j=>o(j.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-dark-700 mb-2",children:[a.jsx(ra,{className:"h-4 w-4 text-amber-600"}),"Tanggal Akhir"]}),a.jsx("input",{type:"date",value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-bold text-dark-700 flex items-center gap-2",children:[a.jsx(El,{className:"h-4 w-4 text-amber-600"}),"Data Tanda Tangan"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[a.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Mengetahui"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:u.jabatan,onChange:j=>d({...u,jabatan:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:u.nama,onChange:j=>d({...u,nama:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsxs("div",{className:"relative",children:[a.jsx(kS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"No. Badge",value:u.noBadge,onChange:j=>d({...u,noBadge:j.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]}),a.jsxs("div",{className:"p-4 bg-white rounded-xl border-2 border-amber-200 shadow-sm",children:[a.jsx("h4",{className:"text-xs font-bold text-amber-700 mb-3 uppercase tracking-wider",children:"Dibuat Oleh"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Jabatan",value:f.jabatan,onChange:j=>h({...f,jabatan:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsx("input",{type:"text",placeholder:"Nama Lengkap",value:f.nama,onChange:j=>h({...f,nama:j.target.value}),className:"w-full px-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"}),a.jsxs("div",{className:"relative",children:[a.jsx(kS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"No. Badge",value:f.noBadge,onChange:j=>h({...f,noBadge:j.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-dark-200 rounded-lg focus:ring-2 focus:ring-amber-500"})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("span",{className:"px-3 py-1.5 bg-amber-100 text-amber-800 rounded-full font-medium",children:[p.length," data"]}),a.jsx("span",{className:"text-dark-500",children:"ditemukan dalam periode ini"})]}),a.jsxs("button",{onClick:x,disabled:p.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg shadow-amber-500/30 transition-all",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Cetak Laporan"]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:a.jsx("div",{ref:s,className:"bg-white p-6 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsx("h1",{children:"LAPORAN REKAP BBM ALAT BERAT"}),a.jsxs("div",{className:"plant-badge",children:["PLANT ",n]}),a.jsxs("div",{className:"periode",children:["Periode: ",a.jsx("span",{children:y()})]})]}),a.jsxs("div",{className:"summary-cards",children:[a.jsxs("div",{className:"summary-card pengajuan",children:[a.jsx("div",{className:"summary-card-label",children:"Total Pengajuan"}),a.jsxs("div",{className:"summary-card-value",children:[X(g)," L"]})]}),a.jsxs("div",{className:"summary-card realisasi",children:[a.jsx("div",{className:"summary-card-label",children:"Total Realisasi"}),a.jsxs("div",{className:"summary-card-value",children:[X(m)," L"]})]}),a.jsxs("div",{className:`summary-card ${b>=0?"selisih-positive":"selisih-negative"}`,children:[a.jsx("div",{className:"summary-card-label",children:"Selisih"}),a.jsxs("div",{className:"summary-card-value",children:[b>=0?"+":"",X(b)," L"]})]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"40px"},children:"No"}),a.jsx("th",{style:{width:"100px"},children:"Tanggal"}),a.jsx("th",{children:"Nama Alat Berat"}),a.jsx("th",{style:{width:"120px"},children:"Pengajuan (L)"}),a.jsx("th",{style:{width:"120px"},children:"Realisasi (L)"}),a.jsx("th",{style:{width:"100px"},children:"Selisih (L)"}),a.jsx("th",{children:"Keterangan"})]})}),a.jsxs("tbody",{children:[p.map((j,w)=>{const N=(j.realisasiPengisian||0)-(j.pengajuanSolar||0);return a.jsxs("tr",{children:[a.jsx("td",{children:w+1}),a.jsx("td",{children:Ve(j.tanggal)}),a.jsx("td",{className:"text-left",children:j.namaAlatBerat}),a.jsx("td",{className:"text-right font-mono",children:X(j.pengajuanSolar)}),a.jsx("td",{className:"text-right font-mono",children:X(j.realisasiPengisian)}),a.jsxs("td",{className:`text-right font-mono ${N>=0?"number-positive":"number-negative"}`,children:[N>=0?"+":"",X(N)]}),a.jsx("td",{className:"text-left",children:j.keterangan||"-"})]},j.id||w)}),a.jsxs("tr",{className:"summary-row",children:[a.jsx("td",{colSpan:3,style:{textAlign:"center",fontWeight:"bold"},children:"TOTAL"}),a.jsx("td",{className:"text-right font-mono",children:X(g)}),a.jsx("td",{className:"text-right font-mono",children:X(m)}),a.jsxs("td",{className:`text-right font-mono ${b>=0?"number-positive":"number-negative"}`,children:[b>=0?"+":"",X(b)]}),a.jsx("td",{})]})]})]}),a.jsxs("div",{className:"footer",children:[a.jsxs("div",{className:"print-date",children:["Cikampek, ",v()]}),a.jsxs("div",{className:"signatures-container",children:[a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Mengetahui,"}),a.jsx("div",{className:"signature-jabatan",children:u.jabatan||""}),a.jsx("div",{className:"signature-name",children:u.nama||""}),a.jsx("div",{className:"signature-badge",children:u.noBadge||""})]}),a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Dibuat Oleh,"}),a.jsx("div",{className:"signature-jabatan",children:f.jabatan||""}),a.jsx("div",{className:"signature-name",children:f.nama||""}),a.jsx("div",{className:"signature-badge",children:f.noBadge||""})]})]})]})]})})})]})})},rK=({isOpen:e,onClose:t,data:r,plant:n})=>{const s=k.useRef(null);if(!e)return null;const i=()=>{const c=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=new Date;return`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`},o=c=>{const u=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],d=new Date(c);return`${d.getDate()} ${u[d.getMonth()]} ${d.getFullYear()}`},l=()=>{const c=s.current;if(!c)return;const u=window.open("","_blank");u&&(u.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Gate Pass - ${r.nomorGatePass}</title>
        <style>
          @page {
            size: A4;
            margin: 5mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 8pt;
            line-height: 1.2;
            color: #1a1a2e;
            background: #fff;
          }
          .page-wrapper {
            width: 100%;
            height: 287mm;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
          }
          .print-container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
            padding: 5px 8px;
            height: 140mm;
            overflow: hidden;
          }
          .divider-line {
            width: 100%;
            border-top: 1px dashed #94a3b8;
            margin: 2mm 0;
            position: relative;
          }
          .divider-line::before {
            content: ' potong di sini';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 10px;
            font-size: 7pt;
            color: #94a3b8;
          }
          
          /* Header Styles */
          .header {
            text-align: center;
            margin-bottom: 6px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #1e40af;
            position: relative;
          }
          .header::after {
            content: '';
            position: absolute;
            bottom: -1.5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1.5px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
          }
          .header h1 {
            font-size: 13pt;
            font-weight: 800;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 2px;
          }
          .header .subtitle {
            font-size: 7pt;
            color: #64748b;
            font-weight: 500;
          }
          .header .plant-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 2px 10px;
            border-radius: 12px;
            font-size: 7pt;
            font-weight: 600;
            margin-top: 3px;
            box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
          }
          
          /* Gate Pass Number */
          .gatepass-number {
            text-align: center;
            margin: 6px 0;
            padding: 5px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1.5px solid #f59e0b;
            border-radius: 6px;
          }
          .gatepass-number label {
            font-size: 6pt;
            color: #92400e;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
            margin-bottom: 1px;
          }
          .gatepass-number .number {
            font-size: 11pt;
            font-weight: 800;
            color: #92400e;
            font-family: 'Consolas', monospace;
            letter-spacing: 2px;
          }
          
          /* Info Grid */
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
          }
          .info-item {
            padding: 4px 6px;
            background: #f8fafc;
            border-radius: 4px;
            border-left: 2px solid #3b82f6;
          }
          .info-item.full-width {
            grid-column: span 2;
          }
          .info-item label {
            font-size: 6pt;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 1px;
            font-weight: 600;
          }
          .info-item .value {
            font-size: 8pt;
            color: #1e293b;
            font-weight: 500;
          }
          
          /* Description Section */
          .description-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 5px;
            border: 1px solid #7dd3fc;
          }
          .description-section h3 {
            font-size: 7pt;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #7dd3fc;
          }
          .description-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Reason Section */
          .reason-section {
            margin: 6px 0;
            padding: 6px 8px;
            background: linear-gradient(135deg, #fef3c7, #fef9c3);
            border-radius: 5px;
            border: 1px solid #fcd34d;
          }
          .reason-section h3 {
            font-size: 7pt;
            color: #a16207;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 3px;
            padding-bottom: 2px;
            border-bottom: 1px solid #fcd34d;
          }
          .reason-section p {
            font-size: 8pt;
            color: #1e293b;
            white-space: pre-wrap;
            line-height: 1.3;
          }
          
          /* Footer & Signatures */
          .footer {
            margin-top: 8px;
          }
          .print-date {
            text-align: right;
            font-size: 7pt;
            color: #64748b;
            font-style: italic;
            margin-bottom: 6px;
          }
          
          .signatures-container {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            padding: 0 10px;
          }
          
          .signature-box {
            text-align: center;
            min-width: 120px;
            padding: 5px;
            background: #fafafa;
            border-radius: 5px;
            border: 1px dashed #cbd5e1;
          }
          
          .signature-label {
            font-size: 7pt;
            color: #64748b;
            margin-bottom: 2px;
            font-weight: 500;
          }
          
          .signature-jabatan {
            font-size: 7pt;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 20px;
            min-height: 10px;
          }
          
          .signature-space {
            height: 25px;
            margin-bottom: 3px;
          }
          
          .signature-line {
            width: 100px;
            height: 1px;
            background: #1e293b;
            margin: 0 auto 3px auto;
          }
          
          .signature-name {
            font-size: 8pt;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 1px;
            min-height: 10px;
          }
          
          .signature-badge {
            font-size: 6pt;
            color: #475569;
            font-weight: 500;
            min-height: 8px;
          }
          
          /* Stamp/Seal Style (Optional visual) */
          .official-stamp {
            text-align: center;
            margin-top: 5px;
            padding-top: 4px;
            border-top: 1px dashed #e2e8f0;
          }
          .official-stamp p {
            font-size: 6pt;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          /* Copy Label */
          .copy-label {
            position: absolute;
            top: 3px;
            right: 5px;
            font-size: 6pt;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #e2e8f0;
            padding: 2px 6px;
            border-radius: 3px;
          }
          .print-container {
            position: relative;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="page-wrapper">
          <div class="print-container">
            <div class="copy-label">Lembar 1 - Arsip</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
          <div class="divider-line"></div>
          <div class="print-container">
            <div class="copy-label">Lembar 2 - Pembawa</div>
            ${c.innerHTML.replace('<div class="print-container">',"").replace(/<\/div>\s*$/,"")}
          </div>
        </div>
      </body>
      </html>
    `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},300))};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gradient-to-r from-blue-600 to-indigo-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(ia,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Cetak Gate Pass"}),a.jsx("p",{className:"text-blue-100 text-sm",children:r.nomorGatePass})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(oa,{className:"h-6 w-6 text-white"})})]}),a.jsx("div",{className:"p-5 border-b bg-gradient-to-b from-blue-50 to-white flex items-center justify-end",children:a.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 font-semibold shadow-lg shadow-blue-500/30 transition-all",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Cetak Gate Pass"]})}),a.jsx("div",{className:"flex-1 overflow-auto p-5 bg-gray-100",children:a.jsx("div",{ref:s,className:"bg-white p-10 shadow-xl mx-auto rounded-lg",style:{maxWidth:"210mm",minHeight:"297mm"},children:a.jsxs("div",{className:"print-container",children:[a.jsxs("div",{className:"header",children:[a.jsx("h1",{children:"GATE PASS"}),a.jsx("div",{className:"subtitle",children:"Surat Izin Keluar Barang"}),a.jsxs("div",{className:"plant-badge",children:["PT. PUPUK KUJANG CIKAMPEK - ",n]})]}),a.jsxs("div",{className:"gatepass-number",children:[a.jsx("label",{children:"Nomor Gate Pass"}),a.jsx("div",{className:"number",children:r.nomorGatePass})]}),a.jsxs("div",{className:"info-grid",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Tanggal"}),a.jsx("div",{className:"value",children:o(r.tanggal)})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"No Polisi"}),a.jsx("div",{className:"value",children:r.noPolisi||"-"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Pemilik Barang"}),a.jsx("div",{className:"value",children:r.pemilikBarang||"-"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("label",{children:"Nama Pembawa"}),a.jsx("div",{className:"value",children:r.namaPembawa||"-"})]})]}),a.jsxs("div",{className:"description-section",children:[a.jsx("h3",{children:"Deskripsi Barang"}),a.jsx("p",{children:r.deskripsiBarang||"-"})]}),a.jsxs("div",{className:"reason-section",children:[a.jsx("h3",{children:"Alasan Mengeluarkan"}),a.jsx("p",{children:r.alasanKeluar||"-"})]}),a.jsxs("div",{className:"footer",children:[a.jsxs("div",{className:"print-date",children:["Cikampek, ",i()]}),a.jsxs("div",{className:"signatures-container",children:[a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Pembawa,"}),a.jsx("div",{className:"signature-space"}),a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-name",children:r.namaPembawa||""})]}),a.jsxs("div",{className:"signature-box",children:[a.jsx("div",{className:"signature-label",children:"Mengetahui,"}),a.jsx("div",{className:"signature-space"}),a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-name",children:r.mengetahui||""})]})]}),a.jsx("div",{className:"official-stamp",children:a.jsx("p",{children:"Dokumen ini tidak sah tanpa tanda tangan basah"})})]})]})})})]})})};function nK(){const[e,t]=k.useState(null),[r,n]=k.useState(!1),[s,i]=k.useState(!1);return k.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0?(i(!0),!0):!1)return;const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{i(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:s,install:async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;return l==="accepted"?(i(!0),n(!1),t(null),!0):!1}catch(l){return console.error("Error installing PWA:",l),!1}}}}function aK(){const{isInstallable:e,isInstalled:t,install:r}=nK(),[n,s]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(!1);k.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;c(f);const h=setTimeout(()=>{const p=localStorage.getItem("pwa-install-dismissed"),g=p?parseInt(p):0,m=(Date.now()-g)/(1e3*60*60*24);!t&&(e||f)&&m>7&&s(!0)},3e3);return()=>clearTimeout(h)},[e,t]);const u=async()=>{l?o(!0):await r()&&s(!1)},d=()=>{s(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return!n||t?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-slide-up",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-4 max-w-md mx-auto",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:a.jsx(u_,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Install PlantIQ"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Akses lebih cepat langsung dari layar utama HP Anda"}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[a.jsx(i_,{className:"w-4 h-4"}),"Install"]}),a.jsx("button",{onClick:d,className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Nanti"})]})]}),a.jsx("button",{onClick:d,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 p-1",children:a.jsx(oa,{className:"w-4 h-4"})})]})})}),i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-scale-up",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx("img",{src:"/icons/icon-96x96.png",alt:"PlantIQ",className:"w-10 h-10 rounded-lg"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Install PlantIQ di iPhone"}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Ikuti langkah berikut untuk menambahkan aplikasi ke layar utama:"})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"1"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Ketuk ikon ",a.jsx("strong",{children:"Share"})," (kotak dengan panah ke atas) di bagian bawah Safari"]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"2"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Scroll ke bawah dan ketuk"," ",a.jsx("strong",{children:'"Add to Home Screen"'})]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"3"}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Ketuk ",a.jsx("strong",{children:'"Add"'})," di pojok kanan atas"]})})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-xl transition-colors",children:"Mengerti"})]})}),a.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes scale-up {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        
        .animate-scale-up {
          animation: scale-up 0.2s ease-out;
        }
      `})]})}const f_="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec";async function _m(e){try{const t=await fetch(`${f_}${e}`,{method:"GET",redirect:"follow"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return{success:!0,data:r.data||r}}catch(t){return console.error("API GET Error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function en(e){try{const t=await fetch(f_,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return r.success===!1?{success:!1,error:r.error||"Unknown error"}:{success:!0,data:r.data!==void 0?r.data:r}}catch(t){return console.error("API POST Error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function Zh(e){return _m(`?action=read&sheet=${e}`)}async function sK(e,t){return en({action:"create",sheet:e,data:t})}async function iK(e,t){return en({action:"update",sheet:e,data:t})}async function oK(e,t){return en({action:"delete",sheet:e,data:{id:t}})}async function h_(e,t){return en({action:"login",data:{username:e,password:t}})}async function lK(e){const t=await Zh(e),r=await Zh(`${e}_NPK1`),n=[];return t.success&&t.data&&n.push(...t.data.map(s=>({...s,_plant:"NPK2"}))),r.success&&r.data&&n.push(...r.data.map(s=>({...s,_plant:"NPK1"}))),{success:!0,data:n}}function p_(e,t){return t==="NPK1"?`${e}_NPK1`:e}const wr={PRODUKSI_NPK:"produksi_npk",PRODUKSI_BLENDING:"produksi_blending",PRODUKSI_NPK_MINI:"produksi_npk_mini",TIMESHEET_FORKLIFT:"timesheet_forklift",TIMESHEET_LOADER:"timesheet_loader",DOWNTIME:"downtime",WORK_REQUEST:"workrequest",BAHAN_BAKU:"bahanbaku",VIBRASI:"vibrasi",GATE_PASS:"gatepass",PERTA:"perta",PERBAIKAN_TAHUNAN:"perbaikan_tahunan",TROUBLE_RECORD:"trouble_record",KOP:"kop",REKAP_BBM:"rekap_bbm",PEMANTAUAN_BAHAN_BAKU:"pemantauan_bahan_baku",RIKSA_TIMB_PORTABEL:"riksa_timb_portabel",USERS:"users",SESSIONS:"sessions",APPROVAL_REQUESTS:"approval_requests",MONTHLY_NOTES:"monthly_notes",NOTIFICATIONS:"notifications",CHAT_MESSAGES:"chat_messages",AKUN:"akun",RKAP:"rkap",DOKUMENTASI_FOTO:"dokumentasi_foto",ACTIVE_USERS:"active_users",MATERIALS:"materials",MATERIAL_TRANSACTIONS:"material_transactions"};async function m_(e){return en({action:"uploadPhoto",data:e})}async function g_(e){return en({action:"deletePhoto",data:e})}async function cK(){return _m("?action=getExchangeRate")}async function x_(){return _m("?action=getMaterials")}async function v_(e){return en({action:"addMaterial",data:e})}async function y_(e){return en({action:"updateMaterial",data:e})}async function b_(e){return en({action:"deleteMaterial",data:{id:e}})}async function k_(e,t,r){return en({action:"updateStockMasuk",data:{materialId:e,jumlah:t,keterangan:r}})}async function w_(e,t,r){return en({action:"updateStockKeluar",data:{materialId:e,jumlah:t,keterangan:r}})}async function j_(e){let t="?action=getMaterialTransactions";return e&&(e.material_id&&(t+=`&material_id=${encodeURIComponent(e.material_id)}`),e.start_date&&(t+=`&start_date=${encodeURIComponent(e.start_date)}`),e.end_date&&(t+=`&end_date=${encodeURIComponent(e.end_date)}`)),_m(t)}async function S_(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return en({action:"createWithLog",sheet:n,data:t,userInfo:r})}async function N_(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return en({action:"updateWithLog",sheet:n,data:t,userInfo:r})}async function P_(e,t,r){const n=t._plant==="NPK1"?`${e}_NPK1`:e;return en({action:"deleteWithLog",sheet:n,data:{id:t.id},userInfo:r})}async function xk(e,t){return en({action:"getActivityLogs",filters:{sheet_name:e,record_id:t}})}function vk(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function yk(e){return{create:"Menambahkan",update:"Mengubah",delete:"Menghapus"}[e]||e}function bk(e){return{create:"",update:"",delete:""}[e]||""}const $e=Object.freeze(Object.defineProperty({__proto__:null,SHEETS:wr,addMaterial:v_,createData:sK,createDataWithLog:S_,deleteData:oK,deleteDataWithLog:P_,deleteMaterial:b_,deletePhoto:g_,fetchDataByPlant:lK,getActionDisplayText:yk,getActionIcon:bk,getExchangeRate:cK,getMaterialTransactions:j_,getMaterials:x_,getRecordActivityLogs:xk,getSheetNameByPlant:p_,loginUser:h_,parseActivityLogChanges:vk,readData:Zh,updateData:iK,updateDataWithLog:N_,updateMaterial:y_,updateStockKeluar:w_,updateStockMasuk:k_,uploadPhoto:m_},Symbol.toStringTag,{value:"Module"}));function uK({isVisible:e,onClose:t,notification:r}){const[n,s]=k.useState([]),[i,o]=k.useState(!1),[l,c]=k.useState(null);k.useEffect(()=>{e&&(r!=null&&r.sheetName)&&(r!=null&&r.recordId)&&u()},[e,r]);const u=async()=>{if(!(!(r!=null&&r.sheetName)||!(r!=null&&r.recordId))){o(!0),c(null);try{const p=await xk(r.sheetName,r.recordId);p.success&&p.data?s(p.data):c(p.error||"Gagal memuat log aktivitas")}catch{c("Terjadi kesalahan saat memuat data")}finally{o(!1)}}},d=p=>{try{return new Date(p).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return p}},f=p=>{switch(p){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},h=p=>{const g=vk(p);if(!g)return null;if(g.deleted_data)return a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),a.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(g.deleted_data,null,2)})]});const m=Object.entries(g);return m.length===0?null:a.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),a.jsx("div",{className:"space-y-1",children:m.map(([b,v])=>a.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[b,":"]}),a.jsx("span",{className:"text-red-500 line-through",children:String(v.old||"-")}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(v.new||"-")})]},b))})]})};return a.jsx(Ge,{isOpen:e,onClose:t,title:"Detail Log Aktivitas",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[a.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:r.message}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:d(r.timestamp)})]}),i&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Qh,{})}),l&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),!i&&!l&&n.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-sm",children:"Tidak ada log aktivitas"})]}),!i&&!l&&n.length>0&&a.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Riwayat perubahan data:"}),n.map(p=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:bk(p.action)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ae,{variant:f(p.action),children:yk(p.action)}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:p.user_name||p.user_id})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[p.user_role,"  ",p.plant]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(p.timestamp)})]}),p.record_preview&&a.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Data: "}),p.record_preview]}),h(p.changes)]},p.id))]})]})})}function Br({isOpen:e,onClose:t,sheetName:r,recordId:n,title:s="Log Aktivitas"}){const[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(null);k.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0),d(null);try{const m=await xk(r,n);m.success&&m.data?o(m.data):d(m.error||"Gagal memuat log aktivitas")}catch{d("Terjadi kesalahan saat memuat data")}finally{c(!1)}}},h=m=>{try{return new Date(m).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return m}},p=m=>{switch(m){case"create":return"success";case"update":return"warning";case"delete":return"danger";default:return"default"}},g=m=>{const b=vk(m);if(!b)return null;if(b.deleted_data)return a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-red-700 dark:text-red-400 mb-1",children:"Data yang dihapus:"}),a.jsx("pre",{className:"text-red-600 dark:text-red-300 overflow-auto max-h-32 text-[11px]",children:JSON.stringify(b.deleted_data,null,2)})]});const v=Object.entries(b);return v.length===0?null:a.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-xs",children:[a.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Perubahan:"}),a.jsx("div",{className:"space-y-1",children:v.map(([y,x])=>a.jsxs("div",{className:"flex flex-wrap gap-1 items-center text-[11px]",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[y,":"]}),a.jsx("span",{className:"text-red-500 line-through",children:String(x.old||"-")}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(x.new||"-")})]},y))})]})};return a.jsx(Ge,{isOpen:e,onClose:t,title:s,size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[l&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Qh,{})}),u&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),!l&&!u&&i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-sm",children:"Belum ada log aktivitas untuk data ini"})]}),!l&&!u&&i.length>0&&a.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Riwayat perubahan data (",i.length," aktivitas):"]}),i.map(m=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:bk(m.action)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ae,{variant:p(m.action),children:yk(m.action)}),a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:m.user_name||m.user_id})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[m.user_role,"  ",m.plant]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(m.timestamp)})]}),m.record_preview&&a.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"text-gray-400",children:"Data: "}),m.record_preview]}),g(m.changes)]},m.id))]})]})})}const T_=async e=>{try{const{readData:t,updateData:r,SHEETS:n}=await Me(async()=>{const{readData:l,updateData:c,SHEETS:u}=await Promise.resolve().then(()=>$e);return{readData:l,updateData:c,SHEETS:u}},void 0),o=((await t(n.ACTIVE_USERS)).data||[]).find(l=>l.username===e);o&&await r(n.ACTIVE_USERS,{id:o.id,status:"offline",lastActive:new Date(0).toISOString()})}catch(t){console.error("Error setting offline status:",t)}},dK=()=>{const{user:e}=et(),[t,r]=k.useState([]),[n,s]=k.useState(!1),i=k.useCallback(async()=>{if(e)try{const{readData:u,createData:d,updateData:f,SHEETS:h}=await Me(async()=>{const{readData:v,createData:y,updateData:x,SHEETS:j}=await Promise.resolve().then(()=>$e);return{readData:v,createData:y,updateData:x,SHEETS:j}},void 0),m=((await u(h.ACTIVE_USERS)).data||[]).find(v=>v.username===e.username),b=new Date().toISOString();m?await f(h.ACTIVE_USERS,{id:m.id,lastActive:b,status:"online"}):await d(h.ACTIVE_USERS,{username:e.username,namaLengkap:e.namaLengkap||e.nama||e.username,role:e.role,plant:e.plant,lastActive:b,status:"online"})}catch(u){console.error("Error updating active status:",u)}},[e]),o=k.useCallback(async()=>{try{const{readData:u,SHEETS:d}=await Me(async()=>{const{readData:h,SHEETS:p}=await Promise.resolve().then(()=>$e);return{readData:h,SHEETS:p}},void 0),f=await u(d.ACTIVE_USERS);if(f.success&&f.data){const h=f.data,p=new Date().getTime(),g=45*1e3,m=h.filter(b=>{const v=new Date(b.lastActive).getTime();return p-v<g&&b.status==="online"});r(m)}}catch(u){console.error("Error fetching active users:",u)}},[]);if(k.useEffect(()=>{if(e){i(),o();const u=setInterval(i,15e3),d=setInterval(o,5e3);return()=>{clearInterval(u),clearInterval(d)}}},[e,i,o]),k.useEffect(()=>{const u=()=>{e&&e.username&&T_(e.username)},d=()=>{u()},f=()=>{document.visibilityState==="hidden"?u():document.visibilityState==="visible"&&e&&i()};return window.addEventListener("beforeunload",d),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("beforeunload",d),document.removeEventListener("visibilitychange",f)}},[e,i]),t.length===0)return null;const l=u=>{switch(u){case"admin":return"bg-red-500";case"supervisor":return"bg-blue-500";case"manager":return"bg-purple-500";case"avp":return"bg-emerald-500";default:return"bg-gray-500"}},c=u=>{switch(u){case"NPK1":return"bg-orange-500";case"NPK2":return"bg-cyan-500";case"ALL":return"bg-gradient-to-r from-orange-500 to-cyan-500";default:return"bg-gray-500"}};return a.jsx("div",{className:"bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 text-white overflow-hidden",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:a.jsxs("div",{className:"flex items-center h-8",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 bg-primary-700/50 h-full border-r border-white/20 z-10",children:[a.jsx(Xh,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-xs font-semibold whitespace-nowrap",children:["Online (",t.length,")"]})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative h-full flex items-center",children:a.jsx("div",{className:Oe("marquee-wrapper",n&&"paused"),children:a.jsx("div",{className:"marquee-inner",style:{animationDuration:`${Math.max(t.length*6,15)}s`},children:t.map(u=>a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 mx-3 bg-white/10 rounded-full backdrop-blur-sm",children:[a.jsx(E8,{className:"h-2 w-2 fill-green-400 text-green-400 animate-pulse"}),a.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:u.namaLengkap}),a.jsx("span",{className:Oe("text-[10px] px-1.5 py-0.5 rounded-full text-white font-medium uppercase",l(u.role)),children:u.role}),a.jsx("span",{className:Oe("text-[10px] px-1.5 py-0.5 rounded-full text-white font-medium",c(u.plant)),children:u.plant})]},u.username))})})})]})})},fK=[{name:"Dashboard",path:"/dashboard",icon:a.jsx(M8,{className:"h-5 w-5"})},{name:"Produksi",path:"/produksi",icon:a.jsx(Yh,{className:"h-5 w-5"}),children:[{name:"NPK Granul 1",path:"/produksi/npk1"},{name:"NPK Granul 2",path:"/produksi/npk2"},{name:"Blending",path:"/produksi/blending"},{name:"NPK Mini",path:"/produksi/npk-mini"},{name:"Retail",path:"/produksi/retail"}]},{name:"Laporan",path:"/laporan",icon:a.jsx(ia,{className:"h-5 w-5"}),children:[{name:"KOP NPK1",path:"/laporan/kop-npk1"},{name:"KOP NPK2",path:"/laporan/kop-npk2"},{name:"Timesheet Forklift NPK1",path:"/laporan/timesheet-forklift-npk1"},{name:"Timesheet Forklift NPK2",path:"/laporan/timesheet-forklift-npk2"},{name:"Timesheet Loader NPK1",path:"/laporan/timesheet-loader-npk1"},{name:"Timesheet Loader NPK2",path:"/laporan/timesheet-loader-npk2"},{name:"Downtime NPK1",path:"/laporan/downtime-npk1"},{name:"Downtime NPK2",path:"/laporan/downtime-npk2"},{name:"Pemantauan BB NPK1",path:"/laporan/pemantauan-bb-npk1"},{name:"Pemantauan BB NPK2",path:"/laporan/pemantauan-bb-npk2"}]},{name:"Data",path:"/data",icon:a.jsx(C8,{className:"h-5 w-5"}),children:[{name:"Inventaris Material",path:"/data/inventaris"},{name:"Work Request NPK1",path:"/data/work-request-npk1"},{name:"Work Request NPK2",path:"/data/work-request-npk2"},{name:"Bahan Baku NPK1",path:"/data/bahan-baku-npk1"},{name:"Bahan Baku NPK2",path:"/data/bahan-baku-npk2"},{name:"Vibrasi NPK1",path:"/data/vibrasi-npk1"},{name:"Vibrasi NPK2",path:"/data/vibrasi-npk2"},{name:"Gate Pass NPK1",path:"/data/gate-pass-npk1"},{name:"Gate Pass NPK2",path:"/data/gate-pass-npk2"},{name:"Perbaikan Tahunan NPK1",path:"/data/perbaikan-tahunan-npk1"},{name:"Perbaikan Tahunan NPK2",path:"/data/perbaikan-tahunan-npk2"},{name:"Trouble Record NPK1",path:"/data/trouble-record-npk1"},{name:"Trouble Record NPK2",path:"/data/trouble-record-npk2"},{name:"Dokumentasi Foto NPK1",path:"/data/dokumentasi-foto-npk1"},{name:"Dokumentasi Foto NPK2",path:"/data/dokumentasi-foto-npk2"},{name:"Rekap BBM NPK1",path:"/data/rekap-bbm-npk1"},{name:"Rekap BBM NPK2",path:"/data/rekap-bbm-npk2"},{name:"Riksa Timb Portabel",path:"/data/riksa-timb-portabel"}]},{name:"Pengaturan",path:"/settings",icon:a.jsx(V8,{className:"h-5 w-5"}),children:[{name:"Profil",path:"/settings/akun"},{name:"RKAP",path:"/settings/rkap"},{name:"Users",path:"/settings/users"},{name:"Approval",path:"/settings/approval"}]}],hK=()=>{const e=lc(),{user:t}=et(),[r,n]=k.useState(["Produksi","Laporan","Data","Pengaturan"]),{sidebarCollapsed:s,toggleSidebarCollapse:i,sidebarOpen:o,toggleSidebar:l,forceDesktopView:c}=ym(),[u,d]=k.useState(!1);k.useEffect(()=>{const y=()=>{d(window.innerWidth<1024&&!c)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const f=()=>{u&&o&&!c&&l()},p=(()=>{const y=t==null?void 0:t.plant,x=(t==null?void 0:t.role)||"";return fK.map(j=>{if(j.name==="Pengaturan"){if(!ME(x,y))return null;if(j.children){const w=j.children.filter(N=>N.path==="/settings/users"?$E(x,y):N.path==="/settings/rkap"?RE(x):!0);return w.length===0?null:{...j,children:w}}return j}if(j.name==="Produksi"&&j.children){let w=j.children;return y==="NPK1"?w=j.children.filter(N=>N.path==="/produksi/npk1"||N.path==="/produksi/retail"):y==="NPK2"&&(w=j.children.filter(N=>N.path==="/produksi/npk2"||N.path==="/produksi/blending"||N.path==="/produksi/npk-mini")),{...j,children:w}}if(j.name==="Laporan"&&j.children){let w=j.children;return y==="NPK1"?w=j.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(w=j.children.filter(N=>N.path.includes("npk2"))),{...j,children:w}}if(j.name==="Data"&&j.children){let w=j.children;return y==="NPK1"?w=j.children.filter(N=>N.path.includes("npk1")):y==="NPK2"&&(w=j.children.filter(N=>N.path.includes("npk2")||N.path==="/data/riksa-timb-portabel"||N.path==="/data/inventaris")),{...j,children:w}}return j}).filter(Boolean)})(),g=y=>{n(x=>x.includes(y)?x.filter(j=>j!==y):[...x,y])},m=y=>e.pathname===y,b=y=>y.children?y.children.some(x=>e.pathname===x.path):e.pathname===y.path,v=u&&!c;return a.jsxs(a.Fragment,{children:[v&&o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:l}),a.jsxs("aside",{className:Oe("fixed left-0 top-0 z-50 h-screen bg-white dark:bg-dark-800 border-r border-dark-100 dark:border-dark-700 transition-all duration-300",v?o?"translate-x-0 w-64":"-translate-x-full w-64":s?"w-20":"w-64"),children:[a.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-dark-100 dark:border-dark-700",children:[(!s||v)&&a.jsxs(ex,{to:"/dashboard",className:"flex items-center gap-3",onClick:f,children:[a.jsx("img",{src:"/favicon.png",alt:"PlantIQ Logo",className:"h-9 w-9"}),a.jsx("span",{className:"font-display font-bold text-dark-900 dark:text-white",children:"Plantiffy"}),a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400",children:"v2.3.4"})]}),!v&&a.jsx("button",{onClick:i,className:"p-2 text-dark-500 dark:text-dark-400 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:s?a.jsx(gk,{className:"h-5 w-5"}):a.jsx(mk,{className:"h-5 w-5"})}),v&&a.jsx("button",{onClick:l,className:"p-2 text-dark-500 dark:text-dark-400 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(oa,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"p-4 space-y-1 overflow-y-auto h-[calc(100vh-4rem)]",children:p.map(y=>a.jsx("div",{children:y.children?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>(!s||v)&&g(y.name),className:Oe("w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200",b(y)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700 hover:text-dark-900 dark:hover:text-white"),children:[y.icon,(!s||v)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"flex-1 text-left",children:y.name}),a.jsx(Em,{className:Oe("h-4 w-4 transition-transform duration-200",r.includes(y.name)&&"rotate-180")})]})]}),(!s||v)&&a.jsx(oi,{children:r.includes(y.name)&&a.jsx(ir.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsx("div",{className:"pl-12 py-1 space-y-1",children:y.children.map(x=>a.jsx(ex,{to:x.path,onClick:f,className:Oe("block px-4 py-2 text-sm rounded-lg transition-colors",m(x.path)?"bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-400 font-medium":"text-dark-500 dark:text-dark-400 hover:text-dark-900 dark:hover:text-white hover:bg-dark-50 dark:hover:bg-dark-700"),children:x.name},x.path))})})})]}):a.jsxs(ex,{to:y.path,onClick:f,className:Oe("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200",m(y.path)?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 shadow-sm":"text-dark-600 dark:text-dark-300 hover:bg-dark-50 dark:hover:bg-dark-700 hover:text-dark-900 dark:hover:text-white"),children:[y.icon,(!s||v)&&a.jsx("span",{children:y.name})]})},y.name))})]})]})},pK=()=>{const e=Yd(),{user:t,logout:r}=et(),{sidebarCollapsed:n,toggleSidebar:s,darkMode:i,toggleDarkMode:o,forceDesktopView:l,toggleForceDesktopView:c}=ym(),{notifications:u,unreadCount:d,markAsRead:f,markAllAsRead:h,setNotifications:p}=PI(),{isOpen:g,toggleChat:m,unreadChatCount:b,setUnreadChatCount:v,markChatAsRead:y}=Bh(),[x,j]=k.useState(!1),[w,N]=k.useState(!1),S=k.useRef(null),[P,A]=k.useState(!1),[$,I]=k.useState(!1),[E,_]=k.useState(null),U=D=>{K(D.id),D.sheetName&&D.recordId&&(_(D),I(!0),N(!1))};k.useEffect(()=>{const D=()=>{const R=window.innerWidth<1024||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);A(R)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const K=async D=>{try{f(D);const{updateData:R,SHEETS:z}=await Me(async()=>{const{updateData:V,SHEETS:Z}=await Promise.resolve().then(()=>$e);return{updateData:V,SHEETS:Z}},void 0);await R(z.NOTIFICATIONS,{id:D,read:!0})}catch(R){console.error("Error marking notification as read:",R)}},Y=async()=>{try{h();const{updateData:D,SHEETS:R}=await Me(async()=>{const{updateData:V,SHEETS:Z}=await Promise.resolve().then(()=>$e);return{updateData:V,SHEETS:Z}},void 0),z=u.filter(V=>!V.read);for(const V of z)await D(R.NOTIFICATIONS,{id:V.id,read:!0})}catch(D){console.error("Error marking all notifications as read:",D)}};k.useEffect(()=>{const D=async()=>{try{const{readData:R,SHEETS:z}=await Me(async()=>{const{readData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{readData:Z,SHEETS:B}},void 0),V=await R(z.NOTIFICATIONS);if(V.success&&V.data){const B=V.data.filter(Q=>Q.fromUser===(t==null?void 0:t.username)?!1:Q.toUser==="ALL"||Q.toUser===(t==null?void 0:t.username)||Q.fromPlant===(t==null?void 0:t.plant)).sort((Q,le)=>new Date(le.timestamp).getTime()-new Date(Q.timestamp).getTime());p(B)}}catch(R){console.error("Error loading notifications:",R)}};if(t){D();const R=setInterval(D,1e4);return()=>clearInterval(R)}},[t,p]),k.useEffect(()=>{const D=async()=>{if(t)try{const{readData:R,SHEETS:z}=await Me(async()=>{const{readData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{readData:Z,SHEETS:B}},void 0),V=await R(z.CHAT_MESSAGES);if(V.success&&V.data){const Z=V.data,B=[...Z].sort((ae,G)=>new Date(ae.timestamp).getTime()-new Date(G.timestamp).getTime()),{setMessages:Q,setLastFetchTimestamp:le}=Bh.getState();Q(B),le(new Date().toISOString());const ce=`chat_last_read_${t.username}`,pe=localStorage.getItem(ce),ye=pe?new Date(pe).getTime():0,ue=t.namaLengkap||t.nama||t.username,ve=Z.filter(ae=>ae.sender===ue?!1:new Date(ae.timestamp).getTime()>ye).length;v(ve)}}catch(R){console.error("Error loading chat messages:",R)}};if(t){D();const R=setInterval(D,3e3);return()=>clearInterval(R)}},[t,v]),k.useEffect(()=>{const D=R=>{S.current&&!S.current.contains(R.target)&&N(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const ne=async()=>{t&&t.username&&await T_(t.username),r(),e("/login")};return a.jsxs("header",{className:Oe("fixed top-8 right-0 z-30 h-16 bg-white/80 dark:bg-dark-800/80 backdrop-blur-md border-b border-dark-100 dark:border-dark-700 transition-all duration-300",l?"left-64":"left-0 lg:left-64",n&&(l?"left-20":"lg:left-20")),children:[a.jsxs("div",{className:"h-full px-4 lg:px-6 flex items-center justify-between",children:[!l&&a.jsx("button",{onClick:s,className:"lg:hidden p-2 text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700 rounded-lg",children:a.jsx(I8,{className:"h-5 w-5"})}),a.jsx("div",{className:l?"block":"hidden lg:block"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[P&&a.jsx("button",{onClick:c,className:Oe("p-2 rounded-lg transition-colors",l?"bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-400":"text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),title:l?"Tampilan HP":"Tampilan Desktop",children:l?a.jsx(u_,{className:"h-5 w-5"}):a.jsx(B8,{className:"h-5 w-5"})}),a.jsx("button",{onClick:o,className:Oe("p-2 rounded-lg transition-colors","text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),title:i?"Switch to Light Mode":"Switch to Dark Mode",children:i?a.jsx(H8,{className:"h-5 w-5"}):a.jsx(F8,{className:"h-5 w-5"})}),a.jsxs("button",{onClick:m,className:Oe("relative p-2 rounded-lg transition-colors",g?"bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-400":"text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),children:[a.jsx(gv,{className:"h-5 w-5"}),b>0&&!g&&a.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 text-white text-[10px] font-medium rounded-full flex items-center justify-center",children:b>9?"9+":b})]}),a.jsxs("div",{className:"relative",ref:S,children:[a.jsxs("button",{onClick:()=>N(!w),className:Oe("relative p-2 rounded-lg transition-colors",w?"bg-primary-100 text-primary-600 dark:bg-primary-900/50 dark:text-primary-400":"text-dark-500 hover:bg-dark-100 dark:text-dark-300 dark:hover:bg-dark-700"),children:[a.jsx(qh,{className:"h-5 w-5"}),d>0&&a.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 text-white text-[10px] font-medium rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),a.jsx(oi,{children:w&&a.jsxs(ir.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-dark-800 rounded-xl shadow-lg border border-dark-100 dark:border-dark-700 z-50 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi"}),d>0&&a.jsx("button",{onClick:Y,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Tandai semua dibaca"})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:u.length===0?a.jsxs("div",{className:"px-4 py-8 text-center text-dark-400",children:[a.jsx(qh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Tidak ada notifikasi"})]}):u.slice(0,10).map(D=>a.jsx("div",{className:Oe("px-4 py-3 border-b border-dark-50 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-700 transition-colors",!D.read&&"bg-primary-50 dark:bg-primary-900/30"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:Oe("mt-1 h-2 w-2 rounded-full flex-shrink-0",D.read?"bg-dark-300 dark:bg-dark-500":"bg-primary-500")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-dark-700 dark:text-dark-200 line-clamp-2",children:D.message}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-dark-400",children:_E(D.timestamp)}),a.jsxs("div",{className:"flex items-center gap-2",children:[D.sheetName&&D.recordId&&a.jsxs("button",{onClick:()=>U(D),className:"flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[a.jsx(ki,{className:"h-3 w-3"}),"Lihat Log"]}),!D.read&&a.jsx("button",{onClick:()=>K(D.id),className:"text-xs text-dark-500 hover:text-dark-700 dark:text-dark-400 dark:hover:text-dark-200",children:"Tandai dibaca"})]})]})]})]})},D.id))})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>j(!x),className:"flex items-center gap-3 px-3 py-2 hover:bg-dark-50 dark:hover:bg-dark-700 rounded-xl transition-colors",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:a.jsx(El,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-dark-900 dark:text-white",children:t==null?void 0:t.namaLengkap}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 capitalize",children:t==null?void 0:t.role})]}),a.jsx(Em,{className:"h-4 w-4 text-dark-400"})]}),a.jsx(oi,{children:x&&a.jsxs(ir.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-800 rounded-xl shadow-lg border border-dark-100 dark:border-dark-700 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-dark-100 dark:border-dark-700",children:[a.jsx("p",{className:"text-sm font-medium text-dark-900 dark:text-white",children:t==null?void 0:t.namaLengkap}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ae,{variant:"primary",size:"sm",children:t==null?void 0:t.role}),a.jsx(Ae,{variant:"info",size:"sm",children:t==null?void 0:t.plant})]})]}),a.jsxs("button",{onClick:ne,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(R8,{className:"h-4 w-4"}),"Keluar"]})]})})]})]})]}),a.jsx(uK,{isVisible:$,onClose:()=>{I(!1),_(null)},notification:E})]})},mK=()=>{const{user:e}=et(),{messages:t,isOpen:r,toggleChat:n,addOptimisticMessage:s,removeOptimisticMessage:i,setMessages:o,setUnreadChatCount:l}=Bh(),[c,u]=k.useState(""),[d,f]=k.useState(!1),h=k.useRef(null),p=k.useRef(null),[g,m]=k.useState(!1),b=k.useRef(0),[v,y]=k.useState(null),[x,j]=k.useState(null),w=k.useRef(null),N=k.useRef(null);k.useEffect(()=>{const R=z=>{N.current&&!N.current.contains(z.target)&&y(null)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const S=()=>{const R=p.current;return R?R.scrollHeight-R.scrollTop-R.clientHeight<100:!0},P=()=>{m(!S())},A=(R="smooth")=>{var z;(z=h.current)==null||z.scrollIntoView({behavior:R})};k.useEffect(()=>{if(r&&e){const R=`chat_last_read_${e.username}`,z=new Date().toISOString();localStorage.setItem(R,z),l(0),setTimeout(()=>A("auto"),100)}},[r,e,l]),k.useEffect(()=>{if(r&&e&&t.length>0){const R=`chat_last_read_${e.username}`;localStorage.setItem(R,new Date().toISOString())}},[r,e,t.length]),k.useEffect(()=>{const R=t.length>b.current;b.current=t.length,R&&!g&&A()},[t,g]),k.useEffect(()=>{if(r){const R=setInterval($,3e3);return()=>clearInterval(R)}},[r]);const $=async()=>{try{const{readData:R,SHEETS:z}=await Me(async()=>{const{readData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{readData:Z,SHEETS:B}},void 0),V=await R(z.CHAT_MESSAGES);if(V.success&&V.data){const Z=[...V.data].sort((B,Q)=>new Date(B.timestamp).getTime()-new Date(Q.timestamp).getTime());o(Z)}}catch(R){console.error("Error fetching messages:",R)}},I=(R,z,V)=>{V&&(R.preventDefault(),y({visible:!0,x:R.clientX,y:R.clientY,messageId:z.id,messageText:z.message}))},E=(R,z)=>{z&&(w.current=setTimeout(()=>{y({visible:!0,x:window.innerWidth/2,y:window.innerHeight-200,messageId:R.id,messageText:R.message})},500))},_=()=>{w.current&&(clearTimeout(w.current),w.current=null)},U=async()=>{if(!(!x||!x.text.trim()))try{const{updateData:R,SHEETS:z}=await Me(async()=>{const{updateData:V,SHEETS:Z}=await Promise.resolve().then(()=>$e);return{updateData:V,SHEETS:Z}},void 0);await R(z.CHAT_MESSAGES,{id:x.id,message:x.text.trim(),edited:!0}),o(t.map(V=>V.id===x.id?{...V,message:x.text.trim(),edited:!0}:V)),j(null)}catch(R){console.error("Error editing message:",R)}},K=async R=>{try{const{deleteData:z,SHEETS:V}=await Me(async()=>{const{deleteData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{deleteData:Z,SHEETS:B}},void 0);await z(V.CHAT_MESSAGES,R),o(t.filter(Z=>Z.id!==R)),y(null)}catch(z){console.error("Error deleting message:",z)}},Y=()=>{v&&(j({id:v.messageId,text:v.messageText}),y(null))},ne=async()=>{if(!c.trim()||!e)return;const R=e.namaLengkap||e.nama||e.username,z=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,V=new Date().toISOString(),Z=c.trim(),B={id:z,sender:R,role:e.role,message:Z,timestamp:V};s(B),u("");const Q=`chat_last_read_${e.username}`;localStorage.setItem(Q,V);try{const{createData:le,SHEETS:ce}=await Me(async()=>{const{createData:ue,SHEETS:ve}=await Promise.resolve().then(()=>$e);return{createData:ue,SHEETS:ve}},void 0),pe={sender:R,role:e.role,message:Z,timestamp:V};(await le(ce.CHAT_MESSAGES,pe)).success||(i(z),console.error("Failed to send message"))}catch(le){i(z),console.error("Error sending message:",le)}},D=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),x?U():ne()),R.key==="Escape"&&x&&j(null)};return r?a.jsxs(ir.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"fixed left-4 bottom-4 z-50 w-80 bg-white dark:bg-dark-800 rounded-2xl shadow-2xl border border-dark-100 dark:border-dark-700 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-primary-600 to-primary-500 text-white flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gv,{className:"h-5 w-5"}),a.jsx("span",{className:"font-semibold",children:"Chat Tim"})]}),a.jsx("button",{onClick:n,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(oa,{className:"h-4 w-4"})})]}),(v==null?void 0:v.visible)&&a.jsxs("div",{ref:N,className:"fixed z-[100] bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-200 dark:border-dark-600 py-2 min-w-[140px]",style:{left:Math.min(v.x,window.innerWidth-160),top:Math.min(v.y,window.innerHeight-100)},children:[a.jsxs("button",{onClick:Y,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-dark-700 dark:text-dark-200 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[a.jsx(vx,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>K(v.messageId),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Dt,{className:"h-4 w-4"}),"Hapus"]})]}),a.jsxs("div",{ref:p,onScroll:P,className:"h-80 overflow-y-auto p-4 space-y-3 bg-dark-50 dark:bg-dark-900",children:[t.length===0?a.jsxs("div",{className:"text-center text-dark-400 py-8",children:[a.jsx(gv,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Belum ada pesan"})]}):t.map((R,z)=>{const V=R.sender===((e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||(e==null?void 0:e.username));return a.jsx("div",{className:Oe("flex",V?"justify-end":"justify-start"),children:a.jsxs("div",{onContextMenu:Z=>I(Z,R,V),onTouchStart:()=>E(R,V),onTouchEnd:_,onTouchMove:_,className:Oe("max-w-[80%] rounded-2xl px-4 py-2 select-none",V?"bg-primary-500 text-white rounded-br-md cursor-pointer":"bg-white dark:bg-dark-800 text-dark-700 dark:text-dark-200 rounded-bl-md shadow-sm"),children:[a.jsxs("p",{className:Oe("text-xs font-medium mb-1",V?"text-white/90":"text-primary-600 dark:text-primary-400"),children:[R.sender,a.jsxs("span",{className:Oe("ml-1 font-normal capitalize",V?"text-white/70":"text-dark-400"),children:["(",R.role,")"]})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:R.message}),a.jsxs("p",{className:Oe("text-[10px] mt-1 flex items-center gap-1",V?"text-white/70":"text-dark-400"),children:[new Date(R.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),R.edited&&a.jsx("span",{className:"italic",children:"(diedit)"})]})]})},R.id||z)}),a.jsx("div",{ref:h})]}),x&&a.jsxs("div",{className:"px-3 py-2 bg-amber-100 dark:bg-amber-900/30 border-t border-amber-200 dark:border-amber-700 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 dark:text-amber-300",children:[a.jsx(vx,{className:"h-4 w-4"}),a.jsx("span",{children:"Mengedit pesan"})]}),a.jsx("button",{onClick:()=>j(null),className:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:a.jsx(oa,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"p-3 border-t border-dark-100 dark:border-dark-700 bg-white dark:bg-dark-800",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:x?x.text:c,onChange:R=>x?j({...x,text:R.target.value}):u(R.target.value),onKeyDown:D,placeholder:x?"Edit pesan...":"Ketik pesan...",className:Oe("flex-1 px-4 py-2 bg-dark-50 dark:bg-dark-900 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:border-transparent text-dark-900 dark:text-dark-100",x?"border-amber-300 dark:border-amber-600 focus:ring-amber-500":"border-dark-100 dark:border-dark-600 focus:ring-primary-500")}),a.jsx("button",{onClick:x?U:ne,disabled:x?!x.text.trim():!c.trim()||d,className:Oe("p-2 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors",x?"bg-amber-500 hover:bg-amber-600":"bg-primary-500 hover:bg-primary-600"),children:x?a.jsx(vx,{className:"h-4 w-4"}):a.jsx(l_,{className:"h-4 w-4"})})]})})]}):null},gK=({children:e})=>{const{sidebarCollapsed:t,darkMode:r,forceDesktopView:n}=ym(),{isOpen:s}=Bh();return k.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),k.useEffect(()=>{n?document.documentElement.classList.add("force-desktop"):document.documentElement.classList.remove("force-desktop")},[n]),a.jsxs("div",{className:Oe("min-h-screen bg-dark-50 dark:bg-dark-900 transition-colors duration-300",n&&"force-desktop-view"),children:[a.jsx("div",{className:Oe("fixed top-0 right-0 z-40 transition-all duration-300",n?"left-64":"left-0 lg:left-64",t&&(n?"left-20":"lg:left-20")),children:a.jsx(dK,{})}),a.jsx(hK,{}),a.jsx(pK,{}),a.jsx("main",{className:Oe("pt-24 min-h-screen transition-all duration-300",n?"pl-64":"pl-0 lg:pl-64",t&&(n?"pl-20":"lg:pl-20")),children:a.jsx("div",{className:"p-4 lg:p-6",children:e||a.jsx(RR,{})})}),a.jsx(oi,{children:s&&a.jsx(mK,{})})]})},xK=()=>{const e=Yd(),{login:t}=et(),[r,n]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(""),h=async p=>{p.preventDefault(),f(""),u(!0);try{const g=await h_(r.trim(),s);if(g.success&&g.data){const m=g.data.user,b=g.data.session,v=oL("device");t(m,b.id,v),e("/dashboard")}else f(g.error||"Username atau password salah")}catch(g){console.error("Login error:",g),f("Terjadi kesalahan. Silakan coba lagi.")}finally{u(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-900 via-primary-800 to-dark-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/20 rounded-full blur-3xl"})]}),a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(ir.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center h-16 w-16 rounded-2xl bg-gradient-to-br from-primary-500 to-primary-600 shadow-lg shadow-primary-500/50 mb-4",children:a.jsx(Yh,{className:"h-8 w-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-display font-bold text-white",children:"NPK Production"}),a.jsx("p",{className:"text-primary-200 mt-1",children:"Management System"})]}),a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-6 text-center",children:"Selamat Datang"}),a.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-primary-100",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(El,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder:text-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent transition-all",placeholder:"Masukkan username",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-primary-100",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(mv,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-dark-400"}),a.jsx("input",{type:o?"text":"password",value:s,onChange:p=>i(p.target.value),className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder:text-primary-300 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent transition-all",placeholder:"Masukkan password",required:!0}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 hover:text-white transition-colors",children:o?a.jsx(_8,{className:"h-5 w-5"}):a.jsx(ki,{className:"h-5 w-5"})})]})]}),d&&a.jsx(ir.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm text-center",children:d}),a.jsx(se,{type:"submit",className:"w-full py-3",isLoading:c,children:"Masuk"})]})]}),a.jsx("p",{className:"text-center text-primary-300 text-sm mt-6",children:" 2025 NPK Production Management System"})]})]})};var vK=Array.isArray,un=vK,yK=typeof hf=="object"&&hf&&hf.Object===Object&&hf,O_=yK,bK=O_,kK=typeof self=="object"&&self&&self.Object===Object&&self,wK=bK||kK||Function("return this")(),Sa=wK,jK=Sa,SK=jK.Symbol,tf=SK,CS=tf,A_=Object.prototype,NK=A_.hasOwnProperty,PK=A_.toString,Ic=CS?CS.toStringTag:void 0;function TK(e){var t=NK.call(e,Ic),r=e[Ic];try{e[Ic]=void 0;var n=!0}catch{}var s=PK.call(e);return n&&(t?e[Ic]=r:delete e[Ic]),s}var OK=TK,AK=Object.prototype,EK=AK.toString;function CK(e){return EK.call(e)}var _K=CK,_S=tf,DK=OK,MK=_K,$K="[object Null]",RK="[object Undefined]",DS=_S?_S.toStringTag:void 0;function IK(e){return e==null?e===void 0?RK:$K:DS&&DS in Object(e)?DK(e):MK(e)}var rs=IK;function LK(e){return e!=null&&typeof e=="object"}var ns=LK,BK=rs,FK=ns,KK="[object Symbol]";function zK(e){return typeof e=="symbol"||FK(e)&&BK(e)==KK}var dc=zK,VK=un,HK=dc,UK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WK=/^\w*$/;function GK(e,t){if(VK(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||HK(e)?!0:WK.test(e)||!UK.test(e)||t!=null&&e in Object(t)}var kk=GK;function qK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wi=qK;const fc=dt(wi);var YK=rs,JK=wi,XK="[object AsyncFunction]",QK="[object Function]",ZK="[object GeneratorFunction]",ez="[object Proxy]";function tz(e){if(!JK(e))return!1;var t=YK(e);return t==QK||t==ZK||t==XK||t==ez}var wk=tz;const Ke=dt(wk);var rz=Sa,nz=rz["__core-js_shared__"],az=nz,bx=az,MS=function(){var e=/[^.]+$/.exec(bx&&bx.keys&&bx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sz(e){return!!MS&&MS in e}var iz=sz,oz=Function.prototype,lz=oz.toString;function cz(e){if(e!=null){try{return lz.call(e)}catch{}try{return e+""}catch{}}return""}var E_=cz,uz=wk,dz=iz,fz=wi,hz=E_,pz=/[\\^$.*+?()[\]{}|]/g,mz=/^\[object .+?Constructor\]$/,gz=Function.prototype,xz=Object.prototype,vz=gz.toString,yz=xz.hasOwnProperty,bz=RegExp("^"+vz.call(yz).replace(pz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kz(e){if(!fz(e)||dz(e))return!1;var t=uz(e)?bz:mz;return t.test(hz(e))}var wz=kz;function jz(e,t){return e==null?void 0:e[t]}var Sz=jz,Nz=wz,Pz=Sz;function Tz(e,t){var r=Pz(e,t);return Nz(r)?r:void 0}var No=Tz,Oz=No,Az=Oz(Object,"create"),Dm=Az,$S=Dm;function Ez(){this.__data__=$S?$S(null):{},this.size=0}var Cz=Ez;function _z(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dz=_z,Mz=Dm,$z="__lodash_hash_undefined__",Rz=Object.prototype,Iz=Rz.hasOwnProperty;function Lz(e){var t=this.__data__;if(Mz){var r=t[e];return r===$z?void 0:r}return Iz.call(t,e)?t[e]:void 0}var Bz=Lz,Fz=Dm,Kz=Object.prototype,zz=Kz.hasOwnProperty;function Vz(e){var t=this.__data__;return Fz?t[e]!==void 0:zz.call(t,e)}var Hz=Vz,Uz=Dm,Wz="__lodash_hash_undefined__";function Gz(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Uz&&t===void 0?Wz:t,this}var qz=Gz,Yz=Cz,Jz=Dz,Xz=Bz,Qz=Hz,Zz=qz;function hc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hc.prototype.clear=Yz;hc.prototype.delete=Jz;hc.prototype.get=Xz;hc.prototype.has=Qz;hc.prototype.set=Zz;var eV=hc;function tV(){this.__data__=[],this.size=0}var rV=tV;function nV(e,t){return e===t||e!==e&&t!==t}var jk=nV,aV=jk;function sV(e,t){for(var r=e.length;r--;)if(aV(e[r][0],t))return r;return-1}var Mm=sV,iV=Mm,oV=Array.prototype,lV=oV.splice;function cV(e){var t=this.__data__,r=iV(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():lV.call(t,r,1),--this.size,!0}var uV=cV,dV=Mm;function fV(e){var t=this.__data__,r=dV(t,e);return r<0?void 0:t[r][1]}var hV=fV,pV=Mm;function mV(e){return pV(this.__data__,e)>-1}var gV=mV,xV=Mm;function vV(e,t){var r=this.__data__,n=xV(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var yV=vV,bV=rV,kV=uV,wV=hV,jV=gV,SV=yV;function pc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pc.prototype.clear=bV;pc.prototype.delete=kV;pc.prototype.get=wV;pc.prototype.has=jV;pc.prototype.set=SV;var $m=pc,NV=No,PV=Sa,TV=NV(PV,"Map"),Sk=TV,RS=eV,OV=$m,AV=Sk;function EV(){this.size=0,this.__data__={hash:new RS,map:new(AV||OV),string:new RS}}var CV=EV;function _V(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var DV=_V,MV=DV;function $V(e,t){var r=e.__data__;return MV(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Rm=$V,RV=Rm;function IV(e){var t=RV(this,e).delete(e);return this.size-=t?1:0,t}var LV=IV,BV=Rm;function FV(e){return BV(this,e).get(e)}var KV=FV,zV=Rm;function VV(e){return zV(this,e).has(e)}var HV=VV,UV=Rm;function WV(e,t){var r=UV(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var GV=WV,qV=CV,YV=LV,JV=KV,XV=HV,QV=GV;function mc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mc.prototype.clear=qV;mc.prototype.delete=YV;mc.prototype.get=JV;mc.prototype.has=XV;mc.prototype.set=QV;var Nk=mc,C_=Nk,ZV="Expected a function";function Pk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZV);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Pk.Cache||C_),r}Pk.Cache=C_;var __=Pk;const e7=dt(__);var t7=__,r7=500;function n7(e){var t=t7(e,function(n){return r.size===r7&&r.clear(),n}),r=t.cache;return t}var a7=n7,s7=a7,i7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o7=/\\(\\)?/g,l7=s7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(i7,function(r,n,s,i){t.push(s?i.replace(o7,"$1"):n||r)}),t}),c7=l7;function u7(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Tk=u7,IS=tf,d7=Tk,f7=un,h7=dc,LS=IS?IS.prototype:void 0,BS=LS?LS.toString:void 0;function D_(e){if(typeof e=="string")return e;if(f7(e))return d7(e,D_)+"";if(h7(e))return BS?BS.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var p7=D_,m7=p7;function g7(e){return e==null?"":m7(e)}var M_=g7,x7=un,v7=kk,y7=c7,b7=M_;function k7(e,t){return x7(e)?e:v7(e,t)?[e]:y7(b7(e))}var $_=k7,w7=dc;function j7(e){if(typeof e=="string"||w7(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Im=j7,S7=$_,N7=Im;function P7(e,t){t=S7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[N7(t[r++])];return r&&r==n?e:void 0}var Ok=P7,T7=Ok;function O7(e,t,r){var n=e==null?void 0:T7(e,t);return n===void 0?r:n}var R_=O7;const bn=dt(R_);function A7(e){return e==null}var E7=A7;const He=dt(E7);var C7=rs,_7=un,D7=ns,M7="[object String]";function $7(e){return typeof e=="string"||!_7(e)&&D7(e)&&C7(e)==M7}var R7=$7;const ho=dt(R7);var I_={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=Symbol.for("react.element"),Ek=Symbol.for("react.portal"),Lm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),zm=Symbol.for("react.context"),I7=Symbol.for("react.server_context"),Vm=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Um=Symbol.for("react.suspense_list"),Wm=Symbol.for("react.memo"),Gm=Symbol.for("react.lazy"),L7=Symbol.for("react.offscreen"),L_;L_=Symbol.for("react.module.reference");function Kn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ak:switch(e=e.type,e){case Lm:case Fm:case Bm:case Hm:case Um:return e;default:switch(e=e&&e.$$typeof,e){case I7:case zm:case Vm:case Gm:case Wm:case Km:return e;default:return t}}case Ek:return t}}}ht.ContextConsumer=zm;ht.ContextProvider=Km;ht.Element=Ak;ht.ForwardRef=Vm;ht.Fragment=Lm;ht.Lazy=Gm;ht.Memo=Wm;ht.Portal=Ek;ht.Profiler=Fm;ht.StrictMode=Bm;ht.Suspense=Hm;ht.SuspenseList=Um;ht.isAsyncMode=function(){return!1};ht.isConcurrentMode=function(){return!1};ht.isContextConsumer=function(e){return Kn(e)===zm};ht.isContextProvider=function(e){return Kn(e)===Km};ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ak};ht.isForwardRef=function(e){return Kn(e)===Vm};ht.isFragment=function(e){return Kn(e)===Lm};ht.isLazy=function(e){return Kn(e)===Gm};ht.isMemo=function(e){return Kn(e)===Wm};ht.isPortal=function(e){return Kn(e)===Ek};ht.isProfiler=function(e){return Kn(e)===Fm};ht.isStrictMode=function(e){return Kn(e)===Bm};ht.isSuspense=function(e){return Kn(e)===Hm};ht.isSuspenseList=function(e){return Kn(e)===Um};ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lm||e===Fm||e===Bm||e===Hm||e===Um||e===L7||typeof e=="object"&&e!==null&&(e.$$typeof===Gm||e.$$typeof===Wm||e.$$typeof===Km||e.$$typeof===zm||e.$$typeof===Vm||e.$$typeof===L_||e.getModuleId!==void 0)};ht.typeOf=Kn;I_.exports=ht;var B7=I_.exports,F7=rs,K7=ns,z7="[object Number]";function V7(e){return typeof e=="number"||K7(e)&&F7(e)==z7}var B_=V7;const H7=dt(B_);var U7=B_;function W7(e){return U7(e)&&e!=+e}var G7=W7;const rf=dt(G7);var qr=function(t){return t===0?0:t>0?1:-1},Yi=function(t){return ho(t)&&t.indexOf("%")===t.length-1},je=function(t){return H7(t)&&!rf(t)},q7=function(t){return He(t)},cr=function(t){return je(t)||ho(t)},Y7=0,gc=function(t){var r=++Y7;return"".concat(t||"").concat(r)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!ho(t))return n;var i;if(Yi(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return rf(i)&&(i=n),s&&i>r&&(i=r),i},Ws=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},J7=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},gn=function(t,r){return je(t)&&je(r)?function(n){return t+n*(r-t)}:function(){return r}};function ep(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):bn(n,t))===r})}var X7=function(t,r){return je(t)&&je(r)?t-r:ho(t)&&ho(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ml(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}var Q7=["viewBox","children"],Z7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FS=["points","pathLength"],kx={svg:Q7,polygon:FS,polyline:FS},Ck=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!fc(n))return null;var s={};return Object.keys(n).forEach(function(i){Ck.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},eH=function(t,r,n){return function(s){return t(r,n,s),null}},po=function(t,r,n){if(!fc(t)||xv(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Ck.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=eH(o,r,n))}),s},tH=["children"],rH=["children"];function KS(e,t){if(e==null)return{};var r=nH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}var zS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ha=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},VS=null,wx=null,_k=function e(t){if(t===VS&&Array.isArray(wx))return wx;var r=[];return k.Children.forEach(t,function(n){He(n)||(B7.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),wx=r,VS=t,r};function kn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ha(s)}):n=[Ha(t)],_k(e).forEach(function(s){var i=bn(s,"type.displayName")||bn(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function mn(e,t){var r=kn(e,t);return r&&r[0]}var HS=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!je(n)||n<=0||!je(s)||s<=0)},aH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sH=function(t){return t&&t.type&&ho(t.type)&&aH.indexOf(t.type)>=0},iH=function(t){return t&&vv(t)==="object"&&"clipDot"in t},oH=function(t,r,n,s){var i,o=(i=kx==null?void 0:kx[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ke(t)&&(s&&o.includes(r)||Z7.includes(r))||n&&Ck.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(k.isValidElement(t)&&(s=t.props),!fc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;oH((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},yv=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return US(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!US(i,o))return!1}return!0},US=function(t,r){if(He(t)&&He(r))return!0;if(!He(t)&&!He(r)){var n=t.props||{},s=n.children,i=KS(n,tH),o=r.props||{},l=o.children,c=KS(o,rH);return s&&l?ml(i,c)&&yv(s,l):!s&&!l?ml(i,c):!1}return!1},WS=function(t,r){var n=[],s={};return _k(t).forEach(function(i,o){if(sH(i))n.push(i);else if(i){var l=Ha(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},lH=function(t){var r=t&&t.type;return r&&zS[r]?zS[r]:null},cH=function(t,r){return _k(r).indexOf(t)},uH=["children","width","height","viewBox","className","style","title","desc"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(this,arguments)}function dH(e,t){if(e==null)return{};var r=fH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kv(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=dH(e,uH),d=s||{width:r,height:n,x:0,y:0},f=Ue("recharts-surface",i);return ee.createElement("svg",bv({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ee.createElement("title",null,l),ee.createElement("desc",null,c),t)}var hH=["children","className"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}function pH(e,t){if(e==null)return{};var r=mH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ot=ee.forwardRef(function(e,t){var r=e.children,n=e.className,s=pH(e,hH),i=Ue("recharts-layer",n);return ee.createElement("g",wv({className:i},Re(s,!0),{ref:t}),r)}),na=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function gH(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var xH=gH,vH=xH;function yH(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:vH(e,t,r)}var bH=yH,kH="\\ud800-\\udfff",wH="\\u0300-\\u036f",jH="\\ufe20-\\ufe2f",SH="\\u20d0-\\u20ff",NH=wH+jH+SH,PH="\\ufe0e\\ufe0f",TH="\\u200d",OH=RegExp("["+TH+kH+NH+PH+"]");function AH(e){return OH.test(e)}var F_=AH;function EH(e){return e.split("")}var CH=EH,K_="\\ud800-\\udfff",_H="\\u0300-\\u036f",DH="\\ufe20-\\ufe2f",MH="\\u20d0-\\u20ff",$H=_H+DH+MH,RH="\\ufe0e\\ufe0f",IH="["+K_+"]",jv="["+$H+"]",Sv="\\ud83c[\\udffb-\\udfff]",LH="(?:"+jv+"|"+Sv+")",z_="[^"+K_+"]",V_="(?:\\ud83c[\\udde6-\\uddff]){2}",H_="[\\ud800-\\udbff][\\udc00-\\udfff]",BH="\\u200d",U_=LH+"?",W_="["+RH+"]?",FH="(?:"+BH+"(?:"+[z_,V_,H_].join("|")+")"+W_+U_+")*",KH=W_+U_+FH,zH="(?:"+[z_+jv+"?",jv,V_,H_,IH].join("|")+")",VH=RegExp(Sv+"(?="+Sv+")|"+zH+KH,"g");function HH(e){return e.match(VH)||[]}var UH=HH,WH=CH,GH=F_,qH=UH;function YH(e){return GH(e)?qH(e):WH(e)}var JH=YH,XH=bH,QH=F_,ZH=JH,eU=M_;function tU(e){return function(t){t=eU(t);var r=QH(t)?ZH(t):void 0,n=r?r[0]:t.charAt(0),s=r?XH(r,1).join(""):t.slice(1);return n[e]()+s}}var rU=tU,nU=rU,aU=nU("toUpperCase"),sU=aU;const qm=dt(sU);function yt(e){return function(){return e}}const G_=Math.cos,rp=Math.sin,la=Math.sqrt,np=Math.PI,Ym=2*np,Nv=Math.PI,Pv=2*Nv,Ii=1e-6,iU=Pv-Ii;function q_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q_;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class lU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q_:oU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ii)if(!(Math.abs(f*c-u*d)>Ii)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,b=p*p+g*g,v=Math.sqrt(m),y=Math.sqrt(h),x=i*Math.tan((Nv-Math.acos((m+h-b)/(2*v*y)))/2),j=x/y,w=x/v;Math.abs(j-1)>Ii&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ii||Math.abs(this._y1-d)>Ii)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Pv+Pv),h>iU?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ii&&this._append`A${n},${n},0,${+(h>=Nv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Dk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lU(t)}function Mk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y_(e){this._context=e}Y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jm(e){return new Y_(e)}function J_(e){return e[0]}function X_(e){return e[1]}function Q_(e,t){var r=yt(!0),n=null,s=Jm,i=null,o=Dk(l);e=typeof e=="function"?e:e===void 0?J_:yt(e),t=typeof t=="function"?t:t===void 0?X_:yt(t);function l(c){var u,d=(c=Mk(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:yt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function $f(e,t,r){var n=null,s=yt(!0),i=null,o=Jm,l=null,c=Dk(u);e=typeof e=="function"?e:e===void 0?J_:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?X_:yt(+r);function u(f){var h,p,g,m=(f=Mk(f)).length,b,v=!1,y,x=new Array(m),j=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&s(b=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(x[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(x[h]=+e(b,h,f),j[h]=+t(b,h,f),l.point(n?+n(b,h,f):x[h],r?+r(b,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return Q_().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:yt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:yt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:yt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Z_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cU(e){return new Z_(e,!0)}function uU(e){return new Z_(e,!1)}const $k={draw(e,t){const r=la(t/np);e.moveTo(r,0),e.arc(0,0,r,0,Ym)}},dU={draw(e,t){const r=la(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},e4=la(1/3),fU=e4*2,hU={draw(e,t){const r=la(t/fU),n=r*e4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},pU={draw(e,t){const r=la(t),n=-r/2;e.rect(n,n,r,r)}},mU=.8908130915292852,t4=rp(np/10)/rp(7*np/10),gU=rp(Ym/10)*t4,xU=-G_(Ym/10)*t4,vU={draw(e,t){const r=la(t*mU),n=gU*r,s=xU*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Ym*i/5,l=G_(o),c=rp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},jx=la(3),yU={draw(e,t){const r=-la(t/(jx*3));e.moveTo(0,r*2),e.lineTo(-jx*r,-r),e.lineTo(jx*r,-r),e.closePath()}},On=-.5,An=la(3)/2,Tv=1/la(12),bU=(Tv/2+1)*3,kU={draw(e,t){const r=la(t/bU),n=r/2,s=r*Tv,i=n,o=r*Tv+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(On*n-An*s,An*n+On*s),e.lineTo(On*i-An*o,An*i+On*o),e.lineTo(On*l-An*c,An*l+On*c),e.lineTo(On*n+An*s,On*s-An*n),e.lineTo(On*i+An*o,On*o-An*i),e.lineTo(On*l+An*c,On*c-An*l),e.closePath()}};function wU(e,t){let r=null,n=Dk(s);e=typeof e=="function"?e:yt(e||$k),t=typeof t=="function"?t:yt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:yt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:yt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function ap(){}function sp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function r4(e){this._context=e}r4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jU(e){return new r4(e)}function n4(e){this._context=e}n4.prototype={areaStart:ap,areaEnd:ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SU(e){return new n4(e)}function a4(e){this._context=e}a4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NU(e){return new a4(e)}function s4(e){this._context=e}s4.prototype={areaStart:ap,areaEnd:ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PU(e){return new s4(e)}function GS(e){return e<0?-1:1}function qS(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(GS(i)+GS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function YS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Sx(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function ip(e){this._context=e}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sx(this,this._t0,YS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Sx(this,YS(this,r=qS(this,e,t)),r);break;default:Sx(this,this._t0,r=qS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function i4(e){this._context=new o4(e)}(i4.prototype=Object.create(ip.prototype)).point=function(e,t){ip.prototype.point.call(this,t,e)};function o4(e){this._context=e}o4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function TU(e){return new ip(e)}function OU(e){return new i4(e)}function l4(e){this._context=e}l4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=JS(e),s=JS(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function JS(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function AU(e){return new l4(e)}function Xm(e,t){this._context=e,this._t=t}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function EU(e){return new Xm(e,.5)}function CU(e){return new Xm(e,0)}function _U(e){return new Xm(e,1)}function Cl(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Ov(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function DU(e,t){return e[t]}function MU(e){const t=[];return t.key=e,t}function $U(){var e=yt([]),t=Ov,r=Cl,n=DU;function s(i){var o=Array.from(e.apply(this,arguments),MU),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Mk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:yt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:yt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Ov:typeof i=="function"?i:yt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Cl,s):r},s}function RU(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Cl(e,t)}}function IU(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Cl(e,t)}}function LU(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],b=m[n][1]||0,v=m[n-1][1]||0;p+=b-v}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Cl(e,t)}}function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}var BU=["type","size","sizeType"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return t=KU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=zU(e,"string");return cd(t)=="symbol"?t:t+""}function zU(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VU(e,t){if(e==null)return{};var r=HU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var c4={symbolCircle:$k,symbolCross:dU,symbolDiamond:hU,symbolSquare:pU,symbolStar:vU,symbolTriangle:yU,symbolWye:kU},UU=Math.PI/180,WU=function(t){var r="symbol".concat(qm(t));return c4[r]||$k},GU=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*UU;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qU=function(t,r){c4["symbol".concat(qm(t))]=r},Rk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=VU(t,BU),u=QS(QS({},c),{},{type:n,size:i,sizeType:l}),d=function(){var b=WU(n),v=wU().type(b).size(GU(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,g=Re(u,!0);return h===+h&&p===+p&&i===+i?ee.createElement("path",Av({},g,{className:Ue("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Rk.registerSymbol=qU;function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(this,arguments)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d4(n.key),n)}}function QU(e,t,r){return t&&XU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZU(e,t,r){return t=op(t),e9(e,u4()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function e9(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t9(e)}function t9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(e)}function r9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Cv(e,t)}function ud(e,t,r){return t=d4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d4(e){var t=n9(e,"string");return _l(t)=="symbol"?t:t+""}function n9(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var En=32,Ik=function(e){function t(){return JU(this,t),ZU(this,t,arguments)}return r9(t,e),QU(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=En/2,o=En/6,l=En/3,c=n.inactive?s:n.color;if(n.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:En,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(En,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ee.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(En/8,"h").concat(En,"v").concat(En*3/4,"h").concat(-En,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(n.legendIcon)){var u=YU({},n);return delete u.legendIcon,ee.cloneElement(n.legendIcon,u)}return ee.createElement(Rk,{fill:c,cx:i,cy:i,size:En,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:En,height:En},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,b=Ue(ud(ud({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ke(p.value)?null:p.value;na(!Ke(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return ee.createElement("li",Ev({className:b,style:f,key:"legend-item-".concat(g)},po(n.props,p,g)),ee.createElement(kv,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(v,p,g):v))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);ud(Ik,"displayName","Legend");ud(Ik,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var a9=$m;function s9(){this.__data__=new a9,this.size=0}var i9=s9;function o9(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var l9=o9;function c9(e){return this.__data__.get(e)}var u9=c9;function d9(e){return this.__data__.has(e)}var f9=d9,h9=$m,p9=Sk,m9=Nk,g9=200;function x9(e,t){var r=this.__data__;if(r instanceof h9){var n=r.__data__;if(!p9||n.length<g9-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m9(n)}return r.set(e,t),this.size=r.size,this}var v9=x9,y9=$m,b9=i9,k9=l9,w9=u9,j9=f9,S9=v9;function xc(e){var t=this.__data__=new y9(e);this.size=t.size}xc.prototype.clear=b9;xc.prototype.delete=k9;xc.prototype.get=w9;xc.prototype.has=j9;xc.prototype.set=S9;var f4=xc,N9="__lodash_hash_undefined__";function P9(e){return this.__data__.set(e,N9),this}var T9=P9;function O9(e){return this.__data__.has(e)}var A9=O9,E9=Nk,C9=T9,_9=A9;function lp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new E9;++t<r;)this.add(e[t])}lp.prototype.add=lp.prototype.push=C9;lp.prototype.has=_9;var h4=lp;function D9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var p4=D9;function M9(e,t){return e.has(t)}var m4=M9,$9=h4,R9=p4,I9=m4,L9=1,B9=2;function F9(e,t,r,n,s,i){var o=r&L9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&B9?new $9:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var b=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!R9(t,function(v,y){if(!I9(p,y)&&(g===v||s(g,v,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var g4=F9,K9=Sa,z9=K9.Uint8Array,V9=z9;function H9(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var U9=H9;function W9(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Lk=W9,eN=tf,tN=V9,G9=jk,q9=g4,Y9=U9,J9=Lk,X9=1,Q9=2,Z9="[object Boolean]",eW="[object Date]",tW="[object Error]",rW="[object Map]",nW="[object Number]",aW="[object RegExp]",sW="[object Set]",iW="[object String]",oW="[object Symbol]",lW="[object ArrayBuffer]",cW="[object DataView]",rN=eN?eN.prototype:void 0,Nx=rN?rN.valueOf:void 0;function uW(e,t,r,n,s,i,o){switch(r){case cW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lW:return!(e.byteLength!=t.byteLength||!i(new tN(e),new tN(t)));case Z9:case eW:case nW:return G9(+e,+t);case tW:return e.name==t.name&&e.message==t.message;case aW:case iW:return e==t+"";case rW:var l=Y9;case sW:var c=n&X9;if(l||(l=J9),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Q9,o.set(e,t);var d=q9(l(e),l(t),n,s,i,o);return o.delete(e),d;case oW:if(Nx)return Nx.call(e)==Nx.call(t)}return!1}var dW=uW;function fW(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var x4=fW,hW=x4,pW=un;function mW(e,t,r){var n=t(e);return pW(e)?n:hW(n,r(e))}var gW=mW;function xW(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var vW=xW;function yW(){return[]}var bW=yW,kW=vW,wW=bW,jW=Object.prototype,SW=jW.propertyIsEnumerable,nN=Object.getOwnPropertySymbols,NW=nN?function(e){return e==null?[]:(e=Object(e),kW(nN(e),function(t){return SW.call(e,t)}))}:wW,PW=NW;function TW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var OW=TW,AW=rs,EW=ns,CW="[object Arguments]";function _W(e){return EW(e)&&AW(e)==CW}var DW=_W,aN=DW,MW=ns,v4=Object.prototype,$W=v4.hasOwnProperty,RW=v4.propertyIsEnumerable,IW=aN(function(){return arguments}())?aN:function(e){return MW(e)&&$W.call(e,"callee")&&!RW.call(e,"callee")},Bk=IW,cp={exports:{}};function LW(){return!1}var BW=LW;cp.exports;(function(e,t){var r=Sa,n=BW,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cp,cp.exports);var y4=cp.exports,FW=9007199254740991,KW=/^(?:0|[1-9]\d*)$/;function zW(e,t){var r=typeof e;return t=t??FW,!!t&&(r=="number"||r!="symbol"&&KW.test(e))&&e>-1&&e%1==0&&e<t}var Fk=zW,VW=9007199254740991;function HW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=VW}var Kk=HW,UW=rs,WW=Kk,GW=ns,qW="[object Arguments]",YW="[object Array]",JW="[object Boolean]",XW="[object Date]",QW="[object Error]",ZW="[object Function]",eG="[object Map]",tG="[object Number]",rG="[object Object]",nG="[object RegExp]",aG="[object Set]",sG="[object String]",iG="[object WeakMap]",oG="[object ArrayBuffer]",lG="[object DataView]",cG="[object Float32Array]",uG="[object Float64Array]",dG="[object Int8Array]",fG="[object Int16Array]",hG="[object Int32Array]",pG="[object Uint8Array]",mG="[object Uint8ClampedArray]",gG="[object Uint16Array]",xG="[object Uint32Array]",Tt={};Tt[cG]=Tt[uG]=Tt[dG]=Tt[fG]=Tt[hG]=Tt[pG]=Tt[mG]=Tt[gG]=Tt[xG]=!0;Tt[qW]=Tt[YW]=Tt[oG]=Tt[JW]=Tt[lG]=Tt[XW]=Tt[QW]=Tt[ZW]=Tt[eG]=Tt[tG]=Tt[rG]=Tt[nG]=Tt[aG]=Tt[sG]=Tt[iG]=!1;function vG(e){return GW(e)&&WW(e.length)&&!!Tt[UW(e)]}var yG=vG;function bG(e){return function(t){return e(t)}}var b4=bG,up={exports:{}};up.exports;(function(e,t){var r=O_,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(up,up.exports);var kG=up.exports,wG=yG,jG=b4,sN=kG,iN=sN&&sN.isTypedArray,SG=iN?jG(iN):wG,k4=SG,NG=OW,PG=Bk,TG=un,OG=y4,AG=Fk,EG=k4,CG=Object.prototype,_G=CG.hasOwnProperty;function DG(e,t){var r=TG(e),n=!r&&PG(e),s=!r&&!n&&OG(e),i=!r&&!n&&!s&&EG(e),o=r||n||s||i,l=o?NG(e.length,String):[],c=l.length;for(var u in e)(t||_G.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||AG(u,c)))&&l.push(u);return l}var MG=DG,$G=Object.prototype;function RG(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$G;return e===r}var IG=RG;function LG(e,t){return function(r){return e(t(r))}}var w4=LG,BG=w4,FG=BG(Object.keys,Object),KG=FG,zG=IG,VG=KG,HG=Object.prototype,UG=HG.hasOwnProperty;function WG(e){if(!zG(e))return VG(e);var t=[];for(var r in Object(e))UG.call(e,r)&&r!="constructor"&&t.push(r);return t}var GG=WG,qG=wk,YG=Kk;function JG(e){return e!=null&&YG(e.length)&&!qG(e)}var nf=JG,XG=MG,QG=GG,ZG=nf;function eq(e){return ZG(e)?XG(e):QG(e)}var Qm=eq,tq=gW,rq=PW,nq=Qm;function aq(e){return tq(e,nq,rq)}var sq=aq,oN=sq,iq=1,oq=Object.prototype,lq=oq.hasOwnProperty;function cq(e,t,r,n,s,i){var o=r&iq,l=oN(e),c=l.length,u=oN(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:lq.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<c;){h=l[f];var v=e[h],y=t[h];if(n)var x=o?n(y,v,h,t,e,i):n(v,y,h,e,t,i);if(!(x===void 0?v===y||s(v,y,r,n,i):x)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(e),i.delete(t),m}var uq=cq,dq=No,fq=Sa,hq=dq(fq,"DataView"),pq=hq,mq=No,gq=Sa,xq=mq(gq,"Promise"),vq=xq,yq=No,bq=Sa,kq=yq(bq,"Set"),j4=kq,wq=No,jq=Sa,Sq=wq(jq,"WeakMap"),Nq=Sq,_v=pq,Dv=Sk,Mv=vq,$v=j4,Rv=Nq,S4=rs,vc=E_,lN="[object Map]",Pq="[object Object]",cN="[object Promise]",uN="[object Set]",dN="[object WeakMap]",fN="[object DataView]",Tq=vc(_v),Oq=vc(Dv),Aq=vc(Mv),Eq=vc($v),Cq=vc(Rv),Li=S4;(_v&&Li(new _v(new ArrayBuffer(1)))!=fN||Dv&&Li(new Dv)!=lN||Mv&&Li(Mv.resolve())!=cN||$v&&Li(new $v)!=uN||Rv&&Li(new Rv)!=dN)&&(Li=function(e){var t=S4(e),r=t==Pq?e.constructor:void 0,n=r?vc(r):"";if(n)switch(n){case Tq:return fN;case Oq:return lN;case Aq:return cN;case Eq:return uN;case Cq:return dN}return t});var _q=Li,Px=f4,Dq=g4,Mq=dW,$q=uq,hN=_q,pN=un,mN=y4,Rq=k4,Iq=1,gN="[object Arguments]",xN="[object Array]",Rf="[object Object]",Lq=Object.prototype,vN=Lq.hasOwnProperty;function Bq(e,t,r,n,s,i){var o=pN(e),l=pN(t),c=o?xN:hN(e),u=l?xN:hN(t);c=c==gN?Rf:c,u=u==gN?Rf:u;var d=c==Rf,f=u==Rf,h=c==u;if(h&&mN(e)){if(!mN(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Px),o||Rq(e)?Dq(e,t,r,n,s,i):Mq(e,t,c,r,n,s,i);if(!(r&Iq)){var p=d&&vN.call(e,"__wrapped__"),g=f&&vN.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,b=g?t.value():t;return i||(i=new Px),s(m,b,r,n,i)}}return h?(i||(i=new Px),$q(e,t,r,n,s,i)):!1}var Fq=Bq,Kq=Fq,yN=ns;function N4(e,t,r,n,s){return e===t?!0:e==null||t==null||!yN(e)&&!yN(t)?e!==e&&t!==t:Kq(e,t,r,n,N4,s)}var zk=N4,zq=f4,Vq=zk,Hq=1,Uq=2;function Wq(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new zq;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Vq(d,u,Hq|Uq,n,f):h))return!1}}return!0}var Gq=Wq,qq=wi;function Yq(e){return e===e&&!qq(e)}var P4=Yq,Jq=P4,Xq=Qm;function Qq(e){for(var t=Xq(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Jq(s)]}return t}var Zq=Qq;function eY(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var T4=eY,tY=Gq,rY=Zq,nY=T4;function aY(e){var t=rY(e);return t.length==1&&t[0][2]?nY(t[0][0],t[0][1]):function(r){return r===e||tY(r,e,t)}}var sY=aY;function iY(e,t){return e!=null&&t in Object(e)}var oY=iY,lY=$_,cY=Bk,uY=un,dY=Fk,fY=Kk,hY=Im;function pY(e,t,r){t=lY(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=hY(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&fY(s)&&dY(o,s)&&(uY(e)||cY(e)))}var mY=pY,gY=oY,xY=mY;function vY(e,t){return e!=null&&xY(e,t,gY)}var yY=vY,bY=zk,kY=R_,wY=yY,jY=kk,SY=P4,NY=T4,PY=Im,TY=1,OY=2;function AY(e,t){return jY(e)&&SY(t)?NY(PY(e),t):function(r){var n=kY(r,e);return n===void 0&&n===t?wY(r,e):bY(t,n,TY|OY)}}var EY=AY;function CY(e){return e}var yc=CY;function _Y(e){return function(t){return t==null?void 0:t[e]}}var DY=_Y,MY=Ok;function $Y(e){return function(t){return MY(t,e)}}var RY=$Y,IY=DY,LY=RY,BY=kk,FY=Im;function KY(e){return BY(e)?IY(FY(e)):LY(e)}var zY=KY,VY=sY,HY=EY,UY=yc,WY=un,GY=zY;function qY(e){return typeof e=="function"?e:e==null?UY:typeof e=="object"?WY(e)?HY(e[0],e[1]):VY(e):GY(e)}var Na=qY;function YY(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var O4=YY;function JY(e){return e!==e}var XY=JY;function QY(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var ZY=QY,eJ=O4,tJ=XY,rJ=ZY;function nJ(e,t,r){return t===t?rJ(e,t,r):eJ(e,tJ,r)}var aJ=nJ,sJ=aJ;function iJ(e,t){var r=e==null?0:e.length;return!!r&&sJ(e,t,0)>-1}var oJ=iJ;function lJ(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var cJ=lJ;function uJ(){}var dJ=uJ,Tx=j4,fJ=dJ,hJ=Lk,pJ=1/0,mJ=Tx&&1/hJ(new Tx([,-0]))[1]==pJ?function(e){return new Tx(e)}:fJ,gJ=mJ,xJ=h4,vJ=oJ,yJ=cJ,bJ=m4,kJ=gJ,wJ=Lk,jJ=200;function SJ(e,t,r){var n=-1,s=vJ,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=yJ;else if(i>=jJ){var u=t?null:kJ(e);if(u)return wJ(u);o=!1,s=bJ,c=new xJ}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var NJ=SJ,PJ=Na,TJ=NJ;function OJ(e,t){return e&&e.length?TJ(e,PJ(t)):[]}var AJ=OJ;const bN=dt(AJ);function A4(e,t,r){return t===!0?bN(e,r):Ke(t)?bN(e,t):e}function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}var EJ=["ref"];function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){Zm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C4(n.key),n)}}function _J(e,t,r){return t&&wN(e.prototype,t),r&&wN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DJ(e,t,r){return t=dp(t),MJ(e,E4()?Reflect.construct(t,r||[],dp(e).constructor):t.apply(e,r))}function MJ(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(e)}function $J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(e)}function RJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iv(e,t)}function Iv(e,t){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Iv(e,t)}function Zm(e,t,r){return t=C4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4(e){var t=IJ(e,"string");return Dl(t)=="symbol"?t:t+""}function IJ(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LJ(e,t){if(e==null)return{};var r=BJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FJ(e){return e.value}function KJ(e,t){if(ee.isValidElement(e))return ee.cloneElement(e,t);if(typeof e=="function")return ee.createElement(e,t);t.ref;var r=LJ(t,EJ);return ee.createElement(Ik,r)}var jN=1,ha=function(e){function t(){var r;CJ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=DJ(this,t,[].concat(s)),Zm(r,"lastBoundingBox",{width:-1,height:-1}),r}return RJ(t,e),_J(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>jN||Math.abs(s.height-this.lastBoundingBox.height)>jN)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Aa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Aa(Aa({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Aa(Aa({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ee.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},KJ(i,Aa(Aa({},this.props),{},{payload:A4(d,u,FJ)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Aa(Aa({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(k.PureComponent);Zm(ha,"displayName","Legend");Zm(ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SN=tf,zJ=Bk,VJ=un,NN=SN?SN.isConcatSpreadable:void 0;function HJ(e){return VJ(e)||zJ(e)||!!(NN&&e&&e[NN])}var UJ=HJ,WJ=x4,GJ=UJ;function _4(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=GJ),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?_4(l,t-1,r,n,s):WJ(s,l):n||(s[s.length]=l)}return s}var D4=_4;function qJ(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var YJ=qJ,JJ=YJ,XJ=JJ(),QJ=XJ,ZJ=QJ,eX=Qm;function tX(e,t){return e&&ZJ(e,t,eX)}var M4=tX,rX=nf;function nX(e,t){return function(r,n){if(r==null)return r;if(!rX(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var aX=nX,sX=M4,iX=aX,oX=iX(sX),Vk=oX,lX=Vk,cX=nf;function uX(e,t){var r=-1,n=cX(e)?Array(e.length):[];return lX(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var $4=uX;function dX(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var fX=dX,PN=dc;function hX(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=PN(e),o=t!==void 0,l=t===null,c=t===t,u=PN(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var pX=hX,mX=pX;function gX(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=mX(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var xX=gX,Ox=Tk,vX=Ok,yX=Na,bX=$4,kX=fX,wX=b4,jX=xX,SX=yc,NX=un;function PX(e,t,r){t.length?t=Ox(t,function(i){return NX(i)?function(o){return vX(o,i.length===1?i[0]:i)}:i}):t=[SX];var n=-1;t=Ox(t,wX(yX));var s=bX(e,function(i,o,l){var c=Ox(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return kX(s,function(i,o){return jX(i,o,r)})}var TX=PX;function OX(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var AX=OX,EX=AX,TN=Math.max;function CX(e,t,r){return t=TN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=TN(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),EX(e,this,l)}}var _X=CX;function DX(e){return function(){return e}}var MX=DX,$X=No,RX=function(){try{var e=$X(Object,"defineProperty");return e({},"",{}),e}catch{}}(),R4=RX,IX=MX,ON=R4,LX=yc,BX=ON?function(e,t){return ON(e,"toString",{configurable:!0,enumerable:!1,value:IX(t),writable:!0})}:LX,FX=BX,KX=800,zX=16,VX=Date.now;function HX(e){var t=0,r=0;return function(){var n=VX(),s=zX-(n-r);if(r=n,s>0){if(++t>=KX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var UX=HX,WX=FX,GX=UX,qX=GX(WX),YX=qX,JX=yc,XX=_X,QX=YX;function ZX(e,t){return QX(XX(e,t,JX),e+"")}var eQ=ZX,tQ=jk,rQ=nf,nQ=Fk,aQ=wi;function sQ(e,t,r){if(!aQ(r))return!1;var n=typeof t;return(n=="number"?rQ(r)&&nQ(t,r.length):n=="string"&&t in r)?tQ(r[t],e):!1}var eg=sQ,iQ=D4,oQ=TX,lQ=eQ,AN=eg,cQ=lQ(function(e,t){if(e==null)return[];var r=t.length;return r>1&&AN(e,t[0],t[1])?t=[]:r>2&&AN(t[0],t[1],t[2])&&(t=[t[0]]),oQ(e,iQ(t,1),[])}),uQ=cQ;const Hk=dt(uQ);function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(this,arguments)}function dQ(e,t){return mQ(e)||pQ(e,t)||hQ(e,t)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(e,t){if(e){if(typeof e=="string")return EN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(e,t)}}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mQ(e){if(Array.isArray(e))return e}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return t=xQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=vQ(e,"string");return dd(t)=="symbol"?t:t+""}function vQ(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yQ(e){return Array.isArray(e)&&cr(e[0])&&cr(e[1])?e.join(" ~ "):e}var bQ=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,b=t.labelFormatter,v=t.accessibilityLayer,y=v===void 0?!1:v,x=function(){if(d&&d.length){var E={padding:0,margin:0},_=(h?Hk(d,h):d).map(function(U,K){if(U.type==="none")return null;var Y=Ax({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),ne=U.formatter||f||yQ,D=U.value,R=U.name,z=D,V=R;if(ne&&z!=null&&V!=null){var Z=ne(D,R,U,K,d);if(Array.isArray(Z)){var B=dQ(Z,2);z=B[0],V=B[1]}else z=Z}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Y},cr(V)?ee.createElement("span",{className:"recharts-tooltip-item-name"},V):null,cr(V)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},z),ee.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:E},_)}return null},j=Ax({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Ax({margin:0},u),N=!He(m),S=N?m:"",P=Ue("recharts-default-tooltip",p),A=Ue("recharts-tooltip-label",g);N&&b&&d!==void 0&&d!==null&&(S=b(m,d));var $=y?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",Lv({className:P,style:j},$),ee.createElement("p",{className:A,style:w},ee.isValidElement(S)?S:"".concat(S)),x())};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function If(e,t,r){return t=kQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=wQ(e,"string");return fd(t)=="symbol"?t:t+""}function wQ(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lc="recharts-tooltip-wrapper",jQ={visibility:"hidden"};function SQ(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ue(Lc,If(If(If(If({},"".concat(Lc,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(Lc,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(Lc,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(Lc,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function _N(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function NQ(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PQ(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=_N({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=_N({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=NQ({translateX:d,translateY:f,useTranslate3d:l})):u=jQ,{cssProperties:u,cssClasses:SQ({translateX:d,translateY:f,coordinate:r})}}function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){Fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function AQ(e,t,r){return t&&OQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EQ(e,t,r){return t=fp(t),CQ(e,I4()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function CQ(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(e)}function _Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function DQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}function Bv(e,t){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bv(e,t)}function Fv(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=MQ(e,"string");return Ml(t)=="symbol"?t:t+""}function MQ(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $N=1,$Q=function(e){function t(){var r;TQ(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=EQ(this,t,[].concat(s)),Fv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Fv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return DQ(t,e),AQ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$N||Math.abs(n.height-this.state.lastBoundingBox.height)>$N)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,b=s.useTranslate3d,v=s.viewBox,y=s.wrapperStyle,x=PQ({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),j=x.cssClasses,w=x.cssProperties,N=MN(MN({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return ee.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(k.PureComponent),RQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Po={isSsr:RQ()};function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){Uk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F4(n.key),n)}}function BQ(e,t,r){return t&&LQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FQ(e,t,r){return t=hp(t),KQ(e,B4()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function KQ(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQ(e)}function zQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function VQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kv(e,t)}function Kv(e,t){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Kv(e,t)}function Uk(e,t,r){return t=F4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4(e){var t=HQ(e,"string");return $l(t)=="symbol"?t:t+""}function HQ(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UQ(e){return e.dataKey}function WQ(e,t){return ee.isValidElement(e)?ee.cloneElement(e,t):typeof e=="function"?ee.createElement(e,t):ee.createElement(bQ,t)}var Mr=function(e){function t(){return IQ(this,t),FQ(this,t,arguments)}return VQ(t,e),BQ(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,b=s.position,v=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,j=s.wrapperStyle,w=g??[];f&&w.length&&(w=A4(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,UQ));var N=w.length>0;return ee.createElement($Q,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:b,reverseDirection:v,useTranslate3d:y,viewBox:x,wrapperStyle:j},WQ(u,IN(IN({},this.props),{},{payload:w})))}}])}(k.PureComponent);Uk(Mr,"displayName","Tooltip");Uk(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var GQ=Sa,qQ=function(){return GQ.Date.now()},YQ=qQ,JQ=/\s/;function XQ(e){for(var t=e.length;t--&&JQ.test(e.charAt(t)););return t}var QQ=XQ,ZQ=QQ,eZ=/^\s+/;function tZ(e){return e&&e.slice(0,ZQ(e)+1).replace(eZ,"")}var rZ=tZ,nZ=rZ,LN=wi,aZ=dc,BN=NaN,sZ=/^[-+]0x[0-9a-f]+$/i,iZ=/^0b[01]+$/i,oZ=/^0o[0-7]+$/i,lZ=parseInt;function cZ(e){if(typeof e=="number")return e;if(aZ(e))return BN;if(LN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=LN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nZ(e);var r=iZ.test(e);return r||oZ.test(e)?lZ(e.slice(2),r?2:8):sZ.test(e)?BN:+e}var K4=cZ,uZ=wi,Ex=YQ,FN=K4,dZ="Expected a function",fZ=Math.max,hZ=Math.min;function pZ(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(dZ);t=FN(t)||0,uZ(r)&&(d=!!r.leading,f="maxWait"in r,i=f?fZ(FN(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,P=s;return n=s=void 0,u=N,o=e.apply(P,S),o}function g(N){return u=N,l=setTimeout(v,t),d?p(N):o}function m(N){var S=N-c,P=N-u,A=t-S;return f?hZ(A,i-P):A}function b(N){var S=N-c,P=N-u;return c===void 0||S>=t||S<0||f&&P>=i}function v(){var N=Ex();if(b(N))return y(N);l=setTimeout(v,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function j(){return l===void 0?o:y(Ex())}function w(){var N=Ex(),S=b(N);if(n=arguments,s=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return w.cancel=x,w.flush=j,w}var mZ=pZ,gZ=mZ,xZ=wi,vZ="Expected a function";function yZ(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(vZ);return xZ(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),gZ(e,t,{leading:n,maxWait:t,trailing:s})}var bZ=yZ;const z4=dt(bZ);function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){kZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t,r){return t=wZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return hd(t)=="symbol"?t:t+""}function jZ(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SZ(e,t){return OZ(e)||TZ(e,t)||PZ(e,t)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZ(e,t){if(e){if(typeof e=="string")return zN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(e,t)}}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function OZ(e){if(Array.isArray(e))return e}var Bi=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,b=e.id,v=e.className,y=e.onResize,x=e.style,j=x===void 0?{}:x,w=k.useRef(null),N=k.useRef();N.current=y,k.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=k.useState({containerWidth:s.width,containerHeight:s.height}),P=SZ(S,2),A=P[0],$=P[1],I=k.useCallback(function(_,U){$(function(K){var Y=Math.round(_),ne=Math.round(U);return K.containerWidth===Y&&K.containerHeight===ne?K:{containerWidth:Y,containerHeight:ne}})},[]);k.useEffect(function(){var _=function(R){var z,V=R[0].contentRect,Z=V.width,B=V.height;I(Z,B),(z=N.current)===null||z===void 0||z.call(N,Z,B)};m>0&&(_=z4(_,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(_),K=w.current.getBoundingClientRect(),Y=K.width,ne=K.height;return I(Y,ne),U.observe(w.current),function(){U.disconnect()}},[I,m]);var E=k.useMemo(function(){var _=A.containerWidth,U=A.containerHeight;if(_<0||U<0)return null;na(Yi(o)||Yi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),na(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=Yi(o)?_:o,Y=Yi(c)?U:c;r&&r>0&&(K?Y=K/r:Y&&(K=Y*r),h&&Y>h&&(Y=h)),na(K>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Y,o,c,d,f,r);var ne=!Array.isArray(p)&&Ha(p.type).endsWith("Chart");return ee.Children.map(p,function(D){return ee.isValidElement(D)?k.cloneElement(D,Lf({width:K,height:Y},ne?{style:Lf({height:"100%",width:"100%",maxHeight:Y,maxWidth:K},D.props.style)}:{})):D})},[r,p,c,h,f,d,A,o]);return ee.createElement("div",{id:b?"".concat(b):void 0,className:Ue("recharts-responsive-container",v),style:Lf(Lf({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},E)}),no=function(t){return null};no.displayName="Cell";function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){AZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t,r){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=CZ(e,"string");return pd(t)=="symbol"?t:t+""}function CZ(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mo={widthCache:{},cacheCount:0},_Z=2e3,DZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HN="recharts_measurement_span";function MZ(e){var t=zv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _u=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Po.isSsr)return{width:0,height:0};var n=MZ(r),s=JSON.stringify({text:t,copyStyle:n});if(Mo.widthCache[s])return Mo.widthCache[s];try{var i=document.getElementById(HN);i||(i=document.createElement("span"),i.setAttribute("id",HN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=zv(zv({},DZ),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Mo.widthCache[s]=c,++Mo.cacheCount>_Z&&(Mo.cacheCount=0,Mo.widthCache={}),c}catch{return{width:0,height:0}}},$Z=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function pp(e,t){return BZ(e)||LZ(e,t)||IZ(e,t)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IZ(e,t){if(e){if(typeof e=="string")return UN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(e,t)}}function UN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BZ(e){if(Array.isArray(e))return e}function FZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zZ(n.key),n)}}function KZ(e,t,r){return t&&WN(e.prototype,t),r&&WN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zZ(e){var t=VZ(e,"string");return md(t)=="symbol"?t:t+""}function VZ(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,V4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WZ=Object.keys(V4),rl="NaN";function GZ(e,t){return e*V4[t]}var Bf=function(){function e(t,r){FZ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!HZ.test(r)&&(this.num=NaN,this.unit=""),WZ.includes(r)&&(this.num=GZ(t,r),this.unit="px")}return KZ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=UZ.exec(r))!==null&&n!==void 0?n:[],i=pp(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function H4(e){if(e.includes(rl))return rl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=GN.exec(t))!==null&&r!==void 0?r:[],s=pp(n,4),i=s[1],o=s[2],l=s[3],c=Bf.parse(i??""),u=Bf.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return rl;t=t.replace(GN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=qN.exec(t))!==null&&f!==void 0?f:[],p=pp(h,4),g=p[1],m=p[2],b=p[3],v=Bf.parse(g??""),y=Bf.parse(b??""),x=m==="+"?v.add(y):v.subtract(y);if(x.isNaN())return rl;t=t.replace(qN,x.toString())}return t}var YN=/\(([^()]*)\)/;function qZ(e){for(var t=e;t.includes("(");){var r=YN.exec(t),n=pp(r,2),s=n[1];t=t.replace(YN,H4(s))}return t}function YZ(e){var t=e.replace(/\s+/g,"");return t=qZ(t),t=H4(t),t}function JZ(e){try{return YZ(e)}catch{return rl}}function Cx(e){var t=JZ(e.slice(5,-1));return t===rl?"":t}var XZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QZ=["dx","dy","angle","className","breakAll"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(this,arguments)}function JN(e,t){if(e==null)return{};var r=ZZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XN(e,t){return nee(e)||ree(e,t)||tee(e,t)||eee()}function eee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tee(e,t){if(e){if(typeof e=="string")return QN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(e,t)}}function QN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nee(e){if(Array.isArray(e))return e}var U4=/[ \f\n\r\t\v\u2028\u2029]+/,W4=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];He(r)||(n?i=r.toString().split(""):i=r.toString().split(U4));var o=i.map(function(c){return{word:c,width:_u(c,s).width}}),l=n?0:_u("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aee=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=je(o),f=l,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Y,ne){var D=ne.word,R=ne.width,z=Y[Y.length-1];if(z&&(s==null||i||z.width+R+n<Number(s)))z.words.push(D),z.width+=R+n;else{var V={words:[D],width:R};Y.push(V)}return Y},[])},p=h(r),g=function(K){return K.reduce(function(Y,ne){return Y.width>ne.width?Y:ne})};if(!d)return p;for(var m="",b=function(K){var Y=f.slice(0,K),ne=W4({breakAll:u,style:c,children:Y+m}).wordsWithComputedWidth,D=h(ne),R=D.length>o||g(D).width>Number(s);return[R,D]},v=0,y=f.length-1,x=0,j;v<=y&&x<=f.length-1;){var w=Math.floor((v+y)/2),N=w-1,S=b(N),P=XN(S,2),A=P[0],$=P[1],I=b(w),E=XN(I,1),_=E[0];if(!A&&!_&&(v=w+1),A&&_&&(y=w-1),!A&&_){j=$;break}x++}return j||p},ZN=function(t){var r=He(t)?[]:t.toString().split(U4);return[{words:r}]},see=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Po.isSsr){var c,u,d=W4({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return ZN(s);return aee({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return ZN(s)},eP="#808080",mo=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,b=t.fill,v=b===void 0?eP:b,y=JN(t,XZ),x=k.useMemo(function(){return see({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,w=y.dy,N=y.angle,S=y.className,P=y.breakAll,A=JN(y,QZ);if(!cr(n)||!cr(i))return null;var $=n+(je(j)?j:0),I=i+(je(w)?w:0),E;switch(m){case"start":E=Cx("calc(".concat(u,")"));break;case"middle":E=Cx("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Cx("calc(".concat(x.length-1," * -").concat(l,")"));break}var _=[];if(f){var U=x[0].width,K=y.width;_.push("scale(".concat((je(K)?K/U:1)/U,")"))}return N&&_.push("rotate(".concat(N,", ").concat($,", ").concat(I,")")),_.length&&(A.transform=_.join(" ")),ee.createElement("text",Vv({},Re(A,!0),{x:$,y:I,className:Ue("recharts-text",S),textAnchor:p,fill:v.includes("url")?eP:v}),x.map(function(Y,ne){var D=Y.words.join(P?"":" ");return ee.createElement("tspan",{x:$,dy:ne===0?E:l,key:"".concat(D,"-").concat(ne)},D)}))};function li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wk(e){let t,r,n;e.length!==2?(t=li,r=(l,c)=>li(e(l),c),n=(l,c)=>e(l)-c):(t=e===li||e===iee?e:oee,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function oee(){return 0}function G4(e){return e===null?NaN:+e}function*lee(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const cee=Wk(li),af=cee.right;Wk(G4).center;class tP extends Map{constructor(t,r=fee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(rP(this,t))}has(t){return super.has(rP(this,t))}set(t,r){return super.set(uee(this,t),r)}delete(t){return super.delete(dee(this,t))}}function rP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function uee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dee({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function fee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hee(e=li){if(e===li)return q4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function q4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pee=Math.sqrt(50),mee=Math.sqrt(10),gee=Math.sqrt(2);function mp(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=pee?10:i>=mee?5:i>=gee?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?mp(e,t,r*2):[l,c,u]}function Hv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?mp(t,e,r):mp(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Uv(e,t,r){return t=+t,e=+e,r=+r,mp(e,t,r)[2]}function Wv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Uv(t,e,r):Uv(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function nP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function aP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Y4(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?q4:hee(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));Y4(e,t,p,g,s)}const i=e[t];let o=r,l=n;for(Bc(e,r,t),s(e[n],i)>0&&Bc(e,r,n);o<l;){for(Bc(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Bc(e,r,l):(++l,Bc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Bc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xee(e,t,r){if(e=Float64Array.from(lee(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return aP(e);if(t>=1)return nP(e);var n,s=(n-1)*t,i=Math.floor(s),o=nP(Y4(e,i).subarray(0,i+1)),l=aP(e.subarray(i+1));return o+(l-o)*(s-i)}}function vee(e,t,r=G4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function yee(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function as(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gv=Symbol("implicit");function Gk(){var e=new tP,t=[],r=[],n=Gv;function s(i){let o=e.get(i);if(o===void 0){if(n!==Gv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new tP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Gk(t,r).unknown(n)},zn.apply(s,arguments),s}function gd(){var e=Gk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var b=yee(h).map(function(v){return g+i*v});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return gd(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},zn.apply(f(),arguments)}function J4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return J4(t())},e}function Du(){return J4(gd.apply(null,arguments).paddingInner(1))}function qk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function X4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sf(){}var xd=.7,gp=1/xd,gl="\\s*([+-]?\\d+)\\s*",vd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bee=/^#([0-9a-f]{3,8})$/,kee=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),wee=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),jee=new RegExp(`^rgba\\(${gl},${gl},${gl},${vd}\\)$`),See=new RegExp(`^rgba\\(${va},${va},${va},${vd}\\)$`),Nee=new RegExp(`^hsl\\(${vd},${va},${va}\\)$`),Pee=new RegExp(`^hsla\\(${vd},${va},${va},${vd}\\)$`),sP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qk(sf,yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iP,formatHex:iP,formatHex8:Tee,formatHsl:Oee,formatRgb:oP,toString:oP});function iP(){return this.rgb().formatHex()}function Tee(){return this.rgb().formatHex8()}function Oee(){return Q4(this).formatHsl()}function oP(){return this.rgb().formatRgb()}function yd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=bee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lP(t):r===3?new an(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kee.exec(e))?new an(t[1],t[2],t[3],1):(t=wee.exec(e))?new an(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jee.exec(e))?Ff(t[1],t[2],t[3],t[4]):(t=See.exec(e))?Ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nee.exec(e))?dP(t[1],t[2]/100,t[3]/100,1):(t=Pee.exec(e))?dP(t[1],t[2]/100,t[3]/100,t[4]):sP.hasOwnProperty(e)?lP(sP[e]):e==="transparent"?new an(NaN,NaN,NaN,0):null}function lP(e){return new an(e>>16&255,e>>8&255,e&255,1)}function Ff(e,t,r,n){return n<=0&&(e=t=r=NaN),new an(e,t,r,n)}function Aee(e){return e instanceof sf||(e=yd(e)),e?(e=e.rgb(),new an(e.r,e.g,e.b,e.opacity)):new an}function qv(e,t,r,n){return arguments.length===1?Aee(e):new an(e,t,r,n??1)}function an(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qk(an,qv,X4(sf,{brighter(e){return e=e==null?gp:Math.pow(gp,e),new an(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new an(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new an(ao(this.r),ao(this.g),ao(this.b),xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cP,formatHex:cP,formatHex8:Eee,formatRgb:uP,toString:uP}));function cP(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}`}function Eee(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}${Ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function uP(){const e=xp(this.opacity);return`${e===1?"rgb(":"rgba("}${ao(this.r)}, ${ao(this.g)}, ${ao(this.b)}${e===1?")":`, ${e})`}`}function xp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ji(e){return e=ao(e),(e<16?"0":"")+e.toString(16)}function dP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zn(e,t,r,n)}function Q4(e){if(e instanceof Zn)return new Zn(e.h,e.s,e.l,e.opacity);if(e instanceof sf||(e=yd(e)),!e)return new Zn;if(e instanceof Zn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Zn(o,l,c,e.opacity)}function Cee(e,t,r,n){return arguments.length===1?Q4(e):new Zn(e,t,r,n??1)}function Zn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qk(Zn,Cee,X4(sf,{brighter(e){return e=e==null?gp:Math.pow(gp,e),new Zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new Zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new an(_x(e>=240?e-240:e+120,s,n),_x(e,s,n),_x(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Zn(fP(this.h),Kf(this.s),Kf(this.l),xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xp(this.opacity);return`${e===1?"hsl(":"hsla("}${fP(this.h)}, ${Kf(this.s)*100}%, ${Kf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fP(e){return e=(e||0)%360,e<0?e+360:e}function Kf(e){return Math.max(0,Math.min(1,e||0))}function _x(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Yk=e=>()=>e;function _ee(e,t){return function(r){return e+r*t}}function Dee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Mee(e){return(e=+e)==1?Z4:function(t,r){return r-t?Dee(t,r,e):Yk(isNaN(t)?r:t)}}function Z4(e,t){var r=t-e;return r?_ee(e,r):Yk(isNaN(e)?t:e)}const hP=function e(t){var r=Mee(t);function n(s,i){var o=r((s=qv(s)).r,(i=qv(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=Z4(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function $ee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Ree(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Iee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=bc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Lee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Bee(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=bc(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Yv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dx=new RegExp(Yv.source,"g");function Fee(e){return function(){return e}}function Kee(e){return function(t){return e(t)+""}}function zee(e,t){var r=Yv.lastIndex=Dx.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Yv.exec(e))&&(s=Dx.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:vp(n,s)})),r=Dx.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Kee(c[0].x):Fee(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function bc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Yk(t):(r==="number"?vp:r==="string"?(n=yd(t))?(t=n,hP):zee:t instanceof yd?hP:t instanceof Date?Lee:Ree(t)?$ee:Array.isArray(t)?Iee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bee:vp)(e,t)}function Jk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vee(e,t){t===void 0&&(t=e,e=bc);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Hee(e){return function(){return e}}function yp(e){return+e}var pP=[0,1];function Jr(e){return e}function Jv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Hee(isNaN(t)?NaN:.5)}function Uee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Wee(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Jv(s,n),i=r(o,i)):(n=Jv(n,s),i=r(i,o)),function(l){return i(n(l))}}function Gee(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Jv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=af(e,l,1,n)-1;return i[c](s[c](l))}}function of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tg(){var e=pP,t=pP,r=bc,n,s,i,o=Jr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Jr&&(o=Uee(e[0],e[h-1])),l=h>2?Gee:Wee,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),vp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,yp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Jk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Jr,d()):o!==Jr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function Xk(){return tg()(Jr,Jr)}function qee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rl(e){return e=bp(Math.abs(e)),e?e[1]:NaN}function Yee(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Jee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Xee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bd(e){if(!(t=Xee.exec(e)))throw new Error("invalid format: "+e);var t;return new Qk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bd.prototype=Qk.prototype;function Qk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qee(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var eD;function Zee(e,t){var r=bp(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(eD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+bp(e,Math.max(0,t+i-1))[0]}function mP(e,t){var r=bp(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const gP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mP(e*100,t),r:mP,s:Zee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xP(e){return e}var vP=Array.prototype.map,yP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ete(e){var t=e.grouping===void 0||e.thousands===void 0?xP:Yee(vP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xP:Jee(vP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=bd(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,b=f.zero,v=f.width,y=f.comma,x=f.precision,j=f.trim,w=f.type;w==="n"?(y=!0,w="g"):gP[w]||(x===void 0&&(x=12),j=!0,w="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=m==="$"?n:/[%p]/.test(w)?o:"",P=gP[w],A=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(I){var E=N,_=S,U,K,Y;if(w==="c")_=P(I)+_,I="";else{I=+I;var ne=I<0||1/I<0;if(I=isNaN(I)?c:P(Math.abs(I),x),j&&(I=Qee(I)),ne&&+I==0&&g!=="+"&&(ne=!1),E=(ne?g==="("?g:l:g==="-"||g==="("?"":g)+E,_=(w==="s"?yP[8+eD/3]:"")+_+(ne&&g==="("?")":""),A){for(U=-1,K=I.length;++U<K;)if(Y=I.charCodeAt(U),48>Y||Y>57){_=(Y===46?s+I.slice(U+1):I.slice(U))+_,I=I.slice(0,U);break}}}y&&!b&&(I=t(I,1/0));var D=E.length+I.length+_.length,R=D<v?new Array(v-D+1).join(h):"";switch(y&&b&&(I=t(R+I,R.length?v-_.length:1/0),R=""),p){case"<":I=E+I+_+R;break;case"=":I=E+R+I+_;break;case"^":I=R.slice(0,D=R.length>>1)+E+I+_+R.slice(D);break;default:I=R+E+I+_;break}return i(I)}return $.toString=function(){return f+""},$}function d(f,h){var p=u((f=bd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Rl(h)/3)))*3,m=Math.pow(10,-g),b=yP[8+g/3];return function(v){return p(m*v)+b}}return{format:u,formatPrefix:d}}var zf,Zk,tD;tte({thousands:",",grouping:[3],currency:["$",""]});function tte(e){return zf=ete(e),Zk=zf.format,tD=zf.formatPrefix,zf}function rte(e){return Math.max(0,-Rl(Math.abs(e)))}function nte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(t)/3)))*3-Rl(Math.abs(e)))}function ate(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rl(t)-Rl(e))+1}function rD(e,t,r,n){var s=Wv(e,t,r),i;switch(n=bd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nte(s,o))&&(n.precision=i),tD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ate(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rte(s))&&(n.precision=i-(n.type==="%")*2);break}}return Zk(n)}function ji(e){var t=e.domain;return e.ticks=function(r){var n=t();return Hv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return rD(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=Uv(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function kp(){var e=Xk();return e.copy=function(){return of(e,kp())},zn.apply(e,arguments),ji(e)}function nD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,yp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nD(e).unknown(t)},e=arguments.length?Array.from(e,yp):[0,1],ji(r)}function aD(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function bP(e){return Math.log(e)}function kP(e){return Math.exp(e)}function ste(e){return-Math.log(-e)}function ite(e){return-Math.exp(-e)}function ote(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lte(e){return e===10?ote:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cte(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wP(e){return(t,r)=>-e(-t,r)}function ew(e){const t=e(bP,kP),r=t.domain;let n=10,s,i;function o(){return s=cte(n),i=lte(n),r()[0]<0?(s=wP(s),i=wP(i),e(ste,ite)):e(bP,kP),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const b=l==null?10:+l;let v=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<b&&(v=Hv(u,d,b))}else v=Hv(h,p,Math.min(p-h,b)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=bd(c)).precision==null&&(c.trim=!0),c=Zk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(aD(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function sD(){const e=ew(tg()).domain([1,10]);return e.copy=()=>of(e,sD()).base(e.base()),zn.apply(e,arguments),e}function jP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tw(e){var t=1,r=e(jP(t),SP(t));return r.constant=function(n){return arguments.length?e(jP(t=+n),SP(t)):t},ji(r)}function iD(){var e=tw(tg());return e.copy=function(){return of(e,iD()).constant(e.constant())},zn.apply(e,arguments)}function NP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ute(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dte(e){return e<0?-e*e:e*e}function rw(e){var t=e(Jr,Jr),r=1;function n(){return r===1?e(Jr,Jr):r===.5?e(ute,dte):e(NP(r),NP(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ji(t)}function nw(){var e=rw(tg());return e.copy=function(){return of(e,nw()).exponent(e.exponent())},zn.apply(e,arguments),e}function fte(){return nw.apply(null,arguments).exponent(.5)}function PP(e){return Math.sign(e)*e*e}function hte(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oD(){var e=Xk(),t=[0,1],r=!1,n;function s(i){var o=hte(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(PP(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,yp)).map(PP)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return oD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zn.apply(s,arguments),ji(s)}function lD(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=vee(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[af(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(li),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lD().domain(e).range(t).unknown(n)},zn.apply(i,arguments)}function cD(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[af(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cD().domain([e,t]).range(s).unknown(i)},zn.apply(ji(o),arguments)}function uD(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[af(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return uD().domain(e).range(t).unknown(r)},zn.apply(s,arguments)}const Mx=new Date,$x=new Date;function dr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>dr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Mx.setTime(+i),$x.setTime(+o),e(Mx),e($x),Math.floor(r(Mx,$x))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const wp=dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):wp);wp.range;const Ia=1e3,Rn=Ia*60,La=Rn*60,Xa=La*24,aw=Xa*7,TP=Xa*30,Rx=Xa*365,Xi=dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCSeconds());Xi.range;const sw=dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ia)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getMinutes());sw.range;const iw=dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCMinutes());iw.range;const ow=dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ia-e.getMinutes()*Rn)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getHours());ow.range;const lw=dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCHours());lw.range;const lf=dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/Xa,e=>e.getDate()-1);lf.range;const rg=dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>e.getUTCDate()-1);rg.range;const dD=dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>Math.floor(e/Xa));dD.range;function To(e){return dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/aw)}const ng=To(0),jp=To(1),pte=To(2),mte=To(3),Il=To(4),gte=To(5),xte=To(6);ng.range;jp.range;pte.range;mte.range;Il.range;gte.range;xte.range;function Oo(e){return dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aw)}const ag=Oo(0),Sp=Oo(1),vte=Oo(2),yte=Oo(3),Ll=Oo(4),bte=Oo(5),kte=Oo(6);ag.range;Sp.range;vte.range;yte.range;Ll.range;bte.range;kte.range;const cw=dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cw.range;const uw=dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uw.range;const Qa=dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qa.range;const Za=dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Za.range;function fD(e,t,r,n,s,i){const o=[[Xi,1,Ia],[Xi,5,5*Ia],[Xi,15,15*Ia],[Xi,30,30*Ia],[i,1,Rn],[i,5,5*Rn],[i,15,15*Rn],[i,30,30*Rn],[s,1,La],[s,3,3*La],[s,6,6*La],[s,12,12*La],[n,1,Xa],[n,2,2*Xa],[r,1,aw],[t,1,TP],[t,3,3*TP],[e,1,Rx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=Wk(([,,b])=>b).right(o,h);if(p===o.length)return e.every(Wv(u/Rx,d/Rx,f));if(p===0)return wp.every(Math.max(Wv(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[wte,jte]=fD(Za,uw,ag,dD,lw,iw),[Ste,Nte]=fD(Qa,cw,ng,lf,ow,sw);function Ix(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Pte(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Kc(s),d=zc(s),f=Kc(i),h=zc(i),p=Kc(o),g=zc(o),m=Kc(l),b=zc(l),v=Kc(c),y=zc(c),x={a:ne,A:D,b:R,B:z,c:null,d:DP,e:DP,f:Yte,g:sre,G:ore,H:Wte,I:Gte,j:qte,L:hD,m:Jte,M:Xte,p:V,q:Z,Q:RP,s:IP,S:Qte,u:Zte,U:ere,V:tre,w:rre,W:nre,x:null,X:null,y:are,Y:ire,Z:lre,"%":$P},j={a:B,A:Q,b:le,B:ce,c:null,d:MP,e:MP,f:fre,g:wre,G:Sre,H:cre,I:ure,j:dre,L:mD,m:hre,M:pre,p:pe,q:ye,Q:RP,s:IP,S:mre,u:gre,U:xre,V:vre,w:yre,W:bre,x:null,X:null,y:kre,Y:jre,Z:Nre,"%":$P},w={a:$,A:I,b:E,B:_,c:U,d:CP,e:CP,f:zte,g:EP,G:AP,H:_P,I:_P,j:Lte,L:Kte,m:Ite,M:Bte,p:A,q:Rte,Q:Hte,s:Ute,S:Fte,u:Cte,U:_te,V:Dte,w:Ete,W:Mte,x:K,X:Y,y:EP,Y:AP,Z:$te,"%":Vte};x.x=N(r,x),x.X=N(n,x),x.c=N(t,x),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(ue,ve){return function(ae){var G=[],ge=-1,J=0,T=ue.length,L,H,te;for(ae instanceof Date||(ae=new Date(+ae));++ge<T;)ue.charCodeAt(ge)===37&&(G.push(ue.slice(J,ge)),(H=OP[L=ue.charAt(++ge)])!=null?L=ue.charAt(++ge):H=L==="e"?" ":"0",(te=ve[L])&&(L=te(ae,H)),G.push(L),J=ge+1);return G.push(ue.slice(J,ge)),G.join("")}}function S(ue,ve){return function(ae){var G=Fc(1900,void 0,1),ge=P(G,ue,ae+="",0),J,T;if(ge!=ae.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ve&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(J=Lx(Fc(G.y,0,1)),T=J.getUTCDay(),J=T>4||T===0?Sp.ceil(J):Sp(J),J=rg.offset(J,(G.V-1)*7),G.y=J.getUTCFullYear(),G.m=J.getUTCMonth(),G.d=J.getUTCDate()+(G.w+6)%7):(J=Ix(Fc(G.y,0,1)),T=J.getDay(),J=T>4||T===0?jp.ceil(J):jp(J),J=lf.offset(J,(G.V-1)*7),G.y=J.getFullYear(),G.m=J.getMonth(),G.d=J.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),T="Z"in G?Lx(Fc(G.y,0,1)).getUTCDay():Ix(Fc(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(T+5)%7:G.w+G.U*7-(T+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Lx(G)):Ix(G)}}function P(ue,ve,ae,G){for(var ge=0,J=ve.length,T=ae.length,L,H;ge<J;){if(G>=T)return-1;if(L=ve.charCodeAt(ge++),L===37){if(L=ve.charAt(ge++),H=w[L in OP?ve.charAt(ge++):L],!H||(G=H(ue,ae,G))<0)return-1}else if(L!=ae.charCodeAt(G++))return-1}return G}function A(ue,ve,ae){var G=u.exec(ve.slice(ae));return G?(ue.p=d.get(G[0].toLowerCase()),ae+G[0].length):-1}function $(ue,ve,ae){var G=p.exec(ve.slice(ae));return G?(ue.w=g.get(G[0].toLowerCase()),ae+G[0].length):-1}function I(ue,ve,ae){var G=f.exec(ve.slice(ae));return G?(ue.w=h.get(G[0].toLowerCase()),ae+G[0].length):-1}function E(ue,ve,ae){var G=v.exec(ve.slice(ae));return G?(ue.m=y.get(G[0].toLowerCase()),ae+G[0].length):-1}function _(ue,ve,ae){var G=m.exec(ve.slice(ae));return G?(ue.m=b.get(G[0].toLowerCase()),ae+G[0].length):-1}function U(ue,ve,ae){return P(ue,t,ve,ae)}function K(ue,ve,ae){return P(ue,r,ve,ae)}function Y(ue,ve,ae){return P(ue,n,ve,ae)}function ne(ue){return o[ue.getDay()]}function D(ue){return i[ue.getDay()]}function R(ue){return c[ue.getMonth()]}function z(ue){return l[ue.getMonth()]}function V(ue){return s[+(ue.getHours()>=12)]}function Z(ue){return 1+~~(ue.getMonth()/3)}function B(ue){return o[ue.getUTCDay()]}function Q(ue){return i[ue.getUTCDay()]}function le(ue){return c[ue.getUTCMonth()]}function ce(ue){return l[ue.getUTCMonth()]}function pe(ue){return s[+(ue.getUTCHours()>=12)]}function ye(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ve=N(ue+="",x);return ve.toString=function(){return ue},ve},parse:function(ue){var ve=S(ue+="",!1);return ve.toString=function(){return ue},ve},utcFormat:function(ue){var ve=N(ue+="",j);return ve.toString=function(){return ue},ve},utcParse:function(ue){var ve=S(ue+="",!0);return ve.toString=function(){return ue},ve}}}var OP={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,Tte=/^%/,Ote=/[\\^$*+?|[\]().{}]/g;function lt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Ate(e){return e.replace(Ote,"\\$&")}function Kc(e){return new RegExp("^(?:"+e.map(Ate).join("|")+")","i")}function zc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ete(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Cte(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _te(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Dte(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Mte(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function AP(e,t,r){var n=xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EP(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $te(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Rte(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ite(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CP(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Lte(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _P(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Bte(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Fte(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Kte(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zte(e,t,r){var n=xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Vte(e,t,r){var n=Tte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Hte(e,t,r){var n=xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ute(e,t,r){var n=xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DP(e,t){return lt(e.getDate(),t,2)}function Wte(e,t){return lt(e.getHours(),t,2)}function Gte(e,t){return lt(e.getHours()%12||12,t,2)}function qte(e,t){return lt(1+lf.count(Qa(e),e),t,3)}function hD(e,t){return lt(e.getMilliseconds(),t,3)}function Yte(e,t){return hD(e,t)+"000"}function Jte(e,t){return lt(e.getMonth()+1,t,2)}function Xte(e,t){return lt(e.getMinutes(),t,2)}function Qte(e,t){return lt(e.getSeconds(),t,2)}function Zte(e){var t=e.getDay();return t===0?7:t}function ere(e,t){return lt(ng.count(Qa(e)-1,e),t,2)}function pD(e){var t=e.getDay();return t>=4||t===0?Il(e):Il.ceil(e)}function tre(e,t){return e=pD(e),lt(Il.count(Qa(e),e)+(Qa(e).getDay()===4),t,2)}function rre(e){return e.getDay()}function nre(e,t){return lt(jp.count(Qa(e)-1,e),t,2)}function are(e,t){return lt(e.getFullYear()%100,t,2)}function sre(e,t){return e=pD(e),lt(e.getFullYear()%100,t,2)}function ire(e,t){return lt(e.getFullYear()%1e4,t,4)}function ore(e,t){var r=e.getDay();return e=r>=4||r===0?Il(e):Il.ceil(e),lt(e.getFullYear()%1e4,t,4)}function lre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function MP(e,t){return lt(e.getUTCDate(),t,2)}function cre(e,t){return lt(e.getUTCHours(),t,2)}function ure(e,t){return lt(e.getUTCHours()%12||12,t,2)}function dre(e,t){return lt(1+rg.count(Za(e),e),t,3)}function mD(e,t){return lt(e.getUTCMilliseconds(),t,3)}function fre(e,t){return mD(e,t)+"000"}function hre(e,t){return lt(e.getUTCMonth()+1,t,2)}function pre(e,t){return lt(e.getUTCMinutes(),t,2)}function mre(e,t){return lt(e.getUTCSeconds(),t,2)}function gre(e){var t=e.getUTCDay();return t===0?7:t}function xre(e,t){return lt(ag.count(Za(e)-1,e),t,2)}function gD(e){var t=e.getUTCDay();return t>=4||t===0?Ll(e):Ll.ceil(e)}function vre(e,t){return e=gD(e),lt(Ll.count(Za(e),e)+(Za(e).getUTCDay()===4),t,2)}function yre(e){return e.getUTCDay()}function bre(e,t){return lt(Sp.count(Za(e)-1,e),t,2)}function kre(e,t){return lt(e.getUTCFullYear()%100,t,2)}function wre(e,t){return e=gD(e),lt(e.getUTCFullYear()%100,t,2)}function jre(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function Sre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ll(e):Ll.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function Nre(){return"+0000"}function $P(){return"%"}function RP(e){return+e}function IP(e){return Math.floor(+e/1e3)}var $o,xD,vD;Pre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pre(e){return $o=Pte(e),xD=$o.format,$o.parse,vD=$o.utcFormat,$o.utcParse,$o}function Tre(e){return new Date(e)}function Ore(e){return e instanceof Date?+e:+new Date(+e)}function dw(e,t,r,n,s,i,o,l,c,u){var d=Xk(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),y=u("%b %d"),x=u("%B"),j=u("%Y");function w(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?m:i(N)<N?b:n(N)<N?s(N)<N?v:y:r(N)<N?x:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Ore)):h().map(Tre)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?w:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(aD(S,N)):d},d.copy=function(){return of(d,dw(e,t,r,n,s,i,o,l,c,u))},d}function Are(){return zn.apply(dw(Ste,Nte,Qa,cw,ng,lf,ow,sw,Xi,xD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ere(){return zn.apply(dw(wte,jte,Za,uw,ag,rg,lw,iw,Xi,vD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sg(){var e=0,t=1,r,n,s,i,o=Jr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(bc),u.rangeRound=d(Jk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Si(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yD(){var e=ji(sg()(Jr));return e.copy=function(){return Si(e,yD())},as.apply(e,arguments)}function bD(){var e=ew(sg()).domain([1,10]);return e.copy=function(){return Si(e,bD()).base(e.base())},as.apply(e,arguments)}function kD(){var e=tw(sg());return e.copy=function(){return Si(e,kD()).constant(e.constant())},as.apply(e,arguments)}function fw(){var e=rw(sg());return e.copy=function(){return Si(e,fw()).exponent(e.exponent())},as.apply(e,arguments)}function Cre(){return fw.apply(null,arguments).exponent(.5)}function wD(){var e=[],t=Jr;function r(n){if(n!=null&&!isNaN(n=+n))return t((af(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(li),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>xee(e,i/n))},r.copy=function(){return wD(t).domain(e)},as.apply(r,arguments)}function ig(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Jr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(b){var v,y,x;return arguments.length?([v,y,x]=b,u=Vee(m,[v,y,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(bc),p.rangeRound=g(Jk),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function jD(){var e=ji(ig()(Jr));return e.copy=function(){return Si(e,jD())},as.apply(e,arguments)}function SD(){var e=ew(ig()).domain([.1,1,10]);return e.copy=function(){return Si(e,SD()).base(e.base())},as.apply(e,arguments)}function ND(){var e=tw(ig());return e.copy=function(){return Si(e,ND()).constant(e.constant())},as.apply(e,arguments)}function hw(){var e=rw(ig());return e.copy=function(){return Si(e,hw()).exponent(e.exponent())},as.apply(e,arguments)}function _re(){return hw.apply(null,arguments).exponent(.5)}const LP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gd,scaleDiverging:jD,scaleDivergingLog:SD,scaleDivergingPow:hw,scaleDivergingSqrt:_re,scaleDivergingSymlog:ND,scaleIdentity:nD,scaleImplicit:Gv,scaleLinear:kp,scaleLog:sD,scaleOrdinal:Gk,scalePoint:Du,scalePow:nw,scaleQuantile:lD,scaleQuantize:cD,scaleRadial:oD,scaleSequential:yD,scaleSequentialLog:bD,scaleSequentialPow:fw,scaleSequentialQuantile:wD,scaleSequentialSqrt:Cre,scaleSequentialSymlog:kD,scaleSqrt:fte,scaleSymlog:iD,scaleThreshold:uD,scaleTime:Are,scaleUtc:Ere,tickFormat:rD},Symbol.toStringTag,{value:"Module"}));var Dre=dc;function Mre(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Dre(o):r(o,l)))var l=o,c=i}return c}var og=Mre;function $re(e,t){return e>t}var PD=$re,Rre=og,Ire=PD,Lre=yc;function Bre(e){return e&&e.length?Rre(e,Lre,Ire):void 0}var Fre=Bre;const lg=dt(Fre);function Kre(e,t){return e<t}var TD=Kre,zre=og,Vre=TD,Hre=yc;function Ure(e){return e&&e.length?zre(e,Hre,Vre):void 0}var Wre=Ure;const cg=dt(Wre);var Gre=Tk,qre=Na,Yre=$4,Jre=un;function Xre(e,t){var r=Jre(e)?Gre:Yre;return r(e,qre(t))}var Qre=Xre,Zre=D4,ene=Qre;function tne(e,t){return Zre(ene(e,t),1)}var rne=tne;const nne=dt(rne);var ane=zk;function sne(e,t){return ane(e,t)}var ine=sne;const cf=dt(ine);var kc=1e9,one={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mw,_t=!0,Fn="[DecimalError] ",so=Fn+"Invalid argument: ",pw=Fn+"Exponent out of range: ",wc=Math.floor,Fi=Math.pow,lne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xn,fr=1e7,Ot=7,OD=9007199254740991,Np=wc(OD/Ot),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return Ua(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return xt(Ua(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Qt(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(xn))throw Error(Fn+"NaN");if(r.s<1)throw Error(Fn+(r.s?"NaN":"-Infinity"));return r.eq(xn)?new n(0):(_t=!1,t=Ua(kd(r,i),kd(e,i),i),_t=!0,xt(t,s))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CD(t,e):AD(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Fn+"NaN");return r.s?(_t=!1,t=Ua(r,e,0,1).times(e),_t=!0,r.minus(t)):xt(new n(r),s)};Ee.naturalExponential=Ee.exp=function(){return ED(this)};Ee.naturalLogarithm=Ee.ln=function(){return kd(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AD(t,e):CD(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(so+e);if(t=Qt(s)+1,n=s.d.length-1,r=n*Ot+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Fn+"NaN")}for(e=Qt(l),_t=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=pa(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=wc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ua(l,i,o+2)).times(.5),pa(i.d).slice(0,o)===(t=pa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(xt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return _t=!0,xt(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%fr|0,t=l/fr|0;i[s]=(i[s]+t)%fr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,_t?xt(e,f.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wa(e,0,kc),t===void 0?t=n.rounding:wa(t,0,8),xt(r,e+Qt(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=go(n,!0):(wa(e,0,kc),t===void 0?t=s.rounding:wa(t,0,8),n=xt(new s(n),e+1,t),r=go(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?go(s):(wa(e,0,kc),t===void 0?t=i.rounding:wa(t,0,8),n=xt(new i(s),e+Qt(s)+1,t),r=go(n.abs(),!1,e+Qt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return xt(new t(e),Qt(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(xn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Fn+"Infinity");return l}if(l.eq(xn))return l;if(n=c.precision,e.eq(xn))return xt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=OD){for(s=new c(xn),t=Math.ceil(n/Ot+4),_t=!1;r%2&&(s=s.times(l),FP(s.d,t)),r=wc(r/2),r!==0;)l=l.times(l),FP(l.d,t);return _t=!0,e.s<0?new c(xn).div(s):xt(s,n)}}else if(i<0)throw Error(Fn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,_t=!1,s=e.times(kd(l,n+u)),_t=!0,s=ED(s),s.s=i,s};Ee.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Qt(s),n=go(s,r<=i.toExpNeg||r>=i.toExpPos)):(wa(e,1,kc),t===void 0?t=i.rounding:wa(t,0,8),s=xt(new i(s),e,t),r=Qt(s),n=go(s,e<=r||r<=i.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wa(e,1,kc),t===void 0?t=n.rounding:wa(t,0,8)),xt(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qt(e),r=e.constructor;return go(e,t<=r.toExpNeg||t>=r.toExpPos)};function AD(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),_t?xt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Ot),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/fr|0,c[i]%=fr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,_t?xt(t,f):t}function wa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(so+e)}function pa(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ot-n.length,r&&(i+=Vs(r)),i+=n;o=e[t],n=o+"",r=Ot-n.length,r&&(i+=Vs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ua=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%fr|0,o=i/fr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*fr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,g,m,b,v,y,x,j,w,N,S,P,A=n.constructor,$=n.s==s.s?1:-1,I=n.d,E=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Fn+"Division by zero");for(c=n.e-s.e,S=E.length,w=I.length,p=new A($),g=p.d=[],u=0;E[u]==(I[u]||0);)++u;if(E[u]>(I[u]||0)&&--c,i==null?y=i=A.precision:o?y=i+(Qt(n)-Qt(s))+1:y=i,y<0)return new A(0);if(y=y/Ot+2|0,u=0,S==1)for(d=0,E=E[0],y++;(u<w||d)&&y--;u++)x=d*fr+(I[u]||0),g[u]=x/E|0,d=x%E|0;else{for(d=fr/(E[0]+1)|0,d>1&&(E=e(E,d),I=e(I,d),S=E.length,w=I.length),j=S,m=I.slice(0,S),b=m.length;b<S;)m[b++]=0;P=E.slice(),P.unshift(0),N=E[0],E[1]>=fr/2&&++N;do d=0,l=t(E,m,S,b),l<0?(v=m[0],S!=b&&(v=v*fr+(m[1]||0)),d=v/N|0,d>1?(d>=fr&&(d=fr-1),f=e(E,d),h=f.length,b=m.length,l=t(f,m,h,b),l==1&&(d--,r(f,S<h?P:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<b&&f.unshift(0),r(m,f,b),l==-1&&(b=m.length,l=t(E,m,S,b),l<1&&(d++,r(m,S<b?P:E,b))),b=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[b++]=I[j]||0:(m=[I[j]],b=1);while((j++<w||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,xt(p,o?i+Qt(p)+1:i)}}();function ED(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Qt(e)>16)throw Error(pw+Qt(e));if(!e.s)return new d(xn);for(_t=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Fi(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(xn),d.precision=l;;){if(s=xt(s.times(e),l),r=r.times(++c),o=i.plus(Ua(s,r,l)),pa(o.d).slice(0,l)===pa(i.d).slice(0,l)){for(;u--;)i=xt(i.times(i),l);return d.precision=f,t==null?(_t=!0,xt(i,f)):i}i=o}}function Qt(e){for(var t=e.e*Ot,r=e.d[0];r>=10;r/=10)t++;return t}function Bx(e,t,r){if(t>e.LN10.sd())throw _t=!0,r&&(e.precision=r),Error(Fn+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function Vs(e){for(var t="";e--;)t+="0";return t}function kd(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(Fn+(p.s?"NaN":"-Infinity"));if(p.eq(xn))return new m(0);if(t==null?(_t=!1,u=b):u=t,p.eq(10))return t==null&&(_t=!0),Bx(m,u);if(u+=h,m.precision=u,r=pa(g),n=r.charAt(0),i=Qt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=pa(p.d),n=r.charAt(0),f++;i=Qt(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Bx(m,u+2,b).times(i+""),p=kd(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=b,t==null?(_t=!0,xt(p,b)):p;for(l=o=p=Ua(p.minus(xn),p.plus(xn),u),d=xt(p.times(p),u),s=3;;){if(o=xt(o.times(d),u),c=l.plus(Ua(o,new m(s),u)),pa(c.d).slice(0,u)===pa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Bx(m,u+2,b).times(i+""))),l=Ua(l,new m(f),u),m.precision=b,t==null?(_t=!0,xt(l,b)):l;l=c,s+=2}}function BP(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=wc(r/Ot),e.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ot;n<s;)e.d.push(+t.slice(n,n+=Ot));t=t.slice(n),n=Ot-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),_t&&(e.e>Np||e.e<-Np))throw Error(pw+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ot,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ot),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ot,s=n-Ot+o}if(r!==void 0&&(i=Fi(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Fi(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Qt(e),f.length=1,t=t-i-1,f[0]=Fi(10,(Ot-t%Ot)%Ot),e.e=wc(-t/Ot)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Fi(10,Ot-n),f[d]=s>0?(u/Fi(10,o-s)%Fi(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==fr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=fr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(_t&&(e.e>Np||e.e<-Np))throw Error(pw+Qt(e));return e}function CD(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),_t?xt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Ot),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=fr-1;--c[i],c[s]+=fr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,_t?xt(t,p):t):new h(0)}function go(e,t,r){var n,s=Qt(e),i=pa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Vs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Vs(-s-1)+i,r&&(n=r-o)>0&&(i+=Vs(n))):s>=o?(i+=Vs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Vs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Vs(n))),e.s<0?"-"+i:i}function FP(e,t){if(e.length>t)return e.length=t,!0}function _D(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(so+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return BP(o,i.toString())}else if(typeof i!="string")throw Error(so+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,lne.test(i))BP(o,i);else throw Error(so+i)}if(s.prototype=Ee,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=_D,s.config=s.set=cne,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function cne(e){if(!e||typeof e!="object")throw Error(Fn+"Object expected");var t,r,n,s=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(wc(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(so+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(so+r+": "+n);return this}var mw=_D(one);xn=new mw(1);const mt=mw;function une(e){return pne(e)||hne(e)||fne(e)||dne()}function dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(e,t){if(e){if(typeof e=="string")return Xv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xv(e,t)}}function hne(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pne(e){if(Array.isArray(e))return Xv(e)}function Xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mne=function(t){return t},DD={},MD=function(t){return t===DD},KP=function(t){return function r(){return arguments.length===0||arguments.length===1&&MD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},gne=function e(t,r){return t===1?r:KP(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==DD}).length;return o>=t?r.apply(void 0,s):e(t-o,KP(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return MD(f)?c.shift():f});return r.apply(void 0,une(d).concat(c))}))})},ug=function(t){return gne(t.length,t)},Qv=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},xne=ug(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),vne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mne;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Zv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$D=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function yne(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function bne(e,t,r){for(var n=new mt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var kne=ug(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),wne=ug(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),jne=ug(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const dg={rangeStep:bne,getDigitCount:yne,interpolateNumber:kne,uninterpolateNumber:wne,uninterpolateTruncation:jne};function ey(e){return Pne(e)||Nne(e)||RD(e)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Pne(e){if(Array.isArray(e))return ty(e)}function wd(e,t){return Ane(e)||One(e,t)||RD(e,t)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function One(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Ane(e){if(Array.isArray(e))return e}function ID(e){var t=wd(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function LD(e,t,r){if(e.lte(0))return new mt(0);var n=dg.getDigitCount(e.toNumber()),s=new mt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new mt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new mt(Math.ceil(c))}function Ene(e,t,r){var n=1,s=new mt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new mt(10).pow(dg.getDigitCount(e)-1),s=new mt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new mt(Math.floor(e)))}else e===0?s=new mt(Math.floor((t-1)/2)):r||(s=new mt(Math.floor(e)));var o=Math.floor((t-1)/2),l=vne(xne(function(c){return s.add(new mt(c-o).mul(n)).toNumber()}),Qv);return l(0,t)}function BD(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var i=LD(new mt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new mt(0):(o=new mt(e).add(t).div(2),o=o.sub(new mt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new mt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?BD(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new mt(l).mul(i)),tickMax:o.add(new mt(c).mul(i))})}function Cne(e){var t=wd(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=ID([r,n]),c=wd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ey(Qv(0,s-1).map(function(){return 1/0}))):[].concat(ey(Qv(0,s-1).map(function(){return-1/0})),[d]);return r>n?Zv(f):f}if(u===d)return Ene(u,s,i);var h=BD(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,b=dg.rangeStep(g,m.add(new mt(.1).mul(p)),p);return r>n?Zv(b):b}function _ne(e,t){var r=wd(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ID([n,s]),l=wd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=LD(new mt(u).sub(c).div(d-1),i,0),h=[].concat(ey(dg.rangeStep(new mt(c),new mt(u).sub(new mt(.99).mul(f)),f)),[u]);return n>s?Zv(h):h}var Dne=$D(Cne),Mne=$D(_ne),$ne="Invariant failed";function xo(e,t){throw new Error($ne)}var Rne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(this,arguments)}function Ine(e,t){return Kne(e)||Fne(e,t)||Bne(e,t)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(e,t){if(e){if(typeof e=="string")return zP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Kne(e){if(Array.isArray(e))return e}function zne(e,t){if(e==null)return{};var r=Vne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Une(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zD(n.key),n)}}function Wne(e,t,r){return t&&Une(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gne(e,t,r){return t=Tp(t),qne(e,FD()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function qne(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yne(e)}function Yne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function Jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ry(e,t)}function KD(e,t,r){return t=zD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=Xne(e,"string");return Bl(t)=="symbol"?t:t+""}function Xne(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uf=function(e){function t(){return Hne(this,t),Gne(this,t,arguments)}return Jne(t,e),Wne(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=zne(n,Rne),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&xo();var g=c.map(function(m){var b=u(m,l),v=b.x,y=b.y,x=b.value,j=b.errorVal;if(!j)return null;var w=[],N,S;if(Array.isArray(j)){var P=Ine(j,2);N=P[0],S=P[1]}else N=S=j;if(i==="vertical"){var A=d.scale,$=y+s,I=$+o,E=$-o,_=A(x-N),U=A(x+S);w.push({x1:U,y1:I,x2:U,y2:E}),w.push({x1:_,y1:$,x2:U,y2:$}),w.push({x1:_,y1:I,x2:_,y2:E})}else if(i==="horizontal"){var K=f.scale,Y=v+s,ne=Y-o,D=Y+o,R=K(x-N),z=K(x+S);w.push({x1:ne,y1:z,x2:D,y2:z}),w.push({x1:Y,y1:R,x2:Y,y2:z}),w.push({x1:ne,y1:R,x2:D,y2:R})}return ee.createElement(ot,Pp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),w.map(function(V){return ee.createElement("line",Pp({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return ee.createElement(ot,{className:"recharts-errorBars"},g)}}])}(ee.Component);KD(uf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});KD(uf,"displayName","ErrorBar");function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qne(e,t,r){return t=Zne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zne(e){var t=eae(e,"string");return jd(t)=="symbol"?t:t+""}function eae(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VD=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=mn(r,ha);if(!o)return null;var l=ha.defaultProps,c=l!==void 0?Ai(Ai({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ai(Ai({},h),f.props):{},g=p.dataKey,m=p.name,b=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:c.iconType||b||"square",color:gw(f),value:m||g,payload:p}}),Ai(Ai(Ai({},c),ha.getWithHeight(o,s)),{},{payload:u,item:o})};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function HP(e){return aae(e)||nae(e)||rae(e)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(e,t){if(e){if(typeof e=="string")return ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ny(e,t)}}function nae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aae(e){if(Array.isArray(e))return ny(e)}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){xl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xl(e,t,r){return t=sae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=iae(e,"string");return Sd(t)=="symbol"?t:t+""}function iae(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,r){return He(e)||He(t)?r:cr(t)?bn(e,t,r):Ke(t)?t(e):r}function Mu(e,t,r,n){var s=nne(e,function(l){return or(l,t)});if(r==="number"){var i=s.filter(function(l){return je(l)||parseFloat(l)});return i.length?[cg(i),lg(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!He(l)}):s;return o.map(function(l){return cr(l)||l instanceof Date?l:""})}var oae=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(qr(f-d)!==qr(h-f)){var g=[];if(qr(h-f)===qr(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var b=h+c[1]-c[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),x=Math.max(d,h);if(t>(y+f)/2&&t<=(x+f)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},gw=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Kt(Kt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},lae=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,b=g.cateAxisId,v=m.filter(function(S){return Ha(S.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,x=y!==void 0?Kt(Kt({},y),v[0].props):v[0].props,j=x.barSize,w=x[b];o[w]||(o[w]=[]);var N=He(j)?r:j;o[w].push({item:v[0],stackList:v.slice(1),barSize:He(N)?void 0:Yr(N,n,0)})}}return o},cae=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Yr(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(j,w){return j+w.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,b={offset:m-u,size:0};d=o.reduce(function(j,w){var N={item:w.item,position:{offset:b.offset+b.size+u,size:h?p:w.barSize}},S=[].concat(HP(j),[N]);return b=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){S.push({item:P,position:b})}),S},f)}else{var v=Yr(n,s,0,!0);s-2*v-(c-1)*u<=0&&(u=0);var y=(s-2*v-(c-1)*u)/c;y>1&&(y>>=0);var x=l===+l?Math.min(y,l):y;d=o.reduce(function(j,w,N){var S=[].concat(HP(j),[{item:w.item,position:{offset:v+(y+u)*N+(y-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){S.push({item:P,position:S[S.length-1].position})}),S},f)}return d},uae=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=VD({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&je(t[p]))return Kt(Kt({},t),{},xl({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&je(t[g]))return Kt(Kt({},t),{},xl({},g,t[g]+(h||0)))}return t},dae=function(t,r,n){return He(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},HD=function(t,r,n,s,i){var o=r.props.children,l=kn(o,uf).filter(function(u){return dae(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=or(d,n);if(He(f))return u;var h=Array.isArray(f)?[cg(f),lg(f)]:[f,f],p=c.reduce(function(g,m){var b=or(d,m,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),y=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},fae=function(t,r,n,s,i){var o=r.map(function(l){return HD(t,l,n,i,s)}).filter(function(l){return!He(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},UD=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&HD(t,c,u,s)||Mu(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},WD=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},GD=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ba=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!rf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Fx=new WeakMap,Vf=function(t,r){if(typeof r!="function")return t;Fx.has(t)||Fx.set(t,new WeakMap);var n=Fx.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},qD=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:gd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:kp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Du(),realScaleType:"point"}:i==="category"?{scale:gd(),realScaleType:"band"}:{scale:kp(),realScaleType:"linear"};if(ho(s)){var c="scale".concat(qm(s));return{scale:(LP[c]||Du)(),realScaleType:LP[c]?c:"point"}}return Ke(s)?{scale:s}:{scale:Du(),realScaleType:"point"}},WP=1e-4,YD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-WP,o=Math.max(s[0],s[1])+WP,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},hae=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},pae=function(t,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},mae=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=rf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},gae=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=rf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},xae={sign:mae,expand:RU,none:Cl,silhouette:IU,wiggle:LU,positive:gae},vae=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=xae[n],o=$U().keys(s).value(function(l,c){return+or(l,c,0)}).order(Ov).offset(i);return o(t)},yae=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Kt(Kt({},h.type.defaultProps),h.props):h.props,m=g.stackId,b=g.hide;if(b)return f;var v=g[n],y=f[v]||{hasStack:!1,stackGroups:{}};if(cr(m)){var x=y.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};x.items.push(h),y.hasStack=!0,y.stackGroups[m]=x}else y.stackGroups[gc("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Kt(Kt({},f),{},xl({},v,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var v=p.stackGroups[b];return Kt(Kt({},m),{},xl({},b,{numericAxisId:n,cateAxisId:s,items:v.items,stackedData:vae(t,v.items,i)}))},g)}return Kt(Kt({},f),{},xl({},h,p))},d)},JD=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Dne(u,i,l);return t.domain([cg(d),lg(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=Mne(f,i,l);return{niceTicks:h}}return null};function GP(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(s[t.dataKey])){var l=ep(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=or(s,He(o)?t.dataKey:o);return He(c)?null:t.scale(c)}var qP=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=or(o,r.dataKey,r.domain[l]);return He(c)?null:r.scale(c)-i/2+s},bae=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},kae=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Kt(Kt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(cr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},wae=function(t){return t.reduce(function(r,n){return[cg(n.concat([r[0]]).filter(je)),lg(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},XD=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=wae(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},YP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ay=function(t,r,n){if(Ke(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(je(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(YP.test(t[0])){var i=+YP.exec(t[0])[1];s[0]=r[0]-i}else Ke(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(je(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(JP.test(t[1])){var o=+JP.exec(t[1])[1];s[1]=r[1]+o}else Ke(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Op=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Hk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},XP=function(t,r,n){return!t||!t.length||cf(t,bn(n,"type.defaultProps.domain"))?r:t},QD=function(t,r){var n=t.type.defaultProps?Kt(Kt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Kt(Kt({},Re(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:gw(t),value:or(r,s),type:c,payload:r,chartType:u,hide:d})};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){ZD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZD(e,t,r){return t=jae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jae(e){var t=Sae(e,"string");return Nd(t)=="symbol"?t:t+""}function Sae(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nae(e,t){return Aae(e)||Oae(e,t)||Tae(e,t)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tae(e,t){if(e){if(typeof e=="string")return ZP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZP(e,t)}}function ZP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Aae(e){if(Array.isArray(e))return e}var Ap=Math.PI/180,Eae=function(t){return t*180/Math.PI},wt=function(t,r,n,s){return{x:t+Math.cos(-Ap*s)*n,y:r+Math.sin(-Ap*s)*n}},eM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Cae=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Yr(t.cx,o,o/2),f=Yr(t.cy,l,l/2),h=eM(o,l,n),p=Yr(t.innerRadius,h,0),g=Yr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(b,v){var y=r[v],x=y.domain,j=y.reversed,w;if(He(y.range))s==="angleAxis"?w=[c,u]:s==="radiusAxis"&&(w=[p,g]),j&&(w=[w[1],w[0]]);else{w=y.range;var N=w,S=Nae(N,2);c=S[0],u=S[1]}var P=qD(y,i),A=P.realScaleType,$=P.scale;$.domain(x).range(w),YD($);var I=JD($,_a(_a({},y),{},{realScaleType:A})),E=_a(_a(_a({},y),I),{},{range:w,radius:g,realScaleType:A,scale:$,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return _a(_a({},b),{},ZD({},v,E))},{})},_ae=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Dae=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=_ae({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Eae(u),angleInRadian:u}},Mae=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},$ae=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},e2=function(t,r){var n=t.x,s=t.y,i=Dae({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Mae(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?_a(_a({},r),{},{radius:o,angle:$ae(p,r)}):null},tM=function(t){return!k.isValidElement(t)&&!Ke(t)&&typeof t!="boolean"?t.className:""};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}var Rae=["offset"];function Iae(e){return Kae(e)||Fae(e)||Bae(e)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(e,t){if(e){if(typeof e=="string")return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sy(e,t)}}function Fae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kae(e){if(Array.isArray(e))return sy(e)}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zae(e,t){if(e==null)return{};var r=Vae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){Hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hae(e,t,r){return t=Uae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uae(e){var t=Wae(e,"string");return Pd(t)=="symbol"?t:t+""}function Wae(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}var Gae=function(t){var r=t.value,n=t.formatter,s=He(t.children)?r:t.children;return Ke(n)?n(s):s},qae=function(t,r){var n=qr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},Yae=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,b=(f+h)/2,v=qae(p,g),y=v>=0?1:-1,x,j;s==="insideStart"?(x=p+y*o,j=m):s==="insideEnd"?(x=g-y*o,j=!m):s==="end"&&(x=g+y*o,j=m),j=v<=0?j:!j;var w=wt(u,d,b,x),N=wt(u,d,b,x+(j?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),P=He(t.id)?gc("recharts-radial-line-"):t.id;return ee.createElement("text",Td({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",l)}),ee.createElement("defs",null,ee.createElement("path",{id:P,d:S})),ee.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Jae=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=wt(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,v=wt(o,l,b,h),y=v.x,x=v.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Xae=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,b=m*s,v=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var x={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return ar(ar({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return ar(ar({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-b,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return ar(ar({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ar(ar({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?ar({x:l+b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?ar({x:l+u-b,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):i==="insideTop"?ar({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?ar({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?ar({x:l+b,y:c+h,textAnchor:y,verticalAnchor:g},S):i==="insideTopRight"?ar({x:l+u-b,y:c+h,textAnchor:v,verticalAnchor:g},S):i==="insideBottomLeft"?ar({x:l+b,y:c+d-h,textAnchor:y,verticalAnchor:p},S):i==="insideBottomRight"?ar({x:l+u-b,y:c+d-h,textAnchor:v,verticalAnchor:p},S):fc(i)&&(je(i.x)||Yi(i.x))&&(je(i.y)||Yi(i.y))?ar({x:l+Yr(i.x,u),y:c+Yr(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):ar({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Qae=function(t){return"cx"in t&&je(t.cx)};function pr(e){var t=e.offset,r=t===void 0?5:t,n=zae(e,Rae),s=ar({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||He(l)&&He(c)&&!k.isValidElement(u)&&!Ke(u))return null;if(k.isValidElement(u))return k.cloneElement(u,s);var p;if(Ke(u)){if(p=k.createElement(u,s),k.isValidElement(p))return p}else p=Gae(s);var g=Qae(i),m=Re(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Yae(s,p,m);var b=g?Jae(s):Xae(s);return ee.createElement(mo,Td({className:Ue("recharts-label",f)},m,b,{breakAll:h}),p)}pr.displayName="Label";var rM=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,b=t.height,v=t.clockWise,y=t.labelViewBox;if(y)return y;if(je(m)&&je(b)){if(je(f)&&je(h))return{x:f,y:h,width:m,height:b};if(je(p)&&je(g))return{x:p,y:g,width:m,height:b}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},Zae=function(t,r){return t?t===!0?ee.createElement(pr,{key:"label-implicit",viewBox:r}):cr(t)?ee.createElement(pr,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===pr?k.cloneElement(t,{key:"label-implicit",viewBox:r}):ee.createElement(pr,{key:"label-implicit",content:t,viewBox:r}):Ke(t)?ee.createElement(pr,{key:"label-implicit",content:t,viewBox:r}):fc(t)?ee.createElement(pr,Td({viewBox:r},t,{key:"label-implicit"})):null:null},ese=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=rM(t),o=kn(s,pr).map(function(c,u){return k.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Zae(t.label,r||i);return[l].concat(Iae(o))};pr.parseViewBox=rM;pr.renderCallByParent=ese;function tse(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rse=tse;const nse=dt(rse);function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}var ase=["valueAccessor"],sse=["data","dataKey","clockWise","id","textBreakAll"];function ise(e){return use(e)||cse(e)||lse(e)||ose()}function ose(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function cse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function use(e){if(Array.isArray(e))return iy(e)}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dse(e,t,r){return t=fse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fse(e){var t=hse(e,"string");return Od(t)=="symbol"?t:t+""}function hse(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a2(e,t){if(e==null)return{};var r=pse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mse=function(t){return Array.isArray(t.value)?nse(t.value):t.value};function ya(e){var t=e.valueAccessor,r=t===void 0?mse:t,n=a2(e,ase),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=a2(n,sse);return!s||!s.length?null:ee.createElement(ot,{className:"recharts-label-list"},s.map(function(d,f){var h=He(i)?r(d,f):or(d&&d.payload,i),p=He(l)?{}:{id:"".concat(l,"-").concat(f)};return ee.createElement(pr,Ep({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:pr.parseViewBox(He(o)?d:n2(n2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ya.displayName="LabelList";function gse(e,t){return e?e===!0?ee.createElement(ya,{key:"labelList-implicit",data:t}):ee.isValidElement(e)||Ke(e)?ee.createElement(ya,{key:"labelList-implicit",data:t,content:e}):fc(e)?ee.createElement(ya,Ep({data:t},e,{key:"labelList-implicit"})):null:null}function xse(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=kn(n,ya).map(function(o,l){return k.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=gse(e.label,t);return[i].concat(ise(s))}ya.renderCallByParent=xse;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){vse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vse(e,t,r){return t=yse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=bse(e,"string");return Ad(t)=="symbol"?t:t+""}function bse(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kse=function(t,r){var n=qr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Hf=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Ap,h=u?i:i+o*f,p=wt(r,n,d,h),g=wt(r,n,s,h),m=u?i-o*f:i,b=wt(r,n,d*Math.cos(f*Ap),m);return{center:p,circleTangency:g,lineTangency:b,theta:f}},nM=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=kse(o,l),u=o+c,d=wt(r,n,i,o),f=wt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=wt(r,n,s,o),g=wt(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wse=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=qr(d-u),h=Hf({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,b=Hf({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=b.circleTangency,y=b.lineTangency,x=b.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-x;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nM({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var N=Hf({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,P=N.lineTangency,A=N.theta,$=Hf({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=$.circleTangency,E=$.lineTangency,_=$.theta,U=c?Math.abs(u-d):Math.abs(u-d)-A-_;if(U<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},jse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aM=function(t){var r=i2(i2({},jse),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ue("recharts-sector",h),g=o-i,m=Yr(l,g,0,!0),b;return m>0&&Math.abs(d-f)<360?b=wse({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=nM({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),ee.createElement("path",oy({},Re(r,!0),{className:p,d:b,role:"img"}))};function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sse(e,t,r){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nse(e){var t=Pse(e,"string");return Ed(t)=="symbol"?t:t+""}function Pse(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c2={curveBasisClosed:SU,curveBasisOpen:NU,curveBasis:jU,curveBumpX:cU,curveBumpY:uU,curveLinearClosed:PU,curveLinear:Jm,curveMonotoneX:TU,curveMonotoneY:OU,curveNatural:AU,curveStep:EU,curveStepAfter:_U,curveStepBefore:CU},Uf=function(t){return t.x===+t.x&&t.y===+t.y},Vc=function(t){return t.x},Hc=function(t){return t.y},Tse=function(t,r){if(Ke(t))return t;var n="curve".concat(qm(t));return(n==="curveMonotone"||n==="curveBump")&&r?c2["".concat(n).concat(r==="vertical"?"Y":"X")]:c2[n]||Jm},Ose=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Tse(n,l),f=u?i.filter(function(m){return Uf(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Uf(m)}):o,g=f.map(function(m,b){return l2(l2({},m),{},{base:p[b]})});return l==="vertical"?h=$f().y(Hc).x1(Vc).x0(function(m){return m.base.x}):h=$f().x(Vc).y1(Hc).y0(function(m){return m.base.y}),h.defined(Uf).curve(d),h(g)}return l==="vertical"&&je(o)?h=$f().y(Hc).x1(Vc).x0(o):je(o)?h=$f().x(Vc).y1(Hc).y0(o):h=Q_().x(Vc).y(Hc),h.defined(Uf).curve(d),h(f)},Cp=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Ose(t):s;return k.createElement("path",ly({},Re(t,!1),tp(t),{className:Ue("recharts-curve",r),d:o,ref:i}))},sM={exports:{}},Ase="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ese=Ase,Cse=Ese;function iM(){}function oM(){}oM.resetWarningCache=iM;var _se=function(){function e(n,s,i,o,l,c){if(c!==Cse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oM,resetWarningCache:iM};return r.PropTypes=r,r};sM.exports=_se();var Dse=sM.exports;const ut=dt(Dse),{getOwnPropertyNames:Mse,getOwnPropertySymbols:$se}=Object,{hasOwnProperty:Rse}=Object.prototype;function u2(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Wf(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Ise(e){return e!=null?e[Symbol.toStringTag]:void 0}function d2(e){return Mse(e).concat($se(e))}const Lse=Object.hasOwn||((e,t)=>Rse.call(e,t));function Ao(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Bse="__v",Fse="__o",Kse="_owner",{getOwnPropertyDescriptor:f2,keys:h2}=Object;function zse(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Vse(e,t){return Ao(e.getTime(),t.getTime())}function Hse(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Use(e,t){return e===t}function p2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Wse=Ao;function Gse(e,t,r){const n=h2(e);let s=n.length;if(h2(t).length!==s)return!1;for(;s-- >0;)if(!lM(e,t,r,n[s]))return!1;return!0}function Uc(e,t,r){const n=d2(e);let s=n.length;if(d2(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!lM(e,t,r,i)||(o=f2(e,i),l=f2(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function qse(e,t){return Ao(e.valueOf(),t.valueOf())}function Yse(e,t){return e.source===t.source&&e.flags===t.flags}function m2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Jse(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Xse(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lM(e,t,r,n){return(n===Kse||n===Fse||n===Bse)&&(e.$$typeof||t.$$typeof)?!0:Lse(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Qse="[object Arguments]",Zse="[object Boolean]",eie="[object Date]",tie="[object Error]",rie="[object Map]",nie="[object Number]",aie="[object Object]",sie="[object RegExp]",iie="[object Set]",oie="[object String]",lie="[object URL]",{isArray:cie}=Array,g2=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:x2}=Object,uie=Object.prototype.toString.call.bind(Object.prototype.toString);function die({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:s,areNumbersEqual:i,areObjectsEqual:o,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:h}){return function(g,m,b){if(g===m)return!0;if(g==null||m==null)return!1;const v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?i(g,m,b):v==="function"?n(g,m,b):!1;const y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return o(g,m,b);if(cie(g))return e(g,m,b);if(g2!=null&&g2(g))return d(g,m,b);if(y===Date)return t(g,m,b);if(y===RegExp)return c(g,m,b);if(y===Map)return s(g,m,b);if(y===Set)return u(g,m,b);const x=uie(g);if(x===eie)return t(g,m,b);if(x===sie)return c(g,m,b);if(x===rie)return s(g,m,b);if(x===iie)return u(g,m,b);if(x===aie)return typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,b);if(x===lie)return f(g,m,b);if(x===tie)return r(g,m,b);if(x===Qse)return o(g,m,b);if(x===Zse||x===nie||x===oie)return l(g,m,b);if(h){let j=h[x];if(!j){const w=Ise(g);w&&(j=h[w])}if(j)return j(g,m,b)}return!1}}function fie({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?Uc:zse,areDatesEqual:Vse,areErrorsEqual:Hse,areFunctionsEqual:Use,areMapsEqual:r?u2(p2,Uc):p2,areNumbersEqual:Wse,areObjectsEqual:r?Uc:Gse,arePrimitiveWrappersEqual:qse,areRegExpsEqual:Yse,areSetsEqual:r?u2(m2,Uc):m2,areTypedArraysEqual:r?Uc:Jse,areUrlsEqual:Xse,unknownTagComparators:void 0};if(t&&(n=x2({},n,t(n))),e){const s=Wf(n.areArraysEqual),i=Wf(n.areMapsEqual),o=Wf(n.areObjectsEqual),l=Wf(n.areSetsEqual);n=x2({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function hie(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function pie({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const mie=Ni();Ni({strict:!0});Ni({circular:!0});Ni({circular:!0,strict:!0});Ni({createInternalComparator:()=>Ao});Ni({strict:!0,createInternalComparator:()=>Ao});Ni({circular:!0,createInternalComparator:()=>Ao});Ni({circular:!0,createInternalComparator:()=>Ao,strict:!0});function Ni(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=fie(e),o=die(i),l=r?r(o):hie(o);return pie({circular:t,comparator:o,createState:n,equals:l,strict:s})}function gie(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function v2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):gie(s)};requestAnimationFrame(n)}function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function xie(e){return kie(e)||bie(e)||yie(e)||vie()}function vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yie(e,t){if(e){if(typeof e=="string")return y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(e,t)}}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kie(e){if(Array.isArray(e))return e}function wie(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=xie(o),c=l[0],u=l.slice(1);if(typeof c=="number"){v2(s.bind(null,u),c);return}s(c),v2(s.bind(null,u));return}cy(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){cM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cM(e,t,r){return t=jie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jie(e){var t=Sie(e,"string");return Cd(t)==="symbol"?t:String(t)}function Sie(e,t){if(Cd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nie=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Pie=function(t){return t},Tie=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$u=function(t,r){return Object.keys(r).reduce(function(n,s){return k2(k2({},n),{},cM({},s,t(s,r[s])))},{})},w2=function(t,r,n){return t.map(function(s){return"".concat(Tie(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Oie(e,t){return Cie(e)||Eie(e,t)||uM(e,t)||Aie()}function Aie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Cie(e){if(Array.isArray(e))return e}function _ie(e){return $ie(e)||Mie(e)||uM(e)||Die()}function Die(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uM(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function Mie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ie(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _p=1e-4,dM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fM=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},j2=function(t,r){return function(n){var s=dM(t,r);return fM(s,n)}},Rie=function(t,r){return function(n){var s=dM(t,r),i=[].concat(_ie(s.map(function(o,l){return o*l}).slice(1)),[0]);return fM(i,n)}},S2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=Oie(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=j2(s,o),h=j2(i,l),p=Rie(s,o),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var y=v>1?1:v,x=y,j=0;j<8;++j){var w=f(x)-y,N=p(x);if(Math.abs(w-y)<_p||N<_p)return h(x);x=g(x-w/N)}return h(x)};return m.isStepper=!1,m},Iie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,b=h*l/1e3+d;return Math.abs(b-f)<_p&&Math.abs(m)<_p?[f,0]:[b,m]};return c.isStepper=!0,c.dt=l,c},Lie=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S2(s);case"spring":return Iie();default:if(s.split("(")[0]==="cubic-bezier")return S2(s)}return typeof s=="function"?s:null};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function N2(e){return Kie(e)||Fie(e)||hM(e)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kie(e){if(Array.isArray(e))return fy(e)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){dy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dy(e,t,r){return t=zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Vie(e,"string");return _d(t)==="symbol"?t:String(t)}function Vie(e,t){if(_d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hie(e,t){return Gie(e)||Wie(e,t)||hM(e,t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(e,t){if(e){if(typeof e=="string")return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(e,t)}}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Gie(e){if(Array.isArray(e))return e}var Dp=function(t,r,n){return t+(r-t)*n},hy=function(t){var r=t.from,n=t.to;return r!==n},qie=function e(t,r,n){var s=$u(function(i,o){if(hy(o)){var l=t(o.from,o.to,o.velocity),c=Hie(l,2),u=c[0],d=c[1];return yr(yr({},o),{},{from:u,velocity:d})}return o},r);return n<1?$u(function(i,o){return hy(o)?yr(yr({},o),{},{velocity:Dp(o.velocity,s[i].velocity,n),from:Dp(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Yie=function(e,t,r,n,s){var i=Nie(e,t),o=i.reduce(function(b,v){return yr(yr({},b),{},dy({},v,[e[v],t[v]]))},{}),l=i.reduce(function(b,v){return yr(yr({},b),{},dy({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return $u(function(v,y){return y.from},l)},p=function(){return!Object.values(l).filter(hy).length},g=function(v){u||(u=v);var y=v-u,x=y/r.dt;l=qie(r,l,x),s(yr(yr(yr({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},m=function(v){d||(d=v);var y=(v-d)/n,x=$u(function(w,N){return Dp.apply(void 0,N2(N).concat([r(y)]))},o);if(s(yr(yr(yr({},e),t),x)),y<1)c=requestAnimationFrame(f);else{var j=$u(function(w,N){return Dp.apply(void 0,N2(N).concat([r(1)]))},o);s(yr(yr(yr({},e),t),j))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}var Jie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xie(e,t){if(e==null)return{};var r=Qie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qie(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Kx(e){return roe(e)||toe(e)||eoe(e)||Zie()}function Zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function toe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function roe(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xu(e,t,r){return t=pM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function noe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pM(n.key),n)}}function soe(e,t,r){return t&&aoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pM(e){var t=ioe(e,"string");return Fl(t)==="symbol"?t:String(t)}function ioe(e,t){if(Fl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},my(e,t)}function loe(e){var t=coe();return function(){var n=Mp(e),s;if(t){var i=Mp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return gy(this,s)}}function gy(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xy(e)}function xy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function coe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}var ja=function(e){ooe(r,e);var t=loe(r);function r(n,s){var i;noe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(xy(i)),i.changeStyle=i.changeStyle.bind(xy(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),gy(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},gy(i);i.state={style:c?xu({},c,u):u}}else i.state={style:{}};return i}return soe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?xu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(mie(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var b={style:c?xu({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(b)}this.runAnimation(Gn(Gn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=Yie(o,l,Lie(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,b,v){if(v===0)return m;var y=b.duration,x=b.easing,j=x===void 0?"ease":x,w=b.style,N=b.properties,S=b.onAnimationEnd,P=v>0?o[v-1]:b,A=N||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(Kx(m),[i.runJSAnimation.bind(i,{from:P.style,to:w,duration:y,easing:j}),y]);var $=w2(A,y,j),I=Gn(Gn(Gn({},P.style),w),{},{transition:$});return[].concat(Kx(m),[I,y,S]).filter(Pie)};return this.manager.start([c].concat(Kx(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=wie());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?xu({},l,c):c,b=w2(Object.keys(m),o,u);g.start([d,i,Gn(Gn({},m),{},{transition:b}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Xie(s,Jie),u=k.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,b=m===void 0?{}:m,v=g.className,y=k.cloneElement(p,Gn(Gn({},c),{},{style:Gn(Gn({},b),d),className:v}));return y};return u===1?f(k.Children.only(i)):ee.createElement("div",null,k.Children.map(i,function(h){return f(h)}))}}]),r}(k.PureComponent);ja.displayName="Animate";ja.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ja.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function uoe(e,t){return poe(e)||hoe(e,t)||foe(e,t)||doe()}function doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(e,t){if(e){if(typeof e=="string")return O2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(e,t)}}function O2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function poe(e){if(Array.isArray(e))return e}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){moe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function moe(e,t,r){return t=goe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function goe(e){var t=xoe(e,"string");return Dd(t)=="symbol"?t:t+""}function xoe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C2=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},voe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},yoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xw=function(t){var r=E2(E2({},yoe),t),n=k.useRef(),s=k.useState(-1),i=uoe(s,2),o=i[0],l=i[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,b=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Ue("recharts-rectangle",p);return y?ee.createElement(ja,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(j){var w=j.width,N=j.height,S=j.x,P=j.y;return ee.createElement(ja,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:v,easing:g},ee.createElement("path",$p({},Re(r,!0),{className:x,d:C2(S,P,w,N,h),ref:n})))}):ee.createElement("path",$p({},Re(r,!0),{className:x,d:C2(c,u,d,f,h)}))},boe=["points","className","baseLinePoints","connectNulls"];function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nl.apply(this,arguments)}function koe(e,t){if(e==null)return{};var r=woe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function woe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _2(e){return Poe(e)||Noe(e)||Soe(e)||joe()}function joe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(e,t){if(e){if(typeof e=="string")return vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vy(e,t)}}function Noe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Poe(e){if(Array.isArray(e))return vy(e)}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D2=function(t){return t&&t.x===+t.x&&t.y===+t.y},Toe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){D2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),D2(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ru=function(t,r){var n=Toe(t);r&&(n=[n.reduce(function(i,o){return[].concat(_2(i),_2(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Ooe=function(t,r,n){var s=Ru(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Ru(r.reverse(),n).slice(1))},Aoe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=koe(t,boe);if(!r||!r.length)return null;var l=Ue("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=Ooe(r,s,i);return ee.createElement("g",{className:l},ee.createElement("path",nl({},Re(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ee.createElement("path",nl({},Re(o,!0),{fill:"none",d:Ru(r,i)})):null,c?ee.createElement("path",nl({},Re(o,!0),{fill:"none",d:Ru(s,i)})):null)}var d=Ru(r,i);return ee.createElement("path",nl({},Re(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}var fg=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=Ue("recharts-dot",i);return r===+r&&n===+n&&s===+s?k.createElement("circle",yy({},Re(t,!1),tp(t),{className:o,cx:r,cy:n,r:s})):null};function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}var Eoe=["x","y","top","left","width","height","className"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Coe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){_oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _oe(e,t,r){return t=Doe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Doe(e){var t=Moe(e,"string");return Md(t)=="symbol"?t:t+""}function Moe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $oe(e,t){if(e==null)return{};var r=Roe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ioe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Loe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=$oe(t,Eoe),b=Coe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!je(n)||!je(i)||!je(f)||!je(p)||!je(l)||!je(u)?null:ee.createElement("path",by({},Re(b,!0),{className:Ue("recharts-cross",g),d:Ioe(n,i,f,p,l,u)}))},Boe=og,Foe=PD,Koe=Na;function zoe(e,t){return e&&e.length?Boe(e,Koe(t),Foe):void 0}var Voe=zoe;const Hoe=dt(Voe);var Uoe=og,Woe=Na,Goe=TD;function qoe(e,t){return e&&e.length?Uoe(e,Woe(t),Goe):void 0}var Yoe=qoe;const Joe=dt(Yoe);var Xoe=["cx","cy","angle","ticks","axisLine"],Qoe=["ticks","tick","angle","tickFormatter","stroke"];function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(this,arguments)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R2(e,t){if(e==null)return{};var r=Zoe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ele(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gM(n.key),n)}}function tle(e,t,r){return t&&I2(e.prototype,t),r&&I2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rle(e,t,r){return t=Rp(t),nle(e,mM()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function nle(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ale(e)}function ale(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function sle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ky(e,t)}function hg(e,t,r){return t=gM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gM(e){var t=ile(e,"string");return Kl(t)=="symbol"?t:t+""}function ile(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pg=function(e){function t(){return ele(this,t),rle(this,t,arguments)}return sle(t,e),tle(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return wt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Hoe(l,function(d){return d.coordinate||0}),u=Joe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=R2(n,Xoe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=wt(s,i,d[0],o),h=wt(s,i,d[1],o),p=Ei(Ei(Ei({},Re(u,!1)),{},{fill:"none"},Re(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ee.createElement("line",Iu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=R2(s,Qoe),f=this.getTickTextAnchor(),h=Re(d,!1),p=Re(o,!1),g=i.map(function(m,b){var v=n.getTickValueCoord(m),y=Ei(Ei(Ei(Ei({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},v),{},{payload:m});return ee.createElement(ot,Iu({className:Ue("recharts-polar-radius-axis-tick",tM(o)),key:"tick-".concat(m.coordinate)},po(n.props,m,b)),t.renderTickItem(o,y,c?c(m.value,b):m.value))});return ee.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:ee.createElement(ot,{className:Ue("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),pr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return ee.isValidElement(n)?o=ee.cloneElement(n,s):Ke(n)?o=n(s):o=ee.createElement(mo,Iu({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(k.PureComponent);hg(pg,"displayName","PolarRadiusAxis");hg(pg,"axisType","radiusAxis");hg(pg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(this,arguments)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ole(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vM(n.key),n)}}function lle(e,t,r){return t&&B2(e.prototype,t),r&&B2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cle(e,t,r){return t=Ip(t),ule(e,xM()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function ule(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(e)}function dle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xM=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function fle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wy(e,t)}function mg(e,t,r){return t=vM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=hle(e,"string");return zl(t)=="symbol"?t:t+""}function hle(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ple=Math.PI/180,F2=1e-5,gg=function(e){function t(){return ole(this,t),cle(this,t,arguments)}return fle(t,e),lle(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=wt(i,o,l,n.coordinate),h=wt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*ple),o;return i>F2?o=s==="outer"?"start":"end":i<-F2?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ci(Ci({},Re(this.props,!1)),{},{fill:"none"},Re(l,!1));if(c==="circle")return ee.createElement(fg,Vi({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return wt(s,i,o,h.coordinate)});return ee.createElement(Aoe,Vi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Re(this.props,!1),f=Re(o,!1),h=Ci(Ci({},d),{},{fill:"none"},Re(l,!1)),p=i.map(function(g,m){var b=n.getTickLineCoord(g),v=n.getTickTextAnchor(g),y=Ci(Ci(Ci({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:b.x2,y:b.y2});return ee.createElement(ot,Vi({className:Ue("recharts-polar-angle-axis-tick",tM(o)),key:"tick-".concat(g.coordinate)},po(n.props,g,m)),l&&ee.createElement("line",Vi({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return ee.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:ee.createElement(ot,{className:Ue("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return ee.isValidElement(n)?o=ee.cloneElement(n,s):Ke(n)?o=n(s):o=ee.createElement(mo,Vi({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(k.PureComponent);mg(gg,"displayName","PolarAngleAxis");mg(gg,"axisType","angleAxis");mg(gg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mle=w4,gle=mle(Object.getPrototypeOf,Object),xle=gle,vle=rs,yle=xle,ble=ns,kle="[object Object]",wle=Function.prototype,jle=Object.prototype,yM=wle.toString,Sle=jle.hasOwnProperty,Nle=yM.call(Object);function Ple(e){if(!ble(e)||vle(e)!=kle)return!1;var t=yle(e);if(t===null)return!0;var r=Sle.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yM.call(r)==Nle}var Tle=Ple;const Ole=dt(Tle);var Ale=rs,Ele=ns,Cle="[object Boolean]";function _le(e){return e===!0||e===!1||Ele(e)&&Ale(e)==Cle}var Dle=_le;const Mle=dt(Dle);function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function $le(e,t){return Ble(e)||Lle(e,t)||Ile(e,t)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(e,t){if(e){if(typeof e=="string")return K2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K2(e,t)}}function K2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ble(e){if(Array.isArray(e))return e}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){Fle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fle(e,t,r){return t=Kle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kle(e){var t=zle(e,"string");return $d(t)=="symbol"?t:t+""}function zle(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H2=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Vle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hle=function(t){var r=V2(V2({},Vle),t),n=k.useRef(),s=k.useState(-1),i=$le(s,2),o=i[0],l=i[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,b=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ue("recharts-trapezoid",p);return v?ee.createElement(ja,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:v},function(x){var j=x.upperWidth,w=x.lowerWidth,N=x.height,S=x.x,P=x.y;return ee.createElement(ja,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:g},ee.createElement("path",Lp({},Re(r,!0),{className:y,d:H2(S,P,j,w,N),ref:n})))}):ee.createElement("g",null,ee.createElement("path",Lp({},Re(r,!0),{className:y,d:H2(c,u,d,f,h)})))},Ule=["option","shapeType","propTransformer","activeClassName","isActive"];function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function Wle(e,t){if(e==null)return{};var r=Gle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){qle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qle(e,t,r){return t=Yle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Jle(e,"string");return Rd(t)=="symbol"?t:t+""}function Jle(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xle(e,t){return Bp(Bp({},t),e)}function Qle(e,t){return e==="symbols"}function W2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ee.createElement(xw,r);case"trapezoid":return ee.createElement(Hle,r);case"sector":return ee.createElement(aM,r);case"symbols":if(Qle(t))return ee.createElement(Rk,r);break;default:return null}}function Zle(e){return k.isValidElement(e)?e.props:e}function bM(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Xle:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Wle(e,Ule),u;if(k.isValidElement(t))u=k.cloneElement(t,Bp(Bp({},c),Zle(t)));else if(Ke(t))u=t(c);else if(Ole(t)&&!Mle(t)){var d=s(t,c);u=ee.createElement(W2,{shapeType:r,elementProps:d})}else{var f=c;u=ee.createElement(W2,{shapeType:r,elementProps:f})}return l?ee.createElement(ot,{className:o},u):u}function xg(e,t){return t!=null&&"trapezoids"in e.props}function vg(e,t){return t!=null&&"sectors"in e.props}function Id(e,t){return t!=null&&"points"in e.props}function ece(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function tce(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function rce(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function nce(e,t){var r;return xg(e,t)?r=ece:vg(e,t)?r=tce:Id(e,t)&&(r=rce),r}function ace(e,t){var r;return xg(e,t)?r="trapezoids":vg(e,t)?r="sectors":Id(e,t)&&(r="points"),r}function sce(e,t){if(xg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Id(e,t)?t.payload:{}}function ice(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=ace(r,t),i=sce(r,t),o=n.filter(function(c,u){var d=cf(i,c),f=r.props[s].filter(function(g){var m=nce(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var hh;function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){Mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wM(n.key),n)}}function lce(e,t,r){return t&&q2(e.prototype,t),r&&q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=Fp(t),uce(e,kM()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function uce(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kM=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jy(e,t)}function jy(e,t){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jy(e,t)}function Mn(e,t,r){return t=wM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wM(e){var t=hce(e,"string");return Vl(t)=="symbol"?t:t+""}function hce(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aa=function(e){function t(r){var n;return oce(this,t),n=cce(this,t,[r]),Mn(n,"pieRef",null),Mn(n,"sectorRefs",[]),Mn(n,"id",gc("recharts-pie-")),Mn(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ke(s)&&s()}),Mn(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ke(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return fce(t,e),lce(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Re(this.props,!1),f=Re(o,!1),h=Re(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,b){var v=(m.startAngle+m.endAngle)/2,y=wt(m.cx,m.cy,m.outerRadius+p,v),x=vt(vt(vt(vt({},d),m),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(y.x,m.cx)},y),j=vt(vt(vt(vt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:b,points:[wt(m.cx,m.cy,m.outerRadius,v),y]}),w=c;return He(c)&&He(u)?w="value":He(c)&&(w=u),ee.createElement(ot,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,x,or(m,w)))});return ee.createElement(ot,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,g=vt(vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ee.createElement(ot,al({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},po(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ee.createElement(bM,al({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return ee.createElement(ja,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,b=[],v=i&&i[0],y=v.startAngle;return i.forEach(function(x,j){var w=h&&h[j],N=j>0?bn(x,"paddingAngle",0):0;if(w){var S=gn(w.endAngle-w.startAngle,x.endAngle-x.startAngle),P=vt(vt({},x),{},{startAngle:y+N,endAngle:y+S(m)+N});b.push(P),y=P.endAngle}else{var A=x.endAngle,$=x.startAngle,I=gn(0,A-$),E=I(m),_=vt(vt({},x),{},{startAngle:y+N,endAngle:y+E+N});b.push(_),y=_.endAngle}}),ee.createElement(ot,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!cf(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!je(u)||!je(d)||!je(f)||!je(h))return null;var m=Ue("recharts-pie",l);return ee.createElement(ot,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),pr.renderCallByParent(this.props,null,!1),(!p||g)&&ya.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(ee.isValidElement(n))return ee.cloneElement(n,s);if(Ke(n))return n(s);var o=Ue("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ee.createElement(Cp,al({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(ee.isValidElement(n))return ee.cloneElement(n,s);var o=i;if(Ke(n)&&(o=n(s),ee.isValidElement(o)))return o;var l=Ue("recharts-pie-label-text",typeof n!="boolean"&&!Ke(n)?n.className:"");return ee.createElement(mo,al({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(k.PureComponent);hh=aa;Mn(aa,"displayName","Pie");Mn(aa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Po.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mn(aa,"parseDeltaAngle",function(e,t){var r=qr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Mn(aa,"getRealPieData",function(e){var t=e.data,r=e.children,n=Re(e,!1),s=kn(r,no);return t&&t.length?t.map(function(i,o){return vt(vt(vt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return vt(vt({},n),i.props)}):[]});Mn(aa,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=eM(s,i),l=n+Yr(e.cx,s,s/2),c=r+Yr(e.cy,i,i/2),u=Yr(e.innerRadius,o,0),d=Yr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Mn(aa,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?vt(vt({},t.type.defaultProps),t.props):t.props,s=hh.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=hh.parseCoordinateOfPie(n,r),m=hh.parseDeltaAngle(o,l),b=Math.abs(m),v=u;He(u)&&He(f)?(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):He(u)&&(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var y=s.filter(function(P){return or(P,v,0)!==0}).length,x=(b>=360?y:y-1)*c,j=b-y*p-x,w=s.reduce(function(P,A){var $=or(A,v,0);return P+(je($)?$:0)},0),N;if(w>0){var S;N=s.map(function(P,A){var $=or(P,v,0),I=or(P,d,A),E=(je($)?$:0)/w,_;A?_=S.endAngle+qr(m)*c*($!==0?1:0):_=o;var U=_+qr(m)*(($!==0?p:0)+E*j),K=(_+U)/2,Y=(g.innerRadius+g.outerRadius)/2,ne=[{name:I,value:$,payload:P,dataKey:v,type:h}],D=wt(g.cx,g.cy,Y,K);return S=vt(vt(vt({percent:E,cornerRadius:i,name:I,tooltipPayload:ne,midAngle:K,middleRadius:Y,tooltipPosition:D},P),g),{},{value:or(P,v),startAngle:_,endAngle:U,payload:P,paddingAngle:qr(m)*c}),S})}return vt(vt({},g),{},{sectors:N,data:s})});var pce=Math.ceil,mce=Math.max;function gce(e,t,r,n){for(var s=-1,i=mce(pce((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var xce=gce,vce=K4,Y2=1/0,yce=17976931348623157e292;function bce(e){if(!e)return e===0?e:0;if(e=vce(e),e===Y2||e===-Y2){var t=e<0?-1:1;return t*yce}return e===e?e:0}var jM=bce,kce=xce,wce=eg,zx=jM;function jce(e){return function(t,r,n){return n&&typeof n!="number"&&wce(t,r,n)&&(r=n=void 0),t=zx(t),r===void 0?(r=t,t=0):r=zx(r),n=n===void 0?t<r?1:-1:zx(n),kce(t,r,n,e)}}var Sce=jce,Nce=Sce,Pce=Nce(),Tce=Pce;const Kp=dt(Tce);function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){SM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SM(e,t,r){return t=Oce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oce(e){var t=Ace(e,"string");return Ld(t)=="symbol"?t:t+""}function Ace(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ece=["Webkit","Moz","O","ms"],Cce=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Ece.reduce(function(i,o){return X2(X2({},i),{},SM({},o+n,r))},{});return s[t]=r,s};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PM(n.key),n)}}function Dce(e,t,r){return t&&Z2(e.prototype,t),r&&Z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mce(e,t,r){return t=Vp(t),$ce(e,NM()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function $ce(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rce(e)}function Rce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NM=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function Ice(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sy(e,t)}function Sy(e,t){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sy(e,t)}function fn(e,t,r){return t=PM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PM(e){var t=Lce(e,"string");return Hl(t)=="symbol"?t:t+""}function Lce(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bce=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Du().domain(Kp(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},eT=function(t){return t.changedTouches&&!!t.changedTouches.length},Ul=function(e){function t(r){var n;return _ce(this,t),n=Mce(this,t,[r]),fn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),fn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),fn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),fn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fn(n,"handleSlideDragStart",function(s){var i=eT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Ice(t,e),Dce(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=or(i[n],l,n);return Ke(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var b=this.getIndex({startX:o+m,endX:l+m});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=eT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,b=d.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),v[o]=u+y;var x=this.getIndex(v),j=x.startIndex,w=x.endIndex,N=function(){var P=b.length-1;return o==="startX"&&(l>c?j%m===0:w%m===0)||l<c&&w===P||o==="endX"&&(l>c?w%m===0:j%m===0)||l>c&&w===P};this.setState(fn(fn({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&N()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(fn({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ee.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=k.Children.only(u);return f?ee.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,b=c.endIndex,v=Math.max(n,this.props.x),y=Vx(Vx({},Re(this.props,!1)),{},{x:v,y:u,width:d,height:f}),x=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[b])===null||o===void 0?void 0:o.name);return ee.createElement(ot,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return ee.createElement(ot,{className:"recharts-brush-texts"},ee.createElement(mo,zp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),ee.createElement(mo,zp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var x=Ue("recharts-brush",i),j=ee.Children.count(o)===1,w=Cce("userSelect","none");return ee.createElement(ot,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||b||v||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),ee.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return ee.isValidElement(n)?i=ee.cloneElement(n,s):Ke(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Vx({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Bce({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(k.PureComponent);fn(Ul,"displayName","Brush");fn(Ul,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fce=Vk;function Kce(e,t){var r;return Fce(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var zce=Kce,Vce=p4,Hce=Na,Uce=zce,Wce=un,Gce=eg;function qce(e,t,r){var n=Wce(e)?Vce:Uce;return r&&Gce(e,t,r)&&(t=void 0),n(e,Hce(t))}var Yce=qce;const Jce=dt(Yce);var ba=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},tT=R4;function Xce(e,t,r){t=="__proto__"&&tT?tT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qce=Xce,Zce=Qce,eue=M4,tue=Na;function rue(e,t){var r={};return t=tue(t),eue(e,function(n,s,i){Zce(r,s,t(n,s,i))}),r}var nue=rue;const aue=dt(nue);function sue(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var iue=sue,oue=Vk;function lue(e,t){var r=!0;return oue(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var cue=lue,uue=iue,due=cue,fue=Na,hue=un,pue=eg;function mue(e,t,r){var n=hue(e)?uue:due;return r&&pue(e,t,r)&&(t=void 0),n(e,fue(t))}var gue=mue;const TM=dt(gue);var xue=["x","y"];function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vue(e,t,r){return t=yue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=bue(e,"string");return Bd(t)=="symbol"?t:t+""}function bue(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kue(e,t){if(e==null)return{};var r=wue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jue(e,t){var r=e.x,n=e.y,s=kue(e,xue),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Wc(Wc(Wc(Wc(Wc({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function nT(e){return ee.createElement(bM,Ny({shapeType:"rectangle",propTransformer:jue,activeClassName:"recharts-active-bar"},e))}var Sue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=je(n)||q7(n);return i?t(n,s):(i||xo(),r)}},Nue=["value","background"],OM;function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Pue(e,t){if(e==null)return{};var r=Tue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EM(n.key),n)}}function Aue(e,t,r){return t&&sT(e.prototype,t),r&&sT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eue(e,t,r){return t=Up(t),Cue(e,AM()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function Cue(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ue(e)}function _ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AM=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function Due(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Py(e,t)}function Js(e,t,r){return t=EM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EM(e){var t=Mue(e,"string");return Wl(t)=="symbol"?t:t+""}function Mue(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ka=function(e){function t(){var r;Oue(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Eue(this,t,[].concat(s)),Js(r,"state",{isAnimationFinished:!1}),Js(r,"id",gc("recharts-bar-")),Js(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Js(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Due(t,e),Aue(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Jt(Jt(Jt({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ee.createElement(ot,Hp({className:"recharts-bar-rectangle"},po(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ee.createElement(nT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return ee.createElement(ja,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(b,v){var y=h&&h[v];if(y){var x=gn(y.x,b.x),j=gn(y.y,b.y),w=gn(y.width,b.width),N=gn(y.height,b.height);return Jt(Jt({},b),{},{x:x(g),y:j(g),width:w(g),height:N(g)})}if(o==="horizontal"){var S=gn(0,b.height),P=S(g);return Jt(Jt({},b),{},{y:b.y+b.height-P,height:P})}var A=gn(0,b.width),$=A(g);return Jt(Jt({},b),{},{width:$})});return ee.createElement(ot,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!cf(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Re(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Pue(u,Nue);if(!f)return null;var p=Jt(Jt(Jt(Jt(Jt({},h),{},{fill:"#eee"},f),c),po(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ee.createElement(nT,Hp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=kn(d,uf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,v){var y=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:y,errorVal:or(b,v)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return ee.createElement(ot,g,f.map(function(m){return ee.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,v=Ue("recharts-bar",o),y=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,j=y||x,w=He(m)?this.id:m;return ee.createElement(ot,{className:v},y||x?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(w)},ee.createElement("rect",{x:y?u:u-f/2,y:x?d:d-h/2,width:y?f:f*2,height:x?h:h*2}))):null,ee.createElement(ot,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!p||b)&&ya.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(k.PureComponent);OM=ka;Js(ka,"displayName","Bar");Js(ka,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Js(ka,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=hae(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,b=m!==void 0?Jt(Jt({},m),r.props):r.props,v=b.dataKey,y=b.children,x=b.minPointSize,j=g==="horizontal"?o:i,w=u?j.scale.domain():null,N=bae({numericAxis:j}),S=kn(y,no),P=f.map(function(A,$){var I,E,_,U,K,Y;u?I=pae(u[d+$],w):(I=or(A,v),Array.isArray(I)||(I=[N,I]));var ne=Sue(x,OM.defaultProps.minPointSize)(I[1],$);if(g==="horizontal"){var D,R=[o.scale(I[0]),o.scale(I[1])],z=R[0],V=R[1];E=qP({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:$}),_=(D=V??z)!==null&&D!==void 0?D:void 0,U=p.size;var Z=z-V;if(K=Number.isNaN(Z)?0:Z,Y={x:E,y:o.y,width:U,height:o.height},Math.abs(ne)>0&&Math.abs(K)<Math.abs(ne)){var B=qr(K||ne)*(Math.abs(ne)-Math.abs(K));_-=B,K+=B}}else{var Q=[i.scale(I[0]),i.scale(I[1])],le=Q[0],ce=Q[1];if(E=le,_=qP({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:$}),U=ce-le,K=p.size,Y={x:i.x,y:_,width:i.width,height:K},Math.abs(ne)>0&&Math.abs(U)<Math.abs(ne)){var pe=qr(U||ne)*(Math.abs(ne)-Math.abs(U));U+=pe}}return Jt(Jt(Jt({},A),{},{x:E,y:_,width:U,height:K,value:u?I:I[1],payload:A,background:Y},S&&S[$]&&S[$].props),{},{tooltipPayload:[QD(r,A)],tooltipPosition:{x:E+U/2,y:_+K/2}})});return Jt({data:P,layout:g},h)});function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function $ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CM(n.key),n)}}function Rue(e,t,r){return t&&iT(e.prototype,t),r&&iT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yg(e,t,r){return t=CM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=Iue(e,"string");return Fd(t)=="symbol"?t:t+""}function Iue(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _M=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!mn(u,ka);return d.reduce(function(p,g){var m=r[g],b=m.orientation,v=m.domain,y=m.padding,x=y===void 0?{}:y,j=m.mirror,w=m.reversed,N="".concat(b).concat(j?"Mirror":""),S,P,A,$,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=v[1]-v[0],_=1/0,U=m.categoricalDomain.sort(X7);if(U.forEach(function(Q,le){le>0&&(_=Math.min((Q||0)-(U[le-1]||0),_))}),Number.isFinite(_)){var K=_/E,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=K*Y/2),m.padding==="no-gap"){var ne=Yr(t.barCategoryGap,K*Y),D=K*Y/2;S=D-ne-(D-ne)/Y*ne}}}s==="xAxis"?P=[n.left+(x.left||0)+(S||0),n.left+n.width-(x.right||0)-(S||0)]:s==="yAxis"?P=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(S||0),n.top+n.height-(x.bottom||0)-(S||0)]:P=m.range,w&&(P=[P[1],P[0]]);var R=qD(m,i,h),z=R.scale,V=R.realScaleType;z.domain(v).range(P),YD(z);var Z=JD(z,Jn(Jn({},m),{},{realScaleType:V}));s==="xAxis"?(I=b==="top"&&!j||b==="bottom"&&j,A=n.left,$=f[N]-I*m.height):s==="yAxis"&&(I=b==="left"&&!j||b==="right"&&j,A=f[N]-I*m.width,$=n.top);var B=Jn(Jn(Jn({},m),Z),{},{realScaleType:V,x:A,y:$,scale:z,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return B.bandSize=Op(B,Z),!m.hide&&s==="xAxis"?f[N]+=(I?-1:1)*B.height:m.hide||(f[N]+=(I?-1:1)*B.width),Jn(Jn({},p),{},yg({},g,B))},{})},DM=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Lue=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return DM({x:r,y:n},{x:s,y:i})},MM=function(){function e(t){$ue(this,e),this.scale=t}return Rue(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();yg(MM,"EPS",1e-4);var vw=function(t){var r=Object.keys(t).reduce(function(n,s){return Jn(Jn({},n),{},yg({},s,MM.create(t[s])))},{});return Jn(Jn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return aue(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return TM(s,function(i,o){return r[o].isInRange(i)})}})};function Bue(e){return(e%180+180)%180}var Fue=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Bue(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Kue=Na,zue=nf,Vue=Qm;function Hue(e){return function(t,r,n){var s=Object(t);if(!zue(t)){var i=Kue(r);t=Vue(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Uue=Hue,Wue=jM;function Gue(e){var t=Wue(e),r=t%1;return t===t?r?t-r:t:0}var que=Gue,Yue=O4,Jue=Na,Xue=que,Que=Math.max;function Zue(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Xue(r);return s<0&&(s=Que(n+s,0)),Yue(e,Jue(t),s)}var ede=Zue,tde=Uue,rde=ede,nde=tde(rde),ade=nde;const sde=dt(ade);var ide=e7(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yw=k.createContext(void 0),bw=k.createContext(void 0),$M=k.createContext(void 0),RM=k.createContext({}),IM=k.createContext(void 0),LM=k.createContext(0),BM=k.createContext(0),lT=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=ide(i);return ee.createElement(yw.Provider,{value:n},ee.createElement(bw.Provider,{value:s},ee.createElement(RM.Provider,{value:i},ee.createElement($M.Provider,{value:d},ee.createElement(IM.Provider,{value:o},ee.createElement(LM.Provider,{value:u},ee.createElement(BM.Provider,{value:c},l)))))))},ode=function(){return k.useContext(IM)},FM=function(t){var r=k.useContext(yw);r==null&&xo();var n=r[t];return n==null&&xo(),n},lde=function(){var t=k.useContext(yw);return Ws(t)},cde=function(){var t=k.useContext(bw),r=sde(t,function(n){return TM(n.domain,Number.isFinite)});return r||Ws(t)},KM=function(t){var r=k.useContext(bw);r==null&&xo();var n=r[t];return n==null&&xo(),n},ude=function(){var t=k.useContext($M);return t},dde=function(){return k.useContext(RM)},kw=function(){return k.useContext(BM)},ww=function(){return k.useContext(LM)};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function fde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VM(n.key),n)}}function pde(e,t,r){return t&&hde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mde(e,t,r){return t=Wp(t),gde(e,zM()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function gde(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(e)}function xde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ty(e,t)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jw(e,t,r){return t=VM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VM(e){var t=yde(e,"string");return Gl(t)=="symbol"?t:t+""}function yde(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bde(e,t){return Sde(e)||jde(e,t)||wde(e,t)||kde()}function kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wde(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Sde(e){if(Array.isArray(e))return e}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}var Nde=function(t,r){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,r):Ke(t)?n=t(r):n=ee.createElement("line",Oy({},r,{className:"recharts-reference-line-line"})),n},Pde=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(ba(u,"discard")&&!t.y.isInRange(m))return null;var b=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?b.reverse():b}if(r){var v=u.x,y=t.x.apply(v,{position:o});if(ba(u,"discard")&&!t.x.isInRange(y))return null;var x=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?x.reverse():x}if(s){var j=u.segment,w=j.map(function(N){return t.apply(N,{position:o})});return ba(u,"discard")&&Jce(w,function(N){return!t.isInRange(N)})?null:w}return null};function Tde(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=ode(),d=FM(s),f=KM(i),h=ude();if(!u||!h)return null;na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=vw({x:d.scale,y:f.scale}),g=cr(t),m=cr(r),b=n&&n.length===2,v=Pde(p,g,m,b,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var y=bde(v,2),x=y[0],j=x.x,w=x.y,N=y[1],S=N.x,P=N.y,A=ba(e,"hidden")?"url(#".concat(u,")"):void 0,$=uT(uT({clipPath:A},Re(e,!0)),{},{x1:j,y1:w,x2:S,y2:P});return ee.createElement(ot,{className:Ue("recharts-reference-line",l)},Nde(o,$),pr.renderCallByParent(e,Lue({x1:j,y1:w,x2:S,y2:P})))}var bg=function(e){function t(){return fde(this,t),mde(this,t,arguments)}return vde(t,e),pde(t,[{key:"render",value:function(){return ee.createElement(Tde,this.props)}}])}(ee.Component);jw(bg,"displayName","ReferenceLine");jw(bg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ode(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ade(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UM(n.key),n)}}function Ede(e,t,r){return t&&Ade(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cde(e,t,r){return t=Gp(t),_de(e,HM()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function _de(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dde(e)}function Dde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(e)}function Mde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ey(e,t)}function kg(e,t,r){return t=UM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UM(e){var t=$de(e,"string");return ql(t)=="symbol"?t:t+""}function $de(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rde=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=vw({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ba(t,"discard")&&!o.isInRange(l)?null:l},wg=function(e){function t(){return Ode(this,t),Cde(this,t,arguments)}return Mde(t,e),Ede(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=cr(s),d=cr(i);if(na(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Rde(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,b=g.className,v=ba(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=hT(hT({clipPath:v},Re(this.props,!0)),{},{cx:h,cy:p});return ee.createElement(ot,{className:Ue("recharts-reference-dot",b)},t.renderDot(m,y),pr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(ee.Component);kg(wg,"displayName","ReferenceDot");kg(wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kg(wg,"renderDot",function(e,t){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,t):Ke(e)?r=e(t):r=ee.createElement(fg,Ay({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ide(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GM(n.key),n)}}function Bde(e,t,r){return t&&Lde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fde(e,t,r){return t=qp(t),Kde(e,WM()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function Kde(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(e)}function zde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function Vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_y(e,t)}function jg(e,t,r){return t=GM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GM(e){var t=Hde(e,"string");return Yl(t)=="symbol"?t:t+""}function Hde(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ude=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=vw({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ba(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:DM(p,g)},Sg=function(e){function t(){return Ide(this,t),Fde(this,t,arguments)}return Vde(t,e),Bde(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;na(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=cr(s),h=cr(i),p=cr(o),g=cr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var b=Ude(f,h,p,g,this.props);if(!b&&!m)return null;var v=ba(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ee.createElement(ot,{className:Ue("recharts-reference-area",c)},t.renderRect(m,mT(mT({clipPath:v},Re(this.props,!0)),b)),pr.renderCallByParent(this.props,b))}}])}(ee.Component);jg(Sg,"displayName","ReferenceArea");jg(Sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jg(Sg,"renderRect",function(e,t){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,t):Ke(e)?r=e(t):r=ee.createElement(xw,Cy({},t,{className:"recharts-reference-area-rect"})),r});function qM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Wde(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Fue(n,r)}function Gde(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Yp(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function qde(e,t){return qM(e,t+1)}function Yde(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:qM(n,u)};var m=c,b,v=function(){return b===void 0&&(b=r(g,m)),b},y=g.coordinate,x=c===0||Yp(e,y,v,d,l);x||(c=0,d=o,u+=1),x&&(d=y+e*(v()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){Jde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jde(e,t,r){return t=Xde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xde(e){var t=Qde(e,"string");return Kd(t)=="symbol"?t:t+""}function Qde(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zde(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var b=e*(p.coordinate+e*m()/2-c);i[h]=p=_r(_r({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[h]=p=_r(_r({},p),{},{tickCoord:p.coordinate});var v=Yp(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+s),i[h]=_r(_r({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function efe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=_r(_r({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Yp(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=_r(_r({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(y){var x=o[y],j,w=function(){return j===void 0&&(j=r(x,y)),j};if(y===0){var N=e*(x.coordinate-e*w()/2-c);o[y]=x=_r(_r({},x),{},{tickCoord:N<0?x.coordinate-N*e:x.coordinate})}else o[y]=x=_r(_r({},x),{},{tickCoord:x.coordinate});var S=Yp(e,x.tickCoord,w,c,u);S&&(c=x.tickCoord+e*(w()/2+s),o[y]=_r(_r({},x),{},{isShow:!0}))},b=0;b<g;b++)m(b);return o}function Sw(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(je(c)||Po.isSsr)return qde(s,typeof c=="number"&&je(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?_u(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,j){var w=Ke(u)?u(x.value,j):x.value;return p==="width"?Wde(_u(w,{fontSize:t,letterSpacing:r}),g,f):_u(w,{fontSize:t,letterSpacing:r})[p]},b=s.length>=2?qr(s[1].coordinate-s[0].coordinate):1,v=Gde(i,b,p);return c==="equidistantPreserveStart"?Yde(b,v,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=efe(b,v,m,s,o,c==="preserveStartEnd"):h=Zde(b,v,m,s,o),h.filter(function(y){return y.isShow}))}var tfe=["viewBox"],rfe=["viewBox"],nfe=["ticks"];function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){Nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hx(e,t){if(e==null)return{};var r=afe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function afe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JM(n.key),n)}}function ife(e,t,r){return t&&vT(e.prototype,t),r&&vT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ofe(e,t,r){return t=Jp(t),lfe(e,YM()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function lfe(e,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cfe(e)}function cfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function ufe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dy(e,t)}function Nw(e,t,r){return t=JM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JM(e){var t=dfe(e,"string");return Jl(t)=="symbol"?t:t+""}function dfe(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jc=function(e){function t(r){var n;return sfe(this,t),n=ofe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ufe(t,e),ife(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Hx(n,tfe),l=this.props,c=l.viewBox,u=Hx(l,rfe);return!ml(i,c)||!ml(o,u)||!ml(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,b,v,y,x=f?-1:1,j=n.tickSize||d,w=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,b=o+ +!f*c,m=b-x*j,y=m-x*h,v=w;break;case"left":m=b=n.coordinate,g=i+ +!f*l,p=g-x*j,v=p-x*h,y=w;break;case"right":m=b=n.coordinate,g=i+ +f*l,p=g+x*j,v=p+x*h,y=w;break;default:p=g=n.coordinate,b=o+ +f*c,m=b+x*j,y=m+x*h,v=w;break}return{line:{x1:p,y1:m,x2:g,y2:b},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=nr(nr(nr({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=nr(nr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=nr(nr({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return ee.createElement("line",sl({},f,{className:Ue("recharts-cartesian-axis-line",bn(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=Sw(nr(nr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=Re(this.props,!1),v=Re(d,!1),y=nr(nr({},b),{},{fill:"none"},Re(c,!1)),x=p.map(function(j,w){var N=o.getTickLineCoord(j),S=N.line,P=N.tick,A=nr(nr(nr(nr({textAnchor:g,verticalAnchor:m},b),{},{stroke:"none",fill:u},v),P),{},{index:w,payload:j,visibleTicksCount:p.length,tickFormatter:f});return ee.createElement(ot,sl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},po(o.props,j,w)),c&&ee.createElement("line",sl({},y,S,{className:Ue("recharts-cartesian-axis-tick-line",bn(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(Ke(f)?f(j.value,w):j.value).concat(h||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Hx(f,nfe),g=h;return Ke(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:ee.createElement(ot,{className:Ue("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),pr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=Ue(s.className,"recharts-cartesian-axis-tick-value");return ee.isValidElement(n)?o=ee.cloneElement(n,nr(nr({},s),{},{className:l})):Ke(n)?o=n(nr(nr({},s),{},{className:l})):o=ee.createElement(mo,sl({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(k.Component);Nw(jc,"displayName","CartesianAxis");Nw(jc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ffe=["x1","y1","x2","y2","key"],hfe=["offset"];function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pfe(e,t,r){return t=mfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mfe(e){var t=gfe(e,"string");return vo(t)=="symbol"?t:t+""}function gfe(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qi.apply(this,arguments)}function bT(e,t){if(e==null)return{};var r=xfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vfe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ee.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XM(e,t){var r;if(ee.isValidElement(e))r=ee.cloneElement(e,t);else if(Ke(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=bT(t,ffe),u=Re(c,!1);u.offset;var d=bT(u,hfe);r=ee.createElement("line",Qi({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function yfe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rr(Rr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return XM(s,u)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function bfe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rr(Rr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return XM(s,u)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kfe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var b=p%t.length;return ee.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wfe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var b=p%n.length;return ee.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jfe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return GD(Sw(Rr(Rr(Rr({},jc.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Sfe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return GD(Sw(Rr(Rr(Rr({},jc.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ro={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Lu(e){var t,r,n,s,i,o,l=kw(),c=ww(),u=dde(),d=Rr(Rr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ro.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ro.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ro.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ro.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ro.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ro.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,b=d.horizontalValues,v=d.verticalValues,y=lde(),x=cde();if(!je(p)||p<=0||!je(g)||g<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||jfe,w=d.horizontalCoordinatesGenerator||Sfe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Ke(w)){var P=b&&b.length,A=w({yAxis:x?Rr(Rr({},x),{},{ticks:P?b:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);na(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vo(A),"]")),Array.isArray(A)&&(N=A)}if((!S||!S.length)&&Ke(j)){var $=v&&v.length,I=j({xAxis:y?Rr(Rr({},y),{},{ticks:$?v:y.ticks}):void 0,width:l,height:c,offset:u},$?!0:m);na(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vo(I),"]")),Array.isArray(I)&&(S=I)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(vfe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ee.createElement(yfe,Qi({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:x})),ee.createElement(bfe,Qi({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:x})),ee.createElement(kfe,Qi({},d,{horizontalPoints:N})),ee.createElement(wfe,Qi({},d,{verticalPoints:S})))}Lu.displayName="CartesianGrid";var Nfe=["type","layout","connectNulls","ref"],Pfe=["key"];function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function kT(e,t){if(e==null)return{};var r=Tfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){Xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Io(e){return Cfe(e)||Efe(e)||Afe(e)||Ofe()}function Ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(e,t){if(e){if(typeof e=="string")return My(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return My(e,t)}}function Efe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cfe(e){if(Array.isArray(e))return My(e)}function My(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZM(n.key),n)}}function Dfe(e,t,r){return t&&jT(e.prototype,t),r&&jT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mfe(e,t,r){return t=Xp(t),$fe(e,QM()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function $fe(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rfe(e)}function Rfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QM=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function Ife(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$y(e,t)}function Xn(e,t,r){return t=ZM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=Lfe(e,"string");return Xl(t)=="symbol"?t:t+""}function Lfe(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ql=function(e){function t(){var r;_fe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Mfe(this,t,[].concat(s)),Xn(r,"state",{isAnimationFinished:!0,totalLength:0}),Xn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Xn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,y){return v+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Io(c.slice(0,g)),[f-m]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Io(t.repeat(c,d)),Io(p),b).map(function(v){return"".concat(v,"px")}).join(", ")}),Xn(r,"id",gc("recharts-line-")),Xn(r,"pathRef",function(o){r.mainCurve=o}),Xn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Xn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Ife(t,e),Dfe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=kn(d,uf);if(!f)return null;var h=function(m,b){return{x:m.x,y:m.y,value:m.value,errorVal:or(m.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return ee.createElement(ot,p,f.map(function(g){return ee.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Re(this.props,!1),h=Re(c,!0),p=u.map(function(m,b){var v=dn(dn(dn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,v)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ee.createElement(ot,Bu({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=kT(l,Nfe),h=dn(dn(dn({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ee.createElement(Cp,Bu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,b=o.height,v=this.state,y=v.prevPoints,x=v.totalLength;return ee.createElement(ja,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(y){var N=y.length/l.length,S=l.map(function(E,_){var U=Math.floor(_*N);if(y[U]){var K=y[U],Y=gn(K.x,E.x),ne=gn(K.y,E.y);return dn(dn({},E),{},{x:Y(w),y:ne(w)})}if(g){var D=gn(m*2,E.x),R=gn(b/2,E.y);return dn(dn({},E),{},{x:D(w),y:R(w)})}return dn(dn({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(S,n,s)}var P=gn(0,x),A=P(w),$;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});$=i.getStrokeDasharray(A,x,I)}else $=i.generateSimpleStrokeDasharray(x,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!cf(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,g=s.height,m=s.isAnimationActive,b=s.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,x=Ue("recharts-line",c),j=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,N=j||w,S=He(b)?this.id:b,P=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=P.r,$=A===void 0?3:A,I=P.strokeWidth,E=I===void 0?2:I,_=iH(o)?o:{},U=_.clipDot,K=U===void 0?!0:U,Y=$*2+E;return ee.createElement(ot,{className:x},j||w?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(S)},ee.createElement("rect",{x:j?h:h-p/2,y:w?f:f-g/2,width:j?p:p*2,height:w?g:g*2})),!K&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(S)},ee.createElement("rect",{x:h-Y/2,y:f-Y/2,width:p+Y,height:g+Y}))):null,!y&&this.renderCurve(N,S),this.renderErrorBar(N,S),(y||o)&&this.renderDots(N,K,S),(!m||v)&&ya.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Io(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Io(o),Io(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(ee.isValidElement(n))i=ee.cloneElement(n,s);else if(Ke(n))i=n(s);else{var o=s.key,l=kT(s,Pfe),c=Ue("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ee.createElement(fg,Bu({key:o},l,{className:c}))}return i}}])}(k.PureComponent);Xn(Ql,"displayName","Line");Xn(Ql,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Xn(Ql,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=or(h,o);return d==="horizontal"?{x:GP({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:He(g)?null:n.scale(g),value:g,payload:h}:{x:He(g)?null:r.scale(g),y:GP({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return dn({points:f,layout:d},u)});function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Bfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ffe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function Kfe(e,t,r){return t&&Ffe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zfe(e,t,r){return t=Qp(t),Vfe(e,e3()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function Vfe(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hfe(e)}function Hfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function Ufe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ry(e,t)}function t3(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=Wfe(e,"string");return Zl(t)=="symbol"?t:t+""}function Wfe(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function Gfe(e){var t=e.xAxisId,r=kw(),n=ww(),s=FM(t);return s==null?null:k.createElement(jc,Iy({},s,{className:Ue("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ba(o,!0)}}))}var ci=function(e){function t(){return Bfe(this,t),zfe(this,t,arguments)}return Ufe(t,e),Kfe(t,[{key:"render",value:function(){return k.createElement(Gfe,this.props)}}])}(k.Component);t3(ci,"displayName","XAxis");t3(ci,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function qfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s3(n.key),n)}}function Jfe(e,t,r){return t&&Yfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xfe(e,t,r){return t=Zp(t),Qfe(e,n3()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function Qfe(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zfe(e)}function Zfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function ehe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ly(e,t)}function a3(e,t,r){return t=s3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3(e){var t=the(e,"string");return ec(t)=="symbol"?t:t+""}function the(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}var rhe=function(t){var r=t.yAxisId,n=kw(),s=ww(),i=KM(r);return i==null?null:k.createElement(jc,By({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Ba(l,!0)}}))},ui=function(e){function t(){return qfe(this,t),Xfe(this,t,arguments)}return ehe(t,e),Jfe(t,[{key:"render",value:function(){return k.createElement(rhe,this.props)}}])}(k.Component);a3(ui,"displayName","YAxis");a3(ui,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ST(e){return ihe(e)||she(e)||ahe(e)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(e,t){if(e){if(typeof e=="string")return Fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fy(e,t)}}function she(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ihe(e){if(Array.isArray(e))return Fy(e)}function Fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ky=function(t,r,n,s,i){var o=kn(t,bg),l=kn(t,wg),c=[].concat(ST(o),ST(l)),u=kn(t,Sg),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,b){if(b.props[d]===n&&ba(b.props,"extendDomain")&&je(b.props[f])){var v=b.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,b){if(b.props[d]===n&&ba(b.props,"extendDomain")&&je(b.props[p])&&je(b.props[g])){var v=b.props[p],y=b.props[g];return[Math.min(m[0],v,y),Math.max(m[1],v,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,b){return je(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},h)),h},i3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var b=this._events[m],v=arguments.length,y,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,g),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];b.fn.apply(b.context,y)}else{var j=b.length,w;for(x=0;x<j;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,f);break;case 4:b[x].fn.call(b[x].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];b[x].fn.apply(b[x].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,b=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&b.push(g[m]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(i3);var ohe=i3.exports;const lhe=dt(ohe);var Ux=new lhe,Wx="recharts.syncMouseEvents";function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function che(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function dhe(e,t,r){return t&&uhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gx(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=fhe(e,"string");return zd(t)=="symbol"?t:t+""}function fhe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hhe=function(){function e(){che(this,e),Gx(this,"activeIndex",0),Gx(this,"coordinateList",[]),Gx(this,"layout","horizontal")}return dhe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function phe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&je(n)&&je(s))return!0}return!1}function mhe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function l3(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=wt(t,r,n,s),l=wt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function ghe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=wt(l,c,u,f),p=wt(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return l3(t);return[{x:n,y:s},{x:i,y:o}]}function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){xhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xhe(e,t,r){return t=vhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vhe(e){var t=yhe(e,"string");return Vd(t)=="symbol"?t:t+""}function yhe(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bhe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Cp;if(h==="ScatterChart")g=o,m=Loe;else if(h==="BarChart")g=mhe(f,o,c,d),m=xw;else if(f==="radial"){var b=l3(o),v=b.cx,y=b.cy,x=b.radius,j=b.startAngle,w=b.endAngle;g={cx:v,cy:y,startAngle:j,endAngle:w,innerRadius:x,outerRadius:x},m=aM}else g={points:ghe(f,o,c)},m=Cp;var N=Gf(Gf(Gf(Gf({stroke:"#ccc",pointerEvents:"none"},c),g),Re(p,!1)),{},{payload:l,payloadIndex:u,className:Ue("recharts-tooltip-cursor",p.className)});return k.isValidElement(p)?k.cloneElement(p,N):k.createElement(m,N)}var khe=["item"],whe=["children","className","width","height","style","compact","title","desc"];function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}function PT(e,t){return Nhe(e)||She(e,t)||u3(e,t)||jhe()}function jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function She(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Nhe(e){if(Array.isArray(e))return e}function TT(e,t){if(e==null)return{};var r=Phe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Phe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function The(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ohe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d3(n.key),n)}}function Ahe(e,t,r){return t&&Ohe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ehe(e,t,r){return t=em(t),Che(e,c3()?Reflect.construct(t,r||[],em(e).constructor):t.apply(e,r))}function Che(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(e)}function _he(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(e)}function Dhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zy(e,t)}function rc(e){return Rhe(e)||$he(e)||u3(e)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u3(e,t){if(e){if(typeof e=="string")return Vy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vy(e,t)}}function $he(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rhe(e){if(Array.isArray(e))return Vy(e)}function Vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Le(e,t,r){return t=d3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e){var t=Ihe(e,"string");return tc(t)=="symbol"?t:t+""}function Ihe(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lhe={xAxis:["bottom","top"],yAxis:["left","right"]},Bhe={width:"100%",height:"100%"},f3={x:0,y:0};function qf(e){return e}var Fhe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Khe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return xe(xe(xe({},s),wt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return xe(xe(xe({},s),wt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return f3},Ng=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(rc(l),rc(u)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(i)?t.slice(s,i+1):[]};function h3(e){return e==="number"?[0,"auto"]:void 0}var Hy=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Ng(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=ep(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(rc(c),[QD(u,h)]):c},[])},AT=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Fhe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=oae(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Hy(t,r,d,f),p=Khe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},zhe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=WD(d,i);return n.reduce(function(g,m){var b,v=m.type.defaultProps!==void 0?xe(xe({},m.type.defaultProps),m.props):m.props,y=v.type,x=v.dataKey,j=v.allowDataOverflow,w=v.allowDuplicatedCategory,N=v.scale,S=v.ticks,P=v.includeHidden,A=v[o];if(g[A])return g;var $=Ng(t.data,{graphicalItems:s.filter(function(Z){var B,Q=o in Z.props?Z.props[o]:(B=Z.type.defaultProps)===null||B===void 0?void 0:B[o];return Q===A}),dataStartIndex:c,dataEndIndex:u}),I=$.length,E,_,U;phe(v.domain,j,y)&&(E=ay(v.domain,null,j),p&&(y==="number"||N!=="auto")&&(U=Mu($,x,"category")));var K=h3(y);if(!E||E.length===0){var Y,ne=(Y=v.domain)!==null&&Y!==void 0?Y:K;if(x){if(E=Mu($,x,y),y==="category"&&p){var D=J7(E);w&&D?(_=E,E=Kp(0,I)):w||(E=XP(ne,E,m).reduce(function(Z,B){return Z.indexOf(B)>=0?Z:[].concat(rc(Z),[B])},[]))}else if(y==="category")w?E=E.filter(function(Z){return Z!==""&&!He(Z)}):E=XP(ne,E,m).reduce(function(Z,B){return Z.indexOf(B)>=0||B===""||He(B)?Z:[].concat(rc(Z),[B])},[]);else if(y==="number"){var R=fae($,s.filter(function(Z){var B,Q,le=o in Z.props?Z.props[o]:(B=Z.type.defaultProps)===null||B===void 0?void 0:B[o],ce="hide"in Z.props?Z.props.hide:(Q=Z.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return le===A&&(P||!ce)}),x,i,d);R&&(E=R)}p&&(y==="number"||N!=="auto")&&(U=Mu($,x,"category"))}else p?E=Kp(0,I):l&&l[A]&&l[A].hasStack&&y==="number"?E=h==="expand"?[0,1]:XD(l[A].stackGroups,c,u):E=UD($,s.filter(function(Z){var B=o in Z.props?Z.props[o]:Z.type.defaultProps[o],Q="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return B===A&&(P||!Q)}),y,d,!0);if(y==="number")E=Ky(f,E,A,i,S),ne&&(E=ay(ne,E,j));else if(y==="category"&&ne){var z=ne,V=E.every(function(Z){return z.indexOf(Z)>=0});V&&(E=z)}}return xe(xe({},g),{},Le({},A,xe(xe({},v),{},{axisType:i,domain:E,categoricalDomain:U,duplicateDomain:_,originalDomain:(b=v.domain)!==null&&b!==void 0?b:K,isCategorical:p,layout:d})))},{})},Vhe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Ng(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=WD(d,i),m=-1;return n.reduce(function(b,v){var y=v.type.defaultProps!==void 0?xe(xe({},v.type.defaultProps),v.props):v.props,x=y[o],j=h3("number");if(!b[x]){m++;var w;return g?w=Kp(0,p):l&&l[x]&&l[x].hasStack?(w=XD(l[x].stackGroups,c,u),w=Ky(f,w,x,i)):(w=ay(j,UD(h,n.filter(function(N){var S,P,A=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],$="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===x&&!$}),"number",d),s.defaultProps.allowDataOverflow),w=Ky(f,w,x,i)),xe(xe({},b),{},Le({},x,xe(xe({axisType:i},s.defaultProps),{},{hide:!0,orientation:bn(Lhe,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:j,isCategorical:g,layout:d})))}return b},{})},Hhe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=kn(d,i),p={};return h&&h.length?p=zhe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Vhe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Uhe=function(t){var r=Ws(t),n=Ba(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Hk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Op(r,n)}},ET=function(t){var r=t.children,n=t.defaultShowTooltip,s=mn(r,Ul),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Whe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ha(r&&r.type);return n&&n.indexOf("Bar")>=0})},CT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ghe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=mn(f,Ul),g=mn(f,ha),m=Object.keys(c).reduce(function(w,N){var S=c[N],P=S.orientation;return!S.mirror&&!S.hide?xe(xe({},w),{},Le({},P,w[P]+S.width)):w},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(w,N){var S=o[N],P=S.orientation;return!S.mirror&&!S.hide?xe(xe({},w),{},Le({},P,bn(w,"".concat(P))+S.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=xe(xe({},b),m),y=v.bottom;p&&(v.bottom+=p.props.height||Ul.defaultProps.height),g&&r&&(v=uae(v,s,n,r));var x=u-v.left-v.right,j=d-v.top-v.bottom;return xe(xe({brushBottom:y},v),{},{width:Math.max(x,0),height:Math.max(j,0)})},qhe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Pw=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,y){var x=y.graphicalItems,j=y.stackGroups,w=y.offset,N=y.updateId,S=y.dataStartIndex,P=y.dataEndIndex,A=v.barSize,$=v.layout,I=v.barGap,E=v.barCategoryGap,_=v.maxBarSize,U=CT($),K=U.numericAxisName,Y=U.cateAxisName,ne=Whe(x),D=[];return x.forEach(function(R,z){var V=Ng(v.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:P}),Z=R.type.defaultProps!==void 0?xe(xe({},R.type.defaultProps),R.props):R.props,B=Z.dataKey,Q=Z.maxBarSize,le=Z["".concat(K,"Id")],ce=Z["".concat(Y,"Id")],pe={},ye=c.reduce(function(M,O){var W=y["".concat(O.axisType,"Map")],he=Z["".concat(O.axisType,"Id")];W&&W[he]||O.axisType==="zAxis"||xo();var F=W[he];return xe(xe({},M),{},Le(Le({},O.axisType,F),"".concat(O.axisType,"Ticks"),Ba(F)))},pe),ue=ye[Y],ve=ye["".concat(Y,"Ticks")],ae=j&&j[le]&&j[le].hasStack&&kae(R,j[le].stackGroups),G=Ha(R.type).indexOf("Bar")>=0,ge=Op(ue,ve),J=[],T=ne&&lae({barSize:A,stackGroups:j,totalSize:qhe(ye,Y)});if(G){var L,H,te=He(Q)?_:Q,C=(L=(H=Op(ue,ve,!0))!==null&&H!==void 0?H:te)!==null&&L!==void 0?L:0;J=cae({barGap:I,barCategoryGap:E,bandSize:C!==ge?C:ge,sizeList:T[ce],maxBarSize:te}),C!==ge&&(J=J.map(function(M){return xe(xe({},M),{},{position:xe(xe({},M.position),{},{offset:M.position.offset-C/2})})}))}var q=R&&R.type&&R.type.getComposedData;q&&D.push({props:xe(xe({},q(xe(xe({},ye),{},{displayedData:V,props:v,dataKey:B,item:R,bandSize:ge,barPosition:J,offset:w,stackedData:ae,layout:$,dataStartIndex:S,dataEndIndex:P}))),{},Le(Le(Le({key:R.key||"item-".concat(z)},K,ye[K]),Y,ye[Y]),"animationId",N)),childIndex:cH(R,v.children),item:R})}),D},p=function(v,y){var x=v.props,j=v.dataStartIndex,w=v.dataEndIndex,N=v.updateId;if(!HS({props:x}))return null;var S=x.children,P=x.layout,A=x.stackOffset,$=x.data,I=x.reverseStackOrder,E=CT(P),_=E.numericAxisName,U=E.cateAxisName,K=kn(S,n),Y=yae($,K,"".concat(_,"Id"),"".concat(U,"Id"),A,I),ne=c.reduce(function(Z,B){var Q="".concat(B.axisType,"Map");return xe(xe({},Z),{},Le({},Q,Hhe(x,xe(xe({},B),{},{graphicalItems:K,stackGroups:B.axisType===_&&Y,dataStartIndex:j,dataEndIndex:w}))))},{}),D=Ghe(xe(xe({},ne),{},{props:x,graphicalItems:K}),y==null?void 0:y.legendBBox);Object.keys(ne).forEach(function(Z){ne[Z]=d(x,ne[Z],D,Z.replace("Map",""),r)});var R=ne["".concat(U,"Map")],z=Uhe(R),V=h(x,xe(xe({},ne),{},{dataStartIndex:j,dataEndIndex:w,updateId:N,graphicalItems:K,stackGroups:Y,offset:D}));return xe(xe({formattedGraphicalItems:V,graphicalItems:K,offset:D,stackGroups:Y},z),ne)},g=function(b){function v(y){var x,j,w;return The(this,v),w=Ehe(this,v,[y]),Le(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(w,"accessibilityManager",new hhe),Le(w,"handleLegendBBoxUpdate",function(N){if(N){var S=w.state,P=S.dataStartIndex,A=S.dataEndIndex,$=S.updateId;w.setState(xe({legendBBox:N},p({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:$},xe(xe({},w.state),{},{legendBBox:N}))))}}),Le(w,"handleReceiveSyncEvent",function(N,S,P){if(w.props.syncId===N){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),Le(w,"handleBrushChange",function(N){var S=N.startIndex,P=N.endIndex;if(S!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return xe({dataStartIndex:S,dataEndIndex:P},p({props:w.props,dataStartIndex:S,dataEndIndex:P,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:P})}}),Le(w,"handleMouseEnter",function(N){var S=w.getMouseInfo(N);if(S){var P=xe(xe({},S),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var A=w.props.onMouseEnter;Ke(A)&&A(P,N)}}),Le(w,"triggeredAfterMouseMove",function(N){var S=w.getMouseInfo(N),P=S?xe(xe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var A=w.props.onMouseMove;Ke(A)&&A(P,N)}),Le(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Le(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Le(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),Le(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var P=w.props.onMouseLeave;Ke(P)&&P(S,N)}),Le(w,"handleOuterEvent",function(N){var S=lH(N),P=bn(w.props,"".concat(S));if(S&&Ke(P)){var A,$;/.*touch.*/i.test(S)?$=w.getMouseInfo(N.changedTouches[0]):$=w.getMouseInfo(N),P((A=$)!==null&&A!==void 0?A:{},N)}}),Le(w,"handleClick",function(N){var S=w.getMouseInfo(N);if(S){var P=xe(xe({},S),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var A=w.props.onClick;Ke(A)&&A(P,N)}}),Le(w,"handleMouseDown",function(N){var S=w.props.onMouseDown;if(Ke(S)){var P=w.getMouseInfo(N);S(P,N)}}),Le(w,"handleMouseUp",function(N){var S=w.props.onMouseUp;if(Ke(S)){var P=w.getMouseInfo(N);S(P,N)}}),Le(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Le(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),Le(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),Le(w,"handleDoubleClick",function(N){var S=w.props.onDoubleClick;if(Ke(S)){var P=w.getMouseInfo(N);S(P,N)}}),Le(w,"handleContextMenu",function(N){var S=w.props.onContextMenu;if(Ke(S)){var P=w.getMouseInfo(N);S(P,N)}}),Le(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&Ux.emit(Wx,w.props.syncId,N,w.eventEmitterSymbol)}),Le(w,"applySyncEvent",function(N){var S=w.props,P=S.layout,A=S.syncMethod,$=w.state.updateId,I=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(xe({dataStartIndex:I,dataEndIndex:E},p({props:w.props,dataStartIndex:I,dataEndIndex:E,updateId:$},w.state)));else if(N.activeTooltipIndex!==void 0){var _=N.chartX,U=N.chartY,K=N.activeTooltipIndex,Y=w.state,ne=Y.offset,D=Y.tooltipTicks;if(!ne)return;if(typeof A=="function")K=A(D,N);else if(A==="value"){K=-1;for(var R=0;R<D.length;R++)if(D[R].value===N.activeLabel){K=R;break}}var z=xe(xe({},ne),{},{x:ne.left,y:ne.top}),V=Math.min(_,z.x+z.width),Z=Math.min(U,z.y+z.height),B=D[K]&&D[K].value,Q=Hy(w.state,w.props.data,K),le=D[K]?{x:P==="horizontal"?D[K].coordinate:V,y:P==="horizontal"?Z:D[K].coordinate}:f3;w.setState(xe(xe({},N),{},{activeLabel:B,activeCoordinate:le,activePayload:Q,activeTooltipIndex:K}))}else w.setState(N)}),Le(w,"renderCursor",function(N){var S,P=w.state,A=P.isTooltipActive,$=P.activeCoordinate,I=P.activePayload,E=P.offset,_=P.activeTooltipIndex,U=P.tooltipAxisBandSize,K=w.getTooltipEventType(),Y=(S=N.props.active)!==null&&S!==void 0?S:A,ne=w.props.layout,D=N.key||"_recharts-cursor";return ee.createElement(bhe,{key:D,activeCoordinate:$,activePayload:I,activeTooltipIndex:_,chartName:r,element:N,isActive:Y,layout:ne,offset:E,tooltipAxisBandSize:U,tooltipEventType:K})}),Le(w,"renderPolarAxis",function(N,S,P){var A=bn(N,"type.axisType"),$=bn(w.state,"".concat(A,"Map")),I=N.type.defaultProps,E=I!==void 0?xe(xe({},I),N.props):N.props,_=$&&$[E["".concat(A,"Id")]];return k.cloneElement(N,xe(xe({},_),{},{className:Ue(A,_.className),key:N.key||"".concat(S,"-").concat(P),ticks:Ba(_,!0)}))}),Le(w,"renderPolarGrid",function(N){var S=N.props,P=S.radialLines,A=S.polarAngles,$=S.polarRadius,I=w.state,E=I.radiusAxisMap,_=I.angleAxisMap,U=Ws(E),K=Ws(_),Y=K.cx,ne=K.cy,D=K.innerRadius,R=K.outerRadius;return k.cloneElement(N,{polarAngles:Array.isArray(A)?A:Ba(K,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray($)?$:Ba(U,!0).map(function(z){return z.coordinate}),cx:Y,cy:ne,innerRadius:D,outerRadius:R,key:N.key||"polar-grid",radialLines:P})}),Le(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,S=w.props,P=S.children,A=S.width,$=S.height,I=w.props.margin||{},E=A-(I.left||0)-(I.right||0),_=VD({children:P,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!_)return null;var U=_.item,K=TT(_,khe);return k.cloneElement(U,xe(xe({},K),{},{chartWidth:A,chartHeight:$,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Le(w,"renderTooltip",function(){var N,S=w.props,P=S.children,A=S.accessibilityLayer,$=mn(P,Mr);if(!$)return null;var I=w.state,E=I.isTooltipActive,_=I.activeCoordinate,U=I.activePayload,K=I.activeLabel,Y=I.offset,ne=(N=$.props.active)!==null&&N!==void 0?N:E;return k.cloneElement($,{viewBox:xe(xe({},Y),{},{x:Y.left,y:Y.top}),active:ne,label:K,payload:ne?U:[],coordinate:_,accessibilityLayer:A})}),Le(w,"renderBrush",function(N){var S=w.props,P=S.margin,A=S.data,$=w.state,I=$.offset,E=$.dataStartIndex,_=$.dataEndIndex,U=$.updateId;return k.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Vf(w.handleBrushChange,N.props.onChange),data:A,x:je(N.props.x)?N.props.x:I.left,y:je(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:je(N.props.width)?N.props.width:I.width,startIndex:E,endIndex:_,updateId:"brush-".concat(U)})}),Le(w,"renderReferenceElement",function(N,S,P){if(!N)return null;var A=w,$=A.clipPathId,I=w.state,E=I.xAxisMap,_=I.yAxisMap,U=I.offset,K=N.type.defaultProps||{},Y=N.props,ne=Y.xAxisId,D=ne===void 0?K.xAxisId:ne,R=Y.yAxisId,z=R===void 0?K.yAxisId:R;return k.cloneElement(N,{key:N.key||"".concat(S,"-").concat(P),xAxis:E[D],yAxis:_[z],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:$})}),Le(w,"renderActivePoints",function(N){var S=N.item,P=N.activePoint,A=N.basePoint,$=N.childIndex,I=N.isRange,E=[],_=S.props.key,U=S.item.type.defaultProps!==void 0?xe(xe({},S.item.type.defaultProps),S.item.props):S.item.props,K=U.activeDot,Y=U.dataKey,ne=xe(xe({index:$,dataKey:Y,cx:P.x,cy:P.y,r:4,fill:gw(S.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Re(K,!1)),tp(K));return E.push(v.renderActiveDot(K,ne,"".concat(_,"-activePoint-").concat($))),A?E.push(v.renderActiveDot(K,xe(xe({},ne),{},{cx:A.x,cy:A.y}),"".concat(_,"-basePoint-").concat($))):I&&E.push(null),E}),Le(w,"renderGraphicChild",function(N,S,P){var A=w.filterFormatItem(N,S,P);if(!A)return null;var $=w.getTooltipEventType(),I=w.state,E=I.isTooltipActive,_=I.tooltipAxis,U=I.activeTooltipIndex,K=I.activeLabel,Y=w.props.children,ne=mn(Y,Mr),D=A.props,R=D.points,z=D.isRange,V=D.baseLine,Z=A.item.type.defaultProps!==void 0?xe(xe({},A.item.type.defaultProps),A.item.props):A.item.props,B=Z.activeDot,Q=Z.hide,le=Z.activeBar,ce=Z.activeShape,pe=!!(!Q&&E&&ne&&(B||le||ce)),ye={};$!=="axis"&&ne&&ne.props.trigger==="click"?ye={onClick:Vf(w.handleItemMouseEnter,N.props.onClick)}:$!=="axis"&&(ye={onMouseLeave:Vf(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Vf(w.handleItemMouseEnter,N.props.onMouseEnter)});var ue=k.cloneElement(N,xe(xe({},A.props),ye));function ve(O){return typeof _.dataKey=="function"?_.dataKey(O.payload):null}if(pe)if(U>=0){var ae,G;if(_.dataKey&&!_.allowDuplicatedCategory){var ge=typeof _.dataKey=="function"?ve:"payload.".concat(_.dataKey.toString());ae=ep(R,ge,K),G=z&&V&&ep(V,ge,K)}else ae=R==null?void 0:R[U],G=z&&V&&V[U];if(ce||le){var J=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[k.cloneElement(N,xe(xe(xe({},A.props),ye),{},{activeIndex:J})),null,null]}if(!He(ae))return[ue].concat(rc(w.renderActivePoints({item:A,activePoint:ae,basePoint:G,childIndex:U,isRange:z})))}else{var T,L=(T=w.getItemByXY(w.state.activeCoordinate))!==null&&T!==void 0?T:{graphicalItem:ue},H=L.graphicalItem,te=H.item,C=te===void 0?N:te,q=H.childIndex,M=xe(xe(xe({},A.props),ye),{},{activeIndex:q});return[k.cloneElement(C,M),null,null]}return z?[ue,null,null]:[ue,null]}),Le(w,"renderCustomized",function(N,S,P){return k.cloneElement(N,xe(xe({key:"recharts-customized-".concat(P)},w.props),w.state))}),Le(w,"renderMap",{CartesianGrid:{handler:qf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:qf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:qf},YAxis:{handler:qf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:gc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=z4(w.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return Dhe(v,b),Ahe(v,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,w=x.data,N=x.height,S=x.layout,P=mn(j,Mr);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=Hy(this.state,w,A,$),E=this.state.tooltipTicks[A].coordinate,_=(this.state.offset.top+N)/2,U=S==="horizontal",K=U?{x:E,y:_}:{y:E,x:_},Y=this.state.formattedGraphicalItems.find(function(D){var R=D.item;return R.type.name==="Scatter"});Y&&(K=xe(xe({},K),Y.props.points[A].tooltipPosition),I=Y.props.points[A].tooltipPayload);var ne={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:$,activePayload:I,activeCoordinate:K};this.setState(ne),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(x){yv([mn(x.children,Mr)],[mn(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=mn(this.props.children,Mr);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),N=$Z(w),S={chartX:Math.round(x.pageX-N.left),chartY:Math.round(x.pageY-N.top)},P=w.width/j.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,P);if(!A)return null;var $=this.state,I=$.xAxisMap,E=$.yAxisMap,_=this.getTooltipEventType(),U=AT(this.state,this.props.data,this.props.layout,A);if(_!=="axis"&&I&&E){var K=Ws(I).scale,Y=Ws(E).scale,ne=K&&K.invert?K.invert(S.chartX):null,D=Y&&Y.invert?Y.invert(S.chartY):null;return xe(xe({},S),{},{xValue:ne,yValue:D},U)}return U?xe(xe({},S),U):null}},{key:"inRange",value:function(x,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=x/w,P=j/w;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,$=S>=A.left&&S<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return $?{x:S,y:P}:null}var I=this.state,E=I.angleAxisMap,_=I.radiusAxisMap;if(E&&_){var U=Ws(E);return e2({x:S,y:P},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),w=mn(x,Mr),N={};w&&j==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=tp(this.props,this.handleOuterEvent);return xe(xe({},S),N)}},{key:"addListener",value:function(){Ux.on(Wx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ux.removeListener(Wx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,w){for(var N=this.state.formattedGraphicalItems,S=0,P=N.length;S<P;S++){var A=N[S];if(A.item===x||A.props.key===x.key||j===Ha(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,w=j.left,N=j.top,S=j.height,P=j.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:x},ee.createElement("rect",{x:w,y:N,height:S,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,w){var N=PT(w,2),S=N[0],P=N[1];return xe(xe({},j),{},Le({},S,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,w){var N=PT(w,2),S=N[0],P=N[1];return xe(xe({},j),{},Le({},S,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,w=j.formattedGraphicalItems,N=j.activeItem;if(w&&w.length)for(var S=0,P=w.length;S<P;S++){var A=w[S],$=A.props,I=A.item,E=I.type.defaultProps!==void 0?xe(xe({},I.type.defaultProps),I.props):I.props,_=Ha(I.type);if(_==="Bar"){var U=($.data||[]).find(function(D){return voe(x,D)});if(U)return{graphicalItem:A,payload:U}}else if(_==="RadialBar"){var K=($.data||[]).find(function(D){return e2(x,D)});if(K)return{graphicalItem:A,payload:K}}else if(xg(A,N)||vg(A,N)||Id(A,N)){var Y=ice({graphicalItem:A,activeTooltipItem:N,itemData:E.data}),ne=E.activeIndex===void 0?Y:E.activeIndex;return{graphicalItem:xe(xe({},A),{},{childIndex:ne}),payload:Id(A,N)?E.data[Y]:A.props.data[Y]}}}return null}},{key:"render",value:function(){var x=this;if(!HS(this))return null;var j=this.props,w=j.children,N=j.className,S=j.width,P=j.height,A=j.style,$=j.compact,I=j.title,E=j.desc,_=TT(j,whe),U=Re(_,!1);if($)return ee.createElement(lT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(kv,il({},U,{width:S,height:P,title:I,desc:E}),this.renderClipPath(),WS(w,this.renderMap)));if(this.props.accessibilityLayer){var K,Y;U.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,U.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",U.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},U.onFocus=function(){x.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return ee.createElement(lT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",il({className:Ue("recharts-wrapper",N),style:xe({position:"relative",cursor:"default",width:S,height:P},A)},ne,{ref:function(R){x.container=R}}),ee.createElement(kv,il({},U,{width:S,height:P,title:I,desc:E,style:Bhe}),this.renderClipPath(),WS(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Le(g,"displayName",r),Le(g,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Le(g,"getDerivedStateFromProps",function(b,v){var y=b.dataKey,x=b.data,j=b.children,w=b.width,N=b.height,S=b.layout,P=b.stackOffset,A=b.margin,$=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var E=ET(b);return xe(xe(xe({},E),{},{updateId:0},p(xe(xe({props:b},E),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:x,prevWidth:w,prevHeight:N,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:j})}if(y!==v.prevDataKey||x!==v.prevData||w!==v.prevWidth||N!==v.prevHeight||S!==v.prevLayout||P!==v.prevStackOffset||!ml(A,v.prevMargin)){var _=ET(b),U={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},K=xe(xe({},AT(v,x,S)),{},{updateId:v.updateId+1}),Y=xe(xe(xe({},_),U),K);return xe(xe(xe({},Y),p(xe({props:b},Y),v)),{},{prevDataKey:y,prevData:x,prevWidth:w,prevHeight:N,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:j})}if(!yv(j,v.prevChildren)){var ne,D,R,z,V=mn(j,Ul),Z=V&&(ne=(D=V.props)===null||D===void 0?void 0:D.startIndex)!==null&&ne!==void 0?ne:$,B=V&&(R=(z=V.props)===null||z===void 0?void 0:z.endIndex)!==null&&R!==void 0?R:I,Q=Z!==$||B!==I,le=!He(x),ce=le&&!Q?v.updateId:v.updateId+1;return xe(xe({updateId:ce},p(xe(xe({props:b},v),{},{updateId:ce,dataStartIndex:Z,dataEndIndex:B}),v)),{},{prevChildren:j,dataStartIndex:Z,dataEndIndex:B})}return null}),Le(g,"renderActiveDot",function(b,v,y){var x;return k.isValidElement(b)?x=k.cloneElement(b,v):Ke(b)?x=b(v):x=ee.createElement(fg,v),ee.createElement(ot,{className:"recharts-active-dot",key:y},x)});var m=k.forwardRef(function(v,y){return ee.createElement(g,il({},v,{ref:y}))});return m.displayName=g.displayName,m},Yhe=Pw({chartName:"LineChart",GraphicalChild:Ql,axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:_M}),Uy=Pw({chartName:"BarChart",GraphicalChild:ka,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:_M}),qx=Pw({chartName:"PieChart",GraphicalChild:aa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:gg},{axisType:"radiusAxis",AxisComp:pg}],formatAxisMap:Cae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Jhe=["Urea","DAP","KCL","ZA","Dolomite","Clay"],Lo=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],vu=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],Yx=["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],Xhe=({isOpen:e,onClose:t,monthName:r,year:n,totalHours:s,details:i,isHighest:o,rank:l,averageHours:c})=>{const u=k.useMemo(()=>{const f={};return i.forEach(h=>{const p=h.item||"Unknown";f[p]||(f[p]={total:0,count:0,details:[]}),f[p].total+=oe(h.downtime),f[p].count+=1,f[p].details.push(h)}),Object.entries(f).map(([h,p])=>({item:h,...p})).sort((h,p)=>p.total-h.total)},[i]),d=c>0?((s-c)/c*100).toFixed(1):"0";return a.jsx(Ge,{isOpen:e,onClose:t,size:"full",title:"",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:["Detail Downtime ",r," ",n]}),o&&a.jsxs(Ae,{variant:"danger",className:"animate-pulse",children:[a.jsx(Al,{className:"h-3 w-3 mr-1"}),"Tertinggi"]}),l<=3&&!o&&a.jsxs(Ae,{variant:"warning",children:["Top ",l]})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Analisis detail downtime per equipment untuk bulan ",r]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:a.jsx(oa,{className:"h-5 w-5 text-dark-500"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:Oe("p-4 rounded-xl",o?"bg-gradient-to-br from-red-500 to-rose-600 text-white":"bg-gradient-to-br from-amber-500 to-orange-500 text-white"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Va,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Total Downtime"})]}),a.jsx("p",{className:"text-3xl font-bold",children:X(s)}),a.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Om,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Jumlah Kejadian"})]}),a.jsx("p",{className:"text-3xl font-bold",children:i.length}),a.jsx("p",{className:"text-sm opacity-80",children:"Kejadian"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Cm,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"Rata-rata/Kejadian"})]}),a.jsx("p",{className:"text-3xl font-bold",children:i.length>0?(s/i.length).toFixed(1):"0"}),a.jsx("p",{className:"text-sm opacity-80",children:"Jam"})]}),a.jsxs("div",{className:Oe("p-4 rounded-xl",Number(d)>0?"bg-gradient-to-br from-red-400 to-red-500 text-white":"bg-gradient-to-br from-green-500 to-emerald-500 text-white"),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Number(d)>0?a.jsx(ro,{className:"h-4 w-4 opacity-80"}):a.jsx(pl,{className:"h-4 w-4 opacity-80"}),a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-80",children:"vs Rata-rata Bulanan"})]}),a.jsxs("p",{className:"text-3xl font-bold",children:[Number(d)>0?"+":"",d,"%"]}),a.jsx("p",{className:"text-sm opacity-80",children:Number(d)>0?"Di atas rata-rata":"Di bawah rata-rata"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(T8,{className:"h-5 w-5 text-amber-500"}),"Breakdown per Equipment"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,6).map((f,h)=>{const p=s>0?(f.total/s*100).toFixed(1):"0";return a.jsxs(ir.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:Oe("p-4 rounded-xl border transition-all duration-300 hover:shadow-lg",h===0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-dark-800 border-dark-100 dark:border-dark-700"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:Oe("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",h===0?"bg-red-500 text-white":"bg-dark-200 dark:bg-dark-600 text-dark-700 dark:text-dark-200"),children:h+1}),a.jsx("h4",{className:Oe("font-semibold",h===0?"text-red-700 dark:text-red-400":"text-dark-900 dark:text-white"),children:f.item})]}),a.jsxs(Ae,{variant:h===0?"danger":"warning",size:"sm",children:[p,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total:"}),a.jsxs("span",{className:Oe("ml-1 font-bold",h===0?"text-red-600 dark:text-red-400":"text-dark-900 dark:text-white"),children:[X(f.total)," Jam"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kejadian:"}),a.jsxs("span",{className:"ml-1 font-medium text-dark-700 dark:text-dark-200",children:[f.count,"x"]})]})]}),a.jsx("div",{className:"mt-3 h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:a.jsx(ir.div,{initial:{width:0},animate:{width:`${p}%`},transition:{delay:h*.1+.3,duration:.5},className:Oe("h-full rounded-full",h===0?"bg-gradient-to-r from-red-500 to-rose-500":"bg-gradient-to-r from-amber-400 to-orange-500")})})]},f.item)})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white mb-4",children:["Detail Kejadian (",i.length," record)"]}),a.jsx("div",{className:"overflow-x-auto rounded-xl border border-dark-100 dark:border-dark-700",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"No"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Tanggal"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Equipment"}),a.jsx("th",{className:"px-4 py-3 text-left font-semibold text-dark-700 dark:text-dark-200",children:"Deskripsi"}),a.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Off"}),a.jsx("th",{className:"px-4 py-3 text-center font-semibold text-dark-700 dark:text-dark-200",children:"Jam Start"}),a.jsx("th",{className:"px-4 py-3 text-right font-semibold text-dark-700 dark:text-dark-200",children:"Downtime (Jam)"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:i.sort((f,h)=>oe(h.downtime)-oe(f.downtime)).slice(0,20).map((f,h)=>a.jsxs("tr",{className:Oe("hover:bg-dark-50 dark:hover:bg-dark-700/50 transition-colors",h===0&&"bg-red-50 dark:bg-red-900/10"),children:[a.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300",children:h+1}),a.jsx("td",{className:"px-4 py-3 text-dark-900 dark:text-white font-medium",children:new Date(f.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(Ae,{variant:h===0?"danger":"secondary",size:"sm",children:f.item})}),a.jsx("td",{className:"px-4 py-3 text-dark-600 dark:text-dark-300 max-w-xs truncate",children:f.deskripsi||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamOff||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-600 dark:text-dark-300",children:f.jamStart||"-"}),a.jsx("td",{className:Oe("px-4 py-3 text-right font-bold",h===0?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:X(oe(f.downtime))})]},h))}),i.length>20&&a.jsx("tfoot",{className:"bg-dark-50 dark:bg-dark-800",children:a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-4 py-3 text-center text-dark-500",children:["... dan ",i.length-20," record lainnya"]})})})]})})]})]})})},Qhe=({downtimeData:e,year:t,plantLabel:r})=>{const[n,s]=k.useState(null),i=k.useMemo(()=>{const d=vu.map((h,p)=>{const g=e.filter(b=>b.tanggal?new Date(b.tanggal).getMonth()===p:!1),m=g.reduce((b,v)=>b+oe(v.downtime),0);return{month:h,monthIndex:p,hours:m,count:g.length,isHighest:!1,rank:0,details:g.map(b=>({item:b.item,deskripsi:b.deskripsi,tanggal:b.tanggal,jamOff:b.jamOff,jamStart:b.jamStart,downtime:oe(b.downtime)}))}});return[...d].filter(h=>h.hours>0).sort((h,p)=>p.hours-h.hours).forEach((h,p)=>{const g=d.find(m=>m.monthIndex===h.monthIndex);g&&(g.rank=p+1,p===0&&(g.isHighest=!0))}),d},[e]),o=k.useMemo(()=>{const d=i.reduce((m,b)=>m+b.hours,0),f=i.filter(m=>m.hours>0).length,h=f>0?d/f:0,p=i.find(m=>m.isHighest),g=(p==null?void 0:p.hours)||0;return{totalHours:d,averageHours:h,highestMonth:p,maxHours:g,monthsWithData:f}},[i]),l=d=>{d.hours>0&&s(d)},c=d=>d.isHighest?"#ef4444":d.rank===2?"#f97316":d.rank===3?"#f59e0b":"#3b82f6",u=d=>{const{x:f,y:h,width:p,value:g,index:m}=d,b=i[m];return g===0?null:a.jsxs("g",{children:[a.jsx("text",{x:f+p/2,y:h-10,fill:b.isHighest?"#ef4444":"#64748b",textAnchor:"middle",fontSize:11,fontWeight:b.isHighest?"bold":"normal",children:X(g)}),b.isHighest&&a.jsx("text",{x:f+p/2,y:h-24,fill:"#ef4444",textAnchor:"middle",fontSize:10,fontWeight:"bold",children:" TERTINGGI"})]})};return a.jsxs(a.Fragment,{children:[a.jsxs(ke,{className:"overflow-hidden",children:[a.jsx(at,{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white py-5",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Al,{className:"h-5 w-5"}),a.jsxs(st,{className:"text-white text-lg",children:["Analisis Downtime Bulanan ",t]})]}),a.jsxs("p",{className:"text-red-100 text-sm",children:[r,"  Klik bar untuk melihat detail"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-red-100 text-xs",children:"Total Tahunan"}),a.jsxs("p",{className:"text-xl font-bold",children:[X(o.totalHours)," Jam"]})]}),o.highestMonth&&a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm border-2 border-white/30",children:[a.jsxs("p",{className:"text-red-100 text-xs flex items-center gap-1",children:[a.jsx(s_,{className:"h-3 w-3"})," Bulan Tertinggi"]}),a.jsx("p",{className:"text-xl font-bold",children:o.highestMonth.month}),a.jsxs("p",{className:"text-red-100 text-xs",children:[X(o.highestMonth.hours)," Jam"]})]})]})]})}),a.jsxs(pn,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 uppercase tracking-wider mb-1",children:"Total Kejadian"}),a.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.length})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 uppercase tracking-wider mb-1",children:"Rata-rata/Bulan"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:[X(o.averageHours)," Jam"]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-1",children:"Bulan Dengan Data"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[o.monthsWithData," / 12"]})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-1",children:"Rata-rata/Kejadian"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[e.length>0?(o.totalHours/e.length).toFixed(1):"0"," ","Jam"]})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(Bi,{width:"100%",height:"100%",children:a.jsxs(Uy,{data:i,margin:{top:40,right:30,left:20,bottom:20},children:[a.jsx(Lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(ci,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1}),a.jsx(ui,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Jam",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#64748b"}}}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"12px 16px"},content:({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload;return a.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-100 dark:border-dark-700 p-4 min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[h.month," ",t]}),h.isHighest&&a.jsx(Ae,{variant:"danger",size:"sm",children:"Tertinggi"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500",children:"Total Downtime:"}),a.jsxs("span",{className:Oe("ml-2 font-bold",h.isHighest?"text-red-600":"text-amber-600"),children:[X(h.hours)," Jam"]})]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500",children:"Jumlah Kejadian:"}),a.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:[h.count," kejadian"]})]}),h.rank>0&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"text-dark-500",children:"Peringkat:"}),a.jsxs("span",{className:"ml-2 font-medium text-dark-700 dark:text-dark-200",children:["#",h.rank," dari ",o.monthsWithData," bulan"]})]})]}),h.hours>0&&a.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-3 pt-2 border-t border-dark-100 dark:border-dark-700",children:"Klik untuk melihat detail "})]})}return null}}),o.averageHours>0&&a.jsx(bg,{y:o.averageHours,stroke:"#22c55e",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Rata-rata: ${X(o.averageHours)} Jam`,position:"right",fill:"#22c55e",fontSize:11}}),a.jsxs(ka,{dataKey:"hours",radius:[8,8,0,0],cursor:"pointer",onClick:d=>l(d),children:[i.map((d,f)=>a.jsx(no,{fill:c(d),className:"hover:opacity-80 transition-opacity"},`cell-${f}`)),a.jsx(ya,{dataKey:"hours",content:u})]})]})})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mt-4 pt-4 border-t border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Tertinggi"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Top 3"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Lainnya"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-0.5 bg-green-500",style:{backgroundImage:"repeating-linear-gradient(to right, #22c55e, #22c55e 5px, transparent 5px, transparent 10px)"}}),a.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-300",children:"Rata-rata"})]})]})]})]}),n&&a.jsx(Xhe,{isOpen:!!n,onClose:()=>s(null),monthName:n.month,monthIndex:n.monthIndex,year:t,totalHours:n.hours,details:n.details,isHighest:n.isHighest,rank:n.rank,averageHours:o.averageHours})]})},Zhe=()=>{const{user:e}=et(),{dashboardPlantFilter:t,dashboardYear:r,setDashboardPlantFilter:n,setDashboardYear:s}=ym(),i=Yd(),[o,l]=k.useState(!0),[c,u]=k.useState(new Date().getMonth()),[d,f]=k.useState("tahunan"),[h,p]=k.useState("jam"),[g,m]=k.useState(new Date().getMonth()),[b,v]=k.useState("Urea"),[y,x]=k.useState([]),[j,w]=k.useState({produksiNPK:[],produksiBlending:[],produksiNPKMini:[],downtime:[],workRequest:[],bahanBaku:[],vibrasi:[],gatePass:[],timesheetForklift:[],timesheetLoader:[],troubleRecord:[],rkap:[],rekapBBM:[]}),N=e==null?void 0:e.plant,S=e==null?void 0:e.role,P=N==="ALL"||S==="manager"||S==="eksternal";k.useEffect(()=>{!P&&N&&n(N)},[N,P,n]);const A=P?t:N||"NPK2";k.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:Q,readData:le,SHEETS:ce}=await Me(async()=>{const{fetchDataByPlant:q,readData:M,SHEETS:O}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:q,readData:M,SHEETS:O}},void 0),[pe,ye,ue,ve,ae,G,ge,J,T,L,H,te,C]=await Promise.all([Q(ce.PRODUKSI_NPK),Q(ce.PRODUKSI_BLENDING),Q(ce.PRODUKSI_NPK_MINI),Q(ce.DOWNTIME),Q(ce.WORK_REQUEST),Q(ce.BAHAN_BAKU),Q(ce.VIBRASI),Q(ce.GATE_PASS),Q(ce.TIMESHEET_FORKLIFT),Q(ce.TIMESHEET_LOADER),Q(ce.TROUBLE_RECORD),le(ce.RKAP),Q(ce.REKAP_BBM)]);w({produksiNPK:pe.success&&pe.data?pe.data:[],produksiBlending:ye.success&&ye.data?ye.data:[],produksiNPKMini:ue.success&&ue.data?ue.data:[],downtime:ve.success&&ve.data?ve.data:[],workRequest:ae.success&&ae.data?ae.data:[],bahanBaku:G.success&&G.data?G.data:[],vibrasi:ge.success&&ge.data?ge.data:[],gatePass:J.success&&J.data?J.data:[],timesheetForklift:T.success&&T.data?T.data:[],timesheetLoader:L.success&&L.data?L.data:[],troubleRecord:H.success&&H.data?H.data:[],rkap:te.success&&te.data?te.data:[],rekapBBM:C.success&&C.data?C.data:[]})}catch(Q){console.error("Error fetching dashboard data:",Q)}finally{l(!1)}})()},[]),k.useEffect(()=>{(async()=>{try{const{fetchDataByPlant:Q,SHEETS:le}=await Me(async()=>{const{fetchDataByPlant:ce,SHEETS:pe}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:ce,SHEETS:pe}},void 0);if(le.PEMANTAUAN_BAHAN_BAKU){const ce=await Q(le.PEMANTAUAN_BAHAN_BAKU);ce.success&&ce.data&&x(ce.data)}}catch(Q){console.error("Error fetching pemantauan bahan baku:",Q)}})()},[]);const $=k.useCallback(B=>A==="ALL"?B:B.filter(Q=>Q._plant===A),[A]),I=k.useCallback(B=>A==="ALL"?B:B.filter(Q=>Q.plant===A),[A]),E=k.useCallback(B=>B.filter(Q=>Q.tanggal?new Date(Q.tanggal).getFullYear()===r:!1),[r]),_=k.useMemo(()=>({produksiNPK:E($(j.produksiNPK)),produksiBlending:E($(j.produksiBlending)),produksiNPKMini:E($(j.produksiNPKMini)),downtime:E($(j.downtime)),workRequest:E($(j.workRequest)),bahanBaku:E($(j.bahanBaku)),vibrasi:E($(j.vibrasi)),gatePass:E($(j.gatePass)),timesheetForklift:E($(j.timesheetForklift)),timesheetLoader:E($(j.timesheetLoader)),troubleRecord:E($(j.troubleRecord)),rekapBBM:E($(j.rekapBBM)),rkap:I(j.rkap).filter(B=>Number(B.tahun)===r)}),[j,$,E,I,r]),U=k.useMemo(()=>{const B=_.produksiNPK.reduce((M,O)=>{const he=O.total!==void 0&&O.total!==null&&O.total!==""?oe(O.total):oe(O.shiftMalamOnspek)+oe(O.shiftMalamOffspek)+oe(O.shiftPagiOnspek)+oe(O.shiftPagiOffspek)+oe(O.shiftSoreOnspek)+oe(O.shiftSoreOffspek);return M+he},0),Q=_.produksiNPK.reduce((M,O)=>{const W=O.totalOnspek!==void 0&&O.totalOnspek!==null&&O.totalOnspek!=="";return M+(W?oe(O.totalOnspek):oe(O.shiftMalamOnspek)+oe(O.shiftPagiOnspek)+oe(O.shiftSoreOnspek))},0),le=_.produksiNPK.reduce((M,O)=>{const W=O.totalOffspek!==void 0&&O.totalOffspek!==null&&O.totalOffspek!=="";return M+(W?oe(O.totalOffspek):oe(O.shiftMalamOffspek)+oe(O.shiftPagiOffspek)+oe(O.shiftSoreOffspek))},0),ce=_.produksiBlending.reduce((M,O)=>M+oe(O.tonase),0),pe=_.produksiNPKMini.reduce((M,O)=>M+oe(O.tonase),0),ye=_.rkap.reduce((M,O)=>{const he=O.total!==void 0&&O.total!==null&&O.total!==""?oe(O.total):Yx.reduce((F,ie)=>F+oe(O[ie]),0);return M+he},0),ue=_.downtime.reduce((M,O)=>M+oe(O.downtime),0),ve=_.workRequest.length,ae=_.workRequest.filter(M=>!M.eksekutor||M.eksekutor==="").length,G=_.bahanBaku.reduce((M,O)=>M+oe(O.jumlah),0),ge=_.vibrasi.filter(M=>M.status==="Warning"||M.status==="Critical"||M.status==="Alert").length,J=_.gatePass.length,T=_.troubleRecord.filter(M=>M.status==="Open"||M.status==="In Progress").length,L=_.timesheetForklift.reduce((M,O)=>M+oe(O.jamOperasi),0),H=_.timesheetLoader.reduce((M,O)=>M+oe(O.jamOperasi),0),te=_.rekapBBM.reduce((M,O)=>M+oe(O.pengajuanSolar),0),C=_.rekapBBM.reduce((M,O)=>M+oe(O.realisasiPengisian),0),q=C-te;return{totalProduksiNPK:B,totalOnspek:Q,totalOffspek:le,totalProduksiBlending:ce,totalProduksiNPKMini:pe,totalRKAP:ye,totalDowntime:ue,workRequestTotal:ve,workRequestPending:ae,totalBahanBaku:G,vibrasiWarnings:ge,gatePassCount:J,troubleRecordOpen:T,forkliftHours:L,loaderHours:H,bbmPengajuan:te,bbmRealisasi:C,bbmSelisih:q,bbmRecordCount:_.rekapBBM.length,percentage:ye>0?(B/ye*100).toFixed(1):"0"}},[_]),K=k.useMemo(()=>vu.map((Q,le)=>{const ce=_.produksiNPK.filter(G=>new Date(G.tanggal).getMonth()===le),pe=ce.reduce((G,ge)=>{const J=ge.total!==void 0&&ge.total!==null&&ge.total!=="";return G+(J?oe(ge.total):oe(ge.shiftMalamOnspek)+oe(ge.shiftMalamOffspek)+oe(ge.shiftPagiOnspek)+oe(ge.shiftPagiOffspek)+oe(ge.shiftSoreOnspek)+oe(ge.shiftSoreOffspek))},0),ye=ce.reduce((G,ge)=>{const J=ge.totalOnspek!==void 0&&ge.totalOnspek!==null&&ge.totalOnspek!=="";return G+(J?oe(ge.totalOnspek):oe(ge.shiftMalamOnspek)+oe(ge.shiftPagiOnspek)+oe(ge.shiftSoreOnspek))},0),ue=ce.reduce((G,ge)=>{const J=ge.totalOffspek!==void 0&&ge.totalOffspek!==null&&ge.totalOffspek!=="";return G+(J?oe(ge.totalOffspek):oe(ge.shiftMalamOffspek)+oe(ge.shiftPagiOffspek)+oe(ge.shiftSoreOffspek))},0),ve=Yx[le],ae=_.rkap.reduce((G,ge)=>G+oe(ge[ve]),0);return{bulan:Q,produksi:pe,rkap:ae,onspek:ye,offspek:ue}}),[_]),Y=k.useMemo(()=>{const B=c,Q=vu[B],le=Yx[B],ce=_.produksiNPK.filter(L=>new Date(L.tanggal).getMonth()===B),pe=ce.reduce((L,H)=>{const te=H.total!==void 0&&H.total!==null&&H.total!=="";return L+(te?oe(H.total):oe(H.shiftMalamOnspek)+oe(H.shiftMalamOffspek)+oe(H.shiftPagiOnspek)+oe(H.shiftPagiOffspek)+oe(H.shiftSoreOnspek)+oe(H.shiftSoreOffspek))},0),ye=ce.reduce((L,H)=>{const te=H.totalOnspek!==void 0&&H.totalOnspek!==null&&H.totalOnspek!=="";return L+(te?oe(H.totalOnspek):oe(H.shiftMalamOnspek)+oe(H.shiftPagiOnspek)+oe(H.shiftSoreOnspek))},0),ue=ce.reduce((L,H)=>{const te=H.totalOffspek!==void 0&&H.totalOffspek!==null&&H.totalOffspek!=="";return L+(te?oe(H.totalOffspek):oe(H.shiftMalamOffspek)+oe(H.shiftPagiOffspek)+oe(H.shiftSoreOffspek))},0),ae=_.produksiBlending.filter(L=>new Date(L.tanggal).getMonth()===B).reduce((L,H)=>L+oe(H.tonase),0),ge=_.produksiNPKMini.filter(L=>new Date(L.tanggal).getMonth()===B).reduce((L,H)=>L+oe(H.tonase),0),J=_.rkap.reduce((L,H)=>L+oe(H[le]),0),T=J>0?(pe/J*100).toFixed(1):"0";return{monthName:Q,npkProduksi:pe,npkOnspek:ye,npkOffspek:ue,blendingProduksi:ae,npkMiniProduksi:ge,rkapThisMonth:J,percentageRkap:T,totalProduksi:pe+ae+ge}},[_,c]),ne=k.useMemo(()=>{let B=_.downtime;d==="bulanan"&&(B=_.downtime.filter(le=>le.tanggal?new Date(le.tanggal).getMonth()===g:!1));const Q={};return B.forEach(le=>{const ce=le.item||"Unknown";Q[ce]||(Q[ce]={jam:0,frekuensi:0}),Q[ce].jam+=oe(le.downtime),Q[ce].frekuensi+=1}),Object.entries(Q).map(([le,ce])=>({item:le,downtime:h==="jam"?ce.jam:ce.frekuensi,jam:ce.jam,frekuensi:ce.frekuensi})).sort((le,ce)=>ce.downtime-le.downtime).slice(0,8)},[_,d,h,g]),D=k.useMemo(()=>{let B=_.downtime;return d==="bulanan"&&(B=_.downtime.filter(Q=>Q.tanggal?new Date(Q.tanggal).getMonth()===g:!1)),h==="jam"?B.reduce((Q,le)=>Q+oe(le.downtime),0):B.length},[_,d,h,g]),R=k.useMemo(()=>{const B={};return _.workRequest.forEach(Q=>{const le=Q.eksekutor||"Belum Ditentukan";B[le]=(B[le]||0)+1}),Object.entries(B).map(([Q,le])=>({eksekutor:Q,count:le})).sort((Q,le)=>le.count-Q.count).slice(0,6)},[_]),z=k.useMemo(()=>{const B={};return _.vibrasi.forEach(Q=>{const le=Q.status||"Unknown";B[le]=(B[le]||0)+1}),Object.entries(B).map(([Q,le])=>({status:Q,count:le}))},[_]),V=k.useMemo(()=>[{name:"NPK Granul",value:U.totalProduksiNPK},{name:"Blending/Retail",value:U.totalProduksiBlending},{name:"NPK Mini",value:U.totalProduksiNPKMini}].filter(B=>B.value>0),[U]),Z=A==="ALL"?"Semua Plant":A==="NPK1"?"NPK Plant 1":"NPK Plant 2";return o?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx($8,{className:"h-12 w-12 animate-spin text-primary-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-dark-500 dark:text-dark-400",children:"Memuat data dashboard..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Dashboard - ",Z]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Selamat datang, ",(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama),"! Berikut ringkasan data ",Z.toLowerCase()," tahun ",r,"."]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[P&&a.jsx(ze,{value:A,onChange:B=>n(B.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),a.jsx(ze,{value:r.toString(),onChange:B=>s(Number(B.target.value)),options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],className:"w-32"})]})]}),a.jsxs(ir.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white shadow-lg",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{onClick:()=>i(`/produksi/${A==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-80 transition-opacity",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Am,{className:"h-6 w-6"}),a.jsxs("h2",{className:"text-xl font-bold",children:["Produksi Bulan ",Y.monthName," ",r]}),a.jsx(Ea,{className:"h-5 w-5 opacity-60 ml-2"})]}),a.jsxs("p",{className:"text-primary-100 text-sm",children:["Ringkasan produksi ",Z.toLowerCase()," bulan ini"]})]}),a.jsx("div",{className:"flex items-center gap-2",onClick:B=>B.stopPropagation(),children:a.jsx("select",{value:c,onChange:B=>u(Number(B.target.value)),className:"bg-white/20 backdrop-blur-sm text-white border-0 rounded-lg px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/30 cursor-pointer",children:vu.map((B,Q)=>a.jsx("option",{value:Q,className:"text-dark-900",children:B},Q))})})]}),a.jsx("div",{onClick:()=>i(`/produksi/${A==="NPK1"?"npk1":"npk2"}`),className:"cursor-pointer hover:opacity-90 transition-opacity",children:a.jsxs("div",{className:"flex flex-wrap gap-4 lg:gap-8 mt-4",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-6 py-4 backdrop-blur-sm min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"NPK Produksi"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:X(Y.npkProduksi)}),a.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-6 py-4 backdrop-blur-sm min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"Target RKAP"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold",children:X(Y.rkapThisMonth)}),a.jsx("p",{className:"text-primary-100 text-xs",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-6 py-4 backdrop-blur-sm min-w-[140px]",children:[a.jsx("p",{className:"text-primary-100 text-xs uppercase tracking-wider mb-1",children:"Pencapaian"}),a.jsxs("p",{className:"text-2xl lg:text-3xl font-bold",children:[Y.percentageRkap,"%"]}),a.jsx("p",{className:"text-primary-100 text-xs",children:Number(Y.percentageRkap)>=100?" Target Tercapai":"dari target"})]})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Onspek"}),a.jsxs("p",{className:"font-semibold",children:[X(Y.npkOnspek)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Offspek"}),a.jsxs("p",{className:"font-semibold",children:[X(Y.npkOffspek)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"Blending"}),a.jsxs("p",{className:"font-semibold",children:[X(Y.blendingProduksi)," Ton"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-xs",children:"NPK Mini"}),a.jsxs("p",{className:"font-semibold",children:[X(Y.npkMiniProduksi)," Ton"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>i(`/produksi/${A==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yh,{className:"h-5 w-5"}),a.jsxs("h3",{className:"font-bold",children:["Produksi Tahunan ",r]})]}),a.jsx(Ea,{className:"h-4 w-4 opacity-60"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"NPK Granul"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.totalProduksiNPK)}),a.jsxs("p",{className:"text-blue-100 text-[10px]",children:["Ton (",U.percentage,"% RKAP)"]})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Onspek"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.totalOnspek)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Offspek"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.totalOffspek)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-blue-100 text-[10px] uppercase tracking-wider",children:"Target RKAP"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.totalRKAP)}),a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Ton"})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsx("p",{className:"text-blue-100 text-[10px]",children:"Blending/Retail"}),a.jsxs("p",{className:"font-semibold",children:[X(U.totalProduksiBlending)," Ton"]})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-3 py-2",children:[a.jsx("p",{className:"text-blue-100 text-[10px]",children:"NPK Mini"}),a.jsxs("p",{className:"font-semibold",children:[X(U.totalProduksiNPKMini)," Ton"]})]})]})]}),a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-slate-600 to-slate-700 rounded-2xl p-5 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d_,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Operasional & Logistik"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{onClick:()=>i(`/laporan/timesheet-forklift-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Forklift"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.forkliftHours)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",_.timesheetForklift.length," rec)"]})]}),a.jsxs("div",{onClick:()=>i(`/laporan/timesheet-loader-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Loader"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.loaderHours)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:["Jam (",_.timesheetLoader.length," rec)"]})]}),a.jsxs("div",{onClick:()=>i(`/data/gate-pass-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Gate Pass"}),a.jsx("p",{className:"text-xl font-bold",children:U.gatePassCount}),a.jsx("p",{className:"text-slate-200 text-[10px]",children:"Transaksi"})]}),a.jsxs("div",{onClick:()=>i(`/data/bahan-baku-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-slate-200 text-[10px] uppercase tracking-wider",children:"Bahan Baku"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.totalBahanBaku)}),a.jsxs("p",{className:"text-slate-200 text-[10px]",children:[_.bahanBaku.length," item"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl p-5 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Va,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Downtime & Issues"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{onClick:()=>i(`/laporan/downtime-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Total Downtime"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.totalDowntime)}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["Jam (",_.downtime.length," kejadian)"]})]}),a.jsxs("div",{onClick:()=>i(`/data/work-request-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Work Request"}),a.jsx("p",{className:"text-xl font-bold",children:U.workRequestTotal}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:[U.workRequestPending," pending"]})]}),a.jsxs("div",{onClick:()=>i(`/data/trouble-record-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Trouble Open"}),a.jsx("p",{className:"text-xl font-bold",children:U.troubleRecordOpen}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",_.troubleRecord.length," total"]})]}),a.jsxs("div",{onClick:()=>i(`/data/vibrasi-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm cursor-pointer hover:bg-white/30 transition-colors",children:[a.jsx("p",{className:"text-red-100 text-[10px] uppercase tracking-wider",children:"Vibrasi Alert"}),a.jsx("p",{className:"text-xl font-bold",children:U.vibrasiWarnings}),a.jsxs("p",{className:"text-red-100 text-[10px]",children:["dari ",_.vibrasi.length," ukur"]})]})]})]}),a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>i(`/data/rekap-bbm-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jh,{className:"h-5 w-5"}),a.jsxs("h3",{className:"font-bold",children:["Rekap BBM Alat Berat ",r]})]}),a.jsx(Ea,{className:"h-4 w-4 opacity-60"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Pengajuan"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.bbmPengajuan)}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Realisasi"}),a.jsx("p",{className:"text-xl font-bold",children:X(U.bbmRealisasi)}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Liter"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Selisih"}),a.jsxs("p",{className:"text-xl font-bold",children:[U.bbmSelisih>=0?"+":"",X(U.bbmSelisih)]}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:U.bbmSelisih>=0?"Surplus":"Defisit"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-amber-100 text-[10px] uppercase tracking-wider",children:"Record"}),a.jsx("p",{className:"text-xl font-bold",children:U.bbmRecordCount}),a.jsx("p",{className:"text-amber-100 text-[10px]",children:"Pengajuan"})]})]})]})]}),a.jsxs(ir.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},onClick:()=>i(`/laporan/pemantauan-bb-${A==="NPK1"?"npk1":"npk2"}`),className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-5 text-white shadow-lg cursor-pointer hover:shadow-xl hover:scale-[1.01] transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mi,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-bold",children:"Pemantauan Stok Bahan Baku"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{value:b,onChange:B=>{B.stopPropagation(),v(B.target.value)},onClick:B=>B.stopPropagation(),className:"w-full sm:w-40 bg-white/20 border-white/30 text-white text-sm",options:Jhe.map(B=>({value:B,label:B}))}),a.jsx(Ea,{className:"h-4 w-4 opacity-60"})]})]}),(()=>{const Q=y.filter(ve=>ve._plant===A||A==="ALL").filter(ve=>ve.bahanBaku===b).sort((ve,ae)=>new Date(ae.tanggal).getTime()-new Date(ve.tanggal).getTime()),le=Q[0],ce=Q.length,pe=Q.filter(ve=>new Date(ve.tanggal).getFullYear()===r),ye=pe.reduce((ve,ae)=>ve+(ae.bahanBakuIn||0),0),ue=pe.reduce((ve,ae)=>ve+(ae.bahanBakuOut||0),0);return a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Stok Terakhir"}),a.jsx("p",{className:"text-xl font-bold",children:X((le==null?void 0:le.stockAkhir)||0)}),a.jsxs("p",{className:"text-emerald-100 text-[10px]",children:["Ton (",(le==null?void 0:le.tanggal)||"-",")"]})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Masuk ",r]}),a.jsx("p",{className:"text-xl font-bold",children:X(ye)}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:["Total Keluar ",r]}),a.jsx("p",{className:"text-xl font-bold",children:X(ue)}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Ton"})]}),a.jsxs("div",{className:"bg-white/20 rounded-xl px-4 py-3 backdrop-blur-sm",children:[a.jsx("p",{className:"text-emerald-100 text-[10px] uppercase tracking-wider",children:"Total Record"}),a.jsx("p",{className:"text-xl font-bold",children:ce}),a.jsx("p",{className:"text-emerald-100 text-[10px]",children:"Pencatatan"})]})]})})()]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Produksi vs RKAP"}),a.jsx(Ae,{variant:"primary",children:r})]})}),a.jsx(pn,{children:a.jsx(Bi,{width:"100%",height:300,children:a.jsxs(Yhe,{data:K,children:[a.jsx(Lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(ci,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),a.jsx(ui,{stroke:"#64748b",fontSize:12}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:B=>[X(B)+" Ton",""]}),a.jsx(ha,{}),a.jsx(Ql,{type:"monotone",dataKey:"produksi",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},name:"Produksi"}),a.jsx(Ql,{type:"monotone",dataKey:"rkap",stroke:"#22c55e",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"RKAP"})]})})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Produksi Onspek vs Offspek"}),a.jsx(Ae,{variant:"success",children:"Monthly"})]})}),a.jsx(pn,{children:a.jsx(Bi,{width:"100%",height:300,children:a.jsxs(Uy,{data:K,children:[a.jsx(Lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(ci,{dataKey:"bulan",stroke:"#64748b",fontSize:12}),a.jsx(ui,{stroke:"#64748b",fontSize:12}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:B=>[X(B)+" Ton",""]}),a.jsx(ha,{}),a.jsx(ka,{dataKey:"onspek",fill:"#3b82f6",radius:[4,4,0,0],name:"Onspek"}),a.jsx(ka,{dataKey:"offspek",fill:"#ef4444",radius:[4,4,0,0],name:"Offspek"})]})})})]})]}),a.jsx(Qhe,{downtimeData:_.downtime,year:r,plantLabel:Z}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ke,{className:"lg:col-span-2",children:[a.jsx(at,{children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(st,{children:"Downtime per Equipment"}),a.jsxs(Ae,{variant:"warning",children:[X(D)," ",h==="jam"?"Jam":"Kejadian"," Total"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{value:d,onChange:B=>f(B.target.value),options:[{value:"tahunan",label:"Tahunan"},{value:"bulanan",label:"Bulanan"}],className:"w-28"}),d==="bulanan"&&a.jsx(ze,{value:g.toString(),onChange:B=>m(Number(B.target.value)),options:vu.map((B,Q)=>({value:Q.toString(),label:B})),className:"w-24"}),a.jsx(ze,{value:h,onChange:B=>p(B.target.value),options:[{value:"jam",label:"Jam"},{value:"frekuensi",label:"Frekuensi"}],className:"w-28"})]})]})}),a.jsx(pn,{children:ne.length>0?a.jsx(Bi,{width:"100%",height:350,children:a.jsxs(Uy,{data:ne,layout:"vertical",children:[a.jsx(Lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),a.jsx(ci,{type:"number",stroke:"#64748b",fontSize:12}),a.jsx(ui,{type:"category",dataKey:"item",stroke:"#64748b",fontSize:12,width:120}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:(B,Q,le)=>{var ye,ue;const ce=h==="jam"?" Jam":" Kejadian",pe=h==="jam"?`(${((ye=le.payload)==null?void 0:ye.frekuensi)||0} kejadian)`:`(${X(((ue=le.payload)==null?void 0:ue.jam)||0)} jam)`;return[`${X(B)}${ce} ${pe}`,"Downtime"]}}),a.jsx(ka,{dataKey:"downtime",fill:"#f59e0b",radius:[0,8,8,0],name:h==="jam"?"Downtime (Jam)":"Downtime (Frekuensi)"})]})}):a.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data downtime"})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsx(st,{children:"Breakdown Produksi"})}),a.jsx(pn,{children:V.length>0?a.jsx(Bi,{width:"100%",height:350,children:a.jsxs(qx,{children:[a.jsx(aa,{data:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:B,percent:Q})=>`${B} ${(Q*100).toFixed(0)}%`,children:V.map((B,Q)=>a.jsx(no,{fill:Lo[Q%Lo.length]},`cell-${Q}`))}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:B=>[X(B)+" Ton",""]})]})}):a.jsx("div",{className:"flex items-center justify-center h-[350px] text-dark-400",children:"Tidak ada data produksi"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Work Request by Eksekutor"}),a.jsxs(Ae,{variant:"danger",children:[U.workRequestTotal," Total"]})]})}),a.jsx(pn,{children:R.length>0?a.jsx(Bi,{width:"100%",height:300,children:a.jsxs(qx,{children:[a.jsx(aa,{data:R,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"eksekutor",label:({eksekutor:B,count:Q})=>`${B}: ${Q}`,children:R.map((B,Q)=>a.jsx(no,{fill:Lo[Q%Lo.length]},`cell-${Q}`))}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),a.jsx(ha,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data work request"})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Status Vibrasi Equipment"}),a.jsxs(Ae,{variant:U.vibrasiWarnings>0?"danger":"success",children:[U.vibrasiWarnings," Alert"]})]})}),a.jsx(pn,{children:z.length>0?a.jsx(Bi,{width:"100%",height:300,children:a.jsxs(qx,{children:[a.jsx(aa,{data:z,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#8884d8",paddingAngle:5,dataKey:"count",nameKey:"status",children:z.map((B,Q)=>{const le={Normal:"#22c55e",Warning:"#f59e0b",Critical:"#ef4444",Alert:"#ef4444"};return a.jsx(no,{fill:le[B.status]||Lo[Q%Lo.length]},`cell-${Q}`)})}),a.jsx(Mr,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),a.jsx(ha,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-dark-400",children:"Tidak ada data vibrasi"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ke,{children:[a.jsx(at,{children:a.jsx(st,{children:"Aksi Cepat"})}),a.jsxs(pn,{className:"space-y-3",children:[a.jsxs("a",{href:"/produksi/npk2",className:"flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yh,{className:"h-5 w-5 text-primary-600"}),a.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Input Produksi"})]}),a.jsx(Ea,{className:"h-4 w-4 text-primary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/laporan/downtime-npk2",className:"flex items-center justify-between p-3 bg-amber-50 hover:bg-amber-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Va,{className:"h-5 w-5 text-amber-600"}),a.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Input Downtime"})]}),a.jsx(Ea,{className:"h-4 w-4 text-amber-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/data/work-request-npk2",className:"flex items-center justify-between p-3 bg-secondary-50 hover:bg-secondary-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ia,{className:"h-5 w-5 text-secondary-600"}),a.jsx("span",{className:"text-sm font-medium text-secondary-900",children:"Work Request"})]}),a.jsx(Ea,{className:"h-4 w-4 text-secondary-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),a.jsxs("a",{href:"/data/vibrasi-npk2",className:"flex items-center justify-between p-3 bg-red-50 hover:bg-red-100 rounded-xl transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pv,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-sm font-medium text-red-900",children:"Data Vibrasi"})]}),a.jsx(Ea,{className:"h-4 w-4 text-red-600 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]})]}),a.jsxs(ke,{className:"lg:col-span-2",children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(st,{children:["Ringkasan Data ",Z]}),a.jsx(Ae,{variant:"info",children:r})]})}),a.jsx(pn,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:_.produksiNPK.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Produksi NPK"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary-600",children:_.produksiBlending.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Blending"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:_.downtime.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Record Downtime"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.workRequest.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Work Request"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:_.bahanBaku.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Bahan Baku"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:_.vibrasi.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Data Vibrasi"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:_.gatePass.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Gate Pass"})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-pink-600",children:_.troubleRecord.length}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 mt-1",children:"Trouble Record"})]})]})})]})]})]})};function epe(e,t,r={}){const{altKey:n=!1,ctrlKey:s=!1,shiftKey:i=!1,enabled:o=!0}=r,l=k.useCallback(c=>{if(!o)return;const u=n?c.altKey:!c.altKey,d=s?c.ctrlKey:!c.ctrlKey,f=i?c.shiftKey:!c.shiftKey;c.key.toLowerCase()===e.toLowerCase()&&u&&d&&f&&(c.preventDefault(),t())},[e,t,n,s,i,o]);k.useEffect(()=>(o&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l,o])}function tr(e,t=!0){epe("s",e,{ctrlKey:!0,enabled:t})}function tpe(){const[e,t]=k.useState([]),[r,n]=k.useState(!1),[s,i]=k.useState(null),o=k.useCallback(async()=>{n(!0),i(null);try{const h=await x_();if(h.success&&h.data){const p=[...h.data].sort((g,m)=>g.nama_material.localeCompare(m.nama_material));t(p)}else i(h.error||"Gagal mengambil data material"),t([])}catch(h){i(h instanceof Error?h.message:"Terjadi kesalahan"),t([])}finally{n(!1)}},[]),l=k.useCallback(async h=>{n(!0),i(null);try{const p=await v_(h);return p.success&&p.data?(t(g=>[...g,p.data].sort((m,b)=>m.nama_material.localeCompare(b.nama_material))),{success:!0,data:p.data}):(i(p.error||"Gagal menambah material"),{success:!1,error:p.error})}catch(p){const g=p instanceof Error?p.message:"Terjadi kesalahan";return i(g),{success:!1,error:g}}finally{n(!1)}},[]),c=k.useCallback(async h=>{n(!0),i(null);try{const p=await y_(h);return p.success?(t(g=>g.map(m=>m.id===h.id?{...m,...h}:m).sort((m,b)=>m.nama_material.localeCompare(b.nama_material))),{success:!0}):(i(p.error||"Gagal mengupdate material"),{success:!1,error:p.error})}catch(p){const g=p instanceof Error?p.message:"Terjadi kesalahan";return i(g),{success:!1,error:g}}finally{n(!1)}},[]),u=k.useCallback(async h=>{n(!0),i(null);try{const p=await b_(h);return p.success?(t(g=>g.filter(m=>m.id!==h)),{success:!0}):(i(p.error||"Gagal menghapus material"),{success:!1,error:p.error})}catch(p){const g=p instanceof Error?p.message:"Terjadi kesalahan";return i(g),{success:!1,error:g}}finally{n(!1)}},[]),d=k.useCallback(async(h,p,g)=>{n(!0),i(null);try{const m=await k_(h,p,g);return m.success&&m.data?(t(b=>b.map(v=>v.id===h?{...v,stok:m.data.stok_baru}:v)),{success:!0,data:m.data}):(i(m.error||"Gagal menambah stok"),{success:!1,error:m.error})}catch(m){const b=m instanceof Error?m.message:"Terjadi kesalahan";return i(b),{success:!1,error:b}}finally{n(!1)}},[]),f=k.useCallback(async(h,p,g)=>{n(!0),i(null);try{const m=await w_(h,p,g);return m.success&&m.data?(t(b=>b.map(v=>v.id===h?{...v,stok:m.data.stok_baru}:v)),{success:!0,data:m.data}):(i(m.error||"Gagal mengurangi stok"),{success:!1,error:m.error})}catch(m){const b=m instanceof Error?m.message:"Terjadi kesalahan";return i(b),{success:!1,error:b}}finally{n(!1)}},[]);return k.useEffect(()=>{o()},[o]),{materials:e,loading:r,error:s,refetch:o,addMaterial:l,updateMaterial:c,deleteMaterial:u,stockMasuk:d,stockKeluar:f}}function rpe(e){const[t,r]=k.useState([]),[n,s]=k.useState(!1),[i,o]=k.useState(null),[l,c]=k.useState(e),u=k.useCallback(async h=>{s(!0),o(null);try{const p=await j_(h||l);p.success&&p.data?r(p.data):(o(p.error||"Gagal mengambil data transaksi"),r([]))}catch(p){o(p instanceof Error?p.message:"Terjadi kesalahan"),r([])}finally{s(!1)}},[l]),d=k.useCallback(h=>{c(h),u(h)},[u]),f=k.useCallback(()=>{c(void 0),u(void 0)},[u]);return k.useEffect(()=>{u()},[]),{transactions:t,loading:n,error:i,filters:l,refetch:u,updateFilters:d,clearFilters:f}}function Tr(){const{user:e}=et(),t=k.useCallback(()=>({username:(e==null?void 0:e.username)||"",namaLengkap:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",nama:(e==null?void 0:e.nama)||"",role:(e==null?void 0:e.role)||""}),[e]),r=k.useCallback(async(i,o)=>{const l=t();return S_(i,o,l)},[t]),n=k.useCallback(async(i,o)=>{const l=t();return N_(i,o,l)},[t]),s=k.useCallback(async(i,o)=>{const l=t();return P_(i,o,l)},[t]);return{createWithLog:r,updateWithLog:n,deleteWithLog:s,getUserInfo:t}}const Gc={tanggal:Mt(),shiftMalamOnspek:0,shiftMalamOffspek:0,shiftPagiOnspek:0,shiftPagiOffspek:0,shiftSoreOnspek:0,shiftSoreOffspek:0,totalOnspek:0,totalOffspek:0,total:0},_T=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(!1),[v,y]=k.useState(null),[x,j]=k.useState(null),[w,N]=k.useState(Gc),[S,P]=k.useState(""),[A,$]=k.useState(new Date().getFullYear()),[I,E]=k.useState(new Date().getMonth()),[_,U]=k.useState(!1),[K,Y]=k.useState("edit"),[ne,D]=k.useState(null),[R,z]=k.useState(!1),[V,Z]=k.useState(""),B=M=>{Z(M),z(!0)},Q=(t==null?void 0:t.role)||"",le=gr(Q),ce=k.useCallback(()=>{if(u&&!l){const M=document.querySelector("form");M&&M.requestSubmit()}},[u,l]);tr(ce,u);const pe=Sr(Q),ye=Nr(Q),ue=ur(Q);k.useEffect(()=>{(async()=>{c(!0);try{const{readData:O,SHEETS:W,getSheetNameByPlant:he}=await Me(async()=>{const{readData:me,SHEETS:Ne,getSheetNameByPlant:Ie}=await Promise.resolve().then(()=>$e);return{readData:me,SHEETS:Ne,getSheetNameByPlant:Ie}},void 0),F=he(W.PRODUKSI_NPK,e),ie=await O(F);if(ie.success&&ie.data){const me=ie.data.map(Ne=>({...Ne,_plant:e})).sort((Ne,Ie)=>new Date(Ie.tanggal).getTime()-new Date(Ne.tanggal).getTime());o(me)}else o([])}catch(O){console.error("Error fetching data:",O),o([])}finally{c(!1)}})()},[e]);const ve=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],ae=k.useMemo(()=>{const M=new Date().getFullYear(),O=i.map(F=>{const ie=new Date(F.tanggal);return isNaN(ie.getTime())?M:ie.getFullYear()}),W=[M,M-1,M-2];return[...new Set([...O,...W])].sort((F,ie)=>ie-F)},[i]),G=k.useMemo(()=>i.filter(M=>{const O=new Date(M.tanggal);return!isNaN(O.getTime())&&O.getFullYear()===A}),[i,A]),ge=k.useMemo(()=>{const M=G.filter(F=>new Date(F.tanggal).getMonth()===I),O=M.reduce((F,ie)=>F+oe(ie.totalOnspek),0),W=M.reduce((F,ie)=>F+oe(ie.totalOffspek),0),he=M.reduce((F,ie)=>F+oe(ie.total),0);return{monthName:ve[I],year:A,totalOnspek:O,totalOffspek:W,total:he,entryCount:M.length}},[G,A,I]);k.useEffect(()=>{const M=(w.shiftMalamOnspek||0)+(w.shiftPagiOnspek||0)+(w.shiftSoreOnspek||0),O=(w.shiftMalamOffspek||0)+(w.shiftPagiOffspek||0)+(w.shiftSoreOffspek||0);N(W=>({...W,totalOnspek:M,totalOffspek:O,total:M+O}))},[w.shiftMalamOnspek,w.shiftMalamOffspek,w.shiftPagiOnspek,w.shiftPagiOffspek,w.shiftSoreOnspek,w.shiftSoreOffspek]);const J=async M=>{M.preventDefault(),c(!0);try{if(v){const O=await n("produksi_npk",{...w,id:v,_plant:e});if(O.success)o(W=>W.map(he=>he.id===v?{...w,id:v,_plant:e}:he));else throw new Error(O.error||"Gagal mengupdate data")}else{const O={...w,_plant:e},W=await r("produksi_npk",O);if(W.success&&W.data){const he={...W.data,_plant:e};o(F=>[he,...F])}else throw new Error(W.error||"Gagal menyimpan data")}d(!1),N(Gc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(O){console.error("Error saving data:",O),alert(O instanceof Error?O.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},T=M=>{if(pe){D(M),Y("edit"),U(!0);return}N(M),y(M.id||null),d(!0)},L=M=>{if(ye){const O=i.find(W=>W.id===M);O&&(D(O),Y("delete"),U(!0));return}j(M),h(!0)},H=async M=>{if(!(!ne||!t)){c(!0);try{const O="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",W={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:K,targetSheet:`PRODUKSI_NPK_${e}`,targetId:ne.id,targetData:JSON.stringify(ne),reason:M,status:"pending",requestedAt:new Date().toISOString()}},he=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W),mode:"no-cors"});alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),U(!1),D(null)}catch(O){console.error("Error submitting approval:",O),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},te=async()=>{if(x){c(!0);try{const M=await s("produksi_npk",{id:x,_plant:e});if(M.success)o(O=>O.filter(W=>W.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(M.error||"Gagal menghapus data")}catch(M){console.error("Error deleting data:",M),alert(M instanceof Error?M.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},C=()=>{N(Gc),y(null),d(!0)},q=[{key:"tanggal",header:"Tanggal",sortable:!0,render:M=>Ve(M)},{key:"shiftMalamOnspek",header:"Malam Onspek",render:M=>X(oe(M))},{key:"shiftMalamOffspek",header:"Malam Offspek",render:M=>X(oe(M))},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:M=>X(oe(M))},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:M=>X(oe(M))},{key:"shiftSoreOnspek",header:"Sore Onspek",render:M=>X(oe(M))},{key:"shiftSoreOffspek",header:"Sore Offspek",render:M=>X(oe(M))},{key:"total",header:"Total",render:M=>a.jsx("span",{className:"font-semibold text-primary-600",children:X(oe(M))})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Granul"}),a.jsx(Ae,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data produksi NPK Granul untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(se,{variant:"secondary",size:"sm",onClick:()=>b(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),le&&a.jsxs(se,{onClick:C,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx("div",{className:`rounded-xl p-5 text-white shadow-md ${e==="NPK1"?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gradient-to-r from-green-500 to-green-600"}`,children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Am,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold",children:["Produksi Bulan ",ge.monthName," ",ge.year]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[ge.entryCount," entry data"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[a.jsx("select",{value:I,onChange:M=>E(Number(M.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:ve.map((M,O)=>a.jsx("option",{value:O,className:"text-dark-900",children:M},O))}),a.jsx("select",{value:A,onChange:M=>$(Number(M.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:ae.map(M=>a.jsx("option",{value:M,className:"text-dark-900",children:M},M))}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Onspek"}),a.jsxs("p",{className:"text-xl font-bold",children:[X(ge.totalOnspek)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Offspek"}),a.jsxs("p",{className:"text-xl font-bold",children:[X(ge.totalOffspek)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold",children:[X(ge.total)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Onspek (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:X(G.reduce((M,O)=>M+oe(O.totalOnspek),0))})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Offspek (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:X(G.reduce((M,O)=>M+oe(O.totalOffspek),0))})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Produksi (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:X(G.reduce((M,O)=>M+oe(O.total),0))})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Entry (",A,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Produksi"}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:S,onChange:M=>P(M.target.value),className:"pl-9 w-64"})]})})]})}),a.jsx(er,{data:i.filter(M=>{var O,W;return((O=M.tanggal)==null?void 0:O.includes(S))||((W=M.total)==null?void 0:W.toString().includes(S))}),columns:q,loading:l,searchable:!1,actions:ue?M=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),B(M.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):M=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),B(M.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),T(M)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:O=>{O.stopPropagation(),L(M.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),N(Gc),y(null)},title:v?"Edit Data Produksi":"Tambah Data Produksi",size:"lg",children:a.jsxs("form",{onSubmit:J,className:"space-y-6",children:[a.jsx("div",{children:a.jsx(fe,{label:"Tanggal",type:"date",value:w.tanggal,onChange:M=>N(O=>({...O,tanggal:M.target.value})),required:!0})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Malam"}),a.jsx(fe,{label:"Onspek (Ton)",type:"number",value:w.shiftMalamOnspek,onChange:M=>N(O=>({...O,shiftMalamOnspek:Number(M.target.value)})),min:"0",step:"0.01"}),a.jsx(fe,{label:"Offspek (Ton)",type:"number",value:w.shiftMalamOffspek,onChange:M=>N(O=>({...O,shiftMalamOffspek:Number(M.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Pagi"}),a.jsx(fe,{label:"Onspek (Ton)",type:"number",value:w.shiftPagiOnspek,onChange:M=>N(O=>({...O,shiftPagiOnspek:Number(M.target.value)})),min:"0",step:"0.01"}),a.jsx(fe,{label:"Offspek (Ton)",type:"number",value:w.shiftPagiOffspek,onChange:M=>N(O=>({...O,shiftPagiOffspek:Number(M.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Shift Sore"}),a.jsx(fe,{label:"Onspek (Ton)",type:"number",value:w.shiftSoreOnspek,onChange:M=>N(O=>({...O,shiftSoreOnspek:Number(M.target.value)})),min:"0",step:"0.01"}),a.jsx(fe,{label:"Offspek (Ton)",type:"number",value:w.shiftSoreOffspek,onChange:M=>N(O=>({...O,shiftSoreOffspek:Number(M.target.value)})),min:"0",step:"0.01"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-dark-700 border-b pb-2",children:"Total (Auto)"}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Onspek:"}),a.jsxs("span",{className:"font-semibold text-primary-600",children:[X(w.totalOnspek||0)," Ton"]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Total Offspek:"}),a.jsxs("span",{className:"font-semibold text-red-600",children:[X(w.totalOffspek||0)," Ton"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"font-medium text-dark-700",children:"Total:"}),a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[X(w.total||0)," Ton"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Gc),y(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:_,onClose:()=>{U(!1),D(null)},onSubmit:H,actionType:K,isLoading:l}),a.jsx(Vt,{isVisible:p,message:v?"Data berhasil diupdate!":"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(uc,{isOpen:m,onClose:()=>b(!1),title:`Produksi NPK Granul ${e==="NPK1"?"1":"2"}`,plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,columns:[{key:"tanggal",header:"Tanggal",render:M=>Ve(M),width:"80px"},{key:"shiftMalamOnspek",header:"Malam Onspek",render:M=>X(oe(M)),align:"right",width:"70px"},{key:"shiftMalamOffspek",header:"Malam Offspek",render:M=>X(oe(M)),align:"right",width:"70px"},{key:"shiftPagiOnspek",header:"Pagi Onspek",render:M=>X(oe(M)),align:"right",width:"65px"},{key:"shiftPagiOffspek",header:"Pagi Offspek",render:M=>X(oe(M)),align:"right",width:"65px"},{key:"shiftSoreOnspek",header:"Sore Onspek",render:M=>X(oe(M)),align:"right",width:"65px"},{key:"shiftSoreOffspek",header:"Sore Offspek",render:M=>X(oe(M)),align:"right",width:"45px"},{key:"totalOnspek",header:"Total Onspek",render:M=>X(oe(M)),align:"right",width:"70px"},{key:"totalOffspek",header:"Total Offspek",render:M=>X(oe(M)),align:"right",width:"70px"},{key:"total",header:"S. Total",render:M=>X(oe(M)),align:"right",width:"60px"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Onspek:",getValue:M=>X(M.reduce((O,W)=>O+oe(W.totalOnspek),0))+" Ton"},{label:"Total Offspek:",getValue:M=>X(M.reduce((O,W)=>O+oe(W.totalOffspek),0))+" Ton"},{label:"Grand Total:",getValue:M=>X(M.reduce((O,W)=>O+oe(W.total),0))+" Ton"}]}),a.jsx(Br,{isOpen:R,onClose:()=>{z(!1),Z("")},sheetName:e==="NPK1"?"produksi_npk_NPK1":"produksi_npk",recordId:V,title:"Log Aktivitas Produksi NPK"})]})},qc={tanggal:Mt(),kategori:"Fresh",formula:"",tonase:0},DT=({type:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(!1),[v,y]=k.useState(null),[x,j]=k.useState(null),[w,N]=k.useState(!1),[S,P]=k.useState(""),[A,$]=k.useState(qc),[I,E]=k.useState(""),[_,U]=k.useState("all"),[K,Y]=k.useState(new Date().getMonth()),[ne,D]=k.useState(new Date().getFullYear()),R=e==="blending"?"NPK2":"NPK1",z=e==="blending"?"Produksi Blending":"Produksi Retail",[V,Z]=k.useState(!1),[B,Q]=k.useState("edit"),[le,ce]=k.useState(null),[pe,ye]=k.useState(!1),[ue,ve]=k.useState(""),ae=de=>{ve(de),ye(!0)},G=(t==null?void 0:t.role)||"",ge=gr(G),J=k.useCallback(()=>{if(u&&!l){const de=document.querySelector("form");de&&de.requestSubmit()}},[u,l]);tr(J,u);const T=Sr(G),L=Nr(G),H=ur(G),te=e==="blending"?[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]:[{value:"Retail",label:"Retail"}],C=["NPK 15-15-15","NPK 16-16-16","NPK 20-10-10","NPK 12-12-17","NPK 15-15-15-4S"],q=k.useMemo(()=>{const de=[...new Set(i.map(Ye=>Ye.formula).filter(Ye=>Ye&&Ye!=="Tanpa Formula"))],De=[...new Set([...C,...de])].sort().map(Ye=>({value:Ye,label:Ye}));return De.push({value:"Custom",label:"Custom (Tambah Baru)"}),De},[i]);k.useEffect(()=>{(async()=>{var be,De;c(!0);try{const{readData:Ye,SHEETS:Fr,getSheetNameByPlant:vr}=await Me(async()=>{const{readData:Or,SHEETS:Pn,getSheetNameByPlant:_e}=await Promise.resolve().then(()=>$e);return{readData:Or,SHEETS:Pn,getSheetNameByPlant:_e}},void 0),gt=vr(Fr.PRODUKSI_BLENDING,R),rt=await Ye(gt);if(console.log("Raw data from backend:",(be=rt.data)==null?void 0:be.slice(0,2)),console.log("Data keys:",(De=rt.data)!=null&&De[0]?Object.keys(rt.data[0]):"No data"),rt.success&&rt.data){const Pn=rt.data.map(_e=>{rt.data&&rt.data.indexOf(_e)===0&&console.log("First item raw:",_e);const _o=_e.tonase??_e.Tonase??_e.total??_e.Total??_e.jumlah??_e.Jumlah??_e.ton??_e.Ton??_e.qty??_e.Qty??_e.quantity??_e.Quantity??0,df=_e.formula??_e.Formula??_e.formulasi??_e.Formulasi??_e.jenis??_e.Jenis??_e.produk??_e.Produk??"",ff=_e.kategori??_e.Kategori??_e.tipe??_e.Tipe??_e.jenis??_e.Jenis??(e==="retail"?"Retail":"Fresh");return{..._e,id:_e.id??_e.ID??_e.Id??_e.no??_e.No,tanggal:_e.tanggal??_e.Tanggal??_e.tgl??_e.Tgl??_e.date??_e.Date??"",kategori:ff,formula:(df||"Tanpa Formula").trim(),tonase:oe(_o),_plant:R}}).sort((_e,_o)=>new Date(_o.tanggal).getTime()-new Date(_e.tanggal).getTime());o(Pn),console.log("Normalized data sample:",Pn.slice(0,3)),console.log("Total tonase check:",Pn.slice(0,5).map(_e=>({formula:_e.formula,tonase:_e.tonase})))}else o([])}catch(Ye){console.error("Error fetching data:",Ye),o([])}finally{c(!1)}})()},[e,R]);const M=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],O=k.useMemo(()=>[...new Set(i.map(be=>be.formula).filter(be=>be&&be.trim()!==""))].sort(),[i]),W=k.useMemo(()=>{const de=new Date().getFullYear(),be=i.map(Fr=>{const vr=new Date(Fr.tanggal);return isNaN(vr.getTime())?de:vr.getFullYear()}),De=[de,de-1,de-2];return[...new Set([...be,...De])].sort((Fr,vr)=>vr-Fr)},[i]),he=k.useMemo(()=>i.filter(de=>{const be=new Date(de.tanggal);if(isNaN(be.getTime()))return!1;const De=ne==="all"||be.getFullYear()===ne,Ye=K==="all"||be.getMonth()===K;return De&&Ye}),[i,K,ne]),F=k.useMemo(()=>_==="all"?he:he.filter(de=>de.formula===_),[he,_]),ie=de=>{const be=de.tonase;return typeof be=="number"&&!isNaN(be)?be:oe(be)},me=k.useMemo(()=>{const de=he.reduce((gt,rt)=>gt+ie(rt),0),be=he.filter(gt=>gt.kategori==="Fresh").reduce((gt,rt)=>gt+ie(rt),0),De=he.filter(gt=>gt.kategori==="Oversack").reduce((gt,rt)=>gt+ie(rt),0),Ye=he.filter(gt=>gt.kategori==="Retail").reduce((gt,rt)=>gt+ie(rt),0);let Fr=0,vr=0;if(K!=="all"&&ne!=="all"){const gt=K===0?11:K-1,rt=K===0?ne-1:ne;vr=i.filter(Pn=>{const _e=new Date(Pn.tanggal);return isNaN(_e.getTime())?!1:_e.getMonth()===gt&&_e.getFullYear()===rt}).reduce((Pn,_e)=>Pn+ie(_e),0),Fr=vr>0?(de-vr)/vr*100:0}return{totalTonase:de,totalFresh:be,totalOversack:De,totalRetail:Ye,entryCount:he.length,uniqueFormulas:new Set(he.map(gt=>gt.formula).filter(gt=>gt&&gt.trim()!=="")).size,growthPercent:Fr,prevTotalTonase:vr,avgPerEntry:he.length>0?de/he.length:0}},[he,K,ne,i]),Ne=k.useMemo(()=>{const de={};return he.forEach(be=>{const De=be.formula&&be.formula.trim()!==""?be.formula:"Tanpa Formula";de[De]||(de[De]={total:0,fresh:0,oversack:0,retail:0,count:0,percentage:0});const Ye=ie(be);de[De].total+=Ye,de[De].count+=1,be.kategori==="Fresh"?de[De].fresh+=Ye:be.kategori==="Oversack"?de[De].oversack+=Ye:be.kategori==="Retail"&&(de[De].retail+=Ye)}),Object.keys(de).forEach(be=>{de[be].percentage=me.totalTonase>0?de[be].total/me.totalTonase*100:0}),de},[he,me.totalTonase]),Ie=k.useMemo(()=>Object.entries(Ne).sort(([,de],[,be])=>be.total-de.total).slice(0,10),[Ne]);k.useMemo(()=>{const de={};return he.forEach(be=>{const De=new Date(be.tanggal).getDate();de[De]=(de[De]||0)+oe(be.tonase)}),de},[he]);const qe=()=>{if(K==="all"||ne==="all"){const de=new Date;Y(de.getMonth()===0?11:de.getMonth()-1),D(de.getMonth()===0?de.getFullYear()-1:de.getFullYear())}else K===0?(Y(11),D(de=>de-1)):Y(de=>de-1)},Et=()=>{if(K==="all"||ne==="all"){const de=new Date;Y(de.getMonth()===11?0:de.getMonth()+1),D(de.getMonth()===11?de.getFullYear()+1:de.getFullYear())}else K===11?(Y(0),D(de=>de+1)):Y(de=>de+1)};k.useMemo(()=>{const de=new Date,be=de.getMonth(),De=de.getFullYear(),Ye=i.filter(rt=>{const Or=new Date(rt.tanggal);return isNaN(Or.getTime())?!1:Or.getMonth()===be&&Or.getFullYear()===De}),Fr=Ye.filter(rt=>rt.kategori==="Fresh").reduce((rt,Or)=>rt+ie(Or),0),vr=Ye.filter(rt=>rt.kategori==="Oversack").reduce((rt,Or)=>rt+ie(Or),0),gt=Ye.reduce((rt,Or)=>rt+ie(Or),0);return{monthName:M[be],year:De,totalFresh:Fr,totalOversack:vr,total:gt,entryCount:Ye.length}},[i]);const tt=async de=>{de.preventDefault(),c(!0);try{if(v){const be=await n("produksi_blending",{...A,id:v,_plant:R});if(be.success)o(De=>De.map(Ye=>Ye.id===v?{...A,id:v,_plant:R}:Ye));else throw new Error(be.error||"Gagal mengupdate data")}else{const be={...A,_plant:R},De=await r("produksi_blending",be);if(De.success&&De.data){const Ye={...De.data,_plant:R};o(Fr=>[Ye,...Fr])}else throw new Error(De.error||"Gagal menyimpan data")}d(!1),$(qc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(be){console.error("Error saving data:",be),alert(be instanceof Error?be.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Bt=de=>{if(T){ce(de),Q("edit"),Z(!0);return}$(de),y(de.id||null);const be=q.some(De=>De.value===de.formula&&De.value!=="Custom");N(!be&&de.formula!==""),P(!be&&de.formula!==""?de.formula:""),d(!0)},ca=de=>{if(L){const be=i.find(De=>De.id===de);be&&(ce(be),Q("delete"),Z(!0));return}j(de),h(!0)},Pa=async de=>{if(!(!le||!t)){c(!0);try{const be="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",De={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:B,targetSheet:e==="retail"?"PRODUKSI_BLENDING_NPK1":"PRODUKSI_BLENDING",targetId:le.id,targetData:JSON.stringify(le),reason:de,status:"pending",requestedAt:new Date().toISOString()}},Ye=await fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(De),mode:"no-cors"});alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),Z(!1),ce(null)}catch(be){console.error("Error submitting approval:",be),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Eo=async()=>{if(x){c(!0);try{const de=await s("produksi_blending",{id:x,_plant:R});if(de.success)o(be=>be.filter(De=>De.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(de.error||"Gagal menghapus data")}catch(de){console.error("Error deleting data:",de),alert(de instanceof Error?de.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},Pi=()=>{$(qc),y(null),N(!1),P(""),d(!0)},Co=[{key:"tanggal",header:"Tanggal",sortable:!0,render:de=>Ve(de)},{key:"kategori",header:"Kategori",render:de=>a.jsx(Ae,{variant:de==="Fresh"?"success":de==="Oversack"?"warning":"primary",children:de})},{key:"formula",header:"Formula"},{key:"tonase",header:"Tonase",render:de=>a.jsxs("span",{className:"font-semibold",children:[X(oe(de))," Ton"]})}],Ti=de=>{const be=["from-blue-500 to-blue-600","from-emerald-500 to-emerald-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600","from-rose-500 to-rose-600","from-cyan-500 to-cyan-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600"];return be[de%be.length]};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:z}),a.jsx(Ae,{variant:R==="NPK1"?"primary":"success",children:R})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data ",z.toLowerCase()," untuk ",R]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(se,{variant:"secondary",size:"sm",onClick:()=>b(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ge&&a.jsxs(se,{onClick:Pi,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(ke,{className:"overflow-hidden",children:a.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-900 dark:from-dark-700 dark:to-dark-800 p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:a.jsx(Am,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Laporan Produksi"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("button",{onClick:qe,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(mk,{className:"h-5 w-5 text-white"})}),a.jsxs("h2",{className:"text-2xl font-bold text-white min-w-[200px] text-center",children:[K==="all"?"Semua Bulan":M[K]," ",ne==="all"?"Semua Tahun":ne]}),a.jsx("button",{onClick:Et,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(gk,{className:"h-5 w-5 text-white"})})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{value:K.toString(),onChange:de=>Y(de.target.value==="all"?"all":Number(de.target.value)),options:[{value:"all",label:"Semua Bulan"},...M.map((de,be)=>({value:be.toString(),label:de}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"}),a.jsx(ze,{value:ne.toString(),onChange:de=>D(de.target.value==="all"?"all":Number(de.target.value)),options:[{value:"all",label:"Semua Tahun"},...W.map(de=>({value:de.toString(),label:de.toString()}))],className:"bg-white/10 border-white/20 text-white min-w-[130px] [&>option]:text-dark-900"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mi,{className:"h-4 w-4 text-white/70"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Total Produksi"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[X(me.totalTonase),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),me.growthPercent!==0&&a.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${me.growthPercent>0?"text-green-300":"text-red-300"}`,children:[me.growthPercent>0?a.jsx(Ea,{className:"h-3 w-3"}):a.jsx(P8,{className:"h-3 w-3"}),a.jsxs("span",{children:[Math.abs(me.growthPercent).toFixed(1),"% dari bulan lalu"]})]})]}),e==="blending"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gx,{className:"h-4 w-4 text-green-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Fresh"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[X(me.totalFresh),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[me.totalTonase>0?(me.totalFresh/me.totalTonase*100).toFixed(1):0,"% dari total"]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mu,{className:"h-4 w-4 text-amber-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Oversack"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[X(me.totalOversack),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[me.totalTonase>0?(me.totalOversack/me.totalTonase*100).toFixed(1):0,"% dari total"]})]})]}):a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gx,{className:"h-4 w-4 text-blue-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Retail"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[X(me.totalRetail),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(K8,{className:"h-4 w-4 text-violet-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Jenis Formula"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:me.uniqueFormulas}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Formula berbeda"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Cm,{className:"h-4 w-4 text-cyan-300"}),a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide",children:"Rata-rata"})]}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[X(me.avgPerEntry),a.jsx("span",{className:"text-sm font-normal text-white/70 ml-1",children:"Ton"})]}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Per entry (",me.entryCount," data)"]})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o_,{className:"h-5 w-5 text-dark-500"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Statistik per Formula"})]}),a.jsx(ze,{value:_,onChange:de=>U(de.target.value),options:[{value:"all",label:"Semua Formula"},...O.map(de=>({value:de,label:de}))],className:"min-w-[200px]"})]}),Ie.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ie.map(([de,be],De)=>a.jsxs(ke,{className:`overflow-hidden cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg ${_===de?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onClick:()=>U(_===de?"all":de),children:[a.jsxs("div",{className:`bg-gradient-to-br ${Ti(De)} p-4`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"bg-white/20 rounded-lg px-2 py-1",children:a.jsxs("span",{className:"text-white text-xs font-medium",children:["#",De+1]})}),a.jsx(Om,{className:"h-5 w-5 text-white/70"})]}),a.jsx("h4",{className:"text-white font-bold text-lg mt-3 truncate",title:de,children:de}),a.jsxs("p",{className:"text-white/70 text-sm",children:[be.count," entry data"]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400 text-sm",children:"Total Tonase"}),a.jsxs("span",{className:"font-bold text-dark-900 dark:text-white",children:[X(be.total)," Ton"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Kontribusi"}),a.jsxs("span",{className:"font-medium text-dark-700 dark:text-dark-300",children:[be.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-dark-100 dark:bg-dark-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${Ti(De)} rounded-full transition-all duration-500`,style:{width:`${Math.min(be.percentage,100)}%`}})})]}),e==="blending"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dark-100 dark:border-dark-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Fresh"}),a.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400 text-sm",children:[X(be.fresh)," T"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400",children:"Oversack"}),a.jsxs("p",{className:"font-semibold text-amber-600 dark:text-amber-400 text-sm",children:[X(be.oversack)," T"]})]})]})]})]},de))}):a.jsxs(ke,{className:"p-8 text-center",children:[a.jsx(mi,{className:"h-12 w-12 text-dark-300 mx-auto mb-3"}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400",children:["Tidak ada data produksi untuk bulan ",M[K]," ",ne]})]})]}),_!=="all"&&Ne[_]&&a.jsxs(ke,{className:"overflow-hidden",children:[a.jsx(at,{className:"bg-gradient-to-r from-primary-500 to-primary-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:a.jsx(gx,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(st,{className:"text-white",children:["Detail Formula: ",_]}),a.jsxs("p",{className:"text-white/70 text-sm mt-1",children:["Data untuk"," ",K==="all"?"semua bulan":`bulan ${M[K]}`," ",ne==="all"?"semua tahun":ne]})]})]}),a.jsx(se,{variant:"secondary",size:"sm",onClick:()=>U("all"),className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:"Lihat Semua"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Total Tonase"}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[X(Ne[_].total),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:Ne[_].count})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Rata-rata/Entry"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[X(Ne[_].total/Ne[_].count),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-700/50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 mb-1",children:"Kontribusi"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[Ne[_].percentage.toFixed(1),a.jsx("span",{className:"text-sm font-normal text-dark-500 ml-1",children:"%"})]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(st,{children:["Data ",z," - Semua Data",_!=="all"&&a.jsx(Ae,{variant:"primary",className:"ml-2",children:_})]}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:[i.length," data total"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:I,onChange:de=>E(de.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:i.filter(de=>{var be,De,Ye;return(_==="all"||de.formula===_)&&(((be=de.tanggal)==null?void 0:be.includes(I))||((De=de.formula)==null?void 0:De.toLowerCase().includes(I.toLowerCase()))||((Ye=de.kategori)==null?void 0:Ye.toLowerCase().includes(I.toLowerCase())))}),columns:Co,loading:l,searchable:!1,actions:H?de=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:be=>{be.stopPropagation(),ae(de.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):de=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:be=>{be.stopPropagation(),ae(de.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:be=>{be.stopPropagation(),Bt(de)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:be=>{be.stopPropagation(),ca(de.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),$(qc),y(null)},title:v?`Edit Data ${z}`:`Tambah Data ${z}`,size:"md",children:a.jsxs("form",{onSubmit:tt,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:A.tanggal,onChange:de=>$(be=>({...be,tanggal:de.target.value})),required:!0}),a.jsx(ze,{label:"Kategori",value:A.kategori,onChange:de=>$(be=>({...be,kategori:de.target.value})),options:te,required:!0}),a.jsx(ze,{label:"Formula",value:w?"Custom":A.formula,onChange:de=>{const be=de.target.value;be==="Custom"?(N(!0),P("")):(N(!1),$(De=>({...De,formula:be})))},options:q,placeholder:"Pilih formula",required:!0}),w&&a.jsx(fe,{label:"Formula Custom",type:"text",value:S,onChange:de=>{P(de.target.value),$(be=>({...be,formula:de.target.value}))},placeholder:"Masukkan formula custom (contoh: NPK 18-18-18)",required:!0}),a.jsx(fe,{label:"Tonase (Ton)",type:"number",value:A.tonase,onChange:de=>$(be=>({...be,tonase:Number(de.target.value)})),min:"0",step:"0.01",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),$(qc),y(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:Eo,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:V,onClose:()=>{Z(!1),ce(null)},onSubmit:Pa,actionType:B,isLoading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(uc,{isOpen:m,onClose:()=>b(!1),title:`${z} - ${M[K]} ${ne}${_!=="all"?` (${_})`:""}`,plant:R==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:F,columns:[{key:"tanggal",header:"Tanggal",render:de=>Ve(de),width:"80px"},{key:"kategori",header:"Kategori",width:"70px"},{key:"formula",header:"Formula",width:"120px"},{key:"tonase",header:"Tonase (Ton)",render:de=>X(oe(de)),align:"right",width:"80px"}],filters:e==="blending"?{kategori:{label:"Kategori",options:[{value:"Fresh",label:"Fresh"},{value:"Oversack",label:"Oversack"}]}}:void 0,signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:de=>X(de.reduce((be,De)=>be+oe(De.tonase),0))+" Ton"}]}),a.jsx(Br,{isOpen:pe,onClose:()=>{ye(!1),ve("")},sheetName:e==="blending"?"produksi_blending":"produksi_blending_NPK1",recordId:ue,title:`Log Aktivitas ${z}`})]})},Yc={tanggal:Mt(),formulasi:"",tonase:0},npe=()=>{const{user:e}=et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Tr(),[s,i]=k.useState([]),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[g,m]=k.useState(!1),[b,v]=k.useState(null),[y,x]=k.useState(null),[j,w]=k.useState(Yc),[N,S]=k.useState(""),[P,A]=k.useState(new Date().getFullYear()),[$,I]=k.useState(new Date().getMonth()),[E,_]=k.useState(!1),[U,K]=k.useState(""),[Y,ne]=k.useState(!1),[D,R]=k.useState("edit"),[z,V]=k.useState(null),[Z,B]=k.useState(!1),[Q,le]=k.useState(""),ce=F=>{le(F),B(!0)},pe=(e==null?void 0:e.role)||"",ye=gr(pe),ue=k.useCallback(()=>{if(c&&!o){const F=document.querySelector("form");F&&F.requestSubmit()}},[c,o]);tr(ue,c);const ve=Sr(pe),ae=Nr(pe),G=ur(pe),ge=[{value:"NPK Mini 15-15-15",label:"NPK Mini 15-15-15"},{value:"NPK Mini 16-16-16",label:"NPK Mini 16-16-16"},{value:"NPK Mini 20-10-10",label:"NPK Mini 20-10-10"},{value:"NPK Mini 12-12-17",label:"NPK Mini 12-12-17"},{value:"Custom",label:"Custom"}];k.useEffect(()=>{(async()=>{l(!0);try{const{readData:ie,SHEETS:me}=await Me(async()=>{const{readData:Ie,SHEETS:qe}=await Promise.resolve().then(()=>$e);return{readData:Ie,SHEETS:qe}},void 0),Ne=await ie(me.PRODUKSI_NPK_MINI);if(Ne.success&&Ne.data){const Ie=Ne.data.map(qe=>({...qe,_plant:"NPK2"})).sort((qe,Et)=>new Date(Et.tanggal).getTime()-new Date(qe.tanggal).getTime());i(Ie)}else i([])}catch(ie){console.error("Error fetching data:",ie),i([])}finally{l(!1)}})()},[]);const J=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],T=k.useMemo(()=>{const F=new Date().getFullYear(),ie=s.map(Ie=>{const qe=new Date(Ie.tanggal);return isNaN(qe.getTime())?F:qe.getFullYear()}),me=[F,F-1,F-2];return[...new Set([...ie,...me])].sort((Ie,qe)=>qe-Ie)},[s]),L=k.useMemo(()=>s.filter(F=>{const ie=new Date(F.tanggal);return!isNaN(ie.getTime())&&ie.getFullYear()===P}),[s,P]),H=k.useMemo(()=>{const F=L.filter(Ne=>new Date(Ne.tanggal).getMonth()===$),ie=F.reduce((Ne,Ie)=>Ne+oe(Ie.tonase||Ie.total),0),me=new Set(F.map(Ne=>Ne.formulasi)).size;return{monthName:J[$],year:P,total:ie,formulasiCount:me,entryCount:F.length}},[L,P,$]),te=async F=>{F.preventDefault(),l(!0);try{if(b){const ie=await r("produksi_npk_mini",{...j,id:b,_plant:"NPK2"});if(ie.success)i(me=>me.map(Ne=>Ne.id===b?{...j,id:b,_plant:"NPK2"}:Ne));else throw new Error(ie.error||"Gagal mengupdate data")}else{const ie={...j,_plant:"NPK2"},me=await t("produksi_npk_mini",ie);if(me.success&&me.data){const Ne={...me.data,_plant:"NPK2"};i(Ie=>[Ne,...Ie])}else throw new Error(me.error||"Gagal menyimpan data")}u(!1),w(Yc),v(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(ie){console.error("Error saving data:",ie),alert(ie instanceof Error?ie.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},C=F=>{if(ve){V(F),R("edit"),ne(!0);return}w(F),v(F.id||null);const ie=ge.some(me=>me.value===F.formulasi&&me.value!=="Custom");_(!ie&&F.formulasi!==""),K(!ie&&F.formulasi!==""?F.formulasi:""),u(!0)},q=F=>{if(ae){const ie=s.find(me=>me.id===F);ie&&(V(ie),R("delete"),ne(!0));return}x(F),f(!0)},M=async F=>{if(!(!z||!e)){l(!0);try{const ie="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",me={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:e.nama,requestedByRole:e.role,requestedByPlant:e.plant,actionType:D,targetSheet:"PRODUKSI_NPK_MINI",targetId:z.id,targetData:JSON.stringify(z),reason:F,status:"pending",requestedAt:new Date().toISOString()}},Ne=await fetch(ie,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me),mode:"no-cors"});alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),ne(!1),V(null)}catch(ie){console.error("Error submitting approval:",ie),alert("Gagal mengirim permintaan approval")}finally{l(!1)}}},O=async()=>{if(y){l(!0);try{const F=await n("produksi_npk_mini",{id:y,_plant:"NPK2"});if(F.success)i(ie=>ie.filter(me=>me.id!==y)),f(!1),x(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(F.error||"Gagal menghapus data")}catch(F){console.error("Error deleting data:",F),alert(F instanceof Error?F.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},W=()=>{w(Yc),v(null),_(!1),K(""),u(!0)},he=[{key:"tanggal",header:"Tanggal",sortable:!0,render:F=>Ve(F)},{key:"formulasi",header:"Formulasi"},{key:"tonase",header:"Tonase",render:F=>a.jsxs("span",{className:"font-semibold text-primary-600",children:[X(oe(F))," Ton"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Produksi NPK Mini"}),a.jsx(Ae,{variant:"success",children:"NPK2"})]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data produksi NPK Mini untuk NPK2"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(se,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),ye&&a.jsxs(se,{onClick:W,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx("div",{className:"rounded-xl p-5 text-white shadow-md bg-gradient-to-r from-green-500 to-green-600",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Am,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold",children:["Produksi Bulan ",H.monthName," ",H.year]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[H.entryCount," entry data"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[a.jsx("select",{value:$,onChange:F=>I(Number(F.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:J.map((F,ie)=>a.jsx("option",{value:ie,className:"text-dark-900",children:F},ie))}),a.jsx("select",{value:P,onChange:F=>A(Number(F.target.value)),className:"bg-white/20 border-white/30 text-white rounded-lg px-3 py-2 text-sm backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-white/50",children:T.map(F=>a.jsx("option",{value:F,className:"text-dark-900",children:F},F))}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Total"}),a.jsxs("p",{className:"text-xl font-bold",children:[X(H.total)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2 backdrop-blur-sm",children:[a.jsx("p",{className:"text-white/80 text-xs uppercase",children:"Formulasi"}),a.jsxs("p",{className:"text-xl font-bold",children:[H.formulasiCount," ",a.jsx("span",{className:"text-sm font-normal",children:"Jenis"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Tonase (",P,")"]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[X(L.reduce((F,ie)=>F+oe(ie.tonase),0))," ","Ton"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Formulasi (",P,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(L.map(F=>F.formulasi)).size})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Jumlah Entry (",P,")"]}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:L.length})]})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Produksi NPK Mini"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:N,onChange:F=>S(F.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:s.filter(F=>{var ie,me;return((ie=F.tanggal)==null?void 0:ie.includes(N))||((me=F.formulasi)==null?void 0:me.toLowerCase().includes(N.toLowerCase()))}),columns:he,loading:o,searchable:!1,actions:G?F=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),ce(F.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):F=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),ce(F.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),C(F)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:ie=>{ie.stopPropagation(),q(F.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:c,onClose:()=>{u(!1),w(Yc),v(null)},title:b?"Edit Data NPK Mini":"Tambah Data NPK Mini",size:"md",children:a.jsxs("form",{onSubmit:te,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:j.tanggal,onChange:F=>w(ie=>({...ie,tanggal:F.target.value})),required:!0}),a.jsx(ze,{label:"Formulasi",value:E?"Custom":j.formulasi,onChange:F=>{const ie=F.target.value;ie==="Custom"?(_(!0),K("")):(_(!1),w(me=>({...me,formulasi:ie})))},options:ge,placeholder:"Pilih formulasi",required:!0}),E&&a.jsx(fe,{label:"Formulasi Custom",type:"text",value:U,onChange:F=>{K(F.target.value),w(ie=>({...ie,formulasi:F.target.value}))},placeholder:"Masukkan formulasi custom (contoh: NPK Mini 18-18-18)",required:!0}),a.jsx(fe,{label:"Tonase (Ton)",type:"number",value:j.tonase,onChange:F=>w(ie=>({...ie,tonase:Number(F.target.value)})),min:"0",step:"0.01",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{u(!1),w(Yc),v(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:o,children:b?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:d,onClose:()=>{f(!1),x(null)},onConfirm:O,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Pr,{isOpen:Y,onClose:()=>{ne(!1),V(null)},onSubmit:M,actionType:D,isLoading:o}),a.jsx(Vt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)}),a.jsx(uc,{isOpen:g,onClose:()=>m(!1),title:"Produksi NPK Mini",plant:"NPK Plant 2",data:s,columns:[{key:"tanggal",header:"Tanggal",render:F=>Ve(F),width:"100px"},{key:"formulasi",header:"Formulasi",width:"150px"},{key:"tonase",header:"Tonase (Ton)",render:F=>X(oe(F)),align:"right",width:"100px"}],signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"pembuat",label:"Pembuat"}],summaryRows:[{label:"Total Tonase:",getValue:F=>X(F.reduce((ie,me)=>ie+oe(me.tonase),0))+" Ton"}]}),a.jsx(Br,{isOpen:Z,onClose:()=>{B(!1),le("")},sheetName:"produksi_npk_mini",recordId:Q,title:"Log Aktivitas Produksi NPK Mini"})]})},Jc={tanggal:Mt(),item:"",deskripsi:"",jamOff:"",jamStart:"",downtime:0},MT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(Jc),[w,N]=k.useState(""),[S,P]=k.useState(!1),[A,$]=k.useState("edit"),[I,E]=k.useState(null),[_,U]=k.useState(!1),[K,Y]=k.useState(!1),[ne,D]=k.useState(""),R=T=>{D(T),Y(!0)},z=(t==null?void 0:t.role)||"",V=gr(z),Z=k.useCallback(()=>{if(u&&!l){const T=document.querySelector("form");T&&T.requestSubmit()}},[u,l]);tr(Z,u);const B=Sr(z),Q=Nr(z),le=ur(z);k.useEffect(()=>{(async()=>{c(!0);try{const{readData:L,SHEETS:H,getSheetNameByPlant:te}=await Me(async()=>{const{readData:M,SHEETS:O,getSheetNameByPlant:W}=await Promise.resolve().then(()=>$e);return{readData:M,SHEETS:O,getSheetNameByPlant:W}},void 0),C=te(H.DOWNTIME,e),q=await L(C);if(q.success&&q.data){const M=q.data.map(O=>({...O,_plant:e})).sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(M)}else o([])}catch(L){console.error("Error fetching data:",L),o([])}finally{c(!1)}})()},[e]),k.useEffect(()=>{if(x.jamOff&&x.jamStart){const T=DE(x.jamOff,x.jamStart);j(L=>({...L,downtime:T}))}},[x.jamOff,x.jamStart]);const ce=async T=>{T.preventDefault(),c(!0);try{if(m){const L={...x,id:m,_plant:e},H=await n("downtime",L);if(H.success)o(te=>te.map(C=>C.id===m?{...x,id:m,_plant:e}:C));else throw new Error(H.error||"Gagal mengupdate data")}else{const L={...x,_plant:e},H=await r("downtime",L);if(H.success&&H.data){const te={...H.data,_plant:e};o(C=>[te,...C])}else throw new Error(H.error||"Gagal menyimpan data")}d(!1),j(Jc),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(L){console.error("Error saving data:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},pe=T=>{if(B){E(T),$("edit"),P(!0);return}j(T),b(T.id||null),d(!0)},ye=T=>{if(Q){const L=i.find(H=>H.id===T);L&&(E(L),$("delete"),P(!0));return}y(T),h(!0)},ue=async T=>{if(!(!I||!t)){c(!0);try{const L="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",H={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:A,targetSheet:"DOWNTIME",targetId:I.id,targetData:JSON.stringify(I),reason:T,status:"pending",requestedAt:new Date().toISOString()}};await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),P(!1),E(null)}catch(L){console.error("Error submitting approval:",L),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ve=async()=>{if(v){c(!0);try{const T=await s("downtime",{id:v,_plant:e});if(T.success)o(L=>L.filter(H=>H.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(T.error||"Gagal menghapus data")}catch(T){console.error("Error deleting data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ae=()=>{j(Jc),b(null),d(!0)},G=i.filter(T=>{var H,te,C;return((H=T.tanggal)==null?void 0:H.includes(w))||((te=T.item)==null?void 0:te.toLowerCase().includes(w.toLowerCase()))||((C=T.deskripsi)==null?void 0:C.toLowerCase().includes(w.toLowerCase()))}),ge=G.reduce((T,L)=>T+oe(L.downtime),0),J=[{key:"tanggal",header:"Tanggal",sortable:!0,render:T=>Ve(T)},{key:"item",header:"Equipment"},{key:"deskripsi",header:"Deskripsi"},{key:"jamOff",header:"Jam Off",render:T=>nn(T)},{key:"jamStart",header:"Jam Start",render:T=>nn(T)},{key:"downtime",header:"Downtime (Jam)",render:T=>a.jsxs("span",{className:"font-semibold text-amber-600",children:[X(oe(T))," Jam"]})},{key:"_plant",header:"Plant",render:T=>a.jsx(Ae,{variant:T==="NPK1"?"primary":"success",children:T})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Downtime"}),a.jsx(Ae,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data downtime equipment untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(se,{variant:"secondary",size:"sm",onClick:()=>U(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),V&&a.jsxs(se,{onClick:ae,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Downtime"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[X(ge)," Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Kejadian"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rata-rata Downtime"}),a.jsxs("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:[X(G.length>0?ge/G.length:0)," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Equipment Terdampak"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(G.map(T=>T.item)).size})]})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Downtime"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:T=>N(T.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:G,columns:J,loading:l,searchable:!1,actions:le?T=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),R(T.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),R(T.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),pe(T)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),ye(T.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(Jc),b(null)},title:m?"Edit Data Downtime":"Tambah Data Downtime",size:"md",children:a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:T=>j(L=>({...L,tanggal:T.target.value})),required:!0}),a.jsx(fe,{label:"Equipment",type:"text",value:x.item,onChange:T=>j(L=>({...L,item:T.target.value})),placeholder:"Nama equipment",required:!0}),a.jsx(fe,{label:"Deskripsi",type:"text",value:x.deskripsi,onChange:T=>j(L=>({...L,deskripsi:T.target.value})),placeholder:"Deskripsi kejadian downtime",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Jam Off",type:"time",value:x.jamOff,onChange:T=>j(L=>({...L,jamOff:T.target.value})),required:!0}),a.jsx(fe,{label:"Jam Start",type:"time",value:x.jamStart,onChange:T=>j(L=>({...L,jamStart:T.target.value})),required:!0})]}),a.jsx("div",{className:"p-4 bg-amber-50 rounded-xl",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("span",{className:"font-medium",children:"Downtime (Auto):"})," ",X(x.downtime||0)," Jam"]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(Jc),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ve,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:S,onClose:()=>{P(!1),E(null)},onSubmit:ue,action:A,loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(uc,{isOpen:_,onClose:()=>U(!1),title:`Downtime ${e}`,data:i,columns:[{key:"tanggal",header:"Tanggal",render:T=>Ve(T),align:"center"},{key:"item",header:"Equipment",align:"left"},{key:"deskripsi",header:"Deskripsi",align:"left"},{key:"jamOff",header:"Jam Off",render:T=>nn(T),align:"center"},{key:"jamStart",header:"Jam Start",render:T=>nn(T),align:"center"},{key:"downtime",header:"Downtime (Jam)",render:T=>X(oe(T)),align:"right"}],signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Downtime",getValue:T=>X(T.reduce((L,H)=>L+oe(H.downtime),0))+" Jam"}],plant:e,compactMode:!0}),a.jsx(Br,{isOpen:K,onClose:()=>{Y(!1),D("")},sheetName:e==="NPK1"?"downtime_NPK1":"downtime",recordId:ne,title:"Log Aktivitas Downtime"})]})},Xc={tanggal:Mt(),forklift:"",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},$T=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(!1),[v,y]=k.useState(null),[x,j]=k.useState(null),[w,N]=k.useState(Xc),[S,P]=k.useState(""),[A,$]=k.useState(!1),[I,E]=k.useState("edit"),[_,U]=k.useState(null),[K,Y]=k.useState(!1),[ne,D]=k.useState(""),R=T=>{D(T),Y(!0)},z=(t==null?void 0:t.role)||"",V=gr(z),Z=k.useCallback(()=>{if(u&&!l){const T=document.querySelector("form");T&&T.requestSubmit()}},[u,l]);tr(Z,u);const B=Sr(z),Q=Nr(z),le=ur(z),ce=e==="NPK1"?[{value:"F15",label:"F15"},{value:"F16",label:"F16"},{value:"F17",label:"F17"},{value:"F18",label:"F18"},{value:"ALL",label:"Semua Forklift"}]:[{value:"F19",label:"F19"},{value:"F20",label:"F20"},{value:"F21",label:"F21"},{value:"F22",label:"F22"},{value:"F23",label:"F23"},{value:"ALL",label:"Semua Forklift"}];k.useEffect(()=>{(async()=>{c(!0);try{const{readData:L,SHEETS:H,getSheetNameByPlant:te}=await Me(async()=>{const{readData:M,SHEETS:O,getSheetNameByPlant:W}=await Promise.resolve().then(()=>$e);return{readData:M,SHEETS:O,getSheetNameByPlant:W}},void 0),C=te(H.TIMESHEET_FORKLIFT,e),q=await L(C);if(q.success&&q.data){const M=q.data.map(O=>({...O,_plant:e})).sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(M)}else o([])}catch(L){console.error("Error fetching data:",L),o([])}finally{c(!1)}})()},[e]),k.useEffect(()=>{if(w.jamOff&&w.jamStart){const T=Q0(w.jamOff,w.jamStart),L=Math.max(0,20-T);N(H=>({...H,jamGrounded:T,jamOperasi:L,keterangan:T<=2?"Operasi":"Grounded"}))}},[w.jamOff,w.jamStart]);const pe=async T=>{T.preventDefault(),c(!0);try{const{readData:L,SHEETS:H,getSheetNameByPlant:te}=await Me(async()=>{const{readData:q,SHEETS:M,getSheetNameByPlant:O}=await Promise.resolve().then(()=>$e);return{readData:q,SHEETS:M,getSheetNameByPlant:O}},void 0),C=te(H.TIMESHEET_FORKLIFT,e);if(w.forklift==="ALL"&&!v){const q=e==="NPK1"?["F15","F16","F17","F18"]:["F19","F20","F21","F22","F23"];for(const O of q){const W={...w,forklift:O,_plant:e};await r("timesheet_forklift",W)}const M=await L(C);if(M.success&&M.data){const O=M.data.map(W=>({...W,_plant:e})).sort((W,he)=>new Date(he.tanggal).getTime()-new Date(W.tanggal).getTime());o(O)}}else if(v){const q={...w,id:v,_plant:e},M=await n("timesheet_forklift",q);if(M.success)o(O=>O.map(W=>W.id===v?{...w,id:v,_plant:e}:W));else throw new Error(M.error||"Gagal mengupdate data")}else{const q={...w,_plant:e},M=await r("timesheet_forklift",q);if(M.success&&M.data){const O={...M.data,_plant:e};o(W=>[O,...W])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),N(Xc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(L){console.error("Error saving data:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ye=T=>{if(B){U(T),E("edit"),$(!0);return}N(T),y(T.id||null),d(!0)},ue=T=>{if(Q){const L=i.find(H=>H.id===T);L&&(U(L),E("delete"),$(!0));return}j(T),h(!0)},ve=async T=>{if(!(!_||!t)){c(!0);try{const L="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",H={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:I,targetSheet:"TIMESHEET_FORKLIFT",targetId:_.id,targetData:JSON.stringify(_),reason:T,status:"pending",requestedAt:new Date().toISOString()}};await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),$(!1),U(null)}catch(L){console.error("Error submitting approval:",L),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ae=async()=>{if(x){c(!0);try{const T=await s("timesheet_forklift",{id:x,_plant:e});if(T.success)o(L=>L.filter(H=>H.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(T.error||"Gagal menghapus data")}catch(T){console.error("Error deleting data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},G=()=>{N(Xc),y(null),d(!0)},ge=i.filter(T=>{var H,te,C;return((H=T.tanggal)==null?void 0:H.includes(S))||((te=T.forklift)==null?void 0:te.toLowerCase().includes(S.toLowerCase()))||((C=T.deskripsiTemuan)==null?void 0:C.toLowerCase().includes(S.toLowerCase()))}),J=[{key:"tanggal",header:"Tanggal",sortable:!0,render:T=>Ve(T)},{key:"forklift",header:"Forklift",render:T=>a.jsx(Ae,{variant:"primary",children:T})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:T=>nn(T)},{key:"jamStart",header:"Jam Start",render:T=>nn(T)},{key:"jamGrounded",header:"Jam Grounded",render:T=>a.jsx("span",{className:"font-semibold text-amber-600",children:X(oe(T))})},{key:"jamOperasi",header:"Jam Operasi",render:T=>a.jsx("span",{className:"font-semibold text-secondary-600",children:X(oe(T))})},{key:"keterangan",header:"Status",render:T=>a.jsx(Ae,{variant:T==="Operasi"?"success":"warning",children:T})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Forklift"}),a.jsx(Ae,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet forklift harian untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(se,{variant:"secondary",size:"sm",onClick:()=>b(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),V&&a.jsxs(se,{onClick:G,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Grounded"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[X(ge.reduce((T,L)=>T+oe(L.jamGrounded),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Operasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[X(ge.reduce((T,L)=>T+oe(L.jamOperasi),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Forklift Aktif"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:new Set(ge.map(T=>T.forklift)).size})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:ge.length})]})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Timesheet Forklift"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:S,onChange:T=>P(T.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:ge,columns:J,loading:l,searchable:!1,actions:le?T=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),R(T.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),R(T.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),ye(T)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),ue(T.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),N(Xc),y(null)},title:v?"Edit Timesheet Forklift":"Tambah Timesheet Forklift",size:"md",children:a.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:w.tanggal,onChange:T=>N(L=>({...L,tanggal:T.target.value})),required:!0}),a.jsx(ze,{label:"Forklift",value:w.forklift,onChange:T=>N(L=>({...L,forklift:T.target.value})),options:v?ce.filter(T=>T.value!=="ALL"):ce,placeholder:"Pilih forklift",required:!0}),a.jsx(fe,{label:"Deskripsi Temuan",type:"text",value:w.deskripsiTemuan,onChange:T=>N(L=>({...L,deskripsiTemuan:T.target.value})),placeholder:"Deskripsi temuan/kejadian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Jam Off",type:"time",value:w.jamOff,onChange:T=>N(L=>({...L,jamOff:T.target.value})),required:!0}),a.jsx(fe,{label:"Jam Start",type:"time",value:w.jamStart,onChange:T=>N(L=>({...L,jamStart:T.target.value})),required:!0})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),a.jsxs("span",{className:"font-semibold text-amber-600",children:[X(w.jamGrounded||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),a.jsxs("span",{className:"font-semibold text-secondary-600",children:[X(w.jamOperasi||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),a.jsx(Ae,{variant:w.keterangan==="Operasi"?"success":"warning",children:w.keterangan||"-"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Xc),y(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:ae,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:A,onClose:()=>{$(!1),U(null)},onSubmit:ve,action:I,loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(uc,{isOpen:m,onClose:()=>b(!1),title:"Timesheet Forklift",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:T=>Ve(T),width:"65px"},{key:"forklift",header:"Forklift",width:"45px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Off",render:T=>nn(T),width:"40px"},{key:"jamStart",header:"Start",render:T=>nn(T),width:"40px"},{key:"jamGrounded",header:"Grounded",render:T=>X(oe(T)),align:"right",width:"50px"},{key:"jamOperasi",header:"Operasi",render:T=>X(oe(T)),align:"right",width:"45px"},{key:"keterangan",header:"Status",width:"55px"}],filters:{forklift:{label:"Forklift",options:ce.filter(T=>T.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"}],summaryRows:[{label:"Total Jam Grounded:",getValue:T=>X(T.reduce((L,H)=>L+oe(H.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:T=>X(T.reduce((L,H)=>L+oe(H.jamOperasi),0))+" Jam"}]}),a.jsx(Br,{isOpen:K,onClose:()=>{Y(!1),D("")},sheetName:e==="NPK1"?"timesheet_forklift_NPK1":"timesheet_forklift",recordId:ne,title:"Log Aktivitas Timesheet Forklift"})]})},Qc={tanggal:Mt(),shift:"Malam",deskripsiTemuan:"",jamOff:"",jamStart:"",jamGrounded:0,jamOperasi:0,keterangan:""},Jx=[{value:"Malam",label:"Malam"},{value:"Pagi",label:"Pagi"},{value:"Sore",label:"Sore"},{value:"ALL",label:"Semua Shift"}],RT=e=>e==="Malam"?8:7,IT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(!1),[v,y]=k.useState(null),[x,j]=k.useState(null),[w,N]=k.useState(Qc),[S,P]=k.useState(""),[A,$]=k.useState(!1),[I,E]=k.useState("edit"),[_,U]=k.useState(null),[K,Y]=k.useState(!1),[ne,D]=k.useState(""),R=J=>{D(J),Y(!0)},z=(t==null?void 0:t.role)||"",V=gr(z),Z=k.useCallback(()=>{if(u&&!l){const J=document.querySelector("form");J&&J.requestSubmit()}},[u,l]);tr(Z,u);const B=Sr(z),Q=Nr(z),le=ur(z);k.useEffect(()=>{(async()=>{c(!0);try{const{readData:T,SHEETS:L,getSheetNameByPlant:H}=await Me(async()=>{const{readData:q,SHEETS:M,getSheetNameByPlant:O}=await Promise.resolve().then(()=>$e);return{readData:q,SHEETS:M,getSheetNameByPlant:O}},void 0),te=H(L.TIMESHEET_LOADER,e),C=await T(te);if(C.success&&C.data){const q=C.data.map(M=>({...M,_plant:e})).sort((M,O)=>new Date(O.tanggal).getTime()-new Date(M.tanggal).getTime());o(q)}else o([])}catch(T){console.error("Error fetching data:",T),o([])}finally{c(!1)}})()},[e]),k.useEffect(()=>{if(w.jamOff&&w.jamStart){const J=Q0(w.jamOff,w.jamStart),T=RT(w.shift),L=Math.max(0,T-J),H=L<T?"Grounded":"Operasi";N(te=>({...te,jamGrounded:J,jamOperasi:L,keterangan:H}))}},[w.jamOff,w.jamStart,w.shift]);const ce=async J=>{J.preventDefault(),c(!0);try{const{readData:T,SHEETS:L,getSheetNameByPlant:H}=await Me(async()=>{const{readData:C,SHEETS:q,getSheetNameByPlant:M}=await Promise.resolve().then(()=>$e);return{readData:C,SHEETS:q,getSheetNameByPlant:M}},void 0),te=H(L.TIMESHEET_LOADER,e);if(w.shift==="ALL"&&!v){const C=["Malam","Pagi","Sore"];for(const M of C){const O=RT(M),W=Q0(w.jamOff,w.jamStart),he=Math.max(0,O-W),F=he<O?"Grounded":"Operasi",ie={...w,shift:M,jamGrounded:W,jamOperasi:he,keterangan:F,_plant:e};await r("timesheet_loader",ie)}const q=await T(te);if(q.success&&q.data){const M=q.data.map(O=>({...O,_plant:e})).sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(M)}}else if(v){const C={...w,id:v,_plant:e},q=await n("timesheet_loader",C);if(q.success)o(M=>M.map(O=>O.id===v?{...w,id:v,_plant:e}:O));else throw new Error(q.error||"Gagal mengupdate data")}else{const C={...w,_plant:e},q=await r("timesheet_loader",C);if(q.success&&q.data){const M={...q.data,_plant:e};o(O=>[M,...O])}else throw new Error(q.error||"Gagal menyimpan data")}d(!1),N(Qc),y(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(T){console.error("Error saving data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},pe=J=>{if(B){U(J),E("edit"),$(!0);return}N(J),y(J.id||null),d(!0)},ye=J=>{if(Q){const T=i.find(L=>L.id===J);T&&(U(T),E("delete"),$(!0));return}j(J),h(!0)},ue=async J=>{if(!(!_||!t)){c(!0);try{const T="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",L={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:I,targetSheet:"TIMESHEET_LOADER",targetId:_.id,targetData:JSON.stringify(_),reason:J,status:"pending",requestedAt:new Date().toISOString()}};await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L),mode:"no-cors"}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),$(!1),U(null)}catch(T){console.error("Error submitting approval:",T),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ve=async()=>{if(x){c(!0);try{const J=await s("timesheet_loader",{id:x,_plant:e});if(J.success)o(T=>T.filter(L=>L.id!==x)),h(!1),j(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(J.error||"Gagal menghapus data")}catch(J){console.error("Error deleting data:",J),alert(J instanceof Error?J.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ae=()=>{N(Qc),y(null),d(!0)},G=i.filter(J=>{var L,H,te;return((L=J.tanggal)==null?void 0:L.includes(S))||((H=J.shift)==null?void 0:H.toLowerCase().includes(S.toLowerCase()))||((te=J.deskripsiTemuan)==null?void 0:te.toLowerCase().includes(S.toLowerCase()))}),ge=[{key:"tanggal",header:"Tanggal",sortable:!0,render:J=>Ve(J)},{key:"shift",header:"Shift",render:J=>a.jsx(Ae,{variant:J==="Malam"?"primary":J==="Pagi"?"success":"warning",children:J})},{key:"deskripsiTemuan",header:"Deskripsi Temuan"},{key:"jamOff",header:"Jam Off",render:J=>nn(J)},{key:"jamStart",header:"Jam Start",render:J=>nn(J)},{key:"jamGrounded",header:"Jam Grounded",render:J=>a.jsx("span",{className:"font-semibold text-amber-600",children:X(oe(J))})},{key:"jamOperasi",header:"Jam Operasi",render:J=>a.jsx("span",{className:"font-semibold text-secondary-600",children:X(oe(J))})},{key:"keterangan",header:"Status",render:J=>a.jsx(Ae,{variant:J==="Operasi"?"success":"warning",children:J})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Timesheet Loader"}),a.jsx(Ae,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Kelola data timesheet loader harian untuk ",e]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(se,{variant:"secondary",size:"sm",onClick:()=>b(!0),children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),V&&a.jsxs(se,{onClick:ae,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Grounded"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[X(G.reduce((J,T)=>J+oe(T.jamGrounded),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Jam Operasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[X(G.reduce((J,T)=>J+oe(T.jamOperasi),0))," ","Jam"]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Shift"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]}),a.jsxs(ke,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:G.length})]})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Timesheet Loader"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:S,onChange:J=>P(J.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:G,columns:ge,loading:l,searchable:!1,actions:le?J=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),R(J.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):J=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),R(J.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),pe(J)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),ye(J.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),N(Qc),y(null)},title:v?"Edit Timesheet Loader":"Tambah Timesheet Loader",size:"md",children:a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:w.tanggal,onChange:J=>N(T=>({...T,tanggal:J.target.value})),required:!0}),a.jsx(ze,{label:"Shift",value:w.shift,onChange:J=>N(T=>({...T,shift:J.target.value})),options:v?Jx.filter(J=>J.value!=="ALL"):Jx,required:!0}),a.jsx(fe,{label:"Deskripsi Temuan",type:"text",value:w.deskripsiTemuan,onChange:J=>N(T=>({...T,deskripsiTemuan:J.target.value})),placeholder:"Deskripsi temuan/kejadian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Jam Off",type:"time",value:w.jamOff,onChange:J=>N(T=>({...T,jamOff:J.target.value})),required:!0}),a.jsx(fe,{label:"Jam Start",type:"time",value:w.jamStart,onChange:J=>N(T=>({...T,jamStart:J.target.value})),required:!0})]}),a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Grounded:"}),a.jsxs("span",{className:"font-semibold text-amber-600",children:[X(w.jamGrounded||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:"Jam Operasi:"}),a.jsxs("span",{className:"font-semibold text-secondary-600",children:[X(w.jamOperasi||0)," Jam"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-dark-700 font-medium",children:"Status:"}),a.jsx(Ae,{variant:w.keterangan==="Operasi"?"success":"warning",children:w.keterangan||"-"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),N(Qc),y(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:v?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),j(null)},onConfirm:ve,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:A,onClose:()=>{$(!1),U(null)},onSubmit:ue,action:I,loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(uc,{isOpen:m,onClose:()=>b(!1),title:"Timesheet Loader",plant:e==="NPK1"?"NPK Plant 1":"NPK Plant 2",data:i,compactMode:!0,columns:[{key:"tanggal",header:"Tanggal",render:J=>Ve(J),width:"75px"},{key:"shift",header:"Shift",width:"55px"},{key:"deskripsiTemuan",header:"Deskripsi Temuan",width:"auto"},{key:"jamOff",header:"Jam Off",render:J=>nn(J),width:"55px"},{key:"jamStart",header:"Jam Start",render:J=>nn(J),width:"60px"},{key:"jamGrounded",header:"Grounded",render:J=>X(oe(J)),align:"right",width:"60px"},{key:"jamOperasi",header:"Operasi",render:J=>X(oe(J)),align:"right",width:"55px"},{key:"keterangan",header:"Status",width:"65px"}],filters:{shift:{label:"Shift",options:Jx.filter(J=>J.value!=="ALL")}},signatures:[{role:"mengetahui",label:"Mengetahui"},{role:"menyetujui",label:"Menyetujui"},{role:"operator",label:"Operator Loader"}],summaryRows:[{label:"Total Jam Grounded:",getValue:J=>X(J.reduce((T,L)=>T+oe(L.jamGrounded),0))+" Jam"},{label:"Total Jam Operasi:",getValue:J=>X(J.reduce((T,L)=>T+oe(L.jamOperasi),0))+" Jam"}]}),a.jsx(Br,{isOpen:K,onClose:()=>{Y(!1),D("")},sheetName:e==="NPK1"?"timesheet_loader_NPK1":"timesheet_loader",recordId:ne,title:"Log Aktivitas Timesheet Loader"})]})},Xx={sectionHead:"",operatorPanel:""},Dr={malam:"",pagi:"",sore:""},Ze={awal:"",akhir:""},Qx={tanggal:Mt(),jenisOperasi:"NORMAL OPERASI",shiftMalam:{...Xx},shiftPagi:{...Xx},shiftSore:{...Xx},steamMalam:{...Ze},steamPagi:{...Ze},steamSore:{...Ze},gasMalam:{...Ze},gasPagi:{...Ze},gasSore:{...Ze},kursDollar:"16000",dryerTempProdukOut:{...Dr},produkN:{...Dr},produkP:{...Dr},produkK:{...Dr},produkMoisture:{...Dr},produkKekerasan:{...Dr},produkTimbangan:{...Dr},produkTonase:{...Dr}},p3=["shiftMalam","shiftPagi","shiftSore","steamMalam","steamPagi","steamSore","gasMalam","gasPagi","gasSore","dryerTempProdukOut","produkN","produkP","produkK","produkMoisture","produkKekerasan","produkTimbangan","produkTonase"],LT=e=>{const t={...e};return p3.forEach(r=>{t[r]&&typeof t[r]=="object"&&(t[r]=JSON.stringify(t[r]))}),t},ape=e=>{const t={...e};return p3.forEach(r=>{if(t[r]&&typeof t[r]=="string")try{t[r]=JSON.parse(t[r])}catch{const n=t[r];if(n.startsWith("{")&&n.includes("=")){const s={};n.slice(1,-1).split(", ").forEach(l=>{const[c,u]=l.split("=");c&&u!==void 0&&(s[c.trim()]=u.trim())}),t[r]=s}}}),t},pt={folwSteam:{label:"0.5 - 2.5"},flowGas:{label:"200 - 300"},tempProdukOut:{label:"55 - 70"},produkN:{label:"13.8 - 16.2"},produkP:{label:"9.2 - 10.2"},produkK:{label:"11.04 - 12.96"},moisture:{label:"Maks. 3"},kekerasan:{label:"Min. 1"},timbangan:{label:"50.00 - 50.3"},tonase:{label:"Min 110 Ton/Shift"}},zr=e=>{const t=oe(e.awal||"0"),n=oe(e.akhir||"0")-t,s=n/8/1e3;return{selisih:n,flowPerHour:s,costRp:0}},Vr=e=>{const t=oe(e.awal||"0"),n=oe(e.akhir||"0")-t,s=n/8;return{selisih:n,flowPerHour:s,costRp:0}},Hr=e=>e/1e3*266263,Ur=(e,t)=>e*.02831*1043.3294/1e6*5.65*t*8,vl=(e,t,r=2)=>(Math.random()*(t-e)+e).toFixed(r),BT=()=>({malam:vl(55,70,1),pagi:vl(55,70,1),sore:vl(55,70,1)}),FT=()=>({malam:vl(50,50.3,2),pagi:vl(50,50.3,2),sore:vl(50,50.3,2)}),Is=({label:e,target:t,value:r,onChange:n,indikator:s,satuan:i})=>a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700",children:e}),a.jsxs("p",{className:"text-xs text-dark-400",children:[s," | ",i]})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:t})}),a.jsx("div",{children:a.jsx(fe,{type:"text",placeholder:"Malam",value:r.malam,onChange:o=>n({...r,malam:o.target.value}),className:"text-sm"})}),a.jsx("div",{children:a.jsx(fe,{type:"text",placeholder:"Pagi",value:r.pagi,onChange:o=>n({...r,pagi:o.target.value}),className:"text-sm"})}),a.jsx("div",{children:a.jsx(fe,{type:"text",placeholder:"Sore",value:r.sore,onChange:o=>n({...r,sore:o.target.value}),className:"text-sm"})}),a.jsx("div",{})]}),KT=({plant:e})=>{var Co,Ti,de,be,De,Ye,Fr,vr,gt,rt,Or,Pn,_e,_o,df,ff,Pg,Tw,Ow,Aw,Ew,Cw;const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(!1),[v,y]=k.useState(null),[x,j]=k.useState(null),[w,N]=k.useState(null),[S,P]=k.useState(Qx),[A,$]=k.useState(""),[I,E]=k.useState(""),[_,U]=k.useState(!1),[K,Y]=k.useState(null),[ne,D]=k.useState(!1),[R,z]=k.useState(""),V=re=>{z(re),D(!0)},[Z,B]=k.useState(!1),[Q,le]=k.useState(""),[ce,pe]=k.useState(!1),[ye,ue]=k.useState("edit"),[ve,ae]=k.useState(null),[G,ge]=k.useState({steamMalam:{selisih:0,flowPerHour:0,costRp:0},steamPagi:{selisih:0,flowPerHour:0,costRp:0},steamSore:{selisih:0,flowPerHour:0,costRp:0},gasMalam:{selisih:0,flowPerHour:0,costRp:0},gasPagi:{selisih:0,flowPerHour:0,costRp:0},gasSore:{selisih:0,flowPerHour:0,costRp:0},totalSteamRp:0,totalGasRp:0}),[J,T]=k.useState(!1),[L,H]=k.useState(""),te=(t==null?void 0:t.role)||"",C=gr(te),q=Sr(te),M=Nr(te),O=ur(te),W=k.useCallback(async()=>{T(!0),H("");try{const{getExchangeRate:re}=await Me(async()=>{const{getExchangeRate:Ce}=await Promise.resolve().then(()=>$e);return{getExchangeRate:Ce}},void 0),Pe=await re();Pe.success&&Pe.data?(P(Ce=>({...Ce,kursDollar:Pe.data.rate.toString()})),H(` Kurs diupdate: ${Pe.data.formatted}`)):H(" Gagal mengambil kurs, gunakan manual")}catch(re){console.error("Error fetching exchange rate:",re),H(" Gagal mengambil kurs, gunakan manual")}finally{T(!1)}},[]);k.useEffect(()=>{u&&!x&&W()},[u,x,W]);const he=k.useCallback(()=>{if(u&&!l){const re=document.querySelector("form");re&&re.requestSubmit()}},[u,l]);tr(he,u);const F=[{value:"NORMAL OPERASI",label:"NORMAL OPERASI"},{value:"ABNORMAL",label:"ABNORMAL"},{value:"SHUTDOWN",label:"SHUTDOWN"},{value:"START UP",label:"START UP"}];k.useEffect(()=>{const re=oe(S.kursDollar||"16000"),Pe=zr(S.steamMalam||Ze),Ce=zr(S.steamPagi||Ze),Je=zr(S.steamSore||Ze),Xe=Vr(S.gasMalam||Ze),nt=Vr(S.gasPagi||Ze),ct=Vr(S.gasSore||Ze);Pe.costRp=Hr(Pe.selisih),Ce.costRp=Hr(Ce.selisih),Je.costRp=Hr(Je.selisih),Xe.costRp=Ur(Xe.selisih,re),nt.costRp=Ur(nt.selisih,re),ct.costRp=Ur(ct.selisih,re);const St=Pe.costRp+Ce.costRp+Je.costRp,rr=Xe.costRp+nt.costRp+ct.costRp;ge({steamMalam:Pe,steamPagi:Ce,steamSore:Je,gasMalam:Xe,gasPagi:nt,gasSore:ct,totalSteamRp:St,totalGasRp:rr})},[S.steamMalam,S.steamPagi,S.steamSore,S.gasMalam,S.gasPagi,S.gasSore,S.kursDollar]),k.useEffect(()=>{var re;(re=S.steamMalam)!=null&&re.akhir&&P(Pe=>{var Ce;return{...Pe,steamPagi:{...Pe.steamPagi,awal:((Ce=Pe.steamMalam)==null?void 0:Ce.akhir)||""}}})},[(Co=S.steamMalam)==null?void 0:Co.akhir]),k.useEffect(()=>{var re;(re=S.steamPagi)!=null&&re.akhir&&P(Pe=>{var Ce;return{...Pe,steamSore:{...Pe.steamSore,awal:((Ce=Pe.steamPagi)==null?void 0:Ce.akhir)||""}}})},[(Ti=S.steamPagi)==null?void 0:Ti.akhir]),k.useEffect(()=>{var re;(re=S.gasMalam)!=null&&re.akhir&&P(Pe=>{var Ce;return{...Pe,gasPagi:{...Pe.gasPagi,awal:((Ce=Pe.gasMalam)==null?void 0:Ce.akhir)||""}}})},[(de=S.gasMalam)==null?void 0:de.akhir]),k.useEffect(()=>{var re;(re=S.gasPagi)!=null&&re.akhir&&P(Pe=>{var Ce;return{...Pe,gasSore:{...Pe.gasSore,awal:((Ce=Pe.gasPagi)==null?void 0:Ce.akhir)||""}}})},[(be=S.gasPagi)==null?void 0:be.akhir]);const ie=()=>{P(re=>({...re,dryerTempProdukOut:BT(),produkTimbangan:FT()}))};k.useEffect(()=>{(async()=>{c(!0);try{const{readData:Pe,SHEETS:Ce,getSheetNameByPlant:Je}=await Me(async()=>{const{readData:ct,SHEETS:St,getSheetNameByPlant:rr}=await Promise.resolve().then(()=>$e);return{readData:ct,SHEETS:St,getSheetNameByPlant:rr}},void 0),Xe=Je(Ce.KOP,e),nt=await Pe(Xe);if(nt.success&&nt.data){const ct=nt.data.map(St=>({...ape(St),_plant:e})).sort((St,rr)=>new Date(rr.tanggal).getTime()-new Date(St.tanggal).getTime());o(ct)}else o([])}catch(Pe){console.error("Error fetching KOP data:",Pe),o([])}finally{c(!1)}})()},[e]);const me=async re=>{re.preventDefault(),c(!0);try{if(x){const Pe=LT({...S,id:x,_plant:e}),Ce=await n("kop",Pe);if(Ce.success)o(Je=>Je.map(Xe=>Xe.id===x?{...S,id:x,_plant:e}:Xe));else throw new Error(Ce.error||"Gagal mengupdate data")}else{const Pe=LT({...S,_plant:e}),Ce=await r("kop",Pe);if(Ce.success&&Ce.data){const Je={...S,_plant:e};Ce.data.id&&(Je.id=Ce.data.id),o(Xe=>[Je,...Xe])}else throw new Error(Ce.error||"Gagal menyimpan data")}d(!1),P(Qx),j(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(Pe){console.error("Error saving KOP data:",Pe),alert(Pe instanceof Error?Pe.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},Ne=re=>{Y(re),U(!0)},Ie=re=>{if(q){ae(re),ue("edit"),pe(!0);return}P(re),j(re.id||null),d(!0)},qe=re=>{if(M){const Pe=i.find(Ce=>Ce.id===re);Pe&&(ae(Pe),ue("delete"),pe(!0));return}N(re),h(!0)},Et=async()=>{if(w){c(!0);try{const re=await s("kop",{id:w,_plant:e});if(re.success)o(Pe=>Pe.filter(Ce=>Ce.id!==w)),h(!1),N(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(re.error||"Gagal menghapus data")}catch(re){console.error("Error deleting KOP data:",re),alert(re instanceof Error?re.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},tt=async re=>{if(!(!ve||!t)){c(!0);try{const{createData:Pe,SHEETS:Ce}=await Me(async()=>{const{createData:Je,SHEETS:Xe}=await Promise.resolve().then(()=>$e);return{createData:Je,SHEETS:Xe}},void 0);await Pe(Ce.APPROVAL_REQUESTS,{requestedBy:t.nama||t.namaLengkap,requestedByRole:t.role,requestedByPlant:t.plant,actionType:ye,targetSheet:"KOP",targetId:ve.id,targetData:JSON.stringify(ve),reason:re,status:"pending",requestedAt:new Date().toISOString()}),alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),pe(!1),ae(null)}catch(Pe){console.error("Error submitting approval:",Pe),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},Bt=()=>{P({...Qx,tanggal:Mt(),dryerTempProdukOut:BT(),produkTimbangan:FT()}),j(null),d(!0)},ca=re=>{y(re),b(!0)},Pa=()=>{var Kr,Hn,Un,ss,is,os,ls,cs,us,ds,fs,hs,ps,ms,gs,xs,vs,ys,bs,ks,ws,js,Ss,Ns,Ps,Ts,Os,As,Es,Cs,_s,Ds,Sc;if(!v)return;const re=window.open("","_blank");if(!re)return;const Pe=oe(v.kursDollar||"16000"),Ce=zr(v.steamMalam||Ze),Je=zr(v.steamPagi||Ze),Xe=zr(v.steamSore||Ze);Ce.costRp=Hr(Ce.selisih),Je.costRp=Hr(Je.selisih),Xe.costRp=Hr(Xe.selisih);const nt=Vr(v.gasMalam||Ze),ct=Vr(v.gasPagi||Ze),St=Vr(v.gasSore||Ze);nt.costRp=Ur(nt.selisih,Pe),ct.costRp=Ur(ct.selisih,Pe),St.costRp=Ur(St.selisih,Pe);const rr=Ce.costRp+Je.costRp+Xe.costRp,Vn=nt.costRp+ct.costRp+St.costRp,Ta=oe(((Kr=v.produkTonase)==null?void 0:Kr.malam)||"0")+oe(((Hn=v.produkTonase)==null?void 0:Hn.pagi)||"0")+oe(((Un=v.produkTonase)==null?void 0:Un.sore)||"0");re.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>KOP - ${Ve(v.tanggal)}</title>
        <style>
          @page { size: A4 landscape; margin: 10mm; }
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 9pt; color: #000; }
          .container { width: 100%; }
          .header { display: flex; justify-content: space-between; margin-bottom: 10px; }
          .header-left { font-weight: bold; }
          .header-right { text-align: right; }
          .title { font-size: 11pt; font-weight: bold; margin-bottom: 3px; }
          .subtitle { font-size: 9pt; color: #333; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 8px; }
          th, td { border: 1px solid #000; padding: 3px 5px; text-align: center; font-size: 8pt; }
          th { background-color: #f0f0f0; font-weight: bold; }
          .section-header { background-color: #e8e8e8; font-weight: bold; text-align: left !important; }
          .param-name { text-align: left !important; }
          .number { text-align: right !important; }
          .highlight-cyan { background-color: #E0F7FA; }
          .highlight-blue { background-color: #E3F2FD; }
          .highlight-orange { background-color: #FFF3E0; }
          .summary { margin-top: 15px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-left">
              <div class="title">KEY OPERATING PARAMETER (KOP)</div>
              <div class="subtitle">${v.jenisOperasi}</div>
              <div class="subtitle">PABRIK NPK GRANULAR ${e==="NPK1"?"1":"2"}</div>
            </div>
            <div class="header-right">
              <div class="title">${Ve(v.tanggal)}</div>
              <table style="width: auto; margin-left: auto;">
                <tr>
                  <th></th>
                  <th>23:00 - 07:00</th>
                  <th>07:00 - 15:00</th>
                  <th>15:00 - 23:00</th>
                </tr>
                <tr>
                  <td class="param-name"><strong>Section Head</strong></td>
                  <td class="highlight-cyan">${((ss=v.shiftMalam)==null?void 0:ss.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((is=v.shiftPagi)==null?void 0:is.sectionHead)||""}</td>
                  <td class="highlight-cyan">${((os=v.shiftSore)==null?void 0:os.sectionHead)||""}</td>
                </tr>
                <tr>
                  <td class="param-name"><strong>Operator Panel</strong></td>
                  <td class="highlight-cyan">${((ls=v.shiftMalam)==null?void 0:ls.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((cs=v.shiftPagi)==null?void 0:cs.operatorPanel)||""}</td>
                  <td class="highlight-cyan">${((us=v.shiftSore)==null?void 0:us.operatorPanel)||""}</td>
                </tr>
              </table>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 30px;">NO</th>
                <th style="width: 150px;">PARAMETER</th>
                <th style="width: 80px;">INDIKATOR</th>
                <th style="width: 70px;">SATUAN</th>
                <th style="width: 90px;">TARGET</th>
                <th colspan="3">AKTUAL</th>
              </tr>
              <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>MALAM</th>
                <th>PAGI</th>
                <th>SORE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td class="section-header" colspan="7">Granulator</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">1.1. Flow Steam</td>
                <td>FI</td>
                <td>M3/H</td>
                <td>${pt.folwSteam.label}</td>
                <td class="highlight-blue"><strong>${Ce.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Je.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-blue"><strong>${Xe.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td>2</td>
                <td class="section-header" colspan="7">Dryer</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.1. Flow Gas</td>
                <td>FT-202</td>
                <td>NM3/H</td>
                <td>${pt.flowGas.label}</td>
                <td class="highlight-orange"><strong>${nt.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${ct.flowPerHour.toFixed(2)}</strong></td>
                <td class="highlight-orange"><strong>${St.flowPerHour.toFixed(2)}</strong></td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">2.2. Temperatur Produk Out</td>
                <td>Temp R-002</td>
                <td>Deg.C</td>
                <td>${pt.tempProdukOut.label}</td>
                <td>${((ds=v.dryerTempProdukOut)==null?void 0:ds.malam)||""}</td>
                <td>${((fs=v.dryerTempProdukOut)==null?void 0:fs.pagi)||""}</td>
                <td>${((hs=v.dryerTempProdukOut)==null?void 0:hs.sore)||""}</td>
              </tr>
              <tr>
                <td>3</td>
                <td class="section-header" colspan="7">Produk NPK (15-10-12)</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.1. N</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${pt.produkN.label}</td>
                <td>${((ps=v.produkN)==null?void 0:ps.malam)||""}</td>
                <td>${((ms=v.produkN)==null?void 0:ms.pagi)||""}</td>
                <td>${((gs=v.produkN)==null?void 0:gs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.2. P</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${pt.produkP.label}</td>
                <td>${((xs=v.produkP)==null?void 0:xs.malam)||""}</td>
                <td>${((vs=v.produkP)==null?void 0:vs.pagi)||""}</td>
                <td>${((ys=v.produkP)==null?void 0:ys.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.3. K</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${pt.produkK.label}</td>
                <td>${((bs=v.produkK)==null?void 0:bs.malam)||""}</td>
                <td>${((ks=v.produkK)==null?void 0:ks.pagi)||""}</td>
                <td>${((ws=v.produkK)==null?void 0:ws.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.4. Moisture (H2O)</td>
                <td>Laporan LAB</td>
                <td>%</td>
                <td>${pt.moisture.label}</td>
                <td>${((js=v.produkMoisture)==null?void 0:js.malam)||""}</td>
                <td>${((Ss=v.produkMoisture)==null?void 0:Ss.pagi)||""}</td>
                <td>${((Ns=v.produkMoisture)==null?void 0:Ns.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.5. Kekerasan</td>
                <td>Laporan LAB</td>
                <td>Kgf</td>
                <td>${pt.kekerasan.label}</td>
                <td>${((Ps=v.produkKekerasan)==null?void 0:Ps.malam)||""}</td>
                <td>${((Ts=v.produkKekerasan)==null?void 0:Ts.pagi)||""}</td>
                <td>${((Os=v.produkKekerasan)==null?void 0:Os.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.6. Timbangan</td>
                <td>Laporan Shift</td>
                <td>Kg / Karung</td>
                <td>${pt.timbangan.label}</td>
                <td>${((As=v.produkTimbangan)==null?void 0:As.malam)||""}</td>
                <td>${((Es=v.produkTimbangan)==null?void 0:Es.pagi)||""}</td>
                <td>${((Cs=v.produkTimbangan)==null?void 0:Cs.sore)||""}</td>
              </tr>
              <tr>
                <td></td>
                <td class="param-name">3.7. Tonase</td>
                <td>Laporan Shift</td>
                <td>Tonase / Shift</td>
                <td>${pt.tonase.label}</td>
                <td><strong>${((_s=v.produkTonase)==null?void 0:_s.malam)||""} TON</strong></td>
                <td><strong>${((Ds=v.produkTonase)==null?void 0:Ds.pagi)||""} TON</strong></td>
                <td><strong>${((Sc=v.produkTonase)==null?void 0:Sc.sore)||""} TON</strong></td>
              </tr>
            </tbody>
          </table>

          <!-- Konsumsi Energi Detail -->
          <table style="margin-top: 15px; width: 48%; display: inline-table;">
            <tr>
              <th colspan="4" style="background-color: #E3F2FD;">KONSUMSI STEAM (M3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (M3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${X(Ce.selisih)}</td>
              <td>${Ce.flowPerHour.toFixed(2)}</td>
              <td class="number">${X(Ce.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${X(Je.selisih)}</td>
              <td>${Je.flowPerHour.toFixed(2)}</td>
              <td class="number">${X(Je.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${X(Xe.selisih)}</td>
              <td>${Xe.flowPerHour.toFixed(2)}</td>
              <td class="number">${X(Xe.costRp)}</td>
            </tr>
            <tr style="background-color: #E3F2FD;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${X(rr)}</strong></td>
            </tr>
          </table>

          <table style="margin-top: 15px; width: 48%; display: inline-table; margin-left: 2%;">
            <tr>
              <th colspan="4" style="background-color: #FFF3E0;">KONSUMSI GAS (Nm3)</th>
            </tr>
            <tr>
              <th>Shift</th>
              <th>Selisih</th>
              <th>Flow (Nm3/H)</th>
              <th>Biaya (Rp)</th>
            </tr>
            <tr>
              <td>Malam</td>
              <td>${X(nt.selisih)}</td>
              <td>${nt.flowPerHour.toFixed(2)}</td>
              <td class="number">${X(nt.costRp)}</td>
            </tr>
            <tr>
              <td>Pagi</td>
              <td>${X(ct.selisih)}</td>
              <td>${ct.flowPerHour.toFixed(2)}</td>
              <td class="number">${X(ct.costRp)}</td>
            </tr>
            <tr>
              <td>Sore</td>
              <td>${X(St.selisih)}</td>
              <td>${St.flowPerHour.toFixed(2)}</td>
              <td class="number">${X(St.costRp)}</td>
            </tr>
            <tr style="background-color: #FFF3E0;">
              <td colspan="3"><strong>Total</strong></td>
              <td class="number"><strong>Rp ${X(Vn)}</strong></td>
            </tr>
          </table>

          <div class="summary">
            <table style="width: auto;">
              <tr>
                <td style="border: none;"><strong>* Total Steam Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${X(rr)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Gas Dalam Satu Hari</strong></td>
                <td style="border: none;">Rp</td>
                <td style="border: none; text-align: right;"><strong>${X(Vn)}</strong></td>
              </tr>
              <tr>
                <td style="border: none;"><strong>* Total Tonase</strong></td>
                <td style="border: none;"></td>
                <td style="border: none; text-align: right;"><strong>${X(Ta)} TON</strong></td>
              </tr>
              <tr>
                <td style="border: none; font-size: 7pt; color: #666;">Kurs Dollar: Rp ${X(Pe)}</td>
                <td style="border: none;"></td>
                <td style="border: none;"></td>
              </tr>
            </table>
          </div>
        </div>
      </body>
      </html>
    `),re.document.close(),re.focus(),setTimeout(()=>{re.print(),re.close()},250),b(!1)},Eo=()=>{var Hn,Un,ss,is,os,ls,cs,us,ds,fs,hs,ps,ms,gs,xs,vs,ys,bs,ks,ws,js,Ss,Ns,Ps,Ts,Os,As,Es,Cs,_s,Ds,Sc,_w,Dw,Mw,$w,Rw,Iw,Lw,Bw,Fw,Kw,zw,Vw,Hw;if(!Q){alert("Pilih tanggal terlebih dahulu");return}const re=i.find(g3=>g3.tanggal===Q);if(!re){alert("Data tidak ditemukan untuk tanggal tersebut");return}const Pe=oe(re.kursDollar||"16000"),Ce=zr(re.steamMalam||Ze),Je=zr(re.steamPagi||Ze),Xe=zr(re.steamSore||Ze);Ce.costRp=Hr(Ce.selisih),Je.costRp=Hr(Je.selisih),Xe.costRp=Hr(Xe.selisih);const nt=Vr(re.gasMalam||Ze),ct=Vr(re.gasPagi||Ze),St=Vr(re.gasSore||Ze);nt.costRp=Ur(nt.selisih,Pe),ct.costRp=Ur(ct.selisih,Pe),St.costRp=Ur(St.selisih,Pe);const rr=Ce.costRp+Je.costRp+Xe.costRp,Vn=nt.costRp+ct.costRp+St.costRp,Ta=oe(((Hn=re.produkTonase)==null?void 0:Hn.malam)||"0")+oe(((Un=re.produkTonase)==null?void 0:Un.pagi)||"0")+oe(((ss=re.produkTonase)==null?void 0:ss.sore)||"0"),Kr=window.open("","_blank");Kr&&(Kr.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan KOP - ${Ve(re.tanggal)}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; font-size: 10px; padding: 15px; }
          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }
          .header h1 { font-size: 16px; margin-bottom: 5px; }
          .header h2 { font-size: 12px; font-weight: normal; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 11px; }
          .section { margin-bottom: 15px; }
          .section-title { background: #f0f0f0; padding: 5px 10px; font-weight: bold; font-size: 11px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; font-size: 10px; }
          th, td { border: 1px solid #333; padding: 4px 6px; text-align: center; }
          th { background: #e0e0e0; font-weight: bold; }
          .text-left { text-align: left; }
          .text-right { text-align: right; }
          .highlight { background: #fffde7; }
          .total-row { background: #e3f2fd; font-weight: bold; }
          .cost { color: #2e7d32; }
          .footer { margin-top: 20px; display: flex; justify-content: space-between; }
          .signature { width: 30%; text-align: center; }
          .signature-line { border-top: 1px solid #000; margin-top: 50px; padding-top: 5px; }
          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>LAPORAN KEY OPERATING PARAMETER (KOP)</h1>
          <h2>PT PUPUK KUJANG CIKAMPEK - Pabrik NPK Granular ${e==="NPK1"?"1":"2"}</h2>
        </div>

        <div class="info-row">
          <div><strong>Tanggal:</strong> ${Ve(re.tanggal)}</div>
          <div><strong>Jenis Operasi:</strong> ${re.jenisOperasi}</div>
          <div><strong>Kurs Dollar:</strong> Rp ${X(Pe)}</div>
        </div>

        <!-- Personel Section -->
        <div class="section">
          <div class="section-title">PERSONEL</div>
          <table>
            <thead>
              <tr>
                <th>Shift</th>
                <th>Section Head</th>
                <th>Operator Panel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Malam (23:00 - 07:00)</td>
                <td>${((is=re.shiftMalam)==null?void 0:is.sectionHead)||"-"}</td>
                <td>${((os=re.shiftMalam)==null?void 0:os.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Pagi (07:00 - 15:00)</td>
                <td>${((ls=re.shiftPagi)==null?void 0:ls.sectionHead)||"-"}</td>
                <td>${((cs=re.shiftPagi)==null?void 0:cs.operatorPanel)||"-"}</td>
              </tr>
              <tr>
                <td>Sore (15:00 - 23:00)</td>
                <td>${((us=re.shiftSore)==null?void 0:us.sectionHead)||"-"}</td>
                <td>${((ds=re.shiftSore)==null?void 0:ds.operatorPanel)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Konsumsi Energi Section -->
        <div class="section">
          <div class="section-title">KONSUMSI ENERGI</div>
          <table>
            <thead>
              <tr>
                <th rowspan="2">Parameter</th>
                <th colspan="3">Shift Malam</th>
                <th colspan="3">Shift Pagi</th>
                <th colspan="3">Shift Sore</th>
                <th rowspan="2">Total Biaya (Rp)</th>
              </tr>
              <tr>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
                <th>Awal</th>
                <th>Akhir</th>
                <th>Flow</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left"><strong>Steam (M3)</strong></td>
                <td>${X(oe(((fs=re.steamMalam)==null?void 0:fs.awal)||"0"))}</td>
                <td>${X(oe(((hs=re.steamMalam)==null?void 0:hs.akhir)||"0"))}</td>
                <td>${Ce.flowPerHour.toFixed(2)}</td>
                <td>${X(oe(((ps=re.steamPagi)==null?void 0:ps.awal)||"0"))}</td>
                <td>${X(oe(((ms=re.steamPagi)==null?void 0:ms.akhir)||"0"))}</td>
                <td>${Je.flowPerHour.toFixed(2)}</td>
                <td>${X(oe(((gs=re.steamSore)==null?void 0:gs.awal)||"0"))}</td>
                <td>${X(oe(((xs=re.steamSore)==null?void 0:xs.akhir)||"0"))}</td>
                <td>${Xe.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${X(rr)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Gas (Nm3)</strong></td>
                <td>${X(oe(((vs=re.gasMalam)==null?void 0:vs.awal)||"0"))}</td>
                <td>${X(oe(((ys=re.gasMalam)==null?void 0:ys.akhir)||"0"))}</td>
                <td>${nt.flowPerHour.toFixed(2)}</td>
                <td>${X(oe(((bs=re.gasPagi)==null?void 0:bs.awal)||"0"))}</td>
                <td>${X(oe(((ks=re.gasPagi)==null?void 0:ks.akhir)||"0"))}</td>
                <td>${ct.flowPerHour.toFixed(2)}</td>
                <td>${X(oe(((ws=re.gasSore)==null?void 0:ws.awal)||"0"))}</td>
                <td>${X(oe(((js=re.gasSore)==null?void 0:js.akhir)||"0"))}</td>
                <td>${St.flowPerHour.toFixed(2)}</td>
                <td class="cost">Rp ${X(Vn)}</td>
              </tr>
              <tr class="total-row">
                <td colspan="10" class="text-right">Total Biaya Energi:</td>
                <td class="cost">Rp ${X(rr+Vn)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Parameter Operasi Section -->
        <div class="section">
          <div class="section-title">PARAMETER OPERASI</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">Temperatur Produk Out (C)</td>
                <td>55 - 70</td>
                <td>${((Ss=re.dryerTempProdukOut)==null?void 0:Ss.malam)||"-"}</td>
                <td>${((Ns=re.dryerTempProdukOut)==null?void 0:Ns.pagi)||"-"}</td>
                <td>${((Ps=re.dryerTempProdukOut)==null?void 0:Ps.sore)||"-"}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Produk NPK Section -->
        <div class="section">
          <div class="section-title">PRODUK NPK (15-10-12)</div>
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Target</th>
                <th>Malam</th>
                <th>Pagi</th>
                <th>Sore</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left">N (%)</td>
                <td>13.8 - 16.2</td>
                <td>${((Ts=re.produkN)==null?void 0:Ts.malam)||"-"}</td>
                <td>${((Os=re.produkN)==null?void 0:Os.pagi)||"-"}</td>
                <td>${((As=re.produkN)==null?void 0:As.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">P (%)</td>
                <td>9.2 - 10.2</td>
                <td>${((Es=re.produkP)==null?void 0:Es.malam)||"-"}</td>
                <td>${((Cs=re.produkP)==null?void 0:Cs.pagi)||"-"}</td>
                <td>${((_s=re.produkP)==null?void 0:_s.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">K (%)</td>
                <td>11.04 - 12.96</td>
                <td>${((Ds=re.produkK)==null?void 0:Ds.malam)||"-"}</td>
                <td>${((Sc=re.produkK)==null?void 0:Sc.pagi)||"-"}</td>
                <td>${((_w=re.produkK)==null?void 0:_w.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Moisture (%)</td>
                <td>Maks. 3</td>
                <td>${((Dw=re.produkMoisture)==null?void 0:Dw.malam)||"-"}</td>
                <td>${((Mw=re.produkMoisture)==null?void 0:Mw.pagi)||"-"}</td>
                <td>${(($w=re.produkMoisture)==null?void 0:$w.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Kekerasan (Kgf)</td>
                <td>Min. 1</td>
                <td>${((Rw=re.produkKekerasan)==null?void 0:Rw.malam)||"-"}</td>
                <td>${((Iw=re.produkKekerasan)==null?void 0:Iw.pagi)||"-"}</td>
                <td>${((Lw=re.produkKekerasan)==null?void 0:Lw.sore)||"-"}</td>
              </tr>
              <tr>
                <td class="text-left">Timbangan (Kg/Karung)</td>
                <td>50.00 - 50.3</td>
                <td>${((Bw=re.produkTimbangan)==null?void 0:Bw.malam)||"-"}</td>
                <td>${((Fw=re.produkTimbangan)==null?void 0:Fw.pagi)||"-"}</td>
                <td>${((Kw=re.produkTimbangan)==null?void 0:Kw.sore)||"-"}</td>
              </tr>
              <tr class="highlight">
                <td class="text-left"><strong>Tonase (Ton/Shift)</strong></td>
                <td>Min 110</td>
                <td><strong>${((zw=re.produkTonase)==null?void 0:zw.malam)||"-"}</strong></td>
                <td><strong>${((Vw=re.produkTonase)==null?void 0:Vw.pagi)||"-"}</strong></td>
                <td><strong>${((Hw=re.produkTonase)==null?void 0:Hw.sore)||"-"}</strong></td>
              </tr>
              <tr class="total-row">
                <td colspan="2" class="text-right"><strong>Total Tonase:</strong></td>
                <td colspan="3"><strong>${X(Ta)} Ton</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary Section -->
        <div class="section">
          <div class="section-title">RINGKASAN</div>
          <table>
            <tbody>
              <tr>
                <td class="text-left" style="width: 40%"><strong>Total Produksi</strong></td>
                <td><strong>${X(Ta)} Ton</strong></td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Steam</strong></td>
                <td class="cost">Rp ${X(rr)}</td>
              </tr>
              <tr>
                <td class="text-left"><strong>Total Biaya Gas</strong></td>
                <td class="cost">Rp ${X(Vn)}</td>
              </tr>
              <tr class="total-row">
                <td class="text-left"><strong>Total Biaya Energi</strong></td>
                <td class="cost"><strong>Rp ${X(rr+Vn)}</strong></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Footer Signatures -->
        <div class="footer">
          <div class="signature">
            <div>Dibuat oleh:</div>
            <div class="signature-line">Operator</div>
          </div>
          <div class="signature">
            <div>Diperiksa oleh:</div>
            <div class="signature-line">Section Head</div>
          </div>
          <div class="signature">
            <div>Disetujui oleh:</div>
            <div class="signature-line">Manager</div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 9px; color: #666;">
          Dicetak pada: ${new Date().toLocaleString("id-ID")}
        </div>
      </body>
      </html>
    `),Kr.document.close(),Kr.focus(),setTimeout(()=>{Kr.print(),Kr.close()},250),B(!1),le(""))},Pi=i.filter(re=>{var Je,Xe,nt;const Pe=((Je=re.tanggal)==null?void 0:Je.includes(A))||((Xe=re.jenisOperasi)==null?void 0:Xe.toLowerCase().includes(A.toLowerCase())),Ce=I?(nt=re.tanggal)==null?void 0:nt.startsWith(I):!0;return Pe&&Ce});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Key Operating Parameter (KOP)"}),a.jsx(Ae,{variant:e==="NPK1"?"primary":"success",children:e})]}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Pabrik NPK Granular ",e==="NPK1"?"1":"2"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(se,{variant:"secondary",onClick:()=>B(!0),className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Print Laporan"]}),!O&&C&&a.jsxs(se,{onClick:Bt,className:"gap-2",children:[a.jsx(Zt,{className:"h-4 w-4"}),"Tambah KOP"]})]})]}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{placeholder:"Cari berdasarkan tanggal atau jenis operasi...",value:A,onChange:re=>$(re.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-full md:w-48",children:a.jsx(fe,{type:"month",value:I,onChange:re=>E(re.target.value),placeholder:"Filter Bulan"})})]})}),a.jsx(ke,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-dark-50 border-b border-dark-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Tanggal"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Jenis Operasi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Total Tonase"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Steam (Rp)"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-dark-600 uppercase",children:"Gas (Rp)"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-dark-600 uppercase",children:"Aksi"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100",children:l?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"Memuat data..."]})})}):Pi.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-dark-400",children:[a.jsx(ia,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"Tidak ada data KOP"]})}):Pi.map(re=>{var Kr,Hn,Un;const Pe=oe(((Kr=re.produkTonase)==null?void 0:Kr.malam)||"0")+oe(((Hn=re.produkTonase)==null?void 0:Hn.pagi)||"0")+oe(((Un=re.produkTonase)==null?void 0:Un.sore)||"0"),Ce=oe(re.kursDollar||"16000"),Je=zr(re.steamMalam||Ze),Xe=zr(re.steamPagi||Ze),nt=zr(re.steamSore||Ze),ct=Vr(re.gasMalam||Ze),St=Vr(re.gasPagi||Ze),rr=Vr(re.gasSore||Ze),Vn=Hr(Je.selisih)+Hr(Xe.selisih)+Hr(nt.selisih),Ta=Ur(ct.selisih,Ce)+Ur(St.selisih,Ce)+Ur(rr.selisih,Ce);return a.jsxs("tr",{className:"hover:bg-dark-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"font-medium text-dark-900 dark:text-white",children:Ve(re.tanggal)})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(Ae,{variant:re.jenisOperasi==="NORMAL OPERASI"?"success":"warning",children:re.jenisOperasi})}),a.jsxs("td",{className:"px-4 py-3 font-semibold text-primary-600",children:[X(Pe)," TON"]}),a.jsxs("td",{className:"px-4 py-3 text-blue-700",children:["Rp ",X(Vn)]}),a.jsxs("td",{className:"px-4 py-3 text-orange-700",children:["Rp ",X(Ta)]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>Ne(re),className:"p-2 text-dark-400 hover:text-dark-600 hover:bg-dark-100 rounded-lg transition-colors",title:"Lihat Detail",children:a.jsx(ki,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>ca(re),className:"p-2 text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Print",children:a.jsx(Ir,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>V(re.id),className:"p-2 text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4"})}),!O&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Ie(re),className:"p-2 text-dark-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>qe(re.id),className:"p-2 text-dark-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4"})})]})]})})]},re.id)})})]})})}),a.jsx(Ge,{isOpen:u,onClose:()=>d(!1),title:x?"Edit KOP":"Tambah KOP Baru",size:"full",children:a.jsxs("form",{onSubmit:me,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:S.tanggal,onChange:re=>P({...S,tanggal:re.target.value}),required:!0}),a.jsx(ze,{label:"Jenis Operasi",value:S.jenisOperasi,onChange:re=>P({...S,jenisOperasi:re.target.value}),options:F})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Xh,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(ra,{className:"h-4 w-4"})," Malam (23:00 - 07:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Section Head",value:((De=S.shiftMalam)==null?void 0:De.sectionHead)||"",onChange:re=>P({...S,shiftMalam:{...S.shiftMalam,sectionHead:re.target.value}}),placeholder:"Nama Section Head"}),a.jsx(fe,{label:"Operator Panel",value:((Ye=S.shiftMalam)==null?void 0:Ye.operatorPanel)||"",onChange:re=>P({...S,shiftMalam:{...S.shiftMalam,operatorPanel:re.target.value}}),placeholder:"Nama Operator Panel"})]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(ra,{className:"h-4 w-4"})," Pagi (07:00 - 15:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Section Head",value:((Fr=S.shiftPagi)==null?void 0:Fr.sectionHead)||"",onChange:re=>P({...S,shiftPagi:{...S.shiftPagi,sectionHead:re.target.value}}),placeholder:"Nama Section Head"}),a.jsx(fe,{label:"Operator Panel",value:((vr=S.shiftPagi)==null?void 0:vr.operatorPanel)||"",onChange:re=>P({...S,shiftPagi:{...S.shiftPagi,operatorPanel:re.target.value}}),placeholder:"Nama Operator Panel"})]})]}),a.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl",children:[a.jsxs("h4",{className:"font-medium text-dark-700 mb-3 flex items-center gap-2",children:[a.jsx(ra,{className:"h-4 w-4"})," Sore (15:00 - 23:00)"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Section Head",value:((gt=S.shiftSore)==null?void 0:gt.sectionHead)||"",onChange:re=>P({...S,shiftSore:{...S.shiftSore,sectionHead:re.target.value}}),placeholder:"Nama Section Head"}),a.jsx(fe,{label:"Operator Panel",value:((rt=S.shiftSore)==null?void 0:rt.operatorPanel)||"",onChange:re=>P({...S,shiftSore:{...S.shiftSore,operatorPanel:re.target.value}}),placeholder:"Nama Operator Panel"})]})]})]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(W8,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Steam (M3)"})]}),a.jsxs("div",{className:"mb-4 p-3 bg-amber-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(yS,{className:"h-4 w-4 text-amber-600"}),a.jsx("label",{className:"text-sm font-medium text-dark-700",children:"Kurs Dollar (Rp)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(fe,{type:"text",value:S.kursDollar,onChange:re=>P({...S,kursDollar:re.target.value}),placeholder:"Contoh: 16000",className:"flex-1"}),a.jsx(se,{type:"button",variant:"outline",onClick:W,disabled:J,className:"whitespace-nowrap",children:J?a.jsx(qi,{className:"h-4 w-4 animate-spin"}):a.jsx(a.Fragment,{children:a.jsx(qi,{className:"h-4 w-4 mr-1"})})})]}),L&&a.jsx("p",{className:`text-xs mt-1 ${L.startsWith("")?"text-green-600":"text-amber-600"}`,children:L}),a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'* Kurs digunakan untuk perhitungan biaya Steam & Gas. Klik "Auto" untuk ambil kurs real-time.'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Awal Shift (M3)",type:"text",value:((Or=S.steamMalam)==null?void 0:Or.awal)||"",onChange:re=>P({...S,steamMalam:{...S.steamMalam,awal:re.target.value}})}),a.jsx(fe,{label:"Akhir Shift (M3)",type:"text",value:((Pn=S.steamMalam)==null?void 0:Pn.akhir)||"",onChange:re=>P({...S,steamMalam:{...S.steamMalam,akhir:re.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[X(G.steamMalam.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:G.steamMalam.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",X(G.steamMalam.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Awal Shift (M3)",type:"text",value:((_e=S.steamPagi)==null?void 0:_e.awal)||"",onChange:re=>P({...S,steamPagi:{...S.steamPagi,awal:re.target.value}}),placeholder:"Auto dari akhir malam"}),a.jsx(fe,{label:"Akhir Shift (M3)",type:"text",value:((_o=S.steamPagi)==null?void 0:_o.akhir)||"",onChange:re=>P({...S,steamPagi:{...S.steamPagi,akhir:re.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[X(G.steamPagi.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:G.steamPagi.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",X(G.steamPagi.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Awal Shift (M3)",type:"text",value:((df=S.steamSore)==null?void 0:df.awal)||"",onChange:re=>P({...S,steamSore:{...S.steamSore,awal:re.target.value}}),placeholder:"Auto dari akhir pagi"}),a.jsx(fe,{label:"Akhir Shift (M3)",type:"text",value:((ff=S.steamSore)==null?void 0:ff.akhir)||"",onChange:re=>P({...S,steamSore:{...S.steamSore,akhir:re.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[X(G.steamSore.selisih)," M3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (M3/H):"}),a.jsx("span",{className:"font-semibold text-blue-600",children:G.steamSore.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",X(G.steamSore.costRp)]})]})]})]})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-100 rounded-xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total Steam Dalam Satu Hari"}),a.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["Rp ",X(G.totalSteamRp)]})]})})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xx,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Konsumsi Gas (Nm3)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Malam (23:00 - 07:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Awal Shift (Nm3)",type:"text",value:((Pg=S.gasMalam)==null?void 0:Pg.awal)||"",onChange:re=>P({...S,gasMalam:{...S.gasMalam,awal:re.target.value}})}),a.jsx(fe,{label:"Akhir Shift (Nm3)",type:"text",value:((Tw=S.gasMalam)==null?void 0:Tw.akhir)||"",onChange:re=>P({...S,gasMalam:{...S.gasMalam,akhir:re.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[X(G.gasMalam.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:G.gasMalam.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",X(G.gasMalam.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-amber-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Pagi (07:00 - 15:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Awal Shift (Nm3)",type:"text",value:((Ow=S.gasPagi)==null?void 0:Ow.awal)||"",onChange:re=>P({...S,gasPagi:{...S.gasPagi,awal:re.target.value}}),placeholder:"Auto dari akhir malam"}),a.jsx(fe,{label:"Akhir Shift (Nm3)",type:"text",value:((Aw=S.gasPagi)==null?void 0:Aw.akhir)||"",onChange:re=>P({...S,gasPagi:{...S.gasPagi,akhir:re.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[X(G.gasPagi.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:G.gasPagi.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",X(G.gasPagi.costRp)]})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-orange-100 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-dark-700 mb-3",children:"Shift Sore (15:00 - 23:00)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(fe,{label:"Awal Shift (Nm3)",type:"text",value:((Ew=S.gasSore)==null?void 0:Ew.awal)||"",onChange:re=>P({...S,gasSore:{...S.gasSore,awal:re.target.value}}),placeholder:"Auto dari akhir pagi"}),a.jsx(fe,{label:"Akhir Shift (Nm3)",type:"text",value:((Cw=S.gasSore)==null?void 0:Cw.akhir)||"",onChange:re=>P({...S,gasSore:{...S.gasSore,akhir:re.target.value}})}),a.jsxs("div",{className:"p-2 bg-white rounded text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Selisih:"}),a.jsxs("span",{className:"font-semibold",children:[X(G.gasSore.selisih)," Nm3"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flow (Nm3/H):"}),a.jsx("span",{className:"font-semibold text-orange-600",children:G.gasSore.flowPerHour.toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Biaya:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",X(G.gasSore.costRp)]})]})]})]})]})]}),a.jsxs("div",{className:"mt-4 p-4 bg-orange-100 rounded-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-orange-800",children:"Total Gas Dalam Satu Hari"}),a.jsxs("span",{className:"text-xl font-bold text-orange-900",children:["Rp ",X(G.totalGasRp)]})]}),a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"* Rumus: BTU/h = gas  0.02831  1043.3294, MMBTU = BTU/1,000,000, $/h = MMBTU  5.65, Rp = $  kurs  8 jam"})]})]}),a.jsxs(ke,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pv,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:"Parameter Operasi"})]}),a.jsx(se,{type:"button",variant:"secondary",size:"sm",onClick:ie,children:"Auto-Fill Temp & Timbangan"})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 py-2 bg-dark-100 rounded-lg mb-2 px-2",children:[a.jsx("div",{className:"col-span-2 text-xs font-semibold text-dark-600",children:"PARAMETER"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"TARGET"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"MALAM"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"PAGI"}),a.jsx("div",{className:"text-xs font-semibold text-dark-600 text-center",children:"SORE"}),a.jsx("div",{})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-primary-50 text-primary-700 font-semibold px-3 py-2 rounded-lg mb-2",children:"1. Granulator"}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700",children:"1.1. Flow Steam"}),a.jsx("p",{className:"text-xs text-dark-400",children:"FI | M3/H"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:pt.folwSteam.label})}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:G.steamMalam.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:G.steamPagi.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-blue-600",children:G.steamSore.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-secondary-50 text-secondary-700 font-semibold px-3 py-2 rounded-lg mb-2",children:"2. Dryer"}),a.jsxs("div",{className:"grid grid-cols-7 gap-2 items-center py-2 border-b border-dark-100",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-sm font-medium text-dark-700",children:"2.1. Flow Gas"}),a.jsx("p",{className:"text-xs text-dark-400",children:"FT-202 | NM3/H"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-xs text-dark-500 dark:text-dark-400 bg-dark-100 px-2 py-1 rounded",children:pt.flowGas.label})}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:G.gasMalam.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:G.gasPagi.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-center font-semibold text-orange-600",children:G.gasSore.flowPerHour.toFixed(2)}),a.jsx("div",{className:"text-xs text-dark-400 text-center",children:"Auto"})]}),a.jsx(Is,{label:"2.2. Temperatur Produk Out",indikator:"Temp R-002",satuan:"Deg.C",target:pt.tempProdukOut.label,value:S.dryerTempProdukOut||Dr,onChange:re=>P({...S,dryerTempProdukOut:re})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"bg-amber-50 text-amber-700 font-semibold px-3 py-2 rounded-lg mb-2",children:"3. Produk NPK (15-10-12)"}),a.jsx(Is,{label:"3.1. N",indikator:"Laporan LAB",satuan:"%",target:pt.produkN.label,value:S.produkN||Dr,onChange:re=>P({...S,produkN:re})}),a.jsx(Is,{label:"3.2. P",indikator:"Laporan LAB",satuan:"%",target:pt.produkP.label,value:S.produkP||Dr,onChange:re=>P({...S,produkP:re})}),a.jsx(Is,{label:"3.3. K",indikator:"Laporan LAB",satuan:"%",target:pt.produkK.label,value:S.produkK||Dr,onChange:re=>P({...S,produkK:re})}),a.jsx(Is,{label:"3.4. Moisture (H2O)",indikator:"Laporan LAB",satuan:"%",target:pt.moisture.label,value:S.produkMoisture||Dr,onChange:re=>P({...S,produkMoisture:re})}),a.jsx(Is,{label:"3.5. Kekerasan",indikator:"Laporan LAB",satuan:"Kgf",target:pt.kekerasan.label,value:S.produkKekerasan||Dr,onChange:re=>P({...S,produkKekerasan:re})}),a.jsx(Is,{label:"3.6. Timbangan",indikator:"Laporan Shift",satuan:"Kg/Karung",target:pt.timbangan.label,value:S.produkTimbangan||Dr,onChange:re=>P({...S,produkTimbangan:re})}),a.jsx(Is,{label:"3.7. Tonase",indikator:"Laporan Shift",satuan:"Ton/Shift",target:pt.tonase.label,value:S.produkTonase||Dr,onChange:re=>P({...S,produkTonase:re})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-100",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Batal"}),a.jsxs(se,{type:"submit",disabled:l,className:"gap-2",children:[a.jsx(fh,{className:"h-4 w-4"}),l?"Menyimpan...":x?"Perbarui":"Simpan"]})]})]})}),a.jsx(Ge,{isOpen:m,onClose:()=>b(!1),title:"Preview Print KOP",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-dark-600",children:["Anda akan mencetak KOP untuk tanggal"," ",a.jsx("strong",{children:v&&Ve(v.tanggal)})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(se,{variant:"secondary",onClick:()=>b(!1),children:"Batal"}),a.jsxs(se,{onClick:Pa,className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak Sekarang"]})]})]})}),a.jsx(Ge,{isOpen:Z,onClose:()=>{B(!1),le("")},title:"Print Laporan KOP",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-dark-600",children:"Pilih tanggal untuk mencetak laporan KOP lengkap"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tanggal"}),a.jsxs("select",{value:Q,onChange:re=>le(re.target.value),className:"w-full px-3 py-2 border border-dark-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"",children:"-- Pilih Tanggal --"}),i.sort((re,Pe)=>new Date(Pe.tanggal).getTime()-new Date(re.tanggal).getTime()).map(re=>a.jsxs("option",{value:re.tanggal,children:[Ve(re.tanggal)," - ",re.jenisOperasi]},re.id))]})]}),Q&&a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"Preview:"})," Laporan akan dicetak untuk tanggal"," ",a.jsx("strong",{children:Ve(Q)})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(se,{variant:"secondary",onClick:()=>{B(!1),le("")},children:"Batal"}),a.jsxs(se,{onClick:Eo,disabled:!Q,className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak Laporan"]})]})]})}),a.jsx(Ge,{isOpen:_,onClose:()=>{U(!1),Y(null)},title:"Detail Key Operating Parameter",size:"full",children:K&&(()=>{var Ta,Kr,Hn,Un,ss,is,os,ls,cs,us,ds,fs,hs,ps,ms,gs,xs,vs,ys,bs,ks,ws,js,Ss,Ns,Ps,Ts,Os,As,Es,Cs,_s,Ds;const re=oe(K.kursDollar||"16000"),Pe=zr(K.steamMalam||Ze),Ce=zr(K.steamPagi||Ze),Je=zr(K.steamSore||Ze);Pe.costRp=Hr(Pe.selisih),Ce.costRp=Hr(Ce.selisih),Je.costRp=Hr(Je.selisih);const Xe=Vr(K.gasMalam||Ze),nt=Vr(K.gasPagi||Ze),ct=Vr(K.gasSore||Ze);Xe.costRp=Ur(Xe.selisih,re),nt.costRp=Ur(nt.selisih,re),ct.costRp=Ur(ct.selisih,re);const St=Pe.costRp+Ce.costRp+Je.costRp,rr=Xe.costRp+nt.costRp+ct.costRp,Vn=oe(((Ta=K.produkTonase)==null?void 0:Ta.malam)||"0")+oe(((Kr=K.produkTonase)==null?void 0:Kr.pagi)||"0")+oe(((Hn=K.produkTonase)==null?void 0:Hn.sore)||"0");return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Key Operating Parameter"}),a.jsxs("h2",{className:"text-2xl font-bold mt-1",children:["NPK GRANULAR ",e==="NPK1"?"1":"2"]}),a.jsx("p",{className:"text-primary-100 text-sm mt-1",children:Ve(K.tanggal)})]}),a.jsx(Ae,{variant:K.jenisOperasi==="NORMAL OPERASI"?"success":"warning",className:"bg-white/20 text-white border-0 text-base px-4 py-2",children:K.jenisOperasi})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-4 border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-lg",children:a.jsx(pv,{className:"h-6 w-6 text-green-700 dark:text-green-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Total Tonase"}),a.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[X(Vn)," TON"]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-lg",children:a.jsx(zi,{className:"h-6 w-6 text-blue-700 dark:text-blue-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium",children:"Biaya Steam"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:["Rp ",X(St)]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-orange-200 dark:bg-orange-800 rounded-lg",children:a.jsx(xx,{className:"h-6 w-6 text-orange-700 dark:text-orange-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 font-medium",children:"Biaya Gas"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["Rp ",X(rr)]})]})]})})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Xh,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Personel Shift"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Posisi"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam (23:00-07:00)"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi (07:00-15:00)"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore (15:00-23:00)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Section Head"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((Un=K.shiftMalam)==null?void 0:Un.sectionHead)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((ss=K.shiftPagi)==null?void 0:ss.sectionHead)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((is=K.shiftSore)==null?void 0:is.sectionHead)||"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-dark-900 dark:text-white",children:"Operator Panel"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((os=K.shiftMalam)==null?void 0:os.operatorPanel)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((ls=K.shiftPagi)==null?void 0:ls.operatorPanel)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-700 dark:text-dark-300",children:((cs=K.shiftSore)==null?void 0:cs.operatorPanel)||"-"})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(zi,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Konsumsi Steam (M3)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50",children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-700 dark:text-blue-300",children:"Shift"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Selisih"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Flow (M3/H)"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-700 dark:text-blue-300",children:"Biaya (Rp)"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Malam"}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Pe.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Pe.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Pe.costRp)})]}),a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Pagi"}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Ce.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Ce.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Ce.costRp)})]}),a.jsxs("tr",{className:"border-b border-blue-200 dark:border-blue-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Sore"}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Je.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Je.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Je.costRp)})]}),a.jsxs("tr",{className:"bg-blue-100 dark:bg-blue-800/50 font-semibold text-blue-800 dark:text-blue-200",children:[a.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),a.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",X(St)]})]})]})]})})]}),a.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xx,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300",children:"Konsumsi Gas (Nm3)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50",children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-orange-700 dark:text-orange-300",children:"Shift"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Selisih"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Flow (Nm3/H)"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-orange-700 dark:text-orange-300",children:"Biaya (Rp)"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Malam"}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Xe.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:Xe.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(Xe.costRp)})]}),a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Pagi"}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(nt.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:nt.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(nt.costRp)})]}),a.jsxs("tr",{className:"border-b border-orange-200 dark:border-orange-700",children:[a.jsx("td",{className:"px-3 py-2",children:"Sore"}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(ct.selisih)}),a.jsx("td",{className:"px-3 py-2 text-right",children:ct.flowPerHour.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-right",children:X(ct.costRp)})]}),a.jsxs("tr",{className:"bg-orange-100 dark:bg-orange-800/50 font-semibold text-orange-800 dark:text-orange-200",children:[a.jsx("td",{className:"px-3 py-2",colSpan:3,children:"Total"}),a.jsxs("td",{className:"px-3 py-2 text-right",children:["Rp ",X(rr)]})]})]})]})})]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ia,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Parameter Produk NPK (15-10-12)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-dark-100 dark:bg-dark-700",children:[a.jsx("th",{className:"px-4 py-2 text-left font-medium text-dark-600 dark:text-dark-300",children:"Parameter"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Target"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Malam"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Pagi"}),a.jsx("th",{className:"px-4 py-2 text-center font-medium text-dark-600 dark:text-dark-300",children:"Sore"})]})}),a.jsxs("tbody",{className:"text-dark-700 dark:text-dark-300",children:[a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U8,{className:"h-4 w-4 text-red-500"}),"Temp Produk Out (C)"]})}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.tempProdukOut.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((us=K.dryerTempProdukOut)==null?void 0:us.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ds=K.dryerTempProdukOut)==null?void 0:ds.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((fs=K.dryerTempProdukOut)==null?void 0:fs.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"N (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.produkN.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((hs=K.produkN)==null?void 0:hs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ps=K.produkN)==null?void 0:ps.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ms=K.produkN)==null?void 0:ms.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"P (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.produkP.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((gs=K.produkP)==null?void 0:gs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((xs=K.produkP)==null?void 0:xs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((vs=K.produkP)==null?void 0:vs.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"K (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.produkK.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ys=K.produkK)==null?void 0:ys.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((bs=K.produkK)==null?void 0:bs.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ks=K.produkK)==null?void 0:ks.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Moisture (%)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.moisture.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((ws=K.produkMoisture)==null?void 0:ws.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((js=K.produkMoisture)==null?void 0:js.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ss=K.produkMoisture)==null?void 0:Ss.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Kekerasan (Kgf)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.kekerasan.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ns=K.produkKekerasan)==null?void 0:Ns.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ps=K.produkKekerasan)==null?void 0:Ps.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Ts=K.produkKekerasan)==null?void 0:Ts.sore)||"-"})]}),a.jsxs("tr",{className:"border-b border-dark-200 dark:border-dark-600",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:"Timbangan (Kg/Karung)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.timbangan.label}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Os=K.produkTimbangan)==null?void 0:Os.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((As=K.produkTimbangan)==null?void 0:As.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-medium",children:((Es=K.produkTimbangan)==null?void 0:Es.sore)||"-"})]}),a.jsxs("tr",{className:"bg-green-50 dark:bg-green-900/30",children:[a.jsx("td",{className:"px-4 py-3 font-semibold text-green-700 dark:text-green-300",children:"Tonase (Ton/Shift)"}),a.jsx("td",{className:"px-4 py-3 text-center text-dark-500",children:pt.tonase.label}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Cs=K.produkTonase)==null?void 0:Cs.malam)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((_s=K.produkTonase)==null?void 0:_s.pagi)||"-"}),a.jsx("td",{className:"px-4 py-3 text-center font-bold text-green-700 dark:text-green-300",children:((Ds=K.produkTonase)==null?void 0:Ds.sore)||"-"})]})]})]})})]}),a.jsxs("div",{className:"bg-dark-100 dark:bg-dark-700 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yS,{className:"h-5 w-5 text-dark-500"}),a.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Kurs Dollar yang digunakan:"})]}),a.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:["Rp ",X(re)]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-dark-200 dark:border-dark-700",children:[a.jsx(se,{variant:"secondary",onClick:()=>{U(!1),Y(null)},children:"Tutup"}),a.jsxs(se,{onClick:()=>{U(!1),ca(K)},className:"gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cetak"]})]})]})})()}),a.jsx(qt,{isOpen:f,onClose:()=>h(!1),onConfirm:Et,title:"Hapus Data KOP",message:"Apakah Anda yakin ingin menghapus data KOP ini? Tindakan ini tidak dapat dibatalkan.",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:ce,onClose:()=>{pe(!1),ae(null)},onSubmit:tt,action:ye,itemName:"data KOP",loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!"}),a.jsx(Br,{isOpen:ne,onClose:()=>{D(!1),z("")},sheetName:e==="NPK1"?"kop_NPK1":"kop",recordId:R,title:"Log Aktivitas KOP"})]})},Ls=e=>e==null?"0.00":e.toFixed(2),Zx=e=>{if(!e||e==="")return 0;const t=parseFloat(e);return isNaN(t)?0:t},m3=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Dolomite",label:"Dolomite"},{value:"Clay",label:"Clay"}],spe=[...m3],Zc={tanggal:Mt(),bahanBaku:"",stockAwal:0,bahanBakuIn:0,bahanBakuOut:0,stockAkhir:0},zT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(Zc),[w,N]=k.useState(""),[S,P]=k.useState("Urea"),[A,$]=k.useState({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),[I,E]=k.useState(!1),[_,U]=k.useState("edit"),[K,Y]=k.useState(null),[ne,D]=k.useState(!1),[R,z]=k.useState(""),V=C=>{z(C),D(!0)},Z=(t==null?void 0:t.role)||"",B=gr(Z),Q=k.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);tr(Q,u);const le=Sr(Z),ce=Nr(Z),pe=ur(Z);k.useEffect(()=>{(async()=>{c(!0);try{const{readData:q,SHEETS:M,getSheetNameByPlant:O}=await Me(async()=>{const{readData:F,SHEETS:ie,getSheetNameByPlant:me}=await Promise.resolve().then(()=>$e);return{readData:F,SHEETS:ie,getSheetNameByPlant:me}},void 0),W=O(M.PEMANTAUAN_BAHAN_BAKU,e),he=await q(W);if(he.success&&he.data){const F=he.data.map(ie=>({...ie,_plant:e})).sort((ie,me)=>new Date(me.tanggal).getTime()-new Date(ie.tanggal).getTime());o(F)}else o([])}catch(q){console.error("Error fetching data:",q),o([])}finally{c(!1)}})()},[e]),k.useEffect(()=>{const C=Zx(A.stockAwal),q=Zx(A.bahanBakuIn),M=Zx(A.bahanBakuOut),O=C+q-M;j(W=>({...W,stockAwal:C,bahanBakuIn:q,bahanBakuOut:M,stockAkhir:O>=0?O:0}))},[A.stockAwal,A.bahanBakuIn,A.bahanBakuOut]),k.useEffect(()=>{if(x.bahanBaku&&!m){const C=i.filter(q=>q.bahanBaku===x.bahanBaku).sort((q,M)=>new Date(M.tanggal).getTime()-new Date(q.tanggal).getTime())[0];C&&(j(q=>({...q,stockAwal:C.stockAkhir})),$(q=>({...q,stockAwal:String(C.stockAkhir)})))}},[x.bahanBaku,i,m]);const ye=async C=>{C.preventDefault(),c(!0);try{if(m){const q={...x,id:m,_plant:e},M=await n("pemantauan_bahan_baku",q);if(M.success)o(O=>O.map(W=>W.id===m?{...x,id:m,_plant:e}:W));else throw new Error(M.error||"Gagal mengupdate data")}else{const q={...x,_plant:e},M=await r("pemantauan_bahan_baku",q);if(M.success&&M.data){const O={...M.data,_plant:e};o(W=>[O,...W].sort((he,F)=>new Date(F.tanggal).getTime()-new Date(he.tanggal).getTime()))}else throw new Error(M.error||"Gagal menambah data")}d(!1),b(null),j(Zc),$({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),g(!0)}catch(q){console.error("Error saving data:",q),alert(q instanceof Error?q.message:"Gagal menyimpan data")}finally{c(!1)}},ue=C=>{pe||(le?(Y(C),U("edit"),E(!0)):(j(C),$({stockAwal:String(C.stockAwal||""),bahanBakuIn:String(C.bahanBakuIn||""),bahanBakuOut:String(C.bahanBakuOut||"")}),b(C.id||null),d(!0)))},ve=C=>{pe||(ce?(y(C),U("delete"),E(!0)):(y(C),h(!0)))},ae=async()=>{if(v){c(!0);try{const C=await s("pemantauan_bahan_baku",{id:v,_plant:e});if(C.success)o(q=>q.filter(M=>M.id!==v));else throw new Error(C.error||"Gagal menghapus data");h(!1),y(null),g(!0)}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Gagal menghapus data")}finally{c(!1)}}},G=async C=>{try{const{createData:q,SHEETS:M}=await Me(async()=>{const{createData:he,SHEETS:F}=await Promise.resolve().then(()=>$e);return{createData:he,SHEETS:F}},void 0),O=_==="edit"?K:i.find(he=>he.id===v),W={requestBy:(t==null?void 0:t.username)||"",requestByName:(t==null?void 0:t.nama)||(t==null?void 0:t.username)||"",requestDate:new Date().toISOString(),action:_,sheetType:`pemantauan_bahan_baku${e==="NPK1"?"_NPK1":""}`,dataId:(O==null?void 0:O.id)||"",dataPreview:JSON.stringify({tanggal:O==null?void 0:O.tanggal,bahanBaku:O==null?void 0:O.bahanBaku,stockAkhir:O==null?void 0:O.stockAkhir}),reason:C,status:"pending",requesterPlant:e};await q(M.APPROVAL_REQUESTS,W),E(!1),Y(null),y(null),alert("Permintaan approval telah dikirim")}catch(q){console.error("Error submitting approval:",q),alert("Gagal mengirim permintaan approval")}},J=(()=>{const C=i.filter(ie=>ie.bahanBaku===S),q=C.filter(ie=>ie.tanggal===Mt()),M=C.sort((ie,me)=>new Date(me.tanggal).getTime()-new Date(ie.tanggal).getTime())[0],O=(M==null?void 0:M.stockAkhir)||0,W=q.reduce((ie,me)=>ie+me.bahanBakuIn,0),he=q.reduce((ie,me)=>ie+me.bahanBakuOut,0),F=C.length;return{totalStockAkhir:O,totalBahanBakuIn:W,totalBahanBakuOut:he,totalRecords:F,lastDate:(M==null?void 0:M.tanggal)||"-"}})(),T=i.filter(C=>{var O,W;const q=S?C.bahanBaku===S:!0,M=((O=C.bahanBaku)==null?void 0:O.toLowerCase().includes(w.toLowerCase()))||((W=C.tanggal)==null?void 0:W.includes(w));return q&&M}),H=(()=>{if(!S)return null;const C=i.filter(M=>M.bahanBaku===S),q=C.sort((M,O)=>new Date(O.tanggal).getTime()-new Date(M.tanggal).getTime())[0];return{currentStock:(q==null?void 0:q.stockAkhir)||0,totalRecords:C.length}})(),te=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>Ve(C)},{key:"bahanBaku",header:"Bahan Baku",render:C=>a.jsx(Ae,{variant:"default",children:C})},{key:"stockAwal",header:"Stock Awal",render:C=>a.jsxs("span",{className:"font-medium",children:[Ls(C)," Ton"]})},{key:"bahanBakuIn",header:"Bahan Baku In",render:C=>a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["+",Ls(C)," Ton"]})},{key:"bahanBakuOut",header:"Bahan Baku Out",render:C=>a.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:["-",Ls(C)," Ton"]})},{key:"stockAkhir",header:"Stock Akhir",render:C=>a.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[Ls(C)," Ton"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Pemantauan Bahan Baku - ",e]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Monitor stok bahan baku harian"})]}),B&&a.jsxs(se,{onClick:()=>{j(Zc),$({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""}),b(null),d(!0)},children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:["Stock Akhir ",S]}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:[Ls(J.totalStockAkhir)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:a.jsx(mi,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-2",children:["Update terakhir: ",J.lastDate]})]})}),a.jsx(ke,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:[S," Masuk Hari Ini"]}),a.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:["+",Ls(J.totalBahanBakuIn)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:a.jsx(ro,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-green-500 dark:text-green-400 mt-2",children:["Total ",S," yang masuk"]})]})}),a.jsx(ke,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:[S," Keluar Hari Ini"]}),a.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:["-",Ls(J.totalBahanBakuOut)," ",a.jsx("span",{className:"text-sm font-normal",children:"Ton"})]})]}),a.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:a.jsx(pl,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-red-500 dark:text-red-400 mt-2",children:["Total ",S," yang digunakan"]})]})}),a.jsx(ke,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:["Total Record ",S]}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:[J.totalRecords," ",a.jsx("span",{className:"text-sm font-normal",children:"Data"})]})]}),a.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:a.jsx(Om,{className:"h-6 w-6 text-white"})})]}),a.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-2",children:["Jumlah pencatatan ",S]})]})})]}),a.jsx(ke,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-800 rounded-lg",children:a.jsx(mi,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Informasi Pemantauan Bahan Baku"}),a.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2 space-y-1 list-disc list-inside",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Stock Awal:"})," Input manual di awal bulan, selanjutnya otomatis terisi dari stock akhir terakhir"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Stock Akhir:"})," Dihitung otomatis = Stock Awal + Bahan Baku In - Bahan Baku Out"]}),a.jsxs("li",{children:["Gunakan ",a.jsx("strong",{children:"Filter Bahan Baku"})," di atas tabel untuk melihat data per jenis bahan baku"]}),a.jsx("li",{children:"Bahan baku yang dipantau: Urea, DAP, KCL, ZA, Dolomite, dan Clay"})]})]})]})})}),a.jsxs(ke,{children:[a.jsxs(at,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx(st,{children:"Data Pemantauan Bahan Baku"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o_,{className:"h-4 w-4 text-gray-500"}),a.jsx("select",{value:S,onChange:C=>P(C.target.value),className:"px-3 py-2 text-sm bg-white dark:bg-dark-800 border border-dark-200 dark:border-dark-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:spe.map(C=>a.jsx("option",{value:C.value,children:C.label},C.value))})]}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(fe,{placeholder:"Cari tanggal...",value:w,onChange:C=>N(C.target.value),className:"pl-10"})]})]})]}),S&&H&&a.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ae,{variant:"primary",children:S}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Stock Terkini:"," ",a.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[Ls(H.currentStock)," Ton"]})]})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[H.totalRecords," data tercatat"]})]})})]}),a.jsx(er,{data:T,columns:te,loading:l,searchable:!1,actions:pe?C=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),V(C.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):C=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),V(C.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),ue(C)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),ve(C.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),b(null),j(Zc),$({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},title:m?"Edit Data Pemantauan":"Tambah Data Pemantauan",children:a.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:C=>j({...x,tanggal:C.target.value}),required:!0}),a.jsx(ze,{label:"Bahan Baku",value:x.bahanBaku,onChange:C=>j({...x,bahanBaku:C.target.value}),options:m3,placeholder:"Pilih Bahan Baku",required:!0}),a.jsx(fe,{label:"Stock Awal (Ton)",type:"text",inputMode:"decimal",value:A.stockAwal,onChange:C=>{const q=C.target.value;(/^[0-9]*\.?[0-9]*$/.test(q)||q==="")&&$(M=>({...M,stockAwal:q}))},placeholder:"0.00",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"* Stock awal otomatis terisi dari stock akhir terakhir untuk bahan baku yang dipilih"}),a.jsx(fe,{label:"Bahan Baku In (Ton)",type:"text",inputMode:"decimal",value:A.bahanBakuIn,onChange:C=>{const q=C.target.value;(/^[0-9]*\.?[0-9]*$/.test(q)||q==="")&&$(M=>({...M,bahanBakuIn:q}))},placeholder:"0.00",required:!0}),a.jsx(fe,{label:"Bahan Baku Out (Ton)",type:"text",inputMode:"decimal",value:A.bahanBakuOut,onChange:C=>{const q=C.target.value;(/^[0-9]*\.?[0-9]*$/.test(q)||q==="")&&$(M=>({...M,bahanBakuOut:q}))},placeholder:"0.00",required:!0}),a.jsx(fe,{label:"Stock Akhir (Ton)",type:"number",value:x.stockAkhir||0,disabled:!0,className:"bg-gray-100 dark:bg-gray-700"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(se,{type:"button",variant:"outline",onClick:()=>{d(!1),b(null),j(Zc),$({stockAwal:"",bahanBakuIn:"",bahanBakuOut:""})},children:"Batal"}),a.jsx(se,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ae,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:I,onClose:()=>{E(!1),Y(null),y(null)},onSubmit:G,action:_,loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:ne,onClose:()=>{D(!1),z("")},sheetName:e==="NPK1"?"pemantauan_bahan_baku_NPK1":"pemantauan_bahan_baku",recordId:R,title:"Log Aktivitas Pemantauan Bahan Baku"})]})},eu={tanggal:Mt(),nomorWR:"",item:"",area:"",eksekutor:"",include:"",keterangan:""},ipe=[{value:"Mekanik",label:"Mekanik"},{value:"Bengkel",label:"Bengkel"},{value:"Listrik",label:"Listrik"},{value:"Craftshop",label:"Craftshop"},{value:"Alat Berat",label:"Alat Berat"},{value:"Instrument",label:"Instrument"},{value:"Inspeksi",label:"Inspeksi"}],VT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(eu),[w,N]=k.useState(""),S=e,[P,A]=k.useState(!1),[$,I]=k.useState("edit"),[E,_]=k.useState(null),[U,K]=k.useState(!1),[Y,ne]=k.useState(null),[D,R]=k.useState(!1),[z,V]=k.useState(""),Z=te=>{V(te),R(!0)},B=ur((t==null?void 0:t.role)||""),Q=gr((t==null?void 0:t.role)||"")&&!B,le=k.useCallback(()=>{if(u&&!l){const te=document.querySelector("form");te&&te.requestSubmit()}},[u,l]);tr(le,u),ko((t==null?void 0:t.role)||""),wo((t==null?void 0:t.role)||"");const ce=Sr((t==null?void 0:t.role)||""),pe=Nr((t==null?void 0:t.role)||"");k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:C,SHEETS:q}=await Me(async()=>{const{fetchDataByPlant:O,SHEETS:W}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:O,SHEETS:W}},void 0),M=await C(q.WORK_REQUEST);if(M.success&&M.data){const O=[...M.data].sort((W,he)=>new Date(he.tanggal).getTime()-new Date(W.tanggal).getTime());o(O)}else o([])}catch(C){console.error("Error fetching data:",C),o([])}finally{c(!1)}})()},[]);const ye=async te=>{te.preventDefault(),c(!0);try{if(m){const C={...x,id:m,_plant:S},q=await n(wr.WORK_REQUEST,C);if(q.success)o(M=>M.map(O=>O.id===m?{...x,id:m,_plant:S}:O));else throw new Error(q.error||"Gagal mengupdate data")}else{const C={...x,_plant:S},q=await r(wr.WORK_REQUEST,C);if(q.success&&q.data){const M={...q.data,_plant:S};o(O=>[M,...O])}else throw new Error(q.error||"Gagal menyimpan data")}d(!1),j(eu),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(C){console.error("Error saving data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ue=te=>{if(ce){_(te),I("edit"),A(!0);return}j(te),b(te.id||null),d(!0)},ve=te=>{if(pe){y(te),I("delete"),A(!0);return}y(te),h(!0)},ae=async te=>{c(!0);try{const{createData:C,SHEETS:q}=await Me(async()=>{const{createData:W,SHEETS:he}=await Promise.resolve().then(()=>$e);return{createData:W,SHEETS:he}},void 0),M={type:"work_request",action:$,itemId:$==="edit"?E==null?void 0:E.id:v,itemData:$==="edit"?E:i.find(W=>W.id===v),reason:te,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},O=await C(q.APPROVAL_REQUESTS,M);if(O.success)A(!1),_(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(O.error||"Gagal mengirim permintaan")}catch(C){console.error("Error submitting approval:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan")}finally{c(!1)}},G=async()=>{if(v){c(!0);try{const te=i.find(q=>q.id===v),C=await s(wr.WORK_REQUEST,{id:v,_plant:te==null?void 0:te._plant});if(C.success)o(q=>q.filter(M=>M.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(C.error||"Gagal menghapus data")}catch(te){console.error("Error deleting data:",te),alert(te instanceof Error?te.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ge=()=>{j(eu),b(null),d(!0)},J=te=>{ne(te),K(!0)},T=i.filter(te=>{var M,O,W,he,F,ie;const C=((M=te.tanggal)==null?void 0:M.includes(w))||((O=te.nomorWR)==null?void 0:O.toLowerCase().includes(w.toLowerCase()))||((W=te.item)==null?void 0:W.toLowerCase().includes(w.toLowerCase()))||((he=te.area)==null?void 0:he.toLowerCase().includes(w.toLowerCase()))||((F=te.keterangan)==null?void 0:F.toLowerCase().includes(w.toLowerCase()))||((ie=te.include)==null?void 0:ie.toLowerCase().includes(w.toLowerCase())),q=te._plant===S;return C&&q}),L=[{key:"tanggal",header:"Tanggal",sortable:!0,render:te=>Ve(te)},{key:"nomorWR",header:"Nomor WR"},{key:"item",header:"Item"},{key:"area",header:"Area"},{key:"eksekutor",header:"Eksekutor"},{key:"include",header:"Include"},{key:"keterangan",header:"Keterangan",render:te=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:te})}],H=T.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Work Request ",S==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola permintaan perbaikan dan maintenance"})]}),a.jsx("div",{className:"flex items-center gap-3",children:Q&&a.jsxs(se,{onClick:ge,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Buat Work Request"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ia,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Work Request"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:H})]})]})})}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Work Request"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:te=>N(te.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:T,columns:L,loading:l,searchable:!1,actions:te=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),J(te)},title:"Lihat Detail",children:a.jsx(ki,{className:"h-4 w-4 text-blue-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),Z(te.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),!B&&a.jsxs(a.Fragment,{children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),ue(te)},title:ce?"Ajukan Edit (perlu approval)":"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),ve(te.id)},title:pe?"Ajukan Hapus (perlu approval)":"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(eu),b(null)},title:m?"Edit Work Request":"Buat Work Request",size:"lg",children:a.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:te=>j(C=>({...C,tanggal:te.target.value})),required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Nomor WR",type:"text",value:x.nomorWR,onChange:te=>j(C=>({...C,nomorWR:te.target.value})),placeholder:"Nomor Work Request",required:!0}),a.jsx(fe,{label:"Item",type:"text",value:x.item,onChange:te=>j(C=>({...C,item:te.target.value})),placeholder:"Item",required:!0})]}),a.jsx(fe,{label:"Area",type:"text",value:x.area,onChange:te=>j(C=>({...C,area:te.target.value})),placeholder:"Area",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ze,{label:"Eksekutor",value:x.eksekutor,onChange:te=>j(C=>({...C,eksekutor:te.target.value})),options:ipe,placeholder:"Pilih eksekutor",required:!0}),a.jsx(fe,{label:"Include",type:"text",value:x.include,onChange:te=>j(C=>({...C,include:te.target.value})),placeholder:"Include"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Keterangan"}),a.jsx("textarea",{value:x.keterangan,onChange:te=>j(C=>({...C,keterangan:te.target.value})),placeholder:"Keterangan detail work request...",className:"input-field min-h-[100px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(eu),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:G,title:"Hapus Work Request",message:"Apakah Anda yakin ingin menghapus work request ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:P,onClose:()=>{A(!1),_(null),y(null)},onSubmit:ae,action:$,itemName:"Work Request",loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Ge,{isOpen:U,onClose:()=>{K(!1),ne(null)},title:"Detail Work Request",size:"lg",children:Y&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-dark-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:a.jsx(ia,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-dark-900 dark:text-white",children:Y.nomorWR}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:Ve(Y.tanggal)})]})]}),a.jsx(Ae,{variant:S==="NPK1"?"primary":"success",children:S})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Item"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:Y.item})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Area"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:Y.area})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Eksekutor"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:Y.eksekutor})})]}),a.jsxs("div",{className:"p-4 bg-dark-50 dark:bg-dark-800 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-dark-500 dark:text-dark-400 uppercase tracking-wider mb-1",children:"Include"}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:Y.include||"-"})]})]}),a.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[a.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 uppercase tracking-wider mb-2",children:"Keterangan"}),a.jsx("p",{className:"text-dark-900 dark:text-white whitespace-pre-wrap leading-relaxed",children:Y.keterangan||"-"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-200",children:[!B&&a.jsxs(se,{variant:"secondary",onClick:()=>{K(!1),ne(null),ue(Y)},children:[a.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsx(se,{onClick:()=>{K(!1),ne(null)},children:"Tutup"})]})]})}),a.jsx(Br,{isOpen:D,onClose:()=>{R(!1),V("")},sheetName:S==="NPK1"?"workrequest_NPK1":"workrequest",recordId:z,title:"Log Aktivitas Work Request"})]})},tu={tanggal:Mt(),namaBarang:"",namaBarangLainnya:"",jumlah:0,satuan:"Kg",keterangan:""},HT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(tu),[w,N]=k.useState(""),S=e,[P,A]=k.useState(!1),[$,I]=k.useState("edit"),[E,_]=k.useState(null),[U,K]=k.useState(!1),[Y,ne]=k.useState(""),D=T=>{ne(T),K(!0)},R=ur((t==null?void 0:t.role)||""),z=gr((t==null?void 0:t.role)||"")&&!R,V=k.useCallback(()=>{if(u&&!l){const T=document.querySelector("form");T&&T.requestSubmit()}},[u,l]);tr(V,u),ko((t==null?void 0:t.role)||""),wo((t==null?void 0:t.role)||"");const Z=Sr((t==null?void 0:t.role)||""),B=Nr((t==null?void 0:t.role)||""),Q=[{value:"Urea",label:"Urea"},{value:"DAP",label:"DAP"},{value:"KCL",label:"KCL"},{value:"ZA",label:"ZA"},{value:"Dolomite",label:"Dolomite"},{value:"Clay",label:"Clay"},{value:"Silica",label:"Silica"},{value:"Pewarna",label:"Pewarna"},{value:"Coating Oil",label:"Coating Oil"},{value:"Rock Phosphate",label:"Rock Phosphate"},{value:"Lainnya",label:"Lainnya"}],le=[{value:"Kg",label:"Kg"},{value:"Ton",label:"Ton"},{value:"Liter",label:"Liter"},{value:"Drum",label:"Drum"},{value:"Bag",label:"Bag"}];k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:L,SHEETS:H}=await Me(async()=>{const{fetchDataByPlant:C,SHEETS:q}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:C,SHEETS:q}},void 0),te=await L(H.BAHAN_BAKU);if(te.success&&te.data){const C=[...te.data].sort((q,M)=>new Date(M.tanggal).getTime()-new Date(q.tanggal).getTime());o(C)}else o([])}catch(L){console.error("Error fetching data:",L),o([])}finally{c(!1)}})()},[]);const ce=async T=>{T.preventDefault(),c(!0);try{if(m){const L={...x,id:m,_plant:S},H=await n(wr.BAHAN_BAKU,L);if(H.success)o(te=>te.map(C=>C.id===m?{...x,id:m,_plant:S}:C));else throw new Error(H.error||"Gagal mengupdate data")}else{const L={...x,_plant:S},H=await r(wr.BAHAN_BAKU,L);if(H.success&&H.data){const te={...H.data,_plant:S};o(C=>[te,...C])}else throw new Error(H.error||"Gagal menyimpan data")}d(!1),j(tu),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(L){console.error("Error saving data:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},pe=T=>{if(Z){_(T),I("edit"),A(!0);return}j(T),b(T.id||null),d(!0)},ye=T=>{if(B){y(T),I("delete"),A(!0);return}y(T),h(!0)},ue=async T=>{c(!0);try{const{createData:L,SHEETS:H}=await Me(async()=>{const{createData:q,SHEETS:M}=await Promise.resolve().then(()=>$e);return{createData:q,SHEETS:M}},void 0),te={type:"BAHAN_BAKU",action:$,itemId:$==="edit"?E==null?void 0:E.id:v,itemData:$==="edit"?E:i.find(q=>q.id===v),reason:T,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},C=await L(H.APPROVAL_REQUESTS,te);if(C.success)A(!1),_(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(C.error||"Gagal mengirim permintaan")}catch(L){console.error("Error submitting approval:",L),alert(L instanceof Error?L.message:"Terjadi kesalahan")}finally{c(!1)}},ve=async()=>{if(v){c(!0);try{const T=i.find(H=>H.id===v),L=await s(wr.BAHAN_BAKU,{id:v,_plant:T==null?void 0:T._plant});if(L.success)o(H=>H.filter(te=>te.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(L.error||"Gagal menghapus data")}catch(T){console.error("Error deleting data:",T),alert(T instanceof Error?T.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},ae=()=>{j(tu),b(null),d(!0)},G=i.filter(T=>{var te,C,q;const L=((te=T.tanggal)==null?void 0:te.includes(w))||((C=T.namaBarang)==null?void 0:C.toLowerCase().includes(w.toLowerCase()))||((q=T.keterangan)==null?void 0:q.toLowerCase().includes(w.toLowerCase())),H=T._plant===S;return L&&H}),ge=G.reduce((T,L)=>{const H=L.namaBarang||"Unknown";return T[H]=(T[H]||0)+(L.jumlah||0),T},{}),J=[{key:"tanggal",header:"Tanggal",sortable:!0,render:T=>Ve(T)},{key:"namaBarang",header:"Nama Barang",render:(T,L)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mi,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:T==="Lainnya"?L.namaBarangLainnya||"Lainnya":T})]})},{key:"jumlah",header:"Jumlah",render:(T,L)=>a.jsxs("span",{className:"font-semibold text-dark-900 dark:text-white",children:[X(oe(T))," ",L.satuan]})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Bahan Baku ",S==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan baku"})]}),a.jsx("div",{className:"flex items-center gap-3",children:z&&a.jsxs(se,{onClick:ae,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Object.entries(ge).slice(0,5).map(([T,L])=>a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(mi,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:T}),a.jsxs("p",{className:"text-lg font-bold text-dark-900 dark:text-white",children:[X(L)," Kg"]})]})]})},T))}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Bahan Baku"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:T=>N(T.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:G,columns:J,loading:l,searchable:!1,actions:R?T=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),D(T.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-blue-600"})})}):T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),D(T.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-blue-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),pe(T)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),ye(T.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(tu),b(null)},title:m?"Edit Data Bahan Baku":"Tambah Data Bahan Baku",size:"md",children:a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:T=>j(L=>({...L,tanggal:T.target.value})),required:!0}),a.jsx(ze,{label:"Nama Barang",value:x.namaBarang,onChange:T=>j(L=>({...L,namaBarang:T.target.value,namaBarangLainnya:T.target.value!=="Lainnya"?"":L.namaBarangLainnya})),options:Q,placeholder:"Pilih bahan baku",required:!0}),x.namaBarang==="Lainnya"&&a.jsx(fe,{label:"Nama Barang Lainnya",type:"text",value:x.namaBarangLainnya,onChange:T=>j(L=>({...L,namaBarangLainnya:T.target.value})),placeholder:"Masukkan nama barang",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Jumlah",type:"number",value:x.jumlah||"",onChange:T=>j(L=>({...L,jumlah:parseFloat(T.target.value)||0})),placeholder:"0",required:!0}),a.jsx(ze,{label:"Satuan",value:x.satuan,onChange:T=>j(L=>({...L,satuan:T.target.value})),options:le,required:!0})]}),a.jsx(fe,{label:"Keterangan",type:"text",value:x.keterangan,onChange:T=>j(L=>({...L,keterangan:T.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(tu),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ve,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:P,onClose:()=>{A(!1),_(null),y(null)},onSubmit:ue,action:$,itemName:"data bahan baku",loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:U,onClose:()=>{K(!1),ne("")},sheetName:S==="NPK1"?"bahanbaku_NPK1":"bahanbaku",recordId:Y,title:"Log Aktivitas Bahan Baku"})]})},ru={tanggal:Mt(),namaEquipment:"",posisiPengukuran:"",pointPengukuran:"",nilaiVibrasi:0,status:"Normal",keterangan:""},UT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(ru),[w,N]=k.useState(""),S=e,[P,A]=k.useState(!1),[$,I]=k.useState("edit"),[E,_]=k.useState(null),[U,K]=k.useState(!1),[Y,ne]=k.useState(""),D=H=>{ne(H),K(!0)},R=(t==null?void 0:t.role)||"",z=gr(R),V=k.useCallback(()=>{if(u&&!l){const H=document.querySelector("form");H&&H.requestSubmit()}},[u,l]);tr(V,u);const Z=Sr(R),B=Nr(R),Q=ur(R),le=[{value:"Vertical",label:"Vertical"},{value:"Horizontal",label:"Horizontal"},{value:"Axial",label:"Axial"}],ce=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}];k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:te,SHEETS:C}=await Me(async()=>{const{fetchDataByPlant:M,SHEETS:O}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:M,SHEETS:O}},void 0),q=await te(C.VIBRASI);if(q.success&&q.data){const M=[...q.data].sort((O,W)=>new Date(W.tanggal).getTime()-new Date(O.tanggal).getTime());o(M)}else o([])}catch(te){console.error("Error fetching data:",te),o([])}finally{c(!1)}})()},[]),k.useEffect(()=>{let H="Normal";x.nilaiVibrasi>=7?H="Alert":x.nilaiVibrasi>=4&&(H="Warning"),j(te=>({...te,status:H}))},[x.nilaiVibrasi]);const pe=async H=>{H.preventDefault(),c(!0);try{if(m){const te={...x,id:m,_plant:S},C=await n(wr.VIBRASI,te);if(C.success)o(q=>q.map(M=>M.id===m?{...x,id:m,_plant:S}:M));else throw new Error(C.error||"Gagal mengupdate data")}else{const te={...x,_plant:S},C=await r(wr.VIBRASI,te);if(C.success&&C.data){const q={...C.data,_plant:S};o(M=>[q,...M])}else throw new Error(C.error||"Gagal menyimpan data")}d(!1),j(ru),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(te){console.error("Error saving data:",te),alert(te instanceof Error?te.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ye=H=>{if(Z){_(H),I("edit"),A(!0);return}j(H),b(H.id||null),d(!0)},ue=H=>{if(B){const te=i.find(C=>C.id===H);te&&(_(te),I("delete"),A(!0));return}y(H),h(!0)},ve=async H=>{if(!(!E||!t)){c(!0);try{const te="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",C={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:$,targetSheet:"VIBRASI",targetId:E.id,targetData:JSON.stringify(E),reason:H,status:"pending",requestedAt:new Date().toISOString()}},q=await fetch(te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C),mode:"no-cors"});alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),A(!1),_(null)}catch(te){console.error("Error submitting approval:",te),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},ae=async()=>{if(v){c(!0);try{const H=i.find(C=>C.id===v),te=await s(wr.VIBRASI,{id:v,_plant:H==null?void 0:H._plant});if(te.success)o(C=>C.filter(q=>q.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(te.error||"Gagal menghapus data")}catch(H){console.error("Error deleting data:",H),alert(H instanceof Error?H.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},G=()=>{j(ru),b(null),d(!0)},ge=i.filter(H=>{var q,M,O,W;const te=((q=H.tanggal)==null?void 0:q.includes(w))||((M=H.namaEquipment)==null?void 0:M.toLowerCase().includes(w.toLowerCase()))||((O=H.posisiPengukuran)==null?void 0:O.toLowerCase().includes(w.toLowerCase()))||((W=H.pointPengukuran)==null?void 0:W.toLowerCase().includes(w.toLowerCase())),C=H._plant===S;return te&&C}),J={normal:ge.filter(H=>H.status==="Normal").length,warning:ge.filter(H=>H.status==="Warning").length,alert:ge.filter(H=>H.status==="Alert").length},T=H=>{switch(H){case"Normal":return"success";case"Warning":return"warning";case"Alert":return"danger";default:return"default"}},L=[{key:"tanggal",header:"Tanggal",sortable:!0,render:H=>Ve(H)},{key:"namaEquipment",header:"Equipment",render:H=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mu,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:H})]})},{key:"posisiPengukuran",header:"Posisi Pengukuran",render:H=>a.jsx(Ae,{variant:"default",children:H})},{key:"pointPengukuran",header:"Point Pengukuran",render:H=>a.jsx(Ae,{variant:"primary",children:H})},{key:"nilaiVibrasi",header:"Vibrasi (mm/s)",render:H=>{const te=oe(H);return a.jsx("span",{className:`font-bold ${te>=7?"text-red-600":te>=4?"text-amber-600":"text-green-600"}`,children:X(te)})}},{key:"status",header:"Status",render:H=>a.jsx(Ae,{variant:T(H),children:H})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Data Vibrasi ",S==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Monitoring vibrasi equipment produksi"})]}),a.jsx("div",{className:"flex items-center gap-3",children:z&&a.jsxs(se,{onClick:G,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(mu,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Normal"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:J.normal})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Al,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Warning"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:J.warning})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Al,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Alert"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:J.alert})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-dark-100 rounded-lg",children:a.jsx(mu,{className:"h-5 w-5 text-dark-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pengukuran"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:ge.length})]})]})})]}),a.jsx(ke,{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(mu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Panduan Status Vibrasi"}),a.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(Ae,{variant:"success",children:"Normal"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"< 4 mm/s"})]}),a.jsxs("div",{children:[a.jsx(Ae,{variant:"warning",children:"Warning"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"4 - 7 mm/s"})]}),a.jsxs("div",{children:[a.jsx(Ae,{variant:"danger",children:"Alert"}),a.jsx("p",{className:"text-dark-600 mt-1",children:"> 7 mm/s"})]})]})]})]})}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Pengukuran Vibrasi"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:H=>N(H.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:ge,columns:L,loading:l,searchable:!1,actions:Q?H=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),D(H.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})})}):H=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),D(H.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),ye(H)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),ue(H.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(ru),b(null)},title:m?"Edit Data Vibrasi":"Tambah Data Vibrasi",size:"md",children:a.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:H=>j(te=>({...te,tanggal:H.target.value})),required:!0}),a.jsx(fe,{label:"Nama Equipment",type:"text",value:x.namaEquipment,onChange:H=>j(te=>({...te,namaEquipment:H.target.value})),placeholder:"Masukkan nama equipment",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ze,{label:"Posisi Pengukuran",value:x.posisiPengukuran,onChange:H=>j(te=>({...te,posisiPengukuran:H.target.value})),options:le,placeholder:"Pilih posisi",required:!0}),a.jsx(ze,{label:"Point Pengukuran",value:x.pointPengukuran,onChange:H=>j(te=>({...te,pointPengukuran:H.target.value})),options:ce,placeholder:"Pilih point",required:!0})]}),a.jsx(fe,{label:"Nilai Vibrasi (mm/s)",type:"number",step:"0.1",value:x.nilaiVibrasi||"",onChange:H=>j(te=>({...te,nilaiVibrasi:parseFloat(H.target.value)||0})),placeholder:"0.0",required:!0}),a.jsx("div",{className:"p-4 bg-dark-50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600",children:"Status:"}),a.jsx(Ae,{variant:T(x.status||"Normal"),className:"text-lg px-4",children:x.status})]})}),a.jsx(fe,{label:"Keterangan",type:"text",value:x.keterangan,onChange:H=>j(te=>({...te,keterangan:H.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(ru),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ae,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:P,onClose:()=>{A(!1),_(null)},onSubmit:ve,actionType:$,isLoading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:U,onClose:()=>{K(!1),ne("")},sheetName:S==="NPK1"?"vibrasi_NPK1":"vibrasi",recordId:Y,title:"Log Aktivitas Vibrasi"})]})},nu={tanggal:Mt(),nomorGatePass:"",noPolisi:"",pemilikBarang:"",namaPembawa:"",mengetahui:"",deskripsiBarang:"",alasanKeluar:""},WT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(nu),[w,N]=k.useState(""),[S,P]=k.useState(!1),[A,$]=k.useState(null),I=e,[E,_]=k.useState(!1),[U,K]=k.useState(""),Y=C=>{K(C),_(!0)},[ne,D]=k.useState(!1),[R,z]=k.useState("edit"),[V,Z]=k.useState(null),B=ur((t==null?void 0:t.role)||""),Q=gr((t==null?void 0:t.role)||"")&&!B,le=k.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);tr(le,u),ko((t==null?void 0:t.role)||""),wo((t==null?void 0:t.role)||"");const ce=Sr((t==null?void 0:t.role)||""),pe=Nr((t==null?void 0:t.role)||""),ye=C=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][C];k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:q,SHEETS:M}=await Me(async()=>{const{fetchDataByPlant:W,SHEETS:he}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:W,SHEETS:he}},void 0),O=await q(M.GATE_PASS);if(O.success&&O.data){const W=[...O.data].sort((he,F)=>new Date(F.tanggal).getTime()-new Date(he.tanggal).getTime());o(W)}else o([])}catch(q){console.error("Error fetching data:",q),o([])}finally{c(!1)}})()},[]);const ue=()=>{const C=new Date,q=C.getFullYear(),M=C.getMonth(),O=ye(M),W=I==="NPK1"?"NPK-1":"NPK-2",he=i.filter(ie=>{if(!ie.tanggal)return!1;const me=new Date(ie.tanggal);return me.getMonth()===M&&me.getFullYear()===q&&ie._plant===I});return`${String(he.length+1).padStart(3,"0")}/GP/${W}/${O}/${q}`},ve=async C=>{C.preventDefault(),c(!0);try{if(m){const q={...x,id:m,_plant:I},M=await n(wr.GATE_PASS,q);if(M.success)o(O=>O.map(W=>W.id===m?{...x,id:m,_plant:I}:W));else throw new Error(M.error||"Gagal mengupdate data")}else{const q={...x,nomorGatePass:x.nomorGatePass||ue(),_plant:I},M=await r(wr.GATE_PASS,q);if(M.success&&M.data){const O={...M.data,_plant:e};o(W=>[O,...W])}else throw new Error(M.error||"Gagal menyimpan data")}d(!1),j(nu),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(q){console.error("Error saving data:",q),alert(q instanceof Error?q.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ae=C=>{if(ce){Z(C),z("edit"),D(!0);return}j(C),b(C.id||null),d(!0)},G=C=>{if(pe){y(C),z("delete"),D(!0);return}y(C),h(!0)},ge=async C=>{c(!0);try{const{createData:q,SHEETS:M}=await Me(async()=>{const{createData:he,SHEETS:F}=await Promise.resolve().then(()=>$e);return{createData:he,SHEETS:F}},void 0),O={type:"GATE_PASS",action:R,itemId:R==="edit"?V==null?void 0:V.id:v,itemData:R==="edit"?V:i.find(he=>he.id===v),reason:C,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},W=await q(M.APPROVAL_REQUESTS,O);if(W.success)D(!1),Z(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(W.error||"Gagal mengirim permintaan")}catch(q){console.error("Error submitting approval:",q),alert(q instanceof Error?q.message:"Terjadi kesalahan")}finally{c(!1)}},J=async()=>{if(v){c(!0);try{const C=i.find(M=>M.id===v),q=await s(wr.GATE_PASS,{id:v,_plant:C==null?void 0:C._plant});if(q.success)o(M=>M.filter(O=>O.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(q.error||"Gagal menghapus data")}catch(C){console.error("Error deleting data:",C),alert(C instanceof Error?C.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},T=()=>{j({...nu,nomorGatePass:ue()}),b(null),d(!0)},L=i.filter(C=>{var O,W,he,F,ie,me,Ne,Ie;const q=((O=C.tanggal)==null?void 0:O.includes(w))||((W=C.nomorGatePass)==null?void 0:W.toLowerCase().includes(w.toLowerCase()))||((he=C.noPolisi)==null?void 0:he.toLowerCase().includes(w.toLowerCase()))||((F=C.pemilikBarang)==null?void 0:F.toLowerCase().includes(w.toLowerCase()))||((ie=C.namaPembawa)==null?void 0:ie.toLowerCase().includes(w.toLowerCase()))||((me=C.mengetahui)==null?void 0:me.toLowerCase().includes(w.toLowerCase()))||((Ne=C.deskripsiBarang)==null?void 0:Ne.toLowerCase().includes(w.toLowerCase()))||((Ie=C.alasanKeluar)==null?void 0:Ie.toLowerCase().includes(w.toLowerCase())),M=C._plant===I;return q&&M}),H=[{key:"tanggal",header:"Tanggal",sortable:!0,render:C=>Ve(C)},{key:"nomorGatePass",header:"No. Gate Pass",render:C=>a.jsx("span",{className:"font-mono font-semibold text-primary-600",children:C})},{key:"noPolisi",header:"No Polisi"},{key:"pemilikBarang",header:"Pemilik Barang"},{key:"namaPembawa",header:"Nama Pembawa"},{key:"mengetahui",header:"Mengetahui"},{key:"deskripsiBarang",header:"Deskripsi Barang",render:C=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:C})},{key:"alasanKeluar",header:"Alasan Mengeluarkan",render:C=>a.jsx("span",{className:"line-clamp-2 max-w-xs whitespace-pre-wrap",children:C})}],te=L.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Gate Pass ",I==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data gate pass barang masuk/keluar"})]}),a.jsx("div",{className:"flex items-center gap-3",children:Q&&a.jsxs(se,{onClick:T,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Buat Gate Pass"]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(d_,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Gate Pass"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:te})]})]})})}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Gate Pass"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:C=>N(C.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:L,columns:H,loading:l,searchable:!1,actions:C=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),$(C),P(!0)},title:"Cetak Gate Pass",children:a.jsx(Ir,{className:"h-4 w-4 text-amber-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),Y(C.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),!B&&a.jsxs(a.Fragment,{children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),ae(C)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:q=>{q.stopPropagation(),G(C.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(nu),b(null)},title:m?"Edit Gate Pass":"Buat Gate Pass",size:"lg",children:a.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:C=>j(q=>({...q,tanggal:C.target.value})),required:!0}),a.jsx(fe,{label:"No. Gate Pass",type:"text",value:x.nomorGatePass,onChange:C=>j(q=>({...q,nomorGatePass:C.target.value})),placeholder:"Auto generate",disabled:!m})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"No Polisi",type:"text",value:x.noPolisi,onChange:C=>j(q=>({...q,noPolisi:C.target.value})),placeholder:"Contoh: T 8643 HI",required:!0}),a.jsx(fe,{label:"Pemilik Barang",type:"text",value:x.pemilikBarang,onChange:C=>j(q=>({...q,pemilikBarang:C.target.value})),placeholder:"Nama pemilik barang",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Nama Pembawa",type:"text",value:x.namaPembawa,onChange:C=>j(q=>({...q,namaPembawa:C.target.value})),placeholder:"Nama pembawa barang",required:!0}),a.jsx(fe,{label:"Mengetahui",type:"text",value:x.mengetahui,onChange:C=>j(q=>({...q,mengetahui:C.target.value})),placeholder:"Nama yang mengetahui",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Barang"}),a.jsx("textarea",{value:x.deskripsiBarang,onChange:C=>j(q=>({...q,deskripsiBarang:C.target.value})),placeholder:"Deskripsi detail barang...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Mengeluarkan"}),a.jsx("textarea",{value:x.alasanKeluar,onChange:C=>j(q=>({...q,alasanKeluar:C.target.value})),placeholder:"Alasan mengeluarkan barang...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(nu),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:J,title:"Hapus Gate Pass",message:"Apakah Anda yakin ingin menghapus gate pass ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:ne,onClose:()=>{D(!1),Z(null),y(null)},onSubmit:ge,action:R,itemName:"gate pass",loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),A&&a.jsx(rK,{isOpen:S,onClose:()=>{P(!1),$(null)},data:A,plant:I}),a.jsx(Br,{isOpen:E,onClose:()=>{_(!1),K("")},sheetName:I==="NPK1"?"gatepass_NPK1":"gatepass",recordId:U,title:"Log Aktivitas Gate Pass"})]})},au={tanggal:Mt(),nomorPerta:"",deskripsi:"",status:"Open",shift:"1",jenisBBM:"Solar",volumeAwal:0,volumePengisian:0,volumePemakaian:0,volumeAkhir:0,keterangan:""},ope=()=>{var ve;const{user:e}=et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Tr(),[s,i]=k.useState([]),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[g,m]=k.useState(null),[b,v]=k.useState(null),[y,x]=k.useState(au),[j,w]=k.useState(""),[N,S]=k.useState((e==null?void 0:e.plant)||"ALL"),[P,A]=k.useState(!1),[$,I]=k.useState("edit"),[E,_]=k.useState(null),U=ur((e==null?void 0:e.role)||""),K=gr((e==null?void 0:e.role)||"")&&!U,Y=k.useCallback(()=>{if(c&&!o){const ae=document.querySelector("form");ae&&ae.requestSubmit()}},[c,o]);tr(Y,c),ko((e==null?void 0:e.role)||""),wo((e==null?void 0:e.role)||"");const ne=Sr((e==null?void 0:e.role)||""),D=Nr((e==null?void 0:e.role)||""),R=[{value:"Solar",label:"Solar"},{value:"Pertamax",label:"Pertamax"},{value:"Pertalite",label:"Pertalite"},{value:"Premium",label:"Premium"},{value:"Biosolar",label:"Biosolar"}];k.useEffect(()=>{(async()=>{l(!0);try{const{fetchDataByPlant:G,SHEETS:ge}=await Me(async()=>{const{fetchDataByPlant:T,SHEETS:L}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:T,SHEETS:L}},void 0),J=await G(ge.PERTA);if(J.success&&J.data){const T=[...J.data].sort((L,H)=>new Date(H.tanggal).getTime()-new Date(L.tanggal).getTime());i(T)}else i([])}catch(G){console.error("Error fetching data:",G),i([])}finally{l(!1)}})()},[]),k.useEffect(()=>{const ae=(y.volumeAwal||0)+(y.volumePengisian||0)-(y.volumePemakaian||0);x(G=>({...G,volumeAkhir:ae>0?ae:0}))},[y.volumeAwal,y.volumePengisian,y.volumePemakaian]);const z=async ae=>{ae.preventDefault(),l(!0);try{const G=(e==null?void 0:e.plant)==="ALL"?"NPK2":e==null?void 0:e.plant;if(g){const ge={...y,id:g,_plant:G},J=await r("perta",ge);if(J.success)i(T=>T.map(L=>L.id===g?{...y,id:g,_plant:G}:L));else throw new Error(J.error||"Gagal mengupdate data")}else{const ge={...y,_plant:G},J=await t("perta",ge);if(J.success&&J.data){const T={...J.data,_plant:G};i(L=>[T,...L])}else throw new Error(J.error||"Gagal menyimpan data")}u(!1),x(au),m(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(G){console.error("Error saving data:",G),alert(G instanceof Error?G.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},V=ae=>{if(ne){_(ae),I("edit"),A(!0);return}x(ae),m(ae.id||null),u(!0)},Z=ae=>{if(D){v(ae),I("delete"),A(!0);return}v(ae),f(!0)},B=async ae=>{l(!0);try{const{createData:G,SHEETS:ge}=await Me(async()=>{const{createData:L,SHEETS:H}=await Promise.resolve().then(()=>$e);return{createData:L,SHEETS:H}},void 0),J={type:"PERTA",action:$,itemId:$==="edit"?E==null?void 0:E.id:b,itemData:$==="edit"?E:s.find(L=>L.id===b),reason:ae,submittedBy:(e==null?void 0:e.nama)||(e==null?void 0:e.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},T=await G(ge.APPROVAL_REQUESTS,J);if(T.success)A(!1),_(null),v(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(T.error||"Gagal mengirim permintaan")}catch(G){console.error("Error submitting approval:",G),alert(G instanceof Error?G.message:"Terjadi kesalahan")}finally{l(!1)}},Q=async()=>{if(b){l(!0);try{const ae=s.find(ge=>ge.id===b),G=await n("perta",{id:b,_plant:ae==null?void 0:ae._plant});if(G.success)i(ge=>ge.filter(J=>J.id!==b)),f(!1),v(null),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(G.error||"Gagal menghapus data")}catch(ae){console.error("Error deleting data:",ae),alert(ae instanceof Error?ae.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1)}}},le=()=>{const ae=s[0];x({...au,volumeAwal:(ae==null?void 0:ae.volumeAkhir)||0}),m(null),u(!0)},ce=s.filter(ae=>{var J,T;const G=((J=ae.tanggal)==null?void 0:J.includes(j))||((T=ae.jenisBBM)==null?void 0:T.toLowerCase().includes(j.toLowerCase())),ge=N==="ALL"||ae._plant===N;return G&&ge}),pe=ce.reduce((ae,G)=>({pengisian:ae.pengisian+(G.volumePengisian||0),pemakaian:ae.pemakaian+(G.volumePemakaian||0)}),{pengisian:0,pemakaian:0}),ye=((ve=ce[0])==null?void 0:ve.volumeAkhir)||0,ue=[{key:"tanggal",header:"Tanggal",sortable:!0,render:ae=>Ve(ae)},{key:"shift",header:"Shift",render:ae=>a.jsxs(Ae,{variant:"primary",children:["Shift ",ae]})},{key:"jenisBBM",header:"Jenis BBM",render:ae=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zi,{className:"h-4 w-4 text-amber-500"}),a.jsx("span",{className:"font-medium",children:ae})]})},{key:"volumeAwal",header:"Vol. Awal (L)",render:ae=>X(oe(ae))},{key:"volumePengisian",header:"Pengisian (L)",render:ae=>a.jsxs("span",{className:"text-green-600 font-semibold",children:["+",X(oe(ae))]})},{key:"volumePemakaian",header:"Pemakaian (L)",render:ae=>a.jsxs("span",{className:"text-red-600 font-semibold",children:["-",X(oe(ae))]})},{key:"volumeAkhir",header:"Vol. Akhir (L)",render:ae=>a.jsx("span",{className:"font-bold text-dark-900 dark:text-white",children:X(oe(ae))})},{key:"keterangan",header:"Keterangan"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Data Perta (BBM)"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data pemakaian bahan bakar"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.plant)==="ALL"&&a.jsx(ze,{value:N,onChange:ae=>S(ae.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),K&&a.jsxs(se,{onClick:le,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"p-4 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(zi,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Stock Saat Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[X(ye)," L"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(zi,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pengisian"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",X(pe.pengisian)," L"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zi,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Pemakaian"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-",X(pe.pemakaian)," L"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-dark-100 rounded-lg",children:a.jsx(zi,{className:"h-5 w-5 text-dark-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Jumlah Entry"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:ce.length})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Pemakaian BBM"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:j,onChange:ae=>w(ae.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:ce,columns:ue,loading:o,searchable:!1,actions:U?void 0:ae=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),V(ae)},children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:G=>{G.stopPropagation(),Z(ae.id)},children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})})]}),a.jsx(Ge,{isOpen:c,onClose:()=>{u(!1),x(au),m(null)},title:g?"Edit Data BBM":"Tambah Data BBM",size:"md",children:a.jsxs("form",{onSubmit:z,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:y.tanggal,onChange:ae=>x(G=>({...G,tanggal:ae.target.value})),required:!0}),a.jsx(ze,{label:"Shift",value:y.shift,onChange:ae=>x(G=>({...G,shift:ae.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0})]}),a.jsx(ze,{label:"Jenis BBM",value:y.jenisBBM,onChange:ae=>x(G=>({...G,jenisBBM:ae.target.value})),options:R,required:!0}),a.jsx(fe,{label:"Volume Awal (Liter)",type:"number",value:y.volumeAwal||"",onChange:ae=>x(G=>({...G,volumeAwal:parseFloat(ae.target.value)||0})),placeholder:"0",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Volume Pengisian (Liter)",type:"number",value:y.volumePengisian||"",onChange:ae=>x(G=>({...G,volumePengisian:parseFloat(ae.target.value)||0})),placeholder:"0"}),a.jsx(fe,{label:"Volume Pemakaian (Liter)",type:"number",value:y.volumePemakaian||"",onChange:ae=>x(G=>({...G,volumePemakaian:parseFloat(ae.target.value)||0})),placeholder:"0",required:!0})]}),a.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600 font-medium",children:"Volume Akhir:"}),a.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[X(y.volumeAkhir||0)," Liter"]})]})}),a.jsx(fe,{label:"Keterangan",type:"text",value:y.keterangan,onChange:ae=>x(G=>({...G,keterangan:ae.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{u(!1),x(au),m(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:o,children:g?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:d,onClose:()=>{f(!1),v(null)},onConfirm:Q,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini?",confirmText:"Hapus",variant:"danger",isLoading:o}),a.jsx(Pr,{isOpen:P,onClose:()=>{A(!1),_(null),v(null)},onSubmit:B,action:$,itemName:"data perta",loading:o}),a.jsx(Vt,{isVisible:h,message:"Data berhasil disimpan!",onClose:()=>p(!1)})]})},su={tanggalMulai:Mt(),items:[{item:"",deskripsi:""}],tanggalSelesai:"",jumlahHari:0},GT=({plant:e})=>{var M;const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(su),[w,N]=k.useState(""),S=e,[P,A]=k.useState(!1),[$,I]=k.useState(null),[E,_]=k.useState(!1),[U,K]=k.useState(""),Y=O=>{K(O),_(!0)},[ne,D]=k.useState(!1),[R,z]=k.useState("edit"),[V,Z]=k.useState(null),B=ur((t==null?void 0:t.role)||""),Q=gr((t==null?void 0:t.role)||"")&&!B,le=k.useCallback(()=>{if(u&&!l){const O=document.querySelector("form");O&&O.requestSubmit()}},[u,l]);tr(le,u);const ce=Sr((t==null?void 0:t.role)||""),pe=Nr((t==null?void 0:t.role)||"");k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:W,SHEETS:he}=await Me(async()=>{const{fetchDataByPlant:ie,SHEETS:me}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:ie,SHEETS:me}},void 0),F=await W(he.PERBAIKAN_TAHUNAN);if(F.success&&F.data){const me=F.data.map(Ne=>({...Ne,items:typeof Ne.items=="string"?JSON.parse(Ne.items):Ne.items||[]})).sort((Ne,Ie)=>new Date(Ie.tanggalMulai||0).getTime()-new Date(Ne.tanggalMulai||0).getTime());o(me)}else o([])}catch(W){console.error("Error fetching data:",W),o([])}finally{c(!1)}})()},[]),k.useEffect(()=>{if(x.tanggalMulai&&x.tanggalSelesai){const O=new Date(x.tanggalMulai),he=new Date(x.tanggalSelesai).getTime()-O.getTime(),F=Math.ceil(he/(1e3*3600*24))+1;j(ie=>({...ie,jumlahHari:F>0?F:0}))}else j(O=>({...O,jumlahHari:0}))},[x.tanggalMulai,x.tanggalSelesai]);const ye=async O=>{O.preventDefault(),c(!0);try{const W={...x,items:JSON.stringify(x.items)};if(m){const he={...W,id:m,_plant:S},F=await n("perbaikan_tahunan",he);if(F.success)o(ie=>ie.map(me=>me.id===m?{...x,id:m,_plant:S}:me));else throw new Error(F.error||"Gagal mengupdate data")}else{const he={...W,_plant:S},F=await r("perbaikan_tahunan",he);if(F.success&&F.data){const ie={...x,id:F.data.id,_plant:S};o(me=>[ie,...me])}else throw new Error(F.error||"Gagal menyimpan data")}d(!1),j(su),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(W){console.error("Error saving data:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},ue=O=>{I(O),A(!0)},ve=O=>{if(ce){Z(O),z("edit"),D(!0);return}j({...O,items:Array.isArray(O.items)?O.items:[{item:"",deskripsi:""}]}),b(O.id||null),d(!0)},ae=O=>{if(pe){y(O),z("delete"),D(!0);return}y(O),h(!0)},G=async O=>{c(!0);try{const{createData:W,SHEETS:he}=await Me(async()=>{const{createData:me,SHEETS:Ne}=await Promise.resolve().then(()=>$e);return{createData:me,SHEETS:Ne}},void 0),F={type:"PERBAIKAN_TAHUNAN",action:R,itemId:R==="edit"?V==null?void 0:V.id:v,itemData:R==="edit"?V:i.find(me=>me.id===v),reason:O,submittedBy:(t==null?void 0:t.nama)||(t==null?void 0:t.email)||"Unknown",submittedAt:new Date().toISOString(),status:"pending"},ie=await W(he.APPROVAL_REQUESTS,F);if(ie.success)D(!1),Z(null),y(null),alert("Permintaan telah dikirim dan menunggu persetujuan");else throw new Error(ie.error||"Gagal mengirim permintaan")}catch(W){console.error("Error submitting approval:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan")}finally{c(!1)}},ge=async()=>{if(v){c(!0);try{const O=i.find(he=>he.id===v),W=await s("perbaikan_tahunan",{id:v,_plant:O==null?void 0:O._plant});if(W.success)o(he=>he.filter(F=>F.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(W.error||"Gagal menghapus data")}catch(O){console.error("Error deleting data:",O),alert(O instanceof Error?O.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},J=()=>{j(su),b(null),d(!0)},T=()=>{j(O=>({...O,items:[...O.items,{item:"",deskripsi:""}]}))},L=O=>{x.items.length>1&&j(W=>({...W,items:W.items.filter((he,F)=>F!==O)}))},H=(O,W,he)=>{j(F=>({...F,items:F.items.map((ie,me)=>me===O?{...ie,[W]:he}:ie)}))},te=i.filter(O=>{var F,ie,me;const W=((F=O.tanggalMulai)==null?void 0:F.includes(w))||((ie=O.tanggalSelesai)==null?void 0:ie.includes(w))||((me=O.items)==null?void 0:me.some(Ne=>{var Ie,qe;return((Ie=Ne.item)==null?void 0:Ie.toLowerCase().includes(w.toLowerCase()))||((qe=Ne.deskripsi)==null?void 0:qe.toLowerCase().includes(w.toLowerCase()))})),he=O._plant===S;return W&&he}),C=te.reduce((O,W)=>O+(W.jumlahHari||0),0),q=[{key:"tanggalMulai",header:"Tanggal Mulai",sortable:!0,render:O=>Ve(O)},{key:"tanggalSelesai",header:"Tanggal Selesai",render:O=>O?Ve(O):"-"},{key:"items",header:"Item Perbaikan",render:O=>{const W=O;return!W||!Array.isArray(W)?"-":a.jsxs("div",{className:"max-w-xs",children:[W.slice(0,2).map((he,F)=>a.jsx("div",{className:"text-sm",children:a.jsx("span",{className:"font-medium",children:he.item})},F)),W.length>2&&a.jsxs("span",{className:"text-xs text-dark-400",children:["+",W.length-2," lainnya"]})]})}},{key:"jumlahHari",header:"Jumlah Hari",render:O=>a.jsxs(Ae,{variant:"primary",children:[O," Hari"]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Perbaikan Tahunan ",S==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola data perbaikan tahunan (PERTA)"})]}),a.jsx("div",{className:"flex items-center gap-3",children:Q&&a.jsxs(se,{onClick:J,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(TS,{className:"h-5 w-5 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Perbaikan"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:te.length})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(ra,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Hari Perta"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[C," Hari"]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Perbaikan Tahunan"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:O=>N(O.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:te,columns:q,loading:l,searchable:!1,actions:O=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ue(O)},title:"Lihat Detail",children:a.jsx(ki,{className:"h-4 w-4 text-dark-500"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),Y(O.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),!B&&a.jsxs(a.Fragment,{children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ve(O)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ae(O.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(su),b(null)},title:m?"Edit Perbaikan Tahunan":"Tambah Perbaikan Tahunan",size:"lg",children:a.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal Mulai Perta",type:"date",value:x.tanggalMulai,onChange:O=>j(W=>({...W,tanggalMulai:O.target.value})),required:!0}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700",children:"Item & Deskripsi Perbaikan"}),a.jsxs(se,{type:"button",variant:"ghost",size:"sm",onClick:T,children:[a.jsx(z8,{className:"h-4 w-4 mr-1"}),"Tambah Item"]})]}),x.items.map((O,W)=>a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-dark-600",children:["Item ",W+1]}),x.items.length>1&&a.jsx(se,{type:"button",variant:"ghost",size:"icon",onClick:()=>L(W),className:"h-6 w-6",children:a.jsx(L8,{className:"h-4 w-4 text-red-500"})})]}),a.jsx(fe,{type:"text",value:O.item,onChange:he=>H(W,"item",he.target.value),placeholder:"Nama item perbaikan",required:!0}),a.jsx("textarea",{value:O.deskripsi,onChange:he=>H(W,"deskripsi",he.target.value),placeholder:"Deskripsi perbaikan...",className:"input-field min-h-[80px]",required:!0})]},W))]}),a.jsx(fe,{label:"Tanggal Selesai Perta",type:"date",value:x.tanggalSelesai,onChange:O=>j(W=>({...W,tanggalSelesai:O.target.value}))}),a.jsx("div",{className:"p-4 bg-primary-50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-dark-600 font-medium",children:"Jumlah Hari Perta:"}),a.jsxs(Ae,{variant:"primary",className:"text-lg px-4",children:[x.jumlahHari," Hari"]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(su),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Ge,{isOpen:P,onClose:()=>{A(!1),I(null)},title:"Detail Perbaikan Tahunan",size:"lg",children:$&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-100 text-sm font-medium",children:"Perbaikan Tahunan (PERTA)"}),a.jsx("h2",{className:"text-2xl font-bold mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),a.jsx("div",{className:"text-right",children:a.jsxs(Ae,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:[$.jumlahHari," Hari"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(ra,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Mulai"}),a.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:Ve($.tanggalMulai)})]})]})}),a.jsx("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(tl,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal Selesai"}),a.jsx("p",{className:"text-lg font-semibold text-dark-900 dark:text-white",children:$.tanggalSelesai?Ve($.tanggalSelesai):"-"})]})]})})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ia,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Item Perbaikan"}),a.jsxs(Ae,{variant:"primary",className:"ml-auto",children:[((M=$.items)==null?void 0:M.length)||0," Item"]})]}),a.jsx("div",{className:"space-y-3",children:$.items&&$.items.map((O,W)=>a.jsx("div",{className:"bg-white dark:bg-dark-700 rounded-xl p-4 border border-dark-200 dark:border-dark-600 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-bold text-sm",children:W+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-dark-900 dark:text-white mb-1",children:O.item}),a.jsx("p",{className:"text-dark-600 dark:text-dark-300 text-sm leading-relaxed",children:O.deskripsi})]})]})},W))})]}),a.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-200 dark:bg-amber-800 rounded-lg",children:a.jsx(Va,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 font-medium",children:"Total Durasi Perbaikan"}),a.jsxs("p",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:[$.jumlahHari," Hari"]})]})]}),a.jsx(TS,{className:"h-12 w-12 text-amber-300 dark:text-amber-700"})]})}),a.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:a.jsx(se,{variant:"secondary",onClick:()=>{A(!1),I(null)},children:"Tutup"})})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ge,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data perbaikan tahunan ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:ne,onClose:()=>{D(!1),Z(null),y(null)},onSubmit:G,action:R,itemName:"perbaikan tahunan",loading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:E,onClose:()=>{_(!1),K("")},sheetName:S==="NPK1"?"perbaikan_tahunan_NPK1":"perbaikan_tahunan",recordId:U,title:"Log Aktivitas Perbaikan Tahunan"})]})},iu={nomorBerkas:"",tanggal:Mt(),tanggalKejadian:Mt(),shift:"1",waktuKejadian:"",kodePeralatan:"",area:"",deskripsiMasalah:"",penyebab:"",tindakan:"",status:"Open",pic:"",targetSelesai:"",keterangan:""},qT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(iu),[w,N]=k.useState(""),S=e,[P,A]=k.useState(!1),[$,I]=k.useState(null),[E,_]=k.useState(!1),[U,K]=k.useState(""),Y=O=>{K(O),_(!0)},[ne,D]=k.useState(!1),[R,z]=k.useState("edit"),[V,Z]=k.useState(null),B=(t==null?void 0:t.role)||"",Q=gr(B),le=k.useCallback(()=>{if(u&&!l){const O=document.querySelector("form");O&&O.requestSubmit()}},[u,l]);tr(le,u);const ce=Sr(B),pe=Nr(B),ye=ur(B),ue=[{value:"Granulator",label:"Granulator"},{value:"Dryer",label:"Dryer"},{value:"Cooler",label:"Cooler"},{value:"Screening",label:"Screening"},{value:"Coater",label:"Coater"},{value:"Bagging",label:"Bagging"},{value:"Utility",label:"Utility"},{value:"Belt Conveyor",label:"Belt Conveyor"},{value:"Bucket Elevator",label:"Bucket Elevator"},{value:"Control Room",label:"Control Room"},{value:"Lainnya",label:"Lainnya"}],ve=[{value:"Open",label:"Open"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Pending",label:"Pending"}];k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:W,SHEETS:he}=await Me(async()=>{const{fetchDataByPlant:ie,SHEETS:me}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:ie,SHEETS:me}},void 0),F=await W(he.TROUBLE_RECORD);if(F.success&&F.data){const ie=[...F.data].sort((me,Ne)=>new Date(Ne.tanggal).getTime()-new Date(me.tanggal).getTime());o(ie)}else o([])}catch(W){console.error("Error fetching data:",W),o([])}finally{c(!1)}})()},[]);const ae=async O=>{O.preventDefault(),c(!0);try{if(m){const W={...x,id:m,_plant:S},he=await n(wr.TROUBLE_RECORD,W);if(he.success)o(F=>F.map(ie=>ie.id===m?{...x,id:m,_plant:S}:ie));else throw new Error(he.error||"Gagal mengupdate data")}else{const W={...x,_plant:S},he=await r(wr.TROUBLE_RECORD,W);if(he.success&&he.data){const F={...he.data,_plant:S};o(ie=>[F,...ie])}else throw new Error(he.error||"Gagal menyimpan data")}d(!1),j(iu),b(null),g(!0),setTimeout(()=>g(!1),2e3)}catch(W){console.error("Error saving data:",W),alert(W instanceof Error?W.message:"Terjadi kesalahan saat menyimpan data")}finally{c(!1)}},G=O=>{I(O),A(!0)},ge=O=>{if(ce){Z(O),z("edit"),D(!0);return}j(O),b(O.id||null),d(!0)},J=O=>{if(pe){const W=i.find(he=>he.id===O);W&&(Z(W),z("delete"),D(!0));return}y(O),h(!0)},T=async O=>{if(!(!V||!t)){c(!0);try{const W="https://script.google.com/macros/s/AKfycbwhf1qqyKphj6flFppZSczHJDqERKyfn6qoh-LVhfS8thGvZw085lqDGMKKHyt_uYcwEw/exec",he={action:"create",sheet:"APPROVAL_REQUESTS",data:{requestedBy:t.nama,requestedByRole:t.role,requestedByPlant:t.plant,actionType:R,targetSheet:"TROUBLE_RECORD",targetId:V.id,targetData:JSON.stringify(V),reason:O,status:"pending",requestedAt:new Date().toISOString()}},F=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he),mode:"no-cors"});alert("Permintaan approval telah dikirim ke AVP/Supervisor/Admin"),D(!1),Z(null)}catch(W){console.error("Error submitting approval:",W),alert("Gagal mengirim permintaan approval")}finally{c(!1)}}},L=async()=>{if(v){c(!0);try{const O=i.find(he=>he.id===v),W=await s(wr.TROUBLE_RECORD,{id:v,_plant:O==null?void 0:O._plant});if(W.success)o(he=>he.filter(F=>F.id!==v)),h(!1),y(null),g(!0),setTimeout(()=>g(!1),2e3);else throw new Error(W.error||"Gagal menghapus data")}catch(O){console.error("Error deleting data:",O),alert(O instanceof Error?O.message:"Terjadi kesalahan saat menghapus data")}finally{c(!1)}}},H=()=>{j(iu),b(null),d(!0)},te=i.filter(O=>{var F,ie,me,Ne;const W=((F=O.tanggal)==null?void 0:F.includes(w))||((ie=O.area)==null?void 0:ie.toLowerCase().includes(w.toLowerCase()))||((me=O.deskripsiMasalah)==null?void 0:me.toLowerCase().includes(w.toLowerCase()))||((Ne=O.pic)==null?void 0:Ne.toLowerCase().includes(w.toLowerCase())),he=O._plant===S;return W&&he}),C={open:te.filter(O=>O.status==="Open").length,progress:te.filter(O=>O.status==="In Progress").length,closed:te.filter(O=>O.status==="Closed").length,pending:te.filter(O=>O.status==="Pending").length},q=O=>{switch(O){case"Open":return"danger";case"In Progress":return"warning";case"Closed":return"success";case"Pending":return"info";default:return"default"}},M=[{key:"tanggal",header:"Tanggal",sortable:!0,render:O=>Ve(O)},{key:"shift",header:"Shift",render:O=>a.jsxs(Ae,{variant:"primary",children:["Shift ",O]})},{key:"waktuKejadian",header:"Waktu",render:O=>nn(O)},{key:"area",header:"Area",render:O=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ki,{className:"h-4 w-4 text-dark-400"}),a.jsx("span",{className:"font-medium",children:O})]})},{key:"deskripsiMasalah",header:"Deskripsi Masalah",render:O=>a.jsx("span",{className:"line-clamp-2 max-w-xs",children:O})},{key:"pic",header:"PIC"},{key:"status",header:"Status",render:O=>a.jsx(Ae,{variant:q(O),children:O})},{key:"targetSelesai",header:"Target",render:O=>Ve(O)}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:["Trouble Record ",S==="NPK1"?"NPK 1":"NPK 2"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Catatan masalah dan tindak lanjut"})]}),a.jsx("div",{className:"flex items-center gap-3",children:Q&&a.jsxs(se,{onClick:H,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Catat Trouble"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{className:"p-4 border-l-4 border-l-red-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Ki,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Open"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:C.open})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-amber-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Va,{className:"h-5 w-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:C.progress})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-green-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ki,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Closed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.closed})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-gray-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(Ki,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:C.pending})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Data Trouble Record"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:w,onChange:O=>N(O.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:te,columns:M,loading:l,searchable:!1,actions:O=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),G(O)},title:"Lihat Detail",children:a.jsx(ki,{className:"h-4 w-4 text-dark-500"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),Y(O.id)},title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),!ye&&a.jsxs(a.Fragment,{children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),ge(O)},title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:W=>{W.stopPropagation(),J(O.id)},title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),j(iu),b(null)},title:m?"Edit Trouble Record":"Catat Trouble Baru",size:"lg",children:a.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:O=>j(W=>({...W,tanggal:O.target.value})),required:!0}),a.jsx(ze,{label:"Shift",value:x.shift,onChange:O=>j(W=>({...W,shift:O.target.value})),options:[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],required:!0}),a.jsx(fe,{label:"Waktu Kejadian",type:"time",value:x.waktuKejadian,onChange:O=>j(W=>({...W,waktuKejadian:O.target.value})),required:!0})]}),a.jsx(ze,{label:"Area",value:x.area,onChange:O=>j(W=>({...W,area:O.target.value})),options:ue,placeholder:"Pilih area",required:!0}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Deskripsi Masalah"}),a.jsx("textarea",{value:x.deskripsiMasalah,onChange:O=>j(W=>({...W,deskripsiMasalah:O.target.value})),placeholder:"Jelaskan masalah yang terjadi...",className:"input-field min-h-[80px]",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Penyebab"}),a.jsx("textarea",{value:x.penyebab,onChange:O=>j(W=>({...W,penyebab:O.target.value})),placeholder:"Analisa penyebab...",className:"input-field min-h-[60px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Tindakan"}),a.jsx("textarea",{value:x.tindakan,onChange:O=>j(W=>({...W,tindakan:O.target.value})),placeholder:"Tindakan yang dilakukan/direncanakan...",className:"input-field min-h-[60px]"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(ze,{label:"Status",value:x.status,onChange:O=>j(W=>({...W,status:O.target.value})),options:ve,required:!0}),a.jsx(fe,{label:"PIC",type:"text",value:x.pic,onChange:O=>j(W=>({...W,pic:O.target.value})),placeholder:"Nama PIC",required:!0}),a.jsx(fe,{label:"Target Selesai",type:"date",value:x.targetSelesai,onChange:O=>j(W=>({...W,targetSelesai:O.target.value}))})]}),a.jsx(fe,{label:"Keterangan",type:"text",value:x.keterangan,onChange:O=>j(W=>({...W,keterangan:O.target.value})),placeholder:"Keterangan tambahan"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),j(iu),b(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:l,children:m?"Update":"Simpan"})]})]})}),a.jsx(Ge,{isOpen:P,onClose:()=>{A(!1),I(null)},title:"Detail Trouble Record",size:"lg",children:$&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:`rounded-2xl p-6 text-white ${$.status==="Open"?"bg-gradient-to-r from-red-500 to-red-600":$.status==="In Progress"?"bg-gradient-to-r from-amber-500 to-amber-600":$.status==="Closed"?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Trouble Record"}),a.jsx("h2",{className:"text-2xl font-bold mt-1",children:$.area}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:S==="NPK1"?"NPK 1":"NPK 2"})]}),a.jsx(Ae,{variant:"primary",className:"bg-white/20 text-white border-0 text-lg px-4 py-2",children:$.status})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ra,{className:"h-4 w-4 text-primary-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Tanggal"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:Ve($.tanggal)})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Va,{className:"h-4 w-4 text-amber-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Waktu"})]}),a.jsxs("p",{className:"font-semibold text-dark-900 dark:text-white",children:["Shift ",$.shift," - ",nn($.waktuKejadian)]})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(El,{className:"h-4 w-4 text-blue-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"PIC"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:$.pic||"-"})]}),a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Cm,{className:"h-4 w-4 text-green-500"}),a.jsx("p",{className:"text-xs text-dark-500 dark:text-dark-400 uppercase tracking-wide",children:"Target Selesai"})]}),a.jsx("p",{className:"font-semibold text-dark-900 dark:text-white",children:$.targetSelesai?Ve($.targetSelesai):"-"})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ki,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300",children:"Deskripsi Masalah"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:$.deskripsiMasalah||"-"})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ia,{className:"h-5 w-5 text-amber-600"}),a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Analisa Penyebab"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:$.penyebab||"-"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(tl,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Tindakan"})]}),a.jsx("p",{className:"text-dark-700 dark:text-dark-300 leading-relaxed",children:$.tindakan||"-"})]}),$.keterangan&&a.jsxs("div",{className:"bg-dark-50 dark:bg-dark-800 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ia,{className:"h-5 w-5 text-dark-500"}),a.jsx("h3",{className:"font-semibold text-dark-700 dark:text-dark-300",children:"Keterangan Tambahan"})]}),a.jsx("p",{className:"text-dark-600 dark:text-dark-400 leading-relaxed",children:$.keterangan})]}),a.jsx("div",{className:"flex justify-end pt-2 border-t border-dark-200 dark:border-dark-700",children:a.jsx(se,{variant:"secondary",onClick:()=>{A(!1),I(null)},children:"Tutup"})})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:L,title:"Hapus Trouble Record",message:"Apakah Anda yakin ingin menghapus record ini?",confirmText:"Hapus",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:ne,onClose:()=>{D(!1),Z(null)},onSubmit:T,actionType:R,isLoading:l}),a.jsx(Vt,{isVisible:p,message:"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(Br,{isOpen:E,onClose:()=>{_(!1),K("")},sheetName:S==="NPK1"?"troublerecord_NPK1":"troublerecord",recordId:U,title:"Log Aktivitas Trouble Record"})]})};function YT({plant:e}){const{user:t}=et(),r=ur((t==null?void 0:t.role)||""),[n,s]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState(!1),[u,d]=k.useState(""),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(!1),[v,y]=k.useState(null),[x,j]=k.useState(null),[w,N]=k.useState({judul:"",keterangan:""}),[S,P]=k.useState(null),[A,$]=k.useState(!1),[I,E]=k.useState(!1),[_,U]=k.useState("environment"),K=k.useRef(null),Y=k.useRef(null),ne=k.useRef(null),D=k.useRef(null),R=p_(wr.DOKUMENTASI_FOTO,e),z=k.useCallback(async()=>{o(!0);try{const T=await Zh(R);if(T.success&&T.data){const L=T.data.map(H=>({...H,_plant:e,thumbnailUrl:`https://drive.google.com/thumbnail?id=${H.fileId}&sz=w400`}));L.sort((H,te)=>new Date(te.createdAt||te.tanggal).getTime()-new Date(H.createdAt||H.tanggal).getTime()),s(L)}}catch(T){console.error("Error fetching photos:",T)}finally{o(!1)}},[R,e]);k.useEffect(()=>{z()},[z]),k.useEffect(()=>()=>{D.current&&(D.current.getTracks().forEach(T=>T.stop()),D.current=null)},[]);const V=k.useCallback(async(T="environment")=>{P(null),$(!1),D.current&&(D.current.getTracks().forEach(L=>L.stop()),D.current=null);try{const L={video:{facingMode:T,width:{ideal:3840,min:1920},height:{ideal:2160,min:1080},frameRate:{ideal:30,min:24},aspectRatio:{ideal:1.7777777777777777}},audio:!1};let H;try{H=await navigator.mediaDevices.getUserMedia(L)}catch{console.log("High quality not supported, falling back to standard"),H=await navigator.mediaDevices.getUserMedia({video:{facingMode:T,width:{ideal:1920},height:{ideal:1080}},audio:!1})}D.current=H,K.current&&(K.current.srcObject=H,$(!0))}catch(L){console.error("Camera error:",L),L instanceof Error&&(L.name==="NotAllowedError"?P("Akses kamera ditolak. Mohon izinkan akses kamera di pengaturan browser."):L.name==="NotFoundError"?P("Kamera tidak ditemukan. Pastikan perangkat memiliki kamera."):L.name==="NotReadableError"?P("Kamera sedang digunakan aplikasi lain. Tutup aplikasi lain dan coba lagi."):P(`Error: ${L.message}`))}},[]),Z=k.useCallback(()=>{const T=_==="environment"?"user":"environment";U(T),V(T)},[_,V]),B=k.useCallback(()=>{D.current&&(D.current.getTracks().forEach(T=>T.stop()),D.current=null),K.current&&(K.current.srcObject=null),$(!1)},[]),Q=k.useCallback(()=>{if(!K.current||!Y.current)return;const T=K.current,L=Y.current,H=L.getContext("2d");if(!H)return;const te=T.videoWidth,C=T.videoHeight;L.width=te,L.height=C,H.imageSmoothingEnabled=!0,H.imageSmoothingQuality="high",H.drawImage(T,0,0,te,C);const q=L.toDataURL("image/jpeg",.95);j(q),B()},[B]),le=k.useCallback(()=>{h(!1),E(!0)},[]),ce=k.useCallback(T=>{var te;const L=(te=T.target.files)==null?void 0:te[0];if(!L)return;if(L.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}const H=new FileReader;H.onload=C=>{var M;const q=(M=C.target)==null?void 0:M.result;j(q),B(),h(!1),E(!0)},H.readAsDataURL(L),T.target.value=""},[B]),pe=()=>{j(null),N({judul:"",keterangan:""}),P(null),$(!1),h(!0)};k.useEffect(()=>{let T=!0;if(f&&!x){const L=setTimeout(()=>{T&&V(_)},200);return()=>{T=!1,clearTimeout(L)}}return()=>{T=!1}},[f,x,_,V]);const ye=k.useCallback(()=>{B(),j(null),N({judul:"",keterangan:""}),P(null),h(!1),E(!1)},[B]),ue=k.useCallback(()=>{j(null),V(_)},[_,V]),ve=async()=>{if(!x||!w.judul.trim()){alert("Judul foto harus diisi!");return}c(!0);try{const T=`${w.judul.replace(/[^a-zA-Z0-9-_]/g,"_")}_${Date.now()}.jpg`,L=await m_({judul:w.judul.trim(),keterangan:w.keterangan.trim(),imageBase64:x,fileName:T,uploadBy:(t==null?void 0:t.username)||(t==null?void 0:t.nama)||"unknown",plant:e});L.success?(alert("Foto berhasil diupload!"),ye(),z()):alert(`Gagal upload: ${L.error}`)}catch(T){console.error("Upload error:",T),alert("Terjadi kesalahan saat upload foto")}finally{c(!1)}},ae=async()=>{if(!(!(v!=null&&v.id)||!(v!=null&&v.fileId))){c(!0);try{const T=await g_({id:v.id,fileId:v.fileId,plant:e});T.success?(alert("Foto berhasil dihapus!"),b(!1),y(null),z()):alert(`Gagal menghapus: ${T.error}`)}catch(T){console.error("Delete error:",T),alert("Terjadi kesalahan saat menghapus foto")}finally{c(!1)}}},G=T=>{y(T),g(!0)},J=n.filter(T=>{var L,H,te;return((L=T.judul)==null?void 0:L.toLowerCase().includes(u.toLowerCase()))||((H=T.keterangan)==null?void 0:H.toLowerCase().includes(u.toLowerCase()))||((te=T.uploadBy)==null?void 0:te.toLowerCase().includes(u.toLowerCase()))}).reduce((T,L)=>{const H=L.judul||"Lainnya";return T[H]||(T[H]=[]),T[H].push(L),T},{});return a.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dokumentasi Foto"}),a.jsxs("p",{className:"text-gray-600",children:["Plant ",e," - ",n.length," foto"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(fe,{type:"text",placeholder:"Cari foto...",value:u,onChange:T=>d(T.target.value),className:"pl-10 w-full sm:w-64"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(se,{variant:"outline",onClick:z,disabled:i,className:"flex-1 sm:flex-none",children:[a.jsx(qi,{className:Oe("h-4 w-4 mr-2",i&&"animate-spin")}),"Refresh"]}),!r&&a.jsxs(se,{onClick:pe,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[a.jsx(vS,{className:"h-4 w-4 mr-2"}),"Ambil Foto"]})]})]})]}),i&&a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Qh,{})}),!i&&n.length===0&&a.jsxs(ke,{className:"p-12 text-center",children:[a.jsx(wS,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Foto"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Mulai dokumentasi dengan mengambil foto pertama"}),!r&&a.jsxs(se,{onClick:pe,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(vS,{className:"h-4 w-4 mr-2"}),"Ambil Foto Sekarang"]})]}),!i&&Object.keys(J).length>0&&a.jsx("div",{className:"space-y-8",children:Object.entries(J).map(([T,L])=>{var H;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(D8,{className:"h-5 w-5 text-yellow-500"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:T}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",L.length," foto)"]}),((H=L[0])==null?void 0:H.folderUrl)&&a.jsxs("a",{href:L[0].folderUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[a.jsx(bS,{className:"h-4 w-4"}),"Buka Folder"]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:L.map(te=>a.jsxs(ir.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>G(te),children:[a.jsx("img",{src:te.thumbnailUrl,alt:te.judul,className:"w-full h-full object-cover",loading:"lazy",onError:C=>{C.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'/%3E%3C/svg%3E"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[a.jsx("p",{className:"text-white text-xs truncate",children:te.tanggal}),te.keterangan&&a.jsx("p",{className:"text-white/80 text-xs truncate",children:te.keterangan})]})}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(G8,{className:"h-5 w-5 text-white drop-shadow-lg"})})]},te.id))})]},T)})}),f&&a.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:99999,position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh"},children:[a.jsx("canvas",{ref:Y,style:{display:"none"}}),a.jsx("input",{ref:ne,type:"file",accept:"image/*",onChange:ce,style:{display:"none"}}),x?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:x,alt:"Captured",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black"}}),a.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[a.jsx("button",{onClick:ye,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(oa,{size:24})}),a.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Preview Foto"}),a.jsx("div",{style:{width:"48px"}})]}),a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"48px"},children:[a.jsxs("button",{onClick:ue,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[a.jsx("div",{style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)"},children:a.jsx(yx,{size:28})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Ulangi"})]}),a.jsxs("button",{onClick:le,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"white",background:"none",border:"none",cursor:"pointer"},children:[a.jsx("div",{style:{padding:"20px",borderRadius:"50%",backgroundColor:"#22c55e"},children:a.jsx(A8,{size:40})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Gunakan Foto"})]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,muted:!0,onCanPlay:()=>$(!0),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transform:_==="user"?"scaleX(-1)":"none"}}),a.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,zIndex:10,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",paddingTop:"48px",background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},children:[a.jsx("button",{onClick:ye,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(oa,{size:24})}),a.jsx("span",{style:{color:"white",fontWeight:500,fontSize:"18px"},children:"Ambil Foto"}),a.jsx("button",{onClick:Z,style:{padding:"12px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.3)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(yx,{size:24})})]}),!A&&!S&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",zIndex:20},children:a.jsxs("div",{style:{textAlign:"center",color:"white"},children:[a.jsx(Qh,{}),a.jsx("p",{style:{marginTop:"8px"},children:"Memuat kamera..."})]})}),S&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black",zIndex:20},children:a.jsxs("div",{style:{textAlign:"center",color:"white",padding:"24px",maxWidth:"320px"},children:[a.jsx(Ki,{size:64,style:{margin:"0 auto 16px",color:"#f87171"}}),a.jsx("p",{style:{marginBottom:"24px",fontSize:"18px"},children:S}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs(se,{onClick:()=>V(),className:"bg-white text-black hover:bg-gray-200",children:[a.jsx(qi,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]}),a.jsxs(se,{variant:"outline",onClick:()=>{var T;return(T=ne.current)==null?void 0:T.click()},className:"text-white border-white hover:bg-white/10",children:[a.jsx(SS,{className:"h-4 w-4 mr-2"}),"Pilih dari Galeri"]})]})]})}),A&&a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:10,paddingBottom:"32px",paddingTop:"64px",background:"linear-gradient(to top, rgba(0,0,0,0.6), transparent)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"32px"},children:[a.jsx("button",{onClick:()=>{var T;return(T=ne.current)==null?void 0:T.click()},style:{padding:"16px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"none",cursor:"pointer"},children:a.jsx(wS,{size:28})}),a.jsx("button",{onClick:Q,style:{padding:"4px",borderRadius:"50%",backgroundColor:"white",border:"none",cursor:"pointer"},children:a.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"50%",border:"4px solid #d1d5db",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"}})})}),a.jsx("div",{style:{width:"60px"}})]})})]})]}),a.jsx(oi,{children:I&&x&&a.jsx(Ge,{isOpen:I,onClose:ye,title:"Upload Foto",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:[a.jsx("img",{src:x,alt:"Captured",className:"w-full h-48 object-cover"}),a.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{E(!1),h(!0),ue()},className:"absolute bottom-2 right-2 bg-white/90 hover:bg-white",children:[a.jsx(yx,{className:"h-4 w-4 mr-1"}),"Ganti Foto"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Judul / Nama Folder ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(fe,{type:"text",placeholder:"Contoh: C2-L-001",value:w.judul,onChange:T=>N({...w,judul:T.target.value}),className:"w-full"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Foto akan disimpan di folder sesuai judul ini"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keterangan"}),a.jsx("textarea",{placeholder:"Deskripsi foto (opsional)",value:w.keterangan,onChange:T=>N({...w,keterangan:T.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx(se,{variant:"outline",onClick:ye,className:"flex-1",disabled:l,children:"Batal"}),a.jsx(se,{onClick:ve,disabled:l||!w.judul.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(qi,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):a.jsxs(a.Fragment,{children:[a.jsx(SS,{className:"h-4 w-4 mr-2"}),"Upload Foto"]})})]})]})]})})}),a.jsx(oi,{children:p&&v&&a.jsx(Ge,{isOpen:p,onClose:()=>{g(!1),y(null)},title:v.judul,size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:a.jsx("img",{src:`https://drive.google.com/thumbnail?id=${v.fileId}&sz=w1200`,alt:v.judul,className:"w-full max-h-[60vh] object-contain"})}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Tanggal:"}),a.jsx("span",{className:"font-medium",children:v.tanggal})]}),v.keterangan&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Keterangan:"}),a.jsx("span",{className:"font-medium",children:v.keterangan})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Diupload oleh:"}),a.jsx("span",{className:"font-medium",children:v.uploadBy})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("a",{href:v.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:a.jsxs(se,{variant:"outline",className:"w-full",children:[a.jsx(bS,{className:"h-4 w-4 mr-2"}),"Buka di Drive"]})}),a.jsx("a",{href:`https://drive.google.com/uc?export=download&id=${v.fileId}`,download:!0,className:"flex-1",children:a.jsxs(se,{variant:"outline",className:"w-full",children:[a.jsx(i_,{className:"h-4 w-4 mr-2"}),"Download"]})}),!r&&a.jsx(se,{variant:"outline",onClick:()=>{g(!1),b(!0)},className:"text-red-600 border-red-300 hover:bg-red-50",children:a.jsx(Dt,{className:"h-4 w-4"})})]})]})})}),a.jsx(oi,{children:m&&v&&a.jsx(Ge,{isOpen:m,onClose:()=>{b(!1),y(null)},title:"Hapus Foto",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:a.jsx(Dt,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900",children:"Apakah Anda yakin ingin menghapus foto ini?"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Foto "',v.judul,'" akan dihapus dari Google Drive. Tindakan ini tidak dapat dibatalkan.']})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(se,{variant:"outline",onClick:()=>{b(!1),y(null)},className:"flex-1",disabled:l,children:"Batal"}),a.jsx(se,{onClick:ae,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(qi,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})})})]})}const lpe=[{value:"all",label:"Semua Bulan"},{value:"0",label:"Januari"},{value:"1",label:"Februari"},{value:"2",label:"Maret"},{value:"3",label:"April"},{value:"4",label:"Mei"},{value:"5",label:"Juni"},{value:"6",label:"Juli"},{value:"7",label:"Agustus"},{value:"8",label:"September"},{value:"9",label:"Oktober"},{value:"10",label:"November"},{value:"11",label:"Desember"}],cpe=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],e0=new Date().getFullYear(),upe=[{value:"all",label:"Semua Tahun"},...Array.from({length:e0-2022},(e,t)=>({value:String(2023+t),label:String(2023+t)})),{value:String(e0+1),label:String(e0+1)}],ou={tanggal:Mt(),namaAlatBerat:"",pengajuanSolar:0,realisasiPengisian:0,keterangan:""},JT=({plant:e})=>{const{user:t}=et(),{createWithLog:r,updateWithLog:n,deleteWithLog:s}=Tr(),[i,o]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[m,b]=k.useState(null),[v,y]=k.useState(null),[x,j]=k.useState(ou),[w,N]=k.useState("all"),[S,P]=k.useState(String(new Date().getFullYear())),[A,$]=k.useState(!1),I=e,[E,_]=k.useState(!1),[U,K]=k.useState("edit"),[Y,ne]=k.useState(null),[D,R]=k.useState(!1),[z,V]=k.useState(""),Z=C=>{V(C),R(!0)},B=ur((t==null?void 0:t.role)||""),Q=gr((t==null?void 0:t.role)||"")&&!B,le=k.useCallback(()=>{if(u&&!l){const C=document.querySelector("form");C&&C.requestSubmit()}},[u,l]);tr(le,u);const ce=ko((t==null?void 0:t.role)||""),pe=wo((t==null?void 0:t.role)||""),ye=Sr((t==null?void 0:t.role)||""),ue=Nr((t==null?void 0:t.role)||"");k.useEffect(()=>{(async()=>{c(!0);try{const{fetchDataByPlant:q,SHEETS:M}=await Me(async()=>{const{fetchDataByPlant:W,SHEETS:he}=await Promise.resolve().then(()=>$e);return{fetchDataByPlant:W,SHEETS:he}},void 0),O=await q(M.REKAP_BBM);if(O.success&&O.data){const W=[...O.data].sort((he,F)=>new Date(F.tanggal).getTime()-new Date(he.tanggal).getTime());o(W)}else o([])}catch(q){console.error("Error fetching data:",q),o([])}finally{c(!1)}})()},[]);const ve=async C=>{C.preventDefault(),c(!0);try{if(m){const q={...x,id:m,_plant:I};(await n("rekap_bbm",q)).success&&o(O=>O.map(W=>W.id===m?{...q}:W))}else{const q={...x,_plant:I},M=await r("rekap_bbm",q);M.success&&M.data&&o(O=>[M.data,...O])}g(!0),d(!1),b(null),j(ou)}catch(q){console.error("Error saving data:",q)}finally{c(!1)}},ae=C=>{B||(ce?(j(C),b(C.id||null),d(!0)):ye&&(ne(C),K("edit"),_(!0)))},G=C=>{if(!B){if(pe)y(C),h(!0);else if(ue){const q=i.find(M=>M.id===C);q&&(ne(q),K("delete"),_(!0))}}},ge=async()=>{if(v){c(!0);try{const C=i.find(M=>M.id===v);(await s("rekap_bbm",{id:v,_plant:C==null?void 0:C._plant})).success&&(o(M=>M.filter(O=>O.id!==v)),g(!0))}catch(C){console.error("Error deleting data:",C)}finally{c(!1),h(!1),y(null)}}},J=async C=>{if(Y){c(!0);try{const{createData:q,SHEETS:M}=await Me(async()=>{const{createData:W,SHEETS:he}=await Promise.resolve().then(()=>$e);return{createData:W,SHEETS:he}},void 0),O={type:U,dataType:"rekap_bbm",dataId:Y.id,plant:I,requestBy:t==null?void 0:t.username,requestByName:(t==null?void 0:t.namaLengkap)||(t==null?void 0:t.nama),reason:C,data:JSON.stringify(Y),status:"pending",createdAt:new Date().toISOString()};await q(M.APPROVAL_REQUESTS,O),g(!0)}catch(q){console.error("Error creating approval request:",q)}finally{c(!1),_(!1),ne(null)}}},T=k.useMemo(()=>i.filter(C=>!(C._plant!==I||S!=="all"&&new Date(C.tanggal).getFullYear()!==parseInt(S)||w!=="all"&&new Date(C.tanggal).getMonth()!==parseInt(w))),[i,I,w,S]),L=k.useMemo(()=>{const C=T.reduce((W,he)=>W+(he.pengajuanSolar||0),0),q=T.reduce((W,he)=>W+(he.realisasiPengisian||0),0),M=q-C,O=T.length;return{totalPengajuan:C,totalRealisasi:q,totalSelisih:M,totalRecord:O}},[T]),H=[{key:"tanggal",header:"Tanggal",render:(C,q)=>Ve(q.tanggal),sortable:!0},{key:"namaAlatBerat",header:"Nama Alat Berat",sortable:!0},{key:"pengajuanSolar",header:"Pengajuan Solar (L)",render:(C,q)=>X(q.pengajuanSolar),sortable:!0},{key:"realisasiPengisian",header:"Realisasi Pengisian (L)",render:(C,q)=>X(q.realisasiPengisian),sortable:!0},{key:"selisih",header:"Selisih (L)",render:(C,q)=>{const M=q.realisasiPengisian-q.pengajuanSolar,O=M>=0?"text-green-600":"text-red-600";return a.jsx("span",{className:O,children:X(M)})},sortable:!1},{key:"keterangan",header:"Keterangan",render:(C,q)=>q.keterangan||"-"}],te=C=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Z(C.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4"})}),!B&&(ce||ye)&&a.jsx("button",{onClick:()=>ae(C),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:ye?"Ajukan Edit":"Edit",children:a.jsx(Gt,{className:"h-4 w-4"})}),!B&&(pe||ue)&&a.jsx("button",{onClick:()=>G(C.id||""),className:"p-1.5 text-dark-500 dark:text-dark-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:ue?"Ajukan Hapus":"Hapus",children:a.jsx(Dt,{className:"h-4 w-4"})})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-5 border border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-amber-500 rounded-lg",children:a.jsx(Jh,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-amber-700 uppercase tracking-wider",children:"Total Pengajuan"}),a.jsx("p",{className:"text-2xl font-bold text-amber-900",children:X(L.totalPengajuan)}),a.jsx("p",{className:"text-xs text-amber-600",children:"Liter"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-blue-500 rounded-lg",children:a.jsx(ro,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total Realisasi"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:X(L.totalRealisasi)}),a.jsx("p",{className:"text-xs text-blue-600",children:"Liter"})]})]})}),a.jsx("div",{className:`bg-gradient-to-br rounded-xl p-5 border ${L.totalSelisih>=0?"from-green-50 to-green-100 border-green-200":"from-red-50 to-red-100 border-red-200"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-lg ${L.totalSelisih>=0?"bg-green-500":"bg-red-500"}`,children:a.jsx(pl,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-xs font-medium uppercase tracking-wider ${L.totalSelisih>=0?"text-green-700":"text-red-700"}`,children:"Total Selisih"}),a.jsxs("p",{className:`text-2xl font-bold ${L.totalSelisih>=0?"text-green-900":"text-red-900"}`,children:[L.totalSelisih>=0?"+":"",X(L.totalSelisih)]}),a.jsxs("p",{className:`text-xs ${L.totalSelisih>=0?"text-green-600":"text-red-600"}`,children:["Liter"," ",L.totalSelisih>=0?"(Surplus)":"(Defisit)"]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-5 border border-slate-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-slate-500 rounded-lg",children:a.jsx(Om,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Total Record"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:L.totalRecord}),a.jsxs("p",{className:"text-xs text-slate-600",children:[S==="all"?"Semua tahun":`Tahun ${S}`,w!=="all"&&`, ${cpe[parseInt(w)]}`]})]})]})})]}),a.jsxs(ke,{children:[a.jsxs(at,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Jh,{className:"h-6 w-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx(st,{children:"Rekap Pengajuan BBM Alat Berat"}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400 mt-1",children:["Plant ",I," - Data pengajuan dan realisasi BBM"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{value:S,onChange:C=>P(C.target.value),options:upe,className:"w-32"}),a.jsx(ze,{value:w,onChange:C=>N(C.target.value),options:lpe,className:"w-40"}),a.jsxs(se,{variant:"secondary",onClick:()=>$(!0),className:"border-amber-300 text-amber-700 hover:bg-amber-50",children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cetak"]}),Q&&a.jsxs(se,{onClick:()=>{j(ou),b(null),d(!0)},children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(er,{data:T,columns:H,actions:te,loading:l,emptyMessage:"Tidak ada data rekap BBM",searchable:!0,searchKeys:["namaAlatBerat","keterangan"]})]}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),b(null),j(ou)},title:m?"Edit Data BBM":"Tambah Data BBM",size:"md",children:a.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:x.tanggal,onChange:C=>j({...x,tanggal:C.target.value}),required:!0}),a.jsx(fe,{label:"Nama Alat Berat",placeholder:"Contoh: Forklift 1, Loader A, dll",value:x.namaAlatBerat,onChange:C=>j({...x,namaAlatBerat:C.target.value}),required:!0}),a.jsx(fe,{label:"Pengajuan Solar (Liter)",type:"text",placeholder:"0",value:x.pengajuanSolar?X(x.pengajuanSolar):"",onChange:C=>j({...x,pengajuanSolar:oe(C.target.value)}),required:!0}),a.jsx(fe,{label:"Realisasi Pengisian (Liter)",type:"text",placeholder:"0",value:x.realisasiPengisian?X(x.realisasiPengisian):"",onChange:C=>j({...x,realisasiPengisian:oe(C.target.value)}),required:!0}),a.jsx(fe,{label:"Keterangan",placeholder:"Keterangan tambahan (opsional)",value:x.keterangan||"",onChange:C=>j({...x,keterangan:C.target.value})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{d(!1),b(null),j(ou)},children:"Batal"}),a.jsx(se,{type:"submit",disabled:l,children:l?"Menyimpan...":m?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:f,onClose:()=>{h(!1),y(null)},onConfirm:ge,title:"Hapus Data BBM",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger",isLoading:l}),a.jsx(Pr,{isOpen:E,onClose:()=>{_(!1),ne(null)},onSubmit:J,action:U,itemName:(Y==null?void 0:Y.namaAlatBerat)||"",loading:l}),a.jsx(Vt,{isVisible:p,message:m?"Data berhasil diupdate!":v?"Data berhasil dihapus!":"Data berhasil disimpan!",onClose:()=>g(!1)}),a.jsx(tK,{isOpen:A,onClose:()=>$(!1),data:T,plant:I}),a.jsx(Br,{isOpen:D,onClose:()=>{R(!1),V("")},sheetName:I==="NPK1"?"rekap_bbm_NPK1":"rekap_bbm",recordId:z,title:"Log Aktivitas Rekap BBM"})]})},Yf={tanggal:Mt(),area:"",ujiPenambahan10:0,ujiPenambahan20:0,ujiPenambahan30:0,ujiPenambahan40:0,ujiPenambahan50:0,ujiPengurangan50:0,ujiPengurangan40:0,ujiPengurangan30:0,ujiPengurangan20:0,ujiPengurangan10:0},Jf={ujiPenambahan10:"",ujiPenambahan20:"",ujiPenambahan30:"",ujiPenambahan40:"",ujiPenambahan50:"",ujiPengurangan50:"",ujiPengurangan40:"",ujiPengurangan30:"",ujiPengurangan20:"",ujiPengurangan10:""},dpe=()=>{const{user:e}=et(),{createWithLog:t,updateWithLog:r,deleteWithLog:n}=Tr(),[s,i]=k.useState([]),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[g,m]=k.useState(!1),[b,v]=k.useState(null),[y,x]=k.useState(!1),[j,w]=k.useState(""),N=F=>{w(F),x(!0)},[S,P]=k.useState(null),[A,$]=k.useState(null),[I,E]=k.useState(Yf),[_,U]=k.useState(Jf),[K,Y]=k.useState(""),[ne,D]=k.useState(!1),[R,z]=k.useState("edit"),[V,Z]=k.useState(null),B=ur((e==null?void 0:e.role)||""),Q=gr((e==null?void 0:e.role)||"")&&!B,le=k.useCallback(()=>{if(c&&!o){const F=document.querySelector("form");F&&F.requestSubmit()}},[c,o]);tr(le,c);const ce=ko((e==null?void 0:e.role)||""),pe=wo((e==null?void 0:e.role)||""),ye=Sr((e==null?void 0:e.role)||""),ue=Nr((e==null?void 0:e.role)||""),ve=[{value:"NPK 2",label:"NPK 2"},{value:"Blending",label:"Blending"},{value:"NPK Mini",label:"NPK Mini"}],ae=F=>F==null?"0.00":F.toFixed(2),G=(F,ie)=>{const me=ie.replace(",",".");if(me===""||/^\d*\.?\d*$/.test(me)){U(Ie=>({...Ie,[F]:me}));const Ne=me===""||me==="."?0:parseFloat(me)||0;E(Ie=>({...Ie,[F]:Ne}))}},ge=()=>{const F=ie=>parseFloat(ie.replace(",","."))||0;return{ujiPenambahan10:F(_.ujiPenambahan10),ujiPenambahan20:F(_.ujiPenambahan20),ujiPenambahan30:F(_.ujiPenambahan30),ujiPenambahan40:F(_.ujiPenambahan40),ujiPenambahan50:F(_.ujiPenambahan50),ujiPengurangan50:F(_.ujiPengurangan50),ujiPengurangan40:F(_.ujiPengurangan40),ujiPengurangan30:F(_.ujiPengurangan30),ujiPengurangan20:F(_.ujiPengurangan20),ujiPengurangan10:F(_.ujiPengurangan10)}},J=F=>{const ie=F.ujiPenambahan10-10,me=F.ujiPenambahan20-20,Ne=F.ujiPenambahan30-30,Ie=F.ujiPenambahan40-40,qe=F.ujiPenambahan50-50,Et=F.ujiPengurangan50-50,tt=F.ujiPengurangan40-40,Bt=F.ujiPengurangan30-30,ca=F.ujiPengurangan20-20,Pa=F.ujiPengurangan10-10,Eo=[ie,me,Ne,Ie,qe,Et,tt,Bt,ca,Pa],Pi=Eo.reduce((Ti,de)=>Ti+Math.abs(de),0),Co=Pi/Eo.length;return{selisihPenambahan10:ie,selisihPenambahan20:me,selisihPenambahan30:Ne,selisihPenambahan40:Ie,selisihPenambahan50:qe,selisihPengurangan50:Et,selisihPengurangan40:tt,selisihPengurangan30:Bt,selisihPengurangan20:ca,selisihPengurangan10:Pa,totalSelisih:Pi,rataRataSelisih:Co}};k.useEffect(()=>{(async()=>{l(!0);try{const{readData:ie,SHEETS:me}=await Me(async()=>{const{readData:Ie,SHEETS:qe}=await Promise.resolve().then(()=>$e);return{readData:Ie,SHEETS:qe}},void 0),Ne=await ie(me.RIKSA_TIMB_PORTABEL);if(Ne.success&&Ne.data){const qe=[...Ne.data.map(Et=>({...Et,...J(Et)}))].sort((Et,tt)=>new Date(tt.tanggal).getTime()-new Date(Et.tanggal).getTime());i(qe)}else i([])}catch(ie){console.error("Error fetching data:",ie),i([])}finally{l(!1)}})()},[]);const T=async F=>{F.preventDefault(),l(!0);try{const ie=ge(),me={...I,...ie},Ne=J(me),Ie={...me,...Ne};if(S){const qe={...Ie,id:S},Et=await r("riksa_timb_portabel",qe);if(Et.success)i(tt=>tt.map(Bt=>Bt.id===S?{...Ie,id:S}:Bt));else throw new Error(Et.error||"Gagal mengupdate data")}else{const qe=await t("riksa_timb_portabel",Ie);if(qe.success&&qe.data){const Et={...qe.data,...Ne};i(tt=>[Et,...tt])}else throw new Error(qe.error||"Gagal menyimpan data")}u(!1),E(Yf),U(Jf),P(null),p(!0),setTimeout(()=>p(!1),2e3)}catch(ie){console.error("Error saving data:",ie),alert(ie instanceof Error?ie.message:"Terjadi kesalahan saat menyimpan data")}finally{l(!1)}},L=F=>{var ie,me,Ne,Ie,qe,Et,tt,Bt,ca,Pa;if(ye){Z(F),z("edit"),D(!0);return}E(F),U({ujiPenambahan10:((ie=F.ujiPenambahan10)==null?void 0:ie.toString())||"",ujiPenambahan20:((me=F.ujiPenambahan20)==null?void 0:me.toString())||"",ujiPenambahan30:((Ne=F.ujiPenambahan30)==null?void 0:Ne.toString())||"",ujiPenambahan40:((Ie=F.ujiPenambahan40)==null?void 0:Ie.toString())||"",ujiPenambahan50:((qe=F.ujiPenambahan50)==null?void 0:qe.toString())||"",ujiPengurangan50:((Et=F.ujiPengurangan50)==null?void 0:Et.toString())||"",ujiPengurangan40:((tt=F.ujiPengurangan40)==null?void 0:tt.toString())||"",ujiPengurangan30:((Bt=F.ujiPengurangan30)==null?void 0:Bt.toString())||"",ujiPengurangan20:((ca=F.ujiPengurangan20)==null?void 0:ca.toString())||"",ujiPengurangan10:((Pa=F.ujiPengurangan10)==null?void 0:Pa.toString())||""}),P(F.id||null),u(!0)},H=F=>{if(ue){const ie=s.find(me=>me.id===F);ie&&(Z(ie),z("delete"),D(!0));return}$(F),f(!0)},te=async()=>{if(A){l(!0);try{const F=await n("riksa_timb_portabel",{id:A});if(F.success)i(ie=>ie.filter(me=>me.id!==A)),p(!0),setTimeout(()=>p(!1),2e3);else throw new Error(F.error||"Gagal menghapus data")}catch(F){console.error("Error deleting data:",F),alert(F instanceof Error?F.message:"Terjadi kesalahan saat menghapus data")}finally{l(!1),f(!1),$(null)}}},C=async F=>{if(V)try{const{createData:ie,SHEETS:me}=await Me(async()=>{const{createData:Ie,SHEETS:qe}=await Promise.resolve().then(()=>$e);return{createData:Ie,SHEETS:qe}},void 0),Ne={requestBy:(e==null?void 0:e.username)||"",requestByName:(e==null?void 0:e.namaLengkap)||(e==null?void 0:e.nama)||"",requestDate:new Date().toISOString(),action:R,sheetType:"riksa_timb_portabel",dataId:V.id||"",dataPreview:`${Ve(V.tanggal)} - ${V.area}`,reason:F,status:"pending",requesterPlant:(e==null?void 0:e.plant)||"NPK2"};await ie(me.APPROVAL_REQUESTS,Ne),alert("Permintaan approval telah dikirim"),D(!1),Z(null)}catch(ie){console.error("Error submitting approval:",ie),alert("Gagal mengirim permintaan approval")}},q=F=>{const ie={...F,...J(F)};v(ie),m(!0)},M=s.filter(F=>F.area.toLowerCase().includes(K.toLowerCase())||F.tanggal.includes(K)),O=[{key:"tanggal",header:"Tanggal",render:F=>Ve(F),sortable:!0},{key:"area",header:"Area",sortable:!0},{key:"rataRataSelisih",header:"Rata-rata Selisih",render:F=>a.jsxs("span",{className:Oe("font-semibold",Math.abs(F)<=.5?"text-green-600":Math.abs(F)<=1?"text-yellow-600":"text-red-600"),children:[ae(F)," kg"]}),sortable:!0},{key:"actions",header:"Aksi",render:(F,ie)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>q(ie),title:"Lihat Detail",children:a.jsx(ki,{className:"h-4 w-4 text-blue-500"})}),a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>N(ie.id),title:"Lihat Log",children:a.jsx(jt,{className:"h-4 w-4 text-purple-600"})}),(ce||ye)&&!B&&a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>L(ie),title:"Edit",children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),(pe||ue)&&!B&&a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>H(ie.id),title:"Hapus",children:a.jsx(Dt,{className:"h-4 w-4 text-red-500"})})]})}],W=({value:F,label:ie})=>{const me=Math.abs(F)<=.5,Ne=Math.abs(F)>.5&&Math.abs(F)<=1;return a.jsxs("div",{className:Oe("flex items-center justify-between p-3 rounded-lg",me?"bg-green-50 border border-green-200":Ne?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"),children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:ie}),a.jsxs("div",{className:"flex items-center gap-2",children:[F>=0?a.jsx(ro,{className:Oe("h-4 w-4",me?"text-green-500":Ne?"text-yellow-500":"text-red-500")}):a.jsx(pl,{className:Oe("h-4 w-4",me?"text-green-500":Ne?"text-yellow-500":"text-red-500")}),a.jsxs("span",{className:Oe("font-bold",me?"text-green-600":Ne?"text-yellow-600":"text-red-600"),children:[F>=0?"+":"",ae(F)," kg"]})]})]})},he=()=>{if(!b)return null;const F=J(b),ie=F.rataRataSelisih<=.5,me=F.rataRataSelisih>.5&&F.rataRataSelisih<=1,Ne=[{std:10,hasil:b.ujiPenambahan10,selisih:F.selisihPenambahan10},{std:20,hasil:b.ujiPenambahan20,selisih:F.selisihPenambahan20},{std:30,hasil:b.ujiPenambahan30,selisih:F.selisihPenambahan30},{std:40,hasil:b.ujiPenambahan40,selisih:F.selisihPenambahan40},{std:50,hasil:b.ujiPenambahan50,selisih:F.selisihPenambahan50}],Ie=[{std:50,hasil:b.ujiPengurangan50,selisih:F.selisihPengurangan50},{std:40,hasil:b.ujiPengurangan40,selisih:F.selisihPengurangan40},{std:30,hasil:b.ujiPengurangan30,selisih:F.selisihPengurangan30},{std:20,hasil:b.ujiPengurangan20,selisih:F.selisihPengurangan20},{std:10,hasil:b.ujiPengurangan10,selisih:F.selisihPengurangan10}],qe=tt=>{const Bt=Math.abs(tt);return Bt<=.5?"text-green-600":Bt<=1?"text-yellow-600":"text-red-600"},Et=tt=>{const Bt=Math.abs(tt);return Bt<=.5?"bg-green-50":Bt<=1?"bg-yellow-50":"bg-red-50"};return a.jsx(Ge,{isOpen:g,onClose:()=>m(!1),title:"",size:"xl",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:Oe("p-4 rounded-xl text-center",ie?"bg-gradient-to-r from-green-500 to-emerald-600":me?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-rose-600"),children:[a.jsx(jS,{className:"h-8 w-8 mx-auto text-white mb-1"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Hasil Riksa Timbangan Portabel"}),a.jsxs("p",{className:"text-white/90 text-sm",children:[b.area,"  ",Ve(b.tanggal)]}),a.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[ie?a.jsx(O8,{className:"h-4 w-4 text-white"}):a.jsx(gu,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:ie?"Kalibrasi BAIK":me?"Perlu Perhatian":"Perlu Kalibrasi Ulang"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Selisih Absolut"}),a.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[ae(F.totalSelisih)," kg"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Rata-rata Selisih"}),a.jsxs("p",{className:"text-lg font-bold text-purple-700",children:[ae(F.rataRataSelisih)," kg"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-green-500 px-3 py-1.5 flex items-center gap-1.5",children:[a.jsx(ro,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Penambahan"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 text-xs font-medium text-gray-500",children:[a.jsx("span",{children:"Standar"}),a.jsx("span",{className:"text-center",children:"Hasil"}),a.jsx("span",{className:"text-right",children:"Selisih"})]}),Ne.map((tt,Bt)=>a.jsxs("div",{className:Oe("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",Et(tt.selisih)),children:[a.jsxs("span",{className:"font-medium text-gray-700",children:[tt.std," kg"]}),a.jsxs("span",{className:"text-center font-semibold text-gray-800",children:[ae(tt.hasil)," kg"]}),a.jsxs("span",{className:Oe("text-right font-bold",qe(tt.selisih)),children:[tt.selisih>=0?"+":"",ae(tt.selisih)," kg"]})]},Bt))]})]}),a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-red-500 px-3 py-1.5 flex items-center gap-1.5",children:[a.jsx(pl,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"font-semibold text-white text-sm",children:"Uji Pengurangan"})]}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 bg-gray-50 text-xs font-medium text-gray-500",children:[a.jsx("span",{children:"Standar"}),a.jsx("span",{className:"text-center",children:"Hasil"}),a.jsx("span",{className:"text-right",children:"Selisih"})]}),Ie.map((tt,Bt)=>a.jsxs("div",{className:Oe("grid grid-cols-3 gap-1 px-2 py-1.5 text-sm",Et(tt.selisih)),children:[a.jsxs("span",{className:"font-medium text-gray-700",children:[tt.std," kg"]}),a.jsxs("span",{className:"text-center font-semibold text-gray-800",children:[ae(tt.hasil)," kg"]}),a.jsxs("span",{className:Oe("text-right font-bold",qe(tt.selisih)),children:[tt.selisih>=0?"+":"",ae(tt.selisih)," kg"]})]},Bt))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),a.jsx("span",{className:"text-gray-500",children:"0.5kg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-yellow-500"}),a.jsx("span",{className:"text-gray-500",children:"0.5-1kg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-red-500"}),a.jsx("span",{className:"text-gray-500",children:">1kg"})]})]}),a.jsx(se,{size:"sm",onClick:()=>m(!1),children:"Tutup"})]})]})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(at,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl shadow-lg",children:a.jsx(jS,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx(st,{children:"Riksa Timbangan Portabel"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Data pengujian kalibrasi timbangan portabel"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(fe,{placeholder:"Cari data...",value:K,onChange:F=>Y(F.target.value),className:"pl-10 w-64"})]}),Q&&a.jsxs(se,{onClick:()=>u(!0),children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Data"]})]})]}),a.jsx(er,{columns:O,data:M,loading:o,emptyMessage:"Belum ada data riksa timbangan portabel"})]}),a.jsx(Ge,{isOpen:c,onClose:()=>{u(!1),E(Yf),U(Jf),P(null)},title:S?"Edit Data Riksa Timbangan":"Tambah Data Riksa Timbangan",size:"lg",children:a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(fe,{label:"Tanggal",type:"date",value:I.tanggal,onChange:F=>E({...I,tanggal:F.target.value}),required:!0}),a.jsx(ze,{label:"Area",value:I.area,onChange:F=>E({...I,area:F.target.value}),options:ve,placeholder:"Pilih Area",required:!0})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[a.jsx(ro,{className:"h-5 w-5"}),"Uji Penambahan"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(fe,{label:"10 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan10,onChange:F=>G("ujiPenambahan10",F.target.value),placeholder:"Contoh: 10.02",required:!0}),a.jsx(fe,{label:"20 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan20,onChange:F=>G("ujiPenambahan20",F.target.value),placeholder:"Contoh: 20.05",required:!0}),a.jsx(fe,{label:"30 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan30,onChange:F=>G("ujiPenambahan30",F.target.value),placeholder:"Contoh: 30.01",required:!0}),a.jsx(fe,{label:"40 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan40,onChange:F=>G("ujiPenambahan40",F.target.value),placeholder:"Contoh: 40.03",required:!0}),a.jsx(fe,{label:"50 Kg",type:"text",inputMode:"decimal",value:_.ujiPenambahan50,onChange:F=>G("ujiPenambahan50",F.target.value),placeholder:"Contoh: 50.02",required:!0})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2",children:[a.jsx(pl,{className:"h-5 w-5"}),"Uji Pengurangan"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(fe,{label:"50 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan50,onChange:F=>G("ujiPengurangan50",F.target.value),placeholder:"Contoh: 50.01",required:!0}),a.jsx(fe,{label:"40 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan40,onChange:F=>G("ujiPengurangan40",F.target.value),placeholder:"Contoh: 40.02",required:!0}),a.jsx(fe,{label:"30 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan30,onChange:F=>G("ujiPengurangan30",F.target.value),placeholder:"Contoh: 30.03",required:!0}),a.jsx(fe,{label:"20 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan20,onChange:F=>G("ujiPengurangan20",F.target.value),placeholder:"Contoh: 20.01",required:!0}),a.jsx(fe,{label:"10 Kg",type:"text",inputMode:"decimal",value:_.ujiPengurangan10,onChange:F=>G("ujiPengurangan10",F.target.value),placeholder:"Contoh: 10.02",required:!0})]})]}),(I.ujiPenambahan10>0||I.ujiPengurangan10>0)&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Preview Selisih"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[I.ujiPenambahan10>0&&a.jsx(W,{value:I.ujiPenambahan10-10,label:"+10kg"}),I.ujiPenambahan20>0&&a.jsx(W,{value:I.ujiPenambahan20-20,label:"+20kg"}),I.ujiPenambahan30>0&&a.jsx(W,{value:I.ujiPenambahan30-30,label:"+30kg"}),I.ujiPenambahan40>0&&a.jsx(W,{value:I.ujiPenambahan40-40,label:"+40kg"}),I.ujiPenambahan50>0&&a.jsx(W,{value:I.ujiPenambahan50-50,label:"+50kg"}),I.ujiPengurangan50>0&&a.jsx(W,{value:I.ujiPengurangan50-50,label:"-50kg"}),I.ujiPengurangan40>0&&a.jsx(W,{value:I.ujiPengurangan40-40,label:"-40kg"}),I.ujiPengurangan30>0&&a.jsx(W,{value:I.ujiPengurangan30-30,label:"-30kg"}),I.ujiPengurangan20>0&&a.jsx(W,{value:I.ujiPengurangan20-20,label:"-20kg"}),I.ujiPengurangan10>0&&a.jsx(W,{value:I.ujiPengurangan10-10,label:"-10kg"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"outline",onClick:()=>{u(!1),E(Yf),U(Jf),P(null)},children:"Batal"}),a.jsx(se,{type:"submit",disabled:o,children:o?"Menyimpan...":S?"Update":"Simpan"})]})]})}),a.jsx(he,{}),a.jsx(qt,{isOpen:d,onClose:()=>f(!1),onConfirm:te,title:"Hapus Data",message:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"}),a.jsx(Pr,{isOpen:ne,onClose:()=>{D(!1),Z(null)},onSubmit:C,action:R,itemName:V?`${Ve(V.tanggal)} - ${V.area}`:"data ini"}),a.jsx(Vt,{isVisible:h,message:"Data berhasil disimpan!"}),a.jsx(Br,{isOpen:y,onClose:()=>{x(!1),w("")},sheetName:"riksa_timb_portabel",recordId:j,title:"Log Aktivitas Riksa Timbangan Portabel"})]})},fpe=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[s,i]=k.useState({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),o=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],l=async c=>{c.preventDefault();const u=await r(s);u.success?(i({kode_material:"",nama_material:"",satuan:"pcs",stok:0,stok_minimum:0}),t()):alert(u.error||"Gagal menambah material")};return a.jsx(Ge,{isOpen:e,onClose:t,title:"Tambah Material Baru",size:"md",children:a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsx(fe,{label:"Kode Material",value:s.kode_material,onChange:c=>i({...s,kode_material:c.target.value}),placeholder:"Contoh: MTL-001",required:!0}),a.jsx(fe,{label:"Nama Material",value:s.nama_material,onChange:c=>i({...s,nama_material:c.target.value}),placeholder:"Contoh: Bearing SKF 6205",required:!0}),a.jsx(ze,{label:"Satuan",value:s.satuan,onChange:c=>i({...s,satuan:c.target.value}),options:o}),a.jsx(fe,{label:"Stok Awal",type:"number",value:s.stok.toString(),onChange:c=>i({...s,stok:oe(c.target.value)}),min:0}),a.jsx(fe,{label:"Stok Minimum (Alert)",type:"number",value:s.stok_minimum.toString(),onChange:c=>i({...s,stok_minimum:oe(c.target.value)}),min:0}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(se,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsx(se,{type:"submit",isLoading:n,children:"Simpan"})]})]})})},hpe=({isOpen:e,onClose:t,material:r,onSubmit:n,loading:s})=>{const[i,o]=k.useState({kode_material:"",nama_material:"",satuan:"pcs",stok_minimum:0});k.useState(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})}),k.useMemo(()=>{r&&o({kode_material:r.kode_material,nama_material:r.nama_material,satuan:r.satuan,stok_minimum:r.stok_minimum})},[r]);const l=[{value:"pcs",label:"Pcs"},{value:"unit",label:"Unit"},{value:"kg",label:"Kg"},{value:"liter",label:"Liter"},{value:"meter",label:"Meter"},{value:"roll",label:"Roll"},{value:"box",label:"Box"},{value:"set",label:"Set"},{value:"lembar",label:"Lembar"},{value:"batang",label:"Batang"}],c=async u=>{if(u.preventDefault(),!(r!=null&&r.id))return;const d=await n({id:r.id,...i});d.success?t():alert(d.error||"Gagal mengupdate material")};return r?a.jsx(Ge,{isOpen:e,onClose:t,title:"Edit Material",size:"md",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsx(fe,{label:"Kode Material",value:i.kode_material,onChange:u=>o({...i,kode_material:u.target.value}),required:!0}),a.jsx(fe,{label:"Nama Material",value:i.nama_material,onChange:u=>o({...i,nama_material:u.target.value}),required:!0}),a.jsx(ze,{label:"Satuan",value:i.satuan,onChange:u=>o({...i,satuan:u.target.value}),options:l}),a.jsx(fe,{label:"Stok Minimum (Alert)",type:"number",value:i.stok_minimum.toString(),onChange:u=>o({...i,stok_minimum:oe(u.target.value)}),min:0}),a.jsxs("div",{className:"text-sm text-dark-500 dark:text-dark-400 bg-dark-50 dark:bg-dark-700 p-3 rounded-lg",children:[a.jsxs("p",{children:["Stok saat ini:"," ",a.jsxs("strong",{children:[X(r.stok)," ",r.satuan]})]}),a.jsx("p",{className:"text-xs mt-1",children:"Untuk mengubah stok, gunakan menu Tambah Stok atau Ambil Stok."})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(se,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsx(se,{type:"submit",isLoading:s,children:"Update"})]})]})}):null},ppe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:s})=>{const[i,o]=k.useState({materialId:"",jumlah:0,keterangan:""}),l=r.map(u=>({value:u.id||"",label:`${u.kode_material} - ${u.nama_material} (Stok: ${X(u.stok)} ${u.satuan})`})),c=async u=>{if(u.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}const d=await n(i.materialId,i.jumlah,i.keterangan);d.success?(o({materialId:"",jumlah:0,keterangan:""}),t()):alert(d.error||"Gagal menambah stok")};return a.jsx(Ge,{isOpen:e,onClose:t,title:"Tambah Stok Material",size:"md",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(fv,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Stok Masuk"})]}),a.jsx(ze,{label:"Pilih Material",value:i.materialId,onChange:u=>o({...i,materialId:u.target.value}),options:[{value:"",label:"-- Pilih Material --"},...l],required:!0}),a.jsx(fe,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:u=>o({...i,jumlah:oe(u.target.value)}),min:1,required:!0}),a.jsx(fe,{label:"Keterangan",value:i.keterangan,onChange:u=>o({...i,keterangan:u.target.value}),placeholder:"Contoh: Pembelian dari vendor X"}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(se,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsxs(se,{type:"submit",isLoading:s,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(fv,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]})]})]})})},mpe=({isOpen:e,onClose:t,materials:r,onSubmit:n,loading:s})=>{const[i,o]=k.useState({materialId:"",jumlah:0,keterangan:""}),[l,c]=k.useState(null),u=r.map(h=>({value:h.id||"",label:`${h.kode_material} - ${h.nama_material} (Stok: ${X(h.stok)} ${h.satuan})`})),d=h=>{o({...i,materialId:h});const p=r.find(g=>g.id===h)||null;c(p)},f=async h=>{if(h.preventDefault(),!i.materialId||i.jumlah<=0){alert("Pilih material dan masukkan jumlah yang valid");return}if(l&&i.jumlah>l.stok){alert(`Stok tidak cukup! Stok tersedia: ${X(l.stok)} ${l.satuan}`);return}const p=await n(i.materialId,i.jumlah,i.keterangan);p.success?(o({materialId:"",jumlah:0,keterangan:""}),c(null),t()):alert(p.error||"Gagal mengambil stok")};return a.jsx(Ge,{isOpen:e,onClose:t,title:"Ambil Stok Material",size:"md",children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(hv,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Stok Keluar"})]}),a.jsx(ze,{label:"Pilih Material",value:i.materialId,onChange:h=>d(h.target.value),options:[{value:"",label:"-- Pilih Material --"},...u],required:!0}),l&&a.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 p-3 rounded-lg text-sm",children:a.jsxs("p",{children:["Stok tersedia:"," ",a.jsxs("strong",{className:"text-primary-600",children:[X(l.stok)," ",l.satuan]})]})}),a.jsx(fe,{label:"Jumlah",type:"number",value:i.jumlah.toString(),onChange:h=>o({...i,jumlah:oe(h.target.value)}),min:1,max:(l==null?void 0:l.stok)||void 0,required:!0}),a.jsx(fe,{label:"Keterangan",value:i.keterangan,onChange:h=>o({...i,keterangan:h.target.value}),placeholder:"Contoh: Pemakaian untuk maintenance pump",required:!0}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(se,{type:"button",variant:"outline",onClick:t,children:"Batal"}),a.jsxs(se,{type:"submit",isLoading:s,className:"bg-red-600 hover:bg-red-700",children:[a.jsx(hv,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]})]})})},gpe=({isOpen:e,onClose:t,materials:r})=>{const{transactions:n,loading:s,updateFilters:i,clearFilters:o}=rpe(),[l,c]=k.useState({material_id:"",start_date:"",end_date:""}),u=r.map(g=>({value:g.id||"",label:`${g.kode_material} - ${g.nama_material}`})),d=g=>{const m=r.find(b=>b.id===g);return m?`${m.kode_material} - ${m.nama_material}`:g},f=()=>{i({material_id:l.material_id||void 0,start_date:l.start_date||void 0,end_date:l.end_date||void 0})},h=()=>{c({material_id:"",start_date:"",end_date:""}),o()},p=[{key:"created_at",header:"Tanggal",render:(g,m)=>_E(m.created_at||"")},{key:"material_id",header:"Material",render:(g,m)=>d(m.material_id)},{key:"tipe_transaksi",header:"Tipe",render:(g,m)=>a.jsx(Ae,{variant:m.tipe_transaksi==="masuk"?"success":"danger",children:m.tipe_transaksi==="masuk"?"Masuk":"Keluar"})},{key:"jumlah",header:"Jumlah",render:(g,m)=>X(m.jumlah)},{key:"keterangan",header:"Keterangan",render:(g,m)=>m.keterangan||"-"}];return a.jsx(Ge,{isOpen:e,onClose:t,title:"Riwayat Transaksi Material",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-dark-50 dark:bg-dark-700 p-4 rounded-lg",children:[a.jsx(ze,{label:"Material",value:l.material_id,onChange:g=>c({...l,material_id:g.target.value}),options:[{value:"",label:"Semua Material"},...u]}),a.jsx(fe,{label:"Dari Tanggal",type:"date",value:l.start_date,onChange:g=>c({...l,start_date:g.target.value})}),a.jsx(fe,{label:"Sampai Tanggal",type:"date",value:l.end_date,onChange:g=>c({...l,end_date:g.target.value})}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs(se,{onClick:f,variant:"primary",size:"sm",children:[a.jsx(zt,{className:"h-4 w-4 mr-1"}),"Filter"]}),a.jsx(se,{onClick:h,variant:"outline",size:"sm",children:"Reset"})]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsx(er,{data:n,columns:p,loading:s,emptyMessage:"Belum ada transaksi"})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(se,{onClick:t,children:"Tutup"})})]})})},xpe=()=>{const{user:e}=et(),{materials:t,loading:r,error:n,refetch:s,addMaterial:i,updateMaterial:o,deleteMaterial:l,stockMasuk:c,stockKeluar:u}=tpe(),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[g,m]=k.useState(!1),[b,v]=k.useState(!1),[y,x]=k.useState(!1),[j,w]=k.useState(!1),[N,S]=k.useState(!1),[P,A]=k.useState(null),[$,I]=k.useState(null),[E,_]=k.useState(""),[U,K]=k.useState(1),Y=10,ne=ur((e==null?void 0:e.role)||""),D=gr((e==null?void 0:e.role)||"")&&!ne,R=ko((e==null?void 0:e.role)||"")&&!ne,z=wo((e==null?void 0:e.role)||"")&&!ne,V=k.useMemo(()=>{let J=[...t];if(E){const T=E.toLowerCase();J=J.filter(L=>L.kode_material.toLowerCase().includes(T)||L.nama_material.toLowerCase().includes(T))}return J},[t,E]),Z=k.useMemo(()=>{const J=(U-1)*Y;return V.slice(J,J+Y)},[V,U]),B=Math.ceil(V.length/Y),Q=J=>{A(J),p(!0)},le=J=>{I(J),w(!0)},ce=async()=>{if(!$)return;const J=await l($);J.success?(S(!0),setTimeout(()=>S(!1),2e3)):alert(J.error||"Gagal menghapus material"),w(!1),I(null)},pe=async J=>{const T=await i(J);return T.success&&(S(!0),setTimeout(()=>S(!1),2e3)),T},ye=async J=>{const T=await o(J);return T.success&&(S(!0),setTimeout(()=>S(!1),2e3)),T},ue=async(J,T,L)=>{const H=await c(J,T,L);return H.success&&(S(!0),setTimeout(()=>S(!1),2e3)),H},ve=async(J,T,L)=>{const H=await u(J,T,L);return H.success&&(S(!0),setTimeout(()=>S(!1),2e3)),H},ae=k.useCallback(()=>{},[]);tr(ae,d||h||g||b);const G=[{key:"kode_material",header:"Kode",render:(J,T)=>a.jsx("span",{className:"font-mono text-primary-600 dark:text-primary-400",children:T.kode_material})},{key:"nama_material",header:"Nama Material"},{key:"satuan",header:"Satuan",render:(J,T)=>T.satuan.toUpperCase()},{key:"stok",header:"Stok",render:(J,T)=>{const L=T.stok<=T.stok_minimum;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:L?"text-red-600 dark:text-red-400 font-bold":"",children:X(T.stok)}),L&&a.jsxs(Ae,{variant:"danger",className:"flex items-center gap-1",children:[a.jsx(Al,{className:"h-3 w-3"}),"Menipis"]})]})}},{key:"stok_minimum",header:"Min. Stok",render:(J,T)=>X(T.stok_minimum)},{key:"actions",header:"Aksi",render:(J,T)=>a.jsxs("div",{className:"flex items-center gap-1",children:[R&&a.jsx("button",{onClick:()=>Q(T),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Material",children:a.jsx(Gt,{className:"h-4 w-4"})}),z&&a.jsx("button",{onClick:()=>le(T.id||""),className:"p-1.5 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Hapus Material",children:a.jsx(Dt,{className:"h-4 w-4"})})]})}],ge=t.filter(J=>J.stok<=J.stok_minimum).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Vt,{isVisible:N,message:"Berhasil!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[a.jsx(mi,{className:"h-7 w-7 text-primary-600"}),"Inventaris Stok Material"]}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola stok material consumable"})]}),ge>0&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg px-4 py-2 flex items-center gap-2",children:[a.jsx(Al,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),a.jsxs("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:[ge," material stok menipis"]})]})]}),n&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:n}),a.jsx(ke,{children:a.jsxs("div",{className:"p-4 flex flex-wrap gap-3",children:[D&&a.jsxs(a.Fragment,{children:[a.jsxs(se,{onClick:()=>f(!0),children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah Material"]}),a.jsxs(se,{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(fv,{className:"h-4 w-4 mr-2"}),"Tambah Stok"]}),a.jsxs(se,{onClick:()=>v(!0),className:"bg-red-600 hover:bg-red-700",children:[a.jsx(hv,{className:"h-4 w-4 mr-2"}),"Ambil Stok"]})]}),a.jsxs(se,{variant:"outline",onClick:()=>x(!0),children:[a.jsx(jt,{className:"h-4 w-4 mr-2"}),"Riwayat Transaksi"]}),a.jsxs(se,{variant:"outline",onClick:s,children:[a.jsx(qi,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs(st,{className:"flex items-center justify-between",children:[a.jsxs("span",{children:["Daftar Material (",V.length,")"]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx("input",{type:"text",placeholder:"Cari material...",value:E,onChange:J=>{_(J.target.value),K(1)},className:"pl-9 pr-4 py-2 text-sm border border-dark-200 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-800 text-dark-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx(er,{data:Z,columns:G,loading:r,emptyMessage:"Belum ada data material"}),B>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-dark-200 dark:border-dark-700",children:[a.jsxs("span",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Halaman ",U," dari ",B]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{variant:"outline",size:"sm",onClick:()=>K(J=>Math.max(1,J-1)),disabled:U===1,children:"Sebelumnya"}),a.jsx(se,{variant:"outline",size:"sm",onClick:()=>K(J=>Math.min(B,J+1)),disabled:U===B,children:"Selanjutnya"})]})]})]})]}),a.jsx(fpe,{isOpen:d,onClose:()=>f(!1),onSubmit:pe,loading:r}),a.jsx(hpe,{isOpen:h,onClose:()=>{p(!1),A(null)},material:P,onSubmit:ye,loading:r}),a.jsx(ppe,{isOpen:g,onClose:()=>m(!1),materials:t,onSubmit:ue,loading:r}),a.jsx(mpe,{isOpen:b,onClose:()=>v(!1),materials:t,onSubmit:ve,loading:r}),a.jsx(gpe,{isOpen:y,onClose:()=>x(!1),materials:t}),a.jsx(qt,{isOpen:j,onClose:()=>w(!1),onConfirm:ce,title:"Hapus Material",message:"Apakah Anda yakin ingin menghapus material ini? Semua riwayat transaksi material ini akan tetap tersimpan.",confirmText:"Hapus",cancelText:"Batal",variant:"danger"})]})},vpe=()=>{var x,j;const{user:e,logout:t}=et(),[r,n]=k.useState(!1),[s,i]=k.useState(!1),[o,l]=k.useState("profile"),[c,u]=k.useState({nama:(e==null?void 0:e.nama)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"Produksi"}),[d,f]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=k.useState({emailNotifications:!0,pushNotifications:!0,dailyReport:!0,weeklyReport:!1,alertDowntime:!0,alertWorkRequest:!0}),g=async w=>{w.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await Me(async()=>{const{updateData:P,SHEETS:A}=await Promise.resolve().then(()=>$e);return{updateData:P,SHEETS:A}},void 0);if(e!=null&&e.id){const P={id:e.id,nama:c.nama,email:c.email,phone:c.phone,department:c.department},A=await N(S.USERS,P);if(A.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(A.error||"Gagal mengupdate profile")}}catch(N){console.error("Error updating profile:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate profile")}finally{n(!1)}},m=async w=>{if(w.preventDefault(),d.newPassword!==d.confirmPassword){alert("Password baru dan konfirmasi tidak cocok");return}n(!0);try{const{updateData:N,SHEETS:S}=await Me(async()=>{const{updateData:P,SHEETS:A}=await Promise.resolve().then(()=>$e);return{updateData:P,SHEETS:A}},void 0);if(e!=null&&e.id){const P={id:e.id,password:d.newPassword,currentPassword:d.currentPassword},A=await N(S.USERS,P);if(A.success)f({currentPassword:"",newPassword:"",confirmPassword:""}),i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(A.error||"Gagal mengupdate password")}}catch(N){console.error("Error updating password:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate password")}finally{n(!1)}},b=async w=>{w.preventDefault(),n(!0);try{const{updateData:N,SHEETS:S}=await Me(async()=>{const{updateData:P,SHEETS:A}=await Promise.resolve().then(()=>$e);return{updateData:P,SHEETS:A}},void 0);if(e!=null&&e.id){const P={id:e.id,notificationSettings:h},A=await N(S.USERS,P);if(A.success)i(!0),setTimeout(()=>i(!1),2e3);else throw new Error(A.error||"Gagal mengupdate notifikasi")}}catch(N){console.error("Error updating notifications:",N),alert(N instanceof Error?N.message:"Terjadi kesalahan saat mengupdate notifikasi")}finally{n(!1)}},v=w=>{switch(w){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";default:return"warning"}},y=[{id:"profile",label:"Profile",icon:El},{id:"password",label:"Password",icon:mv},{id:"notifications",label:"Notifikasi",icon:qh}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Pengaturan Akun"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola informasi akun dan preferensi Anda"})]}),a.jsx(ke,{className:"p-6 bg-gradient-to-r from-primary-50 to-indigo-50 border-primary-200",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white text-2xl font-bold",children:((x=e==null?void 0:e.nama)==null?void 0:x.charAt(0).toUpperCase())||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:(e==null?void 0:e.nama)||"User"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400",children:(e==null?void 0:e.email)||"user@example.com"}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsxs(Ae,{variant:v((e==null?void 0:e.role)||"user"),children:[a.jsx(c_,{className:"h-3 w-3 mr-1"}),((j=e==null?void 0:e.role)==null?void 0:j.toUpperCase())||"USER"]}),a.jsx(Ae,{variant:"primary",children:(e==null?void 0:e.plant)||"NPK2"})]})]}),a.jsx(se,{variant:"secondary",onClick:t,children:"Logout"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx(ke,{className:"p-4 h-fit",children:a.jsx("nav",{className:"space-y-1",children:y.map(w=>a.jsxs("button",{onClick:()=>l(w.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-colors ${o===w.id?"bg-primary-100 text-primary-700 font-medium":"text-dark-600 hover:bg-dark-50"}`,children:[a.jsx(w.icon,{className:"h-5 w-5"}),w.label]},w.id))})}),a.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(El,{className:"h-5 w-5"}),"Informasi Profile"]})}),a.jsx(pn,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx(fe,{label:"Nama Lengkap",type:"text",value:c.nama,onChange:w=>u(N=>({...N,nama:w.target.value})),required:!0}),a.jsx(fe,{label:"Email",type:"email",value:c.email,onChange:w=>u(N=>({...N,email:w.target.value})),required:!0}),a.jsx(fe,{label:"No. Telepon",type:"tel",value:c.phone,onChange:w=>u(N=>({...N,phone:w.target.value})),placeholder:"08xxxxxxxxxx"}),a.jsx(ze,{label:"Department",value:c.department,onChange:w=>u(N=>({...N,department:w.target.value})),options:[{value:"Produksi",label:"Produksi"},{value:"Maintenance",label:"Maintenance"},{value:"Quality Control",label:"Quality Control"},{value:"HSE",label:"HSE"},{value:"Admin",label:"Admin"}]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(se,{type:"submit",isLoading:r,children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Simpan Perubahan"]})})]})})]}),o==="password"&&a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(mv,{className:"h-5 w-5"}),"Ubah Password"]})}),a.jsx(pn,{children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsx(fe,{label:"Password Saat Ini",type:"password",value:d.currentPassword,onChange:w=>f(N=>({...N,currentPassword:w.target.value})),required:!0}),a.jsx(fe,{label:"Password Baru",type:"password",value:d.newPassword,onChange:w=>f(N=>({...N,newPassword:w.target.value})),required:!0}),a.jsx(fe,{label:"Konfirmasi Password Baru",type:"password",value:d.confirmPassword,onChange:w=>f(N=>({...N,confirmPassword:w.target.value})),required:!0}),a.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-200",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:"Tips:"})," Password minimal 8 karakter, kombinasi huruf besar, huruf kecil, dan angka."]})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(se,{type:"submit",isLoading:r,children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})})]}),o==="notifications"&&a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(qh,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]})}),a.jsx(pn,{children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Notifikasi Umum"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Terima notifikasi via email"})]}),a.jsx("input",{type:"checkbox",checked:h.emailNotifications,onChange:w=>p(N=>({...N,emailNotifications:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi browser/app"})]}),a.jsx("input",{type:"checkbox",checked:h.pushNotifications,onChange:w=>p(N=>({...N,pushNotifications:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Laporan"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Harian"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi harian"})]}),a.jsx("input",{type:"checkbox",checked:h.dailyReport,onChange:w=>p(N=>({...N,dailyReport:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Laporan Mingguan"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Ringkasan produksi mingguan"})]}),a.jsx("input",{type:"checkbox",checked:h.weeklyReport,onChange:w=>p(N=>({...N,weeklyReport:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:"Alert"}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Downtime"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi saat terjadi downtime"})]}),a.jsx("input",{type:"checkbox",checked:h.alertDowntime,onChange:w=>p(N=>({...N,alertDowntime:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-dark-50 rounded-xl cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:"Alert Work Request"}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Notifikasi work request baru"})]}),a.jsx("input",{type:"checkbox",checked:h.alertWorkRequest,onChange:w=>p(N=>({...N,alertWorkRequest:w.target.checked})),className:"w-5 h-5 text-primary-600 rounded"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs(se,{type:"submit",isLoading:r,children:[a.jsx(fh,{className:"h-4 w-4 mr-2"}),"Simpan Pengaturan"]})})]})})]})]})]}),a.jsx(Vt,{isVisible:s,message:"Perubahan berhasil disimpan!",onClose:()=>i(!1)})]})},Xf=[{key:"januari",label:"Januari"},{key:"februari",label:"Februari"},{key:"maret",label:"Maret"},{key:"april",label:"April"},{key:"mei",label:"Mei"},{key:"juni",label:"Juni"},{key:"juli",label:"Juli"},{key:"agustus",label:"Agustus"},{key:"september",label:"September"},{key:"oktober",label:"Oktober"},{key:"november",label:"November"},{key:"desember",label:"Desember"}],lu={tahun:new Date().getFullYear().toString(),plant:"NPK2",januari:0,februari:0,maret:0,april:0,mei:0,juni:0,juli:0,agustus:0,september:0,oktober:0,november:0,desember:0,total:0},XT=[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"},{value:"2027",label:"2027"}],ype=()=>{var Z;const{user:e}=et(),[t,r]=k.useState([]),[n,s]=k.useState([]),[i,o]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(null),[m,b]=k.useState(null),[v,y]=k.useState(lu),[x,j]=k.useState((e==null?void 0:e.plant)||"ALL"),[w,N]=k.useState(new Date().getFullYear().toString());k.useEffect(()=>{(async()=>{o(!0);try{const{readData:Q,fetchDataByPlant:le,SHEETS:ce}=await Me(async()=>{const{readData:ue,fetchDataByPlant:ve,SHEETS:ae}=await Promise.resolve().then(()=>$e);return{readData:ue,fetchDataByPlant:ve,SHEETS:ae}},void 0),pe=await Q(ce.RKAP);pe.success&&pe.data?r(pe.data):r([]);const ye=await le(ce.PRODUKSI_NPK);ye.success&&ye.data?s(ye.data):s([])}catch(Q){console.error("Error fetching data:",Q),r([]),s([])}finally{o(!1)}})()},[]),k.useEffect(()=>{const B=Xf.reduce((Q,le)=>Q+(Number(v[le.key])||0),0);y(Q=>({...Q,total:B}))},[v.januari,v.februari,v.maret,v.april,v.mei,v.juni,v.juli,v.agustus,v.september,v.oktober,v.november,v.desember]);const S=k.useMemo(()=>{const B={},Q=n.filter(le=>{const pe=new Date(le.tanggal).getFullYear().toString()===w,ye=x==="ALL"||le._plant===x;return pe&&ye});return Xf.forEach((le,ce)=>{const pe=Q.filter(ye=>new Date(ye.tanggal).getMonth()===ce);B[le.key]=pe.reduce((ye,ue)=>ye+(oe(ue.total)||oe(ue.shiftMalamOnspek)+oe(ue.shiftMalamOffspek)+oe(ue.shiftPagiOnspek)+oe(ue.shiftPagiOffspek)+oe(ue.shiftSoreOnspek)+oe(ue.shiftSoreOffspek)),0)}),B},[n,w,x]),A=k.useMemo(()=>t.filter(B=>{var ce;const Q=((ce=B.tahun)==null?void 0:ce.toString())===w,le=x==="ALL"||B.plant===x;return Q&&le}),[t,w,x])[0],$=async B=>{B.preventDefault(),o(!0);try{const{createData:Q,updateData:le,SHEETS:ce}=await Me(async()=>{const{createData:pe,updateData:ye,SHEETS:ue}=await Promise.resolve().then(()=>$e);return{createData:pe,updateData:ye,SHEETS:ue}},void 0);if(p){const pe={...v,id:p},ye=await le(ce.RKAP,pe);if(ye.success)r(ue=>ue.map(ve=>ve.id===p?{...v,id:p}:ve));else throw new Error(ye.error||"Gagal mengupdate data")}else{const pe=await Q(ce.RKAP,v);if(pe.success&&pe.data)r(ye=>[pe.data,...ye]);else throw new Error(pe.error||"Gagal menyimpan data")}c(!1),y(lu),g(null),h(!0),setTimeout(()=>h(!1),2e3)}catch(Q){console.error("Error saving data:",Q),alert(Q instanceof Error?Q.message:"Terjadi kesalahan saat menyimpan data")}finally{o(!1)}},I=B=>{y(B),g(B.id||null),c(!0)},E=B=>{b(B),d(!0)},_=async()=>{if(m){o(!0);try{const{deleteData:B,SHEETS:Q}=await Me(async()=>{const{deleteData:ce,SHEETS:pe}=await Promise.resolve().then(()=>$e);return{deleteData:ce,SHEETS:pe}},void 0),le=await B(Q.RKAP,m);if(le.success)r(ce=>ce.filter(pe=>pe.id!==m)),d(!1),b(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(le.error||"Gagal menghapus data")}catch(B){console.error("Error deleting data:",B),alert(B instanceof Error?B.message:"Terjadi kesalahan saat menghapus data")}finally{o(!1)}}},U=()=>{y({...lu,tahun:w,plant:x==="ALL"?"NPK2":x}),g(null),c(!0)},K=(B,Q)=>{y(le=>({...le,[B]:parseFloat(Q)||0}))},Y=(A==null?void 0:A.total)||0,ne=Object.values(S).reduce((B,Q)=>B+Q,0),D=Y>0?(ne/Y*100).toFixed(1):"0",R=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp",z=k.useCallback(()=>{if(l&&!i){const B=document.querySelector("form");B&&B.requestSubmit()}},[l,i]);tr(z,l);const V=x==="ALL"?"Semua Plant":x==="NPK1"?"NPK Plant 1":"NPK Plant 2";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"RKAP (Target Produksi)"}),a.jsxs("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:["Rencana Kerja dan Anggaran Perusahaan - ",V]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{value:w,onChange:B=>N(B.target.value),options:XT,className:"w-32"}),(e==null?void 0:e.plant)==="ALL"&&a.jsx(ze,{value:x,onChange:B=>j(B.target.value),options:[{value:"ALL",label:"Semua Plant"},{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"}],className:"w-40"}),R&&(A?a.jsxs(se,{onClick:()=>I(A),children:[a.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Edit Target"]}):a.jsxs(se,{onClick:U,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Buat Target"]}))]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{className:"p-4 bg-gradient-to-br from-primary-50 to-indigo-50 border-primary-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:a.jsx(Cm,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["Total Target RKAP ",w]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[X(Y)," Ton"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:a.jsx(ro,{className:"h-6 w-6 text-secondary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Realisasi"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary-600",children:[X(ne)," Ton"]})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl ${Number(D)>=100?"bg-green-100":"bg-amber-100"}`,children:a.jsx(ra,{className:`h-6 w-6 ${Number(D)>=100?"text-green-600":"text-amber-600"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Pencapaian"}),a.jsxs("p",{className:`text-2xl font-bold ${Number(D)>=100?"text-green-600":"text-amber-600"}`,children:[D,"%"]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(st,{children:["Perbandingan Target vs Realisasi Bulanan - ",w]}),a.jsx(Ae,{variant:A?"success":"warning",children:A?"Target Tersedia":"Belum Ada Target"})]})}),a.jsx(pn,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-dark-600",children:"Bulan"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Target RKAP (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Realisasi (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Selisih (Ton)"}),a.jsx("th",{className:"text-right py-3 px-4 font-semibold text-dark-600",children:"Pencapaian"})]})}),a.jsxs("tbody",{children:[Xf.map(B=>{const Q=Number(A==null?void 0:A[B.key])||0,le=S[B.key]||0,ce=le-Q,pe=Q>0?(le/Q*100).toFixed(1):"0";return a.jsxs("tr",{className:"border-b border-dark-100 hover:bg-dark-50",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:B.label}),a.jsx("td",{className:"py-3 px-4 text-right text-primary-600 font-semibold",children:X(Q)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-600 font-semibold",children:X(le)}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${ce>=0?"text-green-600":"text-red-600"}`,children:[ce>=0?"+":"",X(ce)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Ae,{variant:Number(pe)>=100?"success":Number(pe)>=80?"warning":"danger",children:[pe,"%"]})})]},B.key)}),a.jsxs("tr",{className:"bg-dark-100 font-bold",children:[a.jsx("td",{className:"py-3 px-4",children:"TOTAL"}),a.jsx("td",{className:"py-3 px-4 text-right text-primary-700",children:X(Y)}),a.jsx("td",{className:"py-3 px-4 text-right text-secondary-700",children:X(ne)}),a.jsxs("td",{className:`py-3 px-4 text-right ${ne-Y>=0?"text-green-700":"text-red-700"}`,children:[ne-Y>=0?"+":"",X(ne-Y)]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsxs(Ae,{variant:Number(D)>=100?"success":"warning",className:"text-base",children:[D,"%"]})})]})]})]})})})]}),R&&A&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(se,{variant:"danger",onClick:()=>E(A.id),children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Hapus Target RKAP ",w]})}),a.jsx(Ge,{isOpen:l,onClose:()=>{c(!1),y(lu),g(null)},title:p?`Edit Target RKAP ${v.tahun}`:"Buat Target RKAP Baru",size:"lg",children:a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ze,{label:"Tahun",value:((Z=v.tahun)==null?void 0:Z.toString())||"",onChange:B=>y(Q=>({...Q,tahun:B.target.value})),options:XT,required:!0,disabled:!!p}),a.jsx(ze,{label:"Plant",value:v.plant||"NPK2",onChange:B=>y(Q=>({...Q,plant:B.target.value})),options:[{value:"NPK1",label:"NPK Plant 1"},{value:"NPK2",label:"NPK Plant 2"}],required:!0,disabled:!!p})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-dark-700 border-b pb-2",children:"Target Bulanan (Ton)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Xf.map(B=>a.jsx(fe,{label:B.label,type:"number",value:v[B.key]||"",onChange:Q=>K(B.key,Q.target.value),placeholder:"0",min:"0"},B.key))})]}),a.jsx("div",{className:"bg-primary-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-dark-700",children:"Total Target Tahunan:"}),a.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[X(v.total||0)," Ton"]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{c(!1),y(lu),g(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:i,children:p?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:u,onClose:()=>{d(!1),b(null)},onConfirm:_,title:"Hapus Target RKAP",message:`Apakah Anda yakin ingin menghapus target RKAP tahun ${w}?`,confirmText:"Hapus",variant:"danger",isLoading:i}),a.jsx(Vt,{isVisible:f,message:"Data berhasil disimpan!",onClose:()=>h(!1)})]})},cu={username:"",nama:"",namaLengkap:"",email:"",password:"",role:"user",plant:"NPK2",status:"active"},bpe=()=>{const{user:e}=et(),[t,r]=k.useState([]),[n,s]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(null),[p,g]=k.useState(null),[m,b]=k.useState(cu),[v,y]=k.useState(""),[x,j]=k.useState("ALL"),w=[{value:"admin",label:"Admin"},{value:"supervisor",label:"Supervisor"},{value:"user",label:"User"},{value:"avp",label:"AVP"},{value:"manager",label:"Manager"},{value:"eksternal",label:"Eksternal"}],N=[{value:"NPK1",label:"NPK 1"},{value:"NPK2",label:"NPK 2"},{value:"ALL",label:"Semua Plant"}];k.useEffect(()=>{(async()=>{s(!0);try{const{readData:V,SHEETS:Z}=await Me(async()=>{const{readData:Q,SHEETS:le}=await Promise.resolve().then(()=>$e);return{readData:Q,SHEETS:le}},void 0),B=await V(Z.USERS);if(B.success&&B.data){const Q=[...B.data].sort((le,ce)=>(le.nama||"").localeCompare(ce.nama||""));r(Q)}else r([])}catch(V){console.error("Error fetching data:",V),r([])}finally{s(!1)}})()},[]);const S=async z=>{var V;z.preventDefault(),s(!0);try{const{createData:Z,updateData:B,SHEETS:Q}=await Me(async()=>{const{createData:ce,updateData:pe,SHEETS:ye}=await Promise.resolve().then(()=>$e);return{createData:ce,updateData:pe,SHEETS:ye}},void 0),le={...m,username:m.username||((V=m.email)==null?void 0:V.split("@")[0])||"",namaLengkap:m.namaLengkap||m.nama||""};if(f&&!le.password&&delete le.password,f){const ce={...le,id:f,updatedAt:new Date().toISOString()},pe=await B(Q.USERS,ce);if(pe.success)r(ye=>ye.map(ue=>ue.id===f?{...le,id:f,updatedAt:new Date().toISOString()}:ue));else throw new Error(pe.error||"Gagal mengupdate data")}else{const ce={...le,createdAt:new Date().toISOString()},pe=await Z(Q.USERS,ce);if(pe.success&&pe.data){const ye={...ce,...pe.data};r(ue=>[ye,...ue])}else throw new Error(pe.error||"Gagal menyimpan data")}o(!1),b(cu),h(null),d(!0),setTimeout(()=>d(!1),2e3)}catch(Z){console.error("Error saving data:",Z),alert(Z instanceof Error?Z.message:"Terjadi kesalahan saat menyimpan data")}finally{s(!1)}},P=z=>{b({...z,password:"",namaLengkap:z.namaLengkap||z.nama||""}),h(z.id||null),o(!0)},A=z=>{g(z),c(!0)},$=async()=>{if(p){s(!0);try{const{deleteData:z,SHEETS:V}=await Me(async()=>{const{deleteData:B,SHEETS:Q}=await Promise.resolve().then(()=>$e);return{deleteData:B,SHEETS:Q}},void 0),Z=await z(V.USERS,p);if(Z.success)r(B=>B.filter(Q=>Q.id!==p)),c(!1),g(null),d(!0),setTimeout(()=>d(!1),2e3);else throw new Error(Z.error||"Gagal menghapus data")}catch(z){console.error("Error deleting data:",z),alert(z instanceof Error?z.message:"Terjadi kesalahan saat menghapus data")}finally{s(!1)}}},I=async z=>{const V=t.find(Z=>Z.id===z);if(V)try{const{updateData:Z,SHEETS:B}=await Me(async()=>{const{updateData:pe,SHEETS:ye}=await Promise.resolve().then(()=>$e);return{updateData:pe,SHEETS:ye}},void 0),Q=V.status==="active"?"inactive":"active",le={...V,status:Q},ce=await Z(B.USERS,le);if(ce.success)r(pe=>pe.map(ye=>ye.id===z?{...ye,status:Q}:ye));else throw new Error(ce.error||"Gagal mengupdate status")}catch(Z){console.error("Error toggling status:",Z),alert(Z instanceof Error?Z.message:"Terjadi kesalahan saat mengubah status")}},E=()=>{b(cu),h(null),o(!0)},_=t.filter(z=>{var B,Q,le,ce;const V=((B=z.nama)==null?void 0:B.toLowerCase().includes(v.toLowerCase()))||((Q=z.namaLengkap)==null?void 0:Q.toLowerCase().includes(v.toLowerCase()))||((le=z.username)==null?void 0:le.toLowerCase().includes(v.toLowerCase()))||((ce=z.email)==null?void 0:ce.toLowerCase().includes(v.toLowerCase())),Z=x==="ALL"||z.role===x;return V&&Z}),U=z=>{switch(z){case"admin":return"danger";case"supervisor":return"primary";case"manager":return"info";case"avp":return"success";case"eksternal":return"warning";default:return"primary"}},K=[{key:"nama",header:"User",render:(z,V)=>{var Z;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-semibold",children:(Z=V.namaLengkap||V.nama||V.username||"U")==null?void 0:Z.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:V.namaLengkap||V.nama||V.username}),a.jsxs("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:["@",V.username,"  ",V.email]})]})]})}},{key:"role",header:"Role",render:z=>a.jsxs(Ae,{variant:U(z),children:[a.jsx(c_,{className:"h-3 w-3 mr-1"}),z.toUpperCase()]})},{key:"plant",header:"Plant",render:z=>a.jsx(Ae,{variant:"info",children:z})},{key:"status",header:"Status",render:(z,V)=>a.jsx("button",{onClick:Z=>{Z.stopPropagation(),I(V.id)},className:"flex items-center gap-2",children:z==="active"?a.jsxs(Ae,{variant:"success",children:[a.jsx(NS,{className:"h-3 w-3 mr-1"}),"Active"]}):a.jsxs(Ae,{variant:"danger",children:[a.jsx(PS,{className:"h-3 w-3 mr-1"}),"Inactive"]})})},{key:"createdAt",header:"Dibuat",render:z=>Ve(z)}],Y=(e==null?void 0:e.role)==="admin",ne=k.useCallback(()=>{if(i&&!n){const z=document.querySelector("form");z&&z.requestSubmit()}},[i,n]);tr(ne,i);const D=_.filter(z=>z.status==="active").length,R=_.filter(z=>z.status==="inactive").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Manajemen User"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola pengguna sistem"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{value:x,onChange:z=>j(z.target.value),options:[{value:"ALL",label:"Semua Role"},...w],className:"w-40"}),Y&&a.jsxs(se,{onClick:E,children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:a.jsx(Xh,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:_.length})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(NS,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:D})]})]})}),a.jsx(ke,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(PS,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Inactive Users"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:R})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Daftar User"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari user...",value:v,onChange:z=>y(z.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:_,columns:K,loading:n,searchable:!1,actions:Y?z=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:V=>{V.stopPropagation(),P(z)},children:a.jsx(Gt,{className:"h-4 w-4 text-primary-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:V=>{V.stopPropagation(),A(z.id)},children:a.jsx(Dt,{className:"h-4 w-4 text-red-600"})})]}):void 0})]}),a.jsx(Ge,{isOpen:i,onClose:()=>{o(!1),b(cu),h(null)},title:f?"Edit User":"Tambah User Baru",size:"md",children:a.jsxs("form",{onSubmit:S,className:"space-y-4",autoComplete:"off",children:[a.jsx(fe,{label:"Username",type:"text",value:m.username,onChange:z=>b(V=>({...V,username:z.target.value})),placeholder:"Username untuk login",required:!0,disabled:!!f,autoComplete:"off",name:"new-username"}),a.jsx(fe,{label:"Nama Lengkap",type:"text",value:m.namaLengkap,onChange:z=>b(V=>({...V,namaLengkap:z.target.value,nama:z.target.value})),placeholder:"Nama lengkap",required:!0,autoComplete:"off"}),a.jsx(fe,{label:"Email",type:"email",value:m.email,onChange:z=>b(V=>({...V,email:z.target.value})),placeholder:"email@example.com",required:!0,autoComplete:"off"}),a.jsx(fe,{label:f?"Password Baru (kosongkan jika tidak diubah)":"Password",type:"password",value:m.password,onChange:z=>b(V=>({...V,password:z.target.value})),placeholder:"",required:!f,autoComplete:"new-password",name:"new-password"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ze,{label:"Role",value:m.role,onChange:z=>b(V=>({...V,role:z.target.value})),options:w,required:!0}),a.jsx(ze,{label:"Plant",value:m.plant,onChange:z=>b(V=>({...V,plant:z.target.value})),options:N,required:!0})]}),a.jsx(ze,{label:"Status",value:m.status,onChange:z=>b(V=>({...V,status:z.target.value})),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{type:"button",variant:"secondary",onClick:()=>{o(!1),b(cu),h(null)},children:"Batal"}),a.jsx(se,{type:"submit",isLoading:n,children:f?"Update":"Simpan"})]})]})}),a.jsx(qt,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:$,title:"Hapus User",message:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",variant:"danger",isLoading:n}),a.jsx(Vt,{isVisible:u,message:"Data berhasil disimpan!",onClose:()=>d(!1)})]})},kpe=()=>{const{user:e}=et(),[t,r]=k.useState([]),[n,s]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(null),[m,b]=k.useState(""),[v,y]=k.useState("pending"),[x,j]=k.useState("");k.useEffect(()=>{(async()=>{s(!0);try{const{readData:R,SHEETS:z}=await Me(async()=>{const{readData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{readData:Z,SHEETS:B}},void 0),V=await R(z.APPROVAL_REQUESTS);if(V.success&&V.data){const Z=[...V.data].sort((B,Q)=>new Date(Q.submittedAt||0).getTime()-new Date(B.submittedAt||0).getTime());r(Z)}else r([])}catch(R){console.error("Error fetching data:",R),r([])}finally{s(!1)}})()},[]);const w=async()=>{if(p){s(!0);try{const{updateData:D,SHEETS:R}=await Me(async()=>{const{updateData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{updateData:Z,SHEETS:B}},void 0),z={...p,status:"approved"},V=await D(R.APPROVAL_REQUESTS,z);if(V.success)r(Z=>Z.map(B=>B.id===p.id?{...B,status:"approved"}:B)),c(!1),g(null),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(V.error||"Gagal approve data")}catch(D){console.error("Error approving:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat approve")}finally{s(!1)}}},N=async()=>{if(p){s(!0);try{const{updateData:D,SHEETS:R}=await Me(async()=>{const{updateData:Z,SHEETS:B}=await Promise.resolve().then(()=>$e);return{updateData:Z,SHEETS:B}},void 0),z={...p,status:"rejected",rejectReason:x},V=await D(R.APPROVAL_REQUESTS,z);if(V.success)r(Z=>Z.map(B=>B.id===p.id?{...B,status:"rejected"}:B)),d(!1),g(null),j(""),h(!0),setTimeout(()=>h(!1),2e3);else throw new Error(V.error||"Gagal reject data")}catch(D){console.error("Error rejecting:",D),alert(D instanceof Error?D.message:"Terjadi kesalahan saat reject")}finally{s(!1)}}},S=D=>{g(D),o(!0)},P=D=>{g(D),c(!0)},A=D=>{g(D),d(!0)},$=t.filter(D=>{var V,Z,B;const R=((V=D.title)==null?void 0:V.toLowerCase().includes(m.toLowerCase()))||((Z=D.description)==null?void 0:Z.toLowerCase().includes(m.toLowerCase()))||((B=D.submittedBy)==null?void 0:B.toLowerCase().includes(m.toLowerCase())),z=v==="all"||D.status===v;return R&&z}),I=D=>{switch(D){case"work_request":return{variant:"primary",label:"Work Request"};case"gate_pass":return{variant:"info",label:"Gate Pass"};case"downtime":return{variant:"warning",label:"Downtime"};case"trouble_record":return{variant:"danger",label:"Trouble Record"};default:return{variant:"info",label:D}}},E=D=>{switch(D){case"pending":return{variant:"warning",icon:Va,label:"Pending"};case"approved":return{variant:"success",icon:tl,label:"Approved"};case"rejected":return{variant:"danger",icon:gu,label:"Rejected"};default:return{variant:"info",icon:Va,label:D}}},_=[{key:"title",header:"Judul",render:(D,R)=>a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-dark-900 dark:text-white",children:D}),a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400 line-clamp-1",children:R.description})]})},{key:"type",header:"Tipe",render:D=>{const R=I(D);return a.jsx(Ae,{variant:R.variant,children:R.label})}},{key:"submittedBy",header:"Diajukan Oleh"},{key:"submittedAt",header:"Tanggal",render:D=>Ve(D)},{key:"status",header:"Status",render:D=>{const R=E(D);return a.jsxs(Ae,{variant:R.variant,children:[a.jsx(R.icon,{className:"h-3 w-3 mr-1"}),R.label]})}}],U=t.filter(D=>D.status==="pending").length,K=t.filter(D=>D.status==="approved").length,Y=t.filter(D=>D.status==="rejected").length,ne=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor"||(e==null?void 0:e.role)==="manager"||(e==null?void 0:e.role)==="avp";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-dark-900 dark:text-white",children:"Approval"}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:"Kelola persetujuan dokumen dan request"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(ze,{value:v,onChange:D=>y(D.target.value),options:[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-40"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{className:"p-4 border-l-4 border-l-amber-500 cursor-pointer hover:bg-amber-50 transition-colors",onClick:()=>y("pending"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:a.jsx(Va,{className:"h-6 w-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Menunggu Approval"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:U})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50 transition-colors",onClick:()=>y("approved"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(tl,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:K})]})]})}),a.jsx(ke,{className:"p-4 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50 transition-colors",onClick:()=>y("rejected"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(gu,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y})]})]})})]}),a.jsxs(ke,{children:[a.jsx(at,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Daftar Approval"}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-dark-400"}),a.jsx(fe,{type:"text",placeholder:"Cari...",value:m,onChange:D=>b(D.target.value),className:"pl-9 w-64"})]})]})}),a.jsx(er,{data:$,columns:_,loading:n,searchable:!1,actions:D=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),S(D)},children:a.jsx(ki,{className:"h-4 w-4 text-dark-600"})}),ne&&D.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(se,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),P(D)},children:a.jsx(tl,{className:"h-4 w-4 text-green-600"})}),a.jsx(se,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),A(D)},children:a.jsx(gu,{className:"h-4 w-4 text-red-600"})})]})]})})]}),a.jsx(Ge,{isOpen:i,onClose:()=>{o(!1),g(null)},title:"Detail Approval",size:"md",children:p&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-dark-50 rounded-xl",children:[a.jsx(ia,{className:"h-10 w-10 text-primary-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-dark-900 dark:text-white",children:p.title}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-1",children:p.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tipe"}),a.jsx(Ae,{variant:I(p.type).variant,children:I(p.type).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Status"}),a.jsx(Ae,{variant:E(p.status).variant,children:E(p.status).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Diajukan Oleh"}),a.jsx("p",{className:"font-medium",children:p.submittedBy})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:"Tanggal"}),a.jsx("p",{className:"font-medium",children:Ve(p.submittedAt)})]})]}),p.data&&a.jsxs("div",{className:"p-4 bg-dark-50 rounded-xl",children:[a.jsx("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Detail Data:"}),a.jsx("div",{className:"space-y-1",children:Object.entries(p.data).map(([D,R])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-dark-500 dark:text-dark-400 capitalize",children:[D.replace(/([A-Z])/g," $1").trim(),":"]}),a.jsx("span",{className:"font-medium",children:String(R)})]},D))})]}),ne&&p.status==="pending"&&a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsxs(se,{variant:"danger",onClick:()=>{o(!1),A(p)},children:[a.jsx(gu,{className:"h-4 w-4 mr-2"}),"Reject"]}),a.jsxs(se,{variant:"success",onClick:()=>{o(!1),P(p)},children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]})}),a.jsx(qt,{isOpen:l,onClose:()=>{c(!1),g(null)},onConfirm:w,title:"Approve Request",message:`Apakah Anda yakin ingin menyetujui "${p==null?void 0:p.title}"?`,confirmText:"Approve",variant:"info",isLoading:n}),a.jsx(Ge,{isOpen:u,onClose:()=>{d(!1),g(null),j("")},title:"Reject Request",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-dark-600",children:['Apakah Anda yakin ingin menolak "',p==null?void 0:p.title,'"?']}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-dark-700 mb-1",children:"Alasan Penolakan (opsional)"}),a.jsx("textarea",{value:x,onChange:D=>j(D.target.value),placeholder:"Masukkan alasan penolakan...",className:"input-field min-h-[80px]"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(se,{variant:"secondary",onClick:()=>{d(!1),g(null),j("")},children:"Batal"}),a.jsx(se,{variant:"danger",onClick:N,isLoading:n,children:"Reject"})]})]})}),a.jsx(Vt,{isVisible:f,message:"Berhasil!",onClose:()=>h(!1)})]})},wpe=({children:e})=>{const{isLoggedIn:t}=et();return t?a.jsx(a.Fragment,{children:e}):a.jsx(fo,{to:"/login",replace:!0})},jpe=({children:e})=>{const{isLoggedIn:t}=et();return t?a.jsx(fo,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e})},QT=({children:e})=>{const{user:t}=et(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return ME(r,n)?a.jsx(a.Fragment,{children:e}):a.jsx(fo,{to:"/dashboard",replace:!0})},Spe=({children:e})=>{const{user:t}=et(),r=(t==null?void 0:t.role)||"",n=t==null?void 0:t.plant;return $E(r,n)?a.jsx(a.Fragment,{children:e}):a.jsx(fo,{to:"/dashboard",replace:!0})},Npe=({children:e})=>{const{user:t}=et(),r=(t==null?void 0:t.role)||"";return RE(r)?a.jsx(a.Fragment,{children:e}):a.jsx(fo,{to:"/dashboard",replace:!0})};function Ppe(){return a.jsxs(a.Fragment,{children:[a.jsxs(LR,{children:[a.jsx(Fe,{path:"/login",element:a.jsx(jpe,{children:a.jsx(xK,{})})}),a.jsxs(Fe,{path:"/",element:a.jsx(wpe,{children:a.jsx(gK,{})}),children:[a.jsx(Fe,{index:!0,element:a.jsx(fo,{to:"/dashboard",replace:!0})}),a.jsx(Fe,{path:"dashboard",element:a.jsx(Zhe,{})}),a.jsxs(Fe,{path:"produksi",children:[a.jsx(Fe,{path:"npk1",element:a.jsx(_T,{plant:"NPK1"})}),a.jsx(Fe,{path:"npk2",element:a.jsx(_T,{plant:"NPK2"})}),a.jsx(Fe,{path:"blending",element:a.jsx(DT,{type:"blending"})}),a.jsx(Fe,{path:"retail",element:a.jsx(DT,{type:"retail"})}),a.jsx(Fe,{path:"npk-mini",element:a.jsx(npe,{})})]}),a.jsxs(Fe,{path:"laporan",children:[a.jsx(Fe,{path:"kop-npk1",element:a.jsx(KT,{plant:"NPK1"})}),a.jsx(Fe,{path:"kop-npk2",element:a.jsx(KT,{plant:"NPK2"})}),a.jsx(Fe,{path:"downtime-npk1",element:a.jsx(MT,{plant:"NPK1"})}),a.jsx(Fe,{path:"downtime-npk2",element:a.jsx(MT,{plant:"NPK2"})}),a.jsx(Fe,{path:"timesheet-forklift-npk1",element:a.jsx($T,{plant:"NPK1"})}),a.jsx(Fe,{path:"timesheet-forklift-npk2",element:a.jsx($T,{plant:"NPK2"})}),a.jsx(Fe,{path:"timesheet-loader-npk1",element:a.jsx(IT,{plant:"NPK1"})}),a.jsx(Fe,{path:"timesheet-loader-npk2",element:a.jsx(IT,{plant:"NPK2"})}),a.jsx(Fe,{path:"pemantauan-bb-npk1",element:a.jsx(zT,{plant:"NPK1"})}),a.jsx(Fe,{path:"pemantauan-bb-npk2",element:a.jsx(zT,{plant:"NPK2"})})]}),a.jsxs(Fe,{path:"data",children:[a.jsx(Fe,{path:"inventaris",element:a.jsx(xpe,{})}),a.jsx(Fe,{path:"work-request-npk1",element:a.jsx(VT,{plant:"NPK1"})}),a.jsx(Fe,{path:"work-request-npk2",element:a.jsx(VT,{plant:"NPK2"})}),a.jsx(Fe,{path:"bahan-baku-npk1",element:a.jsx(HT,{plant:"NPK1"})}),a.jsx(Fe,{path:"bahan-baku-npk2",element:a.jsx(HT,{plant:"NPK2"})}),a.jsx(Fe,{path:"vibrasi-npk1",element:a.jsx(UT,{plant:"NPK1"})}),a.jsx(Fe,{path:"vibrasi-npk2",element:a.jsx(UT,{plant:"NPK2"})}),a.jsx(Fe,{path:"gate-pass-npk1",element:a.jsx(WT,{plant:"NPK1"})}),a.jsx(Fe,{path:"gate-pass-npk2",element:a.jsx(WT,{plant:"NPK2"})}),a.jsx(Fe,{path:"perbaikan-tahunan-npk1",element:a.jsx(GT,{plant:"NPK1"})}),a.jsx(Fe,{path:"perbaikan-tahunan-npk2",element:a.jsx(GT,{plant:"NPK2"})}),a.jsx(Fe,{path:"trouble-record-npk1",element:a.jsx(qT,{plant:"NPK1"})}),a.jsx(Fe,{path:"trouble-record-npk2",element:a.jsx(qT,{plant:"NPK2"})}),a.jsx(Fe,{path:"dokumentasi-foto-npk1",element:a.jsx(YT,{plant:"NPK1"})}),a.jsx(Fe,{path:"dokumentasi-foto-npk2",element:a.jsx(YT,{plant:"NPK2"})}),a.jsx(Fe,{path:"rekap-bbm-npk1",element:a.jsx(JT,{plant:"NPK1"})}),a.jsx(Fe,{path:"rekap-bbm-npk2",element:a.jsx(JT,{plant:"NPK2"})}),a.jsx(Fe,{path:"riksa-timb-portabel",element:a.jsx(dpe,{})}),a.jsx(Fe,{path:"perta",element:a.jsx(ope,{})})]}),a.jsxs(Fe,{path:"settings",children:[a.jsx(Fe,{path:"akun",element:a.jsx(QT,{children:a.jsx(vpe,{})})}),a.jsx(Fe,{path:"rkap",element:a.jsx(Npe,{children:a.jsx(ype,{})})}),a.jsx(Fe,{path:"users",element:a.jsx(Spe,{children:a.jsx(bpe,{})})}),a.jsx(Fe,{path:"approval",element:a.jsx(QT,{children:a.jsx(kpe,{})})})]})]}),a.jsx(Fe,{path:"*",element:a.jsx(fo,{to:"/dashboard",replace:!0})})]}),a.jsx(aK,{})]})}const Tpe=()=>{var t;const e=localStorage.getItem("ui-storage");if(e)try{const r=JSON.parse(e);((t=r.state)==null?void 0:t.darkMode)===!0&&(r.state.darkMode=!1,localStorage.setItem("ui-storage",JSON.stringify(r)))}catch{localStorage.removeItem("ui-storage")}document.documentElement.classList.remove("dark")};Tpe();t0.createRoot(document.getElementById("root")).render(a.jsx(ee.StrictMode,{children:a.jsx(UR,{children:a.jsx(Ppe,{})})}));
