@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   DESIGN TOKENS — Enterprise Industrial Dashboard
   Modern Control Room / SaaS (2025–2026)
   ============================================ */

@layer base {
  :root {
    /* Radius */
    --radius: 0.5rem;

    /* Light Mode — Neutral/Slate base, blue accent */
    --background: 0 0% 98.5%;
    --foreground: 220 15% 13%;
    --card: 0 0% 100%;
    --card-foreground: 220 15% 13%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 13%;
    --primary: 211 90% 42%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 220 15% 20%;
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;
    --accent: 220 14% 96%;
    --accent-foreground: 220 15% 20%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 211 90% 42%;
  }

  .dark {
    --background: 222 47% 6%;
    --foreground: 210 20% 95%;
    --card: 222 47% 9%;
    --card-foreground: 210 20% 95%;
    --popover: 222 47% 9%;
    --popover-foreground: 210 20% 95%;
    --primary: 211 90% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 217 33% 14%;
    --secondary-foreground: 210 20% 90%;
    --muted: 217 33% 14%;
    --muted-foreground: 215 20% 55%;
    --accent: 217 33% 14%;
    --accent-foreground: 210 20% 90%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 211 90% 50%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ============================================
   COMPONENT LAYER — Enterprise UI Classes
   ============================================ */

@layer components {
  /* === Buttons (legacy compat) === */
  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white
           bg-primary-600 rounded-lg
           hover:bg-primary-700
           focus:outline-none focus:ring-2 focus:ring-primary-500/40 focus:ring-offset-2
           transition-colors duration-150
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium
           text-foreground bg-secondary border border-border rounded-lg
           hover:bg-muted
           focus:outline-none focus:ring-2 focus:ring-primary-500/40 focus:ring-offset-2
           transition-colors duration-150
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-danger {
    @apply inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white
           bg-red-600 rounded-lg
           hover:bg-red-700
           focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:ring-offset-2
           transition-colors duration-150
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-success {
    @apply inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white
           bg-emerald-600 rounded-lg
           hover:bg-emerald-700
           focus:outline-none focus:ring-2 focus:ring-emerald-500/40 focus:ring-offset-2
           transition-colors duration-150
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* === Input (legacy compat) === */
  .input-field {
    @apply w-full px-3.5 py-2.5 text-sm bg-background border border-input rounded-lg
           placeholder:text-muted-foreground
           focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-primary-500
           transition-colors duration-150
           disabled:bg-muted disabled:cursor-not-allowed;
  }

  .input-label {
    @apply block text-sm font-medium text-foreground mb-1.5;
  }

  /* === Card (legacy compat) === */
  .card {
    @apply bg-card rounded-lg border border-border shadow-soft overflow-hidden;
  }

  .card-header {
    @apply px-5 py-4 border-b border-border;
  }

  .card-body {
    @apply p-5;
  }

  /* === Badge (legacy compat) === */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-md;
  }

  .badge-primary {
    @apply badge bg-primary-50 text-primary-700 dark:bg-primary-950/50 dark:text-primary-300;
  }

  .badge-success {
    @apply badge bg-emerald-50 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-300;
  }

  .badge-warning {
    @apply badge bg-amber-50 text-amber-700 dark:bg-amber-950/50 dark:text-amber-300;
  }

  .badge-danger {
    @apply badge bg-red-50 text-red-700 dark:bg-red-950/50 dark:text-red-300;
  }

  .badge-info {
    @apply badge bg-cyan-50 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-300;
  }

  /* === Sidebar Navigation (legacy compat) === */
  .sidebar-link {
    @apply flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-muted-foreground rounded-lg
           hover:bg-accent hover:text-accent-foreground
           transition-colors duration-150;
  }

  .sidebar-link-active {
    @apply sidebar-link bg-primary-50 dark:bg-primary-950/30 text-primary-700 dark:text-primary-400;
  }

  /* === Table (legacy compat) === */
  .table-header {
    @apply px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider bg-muted/50;
  }

  .table-cell {
    @apply px-4 py-3 text-sm text-foreground whitespace-nowrap;
  }

  /* === Metric Card === */
  .metric-card {
    @apply card p-5 hover:shadow-soft-md transition-shadow duration-200;
  }

  /* === Page Structure === */
  .page-header {
    @apply mb-6;
  }

  .page-title {
    @apply text-xl font-display font-semibold text-foreground tracking-tight;
  }

  .page-description {
    @apply mt-0.5 text-sm text-muted-foreground;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-primary-400;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .animate-in {
    animation: fadeIn 0.3s ease-out forwards;
  }
}

/* ============================================
   MARQUEE (kept for backward compat)
   ============================================ */
.marquee-wrapper {
  position: relative;
  width: 100%;
  overflow: hidden;
}

.marquee-inner {
  display: inline-block;
  white-space: nowrap;
  padding-left: 100%;
  animation: marquee-slide linear infinite;
}

.marquee-wrapper.paused .marquee-inner {
  animation-play-state: paused;
}

@keyframes marquee-slide {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

@keyframes slide-slow {
  from { background-position: 0 0; }
  to { background-position: 50px 50px; }
}

.animate-slide-slow {
  animation: slide-slow 20s linear infinite;
}

.bg-grid-pattern {
  background-image:
    linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* ============================================
   SCROLLBAR — Minimal & Clean
   ============================================ */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-dark-300/50 dark:bg-dark-600/50 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-dark-400 dark:bg-dark-500;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 4px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  @apply bg-dark-200 dark:bg-dark-700 rounded-full;
}

/* ============================================
   GLASSMORPHISM
   ============================================ */
.glass {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.dark .glass {
  background: rgba(15, 23, 42, 0.8);
}

.glass-effect {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark .glass-effect {
  background: rgba(30, 30, 30, 0.7);
}

/* ============================================
   PRINT
   ============================================ */
@media print {
  body { @apply bg-white; }
  .no-print { display: none !important; }
  .print-break { page-break-before: always; }
}

/* ============================================
   MOBILE / PWA
   ============================================ */
@media (max-width: 1023px) {
  button, a, [role="button"] {
    min-height: 44px;
  }
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }
  .scroll-touch {
    -webkit-overflow-scrolling: touch;
  }
}

@supports (padding-top: env(safe-area-inset-top)) {
  .safe-top { padding-top: env(safe-area-inset-top); }
  .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
}

@media all and (display-mode: standalone) {
  body { overscroll-behavior-y: contain; }
  html { overscroll-behavior: none; }
}

@media screen and (max-width: 767px) {
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  textarea,
  select {
    font-size: 16px !important;
  }
}

.force-desktop-view {
  min-width: 1024px;
  overflow-x: auto;
}

html.force-desktop {
  overflow-x: auto;
}

html.force-desktop body {
  min-width: 1024px;
}
